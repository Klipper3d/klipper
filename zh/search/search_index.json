{"config":{"indexing":"full","lang":["ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Klipper\u662f3D\u6253\u5370\u673a\u56fa\u4ef6\u3002\u5b83\u5c06\u901a\u7528\u8ba1\u7b97\u673a\u7684\u8fd0\u7b97\u80fd\u529b\u4e0e\u4e00\u4e2a\u6216\u591a\u4e2a\u5fae\u63a7\u5236\u5668\u76f8\u7ed3\u5408\u3002\u6709\u5173Klipper\u7684\u4f18\u52bf\uff0c\u8bf7\u53c2\u9605 \u529f\u80fd \u6587\u6863\u3002 \u8981\u5f00\u59cb\u4f7f\u7528 Klipper\uff0c\u8bf7\u4ece \u5b89\u88c5\u6587\u6863 \u5f00\u59cb\u3002 Klipper\u662f\u81ea\u7531\u8f6f\u4ef6\u3002\u9605\u8bfb \u6587\u6863 \u6216\u67e5\u770b GitHub\u4e0a\u7684Klipper\u4ee3\u7801 \u3002","title":"\u6b22\u8fce"},{"location":"API_Server.html","text":"API \u670d\u52a1\u5668 \u00b6 \u8be5\u6587\u6863\u4ecb\u7ecdKlipper\u7684\u5e94\u7528\u5f00\u53d1\u8005\u63a5\u53e3\uff08API\uff09\u529f\u80fd\u3002\u8be5\u63a5\u53e3\u5141\u8bb8\u5916\u90e8\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u548c\u63a7\u5236Klipper\u4e3b\u673a\u3002 \u542f\u7528API\u5957\u63a5\u5b57 \u00b6 \u8981\u542f\u7528API\u670d\u52a1\u5668\uff0cklipper.py\u8fd0\u884c\u65f6\u5e94\u52a0\u4e0a -a \u53c2\u6570\u3002\u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -a /tmp/klippy_uds -l /tmp/klippy.log \u4e0a\u8ff0\u64cd\u4f5c\u4f1a\u4f7f\u4e3b\u673a\u521b\u5efa\u4e00\u4e2aUnix\u672c\u5730\u5957\u63a5\u5b57\u3002\u4e4b\u540e\uff0c\u5ba2\u6237\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5957\u63a5\u5b57\u94fe\u63a5\uff0c\u4ece\u800c\u7ed9Klipper\u53d1\u9001\u547d\u4ee4\u3002 See the Moonraker project for a popular tool that can forward HTTP requests to Klipper's API Server Unix Domain Socket. \u8bf7\u6c42\u683c\u5f0f \u00b6 \u5957\u63a5\u5b57\u8fdb\u51fa\u7684\u6570\u636e\u5305\u5e94\u4f7f\u7528JSON\u7f16\u7801\u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u4ee5ASCII\u5b57\u7b260x03\u4f5c\u4e3a\u7ed3\u5c3e\uff1a <json_object_1><0x03><json_object_2><0x03>... Klipper\u4f7f\u7528 scripts/whconsole.py \u7684\u4ee3\u7801\u8fdb\u884c\u4e0a\u8ff0\u7684\u6570\u636e\u5e27\u6253\u5305\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/whconsole.py /tmp/klippy_uds \u8be5\u5de5\u5177\u4f1a\u4ecestdin\u4e2d\u8bfb\u53d6\u4e00\u7cfb\u5217\u7684JSON\u547d\u4ee4\uff0c\u53d1\u9001\u5230Klipper\u6267\u884c\uff0c\u5e76\u5c06\u7ed3\u679c\u9001\u51fa\u3002\u8be5\u5de5\u5177\u9ed8\u8ba4\u8f93\u5165\u7684\u6bcf\u6761Json\u547d\u4ee4\u4e2d\u4e0d\u5b58\u5728\u6362\u884c\uff0c\u5e76\u81ea\u52a8\u5730\u5728\u53d1\u9001\u547d\u4ee4\u65f6\u5728\u7ed3\u5c3e\u9644\u4e0a0x03\u3002\uff08Klipper API\u670d\u52a1\u5668\u6ca1\u6709\u6362\u884c\u7b26\u8981\u6c42\u3002\uff09 API\u534f\u8bae \u00b6 \u5957\u63a5\u5b57\u7684\u547d\u4ee4\u534f\u8bae\u53d7 json-rpc \u542f\u53d1\u3002 \u4e00\u4e2a\u8bf7\u6c42\u547d\u4ee4\u7c7b\u4f3c\uff1a {\"id\": 123, \"method\": \"info\", \"params\": {}} \u4e00\u4e2a\u56de\u5e94\u5e27\u7c7b\u4f3c\uff1a {\"id\": 123, \"result\": {\"state_message\": \"Printer is ready\", \"klipper_path\": \"/home/pi/klipper\", \"config_file\": \"/home/pi/printer.cfg\", \"software_version\": \"v0.8.0-823-g883b1cb6\", \"hostname\": \"octopi\", \"cpu_info\": \"4 core ARMv7 Processor rev 4 (v7l)\", \"state\": \"ready\", \"python_path\": \"/home/pi/klippy-env/bin/python\", \"log_file\": \"/tmp/klippy.log\"}} \u6bcf\u4e2a\u8bf7\u6c42\u5e94\u4e3a\u4e00\u4e2aJSON\u5b57\u5178\u3002\uff08\u672c\u6587\u6863\u4f7f\u7528Python\u4e2d\u7684\u672f\u8bed\u201c\u5b57\u5178\u201d\u63cf\u8ff0\u4ee5 {} \u4e3a\u8fb9\u754c\u7684\u201c\u952e-\u503c\u201dJSON\u5bf9\u8c61\u3002\uff09 \u8bf7\u6c42\u5b57\u5178\u4e2d\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u201dmethod\u201d\u5b57\u6bb5\uff0c\u5176\u503c\u5e94\u5305\u542b\u4e00\u4e2a\u53ef\u7528\u7684Klipper\u7aef\u70b9\u201dendpoint\u201d\u540d\u79f0\u5b57\u7b26\u4e32\u3002 \u8bf7\u6c42\u5b57\u5178\u53ef\u80fd\u5305\u542b\u201dparams\u201d\u53c2\u6570\uff0c\u5e76\u5176\u503c\u5e94\u4e3a\u4e00\u4e2a\u5b57\u5178\u7c7b\u578b\u3002\u201dparams\u201d\u63d0\u4f9bKlipper\u201dendpoint\u201d\u5904\u7406\u8bf7\u6c42\u6240\u9700\u7684\u989d\u5916\u6570\u636e\uff0c\u5176\u5185\u5bb9\u4f9d\u201dendpoint\u201d\u800c\u5b9a\u3002 \u8bf7\u6c42\u7684\u5b57\u5178\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u53ef\u4ee5\u662f\u4efb\u4f55 JSON\u7c7b\u578b\u7684\"id\"\u53c2\u6570\u3002\u5982\u679c\"id\"\u5b58\u5728\uff0c\u90a3\u4e48 Klipper \u5c06\u7528\u4e00\u4e2a\u5305\u542b\u8be5\"id\"\u7684\u54cd\u5e94\u4fe1\u606f\u6765\u56de\u5e94\u8bf7\u6c42\u3002\u5982\u679c\"id\"\u88ab\u7701\u7565\uff08\u6216\u8bbe\u7f6e\u4e3a JSON \u7684 \"null\" \u503c\uff09\uff0c\u90a3\u4e48 Klipper \u5c06\u4e0d\u4f1a\u5bf9\u8be5\u8bf7\u6c42\u8fdb\u884c\u4efb\u4f55\u54cd\u5e94\u3002\u54cd\u5e94\u4fe1\u606f\u662f\u4e00\u4e2a \u5305\u542b \"id\" \u548c \"result\"\u7684 JSON \u5b57\u5178\u3002\"result\"\u603b\u662f\u4e00\u4e2a\u5b57\u5178--\u5b83\u7684\u5185\u5bb9\u662f\u7279\u5b9a\u4e8e\u5904\u7406\u8bf7\u6c42\u7684\"endstop\"\u3002 \u5982\u679c\u5904\u7406\u7684\u8bf7\u6c42\u9020\u6210\u4e86\u9519\u8bef\uff0c\u5219\u54cd\u5e94\u6d88\u606f\u5c06\u5305\u542b\"error\"\u5b57\u6bb5\uff0c\u800c\u4e0d\u662f\"result\"\u5b57\u6bb5\u3002\u4f8b\u5982\uff0c\u8bf7\u6c42\uff1a {\"id\"\uff1a 123\uff0c \"method\"\uff1a \"gcode/script\"\uff0c \"params\"\uff1a {\"script\"\uff1a \"G1 X200\"}} \u53ef\u80fd\u4f1a\u8fd4\u56de\u9519\u8bef\u54cd\u5e94\uff0c\u4f8b\u5982\uff1a {\"id\"\uff1a 123\uff0c \"error\"\uff1a {\"message\"\uff1a \"Must home axis first\uff1a 200.000 0.000 0.000 [0.000]\"\uff0c \"error\"\uff1a \"WebRequestError\"}} Klipper \u4f1a\u6309\u7167\u6536\u5230\u8bf7\u6c42\u7684\u987a\u5e8f\u4f9d\u6b21\u5904\u7406\u8bf7\u6c42\u3002\u7136\u800c\uff0c\u4e00\u4e9b\u8bf7\u6c42\u53ef\u80fd\u4e0d\u4f1a\u7acb\u5373\u5b8c\u6210\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u76f8\u5173\u7684\u54cd\u5e94\u4e0e\u5176\u4ed6\u8bf7\u6c42\u7684\u54cd\u5e94\u4e0d\u6309\u987a\u5e8f\u53d1\u9001\u3002\u4e00\u4e2a JSON \u8bf7\u6c42\u6c38\u8fdc\u4e0d\u4f1a\u6682\u505c\u5bf9\u672a\u6765JSON \u8bf7\u6c42\u7684\u5904\u7406\u3002 \u8ba2\u9605 \u00b6 \u4e00\u4e9b Klipper \u7684\"endpoint\"\u53ef\u4ee5\u4ee5 \"\u8ba2\u9605\" \u7684\u5f62\u5f0f\u63a5\u6536\u672a\u6765\u7684\u5f02\u6b65\u66f4\u65b0\u6d88\u606f\u3002 \u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{\"key\": 345}}} \u53ef\u80fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u521d\u59cb\u56de\u5e94\uff1a {\"id\": 123, \"result\": {}} \u5e76\u5bfc\u81f4 Klipper \u5728\u672a\u6765\u53d1\u9001\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u5185\u5bb9\u7684\u6d88\u606f\uff1a {\"params\": {\"response\": \"ok B:22.8 /0.0 T0:22.4 /0.0\"}, \"key\": 345} A subscription request accepts a \"response_template\" dictionary in the \"params\" field of the request. That \"response_template\" dictionary is used as a template for future asynchronous messages - it may contain arbitrary key/value pairs. When sending these future asynchronous messages, Klipper will add a \"params\" field containing a dictionary with \"endpoint\" specific contents to the response template and then send that template. If a \"response_template\" field is not provided then it defaults to an empty dictionary ( {} ). \u53ef\u7528\u7684\"endpoint\" \u00b6 By convention, Klipper \"endpoints\" are of the form <module_name>/<some_name> . When making a request to an \"endpoint\", the full name must be set in the \"method\" parameter of the request dictionary (eg, {\"method\"=\"gcode/restart\"} ). info \u00b6 The \"info\" endpoint is used to obtain system and version information from Klipper. It is also used to provide the client's version information to Klipper. For example: {\"id\": 123, \"method\": \"info\", \"params\": { \"client_info\": { \"version\": \"v1\"}}} If present, the \"client_info\" parameter must be a dictionary, but that dictionary may have arbitrary contents. Clients are encouraged to provide the name of the client and its software version when first connecting to the Klipper API server. emergency_stop \u00b6 The \"emergency_stop\" endpoint is used to instruct Klipper to transition to a \"shutdown\" state. It behaves similarly to the G-Code M112 command. For example: {\"id\": 123, \"method\": \"emergency_stop\"} register_remote_method \u00b6 This endpoint allows clients to register methods that can be called from klipper. It will return an empty object upon success. For example: {\"id\": 123, \"method\": \"register_remote_method\", \"params\": {\"response_template\": {\"action\": \"run_paneldue_beep\"}, \"remote_method\": \"paneldue_beep\"}} will return: {\"id\": 123, \"result\": {}} The remote method paneldue_beep may now be called from Klipper. Note that if the method takes parameters they should be provided as keyword arguments. Below is an example of how it may called from a gcode_macro: [gcode_macro PANELDUE_BEEP] gcode: {action_call_remote_method(\"paneldue_beep\", frequency=300, duration=1.0)} When the PANELDUE_BEEP gcode macro is executed, Klipper would send something like the following over the socket: {\"action\": \"run_paneldue_beep\", \"params\": {\"frequency\": 300, \"duration\": 1.0}} objects/list \u00b6 This endpoint queries the list of available printer \"objects\" that one may query (via the \"objects/query\" endpoint). For example: {\"id\": 123, \"method\": \"objects/list\"} might return: {\"id\": 123, \"result\": {\"objects\": [\"webhooks\", \"configfile\", \"heaters\", \"gcode_move\", \"query_endstops\", \"idle_timeout\", \"toolhead\", \"extruder\"]}} objects/query \u00b6 This endpoint allows one to query information from printer objects. For example: {\"id\": 123, \"method\": \"objects/query\", \"params\": {\"objects\": {\"toolhead\": [\"position\"], \"webhooks\": null}}} might return: {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\", \"state_message\": \"Printer is ready\"}, \"toolhead\": {\"position\": [0.0, 0.0, 0.0, 0.0]}}, \"eventtime\": 3051555.377933684}} The \"objects\" parameter in the request must be a dictionary containing the printer objects that are to be queried - the key contains the printer object name and the value is either \"null\" (to query all fields) or a list of field names. The response message will contain a \"status\" field containing a dictionary with the queried information - the key contains the printer object name and the value is a dictionary containing its fields. The response message will also contain an \"eventtime\" field containing the timestamp from when the query was taken. Available fields are documented in the Status Reference document. objects/subscribe \u00b6 This endpoint allows one to query and then subscribe to information from printer objects. The endpoint request and response is identical to the \"objects/query\" endpoint. For example: {\"id\": 123, \"method\": \"objects/subscribe\", \"params\": {\"objects\":{\"toolhead\": [\"position\"], \"webhooks\": [\"state\"]}, \"response_template\":{}}} might return: {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\"}, \"toolhead\": {\"position\": [0.0, 0.0, 0.0, 0.0]}}, \"eventtime\": 3052153.382083195}} and result in subsequent asynchronous messages such as: {\"params\": {\"status\": {\"webhooks\": {\"state\": \"shutdown\"}}, \"eventtime\": 3052165.418815847}} gcode/help \u00b6 This endpoint allows one to query available G-Code commands that have a help string defined. For example: {\"id\": 123, \"method\": \"gcode/help\"} might return: {\"id\": 123, \"result\": {\"RESTORE_GCODE_STATE\": \"Restore a previously saved G-Code state\", \"PID_CALIBRATE\": \"Run PID calibration test\", \"QUERY_ADC\": \"Report the last value of an analog pin\", ...}} gcode/script \u00b6 This endpoint allows one to run a series of G-Code commands. For example: {\"id\": 123, \"method\": \"gcode/script\", \"params\": {\"script\": \"G90\"}} If the provided G-Code script raises an error, then an error response is generated. However, if the G-Code command produces terminal output, that terminal output is not provided in the response. (Use the \"gcode/subscribe_output\" endpoint to obtain G-Code terminal output.) If there is a G-Code command being processed when this request is received, then the provided script will be queued. This delay could be significant (eg, if a G-Code wait for temperature command is running). The JSON response message is sent when the processing of the script fully completes. gcode/restart \u00b6 This endpoint allows one to request a restart - it is similar to running the G-Code \"RESTART\" command. For example: {\"id\": 123, \"method\": \"gcode/restart\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete. gcode/firmware_restart \u00b6 This is similar to the \"gcode/restart\" endpoint - it implements the G-Code \"FIRMWARE_RESTART\" command. For example: {\"id\": 123, \"method\": \"gcode/firmware_restart\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete. gcode/subscribe_output \u00b6 This endpoint is used to subscribe to G-Code terminal messages that are generated by Klipper. For example: {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{}}} might later produce asynchronous messages such as: {\"params\": {\"response\": \"// Klipper state: Shutdown\"}} This endpoint is intended to support human interaction via a \"terminal window\" interface. Parsing content from the G-Code terminal output is discouraged. Use the \"objects/subscribe\" endpoint to obtain updates on Klipper's state. motion_report/dump_stepper \u00b6 This endpoint is used to subscribe to Klipper's internal stepper queue_step command stream for a stepper. Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"motion_report/dump_stepper\", \"params\": {\"name\": \"stepper_x\", \"response_template\": {}}} and might return: {\"id\": 123, \"result\": {\"header\": [\"interval\", \"count\", \"add\"]}} and might later produce asynchronous messages such as: {\"params\": {\"first_clock\": 179601081, \"first_time\": 8.98, \"first_position\": 0, \"last_clock\": 219686097, \"last_time\": 10.984, \"data\": [[179601081, 1, 0], [29573, 2, -8685], [16230, 4, -1525], [10559, 6, -160], [10000, 976, 0], [10000, 1000, 0], [10000, 1000, 0], [10000, 1000, 0], [9855, 5, 187], [11632, 4, 1534], [20756, 2, 9442]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses. motion_report/dump_trapq \u00b6 This endpoint is used to subscribe to Klipper's internal \"trapezoid motion queue\". Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\": \"motion_report/dump_trapq\", \"params\": {\"name\": \"toolhead\", \"response_template\":{}}} and might return: {\"id\": 1, \"result\": {\"header\": [\"time\", \"duration\", \"start_velocity\", \"acceleration\", \"start_position\", \"direction\"]}} and might later produce asynchronous messages such as: {\"params\": {\"data\": [[4.05, 1.0, 0.0, 0.0, [300.0, 0.0, 0.0], [0.0, 0.0, 0.0]], [5.054, 0.001, 0.0, 3000.0, [300.0, 0.0, 0.0], [-1.0, 0.0, 0.0]]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses. adxl345/dump_adxl345 \u00b6 This endpoint is used to subscribe to ADXL345 accelerometer data. Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"adxl345/dump_adxl345\", \"params\": {\"sensor\": \"adxl345\", \"response_template\": {}}} and might return: {\"id\": 123,\"result\":{\"header\":[\"time\",\"x_acceleration\",\"y_acceleration\", \"z_acceleration\"]}} and might later produce asynchronous messages such as: {\"params\":{\"overflows\":0,\"data\":[[3292.432935,-535.44309,-1529.8374,9561.4], [3292.433256,-382.45935,-1606.32927,9561.48375]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses. angle/dump_angle \u00b6 This endpoint is used to subscribe to angle sensor data . Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"angle/dump_angle\", \"params\": {\"sensor\": \"my_angle_sensor\", \"response_template\": {}}} and might return: {\"id\": 123,\"result\":{\"header\":[\"time\",\"angle\"]}} and might later produce asynchronous messages such as: {\"params\":{\"position_offset\":3.151562,\"errors\":0, \"data\":[[1290.951905,-5063],[1290.952321,-5065]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses. pause_resume/cancel \u00b6 This endpoint is similar to running the \"PRINT_CANCEL\" G-Code command. For example: {\"id\": 123, \"method\": \"pause_resume/cancel\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete. pause_resume/pause \u00b6 This endpoint is similar to running the \"PAUSE\" G-Code command. For example: {\"id\": 123, \"method\": \"pause_resume/pause\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete. pause_resume/resume \u00b6 This endpoint is similar to running the \"RESUME\" G-Code command. For example: {\"id\": 123, \"method\": \"pause_resume/resume\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete. query_endstops/status \u00b6 This endpoint will query the active endpoints and return their status. For example: {\"id\": 123, \"method\": \"query_endstops/status\"} might return: {\"id\": 123, \"result\": {\"y\": \"open\", \"x\": \"open\", \"z\": \"TRIGGERED\"}} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete.","title":"API \u670d\u52a1\u5668"},{"location":"API_Server.html#api","text":"\u8be5\u6587\u6863\u4ecb\u7ecdKlipper\u7684\u5e94\u7528\u5f00\u53d1\u8005\u63a5\u53e3\uff08API\uff09\u529f\u80fd\u3002\u8be5\u63a5\u53e3\u5141\u8bb8\u5916\u90e8\u5e94\u7528\u7a0b\u5e8f\u8bbf\u95ee\u548c\u63a7\u5236Klipper\u4e3b\u673a\u3002","title":"API \u670d\u52a1\u5668"},{"location":"API_Server.html#api_1","text":"\u8981\u542f\u7528API\u670d\u52a1\u5668\uff0cklipper.py\u8fd0\u884c\u65f6\u5e94\u52a0\u4e0a -a \u53c2\u6570\u3002\u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -a /tmp/klippy_uds -l /tmp/klippy.log \u4e0a\u8ff0\u64cd\u4f5c\u4f1a\u4f7f\u4e3b\u673a\u521b\u5efa\u4e00\u4e2aUnix\u672c\u5730\u5957\u63a5\u5b57\u3002\u4e4b\u540e\uff0c\u5ba2\u6237\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5957\u63a5\u5b57\u94fe\u63a5\uff0c\u4ece\u800c\u7ed9Klipper\u53d1\u9001\u547d\u4ee4\u3002 See the Moonraker project for a popular tool that can forward HTTP requests to Klipper's API Server Unix Domain Socket.","title":"\u542f\u7528API\u5957\u63a5\u5b57"},{"location":"API_Server.html#_1","text":"\u5957\u63a5\u5b57\u8fdb\u51fa\u7684\u6570\u636e\u5305\u5e94\u4f7f\u7528JSON\u7f16\u7801\u7684\u5b57\u7b26\u4e32\uff0c\u5e76\u4ee5ASCII\u5b57\u7b260x03\u4f5c\u4e3a\u7ed3\u5c3e\uff1a <json_object_1><0x03><json_object_2><0x03>... Klipper\u4f7f\u7528 scripts/whconsole.py \u7684\u4ee3\u7801\u8fdb\u884c\u4e0a\u8ff0\u7684\u6570\u636e\u5e27\u6253\u5305\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/whconsole.py /tmp/klippy_uds \u8be5\u5de5\u5177\u4f1a\u4ecestdin\u4e2d\u8bfb\u53d6\u4e00\u7cfb\u5217\u7684JSON\u547d\u4ee4\uff0c\u53d1\u9001\u5230Klipper\u6267\u884c\uff0c\u5e76\u5c06\u7ed3\u679c\u9001\u51fa\u3002\u8be5\u5de5\u5177\u9ed8\u8ba4\u8f93\u5165\u7684\u6bcf\u6761Json\u547d\u4ee4\u4e2d\u4e0d\u5b58\u5728\u6362\u884c\uff0c\u5e76\u81ea\u52a8\u5730\u5728\u53d1\u9001\u547d\u4ee4\u65f6\u5728\u7ed3\u5c3e\u9644\u4e0a0x03\u3002\uff08Klipper API\u670d\u52a1\u5668\u6ca1\u6709\u6362\u884c\u7b26\u8981\u6c42\u3002\uff09","title":"\u8bf7\u6c42\u683c\u5f0f"},{"location":"API_Server.html#api_2","text":"\u5957\u63a5\u5b57\u7684\u547d\u4ee4\u534f\u8bae\u53d7 json-rpc \u542f\u53d1\u3002 \u4e00\u4e2a\u8bf7\u6c42\u547d\u4ee4\u7c7b\u4f3c\uff1a {\"id\": 123, \"method\": \"info\", \"params\": {}} \u4e00\u4e2a\u56de\u5e94\u5e27\u7c7b\u4f3c\uff1a {\"id\": 123, \"result\": {\"state_message\": \"Printer is ready\", \"klipper_path\": \"/home/pi/klipper\", \"config_file\": \"/home/pi/printer.cfg\", \"software_version\": \"v0.8.0-823-g883b1cb6\", \"hostname\": \"octopi\", \"cpu_info\": \"4 core ARMv7 Processor rev 4 (v7l)\", \"state\": \"ready\", \"python_path\": \"/home/pi/klippy-env/bin/python\", \"log_file\": \"/tmp/klippy.log\"}} \u6bcf\u4e2a\u8bf7\u6c42\u5e94\u4e3a\u4e00\u4e2aJSON\u5b57\u5178\u3002\uff08\u672c\u6587\u6863\u4f7f\u7528Python\u4e2d\u7684\u672f\u8bed\u201c\u5b57\u5178\u201d\u63cf\u8ff0\u4ee5 {} \u4e3a\u8fb9\u754c\u7684\u201c\u952e-\u503c\u201dJSON\u5bf9\u8c61\u3002\uff09 \u8bf7\u6c42\u5b57\u5178\u4e2d\u5fc5\u987b\u5305\u542b\u4e00\u4e2a\u201dmethod\u201d\u5b57\u6bb5\uff0c\u5176\u503c\u5e94\u5305\u542b\u4e00\u4e2a\u53ef\u7528\u7684Klipper\u7aef\u70b9\u201dendpoint\u201d\u540d\u79f0\u5b57\u7b26\u4e32\u3002 \u8bf7\u6c42\u5b57\u5178\u53ef\u80fd\u5305\u542b\u201dparams\u201d\u53c2\u6570\uff0c\u5e76\u5176\u503c\u5e94\u4e3a\u4e00\u4e2a\u5b57\u5178\u7c7b\u578b\u3002\u201dparams\u201d\u63d0\u4f9bKlipper\u201dendpoint\u201d\u5904\u7406\u8bf7\u6c42\u6240\u9700\u7684\u989d\u5916\u6570\u636e\uff0c\u5176\u5185\u5bb9\u4f9d\u201dendpoint\u201d\u800c\u5b9a\u3002 \u8bf7\u6c42\u7684\u5b57\u5178\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u53ef\u4ee5\u662f\u4efb\u4f55 JSON\u7c7b\u578b\u7684\"id\"\u53c2\u6570\u3002\u5982\u679c\"id\"\u5b58\u5728\uff0c\u90a3\u4e48 Klipper \u5c06\u7528\u4e00\u4e2a\u5305\u542b\u8be5\"id\"\u7684\u54cd\u5e94\u4fe1\u606f\u6765\u56de\u5e94\u8bf7\u6c42\u3002\u5982\u679c\"id\"\u88ab\u7701\u7565\uff08\u6216\u8bbe\u7f6e\u4e3a JSON \u7684 \"null\" \u503c\uff09\uff0c\u90a3\u4e48 Klipper \u5c06\u4e0d\u4f1a\u5bf9\u8be5\u8bf7\u6c42\u8fdb\u884c\u4efb\u4f55\u54cd\u5e94\u3002\u54cd\u5e94\u4fe1\u606f\u662f\u4e00\u4e2a \u5305\u542b \"id\" \u548c \"result\"\u7684 JSON \u5b57\u5178\u3002\"result\"\u603b\u662f\u4e00\u4e2a\u5b57\u5178--\u5b83\u7684\u5185\u5bb9\u662f\u7279\u5b9a\u4e8e\u5904\u7406\u8bf7\u6c42\u7684\"endstop\"\u3002 \u5982\u679c\u5904\u7406\u7684\u8bf7\u6c42\u9020\u6210\u4e86\u9519\u8bef\uff0c\u5219\u54cd\u5e94\u6d88\u606f\u5c06\u5305\u542b\"error\"\u5b57\u6bb5\uff0c\u800c\u4e0d\u662f\"result\"\u5b57\u6bb5\u3002\u4f8b\u5982\uff0c\u8bf7\u6c42\uff1a {\"id\"\uff1a 123\uff0c \"method\"\uff1a \"gcode/script\"\uff0c \"params\"\uff1a {\"script\"\uff1a \"G1 X200\"}} \u53ef\u80fd\u4f1a\u8fd4\u56de\u9519\u8bef\u54cd\u5e94\uff0c\u4f8b\u5982\uff1a {\"id\"\uff1a 123\uff0c \"error\"\uff1a {\"message\"\uff1a \"Must home axis first\uff1a 200.000 0.000 0.000 [0.000]\"\uff0c \"error\"\uff1a \"WebRequestError\"}} Klipper \u4f1a\u6309\u7167\u6536\u5230\u8bf7\u6c42\u7684\u987a\u5e8f\u4f9d\u6b21\u5904\u7406\u8bf7\u6c42\u3002\u7136\u800c\uff0c\u4e00\u4e9b\u8bf7\u6c42\u53ef\u80fd\u4e0d\u4f1a\u7acb\u5373\u5b8c\u6210\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u76f8\u5173\u7684\u54cd\u5e94\u4e0e\u5176\u4ed6\u8bf7\u6c42\u7684\u54cd\u5e94\u4e0d\u6309\u987a\u5e8f\u53d1\u9001\u3002\u4e00\u4e2a JSON \u8bf7\u6c42\u6c38\u8fdc\u4e0d\u4f1a\u6682\u505c\u5bf9\u672a\u6765JSON \u8bf7\u6c42\u7684\u5904\u7406\u3002","title":"API\u534f\u8bae"},{"location":"API_Server.html#_2","text":"\u4e00\u4e9b Klipper \u7684\"endpoint\"\u53ef\u4ee5\u4ee5 \"\u8ba2\u9605\" \u7684\u5f62\u5f0f\u63a5\u6536\u672a\u6765\u7684\u5f02\u6b65\u66f4\u65b0\u6d88\u606f\u3002 \u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{\"key\": 345}}} \u53ef\u80fd\u4f1a\u8fd4\u56de\u4e00\u4e2a\u521d\u59cb\u56de\u5e94\uff1a {\"id\": 123, \"result\": {}} \u5e76\u5bfc\u81f4 Klipper \u5728\u672a\u6765\u53d1\u9001\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u5185\u5bb9\u7684\u6d88\u606f\uff1a {\"params\": {\"response\": \"ok B:22.8 /0.0 T0:22.4 /0.0\"}, \"key\": 345} A subscription request accepts a \"response_template\" dictionary in the \"params\" field of the request. That \"response_template\" dictionary is used as a template for future asynchronous messages - it may contain arbitrary key/value pairs. When sending these future asynchronous messages, Klipper will add a \"params\" field containing a dictionary with \"endpoint\" specific contents to the response template and then send that template. If a \"response_template\" field is not provided then it defaults to an empty dictionary ( {} ).","title":"\u8ba2\u9605"},{"location":"API_Server.html#endpoint","text":"By convention, Klipper \"endpoints\" are of the form <module_name>/<some_name> . When making a request to an \"endpoint\", the full name must be set in the \"method\" parameter of the request dictionary (eg, {\"method\"=\"gcode/restart\"} ).","title":"\u53ef\u7528\u7684\"endpoint\""},{"location":"API_Server.html#info","text":"The \"info\" endpoint is used to obtain system and version information from Klipper. It is also used to provide the client's version information to Klipper. For example: {\"id\": 123, \"method\": \"info\", \"params\": { \"client_info\": { \"version\": \"v1\"}}} If present, the \"client_info\" parameter must be a dictionary, but that dictionary may have arbitrary contents. Clients are encouraged to provide the name of the client and its software version when first connecting to the Klipper API server.","title":"info"},{"location":"API_Server.html#emergency_stop","text":"The \"emergency_stop\" endpoint is used to instruct Klipper to transition to a \"shutdown\" state. It behaves similarly to the G-Code M112 command. For example: {\"id\": 123, \"method\": \"emergency_stop\"}","title":"emergency_stop"},{"location":"API_Server.html#register_remote_method","text":"This endpoint allows clients to register methods that can be called from klipper. It will return an empty object upon success. For example: {\"id\": 123, \"method\": \"register_remote_method\", \"params\": {\"response_template\": {\"action\": \"run_paneldue_beep\"}, \"remote_method\": \"paneldue_beep\"}} will return: {\"id\": 123, \"result\": {}} The remote method paneldue_beep may now be called from Klipper. Note that if the method takes parameters they should be provided as keyword arguments. Below is an example of how it may called from a gcode_macro: [gcode_macro PANELDUE_BEEP] gcode: {action_call_remote_method(\"paneldue_beep\", frequency=300, duration=1.0)} When the PANELDUE_BEEP gcode macro is executed, Klipper would send something like the following over the socket: {\"action\": \"run_paneldue_beep\", \"params\": {\"frequency\": 300, \"duration\": 1.0}}","title":"register_remote_method"},{"location":"API_Server.html#objectslist","text":"This endpoint queries the list of available printer \"objects\" that one may query (via the \"objects/query\" endpoint). For example: {\"id\": 123, \"method\": \"objects/list\"} might return: {\"id\": 123, \"result\": {\"objects\": [\"webhooks\", \"configfile\", \"heaters\", \"gcode_move\", \"query_endstops\", \"idle_timeout\", \"toolhead\", \"extruder\"]}}","title":"objects/list"},{"location":"API_Server.html#objectsquery","text":"This endpoint allows one to query information from printer objects. For example: {\"id\": 123, \"method\": \"objects/query\", \"params\": {\"objects\": {\"toolhead\": [\"position\"], \"webhooks\": null}}} might return: {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\", \"state_message\": \"Printer is ready\"}, \"toolhead\": {\"position\": [0.0, 0.0, 0.0, 0.0]}}, \"eventtime\": 3051555.377933684}} The \"objects\" parameter in the request must be a dictionary containing the printer objects that are to be queried - the key contains the printer object name and the value is either \"null\" (to query all fields) or a list of field names. The response message will contain a \"status\" field containing a dictionary with the queried information - the key contains the printer object name and the value is a dictionary containing its fields. The response message will also contain an \"eventtime\" field containing the timestamp from when the query was taken. Available fields are documented in the Status Reference document.","title":"objects/query"},{"location":"API_Server.html#objectssubscribe","text":"This endpoint allows one to query and then subscribe to information from printer objects. The endpoint request and response is identical to the \"objects/query\" endpoint. For example: {\"id\": 123, \"method\": \"objects/subscribe\", \"params\": {\"objects\":{\"toolhead\": [\"position\"], \"webhooks\": [\"state\"]}, \"response_template\":{}}} might return: {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\"}, \"toolhead\": {\"position\": [0.0, 0.0, 0.0, 0.0]}}, \"eventtime\": 3052153.382083195}} and result in subsequent asynchronous messages such as: {\"params\": {\"status\": {\"webhooks\": {\"state\": \"shutdown\"}}, \"eventtime\": 3052165.418815847}}","title":"objects/subscribe"},{"location":"API_Server.html#gcodehelp","text":"This endpoint allows one to query available G-Code commands that have a help string defined. For example: {\"id\": 123, \"method\": \"gcode/help\"} might return: {\"id\": 123, \"result\": {\"RESTORE_GCODE_STATE\": \"Restore a previously saved G-Code state\", \"PID_CALIBRATE\": \"Run PID calibration test\", \"QUERY_ADC\": \"Report the last value of an analog pin\", ...}}","title":"gcode/help"},{"location":"API_Server.html#gcodescript","text":"This endpoint allows one to run a series of G-Code commands. For example: {\"id\": 123, \"method\": \"gcode/script\", \"params\": {\"script\": \"G90\"}} If the provided G-Code script raises an error, then an error response is generated. However, if the G-Code command produces terminal output, that terminal output is not provided in the response. (Use the \"gcode/subscribe_output\" endpoint to obtain G-Code terminal output.) If there is a G-Code command being processed when this request is received, then the provided script will be queued. This delay could be significant (eg, if a G-Code wait for temperature command is running). The JSON response message is sent when the processing of the script fully completes.","title":"gcode/script"},{"location":"API_Server.html#gcoderestart","text":"This endpoint allows one to request a restart - it is similar to running the G-Code \"RESTART\" command. For example: {\"id\": 123, \"method\": \"gcode/restart\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete.","title":"gcode/restart"},{"location":"API_Server.html#gcodefirmware_restart","text":"This is similar to the \"gcode/restart\" endpoint - it implements the G-Code \"FIRMWARE_RESTART\" command. For example: {\"id\": 123, \"method\": \"gcode/firmware_restart\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete.","title":"gcode/firmware_restart"},{"location":"API_Server.html#gcodesubscribe_output","text":"This endpoint is used to subscribe to G-Code terminal messages that are generated by Klipper. For example: {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{}}} might later produce asynchronous messages such as: {\"params\": {\"response\": \"// Klipper state: Shutdown\"}} This endpoint is intended to support human interaction via a \"terminal window\" interface. Parsing content from the G-Code terminal output is discouraged. Use the \"objects/subscribe\" endpoint to obtain updates on Klipper's state.","title":"gcode/subscribe_output"},{"location":"API_Server.html#motion_reportdump_stepper","text":"This endpoint is used to subscribe to Klipper's internal stepper queue_step command stream for a stepper. Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"motion_report/dump_stepper\", \"params\": {\"name\": \"stepper_x\", \"response_template\": {}}} and might return: {\"id\": 123, \"result\": {\"header\": [\"interval\", \"count\", \"add\"]}} and might later produce asynchronous messages such as: {\"params\": {\"first_clock\": 179601081, \"first_time\": 8.98, \"first_position\": 0, \"last_clock\": 219686097, \"last_time\": 10.984, \"data\": [[179601081, 1, 0], [29573, 2, -8685], [16230, 4, -1525], [10559, 6, -160], [10000, 976, 0], [10000, 1000, 0], [10000, 1000, 0], [10000, 1000, 0], [9855, 5, 187], [11632, 4, 1534], [20756, 2, 9442]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses.","title":"motion_report/dump_stepper"},{"location":"API_Server.html#motion_reportdump_trapq","text":"This endpoint is used to subscribe to Klipper's internal \"trapezoid motion queue\". Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\": \"motion_report/dump_trapq\", \"params\": {\"name\": \"toolhead\", \"response_template\":{}}} and might return: {\"id\": 1, \"result\": {\"header\": [\"time\", \"duration\", \"start_velocity\", \"acceleration\", \"start_position\", \"direction\"]}} and might later produce asynchronous messages such as: {\"params\": {\"data\": [[4.05, 1.0, 0.0, 0.0, [300.0, 0.0, 0.0], [0.0, 0.0, 0.0]], [5.054, 0.001, 0.0, 3000.0, [300.0, 0.0, 0.0], [-1.0, 0.0, 0.0]]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses.","title":"motion_report/dump_trapq"},{"location":"API_Server.html#adxl345dump_adxl345","text":"This endpoint is used to subscribe to ADXL345 accelerometer data. Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"adxl345/dump_adxl345\", \"params\": {\"sensor\": \"adxl345\", \"response_template\": {}}} and might return: {\"id\": 123,\"result\":{\"header\":[\"time\",\"x_acceleration\",\"y_acceleration\", \"z_acceleration\"]}} and might later produce asynchronous messages such as: {\"params\":{\"overflows\":0,\"data\":[[3292.432935,-535.44309,-1529.8374,9561.4], [3292.433256,-382.45935,-1606.32927,9561.48375]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses.","title":"adxl345/dump_adxl345"},{"location":"API_Server.html#angledump_angle","text":"This endpoint is used to subscribe to angle sensor data . Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"angle/dump_angle\", \"params\": {\"sensor\": \"my_angle_sensor\", \"response_template\": {}}} and might return: {\"id\": 123,\"result\":{\"header\":[\"time\",\"angle\"]}} and might later produce asynchronous messages such as: {\"params\":{\"position_offset\":3.151562,\"errors\":0, \"data\":[[1290.951905,-5063],[1290.952321,-5065]]}} The \"header\" field in the initial query response is used to describe the fields found in later \"data\" responses.","title":"angle/dump_angle"},{"location":"API_Server.html#pause_resumecancel","text":"This endpoint is similar to running the \"PRINT_CANCEL\" G-Code command. For example: {\"id\": 123, \"method\": \"pause_resume/cancel\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete.","title":"pause_resume/cancel"},{"location":"API_Server.html#pause_resumepause","text":"This endpoint is similar to running the \"PAUSE\" G-Code command. For example: {\"id\": 123, \"method\": \"pause_resume/pause\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete.","title":"pause_resume/pause"},{"location":"API_Server.html#pause_resumeresume","text":"This endpoint is similar to running the \"RESUME\" G-Code command. For example: {\"id\": 123, \"method\": \"pause_resume/resume\"} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete.","title":"pause_resume/resume"},{"location":"API_Server.html#query_endstopsstatus","text":"This endpoint will query the active endpoints and return their status. For example: {\"id\": 123, \"method\": \"query_endstops/status\"} might return: {\"id\": 123, \"result\": {\"y\": \"open\", \"x\": \"open\", \"z\": \"TRIGGERED\"}} As with the \"gcode/script\" endpoint, this endpoint only completes after any pending G-Code commands complete.","title":"query_endstops/status"},{"location":"BLTouch.html","text":"BL-Touch \u00b6 \u8fde\u63a5\u5230 BL-Touch \u00b6 \u8b66\u544a\uff01 \uff1a\u5728\u4f60\u5f00\u59cb\u524d\u8bf7\u907f\u514d\u7528\u4f60\u7684\u624b\u6307\u63a5\u89e6 BL-Touch \u7684\u63a2\u9488\uff0c\u56e0\u4e3a\u5b83\u5bf9\u624b\u6307\u7684\u6cb9\u8102\u76f8\u5f53\u654f\u611f\u3002\u5982\u679c\u4f60\u771f\u7684\u89e6\u6478\u9700\u8981\u89e6\u78b0\u5b83\uff0c\u8bf7\u5c3d\u53ef\u80fd\u5c0f\u5fc3\uff0c\u4ee5\u907f\u514d\u5f2f\u66f2\u6216\u63a8\u52a8\u4efb\u4f55\u4e1c\u897f\u3002 \u6839\u636e BL-Touch \u6587\u6863\u6216\u4f60\u4f7f\u7528\u7684 MCU \u7684\u6587\u6863\uff0c\u5c06 BL-TOUCH \u7684 \"servo\"\u5f15\u811a\u8fde\u63a5\u5230 control_pin \u3002\u4f7f\u7528\u539f\u88c5\u8fde\u63a5\u7ebf\uff0c\u4e09\u6839\u7ebf\u4e2d\u7684\u9ec4\u7ebf\u662f control_pin \uff0c\u4e24\u6839\u7ebf\u4e2d\u7684\u767d\u7ebf\u662f sensor_pin \u3002\u4f60\u9700\u8981\u6839\u636e\u4f60\u7684\u63a5\u7ebf\u6765\u914d\u7f6e\u8fd9\u4e9b\u5f15\u811a\u3002\u5927\u591a\u6570 BL-Touch \u8bbe\u5907\u8981\u6c42\u5728\u4f20\u611f\u5668\u5f15\u811a\u4e0a\u6709\u4e00\u4e2a\u4e0a\u62c9\u7535\u963b\uff08\u5f15\u811a\u540d\u79f0\u524d\u52a0\"^\"\uff09\u3002\u4f8b\u5982\uff1a [bltouch] sensor_pin: ^P1.24 control_pin: P1.26 \u5982\u679c BL-Touch \u5c06\u7528\u4e8e Z \u8f74\u5f52\u4f4d\uff0c\u5219\u8bbe\u7f6e endstop_pin:probe:z_virtual_endstop \u5e76\u5220\u9664 [stepper_z] \u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 position_endstop \uff0c\u7136\u540e\u6dfb\u52a0\u4e00\u4e2a [safe_z_home] \u914d\u7f6e\u5206\u6bb5\u6765\u5148\u63d0\u5347 z \u8f74\uff0c\u5e76\u5f52\u4f4d xy \u8f74\uff0c\u518d\u79fb\u52a8\u5230\u5e8a\u7684\u4e2d\u5fc3\uff0c\u5e76\u5f52\u4f4d z \u8f74\u3002\u4f8b\u5982\uff1a [safe_z_home] home_xy_position: 100, 100 # \u4fee\u6539\u8be5\u5750\u6807\u4e3a\u6253\u5370\u5e8a\u4e2d\u5fc3 speed: 50 z_hop: 10 # \u5411\u4e0a\u79fb\u52a8 10mm z_hop_speed: 5 \u91cd\u8981\u7684\u662f\uff0csafe_z_home \u4e2d\u7684 z_hop \u8fd0\u52a8\u9700\u8981\u8db3\u591f\u9ad8\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u63a2\u9488\u6070\u597d\u5904\u4e8e\u6700\u4f4e\u72b6\u6001\uff0c\u4e5f\u4e0d\u4f1a\u53d1\u751f\u78b0\u649e\u3002 \u521d\u59cb\u6d4b\u8bd5 \u00b6 \u5728\u7ee7\u7eed\u524d\uff0c\u8bf7\u68c0\u67e5 BL-Touch \u662f\u5426\u5b89\u88c5\u5728\u6b63\u786e\u7684\u9ad8\u5ea6\uff0c\u63a2\u9488\u5728\u6536\u8d77\u65f6\u5e94\u8be5\u5728\u55b7\u5934\u4e0a\u5927\u7ea62mm\u7684\u4f4d\u7f6e \u542f\u52a8\u6253\u5370\u673a\u65f6\uff0cBL-Touch \u63a2\u9488\u4f1a\u6267\u884c\u81ea\u68c0\u5e76\u4e0a\u4e0b\u79fb\u52a8\u63a2\u9488\u51e0\u6b21\u3002\u81ea\u68c0\u5b8c\u6210\u540e\uff0c\u63a2\u9488\u4f1a\u5904\u4e8e\u6536\u56de\u72b6\u6001\uff0c\u63a2\u5934\u4e0a\u7684\u7ea2\u8272 LED \u5728\u6b64\u65f6\u5e94\u4eae\u8d77\u3002\u5982\u679c\u6709\u9519\u8bef\uff0c\u4f8b\u5982\u63a2\u5934\u5448\u7ea2\u8272\u95ea\u70c1\u6216\u8005\u63a2\u9488\u4f38\u51fa\u800c\u4e0d\u662f\u6536\u56de\uff0c\u8bf7\u5173\u95ed\u6253\u5370\u673a\u5e76\u68c0\u67e5\u63a5\u7ebf\u548c\u914d\u7f6e\u3002 \u5982\u679c\u4ee5\u4e0a\u90fd\u6ca1\u6709\u95ee\u9898\uff0c\u5c31\u53ef\u4ee5\u6d4b\u8bd5 control \u5f15\u811a\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002\u9996\u5148\u5728\u6253\u5370\u673a\u7ec8\u7aef\u4e2d\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_down \u3002\u786e\u8ba4\u63a2\u9488\u4f38\u51fa\u5e76\u4e14\u63a2\u5934\u4e0a\u7684\u7ea2\u8272 LED \u7184\u706d\u3002\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u518d\u6b21\u68c0\u67e5\u6253\u5370\u673a\u7684\u63a5\u7ebf\u548c\u914d\u7f6e\u3002\u63a5\u4e0b\u6765\u5728\u6253\u5370\u673a\u7ec8\u7aef\u8f93\u5165 BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u786e\u8ba4\u63a2\u9488\u5411\u4e0a\u79fb\u52a8\u4e86\uff0c\u5e76\u4e14\u7ea2\u706f\u518d\u6b21\u4eae\u8d77\u3002\u5982\u679c\u5b83\u95ea\u70c1\uff0c\u5219\u8bf4\u660e\u5b58\u5728\u95ee\u9898\u3002 \u4e0b\u4e00\u6b65\u662f\u786e\u8ba4\u4f20\u611f\u5668\u7684\u63a2\u9488\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u68c0\u67e5\u63a2\u9488\u662f\u5426\u5411\u4e0b\u79fb\u52a8\u3002\u8fd0\u884c BLTOUCH_DEBUG COMMAND=touch_mode \uff0c\u518d\u8fd0\u884c QUERY_PROBE \uff0c\u5e76\u9a8c\u8bc1\u547d\u4ee4\u62a5\u544a\"probe: open\"\u3002\u7136\u540e\uff0c\u5728\u7528\u6307\u7532\u8f7b\u8f7b\u63a8\u8d77\u9488\u5934\u7684\u540c\u65f6\uff0c\u518d\u6b21\u8fd0\u884c QUERY_PROBE \u3002\u9a8c\u8bc1\u547d\u4ee4\u662f\u5426\u62a5\u544a\"probe: TRIGGERED\"\u3002\u5982\u679c\u4efb\u4f55\u4e00\u4e2a\u67e5\u8be2\u90fd\u6ca1\u6709\u62a5\u544a\u6b63\u786e\u7684\u4fe1\u606f\uff0c\u90a3\u4e48\u5b83\u901a\u5e38\u8868\u660e\u63a5\u7ebf\u6216\u914d\u7f6e\u4e0d\u6b63\u786e\uff08\u5c3d\u7ba1\u4e00\u4e9b \u76d7\u7248\u8bbe\u5907 \u9700\u8981\u7279\u6b8a\u5904\u7406\uff09\u3002\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_up \u5e76\u68c0\u67e5\u5f15\u811a\u662f\u5426\u5411\u4e0a\u79fb\u52a8\u3002 \u5728\u5b8c\u6210 BL-TOUCH contro \u5f15\u811a\u548c sensor \u5f15\u811a\u7684\u6d4b\u8bd5\u540e\uff0c\u73b0\u5728\u662f\u6d4b\u8bd5\u63a2\u9488\u7684\u65f6\u5019\u4e86\uff0c\u4f46\u6709\u4e00\u4e2a\u6280\u5de7\u3002\u4e0d\u8981\u8ba9\u63a2\u9488\u63a5\u89e6\u6253\u5370\u5e8a\uff0c\u800c\u662f\u8ba9\u5b83\u63a5\u89e6\u4f60\u624b\u6307\u7532\u3002\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u79bb\u5e8a\u9762\u8f83\u8fdc\u7684\u4f4d\u7f6e\uff0c\u53d1\u9001 G28 \uff08\u5982\u679c\u4e0d\u4f7f\u7528probe:z_virtual_endstop\uff0c\u53d1\u9001 PROBE \uff09\uff0c\u7b49\u5f85\u5de5\u5177\u5934\u5f00\u59cb\u5411\u4e0b\u79fb\u52a8\uff0c\u7136\u540e\u7528\u624b\u6307\u7532\u8f7b\u8f7b\u5730\u89e6\u6478\u9488\u811a\u6765\u505c\u6b62\u79fb\u52a8\u3002\u4f60\u53ef\u80fd\u8981\u505a\u4e24\u6b21\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u7684\u5f52\u4f4d\u914d\u7f6e\u4f1a\u63a2\u6d4b\u4e24\u6b21\u3002\u5982\u679c\u4f60\u89e6\u6478\u63a2\u9488\u65f6\u5b83\u6ca1\u6709\u505c\u6b62\uff0c\u8bf7\u7acb\u5373\u5173\u95ed\u6253\u5370\u673a\u7535\u6e90\u3002 \u5982\u679c\u6210\u529f\u4e86\uff0c\u518d\u505a\u4e00\u6b21 G28 \uff08\u6216 PROBE \uff09\uff0c\u4f46\u662f\u8fd9\u6b21\u8ba9\u5b83\u89e6\u78b0\u5230\u70ed\u5e8a\u3002 BL-Touch \u51fa\u73b0\u6545\u969c \u00b6 \u5f53 BL-Touch \u5728\u4e0d\u4e00\u81f4\u72b6\u6001\u65f6\uff0c\u5b83\u5c31\u4f1a\u5f00\u59cb\u95ea\u70c1\u7ea2\u8272\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5f3a\u5236\u5b83\u79bb\u5f00\u6b64\u72b6\u6001\uff1a BLTOUCH_DEBUG COMMAND=reset \u8fd9\u79cd\u60c5\u51b5\u53ef\u80fd\u4f1a\u5728\u6821\u51c6\u4e2d\u88ab\u963b\u6b62\u4f38\u51fa\u7684\u63a2\u9488\u4e2d\u65ad\u65f6\u51fa\u73b0\u3002 \u4f46\u662f\uff0cBL-TOUCH \u4e5f\u6709\u53ef\u80fd\u65e0\u6cd5\u518d\u8fdb\u884c\u81ea\u6211\u6821\u51c6\u3002\u8fd9\u79cd\u60c5\u51b5\u4f1a\u5728\u5b83\u4e0a\u9762\u7684\u87ba\u4e1d\u5904\u4e8e\u9519\u8bef\u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u63a2\u9488\u5185\u7684\u78c1\u82af\u79fb\u52a8\u4e4b\u540e\u51fa\u73b0\u3002\u5982\u679c\u5b83\u79fb\u52a8\u4e86\uff0c\u4ee5\u81f3\u4e8e\u5361\u5728\u4e86\u87ba\u4e1d\u4e0a\uff0c\u5b83\u53ef\u80fd\u65e0\u6cd5\u518d\u964d\u4f4e\u5176\u63a2\u9488\u3002\u8fd9\u79cd\u60c5\u51b5\u9700\u8981\u4f60\u6253\u5f00\u87ba\u4e1d\u5e76\u7528\u5706\u73e0\u7b14\u5c06\u5176\u8f7b\u8f7b\u63a8\u56de\u539f\u4f4d\u3002\u5c06\u63a2\u9488\u91cd\u65b0\u63d2\u5165BL-TOUCH\uff0c\u4f7f\u5176\u843d\u5165\u539f\u6765\u7684\u4f4d\u7f6e\u3002\u5c0f\u5fc3\u5730\u5c06\u65e0\u5934\u87ba\u9489\u91cd\u65b0\u8c03\u6574\u5230\u4f4d\u3002\u4f60\u9700\u8981\u627e\u5230\u6b63\u786e\u7684\u4f4d\u7f6e\uff0c\u4f7f\u5176\u80fd\u591f\u964d\u4f4e\u548c\u63d0\u9ad8\u63a2\u9488\uff0c\u5e76\u4e14\u7ea2\u706f\u6253\u5f00\u548c\u5173\u95ed\u3002\u4f7f\u7528 reset \u3001 pin_up \u548c pin_down \u547d\u4ee4\u6765\u5b9e\u73b0\u3002 BL-Touch \u7684\u514b\u9686\uff083D-Touch\uff09 \u00b6 Klipper \u9ed8\u8ba4\u914d\u7f6e\u652f\u6301\u5927\u591a\u6570\u76d7\u7248 BL-Touch\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u76d7\u7248\u8bbe\u5907\u53ef\u80fd\u4e0d\u652f\u6301 QUERY_PROBE \u547d\u4ee4\uff0c\u5e76\u4e14\u4e00\u4e9b\u8bbe\u5907\u53ef\u80fd\u9700\u8981\u914d\u7f6e pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u3002 \u6ce8\u610f\uff01\u5728\u6ca1\u6709\u9075\u5faa\u8fd9\u4e9b\u6307\u793a\u4e4b\u524d\uff0c\u4e0d\u8981\u628a pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u914d\u7f6e\u4e3a False\u3002\u4e0d\u8981\u5728\u6b63\u7248 BL-Touch \u4e0a\u628a\u8fd9\u4e24\u4e2a\u53c2\u6570\u914d\u7f6e\u4e3aFalse\u3002\u9519\u8bef\u5730\u5c06\u8fd9\u4e9b\u8bbe\u7f6e\u4e3a \"False\"\u4f1a\u589e\u52a0\u63a2\u6d4b\u65f6\u95f4\u548c\u635f\u574f\u6253\u5370\u673a\u7684\u98ce\u9669\u3002 \u4e00\u4e9b\u76d7\u7248\u8bbe\u5907\u4e0d\u652f\u6301 touch_mode \uff0c\u56e0\u6b64 QUERY_PROBE \u547d\u4ee4\u4e0d\u80fd\u6b63\u5e38\u6267\u884c\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u4ecd\u7136\u6709\u53ef\u80fd\u7528\u8fd9\u4e9b\u8bbe\u5907\u8fdb\u884c\u63a2\u6d4b\u548c\u5f52\u4f4d\u3002\u8fd9\u4e9b\u8bbe\u5907\u5982\u679c\u5728 \u521d\u59cb\u6d4b\u8bd5 \u671f\u95f4\u7684 QUERY_PROBE \u547d\u4ee4\u4e0d\u6210\u529f\uff0c\u4f46\u5728\u968f\u540e\u7684 G28 \uff08\u6216 PROBE \uff09\u6d4b\u8bd5\u786e\u5b9e\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u5728 Klipper \u4e2d\u4e0d\u4f7f\u7528 QUERY_PROBE \u547d\u4ee4\u548c\u4e0d\u542f\u7528 probe_with_touch_mode \u529f\u80fd\u65f6\u4f7f\u7528\u8fd9\u4e9b\u76d7\u7248\u8bbe\u5907\u3002 \u4e00\u4e9b\u514b\u9686\u8bbe\u5907\u65e0\u6cd5\u6267\u884c Klipper \u7684\u5185\u90e8\u4f20\u611f\u5668\u9a8c\u8bc1\u6d4b\u8bd5\u3002\u5728\u8fd9\u4e9b\u8bbe\u5907\u4e0a\uff0c\u5c1d\u8bd5\u5f52\u4f4d\u6216\u63a2\u6d4b\u4f1a\u5bfc\u81f4 Klipper \u62a5\u544a \"BLTouch failed to verify sensor state\" \u9519\u8bef\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u90a3\u4e48\u8bf7\u624b\u52a8\u8fd0\u884c\u8fd9\u4e9b\u6b65\u9aa4\u4ee5\u786e\u8ba4 sensor \u5f15\u811a\u6b63\u786e\uff0c\u5982 \u521d\u6b21\u8c03\u8bd5 \u6240\u8ff0\u3002\u5982\u679c\u8be5\u6d4b\u8bd5\u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u603b\u662f\u4ea7\u751f\u7b26\u5408\u9884\u671f\u7684\u7ed3\u679c\uff0c\u800c \"BLTouch failed to verify sensor state \"\u9519\u8bef\u4ecd\u7136\u53d1\u751f\uff0c\u90a3\u4e48\u53ef\u80fd\u9700\u8981\u5728Klipper\u914d\u7f6e\u6587\u4ef6\u4e2d\u628a pin_up_touch_mode_reports_triggered \u8bbe\u4e3aFalse\u3002 \u5c11\u6570\u8001\u7248\u672c\u514b\u9686\u8bbe\u5907\u65e0\u6cd5\u62a5\u544a\u5b83\u4eec\u4f55\u65f6\u6210\u529f\u5730\u62ac\u5347\u4e86\u5b83\u4eec\u7684\u63a2\u9488\u3002\u5728\u8fd9\u4e9b\u8bbe\u5907\u4e0a\uff0cKlipper \u4f1a\u5728\u6bcf\u6b21\u5f52\u4f4d\u6216\u63a2\u6d4b\u5c1d\u8bd5\u540e\u62a5\u544a\u4e00\u4e2a \"BLTouch failed to raise probe \"\u7684\u9519\u8bef\u3002\u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u8bbe\u5907\u8fdb\u884c\u6d4b\u8bd5--\u5c06\u63a2\u9488\u4ece\u6253\u5370\u5e8a\u79fb\u5f00\uff0c\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u786e\u8ba4\u63a2\u9488\u5df2\u7ecf\u5411\u4e0b\u79fb\u52a8\uff0c\u8fd0\u884c QUERY_PROBE \uff0c\u786e\u8ba4\u547d\u4ee4\u62a5\u544a \"probe:open\"\uff0c\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u786e\u8ba4\u63a2\u9488\u5df2\u7ecf\u62ac\u5347\uff0c\u5e76\u8fd0\u884c QUERY_PROBE \u3002\u5982\u679c\u63a2\u9488\u4fdd\u6301\u62ac\u5347\uff0c\u8bbe\u5907\u6ca1\u6709\u8fdb\u5165\u9519\u8bef\u72b6\u6001\uff0c\u4e14\u7b2c\u4e00\u4e2a\u67e5\u8be2\u62a5\u544a \"probe: open\"\uff0c\u800c\u7b2c\u4e8c\u4e2a\u67e5\u8be2\u62a5\u544a \"probe:TRIGGERED\"\uff0c\u90a3\u4e48\u5b83\u8868\u660e pin_up_reports_not_triggered \u5e94\u8be5\u5728Klipper\u914d\u7f6e\u6587\u4ef6\u4e2d\u88ab\u8bbe\u7f6e\u4e3aFalse\u3002 BL-Touch v3 \u00b6 \u4e00\u4e9b BL-Touch v3.0 \u548cBL-Touch 3.1 \u8bbe\u5907\u53ef\u80fd\u9700\u8981\u5728\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e probe_with_touch_mode \u3002 \u5982\u679cBL-TOUCH v3.0\u7684\u4fe1\u53f7\u7ebf\u8fde\u63a5\u5230\u4e00\u4e2a\u9650\u4f4d\u5f15\u811a\uff08\u6709\u4e00\u4e2a\u566a\u97f3\u8fc7\u6ee4\u7535\u5bb9\uff09\uff0c\u90a3\u4e48BL-TOUCH v3.0\u53ef\u80fd\u65e0\u6cd5\u5728\u5f52\u4f4d\u548c\u63a2\u6d4b\u671f\u95f4\u6301\u7eed\u53d1\u9001\u4fe1\u53f7\u3002\u5982\u679c \u521d\u6b21\u8c03\u8bd5 \u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u603b\u662f\u4ea7\u751f\u9884\u671f\u7684\u7ed3\u679c\uff0c\u4f46\u5728G28/PROBE\u547d\u4ee4\u671f\u95f4\uff0c\u5de5\u5177\u5934\u5e76\u4e0d\u603b\u662f\u505c\u6b62\uff0c\u90a3\u4e48\u5c31\u8868\u660e\u6709\u8fd9\u4e2a\u95ee\u9898\u3002\u4e00\u4e2a\u53d8\u901a\u7684\u529e\u6cd5\u662f\u5728\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e probe_with_touch_mode:True \u3002 BL-TOUCH v3.1 \u53ef\u80fd\u4f1a\u5728\u5c1d\u8bd5\u63a2\u6d4b\u6210\u529f\u540e\u9519\u8bef\u5730\u8fdb\u5165\u9519\u8bef\u72b6\u6001\u3002\u5176\u75c7\u72b6\u662f BL-TOUCH v3.1 \u5728\u6210\u529f\u63a5\u89e6\u6253\u5370\u5e8a\u540e\uff0c\u5076\u5c14\u4f1a\u6709\u706f\u5149\u95ea\u70c1\uff0c\u6301\u7eed\u51e0\u79d2\u949f\u3002Klipper \u5e94\u8be5\u4f1a\u81ea\u52a8\u6e05\u9664\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e00\u822c\u6765\u8bf4\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002\u5f53\u7136\u4f60\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e probe_with_touch_mode \u6765\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u3002 \u6ce8\u610f\uff01\u5f53 probe_with_touch_mode \u88ab\u8bbe\u7f6e\u4e3a True \u65f6\uff0c\u4e00\u4e9b \u514b\u9686\u8bbe\u5907\u548cBL-Touch v2.0\uff08\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u4f1a\u964d\u4f4e\u7cbe\u5ea6\u3002\u5c06\u6b64\u8bbe\u7f6e\u4e3a True \u4e5f\u4f1a\u589e\u52a0\u90e8\u7f72\u63a2\u9488\u7684\u65f6\u95f4\u3002\u5982\u679c\u5728 \u514b\u9686 \u6216\u66f4\u65e9\u7684BL-Touch\u8bbe\u5907\u4e0a\u914d\u7f6e\u8fd9\u4e2a\u503c\uff0c\u4e00\u5b9a\u8981\u5728\u8bbe\u7f6e\u8fd9\u4e2a\u503c\u4e4b\u524d\u548c\u4e4b\u540e\u6d4b\u8bd5\u63a2\u9488\u7684\u51c6\u786e\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u8fdb\u884c\u6d4b\u8bd5\uff09\u3002 \u65e0\u6536\u8d77\u591a\u6b21\u63a2\u6d4b \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cKlipper \u4f1a\u5728\u6bcf\u6b21\u63a2\u6d4b\u5c1d\u8bd5\u5f00\u59cb\u65f6\u90e8\u7f72\u63a2\u9488\uff0c\u7136\u540e\u5728\u4e4b\u540e\u6536\u8d77\u63a2\u9488\u3002\u8fd9\u79cd\u91cd\u590d\u90e8\u7f72\u548c\u6536\u8d77\u63a2\u9488\u7684\u505a\u6cd5\u53ef\u80fd\u4f1a\u589e\u52a0\u6d89\u53ca\u8bb8\u591a\u63a2\u9488\u6d4b\u91cf\u7684\u6821\u51c6\u5e8f\u5217\u7684\u603b\u8017\u65f6\u3002Klipper \u652f\u6301\u5728\u8fde\u7eed\u7684\u63a2\u6d4b\u4e4b\u95f4\u4e0d\u6536\u8d77\u63a2\u9488\uff0c\u8fd9\u53ef\u4ee5\u51cf\u5c11\u63a2\u6d4b\u7684\u603b\u8017\u65f6\u3002\u53ef\u4ee5\u901a\u8fc7\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u628a stow_on_each_sample \u914d\u7f6e\u4e3a False \u6765\u542f\u7528\u8fd9\u4e2a\u6a21\u5f0f\u3002 \u6ce8\u610f\uff01\u5c06 Stow_on_each_sample \u8bbe\u7f6e\u4e3a False \u53ef\u80fd\u5bfc\u81f4 Klipper \u5728\u63a2\u9488\u653e\u4e0b\u65f6\u8fdb\u884c\u6c34\u5e73\u7684\u6253\u5370\u5934\u8fd0\u52a8\u3002\u5728\u5c06\u6b64\u503c\u8bbe\u7f6e\u4e3a \"False\"\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u6240\u6709\u63a2\u6d4b\u64cd\u4f5c\u90fd\u6709\u8db3\u591f\u7684Z\u95f4\u9699\u3002\u5982\u679c\u6ca1\u6709\u8db3\u591f\u7684\u95f4\u9699\uff0c\u90a3\u4e48\u6c34\u5e73\u79fb\u52a8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u63a2\u9488\u5361\u5728\u969c\u788d\u7269\u4e0a\u5e76\u4e14\u5bfc\u81f4\u6253\u5370\u673a\u635f\u574f\u3002 \u6ce8\u610f\uff01\u5f53\u914d\u7f6e stow_on_each_sample \u4e3aFalse\u65f6\uff0c\u5efa\u8bae\u5c06 probe_with_touch_mode \u914d\u7f6e\u4e3a True\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e probe_with_touch_mode \uff0c\u4e00\u4e9b\u514b\u9686\u7684\u8bbe\u5907\u53ef\u80fd\u68c0\u6d4b\u4e0d\u5230\u540e\u7eed\u548c\u6253\u5370\u5e8a\u7684\u63a5\u89e6\u3002\u5728\u6240\u6709\u7684\u8bbe\u5907\u4e0a\uff0c\u4f7f\u7528\u8fd9\u4e24\u4e2a\u8bbe\u7f6e\u7684\u7ec4\u5408\u53ef\u4ee5\u7b80\u5316\u8bbe\u5907\u7684\u4fe1\u53f7\u4f20\u9012\uff0c\u4ece\u800c\u63d0\u9ad8\u6574\u4f53\u7a33\u5b9a\u6027\u3002 \u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u5f53 probe_with_touch_mode \u8bbe\u7f6e\u4e3aTrue\u65f6\uff0c\u4e00\u4e9b\u514b\u9686\u8bbe\u5907\u548cBL-Touch v2.0\uff08\u4ee5\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u4f1a\u964d\u4f4e\u7cbe\u5ea6\u3002\u5728\u8fd9\u4e9b\u8bbe\u5907\u4e0a\uff0c\u6700\u597d\u5728\u8bbe\u7f6e probe_with_touch_mode \u4e4b\u524d\u548c\u4e4b\u540e\u6d4b\u8bd5\u63a2\u9488\u7684\u51c6\u786e\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u6765\u6d4b\u8bd5\uff09\u3002 \u6821\u51c6 BL-Touch \u7684\u504f\u79fb \u00b6 \u6309\u7167 \u63a2\u9488\u6821\u51c6 \u6307\u5357\u4e2d\u7684\u6307\u793a\u6765\u8bbe\u7f6ex_offset\u3001y_offset\u548cz_offset\u914d\u7f6e\u53c2\u6570\u3002 \u6700\u597d\u786e\u8ba4 Z \u8f74\u504f\u79fb\u91cf\u63a5\u8fd1 1 mm\u3002\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u5e0c\u671b\u5c06\u63a2\u5934\u5411\u4e0a\u6216\u5411\u4e0b\u79fb\u52a8\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4f60\u9700\u8981\u8ba9\u5b83\u5728\u55b7\u5634\u78b0\u5230\u5e8a\u9762\u4e4b\u524d\u53ef\u4ee5\u5f88\u597d\u7684\u89e6\u53d1\uff0c\u8fd9\u6837\u53ef\u80fd\u51fa\u73b0\u7684\u6b8b\u7559\u8017\u6750\u6216\u626d\u66f2\u7684\u5e8a\u9762\u5c31\u4e0d\u4f1a\u5f71\u54cd\u4efb\u4f55\u63a2\u6d4b\u52a8\u4f5c\u3002\u4f46\u4e0e\u6b64\u540c\u65f6\uff0c\u6536\u56de\u7684\u4f4d\u7f6e\u6700\u597d\u5c3d\u53ef\u80fd\u9ad8\u4e8e\u55b7\u5634\uff0c\u4ee5\u907f\u514d\u5b83\u63a5\u89e6\u5230\u6253\u5370\u4ef6\u3002\u5982\u679c\u5bf9\u63a2\u9488\u4f4d\u7f6e\u8fdb\u884c\u4e86\u8c03\u6574\uff0c\u9700\u8981\u5728\u8c03\u6574\u540e\u91cd\u65b0\u8fd0\u884c\u63a2\u9488\u6821\u51c6\u6b65\u9aa4\u3002 BL-Touch \u8f93\u51fa\u6a21\u5f0f \u00b6 BL-Touch V3.0\u652f\u6301\u8bbe\u7f6e 5V \u6216 OPEN-DRAIN \u8f93\u51fa\u6a21\u5f0f\uff0cBL-TOUCH V3.1\u4e5f\u652f\u6301\uff0c\u4f46\u5b83\u4e5f\u53ef\u4ee5\u5728\u5176\u5185\u90e8 EEPROM \u4e2d\u5b58\u50a8\u8fd9\u4e2a\u8bbe\u7f6e\u3002\u5982\u679c\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\u7684\u56fa\u5b9a 5V \u9ad8\u903b\u8f91\u7535\u5e73\uff0c\u4f60\u53ef\u4ee5\u628a\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6[bltouch]\u90e8\u5206\u7684 'set_output_mode' \u53c2\u6570\u8bbe\u7f6e\u4e3a \"5V\"\u3002 \u53ea\u5728\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u7684\u8f93\u5165\u7ebf\u8def\u53ef\u4ee5\u5bb9\u5fcd5V\u65f6\u4f7f\u7528 5V \u6a21\u5f0f\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u8fd9\u4e9b BL-Touch \u7248\u672c\u7684\u9ed8\u8ba4\u914d\u7f6e\u662fOPEN-DRAIN\u6a21\u5f0f\u3002\u4f60\u6709\u53ef\u80fd\u635f\u574f\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u4e0a\u7684MCU \u56e0\u6b64\u3002\u5982\u679c\u4e00\u4e2a\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\uff0c\u5e76\u4e14\u5b83\u7684\u8f93\u5165\u4fe1\u53f7\u7ebf\u662f 5V \u7684\uff0c\u5e76\u4e14\u5982\u679c \u4f60\u6709\u4e00\u4e2a BL-TOUCH Smart V3.0\uff0c\u4f60\u9700\u8981\u4f7f\u7528 'set_output_mode:5V' \u53c2\u6570\uff0c\u4ee5\u786e\u4fdd\u6bcf\u6b21\u542f\u52a8\u65f6\u7684\u5e94\u7528\u8fd9\u4e00\u8bbe\u7f6e\uff0c\u56e0\u4e3a\u63a2\u9488\u4e0d\u80fd\u8bb0\u4f4f\u6240\u9700\u7684\u8bbe\u7f6e\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e2a BL-Touch Smart V3.1\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 'set_output_mode:5V \" \u6216\u8005\u901a\u8fc7\u624b\u52a8\u4f7f\u7528 \"BLTOUCH_STORE MODE=5V \"\u547d\u4ee4\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u53c2\u6570 \"set_output_mode: \"\u6765\u5b58\u50a8\u6a21\u5f0f\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u63a2\u9488\u3002\u6709\u4e9b\u63a2\u9488\u5728\u7535\u8def\u677f\u4e0a\u6709\u4e00\u4e2a\u9700\u8981\u5207\u9664\u7684\u7ebf\u8def\u6216\u8005\u9700\u8981\u8bbe\u7f6e\u7684\u4e00\u4e2a\u8df3\u7ebf\uff0c\u4ee5\u4fbf\uff08\u6c38\u4e45\uff09\u8bbe\u7f6e\u8f93\u51fa\u6a21\u5f0f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b8c\u5168\u7701\u7565 \"set_output_mode \"\u53c2\u6570\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e2a V3.1\uff0c\u4e0d\u8981\u81ea\u52a8\u6216\u91cd\u590d\u5b58\u50a8\u8f93\u51fa\u6a21\u5f0f\uff0c\u4ee5\u907f\u514d\u78e8\u635f\u63a2\u9488\u7684 EEPROM\u3002BLTouch \u7684 EEPROM\u53ef\u7528\u4e8e\u7ea6100.000\u6b21\u66f4\u65b0\u3002\u6bcf\u5929\u5b58\u50a8100\u6b21\uff0c\u5728\u78e8\u635f\u4e4b\u524d\uff0c\u52a0\u8d77\u6765\u5927\u7ea6\u53ef\u4ee5\u8fd0\u884c3\u5e74\u3002\u56e0\u6b64\uff0c\u5728 V3.1 \u4e2d\u5b58\u50a8\u8f93\u51fa\u6a21\u5f0f\u88ab\u4f9b\u5e94\u5546\u8bbe\u8ba1\u6210\u4e00\u4e2a\u590d\u6742\u7684\u64cd\u4f5c\uff08\u51fa\u5382\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a safe OPEN DRAIN \u6a21\u5f0f\uff09\uff0c\u4e0d\u9002\u5408\u7531\u4efb\u4f55\u5207\u7247\u8f6f\u4ef6\u3001\u5b8f\u6216\u5176\u4ed6\u4e1c\u897f\u91cd\u590d\u53d1\u51fa\uff0c\u6700\u597d\u4ec5\u5728\u9996\u6b21\u5c06\u63a2\u9488\u6dfb\u52a0\u5230\u5230\u6253\u5370\u673a\u7535\u5b50\u8bbe\u5907\u65f6\u4f7f\u7528\u3002","title":"BL-Touch"},{"location":"BLTouch.html#bl-touch","text":"","title":"BL-Touch"},{"location":"BLTouch.html#bl-touch_1","text":"\u8b66\u544a\uff01 \uff1a\u5728\u4f60\u5f00\u59cb\u524d\u8bf7\u907f\u514d\u7528\u4f60\u7684\u624b\u6307\u63a5\u89e6 BL-Touch \u7684\u63a2\u9488\uff0c\u56e0\u4e3a\u5b83\u5bf9\u624b\u6307\u7684\u6cb9\u8102\u76f8\u5f53\u654f\u611f\u3002\u5982\u679c\u4f60\u771f\u7684\u89e6\u6478\u9700\u8981\u89e6\u78b0\u5b83\uff0c\u8bf7\u5c3d\u53ef\u80fd\u5c0f\u5fc3\uff0c\u4ee5\u907f\u514d\u5f2f\u66f2\u6216\u63a8\u52a8\u4efb\u4f55\u4e1c\u897f\u3002 \u6839\u636e BL-Touch \u6587\u6863\u6216\u4f60\u4f7f\u7528\u7684 MCU \u7684\u6587\u6863\uff0c\u5c06 BL-TOUCH \u7684 \"servo\"\u5f15\u811a\u8fde\u63a5\u5230 control_pin \u3002\u4f7f\u7528\u539f\u88c5\u8fde\u63a5\u7ebf\uff0c\u4e09\u6839\u7ebf\u4e2d\u7684\u9ec4\u7ebf\u662f control_pin \uff0c\u4e24\u6839\u7ebf\u4e2d\u7684\u767d\u7ebf\u662f sensor_pin \u3002\u4f60\u9700\u8981\u6839\u636e\u4f60\u7684\u63a5\u7ebf\u6765\u914d\u7f6e\u8fd9\u4e9b\u5f15\u811a\u3002\u5927\u591a\u6570 BL-Touch \u8bbe\u5907\u8981\u6c42\u5728\u4f20\u611f\u5668\u5f15\u811a\u4e0a\u6709\u4e00\u4e2a\u4e0a\u62c9\u7535\u963b\uff08\u5f15\u811a\u540d\u79f0\u524d\u52a0\"^\"\uff09\u3002\u4f8b\u5982\uff1a [bltouch] sensor_pin: ^P1.24 control_pin: P1.26 \u5982\u679c BL-Touch \u5c06\u7528\u4e8e Z \u8f74\u5f52\u4f4d\uff0c\u5219\u8bbe\u7f6e endstop_pin:probe:z_virtual_endstop \u5e76\u5220\u9664 [stepper_z] \u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 position_endstop \uff0c\u7136\u540e\u6dfb\u52a0\u4e00\u4e2a [safe_z_home] \u914d\u7f6e\u5206\u6bb5\u6765\u5148\u63d0\u5347 z \u8f74\uff0c\u5e76\u5f52\u4f4d xy \u8f74\uff0c\u518d\u79fb\u52a8\u5230\u5e8a\u7684\u4e2d\u5fc3\uff0c\u5e76\u5f52\u4f4d z \u8f74\u3002\u4f8b\u5982\uff1a [safe_z_home] home_xy_position: 100, 100 # \u4fee\u6539\u8be5\u5750\u6807\u4e3a\u6253\u5370\u5e8a\u4e2d\u5fc3 speed: 50 z_hop: 10 # \u5411\u4e0a\u79fb\u52a8 10mm z_hop_speed: 5 \u91cd\u8981\u7684\u662f\uff0csafe_z_home \u4e2d\u7684 z_hop \u8fd0\u52a8\u9700\u8981\u8db3\u591f\u9ad8\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u63a2\u9488\u6070\u597d\u5904\u4e8e\u6700\u4f4e\u72b6\u6001\uff0c\u4e5f\u4e0d\u4f1a\u53d1\u751f\u78b0\u649e\u3002","title":"\u8fde\u63a5\u5230 BL-Touch"},{"location":"BLTouch.html#_1","text":"\u5728\u7ee7\u7eed\u524d\uff0c\u8bf7\u68c0\u67e5 BL-Touch \u662f\u5426\u5b89\u88c5\u5728\u6b63\u786e\u7684\u9ad8\u5ea6\uff0c\u63a2\u9488\u5728\u6536\u8d77\u65f6\u5e94\u8be5\u5728\u55b7\u5934\u4e0a\u5927\u7ea62mm\u7684\u4f4d\u7f6e \u542f\u52a8\u6253\u5370\u673a\u65f6\uff0cBL-Touch \u63a2\u9488\u4f1a\u6267\u884c\u81ea\u68c0\u5e76\u4e0a\u4e0b\u79fb\u52a8\u63a2\u9488\u51e0\u6b21\u3002\u81ea\u68c0\u5b8c\u6210\u540e\uff0c\u63a2\u9488\u4f1a\u5904\u4e8e\u6536\u56de\u72b6\u6001\uff0c\u63a2\u5934\u4e0a\u7684\u7ea2\u8272 LED \u5728\u6b64\u65f6\u5e94\u4eae\u8d77\u3002\u5982\u679c\u6709\u9519\u8bef\uff0c\u4f8b\u5982\u63a2\u5934\u5448\u7ea2\u8272\u95ea\u70c1\u6216\u8005\u63a2\u9488\u4f38\u51fa\u800c\u4e0d\u662f\u6536\u56de\uff0c\u8bf7\u5173\u95ed\u6253\u5370\u673a\u5e76\u68c0\u67e5\u63a5\u7ebf\u548c\u914d\u7f6e\u3002 \u5982\u679c\u4ee5\u4e0a\u90fd\u6ca1\u6709\u95ee\u9898\uff0c\u5c31\u53ef\u4ee5\u6d4b\u8bd5 control \u5f15\u811a\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002\u9996\u5148\u5728\u6253\u5370\u673a\u7ec8\u7aef\u4e2d\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_down \u3002\u786e\u8ba4\u63a2\u9488\u4f38\u51fa\u5e76\u4e14\u63a2\u5934\u4e0a\u7684\u7ea2\u8272 LED \u7184\u706d\u3002\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u518d\u6b21\u68c0\u67e5\u6253\u5370\u673a\u7684\u63a5\u7ebf\u548c\u914d\u7f6e\u3002\u63a5\u4e0b\u6765\u5728\u6253\u5370\u673a\u7ec8\u7aef\u8f93\u5165 BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u786e\u8ba4\u63a2\u9488\u5411\u4e0a\u79fb\u52a8\u4e86\uff0c\u5e76\u4e14\u7ea2\u706f\u518d\u6b21\u4eae\u8d77\u3002\u5982\u679c\u5b83\u95ea\u70c1\uff0c\u5219\u8bf4\u660e\u5b58\u5728\u95ee\u9898\u3002 \u4e0b\u4e00\u6b65\u662f\u786e\u8ba4\u4f20\u611f\u5668\u7684\u63a2\u9488\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u68c0\u67e5\u63a2\u9488\u662f\u5426\u5411\u4e0b\u79fb\u52a8\u3002\u8fd0\u884c BLTOUCH_DEBUG COMMAND=touch_mode \uff0c\u518d\u8fd0\u884c QUERY_PROBE \uff0c\u5e76\u9a8c\u8bc1\u547d\u4ee4\u62a5\u544a\"probe: open\"\u3002\u7136\u540e\uff0c\u5728\u7528\u6307\u7532\u8f7b\u8f7b\u63a8\u8d77\u9488\u5934\u7684\u540c\u65f6\uff0c\u518d\u6b21\u8fd0\u884c QUERY_PROBE \u3002\u9a8c\u8bc1\u547d\u4ee4\u662f\u5426\u62a5\u544a\"probe: TRIGGERED\"\u3002\u5982\u679c\u4efb\u4f55\u4e00\u4e2a\u67e5\u8be2\u90fd\u6ca1\u6709\u62a5\u544a\u6b63\u786e\u7684\u4fe1\u606f\uff0c\u90a3\u4e48\u5b83\u901a\u5e38\u8868\u660e\u63a5\u7ebf\u6216\u914d\u7f6e\u4e0d\u6b63\u786e\uff08\u5c3d\u7ba1\u4e00\u4e9b \u76d7\u7248\u8bbe\u5907 \u9700\u8981\u7279\u6b8a\u5904\u7406\uff09\u3002\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_up \u5e76\u68c0\u67e5\u5f15\u811a\u662f\u5426\u5411\u4e0a\u79fb\u52a8\u3002 \u5728\u5b8c\u6210 BL-TOUCH contro \u5f15\u811a\u548c sensor \u5f15\u811a\u7684\u6d4b\u8bd5\u540e\uff0c\u73b0\u5728\u662f\u6d4b\u8bd5\u63a2\u9488\u7684\u65f6\u5019\u4e86\uff0c\u4f46\u6709\u4e00\u4e2a\u6280\u5de7\u3002\u4e0d\u8981\u8ba9\u63a2\u9488\u63a5\u89e6\u6253\u5370\u5e8a\uff0c\u800c\u662f\u8ba9\u5b83\u63a5\u89e6\u4f60\u624b\u6307\u7532\u3002\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u79bb\u5e8a\u9762\u8f83\u8fdc\u7684\u4f4d\u7f6e\uff0c\u53d1\u9001 G28 \uff08\u5982\u679c\u4e0d\u4f7f\u7528probe:z_virtual_endstop\uff0c\u53d1\u9001 PROBE \uff09\uff0c\u7b49\u5f85\u5de5\u5177\u5934\u5f00\u59cb\u5411\u4e0b\u79fb\u52a8\uff0c\u7136\u540e\u7528\u624b\u6307\u7532\u8f7b\u8f7b\u5730\u89e6\u6478\u9488\u811a\u6765\u505c\u6b62\u79fb\u52a8\u3002\u4f60\u53ef\u80fd\u8981\u505a\u4e24\u6b21\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u7684\u5f52\u4f4d\u914d\u7f6e\u4f1a\u63a2\u6d4b\u4e24\u6b21\u3002\u5982\u679c\u4f60\u89e6\u6478\u63a2\u9488\u65f6\u5b83\u6ca1\u6709\u505c\u6b62\uff0c\u8bf7\u7acb\u5373\u5173\u95ed\u6253\u5370\u673a\u7535\u6e90\u3002 \u5982\u679c\u6210\u529f\u4e86\uff0c\u518d\u505a\u4e00\u6b21 G28 \uff08\u6216 PROBE \uff09\uff0c\u4f46\u662f\u8fd9\u6b21\u8ba9\u5b83\u89e6\u78b0\u5230\u70ed\u5e8a\u3002","title":"\u521d\u59cb\u6d4b\u8bd5"},{"location":"BLTouch.html#bl-touch_2","text":"\u5f53 BL-Touch \u5728\u4e0d\u4e00\u81f4\u72b6\u6001\u65f6\uff0c\u5b83\u5c31\u4f1a\u5f00\u59cb\u95ea\u70c1\u7ea2\u8272\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5f3a\u5236\u5b83\u79bb\u5f00\u6b64\u72b6\u6001\uff1a BLTOUCH_DEBUG COMMAND=reset \u8fd9\u79cd\u60c5\u51b5\u53ef\u80fd\u4f1a\u5728\u6821\u51c6\u4e2d\u88ab\u963b\u6b62\u4f38\u51fa\u7684\u63a2\u9488\u4e2d\u65ad\u65f6\u51fa\u73b0\u3002 \u4f46\u662f\uff0cBL-TOUCH \u4e5f\u6709\u53ef\u80fd\u65e0\u6cd5\u518d\u8fdb\u884c\u81ea\u6211\u6821\u51c6\u3002\u8fd9\u79cd\u60c5\u51b5\u4f1a\u5728\u5b83\u4e0a\u9762\u7684\u87ba\u4e1d\u5904\u4e8e\u9519\u8bef\u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u63a2\u9488\u5185\u7684\u78c1\u82af\u79fb\u52a8\u4e4b\u540e\u51fa\u73b0\u3002\u5982\u679c\u5b83\u79fb\u52a8\u4e86\uff0c\u4ee5\u81f3\u4e8e\u5361\u5728\u4e86\u87ba\u4e1d\u4e0a\uff0c\u5b83\u53ef\u80fd\u65e0\u6cd5\u518d\u964d\u4f4e\u5176\u63a2\u9488\u3002\u8fd9\u79cd\u60c5\u51b5\u9700\u8981\u4f60\u6253\u5f00\u87ba\u4e1d\u5e76\u7528\u5706\u73e0\u7b14\u5c06\u5176\u8f7b\u8f7b\u63a8\u56de\u539f\u4f4d\u3002\u5c06\u63a2\u9488\u91cd\u65b0\u63d2\u5165BL-TOUCH\uff0c\u4f7f\u5176\u843d\u5165\u539f\u6765\u7684\u4f4d\u7f6e\u3002\u5c0f\u5fc3\u5730\u5c06\u65e0\u5934\u87ba\u9489\u91cd\u65b0\u8c03\u6574\u5230\u4f4d\u3002\u4f60\u9700\u8981\u627e\u5230\u6b63\u786e\u7684\u4f4d\u7f6e\uff0c\u4f7f\u5176\u80fd\u591f\u964d\u4f4e\u548c\u63d0\u9ad8\u63a2\u9488\uff0c\u5e76\u4e14\u7ea2\u706f\u6253\u5f00\u548c\u5173\u95ed\u3002\u4f7f\u7528 reset \u3001 pin_up \u548c pin_down \u547d\u4ee4\u6765\u5b9e\u73b0\u3002","title":"BL-Touch \u51fa\u73b0\u6545\u969c"},{"location":"BLTouch.html#bl-touch-3d-touch","text":"Klipper \u9ed8\u8ba4\u914d\u7f6e\u652f\u6301\u5927\u591a\u6570\u76d7\u7248 BL-Touch\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u76d7\u7248\u8bbe\u5907\u53ef\u80fd\u4e0d\u652f\u6301 QUERY_PROBE \u547d\u4ee4\uff0c\u5e76\u4e14\u4e00\u4e9b\u8bbe\u5907\u53ef\u80fd\u9700\u8981\u914d\u7f6e pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u3002 \u6ce8\u610f\uff01\u5728\u6ca1\u6709\u9075\u5faa\u8fd9\u4e9b\u6307\u793a\u4e4b\u524d\uff0c\u4e0d\u8981\u628a pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u914d\u7f6e\u4e3a False\u3002\u4e0d\u8981\u5728\u6b63\u7248 BL-Touch \u4e0a\u628a\u8fd9\u4e24\u4e2a\u53c2\u6570\u914d\u7f6e\u4e3aFalse\u3002\u9519\u8bef\u5730\u5c06\u8fd9\u4e9b\u8bbe\u7f6e\u4e3a \"False\"\u4f1a\u589e\u52a0\u63a2\u6d4b\u65f6\u95f4\u548c\u635f\u574f\u6253\u5370\u673a\u7684\u98ce\u9669\u3002 \u4e00\u4e9b\u76d7\u7248\u8bbe\u5907\u4e0d\u652f\u6301 touch_mode \uff0c\u56e0\u6b64 QUERY_PROBE \u547d\u4ee4\u4e0d\u80fd\u6b63\u5e38\u6267\u884c\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u4ecd\u7136\u6709\u53ef\u80fd\u7528\u8fd9\u4e9b\u8bbe\u5907\u8fdb\u884c\u63a2\u6d4b\u548c\u5f52\u4f4d\u3002\u8fd9\u4e9b\u8bbe\u5907\u5982\u679c\u5728 \u521d\u59cb\u6d4b\u8bd5 \u671f\u95f4\u7684 QUERY_PROBE \u547d\u4ee4\u4e0d\u6210\u529f\uff0c\u4f46\u5728\u968f\u540e\u7684 G28 \uff08\u6216 PROBE \uff09\u6d4b\u8bd5\u786e\u5b9e\u6210\u529f\uff0c\u5219\u53ef\u4ee5\u5728 Klipper \u4e2d\u4e0d\u4f7f\u7528 QUERY_PROBE \u547d\u4ee4\u548c\u4e0d\u542f\u7528 probe_with_touch_mode \u529f\u80fd\u65f6\u4f7f\u7528\u8fd9\u4e9b\u76d7\u7248\u8bbe\u5907\u3002 \u4e00\u4e9b\u514b\u9686\u8bbe\u5907\u65e0\u6cd5\u6267\u884c Klipper \u7684\u5185\u90e8\u4f20\u611f\u5668\u9a8c\u8bc1\u6d4b\u8bd5\u3002\u5728\u8fd9\u4e9b\u8bbe\u5907\u4e0a\uff0c\u5c1d\u8bd5\u5f52\u4f4d\u6216\u63a2\u6d4b\u4f1a\u5bfc\u81f4 Klipper \u62a5\u544a \"BLTouch failed to verify sensor state\" \u9519\u8bef\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u90a3\u4e48\u8bf7\u624b\u52a8\u8fd0\u884c\u8fd9\u4e9b\u6b65\u9aa4\u4ee5\u786e\u8ba4 sensor \u5f15\u811a\u6b63\u786e\uff0c\u5982 \u521d\u6b21\u8c03\u8bd5 \u6240\u8ff0\u3002\u5982\u679c\u8be5\u6d4b\u8bd5\u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u603b\u662f\u4ea7\u751f\u7b26\u5408\u9884\u671f\u7684\u7ed3\u679c\uff0c\u800c \"BLTouch failed to verify sensor state \"\u9519\u8bef\u4ecd\u7136\u53d1\u751f\uff0c\u90a3\u4e48\u53ef\u80fd\u9700\u8981\u5728Klipper\u914d\u7f6e\u6587\u4ef6\u4e2d\u628a pin_up_touch_mode_reports_triggered \u8bbe\u4e3aFalse\u3002 \u5c11\u6570\u8001\u7248\u672c\u514b\u9686\u8bbe\u5907\u65e0\u6cd5\u62a5\u544a\u5b83\u4eec\u4f55\u65f6\u6210\u529f\u5730\u62ac\u5347\u4e86\u5b83\u4eec\u7684\u63a2\u9488\u3002\u5728\u8fd9\u4e9b\u8bbe\u5907\u4e0a\uff0cKlipper \u4f1a\u5728\u6bcf\u6b21\u5f52\u4f4d\u6216\u63a2\u6d4b\u5c1d\u8bd5\u540e\u62a5\u544a\u4e00\u4e2a \"BLTouch failed to raise probe \"\u7684\u9519\u8bef\u3002\u53ef\u4ee5\u5bf9\u8fd9\u4e9b\u8bbe\u5907\u8fdb\u884c\u6d4b\u8bd5--\u5c06\u63a2\u9488\u4ece\u6253\u5370\u5e8a\u79fb\u5f00\uff0c\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u786e\u8ba4\u63a2\u9488\u5df2\u7ecf\u5411\u4e0b\u79fb\u52a8\uff0c\u8fd0\u884c QUERY_PROBE \uff0c\u786e\u8ba4\u547d\u4ee4\u62a5\u544a \"probe:open\"\uff0c\u8fd0\u884c BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u786e\u8ba4\u63a2\u9488\u5df2\u7ecf\u62ac\u5347\uff0c\u5e76\u8fd0\u884c QUERY_PROBE \u3002\u5982\u679c\u63a2\u9488\u4fdd\u6301\u62ac\u5347\uff0c\u8bbe\u5907\u6ca1\u6709\u8fdb\u5165\u9519\u8bef\u72b6\u6001\uff0c\u4e14\u7b2c\u4e00\u4e2a\u67e5\u8be2\u62a5\u544a \"probe: open\"\uff0c\u800c\u7b2c\u4e8c\u4e2a\u67e5\u8be2\u62a5\u544a \"probe:TRIGGERED\"\uff0c\u90a3\u4e48\u5b83\u8868\u660e pin_up_reports_not_triggered \u5e94\u8be5\u5728Klipper\u914d\u7f6e\u6587\u4ef6\u4e2d\u88ab\u8bbe\u7f6e\u4e3aFalse\u3002","title":"BL-Touch \u7684\u514b\u9686\uff083D-Touch\uff09"},{"location":"BLTouch.html#bl-touch-v3","text":"\u4e00\u4e9b BL-Touch v3.0 \u548cBL-Touch 3.1 \u8bbe\u5907\u53ef\u80fd\u9700\u8981\u5728\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e probe_with_touch_mode \u3002 \u5982\u679cBL-TOUCH v3.0\u7684\u4fe1\u53f7\u7ebf\u8fde\u63a5\u5230\u4e00\u4e2a\u9650\u4f4d\u5f15\u811a\uff08\u6709\u4e00\u4e2a\u566a\u97f3\u8fc7\u6ee4\u7535\u5bb9\uff09\uff0c\u90a3\u4e48BL-TOUCH v3.0\u53ef\u80fd\u65e0\u6cd5\u5728\u5f52\u4f4d\u548c\u63a2\u6d4b\u671f\u95f4\u6301\u7eed\u53d1\u9001\u4fe1\u53f7\u3002\u5982\u679c \u521d\u6b21\u8c03\u8bd5 \u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u603b\u662f\u4ea7\u751f\u9884\u671f\u7684\u7ed3\u679c\uff0c\u4f46\u5728G28/PROBE\u547d\u4ee4\u671f\u95f4\uff0c\u5de5\u5177\u5934\u5e76\u4e0d\u603b\u662f\u505c\u6b62\uff0c\u90a3\u4e48\u5c31\u8868\u660e\u6709\u8fd9\u4e2a\u95ee\u9898\u3002\u4e00\u4e2a\u53d8\u901a\u7684\u529e\u6cd5\u662f\u5728\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e probe_with_touch_mode:True \u3002 BL-TOUCH v3.1 \u53ef\u80fd\u4f1a\u5728\u5c1d\u8bd5\u63a2\u6d4b\u6210\u529f\u540e\u9519\u8bef\u5730\u8fdb\u5165\u9519\u8bef\u72b6\u6001\u3002\u5176\u75c7\u72b6\u662f BL-TOUCH v3.1 \u5728\u6210\u529f\u63a5\u89e6\u6253\u5370\u5e8a\u540e\uff0c\u5076\u5c14\u4f1a\u6709\u706f\u5149\u95ea\u70c1\uff0c\u6301\u7eed\u51e0\u79d2\u949f\u3002Klipper \u5e94\u8be5\u4f1a\u81ea\u52a8\u6e05\u9664\u8fd9\u4e2a\u9519\u8bef\uff0c\u4e00\u822c\u6765\u8bf4\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002\u5f53\u7136\u4f60\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e probe_with_touch_mode \u6765\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u3002 \u6ce8\u610f\uff01\u5f53 probe_with_touch_mode \u88ab\u8bbe\u7f6e\u4e3a True \u65f6\uff0c\u4e00\u4e9b \u514b\u9686\u8bbe\u5907\u548cBL-Touch v2.0\uff08\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u4f1a\u964d\u4f4e\u7cbe\u5ea6\u3002\u5c06\u6b64\u8bbe\u7f6e\u4e3a True \u4e5f\u4f1a\u589e\u52a0\u90e8\u7f72\u63a2\u9488\u7684\u65f6\u95f4\u3002\u5982\u679c\u5728 \u514b\u9686 \u6216\u66f4\u65e9\u7684BL-Touch\u8bbe\u5907\u4e0a\u914d\u7f6e\u8fd9\u4e2a\u503c\uff0c\u4e00\u5b9a\u8981\u5728\u8bbe\u7f6e\u8fd9\u4e2a\u503c\u4e4b\u524d\u548c\u4e4b\u540e\u6d4b\u8bd5\u63a2\u9488\u7684\u51c6\u786e\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u8fdb\u884c\u6d4b\u8bd5\uff09\u3002","title":"BL-Touch v3"},{"location":"BLTouch.html#_2","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cKlipper \u4f1a\u5728\u6bcf\u6b21\u63a2\u6d4b\u5c1d\u8bd5\u5f00\u59cb\u65f6\u90e8\u7f72\u63a2\u9488\uff0c\u7136\u540e\u5728\u4e4b\u540e\u6536\u8d77\u63a2\u9488\u3002\u8fd9\u79cd\u91cd\u590d\u90e8\u7f72\u548c\u6536\u8d77\u63a2\u9488\u7684\u505a\u6cd5\u53ef\u80fd\u4f1a\u589e\u52a0\u6d89\u53ca\u8bb8\u591a\u63a2\u9488\u6d4b\u91cf\u7684\u6821\u51c6\u5e8f\u5217\u7684\u603b\u8017\u65f6\u3002Klipper \u652f\u6301\u5728\u8fde\u7eed\u7684\u63a2\u6d4b\u4e4b\u95f4\u4e0d\u6536\u8d77\u63a2\u9488\uff0c\u8fd9\u53ef\u4ee5\u51cf\u5c11\u63a2\u6d4b\u7684\u603b\u8017\u65f6\u3002\u53ef\u4ee5\u901a\u8fc7\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u628a stow_on_each_sample \u914d\u7f6e\u4e3a False \u6765\u542f\u7528\u8fd9\u4e2a\u6a21\u5f0f\u3002 \u6ce8\u610f\uff01\u5c06 Stow_on_each_sample \u8bbe\u7f6e\u4e3a False \u53ef\u80fd\u5bfc\u81f4 Klipper \u5728\u63a2\u9488\u653e\u4e0b\u65f6\u8fdb\u884c\u6c34\u5e73\u7684\u6253\u5370\u5934\u8fd0\u52a8\u3002\u5728\u5c06\u6b64\u503c\u8bbe\u7f6e\u4e3a \"False\"\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u6240\u6709\u63a2\u6d4b\u64cd\u4f5c\u90fd\u6709\u8db3\u591f\u7684Z\u95f4\u9699\u3002\u5982\u679c\u6ca1\u6709\u8db3\u591f\u7684\u95f4\u9699\uff0c\u90a3\u4e48\u6c34\u5e73\u79fb\u52a8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u63a2\u9488\u5361\u5728\u969c\u788d\u7269\u4e0a\u5e76\u4e14\u5bfc\u81f4\u6253\u5370\u673a\u635f\u574f\u3002 \u6ce8\u610f\uff01\u5f53\u914d\u7f6e stow_on_each_sample \u4e3aFalse\u65f6\uff0c\u5efa\u8bae\u5c06 probe_with_touch_mode \u914d\u7f6e\u4e3a True\u3002\u5982\u679c\u6ca1\u6709\u8bbe\u7f6e probe_with_touch_mode \uff0c\u4e00\u4e9b\u514b\u9686\u7684\u8bbe\u5907\u53ef\u80fd\u68c0\u6d4b\u4e0d\u5230\u540e\u7eed\u548c\u6253\u5370\u5e8a\u7684\u63a5\u89e6\u3002\u5728\u6240\u6709\u7684\u8bbe\u5907\u4e0a\uff0c\u4f7f\u7528\u8fd9\u4e24\u4e2a\u8bbe\u7f6e\u7684\u7ec4\u5408\u53ef\u4ee5\u7b80\u5316\u8bbe\u5907\u7684\u4fe1\u53f7\u4f20\u9012\uff0c\u4ece\u800c\u63d0\u9ad8\u6574\u4f53\u7a33\u5b9a\u6027\u3002 \u4f46\u662f\u8bf7\u6ce8\u610f\uff0c\u5f53 probe_with_touch_mode \u8bbe\u7f6e\u4e3aTrue\u65f6\uff0c\u4e00\u4e9b\u514b\u9686\u8bbe\u5907\u548cBL-Touch v2.0\uff08\u4ee5\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u4f1a\u964d\u4f4e\u7cbe\u5ea6\u3002\u5728\u8fd9\u4e9b\u8bbe\u5907\u4e0a\uff0c\u6700\u597d\u5728\u8bbe\u7f6e probe_with_touch_mode \u4e4b\u524d\u548c\u4e4b\u540e\u6d4b\u8bd5\u63a2\u9488\u7684\u51c6\u786e\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u6765\u6d4b\u8bd5\uff09\u3002","title":"\u65e0\u6536\u8d77\u591a\u6b21\u63a2\u6d4b"},{"location":"BLTouch.html#bl-touch_3","text":"\u6309\u7167 \u63a2\u9488\u6821\u51c6 \u6307\u5357\u4e2d\u7684\u6307\u793a\u6765\u8bbe\u7f6ex_offset\u3001y_offset\u548cz_offset\u914d\u7f6e\u53c2\u6570\u3002 \u6700\u597d\u786e\u8ba4 Z \u8f74\u504f\u79fb\u91cf\u63a5\u8fd1 1 mm\u3002\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u5e0c\u671b\u5c06\u63a2\u5934\u5411\u4e0a\u6216\u5411\u4e0b\u79fb\u52a8\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4f60\u9700\u8981\u8ba9\u5b83\u5728\u55b7\u5634\u78b0\u5230\u5e8a\u9762\u4e4b\u524d\u53ef\u4ee5\u5f88\u597d\u7684\u89e6\u53d1\uff0c\u8fd9\u6837\u53ef\u80fd\u51fa\u73b0\u7684\u6b8b\u7559\u8017\u6750\u6216\u626d\u66f2\u7684\u5e8a\u9762\u5c31\u4e0d\u4f1a\u5f71\u54cd\u4efb\u4f55\u63a2\u6d4b\u52a8\u4f5c\u3002\u4f46\u4e0e\u6b64\u540c\u65f6\uff0c\u6536\u56de\u7684\u4f4d\u7f6e\u6700\u597d\u5c3d\u53ef\u80fd\u9ad8\u4e8e\u55b7\u5634\uff0c\u4ee5\u907f\u514d\u5b83\u63a5\u89e6\u5230\u6253\u5370\u4ef6\u3002\u5982\u679c\u5bf9\u63a2\u9488\u4f4d\u7f6e\u8fdb\u884c\u4e86\u8c03\u6574\uff0c\u9700\u8981\u5728\u8c03\u6574\u540e\u91cd\u65b0\u8fd0\u884c\u63a2\u9488\u6821\u51c6\u6b65\u9aa4\u3002","title":"\u6821\u51c6 BL-Touch \u7684\u504f\u79fb"},{"location":"BLTouch.html#bl-touch_4","text":"BL-Touch V3.0\u652f\u6301\u8bbe\u7f6e 5V \u6216 OPEN-DRAIN \u8f93\u51fa\u6a21\u5f0f\uff0cBL-TOUCH V3.1\u4e5f\u652f\u6301\uff0c\u4f46\u5b83\u4e5f\u53ef\u4ee5\u5728\u5176\u5185\u90e8 EEPROM \u4e2d\u5b58\u50a8\u8fd9\u4e2a\u8bbe\u7f6e\u3002\u5982\u679c\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\u7684\u56fa\u5b9a 5V \u9ad8\u903b\u8f91\u7535\u5e73\uff0c\u4f60\u53ef\u4ee5\u628a\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6[bltouch]\u90e8\u5206\u7684 'set_output_mode' \u53c2\u6570\u8bbe\u7f6e\u4e3a \"5V\"\u3002 \u53ea\u5728\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u7684\u8f93\u5165\u7ebf\u8def\u53ef\u4ee5\u5bb9\u5fcd5V\u65f6\u4f7f\u7528 5V \u6a21\u5f0f\u3002\u8fd9\u5c31\u662f\u4e3a\u4ec0\u4e48\u8fd9\u4e9b BL-Touch \u7248\u672c\u7684\u9ed8\u8ba4\u914d\u7f6e\u662fOPEN-DRAIN\u6a21\u5f0f\u3002\u4f60\u6709\u53ef\u80fd\u635f\u574f\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u4e0a\u7684MCU \u56e0\u6b64\u3002\u5982\u679c\u4e00\u4e2a\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\uff0c\u5e76\u4e14\u5b83\u7684\u8f93\u5165\u4fe1\u53f7\u7ebf\u662f 5V \u7684\uff0c\u5e76\u4e14\u5982\u679c \u4f60\u6709\u4e00\u4e2a BL-TOUCH Smart V3.0\uff0c\u4f60\u9700\u8981\u4f7f\u7528 'set_output_mode:5V' \u53c2\u6570\uff0c\u4ee5\u786e\u4fdd\u6bcf\u6b21\u542f\u52a8\u65f6\u7684\u5e94\u7528\u8fd9\u4e00\u8bbe\u7f6e\uff0c\u56e0\u4e3a\u63a2\u9488\u4e0d\u80fd\u8bb0\u4f4f\u6240\u9700\u7684\u8bbe\u7f6e\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e2a BL-Touch Smart V3.1\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528 'set_output_mode:5V \" \u6216\u8005\u901a\u8fc7\u624b\u52a8\u4f7f\u7528 \"BLTOUCH_STORE MODE=5V \"\u547d\u4ee4\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u53c2\u6570 \"set_output_mode: \"\u6765\u5b58\u50a8\u6a21\u5f0f\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u63a2\u9488\u3002\u6709\u4e9b\u63a2\u9488\u5728\u7535\u8def\u677f\u4e0a\u6709\u4e00\u4e2a\u9700\u8981\u5207\u9664\u7684\u7ebf\u8def\u6216\u8005\u9700\u8981\u8bbe\u7f6e\u7684\u4e00\u4e2a\u8df3\u7ebf\uff0c\u4ee5\u4fbf\uff08\u6c38\u4e45\uff09\u8bbe\u7f6e\u8f93\u51fa\u6a21\u5f0f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b8c\u5168\u7701\u7565 \"set_output_mode \"\u53c2\u6570\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e2a V3.1\uff0c\u4e0d\u8981\u81ea\u52a8\u6216\u91cd\u590d\u5b58\u50a8\u8f93\u51fa\u6a21\u5f0f\uff0c\u4ee5\u907f\u514d\u78e8\u635f\u63a2\u9488\u7684 EEPROM\u3002BLTouch \u7684 EEPROM\u53ef\u7528\u4e8e\u7ea6100.000\u6b21\u66f4\u65b0\u3002\u6bcf\u5929\u5b58\u50a8100\u6b21\uff0c\u5728\u78e8\u635f\u4e4b\u524d\uff0c\u52a0\u8d77\u6765\u5927\u7ea6\u53ef\u4ee5\u8fd0\u884c3\u5e74\u3002\u56e0\u6b64\uff0c\u5728 V3.1 \u4e2d\u5b58\u50a8\u8f93\u51fa\u6a21\u5f0f\u88ab\u4f9b\u5e94\u5546\u8bbe\u8ba1\u6210\u4e00\u4e2a\u590d\u6742\u7684\u64cd\u4f5c\uff08\u51fa\u5382\u9ed8\u8ba4\u503c\u662f\u4e00\u4e2a safe OPEN DRAIN \u6a21\u5f0f\uff09\uff0c\u4e0d\u9002\u5408\u7531\u4efb\u4f55\u5207\u7247\u8f6f\u4ef6\u3001\u5b8f\u6216\u5176\u4ed6\u4e1c\u897f\u91cd\u590d\u53d1\u51fa\uff0c\u6700\u597d\u4ec5\u5728\u9996\u6b21\u5c06\u63a2\u9488\u6dfb\u52a0\u5230\u5230\u6253\u5370\u673a\u7535\u5b50\u8bbe\u5907\u65f6\u4f7f\u7528\u3002","title":"BL-Touch \u8f93\u51fa\u6a21\u5f0f"},{"location":"Beaglebone.html","text":"Beaglebone \u00b6 \u672c\u6587\u6863\u63cf\u8ff0\u4e86\u5728 Beaglebone \u53ef\u7f16\u7a0b\u5b9e\u65f6\u5355\u5143\u4e0a\u8fd0\u884c Klipper \u7684\u8fc7\u7a0b\u3002 \u6784\u5efa\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u955c\u50cf \u00b6 \u9996\u5148\u5b89\u88c5 Debian 9.9 2019-08-03 4GB SD IoT \u955c\u50cf\u3002\u53ef\u4ee5\u4ecemicro-SD\u5361\u6216\u5185\u7f6e\u7684eMMC\u4e2d\u8fd0\u884c\u8be5\u955c\u50cf\u3002\u5982\u679c\u4f7f\u7528eMMC\uff0c\u73b0\u5728\u9700\u8981\u6309\u7167\u4e0a\u8ff0\u94fe\u63a5\u7684\u8bf4\u660e\u5c06\u5176\u5b89\u88c5\u5230eMMC\u3002 \u7136\u540e ssh \u8fdb\u5165 Beaglebone \u673a\u5668\uff08 ssh debian@beaglebone -- \u5bc6\u7801\u662f temppwd \uff09\uff0c\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Klipper\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-beaglebone.sh \u5b89\u88c5 Octoprint \u00b6 \u7136\u540e\u53ef\u4ee5\u5b89\u88c5 Octoprint\uff1a git clone https://github.com/foosel/OctoPrint.git cd OctoPrint/ virtualenv venv ./venv/bin/python setup.py install \u548c\u8bbe\u7f6e Octoprint \u5f00\u59cb\u542f\u52a8\uff1a sudo cp ~/OctoPrint/scripts/octoprint.init /etc/init.d/octoprint sudo chmod +x /etc/init.d/octoprint sudo cp ~/OctoPrint/scripts/octoprint.default /etc/default/octoprint sudo update-rc.d octoprint defaults \u5728\u914d\u7f6e Klipper \u4e4b\u524d\uff0c\u9700\u8981\u5148\u4fee\u6539OctoPrint\u7684 /etc/default/octoprint \u914d\u7f6e\u6587\u4ef6\u3002\u628a OCTOPRINT_USER \u7528\u6237\u6539\u4e3a debian \uff0c\u628a NICELEVEL \u6539\u4e3a 0 \uff0c\u53d6\u6d88\u6ce8\u91ca BASEDIR \u3001 CONFIGFILE \u548c DAEMON \u7684\u8bbe\u7f6e\uff0c\u5e76\u628a\u5f15\u7528\u4ece /home/pi/ \u6539\u4e3a /home/debian/ \uff1a sudo nano /etc/default/octoprint \u7136\u540e\u542f\u52a8 Octoprint \u670d\u52a1\uff1a sudo systemctl start octoprint \u9700\u8981\u786e\u5b9a\u53ef\u4ee5\u8bbf\u95ee OctoPrint \u7f51\u7edc\u670d\u52a1\u5668 - \u5b83\u5e94\u8be5\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u94fe\u63a5\u8bbf\u95ee\uff1a http://beaglebone:5000/ \u6784\u5efa\u5fae\u63a7\u5236\u5668\u4ee3\u7801 \u00b6 \u8981\u7f16\u8bd1\u7684 Klipper \u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u9700\u8981\u5148\u5c06\u7f16\u8bd1\u914d\u7f6e\u8bbe\u4e3a\u201cBeaglebone PRU\u201d\uff1a cd ~/klipper/ make menuconfig \u8981\u6784\u5efa\u548c\u5b89\u88c5\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u8bf7\u8fd0\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u8fd8\u9700\u8981\u7f16\u8bd1\u548c\u5b89\u88c5\u7528\u4e8e Linux \u4e3b\u673a\u8fdb\u7a0b\u7684\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u3002\u518d\u6b21\u4fee\u6539\u7f16\u8bd1\u914d\u7f6e\u4e3a\"Linux process\"\uff1a make menuconfig \u7136\u540e\u4e5f\u5b89\u88c5\u8fd9\u4e2a\u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff1a sudo service klipper stop make flash sudo service klipper start \u5269\u4f59\u7684\u914d\u7f6e \u00b6 \u6839\u636e \u5b89\u88c5\u6587\u6863 \u914d\u7f6e Klipper \u548c Octoprint \u4ee5\u5b8c\u6210\u5b89\u88c5\u3002 \u5728 Beaglebone \u4e0a\u6253\u5370 \u00b6 \u4e0d\u5e78\u7684\u662f\uff0cBeaglebone \u5904\u7406\u5668\u6709\u65f6\u4e0d\u80fd\u6d41\u7545\u5730\u8fd0\u884c OctoPrint\u3002\u5728\u590d\u6742\u7684\u6253\u5370\u4e2d\u4f1a\u51fa\u73b0\u6253\u5370\u505c\u6ede\uff08\u6253\u5370\u673a\u7684\u79fb\u52a8\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u53d1\u9001\u7684\u79fb\u52a8\u547d\u4ee4\u5feb\uff09\u662f\u4e00\u4e2a\u5df2\u77e5\u95ee\u9898\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528 \"virtual_sdcard\" \u529f\u80fd\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \uff09\uff0c\u76f4\u63a5\u4ece Klipper \u6253\u5370\u3002","title":"Beaglebone"},{"location":"Beaglebone.html#beaglebone","text":"\u672c\u6587\u6863\u63cf\u8ff0\u4e86\u5728 Beaglebone \u53ef\u7f16\u7a0b\u5b9e\u65f6\u5355\u5143\u4e0a\u8fd0\u884c Klipper \u7684\u8fc7\u7a0b\u3002","title":"Beaglebone"},{"location":"Beaglebone.html#_1","text":"\u9996\u5148\u5b89\u88c5 Debian 9.9 2019-08-03 4GB SD IoT \u955c\u50cf\u3002\u53ef\u4ee5\u4ecemicro-SD\u5361\u6216\u5185\u7f6e\u7684eMMC\u4e2d\u8fd0\u884c\u8be5\u955c\u50cf\u3002\u5982\u679c\u4f7f\u7528eMMC\uff0c\u73b0\u5728\u9700\u8981\u6309\u7167\u4e0a\u8ff0\u94fe\u63a5\u7684\u8bf4\u660e\u5c06\u5176\u5b89\u88c5\u5230eMMC\u3002 \u7136\u540e ssh \u8fdb\u5165 Beaglebone \u673a\u5668\uff08 ssh debian@beaglebone -- \u5bc6\u7801\u662f temppwd \uff09\uff0c\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Klipper\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-beaglebone.sh","title":"\u6784\u5efa\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u955c\u50cf"},{"location":"Beaglebone.html#octoprint","text":"\u7136\u540e\u53ef\u4ee5\u5b89\u88c5 Octoprint\uff1a git clone https://github.com/foosel/OctoPrint.git cd OctoPrint/ virtualenv venv ./venv/bin/python setup.py install \u548c\u8bbe\u7f6e Octoprint \u5f00\u59cb\u542f\u52a8\uff1a sudo cp ~/OctoPrint/scripts/octoprint.init /etc/init.d/octoprint sudo chmod +x /etc/init.d/octoprint sudo cp ~/OctoPrint/scripts/octoprint.default /etc/default/octoprint sudo update-rc.d octoprint defaults \u5728\u914d\u7f6e Klipper \u4e4b\u524d\uff0c\u9700\u8981\u5148\u4fee\u6539OctoPrint\u7684 /etc/default/octoprint \u914d\u7f6e\u6587\u4ef6\u3002\u628a OCTOPRINT_USER \u7528\u6237\u6539\u4e3a debian \uff0c\u628a NICELEVEL \u6539\u4e3a 0 \uff0c\u53d6\u6d88\u6ce8\u91ca BASEDIR \u3001 CONFIGFILE \u548c DAEMON \u7684\u8bbe\u7f6e\uff0c\u5e76\u628a\u5f15\u7528\u4ece /home/pi/ \u6539\u4e3a /home/debian/ \uff1a sudo nano /etc/default/octoprint \u7136\u540e\u542f\u52a8 Octoprint \u670d\u52a1\uff1a sudo systemctl start octoprint \u9700\u8981\u786e\u5b9a\u53ef\u4ee5\u8bbf\u95ee OctoPrint \u7f51\u7edc\u670d\u52a1\u5668 - \u5b83\u5e94\u8be5\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u94fe\u63a5\u8bbf\u95ee\uff1a http://beaglebone:5000/","title":"\u5b89\u88c5 Octoprint"},{"location":"Beaglebone.html#_2","text":"\u8981\u7f16\u8bd1\u7684 Klipper \u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u9700\u8981\u5148\u5c06\u7f16\u8bd1\u914d\u7f6e\u8bbe\u4e3a\u201cBeaglebone PRU\u201d\uff1a cd ~/klipper/ make menuconfig \u8981\u6784\u5efa\u548c\u5b89\u88c5\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u8bf7\u8fd0\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u8fd8\u9700\u8981\u7f16\u8bd1\u548c\u5b89\u88c5\u7528\u4e8e Linux \u4e3b\u673a\u8fdb\u7a0b\u7684\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u3002\u518d\u6b21\u4fee\u6539\u7f16\u8bd1\u914d\u7f6e\u4e3a\"Linux process\"\uff1a make menuconfig \u7136\u540e\u4e5f\u5b89\u88c5\u8fd9\u4e2a\u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff1a sudo service klipper stop make flash sudo service klipper start","title":"\u6784\u5efa\u5fae\u63a7\u5236\u5668\u4ee3\u7801"},{"location":"Beaglebone.html#_3","text":"\u6839\u636e \u5b89\u88c5\u6587\u6863 \u914d\u7f6e Klipper \u548c Octoprint \u4ee5\u5b8c\u6210\u5b89\u88c5\u3002","title":"\u5269\u4f59\u7684\u914d\u7f6e"},{"location":"Beaglebone.html#beaglebone_1","text":"\u4e0d\u5e78\u7684\u662f\uff0cBeaglebone \u5904\u7406\u5668\u6709\u65f6\u4e0d\u80fd\u6d41\u7545\u5730\u8fd0\u884c OctoPrint\u3002\u5728\u590d\u6742\u7684\u6253\u5370\u4e2d\u4f1a\u51fa\u73b0\u6253\u5370\u505c\u6ede\uff08\u6253\u5370\u673a\u7684\u79fb\u52a8\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u53d1\u9001\u7684\u79fb\u52a8\u547d\u4ee4\u5feb\uff09\u662f\u4e00\u4e2a\u5df2\u77e5\u95ee\u9898\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528 \"virtual_sdcard\" \u529f\u80fd\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \uff09\uff0c\u76f4\u63a5\u4ece Klipper \u6253\u5370\u3002","title":"\u5728 Beaglebone \u4e0a\u6253\u5370"},{"location":"Bed_Level.html","text":"\u6253\u5370\u5e8a\u8c03\u5e73 \u00b6 \u6253\u5370\u5e8a\u8c03\u5e73\uff08\u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a \"bed tramming\"\uff09\u5bf9\u4e8e\u83b7\u5f97\u9ad8\u8d28\u91cf\u7684\u6253\u5370\u7ed3\u679c\u81f3\u5173\u91cd\u8981\u3002\u9519\u8bef\"\u8c03\u5e73\"\u7684\u6253\u5370\u5e8a\u4f1a\u9020\u6210\u9644\u7740\u529b\u5dee\u3001\"\u7fd8\u66f2\"\uff0c\u4ee5\u53ca\u6574\u4e2a\u6253\u5370\u8fc7\u7a0b\u4e2d\u7684\u7ec6\u5fae\u95ee\u9898\u3002\u672c\u6587\u6863\u662f\u5728 Klipper \u4e2d\u8fdb\u884c\u8c03\u5e73\u7684\u6307\u5357\u3002 \u4e86\u89e3\u6253\u5370\u5e8a\u8c03\u5e73\u7684\u76ee\u6807\u5f88\u91cd\u8981\u3002\u5982\u679c\u6253\u5370\u673a\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u88ab\u547d\u4ee4\u5230 X0 Y0 Z10 \u7684\u4f4d\u7f6e\uff0c\u90a3\u4e48\u76ee\u6807\u662f\u8ba9\u6253\u5370\u673a\u7684\u55b7\u5634\u8ddd\u79bb\u6253\u5370\u5e8a\u6b63\u597d10\u6beb\u7c73\u3002\u6b64\u5916\uff0c\u5982\u679c\u6253\u5370\u673a\u88ab\u547d\u4ee4\u5230 X50 Z10 \u7684\u4f4d\u7f6e\uff0c\u76ee\u6807\u662f\u5728\u6574\u4e2a\u6c34\u5e73\u79fb\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u55b7\u5634\u4e0e\u5e8a\u9762\u59cb\u7ec8\u4fdd\u630110\u6beb\u7c73\u7684\u51c6\u786e\u8ddd\u79bb\u3002 \u4e3a\u4e86\u83b7\u5f97\u826f\u597d\u7684\u6253\u5370\u8d28\u91cf\uff0c\u6253\u5370\u673a\u5e94\u8fdb\u884c\u6821\u51c6\uff0c\u4f7fZ\u8f74\u8ddd\u79bb\u7684\u7cbe\u5ea6\u5728\u7ea625\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\u3002\u8fd9\u662f\u4e00\u4e2a\u5f88\u5c0f\u7684\u8ddd\u79bb\uff0c\u8fdc\u5c0f\u4e8e\u5178\u578b\u4eba\u7c7b\u5934\u53d1\u7684\u5bbd\u5ea6\u3002\u8fd9\u4e2a\u5c3a\u5ea6\u662f\u4e0d\u80fd \"\u7528\u773c\u775b \"\u6765\u6d4b\u91cf\u7684\u3002\u5fae\u5999\u7684\u5f71\u54cd\uff08\u5982\u70ed\u81a8\u80c0\uff09\u4f1a\u5f71\u54cd\u8fd9\u4e2a\u5c3a\u5ea6\u7684\u6d4b\u91cf\u3002\u83b7\u5f97\u9ad8\u7cbe\u5ea6\u7684\u79d8\u8bc0\u662f\u4f7f\u7528\u4e00\u4e2a\u53ef\u91cd\u590d\uff0c\u9ad8\u7cbe\u5ea6\uff0c\u5e76\u80fd\u591f\u5229\u7528\u6253\u5370\u673a\u81ea\u8eab\u8fd0\u52a8\u7cfb\u7edf\u7684\u8c03\u5e73\u65b9\u6cd5\u3002 \u9009\u62e9\u9002\u5f53\u7684\u6821\u51c6\u673a\u5236 \u00b6 \u4e0d\u540c\u7c7b\u578b\u7684\u6253\u5370\u673a\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u8c03\u5e73\uff0c\u4f46\u662f\u6240\u6709\u8fd9\u4e9b\u65b9\u6cd5\u6700\u7ec8\u90fd\u53d6\u51b3\u4e8e\u201c\u7eb8\u5f20\u6d4b\u8bd5\u201c\uff08\u5982\u4e0b\u6240\u8ff0\uff09\u3002\u7279\u5b9a\u7c7b\u578b\u6253\u5370\u673a\u7684\u5b9e\u9645\u8c03\u5e73\u8fc7\u7a0b\u5728\u5176\u4ed6\u6587\u6863\u4e2d\u6709\u6240\u63cf\u8ff0\u3002 \u5728\u8fd0\u884c\u4efb\u4f55\u6821\u51c6\u5de5\u5177\u524d\uff0c\u4e00\u5b9a\u8981\u6267\u884c\u5728 \u914d\u7f6e\u68c0\u67e5\u6587\u6863 \u4e2d \u63cf\u8ff0\u7684\u68c0\u67e5\u6b65\u9aa4\u3002\u5728\u6253\u5370\u5e8a\u8c03\u5e73\u524d\u6709\u5fc5\u8981\u9a8c\u8bc1\u6253\u5370\u673a\u7684\u57fa\u672c\u8fd0\u52a8\u3002 \u5bf9\u4e8e\u5e26\u6709\u201c\u81ea\u52a8 Z \u63a2\u9488\u201d\u7684\u6253\u5370\u673a\uff0c\u8bf7\u52a1\u5fc5\u6309\u7167 \u63a2\u9488\u6821\u51c6 \u6587\u6863\u4e2d\u7684\u8bf4\u660e\u5148\u6821\u51c6\u63a2\u9488\u3002\u5bf9\u4e8e\u4e09\u89d2\u6d32\u7ed3\u6784\u7684\u6253\u5370\u673a\uff0c\u8bf7\u53c2\u9605 \u4e09\u89d2\u6d32\u6821\u51c6 \u6587\u6863\u3002\u5bf9\u4e8e\u5e26\u6709\u6253\u5370\u5e8a\u8c03\u5e73\u87ba\u4e1d\u548c\u4f20\u7edf Z \u9650\u4f4d\u7684\u6253\u5370\u673a\uff0c\u8bf7\u53c2\u9605 \u624b\u52a8\u8c03\u5e73 \u6587\u6863\u3002 \u5728\u6821\u51c6\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u5c06\u6253\u5370\u673a\u7684Z position_min \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8d1f\u6570\uff08\u4f8b\u5982\uff0c position_min = -2 \uff09\u3002\u5373\u4f7f\u5728\u6821\u51c6\u7a0b\u5e8f\u4e2d\uff0c\u6253\u5370\u673a\u4e5f\u4f1a\u6267\u884c\u8fb9\u754c\u68c0\u67e5\u3002\u8bbe\u7f6e\u4e00\u4e2a\u8d1f\u6570\u5141\u8bb8\u6253\u5370\u673a\u5728\u6253\u5370\u5e8a\u7684\u6807\u79f0\u4f4d\u7f6e\u4ee5\u4e0b\u79fb\u52a8\uff0c\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u786e\u5b9a\u5b9e\u9645\u5e8a\u9762\u4f4d\u7f6e\u3002 \u201cA4\u7eb8\u6d4b\u8bd5\u6cd5\u201d \u00b6 \u5e8a\u8c03\u5e73\u7684\u6838\u5fc3\u6821\u51c6\u673a\u5236\u662f\"\u585e\u7eb8\u6d4b\u8bd5\"\u3002\u5b83\u6d89\u53ca\u5728\u6253\u5370\u5e8a\u548c\u55b7\u5634\u4e4b\u95f4\u653e\u7f6e\u4e00\u5f20\u666e\u901a\u6253\u5370\u7eb8\uff0c\u7136\u540e\u5c06\u55b7\u5634\u63a7\u5236\u5230\u4e0d\u540c\u7684Z\u9ad8\u5ea6\uff0c\u76f4\u5230\u5728\u6765\u56de\u79fb\u52a8\u7eb8\u5f20\u65f6\u611f\u89c9\u5230\u9002\u91cf\u7684\u963b\u529b\u3002 \u5373\u4f7f\u4f60\u7684\u6253\u5370\u673a\u5e26\u6709\u81ea\u52a8Z\u63a2\u9488\uff0c\u7406\u89e3\u585e\u7eb8\u6d4b\u8bd5\u4f9d\u7136\u5f88\u91cd\u8981\u3002\u4e3a\u4e86\u4fdd\u8bc1\u63a2\u9488\u7684\u6548\u679c\uff0c\u5b83\u7ecf\u5e38\u4f1a\u9700\u8981\u6821\u51c6\u3002\u63a2\u9488\u7684\u6821\u51c6\u673a\u5236\u4e5f\u4f9d\u8d56\u585e\u7eb8\u6d4b\u8bd5\u3002 \u4e3a\u4e86\u8fdb\u884c\u585e\u7eb8\u6d4b\u8bd5\uff0c\u5148\u7528\u526a\u5200\u526a\u4e0b\u4e00\u5c0f\u5757\u957f\u65b9\u5f62\u7684\u7eb8\u6761\uff08\u4f8b\u5982\uff0c5x3\u5398\u7c73\uff09\u3002\u6253\u5370\u7eb8\u7684\u539a\u5ea6\u4e00\u822c\u4e3a100\u5fae\u7c73\uff080.100mm\uff09\u5de6\u53f3\u3002(\u7eb8\u6761\u7684\u786e\u5207\u5bbd\u5ea6\u5e76\u4e0d\u91cd\u8981.\uff09 \u7eb8\u5f20\u6d4b\u8bd5\u7684\u7b2c\u4e00\u6b65\u662f\u68c0\u67e5\u6253\u5370\u673a\u7684\u55b7\u5634\u548c\u6253\u5370\u5e8a\u3002\u786e\u4fdd\u55b7\u5634\u548c\u6253\u5370\u5e8a\u9762\u4e0a\u6ca1\u6709\u5851\u6599\uff08\u6216\u5176\u4ed6\u6742\u7269\uff09\u3002 \u8bf7\u4ed4\u7ec6\u68c0\u67e5\u55b7\u5634\u548c\u5e8a\u9762\uff0c\u786e\u4fdd\u6ca1\u6709\u6b8b\u7559\u5851\u6599\u5b58\u5728\uff01 \u5982\u679c\u603b\u662f\u5728\u4e00\u79cd\u80f6\u5e26\u6216\u5e8a\u9762\u4e0a\u6253\u5370\uff0c\u53ef\u4ee5\u5728\u8be5\u80f6\u5e26\u6216\u5e8a\u9762\u4e0a\u76f4\u63a5\u8fdb\u884c\u585e\u7eb8\u6d4b\u8bd5\u3002\u8bf7\u6ce8\u610f\uff0c\u80f6\u5e26\u672c\u8eab\u6709\u539a\u5ea6\uff0c\u4e0d\u540c\u7684\u80f6\u5e26\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u5e8a\u9762\uff09\u5c06\u5f71\u54cd Z \u7684\u6d4b\u91cf\u3002\u8bf7\u786e\u4fdd\u7528\u585e\u7eb8\u6d4b\u8bd5\u6d4b\u91cf\u6bcf\u4e00\u79cd\u4f7f\u7528\u7684\u5e8a\u9762\u3002 \u5982\u679c\u55b7\u5634\u4e0a\u6b8b\u7559\u4e86\u5851\u6599\uff0c\u9700\u8981\u5148\u52a0\u70ed\u6324\u51fa\u5934\u5e76\u7528\u91d1\u5c5e\u954a\u5b50\u628a\u8fd9\u4e9b\u5851\u6599\u53bb\u9664\u3002\u7b49\u5230\u6324\u51fa\u673a\u5b8c\u5168\u51b7\u5374\u5230\u5ba4\u6e29\u540e\uff0c\u518d\u7ee7\u7eed\u8fdb\u884c\u7eb8\u5f20\u6d4b\u8bd5\u3002\u5f53\u55b7\u5634\u6b63\u5728\u51b7\u5374\u65f6\uff0c\u4f7f\u7528\u91d1\u5c5e\u954a\u5b50\u53bb\u9664\u4efb\u4f55\u53ef\u80fd\u6f0f\u51fa\u7684\u5851\u6599\u3002 \u53ea\u5728\u55b7\u5634\u548c\u6253\u5370\u5e8a\u90fd\u5904\u4e8e\u5ba4\u6e29\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u585e\u7eb8\u6d4b\u8bd5\uff01 \u5f53\u55b7\u5634\u88ab\u52a0\u70ed\u65f6\uff0c\u5176\u4f4d\u7f6e\uff08\u76f8\u5bf9\u4e8e\u5e8a\u9762\uff09\u4f1a\u56e0\u70ed\u81a8\u80c0\u800c\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u79cd\u70ed\u81a8\u80c0\u901a\u5e38\u5728100\u5fae\u7c73\u5de6\u53f3\uff0c\u5927\u7ea6\u662f\u4e00\u5f20\u5178\u578b\u7684\u6253\u5370\u7eb8\u7684\u539a\u5ea6\u3002\u70ed\u81a8\u80c0\u7684\u786e\u5207\u7a0b\u5ea6\u5e76\u4e0d\u5173\u952e\uff0c\u6b63\u5982\u7eb8\u5f20\u7684\u786e\u5207\u539a\u5ea6\u5e76\u4e0d\u5173\u952e\u4e00\u6837\u3002\u4ece\u5047\u8bbe\u4e8c\u8005\u76f8\u7b49\u5f00\u59cb\uff08\u89c1\u4e0b\u6587\u786e\u5b9a\u4e8c\u8005\u5bbd\u5ea6\u4e4b\u5dee\u7684\u65b9\u6cd5\uff09\u3002 \u5f53\u76ee\u6807\u662f\u5728\u52a0\u70ed\u65f6\u6709\u4e00\u4e2a\u4e00\u81f4\u7684\u8ddd\u79bb\u65f6\uff0c\u5728\u5ba4\u6e29\u4e0b\u6821\u51c6\u8ddd\u79bb\u53ef\u80fd\u542c\u8d77\u6765\u5f88\u5947\u602a\u3002\u7136\u800c\uff0c\u5982\u679c\u5728\u55b7\u5634\u52a0\u70ed\u65f6\u8fdb\u884c\u6821\u51c6\uff0c\u5f80\u5f80\u4f1a\u6709\u5c11\u91cf\u7684\u7194\u878d\u5851\u6599\u6e17\u5165\u7eb8\u5f20\uff0c\u4ece\u800c\u6539\u53d8\u4e86\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u8fd9\u4f1a\u5f71\u54cd\u6821\u51c6\u7cbe\u5ea6\u3002\u5728\u5e8a\u6216\u55b7\u5634\u70ed\u7684\u65f6\u5019\u8fdb\u884c\u6821\u51c6\u4e5f\u4f1a\u5927\u5927\u589e\u52a0\u70e7\u4f24\u98ce\u9669\u3002\u70ed\u81a8\u80c0\u91cf\u662f\u7a33\u5b9a\u7684\uff0c\u6240\u4ee5\u5728\u6821\u51c6\u8fc7\u7a0b\u4e2d\u5f88\u5bb9\u6613\u88ab\u8003\u8651\u5230\u3002 \u4f7f\u7528\u81ea\u52a8\u5316\u5de5\u5177\u6765\u786e\u5b9a\u7cbe\u786e\u7684 Z \u9ad8\u5ea6\uff01 Klipper \u6709\u51e0\u4e2a\u8f85\u52a9\u811a\u672c\uff08\u4f8b\u5982\uff0cMANUAL_PROBE\u3001Z_ENDSTOP_CALIBRATE\u3001PROBE_CALIBRATE \u6216 DELTA_CALIBRATE\uff09\u3002\u8bf7\u53c2\u9605 \u4e0a\u8ff0\u7ae0\u8282 \u6765\u9009\u62e9\u5b83\u4eec\u3002 \u5728OctoPrint\u7ec8\u7aef\u7a97\u53e3\u4e2d\u8fd0\u884c\u9002\u5f53\u7684\u547d\u4ee4\u3002\u8be5\u811a\u672c\u5c06\u5728OctoPrint\u7ec8\u7aef\u8f93\u51fa\u4e2d\u63d0\u793a\u7528\u6237\u4e92\u52a8\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a Recv: // Starting manual Z probe. Use TESTZ to adjust position. Recv: // Finish with ACCEPT or ABORT command. Recv: // Z position: ?????? --> 5.000 <-- ?????? \u55b7\u5634\u7684\uff08\u6309\u7167\u6253\u5370\u673a\u76ee\u524d\u7684\u5b9a\u4e49\u7684\uff09\u5f53\u524d\u9ad8\u5ea6\u663e\u793a\u5728\"--> <--\"\u4e4b\u95f4\u3002\u53f3\u8fb9\u7684\u6570\u5b57\u662f\u521a\u521a\u5927\u4e8e\u5f53\u524d\u9ad8\u5ea6\u7684\u6700\u540e\u4e00\u6b21\u63a2\u6d4b\u9ad8\u5ea6\uff0c\u5de6\u8fb9\u7684\u6570\u5b57\u662f\u5c0f\u4e8e\u5f53\u524d\u9ad8\u5ea6\u7684\u6700\u540e\u4e00\u6b21\u63a2\u6d4b\u9ad8\u5ea6\uff08\u5982\u679c\u6ca1\u6709\u5c1d\u8bd5\uff0c\u5219??????\uff09\u3002 \u5c06\u7eb8\u653e\u5728\u55b7\u5634\u548c\u5e8a\u9762\u4e4b\u95f4\u3002\u6298\u53e0\u7eb8\u5f20\u7684\u4e00\u89d2\u53ef\u4ee5\u8ba9\u5b83\u66f4\u5bb9\u6613\u88ab\u6293\u5728\u624b\u91cc\u3002(\u6765\u56de\u79fb\u52a8\u7eb8\u5f20\u65f6\uff0c\u5c3d\u91cf\u4e0d\u8981\u4e0b\u538b\u5e8a\u9762\u3002\uff09 \u4f7f\u7528 TESTZ \u547d\u4ee4\u5c06\u55b7\u5634\u5411\u7eb8\u6761\u9760\u8fd1\u3002\u4f8b\u5982\uff1a TESTZ Z=-.1 TESTZ\u547d\u4ee4\u5c06\u76f8\u5bf9\u55b7\u5634\u7684\u5f53\u524d\u4f4d\u7f6e\u79fb\u52a8\u6307\u5b9a\u8ddd\u79bb\u3002(\u56e0\u6b64\uff0c Z=-.1 \u547d\u4ee4\u55b7\u5634\u5411\u5e8a\u8eab\u9760\u8fd1 0.1mm\u3002\uff09\u55b7\u5634\u505c\u6b62\u79fb\u52a8\u540e\uff0c\u6765\u56de\u63a8\u52a8\u7eb8\u5f20\uff0c\u68c0\u67e5\u55b7\u5634\u662f\u5426\u4e0e\u7eb8\u5f20\u63a5\u89e6\uff0c\u5e76\u611f\u53d7\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u7ee7\u7eed\u53d1\u51fa TESTZ \u547d\u4ee4\uff0c\u76f4\u5230\u585e\u7eb8\u6d4b\u8bd5\u65f6\u611f\u89c9\u5230\u5c11\u91cf\u7684\u6469\u64e6\u3002 \u5982\u679c\u53d1\u73b0\u6469\u64e6\u529b\u592a\u5927\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u4e00\u4e2a\u6b63\u7684 Z \u503c\u5c06\u55b7\u5634\u5411\u4e0a\u79fb\u52a8\uff0c\u6216\u8005\u7528 TESTZ Z=+ \u6216 TESTZ Z=- \u6765\u4e8c\u5206\u4e0a\u4e00\u6b21\u4f4d\u7f6e\u548c\u5f53\u524d\u4f4d\u7f6e-\u4e5f\u5c31\u662f\u79fb\u52a8\u5230\u4e24\u4e2a\u4f4d\u7f6e\u4e4b\u95f4\u7684\u4e00\u534a\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4ece TESTZ \u547d\u4ee4\u540e\u6536\u5230\u4ee5\u4e0b\u53cd\u9988\uff1a Recv: // Z position: 0.130 --> 0.230 <-- 0.280 \u7136\u540e TESTZ Z=- \u4f1a\u5c06\u55b7\u5634\u79fb\u52a8\u5230 Z \u5750\u6807 0.180 \uff080.130 \u548c 0.230\u4e4b\u95f4\uff09\u3002\u8fd9\u4e2a\u529f\u80fd\u53ef\u4ee5\u5feb\u901f\u7684\u627e\u5230\u4e00\u81f4\u963b\u529b\u7684\u4f4d\u7f6e\u3002\u4e5f\u53ef\u4ee5\u7528 Z=++ \u548c Z=-- \u76f4\u63a5\u56de\u5230\u4e0a\u4e00\u6b21\u6d4b\u91cf\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5728\u4e0a\u9762\u53cd\u9988\u540e\u6267\u884c TESTZ Z=-- \u547d\u4ee4\u4f1a\u5c06 Z \u5750\u6807\u79fb\u52a8\u5230 0.130\u3002 \u611f\u53d7\u5230\u5c11\u91cf\u7684\u6469\u64e6\u540e\uff0c\u8fd0\u884c ACCEPT \u547d\u4ee4\uff1a ACCEPT \u8fd9\u5c06\u63a5\u53d7\u7ed9\u5b9a\u7684 Z \u9ad8\u5ea6\uff0c\u5e76\u7ee7\u7eed\u4f7f\u7528\u7ed9\u5b9a\u7684\u6821\u51c6\u5de5\u5177\u3002 \u786e\u5207\u7684\u963b\u529b\u5e76\u4e0d\u91cd\u8981\uff0c\u5c31\u50cf\u70ed\u81a8\u80c0\u91cf\u548c\u7eb8\u5f20\u7684\u786e\u5207\u5bbd\u5ea6\u5e76\u4e0d\u91cd\u8981\u4e00\u6837\u3002\u53ea\u9700\u8981\u6bcf\u6b21\u6d4b\u8bd5\u65f6\u5c3d\u91cf\u8fbe\u5230\u76f8\u540c\u7684\u963b\u529b\u5c31\u884c\u4e86\u3002 \u5982\u679c\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u51fa\u4e86\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528 ABORT \u547d\u4ee4\u6765\u9000\u51fa\u6821\u51c6\u5de5\u5177\u3002 \u786e\u5b9a\u70ed\u81a8\u80c0 \u00b6 \u5728\u6210\u529f\u8fdb\u884c\u6253\u5370\u5e8a\u8c03\u5e73\u540e\uff0c\u53ef\u4ee5\u7ee7\u7eed\u8ba1\u7b97\"\u70ed\u81a8\u80c0\"\u3001\"\u7eb8\u5f20\u539a\u5ea6\"\u548c\"\u7eb8\u5f20\u6d4b\u8bd5\u65f6\u611f\u53d7\u5230\u7684\u6469\u64e6\u91cf\"\u7efc\u5408\u5f71\u54cd\u7684\u7cbe\u786e\u503c\u3002 \u8fd9\u79cd\u7c7b\u578b\u7684\u8ba1\u7b97\u901a\u5e38\u662f\u4e0d\u9700\u8981\u7684\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u7528\u6237\u53d1\u73b0\u7b80\u5355\u7684\"\u585e\u7eb8\u6d4b\u8bd5\"\u63d0\u4f9b\u4e86\u8db3\u591f\u597d\u7684\u7ed3\u679c\u3002 \u6700\u7b80\u5355\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f\u6253\u5370\u4e00\u4e2a\u56db\u9762\u90fd\u662f\u76f4\u58c1\u7684\u6d4b\u8bd5\u7269\u4f53\u3002\u53ef\u4ee5\u7528\u5728 docs/prints/square.stl \u4e2d\u627e\u5230\u7684\u5927\u578b\u7a7a\u5fc3\u65b9\u5f62\u3002\u5728\u5207\u7247\u65f6\uff0c\u786e\u4fdd\u5207\u7247\u8f6f\u4ef6\u5728\u7b2c\u4e00\u5c42\u4f7f\u7528\u4e0e\u6240\u6709\u540e\u7eed\u5c42\u76f8\u540c\u7684\u5c42\u9ad8\u548c\u6324\u51fa\u5bbd\u5ea6\u3002\u4f7f\u7528\u8f83\u9ad8\u7684\u5c42\u9ad8\uff08\u5c42\u9ad8\u5e94\u8be5\u662f\u55b7\u5634\u76f4\u5f84\u768475%\u5de6\u53f3\uff09\uff0c\u4e0d\u8981\u4f7f\u7528\u88d9\u8fb9(skirt)\u6216\u7b4f(raft)\u3002 \u6253\u5370\u6d4b\u8bd5\u5bf9\u8c61\uff0c\u7b49\u5f85\u5176\u81ea\u7136\u51b7\u5374\uff0c\u5e76\u5c06\u5176\u4ece\u6253\u5370\u5e8a\u4e0a\u53d6\u4e0b\u3002\u68c0\u67e5\u8be5\u7269\u4f53\u7684\u6700\u4f4e\u5c42\u3002(\u53ef\u4ee5\u7528\u624b\u6307\u6216\u6307\u7532\u6cbf\u5e95\u5c42\u8fb9\u7f18\u5212\u4e00\u4e0b\u3002)\u5982\u679c\u53d1\u73b0\u5e95\u5c42\u6cbf\u7740\u7269\u4f53\u7684\u56db\u8fb9\u7565\u5fae\u51f8\u8d77\uff0c\u5219\u8868\u660e\u55b7\u5634\u79bb\u5e8a\u9762\u504f\u8fd1\u3002\u53ef\u4ee5\u53d1\u51fa SET_GCODE_OFFSET Z=+.010 \u547d\u4ee4\u6765\u589e\u52a0\u9ad8\u5ea6\u3002\u5728\u672a\u6765\u7684\u6253\u5370\u4e2d\uff0c\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u6cd5\u68c0\u67e5\u8fd9\u79cd\u6027\u72b6\uff0c\u5e76\u6839\u636e\u9700\u8981\u4f5c\u8fdb\u4e00\u6b65\u8c03\u6574\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u8c03\u6574\u901a\u5e38\u662f\u4ee5 10 \u5fae\u7c73\uff080.010\u6beb\u7c73\uff09\u4e3a\u5355\u4f4d\u3002 \u5982\u679c\u9996\u5c42\u4e00\u76f4\u6bd4\u540e\u7eed\u5c42\u7a84\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 SET_GCODE_OFFSET \u547d\u4ee4\u8fdb\u884c\u8d1f\u7684 Z \u8c03\u6574\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u90a3\u4e48\u53ef\u4ee5\u51cf\u5c11 Z \u503c\uff0c\u76f4\u5230\u5e95\u5c42\u7684\u5370\u5237\u54c1\u51fa\u73b0\u4e00\u4e2a\u5c0f\u7684\u51f8\u8d77\uff0c\u7136\u540e\u518d\u589e\u52a0 Z \u503c\u76f4\u5230\u5b83\u6d88\u5931\u3002 \u5e94\u7528\u671f\u671b\u7684Z \u503c\u8c03\u6574\u7684\u6700\u7b80\u5355\u65b9\u6cd5\u662f\u521b\u5efa\u4e00\u4e2a START_PRINT G\u4ee3\u7801\u5b8f\uff0c\u914d\u7f6e\u5207\u7247\u8f6f\u4ef6\u5728\u6253\u5370\u5f00\u59cb\u4ee3\u7801\u4e2d\u8c03\u7528\u8be5\u5b8f\uff0c\u5e76\u4e3a\u8be5\u5b8f\u6dfb\u52a0 SET_GCODE_OFFSET \u547d\u4ee4\u3002\u8be6\u60c5\u89c1 \u5207\u7247\u8f6f\u4ef6 \u6587\u6863\u3002","title":"\u6253\u5370\u5e8a\u8c03\u5e73"},{"location":"Bed_Level.html#_1","text":"\u6253\u5370\u5e8a\u8c03\u5e73\uff08\u6709\u65f6\u4e5f\u88ab\u79f0\u4e3a \"bed tramming\"\uff09\u5bf9\u4e8e\u83b7\u5f97\u9ad8\u8d28\u91cf\u7684\u6253\u5370\u7ed3\u679c\u81f3\u5173\u91cd\u8981\u3002\u9519\u8bef\"\u8c03\u5e73\"\u7684\u6253\u5370\u5e8a\u4f1a\u9020\u6210\u9644\u7740\u529b\u5dee\u3001\"\u7fd8\u66f2\"\uff0c\u4ee5\u53ca\u6574\u4e2a\u6253\u5370\u8fc7\u7a0b\u4e2d\u7684\u7ec6\u5fae\u95ee\u9898\u3002\u672c\u6587\u6863\u662f\u5728 Klipper \u4e2d\u8fdb\u884c\u8c03\u5e73\u7684\u6307\u5357\u3002 \u4e86\u89e3\u6253\u5370\u5e8a\u8c03\u5e73\u7684\u76ee\u6807\u5f88\u91cd\u8981\u3002\u5982\u679c\u6253\u5370\u673a\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u88ab\u547d\u4ee4\u5230 X0 Y0 Z10 \u7684\u4f4d\u7f6e\uff0c\u90a3\u4e48\u76ee\u6807\u662f\u8ba9\u6253\u5370\u673a\u7684\u55b7\u5634\u8ddd\u79bb\u6253\u5370\u5e8a\u6b63\u597d10\u6beb\u7c73\u3002\u6b64\u5916\uff0c\u5982\u679c\u6253\u5370\u673a\u88ab\u547d\u4ee4\u5230 X50 Z10 \u7684\u4f4d\u7f6e\uff0c\u76ee\u6807\u662f\u5728\u6574\u4e2a\u6c34\u5e73\u79fb\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u55b7\u5634\u4e0e\u5e8a\u9762\u59cb\u7ec8\u4fdd\u630110\u6beb\u7c73\u7684\u51c6\u786e\u8ddd\u79bb\u3002 \u4e3a\u4e86\u83b7\u5f97\u826f\u597d\u7684\u6253\u5370\u8d28\u91cf\uff0c\u6253\u5370\u673a\u5e94\u8fdb\u884c\u6821\u51c6\uff0c\u4f7fZ\u8f74\u8ddd\u79bb\u7684\u7cbe\u5ea6\u5728\u7ea625\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\u3002\u8fd9\u662f\u4e00\u4e2a\u5f88\u5c0f\u7684\u8ddd\u79bb\uff0c\u8fdc\u5c0f\u4e8e\u5178\u578b\u4eba\u7c7b\u5934\u53d1\u7684\u5bbd\u5ea6\u3002\u8fd9\u4e2a\u5c3a\u5ea6\u662f\u4e0d\u80fd \"\u7528\u773c\u775b \"\u6765\u6d4b\u91cf\u7684\u3002\u5fae\u5999\u7684\u5f71\u54cd\uff08\u5982\u70ed\u81a8\u80c0\uff09\u4f1a\u5f71\u54cd\u8fd9\u4e2a\u5c3a\u5ea6\u7684\u6d4b\u91cf\u3002\u83b7\u5f97\u9ad8\u7cbe\u5ea6\u7684\u79d8\u8bc0\u662f\u4f7f\u7528\u4e00\u4e2a\u53ef\u91cd\u590d\uff0c\u9ad8\u7cbe\u5ea6\uff0c\u5e76\u80fd\u591f\u5229\u7528\u6253\u5370\u673a\u81ea\u8eab\u8fd0\u52a8\u7cfb\u7edf\u7684\u8c03\u5e73\u65b9\u6cd5\u3002","title":"\u6253\u5370\u5e8a\u8c03\u5e73"},{"location":"Bed_Level.html#_2","text":"\u4e0d\u540c\u7c7b\u578b\u7684\u6253\u5370\u673a\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u8c03\u5e73\uff0c\u4f46\u662f\u6240\u6709\u8fd9\u4e9b\u65b9\u6cd5\u6700\u7ec8\u90fd\u53d6\u51b3\u4e8e\u201c\u7eb8\u5f20\u6d4b\u8bd5\u201c\uff08\u5982\u4e0b\u6240\u8ff0\uff09\u3002\u7279\u5b9a\u7c7b\u578b\u6253\u5370\u673a\u7684\u5b9e\u9645\u8c03\u5e73\u8fc7\u7a0b\u5728\u5176\u4ed6\u6587\u6863\u4e2d\u6709\u6240\u63cf\u8ff0\u3002 \u5728\u8fd0\u884c\u4efb\u4f55\u6821\u51c6\u5de5\u5177\u524d\uff0c\u4e00\u5b9a\u8981\u6267\u884c\u5728 \u914d\u7f6e\u68c0\u67e5\u6587\u6863 \u4e2d \u63cf\u8ff0\u7684\u68c0\u67e5\u6b65\u9aa4\u3002\u5728\u6253\u5370\u5e8a\u8c03\u5e73\u524d\u6709\u5fc5\u8981\u9a8c\u8bc1\u6253\u5370\u673a\u7684\u57fa\u672c\u8fd0\u52a8\u3002 \u5bf9\u4e8e\u5e26\u6709\u201c\u81ea\u52a8 Z \u63a2\u9488\u201d\u7684\u6253\u5370\u673a\uff0c\u8bf7\u52a1\u5fc5\u6309\u7167 \u63a2\u9488\u6821\u51c6 \u6587\u6863\u4e2d\u7684\u8bf4\u660e\u5148\u6821\u51c6\u63a2\u9488\u3002\u5bf9\u4e8e\u4e09\u89d2\u6d32\u7ed3\u6784\u7684\u6253\u5370\u673a\uff0c\u8bf7\u53c2\u9605 \u4e09\u89d2\u6d32\u6821\u51c6 \u6587\u6863\u3002\u5bf9\u4e8e\u5e26\u6709\u6253\u5370\u5e8a\u8c03\u5e73\u87ba\u4e1d\u548c\u4f20\u7edf Z \u9650\u4f4d\u7684\u6253\u5370\u673a\uff0c\u8bf7\u53c2\u9605 \u624b\u52a8\u8c03\u5e73 \u6587\u6863\u3002 \u5728\u6821\u51c6\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u5c06\u6253\u5370\u673a\u7684Z position_min \u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u8d1f\u6570\uff08\u4f8b\u5982\uff0c position_min = -2 \uff09\u3002\u5373\u4f7f\u5728\u6821\u51c6\u7a0b\u5e8f\u4e2d\uff0c\u6253\u5370\u673a\u4e5f\u4f1a\u6267\u884c\u8fb9\u754c\u68c0\u67e5\u3002\u8bbe\u7f6e\u4e00\u4e2a\u8d1f\u6570\u5141\u8bb8\u6253\u5370\u673a\u5728\u6253\u5370\u5e8a\u7684\u6807\u79f0\u4f4d\u7f6e\u4ee5\u4e0b\u79fb\u52a8\uff0c\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u786e\u5b9a\u5b9e\u9645\u5e8a\u9762\u4f4d\u7f6e\u3002","title":"\u9009\u62e9\u9002\u5f53\u7684\u6821\u51c6\u673a\u5236"},{"location":"Bed_Level.html#a4","text":"\u5e8a\u8c03\u5e73\u7684\u6838\u5fc3\u6821\u51c6\u673a\u5236\u662f\"\u585e\u7eb8\u6d4b\u8bd5\"\u3002\u5b83\u6d89\u53ca\u5728\u6253\u5370\u5e8a\u548c\u55b7\u5634\u4e4b\u95f4\u653e\u7f6e\u4e00\u5f20\u666e\u901a\u6253\u5370\u7eb8\uff0c\u7136\u540e\u5c06\u55b7\u5634\u63a7\u5236\u5230\u4e0d\u540c\u7684Z\u9ad8\u5ea6\uff0c\u76f4\u5230\u5728\u6765\u56de\u79fb\u52a8\u7eb8\u5f20\u65f6\u611f\u89c9\u5230\u9002\u91cf\u7684\u963b\u529b\u3002 \u5373\u4f7f\u4f60\u7684\u6253\u5370\u673a\u5e26\u6709\u81ea\u52a8Z\u63a2\u9488\uff0c\u7406\u89e3\u585e\u7eb8\u6d4b\u8bd5\u4f9d\u7136\u5f88\u91cd\u8981\u3002\u4e3a\u4e86\u4fdd\u8bc1\u63a2\u9488\u7684\u6548\u679c\uff0c\u5b83\u7ecf\u5e38\u4f1a\u9700\u8981\u6821\u51c6\u3002\u63a2\u9488\u7684\u6821\u51c6\u673a\u5236\u4e5f\u4f9d\u8d56\u585e\u7eb8\u6d4b\u8bd5\u3002 \u4e3a\u4e86\u8fdb\u884c\u585e\u7eb8\u6d4b\u8bd5\uff0c\u5148\u7528\u526a\u5200\u526a\u4e0b\u4e00\u5c0f\u5757\u957f\u65b9\u5f62\u7684\u7eb8\u6761\uff08\u4f8b\u5982\uff0c5x3\u5398\u7c73\uff09\u3002\u6253\u5370\u7eb8\u7684\u539a\u5ea6\u4e00\u822c\u4e3a100\u5fae\u7c73\uff080.100mm\uff09\u5de6\u53f3\u3002(\u7eb8\u6761\u7684\u786e\u5207\u5bbd\u5ea6\u5e76\u4e0d\u91cd\u8981.\uff09 \u7eb8\u5f20\u6d4b\u8bd5\u7684\u7b2c\u4e00\u6b65\u662f\u68c0\u67e5\u6253\u5370\u673a\u7684\u55b7\u5634\u548c\u6253\u5370\u5e8a\u3002\u786e\u4fdd\u55b7\u5634\u548c\u6253\u5370\u5e8a\u9762\u4e0a\u6ca1\u6709\u5851\u6599\uff08\u6216\u5176\u4ed6\u6742\u7269\uff09\u3002 \u8bf7\u4ed4\u7ec6\u68c0\u67e5\u55b7\u5634\u548c\u5e8a\u9762\uff0c\u786e\u4fdd\u6ca1\u6709\u6b8b\u7559\u5851\u6599\u5b58\u5728\uff01 \u5982\u679c\u603b\u662f\u5728\u4e00\u79cd\u80f6\u5e26\u6216\u5e8a\u9762\u4e0a\u6253\u5370\uff0c\u53ef\u4ee5\u5728\u8be5\u80f6\u5e26\u6216\u5e8a\u9762\u4e0a\u76f4\u63a5\u8fdb\u884c\u585e\u7eb8\u6d4b\u8bd5\u3002\u8bf7\u6ce8\u610f\uff0c\u80f6\u5e26\u672c\u8eab\u6709\u539a\u5ea6\uff0c\u4e0d\u540c\u7684\u80f6\u5e26\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u5e8a\u9762\uff09\u5c06\u5f71\u54cd Z \u7684\u6d4b\u91cf\u3002\u8bf7\u786e\u4fdd\u7528\u585e\u7eb8\u6d4b\u8bd5\u6d4b\u91cf\u6bcf\u4e00\u79cd\u4f7f\u7528\u7684\u5e8a\u9762\u3002 \u5982\u679c\u55b7\u5634\u4e0a\u6b8b\u7559\u4e86\u5851\u6599\uff0c\u9700\u8981\u5148\u52a0\u70ed\u6324\u51fa\u5934\u5e76\u7528\u91d1\u5c5e\u954a\u5b50\u628a\u8fd9\u4e9b\u5851\u6599\u53bb\u9664\u3002\u7b49\u5230\u6324\u51fa\u673a\u5b8c\u5168\u51b7\u5374\u5230\u5ba4\u6e29\u540e\uff0c\u518d\u7ee7\u7eed\u8fdb\u884c\u7eb8\u5f20\u6d4b\u8bd5\u3002\u5f53\u55b7\u5634\u6b63\u5728\u51b7\u5374\u65f6\uff0c\u4f7f\u7528\u91d1\u5c5e\u954a\u5b50\u53bb\u9664\u4efb\u4f55\u53ef\u80fd\u6f0f\u51fa\u7684\u5851\u6599\u3002 \u53ea\u5728\u55b7\u5634\u548c\u6253\u5370\u5e8a\u90fd\u5904\u4e8e\u5ba4\u6e29\u7684\u60c5\u51b5\u4e0b\u8fdb\u884c\u585e\u7eb8\u6d4b\u8bd5\uff01 \u5f53\u55b7\u5634\u88ab\u52a0\u70ed\u65f6\uff0c\u5176\u4f4d\u7f6e\uff08\u76f8\u5bf9\u4e8e\u5e8a\u9762\uff09\u4f1a\u56e0\u70ed\u81a8\u80c0\u800c\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u79cd\u70ed\u81a8\u80c0\u901a\u5e38\u5728100\u5fae\u7c73\u5de6\u53f3\uff0c\u5927\u7ea6\u662f\u4e00\u5f20\u5178\u578b\u7684\u6253\u5370\u7eb8\u7684\u539a\u5ea6\u3002\u70ed\u81a8\u80c0\u7684\u786e\u5207\u7a0b\u5ea6\u5e76\u4e0d\u5173\u952e\uff0c\u6b63\u5982\u7eb8\u5f20\u7684\u786e\u5207\u539a\u5ea6\u5e76\u4e0d\u5173\u952e\u4e00\u6837\u3002\u4ece\u5047\u8bbe\u4e8c\u8005\u76f8\u7b49\u5f00\u59cb\uff08\u89c1\u4e0b\u6587\u786e\u5b9a\u4e8c\u8005\u5bbd\u5ea6\u4e4b\u5dee\u7684\u65b9\u6cd5\uff09\u3002 \u5f53\u76ee\u6807\u662f\u5728\u52a0\u70ed\u65f6\u6709\u4e00\u4e2a\u4e00\u81f4\u7684\u8ddd\u79bb\u65f6\uff0c\u5728\u5ba4\u6e29\u4e0b\u6821\u51c6\u8ddd\u79bb\u53ef\u80fd\u542c\u8d77\u6765\u5f88\u5947\u602a\u3002\u7136\u800c\uff0c\u5982\u679c\u5728\u55b7\u5634\u52a0\u70ed\u65f6\u8fdb\u884c\u6821\u51c6\uff0c\u5f80\u5f80\u4f1a\u6709\u5c11\u91cf\u7684\u7194\u878d\u5851\u6599\u6e17\u5165\u7eb8\u5f20\uff0c\u4ece\u800c\u6539\u53d8\u4e86\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u8fd9\u4f1a\u5f71\u54cd\u6821\u51c6\u7cbe\u5ea6\u3002\u5728\u5e8a\u6216\u55b7\u5634\u70ed\u7684\u65f6\u5019\u8fdb\u884c\u6821\u51c6\u4e5f\u4f1a\u5927\u5927\u589e\u52a0\u70e7\u4f24\u98ce\u9669\u3002\u70ed\u81a8\u80c0\u91cf\u662f\u7a33\u5b9a\u7684\uff0c\u6240\u4ee5\u5728\u6821\u51c6\u8fc7\u7a0b\u4e2d\u5f88\u5bb9\u6613\u88ab\u8003\u8651\u5230\u3002 \u4f7f\u7528\u81ea\u52a8\u5316\u5de5\u5177\u6765\u786e\u5b9a\u7cbe\u786e\u7684 Z \u9ad8\u5ea6\uff01 Klipper \u6709\u51e0\u4e2a\u8f85\u52a9\u811a\u672c\uff08\u4f8b\u5982\uff0cMANUAL_PROBE\u3001Z_ENDSTOP_CALIBRATE\u3001PROBE_CALIBRATE \u6216 DELTA_CALIBRATE\uff09\u3002\u8bf7\u53c2\u9605 \u4e0a\u8ff0\u7ae0\u8282 \u6765\u9009\u62e9\u5b83\u4eec\u3002 \u5728OctoPrint\u7ec8\u7aef\u7a97\u53e3\u4e2d\u8fd0\u884c\u9002\u5f53\u7684\u547d\u4ee4\u3002\u8be5\u811a\u672c\u5c06\u5728OctoPrint\u7ec8\u7aef\u8f93\u51fa\u4e2d\u63d0\u793a\u7528\u6237\u4e92\u52a8\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff1a Recv: // Starting manual Z probe. Use TESTZ to adjust position. Recv: // Finish with ACCEPT or ABORT command. Recv: // Z position: ?????? --> 5.000 <-- ?????? \u55b7\u5634\u7684\uff08\u6309\u7167\u6253\u5370\u673a\u76ee\u524d\u7684\u5b9a\u4e49\u7684\uff09\u5f53\u524d\u9ad8\u5ea6\u663e\u793a\u5728\"--> <--\"\u4e4b\u95f4\u3002\u53f3\u8fb9\u7684\u6570\u5b57\u662f\u521a\u521a\u5927\u4e8e\u5f53\u524d\u9ad8\u5ea6\u7684\u6700\u540e\u4e00\u6b21\u63a2\u6d4b\u9ad8\u5ea6\uff0c\u5de6\u8fb9\u7684\u6570\u5b57\u662f\u5c0f\u4e8e\u5f53\u524d\u9ad8\u5ea6\u7684\u6700\u540e\u4e00\u6b21\u63a2\u6d4b\u9ad8\u5ea6\uff08\u5982\u679c\u6ca1\u6709\u5c1d\u8bd5\uff0c\u5219??????\uff09\u3002 \u5c06\u7eb8\u653e\u5728\u55b7\u5634\u548c\u5e8a\u9762\u4e4b\u95f4\u3002\u6298\u53e0\u7eb8\u5f20\u7684\u4e00\u89d2\u53ef\u4ee5\u8ba9\u5b83\u66f4\u5bb9\u6613\u88ab\u6293\u5728\u624b\u91cc\u3002(\u6765\u56de\u79fb\u52a8\u7eb8\u5f20\u65f6\uff0c\u5c3d\u91cf\u4e0d\u8981\u4e0b\u538b\u5e8a\u9762\u3002\uff09 \u4f7f\u7528 TESTZ \u547d\u4ee4\u5c06\u55b7\u5634\u5411\u7eb8\u6761\u9760\u8fd1\u3002\u4f8b\u5982\uff1a TESTZ Z=-.1 TESTZ\u547d\u4ee4\u5c06\u76f8\u5bf9\u55b7\u5634\u7684\u5f53\u524d\u4f4d\u7f6e\u79fb\u52a8\u6307\u5b9a\u8ddd\u79bb\u3002(\u56e0\u6b64\uff0c Z=-.1 \u547d\u4ee4\u55b7\u5634\u5411\u5e8a\u8eab\u9760\u8fd1 0.1mm\u3002\uff09\u55b7\u5634\u505c\u6b62\u79fb\u52a8\u540e\uff0c\u6765\u56de\u63a8\u52a8\u7eb8\u5f20\uff0c\u68c0\u67e5\u55b7\u5634\u662f\u5426\u4e0e\u7eb8\u5f20\u63a5\u89e6\uff0c\u5e76\u611f\u53d7\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u7ee7\u7eed\u53d1\u51fa TESTZ \u547d\u4ee4\uff0c\u76f4\u5230\u585e\u7eb8\u6d4b\u8bd5\u65f6\u611f\u89c9\u5230\u5c11\u91cf\u7684\u6469\u64e6\u3002 \u5982\u679c\u53d1\u73b0\u6469\u64e6\u529b\u592a\u5927\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u4e00\u4e2a\u6b63\u7684 Z \u503c\u5c06\u55b7\u5634\u5411\u4e0a\u79fb\u52a8\uff0c\u6216\u8005\u7528 TESTZ Z=+ \u6216 TESTZ Z=- \u6765\u4e8c\u5206\u4e0a\u4e00\u6b21\u4f4d\u7f6e\u548c\u5f53\u524d\u4f4d\u7f6e-\u4e5f\u5c31\u662f\u79fb\u52a8\u5230\u4e24\u4e2a\u4f4d\u7f6e\u4e4b\u95f4\u7684\u4e00\u534a\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4ece TESTZ \u547d\u4ee4\u540e\u6536\u5230\u4ee5\u4e0b\u53cd\u9988\uff1a Recv: // Z position: 0.130 --> 0.230 <-- 0.280 \u7136\u540e TESTZ Z=- \u4f1a\u5c06\u55b7\u5634\u79fb\u52a8\u5230 Z \u5750\u6807 0.180 \uff080.130 \u548c 0.230\u4e4b\u95f4\uff09\u3002\u8fd9\u4e2a\u529f\u80fd\u53ef\u4ee5\u5feb\u901f\u7684\u627e\u5230\u4e00\u81f4\u963b\u529b\u7684\u4f4d\u7f6e\u3002\u4e5f\u53ef\u4ee5\u7528 Z=++ \u548c Z=-- \u76f4\u63a5\u56de\u5230\u4e0a\u4e00\u6b21\u6d4b\u91cf\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5728\u4e0a\u9762\u53cd\u9988\u540e\u6267\u884c TESTZ Z=-- \u547d\u4ee4\u4f1a\u5c06 Z \u5750\u6807\u79fb\u52a8\u5230 0.130\u3002 \u611f\u53d7\u5230\u5c11\u91cf\u7684\u6469\u64e6\u540e\uff0c\u8fd0\u884c ACCEPT \u547d\u4ee4\uff1a ACCEPT \u8fd9\u5c06\u63a5\u53d7\u7ed9\u5b9a\u7684 Z \u9ad8\u5ea6\uff0c\u5e76\u7ee7\u7eed\u4f7f\u7528\u7ed9\u5b9a\u7684\u6821\u51c6\u5de5\u5177\u3002 \u786e\u5207\u7684\u963b\u529b\u5e76\u4e0d\u91cd\u8981\uff0c\u5c31\u50cf\u70ed\u81a8\u80c0\u91cf\u548c\u7eb8\u5f20\u7684\u786e\u5207\u5bbd\u5ea6\u5e76\u4e0d\u91cd\u8981\u4e00\u6837\u3002\u53ea\u9700\u8981\u6bcf\u6b21\u6d4b\u8bd5\u65f6\u5c3d\u91cf\u8fbe\u5230\u76f8\u540c\u7684\u963b\u529b\u5c31\u884c\u4e86\u3002 \u5982\u679c\u5728\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u51fa\u4e86\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528 ABORT \u547d\u4ee4\u6765\u9000\u51fa\u6821\u51c6\u5de5\u5177\u3002","title":"\u201cA4\u7eb8\u6d4b\u8bd5\u6cd5\u201d"},{"location":"Bed_Level.html#_3","text":"\u5728\u6210\u529f\u8fdb\u884c\u6253\u5370\u5e8a\u8c03\u5e73\u540e\uff0c\u53ef\u4ee5\u7ee7\u7eed\u8ba1\u7b97\"\u70ed\u81a8\u80c0\"\u3001\"\u7eb8\u5f20\u539a\u5ea6\"\u548c\"\u7eb8\u5f20\u6d4b\u8bd5\u65f6\u611f\u53d7\u5230\u7684\u6469\u64e6\u91cf\"\u7efc\u5408\u5f71\u54cd\u7684\u7cbe\u786e\u503c\u3002 \u8fd9\u79cd\u7c7b\u578b\u7684\u8ba1\u7b97\u901a\u5e38\u662f\u4e0d\u9700\u8981\u7684\uff0c\u56e0\u4e3a\u5927\u591a\u6570\u7528\u6237\u53d1\u73b0\u7b80\u5355\u7684\"\u585e\u7eb8\u6d4b\u8bd5\"\u63d0\u4f9b\u4e86\u8db3\u591f\u597d\u7684\u7ed3\u679c\u3002 \u6700\u7b80\u5355\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f\u6253\u5370\u4e00\u4e2a\u56db\u9762\u90fd\u662f\u76f4\u58c1\u7684\u6d4b\u8bd5\u7269\u4f53\u3002\u53ef\u4ee5\u7528\u5728 docs/prints/square.stl \u4e2d\u627e\u5230\u7684\u5927\u578b\u7a7a\u5fc3\u65b9\u5f62\u3002\u5728\u5207\u7247\u65f6\uff0c\u786e\u4fdd\u5207\u7247\u8f6f\u4ef6\u5728\u7b2c\u4e00\u5c42\u4f7f\u7528\u4e0e\u6240\u6709\u540e\u7eed\u5c42\u76f8\u540c\u7684\u5c42\u9ad8\u548c\u6324\u51fa\u5bbd\u5ea6\u3002\u4f7f\u7528\u8f83\u9ad8\u7684\u5c42\u9ad8\uff08\u5c42\u9ad8\u5e94\u8be5\u662f\u55b7\u5634\u76f4\u5f84\u768475%\u5de6\u53f3\uff09\uff0c\u4e0d\u8981\u4f7f\u7528\u88d9\u8fb9(skirt)\u6216\u7b4f(raft)\u3002 \u6253\u5370\u6d4b\u8bd5\u5bf9\u8c61\uff0c\u7b49\u5f85\u5176\u81ea\u7136\u51b7\u5374\uff0c\u5e76\u5c06\u5176\u4ece\u6253\u5370\u5e8a\u4e0a\u53d6\u4e0b\u3002\u68c0\u67e5\u8be5\u7269\u4f53\u7684\u6700\u4f4e\u5c42\u3002(\u53ef\u4ee5\u7528\u624b\u6307\u6216\u6307\u7532\u6cbf\u5e95\u5c42\u8fb9\u7f18\u5212\u4e00\u4e0b\u3002)\u5982\u679c\u53d1\u73b0\u5e95\u5c42\u6cbf\u7740\u7269\u4f53\u7684\u56db\u8fb9\u7565\u5fae\u51f8\u8d77\uff0c\u5219\u8868\u660e\u55b7\u5634\u79bb\u5e8a\u9762\u504f\u8fd1\u3002\u53ef\u4ee5\u53d1\u51fa SET_GCODE_OFFSET Z=+.010 \u547d\u4ee4\u6765\u589e\u52a0\u9ad8\u5ea6\u3002\u5728\u672a\u6765\u7684\u6253\u5370\u4e2d\uff0c\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u6cd5\u68c0\u67e5\u8fd9\u79cd\u6027\u72b6\uff0c\u5e76\u6839\u636e\u9700\u8981\u4f5c\u8fdb\u4e00\u6b65\u8c03\u6574\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u8c03\u6574\u901a\u5e38\u662f\u4ee5 10 \u5fae\u7c73\uff080.010\u6beb\u7c73\uff09\u4e3a\u5355\u4f4d\u3002 \u5982\u679c\u9996\u5c42\u4e00\u76f4\u6bd4\u540e\u7eed\u5c42\u7a84\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528 SET_GCODE_OFFSET \u547d\u4ee4\u8fdb\u884c\u8d1f\u7684 Z \u8c03\u6574\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u90a3\u4e48\u53ef\u4ee5\u51cf\u5c11 Z \u503c\uff0c\u76f4\u5230\u5e95\u5c42\u7684\u5370\u5237\u54c1\u51fa\u73b0\u4e00\u4e2a\u5c0f\u7684\u51f8\u8d77\uff0c\u7136\u540e\u518d\u589e\u52a0 Z \u503c\u76f4\u5230\u5b83\u6d88\u5931\u3002 \u5e94\u7528\u671f\u671b\u7684Z \u503c\u8c03\u6574\u7684\u6700\u7b80\u5355\u65b9\u6cd5\u662f\u521b\u5efa\u4e00\u4e2a START_PRINT G\u4ee3\u7801\u5b8f\uff0c\u914d\u7f6e\u5207\u7247\u8f6f\u4ef6\u5728\u6253\u5370\u5f00\u59cb\u4ee3\u7801\u4e2d\u8c03\u7528\u8be5\u5b8f\uff0c\u5e76\u4e3a\u8be5\u5b8f\u6dfb\u52a0 SET_GCODE_OFFSET \u547d\u4ee4\u3002\u8be6\u60c5\u89c1 \u5207\u7247\u8f6f\u4ef6 \u6587\u6863\u3002","title":"\u786e\u5b9a\u70ed\u81a8\u80c0"},{"location":"Bed_Mesh.html","text":"\u5e8a\u7f51 \u00b6 \u7f51\u5e8a \u63d2\u4ef6\u53ef\u7528\u4e8e\u8865\u507f\u70ed\u5e8a\u8868\u9762\u7684\u4e0d\u89c4\u5219\u6027\uff0c\u4ee5\u4fdd\u8bc1\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u83b7\u5f97\u66f4\u597d\u7684\u7b2c\u4e00\u5c42\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u57fa\u4e8e\u8f6f\u4ef6\u7684\u6821\u6b63\u8fd8\u4e0d\u80fd\u8fbe\u5230\u5b8c\u7f8e\u7684\u7a0b\u5ea6\uff0c\u5b83\u53ea\u80fd\u5c3d\u53ef\u80fd\u8fbe\u5230\u5e8a\u7684\u5f62\u72b6\u3002\u7f51\u5e8a \u4e5f\u65e0\u6cd5\u8865\u507f\u673a\u68b0\u548c\u7535\u6c14\u5bfc\u81f4\u7684\u95ee\u9898\u3002 \u5982\u679c\u673a\u5668\u6ca1\u88c5\u597d\u7ed3\u6784\u6b6a\u4e86\u6216\u63a2\u9488\u4e0d\u51c6\u786e\uff0c\u5219 \u7f51\u5e8a \u6a21\u5757\u5c06\u65e0\u6cd5\u4ece\u63a2\u6d4b\u8fc7\u7a0b\u4e2d\u83b7\u5f97\u4ee4\u4eba\u6ee1\u610f\u7684\u7ed3\u679c\u3002 \u5728\u8fdb\u884c\u7f51\u683c\u6821\u51c6\u4e4b\u524d\uff0c\u9700\u8981\u5148\u6821\u51c6\u63a2\u9488\u7684 Z \u504f\u79fb\u3002\u5982\u679c\u4f7f\u7528\u9650\u4f4d\u5f00\u5173\u8fdb\u884cZ\u8f74\u5b9a\u4f4d\uff0c\u4e5f\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u6821\u51c6\u3002\u8bf7\u53c2\u9605 \u63a2\u9488\u6821\u51c6 \u548c \u624b\u52a8\u8c03\u5e73 \u4e2d\u7684 Z_ENDSTOP_CALIBRATE \u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002 \u57fa\u672c\u914d\u7f6e \u00b6 \u77e9\u5f62\u5e8a \u00b6 \u6b64\u793a\u4f8b\u5047\u5b9a\u6253\u5370\u673a\u5177\u6709 250 mm x 220 mm \u77e9\u5f62\u5e8a\u548c\u4e00\u4e2a x \u504f\u79fb\u4e3a 24 mm\u548c y \u504f\u79fb\u4e3a 5 mm\u7684\u63a2\u9488\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 speed: 120 \u9ed8\u8ba4\u503c\uff1a50 \u63a2\u9488\u5728\u4e24\u4e2a\u70b9\u4e4b\u95f4\u79fb\u52a8\u7684\u901f\u5ea6\u3002 horizontal_move_z: 5 \u9ed8\u8ba4\u503c\uff1a5 \u63a2\u9488\u524d\u5f80\u4e0b\u4e00\u4e2a\u70b9\u4e4b\u524dZ\u9700\u8981\u62ac\u5347\u7684\u9ad8\u5ea6\u3002 mesh_min: 35,6 \uff08\u5fc5\u987b\u5b58\u5728\uff09 \u7b2c\u4e00\u4e2a\u63a2\u6d4b\u7684\u5750\u6807\uff0c\u8ddd\u79bb\u539f\u70b9\u6700\u8fd1\u3002\u8be5\u5750\u6807\u5c31\u662f\u63a2\u9488\u6240\u5728\u7684\u4f4d\u7f6e\u3002 mesh_max: 240,198 \u5fc5\u987b\u914d\u7f6e \u8ddd\u79bb\u539f\u70b9\u6700\u8fdc\u7684\u63a2\u6d4b\u5750\u6807\u3002 \u8fd9\u4e0d\u4e00\u5b9a\u662f\u6700\u540e\u4e00\u4e2a\u63a2\u6d4b\u70b9\uff0c\u56e0\u4e3a\u63a2\u6d4b\u4f1a\u4ee5\u952f\u9f7f\u5f62\u7684\u65b9\u5f0f\u8fd0\u52a8\u3002 \u4e0e mesh_min \u4e00\u6837\uff0c\u8fd9\u4e2a\u5750\u6807\u76f8\u5bf9\u4e8e\u63a2\u9488\u3002 probe_count: 5, 3 \u9ed8\u8ba4\u503c\uff1a3, 3 \u6bcf\u4e2a\u8f74\u4e0a\u8981\u63a2\u6d4b\u7684\u70b9\u6570\uff0c\u6307\u5b9a\u4e3a X, Y \u6574\u6570\u503c\u3002 \u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5c06\u6cbf X \u8f74\u63a2\u6d4b 5 \u4e2a\u70b9\uff0c\u6cbf Y \u8f74\u63a2\u6d4b 3 \u4e2a\u70b9\uff0c\u603b\u5171\u63a2\u6d4b 15 \u4e2a\u70b9\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u60f3\u8981\u4e00\u4e2a\u65b9\u5f62\u7f51\u683c\uff0c\u4f8b\u5982 3x3\uff0c\u53ef\u4ee5\u5c06\u6307\u5b9a\u5176\u4e3a\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u6bd4\u5982 probe_count: 3 \u3002 \u8bf7\u6ce8\u610f\uff0c\u7f51\u683c\u9700\u8981\u6cbf\u6bcf\u4e2a\u8f74\u7684\u6700\u5c0f probe_count \u4e3a3\u3002 \u4e0b\u56fe\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528 mesh_min \u3001 mesh_max \u548c probe_count \u9009\u9879\u6765\u751f\u6210\u63a2\u6d4b\u70b9\u3002 \u7bad\u5934\u8868\u793a\u63a2\u6d4b\u8fc7\u7a0b\u7684\u8fd0\u52a8\u65b9\u5411\uff0c\u4ece\u201cmesh_min\u201d\u5f00\u59cb\u3002 \u56fe\u4e2d\u6240\u793a\uff0c\u5f53\u63a2\u9488\u4f4d\u4e8e\u201cmesh_min\u201d\u65f6\uff0c\u55b7\u5634\u5c06\u4f4d\u4e8e (11, 1)\uff0c\u5f53\u63a2\u9488\u4f4d\u4e8e\u201cmesh_max\u201d\u65f6\uff0c\u55b7\u5634\u5c06\u4f4d\u4e8e (206, 193)\u3002 \u5706\u5f62\u5e8a \u00b6 \u672c\u793a\u4f8b\u5047\u8bbe\u6253\u5370\u673a\u914d\u5907\u7684\u5706\u5e8a\u534a\u5f84\u4e3a 100 mm\u3002 \u6211\u4eec\u5c06\u4f7f\u7528\u4e0e\u77e9\u5f62\u7f51\u5e8a\u793a\u4f8b\u76f8\u540c\u7684\u63a2\u9488\u504f\u79fb\u6765\u6f14\u793a\uff0cX \u504f\u79fb\u4e3a 24 mm\uff0cY \u504f\u79fb\u4e3a 5 mm\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_radius: 75 mesh_origin: 0, 0 round_probe_count: 5 mesh_radius: 75 \u5fc5\u987b\u914d\u7f6e \u63a2\u6d4b\u7f51\u683c\u8303\u56f4\u7684\u534a\u5f84\uff08\u5355\u4f4d\uff1amm\uff09\uff0c\u76f8\u5bf9\u4e8e mesh_origin \u3002 \u8bf7\u6ce8\u610f\uff0c\u63a2\u9488\u7684\u504f\u79fb\u4f1a\u9650\u5236\u7f51\u683c\u534a\u5f84\u7684\u5927\u5c0f\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u5927\u4e8e 76 mm\u7684\u534a\u5f84\u4f1a\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u6253\u5370\u673a\u7684\u8303\u56f4\u4e4b\u5916\u3002 mesh_origin: 0, 0 \u9ed8\u8ba4\u503c\uff1a0, 0 \u63a2\u6d4b\u7f51\u683c\u7684\u4e2d\u5fc3\u70b9\u3002 \u8be5\u5750\u6807\u76f8\u5bf9\u4e8e\u63a2\u9488\u7684\u4f4d\u7f6e\u3002 \u867d\u7136\u9ed8\u8ba4\u503c\u4e3a 0,0\uff0c\u4f46\u5982\u679c\u5e0c\u671b\u63a2\u6d4b\u5e8a\u7684\u8fb9\u89d2\u53ef\u4ee5\u4fee\u6539\u8be5\u503c\u3002 \u8bf7\u53c2\u9605\u4e0b\u56fe\u3002 round_probe_count: 5 \u9ed8\u8ba4\u503c\uff1a 5 \u8fd9\u662f\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u7528\u4e8e\u9650\u5236\u6cbf X \u8f74\u548c Y \u8f74\u7684\u6700\u5927\u63a2\u6d4b\u70b9\u6570\u3002 \u201c\u6700\u5927\u201d\u662f\u6307\u6cbf\u7f51\u683c\u539f\u70b9\u63a2\u6d4b\u7684\u70b9\u6570\u3002 \u8be5\u503c\u5fc5\u987b\u662f\u5947\u6570\uff0c\u56e0\u4e3a\u9700\u8981\u63a2\u6d4b\u7f51\u683c\u7684\u4e2d\u5fc3\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86\u5982\u4f55\u751f\u6210\u63a2\u6d4b\u70b9\u3002 \u5982\u60a8\u6240\u89c1\uff0c\u5c06 mesh_origin \u8bbe\u7f6e\u4e3a (-10, 0) \u5141\u8bb8\u6211\u4eec\u6307\u5b9a\u66f4\u5927\u7684\u7f51\u683c\u534a\u5f84 85mm\u3002 \u9ad8\u7ea7\u914d\u7f6e \u00b6 \u4e0b\u9762\u8be6\u7ec6\u89e3\u91ca\u4e86\u66f4\u9ad8\u7ea7\u7684\u914d\u7f6e\u9009\u9879\u3002 \u6bcf\u4e2a\u793a\u4f8b\u90fd\u5c06\u5efa\u7acb\u5728\u4e0a\u9762\u663e\u793a\u7684\u57fa\u672c\u77e9\u5f62\u5e8a\u914d\u7f6e\u4e4b\u4e0a\u3002 \u6bcf\u4e2a\u9ad8\u7ea7\u9009\u9879\u90fd\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5e94\u7528\u4e8e\u5706\u5e8a\u3002 \u7f51\u683c\u63d2\u503c \u00b6 \u867d\u7136\u53ef\u4ee5\u4f7f\u7528\u7b80\u5355\u7684\u53cc\u7ebf\u6027\u63d2\u503c\u76f4\u63a5\u5bf9\u63a2\u6d4b\u7f51\u683c\u7684\u6570\u636e\u8fdb\u884c\u91c7\u6837\u4ee5\u786e\u5b9a\u63a2\u6d4b\u70b9\u4e4b\u95f4\u7684 Z \u503c\uff0c\u4f46\u4f7f\u7528\u66f4\u9ad8\u7ea7\u7684\u63d2\u503c\u7b97\u6cd5\u6765\u63d2\u5165\u989d\u5916\u7684\u70b9\u4ee5\u589e\u52a0\u7f51\u683c\u5bc6\u5ea6\u901a\u5e38\u5f88\u6709\u7528\u3002 \u8fd9\u4e9b\u7b97\u6cd5\u5411\u7f51\u683c\u6dfb\u52a0\u66f2\u7387\uff0c\u8bd5\u56fe\u6a21\u62df\u5e8a\u7684\u6750\u6599\u5c5e\u6027\u3002 \u7f51\u5e8a\u63d0\u4f9b\u4e86\u62c9\u683c\u6717\u65e5\u548c\u53cc\u4e09\u6b21\u63d2\u503c\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 mesh_pps: 2, 3 algorithm: bicubic bicubic_tension: 0.2 mesh_pps: 2,3 \u9ed8\u8ba4\u503c\uff1a2,2 mesh_pps \u9009\u9879\u662f\u6bcf\u6bb5\u7684\u7f51\u683c\u70b9\u6570\u7684\u7b80\u5199\u3002 \u6b64\u9009\u9879\u6307\u5b9a\u6cbf x \u8f74\u548c y \u8f74\u4e3a\u6bcf\u4e2a\u7ebf\u6bb5\u63d2\u503c\u7684\u70b9\u6570\u3002 \u201c\u6bb5\u201d\u88ab\u89c6\u4e3a\u6bcf\u4e2a\u63a2\u6d4b\u70b9\u4e4b\u95f4\u7684\u95f4\u9694\u3002 \u4e0e probe_count \u4e00\u6837\uff0c mesh_pps \u53ef\u4ee5\u662f X, Y \u6574\u6570\u5bf9\uff0c\u4e5f\u53ef\u4ee5\u662f\u540c\u65f6\u5e94\u7528\u4e8e\u4e24\u4e2a\u8f74\u7684\u5355\u4e2a\u6574\u6570\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6cbf X \u8f74\u6709 4 \u4e2a\u7ebf\u6bb5\uff0c\u6cbf Y \u8f74\u6709 2 \u4e2a\u7ebf\u6bb5\u3002 \u8fd9\u8ba1\u7b97\u4e3a\u6cbf X \u7684 8 \u4e2a\u63d2\u503c\u70b9\uff0c\u6cbf Y \u7684 6 \u4e2a\u63d2\u503c\u70b9\uff0c\u4ece\u800c\u4ea7\u751f 13x8 \u7f51\u683c\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c mesh_pps \u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u7981\u7528\u7f51\u683c\u63d2\u503c\uff0c\u5e76\u4e14\u5c06\u76f4\u63a5\u5bf9\u63a2\u6d4b\u7f51\u683c\u8fdb\u884c\u91c7\u6837\u3002 algorithm: lagrange \u9ed8\u8ba4\u503c\uff1alagrange \u7528\u4e8e\u63d2\u5165\u7f51\u683c\u7684\u7b97\u6cd5\u3002 \u53ef\u80fd\u662f lagrange or bicubic \u3002 \u62c9\u683c\u6717\u65e5\u63d2\u503c\u6700\u591a\u4e3a 6 \u4e2a\u63a2\u6d4b\u70b9\uff0c\u56e0\u4e3a\u5927\u91cf\u6837\u672c\u5bb9\u6613\u53d1\u751f\u632f\u8361\u3002 \u53cc\u4e09\u6b21\u63d2\u503c\u8981\u6c42\u6cbf\u6bcf\u4e2a\u8f74\u81f3\u5c11\u6709 4 \u4e2a\u63a2\u6d4b\u70b9\uff0c\u5982\u679c\u6307\u5b9a\u7684\u70b9\u5c11\u4e8e 4 \u4e2a\uff0c\u5219\u5f3a\u5236\u62c9\u683c\u6717\u65e5\u91c7\u6837\u3002 \u5982\u679c mesh_pps \u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u8be5\u503c\u5c06\u88ab\u5ffd\u7565\uff0c\u56e0\u4e3a\u6ca1\u6709\u8fdb\u884c\u7f51\u683c\u63d2\u503c\u3002 bicubic_tension: 0.2 \u9ed8\u8ba4\u503c\uff1a0.2 \u53cc\u4e09\u6b21\u63d2\u503c\u7684\u5f20\u529b\u503c\u3002\u5982\u679c algorithm \u9009\u9879\u8bbe\u7f6e\u4e3a\u53cc\u4e09\u6b21\uff0c\u5219\u53ef\u4ee5\u6307\u5b9a\u5f20\u529b\u503c\u3002 \u5f20\u529b\u8d8a\u9ad8\uff0c\u5185\u63d2\u7684\u659c\u7387\u8d8a\u5927\u3002 \u8c03\u6574\u65f6\u8981\u5c0f\u5fc3\uff0c\u56e0\u4e3a\u8f83\u9ad8\u7684\u503c\u4e5f\u4f1a\u4ea7\u751f\u66f4\u591a\u7684\u8fc7\u51b2\uff0c\u8fd9\u5c06\u5bfc\u81f4\u63d2\u503c\u9ad8\u4e8e\u6216\u4f4e\u4e8e\u63a2\u6d4b\u70b9\u3002 \u4e0b\u56fe\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528\u4e0a\u8ff0\u9009\u9879\u751f\u6210\u7f51\u683c\u63d2\u503c\u3002 \u79fb\u52a8\u62c6\u5206 \u00b6 \u5e8a\u7f51\u7684\u5de5\u4f5c\u539f\u7406\u662f\u62e6\u622a G \u4ee3\u7801\u79fb\u52a8\u547d\u4ee4\u5e76\u5bf9\u5176 Z \u5750\u6807\u8fdb\u884c\u53d8\u6362\u3002\u957f\u7684\u79fb\u52a8\u5fc5\u987b\u88ab\u5206\u5272\u6210\u8f83\u5c0f\u7684\u79fb\u52a8\u4ee5\u6b63\u786e\u5730\u9075\u5faa\u5e8a\u7684\u5f62\u72b6\u3002\u4e0b\u9762\u7684\u9009\u9879\u53ef\u4ee5\u63a7\u5236\u5206\u5272\u7684\u884c\u4e3a\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 move_check_distance: 5 split_delta_z: .025 move_check_distance: 5 \u9ed8\u8ba4\u503c\uff1a5 \u5728\u6267\u884c\u62c6\u5206\u4e4b\u524d\u68c0\u67e5 Z \u4e2d\u9700\u8981\u53d8\u5316\u7684\u6700\u5c0f\u8ddd\u79bb\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u7b97\u6cd5\u5c06\u904d\u5386\u8d85\u8fc7 5 \u6beb\u7c73\u7684\u79fb\u52a8\u3002 \u6bcf 5mm \u5c06\u67e5\u627e\u4e00\u6b21\u7f51\u683c\u7684Z \uff0c\u5e76\u5c06\u5176\u4e0e\u524d\u4e00\u6b21\u79fb\u52a8\u7684 Z \u503c\u8fdb\u884c\u6bd4\u8f83\u3002 \u5982\u679c\u4e09\u89d2\u6d32\u6ee1\u8db3 split_delta_z \u8bbe\u7f6e\u7684\u9608\u503c\uff0c\u5219\u79fb\u52a8\u5c06\u88ab\u62c6\u5206\u5e76\u7ee7\u7eed\u904d\u5386\u3002 \u91cd\u590d\u6b64\u8fc7\u7a0b\uff0c\u76f4\u5230\u5230\u8fbe\u79fb\u52a8\u7ed3\u675f\u5904\uff0c\u5728\u6b64\u5c06\u5e94\u7528\u6700\u7ec8\u8c03\u6574\u3002 \u6bd4 move_check_distance \u77ed\u7684\u79fb\u52a8\u5c06\u6b63\u786e\u7684 Z \u8c03\u6574\u76f4\u63a5\u5e94\u7528\u4e8e\u79fb\u52a8\uff0c\u65e0\u9700\u904d\u5386\u6216\u62c6\u5206\u3002 split_delta_z: .025 \u9ed8\u8ba4\u503c\uff1a.025 \u5982\u4e0a\u6240\u8ff0\uff0c\u8fd9\u662f\u89e6\u53d1\u79fb\u52a8\u62c6\u5206\u6240\u9700\u7684\u6700\u5c0f\u504f\u5dee\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u4efb\u4f55\u504f\u5dee\u4e3a +/- .025 mm\u7684 Z \u503c\u90fd\u5c06\u89e6\u53d1\u62c6\u5206\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u8fd9\u4e9b\u9009\u9879\u7684\u9ed8\u8ba4\u503c\u5c31\u8db3\u591f\u4e86\uff0c\u4f46\u4e8b\u5b9e\u4e0a\uff0c move_check_distance \u7684\u9ed8\u8ba4\u503c 5mm \u53ef\u80fd\u4f1a\u6709\u70b9\u8fc7\u5ea6\u77eb\u6b63\u3002 \u6240\u4ee5\uff0c\u9ad8\u7aef\u53ef\u80fd\u5e0c\u671b\u5c1d\u8bd5\u4f7f\u7528\u8fd9\u4e2a\u9009\u9879\u6765\u83b7\u5f97\u6324\u51fa\u6700\u4f73\u7684\u7b2c\u4e00\u5c42\u3002 \u7f51\u683c\u6de1\u51fa \u00b6 \u542f\u7528\u201c\u7f51\u683c\u6de1\u51fa\u201d\u540e\uff0cZ \u8f74\u7684\u8c03\u6574\u5c06\u5728\u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684\u8ddd\u79bb\u8303\u56f4\u5185\u9010\u6b65\u6d88\u5931\u3002 \u8fd9\u662f\u901a\u8fc7\u5bf9\u5c42\u9ad8\u8fdb\u884c\u5c0f\u5e45\u8c03\u6574\u6765\u5b9e\u73b0\u7684\uff0c\u6839\u636e\u5e8a\u7684\u5f62\u72b6\u589e\u52a0\u6216\u51cf\u5c11\u3002 \u7f51\u683c\u6de1\u51fa\u5b8c\u6210\u540e\uff0c\u4e0d\u518d\u4f7f\u7528 Z \u8c03\u6574\uff0c\u4f7f\u6253\u5370\u7684\u8868\u9762\u662f\u5e73\u5766\u7684\u800c\u4e0d\u662f\u5e8a\u5f2f\u66f2\u7684\u5f62\u72b6\u3002 \u7f51\u683c\u6de1\u51fa\u4e5f\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u4e0d\u826f\u8868\u73b0\uff0c\u5982\u679c\u7f51\u683c\u6de1\u51fa\u8fc7\u5feb\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6253\u5370\u4ef6\u4e0a\u51fa\u73b0\u53ef\u89c1\u7684\u7455\u75b5\uff08\u4f2a\u5f71\uff09\u3002 \u6b64\u5916\uff0c\u5982\u679c\u60a8\u7684\u5e8a\u660e\u663e\u53d8\u5f62\uff0c\u7f51\u683c\u6de1\u51fa\u4f1a\u7f29\u5c0f\u6216\u62c9\u4f38\u6253\u5370\u4ef6\u7684 Z \u9ad8\u5ea6\u3002 \u56e0\u6b64\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7981\u7528\u7f51\u683c\u6de1\u51fa\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 fade_start: 1 fade_end: 10 fade_target: 0 fade_start: 1 \u9ed8\u8ba4\u503c\uff1a1 \u5f00\u59cb\u7f51\u683c\u6de1\u51fa\u7684\u503c\uff0c\u5728\u8bbe\u5b9a\u7684fade_start\u503c\u4e4b\u540e\u9010\u6b65\u505c\u6b62\u8c03\u6574Z\u7684\u9ad8\u5ea6\u3002 \u5efa\u8bae\u5728\u6253\u5370\u51e0\u5c42\u4e4b\u540e\u518d\u5f00\u59cb\u6de1\u51fa\u5c42\u9ad8\u3002 fade_end: 10 \u9ed8\u8ba4\u503c\uff1a0 \u7f51\u683c\u6de1\u51fa\u5b8c\u6210\u7684 Z \u9ad8\u5ea6\u3002 \u5982\u679c\u6b64\u503c\u4f4e\u4e8e fade_start \uff0c\u5219\u7981\u7528\u7f51\u683c\u6de1\u51fa\u3002 \u8be5\u503c\u53ef\u4ee5\u6839\u636e\u6253\u5370\u8868\u9762\u7684\u5f2f\u66f2\u7a0b\u5ea6\u8fdb\u884c\u8c03\u6574\u3002 \u660e\u663e\u5f2f\u66f2\u7684\u8868\u9762\u5e94\u8be5\u5728\u5c06\u7f51\u683c\u6de1\u51fa\u7684\u8ddd\u79bb\u957f\u3002 \u63a5\u8fd1\u5e73\u5766\u7684\u8868\u9762\u53ef\u80fd\u80fd\u591f\u964d\u4f4e\u8be5\u503c\u4ee5\u66f4\u5feb\u5730\u9010\u6b65\u6dd8\u6c70\u3002 \u5982\u679c\u5bf9 fade_start \u4f7f\u7528\u9ed8\u8ba4\u503c 1\uff0c\u5219 10mm \u662f\u4e00\u4e2a\u5408\u7406\u7684\u503c\u3002 fade_target: 0 \u9ed8\u8ba4\u503c\uff1a\u70ed\u5e8a\u7f51\u683c\u7684\u5e73\u5747Z\u503c fade_target \u662f\u5728\u7f51\u683c\u6de1\u51fa\u5b8c\u6210\u540e\u5e94\u7528\u4e8e\u6574\u4e2a\u5e8a\u7684\u989d\u5916 Z \u504f\u79fb\u3002\u4e00 \u822c\u6765\u8bf4\uff0c\u8fd9\u4e2a\u503c\u662f 0\uff0c\u4f46\u6709\u4e9b\u60c5\u51b5\u4e0b\u5b83\u9700\u8981\u6539\u52a8\u3002 \u4f8b\u5982\uff0c\u60a8\u5728\u70ed\u5e8a\u7684\u5f52\u4f4d\u4f4d\u7f6e\u4e0e\u5e8a\u7684\u5e73\u5747\u63a2\u6d4b\u9ad8\u5ea6\u6709\u504f\u5dee\uff0c\u5b83\u6bd4\u5e8a\u7684\u5e73\u5747\u63a2\u6d4b\u9ad8\u5ea6\u4f4e 0.2 mm\u3002 \u5982\u679c fade_target \u4e3a 0\uff0c\u6de1\u51fa\u4f1a\u5c06\u6574\u4e2a\u5e8a\u7684\u6253\u5370\u5e73\u5747\u7f29\u5c0f 0.2 mm\u3002 \u901a\u8fc7\u5c06 fade_target \u8bbe\u7f6e\u4e3a 0.2\uff0c\u5f52\u4f4d\u7684\u4f4d\u7f6e\u5c06\u6269\u5927 0.2 \u6beb\u7c73\uff0c\u4f46\u5e8a\u7684\u5176\u4f59\u90e8\u5206\u5c06\u5177\u6709\u51c6\u786e\u7684\u5c3a\u5bf8\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u6700\u597d\u4e0d\u8981\u4fee\u6539 fade_target \u800c\u4fee\u6b63\u673a\u5668\u672c\u8eab\u5bfc\u81f4\u7684\u8bef\u5dee\uff0c\u4ee5\u4fbf\u4f7f\u7528\u7f51\u683c\u7684\u5e73\u5747\u9ad8\u5ea6\uff0c\u4f46\u662f\u5982\u679c\u60f3\u8981\u5728\u5e8a\u7684\u7279\u5b9a\u90e8\u5206\u6253\u5370\uff0c\u53ef\u80fd\u9700\u8981\u624b\u52a8\u8c03\u6574\u7f51\u683c\u6de1\u51fa\u3002 \u76f8\u5bf9\u53c2\u8003\u7d22\u5f15 \u00b6 \u5927\u90e8\u5206\u63a2\u9488\u68c0\u6d4b\u5230\u7684\u503c\u5bb9\u6613\u4ea7\u751f\u8bef\u5dee\uff0c\u5373\uff1a\u7531\u6e29\u5ea6\u6216\u63a2\u6d4b\u4ecb\u8d28\u5e72\u6270\u4ea7\u751f\u7684\u63a2\u6d4b\u8bef\u5dee\u3002 \u8fd9\u52a0\u5927\u63a2\u9488Z\u504f\u79fb\u7684\u770b\u8ba1\u7b97\u96be\u5ea6\uff0c\u5c24\u5176\u662f\u5728\u4e0d\u540c\u7684\u70ed\u5e8a\u6e29\u5ea6\u4e0b\u3002 \u56e0\u6b64\uff0c\u4e00\u4e9b\u6253\u5370\u673a\u4f7f\u7528\u9650\u4f4d\u5f00\u5173\u6765\u5f52\u4f4d Z \u8f74\uff0c\u5e76\u4f7f\u7528\u63a2\u9488\u6765\u6821\u51c6\u7f51\u683c\u3002 \u8fd9\u4e9b\u6253\u5370\u673a\u53ef\u4ee5\u4ece\u914d\u7f6e\u4e2d\u7684\u76f8\u5bf9\u53c2\u8003\u7d22\u5f15\uff08relative_reference_index\uff09\u4e2d\u5bfb\u627e\u5e2e\u52a9\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 relative_reference_index: 7 relative_reference_index: 7 \u9ed8\u8ba4\u503c\uff1a\u65e0\uff08\u7981\u7528\uff09 \u751f\u6210\u63a2\u6d4b\u70b9\u65f6\uff0c\u4e3a\u6bcf\u4e2a\u70b9\u5206\u914d\u4e00\u4e2a\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7f51\u5e8a\u8f93\u51fa\u6216\u5728 klippy.log \u4e2d\u67e5\u627e\u6b64\u7d22\u5f15\uff08\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u4e0b\u9762\u7684\u7f51\u5e8a G\u4ee3\u7801\u90e8\u5206\uff09\u3002\u5982\u679c\u60a8\u4e3a relative_reference_index \u9009\u9879\u5206\u914d\u4e86\u7d22\u5f15\uff0c\u5219\u5728\u8be5\u5750\u6807\u5904\u63a2\u6d4b\u7684\u503c\u5c06\u66ff\u6362\u63a2\u9488\u7684 Z\u504f\u79fb\u503c\u3002 \u8fd9\u5c06\u628a\u8fd9\u4e2a\u5750\u6807\u4f5c\u4e3a\u201c\u96f6\u9ad8\u5ea6\u201d\u7684\u53c2\u8003\u3002 \u4f7f\u7528\u76f8\u5bf9\u53c2\u8003\u6307\u6570\u65f6\uff0c\u5e94\u9009\u62e9\u8ddd\u79bb\u5e8a\u8eab Z \u9650\u4f4d\u5668\u6821\u51c6\u70b9\u6700\u8fd1\u7684\u6307\u6570\u3002 \u8bf7\u6ce8\u610f\uff0c\u5728\u7f51\u5e8a\u8f93\u51fa\u6216\u5728\u65e5\u5fd7\u4e2d\u67e5\u627e\u7d22\u5f15\u65f6\uff0c\u60a8\u5e94\u8be5\u4f7f\u7528\u201c\u63a2\u9488\u201d\u6807\u9898\u4e0b\u5217\u51fa\u7684\u5750\u6807\u6765\u67e5\u627e\u6b63\u786e\u7684\u7d22\u5f15\u3002 \u6545\u969c\u533a\u57df \u00b6 \u7531\u4e8e\u7279\u5b9a\u4f4d\u7f6e\u7684\u201c\u6545\u969c\u201d\uff0c\u70ed\u5e8a\u7684\u67d0\u4e9b\u533a\u57df\u5728\u63a2\u6d4b\u65f6\u53ef\u80fd\u4f1a\u62a5\u544a\u4e0d\u51c6\u786e\u7684\u7ed3\u679c\u3002 \u6700\u597d\u7684\u4f8b\u5b50\u662f\u5e26\u6709\u7528\u5f39\u7c27\u94a2\u677f\u7684\u78c1\u94c1\u70ed\u5e8a\u3002 \u8fd9\u4e9b\u78c1\u94c1\u5904\u548c\u5468\u56f4\u7684\u78c1\u573a\u53ef\u80fd\u5e72\u6270\u63a2\u9488\u89e6\u53d1\u7684\u9ad8\u5ea6\uff0c\u4ece\u800c\u5bfc\u81f4\u7f51\u683c\u65e0\u6cd5\u51c6\u786e\u8868\u793a\u8fd9\u4e9b\u4f4d\u7f6e\u7684\u8868\u9762\u3002 \u6ce8\u610f\uff1a\u4e0d\u8981\u4e0e\u63a2\u5934\u4f4d\u7f6e\u504f\u5dee\u5bfc\u81f4\u63a2\u6d4b\u7ed3\u679c\u4e0d\u51c6\u786e\u7684\u7ed3\u679c\u6df7\u6dc6\u3002 \u53ef\u4ee5\u914d\u7f6e faulty_region \u9009\u9879\u6765\u907f\u514d\u8fd9\u79cd\u5f71\u54cd\u3002 \u5982\u679c\u751f\u6210\u7684\u70b9\u4f4d\u4e8e\u6545\u969c\u533a\u57df\u5185\uff0c\u70ed\u5e8a\u7f51\u683c\u5c06\u5c1d\u8bd5\u5728\u8be5\u533a\u57df\u7684\u8fb9\u754c\u5904\u63a2\u6d4b\u6700\u591a 4 \u4e2a\u70b9\u3002 \u8fd9\u4e9b\u63a2\u6d4b\u7684\u5e73\u5747\u503c\u5c06\u63d2\u5165\u7f51\u5e8a\u4e2d\u4f5c\u4e3a\u751f\u6210\u7684 (X, Y) \u5750\u6807\u5904\u7684 Z \u503c\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 faulty_region_1_min: 130.0, 0.0 faulty_region_1_max: 145.0, 40.0 faulty_region_2_min: 225.0, 0.0 faulty_region_2_max: 250.0, 25.0 faulty_region_3_min: 165.0, 95.0 faulty_region_3_max: 205.0, 110.0 faulty_region_4_min: 30.0, 170.0 faulty_region_4_max: 45.0, 210.0 faulty_region_{1...99}_min faulty_region_{1...99}_max \u9ed8\u8ba4\u503c\uff1aNone \uff08\u65e0\uff09(disabled\uff08\u7981\u7528\uff09) \u6545\u969c\u533a\u57df\u7684\u5b9a\u4e49\u65b9\u5f0f\u7c7b\u4f3c\u5e8a\u7f51\u672c\u8eab\uff0c\u5fc5\u987b\u4e3a\u6bcf\u4e2a\u533a\u57df\u6307\u5b9a\u6700\u5c0f\u548c\u6700\u5927\uff08X, Y\uff09\u5750\u6807\u3002\u4e00\u4e2a\u6545\u969c\u533a\u57df\u53ef\u4ee5\u5ef6\u4f38\u5230\u7f51\u683c\u4e4b\u5916\uff0c\u4f46\u662f\u4ea7\u751f\u7684\u66ff\u4ee3\u63a2\u6d4b\u70b9\u603b\u662f\u5728\u7f51\u683c\u7684\u8fb9\u754c\u5185\u3002\u4e24\u4e2a\u533a\u57df\u4e0d\u53ef\u4ee5\u91cd\u53e0\u3002 \u4e0b\u9762\u7684\u56fe\u7247\u8bf4\u660e\u4e86\u5f53\u4e00\u4e2a\u751f\u6210\u7684\u63a2\u6d4b\u70b9\u4f4d\u4e8e\u4e00\u4e2a\u6545\u969c\u533a\u57df\u5185\u65f6\uff0c\u5982\u4f55\u751f\u6210\u66ff\u4ee3\u63a2\u6d4b\u70b9\u3002\u6240\u663e\u793a\u7684\u533a\u57df\u4e0e\u4e0a\u8ff0\u6837\u672c\u914d\u7f6e\u4e2d\u7684\u533a\u57df\u4e00\u81f4\u3002\u66ff\u4ee3\u70b9\u548c\u5b83\u4eec\u7684\u5750\u6807\u4ee5\u7eff\u8272\u6807\u8bc6\u3002 \u5e8a\u7f51 G\u4ee3\u7801 \u00b6 \u6821\u51c6 \u00b6 BED_MESH_CALIBRATE PROFILE=<\u540d\u79f0> METHOD=[manual | automatic] [<probe_parameter>=<\u503c>] [<mesh_parameter>=<\u503c>] \u9ed8\u8ba4\u914d\u7f6e\uff1adefault \u9ed8\u8ba4\u65b9\u6cd5\uff1a\u5982\u679c\u68c0\u6d4b\u5230\u63a2\u9488\u5219\u81ea\u52a8\uff0c\u5426\u5219\u624b\u52a8 \u542f\u52a8\u5e8a\u7f51\u6821\u51c6\u7684\u63a2\u6d4b\u7a0b\u5e8f\u3002 \u7f51\u683c\u5c06\u88ab\u4fdd\u5b58\u5230\u7531 PROFILE \u53c2\u6570\u6307\u5b9a\u7684\u914d\u7f6e\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u4f7f\u7528 default \u3002\u5982\u679c\u9009\u62e9\u4e86 METHOD=manual \uff0c\u90a3\u4e48\u5c06\u8fdb\u884c\u624b\u52a8\u63a2\u6d4b\u3002\u5728\u81ea\u52a8\u548c\u624b\u52a8\u63a2\u6d4b\u4e4b\u95f4\u5207\u6362\u65f6\uff0c\u751f\u6210\u7684\u7f51\u683c\u70b9\u4f1a\u81ea\u52a8\u8c03\u6574\u3002 \u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u7f51\u683c\u53c2\u6570\u6765\u4fee\u6539\u63a2\u6d4b\u533a\u57df\u3002\u4ee5\u4e0b\u53c2\u6570\u53ef\u7528\uff1a \u77e9\u5f62\u6253\u5370\u5e8a\uff08\u7b1b\u5361\u5c14 Cartesian\uff09\uff1a MESH_MIN MESH_MAX PROBE_COUNT \u5706\u5f62\u6253\u5370\u5e8a\uff08\u4e09\u89d2\u6d32 delta\uff09\uff1a MESH_RADIUS MESH_ORIGIN ROUND_PROBE_COUNT \u5168\u90e8\u6253\u5370\u5e8a\uff1a RELATIVE_REFERNCE_INDEX ALGORITHM \u6709\u5173\u5728\u7f51\u683c\u4e2d\u4f7f\u7528\u7684\u914d\u7f6e\u53c2\u6570\u8be6\u89c1\u914d\u7f6e\u6587\u6863\u3002 \u914d\u7f6e \u00b6 BED_MESH_PROFILE SAVE=<\u540d\u79f0> LOAD=<\u540d\u79f0> REMOVE=<\u540d\u79f0> \u5728\u6267\u884c BED_MESH_CALIBRATE \u540e\uff0c\u53ef\u4ee5\u5c06\u5f53\u524d\u7f51\u683c\u72b6\u6001\u4fdd\u5b58\u5230\u4e00\u4e2a\u547d\u540d\u7684\u914d\u7f6e\u4e2d\u3002\u8fd9\u6837\u4e0d\u9700\u8981\u91cd\u65b0\u63a2\u6d4b\u6253\u5370\u5e8a\u5c31\u53ef\u4ee5\u8f7d\u5165\u4e00\u4e2a\u7f51\u683c\u3002\u5728\u4f7f\u7528 BED_MESH_PROFILE SAVE=<\u540d\u79f0> \u4fdd\u5b58\u4e86\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u53ef\u4ee5\u6267\u884c SAVE_CONFIG G\u4ee3\u7801\u5c06\u914d\u7f6e\u5199\u5165 printer.cfg\u3002 \u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c BED_MESH_PROFILE LOAD=<\u540d\u79f0> \u6765\u8f7d\u5165\u914d\u7f6e\u3002 \u8bf7\u6ce8\u610f\uff0c\u6bcf\u6b21\u8fd0\u884c BED_MESH_CALIBRATE \u540e\uff0c\u5f53\u524d\u72b6\u6001\u4f1a\u88ab\u4fdd\u5b58\u5230 default \u914d\u7f6e\u3002\u5982\u679c\u8fd9\u4e2a\u914d\u7f6e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b58\u5728\uff0c\u5b83\u4f1a\u5728 Klipper \u542f\u52a8\u65f6\u81ea\u52a8\u8f7d\u5165\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u8fd9\u79cd\u884c\u4e3a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664 default \u914d\u7f6e\uff1a BED_MESH_PROFILE REMOVE=default \u4efb\u4f55\u5176\u4ed6\u4fdd\u5b58\u7684\u914d\u7f6e\u4e5f\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u5220\u9664\uff0c\u7528\u4f60\u60f3\u5220\u9664\u7684\u914d\u7f6e\u540d\u79f0\u66ff\u6362 default \u3002 \u8f93\u51fa \u00b6 BED_MESH_OUTPUT PGP=[0 | 1] \u5c06\u5f53\u524d\u7f51\u683c\u72b6\u6001\u8f93\u51fa\u5230\u7ec8\u7aef\u3002\u8bf7\u6ce8\u610f\uff0c\u8f93\u51fa\u7684\u662f\u7f51\u683c\u672c\u8eab PGP \u53c2\u6570\u662f\u201c\u6253\u5370\u751f\u6210\u7684\u70b9\u201d\u7684\u7b80\u5199\u3002\u5982\u679c\u8bbe\u7f6e\u4e86 PGP=1 \uff0c\u751f\u6210\u7684\u63a2\u6d4b\u70b9\u5c06\u8f93\u51fa\u5230\u7ec8\u7aef\uff1a // bed_mesh: generated points // Index | Tool Adjusted | Probe // 0 | (11.0, 1.0) | (35.0, 6.0) // 1 | (62.2, 1.0) | (86.2, 6.0) // 2 | (113.5, 1.0) | (137.5, 6.0) // 3 | (164.8, 1.0) | (188.8, 6.0) // 4 | (216.0, 1.0) | (240.0, 6.0) // 5 | (216.0, 97.0) | (240.0, 102.0) // 6 | (164.8, 97.0) | (188.8, 102.0) // 7 | (113.5, 97.0) | (137.5, 102.0) // 8 | (62.2, 97.0) | (86.2, 102.0) // 9 | (11.0, 97.0) | (35.0, 102.0) // 10 | (11.0, 193.0) | (35.0, 198.0) // 11 | (62.2, 193.0) | (86.2, 198.0) // 12 | (113.5, 193.0) | (137.5, 198.0) // 13 | (164.8, 193.0) | (188.8, 198.0) // 14 | (216.0, 193.0) | (240.0, 198.0) \"Tool Adjusted\"\uff08\u5de5\u5177\u8c03\u6574\uff09\u70b9\u6307\u6bcf\u4e2a\u70b9\u7684\u55b7\u5634\u4f4d\u7f6e\uff0c\"Probe\"\uff08\u63a2\u9488\uff09\u70b9\u6307\u63a2\u5934\u4f4d\u7f6e\u3002\u8bf7\u6ce8\u610f\uff0c\u624b\u52a8\u63a2\u6d4b\u65f6\"Probe\"\uff08\u63a2\u9488\uff09\u70b9\u65f6\u5c06\u540c\u65f6\u6307\u5de5\u5177\u548c\u55b7\u5634\u4f4d\u7f6e\u3002 \u6e05\u9664\u7f51\u683c\u72b6\u6001 \u00b6 BED_MESH_CLEAR \u6b64 gcode \u53ef\u7528\u4e8e\u6e05\u9664\u5185\u90e8\u7f51\u683c\u72b6\u6001\u3002 \u5e94\u7528X/Y\u504f\u79fb\u91cf \u00b6 BED_MESH_OFFSET [X=<value>] [Y=<value>] \u8fd9\u5bf9\u6709\u591a\u4e2a\u72ec\u7acb\u6324\u51fa\u5934\u7684\u6253\u5370\u673a\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u504f\u79fb\u91cf\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u4fbf\u5728\u66f4\u6362\u5de5\u5177\u540e\u4ea7\u751f\u6b63\u786e\u7684Z\u8c03\u6574\u3002\u5e94\u6307\u5b9a\u5b83\u4eec\u76f8\u5bf9\u4e8e\u4e3b\u6324\u51fa\u5934\u7684\u504f\u79fb\u91cf\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u7b2c\u4e8c\u4e2a\u6324\u51fa\u5934\u5b89\u88c5\u5728\u7b2c\u4e00\u4e2a\u6324\u51fa\u5934\u7684\u53f3\u8fb9\uff0c\u5e94\u6307\u5b9a\u4e00\u4e2a\u6b63\u7684X\u504f\u79fb\u91cf\uff0c\u5982\u679c\u7b2c\u4e8c\u4e2a\u6324\u51fa\u5934\u5b89\u88c5\u5728\u7b2c\u4e00\u4e2a\u6324\u51fa\u5934\u7684 \"\u540e\u9762\"\uff0c\u5e94\u6307\u5b9a\u4e00\u4e2a\u6b63\u7684Y\u504f\u79fb\u91cf\u3002","title":"\u5e8a\u7f51"},{"location":"Bed_Mesh.html#_1","text":"\u7f51\u5e8a \u63d2\u4ef6\u53ef\u7528\u4e8e\u8865\u507f\u70ed\u5e8a\u8868\u9762\u7684\u4e0d\u89c4\u5219\u6027\uff0c\u4ee5\u4fdd\u8bc1\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u83b7\u5f97\u66f4\u597d\u7684\u7b2c\u4e00\u5c42\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u57fa\u4e8e\u8f6f\u4ef6\u7684\u6821\u6b63\u8fd8\u4e0d\u80fd\u8fbe\u5230\u5b8c\u7f8e\u7684\u7a0b\u5ea6\uff0c\u5b83\u53ea\u80fd\u5c3d\u53ef\u80fd\u8fbe\u5230\u5e8a\u7684\u5f62\u72b6\u3002\u7f51\u5e8a \u4e5f\u65e0\u6cd5\u8865\u507f\u673a\u68b0\u548c\u7535\u6c14\u5bfc\u81f4\u7684\u95ee\u9898\u3002 \u5982\u679c\u673a\u5668\u6ca1\u88c5\u597d\u7ed3\u6784\u6b6a\u4e86\u6216\u63a2\u9488\u4e0d\u51c6\u786e\uff0c\u5219 \u7f51\u5e8a \u6a21\u5757\u5c06\u65e0\u6cd5\u4ece\u63a2\u6d4b\u8fc7\u7a0b\u4e2d\u83b7\u5f97\u4ee4\u4eba\u6ee1\u610f\u7684\u7ed3\u679c\u3002 \u5728\u8fdb\u884c\u7f51\u683c\u6821\u51c6\u4e4b\u524d\uff0c\u9700\u8981\u5148\u6821\u51c6\u63a2\u9488\u7684 Z \u504f\u79fb\u3002\u5982\u679c\u4f7f\u7528\u9650\u4f4d\u5f00\u5173\u8fdb\u884cZ\u8f74\u5b9a\u4f4d\uff0c\u4e5f\u9700\u8981\u5bf9\u5176\u8fdb\u884c\u6821\u51c6\u3002\u8bf7\u53c2\u9605 \u63a2\u9488\u6821\u51c6 \u548c \u624b\u52a8\u8c03\u5e73 \u4e2d\u7684 Z_ENDSTOP_CALIBRATE \u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002","title":"\u5e8a\u7f51"},{"location":"Bed_Mesh.html#_2","text":"","title":"\u57fa\u672c\u914d\u7f6e"},{"location":"Bed_Mesh.html#_3","text":"\u6b64\u793a\u4f8b\u5047\u5b9a\u6253\u5370\u673a\u5177\u6709 250 mm x 220 mm \u77e9\u5f62\u5e8a\u548c\u4e00\u4e2a x \u504f\u79fb\u4e3a 24 mm\u548c y \u504f\u79fb\u4e3a 5 mm\u7684\u63a2\u9488\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 speed: 120 \u9ed8\u8ba4\u503c\uff1a50 \u63a2\u9488\u5728\u4e24\u4e2a\u70b9\u4e4b\u95f4\u79fb\u52a8\u7684\u901f\u5ea6\u3002 horizontal_move_z: 5 \u9ed8\u8ba4\u503c\uff1a5 \u63a2\u9488\u524d\u5f80\u4e0b\u4e00\u4e2a\u70b9\u4e4b\u524dZ\u9700\u8981\u62ac\u5347\u7684\u9ad8\u5ea6\u3002 mesh_min: 35,6 \uff08\u5fc5\u987b\u5b58\u5728\uff09 \u7b2c\u4e00\u4e2a\u63a2\u6d4b\u7684\u5750\u6807\uff0c\u8ddd\u79bb\u539f\u70b9\u6700\u8fd1\u3002\u8be5\u5750\u6807\u5c31\u662f\u63a2\u9488\u6240\u5728\u7684\u4f4d\u7f6e\u3002 mesh_max: 240,198 \u5fc5\u987b\u914d\u7f6e \u8ddd\u79bb\u539f\u70b9\u6700\u8fdc\u7684\u63a2\u6d4b\u5750\u6807\u3002 \u8fd9\u4e0d\u4e00\u5b9a\u662f\u6700\u540e\u4e00\u4e2a\u63a2\u6d4b\u70b9\uff0c\u56e0\u4e3a\u63a2\u6d4b\u4f1a\u4ee5\u952f\u9f7f\u5f62\u7684\u65b9\u5f0f\u8fd0\u52a8\u3002 \u4e0e mesh_min \u4e00\u6837\uff0c\u8fd9\u4e2a\u5750\u6807\u76f8\u5bf9\u4e8e\u63a2\u9488\u3002 probe_count: 5, 3 \u9ed8\u8ba4\u503c\uff1a3, 3 \u6bcf\u4e2a\u8f74\u4e0a\u8981\u63a2\u6d4b\u7684\u70b9\u6570\uff0c\u6307\u5b9a\u4e3a X, Y \u6574\u6570\u503c\u3002 \u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5c06\u6cbf X \u8f74\u63a2\u6d4b 5 \u4e2a\u70b9\uff0c\u6cbf Y \u8f74\u63a2\u6d4b 3 \u4e2a\u70b9\uff0c\u603b\u5171\u63a2\u6d4b 15 \u4e2a\u70b9\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u60f3\u8981\u4e00\u4e2a\u65b9\u5f62\u7f51\u683c\uff0c\u4f8b\u5982 3x3\uff0c\u53ef\u4ee5\u5c06\u6307\u5b9a\u5176\u4e3a\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u6bd4\u5982 probe_count: 3 \u3002 \u8bf7\u6ce8\u610f\uff0c\u7f51\u683c\u9700\u8981\u6cbf\u6bcf\u4e2a\u8f74\u7684\u6700\u5c0f probe_count \u4e3a3\u3002 \u4e0b\u56fe\u6f14\u793a\u4e86\u5982\u4f55\u4f7f\u7528 mesh_min \u3001 mesh_max \u548c probe_count \u9009\u9879\u6765\u751f\u6210\u63a2\u6d4b\u70b9\u3002 \u7bad\u5934\u8868\u793a\u63a2\u6d4b\u8fc7\u7a0b\u7684\u8fd0\u52a8\u65b9\u5411\uff0c\u4ece\u201cmesh_min\u201d\u5f00\u59cb\u3002 \u56fe\u4e2d\u6240\u793a\uff0c\u5f53\u63a2\u9488\u4f4d\u4e8e\u201cmesh_min\u201d\u65f6\uff0c\u55b7\u5634\u5c06\u4f4d\u4e8e (11, 1)\uff0c\u5f53\u63a2\u9488\u4f4d\u4e8e\u201cmesh_max\u201d\u65f6\uff0c\u55b7\u5634\u5c06\u4f4d\u4e8e (206, 193)\u3002","title":"\u77e9\u5f62\u5e8a"},{"location":"Bed_Mesh.html#_4","text":"\u672c\u793a\u4f8b\u5047\u8bbe\u6253\u5370\u673a\u914d\u5907\u7684\u5706\u5e8a\u534a\u5f84\u4e3a 100 mm\u3002 \u6211\u4eec\u5c06\u4f7f\u7528\u4e0e\u77e9\u5f62\u7f51\u5e8a\u793a\u4f8b\u76f8\u540c\u7684\u63a2\u9488\u504f\u79fb\u6765\u6f14\u793a\uff0cX \u504f\u79fb\u4e3a 24 mm\uff0cY \u504f\u79fb\u4e3a 5 mm\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_radius: 75 mesh_origin: 0, 0 round_probe_count: 5 mesh_radius: 75 \u5fc5\u987b\u914d\u7f6e \u63a2\u6d4b\u7f51\u683c\u8303\u56f4\u7684\u534a\u5f84\uff08\u5355\u4f4d\uff1amm\uff09\uff0c\u76f8\u5bf9\u4e8e mesh_origin \u3002 \u8bf7\u6ce8\u610f\uff0c\u63a2\u9488\u7684\u504f\u79fb\u4f1a\u9650\u5236\u7f51\u683c\u534a\u5f84\u7684\u5927\u5c0f\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u5927\u4e8e 76 mm\u7684\u534a\u5f84\u4f1a\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u6253\u5370\u673a\u7684\u8303\u56f4\u4e4b\u5916\u3002 mesh_origin: 0, 0 \u9ed8\u8ba4\u503c\uff1a0, 0 \u63a2\u6d4b\u7f51\u683c\u7684\u4e2d\u5fc3\u70b9\u3002 \u8be5\u5750\u6807\u76f8\u5bf9\u4e8e\u63a2\u9488\u7684\u4f4d\u7f6e\u3002 \u867d\u7136\u9ed8\u8ba4\u503c\u4e3a 0,0\uff0c\u4f46\u5982\u679c\u5e0c\u671b\u63a2\u6d4b\u5e8a\u7684\u8fb9\u89d2\u53ef\u4ee5\u4fee\u6539\u8be5\u503c\u3002 \u8bf7\u53c2\u9605\u4e0b\u56fe\u3002 round_probe_count: 5 \u9ed8\u8ba4\u503c\uff1a 5 \u8fd9\u662f\u4e00\u4e2a\u6574\u6570\u503c\uff0c\u7528\u4e8e\u9650\u5236\u6cbf X \u8f74\u548c Y \u8f74\u7684\u6700\u5927\u63a2\u6d4b\u70b9\u6570\u3002 \u201c\u6700\u5927\u201d\u662f\u6307\u6cbf\u7f51\u683c\u539f\u70b9\u63a2\u6d4b\u7684\u70b9\u6570\u3002 \u8be5\u503c\u5fc5\u987b\u662f\u5947\u6570\uff0c\u56e0\u4e3a\u9700\u8981\u63a2\u6d4b\u7f51\u683c\u7684\u4e2d\u5fc3\u3002 \u4e0b\u56fe\u5c55\u793a\u4e86\u5982\u4f55\u751f\u6210\u63a2\u6d4b\u70b9\u3002 \u5982\u60a8\u6240\u89c1\uff0c\u5c06 mesh_origin \u8bbe\u7f6e\u4e3a (-10, 0) \u5141\u8bb8\u6211\u4eec\u6307\u5b9a\u66f4\u5927\u7684\u7f51\u683c\u534a\u5f84 85mm\u3002","title":"\u5706\u5f62\u5e8a"},{"location":"Bed_Mesh.html#_5","text":"\u4e0b\u9762\u8be6\u7ec6\u89e3\u91ca\u4e86\u66f4\u9ad8\u7ea7\u7684\u914d\u7f6e\u9009\u9879\u3002 \u6bcf\u4e2a\u793a\u4f8b\u90fd\u5c06\u5efa\u7acb\u5728\u4e0a\u9762\u663e\u793a\u7684\u57fa\u672c\u77e9\u5f62\u5e8a\u914d\u7f6e\u4e4b\u4e0a\u3002 \u6bcf\u4e2a\u9ad8\u7ea7\u9009\u9879\u90fd\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5e94\u7528\u4e8e\u5706\u5e8a\u3002","title":"\u9ad8\u7ea7\u914d\u7f6e"},{"location":"Bed_Mesh.html#_6","text":"\u867d\u7136\u53ef\u4ee5\u4f7f\u7528\u7b80\u5355\u7684\u53cc\u7ebf\u6027\u63d2\u503c\u76f4\u63a5\u5bf9\u63a2\u6d4b\u7f51\u683c\u7684\u6570\u636e\u8fdb\u884c\u91c7\u6837\u4ee5\u786e\u5b9a\u63a2\u6d4b\u70b9\u4e4b\u95f4\u7684 Z \u503c\uff0c\u4f46\u4f7f\u7528\u66f4\u9ad8\u7ea7\u7684\u63d2\u503c\u7b97\u6cd5\u6765\u63d2\u5165\u989d\u5916\u7684\u70b9\u4ee5\u589e\u52a0\u7f51\u683c\u5bc6\u5ea6\u901a\u5e38\u5f88\u6709\u7528\u3002 \u8fd9\u4e9b\u7b97\u6cd5\u5411\u7f51\u683c\u6dfb\u52a0\u66f2\u7387\uff0c\u8bd5\u56fe\u6a21\u62df\u5e8a\u7684\u6750\u6599\u5c5e\u6027\u3002 \u7f51\u5e8a\u63d0\u4f9b\u4e86\u62c9\u683c\u6717\u65e5\u548c\u53cc\u4e09\u6b21\u63d2\u503c\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 mesh_pps: 2, 3 algorithm: bicubic bicubic_tension: 0.2 mesh_pps: 2,3 \u9ed8\u8ba4\u503c\uff1a2,2 mesh_pps \u9009\u9879\u662f\u6bcf\u6bb5\u7684\u7f51\u683c\u70b9\u6570\u7684\u7b80\u5199\u3002 \u6b64\u9009\u9879\u6307\u5b9a\u6cbf x \u8f74\u548c y \u8f74\u4e3a\u6bcf\u4e2a\u7ebf\u6bb5\u63d2\u503c\u7684\u70b9\u6570\u3002 \u201c\u6bb5\u201d\u88ab\u89c6\u4e3a\u6bcf\u4e2a\u63a2\u6d4b\u70b9\u4e4b\u95f4\u7684\u95f4\u9694\u3002 \u4e0e probe_count \u4e00\u6837\uff0c mesh_pps \u53ef\u4ee5\u662f X, Y \u6574\u6570\u5bf9\uff0c\u4e5f\u53ef\u4ee5\u662f\u540c\u65f6\u5e94\u7528\u4e8e\u4e24\u4e2a\u8f74\u7684\u5355\u4e2a\u6574\u6570\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6cbf X \u8f74\u6709 4 \u4e2a\u7ebf\u6bb5\uff0c\u6cbf Y \u8f74\u6709 2 \u4e2a\u7ebf\u6bb5\u3002 \u8fd9\u8ba1\u7b97\u4e3a\u6cbf X \u7684 8 \u4e2a\u63d2\u503c\u70b9\uff0c\u6cbf Y \u7684 6 \u4e2a\u63d2\u503c\u70b9\uff0c\u4ece\u800c\u4ea7\u751f 13x8 \u7f51\u683c\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c mesh_pps \u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u7981\u7528\u7f51\u683c\u63d2\u503c\uff0c\u5e76\u4e14\u5c06\u76f4\u63a5\u5bf9\u63a2\u6d4b\u7f51\u683c\u8fdb\u884c\u91c7\u6837\u3002 algorithm: lagrange \u9ed8\u8ba4\u503c\uff1alagrange \u7528\u4e8e\u63d2\u5165\u7f51\u683c\u7684\u7b97\u6cd5\u3002 \u53ef\u80fd\u662f lagrange or bicubic \u3002 \u62c9\u683c\u6717\u65e5\u63d2\u503c\u6700\u591a\u4e3a 6 \u4e2a\u63a2\u6d4b\u70b9\uff0c\u56e0\u4e3a\u5927\u91cf\u6837\u672c\u5bb9\u6613\u53d1\u751f\u632f\u8361\u3002 \u53cc\u4e09\u6b21\u63d2\u503c\u8981\u6c42\u6cbf\u6bcf\u4e2a\u8f74\u81f3\u5c11\u6709 4 \u4e2a\u63a2\u6d4b\u70b9\uff0c\u5982\u679c\u6307\u5b9a\u7684\u70b9\u5c11\u4e8e 4 \u4e2a\uff0c\u5219\u5f3a\u5236\u62c9\u683c\u6717\u65e5\u91c7\u6837\u3002 \u5982\u679c mesh_pps \u8bbe\u7f6e\u4e3a 0\uff0c\u5219\u8be5\u503c\u5c06\u88ab\u5ffd\u7565\uff0c\u56e0\u4e3a\u6ca1\u6709\u8fdb\u884c\u7f51\u683c\u63d2\u503c\u3002 bicubic_tension: 0.2 \u9ed8\u8ba4\u503c\uff1a0.2 \u53cc\u4e09\u6b21\u63d2\u503c\u7684\u5f20\u529b\u503c\u3002\u5982\u679c algorithm \u9009\u9879\u8bbe\u7f6e\u4e3a\u53cc\u4e09\u6b21\uff0c\u5219\u53ef\u4ee5\u6307\u5b9a\u5f20\u529b\u503c\u3002 \u5f20\u529b\u8d8a\u9ad8\uff0c\u5185\u63d2\u7684\u659c\u7387\u8d8a\u5927\u3002 \u8c03\u6574\u65f6\u8981\u5c0f\u5fc3\uff0c\u56e0\u4e3a\u8f83\u9ad8\u7684\u503c\u4e5f\u4f1a\u4ea7\u751f\u66f4\u591a\u7684\u8fc7\u51b2\uff0c\u8fd9\u5c06\u5bfc\u81f4\u63d2\u503c\u9ad8\u4e8e\u6216\u4f4e\u4e8e\u63a2\u6d4b\u70b9\u3002 \u4e0b\u56fe\u663e\u793a\u4e86\u5982\u4f55\u4f7f\u7528\u4e0a\u8ff0\u9009\u9879\u751f\u6210\u7f51\u683c\u63d2\u503c\u3002","title":"\u7f51\u683c\u63d2\u503c"},{"location":"Bed_Mesh.html#_7","text":"\u5e8a\u7f51\u7684\u5de5\u4f5c\u539f\u7406\u662f\u62e6\u622a G \u4ee3\u7801\u79fb\u52a8\u547d\u4ee4\u5e76\u5bf9\u5176 Z \u5750\u6807\u8fdb\u884c\u53d8\u6362\u3002\u957f\u7684\u79fb\u52a8\u5fc5\u987b\u88ab\u5206\u5272\u6210\u8f83\u5c0f\u7684\u79fb\u52a8\u4ee5\u6b63\u786e\u5730\u9075\u5faa\u5e8a\u7684\u5f62\u72b6\u3002\u4e0b\u9762\u7684\u9009\u9879\u53ef\u4ee5\u63a7\u5236\u5206\u5272\u7684\u884c\u4e3a\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 move_check_distance: 5 split_delta_z: .025 move_check_distance: 5 \u9ed8\u8ba4\u503c\uff1a5 \u5728\u6267\u884c\u62c6\u5206\u4e4b\u524d\u68c0\u67e5 Z \u4e2d\u9700\u8981\u53d8\u5316\u7684\u6700\u5c0f\u8ddd\u79bb\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u7b97\u6cd5\u5c06\u904d\u5386\u8d85\u8fc7 5 \u6beb\u7c73\u7684\u79fb\u52a8\u3002 \u6bcf 5mm \u5c06\u67e5\u627e\u4e00\u6b21\u7f51\u683c\u7684Z \uff0c\u5e76\u5c06\u5176\u4e0e\u524d\u4e00\u6b21\u79fb\u52a8\u7684 Z \u503c\u8fdb\u884c\u6bd4\u8f83\u3002 \u5982\u679c\u4e09\u89d2\u6d32\u6ee1\u8db3 split_delta_z \u8bbe\u7f6e\u7684\u9608\u503c\uff0c\u5219\u79fb\u52a8\u5c06\u88ab\u62c6\u5206\u5e76\u7ee7\u7eed\u904d\u5386\u3002 \u91cd\u590d\u6b64\u8fc7\u7a0b\uff0c\u76f4\u5230\u5230\u8fbe\u79fb\u52a8\u7ed3\u675f\u5904\uff0c\u5728\u6b64\u5c06\u5e94\u7528\u6700\u7ec8\u8c03\u6574\u3002 \u6bd4 move_check_distance \u77ed\u7684\u79fb\u52a8\u5c06\u6b63\u786e\u7684 Z \u8c03\u6574\u76f4\u63a5\u5e94\u7528\u4e8e\u79fb\u52a8\uff0c\u65e0\u9700\u904d\u5386\u6216\u62c6\u5206\u3002 split_delta_z: .025 \u9ed8\u8ba4\u503c\uff1a.025 \u5982\u4e0a\u6240\u8ff0\uff0c\u8fd9\u662f\u89e6\u53d1\u79fb\u52a8\u62c6\u5206\u6240\u9700\u7684\u6700\u5c0f\u504f\u5dee\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u4efb\u4f55\u504f\u5dee\u4e3a +/- .025 mm\u7684 Z \u503c\u90fd\u5c06\u89e6\u53d1\u62c6\u5206\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u8fd9\u4e9b\u9009\u9879\u7684\u9ed8\u8ba4\u503c\u5c31\u8db3\u591f\u4e86\uff0c\u4f46\u4e8b\u5b9e\u4e0a\uff0c move_check_distance \u7684\u9ed8\u8ba4\u503c 5mm \u53ef\u80fd\u4f1a\u6709\u70b9\u8fc7\u5ea6\u77eb\u6b63\u3002 \u6240\u4ee5\uff0c\u9ad8\u7aef\u53ef\u80fd\u5e0c\u671b\u5c1d\u8bd5\u4f7f\u7528\u8fd9\u4e2a\u9009\u9879\u6765\u83b7\u5f97\u6324\u51fa\u6700\u4f73\u7684\u7b2c\u4e00\u5c42\u3002","title":"\u79fb\u52a8\u62c6\u5206"},{"location":"Bed_Mesh.html#_8","text":"\u542f\u7528\u201c\u7f51\u683c\u6de1\u51fa\u201d\u540e\uff0cZ \u8f74\u7684\u8c03\u6574\u5c06\u5728\u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684\u8ddd\u79bb\u8303\u56f4\u5185\u9010\u6b65\u6d88\u5931\u3002 \u8fd9\u662f\u901a\u8fc7\u5bf9\u5c42\u9ad8\u8fdb\u884c\u5c0f\u5e45\u8c03\u6574\u6765\u5b9e\u73b0\u7684\uff0c\u6839\u636e\u5e8a\u7684\u5f62\u72b6\u589e\u52a0\u6216\u51cf\u5c11\u3002 \u7f51\u683c\u6de1\u51fa\u5b8c\u6210\u540e\uff0c\u4e0d\u518d\u4f7f\u7528 Z \u8c03\u6574\uff0c\u4f7f\u6253\u5370\u7684\u8868\u9762\u662f\u5e73\u5766\u7684\u800c\u4e0d\u662f\u5e8a\u5f2f\u66f2\u7684\u5f62\u72b6\u3002 \u7f51\u683c\u6de1\u51fa\u4e5f\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e00\u4e9b\u4e0d\u826f\u8868\u73b0\uff0c\u5982\u679c\u7f51\u683c\u6de1\u51fa\u8fc7\u5feb\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6253\u5370\u4ef6\u4e0a\u51fa\u73b0\u53ef\u89c1\u7684\u7455\u75b5\uff08\u4f2a\u5f71\uff09\u3002 \u6b64\u5916\uff0c\u5982\u679c\u60a8\u7684\u5e8a\u660e\u663e\u53d8\u5f62\uff0c\u7f51\u683c\u6de1\u51fa\u4f1a\u7f29\u5c0f\u6216\u62c9\u4f38\u6253\u5370\u4ef6\u7684 Z \u9ad8\u5ea6\u3002 \u56e0\u6b64\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7981\u7528\u7f51\u683c\u6de1\u51fa\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 fade_start: 1 fade_end: 10 fade_target: 0 fade_start: 1 \u9ed8\u8ba4\u503c\uff1a1 \u5f00\u59cb\u7f51\u683c\u6de1\u51fa\u7684\u503c\uff0c\u5728\u8bbe\u5b9a\u7684fade_start\u503c\u4e4b\u540e\u9010\u6b65\u505c\u6b62\u8c03\u6574Z\u7684\u9ad8\u5ea6\u3002 \u5efa\u8bae\u5728\u6253\u5370\u51e0\u5c42\u4e4b\u540e\u518d\u5f00\u59cb\u6de1\u51fa\u5c42\u9ad8\u3002 fade_end: 10 \u9ed8\u8ba4\u503c\uff1a0 \u7f51\u683c\u6de1\u51fa\u5b8c\u6210\u7684 Z \u9ad8\u5ea6\u3002 \u5982\u679c\u6b64\u503c\u4f4e\u4e8e fade_start \uff0c\u5219\u7981\u7528\u7f51\u683c\u6de1\u51fa\u3002 \u8be5\u503c\u53ef\u4ee5\u6839\u636e\u6253\u5370\u8868\u9762\u7684\u5f2f\u66f2\u7a0b\u5ea6\u8fdb\u884c\u8c03\u6574\u3002 \u660e\u663e\u5f2f\u66f2\u7684\u8868\u9762\u5e94\u8be5\u5728\u5c06\u7f51\u683c\u6de1\u51fa\u7684\u8ddd\u79bb\u957f\u3002 \u63a5\u8fd1\u5e73\u5766\u7684\u8868\u9762\u53ef\u80fd\u80fd\u591f\u964d\u4f4e\u8be5\u503c\u4ee5\u66f4\u5feb\u5730\u9010\u6b65\u6dd8\u6c70\u3002 \u5982\u679c\u5bf9 fade_start \u4f7f\u7528\u9ed8\u8ba4\u503c 1\uff0c\u5219 10mm \u662f\u4e00\u4e2a\u5408\u7406\u7684\u503c\u3002 fade_target: 0 \u9ed8\u8ba4\u503c\uff1a\u70ed\u5e8a\u7f51\u683c\u7684\u5e73\u5747Z\u503c fade_target \u662f\u5728\u7f51\u683c\u6de1\u51fa\u5b8c\u6210\u540e\u5e94\u7528\u4e8e\u6574\u4e2a\u5e8a\u7684\u989d\u5916 Z \u504f\u79fb\u3002\u4e00 \u822c\u6765\u8bf4\uff0c\u8fd9\u4e2a\u503c\u662f 0\uff0c\u4f46\u6709\u4e9b\u60c5\u51b5\u4e0b\u5b83\u9700\u8981\u6539\u52a8\u3002 \u4f8b\u5982\uff0c\u60a8\u5728\u70ed\u5e8a\u7684\u5f52\u4f4d\u4f4d\u7f6e\u4e0e\u5e8a\u7684\u5e73\u5747\u63a2\u6d4b\u9ad8\u5ea6\u6709\u504f\u5dee\uff0c\u5b83\u6bd4\u5e8a\u7684\u5e73\u5747\u63a2\u6d4b\u9ad8\u5ea6\u4f4e 0.2 mm\u3002 \u5982\u679c fade_target \u4e3a 0\uff0c\u6de1\u51fa\u4f1a\u5c06\u6574\u4e2a\u5e8a\u7684\u6253\u5370\u5e73\u5747\u7f29\u5c0f 0.2 mm\u3002 \u901a\u8fc7\u5c06 fade_target \u8bbe\u7f6e\u4e3a 0.2\uff0c\u5f52\u4f4d\u7684\u4f4d\u7f6e\u5c06\u6269\u5927 0.2 \u6beb\u7c73\uff0c\u4f46\u5e8a\u7684\u5176\u4f59\u90e8\u5206\u5c06\u5177\u6709\u51c6\u786e\u7684\u5c3a\u5bf8\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u6700\u597d\u4e0d\u8981\u4fee\u6539 fade_target \u800c\u4fee\u6b63\u673a\u5668\u672c\u8eab\u5bfc\u81f4\u7684\u8bef\u5dee\uff0c\u4ee5\u4fbf\u4f7f\u7528\u7f51\u683c\u7684\u5e73\u5747\u9ad8\u5ea6\uff0c\u4f46\u662f\u5982\u679c\u60f3\u8981\u5728\u5e8a\u7684\u7279\u5b9a\u90e8\u5206\u6253\u5370\uff0c\u53ef\u80fd\u9700\u8981\u624b\u52a8\u8c03\u6574\u7f51\u683c\u6de1\u51fa\u3002","title":"\u7f51\u683c\u6de1\u51fa"},{"location":"Bed_Mesh.html#_9","text":"\u5927\u90e8\u5206\u63a2\u9488\u68c0\u6d4b\u5230\u7684\u503c\u5bb9\u6613\u4ea7\u751f\u8bef\u5dee\uff0c\u5373\uff1a\u7531\u6e29\u5ea6\u6216\u63a2\u6d4b\u4ecb\u8d28\u5e72\u6270\u4ea7\u751f\u7684\u63a2\u6d4b\u8bef\u5dee\u3002 \u8fd9\u52a0\u5927\u63a2\u9488Z\u504f\u79fb\u7684\u770b\u8ba1\u7b97\u96be\u5ea6\uff0c\u5c24\u5176\u662f\u5728\u4e0d\u540c\u7684\u70ed\u5e8a\u6e29\u5ea6\u4e0b\u3002 \u56e0\u6b64\uff0c\u4e00\u4e9b\u6253\u5370\u673a\u4f7f\u7528\u9650\u4f4d\u5f00\u5173\u6765\u5f52\u4f4d Z \u8f74\uff0c\u5e76\u4f7f\u7528\u63a2\u9488\u6765\u6821\u51c6\u7f51\u683c\u3002 \u8fd9\u4e9b\u6253\u5370\u673a\u53ef\u4ee5\u4ece\u914d\u7f6e\u4e2d\u7684\u76f8\u5bf9\u53c2\u8003\u7d22\u5f15\uff08relative_reference_index\uff09\u4e2d\u5bfb\u627e\u5e2e\u52a9\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 relative_reference_index: 7 relative_reference_index: 7 \u9ed8\u8ba4\u503c\uff1a\u65e0\uff08\u7981\u7528\uff09 \u751f\u6210\u63a2\u6d4b\u70b9\u65f6\uff0c\u4e3a\u6bcf\u4e2a\u70b9\u5206\u914d\u4e00\u4e2a\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7f51\u5e8a\u8f93\u51fa\u6216\u5728 klippy.log \u4e2d\u67e5\u627e\u6b64\u7d22\u5f15\uff08\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u4e0b\u9762\u7684\u7f51\u5e8a G\u4ee3\u7801\u90e8\u5206\uff09\u3002\u5982\u679c\u60a8\u4e3a relative_reference_index \u9009\u9879\u5206\u914d\u4e86\u7d22\u5f15\uff0c\u5219\u5728\u8be5\u5750\u6807\u5904\u63a2\u6d4b\u7684\u503c\u5c06\u66ff\u6362\u63a2\u9488\u7684 Z\u504f\u79fb\u503c\u3002 \u8fd9\u5c06\u628a\u8fd9\u4e2a\u5750\u6807\u4f5c\u4e3a\u201c\u96f6\u9ad8\u5ea6\u201d\u7684\u53c2\u8003\u3002 \u4f7f\u7528\u76f8\u5bf9\u53c2\u8003\u6307\u6570\u65f6\uff0c\u5e94\u9009\u62e9\u8ddd\u79bb\u5e8a\u8eab Z \u9650\u4f4d\u5668\u6821\u51c6\u70b9\u6700\u8fd1\u7684\u6307\u6570\u3002 \u8bf7\u6ce8\u610f\uff0c\u5728\u7f51\u5e8a\u8f93\u51fa\u6216\u5728\u65e5\u5fd7\u4e2d\u67e5\u627e\u7d22\u5f15\u65f6\uff0c\u60a8\u5e94\u8be5\u4f7f\u7528\u201c\u63a2\u9488\u201d\u6807\u9898\u4e0b\u5217\u51fa\u7684\u5750\u6807\u6765\u67e5\u627e\u6b63\u786e\u7684\u7d22\u5f15\u3002","title":"\u76f8\u5bf9\u53c2\u8003\u7d22\u5f15"},{"location":"Bed_Mesh.html#_10","text":"\u7531\u4e8e\u7279\u5b9a\u4f4d\u7f6e\u7684\u201c\u6545\u969c\u201d\uff0c\u70ed\u5e8a\u7684\u67d0\u4e9b\u533a\u57df\u5728\u63a2\u6d4b\u65f6\u53ef\u80fd\u4f1a\u62a5\u544a\u4e0d\u51c6\u786e\u7684\u7ed3\u679c\u3002 \u6700\u597d\u7684\u4f8b\u5b50\u662f\u5e26\u6709\u7528\u5f39\u7c27\u94a2\u677f\u7684\u78c1\u94c1\u70ed\u5e8a\u3002 \u8fd9\u4e9b\u78c1\u94c1\u5904\u548c\u5468\u56f4\u7684\u78c1\u573a\u53ef\u80fd\u5e72\u6270\u63a2\u9488\u89e6\u53d1\u7684\u9ad8\u5ea6\uff0c\u4ece\u800c\u5bfc\u81f4\u7f51\u683c\u65e0\u6cd5\u51c6\u786e\u8868\u793a\u8fd9\u4e9b\u4f4d\u7f6e\u7684\u8868\u9762\u3002 \u6ce8\u610f\uff1a\u4e0d\u8981\u4e0e\u63a2\u5934\u4f4d\u7f6e\u504f\u5dee\u5bfc\u81f4\u63a2\u6d4b\u7ed3\u679c\u4e0d\u51c6\u786e\u7684\u7ed3\u679c\u6df7\u6dc6\u3002 \u53ef\u4ee5\u914d\u7f6e faulty_region \u9009\u9879\u6765\u907f\u514d\u8fd9\u79cd\u5f71\u54cd\u3002 \u5982\u679c\u751f\u6210\u7684\u70b9\u4f4d\u4e8e\u6545\u969c\u533a\u57df\u5185\uff0c\u70ed\u5e8a\u7f51\u683c\u5c06\u5c1d\u8bd5\u5728\u8be5\u533a\u57df\u7684\u8fb9\u754c\u5904\u63a2\u6d4b\u6700\u591a 4 \u4e2a\u70b9\u3002 \u8fd9\u4e9b\u63a2\u6d4b\u7684\u5e73\u5747\u503c\u5c06\u63d2\u5165\u7f51\u5e8a\u4e2d\u4f5c\u4e3a\u751f\u6210\u7684 (X, Y) \u5750\u6807\u5904\u7684 Z \u503c\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 faulty_region_1_min: 130.0, 0.0 faulty_region_1_max: 145.0, 40.0 faulty_region_2_min: 225.0, 0.0 faulty_region_2_max: 250.0, 25.0 faulty_region_3_min: 165.0, 95.0 faulty_region_3_max: 205.0, 110.0 faulty_region_4_min: 30.0, 170.0 faulty_region_4_max: 45.0, 210.0 faulty_region_{1...99}_min faulty_region_{1...99}_max \u9ed8\u8ba4\u503c\uff1aNone \uff08\u65e0\uff09(disabled\uff08\u7981\u7528\uff09) \u6545\u969c\u533a\u57df\u7684\u5b9a\u4e49\u65b9\u5f0f\u7c7b\u4f3c\u5e8a\u7f51\u672c\u8eab\uff0c\u5fc5\u987b\u4e3a\u6bcf\u4e2a\u533a\u57df\u6307\u5b9a\u6700\u5c0f\u548c\u6700\u5927\uff08X, Y\uff09\u5750\u6807\u3002\u4e00\u4e2a\u6545\u969c\u533a\u57df\u53ef\u4ee5\u5ef6\u4f38\u5230\u7f51\u683c\u4e4b\u5916\uff0c\u4f46\u662f\u4ea7\u751f\u7684\u66ff\u4ee3\u63a2\u6d4b\u70b9\u603b\u662f\u5728\u7f51\u683c\u7684\u8fb9\u754c\u5185\u3002\u4e24\u4e2a\u533a\u57df\u4e0d\u53ef\u4ee5\u91cd\u53e0\u3002 \u4e0b\u9762\u7684\u56fe\u7247\u8bf4\u660e\u4e86\u5f53\u4e00\u4e2a\u751f\u6210\u7684\u63a2\u6d4b\u70b9\u4f4d\u4e8e\u4e00\u4e2a\u6545\u969c\u533a\u57df\u5185\u65f6\uff0c\u5982\u4f55\u751f\u6210\u66ff\u4ee3\u63a2\u6d4b\u70b9\u3002\u6240\u663e\u793a\u7684\u533a\u57df\u4e0e\u4e0a\u8ff0\u6837\u672c\u914d\u7f6e\u4e2d\u7684\u533a\u57df\u4e00\u81f4\u3002\u66ff\u4ee3\u70b9\u548c\u5b83\u4eec\u7684\u5750\u6807\u4ee5\u7eff\u8272\u6807\u8bc6\u3002","title":"\u6545\u969c\u533a\u57df"},{"location":"Bed_Mesh.html#g","text":"","title":"\u5e8a\u7f51 G\u4ee3\u7801"},{"location":"Bed_Mesh.html#_11","text":"BED_MESH_CALIBRATE PROFILE=<\u540d\u79f0> METHOD=[manual | automatic] [<probe_parameter>=<\u503c>] [<mesh_parameter>=<\u503c>] \u9ed8\u8ba4\u914d\u7f6e\uff1adefault \u9ed8\u8ba4\u65b9\u6cd5\uff1a\u5982\u679c\u68c0\u6d4b\u5230\u63a2\u9488\u5219\u81ea\u52a8\uff0c\u5426\u5219\u624b\u52a8 \u542f\u52a8\u5e8a\u7f51\u6821\u51c6\u7684\u63a2\u6d4b\u7a0b\u5e8f\u3002 \u7f51\u683c\u5c06\u88ab\u4fdd\u5b58\u5230\u7531 PROFILE \u53c2\u6570\u6307\u5b9a\u7684\u914d\u7f6e\u4e2d\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u4f7f\u7528 default \u3002\u5982\u679c\u9009\u62e9\u4e86 METHOD=manual \uff0c\u90a3\u4e48\u5c06\u8fdb\u884c\u624b\u52a8\u63a2\u6d4b\u3002\u5728\u81ea\u52a8\u548c\u624b\u52a8\u63a2\u6d4b\u4e4b\u95f4\u5207\u6362\u65f6\uff0c\u751f\u6210\u7684\u7f51\u683c\u70b9\u4f1a\u81ea\u52a8\u8c03\u6574\u3002 \u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a\u7f51\u683c\u53c2\u6570\u6765\u4fee\u6539\u63a2\u6d4b\u533a\u57df\u3002\u4ee5\u4e0b\u53c2\u6570\u53ef\u7528\uff1a \u77e9\u5f62\u6253\u5370\u5e8a\uff08\u7b1b\u5361\u5c14 Cartesian\uff09\uff1a MESH_MIN MESH_MAX PROBE_COUNT \u5706\u5f62\u6253\u5370\u5e8a\uff08\u4e09\u89d2\u6d32 delta\uff09\uff1a MESH_RADIUS MESH_ORIGIN ROUND_PROBE_COUNT \u5168\u90e8\u6253\u5370\u5e8a\uff1a RELATIVE_REFERNCE_INDEX ALGORITHM \u6709\u5173\u5728\u7f51\u683c\u4e2d\u4f7f\u7528\u7684\u914d\u7f6e\u53c2\u6570\u8be6\u89c1\u914d\u7f6e\u6587\u6863\u3002","title":"\u6821\u51c6"},{"location":"Bed_Mesh.html#_12","text":"BED_MESH_PROFILE SAVE=<\u540d\u79f0> LOAD=<\u540d\u79f0> REMOVE=<\u540d\u79f0> \u5728\u6267\u884c BED_MESH_CALIBRATE \u540e\uff0c\u53ef\u4ee5\u5c06\u5f53\u524d\u7f51\u683c\u72b6\u6001\u4fdd\u5b58\u5230\u4e00\u4e2a\u547d\u540d\u7684\u914d\u7f6e\u4e2d\u3002\u8fd9\u6837\u4e0d\u9700\u8981\u91cd\u65b0\u63a2\u6d4b\u6253\u5370\u5e8a\u5c31\u53ef\u4ee5\u8f7d\u5165\u4e00\u4e2a\u7f51\u683c\u3002\u5728\u4f7f\u7528 BED_MESH_PROFILE SAVE=<\u540d\u79f0> \u4fdd\u5b58\u4e86\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u540e\uff0c\u53ef\u4ee5\u6267\u884c SAVE_CONFIG G\u4ee3\u7801\u5c06\u914d\u7f6e\u5199\u5165 printer.cfg\u3002 \u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c BED_MESH_PROFILE LOAD=<\u540d\u79f0> \u6765\u8f7d\u5165\u914d\u7f6e\u3002 \u8bf7\u6ce8\u610f\uff0c\u6bcf\u6b21\u8fd0\u884c BED_MESH_CALIBRATE \u540e\uff0c\u5f53\u524d\u72b6\u6001\u4f1a\u88ab\u4fdd\u5b58\u5230 default \u914d\u7f6e\u3002\u5982\u679c\u8fd9\u4e2a\u914d\u7f6e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b58\u5728\uff0c\u5b83\u4f1a\u5728 Klipper \u542f\u52a8\u65f6\u81ea\u52a8\u8f7d\u5165\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u8fd9\u79cd\u884c\u4e3a\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u5220\u9664 default \u914d\u7f6e\uff1a BED_MESH_PROFILE REMOVE=default \u4efb\u4f55\u5176\u4ed6\u4fdd\u5b58\u7684\u914d\u7f6e\u4e5f\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u5220\u9664\uff0c\u7528\u4f60\u60f3\u5220\u9664\u7684\u914d\u7f6e\u540d\u79f0\u66ff\u6362 default \u3002","title":"\u914d\u7f6e"},{"location":"Bed_Mesh.html#_13","text":"BED_MESH_OUTPUT PGP=[0 | 1] \u5c06\u5f53\u524d\u7f51\u683c\u72b6\u6001\u8f93\u51fa\u5230\u7ec8\u7aef\u3002\u8bf7\u6ce8\u610f\uff0c\u8f93\u51fa\u7684\u662f\u7f51\u683c\u672c\u8eab PGP \u53c2\u6570\u662f\u201c\u6253\u5370\u751f\u6210\u7684\u70b9\u201d\u7684\u7b80\u5199\u3002\u5982\u679c\u8bbe\u7f6e\u4e86 PGP=1 \uff0c\u751f\u6210\u7684\u63a2\u6d4b\u70b9\u5c06\u8f93\u51fa\u5230\u7ec8\u7aef\uff1a // bed_mesh: generated points // Index | Tool Adjusted | Probe // 0 | (11.0, 1.0) | (35.0, 6.0) // 1 | (62.2, 1.0) | (86.2, 6.0) // 2 | (113.5, 1.0) | (137.5, 6.0) // 3 | (164.8, 1.0) | (188.8, 6.0) // 4 | (216.0, 1.0) | (240.0, 6.0) // 5 | (216.0, 97.0) | (240.0, 102.0) // 6 | (164.8, 97.0) | (188.8, 102.0) // 7 | (113.5, 97.0) | (137.5, 102.0) // 8 | (62.2, 97.0) | (86.2, 102.0) // 9 | (11.0, 97.0) | (35.0, 102.0) // 10 | (11.0, 193.0) | (35.0, 198.0) // 11 | (62.2, 193.0) | (86.2, 198.0) // 12 | (113.5, 193.0) | (137.5, 198.0) // 13 | (164.8, 193.0) | (188.8, 198.0) // 14 | (216.0, 193.0) | (240.0, 198.0) \"Tool Adjusted\"\uff08\u5de5\u5177\u8c03\u6574\uff09\u70b9\u6307\u6bcf\u4e2a\u70b9\u7684\u55b7\u5634\u4f4d\u7f6e\uff0c\"Probe\"\uff08\u63a2\u9488\uff09\u70b9\u6307\u63a2\u5934\u4f4d\u7f6e\u3002\u8bf7\u6ce8\u610f\uff0c\u624b\u52a8\u63a2\u6d4b\u65f6\"Probe\"\uff08\u63a2\u9488\uff09\u70b9\u65f6\u5c06\u540c\u65f6\u6307\u5de5\u5177\u548c\u55b7\u5634\u4f4d\u7f6e\u3002","title":"\u8f93\u51fa"},{"location":"Bed_Mesh.html#_14","text":"BED_MESH_CLEAR \u6b64 gcode \u53ef\u7528\u4e8e\u6e05\u9664\u5185\u90e8\u7f51\u683c\u72b6\u6001\u3002","title":"\u6e05\u9664\u7f51\u683c\u72b6\u6001"},{"location":"Bed_Mesh.html#xy","text":"BED_MESH_OFFSET [X=<value>] [Y=<value>] \u8fd9\u5bf9\u6709\u591a\u4e2a\u72ec\u7acb\u6324\u51fa\u5934\u7684\u6253\u5370\u673a\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u504f\u79fb\u91cf\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u4fbf\u5728\u66f4\u6362\u5de5\u5177\u540e\u4ea7\u751f\u6b63\u786e\u7684Z\u8c03\u6574\u3002\u5e94\u6307\u5b9a\u5b83\u4eec\u76f8\u5bf9\u4e8e\u4e3b\u6324\u51fa\u5934\u7684\u504f\u79fb\u91cf\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u7b2c\u4e8c\u4e2a\u6324\u51fa\u5934\u5b89\u88c5\u5728\u7b2c\u4e00\u4e2a\u6324\u51fa\u5934\u7684\u53f3\u8fb9\uff0c\u5e94\u6307\u5b9a\u4e00\u4e2a\u6b63\u7684X\u504f\u79fb\u91cf\uff0c\u5982\u679c\u7b2c\u4e8c\u4e2a\u6324\u51fa\u5934\u5b89\u88c5\u5728\u7b2c\u4e00\u4e2a\u6324\u51fa\u5934\u7684 \"\u540e\u9762\"\uff0c\u5e94\u6307\u5b9a\u4e00\u4e2a\u6b63\u7684Y\u504f\u79fb\u91cf\u3002","title":"\u5e94\u7528X/Y\u504f\u79fb\u91cf"},{"location":"Benchmarks.html","text":"\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u8fd9\u4e2a\u6587\u6863\u89e3\u91ca\u4e86Klipper\u7684\u57fa\u51c6\u6d4b\u8bd5\u3002 \u5fae\u63a7\u5236\u5668\uff08Micro-controller\uff09\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u672c\u8282\u63cf\u8ff0\u4e86\u7528\u4e8e\u751f\u6210 Klipper \u5fae\u63a7\u5236\u5668\u6b65\u8fdb\u7387\uff08step rate\uff09\u57fa\u51c6\u7684\u673a\u5236\u3002 \u57fa\u51c6\u7684\u4e3b\u8981\u76ee\u6807\u662f\u63d0\u4f9b\u4e00\u4e2a\u4e00\u81f4\u7684\u673a\u5236\uff0c\u7528\u4e8e\u6d4b\u91cf\u8f6f\u4ef6\u4e2d\u7f16\u7801\u66f4\u6539\u7684\u5f71\u54cd\u3002\u6b21\u8981\u76ee\u6807\u662f\u63d0\u4f9b\u9ad8\u7ea7\u522b\u6307\u6807\uff0c\u7528\u4e8e\u6bd4\u8f83\u82af\u7247\u548c\u8f6f\u4ef6\u5e73\u53f0\u4e4b\u95f4\u7684\u6027\u80fd\u3002 \u6b65\u8fdb\u7387(stepping rate)\u57fa\u51c6\u662f\u4e3a\u4e86\u627e\u5230\u786c\u4ef6\u548c\u8f6f\u4ef6\u53ef\u4ee5\u8fbe\u5230\u7684\u6700\u5927\u6b65\u8fdb\u7387\u3002\u8fd9\u4e2a\u57fa\u51c6\u6b65\u8fdb\u7387\u5728\u65e5\u5e38\u4f7f\u7528\u4e2d\u662f\u65e0\u6cd5\u5b9e\u73b0\u7684\uff0c\u56e0\u4e3aKlipper\u5728\u4efb\u4f55\u5b9e\u9645\u4f7f\u7528\u4e2d\u90fd\u9700\u8981\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff08\u4f8b\u5982\uff0cMCU/\u4e3b\u673a\u901a\u4fe1\u3001\u6e29\u5ea6\u8bfb\u53d6\u3001\u9650\u4f4d\u68c0\u67e5\uff09\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u57fa\u51c6\u6d4b\u8bd5\u7684\u5f15\u811a\u88ab\u9009\u62e9\u7528\u4e8e\u95ea\u70c1 LED \u6216\u5176\u4ed6\u5b89\u5168\u5f15\u811a\u3002 \u5728\u8fd0\u884c\u57fa\u51c6\u6d4b\u8bd5\u4e4b\u524d\uff0c\u59cb\u7ec8\u9a8c\u8bc1\u9a71\u52a8\u914d\u7f6e\u7684\u5f15\u811a\u662f\u5b89\u5168\u7684\u3002 \u4e0d\u5efa\u8bae\u5728\u57fa\u51c6\u6d4b\u8bd5\u671f\u95f4\u9a71\u52a8\u5b9e\u9645\u7684\u6b65\u8fdb\u5668\u3002 \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u6d4b\u8bd5\u662f\u4f7f\u7528console.py\u5de5\u5177\u8fdb\u884c\u7684\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u3002\u4e3a\u7279\u5b9a\u7684\u786c\u4ef6\u5e73\u53f0\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff08\u89c1\u4e0b\u6587\uff09\uff0c\u7136\u540e\u5c06\u4ee5\u4e0b\u5185\u5bb9\u526a\u5207\u5e76\u7c98\u8d34\u5230console.py\u7ec8\u7aef\u7a97\u53e3: SET start_clock {clock+freq} SET ticks 1000 reset_step_clock oid=0 clock={start_clock} set_next_step_dir oid=0 dir=0 queue_step oid=0 interval={ticks} count=60000 add=0 set_next_step_dir oid=0 dir=1 queue_step oid=0 interval=3000 count=1 add=0 reset_step_clock oid=1 clock={start_clock} set_next_step_dir oid=1 dir=0 queue_step oid=1 interval={ticks} count=60000 add=0 set_next_step_dir oid=1 dir=1 queue_step oid=1 interval=3000 count=1 add=0 reset_step_clock oid=2 clock={start_clock} set_next_step_dir oid=2 dir=0 queue_step oid=2 interval={ticks} count=60000 add=0 set_next_step_dir oid=2 dir=1 queue_step oid=2 interval=3000 count=1 add=0 \u4ee5\u4e0a\u6d4b\u8bd5\u4e09\u4e2a\u6b65\u8fdb\u5668\u540c\u65f6\u6b65\u8fdb\u3002\u5982\u679c\u8fd0\u884c\u4e0a\u8ff0\u7a0b\u5e8f\u7684\u7ed3\u679c\u662f \"\u91cd\u65b0\u5b89\u6392\u5b9a\u65f6\u5668\u5728\u8fc7\u53bb \"\u6216 \"\u6b65\u8fdb\u5668\u5728\u8fc7\u53bb\u592a\u8fdc \"\u7684\u9519\u8bef\uff0c\u5219\u8868\u660e ticks \u53c2\u6570\u592a\u4f4e\uff08\u5b83\u5bfc\u81f4\u6b65\u8fdb\u901f\u5ea6\u592a\u5feb\uff09\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u627e\u5230\u80fd\u591f\u53ef\u9760\u5730\u5bfc\u81f4\u6210\u529f\u5b8c\u6210\u6d4b\u8bd5\u7684\u6700\u4f4e\u7684ticks\u53c2\u6570\u8bbe\u7f6e\u3002\u5e94\u8be5\u53ef\u4ee5\u5c06ticks\u53c2\u6570\u4e00\u5206\u4e3a\u4e8c\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u7a33\u5b9a\u7684\u503c\u3002 \u5728\u5931\u8d25\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u590d\u5236\u548c\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9\u6765\u6e05\u9664\u9519\u8bef\uff0c\u4e3a\u4e0b\u4e00\u6b21\u6d4b\u8bd5\u505a\u51c6\u5907\uff1a clear_shutdown \u4e3a\u4e86\u83b7\u5f97\u5355\u4e00\u6b65\u8fdb\u7535\u673a\u7684\u57fa\u51c6\u6d4b\u8bd5\uff0c\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u914d\u7f6e\u5e8f\u5217\uff0c\u4f46\u53ea\u5c06\u4e0a\u8ff0\u6d4b\u8bd5\u7684\u7b2c\u4e00\u5757\u526a\u5207\u5e76\u7c98\u8d34\u5230 console.py \u7a97\u53e3\u3002 \u4e3a\u4e86\u751f\u6210 \u529f\u80fd \u6587\u6863\u4e2d\u7684\u57fa\u51c6\u6d4b\u8bd5\u7ed3\u679c\uff0c\u6bcf\u79d2\u603b\u6b65\u6570\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f\u5c06\u6d3b\u52a8\u6b65\u8fdb\u5668\u7684\u6570\u91cf\u4e0e\u6807\u79f0 mcu \u9891\u7387\u76f8\u4e58\uff0c\u7136\u540e\u9664\u4ee5\u6700\u7ec8\u7684 ticks \u53c2\u6570\u3002\u7ed3\u679c\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u7684 K\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4e09\u4e2a\u6d3b\u52a8\u6b65\u8fdb\u5668\uff1a ECHO Test result is: {\"%.0fK\" % (3. * freq / ticks / 1000.)} \u57fa\u51c6\u7684\u8fd0\u884c\u53c2\u6570\u5fc5\u987b\u548c TMC \u9a71\u52a8\u76f8\u5339\u914d\u3002\u5bf9\u4e8e\u652f\u6301 STEPPER_BOTH_EDGE=1 \u7684\u5fae\u63a7\u5236\u5668\uff08\u63a7\u5236\u53f0\u542f\u52a8\u65f6 MCU config \u884c\u4e2d\u4f1a\u62a5\u544a\uff09\u4f7f\u7528 step_pulse_duration=0 \u548c invert_step=-1 \u6765\u542f\u7528\u6b65\u8fdb\u8109\u51b2\u7684\u4e24\u8fb9\u4e0a\u7684\u4f18\u5316\u3002\u5bf9\u4e8e\u5176\u4ed6\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u5bf9\u5e94 100ns \u7684 step_pulse_duration \u3002 AVR\u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728AVR\u82af\u7247\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PA4 invert_step=0 step_pulse_ticks=32 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=0 step_pulse_ticks=32 config_stepper oid=2 step_pin=PC7 dir_pin=PC6 invert_step=0 step_pulse_ticks=32 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u4e0e gcc \u7248\u672c avr-gcc \uff08GCC\uff09 5.4.0 \u300216Mhz \u548c 20Mhz \u6d4b\u8bd5\u90fd\u4f7f\u7528\u4e86\u6309 atmega644p \u914d\u7f6e\u7684 simulavr \u8fd0\u884c\uff08\u4ee5\u524d\u7684\u6d4b\u8bd5\u5df2\u7ecf\u786e\u8ba4\u4e8616Mhz at90usb \u548c16Mhz atmega2560 \u7684\u5b9e\u9645\u6027\u80fd\u4e0e simulavr \u7ed3\u679c\u76f8\u4f3c\uff09\u3002 avr ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 102 3\u4e2a\u6b65\u8fdb\u7535\u673a 486 Arduino Due \u7684\u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u4ee5\u4e0b\u662f\u5728Due\u4e0a\u4f7f\u7528\u7684\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB27 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB26 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA21 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam3x8e ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 66 3\u4e2a\u6b65\u8fdb\u7535\u673a 257 Duet Maestro \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728Duet Maestro\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC26 dir_pin=PC18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PC26 dir_pin=PA8 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PC26 dir_pin=PB4 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam4s8c ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 71 3\u4e2a\u6b65\u8fdb\u7535\u673a 260 Duet Wifi \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728Duet Wifi\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PD6 dir_pin=PD11 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PD7 dir_pin=PD12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PD8 dir_pin=PD13 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c gcc \u7248\u672c 10.3.1 20210621\uff08\u53d1\u5e03\u7248\uff09 (GNU Arm Embedded Toolchain 10.3-2021.07) \u3002 sam4e8e ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 48 3\u4e2a\u6b65\u8fdb\u7535\u673a 215 Beaglebone PRU \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728PRU\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio0_23 dir_pin=gpio1_12 invert_step=0 step_pulse_ticks=20 config_stepper oid=1 step_pin=gpio1_15 dir_pin=gpio0_26 invert_step=0 step_pulse_ticks=20 config_stepper oid=2 step_pin=gpio0_22 dir_pin=gpio2_1 invert_step=0 step_pulse_ticks=20 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a pru-gcc (GCC) 8.0.0 20170530\uff08\u5b9e\u9a8c\u7248\uff09 \u3002 \u53ef\u7f16\u7a0b\u5b9e\u65f6\u5355\u5143 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 231 3\u4e2a\u6b65\u8fdb\u7535\u673a 847 STM32F042 \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728STM32F042\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA1 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB8 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f042 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 59 3\u4e2a\u6b65\u8fdb\u7535\u673a 249 STM32F103 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728STM32F103\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC13 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA4 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f103 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 61 3\u4e2a\u6b65\u8fdb\u7535\u673a 264 STM32F4 \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728STM32F4\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB2 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB3 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc\u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002STM32F407 \u7684\u7ed3\u679c\u662f\u901a\u8fc7\u5728 STM32F446 \u4e0a\u8fd0\u884c STM32F407 \u4e8c\u8fdb\u5236\u6587\u4ef6\u5f97\u5230\u7684\uff08\u56e0\u6b64\u65f6\u949f\u662f 168Mhz \uff09\u3002 stm32f446 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 46 3\u4e2a\u6b65\u8fdb\u7535\u673a 205 stm32f407 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 46 3\u4e2a\u6b65\u8fdb\u7535\u673a 205 STM32G0B1 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728 STM32G0B1 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB13 dir_pin=PB12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB10 dir_pin=PB2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB0 dir_pin=PC5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 247cd753 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32g0b1 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 58 3\u4e2a\u6b65\u8fdb\u7535\u673a 243 LPC176x \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728LPC176x\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=P1.20 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=P1.21 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=P1.23 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u3002120Mhz LPC1769 \u7684\u7ed3\u679c\u662f\u901a\u8fc7\u5c06 LPC1768 \u8d85\u9891\u5230 120Mhz \u800c\u83b7\u5f97\u7684\u3002 lpc1768 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 52 3\u4e2a\u6b65\u8fdb\u7535\u673a 222 lpc1769 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 51 3\u4e2a\u6b65\u8fdb\u7535\u673a 222 SAMD21 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728SAMD21\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA27 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA17 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD21G18 \u5fae\u63a7\u5236\u5668\u4e0a\u3002 SAMD21 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 70 3\u4e2a\u6b65\u8fdb\u7535\u673a 306 SAMD51 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u5728SAMD51\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA22 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA22 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA22 dir_pin=PA19 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u4e0e gcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD51J19A \u5fae\u63a7\u5236\u5668\u4e0a\u8fd0\u884c\u7684\u3002 SAMD51 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 39 3\u4e2a\u6b65\u8fdb\u7535\u673a 191 1 stepper (200Mhz) 39 3 stepper (200Mhz) 181 RP2040 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 RP2040 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio25 dir_pin=gpio3 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=gpio26 dir_pin=gpio4 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=gpio27 dir_pin=gpio5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u5728 Raspberry Pi Pico \u677f\u4e0a\u4f7f\u7528 gcc \u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u548c\u63d0\u4ea4 59314d99 \u8fd0\u884c\u3002 rp2040 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 5 3\u4e2a\u6b65\u8fdb\u7535\u673a 22 Linux MCU \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u6811\u8393\u6d3e\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio2 dir_pin=gpio3 invert_step=0 step_pulse_ticks=5 config_stepper oid=1 step_pin=gpio4 dir_pin=gpio5 invert_step=0 step_pulse_ticks=5 config_stepper oid=2 step_pin=gpio6 dir_pin=gpio17 invert_step=0 step_pulse_ticks=5 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u4e0e gcc \u7248\u672c gcc \uff08Raspbian 8.3.0-6+rpi1\uff09 8.3.0 \u5728 Raspberry Pi 3 \uff08\u4fee\u8ba2\u7248 a02082\uff09 \u4e0a\u8fd0\u884c\u3002\u5728\u8fd9\u4e2a\u57fa\u51c6\u6d4b\u8bd5\u4e2d\u5f88\u96be\u83b7\u5f97\u7a33\u5b9a\u7684\u7ed3\u679c\u3002 Linux (RPi3) ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 160 3\u4e2a\u6b65\u8fdb\u7535\u673a 380 Command dispatch \u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u547d\u4ee4\u8c03\u5ea6\u57fa\u51c6\u6d4b\u8bd5\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u5904\u7406\u591a\u5c11\u4e2a \"dummy\"\u547d\u4ee4\u3002\u5b83\u4e3b\u8981\u662f\u5bf9\u786c\u4ef6\u901a\u4fe1\u673a\u5236\u7684\u6d4b\u8bd5\u3002\u8be5\u6d4b\u8bd5\u4f7f\u7528console.py\u5de5\u5177\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u8fd0\u884c\u3002\u4ee5\u4e0b\u662f\u526a\u5207\u5e76\u7c98\u8d34\u5230console.py\u7ec8\u7aef\u7a97\u53e3\u7684\u5185\u5bb9: DELAY {clock + 2*freq} get_uptime FLOOD 100000 0.0 debug_nop get_uptime \u5f53\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u786e\u5b9a\u4e24\u4e2a \"\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 \"\u54cd\u5e94\u4fe1\u606f\u4e2d\u62a5\u544a\u7684\u65f6\u949f\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u7136\u540e\uff0c\u6bcf\u79d2\u949f\u7684\u603b\u547d\u4ee4\u6570\u662f 100000 * mcu_frequency / clock_diff \u3002 \u6ce8\u610f\uff0c\u8fd9\u4e2a\u6d4b\u8bd5\u53ef\u80fd\u4f1a\u4f7fRaspberry Pi\u7684USB/CPU\u5bb9\u91cf\u8fbe\u5230\u9971\u548c\u3002\u5982\u679c\u5728Raspberry Pi\u3001Beaglebone\u6216\u7c7b\u4f3c\u7684\u4e3b\u673a\u4e0a\u8fd0\u884c\uff0c\u90a3\u4e48\u8981\u589e\u52a0\u5ef6\u8fdf\uff08\u4f8b\u5982\uff0c DELAY {clock + 20*freq} get_uptime \uff09\u3002\u5728\u9002\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0b\u9762\u7684\u57fa\u51c6\u662f\u7528\u63a7\u5236\u53f0.py\u5728\u684c\u9762\u7c7b\u673a\u5668\u4e0a\u8fd0\u884c\uff0c\u8bbe\u5907\u901a\u8fc7\u9ad8\u901f\u96c6\u7ebf\u5668\u8fde\u63a5\u3002 MCU Rate Build Build compiler stm32f042 (CAN) 18K c105adc8 arm-none-eabi-gcc (GNU Tools 7-2018-q3-update) 7.3.1 atmega2560 (\u4e32\u884c\u603b\u7ebf) 23K b161a69e avr-gcc (GCC) 4.8.1 sam3x8e (\u4e32\u884c\u603b\u7ebf) 23K b161a69e arm-none-eabi-gcc (Fedora 7.1.0-5.fc27) 7.1.0 at90usb1286 (USB) 75K 01d2183f avr-gcc (GCC) 5.4.0 samd21 (USB) 223K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 PRU\uff08\u5171\u4eab\u5185\u5b58\uff09 260K c5968a08 pru-gcc (GCC) 8.0.0 20170530 (experimental) stm32f103 (USB) 355K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam3x8e (USB) 418K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1768 (USB) 534K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1769 (USB) 628K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam4s8c (USB) 650K 8d4a5c16 arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 samd51 (USB) 864K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 stm32f446 (USB) 870K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 rp2040 (USB) 873K c5667193 arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 Host \u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u53ef\u4ee5\u4f7f\u7528\u201c\u6279\u5904\u7406\u6a21\u5f0f\u201d\u5904\u7406\u673a\u5236\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u5728\u4e3b\u673a\u8f6f\u4ef6\u4e0a\u8fd0\u884c\u65f6\u5e8f\u6d4b\u8bd5\u3002\u8fd9\u901a\u5e38\u662f\u901a\u8fc7\u9009\u62e9\u4e00\u4e2a\u5927\u800c\u590d\u6742\u7684 G \u4ee3\u7801\u6587\u4ef6\u5e76\u8ba1\u65f6\u4e3b\u673a\u8f6f\u4ef6\u5904\u7406\u5b83\u6240\u9700\u7684\u65f6\u95f4\u6765\u5b8c\u6210\u7684\u3002\u4f8b\u5982\uff1a time ~/klippy-env/bin/python ./klippy/klippy.py config/example-cartesian.cfg -i something_complex.gcode -o /dev/null -d out/klipper.dict","title":"\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#_1","text":"\u8fd9\u4e2a\u6587\u6863\u89e3\u91ca\u4e86Klipper\u7684\u57fa\u51c6\u6d4b\u8bd5\u3002","title":"\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#micro-controller","text":"\u672c\u8282\u63cf\u8ff0\u4e86\u7528\u4e8e\u751f\u6210 Klipper \u5fae\u63a7\u5236\u5668\u6b65\u8fdb\u7387\uff08step rate\uff09\u57fa\u51c6\u7684\u673a\u5236\u3002 \u57fa\u51c6\u7684\u4e3b\u8981\u76ee\u6807\u662f\u63d0\u4f9b\u4e00\u4e2a\u4e00\u81f4\u7684\u673a\u5236\uff0c\u7528\u4e8e\u6d4b\u91cf\u8f6f\u4ef6\u4e2d\u7f16\u7801\u66f4\u6539\u7684\u5f71\u54cd\u3002\u6b21\u8981\u76ee\u6807\u662f\u63d0\u4f9b\u9ad8\u7ea7\u522b\u6307\u6807\uff0c\u7528\u4e8e\u6bd4\u8f83\u82af\u7247\u548c\u8f6f\u4ef6\u5e73\u53f0\u4e4b\u95f4\u7684\u6027\u80fd\u3002 \u6b65\u8fdb\u7387(stepping rate)\u57fa\u51c6\u662f\u4e3a\u4e86\u627e\u5230\u786c\u4ef6\u548c\u8f6f\u4ef6\u53ef\u4ee5\u8fbe\u5230\u7684\u6700\u5927\u6b65\u8fdb\u7387\u3002\u8fd9\u4e2a\u57fa\u51c6\u6b65\u8fdb\u7387\u5728\u65e5\u5e38\u4f7f\u7528\u4e2d\u662f\u65e0\u6cd5\u5b9e\u73b0\u7684\uff0c\u56e0\u4e3aKlipper\u5728\u4efb\u4f55\u5b9e\u9645\u4f7f\u7528\u4e2d\u90fd\u9700\u8981\u6267\u884c\u5176\u4ed6\u4efb\u52a1\uff08\u4f8b\u5982\uff0cMCU/\u4e3b\u673a\u901a\u4fe1\u3001\u6e29\u5ea6\u8bfb\u53d6\u3001\u9650\u4f4d\u68c0\u67e5\uff09\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u57fa\u51c6\u6d4b\u8bd5\u7684\u5f15\u811a\u88ab\u9009\u62e9\u7528\u4e8e\u95ea\u70c1 LED \u6216\u5176\u4ed6\u5b89\u5168\u5f15\u811a\u3002 \u5728\u8fd0\u884c\u57fa\u51c6\u6d4b\u8bd5\u4e4b\u524d\uff0c\u59cb\u7ec8\u9a8c\u8bc1\u9a71\u52a8\u914d\u7f6e\u7684\u5f15\u811a\u662f\u5b89\u5168\u7684\u3002 \u4e0d\u5efa\u8bae\u5728\u57fa\u51c6\u6d4b\u8bd5\u671f\u95f4\u9a71\u52a8\u5b9e\u9645\u7684\u6b65\u8fdb\u5668\u3002","title":"\u5fae\u63a7\u5236\u5668\uff08Micro-controller\uff09\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#_2","text":"\u6d4b\u8bd5\u662f\u4f7f\u7528console.py\u5de5\u5177\u8fdb\u884c\u7684\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u3002\u4e3a\u7279\u5b9a\u7684\u786c\u4ef6\u5e73\u53f0\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff08\u89c1\u4e0b\u6587\uff09\uff0c\u7136\u540e\u5c06\u4ee5\u4e0b\u5185\u5bb9\u526a\u5207\u5e76\u7c98\u8d34\u5230console.py\u7ec8\u7aef\u7a97\u53e3: SET start_clock {clock+freq} SET ticks 1000 reset_step_clock oid=0 clock={start_clock} set_next_step_dir oid=0 dir=0 queue_step oid=0 interval={ticks} count=60000 add=0 set_next_step_dir oid=0 dir=1 queue_step oid=0 interval=3000 count=1 add=0 reset_step_clock oid=1 clock={start_clock} set_next_step_dir oid=1 dir=0 queue_step oid=1 interval={ticks} count=60000 add=0 set_next_step_dir oid=1 dir=1 queue_step oid=1 interval=3000 count=1 add=0 reset_step_clock oid=2 clock={start_clock} set_next_step_dir oid=2 dir=0 queue_step oid=2 interval={ticks} count=60000 add=0 set_next_step_dir oid=2 dir=1 queue_step oid=2 interval=3000 count=1 add=0 \u4ee5\u4e0a\u6d4b\u8bd5\u4e09\u4e2a\u6b65\u8fdb\u5668\u540c\u65f6\u6b65\u8fdb\u3002\u5982\u679c\u8fd0\u884c\u4e0a\u8ff0\u7a0b\u5e8f\u7684\u7ed3\u679c\u662f \"\u91cd\u65b0\u5b89\u6392\u5b9a\u65f6\u5668\u5728\u8fc7\u53bb \"\u6216 \"\u6b65\u8fdb\u5668\u5728\u8fc7\u53bb\u592a\u8fdc \"\u7684\u9519\u8bef\uff0c\u5219\u8868\u660e ticks \u53c2\u6570\u592a\u4f4e\uff08\u5b83\u5bfc\u81f4\u6b65\u8fdb\u901f\u5ea6\u592a\u5feb\uff09\u3002\u6211\u4eec\u7684\u76ee\u6807\u662f\u627e\u5230\u80fd\u591f\u53ef\u9760\u5730\u5bfc\u81f4\u6210\u529f\u5b8c\u6210\u6d4b\u8bd5\u7684\u6700\u4f4e\u7684ticks\u53c2\u6570\u8bbe\u7f6e\u3002\u5e94\u8be5\u53ef\u4ee5\u5c06ticks\u53c2\u6570\u4e00\u5206\u4e3a\u4e8c\uff0c\u76f4\u5230\u627e\u5230\u4e00\u4e2a\u7a33\u5b9a\u7684\u503c\u3002 \u5728\u5931\u8d25\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u590d\u5236\u548c\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9\u6765\u6e05\u9664\u9519\u8bef\uff0c\u4e3a\u4e0b\u4e00\u6b21\u6d4b\u8bd5\u505a\u51c6\u5907\uff1a clear_shutdown \u4e3a\u4e86\u83b7\u5f97\u5355\u4e00\u6b65\u8fdb\u7535\u673a\u7684\u57fa\u51c6\u6d4b\u8bd5\uff0c\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u914d\u7f6e\u5e8f\u5217\uff0c\u4f46\u53ea\u5c06\u4e0a\u8ff0\u6d4b\u8bd5\u7684\u7b2c\u4e00\u5757\u526a\u5207\u5e76\u7c98\u8d34\u5230 console.py \u7a97\u53e3\u3002 \u4e3a\u4e86\u751f\u6210 \u529f\u80fd \u6587\u6863\u4e2d\u7684\u57fa\u51c6\u6d4b\u8bd5\u7ed3\u679c\uff0c\u6bcf\u79d2\u603b\u6b65\u6570\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f\u5c06\u6d3b\u52a8\u6b65\u8fdb\u5668\u7684\u6570\u91cf\u4e0e\u6807\u79f0 mcu \u9891\u7387\u76f8\u4e58\uff0c\u7136\u540e\u9664\u4ee5\u6700\u7ec8\u7684 ticks \u53c2\u6570\u3002\u7ed3\u679c\u56db\u820d\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u7684 K\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4e09\u4e2a\u6d3b\u52a8\u6b65\u8fdb\u5668\uff1a ECHO Test result is: {\"%.0fK\" % (3. * freq / ticks / 1000.)} \u57fa\u51c6\u7684\u8fd0\u884c\u53c2\u6570\u5fc5\u987b\u548c TMC \u9a71\u52a8\u76f8\u5339\u914d\u3002\u5bf9\u4e8e\u652f\u6301 STEPPER_BOTH_EDGE=1 \u7684\u5fae\u63a7\u5236\u5668\uff08\u63a7\u5236\u53f0\u542f\u52a8\u65f6 MCU config \u884c\u4e2d\u4f1a\u62a5\u544a\uff09\u4f7f\u7528 step_pulse_duration=0 \u548c invert_step=-1 \u6765\u542f\u7528\u6b65\u8fdb\u8109\u51b2\u7684\u4e24\u8fb9\u4e0a\u7684\u4f18\u5316\u3002\u5bf9\u4e8e\u5176\u4ed6\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u5bf9\u5e94 100ns \u7684 step_pulse_duration \u3002","title":"\u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#avr","text":"\u5728AVR\u82af\u7247\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PA4 invert_step=0 step_pulse_ticks=32 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=0 step_pulse_ticks=32 config_stepper oid=2 step_pin=PC7 dir_pin=PC6 invert_step=0 step_pulse_ticks=32 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u4e0e gcc \u7248\u672c avr-gcc \uff08GCC\uff09 5.4.0 \u300216Mhz \u548c 20Mhz \u6d4b\u8bd5\u90fd\u4f7f\u7528\u4e86\u6309 atmega644p \u914d\u7f6e\u7684 simulavr \u8fd0\u884c\uff08\u4ee5\u524d\u7684\u6d4b\u8bd5\u5df2\u7ecf\u786e\u8ba4\u4e8616Mhz at90usb \u548c16Mhz atmega2560 \u7684\u5b9e\u9645\u6027\u80fd\u4e0e simulavr \u7ed3\u679c\u76f8\u4f3c\uff09\u3002 avr ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 102 3\u4e2a\u6b65\u8fdb\u7535\u673a 486","title":"AVR\u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#arduino-due","text":"\u4ee5\u4e0b\u662f\u5728Due\u4e0a\u4f7f\u7528\u7684\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB27 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB26 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA21 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam3x8e ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 66 3\u4e2a\u6b65\u8fdb\u7535\u673a 257","title":"Arduino Due \u7684\u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#duet-maestro","text":"\u5728Duet Maestro\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC26 dir_pin=PC18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PC26 dir_pin=PA8 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PC26 dir_pin=PB4 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam4s8c ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 71 3\u4e2a\u6b65\u8fdb\u7535\u673a 260","title":"Duet Maestro \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#duet-wifi","text":"\u5728Duet Wifi\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PD6 dir_pin=PD11 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PD7 dir_pin=PD12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PD8 dir_pin=PD13 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c gcc \u7248\u672c 10.3.1 20210621\uff08\u53d1\u5e03\u7248\uff09 (GNU Arm Embedded Toolchain 10.3-2021.07) \u3002 sam4e8e ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 48 3\u4e2a\u6b65\u8fdb\u7535\u673a 215","title":"Duet Wifi \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#beaglebone-pru","text":"\u5728PRU\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio0_23 dir_pin=gpio1_12 invert_step=0 step_pulse_ticks=20 config_stepper oid=1 step_pin=gpio1_15 dir_pin=gpio0_26 invert_step=0 step_pulse_ticks=20 config_stepper oid=2 step_pin=gpio0_22 dir_pin=gpio2_1 invert_step=0 step_pulse_ticks=20 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a pru-gcc (GCC) 8.0.0 20170530\uff08\u5b9e\u9a8c\u7248\uff09 \u3002 \u53ef\u7f16\u7a0b\u5b9e\u65f6\u5355\u5143 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 231 3\u4e2a\u6b65\u8fdb\u7535\u673a 847","title":"Beaglebone PRU \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#stm32f042","text":"\u5728STM32F042\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA1 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB8 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f042 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 59 3\u4e2a\u6b65\u8fdb\u7535\u673a 249","title":"STM32F042 \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#stm32f103","text":"\u5728STM32F103\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC13 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA4 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 59314d99 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f103 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 61 3\u4e2a\u6b65\u8fdb\u7535\u673a 264","title":"STM32F103 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#stm32f4","text":"\u5728STM32F4\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB2 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB3 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc\u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002STM32F407 \u7684\u7ed3\u679c\u662f\u901a\u8fc7\u5728 STM32F446 \u4e0a\u8fd0\u884c STM32F407 \u4e8c\u8fdb\u5236\u6587\u4ef6\u5f97\u5230\u7684\uff08\u56e0\u6b64\u65f6\u949f\u662f 168Mhz \uff09\u3002 stm32f446 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 46 3\u4e2a\u6b65\u8fdb\u7535\u673a 205 stm32f407 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 46 3\u4e2a\u6b65\u8fdb\u7535\u673a 205","title":"STM32F4 \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#stm32g0b1","text":"\u5728 STM32G0B1 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB13 dir_pin=PB12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB10 dir_pin=PB2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB0 dir_pin=PC5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6d4b\u8bd5\u6700\u540e\u5728\u63d0\u4ea4 247cd753 \u4e0a\u8fd0\u884c\uff0cgcc \u7248\u672c\u4e3a arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32g0b1 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 58 3\u4e2a\u6b65\u8fdb\u7535\u673a 243","title":"STM32G0B1 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#lpc176x","text":"\u5728LPC176x\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=P1.20 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=P1.21 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=P1.23 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u3002120Mhz LPC1769 \u7684\u7ed3\u679c\u662f\u901a\u8fc7\u5c06 LPC1768 \u8d85\u9891\u5230 120Mhz \u800c\u83b7\u5f97\u7684\u3002 lpc1768 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 52 3\u4e2a\u6b65\u8fdb\u7535\u673a 222 lpc1769 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 51 3\u4e2a\u6b65\u8fdb\u7535\u673a 222","title":"LPC176x \u6b65\u8fdb\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#samd21","text":"\u5728SAMD21\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA27 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA17 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD21G18 \u5fae\u63a7\u5236\u5668\u4e0a\u3002 SAMD21 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 70 3\u4e2a\u6b65\u8fdb\u7535\u673a 306","title":"SAMD21 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#samd51","text":"\u5728SAMD51\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA22 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA22 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA22 dir_pin=PA19 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u4e0e gcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD51J19A \u5fae\u63a7\u5236\u5668\u4e0a\u8fd0\u884c\u7684\u3002 SAMD51 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 39 3\u4e2a\u6b65\u8fdb\u7535\u673a 191 1 stepper (200Mhz) 39 3 stepper (200Mhz) 181","title":"SAMD51 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#rp2040","text":"RP2040 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio25 dir_pin=gpio3 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=gpio26 dir_pin=gpio4 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=gpio27 dir_pin=gpio5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u5728 Raspberry Pi Pico \u677f\u4e0a\u4f7f\u7528 gcc \u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u548c\u63d0\u4ea4 59314d99 \u8fd0\u884c\u3002 rp2040 ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 5 3\u4e2a\u6b65\u8fdb\u7535\u673a 22","title":"RP2040 \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#linux-mcu","text":"\u6811\u8393\u6d3e\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio2 dir_pin=gpio3 invert_step=0 step_pulse_ticks=5 config_stepper oid=1 step_pin=gpio4 dir_pin=gpio5 invert_step=0 step_pulse_ticks=5 config_stepper oid=2 step_pin=gpio6 dir_pin=gpio17 invert_step=0 step_pulse_ticks=5 finalize_config crc=0 \u8be5\u6d4b\u8bd5\u6700\u540e\u4e00\u6b21\u8fd0\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u4e0e gcc \u7248\u672c gcc \uff08Raspbian 8.3.0-6+rpi1\uff09 8.3.0 \u5728 Raspberry Pi 3 \uff08\u4fee\u8ba2\u7248 a02082\uff09 \u4e0a\u8fd0\u884c\u3002\u5728\u8fd9\u4e2a\u57fa\u51c6\u6d4b\u8bd5\u4e2d\u5f88\u96be\u83b7\u5f97\u7a33\u5b9a\u7684\u7ed3\u679c\u3002 Linux (RPi3) ticks 1\u4e2a\u6b65\u8fdb\u7535\u673a 160 3\u4e2a\u6b65\u8fdb\u7535\u673a 380","title":"Linux MCU \u6b65\u901f\u7387\u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#command-dispatch","text":"\u547d\u4ee4\u8c03\u5ea6\u57fa\u51c6\u6d4b\u8bd5\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u5904\u7406\u591a\u5c11\u4e2a \"dummy\"\u547d\u4ee4\u3002\u5b83\u4e3b\u8981\u662f\u5bf9\u786c\u4ef6\u901a\u4fe1\u673a\u5236\u7684\u6d4b\u8bd5\u3002\u8be5\u6d4b\u8bd5\u4f7f\u7528console.py\u5de5\u5177\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u8fd0\u884c\u3002\u4ee5\u4e0b\u662f\u526a\u5207\u5e76\u7c98\u8d34\u5230console.py\u7ec8\u7aef\u7a97\u53e3\u7684\u5185\u5bb9: DELAY {clock + 2*freq} get_uptime FLOOD 100000 0.0 debug_nop get_uptime \u5f53\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u786e\u5b9a\u4e24\u4e2a \"\u6b63\u5e38\u8fd0\u884c\u65f6\u95f4 \"\u54cd\u5e94\u4fe1\u606f\u4e2d\u62a5\u544a\u7684\u65f6\u949f\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u7136\u540e\uff0c\u6bcf\u79d2\u949f\u7684\u603b\u547d\u4ee4\u6570\u662f 100000 * mcu_frequency / clock_diff \u3002 \u6ce8\u610f\uff0c\u8fd9\u4e2a\u6d4b\u8bd5\u53ef\u80fd\u4f1a\u4f7fRaspberry Pi\u7684USB/CPU\u5bb9\u91cf\u8fbe\u5230\u9971\u548c\u3002\u5982\u679c\u5728Raspberry Pi\u3001Beaglebone\u6216\u7c7b\u4f3c\u7684\u4e3b\u673a\u4e0a\u8fd0\u884c\uff0c\u90a3\u4e48\u8981\u589e\u52a0\u5ef6\u8fdf\uff08\u4f8b\u5982\uff0c DELAY {clock + 20*freq} get_uptime \uff09\u3002\u5728\u9002\u7528\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0b\u9762\u7684\u57fa\u51c6\u662f\u7528\u63a7\u5236\u53f0.py\u5728\u684c\u9762\u7c7b\u673a\u5668\u4e0a\u8fd0\u884c\uff0c\u8bbe\u5907\u901a\u8fc7\u9ad8\u901f\u96c6\u7ebf\u5668\u8fde\u63a5\u3002 MCU Rate Build Build compiler stm32f042 (CAN) 18K c105adc8 arm-none-eabi-gcc (GNU Tools 7-2018-q3-update) 7.3.1 atmega2560 (\u4e32\u884c\u603b\u7ebf) 23K b161a69e avr-gcc (GCC) 4.8.1 sam3x8e (\u4e32\u884c\u603b\u7ebf) 23K b161a69e arm-none-eabi-gcc (Fedora 7.1.0-5.fc27) 7.1.0 at90usb1286 (USB) 75K 01d2183f avr-gcc (GCC) 5.4.0 samd21 (USB) 223K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 PRU\uff08\u5171\u4eab\u5185\u5b58\uff09 260K c5968a08 pru-gcc (GCC) 8.0.0 20170530 (experimental) stm32f103 (USB) 355K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam3x8e (USB) 418K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1768 (USB) 534K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1769 (USB) 628K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam4s8c (USB) 650K 8d4a5c16 arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 samd51 (USB) 864K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 stm32f446 (USB) 870K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 rp2040 (USB) 873K c5667193 arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0","title":"Command dispatch \u57fa\u51c6\u6d4b\u8bd5"},{"location":"Benchmarks.html#host","text":"\u53ef\u4ee5\u4f7f\u7528\u201c\u6279\u5904\u7406\u6a21\u5f0f\u201d\u5904\u7406\u673a\u5236\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u5728\u4e3b\u673a\u8f6f\u4ef6\u4e0a\u8fd0\u884c\u65f6\u5e8f\u6d4b\u8bd5\u3002\u8fd9\u901a\u5e38\u662f\u901a\u8fc7\u9009\u62e9\u4e00\u4e2a\u5927\u800c\u590d\u6742\u7684 G \u4ee3\u7801\u6587\u4ef6\u5e76\u8ba1\u65f6\u4e3b\u673a\u8f6f\u4ef6\u5904\u7406\u5b83\u6240\u9700\u7684\u65f6\u95f4\u6765\u5b8c\u6210\u7684\u3002\u4f8b\u5982\uff1a time ~/klippy-env/bin/python ./klippy/klippy.py config/example-cartesian.cfg -i something_complex.gcode -o /dev/null -d out/klipper.dict","title":"Host \u57fa\u51c6\u6d4b\u8bd5"},{"location":"Bootloaders.html","text":"\u5e95\u5c42\u5f15\u5bfc\u7a0b\u5e8f \u00b6 \u672c\u6587\u6863\u4ecb\u7ecdKlipper\u652f\u6301\u7684\u7528\u4e8e\u5fae\u63a7\u5236\u5668\u7684\u5e95\u5c42\u5f15\u5bfc\u7a0b\u5e8f\uff08bootloader\uff09\u3002 \u5f15\u5bfc\u7a0b\u5e8f\u662f\u7b2c\u4e09\u65b9\u8f6f\u4ef6\uff0c\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u7535\u540e\u4f18\u5148\u8fd0\u884c\u3002\u8be5\u7a0b\u5e8f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u7279\u6b8a\u786c\u4ef6\uff08\u5982\u70e7\u5f55\u5668\uff09\u4e0b\u5bf9\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5e8f\u8fdb\u884c\u5237\u5199\uff08\u5982\u5199\u5165Klipper\u7a0b\u5e8f\uff09\u3002\u7136\u800c\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u4e00\u5237\u5199\u5fae\u63a7\u5236\u5668\u7684\u5de5\u4e1a\u6807\u51c6\uff0c\u4e5f\u6ca1\u6709\u4e00\u4e2a\u9002\u7528\u4e8e\u6240\u6709\u5fae\u63a7\u5236\u5668\u7684\u6807\u51c6\u5f15\u5bfc\u7a0b\u5e8f\u3002\u66f4\u9ebb\u70e6\u7684\u662f\uff0c\u6bcf\u79cd\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u9700\u8981\u4e0d\u540c\u7684\u6b65\u9aa4\u4ee5\u89e6\u53d1\u5237\u5199\u529f\u80fd\u3002 \u5982\u679c\u80fd\u7528\u67d0\u79cd\u65b9\u5f0f\u5c06 bootloader \u5237\u5199\u5230\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u8be5\u65b9\u5f0f\u901a\u5e38\u4e5f\u80fd\u5b8c\u6210\u7a0b\u5e8f\u5237\u5199\u64cd\u4f5c\uff0c\u4f46\u662f\uff0c\u8fd9\u79cd\u76f4\u63a5\u5237\u5199\u53ef\u80fd\u4f1a\u5c06 bootloader \u8986\u76d6\u6389\u3002\u76f8\u5bf9\u5730\uff0cbootloader \u53ea\u5141\u8bb8\u7528\u6237\u5237\u5199\u5e94\u7528\u7a0b\u5e8f\u533a\u57df\u3002\u56e0\u6b64\uff0c\u5c3d\u53ef\u80fd\u4f7f\u7528 bootloader \u5b8c\u6210\u7a0b\u5e8f\u7684\u5237\u5199\u3002 \u8be5\u6587\u6863\u5c06\u5c3d\u53ef\u80fd\u4ecb\u7ecd\u5e38\u89c1\u7684bootloaders\uff0c\u5237\u5165bootloader\u6240\u9700\u7684\u6b65\u9aa4\u548c\u89e6\u53d1bootloader\u8fdb\u884c\u7a0b\u5e8f\u5237\u5199\u7684\u6d41\u7a0b\u3002\u8be5\u6587\u6863\u4ea6\u975e\u5b98\u65b9\u6307\u5f15\uff0c\u8fd9\u53ea\u662f\u5728Klipper\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u6536\u96c6\u5230\u7684\u6709\u7528\u4fe1\u606f\u3002 AVR \u5fae\u63a7\u5236\u5668 \u00b6 \u603b\u4f53\u4e0a\u6765\u8bf4\uff0cArduino\u9879\u76ee\u662f8\u4f4dAtmel Atmega\u5fae\u63a7\u5236\u5668\u7684\u5f15\u5bfc\u7a0b\u5e8f\u548c\u5237\u5199\u7a0b\u5e8f\u7684\u597d\u7684\u53c2\u8003\u3002\u7279\u522b\u662f\" boards.txt \"\u6587\u4ef6\u3002 https://github.com/arduino/Arduino/blob/1.8.5/hardware/arduino/avr/boards.txt \u662f\u4e00\u4e2a\u6709\u7528\u7684\u53c2\u8003\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0cAVR \u82af\u7247\u9700\u8981\u4e00\u4e2a\u5916\u90e8\u786c\u4ef6\u5237\u5199\u5de5\u5177\uff08\u5b83\u4f7f\u7528 SPI \u4e0e\u82af\u7247\u8fdb\u884c\u901a\u4fe1\uff09\u3002\u8fd9\u4e2a\u5de5\u5177\u53ef\u4ee5\u8d2d\u4e70\uff08\u4f8b\u5982\uff0c\u5728\u7f51\u4e0a\u641c\u7d22 \"avr isp\"\u3001\"arduino isp \"\u6216 \"usb tiny isp\"\uff09\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\u53e6\u4e00\u4e2aArduino\u6216Raspberry Pi\u6765\u95ea\u5b58AVR\u5f15\u5bfc\u7a0b\u5e8f\uff08\u4f8b\u5982\uff0c\u5728\u7f51\u4e0a\u641c\u7d22 \"\u7528raspberry pi\u7f16\u7a0bAVR\"\uff09\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5728\u5047\u8bbe\u4f7f\u7528 \"AVR ISP Mk2 \"\u7c7b\u578b\u7684\u8bbe\u5907\u7684\u60c5\u51b5\u4e0b\u7f16\u5199\u7684\u3002 \"avrdude \"\u7a0b\u5e8f\u662f\u6700\u5e38\u7528\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u5237\u5199atmega\u82af\u7247\uff08\u5305\u62ec\u5f15\u5bfc\u7a0b\u5e8f\u5237\u5199\u548c\u5e94\u7528\u7a0b\u5e8f\u5237\u5199\uff09\u3002 Atmega2560 \u00b6 \u8fd9\u4e2a\u82af\u7247\u901a\u5e38\u51fa\u73b0\u5728 \"Arduino Mega\" \u4e2d\uff0c\u57283D\u6253\u5370\u673a\u4e3b\u677f\u4e2d\u4e5f\u5341\u5206\u666e\u904d\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/stk500v2/stk500boot_v2_mega2560.hex' avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xD8:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U flash:w:stk500boot_v2_mega2560.hex avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a avrdude -cwiring -patmega2560 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i Atmega1280 \u00b6 \u8fd9\u4e2a\u82af\u7247\u901a\u5e38\u51fa\u73b0\u5728\u65e9\u671f\u7248\u672c\u7684 \"Arduino Mega \"\u4e2d\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/atmega/ATmegaBOOT_168_atmega1280.hex' avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xF5:m -U hfuse:w:0xDA:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U flash:w:ATmegaBOOT_168_atmega1280.hex avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a avrdude -carduino -patmega1280 -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i Atmega1284p \u00b6 \u8fd9\u79cd\u82af\u7247\u901a\u5e38\u51fa\u73b0\u5728 \"Melzi \"\u5f0f\u76843D\u6253\u5370\u673a\u4e3b\u677f\u4e0a\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/Lauszus/Sanguino/raw/1.0.2/bootloaders/optiboot/optiboot_atmega1284p.hex' avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xDE:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega1284p.hex avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i \u6ce8\u610f\uff0c\u4e00\u4e9b \"Melzi \"\u98ce\u683c\u7684\u677f\u5b50\u9884\u8f7d\u4e86\u4e00\u4e2a\u4f7f\u752857600\u6ce2\u7279\u7387\u7684\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u8fd9\u6837\u7684\u4e1c\u897f\u6765\u4ee3\u66ff\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i At90usb1286 \u00b6 \u672c\u6587\u4ef6\u4e0d\u5305\u62ec\u5411At90usb1286\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u7684\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u5305\u62ec\u5411\u8be5\u8bbe\u5907\u5237\u5199\u4e00\u822c\u5e94\u7528\u3002 \u6765\u81eapjrc.com\u7684Teensy++\u8bbe\u5907\u5e26\u6709\u4e00\u4e2a\u4e13\u7528\u7684\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5b83\u9700\u8981\u4e00\u4e2a\u6765\u81ea https://github.com/PaulStoffregen/teensy_loader_cli \u7684\u5b9a\u5236\u5237\u5199\u5de5\u5177\u3002\u53ef\u4ee5\u7528\u8fd9\u4e2a\u5de5\u5177\u6765\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982\uff1a teensy_loader_cli --mcu=at90usb1286 out/klipper.elf.hex -v Atmega168 \u00b6 atmega168\u7684\u95ea\u5b58\u7a7a\u95f4\u6709\u9650\u3002\u5982\u679c\u4f7f\u7528\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5efa\u8bae\u4f7f\u7528Optiboot bootloader\u3002\u8981\u5237\u5199\u8be5\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/optiboot/optiboot_atmega168.hex' avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0x04:m -U hfuse:w:0xDD:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega168.hex avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u901a\u8fc7Optiboot bootloader \u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a avrdude -carduino -patmega168 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i SAM3 \u5fae\u63a7\u5236\u5668 (Arduino Due) \u00b6 \u901a\u5e38\u5728 SAM 3 \u5fae\u63a7\u5236\u5668\u4e0a\u4e0d\u4f7f\u7528\u5f15\u5bfc\u7a0b\u5e8f\u3002\u82af\u7247\u81ea\u5e26\u4e00\u4e2a\u5141\u8bb8\u4ece3.3V \u4e32\u53e3\u6216\u4eceUSB\u8fdb\u884c\u7f16\u7a0b\u7684ROM\u3002 \u4e3a\u4e86\u542f\u7528ROM\uff0c\u5c06\"erase\"\u5f15\u811a\u5728\u590d\u4f4d\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u9ad8\u7535\u5e73\uff0c\u8fd9\u5c06\u64e6\u9664\u95ea\u5b58\u7684\u5185\u5bb9\uff0c\u5e76\u4f7fROM\u8fd0\u884c\u3002\u5728Arduino Due\u4e0a\uff0c\u8fd9\u4e2a\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u5728 \"programming usb port\"\uff08\u7f16\u7a0bUSB\u53e3\uff0c\u6700\u9760\u8fd1\u7535\u6e90\u7684USB\u7aef\u53e3\uff09\u4e0a\u8bbe\u7f6e1200\u7684\u6ce2\u7279\u7387\u6765\u5b8c\u6210\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u4ee3\u7801\u53ef\u4ee5\u7528\u6765\u4e3aSAM3\u7f16\u7a0b\u3002\u5efa\u8bae\u4f7f\u75281.9\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a bossac -U -p /dev/ttyACM0 -a -e -w out/klipper.bin -v -b bossac -U -p /dev/ttyACM0 -R SAM4 \u5fae\u63a7\u5236\u5668 (Duet Wifi) \u00b6 \u901a\u5e38\u5728 SAM4 \u5fae\u63a7\u5236\u5668\u4e2d\u4e0d\u4f7f\u7528\u5f15\u5bfc\u7a0b\u5e8f\u3002\u82af\u7247\u81ea\u5e26\u4e00\u4e2a\u53ef\u4ee5\u4ece 3.3V \u4e32\u53e3\u6216 USB \u8fdb\u884c\u7f16\u7a0b\u7684ROM\u3002 \u4e3a\u4e86\u542f\u7528ROM\uff0c\u5728\u590d\u4f4d\u8fc7\u7a0b\u4e2d\u8981\u5c06\"erase\"\u5f15\u811a\u4fdd\u6301\u4e3a\u9ad8\u7535\u5e73\uff0c\u8fd9\u5c06\u64e6\u9664\u95ea\u5b58\u5185\u5bb9\uff0c\u5e76\u4f7fROM\u8fd0\u884c\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u4ee3\u7801\u53ef\u4ee5\u7528\u6765\u4e3aSAM4\u7f16\u7a0b\u3002\u9700\u8981\u4f7f\u7528 1.8.0 \u6216\u66f4\u9ad8\u7684\u7248\u672c\u3002 \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a bossac --port=/dev/ttyACM0 -b -U -e -w -v -R out/klipper.bin SAMD21\u5fae\u63a7\u5236\u5668\uff08Arduino Zero\uff09 \u00b6 SAMD21 \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u901a\u8fc7 ARM \u4e32\u884c\u7ebf\u8c03\u8bd5 \uff08SWD\uff09 \u63a5\u53e3\u8fdb\u884c\u5237\u5199\uff0c\u901a\u5e38\u9700\u8981\u4e00\u4e2a\u4e13\u7528\u7684 SWD \u786c\u4ef6\u8f6c\u6362\u5668\u6216\u8005\u4f7f\u7528 \u5b89\u88c5\u4e86 OpenOCD \u7684 Raspberry Pi \u6765\u5b8c\u6210\u3002 \u8981\u4f7f\u7528 OpenOCD \u5237\u5199\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u82af\u7247\u914d\u7f6e\uff1a source [find target/at91samdXX.cfg] \u83b7\u53d6\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f - \u4f8b\u5982\uff1a wget 'https://github.com/arduino/ArduinoCore-samd/raw/1.8.3/bootloaders/zero/samd21_sam_ba.bin' \u4f7f\u7528\u7c7b\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u6765\u5237\u5199\uff1a at91samd bootloader 0 program samd21_sam_ba.bin verify SAMD21\u4e0a\u6700\u5e38\u89c1\u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u4ee5\u5728 \"Arduino Zero \"\u4e0a\u627e\u5230\u3002\u5b83\u4f7f\u7528\u4e00\u4e2a 8KiB \u7684\u5f15\u5bfc\u7a0b\u5e8f\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\uff0c\u6309\u4e0b\u590d\u4f4d\u6309\u94ae\u4e24\u6b21\u5c31\u53ef\u4ee5\u8fdb\u5165\u3002\u8981\u5237\u5199\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x2000 -w out/klipper.bin -v -b -R \u76f8\u6bd4\u4e4b\u4e0b\uff0c\"Arduino M0 \"\u4f7f\u7528\u4e00\u4e2a 16KiB \u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff08\u7a0b\u5e8f\u5fc5\u987b\u7528 16KiB \u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002\u4f7f\u7528\u8fd9\u4e2a\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u6765\u5237\u5199\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8bf7\u91cd\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u5e76\u5728\u542f\u52a8\u7684\u5934\u51e0\u79d2\u949f\u5185\u8fd0\u884c\u5237\u5199\u547d\u4ee4--\u7c7b\u4f3c\u5982\u4e0b\u547d\u4ee4\uff1a avrdude -c stk500v2 -p atmega2560 -P /dev/ttyACM0 -u -Uflash:w:out/klipper.elf.hex:i SAMD51 \u5fae\u63a7\u5236\u5668(Adafruit Metro-M4\u53ca\u7c7b\u4f3c\u7684\u5f00\u53d1\u677f) \u00b6 \u548c SAMD21 \u4e00\u6837\uff0cSAMD51 \u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u4e5f\u662f\u901a\u8fc7 ARM \u4e32\u884c\u7ebf\u8c03\u8bd5\uff08SWD\uff09\u63a5\u53e3\u5237\u5199\u7684\u3002\u8981\u7528 \u8fd0\u884c OpenOCD\u7684 Raspberry Pi \u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u82af\u7247\u914d\u7f6e\uff1a source [find target/atsame5x.cfg] \u83b7\u5f97\u4e00\u4e2a\u5f15\u5bfc\u7a0b\u5e8f--\u5f88\u591a\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u4ee5\u4ece https://github.com/adafruit/uf2-samdx1/releases/latest \u83b7\u5f97\u3002\u4f8b\u5982\uff1a wget 'https://github.com/adafruit/uf2-samdx1/releases/download/v3.7.0/bootloader-itsybitsy_m4-v3.7.0.bin' \u4f7f\u7528\u7c7b\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u6765\u5237\u5199\uff1a at91samd bootloader 0 program bootloader-itsybitsy_m4-v3.7.0.bin verify at91samd bootloader 16384 SAMD51 \u4f7f\u7528 16KiB \u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002\u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x4000 -w out/klipper.bin -v -b -R STM32F103 \u5fae\u63a7\u5236\u5668\uff08Blue Pill \u5f00\u53d1\u677f\uff09 \u00b6 STM32F103\u8bbe\u5907\u6709\u4e00\u4e2aROM\uff0c\u53ef\u4ee5\u901a\u8fc73.3V\u4e32\u53e3\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u6216\u5e94\u7528\u7a0b\u5e8f\u3002\u901a\u5e38\u4f1a\u628aPA10\uff08MCU Rx\uff09\u548cPA9\uff08MCU Tx\uff09\u5f15\u811a\u8fde\u63a5\u52303.3V UART\u9002\u914d\u5668\u4e0a\u3002\u8981\u8bbf\u95eeROM\uff0c\u5e94\u8be5\u628a\"boot 0\"\u5f15\u811a\u8fde\u63a5\u5230\u9ad8\u7535\u5e73\uff0c\"boot 1\"\u5f15\u811a\u8fde\u63a5\u5230\u4f4e\u7535\u5e73\uff0c\u7136\u540e\u91cd\u7f6e\u8bbe\u5907\u3002\u7136\u540e\u53ef\u4ee5\u7528\"stm32flash\"\u5305\u5237\u5199\u8bbe\u5907\uff0c\u4f7f\u7528\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a stm32flash -w out/klipper.bin -v -g 0 /dev/ttyAMA0 \u6ce8\u610f\uff0c\u5982\u679c\u4f7f\u7528\u6811\u8393\u6d3e\u76843.3V\u4e32\u53e3\uff0cstm32flash\u534f\u8bae\u4f7f\u7528\u7684\u4e32\u884c\u5947\u5076\u6821\u9a8c\u6a21\u5f0f\uff0c\u6811\u8393\u6d3e\u7684 \"mini UART \"\u5e76\u4e0d\u652f\u6301\u3002\u5173\u4e8e\u5728\u6811\u8393\u6d3e\u7684GPIO\u5f15\u811a\u4e0a\u542f\u7528\u5b8c\u6574\u7684UART\u7684\u7ec6\u8282\uff0c\u89c1 https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts \u3002 \u5237\u5199\u540e\uff0c\u5c06 \"boot 0 \"\u548c \"boot 1 \"\u90fd\u6062\u590d\u8bbe\u4e3a\u4f4e\u7535\u5e73\uff0c\u4ee5\u4fbf\u5728\u590d\u4f4d\u540e\u4ece\u95ea\u5b58\u542f\u52a8\u3002 \u5e26\u6709 stm32duino \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u7684 STM32F103 \u00b6 \"stm32duino \"\u9879\u76ee\u6709\u4e00\u4e2aUSB\u529f\u80fd\u7684\u5f15\u5bfc\u7a0b\u5e8f-\u53c2\u89c1\uff1a https://github.com/rogerclarkmelbourne/STM32duino-bootloader \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc73.3V\u7684\u4e32\u53e3\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u6765\u5237\u5199\uff1a wget 'https://github.com/rogerclarkmelbourne/STM32duino-bootloader/raw/master/binaries/generic_boot20_pc13.bin' stm32flash -w generic_boot20_pc13.bin -v -g 0 /dev/ttyAMA0 \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u4f7f\u7528 8KiB \u7684\u95ea\u5b58\u7a7a\u95f4\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u7f16\u8bd1\uff09\u3002\u5237\u5199\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a dfu-util -d 1eaf:0003 -a 2 -R -D out/klipper.bin \u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u901a\u5e38\u53ea\u5728\u542f\u52a8\u540e\u7684\u4e00\u5c0f\u6bb5\u65f6\u95f4\u8fd0\u884c\u3002\u5728\u8f93\u5165\u4ee5\u4e0a\u547d\u4ee4\u7684\u65f6\u5019\uff0c\u9700\u8981\u786e\u4fdd\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u8fd8\u5728\u8fd0\u884c\uff08\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\u4f1a\u63a7\u5236\u677f\u4e0a\u7684led\u95ea\u70c1\uff09\u3002\u6b64\u5916\uff0c\u542f\u52a8\u540e\u5982\u679c\u8bbe\u7f6e\u201cboot 0\u201d\u5f15\u811a\u4e3a\u4f4e\uff0c\u8bbe\u7f6e\u201cboot 1\u201d\u5f15\u811a\u4e3a\u9ad8\u5219\u53ef\u4ee5\u4e00\u76f4\u505c\u7559\u5728\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u3002 \u5e26\u6709 HID \u5f15\u5bfc\u7a0b\u5e8f\u7684STM32F103 \u00b6 HID bootloader \u662f\u4e00\u4e2a\u7d27\u51d1\u7684\u3001\u4e0d\u5305\u542b\u9a71\u52a8\u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u80fd\u591f\u901a\u8fc7USB\u8fdb\u884c\u5237\u5199\u3002\u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a \u9488\u5bf9SKR Mini E3 1.2\u6784\u5efa\u7684\u5206\u652f \u3002 \u5bf9\u4e8e\u5e38\u89c1\u7684STM32F103\u677f\uff0c\u5982Blue Pill\uff0c\u548c stm32duino \u7ae0\u8282\u4e2d\u4e00\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7 3.3v \u4e32\u884c\u7528stm32flash \u5237\u5199\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5c06\u6587\u4ef6\u540d\u66ff\u6362\u4e3a\u6240\u9700\u7684 hid\u5f15\u5bfc\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u4f8b\u5982Blue Pill \u4f7f\u7528\u7684 hid_generic_pc13.bin\uff09\u3002 SKR Mini E3\u65e0\u6cd5\u4f7f\u7528stm32flash \uff0c\u56e0\u4e3aboot 0\u5f15\u811a\u88ab\u76f4\u63a5\u63a5\u5230GND\u4e14\u6ca1\u6709\u8df3\u7ebf\u65ad\u5f00\u3002\u63a8\u8350\u4f7f\u7528STLink V2\u901a\u8fc7STM32Cubeprogrammer\u5237\u5199\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5982\u679c\u4f60\u6ca1\u6709STLink \uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u82af\u7247\u914d\u7f6e\u4f7f\u7528 \u6811\u8393\u6d3e\u548cOpenOCD \u5237\u5199\uff1a source [find target/stm32f1x.cfg] \u5982\u679c\u4f60\u613f\u610f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5907\u4efd\u5f53\u524d\u95ea\u5b58\u4e0a\u7684\u7a0b\u5e8f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\u6765\u5b8c\u6210\u5907\u4efd\uff1a flash read_bank 0 btt_skr_mini_e3_backup.bin \u6700\u540e\uff0c\u4f60\u53ef\u4ee5\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u5237\u5199\u56fa\u4ef6\uff1a stm32f1x mass_erase 0 program hid_btt_skr_mini_e3.bin verify 0x08000000 \u6ce8\u610f\uff1a \u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u5148\u64e6\u9664\u82af\u7247\uff0c\u7136\u540e\u518d\u5199\u5165\u5f15\u5bfc\u7a0b\u5e8f\u3002\u65e0\u8bba\u9009\u62e9\u54ea\u79cd\u65b9\u6cd5\u5237\u5199\uff0c\u90fd\u5efa\u8bae\u5728\u5237\u5199\u524d\u64e6\u9664\u82af\u7247\u3002 \u5728\u7528\u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u5237\u5199SKR Mini E3\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u77e5\u9053\u4e4b\u540e\u4f60\u5c06\u4e0d\u80fd\u518d\u901a\u8fc7SD\u5361\u66f4\u65b0\u56fa\u4ef6\u3002 You may need to hold down the reset button on the board while launching OpenOCD. It should display something like: Open On-Chip Debugger 0.10.0+dev-01204-gc60252ac-dirty (2020-04-27-16:00) Licensed under GNU GPL v2 For bug reports, read http://openocd.org/doc/doxygen/bugs.html DEPRECATED! use 'adapter speed' not 'adapter_khz' Info : BCM2835 GPIO JTAG/SWD bitbang driver Info : JTAG and SWD modes enabled Info : clock speed 40 kHz Info : SWD DPIDR 0x1ba01477 Info : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints Info : stm32f1x.cpu: external reset detected Info : starting gdb server for stm32f1x.cpu on 3333 Info : Listening on port 3333 for gdb connections \u4e4b\u540e\u53ef\u4ee5\u677e\u5f00\u590d\u4f4d\u6309\u94ae\u3002 \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u9700\u89812KiB\u7684\u95ea\u5b58\u7a7a\u95f4\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee52KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002 hid-flash\u7a0b\u5e8f\u662f\u7528\u6765\u4e0a\u4f20\u4e8c\u8fdb\u5236\u6587\u4ef6\u5230\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u7684\u3002\u4f60\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\u8fd9\u4e2a\u8f6f\u4ef6\uff1a sudo apt install libusb-1.0 cd ~/klipper/lib/hidflash make \u5982\u679cbootloader\u6b63\u5728\u8fd0\u884c\uff0c\u4f60\u53ef\u4ee5\u7528\u8fd9\u4e2a\u6765\u5237\u5199\uff1a ~/klipper/lib/hidflash/hid-flash ~/klipper/out/klipper.bin \u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 make flash \u6765\u76f4\u63a5\u5237\u5199klipper\uff1a make flash FLASH_DEVICE=1209:BEBA \u6216\u8005\uff0c\u5982\u679cklipper\u4e4b\u524d\u5df2\u7ecf\u88ab\u5199\u5165\u8fc7\uff1a make flash FLASH_DEVICE=/dev/ttyACM0 \u53ef\u80fd\u9700\u8981\u624b\u52a8\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e \"boot 0 \"\u7684\u4f4e\u7535\u5e73\u548c \"boot 1 \"\u7684\u9ad8\u7535\u5e73\u6765\u5b8c\u6210\u3002\u5728SKR Mini E3\u4e0a\uff0c\"Boot 1 \"\u662f\u4e0d\u53ef\u7528\u7684\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u5199\u5165\u8fc7\"hid_btt_skr_mini_e3.bin\"\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6ePA2\u7684\u4f4e\u7535\u5e73\u6765\u5b8c\u6210\u3002\u5728SKR Mini E3\u7684 \"PIN \"\u6587\u4ef6\u4e2d\uff0c\u8fd9\u4e2a\u5f15\u811a\u5728TFT\u63d2\u5ea7\u4e0a\u88ab\u6807\u8bb0\u4e3a \"TX0\"\u3002\u5728PA2\u65c1\u8fb9\u6709\u4e00\u4e2a\u63a5\u5730\u5f15\u811a\uff0c\u4f60\u53ef\u4ee5\u7528\u5b83\u6765\u628aPA2\u62c9\u4f4e\u3002 \u5e26MSC\u5f15\u5bfc\u7a0b\u5e8f\u7684STM32F103/STM32F072 \u00b6 MSC \u5f15\u5bfc\u7a0b\u5e8f \u662f\u4e00\u4e2a\u80fd\u591f\u8fdb\u884c USB \u5237\u5199\u7684\u514d\u9a71\u5f15\u5bfc\u7a0b\u5e8f\u3002 \u53ef\u4ee5\u4f7f\u7528 stm32flash \u901a\u8fc7 3.3v \u4e32\u884c\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5982\u4e0a\u9762\u7684 stm32duino \u7ae0\u8282\u6240\u8ff0\uff0c\u5c06\u6587\u4ef6\u540d\u66ff\u6362\u4e3a\u6240\u9700\u7684 MSC \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u4f8b\u5982\uff1aBlue Pill \u4f7f\u7528 MSCboot-Bluepill.bin\uff09\u3002 STM32F072\u677f\u4e5f\u53ef\u4ee5\u901a\u8fc7USB\uff08\u901a\u8fc7DFU\uff09\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5982\u4e0b\u6240\u793a\uff1a dfu-util -d 0483:df11 -a 0 -R -D MSCboot-STM32F072.bin -s0x08000000:leave \u6b64\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u4f7f\u7528 8KiB \u6216 16KiB \u7684\u95ea\u5b58\u7a7a\u95f4\uff0c\u8bf7\u53c2\u9605\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u7684\u8bf4\u660e\uff08\u5fc5\u987b\u4f7f\u7528\u76f8\u5e94\u7684\u8d77\u59cb\u5730\u5740\u7f16\u8bd1\u5e94\u7528\u7a0b\u5e8f\uff09\u3002 \u53ef\u4ee5\u901a\u8fc7\u6309\u4e24\u6b21\u7535\u8def\u677f\u4e0a\u7684\u590d\u4f4d\u6309\u94ae\u6765\u6fc0\u6d3b\u5f15\u5bfc\u7a0b\u5e8f\u3002\u4e00\u65e6\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8be5\u677f\u5c31\u4f1a\u663e\u793a\u4e3a\u4e00\u4e2a USB \u95ea\u5b58\u9a71\u52a8\u5668\uff0c\u53ef\u4ee5\u5c06 klipper.bin \u6587\u4ef6\u590d\u5236\u5230\u8be5\u9a71\u52a8\u5668\u4e0a\u3002 \u5e26\u6709CanBoot\u5f15\u5bfc\u7a0b\u5e8f\u7684STM32F103/STM32F0x2 \u00b6 CanBoot \u5f15\u5bfc\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u901a\u8fc7CANBUS\u4e0a\u4f20Klipper\u56fa\u4ef6\u7684\u9009\u9879\u3002\u8be5\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\u6765\u81eaKlipper\u7684\u6e90\u4ee3\u7801\u3002\u76ee\u524dCanBoot\u652f\u6301STM32F103\u3001STM32F042\u548cSTM32F072\u578b\u53f7\u3002 \u5efa\u8bae\u4f7f\u7528ST-Link\u7f16\u7a0b\u5668\u6765\u5237\u5199CanBoot\uff0c\u7136\u800c\u5728STM32F103\u8bbe\u5907\u4e0a\u4f7f\u7528 stm32flash \uff0c\u5728STM32F042/STM32F072\u8bbe\u5907\u4e0a\u4f7f\u7528 dfu-util \u5e94\u8be5\u662f\u53ef\u4ee5\u5237\u5199\u3002\u5173\u4e8e\u8fd9\u4e9b\u5237\u5199\u65b9\u6cd5\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1\u672c\u6587\u7684\u524d\u51e0\u8282\uff0c\u5728\u9002\u5f53\u7684\u5730\u65b9\u7528 canboot.bin \u4ee3\u66ff\u6587\u4ef6\u540d\u3002\u4e0a\u9762\u94fe\u63a5\u7684CanBoot repo\u63d0\u4f9b\u4e86\u6784\u5efa\u5f15\u5bfc\u7a0b\u5e8f\u7684\u8bf4\u660e\u3002 \u5728CanBoot\u7b2c\u4e00\u6b21\u88ab\u5199\u5165\u65f6\uff0c\u5e94\u8be5\u68c0\u6d4b\u5230\u6ca1\u6709\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fde\u7eed\u6309\u4e24\u6b21\u590d\u4f4d\u6309\u94ae\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\u3002 flash_can.py \u5728 lib/canboot \u6587\u4ef6\u5939\u4e2d\u63d0\u4f9b\u7684\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u4e0a\u4f20Klipper\u56fa\u4ef6\u3002\u8bbe\u5907\u7684UUID\u5bf9\u4e8e\u5199\u5165\u56fa\u4ef6\u6765\u8bf4\u662f\u5fc5\u8981\u7684\u3002\u5982\u679c\u4f60\u6ca1\u6709UUID\u53ef\u4ee5\u67e5\u8be2\u5f53\u524d\u8fd0\u884c\u5f15\u5bfc\u7a0b\u5e8f\u7684\u8282\u70b9\uff1a python3 flash_can.py -q \u8fd9\u4f1a\u8fd4\u56de\u6240\u6709\u672a\u88ab\u5206\u914dUUID\u7684\u8282\u70b9\u7684UUID\u3002\u8fd9\u5e94\u8be5\u5305\u62ec\u5f53\u524d\u5728bootloader\u4e2d\u7684\u6240\u6709\u8282\u70b9\u3002 \u4e00\u65e6\u4f60\u6709\u4e86UUID\uff0c\u4f60\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u4e0a\u4f20\u56fa\u4ef6\uff1a python3 flash_can.py -i can0 -f ~/klipper/out/klipper.bin -u aabbccddeeff \u5176\u4e2d aabbccddeeff \u88ab\u4f60\u7684UUID\u53d6\u4ee3\u3002\u6ce8\u610f\u9009\u9879 -i \u548c -f \u53ef\u4ee5\u88ab\u7701\u7565\uff0c\u5b83\u4eec\u5206\u522b\u9ed8\u8ba4\u4e3a can0 \u548c ~/klipper/out/klipper.bin \u3002 \u5f53\u6784\u5efaKlipper\u4e0eCanBoot\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u9009\u62e98 KiB Bootloader\u9009\u9879\u3002 STM32F4 \u5fae\u63a7\u5236\u5668 (SKR Pro 1.1) \u00b6 STM32F4\u5fae\u63a7\u5236\u5668\u914d\u5907\u4e86\u4e00\u4e2a\u5185\u7f6e\u7684\u7cfb\u7edf\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u80fd\u591f\u901a\u8fc7USB\uff08\u901a\u8fc7DFU\uff09\u30013.3v\u4e32\u53e3\u548c\u5176\u4ed6\u5404\u79cd\u65b9\u6cd5\u8fdb\u884c\u5237\u5199\uff08\u66f4\u591a\u4fe1\u606f\u89c1STM\u6587\u4ef6AN2606\uff09\u3002\u4e00\u4e9bSTM32F4\u677f\uff0c\u5982SKR Pro 1.1\uff0c\u4e0d\u80fd\u8fdb\u5165DFU\u5f15\u5bfc\u7a0b\u5e8f\u3002\u57fa\u4e8eSTM32F405/407\u7684\u677f\u5b50\u53ef\u4ee5\u4f7f\u7528HID\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5982\u679c\u7528\u6237\u613f\u610f\u901a\u8fc7USB\u5237\u5199\u800c\u4e0d\u662f\u4f7f\u7528SD\u5361\u3002\u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u80fd\u9700\u9488\u5bf9\u4f60\u7684\u677f\u5b50\u914d\u7f6e\u548c\u6784\u5efa\u4e00\u4e2a\u7279\u5b9a\u7684\u7248\u672c\uff0c \u9488\u5bf9SKR Pro 1.1\u7684\u6784\u5efa\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230 \u3002 \u9664\u975e\u4f60\u7684\u677f\u5b50\u6709DFU\u529f\u80fd\uff0c\u5426\u5219\u6700\u5bb9\u6613\u7684\u5199\u5165\u65b9\u6cd5\u53ef\u80fd\u662f\u901a\u8fc73.3v\u7684\u4e32\u53e3\uff0c\u8fd9\u4e0e \u4f7f\u7528stm32flash\u5237\u5199STM32F103 \u7684\u6b65\u9aa4\u76f8\u540c\u3002\u4f8b\u5982\uff1a wget https://github.com/Arksine/STM32_HID_Bootloader/releases/download/v0.5-beta/hid_bootloader_SKR_PRO.bin stm32flash -w hid_bootloader_SKR_PRO.bin -v -g 0 /dev/ttyAMA0 \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u5728STM32F4\u4e0a\u9700\u898116Kib\u7684\u95ea\u5b58\u7a7a\u95f4\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002 \u4e0eSTM32F1\u4e00\u6837\uff0cSTM32F4\u4f7f\u7528hid-flash\u5de5\u5177\u6765\u4e0a\u4f20\u4e8c\u8fdb\u5236\u6587\u4ef6\u5230MCU\u3002\u5173\u4e8e\u5982\u4f55\u6784\u5efa\u548c\u4f7f\u7528hid-flash\u7684\u7ec6\u8282\uff0c\u8bf7\u53c2\u89c1\u4e0a\u9762\u7684\u8bf4\u660e\u3002 \u53ef\u80fd\u9700\u8981\u624b\u52a8\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e \"boot 0 \"\u4e3a\u4f4e\u7535\u5e73\uff0c\"boot 1 \"\u4e3a\u9ad8\u7535\u5e73\u5e76\u4e0a\u7535\u6765\u5b8c\u6210\u3002\u7f16\u7a0b\u5b8c\u6210\u540e\uff0c\u8bbe\u5907\u65ad\u7535\uff0c\u5c06 \"boot 1 \"\u91cd\u8bbe\u4e3a\u4f4e\u7535\u5e73\uff0c\u8fd9\u6837\u5e94\u7528\u7a0b\u5e8f\u5c31\u4f1a\u88ab\u52a0\u8f7d\u3002 LPC176x\u5fae\u63a7\u5236\u5668\uff08Smoothieboards\uff09 \u00b6 \u672c\u6587\u4ef6\u6ca1\u6709\u63cf\u8ff0\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\u7684\u65b9\u6cd5--\u89c1\uff1a http://smoothieware.org/flashing-the-bootloader \u4ee5\u83b7\u5f97\u5173\u4e8e\u8be5\u4e3b\u9898\u7684\u8fdb\u4e00\u6b65\u4fe1\u606f\u3002 Smoothieboards\u901a\u5e38\u5e26\u6709\u4e00\u4e2a\u6765\u81ea https://github.com/triffid/LPC17xx-DFU-Bootloader \u7684bootloader\u3002\u5f53\u4f7f\u7528\u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u65f6\uff0c\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\u3002\u7528\u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u5237\u5199\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u7b80\u5355\u65b9\u6cd5\u662f\u5c06\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\uff08\u4f8b\u5982 out/klipper.bin \uff09\u590d\u5236\u5230SD\u5361\u4e0a\u4e00\u4e2a\u540d\u4e3a firmware.bin \u7684\u6587\u4ef6\uff0c\u7136\u540e\u7528\u8be5SD\u5361\u91cd\u65b0\u542f\u52a8\u5fae\u63a7\u5236\u5668\u3002 \u5728\u6811\u8393\u6d3e\u4e0a\u8fd0\u884cOpenOCD \u00b6 OpenOCD\u662f\u4e00\u4e2a\u8f6f\u4ef6\u5305\uff0c\u53ef\u4ee5\u8fdb\u884c\u5e95\u5c42\u7684\u82af\u7247\u7f16\u7a0b\u548c\u8c03\u8bd5\u3002\u5b83\u53ef\u4ee5\u4f7f\u7528\u6811\u8393\u6d3e\u4e0a\u7684GPIO\u5f15\u811a\u4e0e\u5404\u79cdARM\u82af\u7247\u901a\u4fe1\u3002 \u672c\u8282\u63cf\u8ff0\u4e86\u5982\u4f55\u5b89\u88c5\u548c\u542f\u52a8OpenOCD\u3002\u5b83\u6765\u81ea\u4e8e\u4ee5\u4e0b\u7684\u8bf4\u660e\uff1a https://learn.adafruit.com/programming-microcontrollers-using-openocd-on-raspberry-pi \u5f00\u59cb\u4e0b\u8f7d\u548c\u7f16\u8bd1\u8f6f\u4ef6\uff08\u6bcf\u4e2a\u6b65\u9aa4\u53ef\u80fd\u9700\u8981\u6570\u5206\u949f\uff0c\"make \"\u6b65\u9aa4\u53ef\u80fd\u9700\u898130\u5206\u949f\u4ee5\u4e0a\uff09\uff1a sudo apt-get update sudo apt-get install autoconf libtool telnet mkdir ~/openocd cd ~/openocd/ git clone http://openocd.zylin.com/openocd cd openocd ./bootstrap ./configure --enable-sysfsgpio --enable-bcm2835gpio --prefix=/home/pi/openocd/install make make install \u914d\u7f6eOpenOCD \u00b6 \u521b\u5efa\u4e00\u4e2aOpenOCD\u914d\u7f6e\u6587\u4ef6\uff1a nano ~/openocd/openocd.cfg \u4f7f\u7528\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u7684\u914d\u7f6e\uff1a # Uses RPi pins: GPIO25 for SWDCLK, GPIO24 for SWDIO, GPIO18 for nRST source [find interface/raspberrypi2-native.cfg] bcm2835gpio_swd_nums 25 24 bcm2835gpio_srst_num 18 transport select swd # Use hardware reset wire for chip resets reset_config srst_only adapter_nsrst_delay 100 adapter_nsrst_assert_width 100 # Specify the chip type source [find target/atsame5x.cfg] # Set the adapter speed adapter_khz 40 # Connect to chip init targets reset halt \u5c06\u6811\u8393\u6d3e\u4e0e\u76ee\u6807\u82af\u7247\u76f8\u8fde \u00b6 \u5728\u63a5\u7ebf\u4e4b\u524d\uff0c\u8bf7\u5173\u95ed\u6811\u8393\u6d3e\u548c\u76ee\u6807\u82af\u7247\u7684\u7535\u6e90! \u5728\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u4e4b\u524d\uff0c\u8bf7\u786e\u8ba4\u76ee\u6807\u82af\u7247\u4f7f\u75283.3V\u7535\u538b! \u5c06\u76ee\u6807\u82af\u7247\u4e0a\u7684GND\u3001SWDCLK\u3001SWDIO\u548cRST\u5206\u522b\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u4e0a\u7684GND\u3001GPIO25\u3001GPIO24\u548cGPIO18\u3002 \u7136\u540e\u7ed9\u6811\u8393\u6d3e\u4e0a\u7535\uff0c\u518d\u7ed9\u76ee\u6807\u82af\u7247\u4f9b\u7535\u3002 \u8fd0\u884cOpenOCD \u00b6 \u8fd0\u884cOpenOCD\uff1a cd ~/openocd/ sudo ~/openocd/install/bin/openocd -f ~/openocd/openocd.cfg \u4e0a\u8ff0\u64cd\u4f5c\u5e94\u8be5\u4f7fOpenOCD\u8f93\u51fa\u4e00\u4e9b\u6587\u672c\u4fe1\u606f\uff0c\u7136\u540e\u7b49\u5f85\uff08\u5b83\u4e0d\u4f1a\u7acb\u5373\u8fd4\u56de\u5230Unix shell\u63d0\u793a\u7b26\uff09\u3002\u5982\u679cOpenOCD\u81ea\u5df1\u9000\u51fa\u6216\u7ee7\u7eed\u8f93\u51fa\u6587\u672c\u4fe1\u606f\uff0c\u90a3\u4e48\u8bf7\u4ed4\u7ec6\u68c0\u67e5\u63a5\u7ebf\u3002 \u4e00\u65e6OpenOCD\u8fd0\u884c\u7a33\u5b9a\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7telnet\u5411\u5b83\u53d1\u9001\u547d\u4ee4\u3002\u6253\u5f00\u53e6\u4e00\u4e2assh\u4f1a\u8bdd\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a telnet 127.0.0.1 4444 (\u53ef\u4ee5\u6309ctrl+]\u9000\u51fatelnet\uff0c\u7136\u540e\u8fd0\u884c \"quit \"\u547d\u4ee4\u3002) OpenOCD\u548cgdb \u00b6 \u53ef\u4ee5\u4f7f\u7528OpenOCD\u548cgdb\u6765\u8c03\u8bd5Klipper\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5047\u8bbe\u662f\u5728\u53f0\u5f0f\u673a\u4e0a\u8fd0\u884cgdb\u3002 \u5728OpenOCD\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a bindto 0.0.0.0 gdb_port 44444 \u5728\u6811\u8393\u6d3e\u4e0a\u91cd\u65b0\u542f\u52a8OpenOCD\uff0c\u7136\u540e\u5728\u53f0\u5f0f\u673a\u4e0a\u8fd0\u884c\u4ee5\u4e0bUnix\u547d\u4ee4\uff1a cd /path/to/klipper/ gdb out/klipper.elf \u5728gdb\u4e2d\u8fd0\u884c\uff1a target remote octopi:44444 (\u7528\u6811\u8393\u6d3e\u7684\u4e3b\u673a\u540d\u66ff\u6362 \"octopi\"\uff09\u4e00\u65e6gdb\u8fd0\u884c\uff0c\u5c31\u53ef\u4ee5\u8bbe\u7f6e\u65ad\u70b9\u5e76\u68c0\u67e5\u5bc4\u5b58\u5668\u3002","title":"\u5e95\u5c42\u5f15\u5bfc\u7a0b\u5e8f"},{"location":"Bootloaders.html#_1","text":"\u672c\u6587\u6863\u4ecb\u7ecdKlipper\u652f\u6301\u7684\u7528\u4e8e\u5fae\u63a7\u5236\u5668\u7684\u5e95\u5c42\u5f15\u5bfc\u7a0b\u5e8f\uff08bootloader\uff09\u3002 \u5f15\u5bfc\u7a0b\u5e8f\u662f\u7b2c\u4e09\u65b9\u8f6f\u4ef6\uff0c\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u7535\u540e\u4f18\u5148\u8fd0\u884c\u3002\u8be5\u7a0b\u5e8f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u7279\u6b8a\u786c\u4ef6\uff08\u5982\u70e7\u5f55\u5668\uff09\u4e0b\u5bf9\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5e8f\u8fdb\u884c\u5237\u5199\uff08\u5982\u5199\u5165Klipper\u7a0b\u5e8f\uff09\u3002\u7136\u800c\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u4e00\u5237\u5199\u5fae\u63a7\u5236\u5668\u7684\u5de5\u4e1a\u6807\u51c6\uff0c\u4e5f\u6ca1\u6709\u4e00\u4e2a\u9002\u7528\u4e8e\u6240\u6709\u5fae\u63a7\u5236\u5668\u7684\u6807\u51c6\u5f15\u5bfc\u7a0b\u5e8f\u3002\u66f4\u9ebb\u70e6\u7684\u662f\uff0c\u6bcf\u79cd\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u9700\u8981\u4e0d\u540c\u7684\u6b65\u9aa4\u4ee5\u89e6\u53d1\u5237\u5199\u529f\u80fd\u3002 \u5982\u679c\u80fd\u7528\u67d0\u79cd\u65b9\u5f0f\u5c06 bootloader \u5237\u5199\u5230\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u8be5\u65b9\u5f0f\u901a\u5e38\u4e5f\u80fd\u5b8c\u6210\u7a0b\u5e8f\u5237\u5199\u64cd\u4f5c\uff0c\u4f46\u662f\uff0c\u8fd9\u79cd\u76f4\u63a5\u5237\u5199\u53ef\u80fd\u4f1a\u5c06 bootloader \u8986\u76d6\u6389\u3002\u76f8\u5bf9\u5730\uff0cbootloader \u53ea\u5141\u8bb8\u7528\u6237\u5237\u5199\u5e94\u7528\u7a0b\u5e8f\u533a\u57df\u3002\u56e0\u6b64\uff0c\u5c3d\u53ef\u80fd\u4f7f\u7528 bootloader \u5b8c\u6210\u7a0b\u5e8f\u7684\u5237\u5199\u3002 \u8be5\u6587\u6863\u5c06\u5c3d\u53ef\u80fd\u4ecb\u7ecd\u5e38\u89c1\u7684bootloaders\uff0c\u5237\u5165bootloader\u6240\u9700\u7684\u6b65\u9aa4\u548c\u89e6\u53d1bootloader\u8fdb\u884c\u7a0b\u5e8f\u5237\u5199\u7684\u6d41\u7a0b\u3002\u8be5\u6587\u6863\u4ea6\u975e\u5b98\u65b9\u6307\u5f15\uff0c\u8fd9\u53ea\u662f\u5728Klipper\u5f00\u53d1\u4eba\u5458\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u6536\u96c6\u5230\u7684\u6709\u7528\u4fe1\u606f\u3002","title":"\u5e95\u5c42\u5f15\u5bfc\u7a0b\u5e8f"},{"location":"Bootloaders.html#avr","text":"\u603b\u4f53\u4e0a\u6765\u8bf4\uff0cArduino\u9879\u76ee\u662f8\u4f4dAtmel Atmega\u5fae\u63a7\u5236\u5668\u7684\u5f15\u5bfc\u7a0b\u5e8f\u548c\u5237\u5199\u7a0b\u5e8f\u7684\u597d\u7684\u53c2\u8003\u3002\u7279\u522b\u662f\" boards.txt \"\u6587\u4ef6\u3002 https://github.com/arduino/Arduino/blob/1.8.5/hardware/arduino/avr/boards.txt \u662f\u4e00\u4e2a\u6709\u7528\u7684\u53c2\u8003\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0cAVR \u82af\u7247\u9700\u8981\u4e00\u4e2a\u5916\u90e8\u786c\u4ef6\u5237\u5199\u5de5\u5177\uff08\u5b83\u4f7f\u7528 SPI \u4e0e\u82af\u7247\u8fdb\u884c\u901a\u4fe1\uff09\u3002\u8fd9\u4e2a\u5de5\u5177\u53ef\u4ee5\u8d2d\u4e70\uff08\u4f8b\u5982\uff0c\u5728\u7f51\u4e0a\u641c\u7d22 \"avr isp\"\u3001\"arduino isp \"\u6216 \"usb tiny isp\"\uff09\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\u53e6\u4e00\u4e2aArduino\u6216Raspberry Pi\u6765\u95ea\u5b58AVR\u5f15\u5bfc\u7a0b\u5e8f\uff08\u4f8b\u5982\uff0c\u5728\u7f51\u4e0a\u641c\u7d22 \"\u7528raspberry pi\u7f16\u7a0bAVR\"\uff09\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5728\u5047\u8bbe\u4f7f\u7528 \"AVR ISP Mk2 \"\u7c7b\u578b\u7684\u8bbe\u5907\u7684\u60c5\u51b5\u4e0b\u7f16\u5199\u7684\u3002 \"avrdude \"\u7a0b\u5e8f\u662f\u6700\u5e38\u7528\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u5237\u5199atmega\u82af\u7247\uff08\u5305\u62ec\u5f15\u5bfc\u7a0b\u5e8f\u5237\u5199\u548c\u5e94\u7528\u7a0b\u5e8f\u5237\u5199\uff09\u3002","title":"AVR \u5fae\u63a7\u5236\u5668"},{"location":"Bootloaders.html#atmega2560","text":"\u8fd9\u4e2a\u82af\u7247\u901a\u5e38\u51fa\u73b0\u5728 \"Arduino Mega\" \u4e2d\uff0c\u57283D\u6253\u5370\u673a\u4e3b\u677f\u4e2d\u4e5f\u5341\u5206\u666e\u904d\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/stk500v2/stk500boot_v2_mega2560.hex' avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xD8:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U flash:w:stk500boot_v2_mega2560.hex avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a avrdude -cwiring -patmega2560 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega2560"},{"location":"Bootloaders.html#atmega1280","text":"\u8fd9\u4e2a\u82af\u7247\u901a\u5e38\u51fa\u73b0\u5728\u65e9\u671f\u7248\u672c\u7684 \"Arduino Mega \"\u4e2d\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/atmega/ATmegaBOOT_168_atmega1280.hex' avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xF5:m -U hfuse:w:0xDA:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U flash:w:ATmegaBOOT_168_atmega1280.hex avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a avrdude -carduino -patmega1280 -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega1280"},{"location":"Bootloaders.html#atmega1284p","text":"\u8fd9\u79cd\u82af\u7247\u901a\u5e38\u51fa\u73b0\u5728 \"Melzi \"\u5f0f\u76843D\u6253\u5370\u673a\u4e3b\u677f\u4e0a\u3002 \u8981\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/Lauszus/Sanguino/raw/1.0.2/bootloaders/optiboot/optiboot_atmega1284p.hex' avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xDE:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega1284p.hex avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i \u6ce8\u610f\uff0c\u4e00\u4e9b \"Melzi \"\u98ce\u683c\u7684\u677f\u5b50\u9884\u8f7d\u4e86\u4e00\u4e2a\u4f7f\u752857600\u6ce2\u7279\u7387\u7684\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u8fd9\u6837\u7684\u4e1c\u897f\u6765\u4ee3\u66ff\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega1284p"},{"location":"Bootloaders.html#at90usb1286","text":"\u672c\u6587\u4ef6\u4e0d\u5305\u62ec\u5411At90usb1286\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u7684\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u5305\u62ec\u5411\u8be5\u8bbe\u5907\u5237\u5199\u4e00\u822c\u5e94\u7528\u3002 \u6765\u81eapjrc.com\u7684Teensy++\u8bbe\u5907\u5e26\u6709\u4e00\u4e2a\u4e13\u7528\u7684\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5b83\u9700\u8981\u4e00\u4e2a\u6765\u81ea https://github.com/PaulStoffregen/teensy_loader_cli \u7684\u5b9a\u5236\u5237\u5199\u5de5\u5177\u3002\u53ef\u4ee5\u7528\u8fd9\u4e2a\u5de5\u5177\u6765\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f8b\u5982\uff1a teensy_loader_cli --mcu=at90usb1286 out/klipper.elf.hex -v","title":"At90usb1286"},{"location":"Bootloaders.html#atmega168","text":"atmega168\u7684\u95ea\u5b58\u7a7a\u95f4\u6709\u9650\u3002\u5982\u679c\u4f7f\u7528\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5efa\u8bae\u4f7f\u7528Optiboot bootloader\u3002\u8981\u5237\u5199\u8be5\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e2a\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/optiboot/optiboot_atmega168.hex' avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0x04:m -U hfuse:w:0xDD:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega168.hex avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u901a\u8fc7Optiboot bootloader \u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a avrdude -carduino -patmega168 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega168"},{"location":"Bootloaders.html#sam3-arduino-due","text":"\u901a\u5e38\u5728 SAM 3 \u5fae\u63a7\u5236\u5668\u4e0a\u4e0d\u4f7f\u7528\u5f15\u5bfc\u7a0b\u5e8f\u3002\u82af\u7247\u81ea\u5e26\u4e00\u4e2a\u5141\u8bb8\u4ece3.3V \u4e32\u53e3\u6216\u4eceUSB\u8fdb\u884c\u7f16\u7a0b\u7684ROM\u3002 \u4e3a\u4e86\u542f\u7528ROM\uff0c\u5c06\"erase\"\u5f15\u811a\u5728\u590d\u4f4d\u8fc7\u7a0b\u4e2d\u4fdd\u6301\u9ad8\u7535\u5e73\uff0c\u8fd9\u5c06\u64e6\u9664\u95ea\u5b58\u7684\u5185\u5bb9\uff0c\u5e76\u4f7fROM\u8fd0\u884c\u3002\u5728Arduino Due\u4e0a\uff0c\u8fd9\u4e2a\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u5728 \"programming usb port\"\uff08\u7f16\u7a0bUSB\u53e3\uff0c\u6700\u9760\u8fd1\u7535\u6e90\u7684USB\u7aef\u53e3\uff09\u4e0a\u8bbe\u7f6e1200\u7684\u6ce2\u7279\u7387\u6765\u5b8c\u6210\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u4ee3\u7801\u53ef\u4ee5\u7528\u6765\u4e3aSAM3\u7f16\u7a0b\u3002\u5efa\u8bae\u4f7f\u75281.9\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a bossac -U -p /dev/ttyACM0 -a -e -w out/klipper.bin -v -b bossac -U -p /dev/ttyACM0 -R","title":"SAM3 \u5fae\u63a7\u5236\u5668 (Arduino Due)"},{"location":"Bootloaders.html#sam4-duet-wifi","text":"\u901a\u5e38\u5728 SAM4 \u5fae\u63a7\u5236\u5668\u4e2d\u4e0d\u4f7f\u7528\u5f15\u5bfc\u7a0b\u5e8f\u3002\u82af\u7247\u81ea\u5e26\u4e00\u4e2a\u53ef\u4ee5\u4ece 3.3V \u4e32\u53e3\u6216 USB \u8fdb\u884c\u7f16\u7a0b\u7684ROM\u3002 \u4e3a\u4e86\u542f\u7528ROM\uff0c\u5728\u590d\u4f4d\u8fc7\u7a0b\u4e2d\u8981\u5c06\"erase\"\u5f15\u811a\u4fdd\u6301\u4e3a\u9ad8\u7535\u5e73\uff0c\u8fd9\u5c06\u64e6\u9664\u95ea\u5b58\u5185\u5bb9\uff0c\u5e76\u4f7fROM\u8fd0\u884c\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u4ee3\u7801\u53ef\u4ee5\u7528\u6765\u4e3aSAM4\u7f16\u7a0b\u3002\u9700\u8981\u4f7f\u7528 1.8.0 \u6216\u66f4\u9ad8\u7684\u7248\u672c\u3002 \u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\uff1a bossac --port=/dev/ttyACM0 -b -U -e -w -v -R out/klipper.bin","title":"SAM4 \u5fae\u63a7\u5236\u5668 (Duet Wifi)"},{"location":"Bootloaders.html#samd21arduino-zero","text":"SAMD21 \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u901a\u8fc7 ARM \u4e32\u884c\u7ebf\u8c03\u8bd5 \uff08SWD\uff09 \u63a5\u53e3\u8fdb\u884c\u5237\u5199\uff0c\u901a\u5e38\u9700\u8981\u4e00\u4e2a\u4e13\u7528\u7684 SWD \u786c\u4ef6\u8f6c\u6362\u5668\u6216\u8005\u4f7f\u7528 \u5b89\u88c5\u4e86 OpenOCD \u7684 Raspberry Pi \u6765\u5b8c\u6210\u3002 \u8981\u4f7f\u7528 OpenOCD \u5237\u5199\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u82af\u7247\u914d\u7f6e\uff1a source [find target/at91samdXX.cfg] \u83b7\u53d6\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f - \u4f8b\u5982\uff1a wget 'https://github.com/arduino/ArduinoCore-samd/raw/1.8.3/bootloaders/zero/samd21_sam_ba.bin' \u4f7f\u7528\u7c7b\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u6765\u5237\u5199\uff1a at91samd bootloader 0 program samd21_sam_ba.bin verify SAMD21\u4e0a\u6700\u5e38\u89c1\u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u4ee5\u5728 \"Arduino Zero \"\u4e0a\u627e\u5230\u3002\u5b83\u4f7f\u7528\u4e00\u4e2a 8KiB \u7684\u5f15\u5bfc\u7a0b\u5e8f\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\uff0c\u6309\u4e0b\u590d\u4f4d\u6309\u94ae\u4e24\u6b21\u5c31\u53ef\u4ee5\u8fdb\u5165\u3002\u8981\u5237\u5199\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x2000 -w out/klipper.bin -v -b -R \u76f8\u6bd4\u4e4b\u4e0b\uff0c\"Arduino M0 \"\u4f7f\u7528\u4e00\u4e2a 16KiB \u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff08\u7a0b\u5e8f\u5fc5\u987b\u7528 16KiB \u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002\u4f7f\u7528\u8fd9\u4e2a\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u6765\u5237\u5199\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u8bf7\u91cd\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u5e76\u5728\u542f\u52a8\u7684\u5934\u51e0\u79d2\u949f\u5185\u8fd0\u884c\u5237\u5199\u547d\u4ee4--\u7c7b\u4f3c\u5982\u4e0b\u547d\u4ee4\uff1a avrdude -c stk500v2 -p atmega2560 -P /dev/ttyACM0 -u -Uflash:w:out/klipper.elf.hex:i","title":"SAMD21\u5fae\u63a7\u5236\u5668\uff08Arduino Zero\uff09"},{"location":"Bootloaders.html#samd51-adafruit-metro-m4","text":"\u548c SAMD21 \u4e00\u6837\uff0cSAMD51 \u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u4e5f\u662f\u901a\u8fc7 ARM \u4e32\u884c\u7ebf\u8c03\u8bd5\uff08SWD\uff09\u63a5\u53e3\u5237\u5199\u7684\u3002\u8981\u7528 \u8fd0\u884c OpenOCD\u7684 Raspberry Pi \u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u82af\u7247\u914d\u7f6e\uff1a source [find target/atsame5x.cfg] \u83b7\u5f97\u4e00\u4e2a\u5f15\u5bfc\u7a0b\u5e8f--\u5f88\u591a\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u4ee5\u4ece https://github.com/adafruit/uf2-samdx1/releases/latest \u83b7\u5f97\u3002\u4f8b\u5982\uff1a wget 'https://github.com/adafruit/uf2-samdx1/releases/download/v3.7.0/bootloader-itsybitsy_m4-v3.7.0.bin' \u4f7f\u7528\u7c7b\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u6765\u5237\u5199\uff1a at91samd bootloader 0 program bootloader-itsybitsy_m4-v3.7.0.bin verify at91samd bootloader 16384 SAMD51 \u4f7f\u7528 16KiB \u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002\u8981\u5237\u5199\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8bf7\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x4000 -w out/klipper.bin -v -b -R","title":"SAMD51 \u5fae\u63a7\u5236\u5668(Adafruit Metro-M4\u53ca\u7c7b\u4f3c\u7684\u5f00\u53d1\u677f)"},{"location":"Bootloaders.html#stm32f103-blue-pill","text":"STM32F103\u8bbe\u5907\u6709\u4e00\u4e2aROM\uff0c\u53ef\u4ee5\u901a\u8fc73.3V\u4e32\u53e3\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u6216\u5e94\u7528\u7a0b\u5e8f\u3002\u901a\u5e38\u4f1a\u628aPA10\uff08MCU Rx\uff09\u548cPA9\uff08MCU Tx\uff09\u5f15\u811a\u8fde\u63a5\u52303.3V UART\u9002\u914d\u5668\u4e0a\u3002\u8981\u8bbf\u95eeROM\uff0c\u5e94\u8be5\u628a\"boot 0\"\u5f15\u811a\u8fde\u63a5\u5230\u9ad8\u7535\u5e73\uff0c\"boot 1\"\u5f15\u811a\u8fde\u63a5\u5230\u4f4e\u7535\u5e73\uff0c\u7136\u540e\u91cd\u7f6e\u8bbe\u5907\u3002\u7136\u540e\u53ef\u4ee5\u7528\"stm32flash\"\u5305\u5237\u5199\u8bbe\u5907\uff0c\u4f7f\u7528\u7684\u65b9\u6cd5\u5982\u4e0b\uff1a stm32flash -w out/klipper.bin -v -g 0 /dev/ttyAMA0 \u6ce8\u610f\uff0c\u5982\u679c\u4f7f\u7528\u6811\u8393\u6d3e\u76843.3V\u4e32\u53e3\uff0cstm32flash\u534f\u8bae\u4f7f\u7528\u7684\u4e32\u884c\u5947\u5076\u6821\u9a8c\u6a21\u5f0f\uff0c\u6811\u8393\u6d3e\u7684 \"mini UART \"\u5e76\u4e0d\u652f\u6301\u3002\u5173\u4e8e\u5728\u6811\u8393\u6d3e\u7684GPIO\u5f15\u811a\u4e0a\u542f\u7528\u5b8c\u6574\u7684UART\u7684\u7ec6\u8282\uff0c\u89c1 https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts \u3002 \u5237\u5199\u540e\uff0c\u5c06 \"boot 0 \"\u548c \"boot 1 \"\u90fd\u6062\u590d\u8bbe\u4e3a\u4f4e\u7535\u5e73\uff0c\u4ee5\u4fbf\u5728\u590d\u4f4d\u540e\u4ece\u95ea\u5b58\u542f\u52a8\u3002","title":"STM32F103 \u5fae\u63a7\u5236\u5668\uff08Blue Pill \u5f00\u53d1\u677f\uff09"},{"location":"Bootloaders.html#stm32duino-stm32f103","text":"\"stm32duino \"\u9879\u76ee\u6709\u4e00\u4e2aUSB\u529f\u80fd\u7684\u5f15\u5bfc\u7a0b\u5e8f-\u53c2\u89c1\uff1a https://github.com/rogerclarkmelbourne/STM32duino-bootloader \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc73.3V\u7684\u4e32\u53e3\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u6765\u5237\u5199\uff1a wget 'https://github.com/rogerclarkmelbourne/STM32duino-bootloader/raw/master/binaries/generic_boot20_pc13.bin' stm32flash -w generic_boot20_pc13.bin -v -g 0 /dev/ttyAMA0 \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u4f7f\u7528 8KiB \u7684\u95ea\u5b58\u7a7a\u95f4\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u7f16\u8bd1\uff09\u3002\u5237\u5199\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a dfu-util -d 1eaf:0003 -a 2 -R -D out/klipper.bin \u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u901a\u5e38\u53ea\u5728\u542f\u52a8\u540e\u7684\u4e00\u5c0f\u6bb5\u65f6\u95f4\u8fd0\u884c\u3002\u5728\u8f93\u5165\u4ee5\u4e0a\u547d\u4ee4\u7684\u65f6\u5019\uff0c\u9700\u8981\u786e\u4fdd\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u8fd8\u5728\u8fd0\u884c\uff08\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u8fd0\u884c\u7684\u65f6\u5019\u4f1a\u63a7\u5236\u677f\u4e0a\u7684led\u95ea\u70c1\uff09\u3002\u6b64\u5916\uff0c\u542f\u52a8\u540e\u5982\u679c\u8bbe\u7f6e\u201cboot 0\u201d\u5f15\u811a\u4e3a\u4f4e\uff0c\u8bbe\u7f6e\u201cboot 1\u201d\u5f15\u811a\u4e3a\u9ad8\u5219\u53ef\u4ee5\u4e00\u76f4\u505c\u7559\u5728\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u3002","title":"\u5e26\u6709 stm32duino \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u7684 STM32F103"},{"location":"Bootloaders.html#hid-stm32f103","text":"HID bootloader \u662f\u4e00\u4e2a\u7d27\u51d1\u7684\u3001\u4e0d\u5305\u542b\u9a71\u52a8\u7684\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u80fd\u591f\u901a\u8fc7USB\u8fdb\u884c\u5237\u5199\u3002\u6b64\u5916\uff0c\u8fd8\u6709\u4e00\u4e2a \u9488\u5bf9SKR Mini E3 1.2\u6784\u5efa\u7684\u5206\u652f \u3002 \u5bf9\u4e8e\u5e38\u89c1\u7684STM32F103\u677f\uff0c\u5982Blue Pill\uff0c\u548c stm32duino \u7ae0\u8282\u4e2d\u4e00\u6837\uff0c\u53ef\u4ee5\u901a\u8fc7 3.3v \u4e32\u884c\u7528stm32flash \u5237\u5199\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5c06\u6587\u4ef6\u540d\u66ff\u6362\u4e3a\u6240\u9700\u7684 hid\u5f15\u5bfc\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u4f8b\u5982Blue Pill \u4f7f\u7528\u7684 hid_generic_pc13.bin\uff09\u3002 SKR Mini E3\u65e0\u6cd5\u4f7f\u7528stm32flash \uff0c\u56e0\u4e3aboot 0\u5f15\u811a\u88ab\u76f4\u63a5\u63a5\u5230GND\u4e14\u6ca1\u6709\u8df3\u7ebf\u65ad\u5f00\u3002\u63a8\u8350\u4f7f\u7528STLink V2\u901a\u8fc7STM32Cubeprogrammer\u5237\u5199\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5982\u679c\u4f60\u6ca1\u6709STLink \uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u82af\u7247\u914d\u7f6e\u4f7f\u7528 \u6811\u8393\u6d3e\u548cOpenOCD \u5237\u5199\uff1a source [find target/stm32f1x.cfg] \u5982\u679c\u4f60\u613f\u610f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5907\u4efd\u5f53\u524d\u95ea\u5b58\u4e0a\u7684\u7a0b\u5e8f\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\u6765\u5b8c\u6210\u5907\u4efd\uff1a flash read_bank 0 btt_skr_mini_e3_backup.bin \u6700\u540e\uff0c\u4f60\u53ef\u4ee5\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u5237\u5199\u56fa\u4ef6\uff1a stm32f1x mass_erase 0 program hid_btt_skr_mini_e3.bin verify 0x08000000 \u6ce8\u610f\uff1a \u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u5148\u64e6\u9664\u82af\u7247\uff0c\u7136\u540e\u518d\u5199\u5165\u5f15\u5bfc\u7a0b\u5e8f\u3002\u65e0\u8bba\u9009\u62e9\u54ea\u79cd\u65b9\u6cd5\u5237\u5199\uff0c\u90fd\u5efa\u8bae\u5728\u5237\u5199\u524d\u64e6\u9664\u82af\u7247\u3002 \u5728\u7528\u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u5237\u5199SKR Mini E3\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u77e5\u9053\u4e4b\u540e\u4f60\u5c06\u4e0d\u80fd\u518d\u901a\u8fc7SD\u5361\u66f4\u65b0\u56fa\u4ef6\u3002 You may need to hold down the reset button on the board while launching OpenOCD. It should display something like: Open On-Chip Debugger 0.10.0+dev-01204-gc60252ac-dirty (2020-04-27-16:00) Licensed under GNU GPL v2 For bug reports, read http://openocd.org/doc/doxygen/bugs.html DEPRECATED! use 'adapter speed' not 'adapter_khz' Info : BCM2835 GPIO JTAG/SWD bitbang driver Info : JTAG and SWD modes enabled Info : clock speed 40 kHz Info : SWD DPIDR 0x1ba01477 Info : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints Info : stm32f1x.cpu: external reset detected Info : starting gdb server for stm32f1x.cpu on 3333 Info : Listening on port 3333 for gdb connections \u4e4b\u540e\u53ef\u4ee5\u677e\u5f00\u590d\u4f4d\u6309\u94ae\u3002 \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u9700\u89812KiB\u7684\u95ea\u5b58\u7a7a\u95f4\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee52KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002 hid-flash\u7a0b\u5e8f\u662f\u7528\u6765\u4e0a\u4f20\u4e8c\u8fdb\u5236\u6587\u4ef6\u5230\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u7684\u3002\u4f60\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\u8fd9\u4e2a\u8f6f\u4ef6\uff1a sudo apt install libusb-1.0 cd ~/klipper/lib/hidflash make \u5982\u679cbootloader\u6b63\u5728\u8fd0\u884c\uff0c\u4f60\u53ef\u4ee5\u7528\u8fd9\u4e2a\u6765\u5237\u5199\uff1a ~/klipper/lib/hidflash/hid-flash ~/klipper/out/klipper.bin \u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 make flash \u6765\u76f4\u63a5\u5237\u5199klipper\uff1a make flash FLASH_DEVICE=1209:BEBA \u6216\u8005\uff0c\u5982\u679cklipper\u4e4b\u524d\u5df2\u7ecf\u88ab\u5199\u5165\u8fc7\uff1a make flash FLASH_DEVICE=/dev/ttyACM0 \u53ef\u80fd\u9700\u8981\u624b\u52a8\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e \"boot 0 \"\u7684\u4f4e\u7535\u5e73\u548c \"boot 1 \"\u7684\u9ad8\u7535\u5e73\u6765\u5b8c\u6210\u3002\u5728SKR Mini E3\u4e0a\uff0c\"Boot 1 \"\u662f\u4e0d\u53ef\u7528\u7684\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u5199\u5165\u8fc7\"hid_btt_skr_mini_e3.bin\"\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6ePA2\u7684\u4f4e\u7535\u5e73\u6765\u5b8c\u6210\u3002\u5728SKR Mini E3\u7684 \"PIN \"\u6587\u4ef6\u4e2d\uff0c\u8fd9\u4e2a\u5f15\u811a\u5728TFT\u63d2\u5ea7\u4e0a\u88ab\u6807\u8bb0\u4e3a \"TX0\"\u3002\u5728PA2\u65c1\u8fb9\u6709\u4e00\u4e2a\u63a5\u5730\u5f15\u811a\uff0c\u4f60\u53ef\u4ee5\u7528\u5b83\u6765\u628aPA2\u62c9\u4f4e\u3002","title":"\u5e26\u6709 HID \u5f15\u5bfc\u7a0b\u5e8f\u7684STM32F103"},{"location":"Bootloaders.html#mscstm32f103stm32f072","text":"MSC \u5f15\u5bfc\u7a0b\u5e8f \u662f\u4e00\u4e2a\u80fd\u591f\u8fdb\u884c USB \u5237\u5199\u7684\u514d\u9a71\u5f15\u5bfc\u7a0b\u5e8f\u3002 \u53ef\u4ee5\u4f7f\u7528 stm32flash \u901a\u8fc7 3.3v \u4e32\u884c\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5982\u4e0a\u9762\u7684 stm32duino \u7ae0\u8282\u6240\u8ff0\uff0c\u5c06\u6587\u4ef6\u540d\u66ff\u6362\u4e3a\u6240\u9700\u7684 MSC \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u4f8b\u5982\uff1aBlue Pill \u4f7f\u7528 MSCboot-Bluepill.bin\uff09\u3002 STM32F072\u677f\u4e5f\u53ef\u4ee5\u901a\u8fc7USB\uff08\u901a\u8fc7DFU\uff09\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5982\u4e0b\u6240\u793a\uff1a dfu-util -d 0483:df11 -a 0 -R -D MSCboot-STM32F072.bin -s0x08000000:leave \u6b64\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u4f7f\u7528 8KiB \u6216 16KiB \u7684\u95ea\u5b58\u7a7a\u95f4\uff0c\u8bf7\u53c2\u9605\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u7684\u8bf4\u660e\uff08\u5fc5\u987b\u4f7f\u7528\u76f8\u5e94\u7684\u8d77\u59cb\u5730\u5740\u7f16\u8bd1\u5e94\u7528\u7a0b\u5e8f\uff09\u3002 \u53ef\u4ee5\u901a\u8fc7\u6309\u4e24\u6b21\u7535\u8def\u677f\u4e0a\u7684\u590d\u4f4d\u6309\u94ae\u6765\u6fc0\u6d3b\u5f15\u5bfc\u7a0b\u5e8f\u3002\u4e00\u65e6\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8be5\u677f\u5c31\u4f1a\u663e\u793a\u4e3a\u4e00\u4e2a USB \u95ea\u5b58\u9a71\u52a8\u5668\uff0c\u53ef\u4ee5\u5c06 klipper.bin \u6587\u4ef6\u590d\u5236\u5230\u8be5\u9a71\u52a8\u5668\u4e0a\u3002","title":"\u5e26MSC\u5f15\u5bfc\u7a0b\u5e8f\u7684STM32F103/STM32F072"},{"location":"Bootloaders.html#canbootstm32f103stm32f0x2","text":"CanBoot \u5f15\u5bfc\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u901a\u8fc7CANBUS\u4e0a\u4f20Klipper\u56fa\u4ef6\u7684\u9009\u9879\u3002\u8be5\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\u6765\u81eaKlipper\u7684\u6e90\u4ee3\u7801\u3002\u76ee\u524dCanBoot\u652f\u6301STM32F103\u3001STM32F042\u548cSTM32F072\u578b\u53f7\u3002 \u5efa\u8bae\u4f7f\u7528ST-Link\u7f16\u7a0b\u5668\u6765\u5237\u5199CanBoot\uff0c\u7136\u800c\u5728STM32F103\u8bbe\u5907\u4e0a\u4f7f\u7528 stm32flash \uff0c\u5728STM32F042/STM32F072\u8bbe\u5907\u4e0a\u4f7f\u7528 dfu-util \u5e94\u8be5\u662f\u53ef\u4ee5\u5237\u5199\u3002\u5173\u4e8e\u8fd9\u4e9b\u5237\u5199\u65b9\u6cd5\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1\u672c\u6587\u7684\u524d\u51e0\u8282\uff0c\u5728\u9002\u5f53\u7684\u5730\u65b9\u7528 canboot.bin \u4ee3\u66ff\u6587\u4ef6\u540d\u3002\u4e0a\u9762\u94fe\u63a5\u7684CanBoot repo\u63d0\u4f9b\u4e86\u6784\u5efa\u5f15\u5bfc\u7a0b\u5e8f\u7684\u8bf4\u660e\u3002 \u5728CanBoot\u7b2c\u4e00\u6b21\u88ab\u5199\u5165\u65f6\uff0c\u5e94\u8be5\u68c0\u6d4b\u5230\u6ca1\u6709\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5982\u679c\u6ca1\u6709\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fde\u7eed\u6309\u4e24\u6b21\u590d\u4f4d\u6309\u94ae\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\u3002 flash_can.py \u5728 lib/canboot \u6587\u4ef6\u5939\u4e2d\u63d0\u4f9b\u7684\u5de5\u5177\u53ef\u4ee5\u7528\u6765\u4e0a\u4f20Klipper\u56fa\u4ef6\u3002\u8bbe\u5907\u7684UUID\u5bf9\u4e8e\u5199\u5165\u56fa\u4ef6\u6765\u8bf4\u662f\u5fc5\u8981\u7684\u3002\u5982\u679c\u4f60\u6ca1\u6709UUID\u53ef\u4ee5\u67e5\u8be2\u5f53\u524d\u8fd0\u884c\u5f15\u5bfc\u7a0b\u5e8f\u7684\u8282\u70b9\uff1a python3 flash_can.py -q \u8fd9\u4f1a\u8fd4\u56de\u6240\u6709\u672a\u88ab\u5206\u914dUUID\u7684\u8282\u70b9\u7684UUID\u3002\u8fd9\u5e94\u8be5\u5305\u62ec\u5f53\u524d\u5728bootloader\u4e2d\u7684\u6240\u6709\u8282\u70b9\u3002 \u4e00\u65e6\u4f60\u6709\u4e86UUID\uff0c\u4f60\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u4e0a\u4f20\u56fa\u4ef6\uff1a python3 flash_can.py -i can0 -f ~/klipper/out/klipper.bin -u aabbccddeeff \u5176\u4e2d aabbccddeeff \u88ab\u4f60\u7684UUID\u53d6\u4ee3\u3002\u6ce8\u610f\u9009\u9879 -i \u548c -f \u53ef\u4ee5\u88ab\u7701\u7565\uff0c\u5b83\u4eec\u5206\u522b\u9ed8\u8ba4\u4e3a can0 \u548c ~/klipper/out/klipper.bin \u3002 \u5f53\u6784\u5efaKlipper\u4e0eCanBoot\u4e00\u8d77\u4f7f\u7528\u65f6\uff0c\u9009\u62e98 KiB Bootloader\u9009\u9879\u3002","title":"\u5e26\u6709CanBoot\u5f15\u5bfc\u7a0b\u5e8f\u7684STM32F103/STM32F0x2"},{"location":"Bootloaders.html#stm32f4-skr-pro-11","text":"STM32F4\u5fae\u63a7\u5236\u5668\u914d\u5907\u4e86\u4e00\u4e2a\u5185\u7f6e\u7684\u7cfb\u7edf\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u80fd\u591f\u901a\u8fc7USB\uff08\u901a\u8fc7DFU\uff09\u30013.3v\u4e32\u53e3\u548c\u5176\u4ed6\u5404\u79cd\u65b9\u6cd5\u8fdb\u884c\u5237\u5199\uff08\u66f4\u591a\u4fe1\u606f\u89c1STM\u6587\u4ef6AN2606\uff09\u3002\u4e00\u4e9bSTM32F4\u677f\uff0c\u5982SKR Pro 1.1\uff0c\u4e0d\u80fd\u8fdb\u5165DFU\u5f15\u5bfc\u7a0b\u5e8f\u3002\u57fa\u4e8eSTM32F405/407\u7684\u677f\u5b50\u53ef\u4ee5\u4f7f\u7528HID\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u5982\u679c\u7528\u6237\u613f\u610f\u901a\u8fc7USB\u5237\u5199\u800c\u4e0d\u662f\u4f7f\u7528SD\u5361\u3002\u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u80fd\u9700\u9488\u5bf9\u4f60\u7684\u677f\u5b50\u914d\u7f6e\u548c\u6784\u5efa\u4e00\u4e2a\u7279\u5b9a\u7684\u7248\u672c\uff0c \u9488\u5bf9SKR Pro 1.1\u7684\u6784\u5efa\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230 \u3002 \u9664\u975e\u4f60\u7684\u677f\u5b50\u6709DFU\u529f\u80fd\uff0c\u5426\u5219\u6700\u5bb9\u6613\u7684\u5199\u5165\u65b9\u6cd5\u53ef\u80fd\u662f\u901a\u8fc73.3v\u7684\u4e32\u53e3\uff0c\u8fd9\u4e0e \u4f7f\u7528stm32flash\u5237\u5199STM32F103 \u7684\u6b65\u9aa4\u76f8\u540c\u3002\u4f8b\u5982\uff1a wget https://github.com/Arksine/STM32_HID_Bootloader/releases/download/v0.5-beta/hid_bootloader_SKR_PRO.bin stm32flash -w hid_bootloader_SKR_PRO.bin -v -g 0 /dev/ttyAMA0 \u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u5728STM32F4\u4e0a\u9700\u898116Kib\u7684\u95ea\u5b58\u7a7a\u95f4\uff08\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\uff09\u3002 \u4e0eSTM32F1\u4e00\u6837\uff0cSTM32F4\u4f7f\u7528hid-flash\u5de5\u5177\u6765\u4e0a\u4f20\u4e8c\u8fdb\u5236\u6587\u4ef6\u5230MCU\u3002\u5173\u4e8e\u5982\u4f55\u6784\u5efa\u548c\u4f7f\u7528hid-flash\u7684\u7ec6\u8282\uff0c\u8bf7\u53c2\u89c1\u4e0a\u9762\u7684\u8bf4\u660e\u3002 \u53ef\u80fd\u9700\u8981\u624b\u52a8\u8fdb\u5165\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e \"boot 0 \"\u4e3a\u4f4e\u7535\u5e73\uff0c\"boot 1 \"\u4e3a\u9ad8\u7535\u5e73\u5e76\u4e0a\u7535\u6765\u5b8c\u6210\u3002\u7f16\u7a0b\u5b8c\u6210\u540e\uff0c\u8bbe\u5907\u65ad\u7535\uff0c\u5c06 \"boot 1 \"\u91cd\u8bbe\u4e3a\u4f4e\u7535\u5e73\uff0c\u8fd9\u6837\u5e94\u7528\u7a0b\u5e8f\u5c31\u4f1a\u88ab\u52a0\u8f7d\u3002","title":"STM32F4 \u5fae\u63a7\u5236\u5668 (SKR Pro 1.1)"},{"location":"Bootloaders.html#lpc176xsmoothieboards","text":"\u672c\u6587\u4ef6\u6ca1\u6709\u63cf\u8ff0\u5237\u5199\u5f15\u5bfc\u7a0b\u5e8f\u672c\u8eab\u7684\u65b9\u6cd5--\u89c1\uff1a http://smoothieware.org/flashing-the-bootloader \u4ee5\u83b7\u5f97\u5173\u4e8e\u8be5\u4e3b\u9898\u7684\u8fdb\u4e00\u6b65\u4fe1\u606f\u3002 Smoothieboards\u901a\u5e38\u5e26\u6709\u4e00\u4e2a\u6765\u81ea https://github.com/triffid/LPC17xx-DFU-Bootloader \u7684bootloader\u3002\u5f53\u4f7f\u7528\u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u65f6\uff0c\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u8fdb\u884c\u7f16\u8bd1\u3002\u7528\u8fd9\u4e2a\u5f15\u5bfc\u7a0b\u5e8f\u5237\u5199\u5e94\u7528\u7a0b\u5e8f\u7684\u6700\u7b80\u5355\u65b9\u6cd5\u662f\u5c06\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\uff08\u4f8b\u5982 out/klipper.bin \uff09\u590d\u5236\u5230SD\u5361\u4e0a\u4e00\u4e2a\u540d\u4e3a firmware.bin \u7684\u6587\u4ef6\uff0c\u7136\u540e\u7528\u8be5SD\u5361\u91cd\u65b0\u542f\u52a8\u5fae\u63a7\u5236\u5668\u3002","title":"LPC176x\u5fae\u63a7\u5236\u5668\uff08Smoothieboards\uff09"},{"location":"Bootloaders.html#openocd","text":"OpenOCD\u662f\u4e00\u4e2a\u8f6f\u4ef6\u5305\uff0c\u53ef\u4ee5\u8fdb\u884c\u5e95\u5c42\u7684\u82af\u7247\u7f16\u7a0b\u548c\u8c03\u8bd5\u3002\u5b83\u53ef\u4ee5\u4f7f\u7528\u6811\u8393\u6d3e\u4e0a\u7684GPIO\u5f15\u811a\u4e0e\u5404\u79cdARM\u82af\u7247\u901a\u4fe1\u3002 \u672c\u8282\u63cf\u8ff0\u4e86\u5982\u4f55\u5b89\u88c5\u548c\u542f\u52a8OpenOCD\u3002\u5b83\u6765\u81ea\u4e8e\u4ee5\u4e0b\u7684\u8bf4\u660e\uff1a https://learn.adafruit.com/programming-microcontrollers-using-openocd-on-raspberry-pi \u5f00\u59cb\u4e0b\u8f7d\u548c\u7f16\u8bd1\u8f6f\u4ef6\uff08\u6bcf\u4e2a\u6b65\u9aa4\u53ef\u80fd\u9700\u8981\u6570\u5206\u949f\uff0c\"make \"\u6b65\u9aa4\u53ef\u80fd\u9700\u898130\u5206\u949f\u4ee5\u4e0a\uff09\uff1a sudo apt-get update sudo apt-get install autoconf libtool telnet mkdir ~/openocd cd ~/openocd/ git clone http://openocd.zylin.com/openocd cd openocd ./bootstrap ./configure --enable-sysfsgpio --enable-bcm2835gpio --prefix=/home/pi/openocd/install make make install","title":"\u5728\u6811\u8393\u6d3e\u4e0a\u8fd0\u884cOpenOCD"},{"location":"Bootloaders.html#openocd_1","text":"\u521b\u5efa\u4e00\u4e2aOpenOCD\u914d\u7f6e\u6587\u4ef6\uff1a nano ~/openocd/openocd.cfg \u4f7f\u7528\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u7684\u914d\u7f6e\uff1a # Uses RPi pins: GPIO25 for SWDCLK, GPIO24 for SWDIO, GPIO18 for nRST source [find interface/raspberrypi2-native.cfg] bcm2835gpio_swd_nums 25 24 bcm2835gpio_srst_num 18 transport select swd # Use hardware reset wire for chip resets reset_config srst_only adapter_nsrst_delay 100 adapter_nsrst_assert_width 100 # Specify the chip type source [find target/atsame5x.cfg] # Set the adapter speed adapter_khz 40 # Connect to chip init targets reset halt","title":"\u914d\u7f6eOpenOCD"},{"location":"Bootloaders.html#_2","text":"\u5728\u63a5\u7ebf\u4e4b\u524d\uff0c\u8bf7\u5173\u95ed\u6811\u8393\u6d3e\u548c\u76ee\u6807\u82af\u7247\u7684\u7535\u6e90! \u5728\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u4e4b\u524d\uff0c\u8bf7\u786e\u8ba4\u76ee\u6807\u82af\u7247\u4f7f\u75283.3V\u7535\u538b! \u5c06\u76ee\u6807\u82af\u7247\u4e0a\u7684GND\u3001SWDCLK\u3001SWDIO\u548cRST\u5206\u522b\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u4e0a\u7684GND\u3001GPIO25\u3001GPIO24\u548cGPIO18\u3002 \u7136\u540e\u7ed9\u6811\u8393\u6d3e\u4e0a\u7535\uff0c\u518d\u7ed9\u76ee\u6807\u82af\u7247\u4f9b\u7535\u3002","title":"\u5c06\u6811\u8393\u6d3e\u4e0e\u76ee\u6807\u82af\u7247\u76f8\u8fde"},{"location":"Bootloaders.html#openocd_2","text":"\u8fd0\u884cOpenOCD\uff1a cd ~/openocd/ sudo ~/openocd/install/bin/openocd -f ~/openocd/openocd.cfg \u4e0a\u8ff0\u64cd\u4f5c\u5e94\u8be5\u4f7fOpenOCD\u8f93\u51fa\u4e00\u4e9b\u6587\u672c\u4fe1\u606f\uff0c\u7136\u540e\u7b49\u5f85\uff08\u5b83\u4e0d\u4f1a\u7acb\u5373\u8fd4\u56de\u5230Unix shell\u63d0\u793a\u7b26\uff09\u3002\u5982\u679cOpenOCD\u81ea\u5df1\u9000\u51fa\u6216\u7ee7\u7eed\u8f93\u51fa\u6587\u672c\u4fe1\u606f\uff0c\u90a3\u4e48\u8bf7\u4ed4\u7ec6\u68c0\u67e5\u63a5\u7ebf\u3002 \u4e00\u65e6OpenOCD\u8fd0\u884c\u7a33\u5b9a\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7telnet\u5411\u5b83\u53d1\u9001\u547d\u4ee4\u3002\u6253\u5f00\u53e6\u4e00\u4e2assh\u4f1a\u8bdd\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a telnet 127.0.0.1 4444 (\u53ef\u4ee5\u6309ctrl+]\u9000\u51fatelnet\uff0c\u7136\u540e\u8fd0\u884c \"quit \"\u547d\u4ee4\u3002)","title":"\u8fd0\u884cOpenOCD"},{"location":"Bootloaders.html#openocdgdb","text":"\u53ef\u4ee5\u4f7f\u7528OpenOCD\u548cgdb\u6765\u8c03\u8bd5Klipper\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5047\u8bbe\u662f\u5728\u53f0\u5f0f\u673a\u4e0a\u8fd0\u884cgdb\u3002 \u5728OpenOCD\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a bindto 0.0.0.0 gdb_port 44444 \u5728\u6811\u8393\u6d3e\u4e0a\u91cd\u65b0\u542f\u52a8OpenOCD\uff0c\u7136\u540e\u5728\u53f0\u5f0f\u673a\u4e0a\u8fd0\u884c\u4ee5\u4e0bUnix\u547d\u4ee4\uff1a cd /path/to/klipper/ gdb out/klipper.elf \u5728gdb\u4e2d\u8fd0\u884c\uff1a target remote octopi:44444 (\u7528\u6811\u8393\u6d3e\u7684\u4e3b\u673a\u540d\u66ff\u6362 \"octopi\"\uff09\u4e00\u65e6gdb\u8fd0\u884c\uff0c\u5c31\u53ef\u4ee5\u8bbe\u7f6e\u65ad\u70b9\u5e76\u68c0\u67e5\u5bc4\u5b58\u5668\u3002","title":"OpenOCD\u548cgdb"},{"location":"CANBUS.html","text":"CAN \u603b\u7ebf \u00b6 \u672c\u6587\u6863\u63cf\u8ff0\u4e86 Klipper \u7684 CAN \u603b\u7ebf\u652f\u6301\u3002 \u786c\u4ef6\u8bbe\u5907 \u00b6 Klipper\u76ee\u524d\u53ea\u652f\u6301 stm32 \u82af\u7247\u7684CAN\u3002\u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u82af\u7247\u5fc5\u987b\u652f\u6301 CAN\u5e76\u4e14\u4f60\u4f7f\u7528\u7684\u4e3b\u677f\u5fc5\u987b\u6709 CAN \u6536\u53d1\u5668\u3002 \u8981\u9488\u5bf9 CAN \u8fdb\u884c\u7f16\u8bd1\uff0c\u8bf7\u8fd0\u884c make menuconfig \u5e76\u9009\u62e9\"CAN Bus\"\u4f5c\u4e3a\u901a\u4fe1\u63a5\u53e3\u3002\u6700\u540e\uff0c\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u5e76\u5c06\u5176\u5237\u5199\u5230\u76ee\u6807\u63a7\u5236\u7248\u4e0a\u3002 \u4e3b\u673a\u786c\u4ef6 \u00b6 \u4e3a\u4e86\u4f7f\u7528 CAN \u603b\u7ebf\uff0c\u4e3b\u673a\u9700\u8981\u4e00\u4e2a\u9002\u914d\u5668\u3002\u76ee\u524d\u6709\u4e24\u79cd\u5e38\u89c1\u7684\u9009\u62e9\uff1a \u4f7f\u7528 Waveshare Raspberry Pi CAN hat \u6216\u5176\u4f17\u591a\u514b\u9686\u4e2d\u7684\u4e00\u4e2a\u3002 \u4f7f\u7528\u4e00\u4e2aUSB CAN\u9002\u914d\u5668\uff08\u4f8b\u5982 https://hacker-gadgets.com/product/cantact-usb-can-adapter/ \uff09\u3002\u6709\u8bb8\u591a\u4e0d\u540c\u7684USB\u5230CAN\u9002\u914d\u5668\u2014\u5f53\u9009\u62e9\u65f6\uff0c\u6211\u4eec\u5efa\u8bae\u9a8c\u8bc1\u5b83\u662f\u5426\u80fd\u8fd0\u884c candlelight \u56fa\u4ef6 \u3002(\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u4eec\u53d1\u73b0\u4e00\u4e9bUSB\u9002\u914d\u5668\u8fd0\u884c\u6709\u7f3a\u9677\u7684\u56fa\u4ef6\uff0c\u5e76\u88ab\u9501\u6b7b\uff0c\u6240\u4ee5\u5728\u8d2d\u4e70\u524d\u8981\u8fdb\u884c\u6838\u5b9e\u3002\uff09 \u8fd8\u9700\u8981\u5c06\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u4e3a\u4f7f\u7528\u9002\u914d\u5668\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a /etc/network/interfaces.d/can0 \u7684\u65b0\u6587\u4ef6\u6765\u5b9e\u73b0\uff0c\u8be5\u6587\u4ef6\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a auto can0 iface can0 can static bitrate 500000 up ifconfig $IFACE txqueuelen 128 \u6ce8\u610f\uff0c\"Raspberry Pi CAN hat\" \u9700\u8981\u989d\u5916 \u5bf9 config.txt \u8fdb\u884c\u4fee\u6539 \u3002 \u7ec8\u7aef\u7535\u963b \u00b6 CAN\u603b\u7ebf\u5728 CANH \u548c CANL \u5bfc\u7ebf\u4e4b\u95f4\u5fc5\u987b\u4e24\u4e2a 120 \u6b27\u59c6\u7684\u7535\u963b\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u603b\u7ebf\u7684\u4e24\u7aef\u5404\u6709\u4e00\u4e2a\u7535\u963b\u3002 \u8bf7\u6ce8\u610f\uff0c\u6709\u4e9b\u8bbe\u5907\u6709\u4e00\u4e2a\u5185\u7f6e\u7684120\u6b27\u59c6\u7535\u963b\uff08\u4f8b\u5982\uff0c\"Waveshare Raspberry Pi CAN hat\"\u6709\u4e00\u4e2a\u96be\u4ee5\u62c6\u9664\u7684\u8d34\u7247\u7535\u963b\uff09\u3002\u6709\u4e9b\u8bbe\u5907\u6839\u672c\u4e0d\u5e26\u6709\u4e00\u4e2a\u7535\u963b\u3002\u5176\u4ed6\u8bbe\u5907\u6709\u4e00\u4e2a\u9009\u62e9\u7535\u963b\u7684\u673a\u5236\uff08\u901a\u5e38\u662f\u4e00\u4e2a\u8df3\u7ebf\uff09\u3002\u4e00\u5b9a\u8981\u68c0\u67e5 CAN \u603b\u7ebf\u4e0a\u6240\u6709\u8bbe\u5907\u7684\u539f\u7406\u56fe\uff0c\u4ee5\u786e\u8ba4\u603b\u7ebf\u4e0a\u6709\u4e24\u4e2a\u800c\u4e14\u53ea\u6709\u4e24\u4e2a120\u6b27\u59c6\u7684\u7535\u963b\u3002 \u8981\u6d4b\u8bd5\u7535\u963b\u662f\u5426\u6b63\u786e\uff0c\u5148\u5207\u65ad\u6253\u5370\u673a\u7684\u7535\u6e90\uff0c\u5e76\u7528\u591a\u7528\u8868\u68c0\u67e5 CANH \u548c CANL \u7ebf\u4e4b\u95f4\u7684\u963b\u503c\u2014\u5728\u6b63\u786e\u63a5\u7ebf\u7684 CAN \u603b\u7ebf\u4e0a\uff0c\u5b83\u5e94\u8be5\u62a5\u544a\u5927\u7ea660 \u6b27\u59c6\u3002 \u5bfb\u627e\u65b0\u5fae\u63a7\u5236\u5668\u7684 canbus_uuid \u00b6 CAN \u603b\u7ebf\u4e0a\u7684\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u90fd\u6839\u636e\u7f16\u7801\u5230\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5de5\u5382\u82af\u7247\u6807\u8bc6\u7b26\u5206\u914d\u4e86\u4e00\u4e2a\u552f\u4e00\u7684 ID\u3002\u8981\u67e5\u627e\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u8bbe\u5907 ID\uff0c\u8bf7\u786e\u4fdd\u786c\u4ef6\u5df2\u6b63\u786e\u4f9b\u7535\u548c\u63a5\u7ebf\uff0c\u7136\u540e\u8fd0\u884c\uff1a ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 \u5982\u679c\u68c0\u6d4b\u5230\u672a\u521d\u59cb\u5316\u7684 CAN \u8bbe\u5907\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5c06\u62a5\u544a\u5982\u4e0b\u884c\uff1a Found canbus_uuid=11aa22bb33cc \u6bcf\u4e2a\u8bbe\u5907\u5c06\u6709\u4e00\u4e2a\u72ec\u7279\u7684\u6807\u8bc6\u7b26\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c 11aa22bb33cc \u662f\u5fae\u63a7\u5236\u5668'\u7684\"canbus_uuid\" \u3002 \u6ce8\u610f\uff0c canbus_query.py \u5de5\u5177\u53ea\u4f1a\u53ea\u62a5\u544a\u672a\u521d\u59cb\u5316\u7684\u8bbe\u5907\u2014\u5982\u679cKlipper\uff08\u6216\u7c7b\u4f3c\u5de5\u5177\uff09\u5df2\u7ecf\u914d\u7f6e\u4e86\u8bbe\u5907\uff0c\u90a3\u4e48\u5b83\u4e0d\u4f1a\u5728\u5217\u8868\u4e2d\u3002 \u914d\u7f6e Klipper \u00b6 \u66f4\u65b0Klipper\u7684 mcu \u914d\u7f6e \uff0c\u4ee5\u4f7f\u7528 CAN \u603b\u7ebf\u4e0e\u8bbe\u5907\u901a\u4fe1\u2014\u4f8b\u5982\uff1a [mcu my_can_mcu] canbus_uuid: 11aa22bb33cc","title":"CAN \u603b\u7ebf"},{"location":"CANBUS.html#can","text":"\u672c\u6587\u6863\u63cf\u8ff0\u4e86 Klipper \u7684 CAN \u603b\u7ebf\u652f\u6301\u3002","title":"CAN \u603b\u7ebf"},{"location":"CANBUS.html#_1","text":"Klipper\u76ee\u524d\u53ea\u652f\u6301 stm32 \u82af\u7247\u7684CAN\u3002\u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u82af\u7247\u5fc5\u987b\u652f\u6301 CAN\u5e76\u4e14\u4f60\u4f7f\u7528\u7684\u4e3b\u677f\u5fc5\u987b\u6709 CAN \u6536\u53d1\u5668\u3002 \u8981\u9488\u5bf9 CAN \u8fdb\u884c\u7f16\u8bd1\uff0c\u8bf7\u8fd0\u884c make menuconfig \u5e76\u9009\u62e9\"CAN Bus\"\u4f5c\u4e3a\u901a\u4fe1\u63a5\u53e3\u3002\u6700\u540e\uff0c\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u5e76\u5c06\u5176\u5237\u5199\u5230\u76ee\u6807\u63a7\u5236\u7248\u4e0a\u3002","title":"\u786c\u4ef6\u8bbe\u5907"},{"location":"CANBUS.html#_2","text":"\u4e3a\u4e86\u4f7f\u7528 CAN \u603b\u7ebf\uff0c\u4e3b\u673a\u9700\u8981\u4e00\u4e2a\u9002\u914d\u5668\u3002\u76ee\u524d\u6709\u4e24\u79cd\u5e38\u89c1\u7684\u9009\u62e9\uff1a \u4f7f\u7528 Waveshare Raspberry Pi CAN hat \u6216\u5176\u4f17\u591a\u514b\u9686\u4e2d\u7684\u4e00\u4e2a\u3002 \u4f7f\u7528\u4e00\u4e2aUSB CAN\u9002\u914d\u5668\uff08\u4f8b\u5982 https://hacker-gadgets.com/product/cantact-usb-can-adapter/ \uff09\u3002\u6709\u8bb8\u591a\u4e0d\u540c\u7684USB\u5230CAN\u9002\u914d\u5668\u2014\u5f53\u9009\u62e9\u65f6\uff0c\u6211\u4eec\u5efa\u8bae\u9a8c\u8bc1\u5b83\u662f\u5426\u80fd\u8fd0\u884c candlelight \u56fa\u4ef6 \u3002(\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u4eec\u53d1\u73b0\u4e00\u4e9bUSB\u9002\u914d\u5668\u8fd0\u884c\u6709\u7f3a\u9677\u7684\u56fa\u4ef6\uff0c\u5e76\u88ab\u9501\u6b7b\uff0c\u6240\u4ee5\u5728\u8d2d\u4e70\u524d\u8981\u8fdb\u884c\u6838\u5b9e\u3002\uff09 \u8fd8\u9700\u8981\u5c06\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u4e3a\u4f7f\u7528\u9002\u914d\u5668\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a /etc/network/interfaces.d/can0 \u7684\u65b0\u6587\u4ef6\u6765\u5b9e\u73b0\uff0c\u8be5\u6587\u4ef6\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a auto can0 iface can0 can static bitrate 500000 up ifconfig $IFACE txqueuelen 128 \u6ce8\u610f\uff0c\"Raspberry Pi CAN hat\" \u9700\u8981\u989d\u5916 \u5bf9 config.txt \u8fdb\u884c\u4fee\u6539 \u3002","title":"\u4e3b\u673a\u786c\u4ef6"},{"location":"CANBUS.html#_3","text":"CAN\u603b\u7ebf\u5728 CANH \u548c CANL \u5bfc\u7ebf\u4e4b\u95f4\u5fc5\u987b\u4e24\u4e2a 120 \u6b27\u59c6\u7684\u7535\u963b\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u603b\u7ebf\u7684\u4e24\u7aef\u5404\u6709\u4e00\u4e2a\u7535\u963b\u3002 \u8bf7\u6ce8\u610f\uff0c\u6709\u4e9b\u8bbe\u5907\u6709\u4e00\u4e2a\u5185\u7f6e\u7684120\u6b27\u59c6\u7535\u963b\uff08\u4f8b\u5982\uff0c\"Waveshare Raspberry Pi CAN hat\"\u6709\u4e00\u4e2a\u96be\u4ee5\u62c6\u9664\u7684\u8d34\u7247\u7535\u963b\uff09\u3002\u6709\u4e9b\u8bbe\u5907\u6839\u672c\u4e0d\u5e26\u6709\u4e00\u4e2a\u7535\u963b\u3002\u5176\u4ed6\u8bbe\u5907\u6709\u4e00\u4e2a\u9009\u62e9\u7535\u963b\u7684\u673a\u5236\uff08\u901a\u5e38\u662f\u4e00\u4e2a\u8df3\u7ebf\uff09\u3002\u4e00\u5b9a\u8981\u68c0\u67e5 CAN \u603b\u7ebf\u4e0a\u6240\u6709\u8bbe\u5907\u7684\u539f\u7406\u56fe\uff0c\u4ee5\u786e\u8ba4\u603b\u7ebf\u4e0a\u6709\u4e24\u4e2a\u800c\u4e14\u53ea\u6709\u4e24\u4e2a120\u6b27\u59c6\u7684\u7535\u963b\u3002 \u8981\u6d4b\u8bd5\u7535\u963b\u662f\u5426\u6b63\u786e\uff0c\u5148\u5207\u65ad\u6253\u5370\u673a\u7684\u7535\u6e90\uff0c\u5e76\u7528\u591a\u7528\u8868\u68c0\u67e5 CANH \u548c CANL \u7ebf\u4e4b\u95f4\u7684\u963b\u503c\u2014\u5728\u6b63\u786e\u63a5\u7ebf\u7684 CAN \u603b\u7ebf\u4e0a\uff0c\u5b83\u5e94\u8be5\u62a5\u544a\u5927\u7ea660 \u6b27\u59c6\u3002","title":"\u7ec8\u7aef\u7535\u963b"},{"location":"CANBUS.html#canbus_uuid","text":"CAN \u603b\u7ebf\u4e0a\u7684\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u90fd\u6839\u636e\u7f16\u7801\u5230\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5de5\u5382\u82af\u7247\u6807\u8bc6\u7b26\u5206\u914d\u4e86\u4e00\u4e2a\u552f\u4e00\u7684 ID\u3002\u8981\u67e5\u627e\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u8bbe\u5907 ID\uff0c\u8bf7\u786e\u4fdd\u786c\u4ef6\u5df2\u6b63\u786e\u4f9b\u7535\u548c\u63a5\u7ebf\uff0c\u7136\u540e\u8fd0\u884c\uff1a ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 \u5982\u679c\u68c0\u6d4b\u5230\u672a\u521d\u59cb\u5316\u7684 CAN \u8bbe\u5907\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5c06\u62a5\u544a\u5982\u4e0b\u884c\uff1a Found canbus_uuid=11aa22bb33cc \u6bcf\u4e2a\u8bbe\u5907\u5c06\u6709\u4e00\u4e2a\u72ec\u7279\u7684\u6807\u8bc6\u7b26\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c 11aa22bb33cc \u662f\u5fae\u63a7\u5236\u5668'\u7684\"canbus_uuid\" \u3002 \u6ce8\u610f\uff0c canbus_query.py \u5de5\u5177\u53ea\u4f1a\u53ea\u62a5\u544a\u672a\u521d\u59cb\u5316\u7684\u8bbe\u5907\u2014\u5982\u679cKlipper\uff08\u6216\u7c7b\u4f3c\u5de5\u5177\uff09\u5df2\u7ecf\u914d\u7f6e\u4e86\u8bbe\u5907\uff0c\u90a3\u4e48\u5b83\u4e0d\u4f1a\u5728\u5217\u8868\u4e2d\u3002","title":"\u5bfb\u627e\u65b0\u5fae\u63a7\u5236\u5668\u7684 canbus_uuid"},{"location":"CANBUS.html#klipper","text":"\u66f4\u65b0Klipper\u7684 mcu \u914d\u7f6e \uff0c\u4ee5\u4f7f\u7528 CAN \u603b\u7ebf\u4e0e\u8bbe\u5907\u901a\u4fe1\u2014\u4f8b\u5982\uff1a [mcu my_can_mcu] canbus_uuid: 11aa22bb33cc","title":"\u914d\u7f6e Klipper"},{"location":"CANBUS_protocol.html","text":"CANBUS \u534f\u8bae (CANBUS protocol) \u00b6 \u672c\u6587\u6863\u63cf\u8ff0\u4e86 Klipper \u901a\u8fc7 CAN\u603b\u7ebf \u8fdb\u884c\u901a\u4fe1\u7684\u534f\u8bae\u3002\u53c2\u89c1 \u4e86\u89e3\u5982\u4f55\u5728 Klipper \u4e2d\u914d\u7f6e CAN \u603b\u7ebf\u3002 \u5206\u914d\u5fae\u63a7\u5236\u5668 ID (Micro-controller id assignment) \u00b6 Klipper\u4f7f\u7528 CAN 2.0A \u6807\u51c6\u5927\u5c0f\u7684 CAN Bus \u5305\uff0c\u662f\u4e00\u4e2a\u88ab\u9650\u5236\u57288 data bytes \u548c 11-bit CAN Bus \u6807\u8bc6\u7b26\u3002\u4e3a\u4e86\u652f\u6301\u66f4\u9ad8\u6548\u7684\u4f20\u8f93\uff0c\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668 (micro-controller) \u5728\u8fd0\u884c\u65f6\u5019\u53bb\u5206\u914d\u4e00\u4e2a 1-byte \u7684CAN Bus nodeid ( canbus_nodeid ) \u901a\u5e38\u6765\u8bf4\u7528\u4e8eKlipper \u7684\u547d\u4ee4\u548c\u54cd\u5e94\u901a\u4fe1\u3002\u4e3b\u673a\u5230\u5fae\u63a7\u5236\u5668\u7684Klipper\u547d\u4ee4\u4fe1\u606f\u4f7f\u7528 canbus_nodeid * 2 + 256 \u7684CAN\u603b\u7ebfID\uff0c\u800c\u4ece\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u673a\u7684Klipper\u54cd\u5e94\u4fe1\u606f\u4f7f\u7528 canbus_nodeid * 2 + 256 + 1 \u3002 \u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u51fa\u5382\u65f6\u90fd\u6709\u4e00\u4e2a\u7528\u4e8eID\u5206\u914d\u7684\u552f\u4e00\u7684\u82af\u7247\u6807\u8bc6\u7b26\u3002\u8fd9\u4e2a\u6807\u8bc6\u7b26\u53ef\u4ee5\u8d85\u8fc7\u4e00\u4e2a CAN \u6570\u636e\u5305\u7684\u957f\u5ea6\uff0c\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u4f1a\u7528\u51fa\u5382\u6807\u8bc6\u7b26\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684 6 \u5b57\u8282\u6807\u8bc6\uff08 canbus_uuid \uff09\u3002 \u7ba1\u7406\u6d88\u606f \u00b6 \u7ba1\u7406\u4fe1\u606f\u7528\u4e8e ID \u5206\u914d\u3002\u4ece\u4e3b\u673a\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u7ba1\u7406\u6d88\u606f\u4f7f\u7528CAN\u603b\u7ebf\u7684 ID 0x3f0 \uff0c\u800c\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u6d88\u606f\u4f7f\u7528CAN\u603b\u7ebf\u7684 ID 0x3f1 \u3002\u6240\u6709\u7684\u5fae\u63a7\u5236\u5668\u90fd\u542c\u4eceID 0x3f0 \u4e0a\u7684\u6d88\u606f\uff1b\u8fd9\u4e2a ID \u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\"\u5e7f\u64ad\u5730\u5740\"\u3002 CMD_QUERY_UNASSIGNED \u6d88\u606f \u00b6 \u8be5\u547d\u4ee4\u67e5\u8be2\u6240\u6709\u5c1a\u672a\u88ab\u5206\u914d canbus_nodeid \u7684\u5fae\u63a7\u5236\u5668\u3002\u672a\u5206\u914d\u7684\u5fae\u63a7\u5236\u5668\u5c06\u4ee5 RESP_NEED_NODEID \u54cd\u5e94\u6d88\u606f\u8fdb\u884c\u56de\u5e94\u3002 CMD_QUERY_UNASSIGNED \u6d88\u606f\u683c\u5f0f\u662f\uff1a <1-byte message_id = 0x00> CMD_SET_NODEID \u6d88\u606f \u00b6 \u8fd9\u4e2a\u547d\u4ee4\u6839\u636e\u5fae\u5904\u7406\u5668\u7ed9\u5b9a\u7684 canbus_uuid \u7ed9\u76f8\u5e94\u7684\u5fae\u5904\u7406\u5668\u5206\u914d\u4e00\u4e2a canbus_nodeid \u3002 CMD_SET_NODEID \u7684\u6d88\u606f\u683c\u5f0f\u662f\uff1a <1-byte message_id = 0x01><6-byte canbus_uuid><1-byte canbus_nodeid> RESP_NEED_NODEID \u6d88\u606f \u00b6 RESP_NEED_NODEID\u6d88\u606f\u683c\u5f0f\u4e3a\uff1a <1\u5b57\u8282message_id = 0x20><6\u5b57\u8282canbus_uuid> \u6570\u636e\u5305 \u00b6 \u901a\u8fc7 CMD_SET_NODEID \u547d\u4ee4\u5206\u914d\u4e86\u8282\u70b9 ID \u7684\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5305\u3002 \u5e26\u6709\u8282\u70b9\u63a5\u6536 CAN \u603b\u7ebfID\uff08 canbus_nodeid * 2 + 256 \uff09\u7684\u6d88\u606f\u4e2d\u7684\u6570\u636e\u5305\u88ab\u7b80\u5355\u5730\u6dfb\u52a0\u5230\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u5f53\u4e00\u4e2a\u5b8c\u6574\u7684 mcu \u534f\u8bae\u6d88\u606f \u88ab\u627e\u5230\u65f6\uff0c\u5176\u5185\u5bb9\u4f1a\u88ab\u89e3\u6790\u548c\u5904\u7406\u3002\u6570\u636e\u88ab\u89c6\u4e3a\u6bd4\u7279\u6d41\uff08byte stream\uff09- Klipper\u4fe1\u606f\u5757\u7684\u5f00\u5934\u4e0d\u9700\u8981\u4e0eCAN bus\u7684\u6570\u636e\u5305\u5f00\u5934\u5bf9\u9f50\u3002 \u7c7b\u4f3c\u5730\uff0cmcu \u534f\u8bae\u6d88\u606f\u54cd\u5e94\u901a\u8fc7\u5c06\u6d88\u606f\u6570\u636e\u63d2\u5165\u5230\u5177\u6709\u8282\u70b9\u53d1\u9001 CAN \u603b\u7ebf ID \u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u636e\u5305\uff08 canbus_nodeid * 2 + 256 + 1 \uff09\u5e76\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u3002","title":"CANBUS \u534f\u8bae (CANBUS protocol)"},{"location":"CANBUS_protocol.html#canbus-canbus-protocol","text":"\u672c\u6587\u6863\u63cf\u8ff0\u4e86 Klipper \u901a\u8fc7 CAN\u603b\u7ebf \u8fdb\u884c\u901a\u4fe1\u7684\u534f\u8bae\u3002\u53c2\u89c1 \u4e86\u89e3\u5982\u4f55\u5728 Klipper \u4e2d\u914d\u7f6e CAN \u603b\u7ebf\u3002","title":"CANBUS \u534f\u8bae (CANBUS protocol)"},{"location":"CANBUS_protocol.html#id-micro-controller-id-assignment","text":"Klipper\u4f7f\u7528 CAN 2.0A \u6807\u51c6\u5927\u5c0f\u7684 CAN Bus \u5305\uff0c\u662f\u4e00\u4e2a\u88ab\u9650\u5236\u57288 data bytes \u548c 11-bit CAN Bus \u6807\u8bc6\u7b26\u3002\u4e3a\u4e86\u652f\u6301\u66f4\u9ad8\u6548\u7684\u4f20\u8f93\uff0c\u6bcf\u4e2a\u5fae\u63a7\u5236\u5668 (micro-controller) \u5728\u8fd0\u884c\u65f6\u5019\u53bb\u5206\u914d\u4e00\u4e2a 1-byte \u7684CAN Bus nodeid ( canbus_nodeid ) \u901a\u5e38\u6765\u8bf4\u7528\u4e8eKlipper \u7684\u547d\u4ee4\u548c\u54cd\u5e94\u901a\u4fe1\u3002\u4e3b\u673a\u5230\u5fae\u63a7\u5236\u5668\u7684Klipper\u547d\u4ee4\u4fe1\u606f\u4f7f\u7528 canbus_nodeid * 2 + 256 \u7684CAN\u603b\u7ebfID\uff0c\u800c\u4ece\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u673a\u7684Klipper\u54cd\u5e94\u4fe1\u606f\u4f7f\u7528 canbus_nodeid * 2 + 256 + 1 \u3002 \u6bcf\u4e2a\u5fae\u63a7\u5236\u5668\u51fa\u5382\u65f6\u90fd\u6709\u4e00\u4e2a\u7528\u4e8eID\u5206\u914d\u7684\u552f\u4e00\u7684\u82af\u7247\u6807\u8bc6\u7b26\u3002\u8fd9\u4e2a\u6807\u8bc6\u7b26\u53ef\u4ee5\u8d85\u8fc7\u4e00\u4e2a CAN \u6570\u636e\u5305\u7684\u957f\u5ea6\uff0c\u4e00\u4e2a\u54c8\u5e0c\u51fd\u6570\u4f1a\u7528\u51fa\u5382\u6807\u8bc6\u7b26\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684 6 \u5b57\u8282\u6807\u8bc6\uff08 canbus_uuid \uff09\u3002","title":"\u5206\u914d\u5fae\u63a7\u5236\u5668 ID (Micro-controller id assignment)"},{"location":"CANBUS_protocol.html#_1","text":"\u7ba1\u7406\u4fe1\u606f\u7528\u4e8e ID \u5206\u914d\u3002\u4ece\u4e3b\u673a\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u7ba1\u7406\u6d88\u606f\u4f7f\u7528CAN\u603b\u7ebf\u7684 ID 0x3f0 \uff0c\u800c\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u6d88\u606f\u4f7f\u7528CAN\u603b\u7ebf\u7684 ID 0x3f1 \u3002\u6240\u6709\u7684\u5fae\u63a7\u5236\u5668\u90fd\u542c\u4eceID 0x3f0 \u4e0a\u7684\u6d88\u606f\uff1b\u8fd9\u4e2a ID \u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4e00\u4e2a\"\u5e7f\u64ad\u5730\u5740\"\u3002","title":"\u7ba1\u7406\u6d88\u606f"},{"location":"CANBUS_protocol.html#cmd_query_unassigned","text":"\u8be5\u547d\u4ee4\u67e5\u8be2\u6240\u6709\u5c1a\u672a\u88ab\u5206\u914d canbus_nodeid \u7684\u5fae\u63a7\u5236\u5668\u3002\u672a\u5206\u914d\u7684\u5fae\u63a7\u5236\u5668\u5c06\u4ee5 RESP_NEED_NODEID \u54cd\u5e94\u6d88\u606f\u8fdb\u884c\u56de\u5e94\u3002 CMD_QUERY_UNASSIGNED \u6d88\u606f\u683c\u5f0f\u662f\uff1a <1-byte message_id = 0x00>","title":"CMD_QUERY_UNASSIGNED \u6d88\u606f"},{"location":"CANBUS_protocol.html#cmd_set_nodeid","text":"\u8fd9\u4e2a\u547d\u4ee4\u6839\u636e\u5fae\u5904\u7406\u5668\u7ed9\u5b9a\u7684 canbus_uuid \u7ed9\u76f8\u5e94\u7684\u5fae\u5904\u7406\u5668\u5206\u914d\u4e00\u4e2a canbus_nodeid \u3002 CMD_SET_NODEID \u7684\u6d88\u606f\u683c\u5f0f\u662f\uff1a <1-byte message_id = 0x01><6-byte canbus_uuid><1-byte canbus_nodeid>","title":"CMD_SET_NODEID \u6d88\u606f"},{"location":"CANBUS_protocol.html#resp_need_nodeid","text":"RESP_NEED_NODEID\u6d88\u606f\u683c\u5f0f\u4e3a\uff1a <1\u5b57\u8282message_id = 0x20><6\u5b57\u8282canbus_uuid>","title":"RESP_NEED_NODEID \u6d88\u606f"},{"location":"CANBUS_protocol.html#_2","text":"\u901a\u8fc7 CMD_SET_NODEID \u547d\u4ee4\u5206\u914d\u4e86\u8282\u70b9 ID \u7684\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5305\u3002 \u5e26\u6709\u8282\u70b9\u63a5\u6536 CAN \u603b\u7ebfID\uff08 canbus_nodeid * 2 + 256 \uff09\u7684\u6d88\u606f\u4e2d\u7684\u6570\u636e\u5305\u88ab\u7b80\u5355\u5730\u6dfb\u52a0\u5230\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u5f53\u4e00\u4e2a\u5b8c\u6574\u7684 mcu \u534f\u8bae\u6d88\u606f \u88ab\u627e\u5230\u65f6\uff0c\u5176\u5185\u5bb9\u4f1a\u88ab\u89e3\u6790\u548c\u5904\u7406\u3002\u6570\u636e\u88ab\u89c6\u4e3a\u6bd4\u7279\u6d41\uff08byte stream\uff09- Klipper\u4fe1\u606f\u5757\u7684\u5f00\u5934\u4e0d\u9700\u8981\u4e0eCAN bus\u7684\u6570\u636e\u5305\u5f00\u5934\u5bf9\u9f50\u3002 \u7c7b\u4f3c\u5730\uff0cmcu \u534f\u8bae\u6d88\u606f\u54cd\u5e94\u901a\u8fc7\u5c06\u6d88\u606f\u6570\u636e\u63d2\u5165\u5230\u5177\u6709\u8282\u70b9\u53d1\u9001 CAN \u603b\u7ebf ID \u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u6570\u636e\u5305\uff08 canbus_nodeid * 2 + 256 + 1 \uff09\u5e76\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u3002","title":"\u6570\u636e\u5305"},{"location":"CONTRIBUTING.html","text":"\u4e3a Klipper \u505a\u8d21\u732e \u00b6 \u611f\u8c22\u60a8\u5bf9Klipper\u7684\u8d21\u732e\uff01\u672c\u6587\u6863\u4ecb\u7ecd\u5411 Klipper \u8d21\u732e\u6539\u8fdb\u7684\u6d41\u7a0b\u3002 \u8bf7\u53c2\u9605 \u8054\u7cfb\u9875\u9762 \u6765\u4e86\u89e3\u62a5\u544a\u95ee\u9898\u7684\u4fe1\u606f\u6216\u8054\u7cfb\u5f00\u53d1\u4eba\u5458\u7684\u65b9\u6cd5\u3002 \u8d21\u732e\u6d41\u7a0b\u6982\u8ff0 \u00b6 \u5bf9Klipper\u7684\u8d21\u732e\u901a\u5e38\u9075\u5faa\u4e00\u4e2a\u9ad8\u6c34\u5e73\u7684\u6d41\u7a0b\uff1a \u5f53\u63d0\u4ea4\u7684\u5185\u5bb9\u51c6\u5907\u597d\u8fdb\u884c\u5e7f\u6cdb\u7684\u90e8\u7f72\u65f6\uff0c\u63d0\u4ea4\u8005\u8981\u5148\u5148\u521b\u5efa\u4e00\u4e2a GitHub \u62c9\u53d6\u8bf7\u6c42(Pull Request) \u3002 \u5f53 \u5ba1\u6838\u8005 \u53ef\u4ee5 \u5ba1\u6838 \u63d0\u4ea4\u65f6\uff0c\u4ed6\u4eec\u5c06\u628a\u81ea\u5df1\u5206\u914d\u7ed9 GitHub \u4e0a\u7684\u62c9\u53d6\u8bf7\u6c42\u3002\u5ba1\u6838\u7684\u76ee\u7684\u662f\u5bfb\u627e\u7f3a\u9677\u5e76\u68c0\u67e5\u63d0\u4ea4\u662f\u5426\u9075\u5faa\u8bb0\u5f55\u5728\u6848\u7684\u51c6\u5219\u3002 \u5ba1\u6838\u5b8c\u6210\u540e\uff0c\u5ba1\u6838\u8005\u4f1a\u5728GitHub\u4e0a\"\u6279\u51c6\u5ba1\u67e5\"\uff0c\u7136\u540e\u7531 \u7ef4\u62a4\u8005 \u5c06\u4fee\u6539\u63d0\u4ea4\u5230Klipper\u7684master\u5206\u652f\u3002 \u5728\u6539\u8fdbKlipper\u65f6\uff0c\u8bf7\u8003\u8651\u5728 Klipper Discourse \u4e0a\u6253\u5f00\uff08\u6216\u53c2\u4e0e\uff09\u4e00\u4e2a\u4e3b\u9898\u3002\u8bba\u575b\u4e0a\u6b63\u5728\u8fdb\u884c\u7684\u8ba8\u8bba\u53ef\u4ee5\u63d0\u9ad8\u5f00\u53d1\u5de5\u4f5c\u7684\u53ef\u89c1\u6027\uff0c\u5e76\u53ef\u80fd\u5438\u5f15\u5bf9\u6d4b\u8bd5\u65b0\u5de5\u4f5c\u611f\u5174\u8da3\u7684\u5176\u4ed6\u4eba\u3002 \u5ba1\u6838\u4e2d\u7684\u9884\u671f\u5185\u5bb9 \u00b6 \u5bf9 Klipper \u7684\u8d21\u732e\u5728\u5408\u5e76\u524d\u4f1a\u88ab\u5ba1\u6838\u3002\u5ba1\u6838\u8fc7\u7a0b\u7684\u4e3b\u8981\u76ee\u7684\u662f\u68c0\u67e5\u7f3a\u9677\uff0c\u5e76\u68c0\u67e5\u63d0\u4ea4\u7684\u5185\u5bb9\u662f\u5426\u7b26\u5408 Klipper \u6587\u6863\u4e2d\u89c4\u5b9a\u7684\u51c6\u5219\u3002 \u6709\u8bb8\u591a\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u529f\u80fd\uff1b\u5ba1\u6838\u7684\u76ee\u7684\u4e0d\u662f\u5bfb\u627e\"\u6700\u4f73 \"\u7684\u5b9e\u73b0\u3002\u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\uff0c\u5ba1\u67e5\u8ba8\u8bba\u6700\u597d\u662f\u96c6\u4e2d\u5728\u4e8b\u5b9e\u548c\u6d4b\u8bd5\u7ed3\u679c\u4e0a\u3002 \u5927\u591a\u6570\u7684\u63d0\u4ea4\u90fd\u4f1a\u5f97\u5230\u81f3\u5c11\u4e00\u4e2a\u5ba1\u6838\u3002\u51c6\u5907\u597d\u83b7\u5f97\u53cd\u9988\uff0c\u63d0\u4f9b\u66f4\u591a\u7684\u7ec6\u8282\uff0c\u5e76\u5728\u9700\u8981\u65f6\u66f4\u65b0\u63d0\u4ea4\u7684\u4ee3\u7801\u3002 \u5ba1\u6838\u5458\u901a\u5e38\u4f1a\u68c0\u67e5\u8fd9\u4e9b\uff1a \u63d0\u4ea4\u662f\u5426\u6ca1\u6709\u7f3a\u9677\uff0c\u662f\u5426\u51c6\u5907\u597d\u5e7f\u6cdb\u90e8\u7f72\uff1f\u63d0\u4ea4\u8005\u5e94\u5728\u63d0\u4ea4\u4e4b\u524d\u6d4b\u8bd5\u5176\u66f4\u6539\u3002\u5ba1\u6838\u5458\u4f1a\u67e5\u627e\u63d0\u4ea4\u4e2d\u7684\u9519\u8bef\uff0c\u4f46\u901a\u5e38\u4e0d\u4f1a\u6d4b\u8bd5\u63d0\u4ea4\u7684\u5b9e\u9645\u5185\u5bb9\u3002\u63a5\u53d7\u7684\u63d0\u4ea4\u901a\u5e38\u4f1a\u5728\u88ab\u63a5\u53d7\u540e\u7684\u51e0\u5468\u5185\u90e8\u7f72\u5230\u6570\u5343\u53f0\u6253\u5370\u673a\u3002\u56e0\u6b64\uff0c\u63d0\u4ea4\u7684\u8d28\u91cf\u6781\u4e3a\u91cd\u8981\u3002 \u4e3b Klipper3d/klipper GitHub\u4ed3\u5e93\u4e0d\u63a5\u53d7\u5b9e\u9a8c\u6027\u4ee3\u7801\u3002\u63d0\u4ea4\u8005\u5e94\u8be5\u5728\u4ed6\u4eec\u81ea\u5df1\u7684\u4ed3\u5e93\u4e2d\u8fdb\u884c\u5b9e\u9a8c\u3001\u8c03\u8bd5\u548c\u6d4b\u8bd5\u3002 Klipper Discourse \u8bba\u575b\u53ef\u4ee5\u5e2e\u52a9\u4f60\u627e\u5230\u5176\u4ed6\u6709\u5174\u8da3\u7684\u5f00\u53d1\u8005\u548c\u53ef\u4ee5\u63d0\u4f9b\u771f\u5b9e\u4e16\u754c\u53cd\u9988\u7684\u7528\u6237\uff0c\u6216\u8005\u8ba9\u66f4\u591a\u4eba\u4e86\u89e3\u4f60\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u5fc5\u987b\u901a\u8fc7\u6240\u6709 \u56de\u5f52\u6d4b\u8bd5\u7528\u4f8b \u3002 \u4ee3\u7801\u63d0\u4ea4\u4e0d\u5e94\u5305\u542b\u8fc7\u591a\u7684\u8c03\u8bd5\u4ee3\u7801\u3001\u8c03\u8bd5\u9009\u9879\uff0c\u4e5f\u4e0d\u5e94\u5305\u542b\u8fd0\u884c\u65f6\u8c03\u8bd5\u65e5\u5fd7\u3002 \u4ee3\u7801\u63d0\u4ea4\u4e2d\u7684\u6ce8\u91ca\u5e94\u4fa7\u91cd\u4e8e\u589e\u5f3a\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002\u63d0\u4ea4\u4e0d\u5e94\u5305\u542b\"\u6ce8\u91ca\u6389\u7684\u4ee3\u7801\"\uff0c\u4e0d\u5e94\u5305\u542b\u63cf\u8ff0\u8fc7\u53bb\u5b9e\u73b0\u7684\u8fc7\u591a\u6ce8\u91ca\uff0c\u4e5f\u4e0d\u5e94\u5305\u542b\u8fc7\u591a\u7684\"\u5f85\u529e\u4e8b\u9879\"\u3002 \u5bf9\u6587\u4ef6\u7684\u66f4\u65b0\u4e0d\u5e94\u8be5\u58f0\u660e\u5b83\u4eec\u662f\u4e00\u9879\u6b63\u5728\u8fdb\u884c\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u7684\u6587\u4ef6\u662f\u5426\u4e3a\u6267\u884c\u771f\u5b9e\u4e16\u754c\u4efb\u52a1\u7684\u7528\u6237\u63d0\u4f9b\u4e86 \"\u9ad8\u5f71\u54cd\u529b\"\u7684\u6539\u8fdb\uff1f\u8bc4\u5ba1\u5458\u9700\u8981\u786e\u5b9a\uff0c\u81f3\u5c11\u5728\u4ed6\u4eec\u81ea\u5df1\u7684\u8111\u6d77\u4e2d\uff0c\u5927\u81f4\u7684\"\u76ee\u6807\u53d7\u4f17\"\uff0c\"\u53d7\u4f17\u7684\u89c4\u6a21\"\uff0c\u53d7\u4f17\u5c06\u83b7\u5f97\u7684\"\u5229\u76ca\"\uff0c\u201c\u5982\u4f55\u8861\u91cf\u5229\u76ca\"\uff0c\u4ee5\u53ca\u201d\u8fd9\u4e9b\u6d4b\u8bd5\u7684\u7ed3\u679c\u201c\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u5bf9\u63d0\u4ea4\u8005\u548c\u8bc4\u5ba1\u8005\u6765\u8bf4\u90fd\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u800c\u4e14\u5728\u8bc4\u5ba1\u8fc7\u7a0b\u4e0d\u9700\u8981\u660e\u786e\u7684\u8bf4\u660e\u3002 \u63d0\u4ea4\u5230Klipper\u4e3b\u5206\u652f\u7684\u4ee3\u7801\u5e94\u8be5\u6709\u8db3\u591f\u7684\u76ee\u6807\u53d7\u4f17\u3002\u4f5c\u4e3a\u4e00\u822c\u7684\u7ecf\u9a8c\u6cd5\u5219\uff0c\u63d0\u4ea4\u7684\u5185\u5bb9\u5e94\u8be5\u9488\u5bf9\u81f3\u5c11100\u4e2a\u7528\u6237\u7684\u7528\u6237\u7fa4\u4f53\u3002 \u5982\u679c\u5ba1\u7a3f\u4eba\u8be2\u95ee\u6709\u5173\u63d0\u4ea4\u53ef\u4ee5\u5e26\u6765\u7684\u201c\u597d\u5904\u201d\u7684\u7ec6\u8282\uff0c\u8bf7\u4e0d\u8981\u5c06\u5176\u89c6\u4e3a\u6279\u8bc4\u3002\u80fd\u591f\u7406\u89e3\u66f4\u6539\u5e26\u6765\u7684\u5b9e\u9645\u597d\u5904\u662f\u5ba1\u67e5\u7684\u4e00\u4e2a\u81ea\u7136\u90e8\u5206\u3002 When discussing benefits it is preferable to discuss \"facts and measurements\". In general, reviewers are not looking for responses of the form \"someone may find option X useful\", nor are they looking for responses of the form \"this submission adds a feature that firmware X implements\". Instead, it is generally preferable to discuss details on how the quality improvement was measured and what were the results of those measurements - for example, \"tests on Acme X1000 printers show improved corners as seen in picture ...\", or for example \"print time of real-world object X on a Foomatic X900 printer went from 4 hours to 3.5 hours\". It is understood that testing of this type can take significant time and effort. Some of Klipper's most notable features took months of discussion, rework, testing, and documentation prior to being merged into the master branch. All new modules, config options, commands, command parameters, and documents should have \"high impact\". We do not want to burden users with options that they can not reasonably configure nor do we want to burden them with options that don't provide a notable benefit. \u8bc4\u5ba1\u5458\u53ef\u80fd\u4f1a\u8981\u6c42\u89e3\u91ca\u7528\u6237\u8be5\u5982\u4f55\u914d\u7f6e\u4e00\u4e2a\u9009\u9879\uff0c\u4e00\u4e2a\u7406\u60f3\u7684\u7b54\u590d\u5c06\u5305\u542b\u8fc7\u7a0b\u7684\u7ec6\u8282\uff0c\u4f8b\u5982\uff1a\"MegaX500\u7684\u7528\u6237\u5e94\u5c06\u9009\u9879 X \u8bbe\u7f6e\u4e3a99.3\uff0c\u800cElite100Y\u7684\u7528\u6237\u5e94\u4f7f\u7528\u7a0b\u5e8f\u6821\u51c6\u9009\u9879X...\" \u3002 \u5982\u679c\u4e00\u4e2a\u9009\u9879\u7684\u76ee\u6807\u662f\u4f7f\u4ee3\u7801\u66f4\u52a0\u6a21\u5757\u5316\uff0c\u90a3\u4e48\u6700\u597d\u4f7f\u7528\u4ee3\u7801\u5e38\u91cf\u800c\u4e0d\u662f\u5411\u7528\u6237\u5f00\u653e\u7684\u914d\u7f6e\u9009\u9879\u3002 New modules, new options, and new parameters should not provide similar functionality to existing modules - if the differences are arbitrary than it's preferable to utilize the existing system or refactor the existing code. \u63d0\u4ea4\u7684\u7248\u6743\u662f\u5426\u6e05\u6670\u3001\u65e0\u507f\u3001\u517c\u5bb9\uff1f\u65b0\u7684 C \u6587\u4ef6\u548c Python \u6587\u4ef6\u5e94\u8be5\u6709\u4e00\u4e2a\u660e\u786e\u7684\u7248\u6743\u58f0\u660e\u3002\u8bf7\u770b\u73b0\u6709\u6587\u4ef6\u4ee5\u4e86\u89e3\u63a8\u8350\u683c\u5f0f\u3002\u4e0d\u63a8\u8350\u5728\u5bf9\u73b0\u6709\u6587\u4ef6\u8fdb\u884c\u5c0f\u7684\u4fee\u6539\u65f6\u5bf9\u8be5\u6587\u4ef6\u8fdb\u884c\u7248\u6743\u58f0\u660e\u3002 \u4ece\u7b2c\u4e09\u65b9\u6765\u6e90\u83b7\u53d6\u7684\u4ee3\u7801\u5fc5\u987b\u4e0e Klipper \u7684\u8bb8\u53ef\u8bc1\uff08GNU GPLv3\uff09\u517c\u5bb9\u3002\u5927\u578b\u7684\u7b2c\u4e09\u65b9\u4ee3\u7801\u6dfb\u52a0\u5e94\u88ab\u6dfb\u52a0\u5230 lib/ \u76ee\u5f55\u4e2d\uff08\u5e76\u9075\u5faa <../lib/README>\u4e2d\u63cf\u8ff0\u7684\u683c\u5f0f\uff09\u3002 \u63d0\u4ea4\u8005\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a Signed-off-by \u884c \uff0c\u4f7f\u7528\u4ed6\u4eec\u7684\u771f\u5b9e\u5168\u540d\u3002\u5b83\u8868\u660e\u63d0\u4ea4\u8005\u540c\u610f \u5f00\u53d1\u8005\u6e90\u5934\u8bc1\u4e66 \u3002 \u63d0\u4ea4\u7684\u6587\u4ef6\u662f\u5426\u9075\u5faa Klipper \u6587\u4ef6\u4e2d\u89c4\u5b9a\u7684\u51c6\u5219\uff1f\u7279\u522b\u662f\uff0c\u4ee3\u7801\u5e94\u9075\u5faa \u4e2d\u7684\u51c6\u5219\uff0c\u914d\u7f6e\u6587\u4ef6\u5e94\u9075\u5faa \u4e2d\u7684\u51c6\u5219\u3002 Klipper \u6587\u6863\u662f\u5426\u5df2\u66f4\u65b0\u4ee5\u53cd\u6620\u65b0\u7684\u66f4\u6539\uff1f\u81f3\u5c11\uff0c\u53c2\u8003\u6587\u4ef6\u5fc5\u987b\u968f\u7740\u4ee3\u7801\u7684\u76f8\u5e94\u53d8\u5316\u800c\u66f4\u65b0\uff1a \u6240\u6709\u547d\u4ee4\u548c\u547d\u4ee4\u53c2\u6570\u5fc5\u987b\u5728 \u4e2d\u88ab\u63cf\u8ff0\u3002 \u6240\u6709\u9762\u5411\u7528\u6237\u7684\u6a21\u5757\u53ca\u5176\u914d\u7f6e\u53c2\u6570\u5fc5\u987b\u5728 \u4e2d\u8bb0\u5f55\u3002 \u6240\u6709\u8f93\u51fa\u7684 \"\u72b6\u6001\u53d8\u91cf \"\u5fc5\u987b\u5728 \u4e2d\u8fdb\u884c\u63cf\u8ff0\u3002 \u6240\u6709\u65b0\u7684 \"webhooks \"\u53ca\u5176\u53c2\u6570\u5fc5\u987b\u5728 \u4e2d\u63cf\u8ff0\u3002 \u4efb\u4f55\u5bf9\u547d\u4ee4\u6216\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u5bfc\u81f4\u65e0\u6cd5\u5411\u540e\u517c\u5bb9\u7684\u6539\u53d8\uff0c\u90fd\u5fc5\u987b\u5728 \u4e2d\u8fdb\u884c\u8bf4\u660e\u3002 \u65b0\u7684\u6587\u4ef6\u5e94\u8be5\u88ab\u6dfb\u52a0\u5230 \u4e2d\uff0c\u5e76\u88ab\u6dfb\u52a0\u5230\u7f51\u7ad9\u7d22\u5f15 docs/_klipper3d/mkdocs.yml \u3002 \u63d0\u4ea4\u7684\u5185\u5bb9\u662f\u5426\u5b8c\u6574\uff0c\u6bcf\u6b21\u63d0\u4ea4\u53ea\u6d89\u53ca\u4e00\u4e2a\u4e3b\u9898\uff0c\u5e76\u4e14\u662f\u72ec\u7acb\u7684\uff1f\u63d0\u4ea4\u4fe1\u606f\u5e94\u9075\u5faa \u9996\u9009\u683c\u5f0f \u3002 \u63d0\u4ea4\u7684\u5185\u5bb9\u4e0d\u80fd\u6709\u5408\u5e76\u51b2\u7a81\u3002\u5bf9 Klipper \u4e3b\u5206\u652f\u7684\u65b0\u6dfb\u52a0\u603b\u662f\u901a\u8fc7 \"rebase \"\u6216 \"squash and rebase \"\u5b8c\u6210\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u63d0\u4ea4\u8005\u6ca1\u6709\u5fc5\u8981\u5728\u6bcf\u6b21\u66f4\u65b0Klipper\u4e3b\u5e93\u7684\u65f6\u5019\u91cd\u65b0\u5408\u5e76\u4ed6\u4eec\u7684\u63d0\u4ea4\u3002\u7136\u800c\uff0c\u5982\u679c\u6709\u5408\u5e76\u51b2\u7a81\uff0c\u5efa\u8bae\u63d0\u4ea4\u8005\u4f7f\u7528 git rebase \u6765\u89e3\u51b3\u51b2\u7a81\u3002 \u6bcf\u4e00\u6b21\u63d0\u4ea4\u90fd\u5e94\u8be5\u89e3\u51b3\u4e00\u4e2a\u9ad8\u5c42\u7684\u53d8\u5316\u3002\u5927\u7684\u6539\u52a8\u5e94\u8be5\u88ab\u5206\u89e3\u6210\u591a\u4e2a\u72ec\u7acb\u7684\u63d0\u4ea4\u3002\u6bcf\u4e2a\u63d0\u4ea4\u90fd\u5e94\u8be5 \"\u81ea\u6210\u4e00\u4f53\"\uff0c\u8fd9\u6837\u624d\u80fd\u8ba9 git bisect \u548c git revert \u7b49\u5de5\u5177\u53ef\u9760\u5730\u5de5\u4f5c\u3002 \u7a7a\u683c\u7684\u4fee\u6539\u4e0d\u5e94\u8be5\u4e0e\u529f\u80fd\u4fee\u6539\u6df7\u5728\u4e00\u8d77\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u65e0\u610f\u4e49\u7684\u7a7a\u683c\u4fee\u6539\u662f\u4e0d\u88ab\u63a5\u53d7\u7684\uff0c\u9664\u975e\u662f\u6765\u81ea\u88ab\u4fee\u6539\u4ee3\u7801\u7684\u65e2\u5b9a \"\u6240\u6709\u8005\"\u3002 Klipper does not implement a strict \"coding style guide\", but modifications to existing code should follow the high-level code flow, code indentation style, and format of that existing code. Submissions of new modules and systems have more flexibility in coding style, but it is preferable for that new code to follow an internally consistent style and to generally follow industry wide coding norms. It is not a goal of a review to discuss \"better implementations\". However, if a reviewer struggles to understand the implementation of a submission, then they may ask for changes to make the implementation more transparent. In particular, if reviewers can not convince themselves that a submission is free of defects then changes may be necessary. As part of a review, a reviewer may create an alternate Pull Request for a topic. This may be done to avoid excessive \"back and forth\" on minor procedural items and thus streamline the submission process. It may also be done because the discussion inspires a reviewer to build an alternative implementation. Both situations are a normal result of a review and should not be considered criticism of the original submission. Helping with reviews \u00b6 We appreciate help with reviews! It is not necessary to be a listed reviewer to perform a review. Submitters of GitHub Pull Requests are also encouraged to review their own submissions. To help with a review, follow the steps outlined in what to expect in a review to verify the submission. After completing the review, add a comment to the GitHub Pull Request with your findings. If the submission passes the review then please state that explicitly in the comment - for example something like \"I reviewed this change according to the steps in the CONTRIBUTING document and everything looks good to me\". If unable to complete some steps in the review then please explicitly state which steps were reviewed and which steps were not reviewed - for example something like \"I didn't check the code for defects, but I reviewed everything else in the CONTRIBUTING document and it looks good\". We also appreciate testing of submissions. If the code was tested then please add a comment to the GitHub Pull Request with the results of your test - success or failure. Please explicitly state that the code was tested and the results - for example something like \"I tested this code on my Acme900Z printer with a vase print and the results were good\". Reviewers \u00b6 The Klipper \"reviewers\" are: Name GitHub Id Areas of interest Dmitry Butyugin @dmbutyugin Input shaping, resonance testing, kinematics Eric Callahan @Arksine Bed leveling, MCU flashing Kevin O'Connor @KevinOConnor Core motion system, Micro-controller code Paul McGowan @mental405 Configuration files, documentation Please do not \"ping\" any of the reviewers and please do not direct submissions at them. All of the reviewers monitor the forums and PRs, and will take on reviews when they have time to. The Klipper \"maintainers\" are: Name GitHub name Kevin O'Connor @KevinOConnor Format of commit messages \u00b6 Each commit should have a commit message formatted similar to the following: \u6a21\u5757\u540d: \u5927\u5199\u3001\u7b80\u77ed\u7684\u6458\u8981\uff0850\u4e2a\u5b57\u7b26\u6216\u66f4\u5c11\uff09 \u5728\u5fc5\u8981\u60c5\u51b5\u4e0b\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca\u6027\u6587\u672c\u3002 \u5206\u5272\u884c\u4e3a \u6bcf\u884c75\u5b57\u7b26\u5de6\u53f3\u3002 \u5728\u67d0\u4e9b\u60c5\u666f\u4e0b\uff0c\u7b2c\u4e00\u884c\u88ab\u89c6\u4e3a \u7535\u5b50\u90ae\u4ef6\u7684\u4e3b\u9898\uff0c\u5176\u4f59\u7684\u90e8\u5206\u4f5c\u4e3a\u4e3b\u4f53\u3002 \u5728\u6458\u8981\u4e0e \u4e3b\u4f53\u4e4b\u95f4\u7684\u5206\u9694\u7528\u7a7a\u884c\u81f3\u5173\u91cd\u8981\uff08\u9664\u975e\u60a8\u5b8c\u5168\u5ffd\u7565\u4e86 \u4e3b\u4f53\uff09\uff0c\u4e00\u4e9b\u5de5\u5177\u4f8b\u5982\u53d8\u57fa(rebase)\u53ef\u80fd\u4f1a\u5728\u65e0\u7a7a\u884c\u65f6 \u6df7\u6dc6\u3002 \u53ef\u4ee5\u5728\u7a7a\u767d\u884c\u4e4b\u540e\u5199\u66f4\u591a\u6bb5\u843d\u3002 Signed-off-by: \u59d3\u540d< myemail@example.org > In the above example, module should be the name of a file or directory in the repository (without a file extension). For example, clocksync: Fix typo in pause() call at connect time . The purpose of specifying a module name in the commit message is to help provide context for the commit comments. \u5728\u6bcf\u4e2a\u63d0\u4ea4\u4e0a\u5fc5\u987b\u6709\u4e00\u4e2a \"Signed-off-by \"\u884c--\u5b83\u8bc1\u660e\u4f60\u540c\u610f \u5f00\u53d1\u8005\u8d77\u6e90\u8bc1\u4e66 \u3002\u5b83\u5fc5\u987b\u5305\u542b\u4f60\u7684\u771f\u5b9e\u59d3\u540d\uff08\u5bf9\u4e0d\u8d77\uff0c\u6ca1\u6709\u5047\u540d\u6216\u533f\u540d\u7684\u8d21\u732e\uff09\u548c\u4e00\u4e2a\u53ef\u7528\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u3002 \u4e3a Klipper \u7ffb\u8bd1\u505a\u51fa\u8d21\u732e \u00b6 Klipper-translations Project is a project dedicated to translating Klipper to different languages. Weblate hosts all the Gettext strings for translating and reviewing. Locales can be displayed on klipper3d.org once they satisfy the following requirements: 75% \u603b\u8986\u76d6\u7387 All titles (H1) are translated klipper-translations \u4e2d\u63d0\u4f9b\u4e00\u4e2a\u66f4\u65b0\u5bfc\u822a\u5c42\u6b21\u7684 PR\u3002 \u4e3a\u4e86\u51cf\u5c11\u7ffb\u8bd1\u7279\u5b9a\u9886\u57df\u672f\u8bed\u7684\u7591\u60d1\uff0c\u5e76\u8ba9\u66f4\u591a\u4eba\u4e86\u89e3\u6b63\u5728\u8fdb\u884c\u7684\u7ffb\u8bd1\uff0c\u4f60\u53ef\u4ee5\u63d0\u4ea4\u4e00\u4e2a\u4fee\u6539 Klipper-translations \u9879\u76ee readme.md \u6587\u4ef6\u7684PR\u3002\u4e00\u65e6\u7ffb\u8bd1\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5bf9 Klipper \u9879\u76ee\u8fdb\u884c\u76f8\u5e94\u7684\u4fee\u6539\u3002 \u5982\u679c\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u4e8e Klipper \u4ee3\u7801\u5e93\u4e2d\u7684\u7ffb\u8bd1\u4e0d\u518d\u7b26\u5408\u4e0a\u8ff0\u7684\u68c0\u67e5\u6e05\u5355\uff0c\u90a3\u4e48\u5728\u4e00\u4e2a\u6708\u6ca1\u6709\u66f4\u65b0\u540e\uff0c\u5b83\u5c06\u88ab\u6807\u8bb0\u4e3a\u8fc7\u671f\u3002 Once the requirements are met, you need to: update klipper-tranlations repository active_translations Optional: add a manual-index.md file in klipper-translations repository's docs\\locals\\<lang> folder to replace the language specific index.md (generated index.md does not render correctly). Known Issues: Currently, there isn't a method for correctly translating pictures in the documentation It is impossible to translate titles in mkdocs.yml.","title":"\u4e3a Klipper \u505a\u8d21\u732e"},{"location":"CONTRIBUTING.html#klipper","text":"\u611f\u8c22\u60a8\u5bf9Klipper\u7684\u8d21\u732e\uff01\u672c\u6587\u6863\u4ecb\u7ecd\u5411 Klipper \u8d21\u732e\u6539\u8fdb\u7684\u6d41\u7a0b\u3002 \u8bf7\u53c2\u9605 \u8054\u7cfb\u9875\u9762 \u6765\u4e86\u89e3\u62a5\u544a\u95ee\u9898\u7684\u4fe1\u606f\u6216\u8054\u7cfb\u5f00\u53d1\u4eba\u5458\u7684\u65b9\u6cd5\u3002","title":"\u4e3a Klipper \u505a\u8d21\u732e"},{"location":"CONTRIBUTING.html#_1","text":"\u5bf9Klipper\u7684\u8d21\u732e\u901a\u5e38\u9075\u5faa\u4e00\u4e2a\u9ad8\u6c34\u5e73\u7684\u6d41\u7a0b\uff1a \u5f53\u63d0\u4ea4\u7684\u5185\u5bb9\u51c6\u5907\u597d\u8fdb\u884c\u5e7f\u6cdb\u7684\u90e8\u7f72\u65f6\uff0c\u63d0\u4ea4\u8005\u8981\u5148\u5148\u521b\u5efa\u4e00\u4e2a GitHub \u62c9\u53d6\u8bf7\u6c42(Pull Request) \u3002 \u5f53 \u5ba1\u6838\u8005 \u53ef\u4ee5 \u5ba1\u6838 \u63d0\u4ea4\u65f6\uff0c\u4ed6\u4eec\u5c06\u628a\u81ea\u5df1\u5206\u914d\u7ed9 GitHub \u4e0a\u7684\u62c9\u53d6\u8bf7\u6c42\u3002\u5ba1\u6838\u7684\u76ee\u7684\u662f\u5bfb\u627e\u7f3a\u9677\u5e76\u68c0\u67e5\u63d0\u4ea4\u662f\u5426\u9075\u5faa\u8bb0\u5f55\u5728\u6848\u7684\u51c6\u5219\u3002 \u5ba1\u6838\u5b8c\u6210\u540e\uff0c\u5ba1\u6838\u8005\u4f1a\u5728GitHub\u4e0a\"\u6279\u51c6\u5ba1\u67e5\"\uff0c\u7136\u540e\u7531 \u7ef4\u62a4\u8005 \u5c06\u4fee\u6539\u63d0\u4ea4\u5230Klipper\u7684master\u5206\u652f\u3002 \u5728\u6539\u8fdbKlipper\u65f6\uff0c\u8bf7\u8003\u8651\u5728 Klipper Discourse \u4e0a\u6253\u5f00\uff08\u6216\u53c2\u4e0e\uff09\u4e00\u4e2a\u4e3b\u9898\u3002\u8bba\u575b\u4e0a\u6b63\u5728\u8fdb\u884c\u7684\u8ba8\u8bba\u53ef\u4ee5\u63d0\u9ad8\u5f00\u53d1\u5de5\u4f5c\u7684\u53ef\u89c1\u6027\uff0c\u5e76\u53ef\u80fd\u5438\u5f15\u5bf9\u6d4b\u8bd5\u65b0\u5de5\u4f5c\u611f\u5174\u8da3\u7684\u5176\u4ed6\u4eba\u3002","title":"\u8d21\u732e\u6d41\u7a0b\u6982\u8ff0"},{"location":"CONTRIBUTING.html#_2","text":"\u5bf9 Klipper \u7684\u8d21\u732e\u5728\u5408\u5e76\u524d\u4f1a\u88ab\u5ba1\u6838\u3002\u5ba1\u6838\u8fc7\u7a0b\u7684\u4e3b\u8981\u76ee\u7684\u662f\u68c0\u67e5\u7f3a\u9677\uff0c\u5e76\u68c0\u67e5\u63d0\u4ea4\u7684\u5185\u5bb9\u662f\u5426\u7b26\u5408 Klipper \u6587\u6863\u4e2d\u89c4\u5b9a\u7684\u51c6\u5219\u3002 \u6709\u8bb8\u591a\u65b9\u6cd5\u53ef\u4ee5\u5b9e\u73b0\u4e00\u4e2a\u529f\u80fd\uff1b\u5ba1\u6838\u7684\u76ee\u7684\u4e0d\u662f\u5bfb\u627e\"\u6700\u4f73 \"\u7684\u5b9e\u73b0\u3002\u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\uff0c\u5ba1\u67e5\u8ba8\u8bba\u6700\u597d\u662f\u96c6\u4e2d\u5728\u4e8b\u5b9e\u548c\u6d4b\u8bd5\u7ed3\u679c\u4e0a\u3002 \u5927\u591a\u6570\u7684\u63d0\u4ea4\u90fd\u4f1a\u5f97\u5230\u81f3\u5c11\u4e00\u4e2a\u5ba1\u6838\u3002\u51c6\u5907\u597d\u83b7\u5f97\u53cd\u9988\uff0c\u63d0\u4f9b\u66f4\u591a\u7684\u7ec6\u8282\uff0c\u5e76\u5728\u9700\u8981\u65f6\u66f4\u65b0\u63d0\u4ea4\u7684\u4ee3\u7801\u3002 \u5ba1\u6838\u5458\u901a\u5e38\u4f1a\u68c0\u67e5\u8fd9\u4e9b\uff1a \u63d0\u4ea4\u662f\u5426\u6ca1\u6709\u7f3a\u9677\uff0c\u662f\u5426\u51c6\u5907\u597d\u5e7f\u6cdb\u90e8\u7f72\uff1f\u63d0\u4ea4\u8005\u5e94\u5728\u63d0\u4ea4\u4e4b\u524d\u6d4b\u8bd5\u5176\u66f4\u6539\u3002\u5ba1\u6838\u5458\u4f1a\u67e5\u627e\u63d0\u4ea4\u4e2d\u7684\u9519\u8bef\uff0c\u4f46\u901a\u5e38\u4e0d\u4f1a\u6d4b\u8bd5\u63d0\u4ea4\u7684\u5b9e\u9645\u5185\u5bb9\u3002\u63a5\u53d7\u7684\u63d0\u4ea4\u901a\u5e38\u4f1a\u5728\u88ab\u63a5\u53d7\u540e\u7684\u51e0\u5468\u5185\u90e8\u7f72\u5230\u6570\u5343\u53f0\u6253\u5370\u673a\u3002\u56e0\u6b64\uff0c\u63d0\u4ea4\u7684\u8d28\u91cf\u6781\u4e3a\u91cd\u8981\u3002 \u4e3b Klipper3d/klipper GitHub\u4ed3\u5e93\u4e0d\u63a5\u53d7\u5b9e\u9a8c\u6027\u4ee3\u7801\u3002\u63d0\u4ea4\u8005\u5e94\u8be5\u5728\u4ed6\u4eec\u81ea\u5df1\u7684\u4ed3\u5e93\u4e2d\u8fdb\u884c\u5b9e\u9a8c\u3001\u8c03\u8bd5\u548c\u6d4b\u8bd5\u3002 Klipper Discourse \u8bba\u575b\u53ef\u4ee5\u5e2e\u52a9\u4f60\u627e\u5230\u5176\u4ed6\u6709\u5174\u8da3\u7684\u5f00\u53d1\u8005\u548c\u53ef\u4ee5\u63d0\u4f9b\u771f\u5b9e\u4e16\u754c\u53cd\u9988\u7684\u7528\u6237\uff0c\u6216\u8005\u8ba9\u66f4\u591a\u4eba\u4e86\u89e3\u4f60\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u5fc5\u987b\u901a\u8fc7\u6240\u6709 \u56de\u5f52\u6d4b\u8bd5\u7528\u4f8b \u3002 \u4ee3\u7801\u63d0\u4ea4\u4e0d\u5e94\u5305\u542b\u8fc7\u591a\u7684\u8c03\u8bd5\u4ee3\u7801\u3001\u8c03\u8bd5\u9009\u9879\uff0c\u4e5f\u4e0d\u5e94\u5305\u542b\u8fd0\u884c\u65f6\u8c03\u8bd5\u65e5\u5fd7\u3002 \u4ee3\u7801\u63d0\u4ea4\u4e2d\u7684\u6ce8\u91ca\u5e94\u4fa7\u91cd\u4e8e\u589e\u5f3a\u4ee3\u7801\u7684\u53ef\u7ef4\u62a4\u6027\u3002\u63d0\u4ea4\u4e0d\u5e94\u5305\u542b\"\u6ce8\u91ca\u6389\u7684\u4ee3\u7801\"\uff0c\u4e0d\u5e94\u5305\u542b\u63cf\u8ff0\u8fc7\u53bb\u5b9e\u73b0\u7684\u8fc7\u591a\u6ce8\u91ca\uff0c\u4e5f\u4e0d\u5e94\u5305\u542b\u8fc7\u591a\u7684\"\u5f85\u529e\u4e8b\u9879\"\u3002 \u5bf9\u6587\u4ef6\u7684\u66f4\u65b0\u4e0d\u5e94\u8be5\u58f0\u660e\u5b83\u4eec\u662f\u4e00\u9879\u6b63\u5728\u8fdb\u884c\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u7684\u6587\u4ef6\u662f\u5426\u4e3a\u6267\u884c\u771f\u5b9e\u4e16\u754c\u4efb\u52a1\u7684\u7528\u6237\u63d0\u4f9b\u4e86 \"\u9ad8\u5f71\u54cd\u529b\"\u7684\u6539\u8fdb\uff1f\u8bc4\u5ba1\u5458\u9700\u8981\u786e\u5b9a\uff0c\u81f3\u5c11\u5728\u4ed6\u4eec\u81ea\u5df1\u7684\u8111\u6d77\u4e2d\uff0c\u5927\u81f4\u7684\"\u76ee\u6807\u53d7\u4f17\"\uff0c\"\u53d7\u4f17\u7684\u89c4\u6a21\"\uff0c\u53d7\u4f17\u5c06\u83b7\u5f97\u7684\"\u5229\u76ca\"\uff0c\u201c\u5982\u4f55\u8861\u91cf\u5229\u76ca\"\uff0c\u4ee5\u53ca\u201d\u8fd9\u4e9b\u6d4b\u8bd5\u7684\u7ed3\u679c\u201c\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u5bf9\u63d0\u4ea4\u8005\u548c\u8bc4\u5ba1\u8005\u6765\u8bf4\u90fd\u662f\u663e\u800c\u6613\u89c1\u7684\uff0c\u800c\u4e14\u5728\u8bc4\u5ba1\u8fc7\u7a0b\u4e0d\u9700\u8981\u660e\u786e\u7684\u8bf4\u660e\u3002 \u63d0\u4ea4\u5230Klipper\u4e3b\u5206\u652f\u7684\u4ee3\u7801\u5e94\u8be5\u6709\u8db3\u591f\u7684\u76ee\u6807\u53d7\u4f17\u3002\u4f5c\u4e3a\u4e00\u822c\u7684\u7ecf\u9a8c\u6cd5\u5219\uff0c\u63d0\u4ea4\u7684\u5185\u5bb9\u5e94\u8be5\u9488\u5bf9\u81f3\u5c11100\u4e2a\u7528\u6237\u7684\u7528\u6237\u7fa4\u4f53\u3002 \u5982\u679c\u5ba1\u7a3f\u4eba\u8be2\u95ee\u6709\u5173\u63d0\u4ea4\u53ef\u4ee5\u5e26\u6765\u7684\u201c\u597d\u5904\u201d\u7684\u7ec6\u8282\uff0c\u8bf7\u4e0d\u8981\u5c06\u5176\u89c6\u4e3a\u6279\u8bc4\u3002\u80fd\u591f\u7406\u89e3\u66f4\u6539\u5e26\u6765\u7684\u5b9e\u9645\u597d\u5904\u662f\u5ba1\u67e5\u7684\u4e00\u4e2a\u81ea\u7136\u90e8\u5206\u3002 When discussing benefits it is preferable to discuss \"facts and measurements\". In general, reviewers are not looking for responses of the form \"someone may find option X useful\", nor are they looking for responses of the form \"this submission adds a feature that firmware X implements\". Instead, it is generally preferable to discuss details on how the quality improvement was measured and what were the results of those measurements - for example, \"tests on Acme X1000 printers show improved corners as seen in picture ...\", or for example \"print time of real-world object X on a Foomatic X900 printer went from 4 hours to 3.5 hours\". It is understood that testing of this type can take significant time and effort. Some of Klipper's most notable features took months of discussion, rework, testing, and documentation prior to being merged into the master branch. All new modules, config options, commands, command parameters, and documents should have \"high impact\". We do not want to burden users with options that they can not reasonably configure nor do we want to burden them with options that don't provide a notable benefit. \u8bc4\u5ba1\u5458\u53ef\u80fd\u4f1a\u8981\u6c42\u89e3\u91ca\u7528\u6237\u8be5\u5982\u4f55\u914d\u7f6e\u4e00\u4e2a\u9009\u9879\uff0c\u4e00\u4e2a\u7406\u60f3\u7684\u7b54\u590d\u5c06\u5305\u542b\u8fc7\u7a0b\u7684\u7ec6\u8282\uff0c\u4f8b\u5982\uff1a\"MegaX500\u7684\u7528\u6237\u5e94\u5c06\u9009\u9879 X \u8bbe\u7f6e\u4e3a99.3\uff0c\u800cElite100Y\u7684\u7528\u6237\u5e94\u4f7f\u7528\u7a0b\u5e8f\u6821\u51c6\u9009\u9879X...\" \u3002 \u5982\u679c\u4e00\u4e2a\u9009\u9879\u7684\u76ee\u6807\u662f\u4f7f\u4ee3\u7801\u66f4\u52a0\u6a21\u5757\u5316\uff0c\u90a3\u4e48\u6700\u597d\u4f7f\u7528\u4ee3\u7801\u5e38\u91cf\u800c\u4e0d\u662f\u5411\u7528\u6237\u5f00\u653e\u7684\u914d\u7f6e\u9009\u9879\u3002 New modules, new options, and new parameters should not provide similar functionality to existing modules - if the differences are arbitrary than it's preferable to utilize the existing system or refactor the existing code. \u63d0\u4ea4\u7684\u7248\u6743\u662f\u5426\u6e05\u6670\u3001\u65e0\u507f\u3001\u517c\u5bb9\uff1f\u65b0\u7684 C \u6587\u4ef6\u548c Python \u6587\u4ef6\u5e94\u8be5\u6709\u4e00\u4e2a\u660e\u786e\u7684\u7248\u6743\u58f0\u660e\u3002\u8bf7\u770b\u73b0\u6709\u6587\u4ef6\u4ee5\u4e86\u89e3\u63a8\u8350\u683c\u5f0f\u3002\u4e0d\u63a8\u8350\u5728\u5bf9\u73b0\u6709\u6587\u4ef6\u8fdb\u884c\u5c0f\u7684\u4fee\u6539\u65f6\u5bf9\u8be5\u6587\u4ef6\u8fdb\u884c\u7248\u6743\u58f0\u660e\u3002 \u4ece\u7b2c\u4e09\u65b9\u6765\u6e90\u83b7\u53d6\u7684\u4ee3\u7801\u5fc5\u987b\u4e0e Klipper \u7684\u8bb8\u53ef\u8bc1\uff08GNU GPLv3\uff09\u517c\u5bb9\u3002\u5927\u578b\u7684\u7b2c\u4e09\u65b9\u4ee3\u7801\u6dfb\u52a0\u5e94\u88ab\u6dfb\u52a0\u5230 lib/ \u76ee\u5f55\u4e2d\uff08\u5e76\u9075\u5faa <../lib/README>\u4e2d\u63cf\u8ff0\u7684\u683c\u5f0f\uff09\u3002 \u63d0\u4ea4\u8005\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a Signed-off-by \u884c \uff0c\u4f7f\u7528\u4ed6\u4eec\u7684\u771f\u5b9e\u5168\u540d\u3002\u5b83\u8868\u660e\u63d0\u4ea4\u8005\u540c\u610f \u5f00\u53d1\u8005\u6e90\u5934\u8bc1\u4e66 \u3002 \u63d0\u4ea4\u7684\u6587\u4ef6\u662f\u5426\u9075\u5faa Klipper \u6587\u4ef6\u4e2d\u89c4\u5b9a\u7684\u51c6\u5219\uff1f\u7279\u522b\u662f\uff0c\u4ee3\u7801\u5e94\u9075\u5faa \u4e2d\u7684\u51c6\u5219\uff0c\u914d\u7f6e\u6587\u4ef6\u5e94\u9075\u5faa \u4e2d\u7684\u51c6\u5219\u3002 Klipper \u6587\u6863\u662f\u5426\u5df2\u66f4\u65b0\u4ee5\u53cd\u6620\u65b0\u7684\u66f4\u6539\uff1f\u81f3\u5c11\uff0c\u53c2\u8003\u6587\u4ef6\u5fc5\u987b\u968f\u7740\u4ee3\u7801\u7684\u76f8\u5e94\u53d8\u5316\u800c\u66f4\u65b0\uff1a \u6240\u6709\u547d\u4ee4\u548c\u547d\u4ee4\u53c2\u6570\u5fc5\u987b\u5728 \u4e2d\u88ab\u63cf\u8ff0\u3002 \u6240\u6709\u9762\u5411\u7528\u6237\u7684\u6a21\u5757\u53ca\u5176\u914d\u7f6e\u53c2\u6570\u5fc5\u987b\u5728 \u4e2d\u8bb0\u5f55\u3002 \u6240\u6709\u8f93\u51fa\u7684 \"\u72b6\u6001\u53d8\u91cf \"\u5fc5\u987b\u5728 \u4e2d\u8fdb\u884c\u63cf\u8ff0\u3002 \u6240\u6709\u65b0\u7684 \"webhooks \"\u53ca\u5176\u53c2\u6570\u5fc5\u987b\u5728 \u4e2d\u63cf\u8ff0\u3002 \u4efb\u4f55\u5bf9\u547d\u4ee4\u6216\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u5bfc\u81f4\u65e0\u6cd5\u5411\u540e\u517c\u5bb9\u7684\u6539\u53d8\uff0c\u90fd\u5fc5\u987b\u5728 \u4e2d\u8fdb\u884c\u8bf4\u660e\u3002 \u65b0\u7684\u6587\u4ef6\u5e94\u8be5\u88ab\u6dfb\u52a0\u5230 \u4e2d\uff0c\u5e76\u88ab\u6dfb\u52a0\u5230\u7f51\u7ad9\u7d22\u5f15 docs/_klipper3d/mkdocs.yml \u3002 \u63d0\u4ea4\u7684\u5185\u5bb9\u662f\u5426\u5b8c\u6574\uff0c\u6bcf\u6b21\u63d0\u4ea4\u53ea\u6d89\u53ca\u4e00\u4e2a\u4e3b\u9898\uff0c\u5e76\u4e14\u662f\u72ec\u7acb\u7684\uff1f\u63d0\u4ea4\u4fe1\u606f\u5e94\u9075\u5faa \u9996\u9009\u683c\u5f0f \u3002 \u63d0\u4ea4\u7684\u5185\u5bb9\u4e0d\u80fd\u6709\u5408\u5e76\u51b2\u7a81\u3002\u5bf9 Klipper \u4e3b\u5206\u652f\u7684\u65b0\u6dfb\u52a0\u603b\u662f\u901a\u8fc7 \"rebase \"\u6216 \"squash and rebase \"\u5b8c\u6210\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u63d0\u4ea4\u8005\u6ca1\u6709\u5fc5\u8981\u5728\u6bcf\u6b21\u66f4\u65b0Klipper\u4e3b\u5e93\u7684\u65f6\u5019\u91cd\u65b0\u5408\u5e76\u4ed6\u4eec\u7684\u63d0\u4ea4\u3002\u7136\u800c\uff0c\u5982\u679c\u6709\u5408\u5e76\u51b2\u7a81\uff0c\u5efa\u8bae\u63d0\u4ea4\u8005\u4f7f\u7528 git rebase \u6765\u89e3\u51b3\u51b2\u7a81\u3002 \u6bcf\u4e00\u6b21\u63d0\u4ea4\u90fd\u5e94\u8be5\u89e3\u51b3\u4e00\u4e2a\u9ad8\u5c42\u7684\u53d8\u5316\u3002\u5927\u7684\u6539\u52a8\u5e94\u8be5\u88ab\u5206\u89e3\u6210\u591a\u4e2a\u72ec\u7acb\u7684\u63d0\u4ea4\u3002\u6bcf\u4e2a\u63d0\u4ea4\u90fd\u5e94\u8be5 \"\u81ea\u6210\u4e00\u4f53\"\uff0c\u8fd9\u6837\u624d\u80fd\u8ba9 git bisect \u548c git revert \u7b49\u5de5\u5177\u53ef\u9760\u5730\u5de5\u4f5c\u3002 \u7a7a\u683c\u7684\u4fee\u6539\u4e0d\u5e94\u8be5\u4e0e\u529f\u80fd\u4fee\u6539\u6df7\u5728\u4e00\u8d77\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u65e0\u610f\u4e49\u7684\u7a7a\u683c\u4fee\u6539\u662f\u4e0d\u88ab\u63a5\u53d7\u7684\uff0c\u9664\u975e\u662f\u6765\u81ea\u88ab\u4fee\u6539\u4ee3\u7801\u7684\u65e2\u5b9a \"\u6240\u6709\u8005\"\u3002 Klipper does not implement a strict \"coding style guide\", but modifications to existing code should follow the high-level code flow, code indentation style, and format of that existing code. Submissions of new modules and systems have more flexibility in coding style, but it is preferable for that new code to follow an internally consistent style and to generally follow industry wide coding norms. It is not a goal of a review to discuss \"better implementations\". However, if a reviewer struggles to understand the implementation of a submission, then they may ask for changes to make the implementation more transparent. In particular, if reviewers can not convince themselves that a submission is free of defects then changes may be necessary. As part of a review, a reviewer may create an alternate Pull Request for a topic. This may be done to avoid excessive \"back and forth\" on minor procedural items and thus streamline the submission process. It may also be done because the discussion inspires a reviewer to build an alternative implementation. Both situations are a normal result of a review and should not be considered criticism of the original submission.","title":"\u5ba1\u6838\u4e2d\u7684\u9884\u671f\u5185\u5bb9"},{"location":"CONTRIBUTING.html#helping-with-reviews","text":"We appreciate help with reviews! It is not necessary to be a listed reviewer to perform a review. Submitters of GitHub Pull Requests are also encouraged to review their own submissions. To help with a review, follow the steps outlined in what to expect in a review to verify the submission. After completing the review, add a comment to the GitHub Pull Request with your findings. If the submission passes the review then please state that explicitly in the comment - for example something like \"I reviewed this change according to the steps in the CONTRIBUTING document and everything looks good to me\". If unable to complete some steps in the review then please explicitly state which steps were reviewed and which steps were not reviewed - for example something like \"I didn't check the code for defects, but I reviewed everything else in the CONTRIBUTING document and it looks good\". We also appreciate testing of submissions. If the code was tested then please add a comment to the GitHub Pull Request with the results of your test - success or failure. Please explicitly state that the code was tested and the results - for example something like \"I tested this code on my Acme900Z printer with a vase print and the results were good\".","title":"Helping with reviews"},{"location":"CONTRIBUTING.html#reviewers","text":"The Klipper \"reviewers\" are: Name GitHub Id Areas of interest Dmitry Butyugin @dmbutyugin Input shaping, resonance testing, kinematics Eric Callahan @Arksine Bed leveling, MCU flashing Kevin O'Connor @KevinOConnor Core motion system, Micro-controller code Paul McGowan @mental405 Configuration files, documentation Please do not \"ping\" any of the reviewers and please do not direct submissions at them. All of the reviewers monitor the forums and PRs, and will take on reviews when they have time to. The Klipper \"maintainers\" are: Name GitHub name Kevin O'Connor @KevinOConnor","title":"Reviewers"},{"location":"CONTRIBUTING.html#format-of-commit-messages","text":"Each commit should have a commit message formatted similar to the following: \u6a21\u5757\u540d: \u5927\u5199\u3001\u7b80\u77ed\u7684\u6458\u8981\uff0850\u4e2a\u5b57\u7b26\u6216\u66f4\u5c11\uff09 \u5728\u5fc5\u8981\u60c5\u51b5\u4e0b\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u89e3\u91ca\u6027\u6587\u672c\u3002 \u5206\u5272\u884c\u4e3a \u6bcf\u884c75\u5b57\u7b26\u5de6\u53f3\u3002 \u5728\u67d0\u4e9b\u60c5\u666f\u4e0b\uff0c\u7b2c\u4e00\u884c\u88ab\u89c6\u4e3a \u7535\u5b50\u90ae\u4ef6\u7684\u4e3b\u9898\uff0c\u5176\u4f59\u7684\u90e8\u5206\u4f5c\u4e3a\u4e3b\u4f53\u3002 \u5728\u6458\u8981\u4e0e \u4e3b\u4f53\u4e4b\u95f4\u7684\u5206\u9694\u7528\u7a7a\u884c\u81f3\u5173\u91cd\u8981\uff08\u9664\u975e\u60a8\u5b8c\u5168\u5ffd\u7565\u4e86 \u4e3b\u4f53\uff09\uff0c\u4e00\u4e9b\u5de5\u5177\u4f8b\u5982\u53d8\u57fa(rebase)\u53ef\u80fd\u4f1a\u5728\u65e0\u7a7a\u884c\u65f6 \u6df7\u6dc6\u3002 \u53ef\u4ee5\u5728\u7a7a\u767d\u884c\u4e4b\u540e\u5199\u66f4\u591a\u6bb5\u843d\u3002 Signed-off-by: \u59d3\u540d< myemail@example.org > In the above example, module should be the name of a file or directory in the repository (without a file extension). For example, clocksync: Fix typo in pause() call at connect time . The purpose of specifying a module name in the commit message is to help provide context for the commit comments. \u5728\u6bcf\u4e2a\u63d0\u4ea4\u4e0a\u5fc5\u987b\u6709\u4e00\u4e2a \"Signed-off-by \"\u884c--\u5b83\u8bc1\u660e\u4f60\u540c\u610f \u5f00\u53d1\u8005\u8d77\u6e90\u8bc1\u4e66 \u3002\u5b83\u5fc5\u987b\u5305\u542b\u4f60\u7684\u771f\u5b9e\u59d3\u540d\uff08\u5bf9\u4e0d\u8d77\uff0c\u6ca1\u6709\u5047\u540d\u6216\u533f\u540d\u7684\u8d21\u732e\uff09\u548c\u4e00\u4e2a\u53ef\u7528\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u3002","title":"Format of commit messages"},{"location":"CONTRIBUTING.html#klipper_1","text":"Klipper-translations Project is a project dedicated to translating Klipper to different languages. Weblate hosts all the Gettext strings for translating and reviewing. Locales can be displayed on klipper3d.org once they satisfy the following requirements: 75% \u603b\u8986\u76d6\u7387 All titles (H1) are translated klipper-translations \u4e2d\u63d0\u4f9b\u4e00\u4e2a\u66f4\u65b0\u5bfc\u822a\u5c42\u6b21\u7684 PR\u3002 \u4e3a\u4e86\u51cf\u5c11\u7ffb\u8bd1\u7279\u5b9a\u9886\u57df\u672f\u8bed\u7684\u7591\u60d1\uff0c\u5e76\u8ba9\u66f4\u591a\u4eba\u4e86\u89e3\u6b63\u5728\u8fdb\u884c\u7684\u7ffb\u8bd1\uff0c\u4f60\u53ef\u4ee5\u63d0\u4ea4\u4e00\u4e2a\u4fee\u6539 Klipper-translations \u9879\u76ee readme.md \u6587\u4ef6\u7684PR\u3002\u4e00\u65e6\u7ffb\u8bd1\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5bf9 Klipper \u9879\u76ee\u8fdb\u884c\u76f8\u5e94\u7684\u4fee\u6539\u3002 \u5982\u679c\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u4e8e Klipper \u4ee3\u7801\u5e93\u4e2d\u7684\u7ffb\u8bd1\u4e0d\u518d\u7b26\u5408\u4e0a\u8ff0\u7684\u68c0\u67e5\u6e05\u5355\uff0c\u90a3\u4e48\u5728\u4e00\u4e2a\u6708\u6ca1\u6709\u66f4\u65b0\u540e\uff0c\u5b83\u5c06\u88ab\u6807\u8bb0\u4e3a\u8fc7\u671f\u3002 Once the requirements are met, you need to: update klipper-tranlations repository active_translations Optional: add a manual-index.md file in klipper-translations repository's docs\\locals\\<lang> folder to replace the language specific index.md (generated index.md does not render correctly). Known Issues: Currently, there isn't a method for correctly translating pictures in the documentation It is impossible to translate titles in mkdocs.yml.","title":"\u4e3a Klipper \u7ffb\u8bd1\u505a\u51fa\u8d21\u732e"},{"location":"Code_Overview.html","text":"\u4ee3\u7801\u603b\u89c8 \u00b6 \u672c\u6587\u6863\u5c06\u63cf\u8ff0Klipper\u7684\u4ee3\u7801\u603b\u4f53\u7ed3\u6784\u548c\u4ee3\u7801\u6d41\u3002 \u6587\u4ef6\u5939\u7ed3\u6784 \u00b6 src/ \u5305\u542b\u5fae\u63a7\u5236\u5668\u7684C\u6e90\u7801\u3002\u5176\u4e2d src/atsam/ , src/atsamd/ , src/avr/ , src/linux/ , src/lpc176x/ , src/pru/ , and src/stm32/ \u4e3a\u5bf9\u5e94\u5fae\u5904\u7406\u5668\u67b6\u6784\u7684\u6e90\u7801\u3002 src/simulator/ \u5305\u542b\u6709\u7528\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u3001\u6d4b\u8bd5\u76ee\u6807\u5fae\u5904\u7406\u5668\u7684\u4ee3\u7801\u3002 src/generic/ \u4e3a\u5bf9\u4e0d\u540c\u67b6\u6784\u5747\u6709\u7528\u7684\u4ee3\u7801\u3002\u7f16\u8bd1\"board/somefile.h\"\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u4f18\u5148\u4f7f\u7528 \u67b6\u6784\u7279\u5b9a\u7684\u76ee\u5f55 (\u5373src/avr/somefile.h)\u968f\u540e\u627e\u5bfb\u901a\u7528\u76ee\u5f55(\u5373 src/generic/somefile.h)\u3002 klippy/ \u76ee\u5f55\u5305\u542b\u4e86\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u3002\u8f6f\u4ef6\u5927\u90e8\u5206\u7531Python\u5b9e\u73b0\uff0c\u540c\u65f6 klippy/chelper/ \u76ee\u5f55\u5305\u542b\u4e86\u7531C\u5b9e\u73b0\u7684\u6709\u7528\u4ee3\u7801\u3002 klippy/kinematics/ \u76ee\u5f55\u5305\u542b\u673a\u68b0\u8fd0\u52a8\u5b66\u7684\u5b9e\u73b0\u4ee3\u7801\u3002 klippy/extras/ \u76ee\u5f55\u5305\u542b\u4e86\u4e0a\u4f4d\u673a\u7684\u6269\u5efa\u6a21\u5757(\"modules\")\u3002 lib/ \u5305\u542b\u4e86\u6784\u5efa\u5fc5\u987b\u7684\u7b2c\u4e09\u65b9\u5e93\u4ee3\u7801\u3002 config/ \u5305\u542b\u4e86\u6253\u5370\u673a\u914d\u7f6e\u7684\u5b9e\u4f8b\u6587\u4ef6\u3002 scripts/ \u76ee\u5f55\u5305\u542b\u4e86\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u65f6\u6709\u7528\u7684\u811a\u672c\u3002 test/ \u76ee\u5f55\u5305\u542b\u4e86\u81ea\u52a8\u6d4b\u8bd5\u793a\u4f8b\u3002 \u5728\u7f16\u8bd1\u8fc7\u7a0b\u91cd\uff0c\u7f16\u8bd1\u5668\u4f1a\u6784\u5efa out/ \u76ee\u5f55\u3002\u8be5\u76ee\u5f55\u5305\u542b\u6784\u5efa\u65f6\u7684\u4e34\u65f6\u6587\u4ef6\u3002\u5bf9\u4e8eAVR\u67b6\u6784\uff0c\u7f16\u8bd1\u5668\u8f93\u51fa\u7684\u4e3a out/klipper.elf.hex \uff0c\u800c\u5bf9ARM\u67b6\u6784\u5219\u4e3a out/klipper.bin \u3002 \u5fae\u5904\u7406\u5668\u7684\u4ee3\u7801\u6d41 \u00b6 \u5fae\u63a7\u5236\u5668\u7684\u4ee3\u7801\u4ece\u5bf9\u5e94\u67b6\u6784\u7684\u4ee3\u7801(\u5373 src/avr/main.c )\u5f00\u59cb\u6267\u884c\uff0c\u524d\u8ff0\u4ee3\u7801\u4f1a\u6301\u7eed\u8c03\u7528 src/sched.c \u4e2d\u7684 sched_main() \u51fd\u6570\u3002sched_main() \u4ee3\u7801\u4f1a\u5148\u8fd0\u884c\u7ecf DECL_INIT() \u5b8f\u6807\u6ce8\u7684\u6240\u6709\u51fd\u6570\u3002\u4e4b\u540e\u5b83\u5c06\u4e0d\u65ad\u91cd\u590d\u8fd0\u884c\u7531 DECL_TASK() \u5b8f\u6240\u6807\u6ce8\u7684\u51fd\u6570\u3002 \u5176\u4e2d\u4e00\u4e2a\u4e3b\u8981\u7684\u4efb\u52a1\u51fd\u6570\u4e3a src/command.c \u4e2d\u7684command_dispatch()\u3002\u4e0a\u8ff0\u51fd\u6570\u7ecf\u7531\u5fae\u5904\u7406\u5668\u7279\u5b9a\u7684 \u8f93\u5165/\u8f93\u51fa \u4ee3\u7801\u8c03\u7528(\u5373 src/avr/serial.c , src/generic/serial_irq.c )\uff0c\u5e76\u6267\u884c\u8f93\u5165\u6d41\u4e2d\u7684\u547d\u4ee4\u6240\u5bf9\u5e94\u7684\u547d\u4ee4\u51fd\u6570\u3002\u547d\u4ee4\u51fd\u6570\u901a\u8fc7 DECL_COMMAND() \u5b8f\u8fdb\u884c\u5b9a\u4e49 (\u8be6\u60c5\u53c2\u7167 \u534f\u8bae \u6587\u6863)\u3002 \u4efb\u52a1\u3001\u521d\u59cb\u5316\u548c\u547d\u4ee4\u51fd\u6570\u59cb\u7ec8\u5728\u542f\u7528\u4e2d\u65ad\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\uff08\u4f46\u662f\uff0c\u5982\u679c\u9700\u8981\uff0c\u5b83\u4eec\u53ef\u4ee5\u6682\u65f6\u7981\u7528\u4e2d\u65ad\uff09\u3002\u8fd9\u4e9b\u51fd\u6570\u5e94\u907f\u514d\u957f\u65f6\u95f4\u7684\u6682\u505c\u3001\u5ef6\u8fdf\u6216\u6267\u884c\u6301\u7eed\u5f88\u957f\u65f6\u95f4\u7684\u5de5\u4f5c\u3002\uff08\u8fd9\u4e9b\u201c\u4efb\u52a1\u201d\u529f\u80fd\u4e2d\u7684\u957f\u65f6\u95f4\u5ef6\u8fdf\u4f1a\u5bfc\u81f4\u5176\u4ed6\u201c\u4efb\u52a1\u201d\u7684\u8c03\u5ea6\u6296\u52a8 - \u8d85\u8fc7100us\u7684\u5ef6\u8fdf\u53ef\u80fd\u4f1a\u53d8\u5f97\u660e\u663e\uff0c\u8d85\u8fc7500us\u7684\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u547d\u4ee4\u91cd\u4f20\uff0c\u8d85\u8fc7100ms\u7684\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u770b\u95e8\u72d7\u89e6\u53d1\u91cd\u542f\u3002\u8fd9\u4e9b\u51fd\u6570\u901a\u8fc7\u8c03\u5ea6\u8ba1\u65f6\u5668\u5728\u7279\u5b9a\u65f6\u95f4\u5b89\u6392\u5de5\u4f5c\u3002 \u5b9a\u65f6\u51fd\u6570\u901a\u8fc7\u8c03\u7528sched_add_timer() (\u5373 src/sched.c )\u65b9\u6cd5\u8fdb\u884c\u6ce8\u518c\u3002\u8c03\u5ea6\u5668\u4f1a\u5728\u8bbe\u5b9a\u7684\u65f6\u95f4\u70b9\u5bf9\u6ce8\u518c\u7684\u51fd\u6570\u8fdb\u884c\u8c03\u7528\u3002\u5b9a\u65f6\u5668\u4e2d\u65ad\u4f1a\u5728\u5fae\u5904\u7406\u5668\u67b6\u6784\u7279\u5b9a\u7684\u521d\u59cb\u5316\u5904\u7406\u5668\u4e2d\u5904\u7406(\u4f8b\u5982 src/avr/timer.c )\uff0c\u8be5\u4ee3\u7801\u4f1a\u8c03\u7528 src/sched.c \u4e2d\u7684sched_timer_dispatch()\u3002\u901a\u8fc7\u5b9a\u65f6\u5668\u4e2d\u65ad\u6267\u884c\u6ce8\u518c\u7684\u5b9a\u65f6\u51fd\u6570\u3002\u5b9a\u65f6\u51fd\u6570\u603b\u5728\u4e2d\u65ad\u7981\u7528\u4e0b\u8fd0\u884c\u3002\u5b9a\u65f6\u51fd\u6570\u5e94\u603b\u80fd\u5728\u6570\u5fae\u79d2\u5185\u5b8c\u6210\u3002\u5728\u5b9a\u65f6\u51fd\u6570\u7ed3\u675f\u65f6\uff0c\u8be5\u51fd\u6570\u53ef\u5bf9\u81ea\u8eab\u8fdb\u884c\u91cd\u65b0\u5b9a\u65f6\u3002 \u5982\u679c\u4e8b\u4ef6\u4e2d\u629b\u51fa\u9519\u8bef\uff0c \u4ee3\u7801\u53ef\u8c03\u7528shutdown()\uff08 src/sched.c \u4e2d\u7684sched_shutdown()\uff09\u3002\u8c03\u7528shutdown()\u4f1a\u5bfc\u81f4\u6240\u6709\u6807\u8bb0\u4e3aDECL_SHUTDOWN()\u5b8f\u7684\u51fd\u6570\u88ab\u8fd0\u884c\u3002shutdown()\u603b\u662f\u5728\u7981\u7528\u4e2d\u65ad\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u3002 \u5fae\u63a7\u5236\u5668\u7684\u5927\u90e8\u5206\u529f\u80fd\u6d89\u53ca\u5230\u901a\u7528\u8f93\u5165\u8f93\u51fa\u5f15\u811a\uff08GPIO\uff09\u7684\u64cd\u4f5c\u3002\u4e3a\u4e86\u4ece\u9ad8\u7ea7\u4efb\u52a1\u4ee3\u7801\u4e2d\u62bd\u8c61\u51fa\u7279\u5b9a\u67b6\u6784\u5e95\u5c42\u4ee3\u7801\uff0c\u6240\u6709\u7684GPIO\u4e8b\u4ef6\u90fd\u5728\u7279\u5b9a\u67b6\u6784\u7684\u5305\u88c5\u5668\u4e2d\u5b9e\u73b0\uff08\u5982\uff0c src/avr/gpio.c \uff09\u3002\u4ee3\u7801\u4f7f\u7528gcc\u7684\"-flto -fwhole-program \"\u6765\u4f18\u5316\u7f16\u8bd1\uff0c\u4ee5\u5b9e\u73b0\u5185\u8054\u51fd\u6570\u7684\u9ad8\u6027\u80fd\u4ea4\u53c9\u7f16\u8bd1\uff0c\u5927\u591a\u6570\u5fae\u5c0f\u7684GPIO\u64cd\u4f5c\u51fd\u6570\u5185\u8054\u5230\u5b83\u4eec\u7684\u8c03\u7528\u5668\u4e2d\uff0c\u4f7f\u7528\u8fd9\u4e9bGPIO\u5c06\u6ca1\u6709\u4efb\u4f55\u8fd0\u884c\u65f6\u6210\u672c\u3002 \u4ee3\u7801\u603b\u89c8 \u00b6 \u4e0a\u4f4d\u673a\u7a0b\u5e8f\uff08klippy\uff09\u8fd0\u884c\u5728\u5ec9\u4ef7\u8ba1\u7b97\u673a\uff08\u5982 \u6811\u8393\u6d3e\uff09\u4e0a\uff0c\u914d\u642dmcu\u4f7f\u7528\u3002\u8be5\u7a0b\u5e8f\u7684\u4e3b\u8981\u7f16\u7a0b\u8bed\u8a00\u4e3aPython\uff0c\u540c\u65f6\u90e8\u5206\u529f\u80fd\u901a\u8fc7CFFI\u5728C\u8bed\u8a00\u4e0a\u5b9e\u73b0\u3002 \u4e0a\u4f4d\u673a\u7a0b\u5e8f\u901a\u8fc7 klippy/klippy.py \u521d\u59cb\u5316\u3002\u8be5\u6587\u4ef6\u4f1a\u8bfb\u53d6\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u6253\u5f00\u6253\u5370\u673a\u7684\u8bbe\u7f6e\u6587\u4ef6\uff0c\u5b9e\u4f8b\u5316\u6253\u5370\u673a\u7684\u4e3b\u8981\u6a21\u5757\uff0c\u5e76\u542f\u7528\u4e32\u53e3\u901a\u8baf\u3002G\u4ee3\u7801\u547d\u4ee4\u7684\u6267\u884c\u5219\u901a\u8fc7 klippy/gcode.py \u4e2d\u7684 process_commands() \u65b9\u6cd5\u5b9e\u73b0\u3002\u6b64\u4ee3\u7801\u5c06G\u4ee3\u7801\u8f6c\u5316\u4e3a\u6253\u5370\u673a\u7684\u5bf9\u8c61\u8c03\u7528\uff0c\u5b83\u5c06\u9891\u7e41\u5730\u5c06G\u4ee3\u7801\u547d\u4ee4\u8f6c\u5316\u4e3a\u5fae\u63a7\u5236\u5668\u7684\u884c\u52a8\u6307\u4ee4\uff08\u901a\u8fc7\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e2d\u7684 DECL_COMMAND \u8fdb\u884c\u58f0\u660e\uff09\u3002 Klippy\u4e0a\u4f4d\u673a\u7a0b\u5e8f\u5305\u542b\u56db\u4e2a\u8fdb\u7a0b\u3002\u4e3b\u7ebf\u7a0b\u7528\u4e8e\u5904\u7406\u8f93\u5165\u7684G\u4ee3\u7801\u547d\u4ee4\u3002\u7b2c\u4e8c\u7ebf\u7a0b\u901a\u8fc7\u4e32\u53e3\u5b9e\u73b0\u5e95\u5c42IO\u7684\u5904\u7406\uff08\u4ee3\u7801\u4f4d\u4e8e klippy/chelper/serialqueue.c \u4ee5C\u8bed\u8a00\u5b9e\u73b0\uff09\u3002\u7b2c\u4e09\u7ebf\u7a0b\u5219\u901a\u8fc7Python\u4ee3\u7801\u5904\u7406\u5fae\u63a7\u5236\u5668\u8fd4\u56de\u7684\u4fe1\u606f\uff08\u53c2\u7167 klippy/serialhdl.py\uff09\u3002\u7b2c\u56db\u7ebf\u7a0b\u5219\u8d1f\u8d23\u5c06Debug\u4fe1\u606f\u5199\u5165\u5230\u65e5\u5fd7\u6587\u4ef6(\u89c1 klippy/queuelogger.py )\uff0c\u7531\u6b64\uff0c\u5176\u4ed6\u7ebf\u7a0b\u7684\u6267\u884c\u5c06\u4e0d\u4f1a\u963b\u585e\u65e5\u5fd7\u7684\u5199\u5165\u3002 \u5178\u578b\u8fd0\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u6d41 \u00b6 \u5178\u578b\u7684\u6253\u5370\u673a\u8fd0\u52a8\u59cb\u4e8eklipper\u4e0a\u4f4d\u673a\u63a5\u6536\u5230\"G1\"\u547d\u4ee4\uff0c\u5e76\u5728\u5fae\u63a7\u5236\u5668\u53d1\u51fa\u5bf9\u5e94\u7684\u6b65\u8fdb\u8109\u51b2\u7ed3\u675f\u3002\u672c\u8282\u5c06\u7b80\u8ff0\u5178\u578b\u8fd0\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u6d41\u3002 \u8fd0\u52a8\u5b66 \u6587\u6863\u5c06\u66f4\u4e3a\u7ec6\u81f4\u7684\u63cf\u8ff0\u8fd0\u52a8\u7684\u673a\u68b0\u539f\u7406\u3002 \u79fb\u52a8\u547d\u4ee4\u7684\u5904\u7406\u59cb\u4e8egcode.py\uff0c\u8be5\u4ee3\u7801\u5c06G\u4ee3\u7801\u8f6c\u5316\u4e3a\u5185\u90e8\u8c03\u7528\u3002G1\u547d\u4ee4\u5c06\u8c03\u7528klippy/extras/gcode_move.py\u4e2d\u7684cmd_G1()\u51fd\u6570\u3002gcode_move.py\u4e2d\u7684\u4ee3\u7801\u5c06\u5904\u7406 \u539f\u70b9\u53d8\u6362\uff08G92\uff09\uff0c\u7edd\u5bf9\u5750\u6807\u6a21\u5f0f\uff08G90\uff09\u548c\u5355\u4f4d\u53d8\u6362\uff08\u5982F6000=100mm/s\uff09\u3002\u4e00\u4e2a\u79fb\u52a8\u547d\u4ee4\u7684\u5904\u7406\u8def\u5f84\u4e3a\uff1a _process_data() -> _process_commands() -> cmd_G1() \u3002\u6700\u7ec8\u5c06\u8c03\u7528ToolHead\u7c7b\u7684\u65b9\u6cd5\u5b9e\u73b0\u79fb\u52a8 cmd_G1() -> ToolHead.move() \u3002 ToolHead\u7c7b\uff08\u4f4d\u4e8etoolhead.py\uff09\u5904\u7406\u201c\u524d\u77bb\u201d\u884c\u4e3a\u548c\u8bb0\u5f55\u6253\u5370\u7684\u65f6\u95f4\u70b9\u3002\u79fb\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u8def\u5f84\u4e3a ToolHead.move() -> MoveQueue.add_move() -> MoveQueue.flush() -> Move.set_junction() -> ToolHead._process_moves() \u3002 ToolHead.move()\u5c06\u521b\u5efa\u4e00\u4e2aMove()\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5176\u4e2d\u5c06\u5305\u542b\u79fb\u52a8\u7684\u53c2\u6570\uff08\u5728\u7b1b\u5361\u5c14\u7a7a\u95f4\u4e2d\uff0c\u5e76\u8fd9\u4e9b\u53c2\u6570\u4ee5mm\u548cs\u4e3a\u5355\u4f4d\uff09\u3002 kinematics\u7c7b\u5c06\u68c0\u67e5\u6bcf\u4e2a\u8fd0\u52a8\u547d\u4ee4\uff08 ToolHead.move() -> kin.check_move() \uff09\u3002\u5404\u79cdkinematics\u7c7b\u5b58\u653e\u4e8e klippy/kinematics/ \u76ee\u5f55\u3002check_move()\u80fd\u5728\u8fd0\u52a8\u547d\u4ee4\u4e0d\u5408\u7406\u65f6\u629b\u51fa\u9519\u8bef\u3002\u5982\u679c check_move()\u6210\u529f\uff0c\u8fd9\u610f\u5473\u7740\u6253\u5370\u673a\u5fc5\u5b9a\u80fd\u5b8c\u6210\u8fd0\u52a8\u547d\u4ee4\u3002 MoveQueue.add_move()\u5c06\u4e00\u4e2amove\u5b9e\u4f8b\u6dfb\u52a0\u5230\u201c\u524d\u77bb\u201d\u961f\u5217\u3002 MoveQueue.flush()\u5c06\u8fdb\u884c\u6bcf\u6b21\u8fd0\u52a8 \u8d77\u59cb\u548c\u7ed3\u675f \u901f\u5ea6\u3002 Move.set_junction()\u5b9e\u73b0\u79fb\u52a8\u7684\u201c\u68af\u5f62\u52a0\u51cf\u901f\uff08trapezoid generator\uff09\u201d\u3002\u201c\u68af\u5f62\u52a0\u51cf\u901f\u201d\u5c06\u6bcf\u6b21\u79fb\u52a8\u62c6\u5206\u4e3a\u4e09\u90e8\u5206\uff1a\u6052\u52a0\u901f\u5ea6\u52a0\u901f\u9636\u6bb5\u3001\u6052\u901f\u5ea6\u9636\u6bb5\u3001\u6052\u52a0\u901f\u5ea6\u51cf\u901f\u9636\u6bb5\u3002\u6240\u6709\u79fb\u52a8\u5747\u542b\u6709\u4e0a\u8ff0\u4e09\u4e2a\u9636\u6bb5\uff0c\u4f46\u5355\u4e2a\u9636\u6bb5\u7684\u6301\u7eed\u65f6\u95f4\u53ef\u80fd\u4e3a0\u3002 \u5f53ToolHead._process_moves()\u88ab\u8c03\u7528\u65f6\uff0c\u4e00\u6b21\u79fb\u52a8\u7684\u6240\u6709\u8981\u7d20\u5747\u5df2\u5c31\u7eea\u2014\u2014\u79fb\u52a8\u7684\u8d77\u59cb\u4f4d\u7f6e\u3001\u7ed3\u675f\u4f4d\u7f6e\u3001\u52a0\u901f\u5ea6\u3001\u8d77\u59cb/\u5de1\u822a/\u7ed3\u675f\u901f\u5ea6\u3001\u4ee5\u53ca\u8d77\u59cb/\u5de1\u822a/\u7ed3\u675f\u7684\u8ddd\u79bb\u3002\u6240\u6709\u4fe1\u606f\u4ee5\u7b1b\u5361\u5c14\u5750\u6807\u7684\u5f62\u5f0f\u5b58\u50a8\u5728Move()\u5b9e\u4f8b\u4e2d\uff0c\u5355\u4f4d\u4e3amm\u548cs\u3002 Klipper\u4f7f\u7528 \u8fed\u4ee3\u6c42\u89e3 \u7684\u65b9\u5f0f\u751f\u6210\u6b65\u8fdb\u7535\u673a\u7684\u6bcf\u6b65\u7684\u65f6\u957f\u3002\u4e3a\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u6b65\u8fdb\u8109\u51b2\u65f6\u95f4\u662f\u4ee5C\u8bed\u8a00\u4ee3\u7801\u751f\u6210\u3002\u4e00\u4e2a\u8fd0\u52a8\u5148\u7ecf\u8fc7\u201c\u68af\u5f62\u8fd0\u52a8\u961f\u5217\u5316\u201d \uff1a ToolHead._process_moves() -> trapq_append() (\u4f4d\u4e8e klippy/chelper/trapq.c)\uff0c\u7136\u540e\u751f\u6210\u6b65\u8fdb\u65f6\u95f4 ToolHead._process_moves() -> ToolHead._update_move_time() -> MCU_Stepper.generate_steps() -> itersolve_generate_steps() -> itersolve_gen_steps_range() (\u4f4d\u4e8e klippy/chelper/itersolve.c)\u3002\u8fed\u4ee3\u6c42\u89e3\u5668\u901a\u8fc7\u4e00\u4e2a\u65f6\u95f4-\u4f4d\u7f6e\u65b9\u7a0b\u8ba1\u7b97\u51fa\u6b65\u8fdb\u65f6\u95f4\u3002\u6c42\u89e3\u65f6\u901a\u8fc7\u201c\u5047\u5b9a\u201d\u65f6\u95f4\u70b9\uff0c\u4ee5\u65f6\u95f4-\u4f4d\u7f6e\u65b9\u7a0b\u8ba1\u7b97\u51fa\u4e0b\u4e00\u6b65\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8ba1\u7b97\u7ed3\u679c\u4e0e\u5b9e\u9645\u9700\u6c42\u7684\u4e0b\u4e00\u6b65\u4f4d\u7f6e\u4e00\u81f4\uff0c\u5047\u5b9a\u503c\u5c06\u7528\u4e8e\u5b9e\u9645\u8fd0\u52a8\uff1b\u5426\u5219\uff0c\u901a\u8fc7\u8ba1\u7b97\u7ed3\u679c\u5bf9\u201c\u5047\u5b9a\u65f6\u95f4\u201d\u8fdb\u884c\u4fee\u6b63\uff0c\u5e76\u8fdb\u884c\u4e0b\u4e00\u6b21\u8bd5\u7b97\u3002\u8fd9\u79cd\u53cd\u9988\u65b9\u5f0f\u4f1a\u4f7f\u8fed\u4ee3\u5feb\u901f\u6536\u655b\u3002\u8fd0\u52a8\u5b66\u6240\u4f7f\u7528\u7684\u65f6\u95f4-\u4f4d\u7f6e\u51fd\u6570\u4f4d\u4e8e klippy/chelper/ \u76ee\u5f55 (\u4f8b\u5982, kin_cart.c, kin_corexy.c, kin_delta.c, kin_extruder.c)\u3002 \u9700\u8981\u6ce8\u610f\uff0c\u6324\u51fa\u673a\u6709\u72ec\u7279\u7684\u8fd0\u52a8\u5b66\u6a21\u578b\uff0c\u4f7f\u7528 ToolHead._process_moves() -> PrinterExtruder.move() \u7c7b\u7ee7\u7eed\u5b81\u5904\u7406\u3002\u5c3d\u7ba1\u6324\u51fa\u673a\u4f7f\u7528\u4e86\u72ec\u7acb\u7684Move()\u7c7b\uff0c\u7531\u4e8eMove() \u5b9e\u4f8b\u5305\u542b\u4e86\u5b9e\u9645\u8fd0\u52a8\u7684\u65f6\u95f4\uff0c\u5e76\u4e14\u8109\u51b2\u65f6\u95f4\u7684\u8bbe\u5907\u662f\u5b9a\u65f6\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u56e0\u6b64\u7531\u6324\u51fa\u673a\u7c7b\u4ea7\u751f\u7684\u6b65\u8fdb\u8fd0\u52a8\u5c06\u4e0e\u6253\u5370\u5934\u7684\u8fd0\u52a8\u540c\u6b65\u3002 \u5f53\u8fed\u4ee3\u8ba1\u7b97\u5668\u8ba1\u7b97\u51fa\u6b65\u8fdb\u65f6\u957f\u540e\uff0c\u8ba1\u7b97\u7ed3\u679c\u5c06\u88ab\u7f6e\u4e8e\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff1a itersolve_gen_steps_range() -> stepcompress_append() (\u4f4d\u4e8e klippy/chelper/stepcompress.c)\u3002\u6570\u7ec4(\u7ed3\u6784\u4f53 stepcompress.queue)\u5b58\u50a8\u6bcf\u4e00\u6b65\u5bf9\u5e94\u7684\u5fae\u5904\u7406\u5668\u65f6\u949f\u8ba1\u6570\u5668\u65f6\u95f4\u3002\u4e0a\u8ff0\u7684\u201c\u5fae\u5904\u7406\u5668\u8ba1\u6570\u5668\u201d\u7684\u503c\u6307\u7684\u662f\u5fae\u5904\u7406\u5668\u786c\u4ef6\u4e0a\u7684\u8ba1\u6570\u5668\u2014\u2014\u5176\u503c\u57fa\u4e8e\u5fae\u5904\u7406\u5668\u6700\u540e\u4e00\u6b21\u4e0a\u7535\u800c\u5b9a\u3002 \u63a5\u4e0b\u6765\u91cd\u8981\u7684\u662f\uff0c\u5bf9\u6b65\u8fdb\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff1a stepcompress_flush() -> compress_bisect_add() (\u4f4d\u4e8e klippy/chelper/stepcompress.c)\u3002\u4e0a\u8ff0\u4ee3\u7801\u5c06\u57fa\u4e8e\u524d\u8ff0\u7684 \u6b65\u8fdb\u65f6\u95f4\u5217\u8868 \u751f\u6210\u548c\u7f16\u7801\u4e00\u7cfb\u5217\u7684\u5fae\u63a7\u5236\u5668\"queue_step\"\uff08\u961f\u5217\u6b65\u8fdb\uff09\u547d\u4ee4\u3002\u8fd9\u4e9b\"queue_step\"\u547d\u4ee4\u5c06\u88ab\u961f\u5217\u5316\uff0c\u4f18\u5148\u5904\u7406\uff0c\u5e76\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e2d\uff08\u4e0a\u4f4d\u673a\u901a\u8fc7 stepcompress.c:steppersync\uff1b\u4e0b\u4f4d\u673a\u901a\u8fc7serialqueue.c:serialqueue)\uff09\u3002 \u5728\u5fae\u63a7\u5236\u5668\uff0cqueue_step\u547d\u4ee4\u5c06\u7ecf\u7531 src/command.c \u5904\u7406\u3002\u6539\u4ee3\u7801\u5c06\u5bf9\u547d\u4ee4\u8fdb\u884c\u89e3\u91ca\uff0c\u5e76\u8c03\u7528 command_queue_step() \u3002command_queue_step()\uff08\u4f4d\u4e8esrc/stepper.c\uff09\u5c06\u6bcf\u4e2aqueue_step\u547d\u4ee4\u7684\u53c2\u6570\u9644\u52a0\u5230\u5bf9\u5e94\u7684\u6b65\u8fdb\u961f\u5217\u4e2d\u3002\u6b63\u5e38\u8fd0\u884c\u4e0b\uff0c\u4e00\u201c\u6b65\u201d\u5c06\u5728\u5176\u6267\u884c\u524d100ms\u88ab\u89e3\u91ca\u5e76\u52a0\u5165\u961f\u5217\u3002\u6700\u540e\u901a\u8fc7 stepper_event() \u7ed3\u675f\u6b65\u8fdb\u4e8b\u4ef6\u7684\u751f\u6210\u3002\u8be5\u4ee3\u7801\u4f1a\u57fa\u4e8equeue_step\u547d\u4ee4\u7684\u53c2\u6570\u751f\u6210\u6b65\u8fdb\u8109\u51b2\uff0c\u5e76\u5b89\u6392\u4e0b\u4e00\u6b21\u6b65\u8fdb\u8109\u51b2\u751f\u6210\u7684\u65f6\u95f4\u3002\u786c\u4ef6\u5b9a\u65f6\u5668\u53d1\u51fa\u4e2d\u65ad\uff0c\u5728\u8bbe\u5b9a\u7684\u4e8b\u4ef6\u8c03\u7528\u76f8\u5e94\u7684stepper_event\u3002queue_step\u547d\u4ee4\u7684\u53c2\u6570\u5305\u542b\u201c\u95f4\u9694\u201d\u3001\u201c\u8ba1\u6570\u201d\u3001\u201c\u589e\u91cf\u201d\u3002\u603b\u4f53\u800c\u8a00\uff0cstepper_event()\u5c06\u6267\u884c\u4e0b\u5217\u5185\u5bb9\uff0c\u201c\u8bb0\u5f55\u65f6\u95f4\u201d: do_step(); next_wake_time = last_wake_time + interval; interval += add; \u4e0a\u9762\u7684\u8fd0\u52a8\u8fc7\u7a0b\u770b\u4f3c\u5341\u5206\u590d\u6742\u3002\u7136\u800c\uff0c\u771f\u6b63\u9700\u8981\u6ce8\u610f\u7684\u53ea\u6709ToolHead\uff08\u6253\u5370\u5934\uff09 \u548c kinematic \uff08\u8fd0\u52a8\u5b66\uff09\u7c7b\uff0c\u4e0a\u8ff0\u4e24\u4e2a\u7c7b\u7684\u4ee3\u7801\u786e\u5b9a\u4e86\u8fd0\u52a8\u6267\u884c\u548c\u5b9a\u65f6\u3002\u5269\u4e0b\u7684\u4ee3\u7801\u4ec5\u7528\u4e8e\u5904\u7406\u901a\u8baf\u548c\u7ba1\u9053\u7684\u95ee\u9898\u3002 \u6dfb\u52a0\u4e0a\u4f4d\u673a\u6a21\u5757 \u00b6 Klippy\u4e0a\u4f4d\u673a\u7684\u4e3b\u7a0b\u5e8f\u80fd\u5bf9\u6a21\u5757\u8fdb\u884c\u70ed\u52a0\u8f7d\u3002\u5982\u679c\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u51fa\u73b0\u4e86\u7c7b\u4f3c\"[my_module]\" \u7684\u5b57\u6bb5\u540d\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5c1d\u8bd5\u52a0\u8f7d klippy/extras/my_module.py \u6587\u4ef6\u5185\u7684\u6a21\u5757\u3002Klipper\u63a8\u8350\u4f7f\u7528\u4e0a\u8ff0\u65b9\u5f0f\u6269\u5c55Klipper\u529f\u80fd\u3002 \u65b0\u589e\u6a21\u5757\u7684\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u53c2\u7167\u5df2\u6709\u7684\u6a21\u5757 - \u4e0b\u9762\u5c06\u4ee5 klippy/extras/servo.py \u4f5c\u4e3a\u4f8b\u5b50\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e9b\u6709\u7528\u7684\u4fe1\u606f\uff1a \u6a21\u5757\u7684\u8fd0\u4f5c\u8d77\u59cb\u4e8e\u6a21\u5757\u7ea7\u522b\u7684 load_config() \u51fd\u6570\uff08\u9488\u5bf9\u5f62\u5982 [my_module] \u7684\u914d\u7f6e\u5757\uff09\u6216 load_config_prefix() \uff08\u5bf9 [my_module my_name] \u914d\u7f6e\u5757\uff09\u3002\u8be5\u65b9\u6cd5\u5c06\u63a5\u53d7\u4e00\u4e2a \"config\" \u5bf9\u8c61\u5e76\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u4e0e\u76ee\u6807\u529f\u80fd\u76f8\u5173\u7684\u65b0\"printer object\"\u3002 \u5728\u521b\u5efa\u65b0\"printer object\"\u7684\u5b9e\u4f8b\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\"config\"\u5bf9\u8c61\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u4e2d\u76f8\u5e94\u914d\u7f6e\u5757\u4e2d\u7684\u4fe1\u606f\u3002\u6b64\u65f6\u53ef\u4f7f\u7528 config.get() \uff0c config.getfloat() \uff0c config.getint() \u7b49\u65b9\u6cd5\u3002\u5e94\u786e\u4fdd\u6240\u9700\u7684\u53c2\u6570\u5728 \"printer object\" \u6784\u5efa\u9636\u6bb5\u65f6\u5b8c\u6210\u8bfb\u53d6\u3002\u5982\u679c\u7528\u6237\u53c2\u6570\u6ca1\u6709\u5728\u8be5\u9636\u6bb5\u5b8c\u6210\u8bfb\u53d6\uff0c\u7a0b\u5e8f\u5c06\u8ba4\u4e3a\u8fd9\u662f\u914d\u7f6e\u4e2d\u7684\u9519\u5b57\uff0c\u5e76\u629b\u51fa\u5f02\u5e38\u3002 \u4f7f\u7528 config.get_printer() \u65b9\u6cd5\u83b7\u53d6\u4e3b\"printer\"\u7c7b\u7684\u5f15\u7528\u3002\u8be5\"printer\"\u7c7b\u5b58\u50a8\u4e86\u6240\u6709\u5b9e\u4f8b\u5316\u4e86\u7684\"printer objects\"\u7684\u5f15\u7528\u3002\u4f7f\u7528 printer.lookup_object() \u65b9\u6cd5\u83b7\u53d6\u5176\u4ed6\"printer objects\"\u7684\u5f15\u7528\u3002\u51e0\u4e4e\u5168\u90e8\u7684\u529f\u80fd\uff08\u5305\u62ec\u8fd0\u52a8\u63a7\u5236\u6a21\u5757\uff09\u90fd\u5305\u88c5\u4e3a\"printer objects\"\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u4e00\u4e2a\u65b0\u6a21\u5757\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u5e76\u975e\u6240\u6709\u5176\u4ed6\u7684\"printer objects\"\u5747\u5df2\u5b8c\u6210\u5b9e\u4f8b\u5316\u3002\u5176\u4e2d\"gcode\"\u548c\"pins\"\u6a21\u5757\u603b\u662f\u53ef\u7528\uff0c\u4f46\u5bf9\u4e8e\u5176\u4ed6\u6a21\u5757\u6700\u597d\u63a8\u8fdf\u67e5\u627e\u3002 \u5982\u679c\u4ee3\u7801\u9700\u8981\u5728\u5176\u4ed6\"printer objects\"\u53d1\u8d77\u4e8b\u4ef6\uff08event\uff09\u65f6\u88ab\u8c03\u7528\uff0c\u53ef\u901a\u8fc7 printer.register_event_handler() \u6ce8\u518c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u3002\u6bcf\u4e2a\u4e8b\u4ef6\u7684\u540d\u79f0\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6309\u7167\u60ef\u4f8b\uff0c\u5b83\u662f\u5f15\u53d1\u8be5\u4e8b\u4ef6\u7684\u4e3b\u8981\u6e90\u6a21\u5757\u7684\u540d\u79f0\uff0c\u4ee5\u53ca\u6b63\u5728\u53d1\u751f\u7684\u52a8\u4f5c\u7684\u7b80\u77ed\u540d\u79f0\uff08\u4f8b\u5982\uff0c\"klippy:connect\"\uff09\u3002\u4f20\u9012\u7ed9\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u53c2\u6570\u56e0\u5904\u7406\u51fd\u6570\u800c\u5f02\uff08\u5f02\u5e38\u5904\u7406\u548c\u6267\u884c\u73af\u5883\u4e5f\u662f\u5982\u6b64\uff09\u3002\u5e38\u89c1\u7684\u4e24\u79cd\u8d77\u59cb\u4e8b\u4ef6\u4e3a\uff1a klippy:connect - \u8be5\u4e8b\u4ef6\u5728\u6240\u6709 \"printer objects\" \u5b9e\u4f8b\u5316\u540e\u53d1\u8d77\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u67e5\u627e\u5176\u4ed6\"printer objects\"\uff0c\u6838\u5b9e\u914d\u7f6e\uff0c\u5e76\u4e0emcu\u8fdb\u884c\u521d\u59cb\u63e1\u624b\u3002 klippy:ready - \u8be5\u4e8b\u4ef6\u5728\u6240\u6709connect\u5904\u7406\u7a0b\u5e8f\u6210\u529f\u5730\u5b8c\u6210\u540e\u53d1\u8d77\u3002\u5b83\u610f\u5473\u7740\u6253\u5370\u673a\u8f6c\u4e3a\u7b49\u5f85\u5e38\u89c4\u6307\u4ee4\u7684\u5f85\u547d\u72b6\u6001\u3002\u4e0d\u5e94\u5728\u8be5\u56de\u8c03\u51fd\u6570\u4e2d\u629b\u51fa\u5f02\u5e38\u3002 \u5982\u679c\u7528\u6237\u914d\u7f6e\u4e2d\u5b58\u5728\u9519\u8bef\uff0c\u5e94\u5728 load_config() \u6216\u8fde\u63a5\u4e8b\u4ef6\uff08connect event\uff09\u4e2d\u629b\u51fa\u5f02\u5e38\u3002\u4f7f\u7528 raise config.error(\"my error\") \u6216 raise printer.config_error(\"my error\") \u8fdb\u884c\u544a\u8b66\u3002 \u4f7f\u7528\"pins\"\u6a21\u5757\u5bf9\u5fae\u63a7\u5236\u5668\u7684\u5f15\u811a\u8fdb\u884c\u5b9a\u4e49\uff0c\u4f8b\u5982 printer.lookup_object(\"pins\").setup_pin(\"pwm\", config.get(\"my_pin\")) \u3002\u6b64\u540e\uff0c\u8fd0\u884c\u65f6\uff0c\u53ef\u901a\u8fc7\u8fd4\u56de\u7684\u5bf9\u8c61\u5bf9\u9488\u811a\u8fdb\u884c\u63a7\u5236\u3002 \u5982\u679c\u6253\u5370\u673a\u5bf9\u8c61\u4e2d\u5b9a\u4e49\u4e86 get_status() \u65b9\u6cd5\uff0c\u5219\u5728\u6a21\u5757\u4e2d\u53ef\u4ee5\u901a\u8fc7 \u5b8f \u6216 API\u670d\u52a1 \u8f93\u51fa \u72b6\u6001\u4fe1\u606f \u3002 get_status() \u5fc5\u987b\u8fd4\u56de\u4e00\u4e2aPython\u5b57\u5178\u5bf9\u8c61\uff0c\u5176\u952e\u9700\u8981\u4e3a\u5b57\u7b26\u4e32\uff0c\u800c\u503c\u5e94\u4e3a\u6574\u5f62\u3001\u6d6e\u70b9\u6570\u3001\u5217\u8868\u3001\u5b57\u5178\u3001True\u3001False\u6216\u8005None\u3002\u5143\u7ec4\uff08\u6216\u547d\u540d\u5143\u7ec4\uff09\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u503c\uff08\u5b83\u4eec\u5728API\u670d\u52a1\u4e2d\u5c06\u88ab\u89c6\u4e3a\u5217\u8868\uff09\u3002\u5217\u8868\u548c\u5b57\u5178\u7684\u8f93\u51fa\u503c\u5fc5\u987b\u4e3a\u201c\u4e0d\u53ef\u53d8\u7684\uff08immutable\uff09\u201d\uff0c\u5373\u5728\u51fd\u6570\u5185\uff0c\u5982\u679c get_status() \u9700\u8981\u8f93\u51fa\u4e0a\u8ff0\u7c7b\u578b\u7684\u5b9e\u4f8b\uff0c\u5219\u9700\u8981\u65b0\u5efa\u6216\u8005\u8fdb\u884c\u6df1\u5c42\u590d\u5236\uff0c\u5426\u5219API\u670d\u52a1\u4f1a\u8bc6\u522b\u51fa\u8f93\u51fa\u503c\u4e2d\u7684\u5185\u5bb9\u53d8\u66f4\u3002 \u5982\u679c\u6a21\u5757\u9700\u8981\u4f7f\u7528\u7cfb\u7edf\u65f6\u949f\u6216\u5916\u90e8\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u53ef\u901a\u8fc7 printer.get_reactor() \u5bf9\u83b7\u53d6\u5168\u5c40\u4e8b\u4ef6\u53cd\u5e94\u5668\u8fdb\u884c\u8bbf\u95ee\uff08event reactor\uff09\u3002\u901a\u8fc7\u8be5\u53cd\u5e94\u5668\u7c7b\u53ef\u4ee5\u90e8\u7f72\u5b9a\u65f6\u5668\uff0c\u7b49\u5f85\u6587\u4ef6\u63cf\u8ff0\u7b26\u8f93\u5165\uff0c\u6216\u8005\u201c\u6302\u8d77\u201d\u4e0a\u4f4d\u673a\u7a0b\u5e8f\u3002 \u4e0d\u5e94\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u3002\u5168\u90e8\u72b6\u6001\u91cf\u5e94\u5b58\u50a8\u4e8e \"printer objects\"\uff0c\u5e76\u901a\u8fc7 load_config() \u8fdb\u884c\u8bbf\u95ee\u3002\u5426\u5219\uff0cRESTART\u547d\u4ee4\u7684\u884c\u4e3a\u5c06\u65e0\u6cd5\u9884\u6d4b\u3002\u540c\u6837\uff0c\u4efb\u4f55\u5728\u8fd0\u884c\u65f6\u6253\u5f00\u7684\u5916\u90e8\u6587\u4ef6\uff08\u6216\u5957\u63a5\u5b57\uff09\uff0c\u5e94\u5728\"klippy:disconnect\"\u7684\u4e8b\u4ef6\u5185\u6ce8\u518c\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\u8fdb\u884c\u5173\u95ed\u3002 \u5e94\u907f\u514d\u8bbf\u95ee\u5176\u4ed6\"printer objects\"\u79c1\u6709\u5bf9\u8c61\u5c5e\u6027\uff08\u6216\u8c03\u7528\u547d\u540d\u4ee5\u4e0b\u5212\u7ebf\u5f00\u59cb\u7684\u65b9\u6cd5\uff09\u3002\u9075\u5faa\u8fd9\u4e00\u65b9\u5f0f\u53ef\u65b9\u4fbf\u4e4b\u540e\u7684\u53d8\u66f4\u3002 \u63a8\u8350\u5728\u7c7b\u7684\u5de5\u5382\u51fd\u6570\u4e2d\u5c06\u6240\u6709\u6210\u5458\u53d8\u91cf\u5b9e\u4f8b\u5316\uff08\u5373\u907f\u514d\u4f7f\u7528Python\u7684\u52a8\u6001\u53d8\u52a8\u6210\u5458\u53d8\u91cf\u7684\u529f\u80fd\uff09\u3002 \u82e5\u4e00Python\u53d8\u91cf\u5b58\u653e\u6709\u4e00\u6d6e\u70b9\u6570\uff0c\u90a3\u4e48\u5efa\u8bae\u8be5\u53d8\u91cf\u5e94\u603b\u8d4b\u4e88\u6d6e\u70b9\u7c7b\u578b\u7684\u91cf\uff0c\u5e76\u4ec5\u4f7f\u7528\u6d6e\u70b9\u6570\u5e38\u91cf\u8fdb\u884c\u503c\u8fd0\u7b97\uff08\u5e76\u7edd\u4e0d\u4f7f\u7528\u6574\u5f62\u5e38\u6570\u8fdb\u884c\u8fd0\u7b97\uff09\u3002\u4f8b\u5982\uff0c\u5e94\u4f7f\u7528 self.speed = 1. \u800c\u975e self.speed = 1 \uff0c\u5e76\u4ee5 self.speed = 2. * x \u66ff\u4ee3 self.speed = 2 *x \u3002\u4e00\u81f4\u5730\u4f7f\u7528\u6d6e\u70b9\u503c\u53ef\u4ee5\u907f\u514dPython\u7c7b\u578b\u8f6c\u6362\u4e2d\u96be\u4ee5\u8c03\u8bd5\u7684\u602a\u5f02\u73b0\u8c61\u3002 \u82e5\u9700\u5411 klipper \u6bcd\u5206\u652f\u63d0\u4ea4\u6a21\u5757\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u6a21\u5757\u4ee3\u7801\u7684\u5934\u90e8\u52a0\u5165\u7248\u6743\u58f0\u660e\u3002\u8be6\u8bf7\u53c2\u8003\u5df2\u6709\u6a21\u5757\u7684\u683c\u5f0f\u3002 \u589e\u52a0\u65b0\u8fd0\u52a8\u5b66\u6a21\u578b \u00b6 \u672c\u8282\u5c06\u63d0\u4f9b\u4e3aKlipper\u589e\u52a0\u65b0\u8fd0\u52a8\u5b66\u6a21\u578b\u7684\u63d0\u793a\u3002\u8fd9\u9700\u8981\u5bf9\u76ee\u6807\u8fd0\u52a8\u5b66\u65b9\u7a0b\u6709\u6df1\u5165\u7684\u4e86\u89e3\u3002\u8fd9\u540c\u65f6\u9700\u8981\u4e00\u5b9a\u7684\u8f6f\u4ef6\u5f00\u53d1\u6280\u5de7\u2014\u5c3d\u7ba1\u5927\u591a\u60c5\u51b5\u4e0b\u53ea\u9700\u8981\u66f4\u65b0\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u3002 \u6b65\u9aa4\uff1a \u5f00\u59cb\u5e94\u7814\u7a76 \" \u79fb\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u6d41 \" \u7ae0\u8282\u548c \u52a8\u529b\u5b66\u6587\u6863 . \u53c2\u8003\u4f4d\u4e8eklippy/kinematics/\u76ee\u5f55\u5df2\u6709\u7684\u8fd0\u52a8\u5b66\u7c7b\u3002\u52a8\u529b\u5b66\u7c7b\u65e8\u5728\u5c06\u4e00\u4e2a\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\u7684\u8fd0\u52a8\u8f6c\u5316\u4e3a\u5404\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u8fd0\u52a8\u3002\u5efa\u8bae\u590d\u5236\u5df2\u6709\u7684\u4ee3\u7801\uff0c\u5e76\u5728\u5176\u57fa\u7840\u4e0a\u8fdb\u884c\u4fee\u6539\u3002 \u82e5\u9700\u8981\u7684\u8fd0\u52a8\u5b66\u65b9\u7a0b\u672a\u88abKlipper\u6db5\u76d6\uff0c\u5219\u5e94\u4f7f\u7528C\u8bed\u8a00\u5b9e\u73b0\u65b0\u52a8\u529b\u5b66\u4f53\u7cfb\u4e2d\u5404\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u4f4d\u7f6e\u65b9\u7a0b\uff08\u89c1klippy/chelper/\uff0c\u5982kin_cart.c, kin_corexy.c, and kin_delta.c\uff09\u3002\u4f4d\u7f6e\u65b9\u7a0b\u4e2d\u5e94\u8c03\u7528 move_get_coord() \u4ee5\u5c06\u8fd0\u52a8\u7684\u65f6\u95f4\u70b9\uff08\u5355\u4f4d \uff1a\u79d2\uff09\u8f6c\u5316\u4e3a\u5bf9\u5e94\u7684\u7b1b\u5361\u5c14\u5750\u6807\u4f4d\u7f6e\uff08\u5355\u4f4d\uff1a\u6beb\u7c73\uff09\uff0c\u8fdb\u800c\u8ba1\u7b97\u76ee\u6807\u6b65\u8fdb\u7535\u673a\u8fd0\u52a8\u76ee\u6807\u4f4d\u7f6e\uff08\u5355\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 \u5728\u65b0\u7684\u8fd0\u52a8\u5b66\u7c7b\u4e2d\u5b9e\u73b0 calc_position \u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u5c06\u901a\u8fc7\u5404\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u4f4d\u7f6e\u8ba1\u7b97\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e0b\u7684\u6253\u5370\u5934\u4f4d\u7f6e\uff1b\u540c\u65f6\u8be5\u65b9\u6cd5\u901a\u5e38\u53ea\u5728\u56de\u96f6\u548cz\u63a2\u6d4b\u65f6\u4f7f\u7528\uff0c\u56e0\u6b64\u65e0\u9700\u8fc7\u5206\u8ffd\u6c42\u6548\u7387\u3002 \u4e4b\u540e\u5b9e\u73b0 check_move() , get_status() , get_steppers() , home() , set_position() \u65b9\u6cd5\u3002\u8fd9\u4e9b\u51fd\u6570\u7528\u4e8e\u7279\u5b9a\u7684\u8fd0\u52a8\u5b66\u68c0\u67e5\u3002\u5728\u5f00\u53d1\u7684\u521d\u671f\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5df2\u6709\u4ee3\u7801\u3002 \u6dfb\u52a0\u6d4b\u8bd5\u5b9e\u4f8b\u3002\u521b\u5efa\u4e00\u4e2aG\u4ee3\u7801\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u7cfb\u5217\u7684\u8fd0\u52a8\u547d\u4ee4\u7528\u4e8e\u6d4b\u8bd5\u65b0\u589e\u7684\u8fd0\u52a8\u5b66\u6a21\u578b\u3002 \u6309\u7167 \u8c03\u8bd5\u6587\u6863 \u5c06\u8be5G\u4ee3\u7801\u6587\u4ef6\u8f6c\u6362\u4e3a\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u5728\u906d\u9047\u56f0\u96be\u72b6\u51b5\u548c\u68c0\u67e5\u6570\u636e\u4f20\u9012\u76f8\u5f53\u6709\u7528\u3002 \u79fb\u690d\u5230\u65b0\u7684\u5fae\u63a7\u5236\u5668 \u00b6 \u8be5\u8282\u5c06\u4ecb\u7ecd\u5c06Klipper\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u79fb\u690d\u5230\u65b0\u67b6\u6784\u65f6\u7684\u4e00\u4e9b\u63d0\u793a\u3002\u8be5\u64cd\u4f5c\u5c06\u9700\u8981\u5bf9\u5d4c\u5165\u5f0f\u5f00\u53d1\u6709\u4e00\u5b9a\u7684\u8ba4\u8bc6\u5e76\u5e94\u6709\u76ee\u6807\u5fae\u63a7\u5236\u5668\u7684\u5f00\u53d1\u5e73\u53f0\u3002 \u6b65\u9aa4\uff1a \u9996\u5148\u5e94\u786e\u5b9a\u79fb\u690d\u6240\u9700\u7684\u7b2c\u4e09\u65b9\u5e93\u3002\u5e38\u89c1\u7684\u4f8b\u5b50\u4e3a\u201cCMSIS\u201d\u5305\u88c5\u5668\u548c\u5382\u5546\u7684\u201cHAL\u201d\u5e93\u3002\u5168\u90e8\u7b2c\u4e09\u65b9\u4ee3\u7801\u5e94\u9075\u5faa\u6216\u517c\u5bb9GNU GPLv3\u534f\u8bae\u3002\u7b2c\u4e09\u65b9\u4ee3\u7801\u5e94\u63d0\u4ea4\u5230Klipper\u7684/lib\u6587\u4ef6\u5939\u3002\u66f4\u65b0lib/README\u6ce8\u660e\u7b2c\u4e09\u65b9\u5e93\u7684\u83b7\u53d6\u9014\u5f84\u548c\u66f4\u65b0\u65f6\u95f4\u3002\u63a8\u8350\u4e0d\u6539\u53d8\u5185\u5bb9\uff0c\u76f4\u63a5\u5c06\u4ee3\u7801\u590d\u5236\u5230Klipper\uff0c\u4f46\u5982\u679c\u9700\u8981\u8fdb\u884c\u53d8\u66f4\uff0c\u5e94\u5c06\u6240\u505a\u7684\u4fee\u6539\u5217\u5728lib/README\u6587\u4ef6\u4e2d\u3002 \u5728src/\u4e0b\u65b0\u5efa\u4e00\u4e2a\u65b0\u67b6\u6784\u7684\u5b50\u76ee\u5f55\uff0c\u5e76\u521b\u5efa\u5bf9\u5e94\u7684\u521d\u59cbKconfig\u548cMakefile\u3002\u4ee5\u5df2\u6709\u7684\u67b6\u6784\u4f5c\u4e3a\u6a21\u7248\uff0c\u5176\u4e2dsrc/simulator\u7ed9\u51fa\u4e86\u5fae\u63a7\u5236\u5668\u67b6\u6784\u7684\u57fa\u672c\u9700\u6c42\u3002 \u9996\u8981\u4efb\u52a1\u662f\u5728\u76ee\u6807\u6253\u5370\u673a\u4e3b\u677f\u4e0a\u5b9e\u73b0\u901a\u8baf\u3002\u8fd9\u662f\u589e\u52a0\u652f\u6301\u4e2d\u6700\u96be\u7684\u4e00\u6b65\uff0c\u5b9e\u73b0\u8be5\u529f\u80fd\u540e\u4e00\u5207\u5c06\u9614\u7136\u5f00\u6717\u3002\u5728\u5f00\u8352\u65f6\uff0c\u4e00\u822c\u4f7f\u7528\u4e32\u884c\u603b\u7ebf\u8fdb\u884c\u5f00\u53d1\uff0c\u56e0\u4e3a\u901a\u5e38\u4e32\u884c\u603b\u7ebf\u5df2\u4e8e\u5e94\u7528\u548c\u63a7\u5236\u3002\u5728\u6b64\u9636\u6bb5\uff0c\u53ef\u5927\u91cf\u4f7f\u7528 src/generic/ \u76ee\u5f55\u4e2d\u7684\u4e2d\u7684\u8f85\u52a9\u4ee3\u7801\uff08\u53ef\u53c2\u8003 src/simulator/Makefile \u4e2d\u5982\u4f55\u5c06\u4e0a\u8ff0\u4ee3\u7801\u52a0\u5165\u6784\u5efa\uff09\u3002\u540c\u65f6\uff0c\u9700\u8981\u5728\u8fd9\u9636\u6bb5\u5b8c\u6210 timer_read_time() \u7684\u5b9a\u4e49\uff08\u7528\u4e8e\u83b7\u53d6\u73b0\u65f6\u7cfb\u7edf\u65f6\u949f\uff09\uff0c\u4f46\u65e0\u9700\u5b8c\u5168\u5b9e\u73b0\u5b9a\u65f6\u4e2d\u65ad\u529f\u80fd\u3002 \u4f9d\u7167 \u8c03\u8bd5\u6587\u6863 \u719f\u6089console.py\u5de5\u5177\uff0c\u5e76\u4f7f\u7528\u8be5\u5de5\u5177\u6838\u5b9e\u5fae\u63a7\u5236\u5668\u7684\u8fde\u63a5\u3002\u8be5\u5de5\u5177\u5c06\u5e95\u5c42\u5fae\u63a7\u5236\u5668\u901a\u8baf\u534f\u8bae\u8f6c\u6362\u4e3a\u53ef\u8bfb\u5f62\u5f0f\u3002 \u589e\u52a0\u5bf9\u786c\u4ef6\u4e2d\u65ad\u7684\u5b9a\u65f6\u5668\u8c03\u5ea6\u7684\u652f\u6301\u3002\u53c2\u89c1 Klipper commit 970831ee \uff0c\u4f5c\u4e3a\u9488\u5bf9LPC176x\u67b6\u6784\u7684\u6b65\u9aa41-5\u7684\u4f8b\u5b50\u3002 \u63d0\u4f9b\u57fa\u672c\u7684 GPIO \u8f93\u5165\u548c\u8f93\u51fa\u652f\u6301\u3002\u53c2\u89c1 Klipper commit c78b9076 \u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\u3002 \u542f\u52a8\u5176\u4ed6\u5916\u56f4\u8bbe\u5907-\u53c2\u9605Klipper\u63d0\u4ea4 65613aed \uff0c c812a40a \uff0c\u548c c381d03a \u7684\u4f8b\u5b50\u3002 \u5728config/\u76ee\u5f55\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u4e8b\u4f8b\uff0c\u5e76\u4f7f\u7528Klipper.py\u7684\u4e3b\u7a0b\u5e8f\u8fdb\u884c\u8bbe\u7f6e\u3002 \u8003\u8651\u5728test/\u76ee\u5f55\u52a0\u5165\u6784\u5efa\u6d4b\u8bd5\u7684\u4e8b\u4f8b\u3002 \u8fd8\u6709\u4e00\u4e9btips\uff1a \u907f\u514d\u4f7f\u7528\u201cC\u4f4d\u6bb5\u201d\uff08C bitfield\uff09\u8bbf\u95eeIO\u5bc4\u5b58\u5668\uff1b\u5e94\u4f7f\u7528\u76f4\u63a5\u5bf932\u4f4d\u300116\u4f4d\u548c8\u4f4d\u7684\u6574\u6570\u8bfb\u5199\u4ee3\u66ff\u3002C\u8bed\u8a00\u89c4\u8303\u4e2d\u6ca1\u6709\u5bf9\u4f4d\u6bb5\u64cd\u4f5c\u8fdb\u884c\u6e05\u6670\u5b9a\u4e49\uff08\u4f8b\u5982\u7aef\u5e8f\u3001\u5b57\u5e03\u5c40\u7b49\uff09\uff0c\u4e14\u5728IO\u64cd\u4f5c\u65f6\u4f7f\u7528C\u6bb5\u4f4d\u8bfb\u5199\uff0c\u5c06\u96be\u4ee5\u786e\u5b9a\u5177\u4f53\u8fdb\u884c\u4e86\u4f55\u79cdIO\u64cd\u4f5c\u3002 IO\u5bc4\u5b58\u5668\u64cd\u4f5c\u65f6\u5e94\u4f7f\u7528\u663e\u5f0f\u8d4b\u503c\uff0c\u907f\u514d\u4f7f\u7528\u201c\u8bfb-\u6539-\u5199\u201d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5728\u4e00\u4e2aIO\u5bc4\u5b58\u5668\u4e2d\u66f4\u65b0\u4e00\u4e2a\u5b57\u6bb5\uff0c\u800c\u5176\u4ed6\u5b57\u6bb5\u7684\u503c\u662f\u5df2\u77e5\u7684\uff0c\u90a3\u4e48\u6700\u597d\u662f\u663e\u5f0f\u5730\u5199\u5165\u5bc4\u5b58\u5668\u7684\u5168\u90e8\u5185\u5bb9\u3002\u663e\u5f0f\u5199\u5165\u4ea7\u751f\u7684\u4ee3\u7801\u66f4\u5c0f\uff0c\u66f4\u5feb\uff0c\u66f4\u5bb9\u6613\u8c03\u8bd5\u3002 \u5750\u6807\u7cfb\u53d8\u6362 \u00b6 \u5185\u90e8\u800c\u8a00\uff0cKlipper\u4f7f\u7528\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u8ffd\u8e2a\u6253\u5370\u5934\u7684\u4f4d\u7f6e\uff0c\u5176\u5750\u6807\u7cfb\u8bbe\u7f6e\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u7684\u5750\u6807\u7cfb\u800c\u53d8\u5316\u3002\u56e0\u6b64\uff0cKIlipper\u7684\u6267\u884c\u5728\u7edd\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u4e0d\u4f1a\u53d8\u6362\u5750\u6807\u7cfb\u3002\u5982\u679c\u7528\u6237\u8fdb\u884c\u539f\u70b9\u7684\u53d8\u6362\uff08\u5982\u6267\u884c G92 \u547d\u4ee4\uff09\uff0cKlipper\u4f1a\u5c06\u540e\u7eed\u547d\u4ee4\u8f6c\u5316\u5230\u539f\u59cb\u5750\u6807\u7cfb\u4e0a\u8fdb\u884c\u6267\u884c\u3002 \u7136\u800c\uff0c\u5728\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u83b7\u53d6\u5176\u4ed6\u5750\u6807\u7cfb\u4e2d\u6253\u5370\u5934\u7684\u4f4d\u7f6e\u3002Klipper\u63d0\u4f9b\u6570\u79cd\u5de5\u5177\u4ee5\u5b9e\u73b0\u4e0a\u8ff0\u529f\u80fd\u3002\u8fd0\u884cGET_POSITION\u53ef\u4ee5\u83b7\u5f97\u4e0a\u8ff0\u6570\u636e\uff0c\u5982\uff1a Send: GET_POSITION Recv: // mcu: stepper_a:-2060 stepper_b:-1169 stepper_c:-1613 Recv: // stepper: stepper_a:457.254159 stepper_b:466.085669 stepper_c:465.382132 Recv: // kinematic: X:8.339144 Y:-3.131558 Z:233.347121 Recv: // toolhead: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode base: X:0.000000 Y:0.000000 Z:0.000000 E:0.000000 Recv: // gcode homing: X:0.000000 Y:0.000000 Z:0.000000 \u201c\u5fae\u63a7\u5236\u5668\u4f4d\u7f6e\u201d\uff08 stepper.get_mcu_position() \uff09\u662f\u5fae\u63a7\u5236\u5668\u6700\u540e\u4e00\u6b21\u91cd\u7f6e\u540e\u6267\u884c\u7684\u201c\u6b63\u5411\u201d\u6b65\u6570\u603b\u6570 - \u201c\u8d1f\u5411\u201d\u6b65\u6570\u603b\u6570\u7684\u503c\u3002\u5982\u679c\u8bbe\u5907\u5904\u4e8e\u673a\u68b0\u8fd0\u52a8\u65f6\uff0c\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de\u5305\u542b\u8fd0\u52a8\u7f13\u51b2\u533a\u4e2d\u7684\u4f4d\u7f6e\u503c\uff0c\u4f46\u4e0d\u5305\u542b\u9884\u8ba1\u961f\u5217\u4e2d\u7684\u8fd0\u52a8\u503c\u3002 \u201c\u6b65\u8fdb\u7535\u673a\u201d\u90e8\u5206\uff08 stepper.get_commanded_position() \uff09\u662f\u8fd0\u52a8\u5b66\u6a21\u578b\u4e2d\u8bb0\u5f55\u7684\u7279\u5b9a\u6b65\u8fdb\u7535\u673a\u4f4d\u7f6e\u3002\u901a\u5e38\u662f\u5bf9\u5e94\u8f68\u9053\u7684\u76f8\u5bf9\u4e8e\u8bbe\u5b9a\u4e2d\u7684position_endstop\u8bbe\u5b9a\u503c\u7684\u6ed1\u8f66\u4f4d\u7f6e\uff08\u5355\u4f4d\u4e3a\u6beb\u7c73\uff0c\u4f46\u90e8\u5206\u8bbe\u5b9a\u4e2d\u4f7f\u7528\u7684\u662f\u5f27\u5ea6\u5355\u4f4d\u800c\u975e\u7ebf\u6027\u5355\u4f4d\uff09\u3002\u5982\u679c\u5728\u673a\u68b0\u8fd0\u52a8\u65f6\u89e6\u53d1\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5219\u8fd4\u56de\u7684\u503c\u4e3a\u5fae\u63a7\u5236\u5668\u4e2d\u7f13\u5b58\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9884\u8ba1\u961f\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9884\u8ba1\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u8c03\u7528\u5b8c\u5168\u5237\u65b0\u9884\u8ba1\u961f\u5217\u548c\u6b65\u8fdb\u8109\u51b2\u751f\u6210\u4ee3\u7801\u3002 \u8fd0\u52a8\u5b66\u4f4d\u7f6e\uff08 kin.cal_position() \uff09\u662f\u5728\u7b1b\u5361\u5c14\u5750\u6807\u4e0a\u7684\uff0c\u884d\u751f\u4e8e\u6b65\u8fdb\u7535\u673a\u4f4d\u7f6e\u7684\uff0c\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u4e2dposition_endstop\u503c\u7684\u4f4d\u7f6e\u3002\u7531\u4e8e\u6b65\u8fdb\u7535\u673a\u7684\u5206\u8fa8\u7387\u539f\u56e0\uff0c\u8fd9\u53ef\u80fd\u4e0e\u8bf7\u6c42\u7684\u7b1b\u5361\u5c14\u5750\u6807\u503c\u4e0d\u4e00\u81f4\u3002\u5982\u679c\u5728\u673a\u68b0\u8fd0\u52a8\u65f6\u89e6\u53d1\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5219\u8fd4\u56de\u7684\u503c\u4e3a\u5fae\u63a7\u5236\u5668\u4e2d\u7f13\u5b58\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9884\u8ba1\u961f\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9884\u8ba1\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u8c03\u7528\u5b8c\u5168\u5237\u65b0\u9884\u8ba1\u961f\u5217\u548c\u6b65\u8fdb\u8109\u51b2\u751f\u6210\u4ee3\u7801\u3002 \u6253\u5370\u5934\u4f4d\u7f6e\uff08 toolhead.get_position() \uff09\u662f\u6700\u540e\u7684\u8fd0\u52a8\u8bf7\u6c42\u5bf9\u5e94\u7684\uff0c\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u9650\u4f4d\u4f4d\u7f6e\u7684\uff0c\u7b1b\u5361\u5c14\u5750\u6807\u4e0a\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u3002\u5982\u679c\u5728\u673a\u68b0\u8fd0\u52a8\u65f6\u89e6\u53d1\u4e0a\u8ff0\u4ee3\u7801\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u4f1a\u4f9d\u636e\u8bf7\u6c42\u8fd0\u52a8\u5e8f\u5217\u4e2d\u7684\u8fd0\u52a8\u7ec8\u70b9\u7ed9\u51fa\uff08\u5c3d\u7ba1buffer\u4e2d\u7684\u8fd0\u52a8\u8fd8\u6ca1\u7531\u6b65\u8fdb\u7535\u673a\u89e6\u53d1\uff09\u3002 G\u4ee3\u7801\u4f4d\u7f6e\u65f6\u6700\u540e\u4e00\u6b21\u4f4d\u7f6e\u8bf7\u6c42\u547d\u4ee4\uff08 G1 \u6216 G0 \uff09\u5bf9\u5e94\u7684\uff0c\u5728\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\u76f8\u5bf9\u8bbe\u5b9a\u6587\u4ef6\u4e2d\u7684\u8bbe\u5b9a\u539f\u70b9\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u8fd9\u53ef\u80fd\u4e0e\u201c\u6253\u5370\u5934\u4f4d\u7f6e\u201d\u4e0d\u4e00\u81f4\uff0c\u8fd9\u662f\u56e0\u4e3aG\u4ee3\u7801\u4fee\u6b63\u7684\u5f71\u54cd\uff08\u6bd4\u5982\u5e8a\u7f51\uff0c\u5e8a\u503e\u89d2\u4fee\u6b63\uff0c\u8c03\u5e73\u87ba\u6bcd\u4fee\u6b63\uff09\u3002\u8fd9\u4e5f\u4f1a\u56e0\u4e3aG\u4ee3\u7801\u539f\u70b9\u53d8\u66f4\uff08\u5982 G92 \uff0c SET_GCODE_OFFSET \uff0c M221 \uff09\u800c\u5bfc\u81f4\u8fd4\u56de\u503c\u8ddf\u6700\u540e\u4e00\u6b21 G1 \u547d\u4ee4\u8bf7\u6c42\u7684\u4f4d\u7f6e\u4e0d\u4e00\u81f4\u3002 \uff2d114 \u547d\u4ee4\uff08 gcode_move.get_status()[\u2019gcode_position\u2019] \uff09\u4f1a\u8fd4\u56de\u73b0\u65f6G\u4ee3\u7801\u76f8\u5bf9\u4e8e\u6b64\u65f6\u7684G\u4ee3\u7801\u539f\u70b9\u7684\u4f4d\u7f6e\u3002 G\u4ee3\u7801\u57fa\u51c6\u662f\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\u76f8\u5bf9\u4e8e\u8bbe\u5b9a\u6587\u4ef6\u4e2d\u7684\u8bbe\u5b9a\u539f\u70b9\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u8bf8\u5982 G92 \uff0c SET_GCODE_OFFSET \u548c M221 \u4f1a\u6539\u53d8\u7684\u8fd4\u56de\u503c\u3002 G\u4ee3\u7801\u56de\u96f6\u70b9\u662f\u5728 G28 \u547d\u4ee4\u6267\u884c\u540eG\u4ee3\u7801\u539f\u70b9\u3002\u540c\u6837\uff0c\u8be5\u4f4d\u7f6e\u662f\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\uff0c\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u539f\u70b9\u7684\u4f4d\u7f6e\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u4f1a\u6539\u53d8\u8be5\u503c\u3002 \u5b9a\u65f6 \u00b6 \u8be5\u8282\u5c06\u63cf\u8ff0Klipper\u5982\u4f55\u5904\u7406\u65f6\u949f\uff0c\u5b9a\u65f6\u548c\u65f6\u95f4\u6233\u3002Klipper\u901a\u8fc7\u63d0\u524d\u5b89\u6392\u9700\u8981\u6267\u884c\u7684\u884c\u4e3a\u4e8b\u4ef6\u4ece\u800c\u6267\u884c\u52a8\u4f5c\u3002\u4f8b\u5982\uff0c\u8981\u542f\u52a8\u98ce\u6247\uff0c\u4ee3\u7801\u9700\u8981\u5b89\u6392GPIO\u9488\u811a\u5728100ms\u540e\u53d8\u5316\u3002\u4ee3\u7801\u7acb\u5373\u6267\u884c\u52a8\u4f5c\u53cd\u800c\u662f\u7f55\u89c1\u7684\u72b6\u51b5\u3002\u56e0\u6b64\uff0cKlipper\u7684\u6b63\u786e\u8fd0\u884c\u79bb\u4e0d\u5f00\u5bf9\u65f6\u95f4\u7684\u7cbe\u786e\u5904\u7406\u3002 Klipper\u5185\u90e8\u4f7f\u7528\u4e09\u79cd\u4e0d\u540c\u7684\u65f6\u95f4\uff1a \u7cfb\u7edf\u65f6\u95f4\uff08System time\uff09\u3002\u7cfb\u7edf\u65f6\u95f4\u4f7f\u7528\u7cfb\u7edf\u7684\u5355\u8c03\u65f6\u949f\u3002\u8fd9\u662f\u4e00\u4e2a\u4ee5\u79d2\u4e3a\u5355\u4f4d\u50a8\u5b58\u7684\u6d6e\u70b9\u6570\uff0c\u5728\u7cfb\u7edf\u542f\u52a8\u540e\u5f00\u59cb\u7d2f\u8ba1\u3002\u7cfb\u7edf\u65f6\u949f\u7684\u7528\u9014\u6709\u9650\uff0c\u901a\u5e38\u53ea\u4f1a\u5728\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4e92\u52a8\u65f6\u4f7f\u7528\u3002\u5728\u4e0a\u4f4d\u673a\u4e2d\uff0c\u7cfb\u7edf\u65f6\u95f4\u4fdd\u5b58\u5728 eventtime \u6216 curtime \u53d8\u91cf\u4e2d\u3002 \u6253\u5370\u65f6\u95f4\uff08Print time\uff09\u3002\u6253\u5370\u65f6\u95f4\u4f1a\u4e0e\u4e3b\u5fae\u63a7\u5236\u5668\u65f6\u949f\u540c\u6b65\uff08\u5728\u201c[MCU]\u201d\u8bbe\u7f6e\u6bb5\u4e2d\u5b9a\u4e49\u7684\u5fae\u63a7\u5236\u5668\u3002\uff09\u8fd9\u662f\u4e00\u4e2a\u4ee5\u79d2\u4e3a\u5355\u4f4d\u50a8\u5b58\u7684\u6d6e\u70b9\u6570\uff0c\u5e76\u5728\u4e3b\u5fae\u63a7\u5236\u6700\u540e\u4e00\u6b21\u542f\u52a8\u540e\u5f00\u59cb\u4ece0\u7d2f\u52a0\u3002\u901a\u8fc7\u4e58\u4ee5\u8bbe\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u9891\u7387\uff0c\u53ef\u4ee5\u83b7\u5f97\u4e3b\u5fae\u63a7\u5236\u5668\u5185\u90e8\u786c\u4ef6\u65f6\u949f\u503c\u3002\u4e0a\u5c42\u5e94\u7528\u53ef\u4ee5\u901a\u8fc7\u6253\u5370\u65f6\u95f4\u8ba1\u7b97\u51e0\u4e4e\u6240\u6709\u7269\u7406\u884c\u4e3a\uff08\u6bd4\u5982\u6253\u5370\u5934\u8fd0\u52a8\uff0c\u52a0\u70ed\u5668\u53d8\u52a8\u7b49\uff09\u3002\u5728\u4e0a\u4f4d\u673a\u4ee3\u7801\u4e2d\uff0c\u6253\u5370\u65f6\u95f4\u901a\u5e38\u4fdd\u5b58\u5728 print_time \u548c move_time \u53d8\u91cf\u4e2d\u3002 MCU\u65f6\u949f\uff0c\u662f\u5404\u4e2a\u5fae\u63a7\u5236\u5185\u90e8\u7684\u786c\u4ef6\u65f6\u949f\u7d2f\u52a0\u5668\u3002\u5b83\u662f\u57fa\u4e8e\u5fae\u63a7\u5236\u5668\u8bbe\u5b9a\u9891\u7387\u4e3a\u901f\u7387\u8fdb\u884c\u7d2f\u52a0\u7684\uff0c\u4ee5\u6574\u5f62\u4fdd\u5b58\u7684\u503c\u3002\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u5c06\u8f6f\u4ef6\u5185\u90e8\u65f6\u95f4\u8f6c\u6362\u4e3amcu\u65f6\u95f4\u5e76\u5c06\u547d\u4ee4\u4f20\u8f93\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u5fae\u63a7\u5236\u4ee3\u7801\u4ec5\u5728\u65f6\u949f\u8df3\u52a8\u65f6\u66f4\u65b0\u548c\u8ffd\u8e2a\u65f6\u95f4\u3002\u5728\u4e0a\u4f4d\u673a\u4ee3\u7801\u4e2d\uff0c\u65f6\u949f\u503c\u4ee564\u4f4d\u6574\u5f62\u8bb0\u5f55\uff0c\u800c\u5fae\u63a7\u5236\u4ee3\u7801\u5219\u4f7f\u752832\u4f4d\u6574\u5f62\u3002\u5728\u4e0a\u4f4d\u673a\u4ee3\u7801\u4e2d\uff0c\u65f6\u949f\u901a\u5e38\u4ee5 clock \u6216 tick \u53d8\u91cf\u4fdd\u5b58\u3002 \u4e0d\u540c\u65f6\u949f\u683c\u5f0f\u7684\u8f6c\u6362\u4e3b\u8981\u5728 klipper/clocksync.py \u4e2d\u5b9e\u73b0\u3002 \u5728\u68c0\u67e5\u4ee3\u7801\u65f6\u9700\u8981\u6ce8\u610f\uff1a 32\u4f4d\u548c64\u4f4d\u65f6\u949f\uff1a\u4e3a\u4e86\u964d\u4f4e\u5e26\u5bbd\u6d88\u8017\u548c\u63d0\u9ad8\u5fae\u63a7\u5236\u5668\u6548\u7387\uff0c\u5fae\u63a7\u5236\u5668\u65f6\u949f\u4f7f\u752832\u4f4d\u6574\u5f62\u8fdb\u884c\u8ffd\u8e2a\u3002\u5728\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e2d\u5bf9\u6bd4\u4e24\u4e2a\u65f6\u949f\u65f6\uff0c\u5e94\u4fdd\u6301\u8c03\u7528 time_is_before \u4ee5\u786e\u5b9a\u6574\u5f62\u65f6\u949f\u6ca1\u6709\u51fa\u73b0\u6ea2\u51fa\u7684\u60c5\u51b5\u3002\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u901a\u8fc7\u5c06\u5fae\u63a7\u5236\u5668\u6700\u540e\u4e00\u6b21\u8fd4\u56de\u7684\u65f6\u95f4\u6233\u7d2f\u52a0\u5230\u4e3b\u673a\u4ee3\u7801\u65f6\u949f\u7684\u9ad8\u4f4d\u5730\u5740\u4e2d\uff0c\u4ee5\u5b9e\u73b032\u4f4d\u65f6\u949f\u523064\u4f4d\u65f6\u949f\u7684\u8f6c\u6362\uff0c\u7531\u4e8e\u6765\u81ea\u5fae\u63a7\u5236\u5668\u7684\u4fe1\u606f\u4e0d\u53ef\u80fd\u6765\u81ea2^31\u4e2a\u65f6\u95f4\u523b\u5ea6\u7684\u8fc7\u53bb\u6216\u672a\u6765\uff0c\u56e0\u6b64\u65f6\u95f4\u8f6c\u6362\u4e0d\u4f1a\u51fa\u73b0\u9519\u8bef\u3002\u4e3b\u673a\u901a\u8fc7\u7b80\u5355\u622a\u65ad\u9ad8\u4f4d\u4e2d\u7684\u503c\uff0c\u5b9e\u73b064\u4f4d\u523032\u4f4d\u7684\u8f6c\u6362\u3002\u4e3a\u4e86\u786e\u4fdd\u8f6c\u6362\u6ca1\u6709\u6b67\u4e49\uff0c klippy/chelper/serialqueque.c \u4ee3\u7801\u4f1a\u7f13\u5b58\u4fe1\u606f\u76f4\u5230\u4ee3\u7801\u76ee\u6807\u65f6\u95f4\u76842^31\u4e2a\u65f6\u95f4\u523b\u5ea6\u5185\u3002 \u590d\u6570\u5fae\u63a7\u5236\u5668\u7684\u60c5\u51b5\uff1a\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u652f\u6301\u5355\u4f53\u6253\u5370\u673a\u4f7f\u7528\u590d\u6570\u5fae\u63a7\u5236\u5668\u3002\u6b64\u65f6\uff0c\u5404\u5fae\u63a7\u5236\u5668\u7684\u201c\u5fae\u63a7\u5236\u5668\u65f6\u949f\u201d\u5c06\u88ab\u5206\u5f00\u8bb0\u5f55\u3002clocksync.py\u5904\u7406\u5fae\u5904\u7406\u5668\u4e4b\u95f4\u7684\u65f6\u95f4\u98d8\u53d8\uff0c\u65b9\u6cd5\u5728\u201c\u6253\u5370\u65f6\u95f4\u201d\u548c\u201c\u5fae\u5904\u7406\u5668\u65f6\u95f4\u201d\u7684\u8f6c\u6362\u65b9\u6cd5\u4e0a\u4fee\u6539\u5f97\u51fa\u3002\u5728\u6b21\u8981\u5fae\u5904\u7406\u4e0a\uff0c\u5fae\u5904\u7406\u5668\u9891\u7387\u88ab\u7528\u4e8e\u4e0a\u8ff0\u5904\u7406\uff0c\u5e76\u901a\u8fc7\u6301\u7eed\u6d4b\u91cf\u6f02\u53d8\u5bf9\u6b21\u8981\u5fae\u63a7\u5236\u5668\u9891\u7387\u8fdb\u884c\u66f4\u65b0\u3002","title":"\u4ee3\u7801\u603b\u89c8"},{"location":"Code_Overview.html#_1","text":"\u672c\u6587\u6863\u5c06\u63cf\u8ff0Klipper\u7684\u4ee3\u7801\u603b\u4f53\u7ed3\u6784\u548c\u4ee3\u7801\u6d41\u3002","title":"\u4ee3\u7801\u603b\u89c8"},{"location":"Code_Overview.html#_2","text":"src/ \u5305\u542b\u5fae\u63a7\u5236\u5668\u7684C\u6e90\u7801\u3002\u5176\u4e2d src/atsam/ , src/atsamd/ , src/avr/ , src/linux/ , src/lpc176x/ , src/pru/ , and src/stm32/ \u4e3a\u5bf9\u5e94\u5fae\u5904\u7406\u5668\u67b6\u6784\u7684\u6e90\u7801\u3002 src/simulator/ \u5305\u542b\u6709\u7528\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u3001\u6d4b\u8bd5\u76ee\u6807\u5fae\u5904\u7406\u5668\u7684\u4ee3\u7801\u3002 src/generic/ \u4e3a\u5bf9\u4e0d\u540c\u67b6\u6784\u5747\u6709\u7528\u7684\u4ee3\u7801\u3002\u7f16\u8bd1\"board/somefile.h\"\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u4f18\u5148\u4f7f\u7528 \u67b6\u6784\u7279\u5b9a\u7684\u76ee\u5f55 (\u5373src/avr/somefile.h)\u968f\u540e\u627e\u5bfb\u901a\u7528\u76ee\u5f55(\u5373 src/generic/somefile.h)\u3002 klippy/ \u76ee\u5f55\u5305\u542b\u4e86\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u3002\u8f6f\u4ef6\u5927\u90e8\u5206\u7531Python\u5b9e\u73b0\uff0c\u540c\u65f6 klippy/chelper/ \u76ee\u5f55\u5305\u542b\u4e86\u7531C\u5b9e\u73b0\u7684\u6709\u7528\u4ee3\u7801\u3002 klippy/kinematics/ \u76ee\u5f55\u5305\u542b\u673a\u68b0\u8fd0\u52a8\u5b66\u7684\u5b9e\u73b0\u4ee3\u7801\u3002 klippy/extras/ \u76ee\u5f55\u5305\u542b\u4e86\u4e0a\u4f4d\u673a\u7684\u6269\u5efa\u6a21\u5757(\"modules\")\u3002 lib/ \u5305\u542b\u4e86\u6784\u5efa\u5fc5\u987b\u7684\u7b2c\u4e09\u65b9\u5e93\u4ee3\u7801\u3002 config/ \u5305\u542b\u4e86\u6253\u5370\u673a\u914d\u7f6e\u7684\u5b9e\u4f8b\u6587\u4ef6\u3002 scripts/ \u76ee\u5f55\u5305\u542b\u4e86\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u65f6\u6709\u7528\u7684\u811a\u672c\u3002 test/ \u76ee\u5f55\u5305\u542b\u4e86\u81ea\u52a8\u6d4b\u8bd5\u793a\u4f8b\u3002 \u5728\u7f16\u8bd1\u8fc7\u7a0b\u91cd\uff0c\u7f16\u8bd1\u5668\u4f1a\u6784\u5efa out/ \u76ee\u5f55\u3002\u8be5\u76ee\u5f55\u5305\u542b\u6784\u5efa\u65f6\u7684\u4e34\u65f6\u6587\u4ef6\u3002\u5bf9\u4e8eAVR\u67b6\u6784\uff0c\u7f16\u8bd1\u5668\u8f93\u51fa\u7684\u4e3a out/klipper.elf.hex \uff0c\u800c\u5bf9ARM\u67b6\u6784\u5219\u4e3a out/klipper.bin \u3002","title":"\u6587\u4ef6\u5939\u7ed3\u6784"},{"location":"Code_Overview.html#_3","text":"\u5fae\u63a7\u5236\u5668\u7684\u4ee3\u7801\u4ece\u5bf9\u5e94\u67b6\u6784\u7684\u4ee3\u7801(\u5373 src/avr/main.c )\u5f00\u59cb\u6267\u884c\uff0c\u524d\u8ff0\u4ee3\u7801\u4f1a\u6301\u7eed\u8c03\u7528 src/sched.c \u4e2d\u7684 sched_main() \u51fd\u6570\u3002sched_main() \u4ee3\u7801\u4f1a\u5148\u8fd0\u884c\u7ecf DECL_INIT() \u5b8f\u6807\u6ce8\u7684\u6240\u6709\u51fd\u6570\u3002\u4e4b\u540e\u5b83\u5c06\u4e0d\u65ad\u91cd\u590d\u8fd0\u884c\u7531 DECL_TASK() \u5b8f\u6240\u6807\u6ce8\u7684\u51fd\u6570\u3002 \u5176\u4e2d\u4e00\u4e2a\u4e3b\u8981\u7684\u4efb\u52a1\u51fd\u6570\u4e3a src/command.c \u4e2d\u7684command_dispatch()\u3002\u4e0a\u8ff0\u51fd\u6570\u7ecf\u7531\u5fae\u5904\u7406\u5668\u7279\u5b9a\u7684 \u8f93\u5165/\u8f93\u51fa \u4ee3\u7801\u8c03\u7528(\u5373 src/avr/serial.c , src/generic/serial_irq.c )\uff0c\u5e76\u6267\u884c\u8f93\u5165\u6d41\u4e2d\u7684\u547d\u4ee4\u6240\u5bf9\u5e94\u7684\u547d\u4ee4\u51fd\u6570\u3002\u547d\u4ee4\u51fd\u6570\u901a\u8fc7 DECL_COMMAND() \u5b8f\u8fdb\u884c\u5b9a\u4e49 (\u8be6\u60c5\u53c2\u7167 \u534f\u8bae \u6587\u6863)\u3002 \u4efb\u52a1\u3001\u521d\u59cb\u5316\u548c\u547d\u4ee4\u51fd\u6570\u59cb\u7ec8\u5728\u542f\u7528\u4e2d\u65ad\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\uff08\u4f46\u662f\uff0c\u5982\u679c\u9700\u8981\uff0c\u5b83\u4eec\u53ef\u4ee5\u6682\u65f6\u7981\u7528\u4e2d\u65ad\uff09\u3002\u8fd9\u4e9b\u51fd\u6570\u5e94\u907f\u514d\u957f\u65f6\u95f4\u7684\u6682\u505c\u3001\u5ef6\u8fdf\u6216\u6267\u884c\u6301\u7eed\u5f88\u957f\u65f6\u95f4\u7684\u5de5\u4f5c\u3002\uff08\u8fd9\u4e9b\u201c\u4efb\u52a1\u201d\u529f\u80fd\u4e2d\u7684\u957f\u65f6\u95f4\u5ef6\u8fdf\u4f1a\u5bfc\u81f4\u5176\u4ed6\u201c\u4efb\u52a1\u201d\u7684\u8c03\u5ea6\u6296\u52a8 - \u8d85\u8fc7100us\u7684\u5ef6\u8fdf\u53ef\u80fd\u4f1a\u53d8\u5f97\u660e\u663e\uff0c\u8d85\u8fc7500us\u7684\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u547d\u4ee4\u91cd\u4f20\uff0c\u8d85\u8fc7100ms\u7684\u5ef6\u8fdf\u53ef\u80fd\u5bfc\u81f4\u770b\u95e8\u72d7\u89e6\u53d1\u91cd\u542f\u3002\u8fd9\u4e9b\u51fd\u6570\u901a\u8fc7\u8c03\u5ea6\u8ba1\u65f6\u5668\u5728\u7279\u5b9a\u65f6\u95f4\u5b89\u6392\u5de5\u4f5c\u3002 \u5b9a\u65f6\u51fd\u6570\u901a\u8fc7\u8c03\u7528sched_add_timer() (\u5373 src/sched.c )\u65b9\u6cd5\u8fdb\u884c\u6ce8\u518c\u3002\u8c03\u5ea6\u5668\u4f1a\u5728\u8bbe\u5b9a\u7684\u65f6\u95f4\u70b9\u5bf9\u6ce8\u518c\u7684\u51fd\u6570\u8fdb\u884c\u8c03\u7528\u3002\u5b9a\u65f6\u5668\u4e2d\u65ad\u4f1a\u5728\u5fae\u5904\u7406\u5668\u67b6\u6784\u7279\u5b9a\u7684\u521d\u59cb\u5316\u5904\u7406\u5668\u4e2d\u5904\u7406(\u4f8b\u5982 src/avr/timer.c )\uff0c\u8be5\u4ee3\u7801\u4f1a\u8c03\u7528 src/sched.c \u4e2d\u7684sched_timer_dispatch()\u3002\u901a\u8fc7\u5b9a\u65f6\u5668\u4e2d\u65ad\u6267\u884c\u6ce8\u518c\u7684\u5b9a\u65f6\u51fd\u6570\u3002\u5b9a\u65f6\u51fd\u6570\u603b\u5728\u4e2d\u65ad\u7981\u7528\u4e0b\u8fd0\u884c\u3002\u5b9a\u65f6\u51fd\u6570\u5e94\u603b\u80fd\u5728\u6570\u5fae\u79d2\u5185\u5b8c\u6210\u3002\u5728\u5b9a\u65f6\u51fd\u6570\u7ed3\u675f\u65f6\uff0c\u8be5\u51fd\u6570\u53ef\u5bf9\u81ea\u8eab\u8fdb\u884c\u91cd\u65b0\u5b9a\u65f6\u3002 \u5982\u679c\u4e8b\u4ef6\u4e2d\u629b\u51fa\u9519\u8bef\uff0c \u4ee3\u7801\u53ef\u8c03\u7528shutdown()\uff08 src/sched.c \u4e2d\u7684sched_shutdown()\uff09\u3002\u8c03\u7528shutdown()\u4f1a\u5bfc\u81f4\u6240\u6709\u6807\u8bb0\u4e3aDECL_SHUTDOWN()\u5b8f\u7684\u51fd\u6570\u88ab\u8fd0\u884c\u3002shutdown()\u603b\u662f\u5728\u7981\u7528\u4e2d\u65ad\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u3002 \u5fae\u63a7\u5236\u5668\u7684\u5927\u90e8\u5206\u529f\u80fd\u6d89\u53ca\u5230\u901a\u7528\u8f93\u5165\u8f93\u51fa\u5f15\u811a\uff08GPIO\uff09\u7684\u64cd\u4f5c\u3002\u4e3a\u4e86\u4ece\u9ad8\u7ea7\u4efb\u52a1\u4ee3\u7801\u4e2d\u62bd\u8c61\u51fa\u7279\u5b9a\u67b6\u6784\u5e95\u5c42\u4ee3\u7801\uff0c\u6240\u6709\u7684GPIO\u4e8b\u4ef6\u90fd\u5728\u7279\u5b9a\u67b6\u6784\u7684\u5305\u88c5\u5668\u4e2d\u5b9e\u73b0\uff08\u5982\uff0c src/avr/gpio.c \uff09\u3002\u4ee3\u7801\u4f7f\u7528gcc\u7684\"-flto -fwhole-program \"\u6765\u4f18\u5316\u7f16\u8bd1\uff0c\u4ee5\u5b9e\u73b0\u5185\u8054\u51fd\u6570\u7684\u9ad8\u6027\u80fd\u4ea4\u53c9\u7f16\u8bd1\uff0c\u5927\u591a\u6570\u5fae\u5c0f\u7684GPIO\u64cd\u4f5c\u51fd\u6570\u5185\u8054\u5230\u5b83\u4eec\u7684\u8c03\u7528\u5668\u4e2d\uff0c\u4f7f\u7528\u8fd9\u4e9bGPIO\u5c06\u6ca1\u6709\u4efb\u4f55\u8fd0\u884c\u65f6\u6210\u672c\u3002","title":"\u5fae\u5904\u7406\u5668\u7684\u4ee3\u7801\u6d41"},{"location":"Code_Overview.html#_4","text":"\u4e0a\u4f4d\u673a\u7a0b\u5e8f\uff08klippy\uff09\u8fd0\u884c\u5728\u5ec9\u4ef7\u8ba1\u7b97\u673a\uff08\u5982 \u6811\u8393\u6d3e\uff09\u4e0a\uff0c\u914d\u642dmcu\u4f7f\u7528\u3002\u8be5\u7a0b\u5e8f\u7684\u4e3b\u8981\u7f16\u7a0b\u8bed\u8a00\u4e3aPython\uff0c\u540c\u65f6\u90e8\u5206\u529f\u80fd\u901a\u8fc7CFFI\u5728C\u8bed\u8a00\u4e0a\u5b9e\u73b0\u3002 \u4e0a\u4f4d\u673a\u7a0b\u5e8f\u901a\u8fc7 klippy/klippy.py \u521d\u59cb\u5316\u3002\u8be5\u6587\u4ef6\u4f1a\u8bfb\u53d6\u547d\u4ee4\u884c\u53c2\u6570\uff0c\u6253\u5f00\u6253\u5370\u673a\u7684\u8bbe\u7f6e\u6587\u4ef6\uff0c\u5b9e\u4f8b\u5316\u6253\u5370\u673a\u7684\u4e3b\u8981\u6a21\u5757\uff0c\u5e76\u542f\u7528\u4e32\u53e3\u901a\u8baf\u3002G\u4ee3\u7801\u547d\u4ee4\u7684\u6267\u884c\u5219\u901a\u8fc7 klippy/gcode.py \u4e2d\u7684 process_commands() \u65b9\u6cd5\u5b9e\u73b0\u3002\u6b64\u4ee3\u7801\u5c06G\u4ee3\u7801\u8f6c\u5316\u4e3a\u6253\u5370\u673a\u7684\u5bf9\u8c61\u8c03\u7528\uff0c\u5b83\u5c06\u9891\u7e41\u5730\u5c06G\u4ee3\u7801\u547d\u4ee4\u8f6c\u5316\u4e3a\u5fae\u63a7\u5236\u5668\u7684\u884c\u52a8\u6307\u4ee4\uff08\u901a\u8fc7\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e2d\u7684 DECL_COMMAND \u8fdb\u884c\u58f0\u660e\uff09\u3002 Klippy\u4e0a\u4f4d\u673a\u7a0b\u5e8f\u5305\u542b\u56db\u4e2a\u8fdb\u7a0b\u3002\u4e3b\u7ebf\u7a0b\u7528\u4e8e\u5904\u7406\u8f93\u5165\u7684G\u4ee3\u7801\u547d\u4ee4\u3002\u7b2c\u4e8c\u7ebf\u7a0b\u901a\u8fc7\u4e32\u53e3\u5b9e\u73b0\u5e95\u5c42IO\u7684\u5904\u7406\uff08\u4ee3\u7801\u4f4d\u4e8e klippy/chelper/serialqueue.c \u4ee5C\u8bed\u8a00\u5b9e\u73b0\uff09\u3002\u7b2c\u4e09\u7ebf\u7a0b\u5219\u901a\u8fc7Python\u4ee3\u7801\u5904\u7406\u5fae\u63a7\u5236\u5668\u8fd4\u56de\u7684\u4fe1\u606f\uff08\u53c2\u7167 klippy/serialhdl.py\uff09\u3002\u7b2c\u56db\u7ebf\u7a0b\u5219\u8d1f\u8d23\u5c06Debug\u4fe1\u606f\u5199\u5165\u5230\u65e5\u5fd7\u6587\u4ef6(\u89c1 klippy/queuelogger.py )\uff0c\u7531\u6b64\uff0c\u5176\u4ed6\u7ebf\u7a0b\u7684\u6267\u884c\u5c06\u4e0d\u4f1a\u963b\u585e\u65e5\u5fd7\u7684\u5199\u5165\u3002","title":"\u4ee3\u7801\u603b\u89c8"},{"location":"Code_Overview.html#_5","text":"\u5178\u578b\u7684\u6253\u5370\u673a\u8fd0\u52a8\u59cb\u4e8eklipper\u4e0a\u4f4d\u673a\u63a5\u6536\u5230\"G1\"\u547d\u4ee4\uff0c\u5e76\u5728\u5fae\u63a7\u5236\u5668\u53d1\u51fa\u5bf9\u5e94\u7684\u6b65\u8fdb\u8109\u51b2\u7ed3\u675f\u3002\u672c\u8282\u5c06\u7b80\u8ff0\u5178\u578b\u8fd0\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u6d41\u3002 \u8fd0\u52a8\u5b66 \u6587\u6863\u5c06\u66f4\u4e3a\u7ec6\u81f4\u7684\u63cf\u8ff0\u8fd0\u52a8\u7684\u673a\u68b0\u539f\u7406\u3002 \u79fb\u52a8\u547d\u4ee4\u7684\u5904\u7406\u59cb\u4e8egcode.py\uff0c\u8be5\u4ee3\u7801\u5c06G\u4ee3\u7801\u8f6c\u5316\u4e3a\u5185\u90e8\u8c03\u7528\u3002G1\u547d\u4ee4\u5c06\u8c03\u7528klippy/extras/gcode_move.py\u4e2d\u7684cmd_G1()\u51fd\u6570\u3002gcode_move.py\u4e2d\u7684\u4ee3\u7801\u5c06\u5904\u7406 \u539f\u70b9\u53d8\u6362\uff08G92\uff09\uff0c\u7edd\u5bf9\u5750\u6807\u6a21\u5f0f\uff08G90\uff09\u548c\u5355\u4f4d\u53d8\u6362\uff08\u5982F6000=100mm/s\uff09\u3002\u4e00\u4e2a\u79fb\u52a8\u547d\u4ee4\u7684\u5904\u7406\u8def\u5f84\u4e3a\uff1a _process_data() -> _process_commands() -> cmd_G1() \u3002\u6700\u7ec8\u5c06\u8c03\u7528ToolHead\u7c7b\u7684\u65b9\u6cd5\u5b9e\u73b0\u79fb\u52a8 cmd_G1() -> ToolHead.move() \u3002 ToolHead\u7c7b\uff08\u4f4d\u4e8etoolhead.py\uff09\u5904\u7406\u201c\u524d\u77bb\u201d\u884c\u4e3a\u548c\u8bb0\u5f55\u6253\u5370\u7684\u65f6\u95f4\u70b9\u3002\u79fb\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u8def\u5f84\u4e3a ToolHead.move() -> MoveQueue.add_move() -> MoveQueue.flush() -> Move.set_junction() -> ToolHead._process_moves() \u3002 ToolHead.move()\u5c06\u521b\u5efa\u4e00\u4e2aMove()\u5bf9\u8c61\u5b9e\u4f8b\uff0c\u5176\u4e2d\u5c06\u5305\u542b\u79fb\u52a8\u7684\u53c2\u6570\uff08\u5728\u7b1b\u5361\u5c14\u7a7a\u95f4\u4e2d\uff0c\u5e76\u8fd9\u4e9b\u53c2\u6570\u4ee5mm\u548cs\u4e3a\u5355\u4f4d\uff09\u3002 kinematics\u7c7b\u5c06\u68c0\u67e5\u6bcf\u4e2a\u8fd0\u52a8\u547d\u4ee4\uff08 ToolHead.move() -> kin.check_move() \uff09\u3002\u5404\u79cdkinematics\u7c7b\u5b58\u653e\u4e8e klippy/kinematics/ \u76ee\u5f55\u3002check_move()\u80fd\u5728\u8fd0\u52a8\u547d\u4ee4\u4e0d\u5408\u7406\u65f6\u629b\u51fa\u9519\u8bef\u3002\u5982\u679c check_move()\u6210\u529f\uff0c\u8fd9\u610f\u5473\u7740\u6253\u5370\u673a\u5fc5\u5b9a\u80fd\u5b8c\u6210\u8fd0\u52a8\u547d\u4ee4\u3002 MoveQueue.add_move()\u5c06\u4e00\u4e2amove\u5b9e\u4f8b\u6dfb\u52a0\u5230\u201c\u524d\u77bb\u201d\u961f\u5217\u3002 MoveQueue.flush()\u5c06\u8fdb\u884c\u6bcf\u6b21\u8fd0\u52a8 \u8d77\u59cb\u548c\u7ed3\u675f \u901f\u5ea6\u3002 Move.set_junction()\u5b9e\u73b0\u79fb\u52a8\u7684\u201c\u68af\u5f62\u52a0\u51cf\u901f\uff08trapezoid generator\uff09\u201d\u3002\u201c\u68af\u5f62\u52a0\u51cf\u901f\u201d\u5c06\u6bcf\u6b21\u79fb\u52a8\u62c6\u5206\u4e3a\u4e09\u90e8\u5206\uff1a\u6052\u52a0\u901f\u5ea6\u52a0\u901f\u9636\u6bb5\u3001\u6052\u901f\u5ea6\u9636\u6bb5\u3001\u6052\u52a0\u901f\u5ea6\u51cf\u901f\u9636\u6bb5\u3002\u6240\u6709\u79fb\u52a8\u5747\u542b\u6709\u4e0a\u8ff0\u4e09\u4e2a\u9636\u6bb5\uff0c\u4f46\u5355\u4e2a\u9636\u6bb5\u7684\u6301\u7eed\u65f6\u95f4\u53ef\u80fd\u4e3a0\u3002 \u5f53ToolHead._process_moves()\u88ab\u8c03\u7528\u65f6\uff0c\u4e00\u6b21\u79fb\u52a8\u7684\u6240\u6709\u8981\u7d20\u5747\u5df2\u5c31\u7eea\u2014\u2014\u79fb\u52a8\u7684\u8d77\u59cb\u4f4d\u7f6e\u3001\u7ed3\u675f\u4f4d\u7f6e\u3001\u52a0\u901f\u5ea6\u3001\u8d77\u59cb/\u5de1\u822a/\u7ed3\u675f\u901f\u5ea6\u3001\u4ee5\u53ca\u8d77\u59cb/\u5de1\u822a/\u7ed3\u675f\u7684\u8ddd\u79bb\u3002\u6240\u6709\u4fe1\u606f\u4ee5\u7b1b\u5361\u5c14\u5750\u6807\u7684\u5f62\u5f0f\u5b58\u50a8\u5728Move()\u5b9e\u4f8b\u4e2d\uff0c\u5355\u4f4d\u4e3amm\u548cs\u3002 Klipper\u4f7f\u7528 \u8fed\u4ee3\u6c42\u89e3 \u7684\u65b9\u5f0f\u751f\u6210\u6b65\u8fdb\u7535\u673a\u7684\u6bcf\u6b65\u7684\u65f6\u957f\u3002\u4e3a\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u6b65\u8fdb\u8109\u51b2\u65f6\u95f4\u662f\u4ee5C\u8bed\u8a00\u4ee3\u7801\u751f\u6210\u3002\u4e00\u4e2a\u8fd0\u52a8\u5148\u7ecf\u8fc7\u201c\u68af\u5f62\u8fd0\u52a8\u961f\u5217\u5316\u201d \uff1a ToolHead._process_moves() -> trapq_append() (\u4f4d\u4e8e klippy/chelper/trapq.c)\uff0c\u7136\u540e\u751f\u6210\u6b65\u8fdb\u65f6\u95f4 ToolHead._process_moves() -> ToolHead._update_move_time() -> MCU_Stepper.generate_steps() -> itersolve_generate_steps() -> itersolve_gen_steps_range() (\u4f4d\u4e8e klippy/chelper/itersolve.c)\u3002\u8fed\u4ee3\u6c42\u89e3\u5668\u901a\u8fc7\u4e00\u4e2a\u65f6\u95f4-\u4f4d\u7f6e\u65b9\u7a0b\u8ba1\u7b97\u51fa\u6b65\u8fdb\u65f6\u95f4\u3002\u6c42\u89e3\u65f6\u901a\u8fc7\u201c\u5047\u5b9a\u201d\u65f6\u95f4\u70b9\uff0c\u4ee5\u65f6\u95f4-\u4f4d\u7f6e\u65b9\u7a0b\u8ba1\u7b97\u51fa\u4e0b\u4e00\u6b65\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8ba1\u7b97\u7ed3\u679c\u4e0e\u5b9e\u9645\u9700\u6c42\u7684\u4e0b\u4e00\u6b65\u4f4d\u7f6e\u4e00\u81f4\uff0c\u5047\u5b9a\u503c\u5c06\u7528\u4e8e\u5b9e\u9645\u8fd0\u52a8\uff1b\u5426\u5219\uff0c\u901a\u8fc7\u8ba1\u7b97\u7ed3\u679c\u5bf9\u201c\u5047\u5b9a\u65f6\u95f4\u201d\u8fdb\u884c\u4fee\u6b63\uff0c\u5e76\u8fdb\u884c\u4e0b\u4e00\u6b21\u8bd5\u7b97\u3002\u8fd9\u79cd\u53cd\u9988\u65b9\u5f0f\u4f1a\u4f7f\u8fed\u4ee3\u5feb\u901f\u6536\u655b\u3002\u8fd0\u52a8\u5b66\u6240\u4f7f\u7528\u7684\u65f6\u95f4-\u4f4d\u7f6e\u51fd\u6570\u4f4d\u4e8e klippy/chelper/ \u76ee\u5f55 (\u4f8b\u5982, kin_cart.c, kin_corexy.c, kin_delta.c, kin_extruder.c)\u3002 \u9700\u8981\u6ce8\u610f\uff0c\u6324\u51fa\u673a\u6709\u72ec\u7279\u7684\u8fd0\u52a8\u5b66\u6a21\u578b\uff0c\u4f7f\u7528 ToolHead._process_moves() -> PrinterExtruder.move() \u7c7b\u7ee7\u7eed\u5b81\u5904\u7406\u3002\u5c3d\u7ba1\u6324\u51fa\u673a\u4f7f\u7528\u4e86\u72ec\u7acb\u7684Move()\u7c7b\uff0c\u7531\u4e8eMove() \u5b9e\u4f8b\u5305\u542b\u4e86\u5b9e\u9645\u8fd0\u52a8\u7684\u65f6\u95f4\uff0c\u5e76\u4e14\u8109\u51b2\u65f6\u95f4\u7684\u8bbe\u5907\u662f\u5b9a\u65f6\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u56e0\u6b64\u7531\u6324\u51fa\u673a\u7c7b\u4ea7\u751f\u7684\u6b65\u8fdb\u8fd0\u52a8\u5c06\u4e0e\u6253\u5370\u5934\u7684\u8fd0\u52a8\u540c\u6b65\u3002 \u5f53\u8fed\u4ee3\u8ba1\u7b97\u5668\u8ba1\u7b97\u51fa\u6b65\u8fdb\u65f6\u957f\u540e\uff0c\u8ba1\u7b97\u7ed3\u679c\u5c06\u88ab\u7f6e\u4e8e\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff1a itersolve_gen_steps_range() -> stepcompress_append() (\u4f4d\u4e8e klippy/chelper/stepcompress.c)\u3002\u6570\u7ec4(\u7ed3\u6784\u4f53 stepcompress.queue)\u5b58\u50a8\u6bcf\u4e00\u6b65\u5bf9\u5e94\u7684\u5fae\u5904\u7406\u5668\u65f6\u949f\u8ba1\u6570\u5668\u65f6\u95f4\u3002\u4e0a\u8ff0\u7684\u201c\u5fae\u5904\u7406\u5668\u8ba1\u6570\u5668\u201d\u7684\u503c\u6307\u7684\u662f\u5fae\u5904\u7406\u5668\u786c\u4ef6\u4e0a\u7684\u8ba1\u6570\u5668\u2014\u2014\u5176\u503c\u57fa\u4e8e\u5fae\u5904\u7406\u5668\u6700\u540e\u4e00\u6b21\u4e0a\u7535\u800c\u5b9a\u3002 \u63a5\u4e0b\u6765\u91cd\u8981\u7684\u662f\uff0c\u5bf9\u6b65\u8fdb\u6570\u636e\u8fdb\u884c\u538b\u7f29\uff1a stepcompress_flush() -> compress_bisect_add() (\u4f4d\u4e8e klippy/chelper/stepcompress.c)\u3002\u4e0a\u8ff0\u4ee3\u7801\u5c06\u57fa\u4e8e\u524d\u8ff0\u7684 \u6b65\u8fdb\u65f6\u95f4\u5217\u8868 \u751f\u6210\u548c\u7f16\u7801\u4e00\u7cfb\u5217\u7684\u5fae\u63a7\u5236\u5668\"queue_step\"\uff08\u961f\u5217\u6b65\u8fdb\uff09\u547d\u4ee4\u3002\u8fd9\u4e9b\"queue_step\"\u547d\u4ee4\u5c06\u88ab\u961f\u5217\u5316\uff0c\u4f18\u5148\u5904\u7406\uff0c\u5e76\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e2d\uff08\u4e0a\u4f4d\u673a\u901a\u8fc7 stepcompress.c:steppersync\uff1b\u4e0b\u4f4d\u673a\u901a\u8fc7serialqueue.c:serialqueue)\uff09\u3002 \u5728\u5fae\u63a7\u5236\u5668\uff0cqueue_step\u547d\u4ee4\u5c06\u7ecf\u7531 src/command.c \u5904\u7406\u3002\u6539\u4ee3\u7801\u5c06\u5bf9\u547d\u4ee4\u8fdb\u884c\u89e3\u91ca\uff0c\u5e76\u8c03\u7528 command_queue_step() \u3002command_queue_step()\uff08\u4f4d\u4e8esrc/stepper.c\uff09\u5c06\u6bcf\u4e2aqueue_step\u547d\u4ee4\u7684\u53c2\u6570\u9644\u52a0\u5230\u5bf9\u5e94\u7684\u6b65\u8fdb\u961f\u5217\u4e2d\u3002\u6b63\u5e38\u8fd0\u884c\u4e0b\uff0c\u4e00\u201c\u6b65\u201d\u5c06\u5728\u5176\u6267\u884c\u524d100ms\u88ab\u89e3\u91ca\u5e76\u52a0\u5165\u961f\u5217\u3002\u6700\u540e\u901a\u8fc7 stepper_event() \u7ed3\u675f\u6b65\u8fdb\u4e8b\u4ef6\u7684\u751f\u6210\u3002\u8be5\u4ee3\u7801\u4f1a\u57fa\u4e8equeue_step\u547d\u4ee4\u7684\u53c2\u6570\u751f\u6210\u6b65\u8fdb\u8109\u51b2\uff0c\u5e76\u5b89\u6392\u4e0b\u4e00\u6b21\u6b65\u8fdb\u8109\u51b2\u751f\u6210\u7684\u65f6\u95f4\u3002\u786c\u4ef6\u5b9a\u65f6\u5668\u53d1\u51fa\u4e2d\u65ad\uff0c\u5728\u8bbe\u5b9a\u7684\u4e8b\u4ef6\u8c03\u7528\u76f8\u5e94\u7684stepper_event\u3002queue_step\u547d\u4ee4\u7684\u53c2\u6570\u5305\u542b\u201c\u95f4\u9694\u201d\u3001\u201c\u8ba1\u6570\u201d\u3001\u201c\u589e\u91cf\u201d\u3002\u603b\u4f53\u800c\u8a00\uff0cstepper_event()\u5c06\u6267\u884c\u4e0b\u5217\u5185\u5bb9\uff0c\u201c\u8bb0\u5f55\u65f6\u95f4\u201d: do_step(); next_wake_time = last_wake_time + interval; interval += add; \u4e0a\u9762\u7684\u8fd0\u52a8\u8fc7\u7a0b\u770b\u4f3c\u5341\u5206\u590d\u6742\u3002\u7136\u800c\uff0c\u771f\u6b63\u9700\u8981\u6ce8\u610f\u7684\u53ea\u6709ToolHead\uff08\u6253\u5370\u5934\uff09 \u548c kinematic \uff08\u8fd0\u52a8\u5b66\uff09\u7c7b\uff0c\u4e0a\u8ff0\u4e24\u4e2a\u7c7b\u7684\u4ee3\u7801\u786e\u5b9a\u4e86\u8fd0\u52a8\u6267\u884c\u548c\u5b9a\u65f6\u3002\u5269\u4e0b\u7684\u4ee3\u7801\u4ec5\u7528\u4e8e\u5904\u7406\u901a\u8baf\u548c\u7ba1\u9053\u7684\u95ee\u9898\u3002","title":"\u5178\u578b\u8fd0\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u6d41"},{"location":"Code_Overview.html#_6","text":"Klippy\u4e0a\u4f4d\u673a\u7684\u4e3b\u7a0b\u5e8f\u80fd\u5bf9\u6a21\u5757\u8fdb\u884c\u70ed\u52a0\u8f7d\u3002\u5982\u679c\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u51fa\u73b0\u4e86\u7c7b\u4f3c\"[my_module]\" \u7684\u5b57\u6bb5\u540d\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u5c1d\u8bd5\u52a0\u8f7d klippy/extras/my_module.py \u6587\u4ef6\u5185\u7684\u6a21\u5757\u3002Klipper\u63a8\u8350\u4f7f\u7528\u4e0a\u8ff0\u65b9\u5f0f\u6269\u5c55Klipper\u529f\u80fd\u3002 \u65b0\u589e\u6a21\u5757\u7684\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u662f\u53c2\u7167\u5df2\u6709\u7684\u6a21\u5757 - \u4e0b\u9762\u5c06\u4ee5 klippy/extras/servo.py \u4f5c\u4e3a\u4f8b\u5b50\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e9b\u6709\u7528\u7684\u4fe1\u606f\uff1a \u6a21\u5757\u7684\u8fd0\u4f5c\u8d77\u59cb\u4e8e\u6a21\u5757\u7ea7\u522b\u7684 load_config() \u51fd\u6570\uff08\u9488\u5bf9\u5f62\u5982 [my_module] \u7684\u914d\u7f6e\u5757\uff09\u6216 load_config_prefix() \uff08\u5bf9 [my_module my_name] \u914d\u7f6e\u5757\uff09\u3002\u8be5\u65b9\u6cd5\u5c06\u63a5\u53d7\u4e00\u4e2a \"config\" \u5bf9\u8c61\u5e76\u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u4e0e\u76ee\u6807\u529f\u80fd\u76f8\u5173\u7684\u65b0\"printer object\"\u3002 \u5728\u521b\u5efa\u65b0\"printer object\"\u7684\u5b9e\u4f8b\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\"config\"\u5bf9\u8c61\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u4e2d\u76f8\u5e94\u914d\u7f6e\u5757\u4e2d\u7684\u4fe1\u606f\u3002\u6b64\u65f6\u53ef\u4f7f\u7528 config.get() \uff0c config.getfloat() \uff0c config.getint() \u7b49\u65b9\u6cd5\u3002\u5e94\u786e\u4fdd\u6240\u9700\u7684\u53c2\u6570\u5728 \"printer object\" \u6784\u5efa\u9636\u6bb5\u65f6\u5b8c\u6210\u8bfb\u53d6\u3002\u5982\u679c\u7528\u6237\u53c2\u6570\u6ca1\u6709\u5728\u8be5\u9636\u6bb5\u5b8c\u6210\u8bfb\u53d6\uff0c\u7a0b\u5e8f\u5c06\u8ba4\u4e3a\u8fd9\u662f\u914d\u7f6e\u4e2d\u7684\u9519\u5b57\uff0c\u5e76\u629b\u51fa\u5f02\u5e38\u3002 \u4f7f\u7528 config.get_printer() \u65b9\u6cd5\u83b7\u53d6\u4e3b\"printer\"\u7c7b\u7684\u5f15\u7528\u3002\u8be5\"printer\"\u7c7b\u5b58\u50a8\u4e86\u6240\u6709\u5b9e\u4f8b\u5316\u4e86\u7684\"printer objects\"\u7684\u5f15\u7528\u3002\u4f7f\u7528 printer.lookup_object() \u65b9\u6cd5\u83b7\u53d6\u5176\u4ed6\"printer objects\"\u7684\u5f15\u7528\u3002\u51e0\u4e4e\u5168\u90e8\u7684\u529f\u80fd\uff08\u5305\u62ec\u8fd0\u52a8\u63a7\u5236\u6a21\u5757\uff09\u90fd\u5305\u88c5\u4e3a\"printer objects\"\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5f53\u4e00\u4e2a\u65b0\u6a21\u5757\u5b9e\u4f8b\u5316\u7684\u65f6\u5019\uff0c\u5e76\u975e\u6240\u6709\u5176\u4ed6\u7684\"printer objects\"\u5747\u5df2\u5b8c\u6210\u5b9e\u4f8b\u5316\u3002\u5176\u4e2d\"gcode\"\u548c\"pins\"\u6a21\u5757\u603b\u662f\u53ef\u7528\uff0c\u4f46\u5bf9\u4e8e\u5176\u4ed6\u6a21\u5757\u6700\u597d\u63a8\u8fdf\u67e5\u627e\u3002 \u5982\u679c\u4ee3\u7801\u9700\u8981\u5728\u5176\u4ed6\"printer objects\"\u53d1\u8d77\u4e8b\u4ef6\uff08event\uff09\u65f6\u88ab\u8c03\u7528\uff0c\u53ef\u901a\u8fc7 printer.register_event_handler() \u6ce8\u518c\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u3002\u6bcf\u4e2a\u4e8b\u4ef6\u7684\u540d\u79f0\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u6309\u7167\u60ef\u4f8b\uff0c\u5b83\u662f\u5f15\u53d1\u8be5\u4e8b\u4ef6\u7684\u4e3b\u8981\u6e90\u6a21\u5757\u7684\u540d\u79f0\uff0c\u4ee5\u53ca\u6b63\u5728\u53d1\u751f\u7684\u52a8\u4f5c\u7684\u7b80\u77ed\u540d\u79f0\uff08\u4f8b\u5982\uff0c\"klippy:connect\"\uff09\u3002\u4f20\u9012\u7ed9\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u7684\u53c2\u6570\u56e0\u5904\u7406\u51fd\u6570\u800c\u5f02\uff08\u5f02\u5e38\u5904\u7406\u548c\u6267\u884c\u73af\u5883\u4e5f\u662f\u5982\u6b64\uff09\u3002\u5e38\u89c1\u7684\u4e24\u79cd\u8d77\u59cb\u4e8b\u4ef6\u4e3a\uff1a klippy:connect - \u8be5\u4e8b\u4ef6\u5728\u6240\u6709 \"printer objects\" \u5b9e\u4f8b\u5316\u540e\u53d1\u8d77\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u67e5\u627e\u5176\u4ed6\"printer objects\"\uff0c\u6838\u5b9e\u914d\u7f6e\uff0c\u5e76\u4e0emcu\u8fdb\u884c\u521d\u59cb\u63e1\u624b\u3002 klippy:ready - \u8be5\u4e8b\u4ef6\u5728\u6240\u6709connect\u5904\u7406\u7a0b\u5e8f\u6210\u529f\u5730\u5b8c\u6210\u540e\u53d1\u8d77\u3002\u5b83\u610f\u5473\u7740\u6253\u5370\u673a\u8f6c\u4e3a\u7b49\u5f85\u5e38\u89c4\u6307\u4ee4\u7684\u5f85\u547d\u72b6\u6001\u3002\u4e0d\u5e94\u5728\u8be5\u56de\u8c03\u51fd\u6570\u4e2d\u629b\u51fa\u5f02\u5e38\u3002 \u5982\u679c\u7528\u6237\u914d\u7f6e\u4e2d\u5b58\u5728\u9519\u8bef\uff0c\u5e94\u5728 load_config() \u6216\u8fde\u63a5\u4e8b\u4ef6\uff08connect event\uff09\u4e2d\u629b\u51fa\u5f02\u5e38\u3002\u4f7f\u7528 raise config.error(\"my error\") \u6216 raise printer.config_error(\"my error\") \u8fdb\u884c\u544a\u8b66\u3002 \u4f7f\u7528\"pins\"\u6a21\u5757\u5bf9\u5fae\u63a7\u5236\u5668\u7684\u5f15\u811a\u8fdb\u884c\u5b9a\u4e49\uff0c\u4f8b\u5982 printer.lookup_object(\"pins\").setup_pin(\"pwm\", config.get(\"my_pin\")) \u3002\u6b64\u540e\uff0c\u8fd0\u884c\u65f6\uff0c\u53ef\u901a\u8fc7\u8fd4\u56de\u7684\u5bf9\u8c61\u5bf9\u9488\u811a\u8fdb\u884c\u63a7\u5236\u3002 \u5982\u679c\u6253\u5370\u673a\u5bf9\u8c61\u4e2d\u5b9a\u4e49\u4e86 get_status() \u65b9\u6cd5\uff0c\u5219\u5728\u6a21\u5757\u4e2d\u53ef\u4ee5\u901a\u8fc7 \u5b8f \u6216 API\u670d\u52a1 \u8f93\u51fa \u72b6\u6001\u4fe1\u606f \u3002 get_status() \u5fc5\u987b\u8fd4\u56de\u4e00\u4e2aPython\u5b57\u5178\u5bf9\u8c61\uff0c\u5176\u952e\u9700\u8981\u4e3a\u5b57\u7b26\u4e32\uff0c\u800c\u503c\u5e94\u4e3a\u6574\u5f62\u3001\u6d6e\u70b9\u6570\u3001\u5217\u8868\u3001\u5b57\u5178\u3001True\u3001False\u6216\u8005None\u3002\u5143\u7ec4\uff08\u6216\u547d\u540d\u5143\u7ec4\uff09\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u503c\uff08\u5b83\u4eec\u5728API\u670d\u52a1\u4e2d\u5c06\u88ab\u89c6\u4e3a\u5217\u8868\uff09\u3002\u5217\u8868\u548c\u5b57\u5178\u7684\u8f93\u51fa\u503c\u5fc5\u987b\u4e3a\u201c\u4e0d\u53ef\u53d8\u7684\uff08immutable\uff09\u201d\uff0c\u5373\u5728\u51fd\u6570\u5185\uff0c\u5982\u679c get_status() \u9700\u8981\u8f93\u51fa\u4e0a\u8ff0\u7c7b\u578b\u7684\u5b9e\u4f8b\uff0c\u5219\u9700\u8981\u65b0\u5efa\u6216\u8005\u8fdb\u884c\u6df1\u5c42\u590d\u5236\uff0c\u5426\u5219API\u670d\u52a1\u4f1a\u8bc6\u522b\u51fa\u8f93\u51fa\u503c\u4e2d\u7684\u5185\u5bb9\u53d8\u66f4\u3002 \u5982\u679c\u6a21\u5757\u9700\u8981\u4f7f\u7528\u7cfb\u7edf\u65f6\u949f\u6216\u5916\u90e8\u6587\u4ef6\u63cf\u8ff0\u7b26\uff0c\u53ef\u901a\u8fc7 printer.get_reactor() \u5bf9\u83b7\u53d6\u5168\u5c40\u4e8b\u4ef6\u53cd\u5e94\u5668\u8fdb\u884c\u8bbf\u95ee\uff08event reactor\uff09\u3002\u901a\u8fc7\u8be5\u53cd\u5e94\u5668\u7c7b\u53ef\u4ee5\u90e8\u7f72\u5b9a\u65f6\u5668\uff0c\u7b49\u5f85\u6587\u4ef6\u63cf\u8ff0\u7b26\u8f93\u5165\uff0c\u6216\u8005\u201c\u6302\u8d77\u201d\u4e0a\u4f4d\u673a\u7a0b\u5e8f\u3002 \u4e0d\u5e94\u4f7f\u7528\u5168\u5c40\u53d8\u91cf\u3002\u5168\u90e8\u72b6\u6001\u91cf\u5e94\u5b58\u50a8\u4e8e \"printer objects\"\uff0c\u5e76\u901a\u8fc7 load_config() \u8fdb\u884c\u8bbf\u95ee\u3002\u5426\u5219\uff0cRESTART\u547d\u4ee4\u7684\u884c\u4e3a\u5c06\u65e0\u6cd5\u9884\u6d4b\u3002\u540c\u6837\uff0c\u4efb\u4f55\u5728\u8fd0\u884c\u65f6\u6253\u5f00\u7684\u5916\u90e8\u6587\u4ef6\uff08\u6216\u5957\u63a5\u5b57\uff09\uff0c\u5e94\u5728\"klippy:disconnect\"\u7684\u4e8b\u4ef6\u5185\u6ce8\u518c\u76f8\u5e94\u7684\u56de\u8c03\u51fd\u6570\u8fdb\u884c\u5173\u95ed\u3002 \u5e94\u907f\u514d\u8bbf\u95ee\u5176\u4ed6\"printer objects\"\u79c1\u6709\u5bf9\u8c61\u5c5e\u6027\uff08\u6216\u8c03\u7528\u547d\u540d\u4ee5\u4e0b\u5212\u7ebf\u5f00\u59cb\u7684\u65b9\u6cd5\uff09\u3002\u9075\u5faa\u8fd9\u4e00\u65b9\u5f0f\u53ef\u65b9\u4fbf\u4e4b\u540e\u7684\u53d8\u66f4\u3002 \u63a8\u8350\u5728\u7c7b\u7684\u5de5\u5382\u51fd\u6570\u4e2d\u5c06\u6240\u6709\u6210\u5458\u53d8\u91cf\u5b9e\u4f8b\u5316\uff08\u5373\u907f\u514d\u4f7f\u7528Python\u7684\u52a8\u6001\u53d8\u52a8\u6210\u5458\u53d8\u91cf\u7684\u529f\u80fd\uff09\u3002 \u82e5\u4e00Python\u53d8\u91cf\u5b58\u653e\u6709\u4e00\u6d6e\u70b9\u6570\uff0c\u90a3\u4e48\u5efa\u8bae\u8be5\u53d8\u91cf\u5e94\u603b\u8d4b\u4e88\u6d6e\u70b9\u7c7b\u578b\u7684\u91cf\uff0c\u5e76\u4ec5\u4f7f\u7528\u6d6e\u70b9\u6570\u5e38\u91cf\u8fdb\u884c\u503c\u8fd0\u7b97\uff08\u5e76\u7edd\u4e0d\u4f7f\u7528\u6574\u5f62\u5e38\u6570\u8fdb\u884c\u8fd0\u7b97\uff09\u3002\u4f8b\u5982\uff0c\u5e94\u4f7f\u7528 self.speed = 1. \u800c\u975e self.speed = 1 \uff0c\u5e76\u4ee5 self.speed = 2. * x \u66ff\u4ee3 self.speed = 2 *x \u3002\u4e00\u81f4\u5730\u4f7f\u7528\u6d6e\u70b9\u503c\u53ef\u4ee5\u907f\u514dPython\u7c7b\u578b\u8f6c\u6362\u4e2d\u96be\u4ee5\u8c03\u8bd5\u7684\u602a\u5f02\u73b0\u8c61\u3002 \u82e5\u9700\u5411 klipper \u6bcd\u5206\u652f\u63d0\u4ea4\u6a21\u5757\u7684\u4ee3\u7801\uff0c\u8bf7\u5728\u6a21\u5757\u4ee3\u7801\u7684\u5934\u90e8\u52a0\u5165\u7248\u6743\u58f0\u660e\u3002\u8be6\u8bf7\u53c2\u8003\u5df2\u6709\u6a21\u5757\u7684\u683c\u5f0f\u3002","title":"\u6dfb\u52a0\u4e0a\u4f4d\u673a\u6a21\u5757"},{"location":"Code_Overview.html#_7","text":"\u672c\u8282\u5c06\u63d0\u4f9b\u4e3aKlipper\u589e\u52a0\u65b0\u8fd0\u52a8\u5b66\u6a21\u578b\u7684\u63d0\u793a\u3002\u8fd9\u9700\u8981\u5bf9\u76ee\u6807\u8fd0\u52a8\u5b66\u65b9\u7a0b\u6709\u6df1\u5165\u7684\u4e86\u89e3\u3002\u8fd9\u540c\u65f6\u9700\u8981\u4e00\u5b9a\u7684\u8f6f\u4ef6\u5f00\u53d1\u6280\u5de7\u2014\u5c3d\u7ba1\u5927\u591a\u60c5\u51b5\u4e0b\u53ea\u9700\u8981\u66f4\u65b0\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u3002 \u6b65\u9aa4\uff1a \u5f00\u59cb\u5e94\u7814\u7a76 \" \u79fb\u52a8\u547d\u4ee4\u7684\u4ee3\u7801\u6d41 \" \u7ae0\u8282\u548c \u52a8\u529b\u5b66\u6587\u6863 . \u53c2\u8003\u4f4d\u4e8eklippy/kinematics/\u76ee\u5f55\u5df2\u6709\u7684\u8fd0\u52a8\u5b66\u7c7b\u3002\u52a8\u529b\u5b66\u7c7b\u65e8\u5728\u5c06\u4e00\u4e2a\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\u7684\u8fd0\u52a8\u8f6c\u5316\u4e3a\u5404\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u8fd0\u52a8\u3002\u5efa\u8bae\u590d\u5236\u5df2\u6709\u7684\u4ee3\u7801\uff0c\u5e76\u5728\u5176\u57fa\u7840\u4e0a\u8fdb\u884c\u4fee\u6539\u3002 \u82e5\u9700\u8981\u7684\u8fd0\u52a8\u5b66\u65b9\u7a0b\u672a\u88abKlipper\u6db5\u76d6\uff0c\u5219\u5e94\u4f7f\u7528C\u8bed\u8a00\u5b9e\u73b0\u65b0\u52a8\u529b\u5b66\u4f53\u7cfb\u4e2d\u5404\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u4f4d\u7f6e\u65b9\u7a0b\uff08\u89c1klippy/chelper/\uff0c\u5982kin_cart.c, kin_corexy.c, and kin_delta.c\uff09\u3002\u4f4d\u7f6e\u65b9\u7a0b\u4e2d\u5e94\u8c03\u7528 move_get_coord() \u4ee5\u5c06\u8fd0\u52a8\u7684\u65f6\u95f4\u70b9\uff08\u5355\u4f4d \uff1a\u79d2\uff09\u8f6c\u5316\u4e3a\u5bf9\u5e94\u7684\u7b1b\u5361\u5c14\u5750\u6807\u4f4d\u7f6e\uff08\u5355\u4f4d\uff1a\u6beb\u7c73\uff09\uff0c\u8fdb\u800c\u8ba1\u7b97\u76ee\u6807\u6b65\u8fdb\u7535\u673a\u8fd0\u52a8\u76ee\u6807\u4f4d\u7f6e\uff08\u5355\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 \u5728\u65b0\u7684\u8fd0\u52a8\u5b66\u7c7b\u4e2d\u5b9e\u73b0 calc_position \u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u5c06\u901a\u8fc7\u5404\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u4f4d\u7f6e\u8ba1\u7b97\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e0b\u7684\u6253\u5370\u5934\u4f4d\u7f6e\uff1b\u540c\u65f6\u8be5\u65b9\u6cd5\u901a\u5e38\u53ea\u5728\u56de\u96f6\u548cz\u63a2\u6d4b\u65f6\u4f7f\u7528\uff0c\u56e0\u6b64\u65e0\u9700\u8fc7\u5206\u8ffd\u6c42\u6548\u7387\u3002 \u4e4b\u540e\u5b9e\u73b0 check_move() , get_status() , get_steppers() , home() , set_position() \u65b9\u6cd5\u3002\u8fd9\u4e9b\u51fd\u6570\u7528\u4e8e\u7279\u5b9a\u7684\u8fd0\u52a8\u5b66\u68c0\u67e5\u3002\u5728\u5f00\u53d1\u7684\u521d\u671f\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5df2\u6709\u4ee3\u7801\u3002 \u6dfb\u52a0\u6d4b\u8bd5\u5b9e\u4f8b\u3002\u521b\u5efa\u4e00\u4e2aG\u4ee3\u7801\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u7cfb\u5217\u7684\u8fd0\u52a8\u547d\u4ee4\u7528\u4e8e\u6d4b\u8bd5\u65b0\u589e\u7684\u8fd0\u52a8\u5b66\u6a21\u578b\u3002 \u6309\u7167 \u8c03\u8bd5\u6587\u6863 \u5c06\u8be5G\u4ee3\u7801\u6587\u4ef6\u8f6c\u6362\u4e3a\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u5728\u906d\u9047\u56f0\u96be\u72b6\u51b5\u548c\u68c0\u67e5\u6570\u636e\u4f20\u9012\u76f8\u5f53\u6709\u7528\u3002","title":"\u589e\u52a0\u65b0\u8fd0\u52a8\u5b66\u6a21\u578b"},{"location":"Code_Overview.html#_8","text":"\u8be5\u8282\u5c06\u4ecb\u7ecd\u5c06Klipper\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u79fb\u690d\u5230\u65b0\u67b6\u6784\u65f6\u7684\u4e00\u4e9b\u63d0\u793a\u3002\u8be5\u64cd\u4f5c\u5c06\u9700\u8981\u5bf9\u5d4c\u5165\u5f0f\u5f00\u53d1\u6709\u4e00\u5b9a\u7684\u8ba4\u8bc6\u5e76\u5e94\u6709\u76ee\u6807\u5fae\u63a7\u5236\u5668\u7684\u5f00\u53d1\u5e73\u53f0\u3002 \u6b65\u9aa4\uff1a \u9996\u5148\u5e94\u786e\u5b9a\u79fb\u690d\u6240\u9700\u7684\u7b2c\u4e09\u65b9\u5e93\u3002\u5e38\u89c1\u7684\u4f8b\u5b50\u4e3a\u201cCMSIS\u201d\u5305\u88c5\u5668\u548c\u5382\u5546\u7684\u201cHAL\u201d\u5e93\u3002\u5168\u90e8\u7b2c\u4e09\u65b9\u4ee3\u7801\u5e94\u9075\u5faa\u6216\u517c\u5bb9GNU GPLv3\u534f\u8bae\u3002\u7b2c\u4e09\u65b9\u4ee3\u7801\u5e94\u63d0\u4ea4\u5230Klipper\u7684/lib\u6587\u4ef6\u5939\u3002\u66f4\u65b0lib/README\u6ce8\u660e\u7b2c\u4e09\u65b9\u5e93\u7684\u83b7\u53d6\u9014\u5f84\u548c\u66f4\u65b0\u65f6\u95f4\u3002\u63a8\u8350\u4e0d\u6539\u53d8\u5185\u5bb9\uff0c\u76f4\u63a5\u5c06\u4ee3\u7801\u590d\u5236\u5230Klipper\uff0c\u4f46\u5982\u679c\u9700\u8981\u8fdb\u884c\u53d8\u66f4\uff0c\u5e94\u5c06\u6240\u505a\u7684\u4fee\u6539\u5217\u5728lib/README\u6587\u4ef6\u4e2d\u3002 \u5728src/\u4e0b\u65b0\u5efa\u4e00\u4e2a\u65b0\u67b6\u6784\u7684\u5b50\u76ee\u5f55\uff0c\u5e76\u521b\u5efa\u5bf9\u5e94\u7684\u521d\u59cbKconfig\u548cMakefile\u3002\u4ee5\u5df2\u6709\u7684\u67b6\u6784\u4f5c\u4e3a\u6a21\u7248\uff0c\u5176\u4e2dsrc/simulator\u7ed9\u51fa\u4e86\u5fae\u63a7\u5236\u5668\u67b6\u6784\u7684\u57fa\u672c\u9700\u6c42\u3002 \u9996\u8981\u4efb\u52a1\u662f\u5728\u76ee\u6807\u6253\u5370\u673a\u4e3b\u677f\u4e0a\u5b9e\u73b0\u901a\u8baf\u3002\u8fd9\u662f\u589e\u52a0\u652f\u6301\u4e2d\u6700\u96be\u7684\u4e00\u6b65\uff0c\u5b9e\u73b0\u8be5\u529f\u80fd\u540e\u4e00\u5207\u5c06\u9614\u7136\u5f00\u6717\u3002\u5728\u5f00\u8352\u65f6\uff0c\u4e00\u822c\u4f7f\u7528\u4e32\u884c\u603b\u7ebf\u8fdb\u884c\u5f00\u53d1\uff0c\u56e0\u4e3a\u901a\u5e38\u4e32\u884c\u603b\u7ebf\u5df2\u4e8e\u5e94\u7528\u548c\u63a7\u5236\u3002\u5728\u6b64\u9636\u6bb5\uff0c\u53ef\u5927\u91cf\u4f7f\u7528 src/generic/ \u76ee\u5f55\u4e2d\u7684\u4e2d\u7684\u8f85\u52a9\u4ee3\u7801\uff08\u53ef\u53c2\u8003 src/simulator/Makefile \u4e2d\u5982\u4f55\u5c06\u4e0a\u8ff0\u4ee3\u7801\u52a0\u5165\u6784\u5efa\uff09\u3002\u540c\u65f6\uff0c\u9700\u8981\u5728\u8fd9\u9636\u6bb5\u5b8c\u6210 timer_read_time() \u7684\u5b9a\u4e49\uff08\u7528\u4e8e\u83b7\u53d6\u73b0\u65f6\u7cfb\u7edf\u65f6\u949f\uff09\uff0c\u4f46\u65e0\u9700\u5b8c\u5168\u5b9e\u73b0\u5b9a\u65f6\u4e2d\u65ad\u529f\u80fd\u3002 \u4f9d\u7167 \u8c03\u8bd5\u6587\u6863 \u719f\u6089console.py\u5de5\u5177\uff0c\u5e76\u4f7f\u7528\u8be5\u5de5\u5177\u6838\u5b9e\u5fae\u63a7\u5236\u5668\u7684\u8fde\u63a5\u3002\u8be5\u5de5\u5177\u5c06\u5e95\u5c42\u5fae\u63a7\u5236\u5668\u901a\u8baf\u534f\u8bae\u8f6c\u6362\u4e3a\u53ef\u8bfb\u5f62\u5f0f\u3002 \u589e\u52a0\u5bf9\u786c\u4ef6\u4e2d\u65ad\u7684\u5b9a\u65f6\u5668\u8c03\u5ea6\u7684\u652f\u6301\u3002\u53c2\u89c1 Klipper commit 970831ee \uff0c\u4f5c\u4e3a\u9488\u5bf9LPC176x\u67b6\u6784\u7684\u6b65\u9aa41-5\u7684\u4f8b\u5b50\u3002 \u63d0\u4f9b\u57fa\u672c\u7684 GPIO \u8f93\u5165\u548c\u8f93\u51fa\u652f\u6301\u3002\u53c2\u89c1 Klipper commit c78b9076 \u4f5c\u4e3a\u4e00\u4e2a\u4f8b\u5b50\u3002 \u542f\u52a8\u5176\u4ed6\u5916\u56f4\u8bbe\u5907-\u53c2\u9605Klipper\u63d0\u4ea4 65613aed \uff0c c812a40a \uff0c\u548c c381d03a \u7684\u4f8b\u5b50\u3002 \u5728config/\u76ee\u5f55\u65b0\u5efa\u4e00\u4e2a\u914d\u7f6e\u4e8b\u4f8b\uff0c\u5e76\u4f7f\u7528Klipper.py\u7684\u4e3b\u7a0b\u5e8f\u8fdb\u884c\u8bbe\u7f6e\u3002 \u8003\u8651\u5728test/\u76ee\u5f55\u52a0\u5165\u6784\u5efa\u6d4b\u8bd5\u7684\u4e8b\u4f8b\u3002 \u8fd8\u6709\u4e00\u4e9btips\uff1a \u907f\u514d\u4f7f\u7528\u201cC\u4f4d\u6bb5\u201d\uff08C bitfield\uff09\u8bbf\u95eeIO\u5bc4\u5b58\u5668\uff1b\u5e94\u4f7f\u7528\u76f4\u63a5\u5bf932\u4f4d\u300116\u4f4d\u548c8\u4f4d\u7684\u6574\u6570\u8bfb\u5199\u4ee3\u66ff\u3002C\u8bed\u8a00\u89c4\u8303\u4e2d\u6ca1\u6709\u5bf9\u4f4d\u6bb5\u64cd\u4f5c\u8fdb\u884c\u6e05\u6670\u5b9a\u4e49\uff08\u4f8b\u5982\u7aef\u5e8f\u3001\u5b57\u5e03\u5c40\u7b49\uff09\uff0c\u4e14\u5728IO\u64cd\u4f5c\u65f6\u4f7f\u7528C\u6bb5\u4f4d\u8bfb\u5199\uff0c\u5c06\u96be\u4ee5\u786e\u5b9a\u5177\u4f53\u8fdb\u884c\u4e86\u4f55\u79cdIO\u64cd\u4f5c\u3002 IO\u5bc4\u5b58\u5668\u64cd\u4f5c\u65f6\u5e94\u4f7f\u7528\u663e\u5f0f\u8d4b\u503c\uff0c\u907f\u514d\u4f7f\u7528\u201c\u8bfb-\u6539-\u5199\u201d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u5728\u4e00\u4e2aIO\u5bc4\u5b58\u5668\u4e2d\u66f4\u65b0\u4e00\u4e2a\u5b57\u6bb5\uff0c\u800c\u5176\u4ed6\u5b57\u6bb5\u7684\u503c\u662f\u5df2\u77e5\u7684\uff0c\u90a3\u4e48\u6700\u597d\u662f\u663e\u5f0f\u5730\u5199\u5165\u5bc4\u5b58\u5668\u7684\u5168\u90e8\u5185\u5bb9\u3002\u663e\u5f0f\u5199\u5165\u4ea7\u751f\u7684\u4ee3\u7801\u66f4\u5c0f\uff0c\u66f4\u5feb\uff0c\u66f4\u5bb9\u6613\u8c03\u8bd5\u3002","title":"\u79fb\u690d\u5230\u65b0\u7684\u5fae\u63a7\u5236\u5668"},{"location":"Code_Overview.html#_9","text":"\u5185\u90e8\u800c\u8a00\uff0cKlipper\u4f7f\u7528\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u8ffd\u8e2a\u6253\u5370\u5934\u7684\u4f4d\u7f6e\uff0c\u5176\u5750\u6807\u7cfb\u8bbe\u7f6e\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u7684\u5750\u6807\u7cfb\u800c\u53d8\u5316\u3002\u56e0\u6b64\uff0cKIlipper\u7684\u6267\u884c\u5728\u7edd\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\u90fd\u4e0d\u4f1a\u53d8\u6362\u5750\u6807\u7cfb\u3002\u5982\u679c\u7528\u6237\u8fdb\u884c\u539f\u70b9\u7684\u53d8\u6362\uff08\u5982\u6267\u884c G92 \u547d\u4ee4\uff09\uff0cKlipper\u4f1a\u5c06\u540e\u7eed\u547d\u4ee4\u8f6c\u5316\u5230\u539f\u59cb\u5750\u6807\u7cfb\u4e0a\u8fdb\u884c\u6267\u884c\u3002 \u7136\u800c\uff0c\u5728\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u83b7\u53d6\u5176\u4ed6\u5750\u6807\u7cfb\u4e2d\u6253\u5370\u5934\u7684\u4f4d\u7f6e\u3002Klipper\u63d0\u4f9b\u6570\u79cd\u5de5\u5177\u4ee5\u5b9e\u73b0\u4e0a\u8ff0\u529f\u80fd\u3002\u8fd0\u884cGET_POSITION\u53ef\u4ee5\u83b7\u5f97\u4e0a\u8ff0\u6570\u636e\uff0c\u5982\uff1a Send: GET_POSITION Recv: // mcu: stepper_a:-2060 stepper_b:-1169 stepper_c:-1613 Recv: // stepper: stepper_a:457.254159 stepper_b:466.085669 stepper_c:465.382132 Recv: // kinematic: X:8.339144 Y:-3.131558 Z:233.347121 Recv: // toolhead: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode base: X:0.000000 Y:0.000000 Z:0.000000 E:0.000000 Recv: // gcode homing: X:0.000000 Y:0.000000 Z:0.000000 \u201c\u5fae\u63a7\u5236\u5668\u4f4d\u7f6e\u201d\uff08 stepper.get_mcu_position() \uff09\u662f\u5fae\u63a7\u5236\u5668\u6700\u540e\u4e00\u6b21\u91cd\u7f6e\u540e\u6267\u884c\u7684\u201c\u6b63\u5411\u201d\u6b65\u6570\u603b\u6570 - \u201c\u8d1f\u5411\u201d\u6b65\u6570\u603b\u6570\u7684\u503c\u3002\u5982\u679c\u8bbe\u5907\u5904\u4e8e\u673a\u68b0\u8fd0\u52a8\u65f6\uff0c\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de\u5305\u542b\u8fd0\u52a8\u7f13\u51b2\u533a\u4e2d\u7684\u4f4d\u7f6e\u503c\uff0c\u4f46\u4e0d\u5305\u542b\u9884\u8ba1\u961f\u5217\u4e2d\u7684\u8fd0\u52a8\u503c\u3002 \u201c\u6b65\u8fdb\u7535\u673a\u201d\u90e8\u5206\uff08 stepper.get_commanded_position() \uff09\u662f\u8fd0\u52a8\u5b66\u6a21\u578b\u4e2d\u8bb0\u5f55\u7684\u7279\u5b9a\u6b65\u8fdb\u7535\u673a\u4f4d\u7f6e\u3002\u901a\u5e38\u662f\u5bf9\u5e94\u8f68\u9053\u7684\u76f8\u5bf9\u4e8e\u8bbe\u5b9a\u4e2d\u7684position_endstop\u8bbe\u5b9a\u503c\u7684\u6ed1\u8f66\u4f4d\u7f6e\uff08\u5355\u4f4d\u4e3a\u6beb\u7c73\uff0c\u4f46\u90e8\u5206\u8bbe\u5b9a\u4e2d\u4f7f\u7528\u7684\u662f\u5f27\u5ea6\u5355\u4f4d\u800c\u975e\u7ebf\u6027\u5355\u4f4d\uff09\u3002\u5982\u679c\u5728\u673a\u68b0\u8fd0\u52a8\u65f6\u89e6\u53d1\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5219\u8fd4\u56de\u7684\u503c\u4e3a\u5fae\u63a7\u5236\u5668\u4e2d\u7f13\u5b58\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9884\u8ba1\u961f\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9884\u8ba1\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u8c03\u7528\u5b8c\u5168\u5237\u65b0\u9884\u8ba1\u961f\u5217\u548c\u6b65\u8fdb\u8109\u51b2\u751f\u6210\u4ee3\u7801\u3002 \u8fd0\u52a8\u5b66\u4f4d\u7f6e\uff08 kin.cal_position() \uff09\u662f\u5728\u7b1b\u5361\u5c14\u5750\u6807\u4e0a\u7684\uff0c\u884d\u751f\u4e8e\u6b65\u8fdb\u7535\u673a\u4f4d\u7f6e\u7684\uff0c\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u4e2dposition_endstop\u503c\u7684\u4f4d\u7f6e\u3002\u7531\u4e8e\u6b65\u8fdb\u7535\u673a\u7684\u5206\u8fa8\u7387\u539f\u56e0\uff0c\u8fd9\u53ef\u80fd\u4e0e\u8bf7\u6c42\u7684\u7b1b\u5361\u5c14\u5750\u6807\u503c\u4e0d\u4e00\u81f4\u3002\u5982\u679c\u5728\u673a\u68b0\u8fd0\u52a8\u65f6\u89e6\u53d1\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5219\u8fd4\u56de\u7684\u503c\u4e3a\u5fae\u63a7\u5236\u5668\u4e2d\u7f13\u5b58\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9884\u8ba1\u961f\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9884\u8ba1\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u8c03\u7528\u5b8c\u5168\u5237\u65b0\u9884\u8ba1\u961f\u5217\u548c\u6b65\u8fdb\u8109\u51b2\u751f\u6210\u4ee3\u7801\u3002 \u6253\u5370\u5934\u4f4d\u7f6e\uff08 toolhead.get_position() \uff09\u662f\u6700\u540e\u7684\u8fd0\u52a8\u8bf7\u6c42\u5bf9\u5e94\u7684\uff0c\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u9650\u4f4d\u4f4d\u7f6e\u7684\uff0c\u7b1b\u5361\u5c14\u5750\u6807\u4e0a\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u3002\u5982\u679c\u5728\u673a\u68b0\u8fd0\u52a8\u65f6\u89e6\u53d1\u4e0a\u8ff0\u4ee3\u7801\uff0c\u90a3\u4e48\u8fd4\u56de\u503c\u4f1a\u4f9d\u636e\u8bf7\u6c42\u8fd0\u52a8\u5e8f\u5217\u4e2d\u7684\u8fd0\u52a8\u7ec8\u70b9\u7ed9\u51fa\uff08\u5c3d\u7ba1buffer\u4e2d\u7684\u8fd0\u52a8\u8fd8\u6ca1\u7531\u6b65\u8fdb\u7535\u673a\u89e6\u53d1\uff09\u3002 G\u4ee3\u7801\u4f4d\u7f6e\u65f6\u6700\u540e\u4e00\u6b21\u4f4d\u7f6e\u8bf7\u6c42\u547d\u4ee4\uff08 G1 \u6216 G0 \uff09\u5bf9\u5e94\u7684\uff0c\u5728\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\u76f8\u5bf9\u8bbe\u5b9a\u6587\u4ef6\u4e2d\u7684\u8bbe\u5b9a\u539f\u70b9\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u8fd9\u53ef\u80fd\u4e0e\u201c\u6253\u5370\u5934\u4f4d\u7f6e\u201d\u4e0d\u4e00\u81f4\uff0c\u8fd9\u662f\u56e0\u4e3aG\u4ee3\u7801\u4fee\u6b63\u7684\u5f71\u54cd\uff08\u6bd4\u5982\u5e8a\u7f51\uff0c\u5e8a\u503e\u89d2\u4fee\u6b63\uff0c\u8c03\u5e73\u87ba\u6bcd\u4fee\u6b63\uff09\u3002\u8fd9\u4e5f\u4f1a\u56e0\u4e3aG\u4ee3\u7801\u539f\u70b9\u53d8\u66f4\uff08\u5982 G92 \uff0c SET_GCODE_OFFSET \uff0c M221 \uff09\u800c\u5bfc\u81f4\u8fd4\u56de\u503c\u8ddf\u6700\u540e\u4e00\u6b21 G1 \u547d\u4ee4\u8bf7\u6c42\u7684\u4f4d\u7f6e\u4e0d\u4e00\u81f4\u3002 \uff2d114 \u547d\u4ee4\uff08 gcode_move.get_status()[\u2019gcode_position\u2019] \uff09\u4f1a\u8fd4\u56de\u73b0\u65f6G\u4ee3\u7801\u76f8\u5bf9\u4e8e\u6b64\u65f6\u7684G\u4ee3\u7801\u539f\u70b9\u7684\u4f4d\u7f6e\u3002 G\u4ee3\u7801\u57fa\u51c6\u662f\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\u76f8\u5bf9\u4e8e\u8bbe\u5b9a\u6587\u4ef6\u4e2d\u7684\u8bbe\u5b9a\u539f\u70b9\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u8bf8\u5982 G92 \uff0c SET_GCODE_OFFSET \u548c M221 \u4f1a\u6539\u53d8\u7684\u8fd4\u56de\u503c\u3002 G\u4ee3\u7801\u56de\u96f6\u70b9\u662f\u5728 G28 \u547d\u4ee4\u6267\u884c\u540eG\u4ee3\u7801\u539f\u70b9\u3002\u540c\u6837\uff0c\u8be5\u4f4d\u7f6e\u662f\u7b1b\u5361\u5c14\u5750\u6807\u7cfb\u4e2d\uff0c\u76f8\u5bf9\u4e8e\u8bbe\u7f6e\u6587\u4ef6\u539f\u70b9\u7684\u4f4d\u7f6e\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u4f1a\u6539\u53d8\u8be5\u503c\u3002","title":"\u5750\u6807\u7cfb\u53d8\u6362"},{"location":"Code_Overview.html#_10","text":"\u8be5\u8282\u5c06\u63cf\u8ff0Klipper\u5982\u4f55\u5904\u7406\u65f6\u949f\uff0c\u5b9a\u65f6\u548c\u65f6\u95f4\u6233\u3002Klipper\u901a\u8fc7\u63d0\u524d\u5b89\u6392\u9700\u8981\u6267\u884c\u7684\u884c\u4e3a\u4e8b\u4ef6\u4ece\u800c\u6267\u884c\u52a8\u4f5c\u3002\u4f8b\u5982\uff0c\u8981\u542f\u52a8\u98ce\u6247\uff0c\u4ee3\u7801\u9700\u8981\u5b89\u6392GPIO\u9488\u811a\u5728100ms\u540e\u53d8\u5316\u3002\u4ee3\u7801\u7acb\u5373\u6267\u884c\u52a8\u4f5c\u53cd\u800c\u662f\u7f55\u89c1\u7684\u72b6\u51b5\u3002\u56e0\u6b64\uff0cKlipper\u7684\u6b63\u786e\u8fd0\u884c\u79bb\u4e0d\u5f00\u5bf9\u65f6\u95f4\u7684\u7cbe\u786e\u5904\u7406\u3002 Klipper\u5185\u90e8\u4f7f\u7528\u4e09\u79cd\u4e0d\u540c\u7684\u65f6\u95f4\uff1a \u7cfb\u7edf\u65f6\u95f4\uff08System time\uff09\u3002\u7cfb\u7edf\u65f6\u95f4\u4f7f\u7528\u7cfb\u7edf\u7684\u5355\u8c03\u65f6\u949f\u3002\u8fd9\u662f\u4e00\u4e2a\u4ee5\u79d2\u4e3a\u5355\u4f4d\u50a8\u5b58\u7684\u6d6e\u70b9\u6570\uff0c\u5728\u7cfb\u7edf\u542f\u52a8\u540e\u5f00\u59cb\u7d2f\u8ba1\u3002\u7cfb\u7edf\u65f6\u949f\u7684\u7528\u9014\u6709\u9650\uff0c\u901a\u5e38\u53ea\u4f1a\u5728\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4e92\u52a8\u65f6\u4f7f\u7528\u3002\u5728\u4e0a\u4f4d\u673a\u4e2d\uff0c\u7cfb\u7edf\u65f6\u95f4\u4fdd\u5b58\u5728 eventtime \u6216 curtime \u53d8\u91cf\u4e2d\u3002 \u6253\u5370\u65f6\u95f4\uff08Print time\uff09\u3002\u6253\u5370\u65f6\u95f4\u4f1a\u4e0e\u4e3b\u5fae\u63a7\u5236\u5668\u65f6\u949f\u540c\u6b65\uff08\u5728\u201c[MCU]\u201d\u8bbe\u7f6e\u6bb5\u4e2d\u5b9a\u4e49\u7684\u5fae\u63a7\u5236\u5668\u3002\uff09\u8fd9\u662f\u4e00\u4e2a\u4ee5\u79d2\u4e3a\u5355\u4f4d\u50a8\u5b58\u7684\u6d6e\u70b9\u6570\uff0c\u5e76\u5728\u4e3b\u5fae\u63a7\u5236\u6700\u540e\u4e00\u6b21\u542f\u52a8\u540e\u5f00\u59cb\u4ece0\u7d2f\u52a0\u3002\u901a\u8fc7\u4e58\u4ee5\u8bbe\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u9891\u7387\uff0c\u53ef\u4ee5\u83b7\u5f97\u4e3b\u5fae\u63a7\u5236\u5668\u5185\u90e8\u786c\u4ef6\u65f6\u949f\u503c\u3002\u4e0a\u5c42\u5e94\u7528\u53ef\u4ee5\u901a\u8fc7\u6253\u5370\u65f6\u95f4\u8ba1\u7b97\u51e0\u4e4e\u6240\u6709\u7269\u7406\u884c\u4e3a\uff08\u6bd4\u5982\u6253\u5370\u5934\u8fd0\u52a8\uff0c\u52a0\u70ed\u5668\u53d8\u52a8\u7b49\uff09\u3002\u5728\u4e0a\u4f4d\u673a\u4ee3\u7801\u4e2d\uff0c\u6253\u5370\u65f6\u95f4\u901a\u5e38\u4fdd\u5b58\u5728 print_time \u548c move_time \u53d8\u91cf\u4e2d\u3002 MCU\u65f6\u949f\uff0c\u662f\u5404\u4e2a\u5fae\u63a7\u5236\u5185\u90e8\u7684\u786c\u4ef6\u65f6\u949f\u7d2f\u52a0\u5668\u3002\u5b83\u662f\u57fa\u4e8e\u5fae\u63a7\u5236\u5668\u8bbe\u5b9a\u9891\u7387\u4e3a\u901f\u7387\u8fdb\u884c\u7d2f\u52a0\u7684\uff0c\u4ee5\u6574\u5f62\u4fdd\u5b58\u7684\u503c\u3002\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u5c06\u8f6f\u4ef6\u5185\u90e8\u65f6\u95f4\u8f6c\u6362\u4e3amcu\u65f6\u95f4\u5e76\u5c06\u547d\u4ee4\u4f20\u8f93\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u5fae\u63a7\u5236\u4ee3\u7801\u4ec5\u5728\u65f6\u949f\u8df3\u52a8\u65f6\u66f4\u65b0\u548c\u8ffd\u8e2a\u65f6\u95f4\u3002\u5728\u4e0a\u4f4d\u673a\u4ee3\u7801\u4e2d\uff0c\u65f6\u949f\u503c\u4ee564\u4f4d\u6574\u5f62\u8bb0\u5f55\uff0c\u800c\u5fae\u63a7\u5236\u4ee3\u7801\u5219\u4f7f\u752832\u4f4d\u6574\u5f62\u3002\u5728\u4e0a\u4f4d\u673a\u4ee3\u7801\u4e2d\uff0c\u65f6\u949f\u901a\u5e38\u4ee5 clock \u6216 tick \u53d8\u91cf\u4fdd\u5b58\u3002 \u4e0d\u540c\u65f6\u949f\u683c\u5f0f\u7684\u8f6c\u6362\u4e3b\u8981\u5728 klipper/clocksync.py \u4e2d\u5b9e\u73b0\u3002 \u5728\u68c0\u67e5\u4ee3\u7801\u65f6\u9700\u8981\u6ce8\u610f\uff1a 32\u4f4d\u548c64\u4f4d\u65f6\u949f\uff1a\u4e3a\u4e86\u964d\u4f4e\u5e26\u5bbd\u6d88\u8017\u548c\u63d0\u9ad8\u5fae\u63a7\u5236\u5668\u6548\u7387\uff0c\u5fae\u63a7\u5236\u5668\u65f6\u949f\u4f7f\u752832\u4f4d\u6574\u5f62\u8fdb\u884c\u8ffd\u8e2a\u3002\u5728\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e2d\u5bf9\u6bd4\u4e24\u4e2a\u65f6\u949f\u65f6\uff0c\u5e94\u4fdd\u6301\u8c03\u7528 time_is_before \u4ee5\u786e\u5b9a\u6574\u5f62\u65f6\u949f\u6ca1\u6709\u51fa\u73b0\u6ea2\u51fa\u7684\u60c5\u51b5\u3002\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u901a\u8fc7\u5c06\u5fae\u63a7\u5236\u5668\u6700\u540e\u4e00\u6b21\u8fd4\u56de\u7684\u65f6\u95f4\u6233\u7d2f\u52a0\u5230\u4e3b\u673a\u4ee3\u7801\u65f6\u949f\u7684\u9ad8\u4f4d\u5730\u5740\u4e2d\uff0c\u4ee5\u5b9e\u73b032\u4f4d\u65f6\u949f\u523064\u4f4d\u65f6\u949f\u7684\u8f6c\u6362\uff0c\u7531\u4e8e\u6765\u81ea\u5fae\u63a7\u5236\u5668\u7684\u4fe1\u606f\u4e0d\u53ef\u80fd\u6765\u81ea2^31\u4e2a\u65f6\u95f4\u523b\u5ea6\u7684\u8fc7\u53bb\u6216\u672a\u6765\uff0c\u56e0\u6b64\u65f6\u95f4\u8f6c\u6362\u4e0d\u4f1a\u51fa\u73b0\u9519\u8bef\u3002\u4e3b\u673a\u901a\u8fc7\u7b80\u5355\u622a\u65ad\u9ad8\u4f4d\u4e2d\u7684\u503c\uff0c\u5b9e\u73b064\u4f4d\u523032\u4f4d\u7684\u8f6c\u6362\u3002\u4e3a\u4e86\u786e\u4fdd\u8f6c\u6362\u6ca1\u6709\u6b67\u4e49\uff0c klippy/chelper/serialqueque.c \u4ee3\u7801\u4f1a\u7f13\u5b58\u4fe1\u606f\u76f4\u5230\u4ee3\u7801\u76ee\u6807\u65f6\u95f4\u76842^31\u4e2a\u65f6\u95f4\u523b\u5ea6\u5185\u3002 \u590d\u6570\u5fae\u63a7\u5236\u5668\u7684\u60c5\u51b5\uff1a\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u652f\u6301\u5355\u4f53\u6253\u5370\u673a\u4f7f\u7528\u590d\u6570\u5fae\u63a7\u5236\u5668\u3002\u6b64\u65f6\uff0c\u5404\u5fae\u63a7\u5236\u5668\u7684\u201c\u5fae\u63a7\u5236\u5668\u65f6\u949f\u201d\u5c06\u88ab\u5206\u5f00\u8bb0\u5f55\u3002clocksync.py\u5904\u7406\u5fae\u5904\u7406\u5668\u4e4b\u95f4\u7684\u65f6\u95f4\u98d8\u53d8\uff0c\u65b9\u6cd5\u5728\u201c\u6253\u5370\u65f6\u95f4\u201d\u548c\u201c\u5fae\u5904\u7406\u5668\u65f6\u95f4\u201d\u7684\u8f6c\u6362\u65b9\u6cd5\u4e0a\u4fee\u6539\u5f97\u51fa\u3002\u5728\u6b21\u8981\u5fae\u5904\u7406\u4e0a\uff0c\u5fae\u5904\u7406\u5668\u9891\u7387\u88ab\u7528\u4e8e\u4e0a\u8ff0\u5904\u7406\uff0c\u5e76\u901a\u8fc7\u6301\u7eed\u6d4b\u91cf\u6f02\u53d8\u5bf9\u6b21\u8981\u5fae\u63a7\u5236\u5668\u9891\u7387\u8fdb\u884c\u66f4\u65b0\u3002","title":"\u5b9a\u65f6"},{"location":"Command_Templates.html","text":"\u547d\u4ee4\u6a21\u677f \u00b6 \u672c\u6587\u6863\u63cf\u8ff0\u4e86 gcode_macro\uff08\u548c\u5176\u4ed6\u7c7b\u4f3c\uff09\u914d\u7f6e\u5206\u6bb5\u4e2d\u5b9e\u73b0 G-Code \u547d\u4ee4\u5e8f\u5217\u7684\u65b9\u6cd5\u3002 G \u4ee3\u7801\u5b8f\u547d\u540d \u00b6 G-Code \u5b8f\u7684\u540d\u79f0\u5927\u5c0f\u5199\u5e76\u4e0d\u91cd\u8981\u3002\u6bd4\u5982\uff0cMY_MACRO \u548c my_macro \u662f\u7b49\u6548\u7684\uff0c\u53ef\u4ee5\u7528\u5927\u5199\u6216\u5c0f\u5199\u6765\u8c03\u7528\u3002\u5982\u679c\u5728\u5b8f\u7684\u540d\u79f0\u4e2d\u4f7f\u7528\u4efb\u4f55\u6570\u5b57\uff0c\u90a3\u4e48\u5b83\u4eec\u5fc5\u987b\u90fd\u5728\u540d\u79f0\u7684\u672b\u5c3e\uff08\u4f8b\u5982\uff0cTEST_MACRO25\u662f\u5408\u6cd5\u7684\uff0c\u4f46MACRO25_TEST3\u662f\u4e0d\u5408\u6cd5\u7684\uff09\u3002 \u914d\u7f6e\u4e2d G \u4ee3\u7801\u7684\u683c\u5f0f \u00b6 \u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u5b8f\u65f6\u9700\u8981\u6ce8\u610f\u7f29\u8fdb\u3002\u5728\u5b9a\u4e49\u591a\u884c\u7684G\u4ee3\u7801\u5e8f\u5217\u65f6\u6bcf\u884c\u90fd\u8981\u6709\u9002\u5f53\u7684\u7f29\u8fdb\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 \u8bf7\u6ce8\u610f\uff0c gcode: \u914d\u7f6e\u9009\u9879\u603b\u662f\u4ece\u884c\u9996\u5f00\u59cb\uff0c\u800c G-Code \u5b8f\u4e2d\u7684\u540e\u7eed\u884c\u4ece\u4e0d\u4ece\u884c\u9996\u5f00\u59cb\u3002 \u5411\u5b8f\u6dfb\u52a0\u63cf\u8ff0 \u00b6 \u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0 description: \u548c\u7b80\u77ed\u7684\u63cf\u8ff0\u6765\u5e2e\u52a9\u7406\u89e3\u8be5\u529f\u80fd\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\"G-Code macro\"\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] description: Blink my_led one time gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 The terminal will display the description when you use the HELP command or the autocomplete function. \u4fdd\u5b58/\u6062\u590d G-Code \u79fb\u52a8\u7684\u72b6\u6001 \u00b6 \u4e0d\u5e78\u7684\u662f\uff0cG-Code \u547d\u4ee4\u8bed\u8a00\u5728\u4f7f\u7528\u4e0a\u6709\u4e9b\u96be\u5ea6\u3002\u79fb\u52a8\u5de5\u5177\u5934\u7684\u6807\u51c6\u673a\u5236\u662f\u901a\u8fc7 G1 \u547d\u4ee4\uff08 G0 \u547d\u4ee4\u662f G1 \u7684\u522b\u540d\uff0c\u5b83\u4eec\u4e92\u6362\u4f7f\u7528\uff09\u3002\u7136\u800c\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4f9d\u8d56\u4e8e\u7531 M82 \u3001 M83 \u3001 G90 \u3001 G91 \u3001 G92 , \u4ee5\u53ca\u5148\u524d\u7684 G1 \u547d\u4ee4\u6240\u8bbe\u7f6e\u7684\"G-Code\u89e3\u6790\u72b6\u6001\"\u3002\u5728\u521b\u5efa G-Code \u5b8f\u65f6\uff0c\u6700\u597d\u5728\u53d1\u51fa G1 \u547d\u4ee4\u4e4b\u524d\uff0c\u5148\u660e\u786e G-Code \u89e3\u6790\u72b6\u6001\u3002(\u5426\u5219\uff0c G1 \u547d\u4ee4\u5c31\u6709\u53ef\u80fd\u63d0\u51fa\u4e00\u4e2a\u4e0d\u7b26\u5408\u9884\u671f\u7684\u8bf7\u6c42\u3002\uff09 \u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u7684\u5e38\u89c1\u65b9\u6cd5\u662f\u5c06 G1 \u79fb\u52a8\u5305\u88c5\u5728 SAVE_GCODE_STATE \u3001 G91 \u548c RESTORE_GCODE_STATE \u4e2d\u3002\u4f8b\u5982\uff1a [gcode_macro MOVE_UP] gcode: SAVE_GCODE_STATE NAME=my_move_up_state G91 G1 Z10 F300 RESTORE_GCODE_STATE NAME=my_move_up_state The G91 command places the G-Code parsing state into \"relative move mode\" and the RESTORE_GCODE_STATE command restores the state to what it was prior to entering the macro. Be sure to specify an explicit speed (via the F parameter) on the first G1 command. \u6a21\u677f\u6269\u5c55 \u00b6 The gcode_macro gcode: config section is evaluated using the Jinja2 template language. One can evaluate expressions at run-time by wrapping them in { } characters or use conditional statements wrapped in {% %} . See the Jinja2 documentation for further information on the syntax. \u4e00\u4e2a\u66f4\u590d\u6742\u7684\u5b8f\u793a\u4f8b\uff1a [gcode_macro clean_nozzle] gcode: {% set wipe_count = 8 %} SAVE_GCODE_STATE NAME=clean_nozzle_state G90 G0 Z15 F300 {% for wipe in range(wipe_count) %} {% for coordinate in [(275, 4),(235, 4)] %} G0 X{coordinate[0]} Y{coordinate[1] + 0.25 * wipe} Z9.7 F12000 {% endfor %} {% endfor %} RESTORE_GCODE_STATE NAME=clean_nozzle_state \u5b8f\u89c2\u53c2\u6570 \u00b6 It is often useful to inspect parameters passed to the macro when it is called. These parameters are available via the params pseudo-variable. For example, if the macro: [gcode_macro SET_PERCENT] gcode: M117 Now at { params.VALUE|float * 100 }% were invoked as SET_PERCENT VALUE=.2 it would evaluate to M117 Now at 20% . Note that parameter names are always in upper-case when evaluated in the macro and are always passed as strings. If performing math then they must be explicitly converted to integers or floats. It's common to use the Jinja2 set directive to use a default parameter and assign the result to a local name. For example: [gcode_macro SET_BED_TEMPERATURE] gcode: {% set bed_temp = params.TEMPERATURE|default(40)|float %} M140 S{bed_temp} The \"rawparams\" variable \u00b6 The full unparsed parameters for the running macro can be access via the rawparams pseudo-variable. This is quite useful if you want to change the behavior of certain commands like the M117 . For example: [gcode_macro M117] rename_existing: M117.1 gcode: M117.1 { rawparams } M118 { rawparams } \"printer\"\u53d8\u91cf \u00b6 It is possible to inspect (and alter) the current state of the printer via the printer pseudo-variable. For example: [gcode_macro slow_fan] gcode: M106 S{ printer.fan.speed * 0.9 * 255} Available fields are defined in the Status Reference document. Important! Macros are first evaluated in entirety and only then are the resulting commands executed. If a macro issues a command that alters the state of the printer, the results of that state change will not be visible during the evaluation of the macro. This can also result in subtle behavior when a macro generates commands that call other macros, as the called macro is evaluated when it is invoked (which is after the entire evaluation of the calling macro). By convention, the name immediately following printer is the name of a config section. So, for example, printer.fan refers to the fan object created by the [fan] config section. There are some exceptions to this rule - notably the gcode_move and toolhead objects. If the config section contains spaces in it, then one can access it via the [ ] accessor - for example: printer[\"generic_heater my_chamber_heater\"].temperature . Note that the Jinja2 set directive can assign a local name to an object in the printer hierarchy. This can make macros more readable and reduce typing. For example: [gcode_macro QUERY_HTU21D] gcode: {% set sensor = printer[\"htu21d my_sensor\"] %} M117 Temp:{sensor.temperature} Humidity:{sensor.humidity} Actions \u00b6 There are some commands available that can alter the state of the printer. For example, { action_emergency_stop() } would cause the printer to go into a shutdown state. Note that these actions are taken at the time that the macro is evaluated, which may be a significant amount of time before the generated g-code commands are executed. Available \"action\" commands: action_respond_info(msg) : Write the given msg to the /tmp/printer pseudo-terminal. Each line of msg will be sent with a \"// \" prefix. action_raise_error(msg) : Abort the current macro (and any calling macros) and write the given msg to the /tmp/printer pseudo-terminal. The first line of msg will be sent with a \"!! \" prefix and subsequent lines will have a \"// \" prefix. action_emergency_stop(msg) : Transition the printer to a shutdown state. The msg parameter is optional, it may be useful to describe the reason for the shutdown. action_call_remote_method(method_name) : Calls a method registered by a remote client. If the method takes parameters they should be provided via keyword arguments, ie: action_call_remote_method(\"print_stuff\", my_arg=\"hello_world\") Variables \u00b6 The SET_GCODE_VARIABLE command may be useful for saving state between macro calls. Variable names may not contain any upper case characters. For example: [gcode_macro start_probe] variable_bed_temp: 0 gcode: # Save target temperature to bed_temp variable SET_GCODE_VARIABLE MACRO=start_probe VARIABLE=bed_temp VALUE={printer.heater_bed.target} # Disable bed heater M140 # Perform probe PROBE # Call finish_probe macro at completion of probe finish_probe [gcode_macro finish_probe] gcode: # Restore temperature M140 S{printer[\"gcode_macro start_probe\"].bed_temp} Be sure to take the timing of macro evaluation and command execution into account when using SET_GCODE_VARIABLE. Delayed Gcodes \u00b6 The [delayed_gcode] configuration option can be used to execute a delayed gcode sequence: [delayed_gcode clear_display] gcode: M117 [gcode_macro load_filament] gcode: G91 G1 E50 G90 M400 M117 Load Complete! UPDATE_DELAYED_GCODE ID=clear_display DURATION=10 When the load_filament macro above executes, it will display a \"Load Complete!\" message after the extrusion is finished. The last line of gcode enables the \"clear_display\" delayed_gcode, set to execute in 10 seconds. The initial_duration config option can be set to execute the delayed_gcode on printer startup. The countdown begins when the printer enters the \"ready\" state. For example, the below delayed_gcode will execute 5 seconds after the printer is ready, initializing the display with a \"Welcome!\" message: [delayed_gcode welcome] initial_duration: 5. gcode: M117 Welcome! Its possible for a delayed gcode to repeat by updating itself in the gcode option: [delayed_gcode report_temp] initial_duration: 2. gcode: {action_respond_info(\"Extruder Temp: %.1f\" % (printer.extruder0.temperature))} UPDATE_DELAYED_GCODE ID=report_temp DURATION=2 The above delayed_gcode will send \"// Extruder Temp: [ex0_temp]\" to Octoprint every 2 seconds. This can be canceled with the following gcode: UPDATE_DELAYED_GCODE ID=report_temp DURATION=0 Menu templates \u00b6 If a display config section is enabled, then it is possible to customize the menu with menu config sections. The following read-only attributes are available in menu templates: menu.width - element width (number of display columns) menu.ns - element namespace menu.event - name of the event that triggered the script menu.input - input value, only available in input script context The following actions are available in menu templates: menu.back(force, update) : will execute menu back command, optional boolean parameters <force> and <update> . When <force> is set True then it will also stop editing. Default value is False. When <update> is set False then parent container items are not updated. Default value is True. menu.exit(force) - will execute menu exit command, optional boolean parameter <force> default value False. When <force> is set True then it will also stop editing. Default value is False. Save Variables to disk \u00b6 If a save_variables config section has been enabled, SAVE_VARIABLE VARIABLE=<name> VALUE=<value> can be used to save the variable to disk so that it can be used across restarts. All stored variables are loaded into the printer.save_variables.variables dict at startup and can be used in gcode macros. to avoid overly long lines you can add the following at the top of the macro: {% set svv = printer.save_variables.variables %} As an example, it could be used to save the state of 2-in-1-out hotend and when starting a print ensure that the active extruder is used, instead of T0: [gcode_macro T1] gcode: ACTIVATE_EXTRUDER extruder=extruder1 SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder1\"' [gcode_macro T0] gcode: ACTIVATE_EXTRUDER extruder=extruder SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder\"' [gcode_macro START_GCODE] gcode: {% set svv = printer.save_variables.variables %} ACTIVATE_EXTRUDER extruder={svv.currentextruder}","title":"\u547d\u4ee4\u6a21\u677f"},{"location":"Command_Templates.html#_1","text":"\u672c\u6587\u6863\u63cf\u8ff0\u4e86 gcode_macro\uff08\u548c\u5176\u4ed6\u7c7b\u4f3c\uff09\u914d\u7f6e\u5206\u6bb5\u4e2d\u5b9e\u73b0 G-Code \u547d\u4ee4\u5e8f\u5217\u7684\u65b9\u6cd5\u3002","title":"\u547d\u4ee4\u6a21\u677f"},{"location":"Command_Templates.html#g","text":"G-Code \u5b8f\u7684\u540d\u79f0\u5927\u5c0f\u5199\u5e76\u4e0d\u91cd\u8981\u3002\u6bd4\u5982\uff0cMY_MACRO \u548c my_macro \u662f\u7b49\u6548\u7684\uff0c\u53ef\u4ee5\u7528\u5927\u5199\u6216\u5c0f\u5199\u6765\u8c03\u7528\u3002\u5982\u679c\u5728\u5b8f\u7684\u540d\u79f0\u4e2d\u4f7f\u7528\u4efb\u4f55\u6570\u5b57\uff0c\u90a3\u4e48\u5b83\u4eec\u5fc5\u987b\u90fd\u5728\u540d\u79f0\u7684\u672b\u5c3e\uff08\u4f8b\u5982\uff0cTEST_MACRO25\u662f\u5408\u6cd5\u7684\uff0c\u4f46MACRO25_TEST3\u662f\u4e0d\u5408\u6cd5\u7684\uff09\u3002","title":"G \u4ee3\u7801\u5b8f\u547d\u540d"},{"location":"Command_Templates.html#g_1","text":"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e00\u4e2a\u5b8f\u65f6\u9700\u8981\u6ce8\u610f\u7f29\u8fdb\u3002\u5728\u5b9a\u4e49\u591a\u884c\u7684G\u4ee3\u7801\u5e8f\u5217\u65f6\u6bcf\u884c\u90fd\u8981\u6709\u9002\u5f53\u7684\u7f29\u8fdb\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 \u8bf7\u6ce8\u610f\uff0c gcode: \u914d\u7f6e\u9009\u9879\u603b\u662f\u4ece\u884c\u9996\u5f00\u59cb\uff0c\u800c G-Code \u5b8f\u4e2d\u7684\u540e\u7eed\u884c\u4ece\u4e0d\u4ece\u884c\u9996\u5f00\u59cb\u3002","title":"\u914d\u7f6e\u4e2d G \u4ee3\u7801\u7684\u683c\u5f0f"},{"location":"Command_Templates.html#_2","text":"\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0 description: \u548c\u7b80\u77ed\u7684\u63cf\u8ff0\u6765\u5e2e\u52a9\u7406\u89e3\u8be5\u529f\u80fd\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u9ed8\u8ba4\u4e3a\"G-Code macro\"\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] description: Blink my_led one time gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 The terminal will display the description when you use the HELP command or the autocomplete function.","title":"\u5411\u5b8f\u6dfb\u52a0\u63cf\u8ff0"},{"location":"Command_Templates.html#g-code","text":"\u4e0d\u5e78\u7684\u662f\uff0cG-Code \u547d\u4ee4\u8bed\u8a00\u5728\u4f7f\u7528\u4e0a\u6709\u4e9b\u96be\u5ea6\u3002\u79fb\u52a8\u5de5\u5177\u5934\u7684\u6807\u51c6\u673a\u5236\u662f\u901a\u8fc7 G1 \u547d\u4ee4\uff08 G0 \u547d\u4ee4\u662f G1 \u7684\u522b\u540d\uff0c\u5b83\u4eec\u4e92\u6362\u4f7f\u7528\uff09\u3002\u7136\u800c\uff0c\u8fd9\u4e2a\u547d\u4ee4\u4f9d\u8d56\u4e8e\u7531 M82 \u3001 M83 \u3001 G90 \u3001 G91 \u3001 G92 , \u4ee5\u53ca\u5148\u524d\u7684 G1 \u547d\u4ee4\u6240\u8bbe\u7f6e\u7684\"G-Code\u89e3\u6790\u72b6\u6001\"\u3002\u5728\u521b\u5efa G-Code \u5b8f\u65f6\uff0c\u6700\u597d\u5728\u53d1\u51fa G1 \u547d\u4ee4\u4e4b\u524d\uff0c\u5148\u660e\u786e G-Code \u89e3\u6790\u72b6\u6001\u3002(\u5426\u5219\uff0c G1 \u547d\u4ee4\u5c31\u6709\u53ef\u80fd\u63d0\u51fa\u4e00\u4e2a\u4e0d\u7b26\u5408\u9884\u671f\u7684\u8bf7\u6c42\u3002\uff09 \u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\u7684\u5e38\u89c1\u65b9\u6cd5\u662f\u5c06 G1 \u79fb\u52a8\u5305\u88c5\u5728 SAVE_GCODE_STATE \u3001 G91 \u548c RESTORE_GCODE_STATE \u4e2d\u3002\u4f8b\u5982\uff1a [gcode_macro MOVE_UP] gcode: SAVE_GCODE_STATE NAME=my_move_up_state G91 G1 Z10 F300 RESTORE_GCODE_STATE NAME=my_move_up_state The G91 command places the G-Code parsing state into \"relative move mode\" and the RESTORE_GCODE_STATE command restores the state to what it was prior to entering the macro. Be sure to specify an explicit speed (via the F parameter) on the first G1 command.","title":"\u4fdd\u5b58/\u6062\u590d G-Code \u79fb\u52a8\u7684\u72b6\u6001"},{"location":"Command_Templates.html#_3","text":"The gcode_macro gcode: config section is evaluated using the Jinja2 template language. One can evaluate expressions at run-time by wrapping them in { } characters or use conditional statements wrapped in {% %} . See the Jinja2 documentation for further information on the syntax. \u4e00\u4e2a\u66f4\u590d\u6742\u7684\u5b8f\u793a\u4f8b\uff1a [gcode_macro clean_nozzle] gcode: {% set wipe_count = 8 %} SAVE_GCODE_STATE NAME=clean_nozzle_state G90 G0 Z15 F300 {% for wipe in range(wipe_count) %} {% for coordinate in [(275, 4),(235, 4)] %} G0 X{coordinate[0]} Y{coordinate[1] + 0.25 * wipe} Z9.7 F12000 {% endfor %} {% endfor %} RESTORE_GCODE_STATE NAME=clean_nozzle_state","title":"\u6a21\u677f\u6269\u5c55"},{"location":"Command_Templates.html#_4","text":"It is often useful to inspect parameters passed to the macro when it is called. These parameters are available via the params pseudo-variable. For example, if the macro: [gcode_macro SET_PERCENT] gcode: M117 Now at { params.VALUE|float * 100 }% were invoked as SET_PERCENT VALUE=.2 it would evaluate to M117 Now at 20% . Note that parameter names are always in upper-case when evaluated in the macro and are always passed as strings. If performing math then they must be explicitly converted to integers or floats. It's common to use the Jinja2 set directive to use a default parameter and assign the result to a local name. For example: [gcode_macro SET_BED_TEMPERATURE] gcode: {% set bed_temp = params.TEMPERATURE|default(40)|float %} M140 S{bed_temp}","title":"\u5b8f\u89c2\u53c2\u6570"},{"location":"Command_Templates.html#the-rawparams-variable","text":"The full unparsed parameters for the running macro can be access via the rawparams pseudo-variable. This is quite useful if you want to change the behavior of certain commands like the M117 . For example: [gcode_macro M117] rename_existing: M117.1 gcode: M117.1 { rawparams } M118 { rawparams }","title":"The \"rawparams\" variable"},{"location":"Command_Templates.html#printer","text":"It is possible to inspect (and alter) the current state of the printer via the printer pseudo-variable. For example: [gcode_macro slow_fan] gcode: M106 S{ printer.fan.speed * 0.9 * 255} Available fields are defined in the Status Reference document. Important! Macros are first evaluated in entirety and only then are the resulting commands executed. If a macro issues a command that alters the state of the printer, the results of that state change will not be visible during the evaluation of the macro. This can also result in subtle behavior when a macro generates commands that call other macros, as the called macro is evaluated when it is invoked (which is after the entire evaluation of the calling macro). By convention, the name immediately following printer is the name of a config section. So, for example, printer.fan refers to the fan object created by the [fan] config section. There are some exceptions to this rule - notably the gcode_move and toolhead objects. If the config section contains spaces in it, then one can access it via the [ ] accessor - for example: printer[\"generic_heater my_chamber_heater\"].temperature . Note that the Jinja2 set directive can assign a local name to an object in the printer hierarchy. This can make macros more readable and reduce typing. For example: [gcode_macro QUERY_HTU21D] gcode: {% set sensor = printer[\"htu21d my_sensor\"] %} M117 Temp:{sensor.temperature} Humidity:{sensor.humidity}","title":"\"printer\"\u53d8\u91cf"},{"location":"Command_Templates.html#actions","text":"There are some commands available that can alter the state of the printer. For example, { action_emergency_stop() } would cause the printer to go into a shutdown state. Note that these actions are taken at the time that the macro is evaluated, which may be a significant amount of time before the generated g-code commands are executed. Available \"action\" commands: action_respond_info(msg) : Write the given msg to the /tmp/printer pseudo-terminal. Each line of msg will be sent with a \"// \" prefix. action_raise_error(msg) : Abort the current macro (and any calling macros) and write the given msg to the /tmp/printer pseudo-terminal. The first line of msg will be sent with a \"!! \" prefix and subsequent lines will have a \"// \" prefix. action_emergency_stop(msg) : Transition the printer to a shutdown state. The msg parameter is optional, it may be useful to describe the reason for the shutdown. action_call_remote_method(method_name) : Calls a method registered by a remote client. If the method takes parameters they should be provided via keyword arguments, ie: action_call_remote_method(\"print_stuff\", my_arg=\"hello_world\")","title":"Actions"},{"location":"Command_Templates.html#variables","text":"The SET_GCODE_VARIABLE command may be useful for saving state between macro calls. Variable names may not contain any upper case characters. For example: [gcode_macro start_probe] variable_bed_temp: 0 gcode: # Save target temperature to bed_temp variable SET_GCODE_VARIABLE MACRO=start_probe VARIABLE=bed_temp VALUE={printer.heater_bed.target} # Disable bed heater M140 # Perform probe PROBE # Call finish_probe macro at completion of probe finish_probe [gcode_macro finish_probe] gcode: # Restore temperature M140 S{printer[\"gcode_macro start_probe\"].bed_temp} Be sure to take the timing of macro evaluation and command execution into account when using SET_GCODE_VARIABLE.","title":"Variables"},{"location":"Command_Templates.html#delayed-gcodes","text":"The [delayed_gcode] configuration option can be used to execute a delayed gcode sequence: [delayed_gcode clear_display] gcode: M117 [gcode_macro load_filament] gcode: G91 G1 E50 G90 M400 M117 Load Complete! UPDATE_DELAYED_GCODE ID=clear_display DURATION=10 When the load_filament macro above executes, it will display a \"Load Complete!\" message after the extrusion is finished. The last line of gcode enables the \"clear_display\" delayed_gcode, set to execute in 10 seconds. The initial_duration config option can be set to execute the delayed_gcode on printer startup. The countdown begins when the printer enters the \"ready\" state. For example, the below delayed_gcode will execute 5 seconds after the printer is ready, initializing the display with a \"Welcome!\" message: [delayed_gcode welcome] initial_duration: 5. gcode: M117 Welcome! Its possible for a delayed gcode to repeat by updating itself in the gcode option: [delayed_gcode report_temp] initial_duration: 2. gcode: {action_respond_info(\"Extruder Temp: %.1f\" % (printer.extruder0.temperature))} UPDATE_DELAYED_GCODE ID=report_temp DURATION=2 The above delayed_gcode will send \"// Extruder Temp: [ex0_temp]\" to Octoprint every 2 seconds. This can be canceled with the following gcode: UPDATE_DELAYED_GCODE ID=report_temp DURATION=0","title":"Delayed Gcodes"},{"location":"Command_Templates.html#menu-templates","text":"If a display config section is enabled, then it is possible to customize the menu with menu config sections. The following read-only attributes are available in menu templates: menu.width - element width (number of display columns) menu.ns - element namespace menu.event - name of the event that triggered the script menu.input - input value, only available in input script context The following actions are available in menu templates: menu.back(force, update) : will execute menu back command, optional boolean parameters <force> and <update> . When <force> is set True then it will also stop editing. Default value is False. When <update> is set False then parent container items are not updated. Default value is True. menu.exit(force) - will execute menu exit command, optional boolean parameter <force> default value False. When <force> is set True then it will also stop editing. Default value is False.","title":"Menu templates"},{"location":"Command_Templates.html#save-variables-to-disk","text":"If a save_variables config section has been enabled, SAVE_VARIABLE VARIABLE=<name> VALUE=<value> can be used to save the variable to disk so that it can be used across restarts. All stored variables are loaded into the printer.save_variables.variables dict at startup and can be used in gcode macros. to avoid overly long lines you can add the following at the top of the macro: {% set svv = printer.save_variables.variables %} As an example, it could be used to save the state of 2-in-1-out hotend and when starting a print ensure that the active extruder is used, instead of T0: [gcode_macro T1] gcode: ACTIVATE_EXTRUDER extruder=extruder1 SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder1\"' [gcode_macro T0] gcode: ACTIVATE_EXTRUDER extruder=extruder SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder\"' [gcode_macro START_GCODE] gcode: {% set svv = printer.save_variables.variables %} ACTIVATE_EXTRUDER extruder={svv.currentextruder}","title":"Save Variables to disk"},{"location":"Config_Changes.html","text":"\u914d\u7f6e\u53d8\u66f4 \u00b6 \u672c\u6587\u6863\u6db5\u76d6\u4e86\u8f6f\u4ef6\u66f4\u65b0\u4e2d\u5bf9\u914d\u7f6e\u6587\u4ef6\u4e0d\u5411\u540e\u517c\u5bb9\u7684\u90e8\u5206\u3002\u5728\u5347\u7ea7 Klipper \u65f6\uff0c\u6700\u597d\u4e5f\u67e5\u770b\u4e00\u4e0b\u8fd9\u4efd\u6587\u6863\u3002 \u6587\u6863\u7684\u6240\u6709\u65e5\u671f\u90fd\u662f\u5927\u6982\u65f6\u95f4\u3002 \u53d8\u66f4 \u00b6 20220616\uff1a\u4ee5\u524d\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c make flash FLASH_DEVICE=first \u5728\u5f15\u5bfc\u7a0b\u5e8f\u6a21\u5f0f\u4e0b\u5237\u5199rp2040\u3002\u65b0\u7684\u7b49\u6548\u547d\u4ee4\u662f make flash FLASH_DEVICE=2e8a:0003 \u3002 20220612: \u5b9e\u73b0\u4e86rp2040\u4e0a\"rp2040-e5\"USB\u6570\u636e\u9519\u8bef\u7684\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u3002\u8fd9\u5e94\u8be5\u4f7f\u6700\u521d\u7684 USB \u8fde\u63a5\u66f4\u52a0\u53ef\u9760\u3002\u7136\u800c\uff0c\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4gpio15\u5f15\u811a\u7684\u884c\u4e3a\u53d1\u751f\u53d8\u5316\u3002gpio15\u7684\u884c\u4e3a\u53d8\u5316\u4e0d\u592a\u53ef\u80fd\u6709\u660e\u663e\u5f71\u54cd\u3002 20220407\uff1atemperature_fan \u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 pid_integral_max \u9009\u9879\u5df2\u88ab\u5220\u9664\uff08\u5728 20210612 \u65f6\u5df2\u5f03\u7528\uff09\u3002 20220407: pca9632 LED\u7684\u9ed8\u8ba4\u8272\u5e8f\u73b0\u5728\u662f\"RGBW\"\u3002\u5728pca9632\u914d\u7f6e\u5206\u6bb5\u4e2d\u663e\u5f0f\u52a0\u5165 color_order:RBGW \u8bbe\u7f6e\u4ee5\u83b7\u5f97\u4ee5\u548c\u539f\u6765\u4e00\u6837\u7684\u884c\u4e3a\u3002 20220330\uff1aneopixel\u548cdotstar\u6a21\u5757\u7684 printer.neopixel.color_data \u72b6\u6001\u4fe1\u606f\u7684\u683c\u5f0f\u5df2\u7ecf\u6539\u53d8\u3002\u8fd9\u4e9b\u4fe1\u606f\u73b0\u5728\u88ab\u5b58\u50a8\u4e3a\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u989c\u8272\u5217\u8868\uff08\u800c\u4e0d\u662f\u5b57\u5178\u5217\u8868\uff09\u3002\u8be6\u60c5\u89c1 \u72b6\u6001\u53c2\u8003 \u3002 20220307: M73 \u5982\u679c\u4e0d\u7ed9\u5b9a P \uff0c\u5219\u4e0d\u518d\u5c06\u6253\u5370\u8fdb\u5ea6\u8bbe\u7f6e\u4e3a0\u3002 20220304\uff1a extruder_stepper \u914d\u7f6e\u5206\u6bb5\u7684 extruder \u53c2\u6570\u4e0d\u518d\u6709\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u660e\u786e\u6307\u5b9a extruder: extruder \uff0c\u4ee5\u4fbf\u5728\u542f\u52a8\u65f6\u5173\u8054\u6b65\u8fdb\u7535\u673a\u548c\"extruder\"\u8fd0\u52a8\u5e8f\u5217\u3002 20220210\uff1a SYNC_STEPPER_TO_EXTRUDER \u3001 SET_EXTRUDER_STEP_DISTANCE \u3001 extruder \u7684 shared_heater \u914d\u7f6e\u9009\u9879\u5df2\u5f03\u7528\u3002\u8fd9\u4e9b\u529f\u80fd\u5c06\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u88ab\u5220\u9664\u3002\u5c06 SET_EXTRUDER_STEP_DISTANCE \u66ff\u6362\u4e3a SET_EXTRUDER_ROTATION_DISTANCE \uff0c SYNC_STEPPER_TO_EXTRUDER \u66ff\u6362\u4e3a SYNC_EXTRUDER_MOTION \uff0c\u4f7f\u7528 shared_heater \u4e0e extruder_stepper \u914d\u7f6e\u5206\u6bb5\u66ff\u6362 extruder \u914d\u7f6e\u5206\u6bb5\uff0c\u5e76\u66f4\u65b0\u6240\u6709\u6fc0\u6d3b\u5b8f\u4ee5\u4f7f\u7528 SYNC_EXTRUDER_MOTION \u3002 20220116: \u53d8\u66f4\u4e86tmc2130\u3001tmc2208\u3001tmc2209\u548ctmc2660\u7684 run_current \u8ba1\u7b97\u4ee3\u7801\u3002\u5bf9\u4e8e\u4e00\u4e9b run_current \u8bbe\u7f6e\uff0c\u9a71\u52a8\u7a0b\u5e8f\u73b0\u5728\u7684\u914d\u7f6e\u7ed3\u679c\u53ef\u80fd\u88ab\u548c\u539f\u6765\u4e0d\u540c\u3002\u65b0\u7684\u914d\u7f6e\u5e94\u8be5\u66f4\u51c6\u786e\uff0c\u4f46\u5b83\u53ef\u80fd\u5bfc\u81f4\u524d\u7684tmc\u9a71\u52a8\u8c03\u8c10\u5931\u6548\u3002 20211230: \u8fc1\u79fb\u8f93\u5165\u6574\u5f62\u5668\u8c03\u6574\u811a\u672c\uff08 scripts/calibrate_shaper.py \u548c scripts/graph_accelerometer.py \uff09\uff0c\u65b0\u811a\u672c\u9ed8\u8ba4\u4f7f\u7528Python3\u3002\u56e0\u6b64\uff0c\u5fc5\u987b\u5b89\u88c5Python3\u7248\u672c\u7684\u67d0\u4e9b\u8f6f\u4ef6\u5305\uff08\u4f8b\u5982\uff0c sudo apt install python3-numpy python3-matplotlib \uff09\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e9b\u811a\u672c\u3002\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u53c2\u8003 \u8f6f\u4ef6\u5b89\u88c5 \u3002\u53e6\u5916\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5728\u63a7\u5236\u53f0\u663e\u6027\u8c03\u7528Python2\u89e3\u91ca\u5668\uff0c\u4e34\u65f6\u5f3a\u5236\u5728Python 2\u4e0b\u6267\u884c\u8fd9\u4e9b\u811a\u672c\uff1a python2 ~/klipper/scripts/calibrate_shaper.py ... 20211110: \u5f03\u7528\"NTC 100K beta 3950 \"\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u672a\u6765\u4f1a\u5220\u9664\u8fd9\u4e2a\u4f20\u611f\u5668\u3002\u5927\u591a\u6570\u7528\u6237\u4f1a\u53d1\u73b0 \"Generic 3950 \"\u6e29\u5ea6\u4f20\u611f\u5668\u66f4\u51c6\u786e\u3002\u8981\u7ee7\u7eed\u4f7f\u7528\u65e7\u7684\uff08\u901a\u5e38\u4e0d\u592a\u51c6\u786e\uff09\u5b9a\u4e49\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 thermistor \uff0c\u5176\u4e2d\u5305\u62ec temperature1: 25 \uff0c resistance1: 100000 \u548c beta: 3950 \u3002 20211104\uff1a\u5220\u9664\u4e86\"make menuconfig \"\u4e2d\u7684 \"step pulse duration \"\u9009\u9879\u3002\u73b0\u5728\u5728UART\u6216SPI\u6a21\u5f0f\u4e0b\u914d\u7f6e\u7684TMC\u9a71\u52a8\u5668\u7684\u9ed8\u8ba4\u6b65\u957f\u662f100ns\u3002\u5728 stepper config section \u4e2d\u7684\u589e\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684 step_pulse_duration \u8bbe\u7f6e\uff0c\u6240\u6709\u9700\u8981\u81ea\u5b9a\u4e49\u8109\u51b2\u6301\u7eed\u65f6\u95f4\u7684\u6b65\u8fdb\u9a71\u52a8\u5668\u90fd\u9700\u8981\u8bbe\u7f6e\u3002 20211102\uff1a\u5220\u9664\u4e86\u591a\u4e2a\u5e9f\u5f03\u7684\u529f\u80fd\u3002\u5220\u9664\u4e86\u6b65\u8fdb\u5668 step_distance \u9009\u9879\uff08\u5df2\u4e8e20201222\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86 rpi_temperature \u4f20\u611f\u5668\u522b\u540d\uff08\u5df2\u4e8e20210219\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86mcu\u7684 pin_map \u9009\u9879\uff08\u5df2\u4e8e20210325\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86gcode_macro default_parameter_<name> \u548c\u901a\u8fc7 params \u4f2a\u53d8\u91cf\u4ee5\u5916\u7684\u5b8f\u8bbf\u95ee\u547d\u4ee4\u53c2\u6570\uff08\u5df2\u4e8e20210503\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86\u52a0\u70ed\u5668\u7684 pid_integral_max \u9009\u9879\uff08\u5df2\u4e8e20210612\u5e9f\u5f03\uff09\u3002 20210929: Klipper v0.10.0\u53d1\u5e03\u3002 20210903: \u52a0\u70ed\u5668\u7684\u9ed8\u8ba4 smooth_time \u5df2\u6539\u4e3a1\u79d2\uff08\u4ece2\u79d2\uff09\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u6253\u5370\u673a\u6765\u8bf4\uff0c\u8fd9\u5c06\u4f7f\u6e29\u5ea6\u63a7\u5236\u66f4\u52a0\u7a33\u5b9a\u3002 20210830: \u9ed8\u8ba4\u7684adxl345\u540d\u79f0\u73b0\u5728\u662f \"adxl345\"\u3002 ACCELEROMETER_MEASURE \u548c ACCELEROMETER_QUERY \u7684\u9ed8\u8ba4CHIP\u53c2\u6570\u73b0\u5728\u4e5f\u662f \"adxl345\"\u3002 20210830: adxl345 ACCELEROMETER_MEASURE\u547d\u4ee4\u4e0d\u518d\u652f\u6301RATE\u53c2\u6570\u3002\u8981\u6539\u53d8\u67e5\u8be2\u901f\u7387\uff0c\u8bf7\u66f4\u65b0printer.cfg\u6587\u4ef6\u5e76\u53d1\u51faRESTART\u547d\u4ee4\u3002 20210821: printer.configfile.settings \u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u8bbe\u7f6e\u73b0\u5728\u5c06\u4ee5\u5217\u8868\u5f62\u5f0f\u62a5\u544a\uff0c\u800c\u4e0d\u662f\u539f\u59cb\u5b57\u7b26\u4e32\u3002\u5982\u679c\u9700\u8981\u539f\u59cb\u7684\u5b57\u7b26\u4e32\uff0c\u8bf7\u4f7f\u7528 printer.configfile.config \u4ee3\u66ff\u3002 20210819: \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c G28 \u7684\u5f52\u96f6\u52a8\u4f5c\u53ef\u80fd\u5728\u67d0\u4e2a\u8d85\u51fa\u6709\u6548\u79fb\u52a8\u8303\u56f4\u7684\u4f4d\u7f6e\u7ed3\u675f\u3002\u5728\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u5f52\u4f4d\u540e\u51fa\u73b0 \"\u79fb\u52a8\u8d85\u51fa\u8303\u56f4\uff08Move out of range\uff09\"\u7684\u9519\u8bef\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u6539\u53d8\u4f60\u7684\u542f\u52a8\u811a\u672c\uff0c\u5728\u5f52\u4f4d\u540e\u7acb\u5373\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u6709\u6548\u4f4d\u7f6e\u3002 20210814: atmega168\u548catmega328\u4e0a\u7684\u4ec5\u6709\u6a21\u62df\u7684\u4f2a\u5f15\u811a\u5df2\u7ecf\u4ecePE0/PE1\u6539\u540d\u4e3aPE2/PE3\u3002 20210720: controller_fan\u90e8\u5206\u73b0\u5728\u9ed8\u8ba4\u76d1\u63a7\u6240\u6709\u6b65\u8fdb\u7535\u673a\uff08\u800c\u4e0d\u4ec5\u4ec5\u662f\u8fd0\u52a8\u578b\u6b65\u8fdb\u7535\u673a\uff09\u3002\u5982\u679c\u9700\u8981\u4ee5\u524d\u7684\u884c\u4e3a\uff0c\u8bf7\u53c2\u8003 config reference \u4e2d\u7684 stepper \u914d\u7f6e\u9009\u9879\u3002 20210703: samd_sercom \u914d\u7f6e\u90e8\u5206\u73b0\u5728\u5fc5\u987b\u901a\u8fc7 sercom \u9009\u9879\u6307\u5b9a\u5b83\u8981\u914d\u7f6e\u7684sercom\u603b\u7ebf\u3002 20210612: \u52a0\u70ed\u5668(heater)\u548c\u6e29\u5ea6\u63a7\u5236\u98ce\u6247(temperature_fan)\u914d\u7f6e\u4e2d\u7684 pid_integral_max \u9009\u9879\u5df2\u88ab\u5f03\u7528\u3002\u8be5\u9009\u9879\u5c06\u5728\u672a\u6765\u88ab\u79fb\u9664\u3002 20210503: The gcode_macro default_parameter_<name> config option is deprecated. Use the params pseudo-variable to access macro parameters. Other methods for accessing macro parameters will be removed in the near future. Most users can replace a default_parameter_NAME: VALUE config option with a line like the following in the start of the macro: {% set NAME = params.NAME|default(VALUE)|float %} . See the Command Templates document for examples. 20210430: SET_VELOCITY_LIMIT\uff08\u548cM204\uff09\u547d\u4ee4\u73b0\u5728\u53ef\u4ee5\u8bbe\u7f6e\u5927\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u503c\u7684\u901f\u5ea6(velocity)\u3001\u52a0\u901f\u5ea6(acceleration)\u548c\u8f6c\u89d2\u79bb\u5fc3\u901f\u5ea6(square_corner_velocity)\u3002 20210325:\u914d\u7f6e\u4e2d\u7684 pin_map \u9009\u9879\u5df2\u88ab\u5e9f\u5f03\u3002\u4f7f\u7528 sample-aliases.cfg \u6587\u4ef6\u5c06\u73b0\u6709\u7684\u5f15\u811a\u540d\u7ffb\u8bd1\u6210\u5b9e\u9645\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u79f0\u3002\u914d\u7f6e\u4e2d\u7684 pin_map \u9009\u9879\u5c06\u5728\u672a\u6765\u88ab\u79fb\u9664\u3002 20210313\uff1aKlipper\u5bf9CAN\u603b\u7ebf\u901a\u4fe1\u7684\u5fae\u63a7\u5236\u5668\u7684\u652f\u6301\u53d1\u751f\u4e86\u53d8\u5316\u3002\u5982\u679c\u4f7f\u7528CAN\u603b\u7ebf\uff0c\u5168\u90e8\u5fae\u63a7\u5236\u5668\u5fc5\u987b\u88ab\u91cd\u65b0\u5237\u5199\u5e76\u66f4\u65b0 Klipper CAN \u603b\u7ebf\u914d\u7f6e \u3002 20210310\uff1aTMC2660 \u9ed8\u8ba4 driver_SFILT \u4ece1 \u6539\u4e3a 0\u3002 20210227\uff1a\u73b0\u5728\u6bcf\u5f53\u542f\u7528 UART \u6216 SPI \u6a21\u5f0f\u7684 TMC \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u6d3b\u8dc3\u65f6\uff0c\u6bcf\u79d2\u4f1a\u67e5\u8be2\u4e00\u6b21 - \u5982\u679c\u65e0\u6cd5\u8054\u7cfb\u5230\u9a71\u52a8\u6216\u5982\u679c\u9a71\u52a8\u62a5\u544a\u9519\u8bef\uff0c\u5219 Klipper \u5c06\u8fc7\u6e21\u5230\u5173\u95ed\u72b6\u6001\u3002 20210219\uff1a rpi_temperature \u6a21\u5757\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3a temperature_host \u3002\u7528 sensor_type: temperature_host \u66ff\u6362\u5168\u90e8\u7684 sensor_type: rpi_temperature \u3002\u6e29\u5ea6\u6587\u4ef6\u7684\u8def\u5f84\u53ef\u4ee5\u5728 sensor_path \u914d\u7f6e\u53d8\u91cf\u4e2d\u6307\u5b9a\u3002\u540d\u79f0\u201c rpi_temperature \u201d\u5df2\u88ab\u5e9f\u5f03\uff0c\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u4f1a\u88ab\u5220\u9664\u3002 20210201: TEST_RESONANCES \u547d\u4ee4\u73b0\u5728\u5c06\u7981\u7528\u4e4b\u524d\u542f\u7528\u7684\u8f93\u5165\u6574\u5f62\uff08\u5e76\u5728\u6d4b\u8bd5\u540e\u91cd\u65b0\u542f\u7528\uff09\u3002\u5982\u679c\u9700\u8981\u8986\u76d6\u8fd9\u4e00\u884c\u4e3a\u5e76\u4fdd\u6301\u8f93\u5165\u6574\u5f62\u5728\u6d4b\u8bd5\u65f6\u542f\u7528\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u4e2d\u4f20\u9012\u4e00\u4e2a\u9644\u52a0\u53c2\u6570 INPUT_SHAPING=1 \u3002 20210201\uff1a\u5982\u679c\u4e00\u4e2a\u52a0\u901f\u5ea6\u8ba1\u82af\u7247\u5728printer.cfg\u7684\u76f8\u5e94 adxl345 \u5206\u6bb5\u88ab\u8d4b\u4e88\u4e86\u4e00\u4e2a\u540d\u79f0\uff0c ACCELEROMETER_MEASURE \u547d\u4ee4\u7684\u8f93\u51fa\u6587\u4ef6\u73b0\u5728\u4f1a\u5305\u542b\u5b83\u7684\u540d\u79f0\u3002 20201222\uff1a\u6b65\u8fdb\u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 step_distance \u8bbe\u7f6e\u5df2\u88ab\u5e9f\u5f03\u3002\u5efa\u8bae\u66f4\u65b0\u914d\u7f6e\u4ee5\u4f7f\u7528 rotrot_distance \u8bbe\u7f6e\u3002\u5bf9 step_distance \u7684\u652f\u6301\u5c06\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u88ab\u79fb\u9664\u3002 20201218\uff1aendstop_phase \u6a21\u5757\u4e2d\u7684 endstop_phase \u8bbe\u7f6e\u5df2\u88ab trigger_phase \u53d6\u4ee3\u3002\u5982\u679c\u4f7f\u7528\u76f8\u4f4d\u9650\u4f4d\u6a21\u5757\uff0c\u5219\u9700\u8981\u8f6c\u6362\u4e3a rotation_distance \uff0c\u5e76\u901a\u8fc7\u8fd0\u884c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u91cd\u65b0\u6821\u51c6\u4efb\u4f55\u76f8\u4f4d\u9650\u4f4d\u3002 20201218\uff1a\u65cb\u8f6c\u4e09\u89d2\u6d32\u548c\u6781\u70b9\u6253\u5370\u673a\u73b0\u5728\u5fc5\u987b\u4e3a\u65cb\u8f6c\u6b65\u8fdb\u7535\u673a\u6307\u5b9a gear_ratio \uff0c\u5e76\u4e14\u5b83\u4eec\u53ef\u4ee5\u4e0d\u518d\u6307\u5b9a step_distance \u53c2\u6570\u3002\u6709\u5173\u65b0 gear_ratio \u53c2\u6570\u7684\u683c\u5f0f\uff0c\u8bf7\u53c2\u9605 \u914d\u7f6e\u53c2\u8003 \u3002 20201213\uff1a\u5f53\u4f7f\u7528\"probe:z_virtual_endstop\"\u65f6\uff0c\u6307\u5b9a\u7684 Z \"position_endstop\"\u662f\u65e0\u6548\u7684\u3002\u73b0\u5728\uff0c\u5982\u679c\u7528\"probe:z_virtual_endstop\"\u6307\u5b9a\u4e00\u4e2a Z \"position_endstop\"\uff0c\u5c06\u4f1a\u62a5\u544a\u4e00\u4e2a\u9519\u8bef\u3002\u5220\u9664 Z \u7684 \"position_endstop\"\u5b9a\u4e49\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u9519\u8bef\u3002 20201120: [board_pins] \u914d\u7f6e\u90e8\u5206\u73b0\u5728\u5728 mcu: \u53c2\u6570\u4e2d\u660e\u786e\u6307\u5b9a\u4e86\u5bf9\u5e94MCU\u540d\u79f0\u3002\u5982\u679c\u4f7f\u7528\u8f85\u52a9MCU\u7684board_pins\uff0c\u5219\u5fc5\u987b\u66f4\u65b0\u914d\u7f6e\u4ee5\u6307\u5b9a\u8be5MCU\u540d\u79f0\u3002\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u4ee5\u4e86\u89e3\u66f4\u591a\u7ec6\u8282\u3002 20201112: \u7531 print_stats.print_duration \u63a7\u5236\u7684\u62a5\u544a\u65f6\u95f4\u5df2\u7ecf\u6539\u53d8\u3002\u73b0\u5728\u4e0d\u5305\u62ec\u68c0\u6d4b\u5230\u7684\u9996\u6b21\u6324\u51fa\u4e4b\u524d\u7684\u65f6\u95f4\u3002 20201029: neopixel color_order_GRB \u914d\u7f6e\u5df2\u4ece\u914d\u7f6e\u4e2d\u79fb\u9664\u3002\u5982\u679c\u9700\u8981\uff0c\u8bf7\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\uff0c\u5c06\u65b0\u7684 color_order \u9009\u9879\u8bbe\u7f6e\u4e3aRGB\u3001GRB\u3001RGBW\u6216GRBW\u3002 20201029: mcu\u914d\u7f6e\u90e8\u5206\u7684\u4e32\u884c\u9009\u9879\u4e0d\u518d\u9ed8\u8ba4\u4e3a /dev/ttyS0 \u3002\u5728\u6781\u5176\u7f55\u89c1\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c /dev/ttyS0 \u662f\u6240\u9700\u7684\u4e32\u884c\u7aef\u53e3\uff0c\u5fc5\u987b\u660e\u786e\u6307\u5b9a\u5b83\u3002 20201020: Klipper v0.9.0\u53d1\u5e03\u3002 20200902: \u4fee\u6b63\u4e86MAX31865\u8f6c\u6362\u5668\u7684RTD\u7535\u963b-\u6e29\u5ea6\u8ba1\u7b97\u65e0\u6cd5\u4e3a\u4f4e\u7684\u9519\u8bef\u3002\u5982\u679c\u4f60\u4f7f\u7528\u6b64\u82af\u7247\uff0c\u8bf7\u91cd\u65b0\u6821\u51c6\u4f60\u7684\u6253\u5370\u6e29\u5ea6\u548cPID\u8bbe\u5b9a\u3002 20200816: G\u4ee3\u7801\u5b8f printer.gcode \u5bf9\u8c61\u5df2\u88ab\u91cd\u547d\u540d\u4e3a printer.gcode_move \u3002\u5220\u9664\u4e86 printer.toolhead \u548c printer.gcode \u4e2d\u51e0\u4e2a\u6ca1\u6709\u6587\u6863\u7684\u53d8\u91cf\u3002\u53c2\u89c1 docs/Command_Templates.md \u4ee5\u83b7\u5f97\u53ef\u7528\u7684\u6a21\u677f\u53d8\u91cf\u5217\u8868\u3002 20200816: gcode\u5b8f \"action_\"\u7cfb\u7edf\u5df2\u7ecf\u6539\u53d8\u3002\u8bf7\u7528 action_emergency_stop() \u66ff\u6362\u6240\u6709 printer.gcode.action_emergency_stop() \uff0c\u7528 action_respond_info() \u66ff\u6362\u6240\u6709 printer.gcode.action_respond_info() \uff0c\u7528 action_raise_error() \u66ff\u6362\u6240\u6709 printer.gcode.action_respond_error() \u3002 20200809: \u83dc\u5355\u7cfb\u7edf\u5df2\u88ab\u91cd\u5199\u3002\u5982\u679c\u662f\u5b9a\u5236\u83dc\u5355\uff0c\u90a3\u9700\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u914d\u7f6e\u7ec6\u8282\u89c1config/example-menu.cfg\uff0c\u4f8b\u5b50\u89c1klippy/extras/display/menu.cfg\u3002 20200731: virtual_sdcard \u6253\u5370\u673a\u5bf9\u8c61\u62a5\u544a\u7684 progress \u5c5e\u6027\u7684\u884c\u4e3a\u5df2\u7ecf\u6539\u53d8\u3002\u5f53\u6253\u5370\u6682\u505c\u65f6\uff0c\u8fdb\u5ea6\u4e0d\u518d\u88ab\u91cd\u7f6e\u4e3a0\u3002\u73b0\u5728\u5b83\u4f1a\u59cb\u7ec8\u6839\u636e\u5df2\u52a0\u8f7d\u6587\u4ef6\u7684\u8bfb\u53d6\u4f4d\u7f6e\u6765\u62a5\u544a\u8fdb\u5ea6\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u52a0\u8f7d\u6587\u4ef6\uff0c\u5219\u62a5\u544a0\u3002 20200725: \u79fb\u9664\u4e86\u8235\u673a enable \u914d\u7f6e\u53c2\u6570\u548cSET_SERVO ENABLE \u53c2\u6570\u3002\u8bf7\u66f4\u65b0\u6240\u6709\u5b8f\uff0c\u7528 SET_SERVO SERVO=my_servo WIDTH=0 \u6765\u7981\u7528\u8235\u673a\u3002 20200608: LCD\u663e\u793a\u652f\u6301\u90e8\u5206\u6539\u53d8\u4e86\u4e00\u4e9b\u5185\u90e8 \"\u5b57\u5f62 \"\u7684\u540d\u79f0\u3002\u5982\u679c\u81ea\u5b9a\u4e49\u4e86\u663e\u793a\u5e03\u5c40\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u5230\u6700\u65b0\u7684\u5b57\u5f62\u540d\u79f0\uff08\u89c1klippy/extras/display/display.cfg\u4e2d\u7684\u53ef\u7528\u5b57\u5f62\u5217\u8868\uff09\u3002 20200606: \u6539\u53d8\u4e86linux mcu\u4e0a\u7684\u5f15\u811a\u540d\u79f0\u3002\u73b0\u5728\u5f15\u811a\u7684\u540d\u79f0\u683c\u5f0f\u662f gpiochip<chipid>/gpio<gpio> \u3002\u5bf9\u4e8egpiochip0\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 gpio<gpio> \u7684\u7f29\u5199\u3002\u4f8b\u5982\uff0c\u4ee5\u524d\u540d\u5b57\u4e3a P20'\uff0c\u73b0\u5728\u53d8\u6210 gpio20'\u6216`gpiochip0/gpio20'\u3002 20200603\uff1a\u9ed8\u8ba4\u768416x4 LCD\u5e03\u5c40\u5c06\u4e0d\u518d\u663e\u793a\u6253\u5370\u7684\u9884\u8ba1\u5269\u4f59\u65f6\u95f4\u3002(\u53ea\u663e\u793a\u5df2\u7528\u65f6\u95f4\u3002)\u5982\u679c\u9700\u8981\u65e7\u7684\u5e03\u5c40\uff0c\u53ef\u4ee5\u7528\u5b9a\u5236\u83dc\u5355\u663e\u793a\u8be5\u4fe1\u606f(\u8be6\u60c5\u89c1config/example-extras.cfg\u4e2ddisplay_data\u7684\u63cf\u8ff0)\u3002 20200531: \u9ed8\u8ba4\u7684USB\u5382\u5546/\u4ea7\u54c1ID\u73b0\u5728\u662f0x1d50/0x614e\u3002\u8fd9\u4e2a\u65b0ID\u662f\u4e3aKlipper\u4fdd\u7559\u7684\uff08\u611f\u8c22openmoko\u9879\u76ee\uff09\u3002\u8fd9\u4e2a\u53d8\u5316\u4e0d\u9700\u8981\u6539\u53d8\u4efb\u4f55\u914d\u7f6e\uff0c\u4f46\u65b0\u7684ID\u53ef\u80fd\u4f1a\u51fa\u73b0\u5728\u7cfb\u7edf\u65e5\u5fd7\u4e2d\u3002 20200524\uff1a\u73b0\u5728tmc5160\u7684pwm_freq\u5b57\u6bb5\uff0c\u9ed8\u8ba4\u503c\u662f0\uff08\u800c\u4e0d\u662f1\uff09\u3002 20200425: gcode_macro\u547d\u4ee4\u6a21\u677f\u53d8\u91cf printer.heater \u6539\u547d\u540d\u4e3a printer.heaters \u3002 20200313: \u6539\u53d8\u591a\u6324\u51fa\u673a\u6253\u5370\u673a16x4\u5c4f\u5e55\u7684\u9ed8\u8ba4\u6db2\u6676\u5c4f\u5e03\u5c40\u3002\u73b0\u5728\u9ed8\u8ba4\u662f\u5355\u4e2a\u6324\u51fa\u673a\u5c4f\u5e55\u5e03\u5c40\uff0c\u7528\u4e8e\u663e\u793a\u5f53\u524d\u6d3b\u52a8\u7684\u6324\u51fa\u673a\u3002\u8981\u4f7f\u7528\u4ee5\u524d\u7684\u663e\u793a\u5e03\u5c40\uff0c\u8bf7\u8bbe\u7f6eprinter.cfg\u6587\u4ef6\u4e2d[display]\u90e8\u5206\u7684 \"display_group: _multiextruder_16x4\"\u3002 20200308\uff1a\u79fb\u9664\u4e86\u9ed8\u8ba4\u7684 __test \u83dc\u5355\u9879\u3002\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6709\u81ea\u5b9a\u4e49\u7684\u83dc\u5355\uff0c\u90a3\u4e48\u8bf7\u786e\u4fdd\u5220\u9664\u6240\u6709\u5bf9\u8fd9\u4e2a __test \u83dc\u5355\u9879\u7684\u5f15\u7528\u3002 20200308: \u79fb\u9664\u4e86\u83dc\u5355\u4e2d\u7684 \"desk \"\u548c \"card \"\u9009\u9879\u3002\u8981\u5b9a\u5236lcd\u5c4f\u5e55\u7684\u5e03\u5c40\uff0c\u8bf7\u4f7f\u7528\u65b0\u7684display_data\u914d\u7f6e\u90e8\u5206\uff08\u8be6\u89c1config/example-extras.cfg\uff09\u3002 20200109: bed_mesh \u6a21\u5757\u73b0\u5728\u5f15\u7528\u63a2\u9488\u7684\u4f4d\u7f6e\u6765\u8fdb\u884c\u7f51\u683c\u914d\u7f6e\u3002\u56e0\u6b64\uff0c\u4e00\u4e9b\u914d\u7f6e\u9009\u9879\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4ee5\u66f4\u51c6\u786e\u5730\u53cd\u6620\u5176\u529f\u80fd\u3002\u5bf9\u4e8e\u77e9\u5f62\u5e8a\uff0c min_point'\u548c max_point \u5206\u522b\u91cd\u65b0\u547d\u540d\u4e3a mesh_min \u548c mesh_max \u3002\u5bf9\u4e8e\u5706\u5f62\u5e8a\uff0c bed_radius \u91cd\u65b0\u547d\u540d\u4e3a mesh_radius \u3002\u5bf9\u4e8e\u5706\u5f62\u5e8a\uff0c\u8fd8\u589e\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684 mesh_origin`\u9009\u9879\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u53d8\u66f4\u4e0e\u4e4b\u524d\u4fdd\u5b58\u7684\u7f51\u683c\u914d\u7f6e\u6587\u4ef6\u4e0d\u517c\u5bb9\u3002\u5982\u679c\u68c0\u6d4b\u5230\u4e00\u4e2a\u4e0d\u517c\u5bb9\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6b64\u6587\u4ef6\u4f1a\u88ab\u5ffd\u7565\u5e76\u88ab\u5220\u9664\u3002\u5220\u9664\u8fc7\u7a0b\u53ef\u4ee5\u901a\u8fc7\u53d1\u51fa SAVE_CONFIG \u547d\u4ee4\u6765\u5b8c\u6210\u3002\u7528\u6237\u5c06\u9700\u8981\u91cd\u65b0\u6821\u51c6\u6bcf\u4e2a\u5e8a\u7684\u7f51\u5e8a\u914d\u7f6e\u3002 20191218: \u663e\u793a\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u6301 \"lcd_type: st7567\"\u3002\u8bf7\u4f7f\u7528 \"uc1701 \"\u663e\u793a\u7c7b\u578b\u4ee3\u66ff\uff1a\u8bbe\u7f6e \"lcd_type: uc1701 \"\uff0c\u5c06 \"rs_pin: some_pin \"\u6539\u4e3a \"rst_pin: some_pin\"\u3002\u53ef\u80fd\u8fd8\u9700\u8981\u589e\u52a0\u4e00\u4e2a \"contrast: 60\"\u7684\u914d\u7f6e\u8bbe\u7f6e\u3002 20191210\uff1a\u5220\u9664\u4e86\u5185\u7f6e\u7684T0\u3001T1\u3001T2...\u547d\u4ee4\u3002\u79fb\u9664\u4e86\u6324\u51fa\u673a activate_gcode \u548c deactivate_gcode \u914d\u7f6e\u9009\u9879\u3002\u5982\u679c\u9700\u8981\u8fd9\u4e9b\u547d\u4ee4\uff08\u548c\u811a\u672c\uff09\uff0c\u8bf7\u5b9a\u4e49\u5355\u72ec\u7684[gcode_macro T0]\u98ce\u683c\u7684\u5b8f\uff0c\u8c03\u7528ACTIVATE_EXTRUDER\u547d\u4ee4\u3002\u53c2\u89c1config/sample-idex.cfg\u548csample-multi-extruder.cfg\u6587\u4ef6\u4e2d\u7684\u4f8b\u5b50\u3002 20191210\uff1a\u79fb\u9664\u4e86\u5bf9M206\u547d\u4ee4\u7684\u652f\u6301\u3002\u7528\u8c03\u7528SET_GCODE_OFFSET\u6765\u4ee3\u66ff\u3002\u5982\u679c\u9700\u8981\u5bf9M206\u7684\u652f\u6301\uff0c\u8bf7\u6dfb\u52a0\u4e00\u4e2a[gcode_macro M206]\u914d\u7f6e\u90e8\u5206\uff0c\u8c03\u7528SET_GCODE_OFFSET\u3002(\u4f8b\u5982 \"SET_GCODE_OFFSET Z=-{params.Z}\"\u3002) 20191202\uff1a\u79fb\u9664\u4e86\u5bf9 \"G4 \"\u547d\u4ee4\u4e2d\u65e0\u6807\u6ce8\u7684 \"S \"\u53c2\u6570\u7684\u652f\u6301\u3002\u7528\u6807\u51c6\u7684 \"P \"\u53c2\u6570\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u7684\u5ef6\u8fdf\uff09\u53d6\u4ee3\u4efb\u4f55\u51fa\u73b0\u7684S\u3002 20191126\uff1a\u6539\u53d8\u4e86\u90a3\u4e9b\u539f\u751fUSB\u652f\u6301\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u7684USB\u540d\u79f0\u3002\u73b0\u5728\u9ed8\u8ba4\u4f7f\u7528\u552f\u4e00\u7684\u82af\u7247ID\uff08\u5982\u679c\u53ef\u7528\uff09\u3002\u5982\u679c \"MCU \"\u914d\u7f6e\u90e8\u5206\u4f7f\u7528\u4ee5\"/dev/serial/by-id/\"\u5f00\u5934\u7684 \"\u4e32\u53e3 \"\u8bbe\u7f6e\uff0c\u90a3\u4e48\u53ef\u80fd\u6709\u5fc5\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u5728ssh\u7ec8\u7aef\u8fd0\u884c \"ls /dev/serial/by-id/*\"\u6765\u786e\u5b9a\u65b0\u7684id\u3002 20191121\uff1a\u79fb\u9664\u4e86pressure_advance_lookahead_time\u53c2\u6570\u3002\u67e5\u770bexample.cfg\u4ee5\u4e86\u89e3\u66ff\u4ee3\u7684\u914d\u7f6e\u8bbe\u7f6e\u3002 20191112\uff1a\u5982\u679c\u6b65\u8fdb\u9a71\u52a8\u5668\u6ca1\u6709\u4e13\u7528\u7684\u6b65\u8fdb\u7535\u673a\u4f7f\u80fd\u5f15\u811a\uff0c\u90a3\u4e48\u5c31\u4f1a\u81ea\u52a8\u542f\u7528tmc\u6b65\u8fdb\u9a71\u52a8\u5668\u7684\u865a\u62df\u4f7f\u80fd\u529f\u80fd\u3002\u4ece\u914d\u7f6e\u4e2d\u5220\u9664\u5bf9tmcXXXX:virtual_enable\u7684\u5f15\u7528\u3002\u79fb\u9664\u4e86\u5728\u6b65\u8fdb\u9a71\u52a8\u5668 enable_pin \u914d\u7f6e\u4e2d\u63a7\u5236\u591a\u4e2a\u5f15\u811a\u7684\u80fd\u529b\u3002\u5982\u679c\u9700\u8981\u63a7\u5236\u591a\u4e2a\u5f15\u811a\uff0c\u8bf7\u4f7f\u7528multi_pin \u914d\u7f6e\u90e8\u5206\u3002 20191107\uff1a\u4e3b\u6324\u51fa\u673a\u914d\u7f6e\u90e8\u5206\u5fc5\u987b\u6307\u5b9a\u4e3a \"extruder\"\uff0c\u4e0d\u5f97\u518d\u6307\u5b9a\u4e3a \"extruder0\"\u3002\u67e5\u8be2\u6324\u51fa\u673a\u72b6\u6001\u7684Gcode\u547d\u4ee4\u6a21\u677f\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7\"{printer.extruder}\"\u8bbf\u95ee\u3002 20191021: Klipper v0.8.0\u53d1\u5e03 20191003: [safe_z_homing] \u4e2d\u7684 move_to_previous \u9009\u9879\u73b0\u5728\u9ed8\u8ba4\u4e3a False\u3002(\u572820190918\u5e74\u4e4b\u524d\uff0c\u5b83\u5b9e\u9645\u4e0a\u662fFalse\u3002) 20190918: [safe_z_homing]\u4e2d\u7684 zhop \u9009\u9879\u603b\u662f\u5728Z\u8f74\u5f52\u4f4d\u5b8c\u6210\u540e\u91cd\u65b0\u5e94\u7528\u3002\u8fd9\u53ef\u80fd\u9700\u8981\u7528\u6237\u66f4\u65b0\u57fa\u4e8e\u6b64\u6a21\u5757\u7684\u81ea\u5b9a\u4e49\u811a\u672c\u3002 20190806: SET_NEOPIXEL \u547d\u4ee4\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3a SET_LED\u3002 20190726\uff1a\u66f4\u6539\u4e86mcp4728\u7684\u6570\u6a21\u8f6c\u6362\u4ee3\u7801\u3002\u9ed8\u8ba4\u7684i2c_address\u73b0\u5728\u662f0x60\uff0c\u7535\u538b\u53c2\u8003\u73b0\u5728\u662f\u76f8\u5bf9\u4e8emcp4728\u7684\u5185\u90e82.048V\u53c2\u8003\u6e90\u3002 20190710: \u5220\u9664\u4e86[firmware_retract]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684z_hop\u9009\u9879\u3002\u7531\u4e8e\u5bf9z_hop\u7684\u652f\u6301\u4e0d\u5b8c\u6574\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u51e0\u4e2a\u5e38\u89c1\u5207\u7247\u8f6f\u4ef6\u7684\u5f02\u5e38\u884c\u4e3a\u3002 20190710\uff1a\u6539\u53d8\u4e86PROBE_ACCURACY\u547d\u4ee4\u7684\u53ef\u9009\u53c2\u6570\u3002\u5982\u679c\u5b8f\u6216\u811a\u672c\u4f7f\u7528\u4e86\u8be5\u547d\u4ee4\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u3002 20190628\uff1a\u79fb\u9664\u4e86[skew_correction]\u90e8\u5206\u6240\u6709\u7684\u914d\u7f6e\u9009\u9879\u3002\u73b0\u5728\uff0c\u5bf9skew_correction\u7684\u914d\u7f6e\u662f\u901a\u8fc7SET_SKEW gcode\u5b8c\u6210\u7684\u3002\u63a8\u8350\u4f7f\u7528\u65b9\u6cd5\u8bf7\u53c2\u89c1 \u503e\u659c\u6821\u6b63 \u3002 20190607: gcode_macro \u7684 \"variable_X \"\u53c2\u6570\uff08\u4ee5\u53ca SET_GCODE_VARIABLE \u7684 VALUE \u53c2\u6570\uff09\u73b0\u5728\u88ab\u89e3\u6790\u4e3a Python \u5b57\u7b26\u3002\u5982\u679c\u4e00\u4e2a\u503c\u9700\u8981\u5206\u914d\u6210\u5b57\u7b26\u4e32\u578b\uff0c\u90a3\u4e48\u7528\u5f15\u53f7\u5305\u88f9\u8be5\u503c\u4ee5\u786e\u4fdd\u5b83\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002 20190606: samples\"\u3001\"samples_result \"\u548c \"samples_retract_dist \"\u914d\u7f6e\u9009\u9879\u5df2\u88ab\u79fb\u81f3 \"probe \"\u914d\u7f6e\u90e8\u5206\u3002\u5728 \"delta_calibrate\"\u3001\"bed_tilt\"\u3001\"bed_mesh\"\u3001\"screw_tilt_adjust\"\u3001\"z_tilt \"\u6216 \"quad_gantry_level \"\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u6301\u8fd9\u4e9b\u9009\u9879\u3002 20190528\uff1agcode_macro\u6a21\u677f\u8bc4\u4f30\u4e2d\u7684\u7279\u6b8a \"status \"\u53d8\u91cf\u5df2\u66f4\u540d\u4e3a \"printer\"\u3002 20190520: SET_GCODE_OFFSET\u547d\u4ee4\u5df2\u7ecf\u6539\u53d8\uff0c\u8bf7\u76f8\u5e94\u5730\u66f4\u65b0G\u4ee3\u7801\u5b8f\u3002\u8be5\u547d\u4ee4\u5c06\u4e0d\u518d\u628a\u8981\u6c42\u7684\u504f\u79fb\u91cf\u5e94\u7528\u4e8e\u4e0b\u4e00\u4e2aG1\u547d\u4ee4\u3002\u65e7\u7684\u884c\u4e3a\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u65b0\u7684 \"MOVE=1 \"\u53c2\u6570\u6765\u8fd1\u4f3c\u5b9e\u73b0\u3002 20190404\uff1aPython\u4e3b\u673a\u8f6f\u4ef6\u5305\u5df2\u7ecf\u66f4\u65b0\u3002\u7528\u6237\u9700\u8981\u91cd\u65b0\u8fd0\u884c~/klipper/scripts/install-octopi.sh\u811a\u672c\uff08\u5982\u679c\u4e0d\u4f7f\u7528\u6807\u51c6\u7684OctoPi\u5b89\u88c5\uff0c\u5219\u9700\u8981\u5347\u7ea7Python\u7684\u4f9d\u8d56\u5173\u7cfb\uff09\u3002 20190404\uff1a\u73b0\u5728i2c_bus\u548cspi_bus\u53c2\u6570\uff08\u5728\u5404\u4e2a\u914d\u7f6e\u90e8\u5206\uff09\u91c7\u7528\u603b\u7ebf\u540d\u79f0\u800c\u4e0d\u662f\u6570\u5b57\u3002 20190404\uff1a\u53d8\u66f4\u4e86sx1509\u7684\u914d\u7f6e\u53c2\u6570\u3002'address' \u53c2\u6570\u6539\u540d\u4e3a 'i2c_address'\u4e14\u5fc5\u987b\u88ab\u6307\u5b9a\u4e3a\u5341\u8fdb\u5236\u6570\u5b57\u3002\u4ee5\u524d\u4f7f\u7528\u7684\u662f0x3E\uff0c\u73b0\u5728\u5219\u752862\u3002 20190328\uff1a\u73b0\u5728[temperature_fan]\u914d\u7f6e\u4e2d\u7684min_speed\u503c\u5c06\u88ab\u4f7f\u7528\uff0c\u5728PID\u6a21\u5f0f\u4e0b\uff0c\u98ce\u6247\u5c06\u59cb\u7ec8\u4ee5\u8fd9\u4e2a\u901f\u5ea6\u6216\u66f4\u9ad8\u7684\u901f\u5ea6\u8f6c\u52a8\u3002 20190322: [tmc2660] \u914d\u7f6e\u90e8\u5206\u4e2d \"driver_HEND \"\u7684\u9ed8\u8ba4\u503c\u4ece6\u6539\u4e3a3\u3002\"driver_VSENSE \"\u5b57\u6bb5\u88ab\u5220\u9664\uff08\u4ecerun_current\u4e2d\u81ea\u52a8\u8ba1\u7b97\u7684\uff09\u3002 20190310\uff1a\u73b0\u5728[controller_fan]\u914d\u7f6e\u90e8\u5206\u603b\u662f\u5305\u542b\u4e00\u4e2a\u540d\u5b57\uff08\u4f8b\u5982[controller_fan my_controller_fan]\uff09\u3002 20190308\uff1a[tmc2130]\u548c[tmc2208]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684 \"driver_BLANK_TIME_SELECT \"\u5b57\u6bb5\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3a \"driver_TBL\"\u3002 20190308\uff1a\u53d8\u66f4\u4e86[tmc2660]\u914d\u7f6e\u90e8\u5206\u3002\u73b0\u5728\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684sense_resistor\u914d\u7f6e\u53c2\u6570\u3002\u53d8\u66f4\u4e86\u51e0\u4e2adriver_XXX\u53c2\u6570\u7684\u542b\u4e49\u3002 20190228: SAMD21\u677f\u4e0a\u7684SPI\u6216I2C\u73b0\u5728\u5fc5\u987b\u901a\u8fc7[samd_sercom]\u914d\u7f6e\u90e8\u5206\u6307\u5b9a\u603b\u7ebf\u5f15\u811a\u3002 20190224: bed_shape\u9009\u9879\u5df2\u4ecebed_mesh\u4e2d\u79fb\u9664\u3002\u534a\u5f84\uff08radius\uff09\u9009\u9879\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3abed_radius\u3002\u5982\u679c\u4f7f\u7528\u5706\u5f62\u5e8a\uff0c\u9700\u8981\u63d0\u4f9bbed_radius\u548cround_probe_count\u9009\u9879\u3002 20190107\uff1a\u53d8\u66f4\u4e86mcp4451\u914d\u7f6e\u90e8\u5206\u7684i2c_address\u53c2\u6570\u3002\u8fd9\u662fSmoothieboards\u4e0a\u7684\u4e00\u4e2a\u5e38\u89c4\u8bbe\u7f6e\u3002\u65b0\u503c\u662f\u65e7\u503c\u7684\u4e00\u534a\uff0888\u5e94\u6539\u4e3a44\uff0c\u800c90\u5e94\u6539\u4e3a45\uff09\u3002 20181220: Klipper v0.7.0\u53d1\u5e03","title":"\u914d\u7f6e\u53d8\u66f4"},{"location":"Config_Changes.html#_1","text":"\u672c\u6587\u6863\u6db5\u76d6\u4e86\u8f6f\u4ef6\u66f4\u65b0\u4e2d\u5bf9\u914d\u7f6e\u6587\u4ef6\u4e0d\u5411\u540e\u517c\u5bb9\u7684\u90e8\u5206\u3002\u5728\u5347\u7ea7 Klipper \u65f6\uff0c\u6700\u597d\u4e5f\u67e5\u770b\u4e00\u4e0b\u8fd9\u4efd\u6587\u6863\u3002 \u6587\u6863\u7684\u6240\u6709\u65e5\u671f\u90fd\u662f\u5927\u6982\u65f6\u95f4\u3002","title":"\u914d\u7f6e\u53d8\u66f4"},{"location":"Config_Changes.html#_2","text":"20220616\uff1a\u4ee5\u524d\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c make flash FLASH_DEVICE=first \u5728\u5f15\u5bfc\u7a0b\u5e8f\u6a21\u5f0f\u4e0b\u5237\u5199rp2040\u3002\u65b0\u7684\u7b49\u6548\u547d\u4ee4\u662f make flash FLASH_DEVICE=2e8a:0003 \u3002 20220612: \u5b9e\u73b0\u4e86rp2040\u4e0a\"rp2040-e5\"USB\u6570\u636e\u9519\u8bef\u7684\u4e00\u4e2a\u89e3\u51b3\u529e\u6cd5\u3002\u8fd9\u5e94\u8be5\u4f7f\u6700\u521d\u7684 USB \u8fde\u63a5\u66f4\u52a0\u53ef\u9760\u3002\u7136\u800c\uff0c\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4gpio15\u5f15\u811a\u7684\u884c\u4e3a\u53d1\u751f\u53d8\u5316\u3002gpio15\u7684\u884c\u4e3a\u53d8\u5316\u4e0d\u592a\u53ef\u80fd\u6709\u660e\u663e\u5f71\u54cd\u3002 20220407\uff1atemperature_fan \u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 pid_integral_max \u9009\u9879\u5df2\u88ab\u5220\u9664\uff08\u5728 20210612 \u65f6\u5df2\u5f03\u7528\uff09\u3002 20220407: pca9632 LED\u7684\u9ed8\u8ba4\u8272\u5e8f\u73b0\u5728\u662f\"RGBW\"\u3002\u5728pca9632\u914d\u7f6e\u5206\u6bb5\u4e2d\u663e\u5f0f\u52a0\u5165 color_order:RBGW \u8bbe\u7f6e\u4ee5\u83b7\u5f97\u4ee5\u548c\u539f\u6765\u4e00\u6837\u7684\u884c\u4e3a\u3002 20220330\uff1aneopixel\u548cdotstar\u6a21\u5757\u7684 printer.neopixel.color_data \u72b6\u6001\u4fe1\u606f\u7684\u683c\u5f0f\u5df2\u7ecf\u6539\u53d8\u3002\u8fd9\u4e9b\u4fe1\u606f\u73b0\u5728\u88ab\u5b58\u50a8\u4e3a\u4e00\u4e2a\u5217\u8868\u4e2d\u7684\u989c\u8272\u5217\u8868\uff08\u800c\u4e0d\u662f\u5b57\u5178\u5217\u8868\uff09\u3002\u8be6\u60c5\u89c1 \u72b6\u6001\u53c2\u8003 \u3002 20220307: M73 \u5982\u679c\u4e0d\u7ed9\u5b9a P \uff0c\u5219\u4e0d\u518d\u5c06\u6253\u5370\u8fdb\u5ea6\u8bbe\u7f6e\u4e3a0\u3002 20220304\uff1a extruder_stepper \u914d\u7f6e\u5206\u6bb5\u7684 extruder \u53c2\u6570\u4e0d\u518d\u6709\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u660e\u786e\u6307\u5b9a extruder: extruder \uff0c\u4ee5\u4fbf\u5728\u542f\u52a8\u65f6\u5173\u8054\u6b65\u8fdb\u7535\u673a\u548c\"extruder\"\u8fd0\u52a8\u5e8f\u5217\u3002 20220210\uff1a SYNC_STEPPER_TO_EXTRUDER \u3001 SET_EXTRUDER_STEP_DISTANCE \u3001 extruder \u7684 shared_heater \u914d\u7f6e\u9009\u9879\u5df2\u5f03\u7528\u3002\u8fd9\u4e9b\u529f\u80fd\u5c06\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u88ab\u5220\u9664\u3002\u5c06 SET_EXTRUDER_STEP_DISTANCE \u66ff\u6362\u4e3a SET_EXTRUDER_ROTATION_DISTANCE \uff0c SYNC_STEPPER_TO_EXTRUDER \u66ff\u6362\u4e3a SYNC_EXTRUDER_MOTION \uff0c\u4f7f\u7528 shared_heater \u4e0e extruder_stepper \u914d\u7f6e\u5206\u6bb5\u66ff\u6362 extruder \u914d\u7f6e\u5206\u6bb5\uff0c\u5e76\u66f4\u65b0\u6240\u6709\u6fc0\u6d3b\u5b8f\u4ee5\u4f7f\u7528 SYNC_EXTRUDER_MOTION \u3002 20220116: \u53d8\u66f4\u4e86tmc2130\u3001tmc2208\u3001tmc2209\u548ctmc2660\u7684 run_current \u8ba1\u7b97\u4ee3\u7801\u3002\u5bf9\u4e8e\u4e00\u4e9b run_current \u8bbe\u7f6e\uff0c\u9a71\u52a8\u7a0b\u5e8f\u73b0\u5728\u7684\u914d\u7f6e\u7ed3\u679c\u53ef\u80fd\u88ab\u548c\u539f\u6765\u4e0d\u540c\u3002\u65b0\u7684\u914d\u7f6e\u5e94\u8be5\u66f4\u51c6\u786e\uff0c\u4f46\u5b83\u53ef\u80fd\u5bfc\u81f4\u524d\u7684tmc\u9a71\u52a8\u8c03\u8c10\u5931\u6548\u3002 20211230: \u8fc1\u79fb\u8f93\u5165\u6574\u5f62\u5668\u8c03\u6574\u811a\u672c\uff08 scripts/calibrate_shaper.py \u548c scripts/graph_accelerometer.py \uff09\uff0c\u65b0\u811a\u672c\u9ed8\u8ba4\u4f7f\u7528Python3\u3002\u56e0\u6b64\uff0c\u5fc5\u987b\u5b89\u88c5Python3\u7248\u672c\u7684\u67d0\u4e9b\u8f6f\u4ef6\u5305\uff08\u4f8b\u5982\uff0c sudo apt install python3-numpy python3-matplotlib \uff09\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\u8fd9\u4e9b\u811a\u672c\u3002\u66f4\u591a\u7ec6\u8282\uff0c\u8bf7\u53c2\u8003 \u8f6f\u4ef6\u5b89\u88c5 \u3002\u53e6\u5916\uff0c\u7528\u6237\u53ef\u4ee5\u901a\u8fc7\u5728\u63a7\u5236\u53f0\u663e\u6027\u8c03\u7528Python2\u89e3\u91ca\u5668\uff0c\u4e34\u65f6\u5f3a\u5236\u5728Python 2\u4e0b\u6267\u884c\u8fd9\u4e9b\u811a\u672c\uff1a python2 ~/klipper/scripts/calibrate_shaper.py ... 20211110: \u5f03\u7528\"NTC 100K beta 3950 \"\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u672a\u6765\u4f1a\u5220\u9664\u8fd9\u4e2a\u4f20\u611f\u5668\u3002\u5927\u591a\u6570\u7528\u6237\u4f1a\u53d1\u73b0 \"Generic 3950 \"\u6e29\u5ea6\u4f20\u611f\u5668\u66f4\u51c6\u786e\u3002\u8981\u7ee7\u7eed\u4f7f\u7528\u65e7\u7684\uff08\u901a\u5e38\u4e0d\u592a\u51c6\u786e\uff09\u5b9a\u4e49\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 thermistor \uff0c\u5176\u4e2d\u5305\u62ec temperature1: 25 \uff0c resistance1: 100000 \u548c beta: 3950 \u3002 20211104\uff1a\u5220\u9664\u4e86\"make menuconfig \"\u4e2d\u7684 \"step pulse duration \"\u9009\u9879\u3002\u73b0\u5728\u5728UART\u6216SPI\u6a21\u5f0f\u4e0b\u914d\u7f6e\u7684TMC\u9a71\u52a8\u5668\u7684\u9ed8\u8ba4\u6b65\u957f\u662f100ns\u3002\u5728 stepper config section \u4e2d\u7684\u589e\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684 step_pulse_duration \u8bbe\u7f6e\uff0c\u6240\u6709\u9700\u8981\u81ea\u5b9a\u4e49\u8109\u51b2\u6301\u7eed\u65f6\u95f4\u7684\u6b65\u8fdb\u9a71\u52a8\u5668\u90fd\u9700\u8981\u8bbe\u7f6e\u3002 20211102\uff1a\u5220\u9664\u4e86\u591a\u4e2a\u5e9f\u5f03\u7684\u529f\u80fd\u3002\u5220\u9664\u4e86\u6b65\u8fdb\u5668 step_distance \u9009\u9879\uff08\u5df2\u4e8e20201222\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86 rpi_temperature \u4f20\u611f\u5668\u522b\u540d\uff08\u5df2\u4e8e20210219\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86mcu\u7684 pin_map \u9009\u9879\uff08\u5df2\u4e8e20210325\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86gcode_macro default_parameter_<name> \u548c\u901a\u8fc7 params \u4f2a\u53d8\u91cf\u4ee5\u5916\u7684\u5b8f\u8bbf\u95ee\u547d\u4ee4\u53c2\u6570\uff08\u5df2\u4e8e20210503\u5e9f\u5f03\uff09\u3002\u5220\u9664\u4e86\u52a0\u70ed\u5668\u7684 pid_integral_max \u9009\u9879\uff08\u5df2\u4e8e20210612\u5e9f\u5f03\uff09\u3002 20210929: Klipper v0.10.0\u53d1\u5e03\u3002 20210903: \u52a0\u70ed\u5668\u7684\u9ed8\u8ba4 smooth_time \u5df2\u6539\u4e3a1\u79d2\uff08\u4ece2\u79d2\uff09\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u6253\u5370\u673a\u6765\u8bf4\uff0c\u8fd9\u5c06\u4f7f\u6e29\u5ea6\u63a7\u5236\u66f4\u52a0\u7a33\u5b9a\u3002 20210830: \u9ed8\u8ba4\u7684adxl345\u540d\u79f0\u73b0\u5728\u662f \"adxl345\"\u3002 ACCELEROMETER_MEASURE \u548c ACCELEROMETER_QUERY \u7684\u9ed8\u8ba4CHIP\u53c2\u6570\u73b0\u5728\u4e5f\u662f \"adxl345\"\u3002 20210830: adxl345 ACCELEROMETER_MEASURE\u547d\u4ee4\u4e0d\u518d\u652f\u6301RATE\u53c2\u6570\u3002\u8981\u6539\u53d8\u67e5\u8be2\u901f\u7387\uff0c\u8bf7\u66f4\u65b0printer.cfg\u6587\u4ef6\u5e76\u53d1\u51faRESTART\u547d\u4ee4\u3002 20210821: printer.configfile.settings \u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u8bbe\u7f6e\u73b0\u5728\u5c06\u4ee5\u5217\u8868\u5f62\u5f0f\u62a5\u544a\uff0c\u800c\u4e0d\u662f\u539f\u59cb\u5b57\u7b26\u4e32\u3002\u5982\u679c\u9700\u8981\u539f\u59cb\u7684\u5b57\u7b26\u4e32\uff0c\u8bf7\u4f7f\u7528 printer.configfile.config \u4ee3\u66ff\u3002 20210819: \u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c G28 \u7684\u5f52\u96f6\u52a8\u4f5c\u53ef\u80fd\u5728\u67d0\u4e2a\u8d85\u51fa\u6709\u6548\u79fb\u52a8\u8303\u56f4\u7684\u4f4d\u7f6e\u7ed3\u675f\u3002\u5728\u5c11\u6570\u60c5\u51b5\u4e0b\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u5f52\u4f4d\u540e\u51fa\u73b0 \"\u79fb\u52a8\u8d85\u51fa\u8303\u56f4\uff08Move out of range\uff09\"\u7684\u9519\u8bef\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u8bf7\u6539\u53d8\u4f60\u7684\u542f\u52a8\u811a\u672c\uff0c\u5728\u5f52\u4f4d\u540e\u7acb\u5373\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u6709\u6548\u4f4d\u7f6e\u3002 20210814: atmega168\u548catmega328\u4e0a\u7684\u4ec5\u6709\u6a21\u62df\u7684\u4f2a\u5f15\u811a\u5df2\u7ecf\u4ecePE0/PE1\u6539\u540d\u4e3aPE2/PE3\u3002 20210720: controller_fan\u90e8\u5206\u73b0\u5728\u9ed8\u8ba4\u76d1\u63a7\u6240\u6709\u6b65\u8fdb\u7535\u673a\uff08\u800c\u4e0d\u4ec5\u4ec5\u662f\u8fd0\u52a8\u578b\u6b65\u8fdb\u7535\u673a\uff09\u3002\u5982\u679c\u9700\u8981\u4ee5\u524d\u7684\u884c\u4e3a\uff0c\u8bf7\u53c2\u8003 config reference \u4e2d\u7684 stepper \u914d\u7f6e\u9009\u9879\u3002 20210703: samd_sercom \u914d\u7f6e\u90e8\u5206\u73b0\u5728\u5fc5\u987b\u901a\u8fc7 sercom \u9009\u9879\u6307\u5b9a\u5b83\u8981\u914d\u7f6e\u7684sercom\u603b\u7ebf\u3002 20210612: \u52a0\u70ed\u5668(heater)\u548c\u6e29\u5ea6\u63a7\u5236\u98ce\u6247(temperature_fan)\u914d\u7f6e\u4e2d\u7684 pid_integral_max \u9009\u9879\u5df2\u88ab\u5f03\u7528\u3002\u8be5\u9009\u9879\u5c06\u5728\u672a\u6765\u88ab\u79fb\u9664\u3002 20210503: The gcode_macro default_parameter_<name> config option is deprecated. Use the params pseudo-variable to access macro parameters. Other methods for accessing macro parameters will be removed in the near future. Most users can replace a default_parameter_NAME: VALUE config option with a line like the following in the start of the macro: {% set NAME = params.NAME|default(VALUE)|float %} . See the Command Templates document for examples. 20210430: SET_VELOCITY_LIMIT\uff08\u548cM204\uff09\u547d\u4ee4\u73b0\u5728\u53ef\u4ee5\u8bbe\u7f6e\u5927\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u503c\u7684\u901f\u5ea6(velocity)\u3001\u52a0\u901f\u5ea6(acceleration)\u548c\u8f6c\u89d2\u79bb\u5fc3\u901f\u5ea6(square_corner_velocity)\u3002 20210325:\u914d\u7f6e\u4e2d\u7684 pin_map \u9009\u9879\u5df2\u88ab\u5e9f\u5f03\u3002\u4f7f\u7528 sample-aliases.cfg \u6587\u4ef6\u5c06\u73b0\u6709\u7684\u5f15\u811a\u540d\u7ffb\u8bd1\u6210\u5b9e\u9645\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u79f0\u3002\u914d\u7f6e\u4e2d\u7684 pin_map \u9009\u9879\u5c06\u5728\u672a\u6765\u88ab\u79fb\u9664\u3002 20210313\uff1aKlipper\u5bf9CAN\u603b\u7ebf\u901a\u4fe1\u7684\u5fae\u63a7\u5236\u5668\u7684\u652f\u6301\u53d1\u751f\u4e86\u53d8\u5316\u3002\u5982\u679c\u4f7f\u7528CAN\u603b\u7ebf\uff0c\u5168\u90e8\u5fae\u63a7\u5236\u5668\u5fc5\u987b\u88ab\u91cd\u65b0\u5237\u5199\u5e76\u66f4\u65b0 Klipper CAN \u603b\u7ebf\u914d\u7f6e \u3002 20210310\uff1aTMC2660 \u9ed8\u8ba4 driver_SFILT \u4ece1 \u6539\u4e3a 0\u3002 20210227\uff1a\u73b0\u5728\u6bcf\u5f53\u542f\u7528 UART \u6216 SPI \u6a21\u5f0f\u7684 TMC \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u6d3b\u8dc3\u65f6\uff0c\u6bcf\u79d2\u4f1a\u67e5\u8be2\u4e00\u6b21 - \u5982\u679c\u65e0\u6cd5\u8054\u7cfb\u5230\u9a71\u52a8\u6216\u5982\u679c\u9a71\u52a8\u62a5\u544a\u9519\u8bef\uff0c\u5219 Klipper \u5c06\u8fc7\u6e21\u5230\u5173\u95ed\u72b6\u6001\u3002 20210219\uff1a rpi_temperature \u6a21\u5757\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3a temperature_host \u3002\u7528 sensor_type: temperature_host \u66ff\u6362\u5168\u90e8\u7684 sensor_type: rpi_temperature \u3002\u6e29\u5ea6\u6587\u4ef6\u7684\u8def\u5f84\u53ef\u4ee5\u5728 sensor_path \u914d\u7f6e\u53d8\u91cf\u4e2d\u6307\u5b9a\u3002\u540d\u79f0\u201c rpi_temperature \u201d\u5df2\u88ab\u5e9f\u5f03\uff0c\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u4f1a\u88ab\u5220\u9664\u3002 20210201: TEST_RESONANCES \u547d\u4ee4\u73b0\u5728\u5c06\u7981\u7528\u4e4b\u524d\u542f\u7528\u7684\u8f93\u5165\u6574\u5f62\uff08\u5e76\u5728\u6d4b\u8bd5\u540e\u91cd\u65b0\u542f\u7528\uff09\u3002\u5982\u679c\u9700\u8981\u8986\u76d6\u8fd9\u4e00\u884c\u4e3a\u5e76\u4fdd\u6301\u8f93\u5165\u6574\u5f62\u5728\u6d4b\u8bd5\u65f6\u542f\u7528\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u4e2d\u4f20\u9012\u4e00\u4e2a\u9644\u52a0\u53c2\u6570 INPUT_SHAPING=1 \u3002 20210201\uff1a\u5982\u679c\u4e00\u4e2a\u52a0\u901f\u5ea6\u8ba1\u82af\u7247\u5728printer.cfg\u7684\u76f8\u5e94 adxl345 \u5206\u6bb5\u88ab\u8d4b\u4e88\u4e86\u4e00\u4e2a\u540d\u79f0\uff0c ACCELEROMETER_MEASURE \u547d\u4ee4\u7684\u8f93\u51fa\u6587\u4ef6\u73b0\u5728\u4f1a\u5305\u542b\u5b83\u7684\u540d\u79f0\u3002 20201222\uff1a\u6b65\u8fdb\u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 step_distance \u8bbe\u7f6e\u5df2\u88ab\u5e9f\u5f03\u3002\u5efa\u8bae\u66f4\u65b0\u914d\u7f6e\u4ee5\u4f7f\u7528 rotrot_distance \u8bbe\u7f6e\u3002\u5bf9 step_distance \u7684\u652f\u6301\u5c06\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u88ab\u79fb\u9664\u3002 20201218\uff1aendstop_phase \u6a21\u5757\u4e2d\u7684 endstop_phase \u8bbe\u7f6e\u5df2\u88ab trigger_phase \u53d6\u4ee3\u3002\u5982\u679c\u4f7f\u7528\u76f8\u4f4d\u9650\u4f4d\u6a21\u5757\uff0c\u5219\u9700\u8981\u8f6c\u6362\u4e3a rotation_distance \uff0c\u5e76\u901a\u8fc7\u8fd0\u884c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u91cd\u65b0\u6821\u51c6\u4efb\u4f55\u76f8\u4f4d\u9650\u4f4d\u3002 20201218\uff1a\u65cb\u8f6c\u4e09\u89d2\u6d32\u548c\u6781\u70b9\u6253\u5370\u673a\u73b0\u5728\u5fc5\u987b\u4e3a\u65cb\u8f6c\u6b65\u8fdb\u7535\u673a\u6307\u5b9a gear_ratio \uff0c\u5e76\u4e14\u5b83\u4eec\u53ef\u4ee5\u4e0d\u518d\u6307\u5b9a step_distance \u53c2\u6570\u3002\u6709\u5173\u65b0 gear_ratio \u53c2\u6570\u7684\u683c\u5f0f\uff0c\u8bf7\u53c2\u9605 \u914d\u7f6e\u53c2\u8003 \u3002 20201213\uff1a\u5f53\u4f7f\u7528\"probe:z_virtual_endstop\"\u65f6\uff0c\u6307\u5b9a\u7684 Z \"position_endstop\"\u662f\u65e0\u6548\u7684\u3002\u73b0\u5728\uff0c\u5982\u679c\u7528\"probe:z_virtual_endstop\"\u6307\u5b9a\u4e00\u4e2a Z \"position_endstop\"\uff0c\u5c06\u4f1a\u62a5\u544a\u4e00\u4e2a\u9519\u8bef\u3002\u5220\u9664 Z \u7684 \"position_endstop\"\u5b9a\u4e49\u4ee5\u89e3\u51b3\u8fd9\u4e2a\u9519\u8bef\u3002 20201120: [board_pins] \u914d\u7f6e\u90e8\u5206\u73b0\u5728\u5728 mcu: \u53c2\u6570\u4e2d\u660e\u786e\u6307\u5b9a\u4e86\u5bf9\u5e94MCU\u540d\u79f0\u3002\u5982\u679c\u4f7f\u7528\u8f85\u52a9MCU\u7684board_pins\uff0c\u5219\u5fc5\u987b\u66f4\u65b0\u914d\u7f6e\u4ee5\u6307\u5b9a\u8be5MCU\u540d\u79f0\u3002\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u4ee5\u4e86\u89e3\u66f4\u591a\u7ec6\u8282\u3002 20201112: \u7531 print_stats.print_duration \u63a7\u5236\u7684\u62a5\u544a\u65f6\u95f4\u5df2\u7ecf\u6539\u53d8\u3002\u73b0\u5728\u4e0d\u5305\u62ec\u68c0\u6d4b\u5230\u7684\u9996\u6b21\u6324\u51fa\u4e4b\u524d\u7684\u65f6\u95f4\u3002 20201029: neopixel color_order_GRB \u914d\u7f6e\u5df2\u4ece\u914d\u7f6e\u4e2d\u79fb\u9664\u3002\u5982\u679c\u9700\u8981\uff0c\u8bf7\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\uff0c\u5c06\u65b0\u7684 color_order \u9009\u9879\u8bbe\u7f6e\u4e3aRGB\u3001GRB\u3001RGBW\u6216GRBW\u3002 20201029: mcu\u914d\u7f6e\u90e8\u5206\u7684\u4e32\u884c\u9009\u9879\u4e0d\u518d\u9ed8\u8ba4\u4e3a /dev/ttyS0 \u3002\u5728\u6781\u5176\u7f55\u89c1\u7684\u60c5\u51b5\u4e0b\uff0c\u5982\u679c /dev/ttyS0 \u662f\u6240\u9700\u7684\u4e32\u884c\u7aef\u53e3\uff0c\u5fc5\u987b\u660e\u786e\u6307\u5b9a\u5b83\u3002 20201020: Klipper v0.9.0\u53d1\u5e03\u3002 20200902: \u4fee\u6b63\u4e86MAX31865\u8f6c\u6362\u5668\u7684RTD\u7535\u963b-\u6e29\u5ea6\u8ba1\u7b97\u65e0\u6cd5\u4e3a\u4f4e\u7684\u9519\u8bef\u3002\u5982\u679c\u4f60\u4f7f\u7528\u6b64\u82af\u7247\uff0c\u8bf7\u91cd\u65b0\u6821\u51c6\u4f60\u7684\u6253\u5370\u6e29\u5ea6\u548cPID\u8bbe\u5b9a\u3002 20200816: G\u4ee3\u7801\u5b8f printer.gcode \u5bf9\u8c61\u5df2\u88ab\u91cd\u547d\u540d\u4e3a printer.gcode_move \u3002\u5220\u9664\u4e86 printer.toolhead \u548c printer.gcode \u4e2d\u51e0\u4e2a\u6ca1\u6709\u6587\u6863\u7684\u53d8\u91cf\u3002\u53c2\u89c1 docs/Command_Templates.md \u4ee5\u83b7\u5f97\u53ef\u7528\u7684\u6a21\u677f\u53d8\u91cf\u5217\u8868\u3002 20200816: gcode\u5b8f \"action_\"\u7cfb\u7edf\u5df2\u7ecf\u6539\u53d8\u3002\u8bf7\u7528 action_emergency_stop() \u66ff\u6362\u6240\u6709 printer.gcode.action_emergency_stop() \uff0c\u7528 action_respond_info() \u66ff\u6362\u6240\u6709 printer.gcode.action_respond_info() \uff0c\u7528 action_raise_error() \u66ff\u6362\u6240\u6709 printer.gcode.action_respond_error() \u3002 20200809: \u83dc\u5355\u7cfb\u7edf\u5df2\u88ab\u91cd\u5199\u3002\u5982\u679c\u662f\u5b9a\u5236\u83dc\u5355\uff0c\u90a3\u9700\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u914d\u7f6e\u7ec6\u8282\u89c1config/example-menu.cfg\uff0c\u4f8b\u5b50\u89c1klippy/extras/display/menu.cfg\u3002 20200731: virtual_sdcard \u6253\u5370\u673a\u5bf9\u8c61\u62a5\u544a\u7684 progress \u5c5e\u6027\u7684\u884c\u4e3a\u5df2\u7ecf\u6539\u53d8\u3002\u5f53\u6253\u5370\u6682\u505c\u65f6\uff0c\u8fdb\u5ea6\u4e0d\u518d\u88ab\u91cd\u7f6e\u4e3a0\u3002\u73b0\u5728\u5b83\u4f1a\u59cb\u7ec8\u6839\u636e\u5df2\u52a0\u8f7d\u6587\u4ef6\u7684\u8bfb\u53d6\u4f4d\u7f6e\u6765\u62a5\u544a\u8fdb\u5ea6\uff0c\u5982\u679c\u5f53\u524d\u6ca1\u6709\u52a0\u8f7d\u6587\u4ef6\uff0c\u5219\u62a5\u544a0\u3002 20200725: \u79fb\u9664\u4e86\u8235\u673a enable \u914d\u7f6e\u53c2\u6570\u548cSET_SERVO ENABLE \u53c2\u6570\u3002\u8bf7\u66f4\u65b0\u6240\u6709\u5b8f\uff0c\u7528 SET_SERVO SERVO=my_servo WIDTH=0 \u6765\u7981\u7528\u8235\u673a\u3002 20200608: LCD\u663e\u793a\u652f\u6301\u90e8\u5206\u6539\u53d8\u4e86\u4e00\u4e9b\u5185\u90e8 \"\u5b57\u5f62 \"\u7684\u540d\u79f0\u3002\u5982\u679c\u81ea\u5b9a\u4e49\u4e86\u663e\u793a\u5e03\u5c40\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u5230\u6700\u65b0\u7684\u5b57\u5f62\u540d\u79f0\uff08\u89c1klippy/extras/display/display.cfg\u4e2d\u7684\u53ef\u7528\u5b57\u5f62\u5217\u8868\uff09\u3002 20200606: \u6539\u53d8\u4e86linux mcu\u4e0a\u7684\u5f15\u811a\u540d\u79f0\u3002\u73b0\u5728\u5f15\u811a\u7684\u540d\u79f0\u683c\u5f0f\u662f gpiochip<chipid>/gpio<gpio> \u3002\u5bf9\u4e8egpiochip0\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 gpio<gpio> \u7684\u7f29\u5199\u3002\u4f8b\u5982\uff0c\u4ee5\u524d\u540d\u5b57\u4e3a P20'\uff0c\u73b0\u5728\u53d8\u6210 gpio20'\u6216`gpiochip0/gpio20'\u3002 20200603\uff1a\u9ed8\u8ba4\u768416x4 LCD\u5e03\u5c40\u5c06\u4e0d\u518d\u663e\u793a\u6253\u5370\u7684\u9884\u8ba1\u5269\u4f59\u65f6\u95f4\u3002(\u53ea\u663e\u793a\u5df2\u7528\u65f6\u95f4\u3002)\u5982\u679c\u9700\u8981\u65e7\u7684\u5e03\u5c40\uff0c\u53ef\u4ee5\u7528\u5b9a\u5236\u83dc\u5355\u663e\u793a\u8be5\u4fe1\u606f(\u8be6\u60c5\u89c1config/example-extras.cfg\u4e2ddisplay_data\u7684\u63cf\u8ff0)\u3002 20200531: \u9ed8\u8ba4\u7684USB\u5382\u5546/\u4ea7\u54c1ID\u73b0\u5728\u662f0x1d50/0x614e\u3002\u8fd9\u4e2a\u65b0ID\u662f\u4e3aKlipper\u4fdd\u7559\u7684\uff08\u611f\u8c22openmoko\u9879\u76ee\uff09\u3002\u8fd9\u4e2a\u53d8\u5316\u4e0d\u9700\u8981\u6539\u53d8\u4efb\u4f55\u914d\u7f6e\uff0c\u4f46\u65b0\u7684ID\u53ef\u80fd\u4f1a\u51fa\u73b0\u5728\u7cfb\u7edf\u65e5\u5fd7\u4e2d\u3002 20200524\uff1a\u73b0\u5728tmc5160\u7684pwm_freq\u5b57\u6bb5\uff0c\u9ed8\u8ba4\u503c\u662f0\uff08\u800c\u4e0d\u662f1\uff09\u3002 20200425: gcode_macro\u547d\u4ee4\u6a21\u677f\u53d8\u91cf printer.heater \u6539\u547d\u540d\u4e3a printer.heaters \u3002 20200313: \u6539\u53d8\u591a\u6324\u51fa\u673a\u6253\u5370\u673a16x4\u5c4f\u5e55\u7684\u9ed8\u8ba4\u6db2\u6676\u5c4f\u5e03\u5c40\u3002\u73b0\u5728\u9ed8\u8ba4\u662f\u5355\u4e2a\u6324\u51fa\u673a\u5c4f\u5e55\u5e03\u5c40\uff0c\u7528\u4e8e\u663e\u793a\u5f53\u524d\u6d3b\u52a8\u7684\u6324\u51fa\u673a\u3002\u8981\u4f7f\u7528\u4ee5\u524d\u7684\u663e\u793a\u5e03\u5c40\uff0c\u8bf7\u8bbe\u7f6eprinter.cfg\u6587\u4ef6\u4e2d[display]\u90e8\u5206\u7684 \"display_group: _multiextruder_16x4\"\u3002 20200308\uff1a\u79fb\u9664\u4e86\u9ed8\u8ba4\u7684 __test \u83dc\u5355\u9879\u3002\u5982\u679c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6709\u81ea\u5b9a\u4e49\u7684\u83dc\u5355\uff0c\u90a3\u4e48\u8bf7\u786e\u4fdd\u5220\u9664\u6240\u6709\u5bf9\u8fd9\u4e2a __test \u83dc\u5355\u9879\u7684\u5f15\u7528\u3002 20200308: \u79fb\u9664\u4e86\u83dc\u5355\u4e2d\u7684 \"desk \"\u548c \"card \"\u9009\u9879\u3002\u8981\u5b9a\u5236lcd\u5c4f\u5e55\u7684\u5e03\u5c40\uff0c\u8bf7\u4f7f\u7528\u65b0\u7684display_data\u914d\u7f6e\u90e8\u5206\uff08\u8be6\u89c1config/example-extras.cfg\uff09\u3002 20200109: bed_mesh \u6a21\u5757\u73b0\u5728\u5f15\u7528\u63a2\u9488\u7684\u4f4d\u7f6e\u6765\u8fdb\u884c\u7f51\u683c\u914d\u7f6e\u3002\u56e0\u6b64\uff0c\u4e00\u4e9b\u914d\u7f6e\u9009\u9879\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4ee5\u66f4\u51c6\u786e\u5730\u53cd\u6620\u5176\u529f\u80fd\u3002\u5bf9\u4e8e\u77e9\u5f62\u5e8a\uff0c min_point'\u548c max_point \u5206\u522b\u91cd\u65b0\u547d\u540d\u4e3a mesh_min \u548c mesh_max \u3002\u5bf9\u4e8e\u5706\u5f62\u5e8a\uff0c bed_radius \u91cd\u65b0\u547d\u540d\u4e3a mesh_radius \u3002\u5bf9\u4e8e\u5706\u5f62\u5e8a\uff0c\u8fd8\u589e\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684 mesh_origin`\u9009\u9879\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u53d8\u66f4\u4e0e\u4e4b\u524d\u4fdd\u5b58\u7684\u7f51\u683c\u914d\u7f6e\u6587\u4ef6\u4e0d\u517c\u5bb9\u3002\u5982\u679c\u68c0\u6d4b\u5230\u4e00\u4e2a\u4e0d\u517c\u5bb9\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u6b64\u6587\u4ef6\u4f1a\u88ab\u5ffd\u7565\u5e76\u88ab\u5220\u9664\u3002\u5220\u9664\u8fc7\u7a0b\u53ef\u4ee5\u901a\u8fc7\u53d1\u51fa SAVE_CONFIG \u547d\u4ee4\u6765\u5b8c\u6210\u3002\u7528\u6237\u5c06\u9700\u8981\u91cd\u65b0\u6821\u51c6\u6bcf\u4e2a\u5e8a\u7684\u7f51\u5e8a\u914d\u7f6e\u3002 20191218: \u663e\u793a\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u6301 \"lcd_type: st7567\"\u3002\u8bf7\u4f7f\u7528 \"uc1701 \"\u663e\u793a\u7c7b\u578b\u4ee3\u66ff\uff1a\u8bbe\u7f6e \"lcd_type: uc1701 \"\uff0c\u5c06 \"rs_pin: some_pin \"\u6539\u4e3a \"rst_pin: some_pin\"\u3002\u53ef\u80fd\u8fd8\u9700\u8981\u589e\u52a0\u4e00\u4e2a \"contrast: 60\"\u7684\u914d\u7f6e\u8bbe\u7f6e\u3002 20191210\uff1a\u5220\u9664\u4e86\u5185\u7f6e\u7684T0\u3001T1\u3001T2...\u547d\u4ee4\u3002\u79fb\u9664\u4e86\u6324\u51fa\u673a activate_gcode \u548c deactivate_gcode \u914d\u7f6e\u9009\u9879\u3002\u5982\u679c\u9700\u8981\u8fd9\u4e9b\u547d\u4ee4\uff08\u548c\u811a\u672c\uff09\uff0c\u8bf7\u5b9a\u4e49\u5355\u72ec\u7684[gcode_macro T0]\u98ce\u683c\u7684\u5b8f\uff0c\u8c03\u7528ACTIVATE_EXTRUDER\u547d\u4ee4\u3002\u53c2\u89c1config/sample-idex.cfg\u548csample-multi-extruder.cfg\u6587\u4ef6\u4e2d\u7684\u4f8b\u5b50\u3002 20191210\uff1a\u79fb\u9664\u4e86\u5bf9M206\u547d\u4ee4\u7684\u652f\u6301\u3002\u7528\u8c03\u7528SET_GCODE_OFFSET\u6765\u4ee3\u66ff\u3002\u5982\u679c\u9700\u8981\u5bf9M206\u7684\u652f\u6301\uff0c\u8bf7\u6dfb\u52a0\u4e00\u4e2a[gcode_macro M206]\u914d\u7f6e\u90e8\u5206\uff0c\u8c03\u7528SET_GCODE_OFFSET\u3002(\u4f8b\u5982 \"SET_GCODE_OFFSET Z=-{params.Z}\"\u3002) 20191202\uff1a\u79fb\u9664\u4e86\u5bf9 \"G4 \"\u547d\u4ee4\u4e2d\u65e0\u6807\u6ce8\u7684 \"S \"\u53c2\u6570\u7684\u652f\u6301\u3002\u7528\u6807\u51c6\u7684 \"P \"\u53c2\u6570\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\u7684\u5ef6\u8fdf\uff09\u53d6\u4ee3\u4efb\u4f55\u51fa\u73b0\u7684S\u3002 20191126\uff1a\u6539\u53d8\u4e86\u90a3\u4e9b\u539f\u751fUSB\u652f\u6301\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u7684USB\u540d\u79f0\u3002\u73b0\u5728\u9ed8\u8ba4\u4f7f\u7528\u552f\u4e00\u7684\u82af\u7247ID\uff08\u5982\u679c\u53ef\u7528\uff09\u3002\u5982\u679c \"MCU \"\u914d\u7f6e\u90e8\u5206\u4f7f\u7528\u4ee5\"/dev/serial/by-id/\"\u5f00\u5934\u7684 \"\u4e32\u53e3 \"\u8bbe\u7f6e\uff0c\u90a3\u4e48\u53ef\u80fd\u6709\u5fc5\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u5728ssh\u7ec8\u7aef\u8fd0\u884c \"ls /dev/serial/by-id/*\"\u6765\u786e\u5b9a\u65b0\u7684id\u3002 20191121\uff1a\u79fb\u9664\u4e86pressure_advance_lookahead_time\u53c2\u6570\u3002\u67e5\u770bexample.cfg\u4ee5\u4e86\u89e3\u66ff\u4ee3\u7684\u914d\u7f6e\u8bbe\u7f6e\u3002 20191112\uff1a\u5982\u679c\u6b65\u8fdb\u9a71\u52a8\u5668\u6ca1\u6709\u4e13\u7528\u7684\u6b65\u8fdb\u7535\u673a\u4f7f\u80fd\u5f15\u811a\uff0c\u90a3\u4e48\u5c31\u4f1a\u81ea\u52a8\u542f\u7528tmc\u6b65\u8fdb\u9a71\u52a8\u5668\u7684\u865a\u62df\u4f7f\u80fd\u529f\u80fd\u3002\u4ece\u914d\u7f6e\u4e2d\u5220\u9664\u5bf9tmcXXXX:virtual_enable\u7684\u5f15\u7528\u3002\u79fb\u9664\u4e86\u5728\u6b65\u8fdb\u9a71\u52a8\u5668 enable_pin \u914d\u7f6e\u4e2d\u63a7\u5236\u591a\u4e2a\u5f15\u811a\u7684\u80fd\u529b\u3002\u5982\u679c\u9700\u8981\u63a7\u5236\u591a\u4e2a\u5f15\u811a\uff0c\u8bf7\u4f7f\u7528multi_pin \u914d\u7f6e\u90e8\u5206\u3002 20191107\uff1a\u4e3b\u6324\u51fa\u673a\u914d\u7f6e\u90e8\u5206\u5fc5\u987b\u6307\u5b9a\u4e3a \"extruder\"\uff0c\u4e0d\u5f97\u518d\u6307\u5b9a\u4e3a \"extruder0\"\u3002\u67e5\u8be2\u6324\u51fa\u673a\u72b6\u6001\u7684Gcode\u547d\u4ee4\u6a21\u677f\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7\"{printer.extruder}\"\u8bbf\u95ee\u3002 20191021: Klipper v0.8.0\u53d1\u5e03 20191003: [safe_z_homing] \u4e2d\u7684 move_to_previous \u9009\u9879\u73b0\u5728\u9ed8\u8ba4\u4e3a False\u3002(\u572820190918\u5e74\u4e4b\u524d\uff0c\u5b83\u5b9e\u9645\u4e0a\u662fFalse\u3002) 20190918: [safe_z_homing]\u4e2d\u7684 zhop \u9009\u9879\u603b\u662f\u5728Z\u8f74\u5f52\u4f4d\u5b8c\u6210\u540e\u91cd\u65b0\u5e94\u7528\u3002\u8fd9\u53ef\u80fd\u9700\u8981\u7528\u6237\u66f4\u65b0\u57fa\u4e8e\u6b64\u6a21\u5757\u7684\u81ea\u5b9a\u4e49\u811a\u672c\u3002 20190806: SET_NEOPIXEL \u547d\u4ee4\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3a SET_LED\u3002 20190726\uff1a\u66f4\u6539\u4e86mcp4728\u7684\u6570\u6a21\u8f6c\u6362\u4ee3\u7801\u3002\u9ed8\u8ba4\u7684i2c_address\u73b0\u5728\u662f0x60\uff0c\u7535\u538b\u53c2\u8003\u73b0\u5728\u662f\u76f8\u5bf9\u4e8emcp4728\u7684\u5185\u90e82.048V\u53c2\u8003\u6e90\u3002 20190710: \u5220\u9664\u4e86[firmware_retract]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684z_hop\u9009\u9879\u3002\u7531\u4e8e\u5bf9z_hop\u7684\u652f\u6301\u4e0d\u5b8c\u6574\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u51e0\u4e2a\u5e38\u89c1\u5207\u7247\u8f6f\u4ef6\u7684\u5f02\u5e38\u884c\u4e3a\u3002 20190710\uff1a\u6539\u53d8\u4e86PROBE_ACCURACY\u547d\u4ee4\u7684\u53ef\u9009\u53c2\u6570\u3002\u5982\u679c\u5b8f\u6216\u811a\u672c\u4f7f\u7528\u4e86\u8be5\u547d\u4ee4\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u3002 20190628\uff1a\u79fb\u9664\u4e86[skew_correction]\u90e8\u5206\u6240\u6709\u7684\u914d\u7f6e\u9009\u9879\u3002\u73b0\u5728\uff0c\u5bf9skew_correction\u7684\u914d\u7f6e\u662f\u901a\u8fc7SET_SKEW gcode\u5b8c\u6210\u7684\u3002\u63a8\u8350\u4f7f\u7528\u65b9\u6cd5\u8bf7\u53c2\u89c1 \u503e\u659c\u6821\u6b63 \u3002 20190607: gcode_macro \u7684 \"variable_X \"\u53c2\u6570\uff08\u4ee5\u53ca SET_GCODE_VARIABLE \u7684 VALUE \u53c2\u6570\uff09\u73b0\u5728\u88ab\u89e3\u6790\u4e3a Python \u5b57\u7b26\u3002\u5982\u679c\u4e00\u4e2a\u503c\u9700\u8981\u5206\u914d\u6210\u5b57\u7b26\u4e32\u578b\uff0c\u90a3\u4e48\u7528\u5f15\u53f7\u5305\u88f9\u8be5\u503c\u4ee5\u786e\u4fdd\u5b83\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002 20190606: samples\"\u3001\"samples_result \"\u548c \"samples_retract_dist \"\u914d\u7f6e\u9009\u9879\u5df2\u88ab\u79fb\u81f3 \"probe \"\u914d\u7f6e\u90e8\u5206\u3002\u5728 \"delta_calibrate\"\u3001\"bed_tilt\"\u3001\"bed_mesh\"\u3001\"screw_tilt_adjust\"\u3001\"z_tilt \"\u6216 \"quad_gantry_level \"\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u6301\u8fd9\u4e9b\u9009\u9879\u3002 20190528\uff1agcode_macro\u6a21\u677f\u8bc4\u4f30\u4e2d\u7684\u7279\u6b8a \"status \"\u53d8\u91cf\u5df2\u66f4\u540d\u4e3a \"printer\"\u3002 20190520: SET_GCODE_OFFSET\u547d\u4ee4\u5df2\u7ecf\u6539\u53d8\uff0c\u8bf7\u76f8\u5e94\u5730\u66f4\u65b0G\u4ee3\u7801\u5b8f\u3002\u8be5\u547d\u4ee4\u5c06\u4e0d\u518d\u628a\u8981\u6c42\u7684\u504f\u79fb\u91cf\u5e94\u7528\u4e8e\u4e0b\u4e00\u4e2aG1\u547d\u4ee4\u3002\u65e7\u7684\u884c\u4e3a\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u65b0\u7684 \"MOVE=1 \"\u53c2\u6570\u6765\u8fd1\u4f3c\u5b9e\u73b0\u3002 20190404\uff1aPython\u4e3b\u673a\u8f6f\u4ef6\u5305\u5df2\u7ecf\u66f4\u65b0\u3002\u7528\u6237\u9700\u8981\u91cd\u65b0\u8fd0\u884c~/klipper/scripts/install-octopi.sh\u811a\u672c\uff08\u5982\u679c\u4e0d\u4f7f\u7528\u6807\u51c6\u7684OctoPi\u5b89\u88c5\uff0c\u5219\u9700\u8981\u5347\u7ea7Python\u7684\u4f9d\u8d56\u5173\u7cfb\uff09\u3002 20190404\uff1a\u73b0\u5728i2c_bus\u548cspi_bus\u53c2\u6570\uff08\u5728\u5404\u4e2a\u914d\u7f6e\u90e8\u5206\uff09\u91c7\u7528\u603b\u7ebf\u540d\u79f0\u800c\u4e0d\u662f\u6570\u5b57\u3002 20190404\uff1a\u53d8\u66f4\u4e86sx1509\u7684\u914d\u7f6e\u53c2\u6570\u3002'address' \u53c2\u6570\u6539\u540d\u4e3a 'i2c_address'\u4e14\u5fc5\u987b\u88ab\u6307\u5b9a\u4e3a\u5341\u8fdb\u5236\u6570\u5b57\u3002\u4ee5\u524d\u4f7f\u7528\u7684\u662f0x3E\uff0c\u73b0\u5728\u5219\u752862\u3002 20190328\uff1a\u73b0\u5728[temperature_fan]\u914d\u7f6e\u4e2d\u7684min_speed\u503c\u5c06\u88ab\u4f7f\u7528\uff0c\u5728PID\u6a21\u5f0f\u4e0b\uff0c\u98ce\u6247\u5c06\u59cb\u7ec8\u4ee5\u8fd9\u4e2a\u901f\u5ea6\u6216\u66f4\u9ad8\u7684\u901f\u5ea6\u8f6c\u52a8\u3002 20190322: [tmc2660] \u914d\u7f6e\u90e8\u5206\u4e2d \"driver_HEND \"\u7684\u9ed8\u8ba4\u503c\u4ece6\u6539\u4e3a3\u3002\"driver_VSENSE \"\u5b57\u6bb5\u88ab\u5220\u9664\uff08\u4ecerun_current\u4e2d\u81ea\u52a8\u8ba1\u7b97\u7684\uff09\u3002 20190310\uff1a\u73b0\u5728[controller_fan]\u914d\u7f6e\u90e8\u5206\u603b\u662f\u5305\u542b\u4e00\u4e2a\u540d\u5b57\uff08\u4f8b\u5982[controller_fan my_controller_fan]\uff09\u3002 20190308\uff1a[tmc2130]\u548c[tmc2208]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684 \"driver_BLANK_TIME_SELECT \"\u5b57\u6bb5\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3a \"driver_TBL\"\u3002 20190308\uff1a\u53d8\u66f4\u4e86[tmc2660]\u914d\u7f6e\u90e8\u5206\u3002\u73b0\u5728\u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684sense_resistor\u914d\u7f6e\u53c2\u6570\u3002\u53d8\u66f4\u4e86\u51e0\u4e2adriver_XXX\u53c2\u6570\u7684\u542b\u4e49\u3002 20190228: SAMD21\u677f\u4e0a\u7684SPI\u6216I2C\u73b0\u5728\u5fc5\u987b\u901a\u8fc7[samd_sercom]\u914d\u7f6e\u90e8\u5206\u6307\u5b9a\u603b\u7ebf\u5f15\u811a\u3002 20190224: bed_shape\u9009\u9879\u5df2\u4ecebed_mesh\u4e2d\u79fb\u9664\u3002\u534a\u5f84\uff08radius\uff09\u9009\u9879\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4e3abed_radius\u3002\u5982\u679c\u4f7f\u7528\u5706\u5f62\u5e8a\uff0c\u9700\u8981\u63d0\u4f9bbed_radius\u548cround_probe_count\u9009\u9879\u3002 20190107\uff1a\u53d8\u66f4\u4e86mcp4451\u914d\u7f6e\u90e8\u5206\u7684i2c_address\u53c2\u6570\u3002\u8fd9\u662fSmoothieboards\u4e0a\u7684\u4e00\u4e2a\u5e38\u89c4\u8bbe\u7f6e\u3002\u65b0\u503c\u662f\u65e7\u503c\u7684\u4e00\u534a\uff0888\u5e94\u6539\u4e3a44\uff0c\u800c90\u5e94\u6539\u4e3a45\uff09\u3002 20181220: Klipper v0.7.0\u53d1\u5e03","title":"\u53d8\u66f4"},{"location":"Config_Reference.html","text":"\u914d\u7f6e\u53c2\u8003 \u00b6 \u672c\u6587\u6863\u662f Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u53ef\u7528\u914d\u7f6e\u5206\u6bb5\u7684\u53c2\u8003\u3002 \u672c\u6587\u6863\u4e2d\u7684\u63cf\u8ff0\u5df2\u7ecf\u683c\u5f0f\u5316\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5c06\u5b83\u4eec\u526a\u5207\u5e76\u7c98\u8d34\u5230\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002 \u89c1 \u5b89\u88c5\u6587\u6863 \u6709\u5173\u8bbe\u7f6e Klipper \u548c\u9009\u62e9\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u4fe1\u606f\u3002 \u5fae\u63a7\u5236\u5668\u914d\u7f6e \u00b6 \u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u5b57\u7684\u683c\u5f0f \u00b6 \u8bb8\u591a\u914d\u7f6e\u9009\u9879\u9700\u8981\u5fae\u63a7\u5236\u5668\u5f15\u811a\u7684\u540d\u79f0\u3002Klipper \u4f7f\u7528\u4e86\u8fd9\u4e9b\u5f15\u811a\u7684\u786c\u4ef6\u540d\u79f0 - \u4f8b\u5982 PA4 \u3002 \u5728 \u5f15\u811a\u540d\u79f0\u524d\u52a0 ! \u6765\u8868\u793a\u76f8\u53cd\u7684\u7535\u6781\u6781\u6027\uff08 \u4f8b\u5982\u89e6\u53d1\u6761\u4ef6\u65f6\u4f4e\u7535\u5e73\u800c\u4e0d\u662f\u9ad8\u7535\u5e73\uff09\u3002 \u5728\u5f15\u811a\u540d\u79f0\u524d\u9762\u52a0 ^ \uff0c\u4ee5\u6307\u793a\u8be5\u5f15\u811a\u542f\u7528\u786c\u4ef6\u4e0a\u62c9\u7535\u963b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u652f\u6301\u4e0b\u62c9\u7535\u963b\u5668\uff0c\u90a3\u4e48\u8f93\u5165\u5f15\u811a\u4e5f\u53ef\u4ee5\u5728\u524d\u9762\u52a0\u4e0a ~ \u3002 \u6ce8\u610f\uff0c\u67d0\u4e9b\u914d\u7f6e\u90e8\u5206\u53ef\u80fd\u4f1a\u201c\u521b\u5efa\u201d\u989d\u5916\u7684\u5f15\u811a\u3002 \u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u5b9a\u4e49\u5f15\u811a\u7684\u914d\u7f6e\u90e8\u5206\u5fc5\u987b\u5728\u4f7f\u7528\u8fd9\u4e9b\u5f15\u811a\u7684\u4efb\u4f55\u90e8\u5206\u4e4b\u524d\u5217\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002 [MCU] \u00b6 \u4e3b\u5fae\u63a7\u5236\u5668\u7684\u914d\u7f6e\u3002 [mcu] serial: # \u8fde\u63a5\u5230\u5355\u7247\u673a\u7684\u4e32\u884c\u901a\u8baf\u63a5\u53e3 # \u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u7684\u8bdd\uff08\u6216\u53ef\u80fd\u5b83\u53d8\u66f4\u62c9\u4e86\uff09\uff0c\u53ef\u4ee5\u67e5\u770bFAQ\u4e2d\u7684 # \u201cWhere's my serial port?\u201d\u7ae0\u8282\u3002 # \u5f53\u4f7f\u7528\u4e32\u53e3\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u7ed9\u5b9a #baud: 250000 # \u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002\u9ed8\u8ba4\u662f250000 #canbus_uuid: # \u5982\u679c\u4f7f\u7528\u4e00\u4e2a\u8fde\u63a5\u5230CAN\u603b\u7ebf\u7684\u8bbe\u5907\uff0c\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u88ab\u8bbe\u7f6e\u4e3a # \u8981\u8fde\u63a5\u7684\u82af\u7247\u7684\u552f\u4e00ID\u3002 # \u5f53\u4f7f\u7528CAN\u603b\u7ebf\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u7ed9\u5b9a #canbus_interface: # \u5f53\u4f7f\u7528\u7684\u8bbe\u5907\u8fde\u63a5\u5230CAN\u603b\u7ebf\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u88ab\u8bbe\u7f6e\u4e3a # \u4f7f\u7528\u7684\u7f51\u7edc\u63a5\u53e3 # \u9ed8\u8ba4\u503c\u662fcan0 #restart_method: # \u8fd9\u4e2a\u53c2\u6570\u63a7\u5236\u7740\u91cd\u7f6e\u5355\u7247\u673a\u7684\u65b9\u5f0f # \u53ef\u9009\u9879\u662f'arduino'\u3001'cheetah'\u3001'rpi_usb'\u548c'command' # 'arduino'\u65b9\u6cd5\uff08\u7ffb\u8f6cDTR\uff09\u901a\u5e38\u9002\u7528\u4e8eArduino\u677f\u6216\u5176\u514b\u9686\u677f # 'cheetah'\u65b9\u6cd5\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u65b9\u6cd5\uff0c\u901a\u5e38\u9002\u7528\u4e8e\u4e00\u4e9b\u5bcc\u6e90\u76db\u7684Cheetah\u677f # 'rpi_usb'\u65b9\u6cd5\u5bf9\u4e8e\u4f7f\u7528\u6811\u8393\u6d3e\u7684USB\u4f9b\u7535\u7684\u5355\u7247\u673a\u5341\u5206\u6709\u6548 # \u5b83\u7b80\u5355\u5730\u5173\u95ed\u6240\u6709USB\u7aef\u53e3\u7684\u7535\u6e90\u6765\u5b8c\u6210\u5355\u7247\u673a\u7684\u91cd\u7f6e # 'command'\u65b9\u6cd5\u8c03\u7528\u5411\u5355\u7247\u673a\u53d1\u9001klipper\u547d\u4ee4\u6765\u91cd\u7f6e\u5b83\u4eec\u81ea\u5df1 # \u5f53\u5355\u7247\u673a\u8fde\u63a5\u5230\u4e32\u53e3\u65f6\u9ed8\u8ba4\u662f'arduino'\uff0c\u5426\u5219\u9ed8\u8ba4\u662f'command' [mcu my_extra_mcu] \u00b6 \u989d\u5916\u7684\u5fae\u63a7\u5236\u5668\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cmcu\u201d\u524d\u7f00\u7684\u90e8\u5206\uff09\u3002 \u989d\u5916\u7684\u5fae\u63a7\u5236\u5668\u5f15\u5165\u4e86\u989d\u5916\u7684\u5f15\u811a\uff0c\u8fd9\u4e9b\u5f15\u811a\u53ef\u4ee5\u914d\u7f6e\u4e3a\u52a0\u70ed\u5668\u3001\u6b65\u8fdb\u5668\u3001\u98ce\u6247\u7b49\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5f15\u5165\u4e86\u201c[mcu extra_mcu]\u201d\u90e8\u5206\uff0c\u90a3\u4e48\u8bf8\u5982\u201cextra_mcu:ar9\u201d\u4e4b\u7c7b\u7684\u5f15\u811a\u5c31\u53ef\u4ee5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528 \uff0c\u5728\u914d\u7f6e\u4e2d\uff08\u5176\u4e2d\u201car9\u201d\u662f\u7ed9\u5b9a mcu \u4e0a\u7684\u786c\u4ef6\u5f15\u811a\u540d\u79f0\u6216\u522b\u540d\uff09\u3002 [mcu my_extra_mcu] # \u8bf7\u53c2\u9605\"mcu\"\u5206\u6bb5\u7684\u914d\u7f6e\u53c2\u6570\u3002 \u5e38\u89c1\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u00b6 [printer] \u00b6 \u6253\u5370\u673a\u63a7\u5236\u7684\u9ad8\u7ea7\u8bbe\u7f6e\u90e8\u5206\u3002 [printer] kinematics: # The type of printer in use. This option may be one of: cartesian, # corexy, corexz, hybrid_corexy, hybrid_corexz, rotary_delta, delta, # polar, winch, or none. This # parameter must be specified. max_velocity: # Maximum velocity (in mm/s) of the toolhead (relative to the # print). This parameter must be specified. max_accel: # Maximum acceleration (in mm/s^2) of the toolhead (relative to the # print). This parameter must be specified. #max_accel_to_decel: # A pseudo acceleration (in mm/s^2) controlling how fast the # toolhead may go from acceleration to deceleration. It is used to # reduce the top speed of short zig-zag moves (and thus reduce # printer vibration from these moves). The default is half of # max_accel. #square_corner_velocity: 5.0 # The maximum velocity (in mm/s) that the toolhead may travel a 90 # degree corner at. A non-zero value can reduce changes in extruder # flow rates by enabling instantaneous velocity changes of the # toolhead during cornering. This value configures the internal # centripetal velocity cornering algorithm; corners with angles # larger than 90 degrees will have a higher cornering velocity while # corners with angles less than 90 degrees will have a lower # cornering velocity. If this is set to zero then the toolhead will # decelerate to zero at each corner. The default is 5mm/s. [stepper] \u00b6 \u6b65\u8fdb\u7535\u673a\u5b9a\u4e49\u3002 \u4e0d\u540c\u7684\u6253\u5370\u673a\u7c7b\u578b\uff08\u7531 [\u6253\u5370] \u914d\u7f6e\u90e8\u5206\u4e2d\u7684\u201c\u8fd0\u52a8\u5b66\u201d\u9009\u9879\u6307\u5b9a\uff09\u6b65\u8fdb\u5668\u9700\u8981\u5b9a\u4e49\u4e0d\u540c\u7684\u540d\u79f0\uff08\u4f8b\u5982\uff0c stepper_x \u4e0e stepper_a \uff09\u3002 \u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u6b65\u8fdb\u5668\u5b9a\u4e49\u3002 See the rotation distance document for information on calculating the rotation_distance parameter. See the Multi-MCU homing document for information on homing using multiple micro-controllers. [stepper_x] step_pin: # Step GPIO pin (triggered high). This parameter must be provided. dir_pin: # Direction GPIO pin (high indicates positive direction). This # parameter must be provided. enable_pin: # Enable pin (default is enable high; use ! to indicate enable # low). If this parameter is not provided then the stepper motor # driver must always be enabled. rotation_distance: # Distance (in mm) that the axis travels with one full rotation of # the stepper motor (or final gear if gear_ratio is specified). # This parameter must be provided. microsteps: # The number of microsteps the stepper motor driver uses. This # parameter must be provided. #full_steps_per_rotation: 200 # The number of full steps for one rotation of the stepper motor. # Set this to 200 for a 1.8 degree stepper motor or set to 400 for a # 0.9 degree motor. The default is 200. #gear_ratio: # The gear ratio if the stepper motor is connected to the axis via a # gearbox. For example, one may specify \"5:1\" if a 5 to 1 gearbox is # in use. If the axis has multiple gearboxes one may specify a comma # separated list of gear ratios (for example, \"57:11, 2:1\"). If a # gear_ratio is specified then rotation_distance specifies the # distance the axis travels for one full rotation of the final gear. # The default is to not use a gear ratio. #step_pulse_duration: # The minimum time between the step pulse signal edge and the # following \"unstep\" signal edge. This is also used to set the # minimum time between a step pulse and a direction change signal. # The default is 0.000000100 (100ns) for TMC steppers that are # configured in UART or SPI mode, and the default is 0.000002 (which # is 2us) for all other steppers. endstop_pin: # Endstop switch detection pin. If this endstop pin is on a # different mcu than the stepper motor then it enables \"multi-mcu # homing\". This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #position_min: 0 # Minimum valid distance (in mm) the user may command the stepper to # move to. The default is 0mm. position_endstop: # Location of the endstop (in mm). This parameter must be provided # for the X, Y, and Z steppers on cartesian style printers. position_max: # Maximum valid distance (in mm) the user may command the stepper to # move to. This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #homing_speed: 5.0 # Maximum velocity (in mm/s) of the stepper when homing. The default # is 5mm/s. #homing_retract_dist: 5.0 # Distance to backoff (in mm) before homing a second time during # homing. Set this to zero to disable the second home. The default # is 5mm. #homing_retract_speed: # Speed to use on the retract move after homing in case this should # be different from the homing speed, which is the default for this # parameter #second_homing_speed: # Velocity (in mm/s) of the stepper when performing the second home. # The default is homing_speed/2. #homing_positive_dir: # If true, homing will cause the stepper to move in a positive # direction (away from zero); if false, home towards zero. It is # better to use the default than to specify this parameter. The # default is true if position_endstop is near position_max and false # if near position_min. \u7b1b\u5361\u5c14\u8fd0\u52a8\u5b66 \u00b6 cartesian \u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-cartesian.cfg \u6b64\u5904\u63cf\u8ff0\u7684\u53c2\u6570\u53ea\u9002\u7528\u4e8e\u7b1b\u5361\u5c14\u6253\u5370\u673a\uff0c\u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u8fd0\u52a8\u8bbe\u7f6e \u3002 [printer] kinematics: cartesian max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the stepper controlling # the X axis in a cartesian robot. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis in a cartesian robot. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis in a cartesian robot. [stepper_z] \u7ebf\u6027\u4e09\u89d2\u6d32\u8fd0\u52a8\u5b66 \u00b6 linear delta\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-delta.cfg \u3002 \u5173\u4e8e\u6821\u51c6\u65b9\u6cd5 \u4e09\u89d2\u6d32\u6821\u51c6\u6307\u5357 \u3002 \u6b64\u5904\u4ec5\u63cf\u8ff0\u4e86\u7ebf\u6027\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u7279\u5b9a\u53c2\u6570 - \u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u8fd0\u52a8\u8bbe\u7f6e \u3002 [printer] kinematics: delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. Setting this may be useful if the printer can reach higher # acceleration on XY moves than Z moves (eg, when using input shaper). # The default is to use max_accel for max_z_accel. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. delta_radius: # Radius (in mm) of the horizontal circle formed by the three linear # axis towers. This parameter may also be calculated as: # delta_radius = smooth_rod_offset - effector_offset - carriage_offset # This parameter must be provided. #print_radius: # The radius (in mm) of valid toolhead XY coordinates. One may use # this setting to customize the range checking of toolhead moves. If # a large value is specified here then it may be possible to command # the toolhead into a collision with a tower. The default is to use # delta_radius for print_radius (which would normally prevent a # tower collision). # The stepper_a section describes the stepper controlling the front # left tower (at 210 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all towers. [stepper_a] position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. arm_length: # Length (in mm) of the diagonal rod that connects this tower to the # print head. This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the tower is # at. The default is 210 for stepper_a, 330 for stepper_b, and 90 # for stepper_c. # The stepper_b section describes the stepper controlling the front # right tower (at 330 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the rear # tower (at 90 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the tower endstop positions and # angles. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. CoreXY \u8fd0\u52a8\u5b66 \u00b6 corexy\u6216\u8005h-bot\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-corexy.cfg \u8fd9\u91cc\u53ea\u63cf\u8ff0\u4e86 CoreXY \u6253\u5370\u673a\u7279\u6709\u7684\u53c2\u6570 -- \u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u89c1\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Y movement. [stepper_x] # The stepper_y section is used to describe the Y axis as well as the # stepper controlling the X-Y movement. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z] CoreXY \u8fd0\u52a8\u5b66 \u00b6 corexz \u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-corexz.cfg \u6b64\u5904\u63cf\u8ff0\u7684\u53c2\u6570\u53ea\u9002\u7528\u4e8e\u7b1b\u5361\u5c14\u6253\u5370\u673a\u2014\u6709\u5173\u5168\u90e8\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the Z axis as well as the # stepper controlling the X-Z movement. [stepper_z] Hybrid-CoreXY (\u6df7\u5408\u578b CoreXY) \u8fd0\u52a8\u5b66 \u00b6 hybrid corexy\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-hybrid-corexy.cfg This kinematic is also known as Markforged kinematic. \u6b64\u5904\u4ec5\u63cf\u8ff0\u4e86\u7ebf\u6027\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u7279\u5b9a\u53c2\u6570\u2014\u6709\u5173\u5168\u90e8\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: hybrid_corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Y movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z] Hybrid-CoreXZ (\u6df7\u5408\u578b CoreXZ) \u8fd0\u52a8\u5b66 \u00b6 hybrid corexz \u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-hybrid-corexz.cfg This kinematic is also known as Markforged kinematic. \u6b64\u5904\u4ec5\u63cf\u8ff0\u4e86\u7ebf\u6027\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u7279\u5b9a\u53c2\u6570\u2014\u6709\u5173\u5168\u90e8\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: hybrid_corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z] \u6781\u5750\u6807\u8fd0\u52a8\u5b66 \u00b6 polar\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-polar.cfg \u8fd9\u91cc\u53ea\u63cf\u8ff0\u4e86\u6781\u5730\u6253\u5370\u673a\u7279\u6709\u7684\u53c2\u6570\u2014\u5168\u90e8\u53ef\u7528\u7684\u53c2\u6570\u8bf7\u89c1 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 \u6781\u5750\u6807\u8fd0\u52a8\u5b66\u8fd8\u5728\u5f00\u53d1\u4e2d\u3002\u57280, 0\u4f4d\u7f6e\u5468\u56f4\u79fb\u52a8\u6709\u4e00\u4e9b\u5df2\u77e5\u95ee\u9898\u3002 [printer] kinematics: polar max_z_velocity: # \u5b9a\u4e49\u4e86z\u8f74\u7684\u6781\u9650\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002\u8be5\u8bbe\u7f6e\u53ef\u4ee5\u5355\u72ec\u9650\u5236 # Z\u8f74\u6b65\u8fdb\u7535\u673a\u7684\u6781\u9650\u901f\u5ea6\u3002 # \u9ed8\u8ba4\u4f7f\u7528 max_velocity \u4e3a max_z_velocity\u3002 max_z_accel: # \u5b9a\u4e49\u4e86Z\u8f74\u7684\u6781\u9650\u52a0\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s^2\uff09\u3002\u8be5\u8bbe\u7f6e\u5355\u72ec\u9650\u5236\u4e86 # Z\u8f74\u6b65\u8fdb\u7535\u673a\u7684\u52a0\u901f\u5ea6\u3002 # \u9ed8\u8ba4\u4f7f\u7528max_accel\u4e3amax_z_accel\u3002 # stepper_bed \u5206\u6bb5\u5b9a\u4e49\u4e86\u63a7\u5236\u6253\u5370\u5e8a\u7684\u6b65\u8fdb\u7535\u673a\u3002 [stepper_bed] gear_ratio: # \u5fc5\u987b\u6307\u5b9a\u9f7f\u8f6e\u6bd4\uff0c\u4f46\u4e0d\u5fc5\u987b\u6307\u5b9a\u65cb\u8f6c\u8ddd\u79bb\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6253\u5370\u5e8a\u6709 # \u4e00\u4e2a80\u9f7f\u7684\u6ed1\u8f6e\uff0c\u7531\u4e00\u4e2a16\u9f7f\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u90a3\u4e48\u53ef\u4ee5\u6307\u5b9a # \u9f7f\u8f6e\u6bd4\u4e3a\"80:16\"\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 # stepper_arm\u5206\u6bb5\u5b9a\u4e49\u4e86\u63a7\u5236\u673a\u68b0\u81c2\u4e0a\u6ed1\u8f66\u7684\u6b65\u8fdb\u7535\u673a\u3002 [stepper_arm] # stepper_z \u5206\u6bb5\u5b9a\u4e49\u4e86\u63a7\u5236Z\u8f74\u7684\u6b65\u8fdb\u7535\u673a\u3002 [stepper_z] Rotary delta \u8fd0\u52a8\u5b66 \u00b6 Rotary Delta\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-rotary-delta.cfg \u6b64\u5904\u4ec5\u4ecb\u7ecd\u7279\u5b9a\u4e8e\u65cb\u8f6c\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u53c2\u6570\u2014\u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 ROTARY DELTA\u8fd0\u52a8\u5b66\u6b63\u5728\u8fdb\u884c\u7684\u4fee\u590d\u5de5\u4f5c\u3002\u5f52\u4f4d\u52a8\u4f5c\u53ef\u80fd\u4f1a\u8d85\u65f6\u5e76\u4e14\u4e00\u4e9b\u8fb9\u754c\u68c0\u67e5\u4e5f\u6ca1\u6709\u5b9e\u73b0\u3002 [printer] kinematics: rotary_delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. shoulder_radius: # Radius (in mm) of the horizontal circle formed by the three # shoulder joints, minus the radius of the circle formed by the # effector joints. This parameter may also be calculated as: # shoulder_radius = (delta_f - delta_e) / sqrt(12) # This parameter must be provided. shoulder_height: # Distance (in mm) of the shoulder joints from the bed, minus the # effector toolhead height. This parameter must be provided. # The stepper_a section describes the stepper controlling the rear # right arm (at 30 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all arms. [stepper_a] gear_ratio: # A gear_ratio must be specified and rotation_distance may not be # specified. For example, if the arm has an 80 toothed pulley driven # by a pulley with 16 teeth, which is in turn connected to a 60 # toothed pulley driven by a stepper with a 16 toothed pulley, then # one would specify a gear ratio of \"80:16, 60:16\". This parameter # must be provided. position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. upper_arm_length: # Length (in mm) of the arm connecting the \"shoulder joint\" to the # \"elbow joint\". This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. lower_arm_length: # Length (in mm) of the arm connecting the \"elbow joint\" to the # \"effector joint\". This parameter must be provided for stepper_a; # for stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the arm is at. # The default is 30 for stepper_a, 150 for stepper_b, and 270 for # stepper_c. # The stepper_b section describes the stepper controlling the rear # left arm (at 150 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the front # arm (at 270 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the shoulder endstop positions. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. \u7f06\u7ef3\u7ede\u76d8\u8fd0\u52a8\u5b66 \u00b6 See the example-winch.cfg for an example cable winch kinematics config file. \u8fd9\u91cc\u53ea\u63cf\u8ff0\u4e86\u7f06\u7ef3\u94f0\u76d8\u5f0f(cable winch)\u6253\u5370\u673a\u7279\u6709\u7684\u53c2\u6570 \u2014 \u5168\u90e8\u53ef\u7528\u7684\u53c2\u6570\u89c1 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 \u7f06\u7ef3\u94f0\u76d8\u652f\u6301\u662f\u5b9e\u9a8c\u6027\u7684\u3002\u5f52\u4f4d\u5728\u7f06\u7ef3\u7ede\u76d8\u8fd0\u52a8\u5b66\u4e2d\u6ca1\u6709\u5b9e\u73b0\u3002\u5728\u6253\u5370\u673a\u5f52\u4f4d\u65f6\u9700\u8981\u624b\u52a8\u53d1\u9001\u8fd0\u52a8\u6307\u4ee4\u5c06\u5de5\u5177\u5934\u5904\u4e8e0, 0, 0\u4f4d\u7f6e\uff0c\u7136\u540e\u53d1\u51fa G28 \u5f52\u4f4d\u3002 [printer] kinematics: winch # The stepper_a section describes the stepper connected to the first # cable winch. A minimum of 3 and a maximum of 26 cable winches may be # defined (stepper_a to stepper_z) though it is common to define 4. [stepper_a] rotation_distance: # The rotation_distance is the nominal distance (in mm) the toolhead # moves towards the cable winch for each full rotation of the # stepper motor. This parameter must be provided. anchor_x: anchor_y: anchor_z: # The X, Y, and Z position of the cable winch in cartesian space. # These parameters must be provided. \u65e0\u8fd0\u52a8\u5b66 \u00b6 \u53ef\u4ee5\u5b9a\u4e49\u7279\u6b8a\u7684 \"none\" \u8fd0\u52a8\u5b66\u6765\u7981\u7528 Klipper \u4e2d\u7684\u8fd0\u52a8\u5b66\u652f\u6301\u3002\u53ef\u4ee5\u7528\u4e8e\u63a7\u5236\u4e0d\u662f 3D \u6253\u5370\u673a\u7684\u8bbe\u5907\u6216\u8c03\u8bd5\u3002 [printer] kinematics: none max_velocity: 1 max_accel: 1 # \u5fc5\u987b\u5b9a\u4e49 max_velocity \u548c max_accel\uff0c\u4f46\u662f \u5b83\u4eec\u4e0d\u4f1a\u88ab\u201cnone\u201d\u8fd0\u52a8\u5b66\u4f7f\u7528\u3002 \u5e38\u89c1\u7684\u6324\u51fa\u673a\u548c\u70ed\u5e8a\u652f\u6301 \u00b6 [extruder] \u00b6 The extruder section is used to describe the heater parameters for the nozzle hotend along with the stepper controlling the extruder. See the command reference for additional information. See the pressure advance guide for information on tuning pressure advance. [extruder] step_pin: dir_pin: enable_pin: microsteps: rotation_distance: #full_steps_per_rotation: #gear_ratio: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cstepper\u201d\u914d\u7f6e\u5206\u6bb5\u3002 # \u5982\u679c\u672a\u6307\u5b9a\u4efb\u610f\u4e0a\u8ff0\u53c2\u6570\uff0c\u5219\u6ca1\u6709\u6b65\u8fdb\u7535\u673a\u4e0e\u70ed\u7aef\u76f8\u5173\u8054 # \uff08\u5c3d\u7ba1\u4f7f\u7528SYNC_EXTRUDER_MOTION\u547d\u4ee4\u53ef\u80fd\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u5173\u8054\u4e00\u4e2a\u70ed\u7aef\uff09 nozzle_diameter: # \u55b7\u5634\u7684\u5b54\u5f84\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 filament_diameter: # \u8fdb\u5165\u6324\u51fa\u673a\u7684\u8017\u6750\u4e0a\u6807\u7684\u76f4\u5f84\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #max_extrude_cross_section: # \u6324\u51fa\u7ebf\u6761\u6a2a\u622a\u9762\u7684\u6700\u5927\u9762\u79ef\uff08\u4ee5\u5e73\u65b9\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \uff08\u4f8b\u5982\uff1a\u6324\u51fa\u7ebf\u5bbd\u4e58\u5c42\u9ad8\uff09 # \u8fd9\u4e2a\u8bbe\u7f6e\u80fd\u9632\u6b62\u5728\u76f8\u5bf9\u8f83\u5c0f\u7684XY\u79fb\u52a8\u65f6\u4ea7\u751f\u8fc7\u5ea6\u7684\u6324\u51fa # \u5982\u679c\u4e00\u4e2a\u6324\u51fa\u901f\u7387\u8bf7\u6c42\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u503c\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef # \u9ed8\u8ba4\u503c\u662f\uff1a4.0 * \u55b7\u5634\u76f4\u5f84 ^ 2 #instantaneous_corner_velocity: 1.000 # \u4e24\u6b21\u6324\u51fa\u4e4b\u95f4\u6700\u5927\u7684\u901f\u5ea6\u53d8\u5316\uff08\u4ee5\u6beb\u7c73\u6bcf\u79d2\u4e3a\u5355\u4f4d\uff09 # \u9ed8\u8ba4\u503c\u662f\uff1a1mm/s #max_extrude_only_distance: 50.0 # \u4e00\u6b21\u6324\u51fa\u6216\u56de\u62bd\u7684\u6700\u5927\u957f\u5ea6\uff08\u4ee5\u6beb\u7c73\u8017\u6750\u7684\u957f\u5ea6\u4e3a\u5355\u4f4d\uff09 # \u5982\u679c\u4e00\u6b21\u6324\u51fa\u6216\u56de\u62bd\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u503c\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef # \u9ed8\u8ba4\u503c\u662f\uff1a50mm #max_extrude_only_velocity: #max_extrude_only_accel: # \u6700\u5927\u7684\u6324\u51fa\u548c\u56de\u62bd\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73\u6bcf\u79d2\u4e3a\u5355\u4f4d\uff09 # \u548c\u52a0\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73\u6bcf\u4e8c\u6b21\u65b9\u79d2\u4e3a\u5355\u4f4d\uff09 # \u8fd9\u4e9b\u8bbe\u7f6e\u5bf9\u6b63\u5e38\u6253\u5370\u7684\u79fb\u52a8\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd # \u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f1a\u8ba1\u7b97\u6765\u5339\u914d XY\u6253\u5370\u901f\u5ea6\u548c\u6324\u51fa\u7ebf\u6a2a\u622a\u9762\u4e3a4.0 * \u55b7\u5634\u76f4\u5f84 ^ 2\u7684\u9650\u5236 #pressure_advance: 0.0 # \u6324\u51fa\u673a\u52a0\u901f\u8fc7\u7a0b\u4e2d\u8017\u6750\u88ab\u6324\u5165\u7684\u6570\u91cf # \u540c\u7b49\u6570\u91cf\u7684\u8017\u6750\u4f1a\u5728\u51cf\u901f\u8fc7\u7a0b\u4e2d\u6536\u56de # \u8fd9\u4e2a\u503c\u4ee5\u6beb\u7c73\u6bcf\u6beb\u7c73\u6bcf\u79d2\u6d4b\u91cf # \u5173\u95ed\u538b\u529b\u63d0\u524d\u65f6\u9ed8\u8ba4\u503c\u662f0 #pressure_advance_smooth_time: 0.040 # A time range (in seconds) to use when calculating the average # extruder velocity for pressure advance. A larger value results in # smoother extruder movements. This parameter may not exceed 200ms. # This setting only applies if pressure_advance is non-zero. The # default is 0.040 (40 milliseconds). # # The remaining variables describe the extruder heater. heater_pin: # PWM output pin controlling the heater. This parameter must be # provided. #max_power: 1.0 # The maximum power (expressed as a value from 0.0 to 1.0) that the # heater_pin may be set to. The value 1.0 allows the pin to be set # fully enabled for extended periods, while a value of 0.5 would # allow the pin to be enabled for no more than half the time. This # setting may be used to limit the total power output (over extended # periods) to the heater. The default is 1.0. sensor_type: # Type of sensor - common thermistors are \"EPCOS 100K B57560G104F\", # \"ATC Semitec 104GT-2\", \"ATC Semitec 104NT-4-R025H42G\", \"Generic # 3950\",\"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", and \"TDK NTCG104LH104JT1\". See the # \"Temperature sensors\" section for other sensors. This parameter # must be provided. sensor_pin: # Analog input pin connected to the sensor. This parameter must be # provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # This parameter is only valid when the sensor is a thermistor. The # default is 4700 ohms. #smooth_time: 1.0 # A time value (in seconds) over which temperature measurements will # be smoothed to reduce the impact of measurement noise. The default # is 1 seconds. control: # Control algorithm (either pid or watermark). This parameter must # be provided. pid_Kp: pid_Ki: pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # heater_pwm = (Kp*error + Ki*integral(error) - Kd*derivative(error)) / 255 # Where \"error\" is \"requested_temperature - measured_temperature\" # and \"heater_pwm\" is the requested heating rate with 0.0 being full # off and 1.0 being full on. Consider using the PID_CALIBRATE # command to obtain these parameters. The pid_Kp, pid_Ki, and pid_Kd # parameters must be provided for PID heaters. #max_delta: 2.0 # On 'watermark' controlled heaters this is the number of degrees in # Celsius above the target temperature before disabling the heater # as well as the number of degrees below the target before # re-enabling the heater. The default is 2 degrees Celsius. #pwm_cycle_time: 0.100 # Time in seconds for each software PWM cycle of the heater. It is # not recommended to set this unless there is an electrical # requirement to switch the heater faster than 10 times a second. # The default is 0.100 seconds. #min_extrude_temp: 170 # The minimum temperature (in Celsius) at which extruder move # commands may be issued. The default is 170 Celsius. min_temp: max_temp: # The maximum range of valid temperatures (in Celsius) that the # heater must remain within. This controls a safety feature # implemented in the micro-controller code - should the measured # temperature ever fall outside this range then the micro-controller # will go into a shutdown state. This check can help detect some # heater and sensor hardware failures. Set this range just wide # enough so that reasonable temperatures do not result in an error. # These parameters must be provided. [heater_bed] \u00b6 heater_bed\u5206\u6bb5\u5b9a\u4e49\u4e86\u4e00\u4e2a\u70ed\u5e8a\u3002\u5b83\u6709\u548c\u201cextruder\u201d\u5206\u6bb5\u7684\u52a0\u70ed\u5668\u8bbe\u7f6e\u9009\u9879\u3002 [heater_bed] heater_pin: sensor_type: sensor_pin: control: min_temp: max_temp: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cextruder\u201d\u914d\u7f6e\u5206\u6bb5\u3002 \u6253\u5370\u5e8a\u8c03\u5e73\u652f\u6301 \u00b6 [bed_mesh] \u00b6 \u7f51\u5e8a\u8c03\u5e73\u3002\u5b9a\u4e49\u4e00\u4e2a bed_mesh \u914d\u7f6e\u5206\u6bb5\u6765\u542f\u7528\u57fa\u4e8e\u63a2\u6d4b\u70b9\u751f\u6210\u7f51\u683c\u7684 Z \u8f74\u504f\u79fb\u79fb\u52a8\u53d8\u6362\u3002\u5f53\u4f7f\u7528\u63a2\u9488\u5f52\u4f4d Z \u8f74\u65f6\uff0c\u5efa\u8bae\u901a\u8fc7 printer.cfg \u4e2d\u5b9a\u4e49\u4e00\u4e2a safe_z_home \u5206\u6bb5\u4f7f Z \u8f74\u5f52\u4f4d\u5728\u6253\u5370\u533a\u57df\u7684\u4e2d\u5fc3\u6267\u884c\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u7f51\u5e8a\u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u3002 \u53ef\u89c6\u5316\u793a\u4f8b\uff1a rectangular bed, probe_count = 3, 3: x---x---x (max_point) | x---x---x | (min_point) x---x---x round bed, round_probe_count = 5, bed_radius = r: x (0, r) end / x---x---x \\ (-r, 0) x---x---x---x---x (r, 0) \\ x---x---x / x (0, -r) start [bed_mesh] #speed: 50 # \u6821\u51c6\u671f\u95f4\u975e\u63a2\u6d4b\u79fb\u52a8\u7684\u901f\u5ea6(mm/s) # \u9ed8\u8ba4\u662f 50. #horizontal_move_z: 5 # \u5728\u63a2\u6d4b\u4e2d\u55b7\u5934\u7684\u9ad8\u5ea6\u5355\u4f4d\u662fmm # \u9ed8\u8ba4\u503c\u662f5 #mesh_radius: # \u5b9a\u4e49\u63a2\u6d4b\u5706\u5f62\u70ed\u5e8a\u7684\u7f51\u683c\u534a\u5f84 # \u534a\u5f84\u662f\u76f8\u5bf9\u4e8emesh_origin\u6307\u5b9a\u7684\u5750\u6807 # \u6b64\u9009\u9879\u53ea\u9002\u7528\u4e8e\u5706\u5f62\u70ed\u5e8a #mesh_origin: # \u5b9a\u4e49\u5706\u5f62\u70ed\u5e8a\u7684\u4e2d\u5fc3X Y\u5750\u6807 # \u6b64\u5750\u6807\u76f8\u5bf9\u4e8e\u63a2\u5934\u7684\u4f4d\u7f6e # \u8c03\u6574 mesh_origin\u53ef\u80fd\u4f1a\u5bf9\u6700\u5927\u5316mesh_radius\u6709\u5e2e\u52a9 # \u9ed8\u8ba4\u503c\u662f0,0 # \u6b64\u9009\u9879\u53ea\u9002\u7528\u4e8e\u5706\u5f62\u70ed\u5e8a #mesh_min: # \u5b9a\u4e49\u77e9\u5f62\u70ed\u5e8a\u7684\u6700\u5c0fX Y \u5750\u6807 # \u8fd9\u4e2a\u5750\u6807\u662f\u76f8\u5bf9\u4e8e # \u8fd9\u662f\u63a2\u6d4b\u7684\u7b2c\u4e00\u4e2a\u70b9\u5728\u539f\u70b9\u9644\u8fd1 # \u77e9\u5f62\u70ed\u5e8a\u5fc5\u987b\u8981\u63d0\u4f9b\u6b64\u53c2\u6570 #mesh_max: # \u5b9a\u4e49\u77e9\u5f62\u70ed\u5e8a\u7684\u6700\u5927X Y \u5750\u6807 # \u4e0emesh_min\u76f8\u540c\u4f46\u662f\u8fd9\u5c06\u662f\u79bb\u5e8a\u7684\u539f\u70b9\u6700\u8fdc\u7684\u63a2\u6d4b\u70b9 # \u77e9\u5f62\u70ed\u5e8a\u5fc5\u987b\u8981\u63d0\u4f9b\u6b64\u53c2\u6570 #probe_count: 3, 3 # \u5bf9\u4e8e\u77e9\u5f62\u70ed\u5e8a\uff0c\u8fd9\u4e2a\u9017\u53f7\u5206\u5f00\u4e86\u5728X Y \u8f74\u9700\u8981\u63a2\u6d4b\u7684\u70b9\u6570 # \u5355\u4e2a\u503c\u4e5f\u662f\u6709\u6548\u7684\uff0c\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b\u503c\u4f1a\u88ab\u5e94\u7528\u5230\u4e24\u4e2a\u8f74 # \u9ed8\u8ba4\u503c\u662f 3, 3 #round_probe_count: 5 # \u5bf9\u4e8e\u5706\u5f62\u70ed\u5e8a\uff0c\u8fd9\u4e2a\u503c\u53bb\u5b9a\u4e49\u4e86\u6bcf\u4e2a\u8f74\u6700\u5927\u7684\u63a2\u6d4b\u70b9\u7684\u6570\u91cf # \u8fd9\u4e2a\u503c\u5fc5\u987b\u8981\u662f\u5947\u6570 # \u9ed8\u8ba4\u503c\u662f 5 #fade_start: 1.0 # \u542f\u7528fade_start\u65f6\u5f00\u59cb\u5206\u9636\u6bb5\u8c03\u6574\u7684gcode z\u4f4d\u7f6e # \u9ed8\u8ba4\u503c\u662f 1.0. #fade_end: 0.0 # \u5728\u5b8c\u6210\u6e10\u53d8\u540e\u7684gcode z \u4f4d\u7f6e # \u5f53\u503c\u6bd4 fade_start\u4f4e\u7684\u65f6\u5019\u4f1a\u7981\u7528\u6b64\u529f\u80fd # \u6ce8\u610f\u8fd9\u4e2a\u529f\u80fd\u53ef\u80fd\u4f1a\u5728\u6253\u5370\u7684\u65f6\u5019\u5f80z\u8f74\u6dfb\u52a0\u4e0d\u9700\u8981\u7684\u7f29\u653e # \u5982\u679c\u5e0c\u671b\u542f\u7528\u8fc7\u5ea6\u90a3\u4e48, \u63a8\u8350\u503c\u4e3a10.0 # \u9ed8\u8ba4\u503c\u662f 0.0 \u4e0d\u542f\u7528\u8fc7\u5ea6 #fade_target: # \u6de1\u5316\u5e94\u8be5\u805a\u96c6\u7684z\u4f4d\u7f6e # \u5f53\u8fd9\u4e2a\u503c\u88ab\u8bbe\u7f6e\u4e3a\u975e\u96f6\u503c\u65f6\u90a3\u4e48\u5c31\u5fc5\u987b\u5728\u7f51\u683c\u4e2d\u7684Z\u503c\u8303\u56f4\u5185 # \u7528\u6237\u5e0c\u671b\u6c47\u805a\u7684\u65f6\u5019z\u539f\u70b9\u7684\u4f4d\u7f6e # \u5e94\u8be5\u88ab\u8bbe\u7f6e\u4e3a0 # \u9ed8\u8ba4\u662f\u7f51\u683c\u7684\u5e73\u5747\u503c #split_delta_z: .025 # \u89e6\u53d1\u5206\u5c42\u7684\u6cbf\u9014Z\u5dee\u91cf (mm) # \u9ed8\u8ba4\u503c\u662f .025. #move_check_distance: 5.0 # \u68c0\u67e5split_delta_z\u7684\u8ddd\u79bb # \u8fd9\u4e5f\u662f\u4e00\u4e2a\u52a8\u4f5c\u53ef\u4ee5\u5206\u5c42\u7684\u6700\u5c0f\u957f\u5ea6\u3002 # \u9ed8\u8ba4\u503c\u662f 5.0 #mesh_pps: 2, 2 # \u4e00\u5bf9\u4ee5\u9017\u53f7\u5206\u9694\u7684\u6574\u6570X\u3001Y\uff0c\u5b9a\u4e49\u6bcf\u6bb5\u7684\u70b9\u7684\u6570\u91cf # \u5728\u7f51\u683c\u4e2d\u6cbf\u6bcf\u4e2a\u8f74\u63d2\u503c\u7684\u70b9\u6570 # \"segment \"\u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u6bcf\u4e2a\u63a2\u6d4b\u70b9\u4e4b\u95f4\u7684\u7a7a\u95f4 # \u5982\u679c\u7528\u6237\u8f93\u5165\u4e86\u4e00\u4e2a\u503c\u90a3\u4e48\u5c06\u4f1a\u5e94\u7528\u5230\u4e24\u4e2a\u8f74\u4e0a # \u9ed8\u8ba4\u503c\u4e0a 2, 2 #algorithm: lagrange # \u8981\u4f7f\u7528\u7684\u63d2\u503c\u7b97\u6cd5 # \u53ef\u4ee5\u662f\"lagrange\"\u6216\u8005\"bicubic\" # \u8fd9\u4e2a\u9009\u9879\u4e0d\u4f1a\u5f71\u54cd 3x3 \u7684\u7f51\u683c\u56e0\u4e3a3x3 \u7684\u7f51\u683c\u4f1a\u5f3a\u5236\u4f7f\u7528lagrange\u91c7\u6837 # \u9ed8\u8ba4\u503c\u662flagrange #bicubic_tension: .2 # \u5f53\u4f7f\u7528bicubic\u7b97\u6cd5\u65f6\u4f7f\u7528bicubic_tension\u53c2\u6570\u6765\u6539\u53d8\u63d2\u503c\u7684\u659c\u7387\u91cf # \u8f83\u5927\u7684\u6570\u5b57\u4f1a\u589e\u52a0\u659c\u7387\u7684\u6570\u91cf\u4f1a\u5728\u7f51\u683c\u4e2d\u4ea7\u751f\u66f4\u591a\u7684\u5f2f\u66f2 # \u9ed8\u8ba4\u503c\u662f .2 #relative_reference_index: # \u7f51\u683c\u4e2d\u7684\u4e00\u4e2a\u70b9\u7d22\u5f15\uff0c\u7528\u6765\u5f15\u7528\u6240\u6709\u7684Z\u503c # \u542f\u7528\u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a\u76f8\u5bf9\u4e8e\u6240\u63d0\u4f9b\u7684\u7d22\u5f15\u5904\u7684 # \u63a2\u6d4b\u5230\u7684Z\u4f4d\u7f6e\u7684\u7f51\u683c #faulty_region_1_min: #faulty_region_1_max: # \u53ef\u9009\u70b9\u88ab\u5b9a\u4e49\u4e3a\u6545\u969c\u533a\u57df # \u66f4\u591a\u5bf9\u4e8e\u6545\u969c\u533a\u57df\u591a\u4fe1\u606fSee docs/Bed_Mesh.md # \u6700\u591a\u53ef\u6dfb\u52a0 99 \u4e2a\u6545\u969c\u533a\u57df\u3002 # \u9ed8\u8ba4\u6ca1\u6709\u8bbe\u7f6e\u6545\u969c\u533a\u57df [bed_tilt] \u00b6 \u6253\u5370\u5e8a\u503e\u659c\u8865\u507f\u3002\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a bed_tilt \u914d\u7f6e\u5206\u6bb5\u6765\u542f\u7528\u79fb\u52a8\u53d8\u6362\u503e\u659c\u6253\u5370\u5e8a\u8865\u507f\u3002\u8bf7\u6ce8\u610f\uff0cbed_mesh \u548c bed_tilt \u4e0d\u517c\u5bb9\uff1a\u4e24\u8005\u65e0\u6cd5\u540c\u65f6\u88ab\u5b9a\u4e49\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [bed_tilt] #x_\u8c03\u6574\uff1a0 # \u5728 X \u8f74\u4e0a\u6bcf mm \u6dfb\u52a0\u5230\u6bcf\u6b21\u79fb\u52a8\u7684 Z \u9ad8\u5ea6\u7684\u91cf # \u8f74\u3002\u9ed8\u8ba4\u503c\u4e3a 0\u3002 #y_\u8c03\u6574\uff1a0 # \u5728 Y \u8f74\u4e0a\u6bcf mm \u6dfb\u52a0\u5230\u6bcf\u6b21\u79fb\u52a8\u7684 Z \u9ad8\u5ea6\u7684\u91cf # \u8f74\u3002\u9ed8\u8ba4\u503c\u4e3a 0\u3002 #z_\u8c03\u6574\uff1a0 # \u55b7\u5634\u6807\u79f0\u4f4d\u7f6e\u65f6\u6dfb\u52a0\u5230 Z \u9ad8\u5ea6\u7684\u91cf # 0, 0\u3002\u9ed8\u8ba4\u4e3a 0\u3002 # \u5176\u4f59\u53c2\u6570\u63a7\u5236\u4e00\u4e2a BED_TILT_CALIBRATE \u6269\u5c55 # g-code \u547d\u4ee4\uff0c\u53ef\u7528\u4e8e\u6821\u51c6\u9002\u5f53\u7684 x \u548c y #\u8c03\u6574\u53c2\u6570\u3002 #\u70b9\uff1a # X\u3001Y \u5750\u6807\u5217\u8868\uff08\u6bcf\u884c\u4e00\u4e2a\uff1b\u540e\u7eed\u884c # indented) \u5e94\u8be5\u5728 BED_TILT_CALIBRATE \u671f\u95f4\u63a2\u6d4b \uff03 \u547d\u4ee4\u3002\u6307\u5b9a\u55b7\u5634\u7684\u5750\u6807\u5e76\u786e\u4fdd\u63a2\u5934 # \u5728\u7ed9\u5b9a\u55b7\u5634\u5750\u6807\u5904\u7684\u5e8a\u4e0a\u65b9\u3002\u9ed8\u8ba4\u662f # \u4e0d\u542f\u7528\u547d\u4ee4\u3002 #\u901f\u5ea6\uff1a50 # \u6821\u51c6\u671f\u95f4\u975e\u63a2\u6d4b\u79fb\u52a8\u7684\u901f\u5ea6\uff08\u4ee5 mm/s \u4e3a\u5355\u4f4d\uff09\u3002 # \u9ed8\u8ba4\u4e3a 50\u3002 #horizontal_move_z\uff1a5 # \u5934\u90e8\u5e94\u8be5\u88ab\u547d\u4ee4\u79fb\u52a8\u5230\u7684\u9ad8\u5ea6\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \u5c31\u5728\u5f00\u59cb\u63a2\u6d4b\u64cd\u4f5c\u4e4b\u524d\u3002\u9ed8\u8ba4\u503c\u4e3a 5\u3002 [bed_screws] \u00b6 Tool to help adjust bed leveling screws. One may define a [bed_screws] config section to enable a BED_SCREWS_ADJUST g-code command. See the leveling guide and command reference for additional information. [bed_screws] #screw1: # \u7b2c\u4e00\u9897\u6253\u5370\u673a\u8c03\u5e73\u87ba\u4e1d\u7684X,Y\u5750\u6807\u3002\u8fd9\u662f\u5c06\u547d\u4ee4\u55b7\u5634\u79fb\u52a8\u5230\u87ba\u4e1d\u6b63 # \u4e0a\u65b9\u65f6\u7684\u4f4d\u7f6e\uff08\u6216\u5728\u5e8a\u4e0a\u65b9\u65f6\u5c3d\u53ef\u80fd\u63a5\u8fd1\u7684\u4f4d\u7f6e\uff09\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #screw1_name: # \u7ed9\u5b9a\u87ba\u4e1d\u7684\u540d\u79f0\u3002\u5f53\u8c03\u5e73\u52a9\u624b\u811a\u672c\u8fd0\u884c\u65f6\u4f1a\u4f7f\u7528\u8be5\u540d\u79f0\u3002 # \u9ed8\u8ba4\u503c\u662f\u87ba\u4e1d\u7684 XY \u4f4d\u7f6e #screw1_fine_adjust: # \u7528\u4e8e\u7cbe\u7ec6\u8c03\u6574\u7b2c\u4e00\u9897\u8c03\u5e73\u87ba\u4e1d\u65f6\u7684\u55b7\u5634\u88ab\u547d\u4ee4\u79fb\u52a8\u5230\u7684X,Y\u5750\u6807\u3002 # \u9ed8\u8ba4\u503c\u4e3a\u4e0d\u6267\u884c\u5bf9\u6253\u5370\u5e8a\u87ba\u4e1d\u7684\u7cbe\u7ec6\u8c03\u6574\u3002 #screw2: #screw2_name: #screw2_fine_adjust: #... # \u53ef\u4ee5\u6709\u800c\u5916\u7684\u8c03\u5e73\u87ba\u4e1d\u4f46\u662f\u81f3\u5c11\u9700\u89813\u4e2a #horizontal_move_z: 5 # \u6253\u5370\u5934\u5728\u4e24\u4e2a\u70b9\u4e4b\u95f4\u79fb\u52a8\u65f6\u5019\u7684\u9ad8\u5ea6 # \u9ed8\u8ba4\u503c\u4e3a 5 #probe_height: 0 # \u63a2\u9488\u9ad8\u5ea6 (mm) \u5728\u6253\u5370\u5e8a\u548c\u70ed\u7aef\u70ed\u81a8\u80c0\u540e\u63a2\u9488\u7684\u9ad8\u5ea6\u3002 # \u9ed8\u8ba4\u503c\u4e3a 0 #speed: 50 # \u6821\u51c6\u8fc7\u7a0b\u4e2d\u975e\u63a2\u6d4b\u79fb\u52a8\u7684\u901f\u5ea6 (mm/s) # \u9ed8\u8ba4\u503c\u4e3a 50 #probe_speed: 5 # \u4ece horizontal_move_z \u4f4d\u7f6e\u79fb\u52a8\u5230 probe_height \u4f4d\u7f6e\u7684\u901f\u5ea6 (mm/s) # \u9ed8\u8ba4\u503c\u4e3a 5 [screws_tilt_adjust] \u00b6 Tool to help adjust bed screws tilt using Z probe. One may define a screws_tilt_adjust config section to enable a SCREWS_TILT_CALCULATE g-code command. See the leveling guide and command reference for additional information. [screws_tilt_adjust] #screw1: # The (X, Y) coordinate of the first bed leveling screw. This is a # position to command the nozzle to so that the probe is directly # above the bed screw (or as close as possible while still being # above the bed). This is the base screw used in calculations. This # parameter must be provided. #screw1_name: # An arbitrary name for the given screw. This name is displayed when # the helper script runs. The default is to use a name based upon # the screw XY location. #screw2: #screw2_name: #... # Additional bed leveling screws. At least two screws must be # defined. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #screw_thread: CW-M3 # The type of screw used for bed level, M3, M4 or M5 and the # direction of the knob used to level the bed, clockwise decrease # counter-clockwise decrease. # Accepted values: CW-M3, CCW-M3, CW-M4, CCW-M4, CW-M5, CCW-M5. # Default value is CW-M3, most printers use an M3 screw and # turning the knob clockwise decrease distance. [z_tilt] \u00b6 \u591a\u4e2a\u72ec\u7acbZ\u8f74\u6b65\u8fdb\u7535\u673a\u7684\u503e\u659c\u6821\u6b63\u3002\u8fd9\u4e2a\u529f\u80fd\u53ef\u4ee5\u72ec\u7acb\u8c03\u6574\u591a\u4e2a Z \u6b65\u8fdb\u7535\u673a\uff08\u89c1\"stepper_z1\"\u90e8\u5206\uff09\uff0c\u4ee5\u8c03\u6574\u503e\u659c\u5ea6\u3002\u5982\u679c\u8be5\u5206\u6bb5\u5b58\u5728\uff0c\u90a3\u4e48Z_TILT_ADJUST \u6269\u5c55 G\u4ee3\u7801\u547d\u4ee4 \u5c31\u53ef\u7528\u3002 [z_tilt] #z_positions: # A list of X, Y coordinates (one per line; subsequent lines # indented) describing the location of each bed \"pivot point\". The # \"pivot point\" is the point where the bed attaches to the given Z # stepper. It is described using nozzle coordinates (the X, Y position # of the nozzle if it could move directly above the point). The # first entry corresponds to stepper_z, the second to stepper_z1, # the third to stepper_z2, etc. This parameter must be provided. #points: # A list of X, Y coordinates (one per line; subsequent lines # indented) that should be probed during a Z_TILT_ADJUST command. # Specify coordinates of the nozzle and be sure the probe is above # the bed at the given nozzle coordinates. This parameter must be # provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance. Note the smallest unit of # change here would be a single step. However if you are probing # more points than steppers then you will likely have a fixed # minimum value for the range of probed points which you can learn # by observing command output. [quad_gantry_level] \u00b6 \u8c03\u5e73\u4f7f\u75284\u4e2a\u72ec\u7acbZ\u8f74\u7535\u673a\u7684\u52a8\u9f99\u95e8\u3002\u7ea0\u6b63\u52a8\u9f99\u95e8\u67b6\u7531\u4e8e\u9f99\u95e8\u6d3b\u52a8\u6027\u9020\u6210\u7684\u53cc\u66f2\u629b\u7269\u7ebf\u6548\u5e94\uff08\u85af\u7247\u5f62\uff09\u3002\u8b66\u544a\uff1a\u5728\u79fb\u52a8\u6253\u5370\u5e8a\u4e0a\u4f7f\u7528\u8be5\u529f\u80fd\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u7406\u60f3\u7684\u7ed3\u679c\u3002\u5982\u679c\u8be5\u5206\u6bb5\u5b58\u5728\uff0c\u53ef\u4ee5\u4f7f\u7528 QUAD_GANTRY_LEVEL \u6269\u5c55G\u4ee3\u7801\u547d\u4ee4\u3002\u8be5\u7a0b\u5e8f\u5047\u5b9aZ\u8f74\u7535\u673a\u914d\u7f6e\u5982\u4e0b\uff1a ---------------- |Z1 Z2| | --------- | | | | | | | | | | x-------- | |Z Z3| ---------------- Where x is the 0, 0 point on the bed [quad_gantry_level] #gantry_corners: # A newline separated list of X, Y coordinates describing the two # opposing corners of the gantry. The first entry corresponds to Z, # the second to Z2. This parameter must be provided. #points: # A newline separated list of four X, Y points that should be probed # during a QUAD_GANTRY_LEVEL command. Order of the locations is # important, and should correspond to Z, Z1, Z2, and Z3 location in # order. This parameter must be provided. For maximum accuracy, # ensure your probe offsets are configured. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #max_adjust: 4 # Safety limit if an adjustment greater than this value is requested # quad_gantry_level will abort. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance. [skew_correction] \u00b6 Printer Skew Correction. It is possible to use software to correct printer skew across 3 planes, xy, xz, yz. This is done by printing a calibration model along a plane and measuring three lengths. Due to the nature of skew correction these lengths are set via gcode. See Skew Correction and Command Reference for details. [skew_correction] \u81ea\u5b9a\u4e49\u5f52\u96f6 \u00b6 [safe_z_home] \u00b6 \u5b89\u5168Z\u8f74\u5f52\u4f4d\u3002\u53ef\u4ee5\u7528\u8be5\u673a\u5236\u5b9a\u4e49Z\u8f74\u5f52\u4f4d\u65f6\u7684 X, Y \u5750\u6807\u3002\u5728\u5de5\u5177\u5934\u5fc5\u987b\u5148\u79fb\u52a8\u5230\u6253\u5370\u5e8a\u4e2d\u592e\u518d\u8fdb\u884cZ\u5f52\u4f4d\u65f6\u5f88\u6709\u7528\u3002 [safe_z_home] home_xy_position: # A X, Y coordinate (e.g. 100, 100) where the Z homing should be # performed. This parameter must be provided. #speed: 50.0 # Speed at which the toolhead is moved to the safe Z home # coordinate. The default is 50 mm/s #z_hop: # Distance (in mm) to lift the Z axis prior to homing. This is # applied to any homing command, even if it doesn't home the Z axis. # If the Z axis is already homed and the current Z position is less # than z_hop, then this will lift the head to a height of z_hop. If # the Z axis is not already homed the head is lifted by z_hop. # The default is to not implement Z hop. #z_hop_speed: 15.0 # Speed (in mm/s) at which the Z axis is lifted prior to homing. The # default is 15 mm/s. #move_to_previous: False # When set to True, the X and Y axes are reset to their previous # positions after Z axis homing. The default is False. [homing_override] \u00b6 \u5f52\u4f4d\u8986\u5199\u3002\u53ef\u4ee5\u4f7f\u7528\u8fd9\u79cd\u673a\u5236\u6765\u8fd0\u884c\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u6765\u66ff\u4ee3\u5e38\u89c4\u7684G28\u3002\u901a\u5e38\u7528\u4e8e\u9700\u8981\u7279\u5b9a\u8fc7\u7a0b\u624d\u80fd\u5c06\u673a\u5668\u5f52\u96f6\u7684\u6253\u5370\u673a\u3002 [homing_override] gcode\uff1a # \u8986\u76d6\u5e38\u89c4 G28 \u547d\u4ee4\u7684 G \u4ee3\u7801\u547d\u4ee4\u5e8f\u5217\u3002 # G \u4ee3\u7801\u683c\u5f0f\u8bf7\u53c2\u9605 docs/Command_Templates.md\u3002\u5982\u679c # G28 \u5305\u542b\u5728\u6b64\u547d\u4ee4\u5217\u8868\u4e2d\uff0c\u5e38\u89c4\u7248\u672c\u7684G28\u4f1a\u88ab\u8c03\u7528\u5e76\u8fdb # \u884c\u6253\u5370\u673a\u7684\u6b63\u5e38\u5f52\u4f4d\u8fc7\u7a0b\u3002\u6b64\u5904\u5217\u51fa\u7684\u547d\u4ee4\u5fc5\u987b\u5f52\u4f4d\u6240 # \u6709\u8f74\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #axes: xyz # \u8981\u8986\u76d6\u7684\u8f74\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5c06\u5176\u8bbe\u7f6e\u4e3a\"z\"\uff0c\u5219\u8986\u76d6\u811a\u672c\u5c06 # \u4ec5\u5728 z \u8f74\u88ab\u5f52\u4f4d\u65f6\u8fd0\u884c\uff08\u4f8b\u5982\uff0c\u901a\u8fc7\"G28\" \u6216 \"G28 Z0\" # \u547d\u4ee4\uff09\u3002\u8bf7\u6ce8\u610f\uff0c\u8986\u76d6\u811a\u672c\u4ecd\u7136\u9700\u8981\u5f52\u4f4d\u6240\u6709\u8f74\u3002 # \u9ed8\u8ba4\u503c\u4e3a\"xyz\"\uff0c\u8986\u76d6\u5168\u90e8\u6240\u6709 G28 \u547d\u4ee4\u3002 #set_position_x\uff1a #set_position_y\uff1a #set_position_z\uff1a # \u5982\u679c\u6307\u5b9a\uff0c\u6253\u5370\u673a\u5c06\u5047\u5b9a\u8f74\u5728\u8fd0\u884c\u4e0a\u8ff0 G \u4ee3\u7801\u547d\u4ee4\u5e8f\u5217 # \u4e4b\u524d\u7684\u4f4d\u7f6e\u3002\u8be5\u8bbe\u7f6e\u4f1a\u7981\u7528\u76f8\u5e94\u8f74\u7684\u5f52\u4f4d\u68c0\u67e5\u3002\u5728\u6253\u5370 # \u5934\u5fc5\u987b\u5728\u6267\u884c\u5e38\u89c4 G28 \u673a\u5236\u524d\u79fb\u52a8\u76f8\u5e94\u7684\u8f74\u65f6\u6709\u7528\u3002 # \u9ed8\u8ba4\u4e0d\u5047\u5b9a\u8f74\u7684\u4f4d\u7f6e\u3002 [endstop_phase] \u00b6 Stepper phase adjusted endstops. To use this feature, define a config section with an \"endstop_phase\" prefix followed by the name of the corresponding stepper config section (for example, \"[endstop_phase stepper_z]\"). This feature can improve the accuracy of endstop switches. Add a bare \"[endstop_phase]\" declaration to enable the ENDSTOP_PHASE_CALIBRATE command. See the endstop phases guide and command reference for additional information. [endstop_phase stepper_z] #endstop_accuracy: # \u8bbe\u7f6e\u9884\u671f\u7684\u9650\u4f4d\u7cbe\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\uff09\u3002 \u4ee3\u8868\u4e86\u76f8\u4f4d\u53ef\u80fd # \u89e6\u53d1\u7684\u6700\u5927\u8bef\u5dee\u8ddd\u79bb\uff08\u6bd4\u5982\uff0c\u4e00\u4e2a\u53ef\u80fd\u4f1a\u63d0\u65e9 100um \u89e6\u53d1\u6216\u5ef6\u8fdf # 100um \u89e6\u53d1\u7684\u9650\u4f4d\u9700\u8981\u5c06\u8be5\u503c\u8bbe\u4e3a 0.200,\u4e5f\u5c31\u662f 200um\uff09\u3002 # \u9ed8\u8ba4\u4e3a 4*rotation_distance/full_steps_per_rotation\u3002 #trigger_phase: # \u8be5\u53c2\u6570\u5b9a\u4e49\u4e86\u76f8\u4f4d\u89e6\u53d1\u65f6\u9884\u671f\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u76f8\u4f4d\u3002\u8fd9\u901a\u5e38\u662f\u4e24 # \u4e2a\u7531\u6b63\u659c\u6760\u7b26\u53f7\u5206\u9694\u7684\u6574\u6570 - \u76f8\u4f4d\u548c\u603b\u76f8\u4f4d\u6570\uff08\u4f8b\u5982 \"7/64\"\uff09\u3002 # \u53ea\u6709\u5f53\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5728 mcu \u91cd\u7f6e\u65f6\u4e5f\u4f1a\u91cd\u7f6e\u624d\u9700\u8981\u8be5\u53c2\u6570\u3002 # \u5982\u679c\u6ca1\u6709\u5b9a\u4e49\uff0c\u6b65\u8fdb\u76f8\u4f4d\u4f1a\u5728\u7b2c\u4e00\u6b21\u5f52\u4f4d\u65f6\u68c0\u6d4b\u5e76\u88ab\u7528\u4e8e\u540e\u7eed\u5f52\u4f4d\u3002 #endstop_align_zero: False # \u5982\u679c\u662f True \u5219\u6253\u5370\u673a\u7684 position_endstop \u76f8\u5e94\u8f74\u7684\u96f6\u70b9\u4f4d\u7f6e\u662f\u6b65\u8fdb # \u7535\u673a\u7684\u4e00\u4e2a\u5168\u6b65\u4f4d\u7f6e\u3002(\u5728Z\u8f74\u4e0a\uff0c\u5982\u679c\u6253\u5370\u5c42\u9ad8\u662f\u5168\u6b65\u7684\u500d\u6570\uff0c\u6bcf # \u5c42\u90fd\u4f1a\u5728\u5168\u6b65\u4e0a\u3002\uff09 # \u9ed8\u8ba4\u4e3a False\u3002 G \u4ee3\u7801\u5b8f\u548c\u4e8b\u4ef6 \u00b6 [gcode_macro] \u00b6 G-Code\u5b8f\uff08\"gcode_macro\"\u524d\u7f00\u5b9a\u4e49\u7684G-Code \u5b8f\u5206\u6bb5\u6ca1\u6709\u6570\u91cf\u9650\u5236\uff09\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u547d\u4ee4\u6a21\u677f\u6307\u5357 \u3002 [gcode_macro \u547d\u4ee4] \u3002 #gcode: # \u4e00\u4e2a\u66ff\u4ee3\"\u547d\u4ee4\" \u6267\u884c\u7684 G \u4ee3\u7801\u547d\u4ee4\u7684\u5217\u8868\u3002\u8bf7\u770b # docs/Command_Templates.md \u4e86\u89e3\u652f\u6301\u7684 G \u4ee3\u7801\u683c\u5f0f\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #variable_<\u540d\u79f0>: # \u53ef\u4ee5\u6307\u5b9a\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\"\u53d8\u91cf_\"\u524d\u7f00\u7684\u8bbe\u7f6e\u3002 # \u5b9a\u4e49\u7684\u53d8\u91cf\u540d\u5c06\u88ab\u8d4b\u4e88\u7ed9\u5b9a\u7684\u503c\uff08\u5e76\u88ab\u89e3\u6790\u4e3a\u4f5c\u4e3a\u4e00\u4e2a # Python Literal\uff09\uff0c\u5e76\u5728\u5b8f\u6269\u5c55\u65f6\u53ef\u7528\u3002 # \u4f8b\u5982\uff0c\u4e00\u4e2a\u5e26\u6709\"variable_fan_speed = 75\"\u7684 G-Code \u547d\u4ee4\u7684 # G \u4ee3\u7801\u5217\u8868\u4e2d\u53ef\u4ee5\u5305\u542b\"M106 S{ fan_speed * 255 }\"\u3002\u53d8\u91cf # \u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4f7f\u7528 SET_GCODE_VARIABLE \u547d\u4ee4\u8fdb\u884c\u4fee\u6539 # \uff08\u8be6\u89c1docs/Command_Templates.md\uff09\u3002\u53d8\u91cf\u540d\u79f0 # \u4e0d\u80fd\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u3002 #rename_existing: # \u8fd9\u4e2a\u9009\u9879\u5c06\u5bfc\u81f4\u5b8f\u8986\u76d6\u4e00\u4e2a\u73b0\u6709\u7684 G-Code \u547d\u4ee4\uff0c\u5e76\u901a\u8fc7 # \u8fd9\u91cc\u63d0\u4f9b\u7684\u540d\u79f0\u5f15\u7528\u8be5\u547d\u4ee4\u7684\u5148\u524d\u5b9a\u4e49\u3002\u8986\u76d6\u547d\u4ee4\u65f6\u5e94\u6ce8 # \u610f\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4\u590d\u6742\u548c\u610f\u5916\u7684\u9519\u8bef\u3002 # \u9ed8\u8ba4\u4e0d\u8986\u76d6\u73b0\u6709\u7684 G-Code \u547d\u4ee4\u3002 #description: G-Code macro # \u5728 HELP \u547d\u4ee4\u6216\u81ea\u52a8\u5b8c\u6210\u4e2d\u4f7f\u7528\u7684\u7b80\u5355\u63cf\u8ff0\u3002 # \u9ed8\u8ba4\u4e3a\"G-Code macro\"\u3002 [delayed_gcode] \u00b6 \u5728\u8bbe\u5b9a\u7684\u5ef6\u8fdf\u4e0a\u6267\u884c gcode\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u547d\u4ee4\u6a21\u677f\u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u3002 [delayed_gcode my_delayed_gcode]\u3002 gcode: # \u5f53\u5ef6\u8fdf\u65f6\u95f4\u7ed3\u675f\u540e\u6267\u884c\u7684G\u4ee3\u7801\u547d\u4ee4\u5217\u8868\u3002\u652f\u6301G\u4ee3\u7801\u6a21\u677f\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #initial_duration:0.0 # \u521d\u59cb\u5ef6\u8fdf\u7684\u6301\u7eed\u65f6\u95f4(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a\u4e00\u4e2a # \u975e\u96f6\u503c\uff0cdelayed_gcode \u5c06\u5728\u6253\u5370\u673a\u8fdb\u5165 \"\u5c31\u7eea \"\u72b6\u6001\u540e\u6307\u5b9a # \u79d2\u6570\u540e\u6267\u884c\u3002\u53ef\u80fd\u5bf9\u521d\u59cb\u5316\u7a0b\u5e8f\u6216\u91cd\u590d\u7684 delayed_gcode \u6709 # \u7528\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 0\uff0cdelayed_gcode \u5c06\u5728\u542f\u52a8\u65f6\u4e0d\u6267\u884c\u3002 # \u9ed8\u8ba4\u4e3a0\u3002 [save_variables] \u00b6 Support saving variables to disk so that they are retained across restarts. See command templates and G-Code reference for further information. [save_variables] filename: # \u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u53c2\u6570\u5230\u78c1\u76d8\u7684\u6587\u4ef6\u540d\u3002 # \u4f8b\u5982 . ~/variables.cfg [idle_timeout] \u00b6 \u7a7a\u95f2\u8d85\u65f6\u3002\u9ed8\u8ba4\u542f\u7528\u7a7a\u95f2\u8d85\u65f6 - \u6dfb\u52a0\u663e\u5f0f idle_timeout \u914d\u7f6e\u5206\u6bb5\u4ee5\u66f4\u6539\u9ed8\u8ba4\u8bbe\u7f6e\u3002 [idle_timeout] #gcode: # \u5728\u7a7a\u95f2\u8d85\u65f6\u65f6\u6267\u884c\u7684\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u3002G-Code \u683c\u5f0f\u8bf7\u89c1 # docs/Command_Templates.md\u3002 # \u9ed8\u8ba4\u8fd0\u884c \"TURN_OFF_HEATERS\" \u548c \"M84\"\u3002 #timeout: 600 # \u5728\u6267\u884c\u4ee5\u4e0a G-Code \u524d\u7b49\u5f85\u7684\u7a7a\u95f2\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \u9ed8\u8ba4\u4e3a 600 \u79d2\u3002 \u53ef\u9009\u7684 G-Code \u7279\u6027 \u00b6 [virtual_sdcard] \u00b6 \u5982\u679c\u4e3b\u673a\u7684\u901f\u5ea6\u4e0d\u8db3\u4ee5\u5f88\u597d\u5730\u8fd0\u884c OctoPrint\uff0c\u865a\u62df SD \u5361\u53ef\u80fd\u6709\u5e2e\u52a9\u3002\u5b83\u5141\u8bb8 Klipper \u4e3b\u673a\u8f6f\u4ef6\u4f7f\u7528\u6807\u51c6\u7684 SD \u5361G\u4ee3\u7801\u547d\u4ee4\uff08\u4f8b\u5982\uff0cM24\uff09\u76f4\u63a5\u6253\u5370\u5b58\u50a8\u5728\u4e3b\u673a\u76ee\u5f55\u4e2d\u7684 gcode \u6587\u4ef6\u3002 [virtual_sdcard] path: # The path of the local directory on the host machine to look for # g-code files. This is a read-only directory (sdcard file writes # are not supported). One may point this to OctoPrint's upload # directory (generally ~/.octoprint/uploads/ ). This parameter must # be provided. #on_error_gcode: # A list of G-Code commands to execute when an error is reported. [sdcard_loop] \u00b6 Some printers with stage-clearing features, such as a part ejector or a belt printer, can find use in looping sections of the sdcard file. (For example, to print the same part over and over, or repeat the a section of a part for a chain or other repeated pattern). \u6709\u5173\u652f\u6301\u7684\u547d\u4ee4\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002\u517c\u5bb9Marlin M808 \u7684G\u4ee3\u7801\u5b8f\u53ef\u4ee5\u5728 sample-macros.cfg \u4e2d\u627e\u5230\u3002 [sdcard_loop] [force_move] \u00b6 Support manually moving stepper motors for diagnostic purposes. Note, using this feature may place the printer in an invalid state - see the command reference for important details. [force_move] #enable_force_move: False # \u8bbe\u7f6e\u4e3atrue\u6765\u542f\u7528 FORCE_MOVE \u548c SET_KINEMATIC_POSITION \u6269\u5c55 # G\u4ee3\u7801\u547d\u4ee4\u3002 # \u9ed8\u8ba4\u4e3afalse\u3002 [pause_resume] \u00b6 \u6682\u505c/\u6062\u590d\u529f\u80fd\uff0c\u652f\u6301\u4f4d\u7f6e\u50a8\u5b58\u548c\u6062\u590d\u3002\u66f4\u591a\u4fe1\u606f\u89c1 \u547d\u4ee4\u53c2\u8003 \u3002 [pause_resume] #recover_velocity: 50. # \u5f53\u6355\u6349/\u6062\u590d\u529f\u80fd\u88ab\u542f\u7528\u65f6\uff0c\u8fd4\u56de\u5230\u6355\u83b7\u7684\u4f4d\u7f6e\u7684\u901f\u5ea6(\u5355\u4f4d\uff1a\u6beb\u7c73/\u79d2)\u3002 # \u9ed8\u8ba4\u4e3a50.0 mm/s\u3002 [firmware_retraction] \u00b6 \u56fa\u4ef6\u8017\u6750\u56de\u62bd\u3002\u8fd9\u4e2a\u9009\u9879\u542f\u7528\u4e86\u8bb8\u591a\u5207\u7247\u8f6f\u4ef6\u53d1\u5e03\u7684G10\uff08\u56de\u62bd\uff09\u548cG11\uff08\u56de\u62bd\u540e\u6062\u590d\u6324\u51fa\uff09GCODE\u6307\u4ee4\u3002\u4e0b\u9762\u7684\u53c2\u6570\u63d0\u4f9b\u4e86\u542f\u52a8\u9ed8\u8ba4\u503c\uff0c\u5c3d\u7ba1\u8fd9\u4e9b\u503c\u53ef\u4ee5\u901a\u8fc7SET_RETRACTION command \u6765\u5141\u8bb8\u6bcf\u4e2a\u8017\u6750\u8bbe\u7f6e\u548c\u8fd0\u884c\u65f6\u8c03\u6574 [firmware_retraction] #retract_length: 0 # \u5f53 G10 \u88ab\u8fd0\u884c\u65f6\u56de\u62bd\u7684\u957f\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\uff09 # \u548c\u5f53 G11 \u88ab\u8fd0\u884c\u65f6\u9000\u56de\u7684\u957f\u5ea6\uff08\u4f46\u540c\u65f6\u4e5f\u5305\u62ec # \u4ee5\u4e0b\u7684unretract_extra_length\uff09\u3002 # \u9ed8\u8ba4\u4e3a0\u6beb\u7c73\u3002 #retract_speed: 20 # \u56de\u62bd\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73\u6bcf\u79d2(mm/s)\u4e3a\u5355\u4f4d\u3002\u9ed8\u8ba4\u4e3a\u6bcf\u79d220\u6beb\u7c73\u3002 #unretract_extra_length: 0 # \u9000\u56de\u65f6\u589e\u52a0*\u989d\u5916*\u957f\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\uff09\u7684\u8017\u6750\u3002 #unretract_speed: 10 # \u9000\u56de\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\u3002 # \u9ed8\u8ba4\u503c\u4e3a10mm/s [gcode_arcs] \u00b6 \u652f\u6301G\u4ee3\u7801\u5f27\u7ebf(G2/G3)\u547d\u4ee4\u3002 [gcode_arcs] #resolution: 1.0 # \u4e00\u6761\u5f27\u7ebf\u5c06\u88ab\u5206\u5272\u6210\u82e5\u5e72\u6bb5\u3002\u6bcf\u6bb5\u7684\u957f\u5ea6\u5c06 # \u7b49\u4e8e\u4e0a\u9762\u8bbe\u7f6e\u7684\u5206\u8fa8\u7387\uff08mm\uff09\u3002\u66f4\u4f4e\u7684\u503c\u4f1a\u4ea7\u751f\u4e00\u4e2a # \u66f4\u7ec6\u817b\u7684\u5f27\u7ebf\uff0c\u4f46\u4e5f\u4f1a\u9700\u8981\u673a\u5668\u8fdb\u884c\u66f4\u591a\u8fd0\u7b97\u3002\u5c0f\u4e8e # \u914d\u7f6e\u503c\u7684\u66f2\u7ebf\u4f1a\u88ab\u89c6\u4e3a\u76f4\u7ebf\u3002 # \u9ed8\u8ba4\u4e3a1\u6beb\u7c73\u3002 [respond] \u00b6 \u542f\u7528\u201cM118\u201d\u548c\u201cRESPOND\u201d\u6269\u5c55 commands \u3002 [respond] #default_type: echo # Sets the default prefix of the \"M118\" and \"RESPOND\" output to one # of the following: # echo: \"echo: \" (This is the default) # command: \"// \" # error: \"!! \" #default_prefix: echo: # Directly sets the default prefix. If present, this value will # override the \"default_type\". [exclude_object] \u00b6 Enables support to exclude or cancel individual objects during the printing process. See the exclude objects guide and command reference for additional information. See the sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro. [exclude_object] \u5171\u632f\u8865\u507f \u00b6 [input_shaper] \u00b6 \u542f\u7528 \u5171\u632f\u8865\u507f \u3002 \u53e6\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [input_shaper] #shaper_freq_x: 0 # \u8f93\u5165\u6574\u5f62\u5668\u7684 X \u8f74\u9891\u7387(Hz)\u3002\u901a\u5e38\u8fd9\u662f\u5e0c\u671b\u88ab\u8f93\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # X \u8f74\u5171\u632f\u9891\u7387\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f93\u5165 # \u6574\u5f62\u5668\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u53ef\u80fd\u9700\u8981\u8003\u8651\u5176\u4ed6\u7279\u6027\u3002 # \u9ed8\u8ba4\u503c\u662f0\uff0c\u7981\u7528 X \u8f74\u8f93\u5165\u6574\u5f62\u3002 #shaper_freq_y: 0 # \u8f93\u5165\u6574\u5f62\u5668\u7684 Y \u8f74\u9891\u7387(Hz)\u3002\u901a\u5e38\u8fd9\u662f\u5e0c\u671b\u88ab\u8f93\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # Y \u8f74\u5171\u632f\u9891\u7387\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f93\u5165 # \u6574\u5f62\u5668\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u53ef\u80fd\u9700\u8981\u8003\u8651\u5176\u4ed6\u7279\u6027\u3002 # \u9ed8\u8ba4\u503c\u662f0\uff0c\u7981\u7528 Y \u8f74\u8f93\u5165\u6574\u5f62\u3002 #shaper_type: mzv # \u7528\u4e8e X \u548c Y \u8f74\u7684\u8f93\u5165\u6574\u5f62\u5668\u3002\u652f\u6301\u7684\u8f93\u5165\u6574\u5f62\u5668\u6709 zv\u3001mzv\u3001 # zvd\u3001ei\u30012hump_ei \u548c 3hump_ei\u3002 # \u9ed8\u8ba4\u4e3a mzv \u8f93\u5165\u6574\u5f62\u5668\u3002 #shaper_type_x: #shaper_type_y: # \u5982\u679c\u6ca1\u6709\u8bbe\u7f6e shaper_type\uff0c\u53ef\u4ee5\u7528\u8fd9\u4e24\u4e2a\u53c2\u6570\u6765\u5355\u72ec\u914d\u7f6e X # \u548c Y \u8f74\u7684 \u8f93\u5165\u6574\u5f62\u5668\u3002 # \u8be5\u53c2\u6570\u652f\u6301\u5168\u90e8shaper_type \u652f\u6301\u7684\u9009\u9879\u3002 #damping_ratio_x: 0.1 #damping_ratio_y: 0.1 # X \u548c Y \u8f74\u7684\u5171\u632f\u6291\u5236\u6bd4\u4f8b\uff0c\u53ef\u4ee5\u7528\u6765\u6539\u5584\u632f\u52a8\u6291\u5236\u6548\u679c\u3002 # \u9ed8\u8ba4\u503c\u662f 0.1\uff0c\u9002\u7528\u4e8e\u5927\u591a\u6570\u6253\u5370\u673a\u3002 # \u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u8c03\u6574\u8fd9\u4e2a\u503c\u3002 [adxl345] \u00b6 Support for ADXL345 accelerometers. This support allows one to query accelerometer measurements from the sensor. This enables an ACCELEROMETER_MEASURE command (see G-Codes for more information). The default chip name is \"default\", but one may specify an explicit name (eg, [adxl345 my_chip_name]). [adxl345] cs_pin: # \u4f20\u611f\u5668\u7684 SPI \u542f\u7528\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #spi_speed: 5000000 # \u4e0e\u82af\u7247\u901a\u4fe1\u65f6\u4f7f\u7528\u7684SPI\u901f\u5ea6(hz)\u3002 # \u9ed8\u8ba4\u4e3a5000000\u3002 #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u53c2\u89c1\"\u5e38\u89c1\u7684SPI\u8bbe\u7f6e\"\u7ae0\u8282\uff0c\u4ee5\u4e86\u89e3\u5bf9\u4e0a\u8ff0\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #axes_map: x, y, z # \u6253\u5370\u673a\u7684X\u3001Y\u548cZ\u8f74\u7684\u52a0\u901f\u5ea6\u8ba1\u8f74\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8ba1\u7684\u5b89\u88c5\u65b9\u5411\u4e0e\u6253\u5370\u673a\u7684\u65b9\u5411\u4e0d\u4e00\u81f4\uff0c # \u53ef\u80fd\u9700\u8981\u4fee\u6539\u8be5\u8bbe\u5b9a\u3002 # \u4f8b\u5982\uff0c\u53ef\u4ee5\u5c06\u5176\u8bbe\u7f6e\u4e3a\"y, x, z\"\u6765\u4ea4\u6362X\u548cY\u8f74\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8ba1\u65b9\u5411\u662f\u76f8\u53cd\u7684\uff0c\u53ef\u80fd\u9700\u8981\u53cd\u8f6c\u76f8\u5e94\u8f74 # \uff08\u4f8b\u5982\uff0c\"x, z, -y\"\uff09\u3002 # \u9ed8\u8ba4\u662f\"x, y, z\"\u3002 #rate: 3200 # ADXL345\u7684\u8f93\u51fa\u6570\u636e\u901f\u7387\u3002ADXL345\u652f\u6301\u4ee5\u4e0b\u6570\u636e\u901f\u7387\u3002 # 3200\u30011600\u3001800\u3001400\u3001200\u3001100\u300150\u548c25\u3002\u8bf7\u6ce8\u610f\uff0c\u4e0d\u5efa\u8bae # \u5c06\u6b64\u901f\u7387\u4ece\u9ed8\u8ba4\u76843200\u6539\u4e3a\u4f4e\u4e8e800\u7684\u901f\u7387\uff0c\u8fd9\u5c06\u5927\u5927\u5f71\u54cd # \u5171\u632f\u6d4b\u91cf\u7684\u8d28\u91cf\u3002 [mpu9250] \u00b6 Support for mpu9250 and mpu6050 accelerometers (one may define any number of sections with an \"mpu9250\" prefix). [mpu9250 my_accelerometer] #i2c_address: # Default is 104 (0x68). #i2c_mcu: #i2c_bus: #i2c_speed: 400000 # See the \"common I2C settings\" section for a description of the # above parameters. The default \"i2c_speed\" is 400000. #axes_map: x, y, z # See the \"adxl345\" section for information on this parameter. [resonance_tester] \u00b6 Support for resonance testing and automatic input shaper calibration. In order to use most of the functionality of this module, additional software dependencies must be installed; refer to Measuring Resonances and the command reference for more information. See the Max smoothing section of the measuring resonances guide for more information on max_smoothing parameter and its use. [resonance_tester] #probe_points: # A list of X, Y, Z coordinates of points (one point per line) to test # resonances at. At least one point is required. Make sure that all # points with some safety margin in XY plane (~a few centimeters) # are reachable by the toolhead. #accel_chip: # A name of the accelerometer chip to use for measurements. If # adxl345 chip was defined without an explicit name, this parameter # can simply reference it as \"accel_chip: adxl345\", otherwise an # explicit name must be supplied as well, e.g. \"accel_chip: adxl345 # my_chip_name\". Either this, or the next two parameters must be # set. #accel_chip_x: #accel_chip_y: # Names of the accelerometer chips to use for measurements for each # of the axis. Can be useful, for instance, on bed slinger printer, # if two separate accelerometers are mounted on the bed (for Y axis) # and on the toolhead (for X axis). These parameters have the same # format as 'accel_chip' parameter. Only 'accel_chip' or these two # parameters must be provided. #max_smoothing: # Maximum input shaper smoothing to allow for each axis during shaper # auto-calibration (with 'SHAPER_CALIBRATE' command). By default no # maximum smoothing is specified. Refer to Measuring_Resonances guide # for more details on using this feature. #min_freq: 5 # Minimum frequency to test for resonances. The default is 5 Hz. #max_freq: 133.33 # Maximum frequency to test for resonances. The default is 133.33 Hz. #accel_per_hz: 75 # This parameter is used to determine which acceleration to use to # test a specific frequency: accel = accel_per_hz * freq. Higher the # value, the higher is the energy of the oscillations. Can be set to # a lower than the default value if the resonances get too strong on # the printer. However, lower values make measurements of # high-frequency resonances less precise. The default value is 75 # (mm/sec). #hz_per_sec: 1 # Determines the speed of the test. When testing all frequencies in # range [min_freq, max_freq], each second the frequency increases by # hz_per_sec. Small values make the test slow, and the large values # will decrease the precision of the test. The default value is 1.0 # (Hz/sec == sec^-2). \u914d\u7f6e\u6587\u4ef6\u52a9\u624b \u00b6 [board_pins] \u00b6 \u63a7\u5236\u677f\u5f15\u811a\u522b\u540d\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709 \"board_pins \"\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\u7528\u5b83\u6765\u5b9a\u4e49\u5fae\u63a7\u5236\u5668\u4e0a\u7684\u5f15\u811a\u7684\u522b\u540d\u3002 [board_pins my_aliases]\u3002 mcu: mcu # \u4e00\u4e2a\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u7684\u9017\u53f7\u5206\u9694\u7684\u5fae\u63a7\u5236\u5668\u5217\u8868\u3002 # \u9ed8\u8ba4\u5c06\u522b\u540d\u5e94\u7528\u4e8e\u4e3b \"mcu\"\u3002 aliases: aliases_<name>: # \u4e3a\u7ed9\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u521b\u5efa\u7684\u4e00\u4e2a\u4ee5\u9017\u53f7\u5206\u9694\u7684 \"name=value \" # \u522b\u540d\u5217\u8868\u3002\u4f8b\u5982\uff0c\"EXP1_1=PE6\" \u5c06\u521b\u5efa\u4e00\u4e2a\u7528\u4e8e \"PE6 \"\u5f15 # \u811a\u7684\"EXP1_1 \"\u522b\u540d\u3002\u7136\u800c\uff0c\u5982\u679c \"\u503c \" \u88ab\u5305\u62ec\u5728 \"<>\"\u4e2d\uff0c # \u5219 \"name \"\u5c06\u88ab\u521b\u5efa\u4e3a\u4e00\u4e2a\u4fdd\u7559\u9488\u811a\uff08\u4f8b\u5982\uff0c\"EXP1_9=<GND>\" # \u5c06\u4fdd\u7559 \"EXP1_9\"\uff09\u3002\u53ef\u4ee5\u6307\u5b9a\u4efb\u4f55\u6570\u91cf\u4ee5 \"aliases_\"\u5f00\u5934\u7684\u5206\u6bb5\u3002 [include] \u00b6 \u5f15\u5165\u6587\u4ef6\u652f\u6301\u3002\u53ef\u4ee5\u5728\u4e3b\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u7528\u989d\u5916\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u652f\u6301\u901a\u914d\u7b26\uff08\u4f8b\u5982\uff0c configs/*.cfg \uff09\u3002 [include my_other_config.cfg] [duplicate_pin_override] \u00b6 This tool allows a single micro-controller pin to be defined multiple times in a config file without normal error checking. This is intended for diagnostic and debugging purposes. This section is not needed where Klipper supports using the same pin multiple times, and using this override may cause confusing and unexpected results. [duplicate_pin_override] pins: # \u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5f15\u811a\u5217\u8868\uff0c\u5141\u8bb8\u5176\u4e2d\u7684\u5f15\u811a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u88ab\u591a\u6b21\u4f7f\u7528\u800c\u4e0d\u89e6\u53d1\u9519\u8bef\u68c0\u67e5\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 \u70ed\u5e8a\u63a2\u6d4b\u786c\u4ef6 \u00b6 [probe] \u00b6 Z height probe. One may define this section to enable Z height probing hardware. When this section is enabled, PROBE and QUERY_PROBE extended g-code commands become available. Also, see the probe calibrate guide . The probe section also creates a virtual \"probe:z_virtual_endstop\" pin. One may set the stepper_z endstop_pin to this virtual pin on cartesian style printers that use the probe in place of a z endstop. If using \"probe:z_virtual_endstop\" then do not define a position_endstop in the stepper_z config section. [probe] pin: # Probe detection pin. If the pin is on a different microcontroller # than the Z steppers then it enables \"multi-mcu homing\". This # parameter must be provided. #deactivate_on_each_sample: True # This determines if Klipper should execute deactivation gcode # between each probe attempt when performing a multiple probe # sequence. The default is True. #x_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # x-axis. The default is 0. #y_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # y-axis. The default is 0. z_offset: # The distance (in mm) between the bed and the nozzle when the probe # triggers. This parameter must be provided. #speed: 5.0 # Speed (in mm/s) of the Z axis when probing. The default is 5mm/s. #samples: 1 # The number of times to probe each point. The probed z-values will # be averaged. The default is to probe 1 time. #sample_retract_dist: 2.0 # The distance (in mm) to lift the toolhead between each sample (if # sampling more than once). The default is 2mm. #lift_speed: # Speed (in mm/s) of the Z axis when lifting the probe between # samples. The default is to use the same value as the 'speed' # parameter. #samples_result: average # The calculation method when sampling more than once - either # \"median\" or \"average\". The default is average. #samples_tolerance: 0.100 # The maximum Z distance (in mm) that a sample may differ from other # samples. If this tolerance is exceeded then either an error is # reported or the attempt is restarted (see # samples_tolerance_retries). The default is 0.100mm. #samples_tolerance_retries: 0 # The number of times to retry if a sample is found that exceeds # samples_tolerance. On a retry, all current samples are discarded # and the probe attempt is restarted. If a valid set of samples are # not obtained in the given number of retries then an error is # reported. The default is zero which causes an error to be reported # on the first sample that exceeds samples_tolerance. #activate_gcode: # A list of G-Code commands to execute prior to each probe attempt. # See docs/Command_Templates.md for G-Code format. This may be # useful if the probe needs to be activated in some way. Do not # issue any commands here that move the toolhead (eg, G1). The # default is to not run any special G-Code commands on activation. #deactivate_gcode: # A list of G-Code commands to execute after each probe attempt # completes. See docs/Command_Templates.md for G-Code format. Do not # issue any commands here that move the toolhead. The default is to # not run any special G-Code commands on deactivation. [bltouch] \u00b6 BLTouch \u63a2\u9488\u3002\u53ef\u4ee5\u5b9a\u4e49\u8fd9\u4e2a\u5206\u6bb5\uff08\u800c\u4e0d\u662f\u63a2\u9488\uff08probe\uff09\u5206\u6bb5\uff09\u6765\u542f\u7528 BLTouch \u63a2\u9488\u3002\u66f4\u591a\u4fe1\u606f\u89c1 BL-Touch \u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u3002\u4e00\u4e2a\u865a\u62df\u7684 \"probe:z_virtual_endstop \"\u5f15\u811a\u4e5f\u4f1a\u88ab\u540c\u65f6\u521b\u5efa\uff08\u8be6\u89c1 \"probe \"\u7ae0\u8282\uff09\u3002 [bltouch] sensor_pin: # \u8fde\u63a5\u5230 BLTouch sensor \u9488\u811a\u7684\u5f15\u811a\u3002\u5927\u591a\u6570 BLTouch \u9700\u8981\u5728\u4f20\u611f\u5668\u5f15\u811a # \u4e0a\u6709\u4e00\u4e2a\u4e0a\u62c9\uff08\u5728\u5f15\u811a\u540d\u79f0\u524d\u52a0\u4e0a\"^\"\uff09\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 control_pin: # \u8fde\u63a5\u5230 BLTouch control \u5f15\u811a\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #pin_move_time: 0.680 # \u7b49\u5f85 BLTouch \u5f15\u811a\u5411\u4e0a\u6216\u5411\u4e0b\u79fb\u52a8\u7684\u65f6\u95f4\uff08\u79d2\uff09\u3002 # \u9ed8\u8ba4\u4e3a0.680\u79d2\u3002 #stow_on_each_sample: True # \u51b3\u5b9a Klipper \u5728\u591a\u6b21\u63a2\u6d4b\u7684\u5e8f\u5217\u4e2d\u6bcf\u4e00\u6b21\u63a2\u6d4b\u95f4\u662f\u5426\u547d\u4ee4\u7f29\u56de\u63a2\u9488\u3002 # \u5728\u8bbe\u7f6e\u4e3aFalse\u4e4b\u524d\uff0c\u8bf7\u9605\u8bfbdocs/BLTouch.md\u4e2d\u7684\u8bf4\u660e\u3002 # \u9ed8\u8ba4\u503c\u662fTrue\u3002 #probe_with_touch_mode: False # \u5982\u679c\u4e3aTrue\uff0c\u90a3\u4e48Klipper\u5c06\u5728\u8bbe\u5907\u5904\u4e8e\"touch_mode\"\u6a21\u5f0f\u4e0b\u8fdb\u884c # \u63a2\u6d4b\u3002 # \u9ed8\u8ba4\u4e3aFalse(\u5728\"pin_down\"\u6a21\u5f0f\u4e0b\u63a2\u6d4b)\u3002 #pin_up_reports_not_triggered: True # \u8bbe\u7f6e BLTouch \u5728\u6bcf\u6b21\u6210\u529f\u7684\u53d1\u9001\u201cpin_up\"\u547d\u4ee4\u6536\u9488\u540e\u65f6\u5019\u4f1a\u6301\u7eed # \u62a5\u544a\u63a2\u9488\u5904\u4e8e\"\u672a\u89e6\u53d1\"\u72b6\u6001\u3002\u6240\u6709\u6b63\u7248\u7684 BLTouch \u90fd\u5e94\u8be5\u662f True\u3002 # \u5728\u8bbe\u7f6e\u4e3aFalse\u524d\u8bf7\u9605\u8bfbdocs/BLTouch.md\u4e2d\u7684\u8bf4\u660e\u3002 # \u9ed8\u8ba4\u4e3aTrue\u3002 #pin_up_touch_mode_reports_triggered:True # \u8bbe\u7f6e BLTouch \u5728\u8fde\u7eed\u53d1\u9001\"pin_up\"\u548c\"touch_mode\"\u540e\u662f\u5426\u6301\u7eed\u62a5\u544a # \"\u89e6\u53d1\"\u72b6\u6001\u3002\u6240\u6709\u6b63\u7248 BLTouch \u90fd\u662fTrue\u3002\u5728\u8bbe\u7f6e\u4e3aFalse\u4e4b\u524d\uff0c\u8bf7\u5148\u9605\u8bfb # docs/BLTouch.md\u4e2d\u7684\u8bf4\u660e\u3002 # \u9ed8\u8ba4\u4e3aTrue\u3002 #set_output_mode: # \u5728BLTouch V3.0(\u53ca\u4ee5\u540e\u7684\u7248\u672c)\u4e0a\u8bf7\u6c42\u4e00\u4e2a\u7279\u5b9a\u7684\u4f20\u611f\u5668\u5f15\u811a\u8f93\u51fa\u6a21\u5f0f\u3002 # \u5728\u5176\u4ed6\u7c7b\u578b\u7684\u63a2\u9488\u4e0a\u4e0d\u5e94\u8be5\u8bf7\u6c42\u4efb\u4f55\u8f93\u51fa\u6a21\u5f0f\u3002\u8bbe\u7f6e\u4e3a\"5V\"\u4ee5\u8981\u6c42\u4f20\u611f # \u5668\u5f15\u811a\u8f93\u51fa5\u4f0f\u7535\u538b\uff08\u53ea\u5728\u6253\u5370\u673a\u4e3b\u677f\u5f15\u811a\u9700\u8981 5V \u6a21\u5f0f\uff0c\u5e76\u4e14\u5176\u8f93\u5165\u7684 # \u4fe1\u53f7\u7ebf\u53ef\u4ee5\u5bb9\u5fcd5V\u65f6\u53ef\u4ee5\u4f7f\u7528\uff09\u3002\u8bbe\u7f6e\u4e3a\"OD\"\u4ee5\u8981\u6c42\u4f20\u611f\u5668\u5f15\u811a\u8f93\u51fa # \u4f7f\u7528\u5f00\u6f0f(open drain)\u6a21\u5f0f\u3002 # \u9ed8\u8ba4\u4e0d\u8981\u6c42\u8f93\u51fa\u6a21\u5f0f\u3002 #x_offset: #y_offset: #z_offset: #z_offset: #speed: #lift_speed: #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: #samples_tolerance_retries: # \u6709\u5173\u8fd9\u4e9b\u53c2\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\"probe\"\u5206\u6bb5\u3002 [smart_effector] \u00b6 The \"Smart Effector\" from Duet3d implements a Z probe using a force sensor. One may define this section instead of [probe] to enable the Smart Effector specific features. This also enables runtime commands to adjust the parameters of the Smart Effector at run time. [smart_effector] pin: # Pin connected to the Smart Effector Z Probe output pin (pin 5). Note that # pullup resistor on the board is generally not required. However, if the # output pin is connected to the board pin with a pullup resistor, that # resistor must be high value (e.g. 10K Ohm or more). Some boards have a low # value pullup resistor on the Z probe input, which will likely result in an # always-triggered probe state. In this case, connect the Smart Effector to # a different pin on the board. This parameter is required. #control_pin: # Pin connected to the Smart Effector control input pin (pin 7). If provided, # Smart Effector sensitivity programming commands become available. #probe_accel: # If set, limits the acceleration of the probing moves (in mm/sec^2). # A sudden large acceleration at the beginning of the probing move may # cause spurious probe triggering, especially if the hotend is heavy. # To prevent that, it may be necessary to reduce the acceleration of # the probing moves via this parameter. #recovery_time: 0.4 # A delay between the travel moves and the probing moves in seconds. A fast # travel move prior to probing may result in a spurious probe triggering. # This may cause 'Probe triggered prior to movement' errors if no delay # is set. Value 0 disables the recovery delay. # Default value is 0.4. #x_offset: #y_offset: # Should be left unset (or set to 0). z_offset: # Trigger height of the probe. Start with -0.1 (mm), and adjust later using # `PROBE_CALIBRATE` command. This parameter must be provided. #speed: # Speed (in mm/s) of the Z axis when probing. It is recommended to start # with the probing speed of 20 mm/s and adjust it as necessary to improve # the accuracy and repeatability of the probe triggering. #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: #activate_gcode: #deactivate_gcode: #deactivate_on_each_sample: # See the \"probe\" section for more information on the parameters above. \u989d\u5916\u7684\u6b65\u8fdb\u7535\u673a\u548c\u6324\u51fa\u673a \u00b6 [stepper_z1] \u00b6 Multi-stepper axes. On a cartesian style printer, the stepper controlling a given axis may have additional config blocks defining steppers that should be stepped in concert with the primary stepper. One may define any number of sections with a numeric suffix starting at 1 (for example, \"stepper_z1\", \"stepper_z2\", etc.). [stepper_z1] #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # See the \"stepper\" section for the definition of the above parameters. #endstop_pin: # If an endstop_pin is defined for the additional stepper then the # stepper will home until the endstop is triggered. Otherwise, the # stepper will home until the endstop on the primary stepper for the # axis is triggered. [extruder1] \u00b6 \u5728\u4e00\u4e2a\u591a\u6324\u51fa\u673a\u7684\u6253\u5370\u673a\u4e2d\uff0c\u4e3a\u6bcf\u4e2a\u989d\u5916\u7684\u6324\u51fa\u673a\u6dfb\u52a0\u4e00\u4e2a\u989d\u5916\u6324\u51fa\u673a\u5206\u6bb5\u3002\u989d\u5916\u6324\u51fa\u673a\u5206\u6bb5\u5e94\u88ab\u547d\u540d\u4e3a\"extruder1\"\u3001\"extruder2\"\u3001\"extruder3\"\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u53c2\u89c1\"extruder\"\u7ae0\u8282\u3002 \u591a\u6324\u51fa\u673a\u53c2\u8003\u793a\u4f8b sample-multi-extruder.cfg [\u6324\u51fa\u673a1] #step_pin\uff1a #dir_pin\uff1a #... # \u6709\u5173\u53ef\u7528\u7684\u6b65\u8fdb\u5668\u548c\u52a0\u70ed\u5668\uff0c\u8bf7\u53c2\u9605\u201c\u6324\u51fa\u673a\u201d\u90e8\u5206 \uff03 \u53c2\u6570\u3002 #shared_heater\uff1a # \u6b64\u9009\u9879\u5df2\u5f03\u7528\uff0c\u4e0d\u5e94\u518d\u6307\u5b9a\u3002 [dual_carriage] \u00b6 Support for cartesian printers with dual carriages on a single axis. The active carriage is set via the SET_DUAL_CARRIAGE extended g-code command. The \"SET_DUAL_CARRIAGE CARRIAGE=1\" command will activate the carriage defined in this section (CARRIAGE=0 will return activation to the primary carriage). Dual carriage support is typically combined with extra extruders - the SET_DUAL_CARRIAGE command is often called at the same time as the ACTIVATE_EXTRUDER command. Be sure to park the carriages during deactivation. Idex\u53c2\u8003\u793a\u4f8b sample-idex.cfg [dual_carriage] axis: # \u989d\u5916\u6ed1\u8f66\u6240\u5728\u7684\u8f74\uff08x\u6216\u8005y\uff09\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: #endstop_pin: #position_endstop: #position_min: #position_max: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u67e5\u9605\u201cstepper\u201d\u5206\u6bb5\u3002 [extruder_stepper] \u00b6 \u652f\u6301\u989d\u5916\u548c\u6324\u51fa\u673a\u8fd0\u52a8\u540c\u6b65\u7684\u6b65\u8fdb\u7535\u673a\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cextruder_stepper\u201d\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [extruder_stepper my_extra_stepper] extruder: # \u8fd9\u4e2a\u6b65\u8fdb\u7535\u673a\u5c06\u8981\u540c\u6b65\u5230\u7684\u6324\u51fa\u673a\u540d\u79f0 # \u5982\u679c\u88ab\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e2a\u6b65\u8fdb\u7535\u673a\u5c06\u4e0d\u4f1a\u88ab\u540c\u6b65\u5230\u6324\u51fa\u673a # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cstepper\u201d\u914d\u7f6e\u5206\u6bb5\u3002 [manual_stepper] \u00b6 \u624b\u52a8\u6b65\u8fdb\u5668\uff08\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u4efb\u4f55\u6570\u91cf\"manual_stepper\"\u524d\u7f00\u7684\u914d\u7f6e\u5206\u6bb5\uff09\u3002\u8fd9\u4e9b\u662f\u7531 MANUAL_STEPPER G\u4ee3\u7801\u547d\u4ee4\u63a7\u5236\u7684\u6b65\u8fdb\u7535\u673a\u3002\u4f8b\u5982\uff1a\"MANUAL_STEPPER STEPPER=my_stepper MOVE=10 SPEED=5\"\u3002\u53c2\u89c1 G-Code \u6587\u6863\u4e2d\u5173\u4e8e MANUAL_STEPPER \u547d\u4ee4\u7684\u63cf\u8ff0\u3002\u624b\u52a8\u6b65\u8fdb\u5668\u68b0\u4e0d\u4f1a\u8fde\u63a5\u5230\u6b63\u5e38\u7684\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u4e2d\u3002 [manual_stepper my_stepper]\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u6709\u5173\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u8bf7\u89c1\"stepper\"\u5206\u6bb5\u3002 #velocity: # \u8bbe\u7f6e\u6b65\u8fdb\u7535\u673a\u7684\u9ed8\u8ba4\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002\u8fd9\u4e2a\u503c\u4f1a\u5728 MANUAL_STEPPER # \u547d\u4ee4\u6ca1\u6709\u6307\u5b9a\u4e00\u4e2a SPEED \u53c2\u6570\u65f6\u4f1a\u88ab\u4f7f\u7528\u3002 # \u9ed8\u8ba4\u4e3a 5 mm/s\u3002 #accel: # \u8bbe\u7f6e\u6b65\u8fdb\u7535\u673a\u7684\u9ed8\u8ba4\u52a0\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s^2\uff09\u3002\u8bbe\u7f6e\u52a0\u901f\u5ea6\u4e3a\u96f6\u5c06\u5bfc\u81f4 # \u6ca1\u6709\u52a0\u901f\u5ea6\u3002\u8fd9\u4e2a\u503c\u4f1a\u5728 MANUAL_STEPPER \u547d\u4ee4\u6ca1\u6709\u6307\u5b9a ACCEL \u53c2\u6570\u65f6 # \u4f1a\u88ab\u4f7f\u7528\u3002 # \u9ed8\u8ba4\u4e3a 0\u3002 #endstop_pin: # \u9650\u4f4d\u5f00\u5173\u68c0\u6d4b\u5f15\u811a\u3002\u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 MANUAL_STEPPER # \u8fd0\u52a8\u547d\u4ee4\u4e2d\u6dfb\u52a0\u4e00\u4e2a STOP_ON_ENDSTOP \u53c2\u6570\u6765\u6267\u884c \"\u5f52\u4f4d\u52a8\u4f5c\" \u3002 \u81ea\u5b9a\u4e49\u52a0\u70ed\u5668\u548c\u4f20\u611f\u5668 \u00b6 [verify_heater] \u00b6 \u52a0\u70ed\u5668\u548c\u6e29\u5ea6\u4f20\u611f\u5668\u9a8c\u8bc1\u3002\u9ed8\u8ba4\u5728\u6253\u5370\u673a\u4e0a\u6bcf\u4e2a\u914d\u7f6e\u7684\u52a0\u70ed\u5668\u4e0a\u542f\u7528\u52a0\u70ed\u5668\u9a8c\u8bc1\u3002\u4f7f\u7528 verify_heater \u5206\u6bb5\u6765\u8986\u76d6\u9ed8\u8ba4\u8bbe\u7f6e\u3002 [verify_heater heater_config_name] #max_error: 120 # The maximum \"cumulative temperature error\" before raising an # error. Smaller values result in stricter checking and larger # values allow for more time before an error is reported. # Specifically, the temperature is inspected once a second and if it # is close to the target temperature then an internal \"error # counter\" is reset; otherwise, if the temperature is below the # target range then the counter is increased by the amount the # reported temperature differs from that range. Should the counter # exceed this \"max_error\" then an error is raised. The default is # 120. #check_gain_time: # This controls heater verification during initial heating. Smaller # values result in stricter checking and larger values allow for # more time before an error is reported. Specifically, during # initial heating, as long as the heater increases in temperature # within this time frame (specified in seconds) then the internal # \"error counter\" is reset. The default is 20 seconds for extruders # and 60 seconds for heater_bed. #hysteresis: 5 # The maximum temperature difference (in Celsius) to a target # temperature that is considered in range of the target. This # controls the max_error range check. It is rare to customize this # value. The default is 5. #heating_gain: 2 # The minimum temperature (in Celsius) that the heater must increase # by during the check_gain_time check. It is rare to customize this # value. The default is 2. [homing_heaters] \u00b6 Tool to disable heaters when homing or probing an axis. [homing_heaters] #steppers: # \u4f1a\u4f7f\u52a0\u70ed\u5668\u88ab\u7981\u7528\u7684\u6b65\u8fdb\u7535\u673a\u9017\u53f7\u5206\u9694\u5217\u8868\u3002 # \u9ed8\u8ba4\u5728\u5f52\u96f6\u548c\u63a2\u6d4b\u65f6\u7981\u7528\u5168\u90e8\u52a0\u70ed\u5668\u3002 # \u4f8b\u5982\uff1astepper_z #heaters: # \u5f52\u96f6\u548c\u63a2\u6d4b\u65f6\u4f1a\u88ab\u7981\u7528\u7684\u52a0\u70ed\u5668\u7684\u9017\u53f7\u5206\u9694\u5217\u8868\u3002 # \u9ed8\u8ba4\u7981\u7528\u5168\u90e8\u52a0\u70ed\u5668\u3002 # \u4f8b\u5982\uff1aextruder, heater_bed [thermistor] \u00b6 \u81ea\u5b9a\u4e49\u70ed\u654f\u7535\u963b\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201c\u70ed\u654f\u7535\u963b\u201d\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\u53ef\u4ee5\u5728\u52a0\u70ed\u5668\u914d\u7f6e\u5206\u6bb5\u7684 sensor_type \u5b57\u6bb5\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u70ed\u654f\u7535\u963b\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u4e49\u4e86\u201c[thermistor my_thermistor]\u201d\u5206\u6bb5\uff0c\u90a3\u4e48\u5728\u5b9a\u4e49\u52a0\u70ed\u5668\u65f6\u53ef\u4ee5\u4f7f\u7528\u201csensor_type: my_thermistor\u201d\u3002\uff09\u786e\u4fdd\u5c06\u70ed\u654f\u7535\u963b\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [thermistor my_thermistor] #temperature1: #resistance1: #temperature2: #resistance2: #temperature3: #resistance3: # Three resistance measurements (in Ohms) at the given temperatures # (in Celsius). The three measurements will be used to calculate the # Steinhart-Hart coefficients for the thermistor. These parameters # must be provided when using Steinhart-Hart to define the # thermistor. #beta: # Alternatively, one may define temperature1, resistance1, and beta # to define the thermistor parameters. This parameter must be # provided when using \"beta\" to define the thermistor. [adc_temperature] \u00b6 \u81ea\u5b9a\u4e49 ADC \u6e29\u5ea6\u4f20\u611f\u5668\uff08\u53ef\u4ee5\u4f7f\u7528 \u201cadc_temperature\u201d \u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5206\u6bb5\uff09\u3002\u8fd9\u5141\u8bb8\u5b9a\u4e49\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6e29\u5ea6\u4f20\u611f\u5668\uff0c\u8be5\u4f20\u611f\u5668\u6d4b\u91cf\u4e00\u4e2a\u6a21\u6570\u8f6c\u6362\u5668 (ADC) \u5f15\u811a\u4e0a\u7684\u7535\u538b\uff0c\u5e76\u5728\u4e00\u7ec4\u914d\u7f6e\u7684\u6e29\u5ea6/\u7535\u538b\uff08\u6216\u6e29\u5ea6/\u7535\u963b\uff09\u6d4b\u91cf\u503c\u4e4b\u95f4\u4f7f\u7528\u7ebf\u6027\u63d2\u503c\u6765\u786e\u5b9a\u6e29\u5ea6\u3002\u8bbe\u7f6e\u7684\u4f20\u611f\u5668\u53ef\u88ab\u7528\u4f5c\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u7684 sensor_type\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u4e49\u4e86 \u201c[adc_temperature my_sensor]\u201d \u5206\u6bb5\uff0c\u5219\u5728\u5b9a\u4e49\u52a0\u70ed\u5668\u65f6\u53ef\u4ee5\u4f7f\u7528 \u201csensor_type: my_sensor\u201d \u3002\uff09\u786e\u4fdd\u5c06\u4f20\u611f\u5668\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [adc_temperature my_sensor] #temperature1: #voltage1: #temperature2: #voltage2: #... # \u4e00\u7ec4\u7528\u4f5c\u6e29\u5ea6\u8f6c\u6362\u7684\u53c2\u8003\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\uff09\u548c\u7535\u538b\uff08\u4ee5 # \u4f0f\u7279\u4e3a\u5355\u4f4d\uff09\u3002\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e5f\u53ef\u4ee5\u6307\u5b9a # adc_voltage \u548c voltage_offset \u53c2\u6570\u6765\u5b9a\u4e49 ADC \u7535\u538b\uff08\u8be6\u89c1\u201c\u5e38\u7528\u6e29\u5ea6 # \u653e\u5927\u5668\u201d\u7ae0\u8282\uff09\u3002\u81f3\u5c11\u8981\u63d0\u4f9b\u4e24\u4e2a\u6d4b\u91cf\u70b9\u3002 #temperature1: #resistance1: #temperature2: #resistance2: #... # \u4f5c\u4e3a\u66ff\u4ee3\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u7ec4\u7528\u4f5c\u6e29\u5ea6\u8f6c\u6362\u7684\u53c2\u8003\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a # \u5355\u4f4d\uff09\u548c\u963b\u503c\uff08\u4ee5\u6b27\u59c6\u4e3a\u5355\u4f4d\uff09\u3002\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e5f # \u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a pullup_resistor \u53c2\u6570\uff08\u8be6\u89c1\u201c\u6324\u51fa\u673a\u201d\u7ae0\u8282\uff09\u3002\u81f3\u5c11\u8981 # \u63d0\u4f9b\u4e24\u4e2a\u6d4b\u91cf\u70b9\u3002 [heater_generic] \u00b6 \u901a\u7528\u7684\u52a0\u70ed\u5668\uff08\u4efb\u610f\u6570\u91cf\u7684\u4f7f\u7528\"heater_generic\"\u524d\u7f00\u5b9a\u4e49\u7684\u8282\uff09\u3002\u8fd9\u4e9b\u52a0\u70ed\u5668\u8868\u73b0\u5f97\u7c7b\u4f3c\u4e8e\u6807\u51c6\u52a0\u70ed\u5668\uff08\u6324\u51fa\u673a\u3001\u70ed\u5e8a\uff09\u3002\u4f7f\u7528SET_HEATER_TEMPERATURE\u547d\u4ee4\uff08\u8be6\u89c1 G-Code \uff09\u6765\u8bbe\u7f6e\u76ee\u6807\u6e29\u5ea6\u3002 [heater_generic my_generic_heater] #gcode_id: # \u4f7f\u7528M105\u67e5\u8be2\u6e29\u5ea6\u65f6\u4f7f\u7528\u7684ID\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #heater_pin: #max_power: #sensor_type: #sensor_pin: #smooth_time: #control: #pid_Kp: #pid_Ki: #pid_Kd: #pwm_cycle_time: #min_temp: #max_temp: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cextruder\u201d\u5206\u6bb5\u3002 [temperature_sensor] \u00b6 \u901a\u7528\u6e29\u5ea6\u4f20\u611f\u5668\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u901a\u7528\u6e29\u5ea6\u4f20\u611f\u5668\uff09\u3002\u901a\u8fc7 M105 \u547d\u4ee4\u67e5\u8be2\u6e29\u5ea6\u3002 [temperature_sensor my_sensor] #sensor_type: #sensor_pin: #min_temp: #max_temp: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u89c1\u201cextruder\u201d\u7ae0\u8282\u3002 #gcode_id: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u89c1\u201cheater_generic\u201d\u7ae0\u8282\u3002 \u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 Klipper \u5305\u62ec\u8bb8\u591a\u7c7b\u578b\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u7684\u5b9a\u4e49\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u53ef\u4ee5\u5728\u4efb\u4f55\u9700\u8981\u6e29\u5ea6\u4f20\u611f\u5668\u7684\u914d\u7f6e\u5206\u6bb5\u4e2d\u4f7f\u7528\uff08\u4f8b\u5982 [extruder] \u6216 [heated_bed] \u5206\u6bb5\uff09\u3002 \u5e38\u89c1\u70ed\u654f\u7535\u963b \u00b6 \u5e38\u89c1\u7684\u70ed\u654f\u7535\u963b\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u4f20\u611f\u5668\u4e4b\u4e00\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u3002 sensor_type: # One of \"EPCOS 100K B57560G104F\", \"ATC Semitec 104GT-2\", # \"ATC Semitec 104NT-4-R025H42G\", \"Generic 3950\", # \"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", or \"TDK NTCG104LH104JT1\" sensor_pin: # Analog input pin connected to the thermistor. This parameter must # be provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # The default is 4700 ohms. #inline_resistor: 0 # The resistance (in ohms) of an extra (not heat varying) resistor # that is placed inline with the thermistor. It is rare to set this. # The default is 0 ohms. \u5e38\u89c1\u6e29\u5ea6\u653e\u5927\u5668 \u00b6 \u5e38\u89c1\u6e29\u5ea6\u653e\u5927\u5668\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u4f20\u611f\u5668\u4e4b\u4e00\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u3002 sensor_type: # One of \"PT100 INA826\", \"AD595\", \"AD597\", \"AD8494\", \"AD8495\", # \"AD8496\", or \"AD8497\". sensor_pin: # Analog input pin connected to the sensor. This parameter must be # provided. #adc_voltage: 5.0 # The ADC comparison voltage (in Volts). The default is 5 volts. #voltage_offset: 0 # The ADC voltage offset (in Volts). The default is 0. \u76f4\u63a5\u8fde\u63a5PT1000 \u4f20\u611f\u5668 \u00b6 \u76f4\u63a5\u8fde\u63a5\u5230\u63a7\u5236\u677f\u7684 PT1000 \u4f20\u611f\u5668\u3002\u4ee5\u4e0b\u53c2\u6570\u53ef\u7528\u4e8e\u4f7f\u7528\u8fd9\u4e9b\u4f20\u611f\u5668\u4e4b\u4e00\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u3002 sensor_type: PT1000 sensor_pin: # \u8fde\u63a5\u5230\u4f20\u611f\u5668\u7684\u6a21\u62df\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #pullup_resistor: 4700 # \u8fde\u63a5\u5230\u4f20\u611f\u5668\u7684\u4e0a\u62c9\u7535\u963b\u963b\u503c\uff08\u5355\u4f4d\uff1aohm\uff09\u3002 # \u9ed8\u8ba4\u4e3a 4700 ohms\u3002 MAXxxxxx \u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 MAXxxxxx \u4e32\u884c\u5916\u8bbe\u63a5\u53e3\uff08SPI\uff09\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u4ee5\u4e0b\u53c2\u6570\u5728\u4f7f\u7528\u8be5\u7c7b\u578b\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u53ef\u7528\u3002 sensor_type: # One of \"MAX6675\", \"MAX31855\", \"MAX31856\", or \"MAX31865\". sensor_pin: # The chip select line for the sensor chip. This parameter must be # provided. #spi_speed: 4000000 # The SPI speed (in hz) to use when communicating with the chip. # The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #tc_type: K #tc_use_50Hz_filter: False #tc_averaging_count: 1 # The above parameters control the sensor parameters of MAX31856 # chips. The defaults for each parameter are next to the parameter # name in the above list. #rtd_nominal_r: 100 #rtd_reference_r: 430 #rtd_num_of_wires: 2 #rtd_use_50Hz_filter: False # The above parameters control the sensor parameters of MAX31865 # chips. The defaults for each parameter are next to the parameter # name in the above list. BMP280/BME280/BME680 \u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 BMP280/BME280/BME680 \u4e24\u7ebf\u63a5\u53e3 (I2C) \u73af\u5883\u4f20\u611f\u5668\u3002\u6ce8\u610f\uff0c\u8fd9\u4e9b\u4f20\u611f\u5668\u4e0d\u9002\u7528\u4e8e\u6324\u51fa\u673a\u548c\u52a0\u70ed\u5e8a\u3002\u5b83\u4eec\u53ef\u4ee5\u7528\u4e8e\u76d1\u6d4b\u73af\u5883\u6e29\u5ea6 (C)\u3001\u538b\u529b (hPa)\u3001\u76f8\u5bf9\u6e7f\u5ea6\u4ee5\u53ca\u6c14\u4f53\u6c34\u5e73\uff08\u4ec5\u5728BME680\u4e0a\uff09\u3002\u8bf7\u53c2\u9605 sample-macros.cfg \u4ee5\u83b7\u53d6\u53ef\u7528\u4e8e\u62a5\u544a\u538b\u529b\u548c\u6e7f\u5ea6\u4ee5\u53ca\u6e29\u5ea6\u7684gcode_macro\u3002 sensor_type: BME280 #i2c_address: # Default is 118 (0x76). Some BME280 sensors have an address of 119 # (0x77). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. HTU21D \u4f20\u611f\u5668 \u00b6 HTU21D \u7cfb\u5217\u53cc\u7ebf\u63a5\u53e3\uff08I2C\uff09\u73af\u5883\u4f20\u611f\u5668\u3002\u6ce8\u610f\uff0c\u8fd9\u79cd\u4f20\u611f\u5668\u4e0d\u9002\u7528\u4e8e\u6324\u51fa\u673a\u548c\u52a0\u70ed\u5e8a\uff0c\u5b83\u4eec\u53ef\u4ee5\u7528\u4e8e\u76d1\u6d4b\u73af\u5883\u6e29\u5ea6\uff08C\uff09\u548c\u76f8\u5bf9\u6e7f\u5ea6\u3002\u53c2\u89c1 sample-macros.cfg \u4e2d\u53ef\u4ee5\u62a5\u544a\u6e29\u5ea6\u548c\u6e7f\u5ea6\u7684 gcode_macro\u3002 sensor_type: # Must be \"HTU21D\" , \"SI7013\", \"SI7020\", \"SI7021\" or \"SHT21\" #i2c_address: # Default is 64 (0x40). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #htu21d_hold_master: # If the sensor can hold the I2C buf while reading. If True no other # bus communication can be performed while reading is in progress. # Default is False. #htu21d_resolution: # The resolution of temperature and humidity reading. # Valid values are: # 'TEMP14_HUM12' -> 14bit for Temp and 12bit for humidity # 'TEMP13_HUM10' -> 13bit for Temp and 10bit for humidity # 'TEMP12_HUM08' -> 12bit for Temp and 08bit for humidity # 'TEMP11_HUM11' -> 11bit for Temp and 11bit for humidity # Default is: \"TEMP11_HUM11\" #htu21d_report_time: # Interval in seconds between readings. Default is 30 LM75 \u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 LM75/LM75A\u4e24\u7ebf\uff08I2C\uff09\u8fde\u63a5\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u7684\u6e29\u5ea6\u8303\u56f4\u4e3a-55~125 C\uff0c\u56e0\u6b64\u53ef\u7528\u4e8e\u4f8b\u5982\u8bd5\u9a8c\u5ba4\u6e29\u5ea6\u76d1\u6d4b\u3002\u5b83\u4eec\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u7b80\u5355\u7684\u98ce\u6247/\u52a0\u70ed\u5668\u63a7\u5236\u5668\u4f7f\u7528\u3002 sensor_type: LM75 #i2c_address: # Default is 72 (0x48). Normal range is 72-79 (0x48-0x4F) and the 3 # low bits of the address are configured via pins on the chip # (usually with jumpers or hard wired). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #lm75_report_time: # Interval in seconds between readings. Default is 0.8, with minimum # 0.5. \u5fae\u63a7\u5236\u5668\u7684\u5185\u7f6e\u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 atsam\u3001atsamd\u548cstm32\u5fae\u63a7\u5236\u5668\u5305\u542b\u4e00\u4e2a\u5185\u90e8\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\"temperature_mcu\"\u4f20\u611f\u5668\u6765\u76d1\u6d4b\u8fd9\u4e9b\u6e29\u5ea6\u3002 sensor_type: temperature_mcu #sensor_mcu: mcu # The micro-controller to read from. The default is \"mcu\". #sensor_temperature1: #sensor_adc1: # Specify the above two parameters (a temperature in Celsius and an # ADC value as a float between 0.0 and 1.0) to calibrate the # micro-controller temperature. This may improve the reported # temperature accuracy on some chips. A typical way to obtain this # calibration information is to completely remove power from the # printer for a few hours (to ensure it is at the ambient # temperature), then power it up and use the QUERY_ADC command to # obtain an ADC measurement. Use some other temperature sensor on # the printer to find the corresponding ambient temperature. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification. #sensor_temperature2: #sensor_adc2: # If sensor_temperature1/sensor_adc1 is specified then one may also # specify sensor_temperature2/sensor_adc2 calibration data. Doing so # may provide calibrated \"temperature slope\" information. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification. \u4e3b\u673a\u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 \u8fd0\u884c\u4e3b\u673a\u7a0b\u5e8f\u7684\u7535\u8111\uff08\u4f8b\u5982\u6811\u8393\u6d3e\uff09\u7684\u6e29\u5ea6\u3002 sensor_type: temperature_host #sensor_path: # The path to temperature system file. The default is # \"/sys/class/thermal/thermal_zone0/temp\" which is the temperature # system file on a Raspberry Pi computer. DS18B20 \u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 DS18B20 \u662f\u4e00\u4e2a\u5355\u603b\u7ebf (1-wire (w1)) \u6570\u503c\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u4f20\u611f\u5668\u4e0d\u662f\u88ab\u8bbe\u8ba1\u7528\u4e8e\u70ed\u7aef\u6216\u70ed\u5e8a\uff0c \u800c\u662f\u7528\u4e8e\u76d1\u6d4b\u73af\u5883\u6e29\u5ea6(C)\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u6700\u9ad8\u91cf\u7a0b\u662f125 C\uff0c\u56e0\u6b64\u53ef\u7528\u4e8e\u4f8b\u5982\u7bb1\u4f53\u6e29\u5ea6\u76d1\u6d4b\u3002\u5b83\u4eec\u4e5f\u53ef\u4ee5\u88ab\u5f53\u4f5c\u7b80\u5355\u7684\u98ce\u6247/\u52a0\u70ed\u5668\u63a7\u5236\u5668\u3002DS18B20 \u4f20\u611f\u5668\u4ec5\u5728\u201c\u4e3b\u673a mcu\u201d\u4e0a\u652f\u6301\uff0c\u4f8b\u5982\u6811\u8393\u6d3e\u3002w1-gpio Linux \u5185\u6838\u6a21\u5757\u5fc5\u987b\u88ab\u5b89\u88c5\u3002 sensor_type: DS18B20 serial_no: # Each 1-wire device has a unique serial number used to identify the device, # usually in the format 28-031674b175ff. This parameter must be provided. # Attached 1-wire devices can be listed using the following Linux command: # ls /sys/bus/w1/devices/ #ds18_report_time: # Interval in seconds between readings. Default is 3.0, with a minimum of 1.0 #sensor_mcu: # The micro-controller to read from. Must be the host_mcu \u98ce\u6247 \u00b6 [fan] \u00b6 \u6253\u5370\u51b7\u5374\u98ce\u6247\u3002 [fan] pin: # \u63a7\u5236\u98ce\u6247\u7684\u8f93\u51fa\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #max_power: 1.0 # \u5f15\u811a\u5141\u8bb8\u88ab\u8bbe\u7f6e\u7684\u6700\u5927\u5360\u7a7a\u6bd4\uff08\u57280.0\u548c1.0\u4e4b\u95f4\uff09\u3002 # 1.0 \u5141\u8bb8\u5f15\u811a\u88ab\u957f\u65f6\u95f4\u5b8c\u5168\u542f\u7528\uff0c\u800c0.5\u4f1a\u53ea\u5141\u8bb8\u5f15\u811a\u53ea\u5728\u4e00\u534a\u7684\u65f6\u95f4\u91cc # \u88ab\u542f\u7528\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u53ef\u4ee5\u9650\u5236\u98ce\u6247\u7684\u6700\u5927\u529f\u7387\uff08\u5e73\u5747\u529f\u7387\uff09\u3002\u5982\u679c\u8fd9\u4e2a\u503c # \u5c0f\u4e8e 1.0 \u5219\u98ce\u901f\u8bf7\u6c42\u4f1a\u88ab\u7f29\u653e\u5230 0 \u548c max_power \u4e4b\u95f4\uff08\u4f8b\u5982\uff0c\u5982\u679c # max_power \u662f 0.9\uff0c\u8bf7\u6c42 80% \u98ce\u901f\u901f\u5ea6\u4f1a\u4f7f\u98ce\u6247\u529f\u7387\u8bbe\u4e3a72%\uff09\u3002 # \u9ed8\u8ba4\u4e3a1.0\u3002 #shutdown_speed: 0 # \u5728\u5fae\u63a7\u5236\u5668\u8fdb\u5165\u9519\u8bef\u72b6\u6001\u65f6\u671f\u671b\u7684\uff08\u4e00\u4e2a\u57280.0\u548c1.0\u4e4b\u95f4\u7684\u503c\uff09 # \u98ce\u6247\u901f\u5ea6\u3002 # \u9ed8\u8ba4\u4e3a 0\u3002 #cycle_time: 0.010 # \u6bcf\u4e2a\u98ce\u6247\u7535\u6e90\u7684PWM\u5468\u671f\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \u4f7f\u7528\u57fa\u4e8e\u8f6f\u4ef6\u7684PWM\u65f6\u5efa\u8bae\u5927\u4e8e10\u6beb\u79d2 # \u9ed8\u8ba4\u4e3a0.010\u79d2 #hardware_pwm: False # \u542f\u7528\u786c\u4ef6PWM\u6765\u4ee3\u66ff\u8f6f\u4ef6PWM # \u8bb8\u591a\u98ce\u6247\u4f7f\u7528\u786c\u4ef6PWM\u65f6\u53ef\u80fd\u4f1a\u4e0d\u80fd\u5f88\u597d\u5730\u5de5\u4f5c # \u6240\u4ee5\u8fd9\u4e0d\u662f\u5f88\u63a8\u8350\u542f\u7528\u7684\uff0c\u9664\u975e\u6709\u5207\u6362\u5f97\u975e\u5e38\u5feb\u7684\u7535\u6c14\u9700\u6c42 # \u5f53\u4f7f\u7528\u786c\u4ef6PWM\u65f6\uff0c\u771f\u6b63\u7684PWM\u5468\u671f\u65f6\u95f4\u53d7\u6267\u884c\u7684\u7ea6\u675f\uff0c # \u53ef\u80fd\u663e\u8457\u5730\u4e0e\u8bf7\u6c42\u7684\u5468\u671f\u65f6\u95f4\u4e0d\u540c\u3002 # \u9ed8\u8ba4\u4e3aFalse #kick_start_time: 0.100 # \u5f53\u521d\u6b21\u5f00\u542f\u6216\u63d0\u9ad8\u98ce\u6247\u901f\u5ea6\u523050%\u4ee5\u4e0a\u65f6 # \u4f7f\u98ce\u6247\u5168\u901f\u8fd0\u884c\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \uff08\u5e2e\u52a9\u98ce\u6247\u5f00\u59cb\u65cb\u8f6c\uff09 # \u9ed8\u8ba4\u4e3a0.100\u79d2 #off_below: 0.0 # \u7ed9\u98ce\u6247\u4f9b\u7535\u7684\u6700\u4f4e\u8f93\u5165\u901f\u5ea6\uff08\u57280.0\u52301.0\u4e4b\u95f4\uff09 # \u5f53\u8bf7\u6c42\u4e86\u4e00\u4e2a\u4f4e\u4e8eoff_below\u7684\u901f\u5ea6\uff0c\u98ce\u6247\u4f1a\u5173\u95ed # \u8fd9\u4e2a\u8bbe\u7f6e\u53ef\u80fd\u4f1a\u88ab\u7528\u4e8e\u9632\u6b62\u98ce\u6247\u5931\u901f\u5e76\u4e14 # \u4fdd\u8bc1kick starts\u7684\u6709\u6548 # \u9ed8\u8ba4\u4e3a0.0 # # \u8fd9\u4e2a\u8bbe\u7f6e\u5e94\u8be5\u5728max_power\u88ab\u8c03\u6574\u65f6\u91cd\u65b0\u6821\u51c6 # \u4e3a\u4e86\u6821\u51c6\u8fd9\u4e2a\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u5728off_below\u8bbe\u4e3a0.0\u65f6\u8ba9\u98ce\u6247\u8f6c\u52a8 # \u9010\u6b65\u964d\u4f4e\u98ce\u6247\u7684\u901f\u5ea6\u6765\u51b3\u5b9a\u6700\u5c0f\u7684\u53ef\u9760\u7684\u4e0d\u4f7f\u98ce\u6247\u5931\u901f\u7684\u901f\u5ea6 # \u6839\u636e\u76f8\u5e94\u6216\u7565\u5fae\u66f4\u9ad8\u7684\u503c\u8bbe\u7f6eoff_below\uff08\u6bd4\u598212%->0.12\uff09 #tachometer_pin: # \u76d1\u63a7\u98ce\u6247\u8f6c\u901f\u7684\u8f93\u5165\u5f15\u811a # \u901a\u5e38\u9700\u8981\u4e00\u4e2a\u4e0a\u62c9\u7535\u963b # \u8fd9\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684 #tachometer_ppr: 2 # \u5f53\u6307\u5b9a\u4e86tachometer_pin\uff0c\u8fd9\u662f\u6bcf\u8f6c\u8109\u51b2\u7684\u4e2a\u6570 # \u5bf9\u4e8e\u4e00\u4e2a\u65e0\u5237\u76f4\u6d41\u98ce\u6247\uff08BLDC\uff09\u8fd9\u4e2a\u901a\u5e38\u4e3a\u6781\u5bf9\u6570\u7684\u4e00\u534a # \u9ed8\u8ba4\u4e3a2 #tachometer_poll_interval: 0.0015 # \u5f53\u6307\u5b9a\u4e86tachometer_pin\uff0c\u8fd9\u662ftachometer_pin\u7684\u8f6e\u8be2\u5468\u671f\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d # \u9ed8\u8ba4\u4e3a0.0015\uff0c\u5bf9\u4e8e\u6d4b\u91cf\u4f4e\u4e8e10000\u8f6c\u6bcf\u5206\u548c2\u8109\u51b2\u6bcf\u8f6c\u5df2\u7ecf\u591f\u5feb # \u8fd9\u4e2a\u503c\u5fc5\u987b\u6bd430/(tachometer_ppr * rpm)\u5c0f\u4e14\u7559\u6709\u4e00\u4e9b\u4f59\u91cf # \u5176\u4e2drpm\u662f\u98ce\u6247\u7684\u6700\u9ad8\u8f6c\u901f [heater_fan] \u00b6 \u52a0\u70ed\u5668\u51b7\u5374\u98ce\u6247\uff08\u53ef\u4ee5\u7528\"heater_fan\"\u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5206\u6bb5\uff09\u3002\"\u52a0\u70ed\u5668\u98ce\u6247\"\u662f\u4e00\u79cd\u5f53\u5176\u5173\u8054\u7684\u52a0\u70ed\u5668\u6d3b\u8dc3\u65f6\u4f1a\u542f\u7528\u7684\u98ce\u6247\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cheater_fan shutdown_speed \u7b49\u4e8e max_power\u3002 [heater_fan my_nozzle_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cfan\u201d\u7ae0\u8282\u3002 #heater: extruder # \u8be5\u98ce\u6247\u5173\u8054\u7684\u52a0\u70ed\u5668\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684 # \u52a0\u70ed\u5668\u5217\u8868\uff0c\u5219\u98ce\u6247\u5c06\u4f1a\u5728\u4efb\u4e00\u52a0\u70ed\u5668\u88ab\u542f\u7528\u65f6\u542f\u52a8\u3002 # \u9ed8\u8ba4\u4e3a\"extruder\"\u3002 #heater_temp: 50.0 # \u98ce\u6247\u53ef\u4ee5\u88ab\u7981\u7528\u7684\u6700\u9ad8\u52a0\u70ed\u5668\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\uff09\u3002\u52a0\u70ed\u5668 # \u5fc5\u987b\u88ab\u964d\u4f4e\u5230\u8be5\u6e29\u5ea6\u4ee5\u4e0b\u98ce\u6247\u624d\u4f1a\u88ab\u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3a 50 \u6444\u6c0f\u5ea6\u3002 #fan_speed: 1.0 # \u5f53\u76f8\u5173\u8054\u7684\u52a0\u70ed\u5668\u6d3b\u8dc3\u65f6\u8be5\u98ce\u6247\u7684\u901f\u5ea6\uff08\u57280.0\u548c1.0\u4e4b\u95f4\uff09\u3002 # \u9ed8\u8ba4\u4e3a 1.0 [controller_fan] \u00b6 \u63a7\u5236\u5668\u51b7\u5374\u98ce\u6247\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u5e26\u6709\"controller_fan\"\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\"\u63a7\u5236\u5668\u98ce\u6247\"(Controller fan)\u662f\u4e00\u4e2a\u53ea\u8981\u5173\u8054\u7684\u52a0\u70ed\u5668\u6216\u6b65\u8fdb\u9a71\u52a8\u7a0b\u5e8f\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u5c31\u4f1a\u542f\u52a8\u7684\u98ce\u6247\u3002\u98ce\u6247\u4f1a\u5728\u7a7a\u95f2\u8d85\u65f6(idle_timeout)\u540e\u505c\u6b62\uff0c\u4ee5\u786e\u4fdd\u88ab\u76d1\u89c6\u7ec4\u4ef6\u4e0d\u518d\u6d3b\u8dc3\u540e\u4e0d\u4f1a\u8fc7\u70ed\u3002 [controller_fan my_controller_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u89c1\u201c\u98ce\u6247\u201d(fan)\u5206\u6bb5\u3002 #fan_speed: 1.0 # \u5f53\u4e00\u4e2a\u52a0\u70ed\u5668\u6216\u6b65\u8fdb\u7535\u673a\u6d3b\u8dc3\u65f6\u7684\u98ce\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u4e2a0.0\u52301.0 # \u7684\u6570\u503c\u8868\u793a\uff09\u3002 # \u9ed8\u8ba4\u4e3a 1.0\u3002 #idle_timeout: # \u5728\u6b65\u8fdb\u7535\u673a\u6216\u52a0\u70ed\u5668\u4e0d\u518d\u6d3b\u8dc3\u540e\u98ce\u6247\u6301\u7eed\u8fd0\u884c\u7684\u65f6\u95f4\uff08\u4ee5\u79d2 # \u4e3a\u5355\u4f4d\uff09\u3002 # \u9ed8\u8ba4\u4e3a 30\u79d2\u3002 #idle_speed: # \u5f53\u4e00\u4e2a\u52a0\u70ed\u5668\u6216\u6b65\u8fdb\u7535\u673a\u4e0d\u518d\u6d3b\u8dc3\uff0c\u4f46\u6ca1\u6709\u8fbe\u5230\u7a7a\u95f2\u8d85\u65f6( # idle_timeout)\u65f6\u7684\u98ce\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u4e2a0.0\u52301.0\u7684\u6570\u503c\u8868\u793a\uff09\u3002 # \u9ed8\u8ba4\u4e3a fan_speed\u3002 #heater: #stepper: # \u4e0e\u8fd9\u4e2a\u98ce\u6247\u5173\u8054\u7684\u52a0\u70ed\u5668/\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\u3002\u5982\u679c\u63d0 # \u4f9b\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u52a0\u70ed\u5668/\u6b65\u8fdb\u9a71\u52a8\u540d\u79f0\uff0c\u4efb\u610f\u4e00\u4e2a\u5217\u8868\u4e2d # \u7684\u8bbe\u5907\u542f\u7528\u65f6\u98ce\u6247\u5c06\u4f1a\u542f\u52a8\u3002 # \u9ed8\u8ba4\u52a0\u70ed\u5668\u662f\u201c\u6324\u51fa\u673a\u201d\uff08extruder)\uff0c\u9ed8\u8ba4\u6b65\u8fdb\u9a71\u52a8\u662f\u5168\u90e8\u6b65\u8fdb\u9a71\u52a8\u3002 [temperature_fan] \u00b6 \u6e29\u5ea6\u89e6\u53d1\u7684\u51b7\u5374\u98ce\u6247\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201ctemperature_fan\u201d\u524d\u7f00\u7684\u90e8\u5206\uff09\u3002\u4e00\u4e2a\"temperature fan\"\u662f\u4e00\u4e2a\u53ea\u8981\u5176\u76f8\u5173\u7684\u4f20\u611f\u5668\u9ad8\u4e8e\u8bbe\u5b9a\u6e29\u5ea6\u5c31\u4f1a\u542f\u7528\u7684\u98ce\u6247\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u6e29\u5ea6\u98ce\u6247\u7684\u5173\u95ed\u901f\u5ea6\u7b49\u4e8e\u6700\u5927\u529f\u7387\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 command reference \u3002 [temperature_fan my_temp_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # See the \"fan\" section for a description of the above parameters. #sensor_type: #sensor_pin: #control: #max_delta: #min_temp: #max_temp: # See the \"extruder\" section for a description of the above parameters. #pid_Kp: #pid_Ki: #pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # fan_pwm = max_power - (Kp*e + Ki*integral(e) - Kd*derivative(e)) / 255 # Where \"e\" is \"target_temperature - measured_temperature\" and # \"fan_pwm\" is the requested fan rate with 0.0 being full off and # 1.0 being full on. The pid_Kp, pid_Ki, and pid_Kd parameters must # be provided when the PID control algorithm is enabled. #pid_deriv_time: 2.0 # A time value (in seconds) over which temperature measurements will # be smoothed when using the PID control algorithm. This may reduce # the impact of measurement noise. The default is 2 seconds. #target_temp: 40.0 # A temperature (in Celsius) that will be the target temperature. # The default is 40 degrees. #max_speed: 1.0 # The fan speed (expressed as a value from 0.0 to 1.0) that the fan # will be set to when the sensor temperature exceeds the set value. # The default is 1.0. #min_speed: 0.3 # The minimum fan speed (expressed as a value from 0.0 to 1.0) that # the fan will be set to for PID temperature fans. # The default is 0.3. #gcode_id: # If set, the temperature will be reported in M105 queries using the # given id. The default is to not report the temperature via M105. [fan_generic] \u00b6 \u624b\u52a8\u63a7\u5236\u7684\u98ce\u6247\uff08\u53ef\u4ee5\u7528\"fan_generic\"\u524d\u7f00\u5b9a\u4e49\u4efb\u4f55\u6570\u91cf\u7684\u624b\u52a8\u98ce\u6247\u5206\uff09\u3002\u53ef\u4ee5\u901a\u8fc7 SET_FAN_SPEED gcode\u547d\u4ee4 \u8bbe\u7f6e\u98ce\u6247\u901f\u5ea6\u3002 [fan_generic extruder_partfan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c2\u6570\u4ecb\u7ecd\u8bf7\u89c1\u201cfan\u201d\uff08\u98ce\u6247\uff09\u7ae0\u8282\u3002 LEDs \u00b6 [led] \u00b6 Support for LEDs (and LED strips) controlled via micro-controller PWM pins (one may define any number of sections with an \"led\" prefix). See the command reference for more information. [led my_led] #red_pin: #green_pin: #blue_pin: #white_pin: # \u63a7\u5236\u7ed9\u5b9aLED\u7684\u5f15\u811a\u3002 # \u81f3\u5c11\u63d0\u4f9b\u4e00\u4e2a\u4e0a\u8ff0\u5f15\u811a #cycle_time: 0.010 # \u6bcf\u4e2aPWM\u5468\u671f\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \u4f7f\u7528\u8f6f\u4ef6PWM\u65f6\u5efa\u8bae\u5927\u4e8e10\u6beb\u79d2 # \u9ed8\u8ba4\u503c\u4e3a0.010\u79d2 #hardware_pwm: False # \u542f\u7528\u786c\u4ef6PWM\u4ee3\u66ff\u8f6f\u4ef6PWM # \u5f53\u4f7f\u7528\u786c\u4ef6PWM\u65f6\uff0c\u771f\u6b63\u7684PWM\u5468\u671f\u65f6\u95f4\u53d7\u6267\u884c\u7684\u7ea6\u675f\uff0c # \u53ef\u80fd\u663e\u8457\u5730\u4e0e\u8bf7\u6c42\u7684\u5468\u671f\u65f6\u95f4\u4e0d\u540c\u3002 # \u9ed8\u8ba4\u4e3aFalse #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # \u8bbe\u7f6e\u521d\u59cb\u5316\u65f6LED\u989c\u8272 # \u6bcf\u4e2a\u503c\u5e94\u5f53\u57280.0\u4e0e1.0\u4e4b\u95f4 # \u6bcf\u4e2a\u989c\u8272\u7684\u9ed8\u8ba4\u503c\u90fd\u4e3a0 [neopixel] \u00b6 \u5bf9\u4e8eNeopixel\uff08\u4e5f\u5c31\u662fWS2812\uff09LED\u7684\u652f\u6301\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cneopixel\u201d\u524d\u7f00\u7684\u90e8\u5206\uff09\u89c1 command reference \u83b7\u53d6\u66f4\u591a\u4fe1\u606f \u6ce8\u610f\uff01 linux mcu \u7684\u5b9e\u73b0\u76ee\u524d\u4e0d\u652f\u6301\u76f4\u63a5\u8fde\u63a5\u7684neopixels\u3002\u76ee\u524d\u4f7f\u7528Linux\u5185\u6838\u63a5\u53e3\u7684\u8bbe\u8ba1\u4e0d\u5141\u8bb8\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\uff0c\u56e0\u4e3a\u5185\u6838\u7684GPIO\u63a5\u53e3\u901f\u5ea6\u4e0d\u591f\u5feb\uff0c\u65e0\u6cd5\u63d0\u4f9b\u6240\u9700\u7684\u8109\u51b2\u7387\u3002 [neopixel \u6211\u7684neopixel] pin: # \u8fde\u63a5\u5230neopixel\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #chain_count: # \u83ca\u94fe\u4e2d neopixel \u82af\u7247\u7684\u6570\u91cf\u3002 # \u9ed8\u8ba4\u4e3a1\uff08\u4ee3\u8868\u6709\u4e00\u4e2aneopixel\u82af\u7247\u8fde\u63a5\u5230\u4e86\u8fd9\u4e2a\u5f15\u811a\uff09\u3002 #color_order: GRB # \u8bbe\u7f6eLED\u786c\u4ef6\u7684RGB\u50cf\u7d20\u987a\u5e8f\uff08\u63d0\u4f9b\u4e00\u4e2a\u5305\u542b\u5b57\u6bcdR\uff08\u7ea2\uff09\uff0cG\uff08\u7eff\uff09 # \uff0cB\uff08\u84dd\uff09\u548cW\uff08\u767d\uff09\u7684\u5b57\u7b26\u4e32\uff0cW\u662f\u53ef\u9009\u7684\uff09\u3002\u6216\u8005\u4e5f\u53ef\u4ee5\u7528\u4e00\u4e2a # \u9017\u53f7\u5206\u9694\u5b57\u7b26\u5217\u8868\u6765\u63cf\u8ff0\u50cf\u7d20\u987a\u5e8f\u3002 # \u9ed8\u8ba4\u4e3aGRB\u3002 #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u53c2\u9605\u201cled\u201d\u7ae0\u8282\u3002 [dotstar] \u00b6 Dotstar\uff08\u53c8\u540d APA102\uff09LED \u652f\u6301\uff08\u53ef\u4ee5\u4f7f\u7528\u201cdotstar\u201d\u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u90e8\u5206\uff09\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [dotstar my_dotstar] \u6570\u636e\u5f15\u811a\uff1a # \u63a5\u70b9\u661f\u6570\u636e\u7ebf\u7684\u7ba1\u811a\u3002 \u8fd9\u4e2a\u53c2\u6570 \uff03 \u5fc5\u987b\u63d0\u4f9b\u3002 \u65f6\u949f\u5f15\u811a\uff1a # \u8fde\u63a5\u5230dotstar\u65f6\u949f\u7ebf\u7684\u5f15\u811a\u3002 \u8fd9\u4e2a\u53c2\u6570 \uff03 \u5fc5\u987b\u63d0\u4f9b\u3002 #chain_count\uff1a # \u6709\u5173\u6b64\u53c2\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u201cneopixel\u201d\u90e8\u5206\u3002 #initial_RED\uff1a0.0 #initial_GREEN\uff1a0.0 #initial_BLUE\uff1a0.0 # \u6709\u5173\u8fd9\u4e9b\u53c2\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u201cled\u201d\u90e8\u5206\u3002 [pca9533] \u00b6 PCA9533 LED\u652f\u6301\u3002PCA9533 \u5728mightyboard\u4e0a\u4f7f\u7528\u3002 [pca9533 my_pca9533] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. Use 98 for # the PCA9533/1, 99 for the PCA9533/2. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters. [pca9632] \u00b6 PCA9632 LED\u652f\u6301\u3002PCA9632\u5728FlashForge Dreamer\u4e0a\u4f7f\u7528\u3002 [pca9632 my_pca9632] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. This may be # 96, 97, 98, or 99. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #scl_pin: #sda_pin: # Alternatively, if the pca9632 is not connected to a hardware I2C # bus, then one may specify the \"clock\" (scl_pin) and \"data\" # (sda_pin) pins. The default is to use hardware I2C. #color_order: RGBW # Set the pixel order of the LED (using a string containing the # letters R, G, B, W). The default is RGBW. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters. \u989d\u5916\u7684\u8235\u673a\u3001\u6309\u94ae\u548c\u5176\u4ed6\u5f15\u811a \u00b6 [servo] \u00b6 \u4f3a\u670d\u7535\u673a\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cservo\u201d\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\u53ef\u4ee5\u901a\u8fc7SET_SERVO G\u4ee3\u7801\u547d\u4ee4 \u63a7\u5236\u4f3a\u670d\u7535\u673a\u3002\u4f8b\u5982\uff1aSET_SERVO SERVO=my_servo ANGLE=180 [servo my_servo] pin: # PWM output pin controlling the servo. This parameter must be # provided. #maximum_servo_angle: 180 # The maximum angle (in degrees) that this servo can be set to. The # default is 180 degrees. #minimum_pulse_width: 0.001 # The minimum pulse width time (in seconds). This should correspond # with an angle of 0 degrees. The default is 0.001 seconds. #maximum_pulse_width: 0.002 # The maximum pulse width time (in seconds). This should correspond # with an angle of maximum_servo_angle. The default is 0.002 # seconds. #initial_angle: # Initial angle (in degrees) to set the servo to. The default is to # not send any signal at startup. #initial_pulse_width: # Initial pulse width time (in seconds) to set the servo to. (This # is only valid if initial_angle is not set.) The default is to not # send any signal at startup. [gcode_button] \u00b6 \u5728\u4e00\u4e2a\u6309\u94ae\u88ab\u6309\u4e0b\u6216\u653e\u5f00\uff08\u6216\u5f53\u4e00\u4e2a\u5f15\u811a\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff09\u65f6\u8fd0\u884cG\u4ee3\u7801\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 QUERY_BUTTON button=my_gcode_button \u6765\u67e5\u8be2\u6309\u94ae\u7684\u72b6\u6001\u3002 [gcode_button my_gcode_button] pin: # \u8fde\u63a5\u5230\u6309\u94ae\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #analog_range: # \u4e24\u4e2a\u9017\u53f7\u5206\u9694\u7684\u963b\u503c(\u5355\u4f4d\uff1a\u6b27\u59c6)\uff0c\u6307\u5b9a\u4e86\u6309\u94ae\u7684\u6700\u5c0f\u548c\u6700\u5927\u7535\u963b\u3002 # \u5982\u679c\u63d0\u4f9b\u4e86 analog_range \uff0c\u5fc5\u987b\u4f7f\u7528\u4e00\u4e2a\u6a21\u62df\u529f\u80fd\u7684\u5f15\u811a\u3002\u9ed8\u8ba4 # \u60c5\u51b5\u4e0b\u4e3a\u6309\u94ae\u4f7f\u7528\u6570\u5b57GPIO\u3002 # analog_pullup_resistor: # \u5f53\u5b9a\u4e49 analog_range \u65f6\u7684\u4e0a\u62c9\u7535\u963b(\u6b27\u59c6)\u3002\u9ed8\u8ba4\u4e3a4700\u6b27\u59c6\u3002 #press_gcode: # \u5f53\u6309\u94ae\u88ab\u6309\u4e0b\u65f6\u8981\u6267\u884c\u7684 G-Code \u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u6301G-Code\u6a21\u677f\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #release_gcode: # \u5f53\u6309\u94ae\u88ab\u91ca\u653e\u65f6\u8981\u6267\u884c\u7684G-Code\u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u6301G-Code\u6a21\u677f\u3002 # \u9ed8\u8ba4\u5728\u6309\u94ae\u91ca\u653e\u65f6\u4e0d\u8fd0\u884c\u4efb\u4f55\u547d\u4ee4\u3002 [output_pin] \u00b6 Run-time configurable output pins (one may define any number of sections with an \"output_pin\" prefix). Pins configured here will be setup as output pins and one may modify them at run-time using \"SET_PIN PIN=my_pin VALUE=.1\" type extended g-code commands . [output_pin \u6211\u7684\u5f15\u811a] pin: # \u88ab\u8bbe\u7f6e\u4e3a\u8f93\u51fa\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #pwm: False # Set if the output pin should be capable of pulse-width-modulation. # If this is true, the value fields should be between 0 and 1; if it # is false the value fields should be either 0 or 1. The default is # False. #static_value: # If this is set, then the pin is assigned to this value at startup # and the pin can not be changed during runtime. A static pin uses # slightly less ram in the micro-controller. The default is to use # runtime configuration of pins. #value: # The value to initially set the pin to during MCU configuration. # The default is 0 (for low voltage). #shutdown_value: # The value to set the pin to on an MCU shutdown event. The default # is 0 (for low voltage). #maximum_mcu_duration: # The maximum duration a non-shutdown value may be driven by the MCU # without an acknowledge from the host. # If host can not keep up with an update, the MCU will shutdown # and set all pins to their respective shutdown values. # Default: 0 (disabled) # Usual values are around 5 seconds. #cycle_time: 0.100 # The amount of time (in seconds) per PWM cycle. It is recommended # this be 10 milliseconds or greater when using software based PWM. # The default is 0.100 seconds for pwm pins. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. When # using hardware PWM the actual cycle time is constrained by the # implementation and may be significantly different than the # requested cycle_time. The default is False. #scale: # This parameter can be used to alter how the 'value' and # 'shutdown_value' parameters are interpreted for pwm pins. If # provided, then the 'value' parameter should be between 0.0 and # 'scale'. This may be useful when configuring a PWM pin that # controls a stepper voltage reference. The 'scale' can be set to # the equivalent stepper amperage if the PWM were fully enabled, and # then the 'value' parameter can be specified using the desired # amperage for the stepper. The default is to not scale the 'value' # parameter. [static_digital_output] \u00b6 Statically configured digital output pins (one may define any number of sections with a \"static_digital_output\" prefix). Pins configured here will be setup as a GPIO output during MCU configuration. They can not be changed at run-time. [static_digital_output my_output_pins] pins: # A comma separated list of pins to be set as GPIO output pins. The # pin will be set to a high level unless the pin name is prefaced # with \"!\". This parameter must be provided. [multi_pin] \u00b6 Multiple pin outputs (one may define any number of sections with a \"multi_pin\" prefix). A multi_pin output creates an internal pin alias that can modify multiple output pins each time the alias pin is set. For example, one could define a \"[multi_pin my_fan]\" object containing two pins and then set \"pin=multi_pin:my_fan\" in the \"[fan]\" section - on each fan change both output pins would be updated. These aliases may not be used with stepper motor pins. [multi_pin my_multi_pin] pins: # \u4e0e\u6b64\u522b\u540d\u5173\u8054\u7684\u5f15\u811a\u7684\u9017\u53f7\u5206\u9694\u5217\u8868\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 TMC\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e \u00b6 \u5728UART/SPI\u6a21\u5f0f\u4e0b\u914d\u7f6eTrinamic\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u3002\u5176\u4ed6\u4fe1\u606f\u5728 TMC\u9a71\u52a8\u7a0b\u5e8f\u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u4e2d\u3002 [tmc2130] \u00b6 \u901a\u8fc7 SPI \u603b\u7ebf\u914d\u7f6e TMC2130 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709\u201ctmc2130\u201d\u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2130 stepper_x]\u201d\uff09\u3002 [tmc2130 stepper_x] cs_pin: # The pin corresponding to the TMC2130 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 0 #driver_TBL: 1 #driver_TOFF: 4 #driver_HEND: 7 #driver_HSTRT: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 4 #driver_PWM_AMPL: 128 #driver_SGT: 0 # Set the given register during the configuration of the TMC2130 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC2130 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc2130_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing. [tmc2208] \u00b6 \u901a\u8fc7\u5355\u7ebf UART \u914d\u7f6e TMC2208\uff08\u6216 TMC2224\uff09\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc2208\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2208 stepper_x]\u201d\uff09\u3002 [tmc2208 stepper_x] uart_pin: # The pin connected to the TMC2208 PDN_UART line. This parameter # must be provided. #tx_pin: # If using separate receive and transmit lines to communicate with # the driver then set uart_pin to the receive pin and tx_pin to the # transmit pin. The default is to use uart_pin for both reading and # writing. #select_pins: # A comma separated list of pins to set prior to accessing the # tmc2208 UART. This may be useful for configuring an analog mux for # UART communication. The default is to not configure any pins. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 # Set the given register during the configuration of the TMC2208 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. [tmc2209] \u00b6 \u901a\u8fc7\u5355\u7ebf UART \u914d\u7f6e TMC2209 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc2209\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2209 stepper_x]\u201d\uff09\u3002 [tmc2209 stepper_x] uart_pin: #tx_pin: #select_pins: #interpolate: True run_current: #hold_current: #sense_resistor: 0.110 #stealthchop_threshold: 0 # \u4ee5\u4e0a\u53c2\u6570\u89c1\"tmc2208\"\u90e8\u5206 #uart_address: # TMC2209\u7684UART\u5730\u5740\uff080-3\u7684\u6574\u6570\uff09 # \u8fd9\u4e2a\u53c2\u6570\u901a\u5e38\u7528\u4e8e\u591a\u4e2aTMC2209\u8fde\u63a5\u5230\u540c\u4e2aUART\u63a5\u53e3 # \u9ed8\u8ba4\u662f0 #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 #driver_SGTHRS: 0 # \u914d\u7f6eTMC2209\u65f6\u914d\u7f6e\u7684\u5bc4\u5b58\u5668 # \u8fd9\u4e9b\u53c2\u6570\u901a\u5e38\u7528\u4e8e\u8bbe\u5b9a\u81ea\u5df1\u5b9a\u5236\u7684\u7535\u673a\u53c2\u6570 # \u6bcf\u4e2a\u53c2\u6570\u7684\u9ed8\u8ba4\u503c\u5982\u4e0a #diag_pin: # \u5fae\u63a7\u5236\u5668\u8fde\u63a5\u5230TMC2209\u7684DIAG\u63a5\u53e3\u7684\u5f15\u811a # \u8fd9\u4e2a\u5f15\u811a\u901a\u5e38\u4f7f\u7528\"^\"\u524d\u7f00\u6765\u5f00\u542f\u5185\u90e8\u4e0a\u62c9 # \u8bbe\u7f6e\u8fd9\u4e2a\u4f1a\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\"tmc2209_stepper_x:virtual_endstop\"\u7684\u865a\u62df\u5f15\u811a # \u7528\u505a\u6b65\u8fdb\u7535\u673a\u7684\u7ec8\u6b62\u5f15\u811a\u3002 # \u5728\u542f\u52a8\"sensorless homing\"\uff08\u65e0\u9650\u4f4d\u5f52\u96f6\uff09\u65f6\u8bbe\u7f6e\u8fd9\u4e2a\u3002 # \uff08\u786e\u4fdd\u540c\u65f6\u8bbe\u7f6e\u4e86driver_SGTHRS\u4e3a\u4e00\u4e2a\u5408\u9002\u7684\u7075\u654f\u5ea6\uff09 # \u9ed8\u8ba4\u662f\u5173\u95ed\u4e86\u65e0\u9650\u4f4d\u5f52\u96f6 [tmc2660] \u00b6 \u901a\u8fc7 SPI \u603b\u7ebf\u914d\u7f6e TMC2660 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc 2660\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2660 stepper_x]\u201d\uff09\u3002 [tmc2660 stepper_x] cs_pin: # The pin corresponding to the TMC2660 chip select line. This pin # will be set to low at the start of SPI messages and set to high # after the message transfer completes. This parameter must be # provided. #spi_speed: 4000000 # SPI bus frequency used to communicate with the TMC2660 stepper # driver. The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This only works if microsteps # is set to 16. Interpolation does introduce a small systemic # positional deviation - see TMC_Drivers.md for details. The default # is True. run_current: # The amount of current (in amps RMS) used by the driver during # stepper movement. This parameter must be provided. #sense_resistor: # The resistance (in ohms) of the motor sense resistor. This # parameter must be provided. #idle_current_percent: 100 # The percentage of the run_current the stepper driver will be # lowered to when the idle timeout expires (you need to set up the # timeout using a [idle_timeout] config section). The current will # be raised again once the stepper has to move again. Make sure to # set this to a high enough value such that the steppers do not lose # their position. There is also small delay until the current is # raised again, so take this into account when commanding fast moves # while the stepper is idling. The default is 100 (no reduction). #driver_TBL: 2 #driver_RNDTF: 0 #driver_HDEC: 0 #driver_CHM: 0 #driver_HEND: 3 #driver_HSTRT: 3 #driver_TOFF: 4 #driver_SEIMIN: 0 #driver_SEDN: 0 #driver_SEMAX: 0 #driver_SEUP: 0 #driver_SEMIN: 0 #driver_SFILT: 0 #driver_SGT: 0 #driver_SLPH: 0 #driver_SLPL: 0 #driver_DISS2G: 0 #driver_TS2G: 3 # Set the given parameter during the configuration of the TMC2660 # chip. This may be used to set custom driver parameters. The # defaults for each parameter are next to the parameter name in the # list above. See the TMC2660 datasheet about what each parameter # does and what the restrictions on parameter combinations are. Be # especially aware of the CHOPCONF register, where setting CHM to # either zero or one will lead to layout changes (the first bit of # HDEC) is interpreted as the MSB of HSTRT in this case). [tmc5160] \u00b6 \u901a\u8fc7 SPI \u603b\u7ebf\u914d\u7f6e TMC5160 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc5160\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc5160 stepper_x]\u201d\uff09\u3002 [tmc5160 stepper_x] cs_pin: # The pin corresponding to the TMC5160 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.075 # The resistance (in ohms) of the motor sense resistor. The default # is 0.075 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 6 #driver_TPOWERDOWN: 10 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 2 #driver_HSTRT: 5 #driver_FD3: 0 #driver_TPFD: 4 #driver_CHM: 0 #driver_VHIGHFS: 0 #driver_VHIGHCHM: 0 #driver_DISS2G: 0 #driver_DISS2VS: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_AUTOGRAD: True #driver_PWM_FREQ: 0 #driver_FREEWHEEL: 0 #driver_PWM_GRAD: 0 #driver_PWM_OFS: 30 #driver_PWM_REG: 4 #driver_PWM_LIM: 12 #driver_SGT: 0 #driver_SEMIN: 0 #driver_SEUP: 0 #driver_SEMAX: 0 #driver_SEDN: 0 #driver_SEIMIN: 0 #driver_SFILT: 0 # Set the given register during the configuration of the TMC5160 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC5160 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc5160_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing. \u8fd0\u884c\u65f6\u6b65\u8fdb\u7535\u673a\u7535\u6d41\u914d\u7f6e \u00b6 [ad5206] \u00b6 Statically configured AD5206 digipots connected via SPI bus (one may define any number of sections with an \"ad5206\" prefix). [ad5206 my_digipot] enable_pin: # \u5bf9\u5e94AD5206 \u82af\u7247\u9009\u62e9(chip select)\u7ebf\u8def\u7684\u5f15\u811a\u3002\u8fd9\u4e2a\u5f15\u811a\u5c06 # \u5728 SPI \u6d88\u606f\u5f00\u59cb\u65f6\u62c9\u4f4e\uff0c\u5e76\u5728\u6d88\u606f\u7ed3\u675f\u540e\u62c9\u9ad8\u3002\u5fc5\u987b\u63d0\u4f9b # \u8fd9\u4e2a\u53c2\u6570\u3002 #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u67e5\u770b \"\u5e38\u89c4 SPI \u8bbe\u7f6e\" \u7ae0\u8282 #channel_1: #channel_2: #channel_3: #channel_4: #channel_5: #channel_6: # \u8bbe\u7f6eAD5206\u901a\u9053\u7684\u9759\u6001\u503c\u3002\u901a\u5e38\u57280.0\u548c1.0\u4e4b\u95f4\uff0c1.0\u4e3a\u6700\u9ad8 # \u7535\u963b\uff0c\u800c0.0\u4e3a\u6700\u4f4e\u7535\u963b\u3002\u7136\u800c\uff0c\u8fd9\u4e2a\u8303\u56f4\u4e5f\u53ef\u4ee5\u88ab \u2018scale\u2019 \u53c2 # \u6570\u914d\u7f6e\u3002\uff08\u89c1\u4e0b\u6587\uff09\u5982\u679c\u4e00\u4e2a\u901a\u9053\u6ca1\u6709\u53c2\u6570\u5219\u5b83\u4e0d\u4f1a\u88ab\u914d\u7f6e\u3002 #scale: # \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u4fee\u6539 \u2018channel_x\u2019 \u53c2\u6570\u7684\u5b9a\u4e49\u3002\u5982\u88ab\u63d0\u4f9b\uff0c # \u5219 \u2018channel_x\u2019 \u7684\u8303\u56f4\u4f1a\u5728 0.0 \u548c \u2018scale\u2019 \u4e4b\u95f4\u3002\u5728 AD5206 \u88ab\u4f5c # \u4e3a\u6b65\u8fdb\u7535\u673a\u53c2\u8003\u7535\u538b\u65f6\u53ef\u80fd\u5f88\u6709\u5e2e\u52a9\u3002\u5f53AD5206\u5728\u6700\u9ad8\u7535\u963b\u65f6 # \u2018scale\u2019 \u53ef\u4ee5\u88ab\u8bbe\u7f6e\u4e3a\u6b65\u8fdb\u7535\u673a\u7684\u7535\u6d41\uff0c \u7136\u540e \u2018channel_x\u2019 \u53c2\u6570\u53ef # \u4ee5\u8bbe\u7f6e\u4e3a\u6b65\u8fdb\u7535\u673a\u7684\u671f\u671b\u7535\u6d41\u5b89\u57f9\u3002\u9ed8\u8ba4\u4e3a\u4e0d\u5bf9 'channel_x' \u53c2 # \u6570\u8fdb\u884c\u7f29\u653e\u3002 [mcp4451] \u00b6 Statically configured MCP4451 digipot connected via I2C bus (one may define any number of sections with an \"mcp4451\" prefix). [mcp4451 my_digipot] i2c_address: # \u82af\u7247\u5728I2C\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u89c1\u201c\u5e38\u89c1\u7684I2C\u8bbe\u7f6e\u201d\u7ae0\u8282\u3002 #wiper_0: #wiper_1: #wiper_2: #wiper_3: # The value to statically set the given MCP4451 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # If a wiper is not specified then it is left unconfigured. #scale: # This parameter can be used to alter how the 'wiper_x' parameters # are interpreted. If provided, then the 'wiper_x' parameters should # be between 0.0 and 'scale'. This may be useful when the MCP4451 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4451 were at its highest # resistance, and then the 'wiper_x' parameters can be specified # using the desired amperage value for the stepper. The default is # to not scale the 'wiper_x' parameters. [mcp4728] \u00b6 Statically configured MCP4728 digital-to-analog converter connected via I2C bus (one may define any number of sections with an \"mcp4728\" prefix). [mcp4728 my_dac] #i2c_address: 96 # \u82af\u7247\u5728I2C\u603b\u7ebf\u4e0a\u4f7f\u7528\u7684\u5730\u5740\u3002 # \u9ed8\u8ba4\u4e3a96\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u89c1\u201c\u5e38\u89c1\u7684I2C\u8bbe\u7f6e\u201d #channel_a: #channel_b: #channel_c: #channel_d: # \u8bbe\u7f6e MCP4728 \u901a\u9053\u4e3a\u7ed9\u5b9a\u7684\u9759\u6001\u503c\u3002\u901a\u5e38\u5b83\u88ab\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5728 # 0.0\u548c1.0\u4e4b\u95f4\uff0c1.0\u4ee3\u8868\u6700\u9ad8\u7535\u538b\uff082.048V\uff09\u800c0.0\u4ee3\u8868\u6700\u4f4e\u7535\u538b\u3002 # \u7136\u800c\uff0c\u8be5\u8303\u56f4\u53ef\u4ee5\u88ab'scale'\uff08 \u7f29\u653e\uff09\u53c2\u6570\u6539\u53d8\uff08\u89c1\u4e0b\u6587\uff09\u3002\u6ca1\u6709\u7ed9 # \u5b9a\u503c\u7684\u901a\u9053\u4e0d\u4f1a\u88ab\u914d\u7f6e\u3002 #scale: # \u8be5\u53c2\u6570\u53ef\u4ee5\u6539\u53d8'channel_x'\u53c2\u6570\u88ab\u89e3\u91ca\u7684\u65b9\u5f0f\u3002\u5982\u679c\u8bbe\u5b9a\u4e86\u8be5\u53c2\u6570\uff0c # 'channel_x'\u53c2\u6570\u7684\u8303\u56f4\u4f1a\u57280.0 \u548c 'scale'\u4e4b\u95f4\u3002\u8be5\u529f\u80fd\u5728\u4f7f\u7528MCP4728 \u4ea7\u751f # \u6b65\u8fdb\u7535\u673a\u53c2\u8003\u7535\u538b\u65f6\u53ef\u80fd\u6709\u7528\u3002The 'scale' can # be set to the equivalent stepper amperage if the MCP4728 were at # its highest voltage (2.048V), and then the 'channel_x' parameters # can be specified using the desired amperage value for the # stepper.\u9ed8\u8ba4\u4e0d\u5bf9channel_x'\u53c2\u6570\u8fdb\u884c\u7f29\u653e\u3002 [mcp4018] \u00b6 Statically configured MCP4018 digipot connected via two gpio \"bit banging\" pins (one may define any number of sections with an \"mcp4018\" prefix). [mcp4018 my_digipot] scl_pin: # SCL \u201c\u65f6\u949f\u201d\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 sda_pin: # SDA \u201c\u6570\u636e\u201d\u5f15\u811a # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570 wiper: # The value to statically set the given MCP4018 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # This parameter must be provided. #scale: # This parameter can be used to alter how the 'wiper' parameter is # interpreted. If provided, then the 'wiper' parameter should be # between 0.0 and 'scale'. This may be useful when the MCP4018 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4018 is at its highest # resistance, and then the 'wiper' parameter can be specified using # the desired amperage value for the stepper. The default is to not # scale the 'wiper' parameter. \u663e\u793a\u5c4f\u652f\u6301 \u00b6 [display] \u00b6 \u652f\u6301\u4e00\u4e2a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684\u5c4f\u5e55 [display] lcd_type: # \u4f7f\u7528\u7684 LCD \u82af\u7247\u7c7b\u578b\u3002\u8fd9\u53ef\u4ee5\u662f\u201chd44780\u201d\u3001\u201chd44780_spi\u201d\u3001 # \u201cst7920\u201d\u3001\u201cemulated_st7920\u201d\u3001\u201cuc1701\u201d\u3001\u201cssd1306\u201d\u3001\u6216\u201csh1106\u201d\u3002 # \u6709\u5173\u4e0d\u540c\u7684LCD\u82af\u7247\u7c7b\u578b\u548c\u5b83\u4eec\u7279\u6709\u7684\u53c2\u6570\uff0c\u8bf7\u67e5\u770b\u4e0b\u9762\u7684\u663e\u793a\u5c4f\u5206\u6bb5\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #display_group: # \u663e\u793a\u5728\u8fd9\u4e2a\u663e\u793a\u5c4f\u4e0a\u7684 display_data \u7ec4\u3002\u5b83\u51b3\u5b9a\u4e86\u8fd9\u4e2a\u5c4f\u5e55\u663e\u793a # \u7684\u5185\u5bb9\uff08\u8be6\u89c1\u201cdisplay_data\u201d\u5206\u6bb5\uff09\u3002 # hd44780 \u9ed8\u8ba4\u4f7f\u7528 _default_20x4\uff0c\u5176\u4ed6\u663e\u793a\u5c4f\u5219\u9ed8\u8ba4\u4f7f\u7528 _default_16x4\u3002 #menu_timeout: # \u83dc\u5355\u8d85\u65f6\u65f6\u95f4\u3002\u5728\u4e0d\u6d3b\u8dc3\u7ed9\u5b9a\u65f6\u95f4\u540e\u5c06\u4f1a\u9000\u51fa\u83dc\u5355\u6216\u5728 autorun \u542f\u7528\u65f6 # \u56de\u5230\u6839\u83dc\u5355\u3002 # \u9ed8\u8ba4\u4e3a 0 \u79d2\uff08\u7981\u7528\uff09\u3002 #menu_root: # \u5728\u4e3b\u5c4f\u5e55\u6309\u4e0b\u7f16\u7801\u5668\u65f6\u663e\u793a\u7684\u4e3b\u83dc\u5355\u6bb5\u540d\u79f0\u3002 # \u9ed8\u8ba4\u4e3a __main\uff0c\u8fd9\u4f1a\u663e\u793a\u5728 klippy/extras/display/menu.cfg\u4e2d\u5b9a\u4e49\u7684\u4e3b\u83dc\u5355\u3002 #menu_reverse_navigation: # \u542f\u7528\u65f6\u53cd\u8f6c\u4e0a\u6eda\u52a8\u548c\u4e0b\u6eda\u52a8\u3002 # \u9ed8\u8ba4\u4e3aFalse\u3002\u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\u3002 #encoder_pins: # \u8fde\u63a5\u5230\u7f16\u7801\u5668\u7684\u5f15\u811a\u3002\u4f7f\u7528\u7f16\u7801\u5668\u65f6\u5fc5\u987b\u63d0\u4f9b\u4e24\u4e2a\u5f15\u811a\u3002 # \u4f7f\u7528\u83dc\u5355\u65f6\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #encoder_steps_per_detent: # \u7f16\u7801\u5668\u5728\u6bcf\u4e00\u4e2a\u51f9\u9677\u5904\uff08\"click\"\uff09\u53d1\u51fa\u591a\u5c11\u6b65\u3002\u5982\u679c\u7f16\u7801\u5668\u9700\u8981\u8f6c\u8fc7\u4e24\u4e2a\u51f9 # \u9677\u624d\u80fd\u5728\u6761\u76ee\u4e4b\u95f4\u79fb\u52a8\uff0c\u6216\u8005\u8f6c\u8fc7\u4e00\u4e2a\u51f9\u75d5\u4f1a\u5728\u4e24\u4e2a\u8bcd\u6761\u4e4b\u95f4\u79fb\u52a8/\u8df3\u8fc7 # \u4e00\u4e2a\u8bcd\u6761\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u6539\u53d8\u8fd9\u4e2a\u503c\u3002 # \u5141\u8bb8\u7684\u503c\u662f2 \uff08\u534a\u6b65\uff09\u6216 4\uff08\u5168\u6b65\uff09\u3002 # \u9ed8\u8ba4\u4e3a 4\u3002 #click_pin: # \u8fde\u63a5\u5230 \"enter\" \u6309\u94ae\u6216\u7f16\u7801\u5668\u6309\u538b\u7684\u5f15\u811a\u3002 # \u4f7f\u7528\u83dc\u5355\u65f6\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_click_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #back_pin: # \u8fde\u63a5\u5230\u201cback\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002\u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u83dc\u5355\u4e0d\u9700\u8981\u8fd9\u4e2a\u6309\u94ae\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_back_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #up_pin: # \u8fde\u63a5\u5230\u201cup\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002\u5728\u4e0d\u4f7f\u7528\u7f16\u7801\u5668\u65f6\u4f7f\u7528\u83dc\u5355\u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_up_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #down_pin: # \u8fde\u63a5\u5230\u201cdown\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002 \u5728\u4e0d\u4f7f\u7528\u7f16\u7801\u5668\u65f6\u4f7f\u7528\u83dc\u5355\u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_down_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #kill_pin: # \u8fde\u63a5\u5230\u201ckill\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002 \u8fd9\u4e2a\u6309\u94ae\u5c06\u4f1a\u89e6\u53d1\u7d27\u6025\u505c\u6b62\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_kill_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #analog_pullup_resistor: 4700 # \u8fde\u63a5\u5230\u6a21\u62df\u6309\u94ae\u7684\u62c9\u9ad8\u7535\u963b\u963b\u503c(ohms) # \u9ed8\u8ba4\u4e3a 4700 ohms\u3002 #analog_range_click_pin: # 'enter'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_back_pin: # 'back'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_up_pin: # 'up'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_down_pin: # 'down'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_kill_pin: # 'kill'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 hd44780\u663e\u793a\u5668 \u00b6 \u6709\u5173\u914d\u7f6e hd44780 \u663e\u793a\u5668\uff08\u5728\"RepRapDiscount 2004 Smart Controller\"\u7c7b\u578b\u663e\u793a\u5c4f\u4e2d\u53ef\u4ee5\u627e\u5230\uff09\u7684\u4fe1\u606f\u3002 [display] lcd_type: hd44780 # \u5bf9\u4e8ehd44780\u663e\u793a\u5c4f\uff0c\u586b\u5199 \"hd44780\"\u3002 rs_pin: e_pin: d4_pin: d5_pin: d6_pin: d7_pin: # \u8fde\u63a5\u5230hd44780 \u7c7bLCD\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e9b\u53c2\u6570 #hd44780_protocol_init: True # \u5728\u4e00\u4e2a hd44780 \u663e\u793a\u5668\u4e0a\u6267\u884c 8-bit/4-bit \u534f\u8bae\u521d\u59cb\u5316\u3002\u5bf9\u4e8e\u6240\u6709 # \u6b63\u7248\u7684 hd44780 \u8bbe\u5907\uff0c\u8fd9\u662f\u5fc5\u987b\u7684\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e9b\u514b\u9686\u7684\u8bbe\u5907\u4e0a # \u53ef\u80fd\u9700\u8981\u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3aTrue\uff08\u542f\u7528\uff09\u3002 #line_length: # \u8bbe\u7f6e hd44780 \u7c7bLCD \u6bcf\u884c\u663e\u793a\u7684\u5b57\u7b26\u6570\u3002\u53ef\u80fd\u7684\u6570\u503c\u670920\uff08\u9ed8\u8ba4\uff09 # \u548c16\u3002\u884c\u6570\u88ab\u9501\u5b9a\u4e3a4\u884c\u3002 ... hd44780_spi\u663e\u793a\u5668 \u00b6 \u6709\u5173\u914d\u7f6e hd44780_spi \u663e\u793a\u5c4f\u7684\u4fe1\u606f - \u901a\u8fc7\u786c\u4ef6\"\u79fb\u4f4d\u5bc4\u5b58\u5668\"\uff08\u7528\u4e8e\u57fa\u4e8e mightyboard \u7684\u6253\u5370\u673a\uff09\u63a7\u5236\u768420x04\u663e\u793a\u5668\u3002 [display] lcd_type: hd44780_spi # \u5bf9\u4e8ehd44780_spi \u663e\u793a\u5668\uff0c\u8bbe\u7f6e\u4e3a\u201chd44780_spi\u201d\u3002 latch_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u63a7\u5236\u663e\u793a\u5668\u7684\u79fb\u4f4d\u5bc4\u5b58\u5668\u7684\u5f15\u811a\u3002\u7531\u4e8e\u4f4d\u79fb\u5bc4\u5b58\u5668\u6ca1\u6709 MISO \u5f15 # \u811a\uff0c\u4f46\u662f\u8f6f\u4ef6 SPI \u5b9e\u73b0\u9700\u8981\u8fd9\u4e2a\u5f15\u811a\u88ab\u914d\u7f6e\uff0c # spi_software_miso_pin \u9700\u8981\u88ab\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u6253\u5370\u673a\u4e3b\u677f\u4e0a\u672a\u88ab\u4f7f # \u7528\u7684\u5f15\u811a\u3002 #hd44780_protocol_init: True # \u5728 hd44780 \u663e\u793a\u5668\u4e0a\u6267\u884c 8-bit/4-bit \u534f\u8bae\u521d\u59cb\u5316\u3002\u6b63\u7248\u7684 # hd44780 \u8bbe\u5907\u5fc5\u987b\u6267\u884c\u6b64\u64cd\u4f5c\uff0c\u4f46\u662f\u67d0\u4e9b\u514b\u9686\u8bbe\u5907\u4e0a\u53ef\u80fd\u9700\u8981 # \u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3aTrue\uff08\u542f\u7528\uff09\u3002 #line_length: # \u8bbe\u7f6e\u4e00\u4e2a hd44780 \u7c7b LCD \u6bcf\u884c\u663e\u793a\u7684\u5b57\u7b26\u6570\u91cf\u3002\u53ef\u80fd\u7684\u503c\u4e3a20 # \uff08\u9ed8\u8ba4\uff09\u548c 16\u3002\u884c\u6570\u56fa\u5b9a\u4e3a4\u3002 ... st7920\u5c4f\u5e55 \u00b6 \u6709\u5173\u914d\u7f6e st7920 \u7c7b\u663e\u793a\u5c4f\u7684\u4fe1\u606f\uff08\u53ef\u7528\u4e8e \"RepRapDiscount 12864 Full Graphic Smart Controller\" \u7c7b\u578b\u7684\u663e\u793a\u5668\uff09\u3002 [display] lcd_type: st7920 # \u4e3ast7920\u663e\u793a\u5668\u8bbe\u7f6e\u4e3a \"st7920\"\u3002 cs_pin: sclk_pin: sid_pin: # \u8fde\u63a5\u5230 st7920 \u7c7bLCD\u7684\u5f15\u811a\u3002 # \u8fd9\u4e9b\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 ... emulated_st7920\uff08\u6a21\u62dfST7920\uff09\u663e\u793a\u5c4f \u00b6 \u6709\u5173\u914d\u7f6e\u6a21\u62df st7920 \u663e\u793a\u5c4f\u7684\u4fe1\u606f \u2014\u5b83\u53ef\u4ee5\u5728\u4e00\u4e9b\"2.4 \u5bf8\u89e6\u6478\u5c4f\"\u548c\u5176\u4ed6\u7c7b\u4f3c\u8bbe\u5907\u4e2d\u627e\u5230\u3002 [display] lcd_type: emulated_st7920 # \u5bf9\u4e8e emulated_st7920 \u663e\u793a\u5c4f\uff0c\u8bbe\u7f6e\u4e3a\"emulated_st7920\"\u3002 en_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u8fde\u63a5\u5230 emulated_st7920 \u7c7bLCD\u7684\u5f15\u811a\u3002 en_pin \u5bf9\u5e94 # st7920 \u7c7bLCD\u7684 cs_pin\u3002spi_software_sclk_pin \u5bf9\u5e94 sclk_pin\uff0c # \u8fd8\u6709 spi_software_mosi_pin \u5bf9\u5e94 sid_pin\u3002\u7531\u4e8e\u8f6f\u4ef6SPI\u5b9e\u73b0 # \u7684\u65b9\u5f0f\uff0c\u867d\u7136 ST7920 \u4e0d\u4f7f\u7528 MISO \u5f15\u811a\uff0c \u4f9d\u65e7\u9700\u8981\u5c06 # spi_software_miso_pin\u8bbe\u4e3a\u4e00\u4e2a\u6253\u5370\u673a\u63a7\u5236\u677f\u4e0a\u4e00\u4e2a\u6ca1\u6709\u88ab # \u4f7f\u7528\u7684\u5f15\u811a\u3002 ... uc1701 display \u00b6 \u6709\u5173\u914d\u7f6e uc1701 \u663e\u793a\u5c4f\u7684\u4fe1\u606f\uff08\u7528\u4e8e\u201cMKS Mini 12864\u201d\u578b\u663e\u793a\u5c4f\uff09\u3002 [display] lcd_type: uc1701 # uc1701 \u663e\u793a\u5c4f\u5e94\u8bbe\u4e3a\"uc1701\"\u3002 cs_pin: a0_pin: # \u8fde\u63a5\u5230 uc1701 \u7c7bLCD\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e9b\u53c2\u6570\u3002 #rst_pin: # \u8fde\u63a5\u5230 LCD \"rst\" \u7684\u5f15\u811a\u3002 \u5982\u679c\u6ca1\u6709\u5b9a\u4e49\uff0c\u5219\u786c\u4ef6\u5fc5\u987b\u5728LCD # \u76f8\u5e94\u7684\u7ebf\u8def\u4e0a\u5e26\u4e00\u4e2aLCD\u5f15\u811a\u3002 #contrast: # \u663e\u793a\u5c4f\u7684\u5bf9\u6bd4\u5ea6\u3002\u5fc5\u987b\u57280\u548c63\u4e4b\u95f4\u3002 # \u9ed8\u8ba4\u4e3a40\u3002 ... ssd1306\u548csh1106\u5c4f\u5e55 \u00b6 ssd1306 \u548c sh1106 \u663e\u793a\u5c4f\u7684\u914d\u7f6e\u4fe1\u606f\u3002 [display] lcd_type: # \u5bf9\u4e8e\u7ed9\u5b9a\u7684\u663e\u793a\u5c4f\u7c7b\u578b\uff0c\u8bbe\u7f6e\u4e3a \u201cssd1306\" \u6216 \"sh1106\"\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u8fde\u63a5\u5230I2C\u603b\u7ebf\u7684\u663e\u793a\u5c4f\u7684\u53ef\u9009\u53c2\u6570\uff0c \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u901a # \u7528 I2C \u8bbe\u7f6e\u7ae0\u8282\u3002 #cs_pin: #dc_pin: #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4f7f\u75284\u7ebf SPI \u6a21\u5f0f\u65f6\u8fde\u63a5\u5230 lcd \u7684\u5f15\u811a\u3002\u4ee5 \"spi_\" \u5f00\u5934\u7684 # \u53c2\u6570\u8be6\u89c1 \u201c\u901a\u7528 SPI \u8bbe\u7f6e\u201d \u7ae0\u8282\u3002 # \u663e\u793a\u5c4f\u9ed8\u8ba4\u4f7f\u7528 I2C \u6a21\u5f0f #reset_pin: # \u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u663e\u793a\u5c4f\u4e0a\u7684\u91cd\u7f6e\u5f15\u811a\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u786c\u4ef6 # \u5fc5\u987b\u5728\u76f8\u5e94\u7684 lcd \u7ebf\u8def\u4e0a\u6709\u4e00\u4e2a\u62c9\u9ad8\u7535\u963b\u3002 #contrast: # \u53ef\u8bbe\u7f6e\u7684\u5bf9\u6bd4\u5ea6\u3002 # \u6570\u503c\u5fc5\u987b\u5728 0 \u548c 256 \u4e4b\u95f4\uff0c\u9ed8\u8ba4\u4e3a 239\u3002 #vcomh: 0 # \u8bbe\u7f6e\u663e\u793a\u5c4f\u7684 Vcomh \u503c\u3002\u8fd9\u4e2a\u503c\u4e0e\u4e00\u4e9bOLED\u663e\u793a\u5c4f\u7684 # \u6a21\u7cca\u6548\u679c\u6709\u5173\u3002\u8fd9\u4e2a\u6570\u503c\u53ef\u4ee5\u5728 0 \u548c 63 \u4e4b\u95f4\u3002 # \u9ed8\u8ba4\u4e3a0\u3002 #invert: False # TRUE \u53ef\u4ee5\u5728\u4e00\u4e9bOLED\u663e\u793a\u5c4f\u4e0a\u53cd\u8f6c\u50cf\u7d20 # \u9ed8\u8ba4\u4e3a False\u3002 #x_offset: 0 # \u8bbe\u7f6e\u5728 SH1106 \u663e\u793a\u5c4f\u4e0a\u7684\u6c34\u5e73\u504f\u79fb\u3002 # \u9ed8\u8ba4\u4e3a0\u3002 ... [display_data] \u00b6 Support for displaying custom data on an lcd screen. One may create any number of display groups and any number of data items under those groups. The display will show all the data items for a given group if the display_group option in the [display] section is set to the given group name. \u4e00\u5957 \u9ed8\u8ba4\u663e\u793a\u7ec4 \u5c06\u88ab\u81ea\u52a8\u521b\u5efa\u3002\u901a\u8fc7\u8986\u76d6\u6253\u5370\u673a\u7684 printer.cfg \u4e3b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u503c\u53ef\u4ee5\u66ff\u6362\u6216\u6269\u5c55\u8fd9\u4e9b display_data \u9879\u3002 [display_data my_group_name my_data_name] position: # \u7528\u4e8e\u663e\u793a\u4fe1\u606f\u7684\u5c4f\u5e55\u4f4d\u7f6e\uff0c\u7531\u9017\u53f7\u5206\u9694\u884c\u4e0e\u5217\u8868\u793a\u3002 # \u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 text: # \u5728\u6307\u5b9a\u4f4d\u7f6e\u663e\u793a\u7684\u6587\u672c\u3002\u672c\u5b57\u6bb5\u5fc5\u987b\u7528\u547d\u4ee4\u6837\u677f\u8fdb\u884c\u8bc4\u4f30\u3002 # \uff08\u67e5\u770b docs/Command_Templates.md\uff09\u3002 # \u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 [display_template] \u00b6 \u663e\u793a\u6570\u636e\u6587\u672c\"macros\"\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709display_template\u524d\u7f00\u7684\u90e8\u5206\uff09\u3002\u6709\u5173\u6a21\u677f\u8bc4\u4f30\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u547d\u4ee4\u6a21\u677f \u6587\u4ef6\u3002 This feature allows one to reduce repetitive definitions in display_data sections. One may use the builtin render() function in display_data sections to evaluate a template. For example, if one were to define [display_template my_template] then one could use { render('my_template') } in a display_data section. This feature can also be used for continuous LED updates using the SET_LED_TEMPLATE command. [\u663e\u793a\u6a21\u677f\u6211\u7684\u6a21\u677f\u540d\u79f0] #param_<\u540d\u79f0>\uff1a # \u53ef\u4ee5\u6307\u5b9a\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cparam_\u201d\u524d\u7f00\u7684\u9009\u9879\u3002 \u8fd9 # \u7ed9\u5b9a\u7684\u540d\u79f0\u5c06\u88ab\u8d4b\u4e88\u7ed9\u5b9a\u7684\u503c\uff08\u89e3\u6790\u4e3a Python # \u5b57\u9762\u91cf\uff09\u5e76\u4e14\u5728\u5b8f\u6269\u5c55\u671f\u95f4\u53ef\u7528\u3002 \u5982\u679c # \u53c2\u6570\u5728\u8c03\u7528 render() \u65f6\u4f20\u9012\uff0c\u7136\u540e\u8be5\u503c\u5c06 # \u5728\u5b8f\u6269\u5c55\u65f6\u4f7f\u7528\u3002 \u4f8b\u5982\uff0c\u4e00\u4e2a\u914d\u7f6e # \"param_speed = 75\" \u53ef\u80fd\u6709\u4e00\u4e2a\u8c03\u7528\u8005 # \"render('my_template_name', param_speed=80)\". \u53c2\u6570\u540d\u79f0\u53ef\u4ee5 # \u4e0d\u4f7f\u7528\u5927\u5199\u5b57\u7b26\u3002 \u6587\u672c\uff1a # \u6e32\u67d3\u6b64\u6a21\u677f\u65f6\u8981\u8fd4\u56de\u7684\u6587\u672c\u3002 \u8fd9\u4e2a\u9886\u57df # \u4f7f\u7528\u547d\u4ee4\u6a21\u677f\u8fdb\u884c\u8bc4\u4f30\uff08\u53c2\u89c1 # docs/Command_Templates.md\uff09\u3002 \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 [display_glyph] \u00b6 \u5728\u652f\u6301\u81ea\u5b9a\u4e49\u5b57\u5f62\u7684\u663e\u793a\u5668\u4e0a\u663e\u793a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5b57\u5f62\u3002\u7ed9\u5b9a\u7684\u540d\u79f0\u5c06\u88ab\u5206\u914d\u7ed9\u7ed9\u5b9a\u7684\u663e\u793a\u6570\u636e\uff0c\u7136\u540e\u53ef\u4ee5\u5728\u663e\u793a\u6a21\u677f\u4e2d\u901a\u8fc7\u7528\u201c\u6ce2\u6d6a\u5f62\uff08\uff5e\uff09\u201d\u7b26\u53f7\u5305\u56f4\u7684\u540d\u79f0\u6765\u5f15\u7528\uff0c\u5373 ~my_display_glyph~ \u3002 \u66f4\u591a\u793a\u4f8b sample-glyphs.cfg [display_glyph my_display_glyph] #data: # \u88ab\u5b58\u50a8\u4e3a16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\uff081\u4f4d\u4ee3\u88681\u4e2a\u50cf\u7d20\uff09\u7684\u663e\u793a\u6570\u636e\u3002\u201c.\u201d\u662f\u4e00\u4e2a # \u7a7a\u767d\u7684\u50cf\u7d20\uff0c\u800c\u2018*\u2019\u662f\u4e00\u4e2a\u5f00\u542f\u7684\u50cf\u7d20\uff08\u4f8b\u5982\uff0c\"****************\" # \u53ef\u4ee5\u7528\u6765\u663e\u793a\u4e00\u6761\u6a2a\u5411\u7684\u5b9e\u7ebf\u3002\u9664\u6b64\u4ee5\u5916\uff0c\u4e5f\u53ef\u4ee5\u7528\u201c0\u201d\u4f5c\u4e3a\u7a7a # \u767d\u7684\u50cf\u7d20\uff0c\u800c\u20181\u2019\u4f5c\u4e3a\u5f00\u542f\u7684\u50cf\u7d20\u3002\u9700\u8981\u5c06\u6bcf\u4e2a\u663e\u793a\u7684\u884c\u653e\u5230\u914d\u7f6e\u6587\u4ef6 # \u4e2d\u72ec\u7acb\u7684\u4e00\u884c\u3002\u6bcf\u4e2a\u5b57\u5f62\u90fd\u5fc5\u987b\u5305\u542b\u4e14\u4ec5\u5305\u542b 16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\u3002 # \u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\u3002 #hd44780_data: # \u7528\u4e8e 20x4 hd44780 \u663e\u793a\u5c4f\u7684\u5b57\u5f62\u3002\u5b57\u5f62\u5fc5\u987b\u5305\u542b\u4e14\u4ec5\u5305\u542b 8 \u884c\uff0c # \u6bcf\u884c 5 \u4f4d\u3002 # \u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\u3002 #hd44780_slot: # \u7528\u4e8e\u5b58\u50a8\u5b57\u5f62\u7684 hd44780 \u786c\u4ef6\u7d22\u5f15\uff080..7\uff09\u3002\u5982\u679c\u591a\u4e2a\u72ec\u7279\u7684\u56fe\u7247\u4f7f\u7528 # \u4e86\u76f8\u540c\u7684\u7d22\u5f15\u4f4d\u7f6e\uff0c\u9700\u8981\u4fdd\u8bc1\u5728\u4efb\u4f55\u5c4f\u5e55\u4e0a\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u56fe\u7247\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 hd44780_data \uff0c\u5219\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 [display my_extra_display] \u00b6 \u5982\u679c\u5982\u4e0a\u6240\u793a\u5728 printer.cfg \u4e2d\u5b9a\u4e49\u4e86\u4e3b\u8981\u7684 [display] \u5206\u6bb5\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u8f85\u52a9\u663e\u793a\u5668\u3002\u6ce8\u610f\uff0c\u8f85\u52a9\u663e\u793a\u5668\u5f53\u524d\u4e0d\u652f\u6301\u83dc\u5355\u529f\u80fd\uff0c\u56e0\u6b64\u5b83\u4eec\u4e0d\u652f\u6301\u201cmenu\u201d\u9009\u9879\u6216\u6309\u94ae\u914d\u7f6e\u3002 [display my_extra_display] \u3002 # \u53ef\u7528\u53c2\u6570\u53c2\u89c1 \"\u663e\u793a \"\u5206\u6bb5\u3002 [menu] \u00b6 \u53ef\u81ea\u5b9a\u4e49\u6db2\u6676\u663e\u793a\u5c4f\u83dc\u5355\u3002 \u4e00\u5957 \u9ed8\u8ba4\u83dc\u5355 \u5c06\u88ab\u81ea\u52a8\u521b\u5efa\u3002\u901a\u8fc7\u8986\u76d6 printer.cfg \u4e3b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u503c\u53ef\u4ee5\u66ff\u6362\u6216\u6269\u5c55\u8be5\u83dc\u5355\u3002 See the command template document for information on menu attributes available during template rendering. # \u6240\u6709\u7684\u83dc\u5355\u914d\u7f6e\u5206\u6bb5\u90fd\u6709\u7684\u901a\u7528\u53c2\u6570\u3002 #[menu __some_list __some_name] #type: disabled # \u6c38\u4e45\u7981\u7528\u8fd9\u4e2a\u83dc\u5355\u5143\u7d20\uff0c\u552f\u4e00\u9700\u8981\u7684\u5c5e\u6027\u662f \"type\"\u3002 # \u5141\u8bb8\u4f60\u7b80\u5355\u554a\u7684\u7981\u7528/\u9690\u85cf\u73b0\u6709\u7684\u83dc\u5355\u9879\u76ee\u3002 #[menu some_name] #type: # command\uff08\u547d\u4ee4\uff09, input\uff08\u8f93\u5165\uff09, list\uff08\u5217\u8868\uff09, text\uff08\u6587\u5b57\uff09\u4e4b\u4e00\uff1a # command - \u53ef\u4ee5\u89e6\u53d1\u5404\u79cd\u811a\u672c\u7684\u57fa\u672c\u83dc\u5355\u5143\u7d20\u3002 # input - \u7c7b\u4f3c \u201ccommand\u201d \u4f46\u662f\u53ef\u4ee5\u4fee\u6539\u6570\u503c\u3002 # \u70b9\u51fb\u6765\u8fdb\u5165/\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002 # list - \u8fd9\u5141\u8bb8\u83dc\u5355\u9879\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u53ef\u6eda\u52a8\u7684\u5217\u8868\u3002\u901a\u8fc7\u521b\u5efa\u7531 \"some_list\" # \u5f00\u5934\u7684\u83dc\u5355\u914d\u7f6e - \u4f8b\u5982\uff1a[menu some_list some_item_in_the_list] # vsdlist - \u548c\u201clist\u201d\u4e00\u6837\uff0c\u4f46\u662f\u4f1a\u81ea\u52a8\u4ece\u865a\u62dfSD\u5361\u4e2d\u6dfb\u52a0\u6587\u4ef6\u3002 # \uff08\u5c06\u5728\u672a\u6765\u88ab\u79fb\u9664\uff09 #name: # \u83dc\u5355\u9879\u7684\u540d\u79f0 - \u88ab\u89c6\u4e3a\u6a21\u677f #enable: # \u89c6\u4e3a True \u6216 False \u7684\u6a21\u677f\u3002 #index: # \u9879\u76ee\u63d2\u5165\u5230\u5217\u8868\u7684\u4f4d\u7f6e\u3002 # \u9ed8\u8ba4\u6dfb\u52a0\u5230\u7ed3\u5c3e\u3002 #[menu some_list] #type: list #name: #enable: # \u89c1\u4e0a\u6587\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #[menu some_list some_command] #type: command #name: #enable: # \u89c1\u4e0a\u6587\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #gcode: # \u70b9\u51fb\u6309\u94ae\u6216\u957f\u6309\u65f6\u8fd0\u884c\u7684G\u4ee3\u7801\u811a\u672c\u3002\u88ab\u89c6\u4e3a\u6a21\u677f\u3002 #[menu some_list some_input] #type: input #name: #enable: # \u89c1\u4e0a\u6587\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #input: # \u7528\u4e8e\u4fee\u6539\u7684\u521d\u59cb\u6570\u503c - \u88ab\u89c6\u4e3a\u6a21\u677f\u3002 # \u7ed3\u679c\u5fc5\u987b\u4e3a\u6d6e\u70b9\u6570\u3002 #input_min: # \u8303\u56f4\u7684\u6700\u5c0f\u503c - \u88ab\u89c6\u4e3a\u6a21\u677f\u3002\u9ed8\u8ba4-99999\u3002 #input_max: # \u8303\u56f4\u7684\u6700\u5927\u503c - \u88ab\u89c6\u4e3a\u6a21\u677f\u3002 \u9ed8\u8ba4-99999\u3002 #input_step: # \u4fee\u6539\u7684\u6b65\u957f - \u5fc5\u987b\u662f\u4e00\u4e2a\u6b63\u6574\u6570\u6216\u6d6e\u70b9\u6570\u3002\u5b83\u6709\u5185\u7f6e\u5feb\u8fdb # \u6b65\u957f\u3002\u5f53\"(input_max - input_min) / # input_step > 100\" \u65f6\uff0c\u5feb\u8fdb\u6b65\u957f\u662f 10 * input_step\uff0c \u5426\u5219 # \u6b65\u957f\u548c input_step \u76f8\u540c\u3002 #realtime: # \u6b64\u5c5e\u6027\u63a5\u53d7\u9759\u6001\u5e03\u5c14\u503c\u3002 \u5728\u542f\u7528\u65f6\uff0cG\u4ee3\u7801\u811a\u672c\u5c06\u4f1a\u5728\u6bcf # \u6b21\u6570\u503c\u53d8\u5316\u65f6\u6267\u884c\u3002 # \u9ed8\u8ba4\u4e3aFalse\uff08\u5426\uff09\u3002 #gcode: # \u70b9\u51fb\u6309\u94ae\u3001\u957f\u6309\u6216\u6570\u503c\u53d8\u5316\u65f6\u8fd0\u884c\u7684G\u4ee3\u7801\u811a\u672c\u3002 # \u88ab\u89c6\u4e3a\u6a21\u677f\u3002\u70b9\u51fb\u6309\u94ae\u4f1a\u8fdb\u5165\u6216\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002 \u8017\u6750\u4f20\u611f\u5668 \u00b6 [filament_switch_sensor] \u00b6 \u8017\u6750\u5f00\u5173\u4f20\u611f\u5668\u3002\u652f\u6301\u4f7f\u7528\u5f00\u5173\u4f20\u611f\u5668\uff08\u5982\u9650\u4f4d\u5f00\u5173\uff09\u8fdb\u884c\u8017\u6750\u63d2\u5165\u548c\u8017\u5c3d\u68c0\u6d4b\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [filament_switch_sensor my_sensor]\u3002 #pause_on_runout: True # \u5f53\u8bbe\u7f6e\u4e3a \"True \"\u65f6\uff0c\u4f1a\u5728\u68c0\u6d4b\u5230\u8017\u5c3d\u540e\u7acb\u5373\u6682\u505c\u6253\u5370\u673a\u3002 # \u8bf7\u6ce8\u610f, \u5982\u679c pause_on_runout \u4e3a False \u5e76\u4e14\u6ca1\u6709\u5b9a\u4e49\u3002 # runout_gcode\u7684\u8bdd, \u8017\u5c3d\u68c0\u6d4b\u5c06\u88ab\u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3a True\u3002 #runout_gcode: # \u5728\u68c0\u6d4b\u5230\u8017\u6750\u8017\u5c3d\u540e\u4f1a\u6267\u884c\u7684G\u4ee3\u7801\u547d\u4ee4\u5217\u8868\u3002 # \u6709\u5173G-Code \u683c\u5f0f\u8bf7\u89c1 docs/Command_Templates.md\u3002 # \u5982\u679c pause_on_runout \u88ab\u8bbe\u7f6e\u4e3a True\uff0c\u8fd9\u4e2aG-Code\u5c06\u5728 # \u6682\u505c\u540e\u6267\u884c\u3002 # \u9ed8\u8ba4\u60c5\u51b5\u662f\u4e0d\u8fd0\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\u3002 #insert_gcode: # \u5728\u68c0\u6d4b\u5230\u8017\u6750\u63d2\u5165\u540e\u4f1a\u6267\u884c\u7684 G-Code \u547d\u4ee4\u5217\u8868\u3002 # \u5173\u4e8eG\u4ee3\u7801\u683c\u5f0f\uff0c\u8bf7\u53c2\u89c1 docs/Command_Templates.md\u3002 # \u9ed8\u8ba4\u4e0d\u8fd0\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\uff0c\u8fd9\u5c06\u7981\u7528\u8017\u6750\u63d2\u5165\u68c0\u6d4b\u3002 #event_delay: 3.0 # \u4e8b\u4ef6\u4e4b\u95f4\u7684\u6700\u5c0f\u5ef6\u8fdf\u65f6\u95f4\uff08\u79d2\uff09\u3002 # \u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u5185\u89e6\u53d1\u7684\u4e8b\u4ef6\u5c06\u88ab\u9ed8\u8bb8\u5ffd\u7565\u3002 # \u9ed8\u8ba4\u4e3a3\u79d2\u3002 #pause_delay: 0.5 # \u6682\u505c\u547d\u4ee4\u548c\u6267\u884c runout_gcode \u4e4b\u95f4\u7684\u5ef6\u8fdf\u65f6\u95f4, \u5355\u4f4d\u662f\u79d2\u3002 # \u5982\u679c\u5728OctoPrint\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u8fd9\u4e2a\u5ef6\u8fdf\u53ef\u80fd\u6539\u5584\u6682 # \u505c\u7684\u53ef\u9760\u6027\u3002\u5982\u679cOctoPrint\u8868\u73b0\u51fa\u5947\u602a\u7684\u6682\u505c\u884c\u4e3a\uff0c # \u8003\u8651\u589e\u52a0\u8fd9\u4e2a\u5ef6\u8fdf\u3002 # \u9ed8\u8ba4\u4e3a0.5\u79d2\u3002 #switch_pin: # \u8fde\u63a5\u5230\u68c0\u6d4b\u5f00\u5173\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 [filament_motion_sensor] \u00b6 \u8017\u6750\u79fb\u52a8\u4f20\u611f\u5668\u3002\u4f7f\u7528\u4e00\u4e2a\u5728\u8017\u6750\u901a\u8fc7\u4f20\u611f\u5668\u65f6\u8f93\u51fa\u5f15\u811a\u72b6\u6001\u4f1a\u53d1\u751f\u53d8\u5316\u6765\u68c0\u6d4b\u8017\u6750\u63d2\u5165\u548c\u8017\u5c3d\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [filament_motion_sensor my_sensor] detection_length: 7.0 # \u89e6\u53d1\u4f20\u611f\u5668 switch_pin \u5f15\u811a\u72b6\u6001\u53d8\u5316\u7684\u6700\u5c0f\u8ddd\u79bb\u3002 # \u9ed8\u8ba4\u4e3a 7 mm\u3002 extruder: # \u8be5\u4f20\u611f\u5668\u76f8\u5173\u8054\u7684\u6324\u51fa\u673a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 switch_pin: #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cfilament_switch_sensor\u201d\u7ae0\u8282\u3002 [tsl1401cl_filament_width_sensor] \u00b6 TSLl401CL Based Filament Width Sensor. See the guide for more information. [tsl1401cl_filament_width_sensor] #pin: #default_nominal_filament_diameter: 1.75 # (mm) # Maximum allowed filament diameter difference as mm. #max_difference: 0.2 # The distance from sensor to the melting chamber as mm. #measurement_delay: 100 [hall_filament_width_sensor] \u00b6 \u970d\u5c14\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\uff08\u8be6\u89c1 \u970d\u5c14\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668 \uff09\u3002 [hall_filament_width_sensor] adc1: adc2: # \u8fde\u63a5\u5230\u4f20\u611f\u5668\u7684\u6a21\u62df\u8f93\u5165\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e9b\u53c2\u6570\u3002 #cal_dia1: 1.50 #cal_dia2: 2.00 # \u4f20\u611f\u5668\u7684\u6821\u51c6\u503c\uff08\u5355\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 # \u9ed8\u8ba4 cal_dia1 \u4e3a1.50\uff0ccal_dia2 \u4e3a 2.00\u3002 #raw_dia1: 9500 #raw_dia2: 10500 # \u4f20\u611f\u5668\u7684\u539f\u59cb\u6821\u51c6\u503c\u3002\u9ed8\u8ba4raw_dial1 \u4e3a 9500 # \u800c raw_dia2 \u4e3a 10500\u3002 #default_nominal_filament_diameter: 1.75 # \u6807\u79f0\u8017\u6750\u76f4\u5f84\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #max_difference: 0.200 # \u5141\u8bb8\u7684\u8017\u6750\u6700\u5927\u76f4\u5f84\u5dee\u5f02\uff0c\u5355\u4f4d\u662f\u6beb\u7c73\uff08mm\uff09\u3002 # \u5982\u679c\u8017\u6750\u6807\u79f0\u76f4\u5f84\u548c\u4f20\u611f\u5668\u8f93\u51fa\u4e4b\u95f4\u7684\u5dee\u5f02 # \u8d85\u8fc7\u6b63\u8d1f max_difference\uff0c\u6324\u51fa\u500d\u6570\u5c06\u88ab\u8bbe\u56de # \u5230100%\u3002 # \u9ed8\u8ba4\u4e3a0.200\u3002 #measurement_delay: 70 # \u4ece\u4f20\u611f\u5668\u5230\u7194\u8154/\u70ed\u7aef\u7684\u8ddd\u79bb\uff0c\u5355\u4f4d\u662f\u6beb\u7c73 (mm)\u3002 # \u4f20\u611f\u5668\u548c\u70ed\u7aef\u4e4b\u95f4\u7684\u8017\u6750\u5c06\u88ab\u89c6\u4e3a\u6807\u79f0\u76f4\u5f84\u3002\u4e3b\u673a # \u6a21\u5757\u91c7\u7528\u5148\u8fdb\u5148\u51fa\u7684\u903b\u8f91\u5de5\u4f5c\u3002\u5b83\u5c06\u6bcf\u4e2a\u4f20\u611f\u5668\u7684\u503c\u548c # \u4f4d\u7f6e\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u5e76\u4f1a\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u4f7f\u7528\u4f20\u611f\u5668\u503c\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #enable:False # \u4f20\u611f\u5668\u5728\u5f00\u673a\u540e\u542f\u7528\u6216\u7981\u7528\u3002 # \u9ed8\u8ba4\u662f False\u3002 #measurement_interval: 10 # \u4f20\u611f\u5668\u8bfb\u6570\u4e4b\u95f4\u7684\u8fd1\u4f3c\u8ddd\u79bb(mm)\u3002 # \u9ed8\u8ba4\u4e3a10mm\u3002 #logging:False # \u8f93\u51fa\u76f4\u5f84\u5230\u7ec8\u7aef\u548c klipper.log\uff0c\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u542f\u7528\u6216\u7981\u7528\u3002 #min_diameter: 1.0 # \u89e6\u53d1\u865a\u62df filament_switch_sensor \u7684\u6700\u5c0f\u76f4\u5f84\u3002 #use_current_dia_while_delay: False # \u5728\u672a\u88ab\u6d4b\u91cf\u7684 measurement_delay \u90e8\u5206\u8017\u6750\u4f7f\u7528\u5f53\u524d\u8017\u6750 # \u4f20\u611f\u5668\u62a5\u544a\u7684\u76f4\u5f84\u800c\u4e0d\u662f\u6807\u79f0\u76f4\u5f84\u3002 #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u5173\u4e8e\u4e0a\u8ff0\u53c2\u6570\u7684\u63cf\u8ff0\u8bf7\u53c2\u89c1\"filament_switch_sensor\"\u7ae0\u8282\u3002 \u63a7\u5236\u677f\u7279\u5b9a\u786c\u4ef6\u652f\u6301 \u00b6 [sx1509] \u00b6 \u5c06\u4e00\u4e2a SX1509 I2C \u914d\u7f6e\u4e3a GPIO \u6269\u5c55\u5668\u3002\u7531\u4e8e I2C \u901a\u4fe1\u672c\u8eab\u7684\u5ef6\u8fdf\uff0c\u4e0d\u5e94\u5c06 SX1509 \u5f15\u811a\u7528\u4f5c\u6b65\u8fdb\u7535\u673a\u7684 enable \uff08\u542f\u7528)\u3001step\uff08\u6b65\u8fdb\uff09\u6216 dir \uff08\u65b9\u5411\uff09\u5f15\u811a\u6216\u4efb\u4f55\u5176\u4ed6\u9700\u8981\u5feb\u901f bit-banging\uff08\u4f4d\u62c6\u88c2\uff09\u7684\u5f15\u811a\u3002\u5b83\u4eec\u6700\u9002\u5408\u7528\u4f5c\u9759\u6001\u6216G\u4ee3\u7801\u63a7\u5236\u7684\u6570\u5b57\u8f93\u51fa\u6216\u786c\u4ef6 pwm \u5f15\u811a\uff0c\u4f8b\u5982\u98ce\u6247\u3002\u53ef\u4ee5\u4f7f\u7528\u201csx1509\u201d\u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5206\u6bb5\u3002\u6bcf\u4e2a\u6269\u5c55\u5668\u63d0\u4f9b\u53ef\u7528\u4e8e\u6253\u5370\u673a\u914d\u7f6e\u7684\u4e00\u7ec4 16 \u4e2a\u5f15\u811a\uff08sx1509_my_sx1509:PIN_0 \u5230 sx1509_my_sx1509:PIN_15\uff09\u3002 \u8bf7\u89c1\u8303\u4f8b\u914d\u7f6e\u6587\u4ef6 generic-duet2-duex.cfg \u3002 [sx1509 my_sx1509] i2c_address: # I2C address used by this expander. Depending on the hardware # jumpers this is one out of the following addresses: 62 63 112 # 113. This parameter must be provided. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #i2c_bus: # If the I2C implementation of your micro-controller supports # multiple I2C busses, you may specify the bus name here. The # default is to use the default micro-controller i2c bus. [samd_sercom] \u00b6 SAMD SERCOM configuration to specify which pins to use on a given SERCOM. One may define any number of sections with a \"samd_sercom\" prefix. Each SERCOM must be configured prior to using it as SPI or I2C peripheral. Place this config section above any other section that makes use of SPI or I2C buses. [samd_sercom my_sercom] sercom: # The name of the sercom bus to configure in the micro-controller. # Available names are \"sercom0\", \"sercom1\", etc.. This parameter # must be provided. tx_pin: # MOSI pin for SPI communication, or SDA (data) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided. #rx_pin: # MISO pin for SPI communication. This pin is not used for I2C # communication (I2C uses tx_pin for both sending and receiving). # The pin must have a valid pinmux configuration for the given # SERCOM peripheral. This parameter is optional. clk_pin: # CLK pin for SPI communication, or SCL (clock) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided. [adc_scaled] \u00b6 Duet 2 Maestro \u901a\u8fc7vref\u548cvssa\u8bfb\u6570\u8fdb\u884c\u6a21\u62df\u7f29\u653e\u3002\u5b9a\u4e49\u4e00\u4e2aadc_scaled\u5206\u6bb5\u6765\u542f\u7528\u6839\u636e\u677f\u8f7dvref\u548cvssa\u76d1\u89c6\u5f15\u811a\u8c03\u8282\u7684\u865a\u62dfadc\u5f15\u811a\uff08\u4f8b\u5982\u201cmy_name:PB0\"\uff09\u3002\u865a\u62df\u5f15\u811a\u5fc5\u987b\u5148\u88abDuet 2 Maestro \u901a\u8fc7vref\u548cvssa\u8bfb\u6570\u8fdb\u884c\u6a21\u62df\u7f29\u653e\u3002\u5b9a\u4e49\u4e00\u4e2aadc_scaled\u5206\u6bb5\u6765\u542f\u7528\u6839\u636e\u677f\u8f7dvref\u548cvssa\u76d1\u89c6\u5f15\u811a\u8c03\u8282\u7684\u865a\u62dfadc\u5f15\u811a\uff08\u4f8b\u5982\u201cmy_name:PB0\"\uff09\u3002\u865a\u62df\u5f15\u811a\u5fc5\u987b\u5148\u88ab\u5b9a\u4e49\u624d\u80fd\u7528\u5728\u5176\u4ed6\u914d\u7f6e\u5206\u6bb5\u4e2d\u3002 \u8bf7\u89c1\u8303\u4f8b\u914d\u7f6e\u6587\u4ef6 generic-duet2-maestro.cfg \u3002 [adc_scaled my_name] vref_pin: # \u7528\u4e8e\u76d1\u6d4b VREF \u7684 ADC \u5f15\u811a\u3002\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 vssa_pin: # \u7528\u4e8e\u76d1\u6d4b VSSA \u7684 ADC \u5f15\u811a\u3002\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 #smooth_time: 2.0 # \u4e00\u4e2a\u65f6\u95f4\u53c2\u6570\uff08\u4ee5\u79d2\u4e3a\u8ba1\uff09\u533a\u95f4\u7528\u4e8e\u5e73\u6ed1 VREF \u548c # VSSA \u6d4b\u91cf\u6765\u51cf\u5c11\u6d4b\u91cf\u7684\u5e72\u6270\u3002\u9ed8\u8ba4\u4e3a2\u79d2\u3002 [replicape] \u00b6 Replicape\u652f\u6301 - \u53c2\u8003 beaglebone guide \u548c generic-replicape.cfg # The \"replicape\" config section adds \"replicape:stepper_x_enable\" # virtual stepper enable pins (for steppers X, Y, Z, E, and H) and # \"replicape:power_x\" PWM output pins (for hotbed, e, h, fan0, fan1, # fan2, and fan3) that may then be used elsewhere in the config file. [replicape] revision: # The replicape hardware revision. Currently only revision \"B3\" is # supported. This parameter must be provided. #enable_pin: !gpio0_20 # The replicape global enable pin. The default is !gpio0_20 (aka # P9_41). host_mcu: # The name of the mcu config section that communicates with the # Klipper \"linux process\" mcu instance. This parameter must be # provided. #standstill_power_down: False # This parameter controls the CFG6_ENN line on all stepper # motors. True sets the enable lines to \"open\". The default is # False. #stepper_x_microstep_mode: #stepper_y_microstep_mode: #stepper_z_microstep_mode: #stepper_e_microstep_mode: #stepper_h_microstep_mode: # This parameter controls the CFG1 and CFG2 pins of the given # stepper motor driver. Available options are: disable, 1, 2, # spread2, 4, 16, spread4, spread16, stealth4, and stealth16. The # default is disable. #stepper_x_current: #stepper_y_current: #stepper_z_current: #stepper_e_current: #stepper_h_current: # The configured maximum current (in Amps) of the stepper motor # driver. This parameter must be provided if the stepper is not in a # disable mode. #stepper_x_chopper_off_time_high: #stepper_y_chopper_off_time_high: #stepper_z_chopper_off_time_high: #stepper_e_chopper_off_time_high: #stepper_h_chopper_off_time_high: # This parameter controls the CFG0 pin of the stepper motor driver # (True sets CFG0 high, False sets it low). The default is False. #stepper_x_chopper_hysteresis_high: #stepper_y_chopper_hysteresis_high: #stepper_z_chopper_hysteresis_high: #stepper_e_chopper_hysteresis_high: #stepper_h_chopper_hysteresis_high: # This parameter controls the CFG4 pin of the stepper motor driver # (True sets CFG4 high, False sets it low). The default is False. #stepper_x_chopper_blank_time_high: #stepper_y_chopper_blank_time_high: #stepper_z_chopper_blank_time_high: #stepper_e_chopper_blank_time_high: #stepper_h_chopper_blank_time_high: # This parameter controls the CFG5 pin of the stepper motor driver # (True sets CFG5 high, False sets it low). The default is True. \u5176\u4ed6\u81ea\u5b9a\u4e49\u6a21\u5757 \u00b6 [palette2] \u00b6 Palette 2 \u591a\u6750\u6599\u652f\u6301 - \u63d0\u4f9b\u66f4\u7d27\u5bc6\u7684\u96c6\u6210\uff0c\u652f\u6301\u5904\u4e8e\u8fde\u63a5\u6a21\u5f0f\u7684 Palette 2 \u8bbe\u5907\u3002 \u8be5\u6a21\u5757\u7684\u5168\u90e8\u529f\u80fd\u9700\u8981 [virtual_sdcard] \u548c [pause_resume] \u3002 \u4e0d\u8981\u548c Octoprint \u7684 Palette 2\u63d2\u4ef6\u4e00\u8d77\u4f7f\u7528\u8fd9\u4e2a\u6a21\u5757\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u9020\u6210\u521d\u59cb\u5316\u548c\u6253\u5370\u5931\u8d25\u3002 \u5982\u679c\u4f7f\u7528 OctoPrint \u5e76\u901a\u8fc7\u4e32\u884c\u7aef\u53e3\u6d41\u5f0f\u4f20\u8f93 G-Code\uff0c\u800c\u4e0d\u901a\u8fc7 virtual_sd \u6253\u5370\uff0c\u5c06 * \u8bbe\u7f6e>\u4e32\u884c\u8fde\u63a5>\u56fa\u4ef6\u548c\u534f\u8bae * \u4e2d\u7684\u201c\u6682\u505c\u547d\u4ee4\u201d \u8bbe\u7f6e\u4e3a M1 \u548c M0 \u53ef\u4ee5\u907f\u514d\u5728\u5f00\u59cb\u6253\u5370\u65f6\u9700\u8981\u5728Palette 2 \u4e0a\u9009\u62e9\u5f00\u59cb\u6253\u5370\u5e76\u5728 OctoPrint \u4e2d\u53d6\u6d88\u6682\u505c\u3002 [palette2] serial: # \u8fde\u63a5\u5230 Palette 2 \u7684\u4e32\u53e3\u3002 #baud: 115200 # \u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002 # \u9ed8\u8ba4\u4e3a115200\u3002 #feedrate_splice: 0.8 # \u878d\u63a5\u65f6\u7684\u7ed9\u8fdb\u7387 # \u9ed8\u8ba4\u4e3a0.8\u3002 #feedrate_normal: 1.0 # \u4e0d\u5728\u878d\u63a5\u65f6\u7684\u7ed9\u8fdb\u7387 1.0 #auto_load_speed: 2 # \u81ea\u52a8\u6362\u6599\u65f6\u7684\u7ed9\u8fd1\u7387 # \u9ed8\u8ba4 2 (mm/s) #auto_cancel_variation: 0.1 # # \u5f53 ping \u503c\u53d8\u5316\u9ad8\u4e8e\u6b64\u9608\u503c\u65f6\u81ea\u52a8\u53d6\u6d88\u6253\u5370 [angle] \u00b6 \u652f\u6301\u4f7f\u7528a1333\u3001as5047d\u6216tle5012b SPI\u82af\u7247\u7684\u78c1\u6027\u970d\u5c14\u89d2\u5ea6\u4f20\u611f\u5668\u6d4b\u91cf\u5e76\u8bfb\u53d6\u6b65\u8fdb\u7535\u673a\u7684\u89d2\u5ea6\u3002\u6d4b\u91cf\u7ed3\u679c\u53ef\u4ee5\u901a\u8fc7 API\u670d\u52a1\u5668 \u548c \u8fd0\u52a8\u5206\u6790\u5de5\u5177 \u83b7\u53d6\u3002\u53ef\u7528\u7684\u547d\u4ee4\u8bf7\u89c1 G\u4ee3\u7801\u53c2\u8003 \u3002 [angle my_angle_sensor] sensor_type: # \u78c1\u6027\u970d\u5c14\u4f20\u611f\u5668\u82af\u7247\u7684\u7c7b\u578b\u3002 # \u53ef\u7528\u7684\u9009\u62e9\u662f \"a1333\" \"as5047d \"\u548c \"tle5012b\"\u3002 # \u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u6307\u5b9a\u3002 #sample_period: 0.000400 # \u6d4b\u91cf\u65f6\u4f7f\u7528\u7684\u67e5\u8be2\u5468\u671f\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002 # \u9ed8\u8ba4\u503c\u662f 0.000400 \uff08\u6bcf\u79d2\u949f2500\u4e2a\u6837\u672c\uff09 #stepper: # \u89d2\u5ea6\u4f20\u611f\u5668\u8fde\u63a5\u7684\u6b65\u8fdb\u7535\u673a\u540d\u79f0\uff08\u4f8b\u5982\uff0c\"stepper_x\"\uff09\u3002 # \u8bbe\u7f6e\u8fd9\u4e2a\u503c\u53ef\u4ee5\u542f\u7528\u4e00\u4e2a\u89d2\u5ea6\u6821\u51c6\u5de5\u5177 # \u8981\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\u9700\u8981\u5b89\u88c5Python \"numpy \"\u5305\u3002 # \u9ed8\u8ba4\u662f\u4e0d\u542f\u7528\u89d2\u5ea6\u4f20\u611f\u5668\u7684\u89d2\u5ea6\u6821\u51c6\u3002 cs_pin: # \u4f20\u611f\u5668\u7684SPI\u5f15\u811a\u3002\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u6709\u5173\u4e0a\u8ff0\u53c2\u6570\u7684\u63cf\u8ff0\uff0c\u53c2\u8003 \"common SPI settings \" \u5e38\u89c1\u7684\u603b\u7ebf\u53c2\u6570 \u00b6 \u5e38\u89c1 SPI \u8bbe\u7f6e \u00b6 \u4ee5\u4e0b\u53c2\u6570\u9002\u7528\u4e8e\u591a\u6570\u4f7f\u7528SPI\u603b\u7ebf\u7684\u8bbe\u5907\u3002 #spi_speed: # The SPI speed (in hz) to use when communicating with the device. # The default depends on the type of device. #spi_bus: # If the micro-controller supports multiple SPI busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # Specify the above parameters to use \"software based SPI\". This # mode does not require micro-controller hardware support (typically # any general purpose pins may be used). The default is to not use # \"software spi\". \u5e38\u89c1\u7684I2C\u8bbe\u7f6e \u00b6 \u4ee5\u4e0b\u53c2\u6570\u4e00\u822c\u9002\u7528\u4e8e\u4f7f\u7528I2C\u603b\u7ebf\u7684\u8bbe\u5907\u3002 Note that Klipper's current micro-controller support for i2c is generally not tolerant to line noise. Unexpected errors on the i2c wires may result in Klipper raising a run-time error. Klipper's support for error recovery varies between each micro-controller type. It is generally recommended to only use i2c devices that are on the same printed circuit board as the micro-controller. Most Klipper micro-controller implementations only support an i2c_speed of 100000. The Klipper \"linux\" micro-controller supports a 400000 speed, but it must be set in the operating system and the i2c_speed parameter is otherwise ignored. The Klipper \"rp2040\" micro-controller supports a rate of 400000 via the i2c_speed parameter. All other Klipper micro-controllers use a 100000 rate and ignore the i2c_speed parameter. #i2c_address: # The i2c address of the device. This must specified as a decimal # number (not in hex). The default depends on the type of device. #i2c_mcu: # The name of the micro-controller that the chip is connected to. # The default is \"mcu\". #i2c_bus: # If the micro-controller supports multiple I2C busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #i2c_speed: # The I2C speed (in Hz) to use when communicating with the device. # The Klipper implementation on most micro-controllers is hard-coded # to 100000 and changing this value has no effect. The default is # 100000.","title":"\u914d\u7f6e\u53c2\u8003"},{"location":"Config_Reference.html#_1","text":"\u672c\u6587\u6863\u662f Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u53ef\u7528\u914d\u7f6e\u5206\u6bb5\u7684\u53c2\u8003\u3002 \u672c\u6587\u6863\u4e2d\u7684\u63cf\u8ff0\u5df2\u7ecf\u683c\u5f0f\u5316\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5c06\u5b83\u4eec\u526a\u5207\u5e76\u7c98\u8d34\u5230\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002 \u89c1 \u5b89\u88c5\u6587\u6863 \u6709\u5173\u8bbe\u7f6e Klipper \u548c\u9009\u62e9\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u7684\u4fe1\u606f\u3002","title":"\u914d\u7f6e\u53c2\u8003"},{"location":"Config_Reference.html#_2","text":"","title":"\u5fae\u63a7\u5236\u5668\u914d\u7f6e"},{"location":"Config_Reference.html#_3","text":"\u8bb8\u591a\u914d\u7f6e\u9009\u9879\u9700\u8981\u5fae\u63a7\u5236\u5668\u5f15\u811a\u7684\u540d\u79f0\u3002Klipper \u4f7f\u7528\u4e86\u8fd9\u4e9b\u5f15\u811a\u7684\u786c\u4ef6\u540d\u79f0 - \u4f8b\u5982 PA4 \u3002 \u5728 \u5f15\u811a\u540d\u79f0\u524d\u52a0 ! \u6765\u8868\u793a\u76f8\u53cd\u7684\u7535\u6781\u6781\u6027\uff08 \u4f8b\u5982\u89e6\u53d1\u6761\u4ef6\u65f6\u4f4e\u7535\u5e73\u800c\u4e0d\u662f\u9ad8\u7535\u5e73\uff09\u3002 \u5728\u5f15\u811a\u540d\u79f0\u524d\u9762\u52a0 ^ \uff0c\u4ee5\u6307\u793a\u8be5\u5f15\u811a\u542f\u7528\u786c\u4ef6\u4e0a\u62c9\u7535\u963b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u652f\u6301\u4e0b\u62c9\u7535\u963b\u5668\uff0c\u90a3\u4e48\u8f93\u5165\u5f15\u811a\u4e5f\u53ef\u4ee5\u5728\u524d\u9762\u52a0\u4e0a ~ \u3002 \u6ce8\u610f\uff0c\u67d0\u4e9b\u914d\u7f6e\u90e8\u5206\u53ef\u80fd\u4f1a\u201c\u521b\u5efa\u201d\u989d\u5916\u7684\u5f15\u811a\u3002 \u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u5b9a\u4e49\u5f15\u811a\u7684\u914d\u7f6e\u90e8\u5206\u5fc5\u987b\u5728\u4f7f\u7528\u8fd9\u4e9b\u5f15\u811a\u7684\u4efb\u4f55\u90e8\u5206\u4e4b\u524d\u5217\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002","title":"\u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u5b57\u7684\u683c\u5f0f"},{"location":"Config_Reference.html#mcu","text":"\u4e3b\u5fae\u63a7\u5236\u5668\u7684\u914d\u7f6e\u3002 [mcu] serial: # \u8fde\u63a5\u5230\u5355\u7247\u673a\u7684\u4e32\u884c\u901a\u8baf\u63a5\u53e3 # \u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u7684\u8bdd\uff08\u6216\u53ef\u80fd\u5b83\u53d8\u66f4\u62c9\u4e86\uff09\uff0c\u53ef\u4ee5\u67e5\u770bFAQ\u4e2d\u7684 # \u201cWhere's my serial port?\u201d\u7ae0\u8282\u3002 # \u5f53\u4f7f\u7528\u4e32\u53e3\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u7ed9\u5b9a #baud: 250000 # \u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002\u9ed8\u8ba4\u662f250000 #canbus_uuid: # \u5982\u679c\u4f7f\u7528\u4e00\u4e2a\u8fde\u63a5\u5230CAN\u603b\u7ebf\u7684\u8bbe\u5907\uff0c\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u88ab\u8bbe\u7f6e\u4e3a # \u8981\u8fde\u63a5\u7684\u82af\u7247\u7684\u552f\u4e00ID\u3002 # \u5f53\u4f7f\u7528CAN\u603b\u7ebf\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u7ed9\u5b9a #canbus_interface: # \u5f53\u4f7f\u7528\u7684\u8bbe\u5907\u8fde\u63a5\u5230CAN\u603b\u7ebf\u65f6\uff0c\u8fd9\u4e2a\u53c2\u6570\u9700\u8981\u88ab\u8bbe\u7f6e\u4e3a # \u4f7f\u7528\u7684\u7f51\u7edc\u63a5\u53e3 # \u9ed8\u8ba4\u503c\u662fcan0 #restart_method: # \u8fd9\u4e2a\u53c2\u6570\u63a7\u5236\u7740\u91cd\u7f6e\u5355\u7247\u673a\u7684\u65b9\u5f0f # \u53ef\u9009\u9879\u662f'arduino'\u3001'cheetah'\u3001'rpi_usb'\u548c'command' # 'arduino'\u65b9\u6cd5\uff08\u7ffb\u8f6cDTR\uff09\u901a\u5e38\u9002\u7528\u4e8eArduino\u677f\u6216\u5176\u514b\u9686\u677f # 'cheetah'\u65b9\u6cd5\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u65b9\u6cd5\uff0c\u901a\u5e38\u9002\u7528\u4e8e\u4e00\u4e9b\u5bcc\u6e90\u76db\u7684Cheetah\u677f # 'rpi_usb'\u65b9\u6cd5\u5bf9\u4e8e\u4f7f\u7528\u6811\u8393\u6d3e\u7684USB\u4f9b\u7535\u7684\u5355\u7247\u673a\u5341\u5206\u6709\u6548 # \u5b83\u7b80\u5355\u5730\u5173\u95ed\u6240\u6709USB\u7aef\u53e3\u7684\u7535\u6e90\u6765\u5b8c\u6210\u5355\u7247\u673a\u7684\u91cd\u7f6e # 'command'\u65b9\u6cd5\u8c03\u7528\u5411\u5355\u7247\u673a\u53d1\u9001klipper\u547d\u4ee4\u6765\u91cd\u7f6e\u5b83\u4eec\u81ea\u5df1 # \u5f53\u5355\u7247\u673a\u8fde\u63a5\u5230\u4e32\u53e3\u65f6\u9ed8\u8ba4\u662f'arduino'\uff0c\u5426\u5219\u9ed8\u8ba4\u662f'command'","title":"[MCU]"},{"location":"Config_Reference.html#mcu-my_extra_mcu","text":"\u989d\u5916\u7684\u5fae\u63a7\u5236\u5668\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cmcu\u201d\u524d\u7f00\u7684\u90e8\u5206\uff09\u3002 \u989d\u5916\u7684\u5fae\u63a7\u5236\u5668\u5f15\u5165\u4e86\u989d\u5916\u7684\u5f15\u811a\uff0c\u8fd9\u4e9b\u5f15\u811a\u53ef\u4ee5\u914d\u7f6e\u4e3a\u52a0\u70ed\u5668\u3001\u6b65\u8fdb\u5668\u3001\u98ce\u6247\u7b49\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5f15\u5165\u4e86\u201c[mcu extra_mcu]\u201d\u90e8\u5206\uff0c\u90a3\u4e48\u8bf8\u5982\u201cextra_mcu:ar9\u201d\u4e4b\u7c7b\u7684\u5f15\u811a\u5c31\u53ef\u4ee5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528 \uff0c\u5728\u914d\u7f6e\u4e2d\uff08\u5176\u4e2d\u201car9\u201d\u662f\u7ed9\u5b9a mcu \u4e0a\u7684\u786c\u4ef6\u5f15\u811a\u540d\u79f0\u6216\u522b\u540d\uff09\u3002 [mcu my_extra_mcu] # \u8bf7\u53c2\u9605\"mcu\"\u5206\u6bb5\u7684\u914d\u7f6e\u53c2\u6570\u3002","title":"[mcu my_extra_mcu]"},{"location":"Config_Reference.html#_4","text":"","title":"\u5e38\u89c1\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e"},{"location":"Config_Reference.html#printer","text":"\u6253\u5370\u673a\u63a7\u5236\u7684\u9ad8\u7ea7\u8bbe\u7f6e\u90e8\u5206\u3002 [printer] kinematics: # The type of printer in use. This option may be one of: cartesian, # corexy, corexz, hybrid_corexy, hybrid_corexz, rotary_delta, delta, # polar, winch, or none. This # parameter must be specified. max_velocity: # Maximum velocity (in mm/s) of the toolhead (relative to the # print). This parameter must be specified. max_accel: # Maximum acceleration (in mm/s^2) of the toolhead (relative to the # print). This parameter must be specified. #max_accel_to_decel: # A pseudo acceleration (in mm/s^2) controlling how fast the # toolhead may go from acceleration to deceleration. It is used to # reduce the top speed of short zig-zag moves (and thus reduce # printer vibration from these moves). The default is half of # max_accel. #square_corner_velocity: 5.0 # The maximum velocity (in mm/s) that the toolhead may travel a 90 # degree corner at. A non-zero value can reduce changes in extruder # flow rates by enabling instantaneous velocity changes of the # toolhead during cornering. This value configures the internal # centripetal velocity cornering algorithm; corners with angles # larger than 90 degrees will have a higher cornering velocity while # corners with angles less than 90 degrees will have a lower # cornering velocity. If this is set to zero then the toolhead will # decelerate to zero at each corner. The default is 5mm/s.","title":"[printer]"},{"location":"Config_Reference.html#stepper","text":"\u6b65\u8fdb\u7535\u673a\u5b9a\u4e49\u3002 \u4e0d\u540c\u7684\u6253\u5370\u673a\u7c7b\u578b\uff08\u7531 [\u6253\u5370] \u914d\u7f6e\u90e8\u5206\u4e2d\u7684\u201c\u8fd0\u52a8\u5b66\u201d\u9009\u9879\u6307\u5b9a\uff09\u6b65\u8fdb\u5668\u9700\u8981\u5b9a\u4e49\u4e0d\u540c\u7684\u540d\u79f0\uff08\u4f8b\u5982\uff0c stepper_x \u4e0e stepper_a \uff09\u3002 \u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u6b65\u8fdb\u5668\u5b9a\u4e49\u3002 See the rotation distance document for information on calculating the rotation_distance parameter. See the Multi-MCU homing document for information on homing using multiple micro-controllers. [stepper_x] step_pin: # Step GPIO pin (triggered high). This parameter must be provided. dir_pin: # Direction GPIO pin (high indicates positive direction). This # parameter must be provided. enable_pin: # Enable pin (default is enable high; use ! to indicate enable # low). If this parameter is not provided then the stepper motor # driver must always be enabled. rotation_distance: # Distance (in mm) that the axis travels with one full rotation of # the stepper motor (or final gear if gear_ratio is specified). # This parameter must be provided. microsteps: # The number of microsteps the stepper motor driver uses. This # parameter must be provided. #full_steps_per_rotation: 200 # The number of full steps for one rotation of the stepper motor. # Set this to 200 for a 1.8 degree stepper motor or set to 400 for a # 0.9 degree motor. The default is 200. #gear_ratio: # The gear ratio if the stepper motor is connected to the axis via a # gearbox. For example, one may specify \"5:1\" if a 5 to 1 gearbox is # in use. If the axis has multiple gearboxes one may specify a comma # separated list of gear ratios (for example, \"57:11, 2:1\"). If a # gear_ratio is specified then rotation_distance specifies the # distance the axis travels for one full rotation of the final gear. # The default is to not use a gear ratio. #step_pulse_duration: # The minimum time between the step pulse signal edge and the # following \"unstep\" signal edge. This is also used to set the # minimum time between a step pulse and a direction change signal. # The default is 0.000000100 (100ns) for TMC steppers that are # configured in UART or SPI mode, and the default is 0.000002 (which # is 2us) for all other steppers. endstop_pin: # Endstop switch detection pin. If this endstop pin is on a # different mcu than the stepper motor then it enables \"multi-mcu # homing\". This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #position_min: 0 # Minimum valid distance (in mm) the user may command the stepper to # move to. The default is 0mm. position_endstop: # Location of the endstop (in mm). This parameter must be provided # for the X, Y, and Z steppers on cartesian style printers. position_max: # Maximum valid distance (in mm) the user may command the stepper to # move to. This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #homing_speed: 5.0 # Maximum velocity (in mm/s) of the stepper when homing. The default # is 5mm/s. #homing_retract_dist: 5.0 # Distance to backoff (in mm) before homing a second time during # homing. Set this to zero to disable the second home. The default # is 5mm. #homing_retract_speed: # Speed to use on the retract move after homing in case this should # be different from the homing speed, which is the default for this # parameter #second_homing_speed: # Velocity (in mm/s) of the stepper when performing the second home. # The default is homing_speed/2. #homing_positive_dir: # If true, homing will cause the stepper to move in a positive # direction (away from zero); if false, home towards zero. It is # better to use the default than to specify this parameter. The # default is true if position_endstop is near position_max and false # if near position_min.","title":"[stepper]"},{"location":"Config_Reference.html#_5","text":"cartesian \u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-cartesian.cfg \u6b64\u5904\u63cf\u8ff0\u7684\u53c2\u6570\u53ea\u9002\u7528\u4e8e\u7b1b\u5361\u5c14\u6253\u5370\u673a\uff0c\u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u8fd0\u52a8\u8bbe\u7f6e \u3002 [printer] kinematics: cartesian max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the stepper controlling # the X axis in a cartesian robot. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis in a cartesian robot. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis in a cartesian robot. [stepper_z]","title":"\u7b1b\u5361\u5c14\u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#_6","text":"linear delta\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-delta.cfg \u3002 \u5173\u4e8e\u6821\u51c6\u65b9\u6cd5 \u4e09\u89d2\u6d32\u6821\u51c6\u6307\u5357 \u3002 \u6b64\u5904\u4ec5\u63cf\u8ff0\u4e86\u7ebf\u6027\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u7279\u5b9a\u53c2\u6570 - \u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u8fd0\u52a8\u8bbe\u7f6e \u3002 [printer] kinematics: delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. Setting this may be useful if the printer can reach higher # acceleration on XY moves than Z moves (eg, when using input shaper). # The default is to use max_accel for max_z_accel. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. delta_radius: # Radius (in mm) of the horizontal circle formed by the three linear # axis towers. This parameter may also be calculated as: # delta_radius = smooth_rod_offset - effector_offset - carriage_offset # This parameter must be provided. #print_radius: # The radius (in mm) of valid toolhead XY coordinates. One may use # this setting to customize the range checking of toolhead moves. If # a large value is specified here then it may be possible to command # the toolhead into a collision with a tower. The default is to use # delta_radius for print_radius (which would normally prevent a # tower collision). # The stepper_a section describes the stepper controlling the front # left tower (at 210 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all towers. [stepper_a] position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. arm_length: # Length (in mm) of the diagonal rod that connects this tower to the # print head. This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the tower is # at. The default is 210 for stepper_a, 330 for stepper_b, and 90 # for stepper_c. # The stepper_b section describes the stepper controlling the front # right tower (at 330 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the rear # tower (at 90 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the tower endstop positions and # angles. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5.","title":"\u7ebf\u6027\u4e09\u89d2\u6d32\u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#corexy","text":"corexy\u6216\u8005h-bot\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-corexy.cfg \u8fd9\u91cc\u53ea\u63cf\u8ff0\u4e86 CoreXY \u6253\u5370\u673a\u7279\u6709\u7684\u53c2\u6570 -- \u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u89c1\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Y movement. [stepper_x] # The stepper_y section is used to describe the Y axis as well as the # stepper controlling the X-Y movement. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z]","title":"CoreXY \u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#corexy_1","text":"corexz \u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-corexz.cfg \u6b64\u5904\u63cf\u8ff0\u7684\u53c2\u6570\u53ea\u9002\u7528\u4e8e\u7b1b\u5361\u5c14\u6253\u5370\u673a\u2014\u6709\u5173\u5168\u90e8\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the Z axis as well as the # stepper controlling the X-Z movement. [stepper_z]","title":"CoreXY \u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#hybrid-corexy-corexy","text":"hybrid corexy\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-hybrid-corexy.cfg This kinematic is also known as Markforged kinematic. \u6b64\u5904\u4ec5\u63cf\u8ff0\u4e86\u7ebf\u6027\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u7279\u5b9a\u53c2\u6570\u2014\u6709\u5173\u5168\u90e8\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: hybrid_corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Y movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z]","title":"Hybrid-CoreXY (\u6df7\u5408\u578b CoreXY) \u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#hybrid-corexz-corexz","text":"hybrid corexz \u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-hybrid-corexz.cfg This kinematic is also known as Markforged kinematic. \u6b64\u5904\u4ec5\u63cf\u8ff0\u4e86\u7ebf\u6027\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u7279\u5b9a\u53c2\u6570\u2014\u6709\u5173\u5168\u90e8\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 [printer] kinematics: hybrid_corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z]","title":"Hybrid-CoreXZ (\u6df7\u5408\u578b CoreXZ) \u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#_7","text":"polar\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-polar.cfg \u8fd9\u91cc\u53ea\u63cf\u8ff0\u4e86\u6781\u5730\u6253\u5370\u673a\u7279\u6709\u7684\u53c2\u6570\u2014\u5168\u90e8\u53ef\u7528\u7684\u53c2\u6570\u8bf7\u89c1 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 \u6781\u5750\u6807\u8fd0\u52a8\u5b66\u8fd8\u5728\u5f00\u53d1\u4e2d\u3002\u57280, 0\u4f4d\u7f6e\u5468\u56f4\u79fb\u52a8\u6709\u4e00\u4e9b\u5df2\u77e5\u95ee\u9898\u3002 [printer] kinematics: polar max_z_velocity: # \u5b9a\u4e49\u4e86z\u8f74\u7684\u6781\u9650\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002\u8be5\u8bbe\u7f6e\u53ef\u4ee5\u5355\u72ec\u9650\u5236 # Z\u8f74\u6b65\u8fdb\u7535\u673a\u7684\u6781\u9650\u901f\u5ea6\u3002 # \u9ed8\u8ba4\u4f7f\u7528 max_velocity \u4e3a max_z_velocity\u3002 max_z_accel: # \u5b9a\u4e49\u4e86Z\u8f74\u7684\u6781\u9650\u52a0\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s^2\uff09\u3002\u8be5\u8bbe\u7f6e\u5355\u72ec\u9650\u5236\u4e86 # Z\u8f74\u6b65\u8fdb\u7535\u673a\u7684\u52a0\u901f\u5ea6\u3002 # \u9ed8\u8ba4\u4f7f\u7528max_accel\u4e3amax_z_accel\u3002 # stepper_bed \u5206\u6bb5\u5b9a\u4e49\u4e86\u63a7\u5236\u6253\u5370\u5e8a\u7684\u6b65\u8fdb\u7535\u673a\u3002 [stepper_bed] gear_ratio: # \u5fc5\u987b\u6307\u5b9a\u9f7f\u8f6e\u6bd4\uff0c\u4f46\u4e0d\u5fc5\u987b\u6307\u5b9a\u65cb\u8f6c\u8ddd\u79bb\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6253\u5370\u5e8a\u6709 # \u4e00\u4e2a80\u9f7f\u7684\u6ed1\u8f6e\uff0c\u7531\u4e00\u4e2a16\u9f7f\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u90a3\u4e48\u53ef\u4ee5\u6307\u5b9a # \u9f7f\u8f6e\u6bd4\u4e3a\"80:16\"\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 # stepper_arm\u5206\u6bb5\u5b9a\u4e49\u4e86\u63a7\u5236\u673a\u68b0\u81c2\u4e0a\u6ed1\u8f66\u7684\u6b65\u8fdb\u7535\u673a\u3002 [stepper_arm] # stepper_z \u5206\u6bb5\u5b9a\u4e49\u4e86\u63a7\u5236Z\u8f74\u7684\u6b65\u8fdb\u7535\u673a\u3002 [stepper_z]","title":"\u6781\u5750\u6807\u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#rotary-delta","text":"Rotary Delta\u8fd0\u52a8\u5b66\u914d\u7f6e\u6587\u4ef6\u53c2\u8003 example-rotary-delta.cfg \u6b64\u5904\u4ec5\u4ecb\u7ecd\u7279\u5b9a\u4e8e\u65cb\u8f6c\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u53c2\u6570\u2014\u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u8bf7\u53c2\u9605 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 ROTARY DELTA\u8fd0\u52a8\u5b66\u6b63\u5728\u8fdb\u884c\u7684\u4fee\u590d\u5de5\u4f5c\u3002\u5f52\u4f4d\u52a8\u4f5c\u53ef\u80fd\u4f1a\u8d85\u65f6\u5e76\u4e14\u4e00\u4e9b\u8fb9\u754c\u68c0\u67e5\u4e5f\u6ca1\u6709\u5b9e\u73b0\u3002 [printer] kinematics: rotary_delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. shoulder_radius: # Radius (in mm) of the horizontal circle formed by the three # shoulder joints, minus the radius of the circle formed by the # effector joints. This parameter may also be calculated as: # shoulder_radius = (delta_f - delta_e) / sqrt(12) # This parameter must be provided. shoulder_height: # Distance (in mm) of the shoulder joints from the bed, minus the # effector toolhead height. This parameter must be provided. # The stepper_a section describes the stepper controlling the rear # right arm (at 30 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all arms. [stepper_a] gear_ratio: # A gear_ratio must be specified and rotation_distance may not be # specified. For example, if the arm has an 80 toothed pulley driven # by a pulley with 16 teeth, which is in turn connected to a 60 # toothed pulley driven by a stepper with a 16 toothed pulley, then # one would specify a gear ratio of \"80:16, 60:16\". This parameter # must be provided. position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. upper_arm_length: # Length (in mm) of the arm connecting the \"shoulder joint\" to the # \"elbow joint\". This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. lower_arm_length: # Length (in mm) of the arm connecting the \"elbow joint\" to the # \"effector joint\". This parameter must be provided for stepper_a; # for stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the arm is at. # The default is 30 for stepper_a, 150 for stepper_b, and 270 for # stepper_c. # The stepper_b section describes the stepper controlling the rear # left arm (at 150 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the front # arm (at 270 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the shoulder endstop positions. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5.","title":"Rotary delta \u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#_8","text":"See the example-winch.cfg for an example cable winch kinematics config file. \u8fd9\u91cc\u53ea\u63cf\u8ff0\u4e86\u7f06\u7ef3\u94f0\u76d8\u5f0f(cable winch)\u6253\u5370\u673a\u7279\u6709\u7684\u53c2\u6570 \u2014 \u5168\u90e8\u53ef\u7528\u7684\u53c2\u6570\u89c1 \u5e38\u7528\u7684\u8fd0\u52a8\u5b66\u8bbe\u7f6e \u3002 \u7f06\u7ef3\u94f0\u76d8\u652f\u6301\u662f\u5b9e\u9a8c\u6027\u7684\u3002\u5f52\u4f4d\u5728\u7f06\u7ef3\u7ede\u76d8\u8fd0\u52a8\u5b66\u4e2d\u6ca1\u6709\u5b9e\u73b0\u3002\u5728\u6253\u5370\u673a\u5f52\u4f4d\u65f6\u9700\u8981\u624b\u52a8\u53d1\u9001\u8fd0\u52a8\u6307\u4ee4\u5c06\u5de5\u5177\u5934\u5904\u4e8e0, 0, 0\u4f4d\u7f6e\uff0c\u7136\u540e\u53d1\u51fa G28 \u5f52\u4f4d\u3002 [printer] kinematics: winch # The stepper_a section describes the stepper connected to the first # cable winch. A minimum of 3 and a maximum of 26 cable winches may be # defined (stepper_a to stepper_z) though it is common to define 4. [stepper_a] rotation_distance: # The rotation_distance is the nominal distance (in mm) the toolhead # moves towards the cable winch for each full rotation of the # stepper motor. This parameter must be provided. anchor_x: anchor_y: anchor_z: # The X, Y, and Z position of the cable winch in cartesian space. # These parameters must be provided.","title":"\u7f06\u7ef3\u7ede\u76d8\u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#_9","text":"\u53ef\u4ee5\u5b9a\u4e49\u7279\u6b8a\u7684 \"none\" \u8fd0\u52a8\u5b66\u6765\u7981\u7528 Klipper \u4e2d\u7684\u8fd0\u52a8\u5b66\u652f\u6301\u3002\u53ef\u4ee5\u7528\u4e8e\u63a7\u5236\u4e0d\u662f 3D \u6253\u5370\u673a\u7684\u8bbe\u5907\u6216\u8c03\u8bd5\u3002 [printer] kinematics: none max_velocity: 1 max_accel: 1 # \u5fc5\u987b\u5b9a\u4e49 max_velocity \u548c max_accel\uff0c\u4f46\u662f \u5b83\u4eec\u4e0d\u4f1a\u88ab\u201cnone\u201d\u8fd0\u52a8\u5b66\u4f7f\u7528\u3002","title":"\u65e0\u8fd0\u52a8\u5b66"},{"location":"Config_Reference.html#_10","text":"","title":"\u5e38\u89c1\u7684\u6324\u51fa\u673a\u548c\u70ed\u5e8a\u652f\u6301"},{"location":"Config_Reference.html#extruder","text":"The extruder section is used to describe the heater parameters for the nozzle hotend along with the stepper controlling the extruder. See the command reference for additional information. See the pressure advance guide for information on tuning pressure advance. [extruder] step_pin: dir_pin: enable_pin: microsteps: rotation_distance: #full_steps_per_rotation: #gear_ratio: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cstepper\u201d\u914d\u7f6e\u5206\u6bb5\u3002 # \u5982\u679c\u672a\u6307\u5b9a\u4efb\u610f\u4e0a\u8ff0\u53c2\u6570\uff0c\u5219\u6ca1\u6709\u6b65\u8fdb\u7535\u673a\u4e0e\u70ed\u7aef\u76f8\u5173\u8054 # \uff08\u5c3d\u7ba1\u4f7f\u7528SYNC_EXTRUDER_MOTION\u547d\u4ee4\u53ef\u80fd\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u5173\u8054\u4e00\u4e2a\u70ed\u7aef\uff09 nozzle_diameter: # \u55b7\u5634\u7684\u5b54\u5f84\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 filament_diameter: # \u8fdb\u5165\u6324\u51fa\u673a\u7684\u8017\u6750\u4e0a\u6807\u7684\u76f4\u5f84\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #max_extrude_cross_section: # \u6324\u51fa\u7ebf\u6761\u6a2a\u622a\u9762\u7684\u6700\u5927\u9762\u79ef\uff08\u4ee5\u5e73\u65b9\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \uff08\u4f8b\u5982\uff1a\u6324\u51fa\u7ebf\u5bbd\u4e58\u5c42\u9ad8\uff09 # \u8fd9\u4e2a\u8bbe\u7f6e\u80fd\u9632\u6b62\u5728\u76f8\u5bf9\u8f83\u5c0f\u7684XY\u79fb\u52a8\u65f6\u4ea7\u751f\u8fc7\u5ea6\u7684\u6324\u51fa # \u5982\u679c\u4e00\u4e2a\u6324\u51fa\u901f\u7387\u8bf7\u6c42\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u503c\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef # \u9ed8\u8ba4\u503c\u662f\uff1a4.0 * \u55b7\u5634\u76f4\u5f84 ^ 2 #instantaneous_corner_velocity: 1.000 # \u4e24\u6b21\u6324\u51fa\u4e4b\u95f4\u6700\u5927\u7684\u901f\u5ea6\u53d8\u5316\uff08\u4ee5\u6beb\u7c73\u6bcf\u79d2\u4e3a\u5355\u4f4d\uff09 # \u9ed8\u8ba4\u503c\u662f\uff1a1mm/s #max_extrude_only_distance: 50.0 # \u4e00\u6b21\u6324\u51fa\u6216\u56de\u62bd\u7684\u6700\u5927\u957f\u5ea6\uff08\u4ee5\u6beb\u7c73\u8017\u6750\u7684\u957f\u5ea6\u4e3a\u5355\u4f4d\uff09 # \u5982\u679c\u4e00\u6b21\u6324\u51fa\u6216\u56de\u62bd\u8d85\u8fc7\u4e86\u8fd9\u4e2a\u503c\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef # \u9ed8\u8ba4\u503c\u662f\uff1a50mm #max_extrude_only_velocity: #max_extrude_only_accel: # \u6700\u5927\u7684\u6324\u51fa\u548c\u56de\u62bd\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73\u6bcf\u79d2\u4e3a\u5355\u4f4d\uff09 # \u548c\u52a0\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73\u6bcf\u4e8c\u6b21\u65b9\u79d2\u4e3a\u5355\u4f4d\uff09 # \u8fd9\u4e9b\u8bbe\u7f6e\u5bf9\u6b63\u5e38\u6253\u5370\u7684\u79fb\u52a8\u6ca1\u6709\u4efb\u4f55\u5f71\u54cd # \u5982\u679c\u672a\u6307\u5b9a\uff0c\u5219\u4f1a\u8ba1\u7b97\u6765\u5339\u914d XY\u6253\u5370\u901f\u5ea6\u548c\u6324\u51fa\u7ebf\u6a2a\u622a\u9762\u4e3a4.0 * \u55b7\u5634\u76f4\u5f84 ^ 2\u7684\u9650\u5236 #pressure_advance: 0.0 # \u6324\u51fa\u673a\u52a0\u901f\u8fc7\u7a0b\u4e2d\u8017\u6750\u88ab\u6324\u5165\u7684\u6570\u91cf # \u540c\u7b49\u6570\u91cf\u7684\u8017\u6750\u4f1a\u5728\u51cf\u901f\u8fc7\u7a0b\u4e2d\u6536\u56de # \u8fd9\u4e2a\u503c\u4ee5\u6beb\u7c73\u6bcf\u6beb\u7c73\u6bcf\u79d2\u6d4b\u91cf # \u5173\u95ed\u538b\u529b\u63d0\u524d\u65f6\u9ed8\u8ba4\u503c\u662f0 #pressure_advance_smooth_time: 0.040 # A time range (in seconds) to use when calculating the average # extruder velocity for pressure advance. A larger value results in # smoother extruder movements. This parameter may not exceed 200ms. # This setting only applies if pressure_advance is non-zero. The # default is 0.040 (40 milliseconds). # # The remaining variables describe the extruder heater. heater_pin: # PWM output pin controlling the heater. This parameter must be # provided. #max_power: 1.0 # The maximum power (expressed as a value from 0.0 to 1.0) that the # heater_pin may be set to. The value 1.0 allows the pin to be set # fully enabled for extended periods, while a value of 0.5 would # allow the pin to be enabled for no more than half the time. This # setting may be used to limit the total power output (over extended # periods) to the heater. The default is 1.0. sensor_type: # Type of sensor - common thermistors are \"EPCOS 100K B57560G104F\", # \"ATC Semitec 104GT-2\", \"ATC Semitec 104NT-4-R025H42G\", \"Generic # 3950\",\"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", and \"TDK NTCG104LH104JT1\". See the # \"Temperature sensors\" section for other sensors. This parameter # must be provided. sensor_pin: # Analog input pin connected to the sensor. This parameter must be # provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # This parameter is only valid when the sensor is a thermistor. The # default is 4700 ohms. #smooth_time: 1.0 # A time value (in seconds) over which temperature measurements will # be smoothed to reduce the impact of measurement noise. The default # is 1 seconds. control: # Control algorithm (either pid or watermark). This parameter must # be provided. pid_Kp: pid_Ki: pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # heater_pwm = (Kp*error + Ki*integral(error) - Kd*derivative(error)) / 255 # Where \"error\" is \"requested_temperature - measured_temperature\" # and \"heater_pwm\" is the requested heating rate with 0.0 being full # off and 1.0 being full on. Consider using the PID_CALIBRATE # command to obtain these parameters. The pid_Kp, pid_Ki, and pid_Kd # parameters must be provided for PID heaters. #max_delta: 2.0 # On 'watermark' controlled heaters this is the number of degrees in # Celsius above the target temperature before disabling the heater # as well as the number of degrees below the target before # re-enabling the heater. The default is 2 degrees Celsius. #pwm_cycle_time: 0.100 # Time in seconds for each software PWM cycle of the heater. It is # not recommended to set this unless there is an electrical # requirement to switch the heater faster than 10 times a second. # The default is 0.100 seconds. #min_extrude_temp: 170 # The minimum temperature (in Celsius) at which extruder move # commands may be issued. The default is 170 Celsius. min_temp: max_temp: # The maximum range of valid temperatures (in Celsius) that the # heater must remain within. This controls a safety feature # implemented in the micro-controller code - should the measured # temperature ever fall outside this range then the micro-controller # will go into a shutdown state. This check can help detect some # heater and sensor hardware failures. Set this range just wide # enough so that reasonable temperatures do not result in an error. # These parameters must be provided.","title":"[extruder]"},{"location":"Config_Reference.html#heater_bed","text":"heater_bed\u5206\u6bb5\u5b9a\u4e49\u4e86\u4e00\u4e2a\u70ed\u5e8a\u3002\u5b83\u6709\u548c\u201cextruder\u201d\u5206\u6bb5\u7684\u52a0\u70ed\u5668\u8bbe\u7f6e\u9009\u9879\u3002 [heater_bed] heater_pin: sensor_type: sensor_pin: control: min_temp: max_temp: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cextruder\u201d\u914d\u7f6e\u5206\u6bb5\u3002","title":"[heater_bed]"},{"location":"Config_Reference.html#_11","text":"","title":"\u6253\u5370\u5e8a\u8c03\u5e73\u652f\u6301"},{"location":"Config_Reference.html#bed_mesh","text":"\u7f51\u5e8a\u8c03\u5e73\u3002\u5b9a\u4e49\u4e00\u4e2a bed_mesh \u914d\u7f6e\u5206\u6bb5\u6765\u542f\u7528\u57fa\u4e8e\u63a2\u6d4b\u70b9\u751f\u6210\u7f51\u683c\u7684 Z \u8f74\u504f\u79fb\u79fb\u52a8\u53d8\u6362\u3002\u5f53\u4f7f\u7528\u63a2\u9488\u5f52\u4f4d Z \u8f74\u65f6\uff0c\u5efa\u8bae\u901a\u8fc7 printer.cfg \u4e2d\u5b9a\u4e49\u4e00\u4e2a safe_z_home \u5206\u6bb5\u4f7f Z \u8f74\u5f52\u4f4d\u5728\u6253\u5370\u533a\u57df\u7684\u4e2d\u5fc3\u6267\u884c\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u7f51\u5e8a\u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u3002 \u53ef\u89c6\u5316\u793a\u4f8b\uff1a rectangular bed, probe_count = 3, 3: x---x---x (max_point) | x---x---x | (min_point) x---x---x round bed, round_probe_count = 5, bed_radius = r: x (0, r) end / x---x---x \\ (-r, 0) x---x---x---x---x (r, 0) \\ x---x---x / x (0, -r) start [bed_mesh] #speed: 50 # \u6821\u51c6\u671f\u95f4\u975e\u63a2\u6d4b\u79fb\u52a8\u7684\u901f\u5ea6(mm/s) # \u9ed8\u8ba4\u662f 50. #horizontal_move_z: 5 # \u5728\u63a2\u6d4b\u4e2d\u55b7\u5934\u7684\u9ad8\u5ea6\u5355\u4f4d\u662fmm # \u9ed8\u8ba4\u503c\u662f5 #mesh_radius: # \u5b9a\u4e49\u63a2\u6d4b\u5706\u5f62\u70ed\u5e8a\u7684\u7f51\u683c\u534a\u5f84 # \u534a\u5f84\u662f\u76f8\u5bf9\u4e8emesh_origin\u6307\u5b9a\u7684\u5750\u6807 # \u6b64\u9009\u9879\u53ea\u9002\u7528\u4e8e\u5706\u5f62\u70ed\u5e8a #mesh_origin: # \u5b9a\u4e49\u5706\u5f62\u70ed\u5e8a\u7684\u4e2d\u5fc3X Y\u5750\u6807 # \u6b64\u5750\u6807\u76f8\u5bf9\u4e8e\u63a2\u5934\u7684\u4f4d\u7f6e # \u8c03\u6574 mesh_origin\u53ef\u80fd\u4f1a\u5bf9\u6700\u5927\u5316mesh_radius\u6709\u5e2e\u52a9 # \u9ed8\u8ba4\u503c\u662f0,0 # \u6b64\u9009\u9879\u53ea\u9002\u7528\u4e8e\u5706\u5f62\u70ed\u5e8a #mesh_min: # \u5b9a\u4e49\u77e9\u5f62\u70ed\u5e8a\u7684\u6700\u5c0fX Y \u5750\u6807 # \u8fd9\u4e2a\u5750\u6807\u662f\u76f8\u5bf9\u4e8e # \u8fd9\u662f\u63a2\u6d4b\u7684\u7b2c\u4e00\u4e2a\u70b9\u5728\u539f\u70b9\u9644\u8fd1 # \u77e9\u5f62\u70ed\u5e8a\u5fc5\u987b\u8981\u63d0\u4f9b\u6b64\u53c2\u6570 #mesh_max: # \u5b9a\u4e49\u77e9\u5f62\u70ed\u5e8a\u7684\u6700\u5927X Y \u5750\u6807 # \u4e0emesh_min\u76f8\u540c\u4f46\u662f\u8fd9\u5c06\u662f\u79bb\u5e8a\u7684\u539f\u70b9\u6700\u8fdc\u7684\u63a2\u6d4b\u70b9 # \u77e9\u5f62\u70ed\u5e8a\u5fc5\u987b\u8981\u63d0\u4f9b\u6b64\u53c2\u6570 #probe_count: 3, 3 # \u5bf9\u4e8e\u77e9\u5f62\u70ed\u5e8a\uff0c\u8fd9\u4e2a\u9017\u53f7\u5206\u5f00\u4e86\u5728X Y \u8f74\u9700\u8981\u63a2\u6d4b\u7684\u70b9\u6570 # \u5355\u4e2a\u503c\u4e5f\u662f\u6709\u6548\u7684\uff0c\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b\u503c\u4f1a\u88ab\u5e94\u7528\u5230\u4e24\u4e2a\u8f74 # \u9ed8\u8ba4\u503c\u662f 3, 3 #round_probe_count: 5 # \u5bf9\u4e8e\u5706\u5f62\u70ed\u5e8a\uff0c\u8fd9\u4e2a\u503c\u53bb\u5b9a\u4e49\u4e86\u6bcf\u4e2a\u8f74\u6700\u5927\u7684\u63a2\u6d4b\u70b9\u7684\u6570\u91cf # \u8fd9\u4e2a\u503c\u5fc5\u987b\u8981\u662f\u5947\u6570 # \u9ed8\u8ba4\u503c\u662f 5 #fade_start: 1.0 # \u542f\u7528fade_start\u65f6\u5f00\u59cb\u5206\u9636\u6bb5\u8c03\u6574\u7684gcode z\u4f4d\u7f6e # \u9ed8\u8ba4\u503c\u662f 1.0. #fade_end: 0.0 # \u5728\u5b8c\u6210\u6e10\u53d8\u540e\u7684gcode z \u4f4d\u7f6e # \u5f53\u503c\u6bd4 fade_start\u4f4e\u7684\u65f6\u5019\u4f1a\u7981\u7528\u6b64\u529f\u80fd # \u6ce8\u610f\u8fd9\u4e2a\u529f\u80fd\u53ef\u80fd\u4f1a\u5728\u6253\u5370\u7684\u65f6\u5019\u5f80z\u8f74\u6dfb\u52a0\u4e0d\u9700\u8981\u7684\u7f29\u653e # \u5982\u679c\u5e0c\u671b\u542f\u7528\u8fc7\u5ea6\u90a3\u4e48, \u63a8\u8350\u503c\u4e3a10.0 # \u9ed8\u8ba4\u503c\u662f 0.0 \u4e0d\u542f\u7528\u8fc7\u5ea6 #fade_target: # \u6de1\u5316\u5e94\u8be5\u805a\u96c6\u7684z\u4f4d\u7f6e # \u5f53\u8fd9\u4e2a\u503c\u88ab\u8bbe\u7f6e\u4e3a\u975e\u96f6\u503c\u65f6\u90a3\u4e48\u5c31\u5fc5\u987b\u5728\u7f51\u683c\u4e2d\u7684Z\u503c\u8303\u56f4\u5185 # \u7528\u6237\u5e0c\u671b\u6c47\u805a\u7684\u65f6\u5019z\u539f\u70b9\u7684\u4f4d\u7f6e # \u5e94\u8be5\u88ab\u8bbe\u7f6e\u4e3a0 # \u9ed8\u8ba4\u662f\u7f51\u683c\u7684\u5e73\u5747\u503c #split_delta_z: .025 # \u89e6\u53d1\u5206\u5c42\u7684\u6cbf\u9014Z\u5dee\u91cf (mm) # \u9ed8\u8ba4\u503c\u662f .025. #move_check_distance: 5.0 # \u68c0\u67e5split_delta_z\u7684\u8ddd\u79bb # \u8fd9\u4e5f\u662f\u4e00\u4e2a\u52a8\u4f5c\u53ef\u4ee5\u5206\u5c42\u7684\u6700\u5c0f\u957f\u5ea6\u3002 # \u9ed8\u8ba4\u503c\u662f 5.0 #mesh_pps: 2, 2 # \u4e00\u5bf9\u4ee5\u9017\u53f7\u5206\u9694\u7684\u6574\u6570X\u3001Y\uff0c\u5b9a\u4e49\u6bcf\u6bb5\u7684\u70b9\u7684\u6570\u91cf # \u5728\u7f51\u683c\u4e2d\u6cbf\u6bcf\u4e2a\u8f74\u63d2\u503c\u7684\u70b9\u6570 # \"segment \"\u53ef\u4ee5\u88ab\u5b9a\u4e49\u4e3a\u6bcf\u4e2a\u63a2\u6d4b\u70b9\u4e4b\u95f4\u7684\u7a7a\u95f4 # \u5982\u679c\u7528\u6237\u8f93\u5165\u4e86\u4e00\u4e2a\u503c\u90a3\u4e48\u5c06\u4f1a\u5e94\u7528\u5230\u4e24\u4e2a\u8f74\u4e0a # \u9ed8\u8ba4\u503c\u4e0a 2, 2 #algorithm: lagrange # \u8981\u4f7f\u7528\u7684\u63d2\u503c\u7b97\u6cd5 # \u53ef\u4ee5\u662f\"lagrange\"\u6216\u8005\"bicubic\" # \u8fd9\u4e2a\u9009\u9879\u4e0d\u4f1a\u5f71\u54cd 3x3 \u7684\u7f51\u683c\u56e0\u4e3a3x3 \u7684\u7f51\u683c\u4f1a\u5f3a\u5236\u4f7f\u7528lagrange\u91c7\u6837 # \u9ed8\u8ba4\u503c\u662flagrange #bicubic_tension: .2 # \u5f53\u4f7f\u7528bicubic\u7b97\u6cd5\u65f6\u4f7f\u7528bicubic_tension\u53c2\u6570\u6765\u6539\u53d8\u63d2\u503c\u7684\u659c\u7387\u91cf # \u8f83\u5927\u7684\u6570\u5b57\u4f1a\u589e\u52a0\u659c\u7387\u7684\u6570\u91cf\u4f1a\u5728\u7f51\u683c\u4e2d\u4ea7\u751f\u66f4\u591a\u7684\u5f2f\u66f2 # \u9ed8\u8ba4\u503c\u662f .2 #relative_reference_index: # \u7f51\u683c\u4e2d\u7684\u4e00\u4e2a\u70b9\u7d22\u5f15\uff0c\u7528\u6765\u5f15\u7528\u6240\u6709\u7684Z\u503c # \u542f\u7528\u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u4ea7\u751f\u4e00\u4e2a\u76f8\u5bf9\u4e8e\u6240\u63d0\u4f9b\u7684\u7d22\u5f15\u5904\u7684 # \u63a2\u6d4b\u5230\u7684Z\u4f4d\u7f6e\u7684\u7f51\u683c #faulty_region_1_min: #faulty_region_1_max: # \u53ef\u9009\u70b9\u88ab\u5b9a\u4e49\u4e3a\u6545\u969c\u533a\u57df # \u66f4\u591a\u5bf9\u4e8e\u6545\u969c\u533a\u57df\u591a\u4fe1\u606fSee docs/Bed_Mesh.md # \u6700\u591a\u53ef\u6dfb\u52a0 99 \u4e2a\u6545\u969c\u533a\u57df\u3002 # \u9ed8\u8ba4\u6ca1\u6709\u8bbe\u7f6e\u6545\u969c\u533a\u57df","title":"[bed_mesh]"},{"location":"Config_Reference.html#bed_tilt","text":"\u6253\u5370\u5e8a\u503e\u659c\u8865\u507f\u3002\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a bed_tilt \u914d\u7f6e\u5206\u6bb5\u6765\u542f\u7528\u79fb\u52a8\u53d8\u6362\u503e\u659c\u6253\u5370\u5e8a\u8865\u507f\u3002\u8bf7\u6ce8\u610f\uff0cbed_mesh \u548c bed_tilt \u4e0d\u517c\u5bb9\uff1a\u4e24\u8005\u65e0\u6cd5\u540c\u65f6\u88ab\u5b9a\u4e49\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [bed_tilt] #x_\u8c03\u6574\uff1a0 # \u5728 X \u8f74\u4e0a\u6bcf mm \u6dfb\u52a0\u5230\u6bcf\u6b21\u79fb\u52a8\u7684 Z \u9ad8\u5ea6\u7684\u91cf # \u8f74\u3002\u9ed8\u8ba4\u503c\u4e3a 0\u3002 #y_\u8c03\u6574\uff1a0 # \u5728 Y \u8f74\u4e0a\u6bcf mm \u6dfb\u52a0\u5230\u6bcf\u6b21\u79fb\u52a8\u7684 Z \u9ad8\u5ea6\u7684\u91cf # \u8f74\u3002\u9ed8\u8ba4\u503c\u4e3a 0\u3002 #z_\u8c03\u6574\uff1a0 # \u55b7\u5634\u6807\u79f0\u4f4d\u7f6e\u65f6\u6dfb\u52a0\u5230 Z \u9ad8\u5ea6\u7684\u91cf # 0, 0\u3002\u9ed8\u8ba4\u4e3a 0\u3002 # \u5176\u4f59\u53c2\u6570\u63a7\u5236\u4e00\u4e2a BED_TILT_CALIBRATE \u6269\u5c55 # g-code \u547d\u4ee4\uff0c\u53ef\u7528\u4e8e\u6821\u51c6\u9002\u5f53\u7684 x \u548c y #\u8c03\u6574\u53c2\u6570\u3002 #\u70b9\uff1a # X\u3001Y \u5750\u6807\u5217\u8868\uff08\u6bcf\u884c\u4e00\u4e2a\uff1b\u540e\u7eed\u884c # indented) \u5e94\u8be5\u5728 BED_TILT_CALIBRATE \u671f\u95f4\u63a2\u6d4b \uff03 \u547d\u4ee4\u3002\u6307\u5b9a\u55b7\u5634\u7684\u5750\u6807\u5e76\u786e\u4fdd\u63a2\u5934 # \u5728\u7ed9\u5b9a\u55b7\u5634\u5750\u6807\u5904\u7684\u5e8a\u4e0a\u65b9\u3002\u9ed8\u8ba4\u662f # \u4e0d\u542f\u7528\u547d\u4ee4\u3002 #\u901f\u5ea6\uff1a50 # \u6821\u51c6\u671f\u95f4\u975e\u63a2\u6d4b\u79fb\u52a8\u7684\u901f\u5ea6\uff08\u4ee5 mm/s \u4e3a\u5355\u4f4d\uff09\u3002 # \u9ed8\u8ba4\u4e3a 50\u3002 #horizontal_move_z\uff1a5 # \u5934\u90e8\u5e94\u8be5\u88ab\u547d\u4ee4\u79fb\u52a8\u5230\u7684\u9ad8\u5ea6\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09 # \u5c31\u5728\u5f00\u59cb\u63a2\u6d4b\u64cd\u4f5c\u4e4b\u524d\u3002\u9ed8\u8ba4\u503c\u4e3a 5\u3002","title":"[bed_tilt]"},{"location":"Config_Reference.html#bed_screws","text":"Tool to help adjust bed leveling screws. One may define a [bed_screws] config section to enable a BED_SCREWS_ADJUST g-code command. See the leveling guide and command reference for additional information. [bed_screws] #screw1: # \u7b2c\u4e00\u9897\u6253\u5370\u673a\u8c03\u5e73\u87ba\u4e1d\u7684X,Y\u5750\u6807\u3002\u8fd9\u662f\u5c06\u547d\u4ee4\u55b7\u5634\u79fb\u52a8\u5230\u87ba\u4e1d\u6b63 # \u4e0a\u65b9\u65f6\u7684\u4f4d\u7f6e\uff08\u6216\u5728\u5e8a\u4e0a\u65b9\u65f6\u5c3d\u53ef\u80fd\u63a5\u8fd1\u7684\u4f4d\u7f6e\uff09\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #screw1_name: # \u7ed9\u5b9a\u87ba\u4e1d\u7684\u540d\u79f0\u3002\u5f53\u8c03\u5e73\u52a9\u624b\u811a\u672c\u8fd0\u884c\u65f6\u4f1a\u4f7f\u7528\u8be5\u540d\u79f0\u3002 # \u9ed8\u8ba4\u503c\u662f\u87ba\u4e1d\u7684 XY \u4f4d\u7f6e #screw1_fine_adjust: # \u7528\u4e8e\u7cbe\u7ec6\u8c03\u6574\u7b2c\u4e00\u9897\u8c03\u5e73\u87ba\u4e1d\u65f6\u7684\u55b7\u5634\u88ab\u547d\u4ee4\u79fb\u52a8\u5230\u7684X,Y\u5750\u6807\u3002 # \u9ed8\u8ba4\u503c\u4e3a\u4e0d\u6267\u884c\u5bf9\u6253\u5370\u5e8a\u87ba\u4e1d\u7684\u7cbe\u7ec6\u8c03\u6574\u3002 #screw2: #screw2_name: #screw2_fine_adjust: #... # \u53ef\u4ee5\u6709\u800c\u5916\u7684\u8c03\u5e73\u87ba\u4e1d\u4f46\u662f\u81f3\u5c11\u9700\u89813\u4e2a #horizontal_move_z: 5 # \u6253\u5370\u5934\u5728\u4e24\u4e2a\u70b9\u4e4b\u95f4\u79fb\u52a8\u65f6\u5019\u7684\u9ad8\u5ea6 # \u9ed8\u8ba4\u503c\u4e3a 5 #probe_height: 0 # \u63a2\u9488\u9ad8\u5ea6 (mm) \u5728\u6253\u5370\u5e8a\u548c\u70ed\u7aef\u70ed\u81a8\u80c0\u540e\u63a2\u9488\u7684\u9ad8\u5ea6\u3002 # \u9ed8\u8ba4\u503c\u4e3a 0 #speed: 50 # \u6821\u51c6\u8fc7\u7a0b\u4e2d\u975e\u63a2\u6d4b\u79fb\u52a8\u7684\u901f\u5ea6 (mm/s) # \u9ed8\u8ba4\u503c\u4e3a 50 #probe_speed: 5 # \u4ece horizontal_move_z \u4f4d\u7f6e\u79fb\u52a8\u5230 probe_height \u4f4d\u7f6e\u7684\u901f\u5ea6 (mm/s) # \u9ed8\u8ba4\u503c\u4e3a 5","title":"[bed_screws]"},{"location":"Config_Reference.html#screws_tilt_adjust","text":"Tool to help adjust bed screws tilt using Z probe. One may define a screws_tilt_adjust config section to enable a SCREWS_TILT_CALCULATE g-code command. See the leveling guide and command reference for additional information. [screws_tilt_adjust] #screw1: # The (X, Y) coordinate of the first bed leveling screw. This is a # position to command the nozzle to so that the probe is directly # above the bed screw (or as close as possible while still being # above the bed). This is the base screw used in calculations. This # parameter must be provided. #screw1_name: # An arbitrary name for the given screw. This name is displayed when # the helper script runs. The default is to use a name based upon # the screw XY location. #screw2: #screw2_name: #... # Additional bed leveling screws. At least two screws must be # defined. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #screw_thread: CW-M3 # The type of screw used for bed level, M3, M4 or M5 and the # direction of the knob used to level the bed, clockwise decrease # counter-clockwise decrease. # Accepted values: CW-M3, CCW-M3, CW-M4, CCW-M4, CW-M5, CCW-M5. # Default value is CW-M3, most printers use an M3 screw and # turning the knob clockwise decrease distance.","title":"[screws_tilt_adjust]"},{"location":"Config_Reference.html#z_tilt","text":"\u591a\u4e2a\u72ec\u7acbZ\u8f74\u6b65\u8fdb\u7535\u673a\u7684\u503e\u659c\u6821\u6b63\u3002\u8fd9\u4e2a\u529f\u80fd\u53ef\u4ee5\u72ec\u7acb\u8c03\u6574\u591a\u4e2a Z \u6b65\u8fdb\u7535\u673a\uff08\u89c1\"stepper_z1\"\u90e8\u5206\uff09\uff0c\u4ee5\u8c03\u6574\u503e\u659c\u5ea6\u3002\u5982\u679c\u8be5\u5206\u6bb5\u5b58\u5728\uff0c\u90a3\u4e48Z_TILT_ADJUST \u6269\u5c55 G\u4ee3\u7801\u547d\u4ee4 \u5c31\u53ef\u7528\u3002 [z_tilt] #z_positions: # A list of X, Y coordinates (one per line; subsequent lines # indented) describing the location of each bed \"pivot point\". The # \"pivot point\" is the point where the bed attaches to the given Z # stepper. It is described using nozzle coordinates (the X, Y position # of the nozzle if it could move directly above the point). The # first entry corresponds to stepper_z, the second to stepper_z1, # the third to stepper_z2, etc. This parameter must be provided. #points: # A list of X, Y coordinates (one per line; subsequent lines # indented) that should be probed during a Z_TILT_ADJUST command. # Specify coordinates of the nozzle and be sure the probe is above # the bed at the given nozzle coordinates. This parameter must be # provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance. Note the smallest unit of # change here would be a single step. However if you are probing # more points than steppers then you will likely have a fixed # minimum value for the range of probed points which you can learn # by observing command output.","title":"[z_tilt]"},{"location":"Config_Reference.html#quad_gantry_level","text":"\u8c03\u5e73\u4f7f\u75284\u4e2a\u72ec\u7acbZ\u8f74\u7535\u673a\u7684\u52a8\u9f99\u95e8\u3002\u7ea0\u6b63\u52a8\u9f99\u95e8\u67b6\u7531\u4e8e\u9f99\u95e8\u6d3b\u52a8\u6027\u9020\u6210\u7684\u53cc\u66f2\u629b\u7269\u7ebf\u6548\u5e94\uff08\u85af\u7247\u5f62\uff09\u3002\u8b66\u544a\uff1a\u5728\u79fb\u52a8\u6253\u5370\u5e8a\u4e0a\u4f7f\u7528\u8be5\u529f\u80fd\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u7406\u60f3\u7684\u7ed3\u679c\u3002\u5982\u679c\u8be5\u5206\u6bb5\u5b58\u5728\uff0c\u53ef\u4ee5\u4f7f\u7528 QUAD_GANTRY_LEVEL \u6269\u5c55G\u4ee3\u7801\u547d\u4ee4\u3002\u8be5\u7a0b\u5e8f\u5047\u5b9aZ\u8f74\u7535\u673a\u914d\u7f6e\u5982\u4e0b\uff1a ---------------- |Z1 Z2| | --------- | | | | | | | | | | x-------- | |Z Z3| ---------------- Where x is the 0, 0 point on the bed [quad_gantry_level] #gantry_corners: # A newline separated list of X, Y coordinates describing the two # opposing corners of the gantry. The first entry corresponds to Z, # the second to Z2. This parameter must be provided. #points: # A newline separated list of four X, Y points that should be probed # during a QUAD_GANTRY_LEVEL command. Order of the locations is # important, and should correspond to Z, Z1, Z2, and Z3 location in # order. This parameter must be provided. For maximum accuracy, # ensure your probe offsets are configured. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #max_adjust: 4 # Safety limit if an adjustment greater than this value is requested # quad_gantry_level will abort. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance.","title":"[quad_gantry_level]"},{"location":"Config_Reference.html#skew_correction","text":"Printer Skew Correction. It is possible to use software to correct printer skew across 3 planes, xy, xz, yz. This is done by printing a calibration model along a plane and measuring three lengths. Due to the nature of skew correction these lengths are set via gcode. See Skew Correction and Command Reference for details. [skew_correction]","title":"[skew_correction]"},{"location":"Config_Reference.html#_12","text":"","title":"\u81ea\u5b9a\u4e49\u5f52\u96f6"},{"location":"Config_Reference.html#safe_z_home","text":"\u5b89\u5168Z\u8f74\u5f52\u4f4d\u3002\u53ef\u4ee5\u7528\u8be5\u673a\u5236\u5b9a\u4e49Z\u8f74\u5f52\u4f4d\u65f6\u7684 X, Y \u5750\u6807\u3002\u5728\u5de5\u5177\u5934\u5fc5\u987b\u5148\u79fb\u52a8\u5230\u6253\u5370\u5e8a\u4e2d\u592e\u518d\u8fdb\u884cZ\u5f52\u4f4d\u65f6\u5f88\u6709\u7528\u3002 [safe_z_home] home_xy_position: # A X, Y coordinate (e.g. 100, 100) where the Z homing should be # performed. This parameter must be provided. #speed: 50.0 # Speed at which the toolhead is moved to the safe Z home # coordinate. The default is 50 mm/s #z_hop: # Distance (in mm) to lift the Z axis prior to homing. This is # applied to any homing command, even if it doesn't home the Z axis. # If the Z axis is already homed and the current Z position is less # than z_hop, then this will lift the head to a height of z_hop. If # the Z axis is not already homed the head is lifted by z_hop. # The default is to not implement Z hop. #z_hop_speed: 15.0 # Speed (in mm/s) at which the Z axis is lifted prior to homing. The # default is 15 mm/s. #move_to_previous: False # When set to True, the X and Y axes are reset to their previous # positions after Z axis homing. The default is False.","title":"[safe_z_home]"},{"location":"Config_Reference.html#homing_override","text":"\u5f52\u4f4d\u8986\u5199\u3002\u53ef\u4ee5\u4f7f\u7528\u8fd9\u79cd\u673a\u5236\u6765\u8fd0\u884c\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u6765\u66ff\u4ee3\u5e38\u89c4\u7684G28\u3002\u901a\u5e38\u7528\u4e8e\u9700\u8981\u7279\u5b9a\u8fc7\u7a0b\u624d\u80fd\u5c06\u673a\u5668\u5f52\u96f6\u7684\u6253\u5370\u673a\u3002 [homing_override] gcode\uff1a # \u8986\u76d6\u5e38\u89c4 G28 \u547d\u4ee4\u7684 G \u4ee3\u7801\u547d\u4ee4\u5e8f\u5217\u3002 # G \u4ee3\u7801\u683c\u5f0f\u8bf7\u53c2\u9605 docs/Command_Templates.md\u3002\u5982\u679c # G28 \u5305\u542b\u5728\u6b64\u547d\u4ee4\u5217\u8868\u4e2d\uff0c\u5e38\u89c4\u7248\u672c\u7684G28\u4f1a\u88ab\u8c03\u7528\u5e76\u8fdb # \u884c\u6253\u5370\u673a\u7684\u6b63\u5e38\u5f52\u4f4d\u8fc7\u7a0b\u3002\u6b64\u5904\u5217\u51fa\u7684\u547d\u4ee4\u5fc5\u987b\u5f52\u4f4d\u6240 # \u6709\u8f74\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #axes: xyz # \u8981\u8986\u76d6\u7684\u8f74\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5c06\u5176\u8bbe\u7f6e\u4e3a\"z\"\uff0c\u5219\u8986\u76d6\u811a\u672c\u5c06 # \u4ec5\u5728 z \u8f74\u88ab\u5f52\u4f4d\u65f6\u8fd0\u884c\uff08\u4f8b\u5982\uff0c\u901a\u8fc7\"G28\" \u6216 \"G28 Z0\" # \u547d\u4ee4\uff09\u3002\u8bf7\u6ce8\u610f\uff0c\u8986\u76d6\u811a\u672c\u4ecd\u7136\u9700\u8981\u5f52\u4f4d\u6240\u6709\u8f74\u3002 # \u9ed8\u8ba4\u503c\u4e3a\"xyz\"\uff0c\u8986\u76d6\u5168\u90e8\u6240\u6709 G28 \u547d\u4ee4\u3002 #set_position_x\uff1a #set_position_y\uff1a #set_position_z\uff1a # \u5982\u679c\u6307\u5b9a\uff0c\u6253\u5370\u673a\u5c06\u5047\u5b9a\u8f74\u5728\u8fd0\u884c\u4e0a\u8ff0 G \u4ee3\u7801\u547d\u4ee4\u5e8f\u5217 # \u4e4b\u524d\u7684\u4f4d\u7f6e\u3002\u8be5\u8bbe\u7f6e\u4f1a\u7981\u7528\u76f8\u5e94\u8f74\u7684\u5f52\u4f4d\u68c0\u67e5\u3002\u5728\u6253\u5370 # \u5934\u5fc5\u987b\u5728\u6267\u884c\u5e38\u89c4 G28 \u673a\u5236\u524d\u79fb\u52a8\u76f8\u5e94\u7684\u8f74\u65f6\u6709\u7528\u3002 # \u9ed8\u8ba4\u4e0d\u5047\u5b9a\u8f74\u7684\u4f4d\u7f6e\u3002","title":"[homing_override]"},{"location":"Config_Reference.html#endstop_phase","text":"Stepper phase adjusted endstops. To use this feature, define a config section with an \"endstop_phase\" prefix followed by the name of the corresponding stepper config section (for example, \"[endstop_phase stepper_z]\"). This feature can improve the accuracy of endstop switches. Add a bare \"[endstop_phase]\" declaration to enable the ENDSTOP_PHASE_CALIBRATE command. See the endstop phases guide and command reference for additional information. [endstop_phase stepper_z] #endstop_accuracy: # \u8bbe\u7f6e\u9884\u671f\u7684\u9650\u4f4d\u7cbe\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\uff09\u3002 \u4ee3\u8868\u4e86\u76f8\u4f4d\u53ef\u80fd # \u89e6\u53d1\u7684\u6700\u5927\u8bef\u5dee\u8ddd\u79bb\uff08\u6bd4\u5982\uff0c\u4e00\u4e2a\u53ef\u80fd\u4f1a\u63d0\u65e9 100um \u89e6\u53d1\u6216\u5ef6\u8fdf # 100um \u89e6\u53d1\u7684\u9650\u4f4d\u9700\u8981\u5c06\u8be5\u503c\u8bbe\u4e3a 0.200,\u4e5f\u5c31\u662f 200um\uff09\u3002 # \u9ed8\u8ba4\u4e3a 4*rotation_distance/full_steps_per_rotation\u3002 #trigger_phase: # \u8be5\u53c2\u6570\u5b9a\u4e49\u4e86\u76f8\u4f4d\u89e6\u53d1\u65f6\u9884\u671f\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u76f8\u4f4d\u3002\u8fd9\u901a\u5e38\u662f\u4e24 # \u4e2a\u7531\u6b63\u659c\u6760\u7b26\u53f7\u5206\u9694\u7684\u6574\u6570 - \u76f8\u4f4d\u548c\u603b\u76f8\u4f4d\u6570\uff08\u4f8b\u5982 \"7/64\"\uff09\u3002 # \u53ea\u6709\u5f53\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5728 mcu \u91cd\u7f6e\u65f6\u4e5f\u4f1a\u91cd\u7f6e\u624d\u9700\u8981\u8be5\u53c2\u6570\u3002 # \u5982\u679c\u6ca1\u6709\u5b9a\u4e49\uff0c\u6b65\u8fdb\u76f8\u4f4d\u4f1a\u5728\u7b2c\u4e00\u6b21\u5f52\u4f4d\u65f6\u68c0\u6d4b\u5e76\u88ab\u7528\u4e8e\u540e\u7eed\u5f52\u4f4d\u3002 #endstop_align_zero: False # \u5982\u679c\u662f True \u5219\u6253\u5370\u673a\u7684 position_endstop \u76f8\u5e94\u8f74\u7684\u96f6\u70b9\u4f4d\u7f6e\u662f\u6b65\u8fdb # \u7535\u673a\u7684\u4e00\u4e2a\u5168\u6b65\u4f4d\u7f6e\u3002(\u5728Z\u8f74\u4e0a\uff0c\u5982\u679c\u6253\u5370\u5c42\u9ad8\u662f\u5168\u6b65\u7684\u500d\u6570\uff0c\u6bcf # \u5c42\u90fd\u4f1a\u5728\u5168\u6b65\u4e0a\u3002\uff09 # \u9ed8\u8ba4\u4e3a False\u3002","title":"[endstop_phase]"},{"location":"Config_Reference.html#g","text":"","title":"G \u4ee3\u7801\u5b8f\u548c\u4e8b\u4ef6"},{"location":"Config_Reference.html#gcode_macro","text":"G-Code\u5b8f\uff08\"gcode_macro\"\u524d\u7f00\u5b9a\u4e49\u7684G-Code \u5b8f\u5206\u6bb5\u6ca1\u6709\u6570\u91cf\u9650\u5236\uff09\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 \u547d\u4ee4\u6a21\u677f\u6307\u5357 \u3002 [gcode_macro \u547d\u4ee4] \u3002 #gcode: # \u4e00\u4e2a\u66ff\u4ee3\"\u547d\u4ee4\" \u6267\u884c\u7684 G \u4ee3\u7801\u547d\u4ee4\u7684\u5217\u8868\u3002\u8bf7\u770b # docs/Command_Templates.md \u4e86\u89e3\u652f\u6301\u7684 G \u4ee3\u7801\u683c\u5f0f\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #variable_<\u540d\u79f0>: # \u53ef\u4ee5\u6307\u5b9a\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\"\u53d8\u91cf_\"\u524d\u7f00\u7684\u8bbe\u7f6e\u3002 # \u5b9a\u4e49\u7684\u53d8\u91cf\u540d\u5c06\u88ab\u8d4b\u4e88\u7ed9\u5b9a\u7684\u503c\uff08\u5e76\u88ab\u89e3\u6790\u4e3a\u4f5c\u4e3a\u4e00\u4e2a # Python Literal\uff09\uff0c\u5e76\u5728\u5b8f\u6269\u5c55\u65f6\u53ef\u7528\u3002 # \u4f8b\u5982\uff0c\u4e00\u4e2a\u5e26\u6709\"variable_fan_speed = 75\"\u7684 G-Code \u547d\u4ee4\u7684 # G \u4ee3\u7801\u5217\u8868\u4e2d\u53ef\u4ee5\u5305\u542b\"M106 S{ fan_speed * 255 }\"\u3002\u53d8\u91cf # \u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4f7f\u7528 SET_GCODE_VARIABLE \u547d\u4ee4\u8fdb\u884c\u4fee\u6539 # \uff08\u8be6\u89c1docs/Command_Templates.md\uff09\u3002\u53d8\u91cf\u540d\u79f0 # \u4e0d\u80fd\u4f7f\u7528\u5927\u5199\u5b57\u6bcd\u3002 #rename_existing: # \u8fd9\u4e2a\u9009\u9879\u5c06\u5bfc\u81f4\u5b8f\u8986\u76d6\u4e00\u4e2a\u73b0\u6709\u7684 G-Code \u547d\u4ee4\uff0c\u5e76\u901a\u8fc7 # \u8fd9\u91cc\u63d0\u4f9b\u7684\u540d\u79f0\u5f15\u7528\u8be5\u547d\u4ee4\u7684\u5148\u524d\u5b9a\u4e49\u3002\u8986\u76d6\u547d\u4ee4\u65f6\u5e94\u6ce8 # \u610f\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u4f1a\u5bfc\u81f4\u590d\u6742\u548c\u610f\u5916\u7684\u9519\u8bef\u3002 # \u9ed8\u8ba4\u4e0d\u8986\u76d6\u73b0\u6709\u7684 G-Code \u547d\u4ee4\u3002 #description: G-Code macro # \u5728 HELP \u547d\u4ee4\u6216\u81ea\u52a8\u5b8c\u6210\u4e2d\u4f7f\u7528\u7684\u7b80\u5355\u63cf\u8ff0\u3002 # \u9ed8\u8ba4\u4e3a\"G-Code macro\"\u3002","title":"[gcode_macro]"},{"location":"Config_Reference.html#delayed_gcode","text":"\u5728\u8bbe\u5b9a\u7684\u5ef6\u8fdf\u4e0a\u6267\u884c gcode\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u547d\u4ee4\u6a21\u677f\u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u3002 [delayed_gcode my_delayed_gcode]\u3002 gcode: # \u5f53\u5ef6\u8fdf\u65f6\u95f4\u7ed3\u675f\u540e\u6267\u884c\u7684G\u4ee3\u7801\u547d\u4ee4\u5217\u8868\u3002\u652f\u6301G\u4ee3\u7801\u6a21\u677f\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #initial_duration:0.0 # \u521d\u59cb\u5ef6\u8fdf\u7684\u6301\u7eed\u65f6\u95f4(\u4ee5\u79d2\u4e3a\u5355\u4f4d)\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a\u4e00\u4e2a # \u975e\u96f6\u503c\uff0cdelayed_gcode \u5c06\u5728\u6253\u5370\u673a\u8fdb\u5165 \"\u5c31\u7eea \"\u72b6\u6001\u540e\u6307\u5b9a # \u79d2\u6570\u540e\u6267\u884c\u3002\u53ef\u80fd\u5bf9\u521d\u59cb\u5316\u7a0b\u5e8f\u6216\u91cd\u590d\u7684 delayed_gcode \u6709 # \u7528\u3002\u5982\u679c\u8bbe\u7f6e\u4e3a 0\uff0cdelayed_gcode \u5c06\u5728\u542f\u52a8\u65f6\u4e0d\u6267\u884c\u3002 # \u9ed8\u8ba4\u4e3a0\u3002","title":"[delayed_gcode]"},{"location":"Config_Reference.html#save_variables","text":"Support saving variables to disk so that they are retained across restarts. See command templates and G-Code reference for further information. [save_variables] filename: # \u5fc5\u987b\u63d0\u4f9b\u4e00\u4e2a\u53ef\u4ee5\u7528\u6765\u4fdd\u5b58\u53c2\u6570\u5230\u78c1\u76d8\u7684\u6587\u4ef6\u540d\u3002 # \u4f8b\u5982 . ~/variables.cfg","title":"[save_variables]"},{"location":"Config_Reference.html#idle_timeout","text":"\u7a7a\u95f2\u8d85\u65f6\u3002\u9ed8\u8ba4\u542f\u7528\u7a7a\u95f2\u8d85\u65f6 - \u6dfb\u52a0\u663e\u5f0f idle_timeout \u914d\u7f6e\u5206\u6bb5\u4ee5\u66f4\u6539\u9ed8\u8ba4\u8bbe\u7f6e\u3002 [idle_timeout] #gcode: # \u5728\u7a7a\u95f2\u8d85\u65f6\u65f6\u6267\u884c\u7684\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u3002G-Code \u683c\u5f0f\u8bf7\u89c1 # docs/Command_Templates.md\u3002 # \u9ed8\u8ba4\u8fd0\u884c \"TURN_OFF_HEATERS\" \u548c \"M84\"\u3002 #timeout: 600 # \u5728\u6267\u884c\u4ee5\u4e0a G-Code \u524d\u7b49\u5f85\u7684\u7a7a\u95f2\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \u9ed8\u8ba4\u4e3a 600 \u79d2\u3002","title":"[idle_timeout]"},{"location":"Config_Reference.html#g-code","text":"","title":"\u53ef\u9009\u7684 G-Code \u7279\u6027"},{"location":"Config_Reference.html#virtual_sdcard","text":"\u5982\u679c\u4e3b\u673a\u7684\u901f\u5ea6\u4e0d\u8db3\u4ee5\u5f88\u597d\u5730\u8fd0\u884c OctoPrint\uff0c\u865a\u62df SD \u5361\u53ef\u80fd\u6709\u5e2e\u52a9\u3002\u5b83\u5141\u8bb8 Klipper \u4e3b\u673a\u8f6f\u4ef6\u4f7f\u7528\u6807\u51c6\u7684 SD \u5361G\u4ee3\u7801\u547d\u4ee4\uff08\u4f8b\u5982\uff0cM24\uff09\u76f4\u63a5\u6253\u5370\u5b58\u50a8\u5728\u4e3b\u673a\u76ee\u5f55\u4e2d\u7684 gcode \u6587\u4ef6\u3002 [virtual_sdcard] path: # The path of the local directory on the host machine to look for # g-code files. This is a read-only directory (sdcard file writes # are not supported). One may point this to OctoPrint's upload # directory (generally ~/.octoprint/uploads/ ). This parameter must # be provided. #on_error_gcode: # A list of G-Code commands to execute when an error is reported.","title":"[virtual_sdcard]"},{"location":"Config_Reference.html#sdcard_loop","text":"Some printers with stage-clearing features, such as a part ejector or a belt printer, can find use in looping sections of the sdcard file. (For example, to print the same part over and over, or repeat the a section of a part for a chain or other repeated pattern). \u6709\u5173\u652f\u6301\u7684\u547d\u4ee4\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002\u517c\u5bb9Marlin M808 \u7684G\u4ee3\u7801\u5b8f\u53ef\u4ee5\u5728 sample-macros.cfg \u4e2d\u627e\u5230\u3002 [sdcard_loop]","title":"[sdcard_loop]"},{"location":"Config_Reference.html#force_move","text":"Support manually moving stepper motors for diagnostic purposes. Note, using this feature may place the printer in an invalid state - see the command reference for important details. [force_move] #enable_force_move: False # \u8bbe\u7f6e\u4e3atrue\u6765\u542f\u7528 FORCE_MOVE \u548c SET_KINEMATIC_POSITION \u6269\u5c55 # G\u4ee3\u7801\u547d\u4ee4\u3002 # \u9ed8\u8ba4\u4e3afalse\u3002","title":"[force_move]"},{"location":"Config_Reference.html#pause_resume","text":"\u6682\u505c/\u6062\u590d\u529f\u80fd\uff0c\u652f\u6301\u4f4d\u7f6e\u50a8\u5b58\u548c\u6062\u590d\u3002\u66f4\u591a\u4fe1\u606f\u89c1 \u547d\u4ee4\u53c2\u8003 \u3002 [pause_resume] #recover_velocity: 50. # \u5f53\u6355\u6349/\u6062\u590d\u529f\u80fd\u88ab\u542f\u7528\u65f6\uff0c\u8fd4\u56de\u5230\u6355\u83b7\u7684\u4f4d\u7f6e\u7684\u901f\u5ea6(\u5355\u4f4d\uff1a\u6beb\u7c73/\u79d2)\u3002 # \u9ed8\u8ba4\u4e3a50.0 mm/s\u3002","title":"[pause_resume]"},{"location":"Config_Reference.html#firmware_retraction","text":"\u56fa\u4ef6\u8017\u6750\u56de\u62bd\u3002\u8fd9\u4e2a\u9009\u9879\u542f\u7528\u4e86\u8bb8\u591a\u5207\u7247\u8f6f\u4ef6\u53d1\u5e03\u7684G10\uff08\u56de\u62bd\uff09\u548cG11\uff08\u56de\u62bd\u540e\u6062\u590d\u6324\u51fa\uff09GCODE\u6307\u4ee4\u3002\u4e0b\u9762\u7684\u53c2\u6570\u63d0\u4f9b\u4e86\u542f\u52a8\u9ed8\u8ba4\u503c\uff0c\u5c3d\u7ba1\u8fd9\u4e9b\u503c\u53ef\u4ee5\u901a\u8fc7SET_RETRACTION command \u6765\u5141\u8bb8\u6bcf\u4e2a\u8017\u6750\u8bbe\u7f6e\u548c\u8fd0\u884c\u65f6\u8c03\u6574 [firmware_retraction] #retract_length: 0 # \u5f53 G10 \u88ab\u8fd0\u884c\u65f6\u56de\u62bd\u7684\u957f\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\uff09 # \u548c\u5f53 G11 \u88ab\u8fd0\u884c\u65f6\u9000\u56de\u7684\u957f\u5ea6\uff08\u4f46\u540c\u65f6\u4e5f\u5305\u62ec # \u4ee5\u4e0b\u7684unretract_extra_length\uff09\u3002 # \u9ed8\u8ba4\u4e3a0\u6beb\u7c73\u3002 #retract_speed: 20 # \u56de\u62bd\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73\u6bcf\u79d2(mm/s)\u4e3a\u5355\u4f4d\u3002\u9ed8\u8ba4\u4e3a\u6bcf\u79d220\u6beb\u7c73\u3002 #unretract_extra_length: 0 # \u9000\u56de\u65f6\u589e\u52a0*\u989d\u5916*\u957f\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\uff09\u7684\u8017\u6750\u3002 #unretract_speed: 10 # \u9000\u56de\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73(mm)\u4e3a\u5355\u4f4d\u3002 # \u9ed8\u8ba4\u503c\u4e3a10mm/s","title":"[firmware_retraction]"},{"location":"Config_Reference.html#gcode_arcs","text":"\u652f\u6301G\u4ee3\u7801\u5f27\u7ebf(G2/G3)\u547d\u4ee4\u3002 [gcode_arcs] #resolution: 1.0 # \u4e00\u6761\u5f27\u7ebf\u5c06\u88ab\u5206\u5272\u6210\u82e5\u5e72\u6bb5\u3002\u6bcf\u6bb5\u7684\u957f\u5ea6\u5c06 # \u7b49\u4e8e\u4e0a\u9762\u8bbe\u7f6e\u7684\u5206\u8fa8\u7387\uff08mm\uff09\u3002\u66f4\u4f4e\u7684\u503c\u4f1a\u4ea7\u751f\u4e00\u4e2a # \u66f4\u7ec6\u817b\u7684\u5f27\u7ebf\uff0c\u4f46\u4e5f\u4f1a\u9700\u8981\u673a\u5668\u8fdb\u884c\u66f4\u591a\u8fd0\u7b97\u3002\u5c0f\u4e8e # \u914d\u7f6e\u503c\u7684\u66f2\u7ebf\u4f1a\u88ab\u89c6\u4e3a\u76f4\u7ebf\u3002 # \u9ed8\u8ba4\u4e3a1\u6beb\u7c73\u3002","title":"[gcode_arcs]"},{"location":"Config_Reference.html#respond","text":"\u542f\u7528\u201cM118\u201d\u548c\u201cRESPOND\u201d\u6269\u5c55 commands \u3002 [respond] #default_type: echo # Sets the default prefix of the \"M118\" and \"RESPOND\" output to one # of the following: # echo: \"echo: \" (This is the default) # command: \"// \" # error: \"!! \" #default_prefix: echo: # Directly sets the default prefix. If present, this value will # override the \"default_type\".","title":"[respond]"},{"location":"Config_Reference.html#exclude_object","text":"Enables support to exclude or cancel individual objects during the printing process. See the exclude objects guide and command reference for additional information. See the sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro. [exclude_object]","title":"[exclude_object]"},{"location":"Config_Reference.html#_13","text":"","title":"\u5171\u632f\u8865\u507f"},{"location":"Config_Reference.html#input_shaper","text":"\u542f\u7528 \u5171\u632f\u8865\u507f \u3002 \u53e6\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [input_shaper] #shaper_freq_x: 0 # \u8f93\u5165\u6574\u5f62\u5668\u7684 X \u8f74\u9891\u7387(Hz)\u3002\u901a\u5e38\u8fd9\u662f\u5e0c\u671b\u88ab\u8f93\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # X \u8f74\u5171\u632f\u9891\u7387\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f93\u5165 # \u6574\u5f62\u5668\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u53ef\u80fd\u9700\u8981\u8003\u8651\u5176\u4ed6\u7279\u6027\u3002 # \u9ed8\u8ba4\u503c\u662f0\uff0c\u7981\u7528 X \u8f74\u8f93\u5165\u6574\u5f62\u3002 #shaper_freq_y: 0 # \u8f93\u5165\u6574\u5f62\u5668\u7684 Y \u8f74\u9891\u7387(Hz)\u3002\u901a\u5e38\u8fd9\u662f\u5e0c\u671b\u88ab\u8f93\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # Y \u8f74\u5171\u632f\u9891\u7387\u3002\u5bf9\u4e8e\u66f4\u590d\u6742\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f93\u5165 # \u6574\u5f62\u5668\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u53c2\u6570\u53ef\u80fd\u9700\u8981\u8003\u8651\u5176\u4ed6\u7279\u6027\u3002 # \u9ed8\u8ba4\u503c\u662f0\uff0c\u7981\u7528 Y \u8f74\u8f93\u5165\u6574\u5f62\u3002 #shaper_type: mzv # \u7528\u4e8e X \u548c Y \u8f74\u7684\u8f93\u5165\u6574\u5f62\u5668\u3002\u652f\u6301\u7684\u8f93\u5165\u6574\u5f62\u5668\u6709 zv\u3001mzv\u3001 # zvd\u3001ei\u30012hump_ei \u548c 3hump_ei\u3002 # \u9ed8\u8ba4\u4e3a mzv \u8f93\u5165\u6574\u5f62\u5668\u3002 #shaper_type_x: #shaper_type_y: # \u5982\u679c\u6ca1\u6709\u8bbe\u7f6e shaper_type\uff0c\u53ef\u4ee5\u7528\u8fd9\u4e24\u4e2a\u53c2\u6570\u6765\u5355\u72ec\u914d\u7f6e X # \u548c Y \u8f74\u7684 \u8f93\u5165\u6574\u5f62\u5668\u3002 # \u8be5\u53c2\u6570\u652f\u6301\u5168\u90e8shaper_type \u652f\u6301\u7684\u9009\u9879\u3002 #damping_ratio_x: 0.1 #damping_ratio_y: 0.1 # X \u548c Y \u8f74\u7684\u5171\u632f\u6291\u5236\u6bd4\u4f8b\uff0c\u53ef\u4ee5\u7528\u6765\u6539\u5584\u632f\u52a8\u6291\u5236\u6548\u679c\u3002 # \u9ed8\u8ba4\u503c\u662f 0.1\uff0c\u9002\u7528\u4e8e\u5927\u591a\u6570\u6253\u5370\u673a\u3002 # \u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u8c03\u6574\u8fd9\u4e2a\u503c\u3002","title":"[input_shaper]"},{"location":"Config_Reference.html#adxl345","text":"Support for ADXL345 accelerometers. This support allows one to query accelerometer measurements from the sensor. This enables an ACCELEROMETER_MEASURE command (see G-Codes for more information). The default chip name is \"default\", but one may specify an explicit name (eg, [adxl345 my_chip_name]). [adxl345] cs_pin: # \u4f20\u611f\u5668\u7684 SPI \u542f\u7528\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #spi_speed: 5000000 # \u4e0e\u82af\u7247\u901a\u4fe1\u65f6\u4f7f\u7528\u7684SPI\u901f\u5ea6(hz)\u3002 # \u9ed8\u8ba4\u4e3a5000000\u3002 #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u53c2\u89c1\"\u5e38\u89c1\u7684SPI\u8bbe\u7f6e\"\u7ae0\u8282\uff0c\u4ee5\u4e86\u89e3\u5bf9\u4e0a\u8ff0\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #axes_map: x, y, z # \u6253\u5370\u673a\u7684X\u3001Y\u548cZ\u8f74\u7684\u52a0\u901f\u5ea6\u8ba1\u8f74\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8ba1\u7684\u5b89\u88c5\u65b9\u5411\u4e0e\u6253\u5370\u673a\u7684\u65b9\u5411\u4e0d\u4e00\u81f4\uff0c # \u53ef\u80fd\u9700\u8981\u4fee\u6539\u8be5\u8bbe\u5b9a\u3002 # \u4f8b\u5982\uff0c\u53ef\u4ee5\u5c06\u5176\u8bbe\u7f6e\u4e3a\"y, x, z\"\u6765\u4ea4\u6362X\u548cY\u8f74\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8ba1\u65b9\u5411\u662f\u76f8\u53cd\u7684\uff0c\u53ef\u80fd\u9700\u8981\u53cd\u8f6c\u76f8\u5e94\u8f74 # \uff08\u4f8b\u5982\uff0c\"x, z, -y\"\uff09\u3002 # \u9ed8\u8ba4\u662f\"x, y, z\"\u3002 #rate: 3200 # ADXL345\u7684\u8f93\u51fa\u6570\u636e\u901f\u7387\u3002ADXL345\u652f\u6301\u4ee5\u4e0b\u6570\u636e\u901f\u7387\u3002 # 3200\u30011600\u3001800\u3001400\u3001200\u3001100\u300150\u548c25\u3002\u8bf7\u6ce8\u610f\uff0c\u4e0d\u5efa\u8bae # \u5c06\u6b64\u901f\u7387\u4ece\u9ed8\u8ba4\u76843200\u6539\u4e3a\u4f4e\u4e8e800\u7684\u901f\u7387\uff0c\u8fd9\u5c06\u5927\u5927\u5f71\u54cd # \u5171\u632f\u6d4b\u91cf\u7684\u8d28\u91cf\u3002","title":"[adxl345]"},{"location":"Config_Reference.html#mpu9250","text":"Support for mpu9250 and mpu6050 accelerometers (one may define any number of sections with an \"mpu9250\" prefix). [mpu9250 my_accelerometer] #i2c_address: # Default is 104 (0x68). #i2c_mcu: #i2c_bus: #i2c_speed: 400000 # See the \"common I2C settings\" section for a description of the # above parameters. The default \"i2c_speed\" is 400000. #axes_map: x, y, z # See the \"adxl345\" section for information on this parameter.","title":"[mpu9250]"},{"location":"Config_Reference.html#resonance_tester","text":"Support for resonance testing and automatic input shaper calibration. In order to use most of the functionality of this module, additional software dependencies must be installed; refer to Measuring Resonances and the command reference for more information. See the Max smoothing section of the measuring resonances guide for more information on max_smoothing parameter and its use. [resonance_tester] #probe_points: # A list of X, Y, Z coordinates of points (one point per line) to test # resonances at. At least one point is required. Make sure that all # points with some safety margin in XY plane (~a few centimeters) # are reachable by the toolhead. #accel_chip: # A name of the accelerometer chip to use for measurements. If # adxl345 chip was defined without an explicit name, this parameter # can simply reference it as \"accel_chip: adxl345\", otherwise an # explicit name must be supplied as well, e.g. \"accel_chip: adxl345 # my_chip_name\". Either this, or the next two parameters must be # set. #accel_chip_x: #accel_chip_y: # Names of the accelerometer chips to use for measurements for each # of the axis. Can be useful, for instance, on bed slinger printer, # if two separate accelerometers are mounted on the bed (for Y axis) # and on the toolhead (for X axis). These parameters have the same # format as 'accel_chip' parameter. Only 'accel_chip' or these two # parameters must be provided. #max_smoothing: # Maximum input shaper smoothing to allow for each axis during shaper # auto-calibration (with 'SHAPER_CALIBRATE' command). By default no # maximum smoothing is specified. Refer to Measuring_Resonances guide # for more details on using this feature. #min_freq: 5 # Minimum frequency to test for resonances. The default is 5 Hz. #max_freq: 133.33 # Maximum frequency to test for resonances. The default is 133.33 Hz. #accel_per_hz: 75 # This parameter is used to determine which acceleration to use to # test a specific frequency: accel = accel_per_hz * freq. Higher the # value, the higher is the energy of the oscillations. Can be set to # a lower than the default value if the resonances get too strong on # the printer. However, lower values make measurements of # high-frequency resonances less precise. The default value is 75 # (mm/sec). #hz_per_sec: 1 # Determines the speed of the test. When testing all frequencies in # range [min_freq, max_freq], each second the frequency increases by # hz_per_sec. Small values make the test slow, and the large values # will decrease the precision of the test. The default value is 1.0 # (Hz/sec == sec^-2).","title":"[resonance_tester]"},{"location":"Config_Reference.html#_14","text":"","title":"\u914d\u7f6e\u6587\u4ef6\u52a9\u624b"},{"location":"Config_Reference.html#board_pins","text":"\u63a7\u5236\u677f\u5f15\u811a\u522b\u540d\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709 \"board_pins \"\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\u7528\u5b83\u6765\u5b9a\u4e49\u5fae\u63a7\u5236\u5668\u4e0a\u7684\u5f15\u811a\u7684\u522b\u540d\u3002 [board_pins my_aliases]\u3002 mcu: mcu # \u4e00\u4e2a\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u7684\u9017\u53f7\u5206\u9694\u7684\u5fae\u63a7\u5236\u5668\u5217\u8868\u3002 # \u9ed8\u8ba4\u5c06\u522b\u540d\u5e94\u7528\u4e8e\u4e3b \"mcu\"\u3002 aliases: aliases_<name>: # \u4e3a\u7ed9\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u521b\u5efa\u7684\u4e00\u4e2a\u4ee5\u9017\u53f7\u5206\u9694\u7684 \"name=value \" # \u522b\u540d\u5217\u8868\u3002\u4f8b\u5982\uff0c\"EXP1_1=PE6\" \u5c06\u521b\u5efa\u4e00\u4e2a\u7528\u4e8e \"PE6 \"\u5f15 # \u811a\u7684\"EXP1_1 \"\u522b\u540d\u3002\u7136\u800c\uff0c\u5982\u679c \"\u503c \" \u88ab\u5305\u62ec\u5728 \"<>\"\u4e2d\uff0c # \u5219 \"name \"\u5c06\u88ab\u521b\u5efa\u4e3a\u4e00\u4e2a\u4fdd\u7559\u9488\u811a\uff08\u4f8b\u5982\uff0c\"EXP1_9=<GND>\" # \u5c06\u4fdd\u7559 \"EXP1_9\"\uff09\u3002\u53ef\u4ee5\u6307\u5b9a\u4efb\u4f55\u6570\u91cf\u4ee5 \"aliases_\"\u5f00\u5934\u7684\u5206\u6bb5\u3002","title":"[board_pins]"},{"location":"Config_Reference.html#include","text":"\u5f15\u5165\u6587\u4ef6\u652f\u6301\u3002\u53ef\u4ee5\u5728\u4e3b\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u7528\u989d\u5916\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u652f\u6301\u901a\u914d\u7b26\uff08\u4f8b\u5982\uff0c configs/*.cfg \uff09\u3002 [include my_other_config.cfg]","title":"[include]"},{"location":"Config_Reference.html#duplicate_pin_override","text":"This tool allows a single micro-controller pin to be defined multiple times in a config file without normal error checking. This is intended for diagnostic and debugging purposes. This section is not needed where Klipper supports using the same pin multiple times, and using this override may cause confusing and unexpected results. [duplicate_pin_override] pins: # \u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5f15\u811a\u5217\u8868\uff0c\u5141\u8bb8\u5176\u4e2d\u7684\u5f15\u811a\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u88ab\u591a\u6b21\u4f7f\u7528\u800c\u4e0d\u89e6\u53d1\u9519\u8bef\u68c0\u67e5\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002","title":"[duplicate_pin_override]"},{"location":"Config_Reference.html#_15","text":"","title":"\u70ed\u5e8a\u63a2\u6d4b\u786c\u4ef6"},{"location":"Config_Reference.html#probe","text":"Z height probe. One may define this section to enable Z height probing hardware. When this section is enabled, PROBE and QUERY_PROBE extended g-code commands become available. Also, see the probe calibrate guide . The probe section also creates a virtual \"probe:z_virtual_endstop\" pin. One may set the stepper_z endstop_pin to this virtual pin on cartesian style printers that use the probe in place of a z endstop. If using \"probe:z_virtual_endstop\" then do not define a position_endstop in the stepper_z config section. [probe] pin: # Probe detection pin. If the pin is on a different microcontroller # than the Z steppers then it enables \"multi-mcu homing\". This # parameter must be provided. #deactivate_on_each_sample: True # This determines if Klipper should execute deactivation gcode # between each probe attempt when performing a multiple probe # sequence. The default is True. #x_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # x-axis. The default is 0. #y_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # y-axis. The default is 0. z_offset: # The distance (in mm) between the bed and the nozzle when the probe # triggers. This parameter must be provided. #speed: 5.0 # Speed (in mm/s) of the Z axis when probing. The default is 5mm/s. #samples: 1 # The number of times to probe each point. The probed z-values will # be averaged. The default is to probe 1 time. #sample_retract_dist: 2.0 # The distance (in mm) to lift the toolhead between each sample (if # sampling more than once). The default is 2mm. #lift_speed: # Speed (in mm/s) of the Z axis when lifting the probe between # samples. The default is to use the same value as the 'speed' # parameter. #samples_result: average # The calculation method when sampling more than once - either # \"median\" or \"average\". The default is average. #samples_tolerance: 0.100 # The maximum Z distance (in mm) that a sample may differ from other # samples. If this tolerance is exceeded then either an error is # reported or the attempt is restarted (see # samples_tolerance_retries). The default is 0.100mm. #samples_tolerance_retries: 0 # The number of times to retry if a sample is found that exceeds # samples_tolerance. On a retry, all current samples are discarded # and the probe attempt is restarted. If a valid set of samples are # not obtained in the given number of retries then an error is # reported. The default is zero which causes an error to be reported # on the first sample that exceeds samples_tolerance. #activate_gcode: # A list of G-Code commands to execute prior to each probe attempt. # See docs/Command_Templates.md for G-Code format. This may be # useful if the probe needs to be activated in some way. Do not # issue any commands here that move the toolhead (eg, G1). The # default is to not run any special G-Code commands on activation. #deactivate_gcode: # A list of G-Code commands to execute after each probe attempt # completes. See docs/Command_Templates.md for G-Code format. Do not # issue any commands here that move the toolhead. The default is to # not run any special G-Code commands on deactivation.","title":"[probe]"},{"location":"Config_Reference.html#bltouch","text":"BLTouch \u63a2\u9488\u3002\u53ef\u4ee5\u5b9a\u4e49\u8fd9\u4e2a\u5206\u6bb5\uff08\u800c\u4e0d\u662f\u63a2\u9488\uff08probe\uff09\u5206\u6bb5\uff09\u6765\u542f\u7528 BLTouch \u63a2\u9488\u3002\u66f4\u591a\u4fe1\u606f\u89c1 BL-Touch \u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u3002\u4e00\u4e2a\u865a\u62df\u7684 \"probe:z_virtual_endstop \"\u5f15\u811a\u4e5f\u4f1a\u88ab\u540c\u65f6\u521b\u5efa\uff08\u8be6\u89c1 \"probe \"\u7ae0\u8282\uff09\u3002 [bltouch] sensor_pin: # \u8fde\u63a5\u5230 BLTouch sensor \u9488\u811a\u7684\u5f15\u811a\u3002\u5927\u591a\u6570 BLTouch \u9700\u8981\u5728\u4f20\u611f\u5668\u5f15\u811a # \u4e0a\u6709\u4e00\u4e2a\u4e0a\u62c9\uff08\u5728\u5f15\u811a\u540d\u79f0\u524d\u52a0\u4e0a\"^\"\uff09\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 control_pin: # \u8fde\u63a5\u5230 BLTouch control \u5f15\u811a\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #pin_move_time: 0.680 # \u7b49\u5f85 BLTouch \u5f15\u811a\u5411\u4e0a\u6216\u5411\u4e0b\u79fb\u52a8\u7684\u65f6\u95f4\uff08\u79d2\uff09\u3002 # \u9ed8\u8ba4\u4e3a0.680\u79d2\u3002 #stow_on_each_sample: True # \u51b3\u5b9a Klipper \u5728\u591a\u6b21\u63a2\u6d4b\u7684\u5e8f\u5217\u4e2d\u6bcf\u4e00\u6b21\u63a2\u6d4b\u95f4\u662f\u5426\u547d\u4ee4\u7f29\u56de\u63a2\u9488\u3002 # \u5728\u8bbe\u7f6e\u4e3aFalse\u4e4b\u524d\uff0c\u8bf7\u9605\u8bfbdocs/BLTouch.md\u4e2d\u7684\u8bf4\u660e\u3002 # \u9ed8\u8ba4\u503c\u662fTrue\u3002 #probe_with_touch_mode: False # \u5982\u679c\u4e3aTrue\uff0c\u90a3\u4e48Klipper\u5c06\u5728\u8bbe\u5907\u5904\u4e8e\"touch_mode\"\u6a21\u5f0f\u4e0b\u8fdb\u884c # \u63a2\u6d4b\u3002 # \u9ed8\u8ba4\u4e3aFalse(\u5728\"pin_down\"\u6a21\u5f0f\u4e0b\u63a2\u6d4b)\u3002 #pin_up_reports_not_triggered: True # \u8bbe\u7f6e BLTouch \u5728\u6bcf\u6b21\u6210\u529f\u7684\u53d1\u9001\u201cpin_up\"\u547d\u4ee4\u6536\u9488\u540e\u65f6\u5019\u4f1a\u6301\u7eed # \u62a5\u544a\u63a2\u9488\u5904\u4e8e\"\u672a\u89e6\u53d1\"\u72b6\u6001\u3002\u6240\u6709\u6b63\u7248\u7684 BLTouch \u90fd\u5e94\u8be5\u662f True\u3002 # \u5728\u8bbe\u7f6e\u4e3aFalse\u524d\u8bf7\u9605\u8bfbdocs/BLTouch.md\u4e2d\u7684\u8bf4\u660e\u3002 # \u9ed8\u8ba4\u4e3aTrue\u3002 #pin_up_touch_mode_reports_triggered:True # \u8bbe\u7f6e BLTouch \u5728\u8fde\u7eed\u53d1\u9001\"pin_up\"\u548c\"touch_mode\"\u540e\u662f\u5426\u6301\u7eed\u62a5\u544a # \"\u89e6\u53d1\"\u72b6\u6001\u3002\u6240\u6709\u6b63\u7248 BLTouch \u90fd\u662fTrue\u3002\u5728\u8bbe\u7f6e\u4e3aFalse\u4e4b\u524d\uff0c\u8bf7\u5148\u9605\u8bfb # docs/BLTouch.md\u4e2d\u7684\u8bf4\u660e\u3002 # \u9ed8\u8ba4\u4e3aTrue\u3002 #set_output_mode: # \u5728BLTouch V3.0(\u53ca\u4ee5\u540e\u7684\u7248\u672c)\u4e0a\u8bf7\u6c42\u4e00\u4e2a\u7279\u5b9a\u7684\u4f20\u611f\u5668\u5f15\u811a\u8f93\u51fa\u6a21\u5f0f\u3002 # \u5728\u5176\u4ed6\u7c7b\u578b\u7684\u63a2\u9488\u4e0a\u4e0d\u5e94\u8be5\u8bf7\u6c42\u4efb\u4f55\u8f93\u51fa\u6a21\u5f0f\u3002\u8bbe\u7f6e\u4e3a\"5V\"\u4ee5\u8981\u6c42\u4f20\u611f # \u5668\u5f15\u811a\u8f93\u51fa5\u4f0f\u7535\u538b\uff08\u53ea\u5728\u6253\u5370\u673a\u4e3b\u677f\u5f15\u811a\u9700\u8981 5V \u6a21\u5f0f\uff0c\u5e76\u4e14\u5176\u8f93\u5165\u7684 # \u4fe1\u53f7\u7ebf\u53ef\u4ee5\u5bb9\u5fcd5V\u65f6\u53ef\u4ee5\u4f7f\u7528\uff09\u3002\u8bbe\u7f6e\u4e3a\"OD\"\u4ee5\u8981\u6c42\u4f20\u611f\u5668\u5f15\u811a\u8f93\u51fa # \u4f7f\u7528\u5f00\u6f0f(open drain)\u6a21\u5f0f\u3002 # \u9ed8\u8ba4\u4e0d\u8981\u6c42\u8f93\u51fa\u6a21\u5f0f\u3002 #x_offset: #y_offset: #z_offset: #z_offset: #speed: #lift_speed: #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: #samples_tolerance_retries: # \u6709\u5173\u8fd9\u4e9b\u53c2\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\"probe\"\u5206\u6bb5\u3002","title":"[bltouch]"},{"location":"Config_Reference.html#smart_effector","text":"The \"Smart Effector\" from Duet3d implements a Z probe using a force sensor. One may define this section instead of [probe] to enable the Smart Effector specific features. This also enables runtime commands to adjust the parameters of the Smart Effector at run time. [smart_effector] pin: # Pin connected to the Smart Effector Z Probe output pin (pin 5). Note that # pullup resistor on the board is generally not required. However, if the # output pin is connected to the board pin with a pullup resistor, that # resistor must be high value (e.g. 10K Ohm or more). Some boards have a low # value pullup resistor on the Z probe input, which will likely result in an # always-triggered probe state. In this case, connect the Smart Effector to # a different pin on the board. This parameter is required. #control_pin: # Pin connected to the Smart Effector control input pin (pin 7). If provided, # Smart Effector sensitivity programming commands become available. #probe_accel: # If set, limits the acceleration of the probing moves (in mm/sec^2). # A sudden large acceleration at the beginning of the probing move may # cause spurious probe triggering, especially if the hotend is heavy. # To prevent that, it may be necessary to reduce the acceleration of # the probing moves via this parameter. #recovery_time: 0.4 # A delay between the travel moves and the probing moves in seconds. A fast # travel move prior to probing may result in a spurious probe triggering. # This may cause 'Probe triggered prior to movement' errors if no delay # is set. Value 0 disables the recovery delay. # Default value is 0.4. #x_offset: #y_offset: # Should be left unset (or set to 0). z_offset: # Trigger height of the probe. Start with -0.1 (mm), and adjust later using # `PROBE_CALIBRATE` command. This parameter must be provided. #speed: # Speed (in mm/s) of the Z axis when probing. It is recommended to start # with the probing speed of 20 mm/s and adjust it as necessary to improve # the accuracy and repeatability of the probe triggering. #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: #activate_gcode: #deactivate_gcode: #deactivate_on_each_sample: # See the \"probe\" section for more information on the parameters above.","title":"[smart_effector]"},{"location":"Config_Reference.html#_16","text":"","title":"\u989d\u5916\u7684\u6b65\u8fdb\u7535\u673a\u548c\u6324\u51fa\u673a"},{"location":"Config_Reference.html#stepper_z1","text":"Multi-stepper axes. On a cartesian style printer, the stepper controlling a given axis may have additional config blocks defining steppers that should be stepped in concert with the primary stepper. One may define any number of sections with a numeric suffix starting at 1 (for example, \"stepper_z1\", \"stepper_z2\", etc.). [stepper_z1] #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # See the \"stepper\" section for the definition of the above parameters. #endstop_pin: # If an endstop_pin is defined for the additional stepper then the # stepper will home until the endstop is triggered. Otherwise, the # stepper will home until the endstop on the primary stepper for the # axis is triggered.","title":"[stepper_z1]"},{"location":"Config_Reference.html#extruder1","text":"\u5728\u4e00\u4e2a\u591a\u6324\u51fa\u673a\u7684\u6253\u5370\u673a\u4e2d\uff0c\u4e3a\u6bcf\u4e2a\u989d\u5916\u7684\u6324\u51fa\u673a\u6dfb\u52a0\u4e00\u4e2a\u989d\u5916\u6324\u51fa\u673a\u5206\u6bb5\u3002\u989d\u5916\u6324\u51fa\u673a\u5206\u6bb5\u5e94\u88ab\u547d\u540d\u4e3a\"extruder1\"\u3001\"extruder2\"\u3001\"extruder3\"\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\u6709\u5173\u53ef\u7528\u53c2\u6570\uff0c\u53c2\u89c1\"extruder\"\u7ae0\u8282\u3002 \u591a\u6324\u51fa\u673a\u53c2\u8003\u793a\u4f8b sample-multi-extruder.cfg [\u6324\u51fa\u673a1] #step_pin\uff1a #dir_pin\uff1a #... # \u6709\u5173\u53ef\u7528\u7684\u6b65\u8fdb\u5668\u548c\u52a0\u70ed\u5668\uff0c\u8bf7\u53c2\u9605\u201c\u6324\u51fa\u673a\u201d\u90e8\u5206 \uff03 \u53c2\u6570\u3002 #shared_heater\uff1a # \u6b64\u9009\u9879\u5df2\u5f03\u7528\uff0c\u4e0d\u5e94\u518d\u6307\u5b9a\u3002","title":"[extruder1]"},{"location":"Config_Reference.html#dual_carriage","text":"Support for cartesian printers with dual carriages on a single axis. The active carriage is set via the SET_DUAL_CARRIAGE extended g-code command. The \"SET_DUAL_CARRIAGE CARRIAGE=1\" command will activate the carriage defined in this section (CARRIAGE=0 will return activation to the primary carriage). Dual carriage support is typically combined with extra extruders - the SET_DUAL_CARRIAGE command is often called at the same time as the ACTIVATE_EXTRUDER command. Be sure to park the carriages during deactivation. Idex\u53c2\u8003\u793a\u4f8b sample-idex.cfg [dual_carriage] axis: # \u989d\u5916\u6ed1\u8f66\u6240\u5728\u7684\u8f74\uff08x\u6216\u8005y\uff09\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: #endstop_pin: #position_endstop: #position_min: #position_max: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u67e5\u9605\u201cstepper\u201d\u5206\u6bb5\u3002","title":"[dual_carriage]"},{"location":"Config_Reference.html#extruder_stepper","text":"\u652f\u6301\u989d\u5916\u548c\u6324\u51fa\u673a\u8fd0\u52a8\u540c\u6b65\u7684\u6b65\u8fdb\u7535\u673a\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cextruder_stepper\u201d\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [extruder_stepper my_extra_stepper] extruder: # \u8fd9\u4e2a\u6b65\u8fdb\u7535\u673a\u5c06\u8981\u540c\u6b65\u5230\u7684\u6324\u51fa\u673a\u540d\u79f0 # \u5982\u679c\u88ab\u8bbe\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u8fd9\u4e2a\u6b65\u8fdb\u7535\u673a\u5c06\u4e0d\u4f1a\u88ab\u540c\u6b65\u5230\u6324\u51fa\u673a # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cstepper\u201d\u914d\u7f6e\u5206\u6bb5\u3002","title":"[extruder_stepper]"},{"location":"Config_Reference.html#manual_stepper","text":"\u624b\u52a8\u6b65\u8fdb\u5668\uff08\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u4efb\u4f55\u6570\u91cf\"manual_stepper\"\u524d\u7f00\u7684\u914d\u7f6e\u5206\u6bb5\uff09\u3002\u8fd9\u4e9b\u662f\u7531 MANUAL_STEPPER G\u4ee3\u7801\u547d\u4ee4\u63a7\u5236\u7684\u6b65\u8fdb\u7535\u673a\u3002\u4f8b\u5982\uff1a\"MANUAL_STEPPER STEPPER=my_stepper MOVE=10 SPEED=5\"\u3002\u53c2\u89c1 G-Code \u6587\u6863\u4e2d\u5173\u4e8e MANUAL_STEPPER \u547d\u4ee4\u7684\u63cf\u8ff0\u3002\u624b\u52a8\u6b65\u8fdb\u5668\u68b0\u4e0d\u4f1a\u8fde\u63a5\u5230\u6b63\u5e38\u7684\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u4e2d\u3002 [manual_stepper my_stepper]\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u6709\u5173\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u8bf7\u89c1\"stepper\"\u5206\u6bb5\u3002 #velocity: # \u8bbe\u7f6e\u6b65\u8fdb\u7535\u673a\u7684\u9ed8\u8ba4\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002\u8fd9\u4e2a\u503c\u4f1a\u5728 MANUAL_STEPPER # \u547d\u4ee4\u6ca1\u6709\u6307\u5b9a\u4e00\u4e2a SPEED \u53c2\u6570\u65f6\u4f1a\u88ab\u4f7f\u7528\u3002 # \u9ed8\u8ba4\u4e3a 5 mm/s\u3002 #accel: # \u8bbe\u7f6e\u6b65\u8fdb\u7535\u673a\u7684\u9ed8\u8ba4\u52a0\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s^2\uff09\u3002\u8bbe\u7f6e\u52a0\u901f\u5ea6\u4e3a\u96f6\u5c06\u5bfc\u81f4 # \u6ca1\u6709\u52a0\u901f\u5ea6\u3002\u8fd9\u4e2a\u503c\u4f1a\u5728 MANUAL_STEPPER \u547d\u4ee4\u6ca1\u6709\u6307\u5b9a ACCEL \u53c2\u6570\u65f6 # \u4f1a\u88ab\u4f7f\u7528\u3002 # \u9ed8\u8ba4\u4e3a 0\u3002 #endstop_pin: # \u9650\u4f4d\u5f00\u5173\u68c0\u6d4b\u5f15\u811a\u3002\u5982\u679c\u5b9a\u4e49\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 MANUAL_STEPPER # \u8fd0\u52a8\u547d\u4ee4\u4e2d\u6dfb\u52a0\u4e00\u4e2a STOP_ON_ENDSTOP \u53c2\u6570\u6765\u6267\u884c \"\u5f52\u4f4d\u52a8\u4f5c\" \u3002","title":"[manual_stepper]"},{"location":"Config_Reference.html#_17","text":"","title":"\u81ea\u5b9a\u4e49\u52a0\u70ed\u5668\u548c\u4f20\u611f\u5668"},{"location":"Config_Reference.html#verify_heater","text":"\u52a0\u70ed\u5668\u548c\u6e29\u5ea6\u4f20\u611f\u5668\u9a8c\u8bc1\u3002\u9ed8\u8ba4\u5728\u6253\u5370\u673a\u4e0a\u6bcf\u4e2a\u914d\u7f6e\u7684\u52a0\u70ed\u5668\u4e0a\u542f\u7528\u52a0\u70ed\u5668\u9a8c\u8bc1\u3002\u4f7f\u7528 verify_heater \u5206\u6bb5\u6765\u8986\u76d6\u9ed8\u8ba4\u8bbe\u7f6e\u3002 [verify_heater heater_config_name] #max_error: 120 # The maximum \"cumulative temperature error\" before raising an # error. Smaller values result in stricter checking and larger # values allow for more time before an error is reported. # Specifically, the temperature is inspected once a second and if it # is close to the target temperature then an internal \"error # counter\" is reset; otherwise, if the temperature is below the # target range then the counter is increased by the amount the # reported temperature differs from that range. Should the counter # exceed this \"max_error\" then an error is raised. The default is # 120. #check_gain_time: # This controls heater verification during initial heating. Smaller # values result in stricter checking and larger values allow for # more time before an error is reported. Specifically, during # initial heating, as long as the heater increases in temperature # within this time frame (specified in seconds) then the internal # \"error counter\" is reset. The default is 20 seconds for extruders # and 60 seconds for heater_bed. #hysteresis: 5 # The maximum temperature difference (in Celsius) to a target # temperature that is considered in range of the target. This # controls the max_error range check. It is rare to customize this # value. The default is 5. #heating_gain: 2 # The minimum temperature (in Celsius) that the heater must increase # by during the check_gain_time check. It is rare to customize this # value. The default is 2.","title":"[verify_heater]"},{"location":"Config_Reference.html#homing_heaters","text":"Tool to disable heaters when homing or probing an axis. [homing_heaters] #steppers: # \u4f1a\u4f7f\u52a0\u70ed\u5668\u88ab\u7981\u7528\u7684\u6b65\u8fdb\u7535\u673a\u9017\u53f7\u5206\u9694\u5217\u8868\u3002 # \u9ed8\u8ba4\u5728\u5f52\u96f6\u548c\u63a2\u6d4b\u65f6\u7981\u7528\u5168\u90e8\u52a0\u70ed\u5668\u3002 # \u4f8b\u5982\uff1astepper_z #heaters: # \u5f52\u96f6\u548c\u63a2\u6d4b\u65f6\u4f1a\u88ab\u7981\u7528\u7684\u52a0\u70ed\u5668\u7684\u9017\u53f7\u5206\u9694\u5217\u8868\u3002 # \u9ed8\u8ba4\u7981\u7528\u5168\u90e8\u52a0\u70ed\u5668\u3002 # \u4f8b\u5982\uff1aextruder, heater_bed","title":"[homing_heaters]"},{"location":"Config_Reference.html#thermistor","text":"\u81ea\u5b9a\u4e49\u70ed\u654f\u7535\u963b\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201c\u70ed\u654f\u7535\u963b\u201d\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\u53ef\u4ee5\u5728\u52a0\u70ed\u5668\u914d\u7f6e\u5206\u6bb5\u7684 sensor_type \u5b57\u6bb5\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u70ed\u654f\u7535\u963b\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u4e49\u4e86\u201c[thermistor my_thermistor]\u201d\u5206\u6bb5\uff0c\u90a3\u4e48\u5728\u5b9a\u4e49\u52a0\u70ed\u5668\u65f6\u53ef\u4ee5\u4f7f\u7528\u201csensor_type: my_thermistor\u201d\u3002\uff09\u786e\u4fdd\u5c06\u70ed\u654f\u7535\u963b\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [thermistor my_thermistor] #temperature1: #resistance1: #temperature2: #resistance2: #temperature3: #resistance3: # Three resistance measurements (in Ohms) at the given temperatures # (in Celsius). The three measurements will be used to calculate the # Steinhart-Hart coefficients for the thermistor. These parameters # must be provided when using Steinhart-Hart to define the # thermistor. #beta: # Alternatively, one may define temperature1, resistance1, and beta # to define the thermistor parameters. This parameter must be # provided when using \"beta\" to define the thermistor.","title":"[thermistor]"},{"location":"Config_Reference.html#adc_temperature","text":"\u81ea\u5b9a\u4e49 ADC \u6e29\u5ea6\u4f20\u611f\u5668\uff08\u53ef\u4ee5\u4f7f\u7528 \u201cadc_temperature\u201d \u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5206\u6bb5\uff09\u3002\u8fd9\u5141\u8bb8\u5b9a\u4e49\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6e29\u5ea6\u4f20\u611f\u5668\uff0c\u8be5\u4f20\u611f\u5668\u6d4b\u91cf\u4e00\u4e2a\u6a21\u6570\u8f6c\u6362\u5668 (ADC) \u5f15\u811a\u4e0a\u7684\u7535\u538b\uff0c\u5e76\u5728\u4e00\u7ec4\u914d\u7f6e\u7684\u6e29\u5ea6/\u7535\u538b\uff08\u6216\u6e29\u5ea6/\u7535\u963b\uff09\u6d4b\u91cf\u503c\u4e4b\u95f4\u4f7f\u7528\u7ebf\u6027\u63d2\u503c\u6765\u786e\u5b9a\u6e29\u5ea6\u3002\u8bbe\u7f6e\u7684\u4f20\u611f\u5668\u53ef\u88ab\u7528\u4f5c\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u7684 sensor_type\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u4e49\u4e86 \u201c[adc_temperature my_sensor]\u201d \u5206\u6bb5\uff0c\u5219\u5728\u5b9a\u4e49\u52a0\u70ed\u5668\u65f6\u53ef\u4ee5\u4f7f\u7528 \u201csensor_type: my_sensor\u201d \u3002\uff09\u786e\u4fdd\u5c06\u4f20\u611f\u5668\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [adc_temperature my_sensor] #temperature1: #voltage1: #temperature2: #voltage2: #... # \u4e00\u7ec4\u7528\u4f5c\u6e29\u5ea6\u8f6c\u6362\u7684\u53c2\u8003\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\uff09\u548c\u7535\u538b\uff08\u4ee5 # \u4f0f\u7279\u4e3a\u5355\u4f4d\uff09\u3002\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e5f\u53ef\u4ee5\u6307\u5b9a # adc_voltage \u548c voltage_offset \u53c2\u6570\u6765\u5b9a\u4e49 ADC \u7535\u538b\uff08\u8be6\u89c1\u201c\u5e38\u7528\u6e29\u5ea6 # \u653e\u5927\u5668\u201d\u7ae0\u8282\uff09\u3002\u81f3\u5c11\u8981\u63d0\u4f9b\u4e24\u4e2a\u6d4b\u91cf\u70b9\u3002 #temperature1: #resistance1: #temperature2: #resistance2: #... # \u4f5c\u4e3a\u66ff\u4ee3\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u7ec4\u7528\u4f5c\u6e29\u5ea6\u8f6c\u6362\u7684\u53c2\u8003\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a # \u5355\u4f4d\uff09\u548c\u963b\u503c\uff08\u4ee5\u6b27\u59c6\u4e3a\u5355\u4f4d\uff09\u3002\u4f7f\u7528\u8fd9\u4e2a\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e5f # \u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a pullup_resistor \u53c2\u6570\uff08\u8be6\u89c1\u201c\u6324\u51fa\u673a\u201d\u7ae0\u8282\uff09\u3002\u81f3\u5c11\u8981 # \u63d0\u4f9b\u4e24\u4e2a\u6d4b\u91cf\u70b9\u3002","title":"[adc_temperature]"},{"location":"Config_Reference.html#heater_generic","text":"\u901a\u7528\u7684\u52a0\u70ed\u5668\uff08\u4efb\u610f\u6570\u91cf\u7684\u4f7f\u7528\"heater_generic\"\u524d\u7f00\u5b9a\u4e49\u7684\u8282\uff09\u3002\u8fd9\u4e9b\u52a0\u70ed\u5668\u8868\u73b0\u5f97\u7c7b\u4f3c\u4e8e\u6807\u51c6\u52a0\u70ed\u5668\uff08\u6324\u51fa\u673a\u3001\u70ed\u5e8a\uff09\u3002\u4f7f\u7528SET_HEATER_TEMPERATURE\u547d\u4ee4\uff08\u8be6\u89c1 G-Code \uff09\u6765\u8bbe\u7f6e\u76ee\u6807\u6e29\u5ea6\u3002 [heater_generic my_generic_heater] #gcode_id: # \u4f7f\u7528M105\u67e5\u8be2\u6e29\u5ea6\u65f6\u4f7f\u7528\u7684ID\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #heater_pin: #max_power: #sensor_type: #sensor_pin: #smooth_time: #control: #pid_Kp: #pid_Ki: #pid_Kd: #pwm_cycle_time: #min_temp: #max_temp: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cextruder\u201d\u5206\u6bb5\u3002","title":"[heater_generic]"},{"location":"Config_Reference.html#temperature_sensor","text":"\u901a\u7528\u6e29\u5ea6\u4f20\u611f\u5668\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u901a\u7528\u6e29\u5ea6\u4f20\u611f\u5668\uff09\u3002\u901a\u8fc7 M105 \u547d\u4ee4\u67e5\u8be2\u6e29\u5ea6\u3002 [temperature_sensor my_sensor] #sensor_type: #sensor_pin: #min_temp: #max_temp: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u89c1\u201cextruder\u201d\u7ae0\u8282\u3002 #gcode_id: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u89c1\u201cheater_generic\u201d\u7ae0\u8282\u3002","title":"[temperature_sensor]"},{"location":"Config_Reference.html#_18","text":"Klipper \u5305\u62ec\u8bb8\u591a\u7c7b\u578b\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u7684\u5b9a\u4e49\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u53ef\u4ee5\u5728\u4efb\u4f55\u9700\u8981\u6e29\u5ea6\u4f20\u611f\u5668\u7684\u914d\u7f6e\u5206\u6bb5\u4e2d\u4f7f\u7528\uff08\u4f8b\u5982 [extruder] \u6216 [heated_bed] \u5206\u6bb5\uff09\u3002","title":"\u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Config_Reference.html#_19","text":"\u5e38\u89c1\u7684\u70ed\u654f\u7535\u963b\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u4f20\u611f\u5668\u4e4b\u4e00\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u3002 sensor_type: # One of \"EPCOS 100K B57560G104F\", \"ATC Semitec 104GT-2\", # \"ATC Semitec 104NT-4-R025H42G\", \"Generic 3950\", # \"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", or \"TDK NTCG104LH104JT1\" sensor_pin: # Analog input pin connected to the thermistor. This parameter must # be provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # The default is 4700 ohms. #inline_resistor: 0 # The resistance (in ohms) of an extra (not heat varying) resistor # that is placed inline with the thermistor. It is rare to set this. # The default is 0 ohms.","title":"\u5e38\u89c1\u70ed\u654f\u7535\u963b"},{"location":"Config_Reference.html#_20","text":"\u5e38\u89c1\u6e29\u5ea6\u653e\u5927\u5668\u3002\u5728\u4f7f\u7528\u8fd9\u4e9b\u4f20\u611f\u5668\u4e4b\u4e00\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u3002 sensor_type: # One of \"PT100 INA826\", \"AD595\", \"AD597\", \"AD8494\", \"AD8495\", # \"AD8496\", or \"AD8497\". sensor_pin: # Analog input pin connected to the sensor. This parameter must be # provided. #adc_voltage: 5.0 # The ADC comparison voltage (in Volts). The default is 5 volts. #voltage_offset: 0 # The ADC voltage offset (in Volts). The default is 0.","title":"\u5e38\u89c1\u6e29\u5ea6\u653e\u5927\u5668"},{"location":"Config_Reference.html#pt1000","text":"\u76f4\u63a5\u8fde\u63a5\u5230\u63a7\u5236\u677f\u7684 PT1000 \u4f20\u611f\u5668\u3002\u4ee5\u4e0b\u53c2\u6570\u53ef\u7528\u4e8e\u4f7f\u7528\u8fd9\u4e9b\u4f20\u611f\u5668\u4e4b\u4e00\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u3002 sensor_type: PT1000 sensor_pin: # \u8fde\u63a5\u5230\u4f20\u611f\u5668\u7684\u6a21\u62df\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #pullup_resistor: 4700 # \u8fde\u63a5\u5230\u4f20\u611f\u5668\u7684\u4e0a\u62c9\u7535\u963b\u963b\u503c\uff08\u5355\u4f4d\uff1aohm\uff09\u3002 # \u9ed8\u8ba4\u4e3a 4700 ohms\u3002","title":"\u76f4\u63a5\u8fde\u63a5PT1000 \u4f20\u611f\u5668"},{"location":"Config_Reference.html#maxxxxxx","text":"MAXxxxxx \u4e32\u884c\u5916\u8bbe\u63a5\u53e3\uff08SPI\uff09\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u4ee5\u4e0b\u53c2\u6570\u5728\u4f7f\u7528\u8be5\u7c7b\u578b\u4f20\u611f\u5668\u7684\u52a0\u70ed\u5668\u5206\u6bb5\u4e2d\u53ef\u7528\u3002 sensor_type: # One of \"MAX6675\", \"MAX31855\", \"MAX31856\", or \"MAX31865\". sensor_pin: # The chip select line for the sensor chip. This parameter must be # provided. #spi_speed: 4000000 # The SPI speed (in hz) to use when communicating with the chip. # The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #tc_type: K #tc_use_50Hz_filter: False #tc_averaging_count: 1 # The above parameters control the sensor parameters of MAX31856 # chips. The defaults for each parameter are next to the parameter # name in the above list. #rtd_nominal_r: 100 #rtd_reference_r: 430 #rtd_num_of_wires: 2 #rtd_use_50Hz_filter: False # The above parameters control the sensor parameters of MAX31865 # chips. The defaults for each parameter are next to the parameter # name in the above list.","title":"MAXxxxxx \u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Config_Reference.html#bmp280bme280bme680","text":"BMP280/BME280/BME680 \u4e24\u7ebf\u63a5\u53e3 (I2C) \u73af\u5883\u4f20\u611f\u5668\u3002\u6ce8\u610f\uff0c\u8fd9\u4e9b\u4f20\u611f\u5668\u4e0d\u9002\u7528\u4e8e\u6324\u51fa\u673a\u548c\u52a0\u70ed\u5e8a\u3002\u5b83\u4eec\u53ef\u4ee5\u7528\u4e8e\u76d1\u6d4b\u73af\u5883\u6e29\u5ea6 (C)\u3001\u538b\u529b (hPa)\u3001\u76f8\u5bf9\u6e7f\u5ea6\u4ee5\u53ca\u6c14\u4f53\u6c34\u5e73\uff08\u4ec5\u5728BME680\u4e0a\uff09\u3002\u8bf7\u53c2\u9605 sample-macros.cfg \u4ee5\u83b7\u53d6\u53ef\u7528\u4e8e\u62a5\u544a\u538b\u529b\u548c\u6e7f\u5ea6\u4ee5\u53ca\u6e29\u5ea6\u7684gcode_macro\u3002 sensor_type: BME280 #i2c_address: # Default is 118 (0x76). Some BME280 sensors have an address of 119 # (0x77). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters.","title":"BMP280/BME280/BME680 \u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Config_Reference.html#htu21d","text":"HTU21D \u7cfb\u5217\u53cc\u7ebf\u63a5\u53e3\uff08I2C\uff09\u73af\u5883\u4f20\u611f\u5668\u3002\u6ce8\u610f\uff0c\u8fd9\u79cd\u4f20\u611f\u5668\u4e0d\u9002\u7528\u4e8e\u6324\u51fa\u673a\u548c\u52a0\u70ed\u5e8a\uff0c\u5b83\u4eec\u53ef\u4ee5\u7528\u4e8e\u76d1\u6d4b\u73af\u5883\u6e29\u5ea6\uff08C\uff09\u548c\u76f8\u5bf9\u6e7f\u5ea6\u3002\u53c2\u89c1 sample-macros.cfg \u4e2d\u53ef\u4ee5\u62a5\u544a\u6e29\u5ea6\u548c\u6e7f\u5ea6\u7684 gcode_macro\u3002 sensor_type: # Must be \"HTU21D\" , \"SI7013\", \"SI7020\", \"SI7021\" or \"SHT21\" #i2c_address: # Default is 64 (0x40). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #htu21d_hold_master: # If the sensor can hold the I2C buf while reading. If True no other # bus communication can be performed while reading is in progress. # Default is False. #htu21d_resolution: # The resolution of temperature and humidity reading. # Valid values are: # 'TEMP14_HUM12' -> 14bit for Temp and 12bit for humidity # 'TEMP13_HUM10' -> 13bit for Temp and 10bit for humidity # 'TEMP12_HUM08' -> 12bit for Temp and 08bit for humidity # 'TEMP11_HUM11' -> 11bit for Temp and 11bit for humidity # Default is: \"TEMP11_HUM11\" #htu21d_report_time: # Interval in seconds between readings. Default is 30","title":"HTU21D \u4f20\u611f\u5668"},{"location":"Config_Reference.html#lm75","text":"LM75/LM75A\u4e24\u7ebf\uff08I2C\uff09\u8fde\u63a5\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u7684\u6e29\u5ea6\u8303\u56f4\u4e3a-55~125 C\uff0c\u56e0\u6b64\u53ef\u7528\u4e8e\u4f8b\u5982\u8bd5\u9a8c\u5ba4\u6e29\u5ea6\u76d1\u6d4b\u3002\u5b83\u4eec\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u7b80\u5355\u7684\u98ce\u6247/\u52a0\u70ed\u5668\u63a7\u5236\u5668\u4f7f\u7528\u3002 sensor_type: LM75 #i2c_address: # Default is 72 (0x48). Normal range is 72-79 (0x48-0x4F) and the 3 # low bits of the address are configured via pins on the chip # (usually with jumpers or hard wired). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #lm75_report_time: # Interval in seconds between readings. Default is 0.8, with minimum # 0.5.","title":"LM75 \u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Config_Reference.html#_21","text":"atsam\u3001atsamd\u548cstm32\u5fae\u63a7\u5236\u5668\u5305\u542b\u4e00\u4e2a\u5185\u90e8\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\"temperature_mcu\"\u4f20\u611f\u5668\u6765\u76d1\u6d4b\u8fd9\u4e9b\u6e29\u5ea6\u3002 sensor_type: temperature_mcu #sensor_mcu: mcu # The micro-controller to read from. The default is \"mcu\". #sensor_temperature1: #sensor_adc1: # Specify the above two parameters (a temperature in Celsius and an # ADC value as a float between 0.0 and 1.0) to calibrate the # micro-controller temperature. This may improve the reported # temperature accuracy on some chips. A typical way to obtain this # calibration information is to completely remove power from the # printer for a few hours (to ensure it is at the ambient # temperature), then power it up and use the QUERY_ADC command to # obtain an ADC measurement. Use some other temperature sensor on # the printer to find the corresponding ambient temperature. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification. #sensor_temperature2: #sensor_adc2: # If sensor_temperature1/sensor_adc1 is specified then one may also # specify sensor_temperature2/sensor_adc2 calibration data. Doing so # may provide calibrated \"temperature slope\" information. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification.","title":"\u5fae\u63a7\u5236\u5668\u7684\u5185\u7f6e\u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Config_Reference.html#_22","text":"\u8fd0\u884c\u4e3b\u673a\u7a0b\u5e8f\u7684\u7535\u8111\uff08\u4f8b\u5982\u6811\u8393\u6d3e\uff09\u7684\u6e29\u5ea6\u3002 sensor_type: temperature_host #sensor_path: # The path to temperature system file. The default is # \"/sys/class/thermal/thermal_zone0/temp\" which is the temperature # system file on a Raspberry Pi computer.","title":"\u4e3b\u673a\u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Config_Reference.html#ds18b20","text":"DS18B20 \u662f\u4e00\u4e2a\u5355\u603b\u7ebf (1-wire (w1)) \u6570\u503c\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u6ce8\u610f\uff0c\u8fd9\u4e2a\u4f20\u611f\u5668\u4e0d\u662f\u88ab\u8bbe\u8ba1\u7528\u4e8e\u70ed\u7aef\u6216\u70ed\u5e8a\uff0c \u800c\u662f\u7528\u4e8e\u76d1\u6d4b\u73af\u5883\u6e29\u5ea6(C)\u3002\u8fd9\u4e9b\u4f20\u611f\u5668\u6700\u9ad8\u91cf\u7a0b\u662f125 C\uff0c\u56e0\u6b64\u53ef\u7528\u4e8e\u4f8b\u5982\u7bb1\u4f53\u6e29\u5ea6\u76d1\u6d4b\u3002\u5b83\u4eec\u4e5f\u53ef\u4ee5\u88ab\u5f53\u4f5c\u7b80\u5355\u7684\u98ce\u6247/\u52a0\u70ed\u5668\u63a7\u5236\u5668\u3002DS18B20 \u4f20\u611f\u5668\u4ec5\u5728\u201c\u4e3b\u673a mcu\u201d\u4e0a\u652f\u6301\uff0c\u4f8b\u5982\u6811\u8393\u6d3e\u3002w1-gpio Linux \u5185\u6838\u6a21\u5757\u5fc5\u987b\u88ab\u5b89\u88c5\u3002 sensor_type: DS18B20 serial_no: # Each 1-wire device has a unique serial number used to identify the device, # usually in the format 28-031674b175ff. This parameter must be provided. # Attached 1-wire devices can be listed using the following Linux command: # ls /sys/bus/w1/devices/ #ds18_report_time: # Interval in seconds between readings. Default is 3.0, with a minimum of 1.0 #sensor_mcu: # The micro-controller to read from. Must be the host_mcu","title":"DS18B20 \u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Config_Reference.html#_23","text":"","title":"\u98ce\u6247"},{"location":"Config_Reference.html#fan","text":"\u6253\u5370\u51b7\u5374\u98ce\u6247\u3002 [fan] pin: # \u63a7\u5236\u98ce\u6247\u7684\u8f93\u51fa\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #max_power: 1.0 # \u5f15\u811a\u5141\u8bb8\u88ab\u8bbe\u7f6e\u7684\u6700\u5927\u5360\u7a7a\u6bd4\uff08\u57280.0\u548c1.0\u4e4b\u95f4\uff09\u3002 # 1.0 \u5141\u8bb8\u5f15\u811a\u88ab\u957f\u65f6\u95f4\u5b8c\u5168\u542f\u7528\uff0c\u800c0.5\u4f1a\u53ea\u5141\u8bb8\u5f15\u811a\u53ea\u5728\u4e00\u534a\u7684\u65f6\u95f4\u91cc # \u88ab\u542f\u7528\u3002\u8fd9\u4e2a\u8bbe\u7f6e\u53ef\u4ee5\u9650\u5236\u98ce\u6247\u7684\u6700\u5927\u529f\u7387\uff08\u5e73\u5747\u529f\u7387\uff09\u3002\u5982\u679c\u8fd9\u4e2a\u503c # \u5c0f\u4e8e 1.0 \u5219\u98ce\u901f\u8bf7\u6c42\u4f1a\u88ab\u7f29\u653e\u5230 0 \u548c max_power \u4e4b\u95f4\uff08\u4f8b\u5982\uff0c\u5982\u679c # max_power \u662f 0.9\uff0c\u8bf7\u6c42 80% \u98ce\u901f\u901f\u5ea6\u4f1a\u4f7f\u98ce\u6247\u529f\u7387\u8bbe\u4e3a72%\uff09\u3002 # \u9ed8\u8ba4\u4e3a1.0\u3002 #shutdown_speed: 0 # \u5728\u5fae\u63a7\u5236\u5668\u8fdb\u5165\u9519\u8bef\u72b6\u6001\u65f6\u671f\u671b\u7684\uff08\u4e00\u4e2a\u57280.0\u548c1.0\u4e4b\u95f4\u7684\u503c\uff09 # \u98ce\u6247\u901f\u5ea6\u3002 # \u9ed8\u8ba4\u4e3a 0\u3002 #cycle_time: 0.010 # \u6bcf\u4e2a\u98ce\u6247\u7535\u6e90\u7684PWM\u5468\u671f\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \u4f7f\u7528\u57fa\u4e8e\u8f6f\u4ef6\u7684PWM\u65f6\u5efa\u8bae\u5927\u4e8e10\u6beb\u79d2 # \u9ed8\u8ba4\u4e3a0.010\u79d2 #hardware_pwm: False # \u542f\u7528\u786c\u4ef6PWM\u6765\u4ee3\u66ff\u8f6f\u4ef6PWM # \u8bb8\u591a\u98ce\u6247\u4f7f\u7528\u786c\u4ef6PWM\u65f6\u53ef\u80fd\u4f1a\u4e0d\u80fd\u5f88\u597d\u5730\u5de5\u4f5c # \u6240\u4ee5\u8fd9\u4e0d\u662f\u5f88\u63a8\u8350\u542f\u7528\u7684\uff0c\u9664\u975e\u6709\u5207\u6362\u5f97\u975e\u5e38\u5feb\u7684\u7535\u6c14\u9700\u6c42 # \u5f53\u4f7f\u7528\u786c\u4ef6PWM\u65f6\uff0c\u771f\u6b63\u7684PWM\u5468\u671f\u65f6\u95f4\u53d7\u6267\u884c\u7684\u7ea6\u675f\uff0c # \u53ef\u80fd\u663e\u8457\u5730\u4e0e\u8bf7\u6c42\u7684\u5468\u671f\u65f6\u95f4\u4e0d\u540c\u3002 # \u9ed8\u8ba4\u4e3aFalse #kick_start_time: 0.100 # \u5f53\u521d\u6b21\u5f00\u542f\u6216\u63d0\u9ad8\u98ce\u6247\u901f\u5ea6\u523050%\u4ee5\u4e0a\u65f6 # \u4f7f\u98ce\u6247\u5168\u901f\u8fd0\u884c\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \uff08\u5e2e\u52a9\u98ce\u6247\u5f00\u59cb\u65cb\u8f6c\uff09 # \u9ed8\u8ba4\u4e3a0.100\u79d2 #off_below: 0.0 # \u7ed9\u98ce\u6247\u4f9b\u7535\u7684\u6700\u4f4e\u8f93\u5165\u901f\u5ea6\uff08\u57280.0\u52301.0\u4e4b\u95f4\uff09 # \u5f53\u8bf7\u6c42\u4e86\u4e00\u4e2a\u4f4e\u4e8eoff_below\u7684\u901f\u5ea6\uff0c\u98ce\u6247\u4f1a\u5173\u95ed # \u8fd9\u4e2a\u8bbe\u7f6e\u53ef\u80fd\u4f1a\u88ab\u7528\u4e8e\u9632\u6b62\u98ce\u6247\u5931\u901f\u5e76\u4e14 # \u4fdd\u8bc1kick starts\u7684\u6709\u6548 # \u9ed8\u8ba4\u4e3a0.0 # # \u8fd9\u4e2a\u8bbe\u7f6e\u5e94\u8be5\u5728max_power\u88ab\u8c03\u6574\u65f6\u91cd\u65b0\u6821\u51c6 # \u4e3a\u4e86\u6821\u51c6\u8fd9\u4e2a\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u5728off_below\u8bbe\u4e3a0.0\u65f6\u8ba9\u98ce\u6247\u8f6c\u52a8 # \u9010\u6b65\u964d\u4f4e\u98ce\u6247\u7684\u901f\u5ea6\u6765\u51b3\u5b9a\u6700\u5c0f\u7684\u53ef\u9760\u7684\u4e0d\u4f7f\u98ce\u6247\u5931\u901f\u7684\u901f\u5ea6 # \u6839\u636e\u76f8\u5e94\u6216\u7565\u5fae\u66f4\u9ad8\u7684\u503c\u8bbe\u7f6eoff_below\uff08\u6bd4\u598212%->0.12\uff09 #tachometer_pin: # \u76d1\u63a7\u98ce\u6247\u8f6c\u901f\u7684\u8f93\u5165\u5f15\u811a # \u901a\u5e38\u9700\u8981\u4e00\u4e2a\u4e0a\u62c9\u7535\u963b # \u8fd9\u4e2a\u53c2\u6570\u662f\u53ef\u9009\u7684 #tachometer_ppr: 2 # \u5f53\u6307\u5b9a\u4e86tachometer_pin\uff0c\u8fd9\u662f\u6bcf\u8f6c\u8109\u51b2\u7684\u4e2a\u6570 # \u5bf9\u4e8e\u4e00\u4e2a\u65e0\u5237\u76f4\u6d41\u98ce\u6247\uff08BLDC\uff09\u8fd9\u4e2a\u901a\u5e38\u4e3a\u6781\u5bf9\u6570\u7684\u4e00\u534a # \u9ed8\u8ba4\u4e3a2 #tachometer_poll_interval: 0.0015 # \u5f53\u6307\u5b9a\u4e86tachometer_pin\uff0c\u8fd9\u662ftachometer_pin\u7684\u8f6e\u8be2\u5468\u671f\uff0c\u4ee5\u79d2\u4e3a\u5355\u4f4d # \u9ed8\u8ba4\u4e3a0.0015\uff0c\u5bf9\u4e8e\u6d4b\u91cf\u4f4e\u4e8e10000\u8f6c\u6bcf\u5206\u548c2\u8109\u51b2\u6bcf\u8f6c\u5df2\u7ecf\u591f\u5feb # \u8fd9\u4e2a\u503c\u5fc5\u987b\u6bd430/(tachometer_ppr * rpm)\u5c0f\u4e14\u7559\u6709\u4e00\u4e9b\u4f59\u91cf # \u5176\u4e2drpm\u662f\u98ce\u6247\u7684\u6700\u9ad8\u8f6c\u901f","title":"[fan]"},{"location":"Config_Reference.html#heater_fan","text":"\u52a0\u70ed\u5668\u51b7\u5374\u98ce\u6247\uff08\u53ef\u4ee5\u7528\"heater_fan\"\u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5206\u6bb5\uff09\u3002\"\u52a0\u70ed\u5668\u98ce\u6247\"\u662f\u4e00\u79cd\u5f53\u5176\u5173\u8054\u7684\u52a0\u70ed\u5668\u6d3b\u8dc3\u65f6\u4f1a\u542f\u7528\u7684\u98ce\u6247\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cheater_fan shutdown_speed \u7b49\u4e8e max_power\u3002 [heater_fan my_nozzle_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cfan\u201d\u7ae0\u8282\u3002 #heater: extruder # \u8be5\u98ce\u6247\u5173\u8054\u7684\u52a0\u70ed\u5668\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684 # \u52a0\u70ed\u5668\u5217\u8868\uff0c\u5219\u98ce\u6247\u5c06\u4f1a\u5728\u4efb\u4e00\u52a0\u70ed\u5668\u88ab\u542f\u7528\u65f6\u542f\u52a8\u3002 # \u9ed8\u8ba4\u4e3a\"extruder\"\u3002 #heater_temp: 50.0 # \u98ce\u6247\u53ef\u4ee5\u88ab\u7981\u7528\u7684\u6700\u9ad8\u52a0\u70ed\u5668\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\uff09\u3002\u52a0\u70ed\u5668 # \u5fc5\u987b\u88ab\u964d\u4f4e\u5230\u8be5\u6e29\u5ea6\u4ee5\u4e0b\u98ce\u6247\u624d\u4f1a\u88ab\u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3a 50 \u6444\u6c0f\u5ea6\u3002 #fan_speed: 1.0 # \u5f53\u76f8\u5173\u8054\u7684\u52a0\u70ed\u5668\u6d3b\u8dc3\u65f6\u8be5\u98ce\u6247\u7684\u901f\u5ea6\uff08\u57280.0\u548c1.0\u4e4b\u95f4\uff09\u3002 # \u9ed8\u8ba4\u4e3a 1.0","title":"[heater_fan]"},{"location":"Config_Reference.html#controller_fan","text":"\u63a7\u5236\u5668\u51b7\u5374\u98ce\u6247\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u5e26\u6709\"controller_fan\"\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\"\u63a7\u5236\u5668\u98ce\u6247\"(Controller fan)\u662f\u4e00\u4e2a\u53ea\u8981\u5173\u8054\u7684\u52a0\u70ed\u5668\u6216\u6b65\u8fdb\u9a71\u52a8\u7a0b\u5e8f\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u5c31\u4f1a\u542f\u52a8\u7684\u98ce\u6247\u3002\u98ce\u6247\u4f1a\u5728\u7a7a\u95f2\u8d85\u65f6(idle_timeout)\u540e\u505c\u6b62\uff0c\u4ee5\u786e\u4fdd\u88ab\u76d1\u89c6\u7ec4\u4ef6\u4e0d\u518d\u6d3b\u8dc3\u540e\u4e0d\u4f1a\u8fc7\u70ed\u3002 [controller_fan my_controller_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u89c1\u201c\u98ce\u6247\u201d(fan)\u5206\u6bb5\u3002 #fan_speed: 1.0 # \u5f53\u4e00\u4e2a\u52a0\u70ed\u5668\u6216\u6b65\u8fdb\u7535\u673a\u6d3b\u8dc3\u65f6\u7684\u98ce\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u4e2a0.0\u52301.0 # \u7684\u6570\u503c\u8868\u793a\uff09\u3002 # \u9ed8\u8ba4\u4e3a 1.0\u3002 #idle_timeout: # \u5728\u6b65\u8fdb\u7535\u673a\u6216\u52a0\u70ed\u5668\u4e0d\u518d\u6d3b\u8dc3\u540e\u98ce\u6247\u6301\u7eed\u8fd0\u884c\u7684\u65f6\u95f4\uff08\u4ee5\u79d2 # \u4e3a\u5355\u4f4d\uff09\u3002 # \u9ed8\u8ba4\u4e3a 30\u79d2\u3002 #idle_speed: # \u5f53\u4e00\u4e2a\u52a0\u70ed\u5668\u6216\u6b65\u8fdb\u7535\u673a\u4e0d\u518d\u6d3b\u8dc3\uff0c\u4f46\u6ca1\u6709\u8fbe\u5230\u7a7a\u95f2\u8d85\u65f6( # idle_timeout)\u65f6\u7684\u98ce\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u4e2a0.0\u52301.0\u7684\u6570\u503c\u8868\u793a\uff09\u3002 # \u9ed8\u8ba4\u4e3a fan_speed\u3002 #heater: #stepper: # \u4e0e\u8fd9\u4e2a\u98ce\u6247\u5173\u8054\u7684\u52a0\u70ed\u5668/\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\u3002\u5982\u679c\u63d0 # \u4f9b\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u52a0\u70ed\u5668/\u6b65\u8fdb\u9a71\u52a8\u540d\u79f0\uff0c\u4efb\u610f\u4e00\u4e2a\u5217\u8868\u4e2d # \u7684\u8bbe\u5907\u542f\u7528\u65f6\u98ce\u6247\u5c06\u4f1a\u542f\u52a8\u3002 # \u9ed8\u8ba4\u52a0\u70ed\u5668\u662f\u201c\u6324\u51fa\u673a\u201d\uff08extruder)\uff0c\u9ed8\u8ba4\u6b65\u8fdb\u9a71\u52a8\u662f\u5168\u90e8\u6b65\u8fdb\u9a71\u52a8\u3002","title":"[controller_fan]"},{"location":"Config_Reference.html#temperature_fan","text":"\u6e29\u5ea6\u89e6\u53d1\u7684\u51b7\u5374\u98ce\u6247\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201ctemperature_fan\u201d\u524d\u7f00\u7684\u90e8\u5206\uff09\u3002\u4e00\u4e2a\"temperature fan\"\u662f\u4e00\u4e2a\u53ea\u8981\u5176\u76f8\u5173\u7684\u4f20\u611f\u5668\u9ad8\u4e8e\u8bbe\u5b9a\u6e29\u5ea6\u5c31\u4f1a\u542f\u7528\u7684\u98ce\u6247\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4e00\u4e2a\u6e29\u5ea6\u98ce\u6247\u7684\u5173\u95ed\u901f\u5ea6\u7b49\u4e8e\u6700\u5927\u529f\u7387\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 command reference \u3002 [temperature_fan my_temp_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # See the \"fan\" section for a description of the above parameters. #sensor_type: #sensor_pin: #control: #max_delta: #min_temp: #max_temp: # See the \"extruder\" section for a description of the above parameters. #pid_Kp: #pid_Ki: #pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # fan_pwm = max_power - (Kp*e + Ki*integral(e) - Kd*derivative(e)) / 255 # Where \"e\" is \"target_temperature - measured_temperature\" and # \"fan_pwm\" is the requested fan rate with 0.0 being full off and # 1.0 being full on. The pid_Kp, pid_Ki, and pid_Kd parameters must # be provided when the PID control algorithm is enabled. #pid_deriv_time: 2.0 # A time value (in seconds) over which temperature measurements will # be smoothed when using the PID control algorithm. This may reduce # the impact of measurement noise. The default is 2 seconds. #target_temp: 40.0 # A temperature (in Celsius) that will be the target temperature. # The default is 40 degrees. #max_speed: 1.0 # The fan speed (expressed as a value from 0.0 to 1.0) that the fan # will be set to when the sensor temperature exceeds the set value. # The default is 1.0. #min_speed: 0.3 # The minimum fan speed (expressed as a value from 0.0 to 1.0) that # the fan will be set to for PID temperature fans. # The default is 0.3. #gcode_id: # If set, the temperature will be reported in M105 queries using the # given id. The default is to not report the temperature via M105.","title":"[temperature_fan]"},{"location":"Config_Reference.html#fan_generic","text":"\u624b\u52a8\u63a7\u5236\u7684\u98ce\u6247\uff08\u53ef\u4ee5\u7528\"fan_generic\"\u524d\u7f00\u5b9a\u4e49\u4efb\u4f55\u6570\u91cf\u7684\u624b\u52a8\u98ce\u6247\u5206\uff09\u3002\u53ef\u4ee5\u901a\u8fc7 SET_FAN_SPEED gcode\u547d\u4ee4 \u8bbe\u7f6e\u98ce\u6247\u901f\u5ea6\u3002 [fan_generic extruder_partfan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c2\u6570\u4ecb\u7ecd\u8bf7\u89c1\u201cfan\u201d\uff08\u98ce\u6247\uff09\u7ae0\u8282\u3002","title":"[fan_generic]"},{"location":"Config_Reference.html#leds","text":"","title":"LEDs"},{"location":"Config_Reference.html#led","text":"Support for LEDs (and LED strips) controlled via micro-controller PWM pins (one may define any number of sections with an \"led\" prefix). See the command reference for more information. [led my_led] #red_pin: #green_pin: #blue_pin: #white_pin: # \u63a7\u5236\u7ed9\u5b9aLED\u7684\u5f15\u811a\u3002 # \u81f3\u5c11\u63d0\u4f9b\u4e00\u4e2a\u4e0a\u8ff0\u5f15\u811a #cycle_time: 0.010 # \u6bcf\u4e2aPWM\u5468\u671f\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09 # \u4f7f\u7528\u8f6f\u4ef6PWM\u65f6\u5efa\u8bae\u5927\u4e8e10\u6beb\u79d2 # \u9ed8\u8ba4\u503c\u4e3a0.010\u79d2 #hardware_pwm: False # \u542f\u7528\u786c\u4ef6PWM\u4ee3\u66ff\u8f6f\u4ef6PWM # \u5f53\u4f7f\u7528\u786c\u4ef6PWM\u65f6\uff0c\u771f\u6b63\u7684PWM\u5468\u671f\u65f6\u95f4\u53d7\u6267\u884c\u7684\u7ea6\u675f\uff0c # \u53ef\u80fd\u663e\u8457\u5730\u4e0e\u8bf7\u6c42\u7684\u5468\u671f\u65f6\u95f4\u4e0d\u540c\u3002 # \u9ed8\u8ba4\u4e3aFalse #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # \u8bbe\u7f6e\u521d\u59cb\u5316\u65f6LED\u989c\u8272 # \u6bcf\u4e2a\u503c\u5e94\u5f53\u57280.0\u4e0e1.0\u4e4b\u95f4 # \u6bcf\u4e2a\u989c\u8272\u7684\u9ed8\u8ba4\u503c\u90fd\u4e3a0","title":"[led]"},{"location":"Config_Reference.html#neopixel","text":"\u5bf9\u4e8eNeopixel\uff08\u4e5f\u5c31\u662fWS2812\uff09LED\u7684\u652f\u6301\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cneopixel\u201d\u524d\u7f00\u7684\u90e8\u5206\uff09\u89c1 command reference \u83b7\u53d6\u66f4\u591a\u4fe1\u606f \u6ce8\u610f\uff01 linux mcu \u7684\u5b9e\u73b0\u76ee\u524d\u4e0d\u652f\u6301\u76f4\u63a5\u8fde\u63a5\u7684neopixels\u3002\u76ee\u524d\u4f7f\u7528Linux\u5185\u6838\u63a5\u53e3\u7684\u8bbe\u8ba1\u4e0d\u5141\u8bb8\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\uff0c\u56e0\u4e3a\u5185\u6838\u7684GPIO\u63a5\u53e3\u901f\u5ea6\u4e0d\u591f\u5feb\uff0c\u65e0\u6cd5\u63d0\u4f9b\u6240\u9700\u7684\u8109\u51b2\u7387\u3002 [neopixel \u6211\u7684neopixel] pin: # \u8fde\u63a5\u5230neopixel\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #chain_count: # \u83ca\u94fe\u4e2d neopixel \u82af\u7247\u7684\u6570\u91cf\u3002 # \u9ed8\u8ba4\u4e3a1\uff08\u4ee3\u8868\u6709\u4e00\u4e2aneopixel\u82af\u7247\u8fde\u63a5\u5230\u4e86\u8fd9\u4e2a\u5f15\u811a\uff09\u3002 #color_order: GRB # \u8bbe\u7f6eLED\u786c\u4ef6\u7684RGB\u50cf\u7d20\u987a\u5e8f\uff08\u63d0\u4f9b\u4e00\u4e2a\u5305\u542b\u5b57\u6bcdR\uff08\u7ea2\uff09\uff0cG\uff08\u7eff\uff09 # \uff0cB\uff08\u84dd\uff09\u548cW\uff08\u767d\uff09\u7684\u5b57\u7b26\u4e32\uff0cW\u662f\u53ef\u9009\u7684\uff09\u3002\u6216\u8005\u4e5f\u53ef\u4ee5\u7528\u4e00\u4e2a # \u9017\u53f7\u5206\u9694\u5b57\u7b26\u5217\u8868\u6765\u63cf\u8ff0\u50cf\u7d20\u987a\u5e8f\u3002 # \u9ed8\u8ba4\u4e3aGRB\u3002 #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u53c2\u9605\u201cled\u201d\u7ae0\u8282\u3002","title":"[neopixel]"},{"location":"Config_Reference.html#dotstar","text":"Dotstar\uff08\u53c8\u540d APA102\uff09LED \u652f\u6301\uff08\u53ef\u4ee5\u4f7f\u7528\u201cdotstar\u201d\u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u90e8\u5206\uff09\u3002 \u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [dotstar my_dotstar] \u6570\u636e\u5f15\u811a\uff1a # \u63a5\u70b9\u661f\u6570\u636e\u7ebf\u7684\u7ba1\u811a\u3002 \u8fd9\u4e2a\u53c2\u6570 \uff03 \u5fc5\u987b\u63d0\u4f9b\u3002 \u65f6\u949f\u5f15\u811a\uff1a # \u8fde\u63a5\u5230dotstar\u65f6\u949f\u7ebf\u7684\u5f15\u811a\u3002 \u8fd9\u4e2a\u53c2\u6570 \uff03 \u5fc5\u987b\u63d0\u4f9b\u3002 #chain_count\uff1a # \u6709\u5173\u6b64\u53c2\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u201cneopixel\u201d\u90e8\u5206\u3002 #initial_RED\uff1a0.0 #initial_GREEN\uff1a0.0 #initial_BLUE\uff1a0.0 # \u6709\u5173\u8fd9\u4e9b\u53c2\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u201cled\u201d\u90e8\u5206\u3002","title":"[dotstar]"},{"location":"Config_Reference.html#pca9533","text":"PCA9533 LED\u652f\u6301\u3002PCA9533 \u5728mightyboard\u4e0a\u4f7f\u7528\u3002 [pca9533 my_pca9533] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. Use 98 for # the PCA9533/1, 99 for the PCA9533/2. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters.","title":"[pca9533]"},{"location":"Config_Reference.html#pca9632","text":"PCA9632 LED\u652f\u6301\u3002PCA9632\u5728FlashForge Dreamer\u4e0a\u4f7f\u7528\u3002 [pca9632 my_pca9632] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. This may be # 96, 97, 98, or 99. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #scl_pin: #sda_pin: # Alternatively, if the pca9632 is not connected to a hardware I2C # bus, then one may specify the \"clock\" (scl_pin) and \"data\" # (sda_pin) pins. The default is to use hardware I2C. #color_order: RGBW # Set the pixel order of the LED (using a string containing the # letters R, G, B, W). The default is RGBW. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters.","title":"[pca9632]"},{"location":"Config_Reference.html#_24","text":"","title":"\u989d\u5916\u7684\u8235\u673a\u3001\u6309\u94ae\u548c\u5176\u4ed6\u5f15\u811a"},{"location":"Config_Reference.html#servo","text":"\u4f3a\u670d\u7535\u673a\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cservo\u201d\u524d\u7f00\u7684\u5206\u6bb5\uff09\u3002\u53ef\u4ee5\u901a\u8fc7SET_SERVO G\u4ee3\u7801\u547d\u4ee4 \u63a7\u5236\u4f3a\u670d\u7535\u673a\u3002\u4f8b\u5982\uff1aSET_SERVO SERVO=my_servo ANGLE=180 [servo my_servo] pin: # PWM output pin controlling the servo. This parameter must be # provided. #maximum_servo_angle: 180 # The maximum angle (in degrees) that this servo can be set to. The # default is 180 degrees. #minimum_pulse_width: 0.001 # The minimum pulse width time (in seconds). This should correspond # with an angle of 0 degrees. The default is 0.001 seconds. #maximum_pulse_width: 0.002 # The maximum pulse width time (in seconds). This should correspond # with an angle of maximum_servo_angle. The default is 0.002 # seconds. #initial_angle: # Initial angle (in degrees) to set the servo to. The default is to # not send any signal at startup. #initial_pulse_width: # Initial pulse width time (in seconds) to set the servo to. (This # is only valid if initial_angle is not set.) The default is to not # send any signal at startup.","title":"[servo]"},{"location":"Config_Reference.html#gcode_button","text":"\u5728\u4e00\u4e2a\u6309\u94ae\u88ab\u6309\u4e0b\u6216\u653e\u5f00\uff08\u6216\u5f53\u4e00\u4e2a\u5f15\u811a\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6\uff09\u65f6\u8fd0\u884cG\u4ee3\u7801\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 QUERY_BUTTON button=my_gcode_button \u6765\u67e5\u8be2\u6309\u94ae\u7684\u72b6\u6001\u3002 [gcode_button my_gcode_button] pin: # \u8fde\u63a5\u5230\u6309\u94ae\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #analog_range: # \u4e24\u4e2a\u9017\u53f7\u5206\u9694\u7684\u963b\u503c(\u5355\u4f4d\uff1a\u6b27\u59c6)\uff0c\u6307\u5b9a\u4e86\u6309\u94ae\u7684\u6700\u5c0f\u548c\u6700\u5927\u7535\u963b\u3002 # \u5982\u679c\u63d0\u4f9b\u4e86 analog_range \uff0c\u5fc5\u987b\u4f7f\u7528\u4e00\u4e2a\u6a21\u62df\u529f\u80fd\u7684\u5f15\u811a\u3002\u9ed8\u8ba4 # \u60c5\u51b5\u4e0b\u4e3a\u6309\u94ae\u4f7f\u7528\u6570\u5b57GPIO\u3002 # analog_pullup_resistor: # \u5f53\u5b9a\u4e49 analog_range \u65f6\u7684\u4e0a\u62c9\u7535\u963b(\u6b27\u59c6)\u3002\u9ed8\u8ba4\u4e3a4700\u6b27\u59c6\u3002 #press_gcode: # \u5f53\u6309\u94ae\u88ab\u6309\u4e0b\u65f6\u8981\u6267\u884c\u7684 G-Code \u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u6301G-Code\u6a21\u677f\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #release_gcode: # \u5f53\u6309\u94ae\u88ab\u91ca\u653e\u65f6\u8981\u6267\u884c\u7684G-Code\u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u6301G-Code\u6a21\u677f\u3002 # \u9ed8\u8ba4\u5728\u6309\u94ae\u91ca\u653e\u65f6\u4e0d\u8fd0\u884c\u4efb\u4f55\u547d\u4ee4\u3002","title":"[gcode_button]"},{"location":"Config_Reference.html#output_pin","text":"Run-time configurable output pins (one may define any number of sections with an \"output_pin\" prefix). Pins configured here will be setup as output pins and one may modify them at run-time using \"SET_PIN PIN=my_pin VALUE=.1\" type extended g-code commands . [output_pin \u6211\u7684\u5f15\u811a] pin: # \u88ab\u8bbe\u7f6e\u4e3a\u8f93\u51fa\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #pwm: False # Set if the output pin should be capable of pulse-width-modulation. # If this is true, the value fields should be between 0 and 1; if it # is false the value fields should be either 0 or 1. The default is # False. #static_value: # If this is set, then the pin is assigned to this value at startup # and the pin can not be changed during runtime. A static pin uses # slightly less ram in the micro-controller. The default is to use # runtime configuration of pins. #value: # The value to initially set the pin to during MCU configuration. # The default is 0 (for low voltage). #shutdown_value: # The value to set the pin to on an MCU shutdown event. The default # is 0 (for low voltage). #maximum_mcu_duration: # The maximum duration a non-shutdown value may be driven by the MCU # without an acknowledge from the host. # If host can not keep up with an update, the MCU will shutdown # and set all pins to their respective shutdown values. # Default: 0 (disabled) # Usual values are around 5 seconds. #cycle_time: 0.100 # The amount of time (in seconds) per PWM cycle. It is recommended # this be 10 milliseconds or greater when using software based PWM. # The default is 0.100 seconds for pwm pins. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. When # using hardware PWM the actual cycle time is constrained by the # implementation and may be significantly different than the # requested cycle_time. The default is False. #scale: # This parameter can be used to alter how the 'value' and # 'shutdown_value' parameters are interpreted for pwm pins. If # provided, then the 'value' parameter should be between 0.0 and # 'scale'. This may be useful when configuring a PWM pin that # controls a stepper voltage reference. The 'scale' can be set to # the equivalent stepper amperage if the PWM were fully enabled, and # then the 'value' parameter can be specified using the desired # amperage for the stepper. The default is to not scale the 'value' # parameter.","title":"[output_pin]"},{"location":"Config_Reference.html#static_digital_output","text":"Statically configured digital output pins (one may define any number of sections with a \"static_digital_output\" prefix). Pins configured here will be setup as a GPIO output during MCU configuration. They can not be changed at run-time. [static_digital_output my_output_pins] pins: # A comma separated list of pins to be set as GPIO output pins. The # pin will be set to a high level unless the pin name is prefaced # with \"!\". This parameter must be provided.","title":"[static_digital_output]"},{"location":"Config_Reference.html#multi_pin","text":"Multiple pin outputs (one may define any number of sections with a \"multi_pin\" prefix). A multi_pin output creates an internal pin alias that can modify multiple output pins each time the alias pin is set. For example, one could define a \"[multi_pin my_fan]\" object containing two pins and then set \"pin=multi_pin:my_fan\" in the \"[fan]\" section - on each fan change both output pins would be updated. These aliases may not be used with stepper motor pins. [multi_pin my_multi_pin] pins: # \u4e0e\u6b64\u522b\u540d\u5173\u8054\u7684\u5f15\u811a\u7684\u9017\u53f7\u5206\u9694\u5217\u8868\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002","title":"[multi_pin]"},{"location":"Config_Reference.html#tmc","text":"\u5728UART/SPI\u6a21\u5f0f\u4e0b\u914d\u7f6eTrinamic\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u3002\u5176\u4ed6\u4fe1\u606f\u5728 TMC\u9a71\u52a8\u7a0b\u5e8f\u6307\u5357 \u548c \u547d\u4ee4\u53c2\u8003 \u4e2d\u3002","title":"TMC\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e"},{"location":"Config_Reference.html#tmc2130","text":"\u901a\u8fc7 SPI \u603b\u7ebf\u914d\u7f6e TMC2130 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709\u201ctmc2130\u201d\u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2130 stepper_x]\u201d\uff09\u3002 [tmc2130 stepper_x] cs_pin: # The pin corresponding to the TMC2130 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 0 #driver_TBL: 1 #driver_TOFF: 4 #driver_HEND: 7 #driver_HSTRT: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 4 #driver_PWM_AMPL: 128 #driver_SGT: 0 # Set the given register during the configuration of the TMC2130 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC2130 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc2130_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing.","title":"[tmc2130]"},{"location":"Config_Reference.html#tmc2208","text":"\u901a\u8fc7\u5355\u7ebf UART \u914d\u7f6e TMC2208\uff08\u6216 TMC2224\uff09\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc2208\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2208 stepper_x]\u201d\uff09\u3002 [tmc2208 stepper_x] uart_pin: # The pin connected to the TMC2208 PDN_UART line. This parameter # must be provided. #tx_pin: # If using separate receive and transmit lines to communicate with # the driver then set uart_pin to the receive pin and tx_pin to the # transmit pin. The default is to use uart_pin for both reading and # writing. #select_pins: # A comma separated list of pins to set prior to accessing the # tmc2208 UART. This may be useful for configuring an analog mux for # UART communication. The default is to not configure any pins. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 # Set the given register during the configuration of the TMC2208 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list.","title":"[tmc2208]"},{"location":"Config_Reference.html#tmc2209","text":"\u901a\u8fc7\u5355\u7ebf UART \u914d\u7f6e TMC2209 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc2209\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2209 stepper_x]\u201d\uff09\u3002 [tmc2209 stepper_x] uart_pin: #tx_pin: #select_pins: #interpolate: True run_current: #hold_current: #sense_resistor: 0.110 #stealthchop_threshold: 0 # \u4ee5\u4e0a\u53c2\u6570\u89c1\"tmc2208\"\u90e8\u5206 #uart_address: # TMC2209\u7684UART\u5730\u5740\uff080-3\u7684\u6574\u6570\uff09 # \u8fd9\u4e2a\u53c2\u6570\u901a\u5e38\u7528\u4e8e\u591a\u4e2aTMC2209\u8fde\u63a5\u5230\u540c\u4e2aUART\u63a5\u53e3 # \u9ed8\u8ba4\u662f0 #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 #driver_SGTHRS: 0 # \u914d\u7f6eTMC2209\u65f6\u914d\u7f6e\u7684\u5bc4\u5b58\u5668 # \u8fd9\u4e9b\u53c2\u6570\u901a\u5e38\u7528\u4e8e\u8bbe\u5b9a\u81ea\u5df1\u5b9a\u5236\u7684\u7535\u673a\u53c2\u6570 # \u6bcf\u4e2a\u53c2\u6570\u7684\u9ed8\u8ba4\u503c\u5982\u4e0a #diag_pin: # \u5fae\u63a7\u5236\u5668\u8fde\u63a5\u5230TMC2209\u7684DIAG\u63a5\u53e3\u7684\u5f15\u811a # \u8fd9\u4e2a\u5f15\u811a\u901a\u5e38\u4f7f\u7528\"^\"\u524d\u7f00\u6765\u5f00\u542f\u5185\u90e8\u4e0a\u62c9 # \u8bbe\u7f6e\u8fd9\u4e2a\u4f1a\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\"tmc2209_stepper_x:virtual_endstop\"\u7684\u865a\u62df\u5f15\u811a # \u7528\u505a\u6b65\u8fdb\u7535\u673a\u7684\u7ec8\u6b62\u5f15\u811a\u3002 # \u5728\u542f\u52a8\"sensorless homing\"\uff08\u65e0\u9650\u4f4d\u5f52\u96f6\uff09\u65f6\u8bbe\u7f6e\u8fd9\u4e2a\u3002 # \uff08\u786e\u4fdd\u540c\u65f6\u8bbe\u7f6e\u4e86driver_SGTHRS\u4e3a\u4e00\u4e2a\u5408\u9002\u7684\u7075\u654f\u5ea6\uff09 # \u9ed8\u8ba4\u662f\u5173\u95ed\u4e86\u65e0\u9650\u4f4d\u5f52\u96f6","title":"[tmc2209]"},{"location":"Config_Reference.html#tmc2660","text":"\u901a\u8fc7 SPI \u603b\u7ebf\u914d\u7f6e TMC2660 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc 2660\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc2660 stepper_x]\u201d\uff09\u3002 [tmc2660 stepper_x] cs_pin: # The pin corresponding to the TMC2660 chip select line. This pin # will be set to low at the start of SPI messages and set to high # after the message transfer completes. This parameter must be # provided. #spi_speed: 4000000 # SPI bus frequency used to communicate with the TMC2660 stepper # driver. The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This only works if microsteps # is set to 16. Interpolation does introduce a small systemic # positional deviation - see TMC_Drivers.md for details. The default # is True. run_current: # The amount of current (in amps RMS) used by the driver during # stepper movement. This parameter must be provided. #sense_resistor: # The resistance (in ohms) of the motor sense resistor. This # parameter must be provided. #idle_current_percent: 100 # The percentage of the run_current the stepper driver will be # lowered to when the idle timeout expires (you need to set up the # timeout using a [idle_timeout] config section). The current will # be raised again once the stepper has to move again. Make sure to # set this to a high enough value such that the steppers do not lose # their position. There is also small delay until the current is # raised again, so take this into account when commanding fast moves # while the stepper is idling. The default is 100 (no reduction). #driver_TBL: 2 #driver_RNDTF: 0 #driver_HDEC: 0 #driver_CHM: 0 #driver_HEND: 3 #driver_HSTRT: 3 #driver_TOFF: 4 #driver_SEIMIN: 0 #driver_SEDN: 0 #driver_SEMAX: 0 #driver_SEUP: 0 #driver_SEMIN: 0 #driver_SFILT: 0 #driver_SGT: 0 #driver_SLPH: 0 #driver_SLPL: 0 #driver_DISS2G: 0 #driver_TS2G: 3 # Set the given parameter during the configuration of the TMC2660 # chip. This may be used to set custom driver parameters. The # defaults for each parameter are next to the parameter name in the # list above. See the TMC2660 datasheet about what each parameter # does and what the restrictions on parameter combinations are. Be # especially aware of the CHOPCONF register, where setting CHM to # either zero or one will lead to layout changes (the first bit of # HDEC) is interpreted as the MSB of HSTRT in this case).","title":"[tmc2660]"},{"location":"Config_Reference.html#tmc5160","text":"\u901a\u8fc7 SPI \u603b\u7ebf\u914d\u7f6e TMC5160 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8bf7\u5b9a\u4e49\u4e00\u4e2a\u5e26\u6709 \u201ctmc5160\u201d \u524d\u7f00\u5e76\u540e\u8ddf\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u5206\u6bb5\u76f8\u5e94\u540d\u79f0\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u201c[tmc5160 stepper_x]\u201d\uff09\u3002 [tmc5160 stepper_x] cs_pin: # The pin corresponding to the TMC5160 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.075 # The resistance (in ohms) of the motor sense resistor. The default # is 0.075 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 6 #driver_TPOWERDOWN: 10 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 2 #driver_HSTRT: 5 #driver_FD3: 0 #driver_TPFD: 4 #driver_CHM: 0 #driver_VHIGHFS: 0 #driver_VHIGHCHM: 0 #driver_DISS2G: 0 #driver_DISS2VS: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_AUTOGRAD: True #driver_PWM_FREQ: 0 #driver_FREEWHEEL: 0 #driver_PWM_GRAD: 0 #driver_PWM_OFS: 30 #driver_PWM_REG: 4 #driver_PWM_LIM: 12 #driver_SGT: 0 #driver_SEMIN: 0 #driver_SEUP: 0 #driver_SEMAX: 0 #driver_SEDN: 0 #driver_SEIMIN: 0 #driver_SFILT: 0 # Set the given register during the configuration of the TMC5160 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC5160 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc5160_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing.","title":"[tmc5160]"},{"location":"Config_Reference.html#_25","text":"","title":"\u8fd0\u884c\u65f6\u6b65\u8fdb\u7535\u673a\u7535\u6d41\u914d\u7f6e"},{"location":"Config_Reference.html#ad5206","text":"Statically configured AD5206 digipots connected via SPI bus (one may define any number of sections with an \"ad5206\" prefix). [ad5206 my_digipot] enable_pin: # \u5bf9\u5e94AD5206 \u82af\u7247\u9009\u62e9(chip select)\u7ebf\u8def\u7684\u5f15\u811a\u3002\u8fd9\u4e2a\u5f15\u811a\u5c06 # \u5728 SPI \u6d88\u606f\u5f00\u59cb\u65f6\u62c9\u4f4e\uff0c\u5e76\u5728\u6d88\u606f\u7ed3\u675f\u540e\u62c9\u9ad8\u3002\u5fc5\u987b\u63d0\u4f9b # \u8fd9\u4e2a\u53c2\u6570\u3002 #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4ee5\u4e0a\u53c2\u6570\u7684\u5b9a\u4e49\u8bf7\u67e5\u770b \"\u5e38\u89c4 SPI \u8bbe\u7f6e\" \u7ae0\u8282 #channel_1: #channel_2: #channel_3: #channel_4: #channel_5: #channel_6: # \u8bbe\u7f6eAD5206\u901a\u9053\u7684\u9759\u6001\u503c\u3002\u901a\u5e38\u57280.0\u548c1.0\u4e4b\u95f4\uff0c1.0\u4e3a\u6700\u9ad8 # \u7535\u963b\uff0c\u800c0.0\u4e3a\u6700\u4f4e\u7535\u963b\u3002\u7136\u800c\uff0c\u8fd9\u4e2a\u8303\u56f4\u4e5f\u53ef\u4ee5\u88ab \u2018scale\u2019 \u53c2 # \u6570\u914d\u7f6e\u3002\uff08\u89c1\u4e0b\u6587\uff09\u5982\u679c\u4e00\u4e2a\u901a\u9053\u6ca1\u6709\u53c2\u6570\u5219\u5b83\u4e0d\u4f1a\u88ab\u914d\u7f6e\u3002 #scale: # \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u7528\u6765\u4fee\u6539 \u2018channel_x\u2019 \u53c2\u6570\u7684\u5b9a\u4e49\u3002\u5982\u88ab\u63d0\u4f9b\uff0c # \u5219 \u2018channel_x\u2019 \u7684\u8303\u56f4\u4f1a\u5728 0.0 \u548c \u2018scale\u2019 \u4e4b\u95f4\u3002\u5728 AD5206 \u88ab\u4f5c # \u4e3a\u6b65\u8fdb\u7535\u673a\u53c2\u8003\u7535\u538b\u65f6\u53ef\u80fd\u5f88\u6709\u5e2e\u52a9\u3002\u5f53AD5206\u5728\u6700\u9ad8\u7535\u963b\u65f6 # \u2018scale\u2019 \u53ef\u4ee5\u88ab\u8bbe\u7f6e\u4e3a\u6b65\u8fdb\u7535\u673a\u7684\u7535\u6d41\uff0c \u7136\u540e \u2018channel_x\u2019 \u53c2\u6570\u53ef # \u4ee5\u8bbe\u7f6e\u4e3a\u6b65\u8fdb\u7535\u673a\u7684\u671f\u671b\u7535\u6d41\u5b89\u57f9\u3002\u9ed8\u8ba4\u4e3a\u4e0d\u5bf9 'channel_x' \u53c2 # \u6570\u8fdb\u884c\u7f29\u653e\u3002","title":"[ad5206]"},{"location":"Config_Reference.html#mcp4451","text":"Statically configured MCP4451 digipot connected via I2C bus (one may define any number of sections with an \"mcp4451\" prefix). [mcp4451 my_digipot] i2c_address: # \u82af\u7247\u5728I2C\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u89c1\u201c\u5e38\u89c1\u7684I2C\u8bbe\u7f6e\u201d\u7ae0\u8282\u3002 #wiper_0: #wiper_1: #wiper_2: #wiper_3: # The value to statically set the given MCP4451 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # If a wiper is not specified then it is left unconfigured. #scale: # This parameter can be used to alter how the 'wiper_x' parameters # are interpreted. If provided, then the 'wiper_x' parameters should # be between 0.0 and 'scale'. This may be useful when the MCP4451 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4451 were at its highest # resistance, and then the 'wiper_x' parameters can be specified # using the desired amperage value for the stepper. The default is # to not scale the 'wiper_x' parameters.","title":"[mcp4451]"},{"location":"Config_Reference.html#mcp4728","text":"Statically configured MCP4728 digital-to-analog converter connected via I2C bus (one may define any number of sections with an \"mcp4728\" prefix). [mcp4728 my_dac] #i2c_address: 96 # \u82af\u7247\u5728I2C\u603b\u7ebf\u4e0a\u4f7f\u7528\u7684\u5730\u5740\u3002 # \u9ed8\u8ba4\u4e3a96\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u4ee5\u4e0a\u53c2\u6570\u8bf7\u89c1\u201c\u5e38\u89c1\u7684I2C\u8bbe\u7f6e\u201d #channel_a: #channel_b: #channel_c: #channel_d: # \u8bbe\u7f6e MCP4728 \u901a\u9053\u4e3a\u7ed9\u5b9a\u7684\u9759\u6001\u503c\u3002\u901a\u5e38\u5b83\u88ab\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5728 # 0.0\u548c1.0\u4e4b\u95f4\uff0c1.0\u4ee3\u8868\u6700\u9ad8\u7535\u538b\uff082.048V\uff09\u800c0.0\u4ee3\u8868\u6700\u4f4e\u7535\u538b\u3002 # \u7136\u800c\uff0c\u8be5\u8303\u56f4\u53ef\u4ee5\u88ab'scale'\uff08 \u7f29\u653e\uff09\u53c2\u6570\u6539\u53d8\uff08\u89c1\u4e0b\u6587\uff09\u3002\u6ca1\u6709\u7ed9 # \u5b9a\u503c\u7684\u901a\u9053\u4e0d\u4f1a\u88ab\u914d\u7f6e\u3002 #scale: # \u8be5\u53c2\u6570\u53ef\u4ee5\u6539\u53d8'channel_x'\u53c2\u6570\u88ab\u89e3\u91ca\u7684\u65b9\u5f0f\u3002\u5982\u679c\u8bbe\u5b9a\u4e86\u8be5\u53c2\u6570\uff0c # 'channel_x'\u53c2\u6570\u7684\u8303\u56f4\u4f1a\u57280.0 \u548c 'scale'\u4e4b\u95f4\u3002\u8be5\u529f\u80fd\u5728\u4f7f\u7528MCP4728 \u4ea7\u751f # \u6b65\u8fdb\u7535\u673a\u53c2\u8003\u7535\u538b\u65f6\u53ef\u80fd\u6709\u7528\u3002The 'scale' can # be set to the equivalent stepper amperage if the MCP4728 were at # its highest voltage (2.048V), and then the 'channel_x' parameters # can be specified using the desired amperage value for the # stepper.\u9ed8\u8ba4\u4e0d\u5bf9channel_x'\u53c2\u6570\u8fdb\u884c\u7f29\u653e\u3002","title":"[mcp4728]"},{"location":"Config_Reference.html#mcp4018","text":"Statically configured MCP4018 digipot connected via two gpio \"bit banging\" pins (one may define any number of sections with an \"mcp4018\" prefix). [mcp4018 my_digipot] scl_pin: # SCL \u201c\u65f6\u949f\u201d\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 sda_pin: # SDA \u201c\u6570\u636e\u201d\u5f15\u811a # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570 wiper: # The value to statically set the given MCP4018 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # This parameter must be provided. #scale: # This parameter can be used to alter how the 'wiper' parameter is # interpreted. If provided, then the 'wiper' parameter should be # between 0.0 and 'scale'. This may be useful when the MCP4018 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4018 is at its highest # resistance, and then the 'wiper' parameter can be specified using # the desired amperage value for the stepper. The default is to not # scale the 'wiper' parameter.","title":"[mcp4018]"},{"location":"Config_Reference.html#_26","text":"","title":"\u663e\u793a\u5c4f\u652f\u6301"},{"location":"Config_Reference.html#display","text":"\u652f\u6301\u4e00\u4e2a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684\u5c4f\u5e55 [display] lcd_type: # \u4f7f\u7528\u7684 LCD \u82af\u7247\u7c7b\u578b\u3002\u8fd9\u53ef\u4ee5\u662f\u201chd44780\u201d\u3001\u201chd44780_spi\u201d\u3001 # \u201cst7920\u201d\u3001\u201cemulated_st7920\u201d\u3001\u201cuc1701\u201d\u3001\u201cssd1306\u201d\u3001\u6216\u201csh1106\u201d\u3002 # \u6709\u5173\u4e0d\u540c\u7684LCD\u82af\u7247\u7c7b\u578b\u548c\u5b83\u4eec\u7279\u6709\u7684\u53c2\u6570\uff0c\u8bf7\u67e5\u770b\u4e0b\u9762\u7684\u663e\u793a\u5c4f\u5206\u6bb5\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #display_group: # \u663e\u793a\u5728\u8fd9\u4e2a\u663e\u793a\u5c4f\u4e0a\u7684 display_data \u7ec4\u3002\u5b83\u51b3\u5b9a\u4e86\u8fd9\u4e2a\u5c4f\u5e55\u663e\u793a # \u7684\u5185\u5bb9\uff08\u8be6\u89c1\u201cdisplay_data\u201d\u5206\u6bb5\uff09\u3002 # hd44780 \u9ed8\u8ba4\u4f7f\u7528 _default_20x4\uff0c\u5176\u4ed6\u663e\u793a\u5c4f\u5219\u9ed8\u8ba4\u4f7f\u7528 _default_16x4\u3002 #menu_timeout: # \u83dc\u5355\u8d85\u65f6\u65f6\u95f4\u3002\u5728\u4e0d\u6d3b\u8dc3\u7ed9\u5b9a\u65f6\u95f4\u540e\u5c06\u4f1a\u9000\u51fa\u83dc\u5355\u6216\u5728 autorun \u542f\u7528\u65f6 # \u56de\u5230\u6839\u83dc\u5355\u3002 # \u9ed8\u8ba4\u4e3a 0 \u79d2\uff08\u7981\u7528\uff09\u3002 #menu_root: # \u5728\u4e3b\u5c4f\u5e55\u6309\u4e0b\u7f16\u7801\u5668\u65f6\u663e\u793a\u7684\u4e3b\u83dc\u5355\u6bb5\u540d\u79f0\u3002 # \u9ed8\u8ba4\u4e3a __main\uff0c\u8fd9\u4f1a\u663e\u793a\u5728 klippy/extras/display/menu.cfg\u4e2d\u5b9a\u4e49\u7684\u4e3b\u83dc\u5355\u3002 #menu_reverse_navigation: # \u542f\u7528\u65f6\u53cd\u8f6c\u4e0a\u6eda\u52a8\u548c\u4e0b\u6eda\u52a8\u3002 # \u9ed8\u8ba4\u4e3aFalse\u3002\u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\u3002 #encoder_pins: # \u8fde\u63a5\u5230\u7f16\u7801\u5668\u7684\u5f15\u811a\u3002\u4f7f\u7528\u7f16\u7801\u5668\u65f6\u5fc5\u987b\u63d0\u4f9b\u4e24\u4e2a\u5f15\u811a\u3002 # \u4f7f\u7528\u83dc\u5355\u65f6\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #encoder_steps_per_detent: # \u7f16\u7801\u5668\u5728\u6bcf\u4e00\u4e2a\u51f9\u9677\u5904\uff08\"click\"\uff09\u53d1\u51fa\u591a\u5c11\u6b65\u3002\u5982\u679c\u7f16\u7801\u5668\u9700\u8981\u8f6c\u8fc7\u4e24\u4e2a\u51f9 # \u9677\u624d\u80fd\u5728\u6761\u76ee\u4e4b\u95f4\u79fb\u52a8\uff0c\u6216\u8005\u8f6c\u8fc7\u4e00\u4e2a\u51f9\u75d5\u4f1a\u5728\u4e24\u4e2a\u8bcd\u6761\u4e4b\u95f4\u79fb\u52a8/\u8df3\u8fc7 # \u4e00\u4e2a\u8bcd\u6761\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u6539\u53d8\u8fd9\u4e2a\u503c\u3002 # \u5141\u8bb8\u7684\u503c\u662f2 \uff08\u534a\u6b65\uff09\u6216 4\uff08\u5168\u6b65\uff09\u3002 # \u9ed8\u8ba4\u4e3a 4\u3002 #click_pin: # \u8fde\u63a5\u5230 \"enter\" \u6309\u94ae\u6216\u7f16\u7801\u5668\u6309\u538b\u7684\u5f15\u811a\u3002 # \u4f7f\u7528\u83dc\u5355\u65f6\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_click_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #back_pin: # \u8fde\u63a5\u5230\u201cback\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002\u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\uff0c\u83dc\u5355\u4e0d\u9700\u8981\u8fd9\u4e2a\u6309\u94ae\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_back_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #up_pin: # \u8fde\u63a5\u5230\u201cup\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002\u5728\u4e0d\u4f7f\u7528\u7f16\u7801\u5668\u65f6\u4f7f\u7528\u83dc\u5355\u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_up_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #down_pin: # \u8fde\u63a5\u5230\u201cdown\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002 \u5728\u4e0d\u4f7f\u7528\u7f16\u7801\u5668\u65f6\u4f7f\u7528\u83dc\u5355\u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_down_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #kill_pin: # \u8fde\u63a5\u5230\u201ckill\u201d\u6309\u94ae\u7684\u5f15\u811a\u3002 \u8fd9\u4e2a\u6309\u94ae\u5c06\u4f1a\u89e6\u53d1\u7d27\u6025\u505c\u6b62\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 \u201canalog_range_kill_pin\u201d\u914d\u7f6e\u53c2\u6570\uff0c\u5219\u8fd9\u4e2a\u53c2\u6570\u7684\u5f15\u811a\u9700\u8981 # \u662f\u6a21\u62df\u5f15\u811a\u3002 #analog_pullup_resistor: 4700 # \u8fde\u63a5\u5230\u6a21\u62df\u6309\u94ae\u7684\u62c9\u9ad8\u7535\u963b\u963b\u503c(ohms) # \u9ed8\u8ba4\u4e3a 4700 ohms\u3002 #analog_range_click_pin: # 'enter'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_back_pin: # 'back'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_up_pin: # 'up'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_down_pin: # 'down'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_kill_pin: # 'kill'\u6309\u94ae\u7684\u963b\u503c\u8303\u56f4\u3002 # \u5728\u4f7f\u7528\u6a21\u62df\u6309\u94ae\u65f6\u5fc5\u987b\u63d0\u4f9b\u7531\u9017\u53f7\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002","title":"[display]"},{"location":"Config_Reference.html#hd44780","text":"\u6709\u5173\u914d\u7f6e hd44780 \u663e\u793a\u5668\uff08\u5728\"RepRapDiscount 2004 Smart Controller\"\u7c7b\u578b\u663e\u793a\u5c4f\u4e2d\u53ef\u4ee5\u627e\u5230\uff09\u7684\u4fe1\u606f\u3002 [display] lcd_type: hd44780 # \u5bf9\u4e8ehd44780\u663e\u793a\u5c4f\uff0c\u586b\u5199 \"hd44780\"\u3002 rs_pin: e_pin: d4_pin: d5_pin: d6_pin: d7_pin: # \u8fde\u63a5\u5230hd44780 \u7c7bLCD\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e9b\u53c2\u6570 #hd44780_protocol_init: True # \u5728\u4e00\u4e2a hd44780 \u663e\u793a\u5668\u4e0a\u6267\u884c 8-bit/4-bit \u534f\u8bae\u521d\u59cb\u5316\u3002\u5bf9\u4e8e\u6240\u6709 # \u6b63\u7248\u7684 hd44780 \u8bbe\u5907\uff0c\u8fd9\u662f\u5fc5\u987b\u7684\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e9b\u514b\u9686\u7684\u8bbe\u5907\u4e0a # \u53ef\u80fd\u9700\u8981\u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3aTrue\uff08\u542f\u7528\uff09\u3002 #line_length: # \u8bbe\u7f6e hd44780 \u7c7bLCD \u6bcf\u884c\u663e\u793a\u7684\u5b57\u7b26\u6570\u3002\u53ef\u80fd\u7684\u6570\u503c\u670920\uff08\u9ed8\u8ba4\uff09 # \u548c16\u3002\u884c\u6570\u88ab\u9501\u5b9a\u4e3a4\u884c\u3002 ...","title":"hd44780\u663e\u793a\u5668"},{"location":"Config_Reference.html#hd44780_spi","text":"\u6709\u5173\u914d\u7f6e hd44780_spi \u663e\u793a\u5c4f\u7684\u4fe1\u606f - \u901a\u8fc7\u786c\u4ef6\"\u79fb\u4f4d\u5bc4\u5b58\u5668\"\uff08\u7528\u4e8e\u57fa\u4e8e mightyboard \u7684\u6253\u5370\u673a\uff09\u63a7\u5236\u768420x04\u663e\u793a\u5668\u3002 [display] lcd_type: hd44780_spi # \u5bf9\u4e8ehd44780_spi \u663e\u793a\u5668\uff0c\u8bbe\u7f6e\u4e3a\u201chd44780_spi\u201d\u3002 latch_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u63a7\u5236\u663e\u793a\u5668\u7684\u79fb\u4f4d\u5bc4\u5b58\u5668\u7684\u5f15\u811a\u3002\u7531\u4e8e\u4f4d\u79fb\u5bc4\u5b58\u5668\u6ca1\u6709 MISO \u5f15 # \u811a\uff0c\u4f46\u662f\u8f6f\u4ef6 SPI \u5b9e\u73b0\u9700\u8981\u8fd9\u4e2a\u5f15\u811a\u88ab\u914d\u7f6e\uff0c # spi_software_miso_pin \u9700\u8981\u88ab\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u6253\u5370\u673a\u4e3b\u677f\u4e0a\u672a\u88ab\u4f7f # \u7528\u7684\u5f15\u811a\u3002 #hd44780_protocol_init: True # \u5728 hd44780 \u663e\u793a\u5668\u4e0a\u6267\u884c 8-bit/4-bit \u534f\u8bae\u521d\u59cb\u5316\u3002\u6b63\u7248\u7684 # hd44780 \u8bbe\u5907\u5fc5\u987b\u6267\u884c\u6b64\u64cd\u4f5c\uff0c\u4f46\u662f\u67d0\u4e9b\u514b\u9686\u8bbe\u5907\u4e0a\u53ef\u80fd\u9700\u8981 # \u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3aTrue\uff08\u542f\u7528\uff09\u3002 #line_length: # \u8bbe\u7f6e\u4e00\u4e2a hd44780 \u7c7b LCD \u6bcf\u884c\u663e\u793a\u7684\u5b57\u7b26\u6570\u91cf\u3002\u53ef\u80fd\u7684\u503c\u4e3a20 # \uff08\u9ed8\u8ba4\uff09\u548c 16\u3002\u884c\u6570\u56fa\u5b9a\u4e3a4\u3002 ...","title":"hd44780_spi\u663e\u793a\u5668"},{"location":"Config_Reference.html#st7920","text":"\u6709\u5173\u914d\u7f6e st7920 \u7c7b\u663e\u793a\u5c4f\u7684\u4fe1\u606f\uff08\u53ef\u7528\u4e8e \"RepRapDiscount 12864 Full Graphic Smart Controller\" \u7c7b\u578b\u7684\u663e\u793a\u5668\uff09\u3002 [display] lcd_type: st7920 # \u4e3ast7920\u663e\u793a\u5668\u8bbe\u7f6e\u4e3a \"st7920\"\u3002 cs_pin: sclk_pin: sid_pin: # \u8fde\u63a5\u5230 st7920 \u7c7bLCD\u7684\u5f15\u811a\u3002 # \u8fd9\u4e9b\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 ...","title":"st7920\u5c4f\u5e55"},{"location":"Config_Reference.html#emulated_st7920st7920","text":"\u6709\u5173\u914d\u7f6e\u6a21\u62df st7920 \u663e\u793a\u5c4f\u7684\u4fe1\u606f \u2014\u5b83\u53ef\u4ee5\u5728\u4e00\u4e9b\"2.4 \u5bf8\u89e6\u6478\u5c4f\"\u548c\u5176\u4ed6\u7c7b\u4f3c\u8bbe\u5907\u4e2d\u627e\u5230\u3002 [display] lcd_type: emulated_st7920 # \u5bf9\u4e8e emulated_st7920 \u663e\u793a\u5c4f\uff0c\u8bbe\u7f6e\u4e3a\"emulated_st7920\"\u3002 en_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u8fde\u63a5\u5230 emulated_st7920 \u7c7bLCD\u7684\u5f15\u811a\u3002 en_pin \u5bf9\u5e94 # st7920 \u7c7bLCD\u7684 cs_pin\u3002spi_software_sclk_pin \u5bf9\u5e94 sclk_pin\uff0c # \u8fd8\u6709 spi_software_mosi_pin \u5bf9\u5e94 sid_pin\u3002\u7531\u4e8e\u8f6f\u4ef6SPI\u5b9e\u73b0 # \u7684\u65b9\u5f0f\uff0c\u867d\u7136 ST7920 \u4e0d\u4f7f\u7528 MISO \u5f15\u811a\uff0c \u4f9d\u65e7\u9700\u8981\u5c06 # spi_software_miso_pin\u8bbe\u4e3a\u4e00\u4e2a\u6253\u5370\u673a\u63a7\u5236\u677f\u4e0a\u4e00\u4e2a\u6ca1\u6709\u88ab # \u4f7f\u7528\u7684\u5f15\u811a\u3002 ...","title":"emulated_st7920\uff08\u6a21\u62dfST7920\uff09\u663e\u793a\u5c4f"},{"location":"Config_Reference.html#uc1701-display","text":"\u6709\u5173\u914d\u7f6e uc1701 \u663e\u793a\u5c4f\u7684\u4fe1\u606f\uff08\u7528\u4e8e\u201cMKS Mini 12864\u201d\u578b\u663e\u793a\u5c4f\uff09\u3002 [display] lcd_type: uc1701 # uc1701 \u663e\u793a\u5c4f\u5e94\u8bbe\u4e3a\"uc1701\"\u3002 cs_pin: a0_pin: # \u8fde\u63a5\u5230 uc1701 \u7c7bLCD\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e9b\u53c2\u6570\u3002 #rst_pin: # \u8fde\u63a5\u5230 LCD \"rst\" \u7684\u5f15\u811a\u3002 \u5982\u679c\u6ca1\u6709\u5b9a\u4e49\uff0c\u5219\u786c\u4ef6\u5fc5\u987b\u5728LCD # \u76f8\u5e94\u7684\u7ebf\u8def\u4e0a\u5e26\u4e00\u4e2aLCD\u5f15\u811a\u3002 #contrast: # \u663e\u793a\u5c4f\u7684\u5bf9\u6bd4\u5ea6\u3002\u5fc5\u987b\u57280\u548c63\u4e4b\u95f4\u3002 # \u9ed8\u8ba4\u4e3a40\u3002 ...","title":"uc1701 display"},{"location":"Config_Reference.html#ssd1306sh1106","text":"ssd1306 \u548c sh1106 \u663e\u793a\u5c4f\u7684\u914d\u7f6e\u4fe1\u606f\u3002 [display] lcd_type: # \u5bf9\u4e8e\u7ed9\u5b9a\u7684\u663e\u793a\u5c4f\u7c7b\u578b\uff0c\u8bbe\u7f6e\u4e3a \u201cssd1306\" \u6216 \"sh1106\"\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u8fde\u63a5\u5230I2C\u603b\u7ebf\u7684\u663e\u793a\u5c4f\u7684\u53ef\u9009\u53c2\u6570\uff0c \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u901a # \u7528 I2C \u8bbe\u7f6e\u7ae0\u8282\u3002 #cs_pin: #dc_pin: #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4f7f\u75284\u7ebf SPI \u6a21\u5f0f\u65f6\u8fde\u63a5\u5230 lcd \u7684\u5f15\u811a\u3002\u4ee5 \"spi_\" \u5f00\u5934\u7684 # \u53c2\u6570\u8be6\u89c1 \u201c\u901a\u7528 SPI \u8bbe\u7f6e\u201d \u7ae0\u8282\u3002 # \u663e\u793a\u5c4f\u9ed8\u8ba4\u4f7f\u7528 I2C \u6a21\u5f0f #reset_pin: # \u53ef\u4ee5\u6307\u5b9a\u4e00\u4e2a\u663e\u793a\u5c4f\u4e0a\u7684\u91cd\u7f6e\u5f15\u811a\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u786c\u4ef6 # \u5fc5\u987b\u5728\u76f8\u5e94\u7684 lcd \u7ebf\u8def\u4e0a\u6709\u4e00\u4e2a\u62c9\u9ad8\u7535\u963b\u3002 #contrast: # \u53ef\u8bbe\u7f6e\u7684\u5bf9\u6bd4\u5ea6\u3002 # \u6570\u503c\u5fc5\u987b\u5728 0 \u548c 256 \u4e4b\u95f4\uff0c\u9ed8\u8ba4\u4e3a 239\u3002 #vcomh: 0 # \u8bbe\u7f6e\u663e\u793a\u5c4f\u7684 Vcomh \u503c\u3002\u8fd9\u4e2a\u503c\u4e0e\u4e00\u4e9bOLED\u663e\u793a\u5c4f\u7684 # \u6a21\u7cca\u6548\u679c\u6709\u5173\u3002\u8fd9\u4e2a\u6570\u503c\u53ef\u4ee5\u5728 0 \u548c 63 \u4e4b\u95f4\u3002 # \u9ed8\u8ba4\u4e3a0\u3002 #invert: False # TRUE \u53ef\u4ee5\u5728\u4e00\u4e9bOLED\u663e\u793a\u5c4f\u4e0a\u53cd\u8f6c\u50cf\u7d20 # \u9ed8\u8ba4\u4e3a False\u3002 #x_offset: 0 # \u8bbe\u7f6e\u5728 SH1106 \u663e\u793a\u5c4f\u4e0a\u7684\u6c34\u5e73\u504f\u79fb\u3002 # \u9ed8\u8ba4\u4e3a0\u3002 ...","title":"ssd1306\u548csh1106\u5c4f\u5e55"},{"location":"Config_Reference.html#display_data","text":"Support for displaying custom data on an lcd screen. One may create any number of display groups and any number of data items under those groups. The display will show all the data items for a given group if the display_group option in the [display] section is set to the given group name. \u4e00\u5957 \u9ed8\u8ba4\u663e\u793a\u7ec4 \u5c06\u88ab\u81ea\u52a8\u521b\u5efa\u3002\u901a\u8fc7\u8986\u76d6\u6253\u5370\u673a\u7684 printer.cfg \u4e3b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u503c\u53ef\u4ee5\u66ff\u6362\u6216\u6269\u5c55\u8fd9\u4e9b display_data \u9879\u3002 [display_data my_group_name my_data_name] position: # \u7528\u4e8e\u663e\u793a\u4fe1\u606f\u7684\u5c4f\u5e55\u4f4d\u7f6e\uff0c\u7531\u9017\u53f7\u5206\u9694\u884c\u4e0e\u5217\u8868\u793a\u3002 # \u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 text: # \u5728\u6307\u5b9a\u4f4d\u7f6e\u663e\u793a\u7684\u6587\u672c\u3002\u672c\u5b57\u6bb5\u5fc5\u987b\u7528\u547d\u4ee4\u6837\u677f\u8fdb\u884c\u8bc4\u4f30\u3002 # \uff08\u67e5\u770b docs/Command_Templates.md\uff09\u3002 # \u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002","title":"[display_data]"},{"location":"Config_Reference.html#display_template","text":"\u663e\u793a\u6570\u636e\u6587\u672c\"macros\"\uff08\u53ef\u4ee5\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709display_template\u524d\u7f00\u7684\u90e8\u5206\uff09\u3002\u6709\u5173\u6a21\u677f\u8bc4\u4f30\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u547d\u4ee4\u6a21\u677f \u6587\u4ef6\u3002 This feature allows one to reduce repetitive definitions in display_data sections. One may use the builtin render() function in display_data sections to evaluate a template. For example, if one were to define [display_template my_template] then one could use { render('my_template') } in a display_data section. This feature can also be used for continuous LED updates using the SET_LED_TEMPLATE command. [\u663e\u793a\u6a21\u677f\u6211\u7684\u6a21\u677f\u540d\u79f0] #param_<\u540d\u79f0>\uff1a # \u53ef\u4ee5\u6307\u5b9a\u4efb\u610f\u6570\u91cf\u7684\u5e26\u6709\u201cparam_\u201d\u524d\u7f00\u7684\u9009\u9879\u3002 \u8fd9 # \u7ed9\u5b9a\u7684\u540d\u79f0\u5c06\u88ab\u8d4b\u4e88\u7ed9\u5b9a\u7684\u503c\uff08\u89e3\u6790\u4e3a Python # \u5b57\u9762\u91cf\uff09\u5e76\u4e14\u5728\u5b8f\u6269\u5c55\u671f\u95f4\u53ef\u7528\u3002 \u5982\u679c # \u53c2\u6570\u5728\u8c03\u7528 render() \u65f6\u4f20\u9012\uff0c\u7136\u540e\u8be5\u503c\u5c06 # \u5728\u5b8f\u6269\u5c55\u65f6\u4f7f\u7528\u3002 \u4f8b\u5982\uff0c\u4e00\u4e2a\u914d\u7f6e # \"param_speed = 75\" \u53ef\u80fd\u6709\u4e00\u4e2a\u8c03\u7528\u8005 # \"render('my_template_name', param_speed=80)\". \u53c2\u6570\u540d\u79f0\u53ef\u4ee5 # \u4e0d\u4f7f\u7528\u5927\u5199\u5b57\u7b26\u3002 \u6587\u672c\uff1a # \u6e32\u67d3\u6b64\u6a21\u677f\u65f6\u8981\u8fd4\u56de\u7684\u6587\u672c\u3002 \u8fd9\u4e2a\u9886\u57df # \u4f7f\u7528\u547d\u4ee4\u6a21\u677f\u8fdb\u884c\u8bc4\u4f30\uff08\u53c2\u89c1 # docs/Command_Templates.md\uff09\u3002 \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002","title":"[display_template]"},{"location":"Config_Reference.html#display_glyph","text":"\u5728\u652f\u6301\u81ea\u5b9a\u4e49\u5b57\u5f62\u7684\u663e\u793a\u5668\u4e0a\u663e\u793a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5b57\u5f62\u3002\u7ed9\u5b9a\u7684\u540d\u79f0\u5c06\u88ab\u5206\u914d\u7ed9\u7ed9\u5b9a\u7684\u663e\u793a\u6570\u636e\uff0c\u7136\u540e\u53ef\u4ee5\u5728\u663e\u793a\u6a21\u677f\u4e2d\u901a\u8fc7\u7528\u201c\u6ce2\u6d6a\u5f62\uff08\uff5e\uff09\u201d\u7b26\u53f7\u5305\u56f4\u7684\u540d\u79f0\u6765\u5f15\u7528\uff0c\u5373 ~my_display_glyph~ \u3002 \u66f4\u591a\u793a\u4f8b sample-glyphs.cfg [display_glyph my_display_glyph] #data: # \u88ab\u5b58\u50a8\u4e3a16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\uff081\u4f4d\u4ee3\u88681\u4e2a\u50cf\u7d20\uff09\u7684\u663e\u793a\u6570\u636e\u3002\u201c.\u201d\u662f\u4e00\u4e2a # \u7a7a\u767d\u7684\u50cf\u7d20\uff0c\u800c\u2018*\u2019\u662f\u4e00\u4e2a\u5f00\u542f\u7684\u50cf\u7d20\uff08\u4f8b\u5982\uff0c\"****************\" # \u53ef\u4ee5\u7528\u6765\u663e\u793a\u4e00\u6761\u6a2a\u5411\u7684\u5b9e\u7ebf\u3002\u9664\u6b64\u4ee5\u5916\uff0c\u4e5f\u53ef\u4ee5\u7528\u201c0\u201d\u4f5c\u4e3a\u7a7a # \u767d\u7684\u50cf\u7d20\uff0c\u800c\u20181\u2019\u4f5c\u4e3a\u5f00\u542f\u7684\u50cf\u7d20\u3002\u9700\u8981\u5c06\u6bcf\u4e2a\u663e\u793a\u7684\u884c\u653e\u5230\u914d\u7f6e\u6587\u4ef6 # \u4e2d\u72ec\u7acb\u7684\u4e00\u884c\u3002\u6bcf\u4e2a\u5b57\u5f62\u90fd\u5fc5\u987b\u5305\u542b\u4e14\u4ec5\u5305\u542b 16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\u3002 # \u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\u3002 #hd44780_data: # \u7528\u4e8e 20x4 hd44780 \u663e\u793a\u5c4f\u7684\u5b57\u5f62\u3002\u5b57\u5f62\u5fc5\u987b\u5305\u542b\u4e14\u4ec5\u5305\u542b 8 \u884c\uff0c # \u6bcf\u884c 5 \u4f4d\u3002 # \u8fd9\u662f\u4e00\u4e2a\u53ef\u9009\u53c2\u6570\u3002 #hd44780_slot: # \u7528\u4e8e\u5b58\u50a8\u5b57\u5f62\u7684 hd44780 \u786c\u4ef6\u7d22\u5f15\uff080..7\uff09\u3002\u5982\u679c\u591a\u4e2a\u72ec\u7279\u7684\u56fe\u7247\u4f7f\u7528 # \u4e86\u76f8\u540c\u7684\u7d22\u5f15\u4f4d\u7f6e\uff0c\u9700\u8981\u4fdd\u8bc1\u5728\u4efb\u4f55\u5c4f\u5e55\u4e0a\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u4e2a\u56fe\u7247\u3002 # \u5982\u679c\u5b9a\u4e49\u4e86 hd44780_data \uff0c\u5219\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002","title":"[display_glyph]"},{"location":"Config_Reference.html#display-my_extra_display","text":"\u5982\u679c\u5982\u4e0a\u6240\u793a\u5728 printer.cfg \u4e2d\u5b9a\u4e49\u4e86\u4e3b\u8981\u7684 [display] \u5206\u6bb5\uff0c\u8fd8\u53ef\u4ee5\u5b9a\u4e49\u591a\u4e2a\u8f85\u52a9\u663e\u793a\u5668\u3002\u6ce8\u610f\uff0c\u8f85\u52a9\u663e\u793a\u5668\u5f53\u524d\u4e0d\u652f\u6301\u83dc\u5355\u529f\u80fd\uff0c\u56e0\u6b64\u5b83\u4eec\u4e0d\u652f\u6301\u201cmenu\u201d\u9009\u9879\u6216\u6309\u94ae\u914d\u7f6e\u3002 [display my_extra_display] \u3002 # \u53ef\u7528\u53c2\u6570\u53c2\u89c1 \"\u663e\u793a \"\u5206\u6bb5\u3002","title":"[display my_extra_display]"},{"location":"Config_Reference.html#menu","text":"\u53ef\u81ea\u5b9a\u4e49\u6db2\u6676\u663e\u793a\u5c4f\u83dc\u5355\u3002 \u4e00\u5957 \u9ed8\u8ba4\u83dc\u5355 \u5c06\u88ab\u81ea\u52a8\u521b\u5efa\u3002\u901a\u8fc7\u8986\u76d6 printer.cfg \u4e3b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u503c\u53ef\u4ee5\u66ff\u6362\u6216\u6269\u5c55\u8be5\u83dc\u5355\u3002 See the command template document for information on menu attributes available during template rendering. # \u6240\u6709\u7684\u83dc\u5355\u914d\u7f6e\u5206\u6bb5\u90fd\u6709\u7684\u901a\u7528\u53c2\u6570\u3002 #[menu __some_list __some_name] #type: disabled # \u6c38\u4e45\u7981\u7528\u8fd9\u4e2a\u83dc\u5355\u5143\u7d20\uff0c\u552f\u4e00\u9700\u8981\u7684\u5c5e\u6027\u662f \"type\"\u3002 # \u5141\u8bb8\u4f60\u7b80\u5355\u554a\u7684\u7981\u7528/\u9690\u85cf\u73b0\u6709\u7684\u83dc\u5355\u9879\u76ee\u3002 #[menu some_name] #type: # command\uff08\u547d\u4ee4\uff09, input\uff08\u8f93\u5165\uff09, list\uff08\u5217\u8868\uff09, text\uff08\u6587\u5b57\uff09\u4e4b\u4e00\uff1a # command - \u53ef\u4ee5\u89e6\u53d1\u5404\u79cd\u811a\u672c\u7684\u57fa\u672c\u83dc\u5355\u5143\u7d20\u3002 # input - \u7c7b\u4f3c \u201ccommand\u201d \u4f46\u662f\u53ef\u4ee5\u4fee\u6539\u6570\u503c\u3002 # \u70b9\u51fb\u6765\u8fdb\u5165/\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002 # list - \u8fd9\u5141\u8bb8\u83dc\u5355\u9879\u88ab\u7ec4\u7ec7\u6210\u4e00\u4e2a\u53ef\u6eda\u52a8\u7684\u5217\u8868\u3002\u901a\u8fc7\u521b\u5efa\u7531 \"some_list\" # \u5f00\u5934\u7684\u83dc\u5355\u914d\u7f6e - \u4f8b\u5982\uff1a[menu some_list some_item_in_the_list] # vsdlist - \u548c\u201clist\u201d\u4e00\u6837\uff0c\u4f46\u662f\u4f1a\u81ea\u52a8\u4ece\u865a\u62dfSD\u5361\u4e2d\u6dfb\u52a0\u6587\u4ef6\u3002 # \uff08\u5c06\u5728\u672a\u6765\u88ab\u79fb\u9664\uff09 #name: # \u83dc\u5355\u9879\u7684\u540d\u79f0 - \u88ab\u89c6\u4e3a\u6a21\u677f #enable: # \u89c6\u4e3a True \u6216 False \u7684\u6a21\u677f\u3002 #index: # \u9879\u76ee\u63d2\u5165\u5230\u5217\u8868\u7684\u4f4d\u7f6e\u3002 # \u9ed8\u8ba4\u6dfb\u52a0\u5230\u7ed3\u5c3e\u3002 #[menu some_list] #type: list #name: #enable: # \u89c1\u4e0a\u6587\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #[menu some_list some_command] #type: command #name: #enable: # \u89c1\u4e0a\u6587\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #gcode: # \u70b9\u51fb\u6309\u94ae\u6216\u957f\u6309\u65f6\u8fd0\u884c\u7684G\u4ee3\u7801\u811a\u672c\u3002\u88ab\u89c6\u4e3a\u6a21\u677f\u3002 #[menu some_list some_input] #type: input #name: #enable: # \u89c1\u4e0a\u6587\u5bf9\u8fd9\u4e9b\u53c2\u6570\u7684\u63cf\u8ff0\u3002 #input: # \u7528\u4e8e\u4fee\u6539\u7684\u521d\u59cb\u6570\u503c - \u88ab\u89c6\u4e3a\u6a21\u677f\u3002 # \u7ed3\u679c\u5fc5\u987b\u4e3a\u6d6e\u70b9\u6570\u3002 #input_min: # \u8303\u56f4\u7684\u6700\u5c0f\u503c - \u88ab\u89c6\u4e3a\u6a21\u677f\u3002\u9ed8\u8ba4-99999\u3002 #input_max: # \u8303\u56f4\u7684\u6700\u5927\u503c - \u88ab\u89c6\u4e3a\u6a21\u677f\u3002 \u9ed8\u8ba4-99999\u3002 #input_step: # \u4fee\u6539\u7684\u6b65\u957f - \u5fc5\u987b\u662f\u4e00\u4e2a\u6b63\u6574\u6570\u6216\u6d6e\u70b9\u6570\u3002\u5b83\u6709\u5185\u7f6e\u5feb\u8fdb # \u6b65\u957f\u3002\u5f53\"(input_max - input_min) / # input_step > 100\" \u65f6\uff0c\u5feb\u8fdb\u6b65\u957f\u662f 10 * input_step\uff0c \u5426\u5219 # \u6b65\u957f\u548c input_step \u76f8\u540c\u3002 #realtime: # \u6b64\u5c5e\u6027\u63a5\u53d7\u9759\u6001\u5e03\u5c14\u503c\u3002 \u5728\u542f\u7528\u65f6\uff0cG\u4ee3\u7801\u811a\u672c\u5c06\u4f1a\u5728\u6bcf # \u6b21\u6570\u503c\u53d8\u5316\u65f6\u6267\u884c\u3002 # \u9ed8\u8ba4\u4e3aFalse\uff08\u5426\uff09\u3002 #gcode: # \u70b9\u51fb\u6309\u94ae\u3001\u957f\u6309\u6216\u6570\u503c\u53d8\u5316\u65f6\u8fd0\u884c\u7684G\u4ee3\u7801\u811a\u672c\u3002 # \u88ab\u89c6\u4e3a\u6a21\u677f\u3002\u70b9\u51fb\u6309\u94ae\u4f1a\u8fdb\u5165\u6216\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002","title":"[menu]"},{"location":"Config_Reference.html#_27","text":"","title":"\u8017\u6750\u4f20\u611f\u5668"},{"location":"Config_Reference.html#filament_switch_sensor","text":"\u8017\u6750\u5f00\u5173\u4f20\u611f\u5668\u3002\u652f\u6301\u4f7f\u7528\u5f00\u5173\u4f20\u611f\u5668\uff08\u5982\u9650\u4f4d\u5f00\u5173\uff09\u8fdb\u884c\u8017\u6750\u63d2\u5165\u548c\u8017\u5c3d\u68c0\u6d4b\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [filament_switch_sensor my_sensor]\u3002 #pause_on_runout: True # \u5f53\u8bbe\u7f6e\u4e3a \"True \"\u65f6\uff0c\u4f1a\u5728\u68c0\u6d4b\u5230\u8017\u5c3d\u540e\u7acb\u5373\u6682\u505c\u6253\u5370\u673a\u3002 # \u8bf7\u6ce8\u610f, \u5982\u679c pause_on_runout \u4e3a False \u5e76\u4e14\u6ca1\u6709\u5b9a\u4e49\u3002 # runout_gcode\u7684\u8bdd, \u8017\u5c3d\u68c0\u6d4b\u5c06\u88ab\u7981\u7528\u3002 # \u9ed8\u8ba4\u4e3a True\u3002 #runout_gcode: # \u5728\u68c0\u6d4b\u5230\u8017\u6750\u8017\u5c3d\u540e\u4f1a\u6267\u884c\u7684G\u4ee3\u7801\u547d\u4ee4\u5217\u8868\u3002 # \u6709\u5173G-Code \u683c\u5f0f\u8bf7\u89c1 docs/Command_Templates.md\u3002 # \u5982\u679c pause_on_runout \u88ab\u8bbe\u7f6e\u4e3a True\uff0c\u8fd9\u4e2aG-Code\u5c06\u5728 # \u6682\u505c\u540e\u6267\u884c\u3002 # \u9ed8\u8ba4\u60c5\u51b5\u662f\u4e0d\u8fd0\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\u3002 #insert_gcode: # \u5728\u68c0\u6d4b\u5230\u8017\u6750\u63d2\u5165\u540e\u4f1a\u6267\u884c\u7684 G-Code \u547d\u4ee4\u5217\u8868\u3002 # \u5173\u4e8eG\u4ee3\u7801\u683c\u5f0f\uff0c\u8bf7\u53c2\u89c1 docs/Command_Templates.md\u3002 # \u9ed8\u8ba4\u4e0d\u8fd0\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\uff0c\u8fd9\u5c06\u7981\u7528\u8017\u6750\u63d2\u5165\u68c0\u6d4b\u3002 #event_delay: 3.0 # \u4e8b\u4ef6\u4e4b\u95f4\u7684\u6700\u5c0f\u5ef6\u8fdf\u65f6\u95f4\uff08\u79d2\uff09\u3002 # \u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u5185\u89e6\u53d1\u7684\u4e8b\u4ef6\u5c06\u88ab\u9ed8\u8bb8\u5ffd\u7565\u3002 # \u9ed8\u8ba4\u4e3a3\u79d2\u3002 #pause_delay: 0.5 # \u6682\u505c\u547d\u4ee4\u548c\u6267\u884c runout_gcode \u4e4b\u95f4\u7684\u5ef6\u8fdf\u65f6\u95f4, \u5355\u4f4d\u662f\u79d2\u3002 # \u5982\u679c\u5728OctoPrint\u7684\u60c5\u51b5\u4e0b\uff0c\u589e\u52a0\u8fd9\u4e2a\u5ef6\u8fdf\u53ef\u80fd\u6539\u5584\u6682 # \u505c\u7684\u53ef\u9760\u6027\u3002\u5982\u679cOctoPrint\u8868\u73b0\u51fa\u5947\u602a\u7684\u6682\u505c\u884c\u4e3a\uff0c # \u8003\u8651\u589e\u52a0\u8fd9\u4e2a\u5ef6\u8fdf\u3002 # \u9ed8\u8ba4\u4e3a0.5\u79d2\u3002 #switch_pin: # \u8fde\u63a5\u5230\u68c0\u6d4b\u5f00\u5173\u7684\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002","title":"[filament_switch_sensor]"},{"location":"Config_Reference.html#filament_motion_sensor","text":"\u8017\u6750\u79fb\u52a8\u4f20\u611f\u5668\u3002\u4f7f\u7528\u4e00\u4e2a\u5728\u8017\u6750\u901a\u8fc7\u4f20\u611f\u5668\u65f6\u8f93\u51fa\u5f15\u811a\u72b6\u6001\u4f1a\u53d1\u751f\u53d8\u5316\u6765\u68c0\u6d4b\u8017\u6750\u63d2\u5165\u548c\u8017\u5c3d\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 \u547d\u4ee4\u53c2\u8003 \u3002 [filament_motion_sensor my_sensor] detection_length: 7.0 # \u89e6\u53d1\u4f20\u611f\u5668 switch_pin \u5f15\u811a\u72b6\u6001\u53d8\u5316\u7684\u6700\u5c0f\u8ddd\u79bb\u3002 # \u9ed8\u8ba4\u4e3a 7 mm\u3002 extruder: # \u8be5\u4f20\u611f\u5668\u76f8\u5173\u8054\u7684\u6324\u51fa\u673a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 switch_pin: #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u4ee5\u4e0a\u53c2\u6570\u8be6\u89c1\u201cfilament_switch_sensor\u201d\u7ae0\u8282\u3002","title":"[filament_motion_sensor]"},{"location":"Config_Reference.html#tsl1401cl_filament_width_sensor","text":"TSLl401CL Based Filament Width Sensor. See the guide for more information. [tsl1401cl_filament_width_sensor] #pin: #default_nominal_filament_diameter: 1.75 # (mm) # Maximum allowed filament diameter difference as mm. #max_difference: 0.2 # The distance from sensor to the melting chamber as mm. #measurement_delay: 100","title":"[tsl1401cl_filament_width_sensor]"},{"location":"Config_Reference.html#hall_filament_width_sensor","text":"\u970d\u5c14\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\uff08\u8be6\u89c1 \u970d\u5c14\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668 \uff09\u3002 [hall_filament_width_sensor] adc1: adc2: # \u8fde\u63a5\u5230\u4f20\u611f\u5668\u7684\u6a21\u62df\u8f93\u5165\u5f15\u811a\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e9b\u53c2\u6570\u3002 #cal_dia1: 1.50 #cal_dia2: 2.00 # \u4f20\u611f\u5668\u7684\u6821\u51c6\u503c\uff08\u5355\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 # \u9ed8\u8ba4 cal_dia1 \u4e3a1.50\uff0ccal_dia2 \u4e3a 2.00\u3002 #raw_dia1: 9500 #raw_dia2: 10500 # \u4f20\u611f\u5668\u7684\u539f\u59cb\u6821\u51c6\u503c\u3002\u9ed8\u8ba4raw_dial1 \u4e3a 9500 # \u800c raw_dia2 \u4e3a 10500\u3002 #default_nominal_filament_diameter: 1.75 # \u6807\u79f0\u8017\u6750\u76f4\u5f84\u3002 # \u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #max_difference: 0.200 # \u5141\u8bb8\u7684\u8017\u6750\u6700\u5927\u76f4\u5f84\u5dee\u5f02\uff0c\u5355\u4f4d\u662f\u6beb\u7c73\uff08mm\uff09\u3002 # \u5982\u679c\u8017\u6750\u6807\u79f0\u76f4\u5f84\u548c\u4f20\u611f\u5668\u8f93\u51fa\u4e4b\u95f4\u7684\u5dee\u5f02 # \u8d85\u8fc7\u6b63\u8d1f max_difference\uff0c\u6324\u51fa\u500d\u6570\u5c06\u88ab\u8bbe\u56de # \u5230100%\u3002 # \u9ed8\u8ba4\u4e3a0.200\u3002 #measurement_delay: 70 # \u4ece\u4f20\u611f\u5668\u5230\u7194\u8154/\u70ed\u7aef\u7684\u8ddd\u79bb\uff0c\u5355\u4f4d\u662f\u6beb\u7c73 (mm)\u3002 # \u4f20\u611f\u5668\u548c\u70ed\u7aef\u4e4b\u95f4\u7684\u8017\u6750\u5c06\u88ab\u89c6\u4e3a\u6807\u79f0\u76f4\u5f84\u3002\u4e3b\u673a # \u6a21\u5757\u91c7\u7528\u5148\u8fdb\u5148\u51fa\u7684\u903b\u8f91\u5de5\u4f5c\u3002\u5b83\u5c06\u6bcf\u4e2a\u4f20\u611f\u5668\u7684\u503c\u548c # \u4f4d\u7f6e\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u5e76\u4f1a\u5728\u6b63\u786e\u7684\u4f4d\u7f6e\u4f7f\u7528\u4f20\u611f\u5668\u503c\u3002 # \u5fc5\u987b\u63d0\u4f9b\u8fd9\u4e2a\u53c2\u6570\u3002 #enable:False # \u4f20\u611f\u5668\u5728\u5f00\u673a\u540e\u542f\u7528\u6216\u7981\u7528\u3002 # \u9ed8\u8ba4\u662f False\u3002 #measurement_interval: 10 # \u4f20\u611f\u5668\u8bfb\u6570\u4e4b\u95f4\u7684\u8fd1\u4f3c\u8ddd\u79bb(mm)\u3002 # \u9ed8\u8ba4\u4e3a10mm\u3002 #logging:False # \u8f93\u51fa\u76f4\u5f84\u5230\u7ec8\u7aef\u548c klipper.log\uff0c\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u542f\u7528\u6216\u7981\u7528\u3002 #min_diameter: 1.0 # \u89e6\u53d1\u865a\u62df filament_switch_sensor \u7684\u6700\u5c0f\u76f4\u5f84\u3002 #use_current_dia_while_delay: False # \u5728\u672a\u88ab\u6d4b\u91cf\u7684 measurement_delay \u90e8\u5206\u8017\u6750\u4f7f\u7528\u5f53\u524d\u8017\u6750 # \u4f20\u611f\u5668\u62a5\u544a\u7684\u76f4\u5f84\u800c\u4e0d\u662f\u6807\u79f0\u76f4\u5f84\u3002 #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u5173\u4e8e\u4e0a\u8ff0\u53c2\u6570\u7684\u63cf\u8ff0\u8bf7\u53c2\u89c1\"filament_switch_sensor\"\u7ae0\u8282\u3002","title":"[hall_filament_width_sensor]"},{"location":"Config_Reference.html#_28","text":"","title":"\u63a7\u5236\u677f\u7279\u5b9a\u786c\u4ef6\u652f\u6301"},{"location":"Config_Reference.html#sx1509","text":"\u5c06\u4e00\u4e2a SX1509 I2C \u914d\u7f6e\u4e3a GPIO \u6269\u5c55\u5668\u3002\u7531\u4e8e I2C \u901a\u4fe1\u672c\u8eab\u7684\u5ef6\u8fdf\uff0c\u4e0d\u5e94\u5c06 SX1509 \u5f15\u811a\u7528\u4f5c\u6b65\u8fdb\u7535\u673a\u7684 enable \uff08\u542f\u7528)\u3001step\uff08\u6b65\u8fdb\uff09\u6216 dir \uff08\u65b9\u5411\uff09\u5f15\u811a\u6216\u4efb\u4f55\u5176\u4ed6\u9700\u8981\u5feb\u901f bit-banging\uff08\u4f4d\u62c6\u88c2\uff09\u7684\u5f15\u811a\u3002\u5b83\u4eec\u6700\u9002\u5408\u7528\u4f5c\u9759\u6001\u6216G\u4ee3\u7801\u63a7\u5236\u7684\u6570\u5b57\u8f93\u51fa\u6216\u786c\u4ef6 pwm \u5f15\u811a\uff0c\u4f8b\u5982\u98ce\u6247\u3002\u53ef\u4ee5\u4f7f\u7528\u201csx1509\u201d\u524d\u7f00\u5b9a\u4e49\u4efb\u610f\u6570\u91cf\u7684\u5206\u6bb5\u3002\u6bcf\u4e2a\u6269\u5c55\u5668\u63d0\u4f9b\u53ef\u7528\u4e8e\u6253\u5370\u673a\u914d\u7f6e\u7684\u4e00\u7ec4 16 \u4e2a\u5f15\u811a\uff08sx1509_my_sx1509:PIN_0 \u5230 sx1509_my_sx1509:PIN_15\uff09\u3002 \u8bf7\u89c1\u8303\u4f8b\u914d\u7f6e\u6587\u4ef6 generic-duet2-duex.cfg \u3002 [sx1509 my_sx1509] i2c_address: # I2C address used by this expander. Depending on the hardware # jumpers this is one out of the following addresses: 62 63 112 # 113. This parameter must be provided. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #i2c_bus: # If the I2C implementation of your micro-controller supports # multiple I2C busses, you may specify the bus name here. The # default is to use the default micro-controller i2c bus.","title":"[sx1509]"},{"location":"Config_Reference.html#samd_sercom","text":"SAMD SERCOM configuration to specify which pins to use on a given SERCOM. One may define any number of sections with a \"samd_sercom\" prefix. Each SERCOM must be configured prior to using it as SPI or I2C peripheral. Place this config section above any other section that makes use of SPI or I2C buses. [samd_sercom my_sercom] sercom: # The name of the sercom bus to configure in the micro-controller. # Available names are \"sercom0\", \"sercom1\", etc.. This parameter # must be provided. tx_pin: # MOSI pin for SPI communication, or SDA (data) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided. #rx_pin: # MISO pin for SPI communication. This pin is not used for I2C # communication (I2C uses tx_pin for both sending and receiving). # The pin must have a valid pinmux configuration for the given # SERCOM peripheral. This parameter is optional. clk_pin: # CLK pin for SPI communication, or SCL (clock) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided.","title":"[samd_sercom]"},{"location":"Config_Reference.html#adc_scaled","text":"Duet 2 Maestro \u901a\u8fc7vref\u548cvssa\u8bfb\u6570\u8fdb\u884c\u6a21\u62df\u7f29\u653e\u3002\u5b9a\u4e49\u4e00\u4e2aadc_scaled\u5206\u6bb5\u6765\u542f\u7528\u6839\u636e\u677f\u8f7dvref\u548cvssa\u76d1\u89c6\u5f15\u811a\u8c03\u8282\u7684\u865a\u62dfadc\u5f15\u811a\uff08\u4f8b\u5982\u201cmy_name:PB0\"\uff09\u3002\u865a\u62df\u5f15\u811a\u5fc5\u987b\u5148\u88abDuet 2 Maestro \u901a\u8fc7vref\u548cvssa\u8bfb\u6570\u8fdb\u884c\u6a21\u62df\u7f29\u653e\u3002\u5b9a\u4e49\u4e00\u4e2aadc_scaled\u5206\u6bb5\u6765\u542f\u7528\u6839\u636e\u677f\u8f7dvref\u548cvssa\u76d1\u89c6\u5f15\u811a\u8c03\u8282\u7684\u865a\u62dfadc\u5f15\u811a\uff08\u4f8b\u5982\u201cmy_name:PB0\"\uff09\u3002\u865a\u62df\u5f15\u811a\u5fc5\u987b\u5148\u88ab\u5b9a\u4e49\u624d\u80fd\u7528\u5728\u5176\u4ed6\u914d\u7f6e\u5206\u6bb5\u4e2d\u3002 \u8bf7\u89c1\u8303\u4f8b\u914d\u7f6e\u6587\u4ef6 generic-duet2-maestro.cfg \u3002 [adc_scaled my_name] vref_pin: # \u7528\u4e8e\u76d1\u6d4b VREF \u7684 ADC \u5f15\u811a\u3002\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 vssa_pin: # \u7528\u4e8e\u76d1\u6d4b VSSA \u7684 ADC \u5f15\u811a\u3002\u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u63d0\u4f9b\u3002 #smooth_time: 2.0 # \u4e00\u4e2a\u65f6\u95f4\u53c2\u6570\uff08\u4ee5\u79d2\u4e3a\u8ba1\uff09\u533a\u95f4\u7528\u4e8e\u5e73\u6ed1 VREF \u548c # VSSA \u6d4b\u91cf\u6765\u51cf\u5c11\u6d4b\u91cf\u7684\u5e72\u6270\u3002\u9ed8\u8ba4\u4e3a2\u79d2\u3002","title":"[adc_scaled]"},{"location":"Config_Reference.html#replicape","text":"Replicape\u652f\u6301 - \u53c2\u8003 beaglebone guide \u548c generic-replicape.cfg # The \"replicape\" config section adds \"replicape:stepper_x_enable\" # virtual stepper enable pins (for steppers X, Y, Z, E, and H) and # \"replicape:power_x\" PWM output pins (for hotbed, e, h, fan0, fan1, # fan2, and fan3) that may then be used elsewhere in the config file. [replicape] revision: # The replicape hardware revision. Currently only revision \"B3\" is # supported. This parameter must be provided. #enable_pin: !gpio0_20 # The replicape global enable pin. The default is !gpio0_20 (aka # P9_41). host_mcu: # The name of the mcu config section that communicates with the # Klipper \"linux process\" mcu instance. This parameter must be # provided. #standstill_power_down: False # This parameter controls the CFG6_ENN line on all stepper # motors. True sets the enable lines to \"open\". The default is # False. #stepper_x_microstep_mode: #stepper_y_microstep_mode: #stepper_z_microstep_mode: #stepper_e_microstep_mode: #stepper_h_microstep_mode: # This parameter controls the CFG1 and CFG2 pins of the given # stepper motor driver. Available options are: disable, 1, 2, # spread2, 4, 16, spread4, spread16, stealth4, and stealth16. The # default is disable. #stepper_x_current: #stepper_y_current: #stepper_z_current: #stepper_e_current: #stepper_h_current: # The configured maximum current (in Amps) of the stepper motor # driver. This parameter must be provided if the stepper is not in a # disable mode. #stepper_x_chopper_off_time_high: #stepper_y_chopper_off_time_high: #stepper_z_chopper_off_time_high: #stepper_e_chopper_off_time_high: #stepper_h_chopper_off_time_high: # This parameter controls the CFG0 pin of the stepper motor driver # (True sets CFG0 high, False sets it low). The default is False. #stepper_x_chopper_hysteresis_high: #stepper_y_chopper_hysteresis_high: #stepper_z_chopper_hysteresis_high: #stepper_e_chopper_hysteresis_high: #stepper_h_chopper_hysteresis_high: # This parameter controls the CFG4 pin of the stepper motor driver # (True sets CFG4 high, False sets it low). The default is False. #stepper_x_chopper_blank_time_high: #stepper_y_chopper_blank_time_high: #stepper_z_chopper_blank_time_high: #stepper_e_chopper_blank_time_high: #stepper_h_chopper_blank_time_high: # This parameter controls the CFG5 pin of the stepper motor driver # (True sets CFG5 high, False sets it low). The default is True.","title":"[replicape]"},{"location":"Config_Reference.html#_29","text":"","title":"\u5176\u4ed6\u81ea\u5b9a\u4e49\u6a21\u5757"},{"location":"Config_Reference.html#palette2","text":"Palette 2 \u591a\u6750\u6599\u652f\u6301 - \u63d0\u4f9b\u66f4\u7d27\u5bc6\u7684\u96c6\u6210\uff0c\u652f\u6301\u5904\u4e8e\u8fde\u63a5\u6a21\u5f0f\u7684 Palette 2 \u8bbe\u5907\u3002 \u8be5\u6a21\u5757\u7684\u5168\u90e8\u529f\u80fd\u9700\u8981 [virtual_sdcard] \u548c [pause_resume] \u3002 \u4e0d\u8981\u548c Octoprint \u7684 Palette 2\u63d2\u4ef6\u4e00\u8d77\u4f7f\u7528\u8fd9\u4e2a\u6a21\u5757\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f1a\u53d1\u751f\u51b2\u7a81\uff0c\u9020\u6210\u521d\u59cb\u5316\u548c\u6253\u5370\u5931\u8d25\u3002 \u5982\u679c\u4f7f\u7528 OctoPrint \u5e76\u901a\u8fc7\u4e32\u884c\u7aef\u53e3\u6d41\u5f0f\u4f20\u8f93 G-Code\uff0c\u800c\u4e0d\u901a\u8fc7 virtual_sd \u6253\u5370\uff0c\u5c06 * \u8bbe\u7f6e>\u4e32\u884c\u8fde\u63a5>\u56fa\u4ef6\u548c\u534f\u8bae * \u4e2d\u7684\u201c\u6682\u505c\u547d\u4ee4\u201d \u8bbe\u7f6e\u4e3a M1 \u548c M0 \u53ef\u4ee5\u907f\u514d\u5728\u5f00\u59cb\u6253\u5370\u65f6\u9700\u8981\u5728Palette 2 \u4e0a\u9009\u62e9\u5f00\u59cb\u6253\u5370\u5e76\u5728 OctoPrint \u4e2d\u53d6\u6d88\u6682\u505c\u3002 [palette2] serial: # \u8fde\u63a5\u5230 Palette 2 \u7684\u4e32\u53e3\u3002 #baud: 115200 # \u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002 # \u9ed8\u8ba4\u4e3a115200\u3002 #feedrate_splice: 0.8 # \u878d\u63a5\u65f6\u7684\u7ed9\u8fdb\u7387 # \u9ed8\u8ba4\u4e3a0.8\u3002 #feedrate_normal: 1.0 # \u4e0d\u5728\u878d\u63a5\u65f6\u7684\u7ed9\u8fdb\u7387 1.0 #auto_load_speed: 2 # \u81ea\u52a8\u6362\u6599\u65f6\u7684\u7ed9\u8fd1\u7387 # \u9ed8\u8ba4 2 (mm/s) #auto_cancel_variation: 0.1 # # \u5f53 ping \u503c\u53d8\u5316\u9ad8\u4e8e\u6b64\u9608\u503c\u65f6\u81ea\u52a8\u53d6\u6d88\u6253\u5370","title":"[palette2]"},{"location":"Config_Reference.html#angle","text":"\u652f\u6301\u4f7f\u7528a1333\u3001as5047d\u6216tle5012b SPI\u82af\u7247\u7684\u78c1\u6027\u970d\u5c14\u89d2\u5ea6\u4f20\u611f\u5668\u6d4b\u91cf\u5e76\u8bfb\u53d6\u6b65\u8fdb\u7535\u673a\u7684\u89d2\u5ea6\u3002\u6d4b\u91cf\u7ed3\u679c\u53ef\u4ee5\u901a\u8fc7 API\u670d\u52a1\u5668 \u548c \u8fd0\u52a8\u5206\u6790\u5de5\u5177 \u83b7\u53d6\u3002\u53ef\u7528\u7684\u547d\u4ee4\u8bf7\u89c1 G\u4ee3\u7801\u53c2\u8003 \u3002 [angle my_angle_sensor] sensor_type: # \u78c1\u6027\u970d\u5c14\u4f20\u611f\u5668\u82af\u7247\u7684\u7c7b\u578b\u3002 # \u53ef\u7528\u7684\u9009\u62e9\u662f \"a1333\" \"as5047d \"\u548c \"tle5012b\"\u3002 # \u8fd9\u4e2a\u53c2\u6570\u5fc5\u987b\u88ab\u6307\u5b9a\u3002 #sample_period: 0.000400 # \u6d4b\u91cf\u65f6\u4f7f\u7528\u7684\u67e5\u8be2\u5468\u671f\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002 # \u9ed8\u8ba4\u503c\u662f 0.000400 \uff08\u6bcf\u79d2\u949f2500\u4e2a\u6837\u672c\uff09 #stepper: # \u89d2\u5ea6\u4f20\u611f\u5668\u8fde\u63a5\u7684\u6b65\u8fdb\u7535\u673a\u540d\u79f0\uff08\u4f8b\u5982\uff0c\"stepper_x\"\uff09\u3002 # \u8bbe\u7f6e\u8fd9\u4e2a\u503c\u53ef\u4ee5\u542f\u7528\u4e00\u4e2a\u89d2\u5ea6\u6821\u51c6\u5de5\u5177 # \u8981\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\u9700\u8981\u5b89\u88c5Python \"numpy \"\u5305\u3002 # \u9ed8\u8ba4\u662f\u4e0d\u542f\u7528\u89d2\u5ea6\u4f20\u611f\u5668\u7684\u89d2\u5ea6\u6821\u51c6\u3002 cs_pin: # \u4f20\u611f\u5668\u7684SPI\u5f15\u811a\u3002\u5fc5\u987b\u63d0\u4f9b\u6b64\u53c2\u6570\u3002 #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u6709\u5173\u4e0a\u8ff0\u53c2\u6570\u7684\u63cf\u8ff0\uff0c\u53c2\u8003 \"common SPI settings \"","title":"[angle]"},{"location":"Config_Reference.html#_30","text":"","title":"\u5e38\u89c1\u7684\u603b\u7ebf\u53c2\u6570"},{"location":"Config_Reference.html#spi","text":"\u4ee5\u4e0b\u53c2\u6570\u9002\u7528\u4e8e\u591a\u6570\u4f7f\u7528SPI\u603b\u7ebf\u7684\u8bbe\u5907\u3002 #spi_speed: # The SPI speed (in hz) to use when communicating with the device. # The default depends on the type of device. #spi_bus: # If the micro-controller supports multiple SPI busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # Specify the above parameters to use \"software based SPI\". This # mode does not require micro-controller hardware support (typically # any general purpose pins may be used). The default is to not use # \"software spi\".","title":"\u5e38\u89c1 SPI \u8bbe\u7f6e"},{"location":"Config_Reference.html#i2c","text":"\u4ee5\u4e0b\u53c2\u6570\u4e00\u822c\u9002\u7528\u4e8e\u4f7f\u7528I2C\u603b\u7ebf\u7684\u8bbe\u5907\u3002 Note that Klipper's current micro-controller support for i2c is generally not tolerant to line noise. Unexpected errors on the i2c wires may result in Klipper raising a run-time error. Klipper's support for error recovery varies between each micro-controller type. It is generally recommended to only use i2c devices that are on the same printed circuit board as the micro-controller. Most Klipper micro-controller implementations only support an i2c_speed of 100000. The Klipper \"linux\" micro-controller supports a 400000 speed, but it must be set in the operating system and the i2c_speed parameter is otherwise ignored. The Klipper \"rp2040\" micro-controller supports a rate of 400000 via the i2c_speed parameter. All other Klipper micro-controllers use a 100000 rate and ignore the i2c_speed parameter. #i2c_address: # The i2c address of the device. This must specified as a decimal # number (not in hex). The default depends on the type of device. #i2c_mcu: # The name of the micro-controller that the chip is connected to. # The default is \"mcu\". #i2c_bus: # If the micro-controller supports multiple I2C busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #i2c_speed: # The I2C speed (in Hz) to use when communicating with the device. # The Klipper implementation on most micro-controllers is hard-coded # to 100000 and changing this value has no effect. The default is # 100000.","title":"\u5e38\u89c1\u7684I2C\u8bbe\u7f6e"},{"location":"Config_checks.html","text":"\u914d\u7f6e\u68c0\u67e5 \u00b6 \u672c\u6587\u6863\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5e2e\u52a9\u9a8c\u8bc1 Klipper printer.cfg \u6587\u4ef6\u4e2d\u7684\u5f15\u811a\u8bbe\u7f6e\u7684\u6b65\u9aa4\u3002\u63a8\u8350\u5728\u5b8c\u6210 \u5b89\u88c5\u6587\u6863 \u4e2d\u7684\u6b65\u9aa4\u540e\u6267\u884c\u672c\u6587\u6863\u4e2d\u7684\u6b65\u9aa4\u3002 \u5728\u6267\u884c\u6b64\u6307\u5357\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539 Klipper \u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8bf7\u52a1\u5fc5\u5728\u6bcf\u6b21\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u540e\u53d1\u9001 RESTART \u547d\u4ee4\uff0c\u4ee5\u786e\u4fdd\u4fee\u6539\u6210\u529f\u751f\u6548\uff08\u5728 Octoprint \u7ec8\u7aef\u6807\u7b7e\u4e2d\u8f93\u5165 \"RESTART\"\uff08\u91cd\u542f\uff09\uff0c\u7136\u540e\u70b9\u51fb \"Send\"\uff08\u53d1\u9001\uff09\uff09\u3002\u5728\u6bcf\u6b21\u91cd\u542f\u4e4b\u540e\u6700\u597d\u518d\u53d1\u51fa\u4e00\u6b21 STATUS \uff08\u72b6\u6001\uff09\u547d\u4ee4\uff0c\u4ee5\u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6210\u529f\u52a0\u8f7d\u3002 \u9a8c\u8bc1\u6e29\u5ea6 \u00b6 \u9996\u5148\u9a8c\u8bc1\u6e29\u5ea6\u662f\u5426\u88ab\u6b63\u786e\u7684\u62a5\u544a\u3002\u5bfc\u822a\u5230 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u3002 \u786e\u8ba4\u55b7\u5634\u548c\u70ed\u5e8a\uff08\u5982\u679c\u9002\u7528\uff09\u7684\u6e29\u5ea6\u5408\u7406\u4e14\u4e0d\u5728\u4e0a\u5347\u3002\u5982\u679c\u6e29\u5ea6\u6b63\u5728\u4e0a\u5347\uff0c\u8bf7\u7acb\u5373\u65ad\u5f00\u6253\u5370\u673a\u7684\u7535\u6e90\u3002\u5982\u679c\u6e29\u5ea6\u663e\u793a\u4e0d\u51c6\u786e\uff0c\u8bf7\u68c0\u67e5\u70ed\u7aef\u548c/\u6216\u70ed\u5e8a\u7684 \u201csensor_type\u201d \u548c \u201csensor_pin\u201d \u8bbe\u7f6e\u3002 \u9a8c\u8bc1 M112 \u00b6 \u5bfc\u822a\u5230 Octoprint \u7ec8\u7aef\u9009\u9879\u5361\u5e76\u901a\u8fc7\u7ec8\u7aef\u53d1\u9001 M112 \u547d\u4ee4\u3002\u8be5\u547d\u4ee4\u4f1a\u4f7f Klipper \u8fdb\u5165\u5173\u95ed\u72b6\u6001\uff0c\u5e76\u5bfc\u81f4 Octoprint \u4e0e Klipper \u65ad\u5f00\u94fe\u63a5\u3002\u627e\u5230\u8fde\u63a5\u677f\u5757\u5355\u51fb \"Connect\"\uff08\u8fde\u63a5\uff09\u4ee5\u91cd\u65b0\u8fde\u63a5\u5230 Klipper\u3002\u7136\u540e\u5728 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u4e2d\u9a8c\u8bc1\u6e29\u5ea6\u662f\u5426\u6301\u7eed\u66f4\u65b0\u548c\u5347\u9ad8\u3002\u5982\u679c\u6e29\u5ea6\u5347\u9ad8\uff0c\u8bf7\u7acb\u5373\u65ad\u5f00\u6253\u5370\u673a\u7535\u6e90\u3002 M112 \u547d\u4ee4\u4f1a\u4f7f Klipper \u8fdb\u5165 \"shutdown\"\uff08\u5173\u95ed\uff09\u72b6\u6001\u3002\u8981\u9000\u51fa\u8fd9\u4e00\u72b6\u6001\uff0c\u8bf7\u5728 Octoprint \u7ec8\u7aef\u9009\u9879\u5361\u4e2d\u53d1\u51fa FIRMWARE_RESTART \u547d\u4ee4\u3002 \u9a8c\u8bc1\u52a0\u70ed\u5668 \u00b6 \u5bfc\u822a\u5230 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u4e2d\u7684\u201cTool\u201d\uff08\u5de5\u5177\uff09\u6e29\u5ea6\u6846\uff0c\u8f93\u5165 50 \u5e76\u6309\u4e0b\u56de\u8f66\u3002 \u56fe\u4e2d\u7684\u6324\u51fa\u5934\u6e29\u5ea6\u5e94\u5f00\u59cb\u5347\u9ad8\uff08\u5728\u7ea6 30 \u79d2\u5de6\u53f3\u7684\u65f6\u95f4\u5185\uff09\u3002 \u7136\u540e\u5728\u5de5\u5177\u6e29\u5ea6\u7684\u4e0b\u62c9\u6846\u4e2d\u9009\u62e9\u201coff\u201d\uff08\u5173\u95ed\uff09\u3002 \u51e0\u5206\u949f\u540e\uff0c\u6e29\u5ea6\u5e94\u5f00\u59cb\u6062\u590d\u5230\u5176\u521d\u59cb\u5ba4\u6e29\u503c\u3002 \u5982\u679c\u6e29\u5ea6\u6ca1\u6709\u4e0a\u5347\uff0c\u9700\u8981\u68c0\u67e5\u914d\u7f6e\u4e2d\u7684\u201cheater_pin\u201d\u8bbe\u7f6e\u662f\u5426\u6b63\u786e\u3002 \u5982\u679c\u6253\u5370\u673a\u5e26\u6709\u70ed\u5e8a\uff0c\u5219\u7528\u70ed\u5e8a\u91cd\u590d\u4e0a\u8ff0\u6d4b\u8bd5\u3002 \u9a8c\u8bc1\u6b65\u8fdb\u7535\u673a enable\uff08\u542f\u7528\uff09\u5f15\u811a \u00b6 \u9a8c\u8bc1\u6240\u6709\u6253\u5370\u673a\u8f74\u90fd\u53ef\u4ee5\u7528\u624b\u81ea\u7531\u79fb\u52a8\uff08\u6b65\u8fdb\u7535\u673a\u5df2\u7981\u7528\uff09\u3002 \u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u53d1\u51fa M84 \u547d\u4ee4\u7981\u7528\u7535\u673a\u3002 \u5982\u679c\u4efb\u4f55\u8f74\u4ecd\u7136\u65e0\u6cd5\u81ea\u7531\u79fb\u52a8\uff0c\u9700\u8981\u68c0\u67e5\u8be5\u8f74\u7684\u6b65\u8fdb\u9a71\u52a8\u201cenable_pin\u201d\uff08\u4f7f\u80fd\u5f15\u811a\uff09\u914d\u7f6e\u3002 \u5728\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4e0a\uff0c\u7535\u673a\u4f7f\u80fd\u5f15\u811a\u4e3a\u201c\u4f4e\u7535\u5e73\u6709\u6548\u201d\uff0c\u56e0\u6b64\u4f7f\u80fd\u5f15\u811a\u5728pin\u4e4b\u524d\u5e94\u5e26\u6709\u201c\uff01\u201d \uff08\u4f8b\u5982\uff0c\u201cenable_pin: !ar38\u201d\uff09\u3002 \u9a8c\u8bc1\u9650\u4f4d\u5f00\u5173 \u00b6 \u624b\u52a8\u79fb\u52a8\u6240\u6709\u6253\u5370\u673a\u8f74\uff0c\u4f7f\u5b83\u4eec\u90fd\u4e0d\u4e0e\u9650\u4f4d\u5668\u63a5\u89e6\u3002 \u901a\u8fc7 Octoprint \u7ec8\u7aef\u53d1\u9001 QUERY_ENDSTOPS \u547d\u4ee4\u3002 \u5b83\u5e94\u8be5\u4ee5\u6240\u6709\u914d\u7f6e\u7684\u9650\u4f4d\u7684\u5f53\u524d\u72b6\u6001\u505a\u51fa\u54cd\u5e94\uff0c\u5e76\u4e14\u5b83\u4eec\u90fd\u5e94\u8be5\u62a5\u544a\u201copen\u201d\uff08\u672a\u89e6\u53d1\uff09\u72b6\u6001\u3002 \u624b\u52a8\u89e6\u53d1\u6bcf\u4e2a\u9650\u4f4d\u5668\u7684\u540c\u65f6\u91cd\u65b0\u8fd0\u884c QUERY_ENDSTOPS \u547d\u4ee4\u3002\u76f8\u5e94\u7684\u9650\u4f4d\u5e94\u8be5\u88ab QUERY_ENDSTOPS \u62a5\u544a\u4e3a\u201cTRIGGERED\u201d\u3002 \u5982\u679c\u9650\u4f4d\u72b6\u6001\u662f\u76f8\u53cd\u7684\uff08\u89e6\u53d1\u65f6\u62a5\u544a\u201copen\u201d\uff0c\u53cd\u4e4b\u4ea6\u7136\uff09\uff0c\u5219\u6dfb\u52a0\u201c\uff01\u201d \u5230\u5f15\u811a\u5b9a\u4e49\uff08\u4f8b\u5982\uff0c\u201cendstop_pin: ^!ar3\u201d\uff09\uff0c\u5982\u679c\u5b58\u5728\u201c\uff01\u201d\u5c31\u5c06\u4e4b\u5220\u9664\u3002 \u5982\u679c\u9650\u4f4d\u72b6\u6001\u6839\u672c\u6ca1\u6709\u53d8\u5316\uff0c\u5219\u901a\u5e38\u8868\u793a\u9650\u4f4d\u5668\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u5f15\u811a\u3002 \u4f46\u662f\uff0c\u5b83\u4e5f\u53ef\u80fd\u8868\u793a\u9700\u8981\u66f4\u6539\u5f15\u811a\u7684\u4e0a\u62c9\u8bbe\u7f6e\uff08endstop_pin \u540d\u79f0\u5f00\u5934\u7684\u201c^\u201d - \u5927\u591a\u6570\u6253\u5370\u673a\u9700\u8981\u4f7f\u7528\u4e0a\u62c9\u7535\u963b\u5e76\u4e14\u5e94\u8be5\u5b58\u5728\u201c^\u201d\uff09\u3002 \u9a8c\u8bc1\u6b65\u8fdb\u7535\u673a \u00b6 \u4f7f\u7528 STEPPER_BUZZ \u547d\u4ee4\u9a8c\u8bc1\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u8fde\u901a\u6027\u3002 \u9996\u5148\u5c06\u8981\u9a8c\u8bc1\u7684\u8f74\u624b\u52a8\u632a\u5230\u5230\u4e2d\u95f4\u70b9\uff0c\u7136\u540e\u8fd0\u884c STEPPER_BUZZ STEPPER=stepper_x \u3002 STEPPER_BUZZ \u547d\u4ee4\u5c06\u4f7fX\u8f74\u5411\u6b63\u65b9\u5411\u79fb\u52a8\u4e00\u6beb\u7c73\uff0c\u518d\u8fd4\u56de\u5230\u5176\u8d77\u59cb\u4f4d\u7f6e\u3002 \uff08\u5982\u679c\u5728 position_endstop=0 \u5904\u5b9a\u4e49\u4e86\u9650\u4f4d\u7684\u4f4d\u7f6e\uff0c\u5219\u5728\u6bcf\u6b21\u8fd0\u52a8\u5f00\u59cb\u65f6\uff0c\u6b65\u8fdb\u5668\u5c06\u8fdc\u79bb\u9650\u4f4d\u3002\uff09\u5b83\u5c06\u6267\u884c\u8fd9\u4e2a\u52a8\u4f5c\u5341\u6b21\u3002 \u5982\u679c\u6b65\u8fdb\u7535\u673a\u6839\u672c\u4e0d\u52a8\uff0c\u5219\u9700\u8981\u9a8c\u8bc1\u6b65\u8fdb\u9a71\u52a8\u7684\u201cenable_pin\u201d\u548c\u201cstep_pin\u201d\u8bbe\u7f6e\u3002 \u5982\u679c\u6b65\u8fdb\u7535\u673a\u79fb\u52a8\u4f46\u6ca1\u6709\u8fd4\u56de\u5176\u539f\u59cb\u4f4d\u7f6e\uff0c\u5219\u9700\u8981\u9a8c\u8bc1\u201cdir_pin\u201d\u8bbe\u7f6e\u3002 \u5982\u679c\u6b65\u8fdb\u7535\u673a\u7684\u632f\u8361\u65b9\u5411\u4e0d\u6b63\u786e\uff0c\u5219\u901a\u5e38\u8868\u793a\u9700\u8981\u53cd\u8f6c\u9a71\u52a8\u7684\u201cdir_pin\u201d\u3002 \u5373\u901a\u8fc7\u6dfb\u52a0\u201c!\u201d \u5230\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u201cdir_pin\u201d\u8bbe\u7f6e\u6765\u5b8c\u6210\uff08\u5982\u679c\u5df2\u7ecf\u5b58\u5728\"!\"\uff0c\u5219\u5c06\u5176\u5220\u9664\uff09\u3002 \u5982\u679c\u7535\u673a\u79fb\u52a8\u660e\u663e\u5927\u4e8e\u6216\u5c0f\u4e8e\u4e00\u6beb\u7c73\uff0c\u5219\u9700\u8981\u9a8c\u8bc1\u201crotation_distance\u201d\u8bbe\u7f6e\u3002 \u5bf9\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u8fd0\u884c\u4e0a\u8ff0\u6d4b\u8bd5\u3002 \uff08\u5c06 STEPPER_BUZZ \u547d\u4ee4\u7684 STEPPER \u53c2\u6570\u8bbe\u7f6e\u4e3a\u8981\u6d4b\u8bd5\u7684\u914d\u7f6e\u90e8\u5206\u7684\u540d\u79f0\u3002\uff09\u5982\u679c\u6324\u51fa\u673a\u4e2d\u6ca1\u6709\u8017\u6750\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 STEPPER_BUZZ \u9a8c\u8bc1\u6324\u51fa\u673a\u7535\u673a\u7684\u63a5\u7ebf\uff08\u4f7f\u7528 STEPPER=extruder\uff09\u3002 \u5426\u5219\uff0c\u6700\u597d\u5355\u72ec\u6d4b\u8bd5\u6324\u51fa\u673a\u7535\u673a\uff08\u53c2\u89c1\u4e0b\u4e00\u8282\uff09\u3002 \u5728\u9a8c\u8bc1\u5b8c\u6240\u6709\u9650\u4f4d\u5668\u548c\u6240\u6709\u6b65\u8fdb\u7535\u673a\u540e\uff0c\u5e94\u6d4b\u8bd5\u5f52\u4f4d\u673a\u5236\u3002 \u53d1\u51fa G28 \u547d\u4ee4\u4ee5\u5f52\u4f4d\u6240\u6709\u8f74\u3002 \u5982\u679c\u6253\u5370\u673a\u4e0d\u80fd\u6b63\u5e38\u5f52\u4f4d\uff0c\u8bf7\u65ad\u5f00\u6253\u5370\u673a\u7535\u6e90\u3002 \u7136\u540e\uff0c\u91cd\u65b0\u6267\u884c\u9650\u4f4d\u5668\u548c\u6b65\u8fdb\u7535\u673a\u9a8c\u8bc1\u6d41\u7a0b\u3002 \u9a8c\u8bc1\u6324\u51fa\u673a\u7535\u673a \u00b6 \u8981\u6d4b\u8bd5\u6324\u51fa\u673a\u7535\u673a\uff0c\u5fc5\u987b\u5148\u5c06\u70ed\u7aef\u52a0\u70ed\u5230\u6253\u5370\u6e29\u5ea6\u3002\u5bfc\u822a\u5230 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u5e76\u5728\u6e29\u5ea6\u4e0b\u62c9\u6846\u4e2d\u9009\u62e9\u76ee\u6807\u6e29\u5ea6\uff08\u6216\u624b\u52a8\u8f93\u5165\u9002\u5f53\u7684\u6e29\u5ea6\uff09\u3002\u7b49\u5f85\u6253\u5370\u673a\u8fbe\u5230\u76ee\u6807\u6e29\u5ea6\uff0c\u7136\u540e\u627e\u5230 Octoprint \u63a7\u5236\u9009\u9879\u5361\u5e76\u5355\u51fb\u201cExtrude\u201d\uff08\u6324\u51fa\uff09\u6309\u94ae\u3002 \u786e\u8ba4\u6324\u51fa\u673a\u7535\u673a\u4ee5\u6b63\u786e\u7684\u65b9\u5411\u8f6c\u52a8\u3002 \u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u53c2\u9605\u4e0a\u4e00\u8282\u4e2d\u7684\u6545\u969c\u6392\u9664\u63d0\u793a\uff0c\u4ee5\u786e\u8ba4\u6324\u51fa\u673a\u7684\u201cenable_pin\u201d\u3001\u201cstep_pin\u201d\u548c\u201cdir_pin\u201d\u8bbe\u7f6e\u3002 \u6821\u51c6 PID \u8bbe\u7f6e \u00b6 Klipper\u652f\u6301\u6324\u51fa\u673a\u548c\u70ed\u5e8a\u52a0\u70ed\u5668\u7684 PID\u63a7\u5236 \u3002\u4e3a\u4e86\u4f7f\u7528\u8fd9\u79cd\u63a7\u5236\u673a\u5236\uff0c\u5fc5\u987b\u5bf9\u6bcf\u53f0\u6253\u5370\u673a\u7684 PID \u53c2\u6570\u8fdb\u884c\u6821\u51c6\uff08\u5728\u5176\u4ed6\u56fa\u4ef6\u6216\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u627e\u5230\u7684 PID \u8bbe\u7f6e\u5f80\u5f80\u6548\u679c\u4e0d\u4f73\uff09\u3002 \u8981\u6821\u51c6\u6324\u51fa\u673a\uff0c\u8bf7\u627e\u5230 OctoPrint \u7ec8\u7aef\u9009\u9879\u5361\u5e76\u8fd0\u884c PID_CALIBRATE \u547d\u4ee4\u3002 \u4f8b\u5982\uff1a PID_CALIBRATE HEATER=extruder TARGET=170 \u8c03\u6574\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u8fd0\u884c SAVE_CONFIG \u4ee5\u4fdd\u5b58\u65b0PID\u8bbe\u7f6e\u5230printer.cfg\u6587\u4ef6\u3002 \u5982\u679c\u6253\u5370\u673a\u6709\u52a0\u70ed\u5e8a\uff0c\u5e76\u4e14\u652f\u6301PWM\uff08\u8109\u5bbd\u8c03\u5236\uff09\u9a71\u52a8\uff0c\u90a3\u4e48\u5efa\u8bae\u5bf9\u52a0\u70ed\u5e8a\u4f7f\u7528PID\u63a7\u5236\u3002 \uff08\u5f53\u4f7f\u7528 PID \u7b97\u6cd5\u63a7\u5236\u5e8a\u52a0\u70ed\u5668\u65f6\uff0c\u5b83\u53ef\u80fd\u6bcf\u79d2\u6253\u5f00\u548c\u5173\u95ed\u5341\u6b21\uff0c\u8fd9\u53ef\u80fd\u4e0d\u9002\u7528\u4e8e\u4f7f\u7528\u673a\u68b0\u5f00\u5173\u7684\u52a0\u70ed\u5668\u3002\uff09\u4e00\u822c\u7684\u70ed\u5e8a PID \u6821\u51c6\u547d\u4ee4\u662f\uff1a PID_CALIBRATE HEATER=heater_bed TARGET= 60 \u4e0b\u4e00\u6b65 \u00b6 \u672c\u6307\u5357\u65e8\u5728\u5e2e\u52a9\u5bf9 Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5f15\u811a\u8bbe\u7f6e\u8fdb\u884c\u57fa\u672c\u9a8c\u8bc1\u3002 \u8bf7\u52a1\u5fc5\u9605\u8bfb \u5e8a\u4f4d\u8c03\u5e73 \u6307\u5357\u3002 \u53e6\u8bf7\u53c2\u9605 \u5207\u7247\u8f6f\u4ef6 \u6587\u6863\uff0c\u4e86\u89e3\u6709\u5173\u4f7f\u7528 Klipper \u914d\u7f6e\u5207\u7247\u8f6f\u4ef6\u7684\u4fe1\u606f\u3002 \u5728\u9a8c\u8bc1\u57fa\u672c\u6253\u5370\u5de5\u4f5c\u540e\uff0c\u6700\u597d\u8003\u8651\u6821\u51c6 \u538b\u529b\u63d0\u524d \u3002 \u53ef\u80fd\u9700\u8981\u6267\u884c\u5176\u4ed6\u7c7b\u578b\u7684\u8be6\u7ec6\u6253\u5370\u673a\u6821\u51c6 - \u7f51\u7edc\u4e0a\u63d0\u4f9b\u4e86\u8bb8\u591a\u6307\u5357\u6765\u5e2e\u52a9\u89e3\u51b3\u6b64\u95ee\u9898\uff08\u4f8b\u5982\uff0c\u5728\u7f51\u7edc\u4e0a\u641c\u7d22\u201c3d \u6253\u5370\u673a\u6821\u51c6\u201d\uff09\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u9047\u5230\u79f0\u4e3a\u632f\u94c3\u7684\u6548\u679c\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u9075\u5faa \u5171\u632f\u8865\u507f \u8c03\u8c10\u6307\u5357\u3002","title":"\u914d\u7f6e\u68c0\u67e5"},{"location":"Config_checks.html#_1","text":"\u672c\u6587\u6863\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5e2e\u52a9\u9a8c\u8bc1 Klipper printer.cfg \u6587\u4ef6\u4e2d\u7684\u5f15\u811a\u8bbe\u7f6e\u7684\u6b65\u9aa4\u3002\u63a8\u8350\u5728\u5b8c\u6210 \u5b89\u88c5\u6587\u6863 \u4e2d\u7684\u6b65\u9aa4\u540e\u6267\u884c\u672c\u6587\u6863\u4e2d\u7684\u6b65\u9aa4\u3002 \u5728\u6267\u884c\u6b64\u6307\u5357\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539 Klipper \u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8bf7\u52a1\u5fc5\u5728\u6bcf\u6b21\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u540e\u53d1\u9001 RESTART \u547d\u4ee4\uff0c\u4ee5\u786e\u4fdd\u4fee\u6539\u6210\u529f\u751f\u6548\uff08\u5728 Octoprint \u7ec8\u7aef\u6807\u7b7e\u4e2d\u8f93\u5165 \"RESTART\"\uff08\u91cd\u542f\uff09\uff0c\u7136\u540e\u70b9\u51fb \"Send\"\uff08\u53d1\u9001\uff09\uff09\u3002\u5728\u6bcf\u6b21\u91cd\u542f\u4e4b\u540e\u6700\u597d\u518d\u53d1\u51fa\u4e00\u6b21 STATUS \uff08\u72b6\u6001\uff09\u547d\u4ee4\uff0c\u4ee5\u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6210\u529f\u52a0\u8f7d\u3002","title":"\u914d\u7f6e\u68c0\u67e5"},{"location":"Config_checks.html#_2","text":"\u9996\u5148\u9a8c\u8bc1\u6e29\u5ea6\u662f\u5426\u88ab\u6b63\u786e\u7684\u62a5\u544a\u3002\u5bfc\u822a\u5230 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u3002 \u786e\u8ba4\u55b7\u5634\u548c\u70ed\u5e8a\uff08\u5982\u679c\u9002\u7528\uff09\u7684\u6e29\u5ea6\u5408\u7406\u4e14\u4e0d\u5728\u4e0a\u5347\u3002\u5982\u679c\u6e29\u5ea6\u6b63\u5728\u4e0a\u5347\uff0c\u8bf7\u7acb\u5373\u65ad\u5f00\u6253\u5370\u673a\u7684\u7535\u6e90\u3002\u5982\u679c\u6e29\u5ea6\u663e\u793a\u4e0d\u51c6\u786e\uff0c\u8bf7\u68c0\u67e5\u70ed\u7aef\u548c/\u6216\u70ed\u5e8a\u7684 \u201csensor_type\u201d \u548c \u201csensor_pin\u201d \u8bbe\u7f6e\u3002","title":"\u9a8c\u8bc1\u6e29\u5ea6"},{"location":"Config_checks.html#m112","text":"\u5bfc\u822a\u5230 Octoprint \u7ec8\u7aef\u9009\u9879\u5361\u5e76\u901a\u8fc7\u7ec8\u7aef\u53d1\u9001 M112 \u547d\u4ee4\u3002\u8be5\u547d\u4ee4\u4f1a\u4f7f Klipper \u8fdb\u5165\u5173\u95ed\u72b6\u6001\uff0c\u5e76\u5bfc\u81f4 Octoprint \u4e0e Klipper \u65ad\u5f00\u94fe\u63a5\u3002\u627e\u5230\u8fde\u63a5\u677f\u5757\u5355\u51fb \"Connect\"\uff08\u8fde\u63a5\uff09\u4ee5\u91cd\u65b0\u8fde\u63a5\u5230 Klipper\u3002\u7136\u540e\u5728 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u4e2d\u9a8c\u8bc1\u6e29\u5ea6\u662f\u5426\u6301\u7eed\u66f4\u65b0\u548c\u5347\u9ad8\u3002\u5982\u679c\u6e29\u5ea6\u5347\u9ad8\uff0c\u8bf7\u7acb\u5373\u65ad\u5f00\u6253\u5370\u673a\u7535\u6e90\u3002 M112 \u547d\u4ee4\u4f1a\u4f7f Klipper \u8fdb\u5165 \"shutdown\"\uff08\u5173\u95ed\uff09\u72b6\u6001\u3002\u8981\u9000\u51fa\u8fd9\u4e00\u72b6\u6001\uff0c\u8bf7\u5728 Octoprint \u7ec8\u7aef\u9009\u9879\u5361\u4e2d\u53d1\u51fa FIRMWARE_RESTART \u547d\u4ee4\u3002","title":"\u9a8c\u8bc1 M112"},{"location":"Config_checks.html#_3","text":"\u5bfc\u822a\u5230 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u4e2d\u7684\u201cTool\u201d\uff08\u5de5\u5177\uff09\u6e29\u5ea6\u6846\uff0c\u8f93\u5165 50 \u5e76\u6309\u4e0b\u56de\u8f66\u3002 \u56fe\u4e2d\u7684\u6324\u51fa\u5934\u6e29\u5ea6\u5e94\u5f00\u59cb\u5347\u9ad8\uff08\u5728\u7ea6 30 \u79d2\u5de6\u53f3\u7684\u65f6\u95f4\u5185\uff09\u3002 \u7136\u540e\u5728\u5de5\u5177\u6e29\u5ea6\u7684\u4e0b\u62c9\u6846\u4e2d\u9009\u62e9\u201coff\u201d\uff08\u5173\u95ed\uff09\u3002 \u51e0\u5206\u949f\u540e\uff0c\u6e29\u5ea6\u5e94\u5f00\u59cb\u6062\u590d\u5230\u5176\u521d\u59cb\u5ba4\u6e29\u503c\u3002 \u5982\u679c\u6e29\u5ea6\u6ca1\u6709\u4e0a\u5347\uff0c\u9700\u8981\u68c0\u67e5\u914d\u7f6e\u4e2d\u7684\u201cheater_pin\u201d\u8bbe\u7f6e\u662f\u5426\u6b63\u786e\u3002 \u5982\u679c\u6253\u5370\u673a\u5e26\u6709\u70ed\u5e8a\uff0c\u5219\u7528\u70ed\u5e8a\u91cd\u590d\u4e0a\u8ff0\u6d4b\u8bd5\u3002","title":"\u9a8c\u8bc1\u52a0\u70ed\u5668"},{"location":"Config_checks.html#enable","text":"\u9a8c\u8bc1\u6240\u6709\u6253\u5370\u673a\u8f74\u90fd\u53ef\u4ee5\u7528\u624b\u81ea\u7531\u79fb\u52a8\uff08\u6b65\u8fdb\u7535\u673a\u5df2\u7981\u7528\uff09\u3002 \u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u53d1\u51fa M84 \u547d\u4ee4\u7981\u7528\u7535\u673a\u3002 \u5982\u679c\u4efb\u4f55\u8f74\u4ecd\u7136\u65e0\u6cd5\u81ea\u7531\u79fb\u52a8\uff0c\u9700\u8981\u68c0\u67e5\u8be5\u8f74\u7684\u6b65\u8fdb\u9a71\u52a8\u201cenable_pin\u201d\uff08\u4f7f\u80fd\u5f15\u811a\uff09\u914d\u7f6e\u3002 \u5728\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4e0a\uff0c\u7535\u673a\u4f7f\u80fd\u5f15\u811a\u4e3a\u201c\u4f4e\u7535\u5e73\u6709\u6548\u201d\uff0c\u56e0\u6b64\u4f7f\u80fd\u5f15\u811a\u5728pin\u4e4b\u524d\u5e94\u5e26\u6709\u201c\uff01\u201d \uff08\u4f8b\u5982\uff0c\u201cenable_pin: !ar38\u201d\uff09\u3002","title":"\u9a8c\u8bc1\u6b65\u8fdb\u7535\u673a enable\uff08\u542f\u7528\uff09\u5f15\u811a"},{"location":"Config_checks.html#_4","text":"\u624b\u52a8\u79fb\u52a8\u6240\u6709\u6253\u5370\u673a\u8f74\uff0c\u4f7f\u5b83\u4eec\u90fd\u4e0d\u4e0e\u9650\u4f4d\u5668\u63a5\u89e6\u3002 \u901a\u8fc7 Octoprint \u7ec8\u7aef\u53d1\u9001 QUERY_ENDSTOPS \u547d\u4ee4\u3002 \u5b83\u5e94\u8be5\u4ee5\u6240\u6709\u914d\u7f6e\u7684\u9650\u4f4d\u7684\u5f53\u524d\u72b6\u6001\u505a\u51fa\u54cd\u5e94\uff0c\u5e76\u4e14\u5b83\u4eec\u90fd\u5e94\u8be5\u62a5\u544a\u201copen\u201d\uff08\u672a\u89e6\u53d1\uff09\u72b6\u6001\u3002 \u624b\u52a8\u89e6\u53d1\u6bcf\u4e2a\u9650\u4f4d\u5668\u7684\u540c\u65f6\u91cd\u65b0\u8fd0\u884c QUERY_ENDSTOPS \u547d\u4ee4\u3002\u76f8\u5e94\u7684\u9650\u4f4d\u5e94\u8be5\u88ab QUERY_ENDSTOPS \u62a5\u544a\u4e3a\u201cTRIGGERED\u201d\u3002 \u5982\u679c\u9650\u4f4d\u72b6\u6001\u662f\u76f8\u53cd\u7684\uff08\u89e6\u53d1\u65f6\u62a5\u544a\u201copen\u201d\uff0c\u53cd\u4e4b\u4ea6\u7136\uff09\uff0c\u5219\u6dfb\u52a0\u201c\uff01\u201d \u5230\u5f15\u811a\u5b9a\u4e49\uff08\u4f8b\u5982\uff0c\u201cendstop_pin: ^!ar3\u201d\uff09\uff0c\u5982\u679c\u5b58\u5728\u201c\uff01\u201d\u5c31\u5c06\u4e4b\u5220\u9664\u3002 \u5982\u679c\u9650\u4f4d\u72b6\u6001\u6839\u672c\u6ca1\u6709\u53d8\u5316\uff0c\u5219\u901a\u5e38\u8868\u793a\u9650\u4f4d\u5668\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u5f15\u811a\u3002 \u4f46\u662f\uff0c\u5b83\u4e5f\u53ef\u80fd\u8868\u793a\u9700\u8981\u66f4\u6539\u5f15\u811a\u7684\u4e0a\u62c9\u8bbe\u7f6e\uff08endstop_pin \u540d\u79f0\u5f00\u5934\u7684\u201c^\u201d - \u5927\u591a\u6570\u6253\u5370\u673a\u9700\u8981\u4f7f\u7528\u4e0a\u62c9\u7535\u963b\u5e76\u4e14\u5e94\u8be5\u5b58\u5728\u201c^\u201d\uff09\u3002","title":"\u9a8c\u8bc1\u9650\u4f4d\u5f00\u5173"},{"location":"Config_checks.html#_5","text":"\u4f7f\u7528 STEPPER_BUZZ \u547d\u4ee4\u9a8c\u8bc1\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u8fde\u901a\u6027\u3002 \u9996\u5148\u5c06\u8981\u9a8c\u8bc1\u7684\u8f74\u624b\u52a8\u632a\u5230\u5230\u4e2d\u95f4\u70b9\uff0c\u7136\u540e\u8fd0\u884c STEPPER_BUZZ STEPPER=stepper_x \u3002 STEPPER_BUZZ \u547d\u4ee4\u5c06\u4f7fX\u8f74\u5411\u6b63\u65b9\u5411\u79fb\u52a8\u4e00\u6beb\u7c73\uff0c\u518d\u8fd4\u56de\u5230\u5176\u8d77\u59cb\u4f4d\u7f6e\u3002 \uff08\u5982\u679c\u5728 position_endstop=0 \u5904\u5b9a\u4e49\u4e86\u9650\u4f4d\u7684\u4f4d\u7f6e\uff0c\u5219\u5728\u6bcf\u6b21\u8fd0\u52a8\u5f00\u59cb\u65f6\uff0c\u6b65\u8fdb\u5668\u5c06\u8fdc\u79bb\u9650\u4f4d\u3002\uff09\u5b83\u5c06\u6267\u884c\u8fd9\u4e2a\u52a8\u4f5c\u5341\u6b21\u3002 \u5982\u679c\u6b65\u8fdb\u7535\u673a\u6839\u672c\u4e0d\u52a8\uff0c\u5219\u9700\u8981\u9a8c\u8bc1\u6b65\u8fdb\u9a71\u52a8\u7684\u201cenable_pin\u201d\u548c\u201cstep_pin\u201d\u8bbe\u7f6e\u3002 \u5982\u679c\u6b65\u8fdb\u7535\u673a\u79fb\u52a8\u4f46\u6ca1\u6709\u8fd4\u56de\u5176\u539f\u59cb\u4f4d\u7f6e\uff0c\u5219\u9700\u8981\u9a8c\u8bc1\u201cdir_pin\u201d\u8bbe\u7f6e\u3002 \u5982\u679c\u6b65\u8fdb\u7535\u673a\u7684\u632f\u8361\u65b9\u5411\u4e0d\u6b63\u786e\uff0c\u5219\u901a\u5e38\u8868\u793a\u9700\u8981\u53cd\u8f6c\u9a71\u52a8\u7684\u201cdir_pin\u201d\u3002 \u5373\u901a\u8fc7\u6dfb\u52a0\u201c!\u201d \u5230\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u201cdir_pin\u201d\u8bbe\u7f6e\u6765\u5b8c\u6210\uff08\u5982\u679c\u5df2\u7ecf\u5b58\u5728\"!\"\uff0c\u5219\u5c06\u5176\u5220\u9664\uff09\u3002 \u5982\u679c\u7535\u673a\u79fb\u52a8\u660e\u663e\u5927\u4e8e\u6216\u5c0f\u4e8e\u4e00\u6beb\u7c73\uff0c\u5219\u9700\u8981\u9a8c\u8bc1\u201crotation_distance\u201d\u8bbe\u7f6e\u3002 \u5bf9\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u8fd0\u884c\u4e0a\u8ff0\u6d4b\u8bd5\u3002 \uff08\u5c06 STEPPER_BUZZ \u547d\u4ee4\u7684 STEPPER \u53c2\u6570\u8bbe\u7f6e\u4e3a\u8981\u6d4b\u8bd5\u7684\u914d\u7f6e\u90e8\u5206\u7684\u540d\u79f0\u3002\uff09\u5982\u679c\u6324\u51fa\u673a\u4e2d\u6ca1\u6709\u8017\u6750\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 STEPPER_BUZZ \u9a8c\u8bc1\u6324\u51fa\u673a\u7535\u673a\u7684\u63a5\u7ebf\uff08\u4f7f\u7528 STEPPER=extruder\uff09\u3002 \u5426\u5219\uff0c\u6700\u597d\u5355\u72ec\u6d4b\u8bd5\u6324\u51fa\u673a\u7535\u673a\uff08\u53c2\u89c1\u4e0b\u4e00\u8282\uff09\u3002 \u5728\u9a8c\u8bc1\u5b8c\u6240\u6709\u9650\u4f4d\u5668\u548c\u6240\u6709\u6b65\u8fdb\u7535\u673a\u540e\uff0c\u5e94\u6d4b\u8bd5\u5f52\u4f4d\u673a\u5236\u3002 \u53d1\u51fa G28 \u547d\u4ee4\u4ee5\u5f52\u4f4d\u6240\u6709\u8f74\u3002 \u5982\u679c\u6253\u5370\u673a\u4e0d\u80fd\u6b63\u5e38\u5f52\u4f4d\uff0c\u8bf7\u65ad\u5f00\u6253\u5370\u673a\u7535\u6e90\u3002 \u7136\u540e\uff0c\u91cd\u65b0\u6267\u884c\u9650\u4f4d\u5668\u548c\u6b65\u8fdb\u7535\u673a\u9a8c\u8bc1\u6d41\u7a0b\u3002","title":"\u9a8c\u8bc1\u6b65\u8fdb\u7535\u673a"},{"location":"Config_checks.html#_6","text":"\u8981\u6d4b\u8bd5\u6324\u51fa\u673a\u7535\u673a\uff0c\u5fc5\u987b\u5148\u5c06\u70ed\u7aef\u52a0\u70ed\u5230\u6253\u5370\u6e29\u5ea6\u3002\u5bfc\u822a\u5230 Octoprint \u6e29\u5ea6\u9009\u9879\u5361\u5e76\u5728\u6e29\u5ea6\u4e0b\u62c9\u6846\u4e2d\u9009\u62e9\u76ee\u6807\u6e29\u5ea6\uff08\u6216\u624b\u52a8\u8f93\u5165\u9002\u5f53\u7684\u6e29\u5ea6\uff09\u3002\u7b49\u5f85\u6253\u5370\u673a\u8fbe\u5230\u76ee\u6807\u6e29\u5ea6\uff0c\u7136\u540e\u627e\u5230 Octoprint \u63a7\u5236\u9009\u9879\u5361\u5e76\u5355\u51fb\u201cExtrude\u201d\uff08\u6324\u51fa\uff09\u6309\u94ae\u3002 \u786e\u8ba4\u6324\u51fa\u673a\u7535\u673a\u4ee5\u6b63\u786e\u7684\u65b9\u5411\u8f6c\u52a8\u3002 \u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u53c2\u9605\u4e0a\u4e00\u8282\u4e2d\u7684\u6545\u969c\u6392\u9664\u63d0\u793a\uff0c\u4ee5\u786e\u8ba4\u6324\u51fa\u673a\u7684\u201cenable_pin\u201d\u3001\u201cstep_pin\u201d\u548c\u201cdir_pin\u201d\u8bbe\u7f6e\u3002","title":"\u9a8c\u8bc1\u6324\u51fa\u673a\u7535\u673a"},{"location":"Config_checks.html#pid","text":"Klipper\u652f\u6301\u6324\u51fa\u673a\u548c\u70ed\u5e8a\u52a0\u70ed\u5668\u7684 PID\u63a7\u5236 \u3002\u4e3a\u4e86\u4f7f\u7528\u8fd9\u79cd\u63a7\u5236\u673a\u5236\uff0c\u5fc5\u987b\u5bf9\u6bcf\u53f0\u6253\u5370\u673a\u7684 PID \u53c2\u6570\u8fdb\u884c\u6821\u51c6\uff08\u5728\u5176\u4ed6\u56fa\u4ef6\u6216\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u627e\u5230\u7684 PID \u8bbe\u7f6e\u5f80\u5f80\u6548\u679c\u4e0d\u4f73\uff09\u3002 \u8981\u6821\u51c6\u6324\u51fa\u673a\uff0c\u8bf7\u627e\u5230 OctoPrint \u7ec8\u7aef\u9009\u9879\u5361\u5e76\u8fd0\u884c PID_CALIBRATE \u547d\u4ee4\u3002 \u4f8b\u5982\uff1a PID_CALIBRATE HEATER=extruder TARGET=170 \u8c03\u6574\u6d4b\u8bd5\u5b8c\u6210\u540e\uff0c\u8fd0\u884c SAVE_CONFIG \u4ee5\u4fdd\u5b58\u65b0PID\u8bbe\u7f6e\u5230printer.cfg\u6587\u4ef6\u3002 \u5982\u679c\u6253\u5370\u673a\u6709\u52a0\u70ed\u5e8a\uff0c\u5e76\u4e14\u652f\u6301PWM\uff08\u8109\u5bbd\u8c03\u5236\uff09\u9a71\u52a8\uff0c\u90a3\u4e48\u5efa\u8bae\u5bf9\u52a0\u70ed\u5e8a\u4f7f\u7528PID\u63a7\u5236\u3002 \uff08\u5f53\u4f7f\u7528 PID \u7b97\u6cd5\u63a7\u5236\u5e8a\u52a0\u70ed\u5668\u65f6\uff0c\u5b83\u53ef\u80fd\u6bcf\u79d2\u6253\u5f00\u548c\u5173\u95ed\u5341\u6b21\uff0c\u8fd9\u53ef\u80fd\u4e0d\u9002\u7528\u4e8e\u4f7f\u7528\u673a\u68b0\u5f00\u5173\u7684\u52a0\u70ed\u5668\u3002\uff09\u4e00\u822c\u7684\u70ed\u5e8a PID \u6821\u51c6\u547d\u4ee4\u662f\uff1a PID_CALIBRATE HEATER=heater_bed TARGET= 60","title":"\u6821\u51c6 PID \u8bbe\u7f6e"},{"location":"Config_checks.html#_7","text":"\u672c\u6307\u5357\u65e8\u5728\u5e2e\u52a9\u5bf9 Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5f15\u811a\u8bbe\u7f6e\u8fdb\u884c\u57fa\u672c\u9a8c\u8bc1\u3002 \u8bf7\u52a1\u5fc5\u9605\u8bfb \u5e8a\u4f4d\u8c03\u5e73 \u6307\u5357\u3002 \u53e6\u8bf7\u53c2\u9605 \u5207\u7247\u8f6f\u4ef6 \u6587\u6863\uff0c\u4e86\u89e3\u6709\u5173\u4f7f\u7528 Klipper \u914d\u7f6e\u5207\u7247\u8f6f\u4ef6\u7684\u4fe1\u606f\u3002 \u5728\u9a8c\u8bc1\u57fa\u672c\u6253\u5370\u5de5\u4f5c\u540e\uff0c\u6700\u597d\u8003\u8651\u6821\u51c6 \u538b\u529b\u63d0\u524d \u3002 \u53ef\u80fd\u9700\u8981\u6267\u884c\u5176\u4ed6\u7c7b\u578b\u7684\u8be6\u7ec6\u6253\u5370\u673a\u6821\u51c6 - \u7f51\u7edc\u4e0a\u63d0\u4f9b\u4e86\u8bb8\u591a\u6307\u5357\u6765\u5e2e\u52a9\u89e3\u51b3\u6b64\u95ee\u9898\uff08\u4f8b\u5982\uff0c\u5728\u7f51\u7edc\u4e0a\u641c\u7d22\u201c3d \u6253\u5370\u673a\u6821\u51c6\u201d\uff09\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u9047\u5230\u79f0\u4e3a\u632f\u94c3\u7684\u6548\u679c\uff0c\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u9075\u5faa \u5171\u632f\u8865\u507f \u8c03\u8c10\u6307\u5357\u3002","title":"\u4e0b\u4e00\u6b65"},{"location":"Contact.html","text":"\u8054\u7cfb\u65b9\u5f0f \u00b6 \u672c\u6587\u6863\u63d0\u4f9b\u4e86\u5173\u4e8e Klipper \u7684\u8054\u7cfb\u4fe1\u606f\u3002 \u793e\u533a\u8bba\u575b Discord \u804a\u5929 \u6211\u6709\u4e00\u4e2a\u5173\u4e8e Klipper \u7684\u95ee\u9898 \u6211\u6709\u4e00\u4e2a\u529f\u80fd\u8bf7\u6c42 \u6211\u9700\u8981\u5e2e\u52a9\uff01\u5b83\u70b8\u4e86\uff01 \u6211\u5728 Klipper \u4e2d\u53d1\u73b0\u4e86\u4e00\u4e2a\u7f3a\u9677 \u6211\u6b63\u5728\u8fdb\u884c\u6211\u60f3\u7eb3\u5165 Klipper \u7684\u4fee\u6539 \u793e\u533a\u8bba\u575b \u00b6 \u6709\u4e00\u4e2a\u7528\u6765\u8ba8\u8bba Klipper \u7684 Klipper \u793e\u533a Discourse \u670d\u52a1\u5668 \u3002 Discord \u804a\u5929 \u00b6 \u6211\u4eec\u6709\u4e00\u4e2a\u7528\u6765\u8ba8\u8bbaKlipper\u7684Discord\u670d\u52a1\u5668\uff0c\u5b83\u7684\u9080\u8bf7\u94fe\u63a5\u662f https://discord.klipper3d.org \u3002 \u8fd9\u4e2a\u670d\u52a1\u5668\u662f\u7531 Klipper \u7231\u597d\u8005\u793e\u533a\u8fd0\u884c\uff0c\u81f4\u529b\u4e8e\u8ba8\u8bba Klipper\u3002\u5b83\u5141\u8bb8\u8fdb\u884c\u7528\u6237\u95f4\u7684\u5b9e\u65f6\u804a\u5929\u3002 \u6211\u6709\u4e00\u4e2a\u5173\u4e8e Klipper \u7684\u95ee\u9898 \u00b6 \u6211\u4eec\u6536\u5230\u7684\u8bb8\u591a\u95ee\u9898\u5728 Klipper \u6587\u6863 \u4e2d\u5df2\u7ecf\u6709\u4e86\u7b54\u6848\u3002\u8bf7\u52a1\u5fc5\u9605\u8bfb\u8be5\u6587\u6863\u5e76\u9075\u5faa\u5176\u4e2d\u63d0\u4f9b\u7684\u6307\u793a\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u533a\u8bba\u575b \u4e2d\u641c\u7d22\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4f60\u6709\u5174\u8da3\u4e0e\u5176\u4ed6 Klipper \u7528\u6237\u5206\u4eab\u4f60\u7684\u77e5\u8bc6\u548c\u7ecf\u9a8c\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u533a\u8bba\u575b \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u8fd9\u4e24\u4e2a\u793e\u533a\u90fd\u662f Klipper \u7528\u6237\u95f4\u8ba8\u8bba Klipper \u7684\u5730\u65b9\u3002 \u6211\u4eec\u7ecf\u5e38\u6536\u5230\u8bb8\u591a\u5e76\u4e0d\u9488\u5bf9 Klipper \u7684\u5e38\u89c43D\u6253\u5370\u7591\u95ee\u3002\u5982\u679c\u4f60\u6709\u5e38\u89c4\u7684\u7591\u95ee\u6216\u9047\u5230\u4e86\u5e38\u89c4\u7684\u6253\u5370\u95ee\u9898\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u4f1a\u5728\u4e00\u822c\u76843D\u6253\u5370\u8bba\u575b\u6216\u4e13\u95e8\u9488\u5bf9\u4f60\u7684\u6253\u5370\u673a\u786c\u4ef6\u7684\u8bba\u575b\u4e0a\u5f97\u5230\u66f4\u597d\u7684\u7b54\u6848\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u521b\u5efa\u8bae\u9898\u6765\u63d0\u95ee\u3002 \u6211\u6709\u4e00\u4e2a\u529f\u80fd\u8bf7\u6c42 \u00b6 \u6240\u6709\u7684\u65b0\u529f\u80fd\u90fd\u9700\u8981\u6709\u611f\u5174\u8da3\u5e76\u80fd\u591f\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u7684\u4eba\u3002\u5982\u679c\u4f60\u60f3\u5e2e\u52a9\u5b9e\u73b0\u6216\u6d4b\u8bd5\u4e00\u4e2a\u65b0\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u5728 Klipper \u793e\u533a\u8bba\u575b \u4e2d\u641c\u7d22\u6b63\u5728\u8fdb\u884c\u7684\u5f00\u53d1\u8fdb\u7a0b\u3002\u8fd8\u6709 Klipper Discord \u804a\u5929\u5ba4 \u4f9b\u5408\u4f5c\u8005\u4e4b\u95f4\u8ba8\u8bba\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u521b\u5efa\u8bae\u9898\u6765\u8bf7\u6c42\u529f\u80fd\u3002 \u6211\u9700\u8981\u5e2e\u52a9\uff01\u5b83\u70b8\u4e86\uff01 \u00b6 \u4e0d\u5e78\u7684\u662f\uff0c\u6211\u4eec\u6536\u5230\u7684\u5e2e\u52a9\u8bf7\u6c42\u5f80\u5f80\u6bd4\u6211\u4eec\u80fd\u591f\u56de\u7b54\u7684\u8981\u591a\u3002\u6211\u4eec\u53d1\u73b0\u5927\u591a\u6570\u95ee\u9898\u62a5\u544a\u7684\u6839\u672c\u539f\u56e0\u90fd\u662f\uff1a \u7ec6\u5fae\u7684\u786c\u4ef6\u95ee\u9898\u6216 \u672a\u9075\u5faa Klipper \u6587\u6863\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u6b65\u9aa4\u3002 \u5982\u679c\u60a8\u9047\u5230\u4e86\u95ee\u9898\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u4ed4\u7ec6\u9605\u8bfb Klipper \u6587\u6863 \u5e76\u518d\u6b21\u68c0\u67e5\u662f\u5426\u9075\u5faa\u4e86\u6240\u6709\u6b65\u9aa4\u3002 \u5982\u679c\u4f60\u9047\u5230\u4e86\u6253\u5370\u95ee\u9898\uff0c\u6211\u4eec\u5efa\u8bae\u4ed4\u7ec6\u68c0\u67e5\u6253\u5370\u673a\u7684\u786c\u4ef6\uff08\u6240\u6709\u63a5\u5934\u3001\u7535\u7ebf\u3001\u87ba\u4e1d\u7b49\uff09\uff0c\u786e\u8ba4\u6ca1\u6709\u4efb\u4f55\u5f02\u5e38\u3002\u6211\u4eec\u53d1\u73b0\u5927\u591a\u6570\u6253\u5370\u95ee\u9898\u90fd\u4e0e Klipper \u8f6f\u4ef6\u65e0\u5173\u3002\u5982\u679c\u4f60\u786e\u5b9e\u53d1\u73b0\u4e86\u6253\u5370\u673a\u786c\u4ef6\u7684\u95ee\u9898\uff0c\u5728\u4e00\u822c\u76843D\u6253\u5370\u8bba\u575b\u6216\u4e13\u95e8\u9488\u5bf9\u4f60\u7684\u6253\u5370\u673a\u786c\u4ef6\u7684\u8bba\u575b\u4e0a\u641c\u7d22\u901a\u5e38\u53ef\u4ee5\u5f97\u5230\u66f4\u597d\u7684\u7b54\u590d\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u533a\u8bba\u575b \u4e2d\u67e5\u627e\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4f60\u6709\u5174\u8da3\u4e0e\u5176\u4ed6 Klipper \u7528\u6237\u5206\u4eab\u4f60\u7684\u77e5\u8bc6\u548c\u7ecf\u9a8c\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u533a\u8bba\u575b \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u8fd9\u4e24\u4e2a\u793e\u533a\u90fd\u662f Klipper \u7528\u6237\u95f4\u8ba8\u8bba Klipper \u7684\u5730\u65b9\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u521b\u5efa\u8bae\u9898\u6765\u6c42\u52a9\u3002 \u6211\u5728 Klipper \u8f6f\u4ef6\u4e2d\u8bca\u65ad\u51fa\u4e86\u4e00\u4e2a\u7f3a\u9677 \u00b6 Klipper \u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4eec\u8bda\u631a\u7684\u611f\u8c22\u8d21\u732e\u8005\u4eec\u5728\u8f6f\u4ef6\u4e2d\u8bca\u65ad\u51fa\u9519\u8bef\u3002 \u4fee\u590dbug\u9700\u8981\u63d0\u4f9b\u4e00\u4e9b\u91cd\u8981\u7684\u4fe1\u606f\u3002\u8bf7\u9075\u5faa\u4ee5\u4e0b\u6b65\u9aa4\uff1a \u9996\u5148\u8981\u786e\u5b9a\u8fd9\u4e2a\u9519\u8bef\u662f\u5728 Klipper \u8f6f\u4ef6\u4e2d\u3002\u5982\u679c\u4f60\u5728\u60f3 \"\u6211\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u65e0\u6cd5\u627e\u51fa\u539f\u56e0\uff0c\u56e0\u6b64\u8fd9\u662f\u4e00\u4e2aKlipper\u7684\u9519\u8bef\"\uff0c\u90a3\u4e48 \u4e0d\u8981 \u521b\u5efa\u4e00\u4e2a Github \u8bae\u9898\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6709\u5174\u8da3\u4e14\u6709\u80fd\u529b\u7684\u4eba\u9700\u8981\u5148\u627e\u5230\u95ee\u9898\u7684\u6839\u6e90\u3002\u5982\u679c\u4f60\u60f3\u5206\u4eab\u4f60\u7684\u7814\u7a76\u7ed3\u679c\u6216\u68c0\u67e5\u5176\u4ed6\u7528\u6237\u662f\u5426\u9047\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u641c\u7d22 Klipper \u793e\u533a\u8bba\u575b \u3002 \u8bf7\u786e\u4fdd\u60a8\u6b63\u5728\u8fd0\u884c https://github.com/Klipper3d/klipper \u7684\u672a\u4fee\u6539\u4ee3\u7801\u3002\u5982\u679c\u4ee3\u7801\u5df2\u88ab\u4fee\u6539\u6216\u4ece\u5176\u4ed6\u6765\u6e90\u83b7\u5f97\uff0c\u5219\u60a8\u9700\u8981\u5728\u62a5\u544a\u95ee\u9898\u4e4b\u524d\u5148\u5728 https://github.com/Klipper3d/klipper \u83b7\u53d6\u7684\u672a\u4fee\u6539\u7684\u4ee3\u7801\u4e0a\u91cd\u73b0\u95ee\u9898\u3002 \u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u5728\u4e0d\u671f\u671b\u7684\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u7acb\u5373\u5728 OctoPrint \u7ec8\u7aef\u7a97\u53e3\u8fd0\u884c\u4e00\u4e2a M112 \u547d\u4ee4\u3002\u8fd9\u5c06\u4f7f Klipper \u8fdb\u5165 \"\u5173\u95ed\"(shutdown)\u72b6\u6001\uff0c\u5e76\u5728\u65e5\u5fd7\u6587\u4ef6\u4e2d\u5199\u5165\u989d\u5916\u7684\u8c03\u8bd5\u4fe1\u606f\u3002 \u83b7\u53d6\u4e8b\u4ef6\u53d1\u9001\u65f6\u7684 Klipper \u65e5\u5fd7\u6587\u4ef6\u3002\u8be5\u65e5\u5fd7\u6587\u4ef6\u5df2\u88ab\u8bbe\u8ba1\u7528\u6765\u7ed9 Klipper \u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u5173\u4e8e\u8f6f\u4ef6\u53ca\u5176\u8fd0\u884c\u73af\u5883\u7684\u5e38\u89c1\u95ee\u9898\uff08\u8f6f\u4ef6\u7248\u672c\u3001\u786c\u4ef6\u7c7b\u578b\u3001\u914d\u7f6e\u3001\u4e8b\u4ef6\u65f6\u95f4\u548c\u6570\u767e\u4e2a\u5176\u4ed6\u95ee\u9898\uff09\u3002 Klipper \u65e5\u5fd7\u6587\u4ef6\u4f4d\u4e8e Klipper \"\u4e3b\u673a\"\uff08\u6811\u8393\u6d3e\uff09\u7684 /tmp/klippy.log \u6587\u4ef6\u4e2d\u3002 \u4f60\u9700\u8981\u7528\u201cscp\u201d\u6216\u201csftp\u201d\u7a0b\u5e8f\u5c06\u6b64\u65e5\u5fd7\u6587\u4ef6\u590d\u5236\u5230\u60a8\u7684\u8ba1\u7b97\u673a\u3002 \u201cscp\u201d\u7a0b\u5e8f\u662f Linux \u548c MacOS \u7cfb\u7edf\u7684\u6807\u51c6\u914d\u7f6e\u3002\u5176\u4ed6\u7cfb\u7edf\u4e5f\u901a\u5e38\u6709\u53ef\u7528\u7684 scp \u5b9e\u7528\u7a0b\u5e8f\uff08\u4f8b\u5982 WinSCP\uff09\u3002\u5982\u679c\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u7684 scp \u7a0b\u5e8f\u65e0\u6cd5\u76f4\u63a5\u590d\u5236 /tmp/klippy.log \uff0c\u53ef\u4ee5\u5c1d\u8bd5\u91cd\u590d\u70b9\u51fb .. \u6216\u8005 parent folder \uff08\u7236\u6587\u4ef6\u5939\uff09\u76f4\u5230\u8fdb\u5165\u6839\u76ee\u5f55\uff0c\u518d\u70b9\u51fb tmp \u6587\u4ef6\u5939\uff0c\u7136\u540e\u9009\u62e9 klippy.log \u6587\u4ef6\u3002 \u5c06\u65e5\u5fd7\u6587\u4ef6\u590d\u5236\u5230\u4f60\u7684\u7535\u8111\uff0c\u4ee5\u4fbf\u5c06\u5176\u4e0a\u4f20\u5230\u95ee\u9898\u62a5\u544a\u4e2d\u3002 \u4e0d\u8981\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fee\u6539\u65e5\u5fd7\u6587\u4ef6\uff1b\u4e0d\u8981\u53ea\u63d0\u4f9b\u65e5\u5fd7\u7684\u7247\u6bb5\u3002\u53ea\u6709\u5b8c\u6574\u7684\u672a\u4fee\u6539\u7684\u65e5\u5fd7\u6587\u4ef6\u624d\u80fd\u591f\u63d0\u4f9b\u5fc5\u8981\u7684\u4fe1\u606f\u3002 \u5982\u679c\u65e5\u5fd7\u6587\u4ef6\u975e\u5e38\u5927\uff08\u4f8b\u5982\uff0c\u5927\u4e8e2MB\uff09\uff0c\u90a3\u4e48\u53ef\u80fd\u9700\u8981\u7528 zip \u6216 gzip \u6765\u538b\u7f29\u65e5\u5fd7\u3002 \u5728 https://github.com/Klipper3d/klipper/issues \u5f00\u4e00\u4e2a\u65b0\u7684GitHub\u8bae\u9898\uff0c\u5e76\u5bf9\u95ee\u9898\u8fdb\u884c\u6e05\u6670\u7684\u63cf\u8ff0\u3002Klipper \u5f00\u53d1\u8005\u9700\u8981\u4e86\u89e3\u4f60\u91c7\u53d6\u4e86\u54ea\u4e9b\u6b65\u9aa4\uff0c\u671f\u671b\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff0c\u4ee5\u53ca\u5b9e\u9645\u53d1\u751f\u4e86\u4ec0\u4e48\u7ed3\u679c\u3002Klipper \u7684\u65e5\u5fd7\u6587\u4ef6 \u5fc5\u987b\u88ab\u6dfb\u52a0\u5230\u8bae\u9898\u9644\u4ef6 \uff1a \u6211\u6b63\u5728\u8fdb\u884c\u4e00\u4e9b\u6211\u60f3\u6dfb\u52a0\u5230 Klipper \u4e2d\u7684\u6539\u8fdb \u00b6 Klipper \u662f\u5f00\u6e90\u8f6f\u4ef6\uff0c\u6211\u4eec\u975e\u5e38\u611f\u8c22\u65b0\u7684\u8d21\u732e\u3002 \u65b0\u7684\u8d21\u732e\uff08\u5305\u62ec\u4ee3\u7801\u548c\u6587\u6863\uff09\u9700\u8981\u901a\u8fc7\u62c9\u53d6\u8bf7\u6c42(PR)\u63d0\u4ea4\u3002\u91cd\u8981\u4fe1\u606f\u8bf7\u53c2\u89c1 \u8d21\u732e\u6587\u6863 \u3002 \u6709\u51e0\u4e2a \u5f00\u53d1\u4eba\u5458\u6587\u6863 \u3002\u5982\u679c\u4f60\u5bf9\u4ee3\u7801\u6709\u7591\u95ee\uff0c\u90a3\u4e48\u4f60\u4e5f\u53ef\u4ee5\u5728 Klipper\u793e\u533a\u8bba\u575b \u6216 Klipper\u793e\u533a Discord \u4e0a\u63d0\u95ee\u3002\u5982\u679c\u4f60\u60f3\u63d0\u4f9b\u4f60\u76ee\u524d\u7684\u8fdb\u5c55\u60c5\u51b5\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u5728 Github \u4e0a\u5f00\u4e00\u4e2a\u95ee\u9898\uff0c\u5199\u4e0a\u4f60\u7684\u4ee3\u7801\u7684\u4f4d\u7f6e\uff0c\u4fee\u6539\u7684\u6982\u8ff0\uff0c\u4ee5\u53ca\u5bf9\u5176\u76ee\u524d\u72b6\u6001\u7684\u63cf\u8ff0\u3002","title":"\u8054\u7cfb\u65b9\u5f0f"},{"location":"Contact.html#_1","text":"\u672c\u6587\u6863\u63d0\u4f9b\u4e86\u5173\u4e8e Klipper \u7684\u8054\u7cfb\u4fe1\u606f\u3002 \u793e\u533a\u8bba\u575b Discord \u804a\u5929 \u6211\u6709\u4e00\u4e2a\u5173\u4e8e Klipper \u7684\u95ee\u9898 \u6211\u6709\u4e00\u4e2a\u529f\u80fd\u8bf7\u6c42 \u6211\u9700\u8981\u5e2e\u52a9\uff01\u5b83\u70b8\u4e86\uff01 \u6211\u5728 Klipper \u4e2d\u53d1\u73b0\u4e86\u4e00\u4e2a\u7f3a\u9677 \u6211\u6b63\u5728\u8fdb\u884c\u6211\u60f3\u7eb3\u5165 Klipper \u7684\u4fee\u6539","title":"\u8054\u7cfb\u65b9\u5f0f"},{"location":"Contact.html#_2","text":"\u6709\u4e00\u4e2a\u7528\u6765\u8ba8\u8bba Klipper \u7684 Klipper \u793e\u533a Discourse \u670d\u52a1\u5668 \u3002","title":"\u793e\u533a\u8bba\u575b"},{"location":"Contact.html#discord","text":"\u6211\u4eec\u6709\u4e00\u4e2a\u7528\u6765\u8ba8\u8bbaKlipper\u7684Discord\u670d\u52a1\u5668\uff0c\u5b83\u7684\u9080\u8bf7\u94fe\u63a5\u662f https://discord.klipper3d.org \u3002 \u8fd9\u4e2a\u670d\u52a1\u5668\u662f\u7531 Klipper \u7231\u597d\u8005\u793e\u533a\u8fd0\u884c\uff0c\u81f4\u529b\u4e8e\u8ba8\u8bba Klipper\u3002\u5b83\u5141\u8bb8\u8fdb\u884c\u7528\u6237\u95f4\u7684\u5b9e\u65f6\u804a\u5929\u3002","title":"Discord \u804a\u5929"},{"location":"Contact.html#klipper","text":"\u6211\u4eec\u6536\u5230\u7684\u8bb8\u591a\u95ee\u9898\u5728 Klipper \u6587\u6863 \u4e2d\u5df2\u7ecf\u6709\u4e86\u7b54\u6848\u3002\u8bf7\u52a1\u5fc5\u9605\u8bfb\u8be5\u6587\u6863\u5e76\u9075\u5faa\u5176\u4e2d\u63d0\u4f9b\u7684\u6307\u793a\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u533a\u8bba\u575b \u4e2d\u641c\u7d22\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4f60\u6709\u5174\u8da3\u4e0e\u5176\u4ed6 Klipper \u7528\u6237\u5206\u4eab\u4f60\u7684\u77e5\u8bc6\u548c\u7ecf\u9a8c\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u533a\u8bba\u575b \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u8fd9\u4e24\u4e2a\u793e\u533a\u90fd\u662f Klipper \u7528\u6237\u95f4\u8ba8\u8bba Klipper \u7684\u5730\u65b9\u3002 \u6211\u4eec\u7ecf\u5e38\u6536\u5230\u8bb8\u591a\u5e76\u4e0d\u9488\u5bf9 Klipper \u7684\u5e38\u89c43D\u6253\u5370\u7591\u95ee\u3002\u5982\u679c\u4f60\u6709\u5e38\u89c4\u7684\u7591\u95ee\u6216\u9047\u5230\u4e86\u5e38\u89c4\u7684\u6253\u5370\u95ee\u9898\uff0c\u90a3\u4e48\u4f60\u53ef\u80fd\u4f1a\u5728\u4e00\u822c\u76843D\u6253\u5370\u8bba\u575b\u6216\u4e13\u95e8\u9488\u5bf9\u4f60\u7684\u6253\u5370\u673a\u786c\u4ef6\u7684\u8bba\u575b\u4e0a\u5f97\u5230\u66f4\u597d\u7684\u7b54\u6848\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u521b\u5efa\u8bae\u9898\u6765\u63d0\u95ee\u3002","title":"\u6211\u6709\u4e00\u4e2a\u5173\u4e8e Klipper \u7684\u95ee\u9898"},{"location":"Contact.html#_3","text":"\u6240\u6709\u7684\u65b0\u529f\u80fd\u90fd\u9700\u8981\u6709\u611f\u5174\u8da3\u5e76\u80fd\u591f\u5b9e\u73b0\u8fd9\u4e9b\u529f\u80fd\u7684\u4eba\u3002\u5982\u679c\u4f60\u60f3\u5e2e\u52a9\u5b9e\u73b0\u6216\u6d4b\u8bd5\u4e00\u4e2a\u65b0\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u5728 Klipper \u793e\u533a\u8bba\u575b \u4e2d\u641c\u7d22\u6b63\u5728\u8fdb\u884c\u7684\u5f00\u53d1\u8fdb\u7a0b\u3002\u8fd8\u6709 Klipper Discord \u804a\u5929\u5ba4 \u4f9b\u5408\u4f5c\u8005\u4e4b\u95f4\u8ba8\u8bba\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u521b\u5efa\u8bae\u9898\u6765\u8bf7\u6c42\u529f\u80fd\u3002","title":"\u6211\u6709\u4e00\u4e2a\u529f\u80fd\u8bf7\u6c42"},{"location":"Contact.html#_4","text":"\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u4eec\u6536\u5230\u7684\u5e2e\u52a9\u8bf7\u6c42\u5f80\u5f80\u6bd4\u6211\u4eec\u80fd\u591f\u56de\u7b54\u7684\u8981\u591a\u3002\u6211\u4eec\u53d1\u73b0\u5927\u591a\u6570\u95ee\u9898\u62a5\u544a\u7684\u6839\u672c\u539f\u56e0\u90fd\u662f\uff1a \u7ec6\u5fae\u7684\u786c\u4ef6\u95ee\u9898\u6216 \u672a\u9075\u5faa Klipper \u6587\u6863\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u6b65\u9aa4\u3002 \u5982\u679c\u60a8\u9047\u5230\u4e86\u95ee\u9898\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u4ed4\u7ec6\u9605\u8bfb Klipper \u6587\u6863 \u5e76\u518d\u6b21\u68c0\u67e5\u662f\u5426\u9075\u5faa\u4e86\u6240\u6709\u6b65\u9aa4\u3002 \u5982\u679c\u4f60\u9047\u5230\u4e86\u6253\u5370\u95ee\u9898\uff0c\u6211\u4eec\u5efa\u8bae\u4ed4\u7ec6\u68c0\u67e5\u6253\u5370\u673a\u7684\u786c\u4ef6\uff08\u6240\u6709\u63a5\u5934\u3001\u7535\u7ebf\u3001\u87ba\u4e1d\u7b49\uff09\uff0c\u786e\u8ba4\u6ca1\u6709\u4efb\u4f55\u5f02\u5e38\u3002\u6211\u4eec\u53d1\u73b0\u5927\u591a\u6570\u6253\u5370\u95ee\u9898\u90fd\u4e0e Klipper \u8f6f\u4ef6\u65e0\u5173\u3002\u5982\u679c\u4f60\u786e\u5b9e\u53d1\u73b0\u4e86\u6253\u5370\u673a\u786c\u4ef6\u7684\u95ee\u9898\uff0c\u5728\u4e00\u822c\u76843D\u6253\u5370\u8bba\u575b\u6216\u4e13\u95e8\u9488\u5bf9\u4f60\u7684\u6253\u5370\u673a\u786c\u4ef6\u7684\u8bba\u575b\u4e0a\u641c\u7d22\u901a\u5e38\u53ef\u4ee5\u5f97\u5230\u66f4\u597d\u7684\u7b54\u590d\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u533a\u8bba\u575b \u4e2d\u67e5\u627e\u7c7b\u4f3c\u7684\u95ee\u9898\u3002 \u5982\u679c\u4f60\u6709\u5174\u8da3\u4e0e\u5176\u4ed6 Klipper \u7528\u6237\u5206\u4eab\u4f60\u7684\u77e5\u8bc6\u548c\u7ecf\u9a8c\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u533a\u8bba\u575b \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u8fd9\u4e24\u4e2a\u793e\u533a\u90fd\u662f Klipper \u7528\u6237\u95f4\u8ba8\u8bba Klipper \u7684\u5730\u65b9\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u521b\u5efa\u8bae\u9898\u6765\u6c42\u52a9\u3002","title":"\u6211\u9700\u8981\u5e2e\u52a9\uff01\u5b83\u70b8\u4e86\uff01"},{"location":"Contact.html#klipper_1","text":"Klipper \u662f\u4e00\u4e2a\u5f00\u6e90\u9879\u76ee\uff0c\u6211\u4eec\u8bda\u631a\u7684\u611f\u8c22\u8d21\u732e\u8005\u4eec\u5728\u8f6f\u4ef6\u4e2d\u8bca\u65ad\u51fa\u9519\u8bef\u3002 \u4fee\u590dbug\u9700\u8981\u63d0\u4f9b\u4e00\u4e9b\u91cd\u8981\u7684\u4fe1\u606f\u3002\u8bf7\u9075\u5faa\u4ee5\u4e0b\u6b65\u9aa4\uff1a \u9996\u5148\u8981\u786e\u5b9a\u8fd9\u4e2a\u9519\u8bef\u662f\u5728 Klipper \u8f6f\u4ef6\u4e2d\u3002\u5982\u679c\u4f60\u5728\u60f3 \"\u6211\u6709\u4e00\u4e2a\u95ee\u9898\uff0c\u6211\u65e0\u6cd5\u627e\u51fa\u539f\u56e0\uff0c\u56e0\u6b64\u8fd9\u662f\u4e00\u4e2aKlipper\u7684\u9519\u8bef\"\uff0c\u90a3\u4e48 \u4e0d\u8981 \u521b\u5efa\u4e00\u4e2a Github \u8bae\u9898\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6709\u5174\u8da3\u4e14\u6709\u80fd\u529b\u7684\u4eba\u9700\u8981\u5148\u627e\u5230\u95ee\u9898\u7684\u6839\u6e90\u3002\u5982\u679c\u4f60\u60f3\u5206\u4eab\u4f60\u7684\u7814\u7a76\u7ed3\u679c\u6216\u68c0\u67e5\u5176\u4ed6\u7528\u6237\u662f\u5426\u9047\u5230\u7c7b\u4f3c\u7684\u95ee\u9898\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u641c\u7d22 Klipper \u793e\u533a\u8bba\u575b \u3002 \u8bf7\u786e\u4fdd\u60a8\u6b63\u5728\u8fd0\u884c https://github.com/Klipper3d/klipper \u7684\u672a\u4fee\u6539\u4ee3\u7801\u3002\u5982\u679c\u4ee3\u7801\u5df2\u88ab\u4fee\u6539\u6216\u4ece\u5176\u4ed6\u6765\u6e90\u83b7\u5f97\uff0c\u5219\u60a8\u9700\u8981\u5728\u62a5\u544a\u95ee\u9898\u4e4b\u524d\u5148\u5728 https://github.com/Klipper3d/klipper \u83b7\u53d6\u7684\u672a\u4fee\u6539\u7684\u4ee3\u7801\u4e0a\u91cd\u73b0\u95ee\u9898\u3002 \u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u5728\u4e0d\u671f\u671b\u7684\u4e8b\u4ef6\u53d1\u751f\u540e\uff0c\u7acb\u5373\u5728 OctoPrint \u7ec8\u7aef\u7a97\u53e3\u8fd0\u884c\u4e00\u4e2a M112 \u547d\u4ee4\u3002\u8fd9\u5c06\u4f7f Klipper \u8fdb\u5165 \"\u5173\u95ed\"(shutdown)\u72b6\u6001\uff0c\u5e76\u5728\u65e5\u5fd7\u6587\u4ef6\u4e2d\u5199\u5165\u989d\u5916\u7684\u8c03\u8bd5\u4fe1\u606f\u3002 \u83b7\u53d6\u4e8b\u4ef6\u53d1\u9001\u65f6\u7684 Klipper \u65e5\u5fd7\u6587\u4ef6\u3002\u8be5\u65e5\u5fd7\u6587\u4ef6\u5df2\u88ab\u8bbe\u8ba1\u7528\u6765\u7ed9 Klipper \u5f00\u53d1\u4eba\u5458\u63d0\u4f9b\u5173\u4e8e\u8f6f\u4ef6\u53ca\u5176\u8fd0\u884c\u73af\u5883\u7684\u5e38\u89c1\u95ee\u9898\uff08\u8f6f\u4ef6\u7248\u672c\u3001\u786c\u4ef6\u7c7b\u578b\u3001\u914d\u7f6e\u3001\u4e8b\u4ef6\u65f6\u95f4\u548c\u6570\u767e\u4e2a\u5176\u4ed6\u95ee\u9898\uff09\u3002 Klipper \u65e5\u5fd7\u6587\u4ef6\u4f4d\u4e8e Klipper \"\u4e3b\u673a\"\uff08\u6811\u8393\u6d3e\uff09\u7684 /tmp/klippy.log \u6587\u4ef6\u4e2d\u3002 \u4f60\u9700\u8981\u7528\u201cscp\u201d\u6216\u201csftp\u201d\u7a0b\u5e8f\u5c06\u6b64\u65e5\u5fd7\u6587\u4ef6\u590d\u5236\u5230\u60a8\u7684\u8ba1\u7b97\u673a\u3002 \u201cscp\u201d\u7a0b\u5e8f\u662f Linux \u548c MacOS \u7cfb\u7edf\u7684\u6807\u51c6\u914d\u7f6e\u3002\u5176\u4ed6\u7cfb\u7edf\u4e5f\u901a\u5e38\u6709\u53ef\u7528\u7684 scp \u5b9e\u7528\u7a0b\u5e8f\uff08\u4f8b\u5982 WinSCP\uff09\u3002\u5982\u679c\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u7684 scp \u7a0b\u5e8f\u65e0\u6cd5\u76f4\u63a5\u590d\u5236 /tmp/klippy.log \uff0c\u53ef\u4ee5\u5c1d\u8bd5\u91cd\u590d\u70b9\u51fb .. \u6216\u8005 parent folder \uff08\u7236\u6587\u4ef6\u5939\uff09\u76f4\u5230\u8fdb\u5165\u6839\u76ee\u5f55\uff0c\u518d\u70b9\u51fb tmp \u6587\u4ef6\u5939\uff0c\u7136\u540e\u9009\u62e9 klippy.log \u6587\u4ef6\u3002 \u5c06\u65e5\u5fd7\u6587\u4ef6\u590d\u5236\u5230\u4f60\u7684\u7535\u8111\uff0c\u4ee5\u4fbf\u5c06\u5176\u4e0a\u4f20\u5230\u95ee\u9898\u62a5\u544a\u4e2d\u3002 \u4e0d\u8981\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fee\u6539\u65e5\u5fd7\u6587\u4ef6\uff1b\u4e0d\u8981\u53ea\u63d0\u4f9b\u65e5\u5fd7\u7684\u7247\u6bb5\u3002\u53ea\u6709\u5b8c\u6574\u7684\u672a\u4fee\u6539\u7684\u65e5\u5fd7\u6587\u4ef6\u624d\u80fd\u591f\u63d0\u4f9b\u5fc5\u8981\u7684\u4fe1\u606f\u3002 \u5982\u679c\u65e5\u5fd7\u6587\u4ef6\u975e\u5e38\u5927\uff08\u4f8b\u5982\uff0c\u5927\u4e8e2MB\uff09\uff0c\u90a3\u4e48\u53ef\u80fd\u9700\u8981\u7528 zip \u6216 gzip \u6765\u538b\u7f29\u65e5\u5fd7\u3002 \u5728 https://github.com/Klipper3d/klipper/issues \u5f00\u4e00\u4e2a\u65b0\u7684GitHub\u8bae\u9898\uff0c\u5e76\u5bf9\u95ee\u9898\u8fdb\u884c\u6e05\u6670\u7684\u63cf\u8ff0\u3002Klipper \u5f00\u53d1\u8005\u9700\u8981\u4e86\u89e3\u4f60\u91c7\u53d6\u4e86\u54ea\u4e9b\u6b65\u9aa4\uff0c\u671f\u671b\u7684\u7ed3\u679c\u662f\u4ec0\u4e48\uff0c\u4ee5\u53ca\u5b9e\u9645\u53d1\u751f\u4e86\u4ec0\u4e48\u7ed3\u679c\u3002Klipper \u7684\u65e5\u5fd7\u6587\u4ef6 \u5fc5\u987b\u88ab\u6dfb\u52a0\u5230\u8bae\u9898\u9644\u4ef6 \uff1a","title":"\u6211\u5728 Klipper \u8f6f\u4ef6\u4e2d\u8bca\u65ad\u51fa\u4e86\u4e00\u4e2a\u7f3a\u9677"},{"location":"Contact.html#klipper_2","text":"Klipper \u662f\u5f00\u6e90\u8f6f\u4ef6\uff0c\u6211\u4eec\u975e\u5e38\u611f\u8c22\u65b0\u7684\u8d21\u732e\u3002 \u65b0\u7684\u8d21\u732e\uff08\u5305\u62ec\u4ee3\u7801\u548c\u6587\u6863\uff09\u9700\u8981\u901a\u8fc7\u62c9\u53d6\u8bf7\u6c42(PR)\u63d0\u4ea4\u3002\u91cd\u8981\u4fe1\u606f\u8bf7\u53c2\u89c1 \u8d21\u732e\u6587\u6863 \u3002 \u6709\u51e0\u4e2a \u5f00\u53d1\u4eba\u5458\u6587\u6863 \u3002\u5982\u679c\u4f60\u5bf9\u4ee3\u7801\u6709\u7591\u95ee\uff0c\u90a3\u4e48\u4f60\u4e5f\u53ef\u4ee5\u5728 Klipper\u793e\u533a\u8bba\u575b \u6216 Klipper\u793e\u533a Discord \u4e0a\u63d0\u95ee\u3002\u5982\u679c\u4f60\u60f3\u63d0\u4f9b\u4f60\u76ee\u524d\u7684\u8fdb\u5c55\u60c5\u51b5\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u5728 Github \u4e0a\u5f00\u4e00\u4e2a\u95ee\u9898\uff0c\u5199\u4e0a\u4f60\u7684\u4ee3\u7801\u7684\u4f4d\u7f6e\uff0c\u4fee\u6539\u7684\u6982\u8ff0\uff0c\u4ee5\u53ca\u5bf9\u5176\u76ee\u524d\u72b6\u6001\u7684\u63cf\u8ff0\u3002","title":"\u6211\u6b63\u5728\u8fdb\u884c\u4e00\u4e9b\u6211\u60f3\u6dfb\u52a0\u5230 Klipper \u4e2d\u7684\u6539\u8fdb"},{"location":"Debugging.html","text":"\u8c03\u8bd5 \u00b6 \u672c\u6587\u6863\u63cf\u8ff0\u4e86\u4e00\u4e9b Klipper \u8c03\u8bd5\u5de5\u5177\u3002 \u8fd0\u884c\u56de\u5f52\u6d4b\u8bd5 \u00b6 The main Klipper GitHub repository uses \"github actions\" to run a series of regression tests. It can be useful to run some of these tests locally. The source code \"whitespace check\" can be run with: ./scripts/check_whitespace.sh The Klippy regression test suite requires \"data dictionaries\" from many platforms. The easiest way to obtain them is to download them from github . Once the data dictionaries are downloaded, use the following to run the regression suite: tar xfz klipper-dict-20??????.tar.gz ~/klippy-env/bin/python ~/klipper/scripts/test_klippy.py -d dict/ ~/klipper/test/klippy/*.test \u624b\u52a8\u5411\u5fae\u63a7\u5236\u5668\u53d1\u9001\u547d\u4ee4 \u00b6 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e3b\u673aklippy.py\u8fdb\u7a0b\u4f1a\u88ab\u7528\u6765\u5c06gcode\u547d\u4ee4\u7ffb\u8bd1\u6210Klipper\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u7136\u800c\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u53d1\u9001\u8fd9\u4e9bMCU\u547d\u4ee4\uff08Klipper\u6e90\u4ee3\u7801\u4e2d\u6807\u6709DECL_COMMAND()\u5b8f\u7684\u51fd\u6570\uff09\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u8bf7\u8fd0\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py /tmp/pseudoserial \u8bf7\u53c2\u9605\u8be5\u5de5\u5177\u4e2d\u7684\"HELP\"\u547d\u4ee4\uff0c\u4ee5\u83b7\u5f97\u6709\u5173\u5176\u529f\u80fd\u7684\u66f4\u591a\u4fe1\u606f\u3002 \u4e00\u4e9b\u547d\u4ee4\u884c\u9009\u9879\u662f\u53ef\u7528\u7684\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u8fd0\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py --help \u5c06G\u4ee3\u7801\u6587\u4ef6\u8f6c\u6362\u4e3a\u5fae\u63a7\u5236\u5668\u547d\u4ee4 \u00b6 Klippy \u4e3b\u673a\u4ee3\u7801\u53ef\u4ee5\u5728\u6279\u5904\u7406\u6a21\u5f0f\u4e0b\u8fd0\u884c\u5e76\u751f\u6210G\u4ee3\u7801\u6587\u4ef6\u76f8\u5e94\u7684\u4f4e\u7ea7\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u8fd9\u4e9b\u4f4e\u7ea7\u547d\u4ee4\u53ef\u4ee5\u5e2e\u52a9\u4e86\u89e3\u4f4e\u7ea7\u786c\u4ef6\u7684\u64cd\u4f5c\u548c\u5728\u4fee\u6539\u4ee3\u7801\u540e\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u7684\u5dee\u5f02\u3002 \u8981\u5728\u6279\u5904\u7406\u6a21\u5f0f\u4e0b\u8fd0\u884c Klippy\uff0c\u9700\u8981\u9996\u5148\u751f\u6210\u5fae\u63a7\u5236\u5668\u7684\"\u6570\u636e\u5b57\u5178\"\u3002\u901a\u8fc7\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u6765\u83b7\u5f97 out/klipper.dict \u6587\u4ef6\uff1a make menuconfig make \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c\u53ef\u4ee5\u5728\u6279\u5904\u7406\u6a21\u5f0f\u4e0b\u8fd0\u884c Klipper\uff08\u8bf7\u53c2\u9605 \u5b89\u88c5 \u4ee5\u4e86\u89e3\u6784\u5efa Python \u865a\u62df\u73af\u5883(venv)\u548c printer.cfg \u6587\u4ef6\u6240\u9700\u7684\u6b65\u9aa4\uff09\uff1a ~/klippy-env/bin/python ./klippy/klippy.py ~/printer.cfg -i test.gcode -o test.serial -v -d out/klipper.dict \u4ee5\u4e0a\u547d\u4ee4\u5c06\u751f\u6210\u4e00\u4e2a\u5305\u542b\u4e8c\u8fdb\u5236\u4e32\u884c\u8f93\u51fa\u7684 test.serial \u6587\u4ef6\u3002\u8be5\u6587\u4ef6\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\u7ffb\u8bd1\u6210\u53ef\u8bfb\u6587\u672c\uff1a ~/klippy-env/bin/python ./klippy/parsedump.py out/klipper.dict test.serial > test.txt \u751f\u6210\u7684\u6587\u4ef6 test.txt \u5305\u542b\u53ef\u8bfb\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u5217\u8868\u3002 \u4e3a\u4e86\u4f7f\u6279\u5904\u7406\u6a21\u5f0f\u6b63\u5e38\u8fd0\u884c\uff0c\u4e00\u4e9b\u54cd\u5e94\u548c\u8bf7\u6c42\u547d\u4ee4\u88ab\u7981\u7528\u4e86\u3002\u56e0\u6b64\uff0c\u5b9e\u9645\u547d\u4ee4\u548c\u4e0a\u8ff0\u8f93\u51fa\u4e4b\u95f4\u4f1a\u6709\u4e00\u4e9b\u5dee\u5f02\u3002\u751f\u6210\u7684\u6570\u636e\u53ef\u4ee5\u7528\u4e8e\u6d4b\u8bd5\u548c\u68c0\u67e5\uff0c\u4f46\u662f\u5b83\u4e0d\u80fd\u88ab\u53d1\u9001\u5230\u771f\u6b63\u7684\u5fae\u63a7\u5236\u5668\u3002 Motion analysis and data logging \u00b6 Klipper supports logging its internal motion history, which can be later analyzed. To use this feature, Klipper must be started with the API Server enabled. Data logging is enabled with the data_logger.py tool. For example: ~/klipper/scripts/motan/data_logger.py /tmp/klippy_uds mylog This command will connect to the Klipper API Server, subscribe to status and motion information, and log the results. Two files are generated - a compressed data file and an index file (eg, mylog.json.gz and mylog.index.gz ). After starting the logging, it is possible to complete prints and other actions - the logging will continue in the background. When done logging, hit ctrl-c to exit from the data_logger.py tool. The resulting files can be read and graphed using the motan_graph.py tool. To generate graphs on a Raspberry Pi, a one time step is necessary to install the \"matplotlib\" package: sudo apt-get update sudo apt-get install python-matplotlib However, it may be more convenient to copy the data files to a desktop class machine along with the Python code in the scripts/motan/ directory. The motion analysis scripts should run on any machine with a recent version of Python and Matplotlib installed. Graphs can be generated with a command like the following: ~/klipper/scripts/motan/motan_graph.py mylog -o mygraph.png One can use the -g option to specify the datasets to graph (it takes a Python literal containing a list of lists). For example: ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)\"], [\"trapq(toolhead,accel)\"]]' The list of available datasets can be found using the -l option - for example: ~/klipper/scripts/motan/motan_graph.py -l It is also possible to specify matplotlib plot options for each dataset: ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)?color=red&alpha=0.4\"]]' Many matplotlib options are available; some examples are \"color\", \"label\", \"alpha\", and \"linestyle\". The motan_graph.py tool supports several other command-line options - use the --help option to see a list. It may also be convenient to view/modify the motan_graph.py script itself. The raw data logs produced by the data_logger.py tool follow the format described in the API Server . It may be useful to inspect the data with a Unix command like the following: gunzip < mylog.json.gz | tr '\\03' '\\n' | less \u751f\u6210\u8d1f\u8f7d\u56fe \u00b6 Klippy\u65e5\u5fd7\u6587\u4ef6\uff08/tmp/klippy.log\uff09\u5b58\u50a8\u4e86\u5173\u4e8e\u5e26\u5bbd\u3001\u5fae\u63a7\u5236\u5668\u8d1f\u8f7d\u548c\u4e3b\u673a\u7f13\u51b2\u533a\u8d1f\u8f7d\u7684\u7edf\u8ba1\u6570\u636e\u3002\u5728\u6253\u5370\u4e4b\u540e\uff0c\u7ed8\u5236\u8fd9\u4e9b\u7edf\u8ba1\u6570\u5b57\u53ef\u80fd\u4f1a\u5f88\u6709\u7528\u3002 \u4e3a\u4e86\u751f\u6210\u56fe\u5f62\uff0c\u6709\u5fc5\u8981\u5b89\u88c5\"matplotlib\"\u5305\uff1a sudo apt-get update sudo apt-get install python-matplotlib \u7136\u540e\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u751f\u6210\u56fe\u5f62\uff1a ~/klipper/scripts/graphstats.py /tmp/klippy.log -o loadgraph.png \u7136\u540e\u7ed3\u679c\u53ef\u4ee5\u901a\u8fc7 loadgraph.png \u67e5\u770b\u3002 \u53ef\u4ee5\u4ea7\u751f\u4e0d\u540c\u7684\u56fe\u8868\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u8fd0\u884c\uff1a ~/klipper/scripts/graphstats.py --help \u4eceklippy.log\u6587\u4ef6\u4e2d\u63d0\u53d6\u4fe1\u606f \u00b6 Klippy\u7684\u65e5\u5fd7\u6587\u4ef6\uff08/tmp/klippy.log\uff09\u4e5f\u5305\u542b\u8c03\u8bd5\u4fe1\u606f\u3002\u6709\u4e00\u4e2alogextract.py\u811a\u672c\uff0c\u5728\u5206\u6790\u5fae\u63a7\u5236\u5668\u505c\u673a\u6216\u7c7b\u4f3c\u95ee\u9898\u65f6\u53ef\u80fd\u5f88\u6709\u7528\u3002\u5b83\u901a\u5e38\u662f\u8fd9\u6837\u8fd0\u884c\u7684\uff1a mkdir work_directory cd work_directory cp /tmp/klippy.log . ~/klipper/scripts/logextract.py ./klippy.log \u8be5\u811a\u672c\u5c06\u63d0\u53d6\u6253\u5370\u673a\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u63d0\u53d6 MCU \u7684\u5173\u95ed\u4fe1\u606f\u3002\u6765\u81ea MCU \u5173\u95ed\u7684\u4fe1\u606f\u8f6c\u50a8\uff08\u5982\u679c\u5b58\u5728\u7684\u8bdd\uff09\u5c06\u6309\u65f6\u95f4\u6233\u91cd\u65b0\u6392\u5e8f\uff0c\u4ee5\u534f\u52a9\u8bca\u65ad\u56e0\u679c\u5173\u7cfb\u7684\u60c5\u51b5\u3002 \u7528 simulavr \u6d4b\u8bd5 \u00b6 simulavr \u5de5\u5177\u53ef\u4ee5\u6a21\u62df Atmel ATmega \u5fae\u63a7\u5236\u5668\u3002\u672c\u7ae0\u63cf\u8ff0\u4e86\u5982\u4f55\u901a\u8fc7simulavr\u8fd0\u884c\u6d4b\u8bd5gcode\u6587\u4ef6\u3002\u7531\u4e8e\u8be5\u5de5\u5177\u9700\u8981\u5927\u91cfcpu\u8d44\u6e90\uff0c\u5efa\u8bae\u5728\u53f0\u5f0f\u673a\uff08\u800c\u4e0d\u662f\u6811\u8393\u6d3e\uff09\u4e0a\u8fd0\u884c\u3002 To use simulavr, download the simulavr package and compile with python support. Note that the build system may need to have some packages (such as swig) installed in order to build the python module. git clone git://git.savannah.nongnu.org/simulavr.git cd simulavr make python make build Make sure a file like ./build/pysimulavr/_pysimulavr.*.so is present after the above compilation: ls ./build/pysimulavr/_pysimulavr.*.so This commmand should report a specific file (e.g. ./build/pysimulavr/_pysimulavr.cpython-39-x86_64-linux-gnu.so ) and not an error. If you are on a Debian-based system (Debian, Ubuntu, etc.) you can install the following packages and generate *.deb files for system-wide installation of simulavr: sudo apt update sudo apt install g++ make cmake swig rst2pdf help2man texinfo make cfgclean python debian sudo dpkg -i build/debian/python3-simulavr*.deb \u8981\u7f16\u8bd1Klipper\u4ee5\u4fbf\u5728simulavr\u4e2d\u4f7f\u7528\uff0c\u8bf7\u8fd0\u884c\uff1a cd /path/to/klipper make menuconfig and compile the micro-controller software for an AVR atmega644p and select SIMULAVR software emulation support. Then one can compile Klipper (run make ) and then start the simulation with: PYTHONPATH=/path/to/simulavr/build/pysimulavr/ ./scripts/avrsim.py out/klipper.elf Note that if you have installed python3-simulavr system-wide, you do not need to set PYTHONPATH , and can simply run the simulator as ./scripts/avrsim.py out/klipper.elf \u7136\u540e\uff0c\u5728\u53e6\u4e00\u4e2a\u7a97\u53e3\u4e2d\u8fd0\u884csimulavr\uff0c\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u5185\u5bb9\uff0c\u4ece\u4e00\u4e2a\u6587\u4ef6\uff08\u4f8b\u5982\uff0c\"test.gcode\"\uff09\u4e2d\u8bfb\u53d6gcode\uff0c\u7528Klippy\u5904\u7406\u5b83\uff0c\u5e76\u5c06\u5176\u53d1\u9001\u5230simulavr\u4e2d\u8fd0\u884c\u7684Klipper\uff08\u5173\u4e8e\u5efa\u7acbpython\u865a\u62df\u73af\u5883\u7684\u5fc5\u8981\u6b65\u9aa4\uff0c\u89c1 \u5b89\u88c5 \uff09\u3002 ~/klippy-env/bin/python ./klippy/klippy.py config/generic-simulavr.cfg -i test.gcode -v \u5728gtkwave\u4e2d\u4f7f\u7528simulavr \u00b6 simulavr\u7684\u4e00\u4e2a\u6709\u7528\u7684\u529f\u80fd\u662f\u5b83\u80fd\u591f\u521b\u5efa\u5177\u6709\u51c6\u786e\u4e8b\u4ef6\u65f6\u95f4\u7684\u4fe1\u53f7\u6ce2\u751f\u6210\u6587\u4ef6\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u8bf7\u6309\u7167\u4e0a\u9762\u7684\u6307\u793a\uff0c\u5728\u547d\u4ee4\u884c\u8fd0\u884cavrsim.py\u8bf7\u4f7f\u7528\uff1a PYTHONPATH=/path/to/simulavr/src/python/ ./scripts/avrsim.py out/klipper.elf -t PORTA.PORT,PORTC.PORT \u4ee5\u4e0a\u5c06\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6 avrsim.vcd \uff0c\u5176\u4e2d\u5305\u62ecPORTA\u548cPORTB\u4e0a\u7684GPIO\u7684\u6bcf\u4e2a\u53d8\u5316\u4fe1\u606f\u3002\u7136\u540e\u53ef\u4ee5\u7528gtkwave\u6765\u67e5\u770b\uff1a gtkwave avrsim.vcd","title":"\u8c03\u8bd5"},{"location":"Debugging.html#_1","text":"\u672c\u6587\u6863\u63cf\u8ff0\u4e86\u4e00\u4e9b Klipper \u8c03\u8bd5\u5de5\u5177\u3002","title":"\u8c03\u8bd5"},{"location":"Debugging.html#_2","text":"The main Klipper GitHub repository uses \"github actions\" to run a series of regression tests. It can be useful to run some of these tests locally. The source code \"whitespace check\" can be run with: ./scripts/check_whitespace.sh The Klippy regression test suite requires \"data dictionaries\" from many platforms. The easiest way to obtain them is to download them from github . Once the data dictionaries are downloaded, use the following to run the regression suite: tar xfz klipper-dict-20??????.tar.gz ~/klippy-env/bin/python ~/klipper/scripts/test_klippy.py -d dict/ ~/klipper/test/klippy/*.test","title":"\u8fd0\u884c\u56de\u5f52\u6d4b\u8bd5"},{"location":"Debugging.html#_3","text":"\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e3b\u673aklippy.py\u8fdb\u7a0b\u4f1a\u88ab\u7528\u6765\u5c06gcode\u547d\u4ee4\u7ffb\u8bd1\u6210Klipper\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u7136\u800c\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u53d1\u9001\u8fd9\u4e9bMCU\u547d\u4ee4\uff08Klipper\u6e90\u4ee3\u7801\u4e2d\u6807\u6709DECL_COMMAND()\u5b8f\u7684\u51fd\u6570\uff09\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u8bf7\u8fd0\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py /tmp/pseudoserial \u8bf7\u53c2\u9605\u8be5\u5de5\u5177\u4e2d\u7684\"HELP\"\u547d\u4ee4\uff0c\u4ee5\u83b7\u5f97\u6709\u5173\u5176\u529f\u80fd\u7684\u66f4\u591a\u4fe1\u606f\u3002 \u4e00\u4e9b\u547d\u4ee4\u884c\u9009\u9879\u662f\u53ef\u7528\u7684\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u8fd0\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py --help","title":"\u624b\u52a8\u5411\u5fae\u63a7\u5236\u5668\u53d1\u9001\u547d\u4ee4"},{"location":"Debugging.html#g","text":"Klippy \u4e3b\u673a\u4ee3\u7801\u53ef\u4ee5\u5728\u6279\u5904\u7406\u6a21\u5f0f\u4e0b\u8fd0\u884c\u5e76\u751f\u6210G\u4ee3\u7801\u6587\u4ef6\u76f8\u5e94\u7684\u4f4e\u7ea7\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u8fd9\u4e9b\u4f4e\u7ea7\u547d\u4ee4\u53ef\u4ee5\u5e2e\u52a9\u4e86\u89e3\u4f4e\u7ea7\u786c\u4ef6\u7684\u64cd\u4f5c\u548c\u5728\u4fee\u6539\u4ee3\u7801\u540e\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u7684\u5dee\u5f02\u3002 \u8981\u5728\u6279\u5904\u7406\u6a21\u5f0f\u4e0b\u8fd0\u884c Klippy\uff0c\u9700\u8981\u9996\u5148\u751f\u6210\u5fae\u63a7\u5236\u5668\u7684\"\u6570\u636e\u5b57\u5178\"\u3002\u901a\u8fc7\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u6765\u83b7\u5f97 out/klipper.dict \u6587\u4ef6\uff1a make menuconfig make \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c\u53ef\u4ee5\u5728\u6279\u5904\u7406\u6a21\u5f0f\u4e0b\u8fd0\u884c Klipper\uff08\u8bf7\u53c2\u9605 \u5b89\u88c5 \u4ee5\u4e86\u89e3\u6784\u5efa Python \u865a\u62df\u73af\u5883(venv)\u548c printer.cfg \u6587\u4ef6\u6240\u9700\u7684\u6b65\u9aa4\uff09\uff1a ~/klippy-env/bin/python ./klippy/klippy.py ~/printer.cfg -i test.gcode -o test.serial -v -d out/klipper.dict \u4ee5\u4e0a\u547d\u4ee4\u5c06\u751f\u6210\u4e00\u4e2a\u5305\u542b\u4e8c\u8fdb\u5236\u4e32\u884c\u8f93\u51fa\u7684 test.serial \u6587\u4ef6\u3002\u8be5\u6587\u4ef6\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\u7ffb\u8bd1\u6210\u53ef\u8bfb\u6587\u672c\uff1a ~/klippy-env/bin/python ./klippy/parsedump.py out/klipper.dict test.serial > test.txt \u751f\u6210\u7684\u6587\u4ef6 test.txt \u5305\u542b\u53ef\u8bfb\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u5217\u8868\u3002 \u4e3a\u4e86\u4f7f\u6279\u5904\u7406\u6a21\u5f0f\u6b63\u5e38\u8fd0\u884c\uff0c\u4e00\u4e9b\u54cd\u5e94\u548c\u8bf7\u6c42\u547d\u4ee4\u88ab\u7981\u7528\u4e86\u3002\u56e0\u6b64\uff0c\u5b9e\u9645\u547d\u4ee4\u548c\u4e0a\u8ff0\u8f93\u51fa\u4e4b\u95f4\u4f1a\u6709\u4e00\u4e9b\u5dee\u5f02\u3002\u751f\u6210\u7684\u6570\u636e\u53ef\u4ee5\u7528\u4e8e\u6d4b\u8bd5\u548c\u68c0\u67e5\uff0c\u4f46\u662f\u5b83\u4e0d\u80fd\u88ab\u53d1\u9001\u5230\u771f\u6b63\u7684\u5fae\u63a7\u5236\u5668\u3002","title":"\u5c06G\u4ee3\u7801\u6587\u4ef6\u8f6c\u6362\u4e3a\u5fae\u63a7\u5236\u5668\u547d\u4ee4"},{"location":"Debugging.html#motion-analysis-and-data-logging","text":"Klipper supports logging its internal motion history, which can be later analyzed. To use this feature, Klipper must be started with the API Server enabled. Data logging is enabled with the data_logger.py tool. For example: ~/klipper/scripts/motan/data_logger.py /tmp/klippy_uds mylog This command will connect to the Klipper API Server, subscribe to status and motion information, and log the results. Two files are generated - a compressed data file and an index file (eg, mylog.json.gz and mylog.index.gz ). After starting the logging, it is possible to complete prints and other actions - the logging will continue in the background. When done logging, hit ctrl-c to exit from the data_logger.py tool. The resulting files can be read and graphed using the motan_graph.py tool. To generate graphs on a Raspberry Pi, a one time step is necessary to install the \"matplotlib\" package: sudo apt-get update sudo apt-get install python-matplotlib However, it may be more convenient to copy the data files to a desktop class machine along with the Python code in the scripts/motan/ directory. The motion analysis scripts should run on any machine with a recent version of Python and Matplotlib installed. Graphs can be generated with a command like the following: ~/klipper/scripts/motan/motan_graph.py mylog -o mygraph.png One can use the -g option to specify the datasets to graph (it takes a Python literal containing a list of lists). For example: ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)\"], [\"trapq(toolhead,accel)\"]]' The list of available datasets can be found using the -l option - for example: ~/klipper/scripts/motan/motan_graph.py -l It is also possible to specify matplotlib plot options for each dataset: ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)?color=red&alpha=0.4\"]]' Many matplotlib options are available; some examples are \"color\", \"label\", \"alpha\", and \"linestyle\". The motan_graph.py tool supports several other command-line options - use the --help option to see a list. It may also be convenient to view/modify the motan_graph.py script itself. The raw data logs produced by the data_logger.py tool follow the format described in the API Server . It may be useful to inspect the data with a Unix command like the following: gunzip < mylog.json.gz | tr '\\03' '\\n' | less","title":"Motion analysis and data logging"},{"location":"Debugging.html#_4","text":"Klippy\u65e5\u5fd7\u6587\u4ef6\uff08/tmp/klippy.log\uff09\u5b58\u50a8\u4e86\u5173\u4e8e\u5e26\u5bbd\u3001\u5fae\u63a7\u5236\u5668\u8d1f\u8f7d\u548c\u4e3b\u673a\u7f13\u51b2\u533a\u8d1f\u8f7d\u7684\u7edf\u8ba1\u6570\u636e\u3002\u5728\u6253\u5370\u4e4b\u540e\uff0c\u7ed8\u5236\u8fd9\u4e9b\u7edf\u8ba1\u6570\u5b57\u53ef\u80fd\u4f1a\u5f88\u6709\u7528\u3002 \u4e3a\u4e86\u751f\u6210\u56fe\u5f62\uff0c\u6709\u5fc5\u8981\u5b89\u88c5\"matplotlib\"\u5305\uff1a sudo apt-get update sudo apt-get install python-matplotlib \u7136\u540e\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u751f\u6210\u56fe\u5f62\uff1a ~/klipper/scripts/graphstats.py /tmp/klippy.log -o loadgraph.png \u7136\u540e\u7ed3\u679c\u53ef\u4ee5\u901a\u8fc7 loadgraph.png \u67e5\u770b\u3002 \u53ef\u4ee5\u4ea7\u751f\u4e0d\u540c\u7684\u56fe\u8868\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u8fd0\u884c\uff1a ~/klipper/scripts/graphstats.py --help","title":"\u751f\u6210\u8d1f\u8f7d\u56fe"},{"location":"Debugging.html#klippylog","text":"Klippy\u7684\u65e5\u5fd7\u6587\u4ef6\uff08/tmp/klippy.log\uff09\u4e5f\u5305\u542b\u8c03\u8bd5\u4fe1\u606f\u3002\u6709\u4e00\u4e2alogextract.py\u811a\u672c\uff0c\u5728\u5206\u6790\u5fae\u63a7\u5236\u5668\u505c\u673a\u6216\u7c7b\u4f3c\u95ee\u9898\u65f6\u53ef\u80fd\u5f88\u6709\u7528\u3002\u5b83\u901a\u5e38\u662f\u8fd9\u6837\u8fd0\u884c\u7684\uff1a mkdir work_directory cd work_directory cp /tmp/klippy.log . ~/klipper/scripts/logextract.py ./klippy.log \u8be5\u811a\u672c\u5c06\u63d0\u53d6\u6253\u5370\u673a\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u63d0\u53d6 MCU \u7684\u5173\u95ed\u4fe1\u606f\u3002\u6765\u81ea MCU \u5173\u95ed\u7684\u4fe1\u606f\u8f6c\u50a8\uff08\u5982\u679c\u5b58\u5728\u7684\u8bdd\uff09\u5c06\u6309\u65f6\u95f4\u6233\u91cd\u65b0\u6392\u5e8f\uff0c\u4ee5\u534f\u52a9\u8bca\u65ad\u56e0\u679c\u5173\u7cfb\u7684\u60c5\u51b5\u3002","title":"\u4eceklippy.log\u6587\u4ef6\u4e2d\u63d0\u53d6\u4fe1\u606f"},{"location":"Debugging.html#simulavr","text":"simulavr \u5de5\u5177\u53ef\u4ee5\u6a21\u62df Atmel ATmega \u5fae\u63a7\u5236\u5668\u3002\u672c\u7ae0\u63cf\u8ff0\u4e86\u5982\u4f55\u901a\u8fc7simulavr\u8fd0\u884c\u6d4b\u8bd5gcode\u6587\u4ef6\u3002\u7531\u4e8e\u8be5\u5de5\u5177\u9700\u8981\u5927\u91cfcpu\u8d44\u6e90\uff0c\u5efa\u8bae\u5728\u53f0\u5f0f\u673a\uff08\u800c\u4e0d\u662f\u6811\u8393\u6d3e\uff09\u4e0a\u8fd0\u884c\u3002 To use simulavr, download the simulavr package and compile with python support. Note that the build system may need to have some packages (such as swig) installed in order to build the python module. git clone git://git.savannah.nongnu.org/simulavr.git cd simulavr make python make build Make sure a file like ./build/pysimulavr/_pysimulavr.*.so is present after the above compilation: ls ./build/pysimulavr/_pysimulavr.*.so This commmand should report a specific file (e.g. ./build/pysimulavr/_pysimulavr.cpython-39-x86_64-linux-gnu.so ) and not an error. If you are on a Debian-based system (Debian, Ubuntu, etc.) you can install the following packages and generate *.deb files for system-wide installation of simulavr: sudo apt update sudo apt install g++ make cmake swig rst2pdf help2man texinfo make cfgclean python debian sudo dpkg -i build/debian/python3-simulavr*.deb \u8981\u7f16\u8bd1Klipper\u4ee5\u4fbf\u5728simulavr\u4e2d\u4f7f\u7528\uff0c\u8bf7\u8fd0\u884c\uff1a cd /path/to/klipper make menuconfig and compile the micro-controller software for an AVR atmega644p and select SIMULAVR software emulation support. Then one can compile Klipper (run make ) and then start the simulation with: PYTHONPATH=/path/to/simulavr/build/pysimulavr/ ./scripts/avrsim.py out/klipper.elf Note that if you have installed python3-simulavr system-wide, you do not need to set PYTHONPATH , and can simply run the simulator as ./scripts/avrsim.py out/klipper.elf \u7136\u540e\uff0c\u5728\u53e6\u4e00\u4e2a\u7a97\u53e3\u4e2d\u8fd0\u884csimulavr\uff0c\u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u5185\u5bb9\uff0c\u4ece\u4e00\u4e2a\u6587\u4ef6\uff08\u4f8b\u5982\uff0c\"test.gcode\"\uff09\u4e2d\u8bfb\u53d6gcode\uff0c\u7528Klippy\u5904\u7406\u5b83\uff0c\u5e76\u5c06\u5176\u53d1\u9001\u5230simulavr\u4e2d\u8fd0\u884c\u7684Klipper\uff08\u5173\u4e8e\u5efa\u7acbpython\u865a\u62df\u73af\u5883\u7684\u5fc5\u8981\u6b65\u9aa4\uff0c\u89c1 \u5b89\u88c5 \uff09\u3002 ~/klippy-env/bin/python ./klippy/klippy.py config/generic-simulavr.cfg -i test.gcode -v","title":"\u7528 simulavr \u6d4b\u8bd5"},{"location":"Debugging.html#gtkwavesimulavr","text":"simulavr\u7684\u4e00\u4e2a\u6709\u7528\u7684\u529f\u80fd\u662f\u5b83\u80fd\u591f\u521b\u5efa\u5177\u6709\u51c6\u786e\u4e8b\u4ef6\u65f6\u95f4\u7684\u4fe1\u53f7\u6ce2\u751f\u6210\u6587\u4ef6\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u8bf7\u6309\u7167\u4e0a\u9762\u7684\u6307\u793a\uff0c\u5728\u547d\u4ee4\u884c\u8fd0\u884cavrsim.py\u8bf7\u4f7f\u7528\uff1a PYTHONPATH=/path/to/simulavr/src/python/ ./scripts/avrsim.py out/klipper.elf -t PORTA.PORT,PORTC.PORT \u4ee5\u4e0a\u5c06\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6 avrsim.vcd \uff0c\u5176\u4e2d\u5305\u62ecPORTA\u548cPORTB\u4e0a\u7684GPIO\u7684\u6bcf\u4e2a\u53d8\u5316\u4fe1\u606f\u3002\u7136\u540e\u53ef\u4ee5\u7528gtkwave\u6765\u67e5\u770b\uff1a gtkwave avrsim.vcd","title":"\u5728gtkwave\u4e2d\u4f7f\u7528simulavr"},{"location":"Delta_Calibrate.html","text":"\u4e09\u89d2\u6821\u6b63 \u00b6 \u672c\u6587\u5c06\u4ecb\u7ecd\u5728Klipper\u4e2d\u5bf9\u201c\u4e09\u89d2\u6d32\u201d\u8fd0\u52a8\u6a21\u5f0f\u7684\u6253\u5370\u673a\u8fdb\u884c\u81ea\u52a8\u6821\u51c6\u7684\u64cd\u4f5c\u3002 \u4e09\u89d2\u6d32\u6821\u51c6\u5305\u542b\u786e\u5b9a\u67f1\u9650\u4f4d\u5f00\u5173\u4f4d\u7f6e\uff08tower endstop positions\uff09\uff0c\u67f1\u5939\u89d2\uff08 tower angles\uff09\uff0c\u4e09\u89d2\u534a\u5f84\uff08delta radius\uff09\u548c\u60ac\u81c2\u957f\u5ea6\u56db\u4e2a\u53c2\u6570\uff08delta arm lengths\uff09\u3002\u4e0a\u8ff0\u53c2\u6570\u5c06\u7528\u4e8e\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u8fd0\u52a8\u63a7\u5236\u3002\u7136\u800c\uff0c\u7531\u4e8e\u6bcf\u4e2a\u7684\u5f71\u54cd\u5e76\u975e\u663e\u800c\u6613\u89c1\u6216\u5176\u5f71\u54cd\u5177\u6709\u975e\u7ebf\u6027\uff0c\u56e0\u6b64\u96be\u4ee5\u901a\u8fc7\u624b\u5de5\u6821\u6b63\u3002\u76f8\u5bf9\u800c\u8a00\uff0c\u8f6f\u4ef6\u6821\u6b63\u5728\u6570\u5206\u949f\u7684\u65f6\u95f4\u540e\u5c31\u53ef\u4ee5\u8fbe\u5230\u6781\u4f73\u7684\u6548\u679c\u3002\u81ea\u52a8\u6821\u6b63\u65e0\u9700\u589e\u52a0\u63a2\u9488\u3002 \u5f52\u6839\u5230\u5e95\uff0c\u4e09\u89d2\u6d32\u6821\u51c6\u4f9d\u8d56\u4e8e\u5404\u67f1\u7684\u9650\u4f4d\u5f00\u5173\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u5219\u53ef\u8003\u8651\u4f7f\u7528 \u65e0\u9650\u4f4d\u529f\u80fd \u4ee5\u63d0\u9ad8\u68c0\u6d4b\u7684\u51c6\u786e\u5ea6\u3002 \u81ea\u52a8\u6821\u51c6 vs \u624b\u52a8\u6821\u51c6 \u00b6 Klipper\u652f\u6301\u4f7f\u7528\u624b\u52a8\u63a2\u9ad8\u6216\u81ea\u52a8z\u63a2\u9488\u7684\u65b9\u6cd5\u8fdb\u884c\u4e09\u89d2\u6d32\u53c2\u6570\u6821\u51c6\u3002 \u5e02\u9762\u4e0a\u4f17\u591a\u7684\u4e09\u89d2\u6d32\u6253\u5370\u673a\u9644\u5e26\u4e86\u81ea\u52a8Z\u63a2\u9488\uff0c\u4f46\u8fd9\u4e9b\u63a2\u9488\u7684\u7cbe\u5ea6\u4e0d\u8db3\u3002\u7279\u522b\u5bf9\u4e8e\u4e09\u89d2\u6d32\uff0c\u81c2\u957f\u7684\u7ec6\u5fae\u5dee\u5f02\u4f1a\u5bfc\u81f4\u6548\u5e94\u5668\u503e\u659c\uff0c\u5bfc\u81f4\u6253\u5370\u6548\u679c\u4e00\u584c\u7cca\u6d82\u3002\u5982\u679c\u4f7f\u7528\u81ea\u52a8\u63a2\u9488\uff0c\u5219\u5148\u8fdb\u884c \u63a2\u9488\u6821\u51c6 \uff0c\u7136\u540e\u68c0\u67e5 \u63a2\u9488\u4f4d\u7f6e\u6f02\u79fb \u3002\u5982\u679c\u63a2\u9488\u7684\u504f\u5dee\u5927\u4e8e25\u5fae\u7c73\uff080.025mm\uff09\uff0c\u5219\u5e94\u4f7f\u7528\u624b\u52a8\u63a2\u9ad8\u3002\u624b\u52a8\u63a2\u9ad8\u53ea\u9700\u8981\u6570\u5206\u949f\u7684\u65f6\u95f4\uff0c\u5e76\u80fd\u6452\u5f03\u63a2\u9488\u5e26\u6765\u7684\u8bef\u5dee\u3002 \u5982\u679c\u4f7f\u7528\u7684\u63a2\u9488\u662f\u5b89\u88c5\u5728\u55b7\u5634\u7684\u4e00\u4fa7\uff08\u5373\uff0c\u63a2\u9488\u5bf9\u55b7\u5634\u5b58\u5728xy\u504f\u79fb\uff09\uff0c\u9700\u6ce8\u610f\u5728\u8fdb\u884c\u8fc7\u4e09\u89d2\u6d32\u6821\u51c6\u4e4b\u540e\u4f1a\u4f7f\u63a2\u9488\u6821\u51c6\u7684\u7ed3\u679c\u65e0\u6548\u3002\u8be5\u7c7b\u578b\u7684\u63a2\u9488\u5e76\u4e0d\u9002\u7528\u4e8e\u4e09\u89d2\u6d32\u6253\u5370\u673a\uff08\u56e0\u4e3a\u6548\u5e94\u5668\u503e\u659c\u4f1a\u5dee\u751f\u63a2\u9488\u4f4d\u7f6e\u6f02\u79fb\uff09\u3002\u5982\u679c\u4ecd\u4f7f\u7528\u4e0a\u8ff0\u7684\u63a2\u9488\uff0c\u5219\u9700\u5728\u4e09\u89d2\u6d32\u6821\u51c6\u6821\u51c6\u540e\u518d\u8fdb\u884c\u4e00\u6b21\u63a2\u9488\u6821\u51c6\u3002 \u7b80\u5355\u4e09\u89d2\u6d32\u6821\u51c6 \u00b6 \u901a\u8fc7DELTA_CALIBRATE \u547d\u4ee4\u53ef\u4ee5\u5728Klipper\u4e2d\u8fdb\u884c\u7b80\u5355\u4e09\u89d2\u6d32\u6821\u51c6\u3002\u8be5\u547d\u4ee4\u4f1a\u5bf9\u70ed\u5e8a\u4e0a\u76847\u4e2a\u4e0d\u540c\u7684\u4f4d\u7f6e\u8fdb\u884c\u63a2\u9ad8\uff0c\u5e76\u8ba1\u7b97\u9664\u67f1\u5939\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f84\u3002 \u8981\u8fdb\u884c\u6821\u51c6\uff0c\u9700\u8981\u5148\u63d0\u4f9b\u67f1\u5939\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f84\u7684\u521d\u59cb\u503c\uff0c\u8fd9\u4e9b\u503c\u5e94\u4e0e\u5b9e\u9645\u503c\u53ea\u6709\u51e0\u6beb\u7c73\u7684\u504f\u5dee\u3002\u5927\u591a\u4e09\u89d2\u6d32\u6253\u5370\u673a\u5957\u4ef6\u4f1a\u63d0\u4f9b\u8fd9\u4e9b\u503c\uff0c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8f93\u5165\u8fd9\u4e9b\u503c\u4f5c\u4e3a\u521d\u59cb\u914d\u7f6e\uff0c\u7136\u540e\u6309\u7167\u4e0b\u8ff0\u6b65\u9aa4\u8fd0\u884cDELTA_CALIBRATE \u3002\u5982\u679c\u65e0\u6cd5\u627e\u5230\u521d\u59cb\u503c\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u641c\u7d22 \u4e09\u89d2\u6d32\u6821\u51c6 \u6559\u7a0b\uff0c\u4f5c\u4e3a\u6d4b\u91cf\u7684\u4f9d\u636e\u3002 \u6821\u51c6\u671f\u95f4\uff0c\u6253\u5370\u673a\u9700\u8981\u5bf9\u70ed\u5e8a\u5916\u7684\u5e95\u677f\u8fdb\u884c\u63a2\u9ad8\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u8bbe\u7f6e\u4e2d\u7684 minimum_z_position=-5 \u4ee5\u5b9e\u73b0\u5e8a\u5916\u63a2\u9ad8\u3002\uff08\u6821\u51c6\u540e\u53ef\u4ee5\u5728\u8bbe\u7f6e\u4e2d\u79fb\u9664\u8be5\u9879\u3002\uff09 \u63a2\u9ad8\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a\u624b\u52a8\u63a2\u9ad8( DELTA_CALIBRATE METHOD=manual )\u548c\u81ea\u52a8\u63a2\u9ad8( DELTA_CALIBRATE )\u3002\u624b\u52a8\u63a2\u9ad8\u6a21\u5f0f\u4e0b\uff0c\u6253\u5370\u5934\u5c06\u4f1a\u79fb\u8fd1\u70ed\u5e8a\uff0c\u7136\u540e\u7b49\u5019\u7528\u6237\u4f7f\u7528 \"\u7eb8\u6d4b\u6cd5\" \u6d4b\u91cf\u7279\u5b9a\u4f4d\u7f6e\u4e0a\u7684\u55b7\u5634\u548c\u70ed\u5e8a\u7684\u4e4b\u95f4\u7684\u504f\u5dee\u503c\u3002 \u8fdb\u884c\u7b80\u5355\u6821\u51c6\uff0c\u8bf7\u786e\u4fdd\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86[delta_calibrate]\uff0c\u7136\u540e\u8fd0\u884c\u5de5\u5177\uff1a G28 DELTA_CALIBRATE METHOD=manual \u5728\u6d4b\u91cf\u4e867\u4e2a\u70b9\uff0c\u5e76\u8ba1\u7b97\u5f97\u51fa\u65b0\u4e09\u89d2\u6d32\u53c2\u6570\u540e\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u4fdd\u5b58\u53c2\u6570\uff1a SAVE_CONFIG \u7b80\u5355\u6821\u51c6\u83b7\u5f97\u7684\u53c2\u6570\uff0c\u5176\u51c6\u786e\u6027\u53ef\u4ee5\u6ee1\u8db3\u65e5\u5e38\u6253\u5370\u7684\u9700\u6c42\u3002\u5bf9\u4e8e\u65b0\u6253\u5370\u673a\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u6253\u5370\u51e0\u4e2a\u7b80\u5355\u6a21\u578b\uff0c\u786e\u5b9a\u529f\u80fd\u6b63\u5e38\u3002 \u8fdb\u9636\u4e09\u89d2\u6d32\u6821\u51c6 \u00b6 \u7b80\u5355\u4e09\u89d2\u6d32\u6821\u51c6\u83b7\u5f97\u7684\u4e09\u89d2\u6d32\u53c2\u6570\u53ef\u4ee5\u5f88\u597d\u5730\u4fee\u6b63\u55b7\u5634\u8ddd\u79bb\u4e4b\u7c7b\u95ee\u9898\u3002\u7136\u800c\uff0c\u8be5\u6a21\u5f0f\u4e0d\u80fd\u6821\u51c6X\uff0cY\u8f74\u4e0a\u7684\u51c6\u786e\u5ea6\u3002\u800c\u8fdb\u9636\u4e09\u89d2\u6d32\u6821\u51c6\u5219\u662f\u9488\u5bf9\u7ef4\u5ea6\u51c6\u786e\u6027\u5730\u95ee\u9898\u3002 \u6821\u51c6\u6d41\u7a0b\u9700\u8981\u6253\u5370\u4e00\u4e2a\u6d4b\u8bd5\u6a21\u578b\u5e76\u7528\u6e38\u6807\u5361\u5c3a\u6d4b\u91cf\u6a21\u578b\u7684\u5c3a\u5bf8\u3002 \u5728\u8fd0\u884c\u589e\u5f3a\u578b\u4e09\u89d2\u6d32\u6821\u51c6\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u8fd0\u884c\u57fa\u672c\u4e09\u89d2\u6d32\u6821\u51c6\uff08\u901a\u8fc7DELTA_CALIBRATE\u547d\u4ee4\uff09\u5e76\u4fdd\u5b58\u7ed3\u679c\uff08\u901a\u8fc7SAVE_CONFIG\u547d\u4ee4\uff09\u3002\u786e\u4fdd\u81ea\u4e0a\u6b21\u6267\u884c\u57fa\u672c\u4e09\u89d2\u6d32\u6821\u51c6\u4ee5\u6765\uff0c\u6253\u5370\u673a\u914d\u7f6e\u6216\u786c\u4ef6\u6ca1\u6709\u4efb\u4f55\u660e\u663e\u53d8\u5316\uff08\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u8bf7\u5728\u6253\u5370\u4e0b\u8ff0\u6d4b\u8bd5\u5bf9\u8c61\u4e4b\u524d\u91cd\u65b0\u8fd0\u884c \u57fa\u672c\u4e09\u89d2\u6d32\u6821\u51c6 \uff0c\u5305\u62ec\u8fd0\u884c SAVE_CONFIG\u3002\uff09 \u7528\u5207\u7247\u8f6f\u4ef6\u5bf9 docs/prints/calibrate_size.stl \u7684\u6a21\u578b\u8fdb\u884c\u5207\u7247\uff0c\u751f\u6210G-Code\u3002\u901f\u5ea6\u8bbe\u7f6e\u4f7f\u7528\u4f4e\u901f\uff08\u4f8b\u5982 40mm/s\uff09\u3002\u5982\u53ef\u80fd\u4f7f\u7528\u521a\u6027\u5851\u6599\uff08\u5982PLA\uff09\u3002\u6a21\u578b\u7684\u5916\u5f84\u4e3a140mm\u3002\u5982\u679c\u5c3a\u5bf8\u592a\u5927\u5219\u6309\u7167\u70ed\u5e8a\u5927\u5c0f\u8fdb\u884c\u7f29\u5c0f\uff08\u4f46\u5e94\u6ce8\u610fX\u548cY\u5e94\u6309\u6bd4\u4f8b\u8fdb\u884c\u7f29\u653e\uff09\u3002\u5982\u679c\u6253\u5370\u673a\u7684\u70ed\u5e8a\u8db3\u591f\u5927\uff0c\u4e5f\u53ef\u4ee5\u653e\u5927\u8be5\u6a21\u578b\u3002\u5927\u5c3a\u5bf8\u53ef\u4ee5\u63d0\u9ad8\u6d4b\u91cf\u7684\u51c6\u786e\u6027\uff0c\u4f46\u662f\u6a21\u578b\u7684\u5e8a\u9644\u7740\u5bf9\u6d4b\u91cf\u51c6\u786e\u6027\u5f71\u54cd\u66f4\u5927\u3002 \u6253\u5370\u6d4b\u8bd5\u6a21\u578b\u5e76\u7b49\u5f85\u5176\u5b8c\u5168\u51b7\u5374\u3002\u6253\u5370\u673a\u8bbe\u7f6e\u548c\u6821\u51c6\u6a21\u578b\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\uff08\u5373\uff0c\u5728\u6253\u5370\u6821\u51c6\u6a21\u578b\u540e\uff0c\u4e0d\u8981\u518d\u8fdb\u884cDELTA_CALIBRATE\u6216\u4fee\u6539\u6253\u5370\u673a\u53c2\u6570\uff0c\u5426\u5219\u6a21\u578b\u6d4b\u91cf\u65e0\u6548\uff09\uff0c\u518d\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u3002 \u5982\u53ef\u80fd\uff0c\u5728\u6a21\u578b\u9ecf\u7740\u5728\u5e8a\u4e0a\u8fdb\u884c\u6d4b\u91cf\uff0c\u4f46\u82e5\u6a21\u578b\u8131\u79bb\u70ed\u5e8a\u4e5f\u6ca1\u6709\u5173\u7cfb\u2014\u2014\u8fd9\u6b65\u9aa4\u53ea\u662f\u4e3a\u4e86\u51cf\u5c11\u6a21\u578b\u7684\u5f2f\u66f2\u3002 \u9996\u5148\u6d4b\u91cf\u4e2d\u5fc3\u67f1\u5230\u5370\u6709\u201cA\u201d\u6807\u5fd7\u7684\u67f1\u7684\u8ddd\u79bb\uff08\u5373\u4e2d\u5fc3\u5230A\u67f1\u65b9\u5411\u7684\u8ddd\u79bb\uff09\u3002 \u4e4b\u540e\uff0c\u6309\u7167\u9006\u65f6\u9488\u65b9\u5411\u9010\u4e00\u6d4b\u91cf\u4e2d\u5fc3\u67f1\u5230\u8fb9\u6cbf\u67f1\u7684\u8ddd\u79bb\uff08\u4e2d\u5fc3\u5230C\u6807\u7b7e\u67f1\u7684\u8ddd\u79bb\uff0c\u4e2d\u5fc3\u5230B\u6807\u7b7e\u67f1\u7684\u8ddd\u79bb\u7b49\uff09\u3002 \u4ee5 \u9017\u53f7\u5206\u9694\u7684\u6d6e\u70b9\u6570 \u7684\u5f62\u5f0f\u5c06\u6570\u636e\u8f93\u5165\u5230Klipper\uff1a DELTA_ANALYZE CENTER_DISTS=<a_dist>,<far_c_dist>,<b_dist>,<far_a_dist>,<c_dist>,<far_b_dist> \u6570\u636e\u4e4b\u95f4\u4e0d\u8981\u63d2\u5165 \u7a7a\u683c \u3002 \u4e4b\u540e\u6d4b\u91cfA\u67f1\u548cC\u67f1\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002 \u4e4b\u540e\u6d4b\u91cfC\u67f1\u548cB\u67f1\uff0c\u4ee5\u53caB\u67f1\u548cA\u67f1\u4e4b\u95f4\u7684\u8ddd\u79bb\u7b49\u3002 \u5c06\u53c2\u6570\u8f93\u5165\u5230Klipper\uff1a DELTA_ANALYZE OUTER_DISTS=<a_to_far_c>,<far_c_to_b>,<b_to_far_a>,<far_a_to_c>,<c_to_far_b>,<far_b_to_a> \u6b64\u65f6\u53ef\u4ee5\u62c6\u9664\u5e8a\u4e0a\u7684\u6a21\u578b\u3002\u6700\u540e\u8981\u6d4b\u91cf\u7684\u662f\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6d4b\u91cf\u4e2d\u5fc3\u67f1\u5728A\u67f1\u65b9\u5411\u4e0a\uff0cB\u67f1\u65b9\u5411\u4e0a\u4ee5\u53caC\u67f1\u65b9\u5411\u4e0a\u7684\u5c3a\u5bf8\u3002 \u5c06\u7ed3\u679c\u8f93\u5165Klipper\uff1a DELTA_ANALYZE CENTER_PILLAR_WIDTHS=<a>,<b>,<c> \u7136\u540e\u4fa7\u5411\u5916\u4fa7\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6d4b\u91cfA\u67f1\u671d\u5411C\u67f1\u5185\u4fa7\u7684\u9762\u4e4b\u95f4\u7684\u5c3a\u5bf8\uff08\u89c1\u4e0b\u56fe\uff09\u3002 \u4e4b\u540e\u9006\u65f6\u9488\u9010\u4e00\u6d4b\u91cf\u5916\u5219\u67f1\u5b50\u7684\u5c3a\u5bf8\uff08\u6d4b\u91cfC\u67f1\u671d\u5411B\u67f1\u5185\u4fa7\u7684\u9762\u4e4b\u95f4\u7684\u5c3a\u5bf8\uff0c\u6d4b\u91cfB\u67f1\u671d\u5411A\u67f1\u5185\u4fa7\u7684\u9762\u4e4b\u95f4\u7684\u5c3a\u5bf8\u7b49\uff09\u3002 \u5e76\u5c06\u53c2\u6570\u8f93\u5165Klipper\uff1a DELTA_ANALYZE OUTER_PILLAR_WIDTHS=<a>,<far_c>,<b>,<far_a>,<c>,<far_b> \u5982\u679c\u6a21\u578b\u7ecf\u8fc7\u4e86\u7f29\u653e\uff0c\u5219\u8f93\u5165\u5207\u7247\u65f6\u4f7f\u7528\u7684\u7f29\u653e\u7cfb\u6570\uff1a DELTA_ANALYZE SCALE=1.0 \uff08\u8f93\u5165\u7cfb\u65702.0\u5219\u6a21\u578b\u88ab\u653e\u5927\u4e00\u500d\uff0c\u8f93\u5165\u7cfb\u65700.5\u5219\u6a21\u578b\u88ab\u7f29\u5c0f\u81f3\u4e00\u534a\u3002\uff09 \u6700\u540e\u8f93\u5165\u4e0b\u5217\u9762\u547d\u4ee4\u8fdb\u884c\u4e09\u89d2\u6821\u51c6\uff1a DELTA_ANALYZE CALIBRATE=extended \u8be5\u547d\u4ee4\u5c06\u8fdb\u884c\u6570\u5206\u949f\u7684\u8ba1\u7b97\u3002\u8ba1\u7b97\u5c06\u7ed9\u51fa\u4e09\u89d2\u6d32\u53c2\u6570\uff08\u4e09\u89d2\u534a\u5f84\uff0c\u67f1\u5939\u89d2\uff0c\u9650\u4f4d\u4f4d\u7f6e\uff0c\u81c2\u957f\uff09\u3002\u4e4b\u540e\u4f7f\u7528SAVE_CONFIG \u4fdd\u5b58\u5e76\u5e94\u7528\u7ed3\u679c\uff1a SAVE_CONFIG SAVE_CONFIG \u4f1a\u4fdd\u5b58\u8ba1\u7b97\u5e76\u66f4\u65b0\u540e\u7684\u4e09\u89d2\u53c2\u6570\u3002\u4e4b\u540e\u7684DELTA_CALIBRATE \u547d\u4ee4\u4e5f\u4f1a\u7ed9\u4e88\u8fdb\u9636\u8ba1\u7b97\u7684\u7ed3\u679c\u3002\u8bf7\u52ff\u5728SAVE_CONFIG \u91cd\u65b0\u8f93\u5165\u539f\u59cb\u6d4b\u91cf\u6570\u636e\uff0c\u56e0\u4e3a\u6b64\u65f6\u539f\u59cb\u6d4b\u91cf\u6570\u636e\u5df2\u4e0d\u4f1a\u5e94\u7528\u81f3\u4e09\u89d2\u53c2\u6570\u4e0a\u3002 \u989d\u5916\u8981\u70b9 \u00b6 \u5982\u679c\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u5c3a\u5bf8\u76f8\u5f53\u51c6\u786e\uff0c\u5219\u4e24\u67f1\u95f4\u7684\u8ddd\u79bb\u5e94\u8be5\u572874mm\u9644\u8fd1\uff0c\u5e76\u5404\u4e2a\u67f1\u5b50\u7684\u5c3a\u5bf8\u5e94\u4e3a9mm\uff08\u5373\u76ee\u6807\u4e3a\u67f1\u5b50\u9762\u5411\u53e6\u4e00\u67f1\u5b50\u7684\u4e00\u4fa7\u5230\u6240\u5411\u67f1\u5b50\u7684\u7edf\u4e00\u9762\u7684\u8ddd\u79bb\u4e3a65mm\uff09\u3002\u5982\u679c\u5c3a\u5bf8\u4e0d\u51c6\u786e\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7DELTA_ANALYZE \uff0c\u57fa\u4e8e\u4e4b\u524dDELTA_CALIBRATE \u83b7\u5f97\u7684\u9ad8\u5ea6\u6d4b\u91cf\u6570\u636e\u548c\u8ddd\u79bb\u6d4b\u91cf\u6570\u636e\u751f\u6210\u65b0\u7684\u4e09\u89d2\u53c2\u6570\u3002 DELTA_ANALYZE \u7684\u7ed3\u679c\u53ef\u80fd\u4e0d\u7b26\u5408\u903b\u8f91\u3002\u6bd4\u5982\uff0c\u5b83\u8ba1\u7b97\u51fa\u7684\u81c2\u957f\u53ef\u80fd\u4e8e\u6253\u5370\u673a\u7684\u5b9e\u9645\u81c2\u957f\u4e0d\u7b26\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u6d4b\u8bd5\u7ed3\u679c\u8868\u660e DELTA_ANALYZE \u603b\u80fd\u7ed9\u51fa\u51fa\u8272\u7684\u6253\u5370\u7ed3\u679c\u3002\u63a8\u6d4b\u8fd9\u662f\u56e0\u4e3a\u8ba1\u7b97\u4e09\u89d2\u53c2\u6570\u7684\u65f6\u5019\u5c06\u5176\u4ed6\u672a\u77e5\u7684\u5f71\u54cd\u53c2\u6570\u4e5f\u7eb3\u5165\u5230\u8ba1\u7b97\u8003\u8651\u3002\u4f8b\u5982\uff0c\u81c2\u957f\u7684\u7ec6\u5fae\u5dee\u5f02\u4f1a\u4f7f\u6548\u5e94\u5668\u503e\u659c\uff0c\u800c\u901a\u8fc7\u8c03\u8282\u81c2\u957f\u7684\u8ba1\u7b97\u57fa\u51c6\u53ef\u4ee5\u8865\u507f\u8fd9\u79cd\u5dee\u5f02\u3002 \u5728\u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\u4f7f\u7528\u5e8a\u7f51 \u00b6 \u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\u4e5f\u80fd\u4f7f\u7528 \u5e8a\u7f51 \u3002\u4f46\u662f\u5e94\u5728\u5f00\u542f\u5e8a\u7f51\u4e4b\u524d\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u4e09\u89d2\u6821\u51c6\u3002\u5728\u672a\u6821\u51c6\u7684\u6253\u5370\u673a\u4e0a\u4f7f\u7528\u5e8a\u7f51\u4f1a\u5f97\u51fa\u5947\u602a\u7684\u7ed3\u679c\u3002 \u6ce8\u610f\u8fdb\u884c\u4e09\u89d2\u6821\u6b63\u4f1a\u4f7f\u4e4b\u524d\u83b7\u5f97\u7684\u5e8a\u7f51\u6570\u636e\u65e0\u6548\u3002\u5e94\u5728\u8fdb\u884c\u4e09\u89d2\u6821\u6b63\u540e\u91cd\u65b0\u8fd0\u884cBED_MESH_CALIBRATE\u3002","title":"\u4e09\u89d2\u6821\u6b63"},{"location":"Delta_Calibrate.html#_1","text":"\u672c\u6587\u5c06\u4ecb\u7ecd\u5728Klipper\u4e2d\u5bf9\u201c\u4e09\u89d2\u6d32\u201d\u8fd0\u52a8\u6a21\u5f0f\u7684\u6253\u5370\u673a\u8fdb\u884c\u81ea\u52a8\u6821\u51c6\u7684\u64cd\u4f5c\u3002 \u4e09\u89d2\u6d32\u6821\u51c6\u5305\u542b\u786e\u5b9a\u67f1\u9650\u4f4d\u5f00\u5173\u4f4d\u7f6e\uff08tower endstop positions\uff09\uff0c\u67f1\u5939\u89d2\uff08 tower angles\uff09\uff0c\u4e09\u89d2\u534a\u5f84\uff08delta radius\uff09\u548c\u60ac\u81c2\u957f\u5ea6\u56db\u4e2a\u53c2\u6570\uff08delta arm lengths\uff09\u3002\u4e0a\u8ff0\u53c2\u6570\u5c06\u7528\u4e8e\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u8fd0\u52a8\u63a7\u5236\u3002\u7136\u800c\uff0c\u7531\u4e8e\u6bcf\u4e2a\u7684\u5f71\u54cd\u5e76\u975e\u663e\u800c\u6613\u89c1\u6216\u5176\u5f71\u54cd\u5177\u6709\u975e\u7ebf\u6027\uff0c\u56e0\u6b64\u96be\u4ee5\u901a\u8fc7\u624b\u5de5\u6821\u6b63\u3002\u76f8\u5bf9\u800c\u8a00\uff0c\u8f6f\u4ef6\u6821\u6b63\u5728\u6570\u5206\u949f\u7684\u65f6\u95f4\u540e\u5c31\u53ef\u4ee5\u8fbe\u5230\u6781\u4f73\u7684\u6548\u679c\u3002\u81ea\u52a8\u6821\u6b63\u65e0\u9700\u589e\u52a0\u63a2\u9488\u3002 \u5f52\u6839\u5230\u5e95\uff0c\u4e09\u89d2\u6d32\u6821\u51c6\u4f9d\u8d56\u4e8e\u5404\u67f1\u7684\u9650\u4f4d\u5f00\u5173\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u5219\u53ef\u8003\u8651\u4f7f\u7528 \u65e0\u9650\u4f4d\u529f\u80fd \u4ee5\u63d0\u9ad8\u68c0\u6d4b\u7684\u51c6\u786e\u5ea6\u3002","title":"\u4e09\u89d2\u6821\u6b63"},{"location":"Delta_Calibrate.html#vs","text":"Klipper\u652f\u6301\u4f7f\u7528\u624b\u52a8\u63a2\u9ad8\u6216\u81ea\u52a8z\u63a2\u9488\u7684\u65b9\u6cd5\u8fdb\u884c\u4e09\u89d2\u6d32\u53c2\u6570\u6821\u51c6\u3002 \u5e02\u9762\u4e0a\u4f17\u591a\u7684\u4e09\u89d2\u6d32\u6253\u5370\u673a\u9644\u5e26\u4e86\u81ea\u52a8Z\u63a2\u9488\uff0c\u4f46\u8fd9\u4e9b\u63a2\u9488\u7684\u7cbe\u5ea6\u4e0d\u8db3\u3002\u7279\u522b\u5bf9\u4e8e\u4e09\u89d2\u6d32\uff0c\u81c2\u957f\u7684\u7ec6\u5fae\u5dee\u5f02\u4f1a\u5bfc\u81f4\u6548\u5e94\u5668\u503e\u659c\uff0c\u5bfc\u81f4\u6253\u5370\u6548\u679c\u4e00\u584c\u7cca\u6d82\u3002\u5982\u679c\u4f7f\u7528\u81ea\u52a8\u63a2\u9488\uff0c\u5219\u5148\u8fdb\u884c \u63a2\u9488\u6821\u51c6 \uff0c\u7136\u540e\u68c0\u67e5 \u63a2\u9488\u4f4d\u7f6e\u6f02\u79fb \u3002\u5982\u679c\u63a2\u9488\u7684\u504f\u5dee\u5927\u4e8e25\u5fae\u7c73\uff080.025mm\uff09\uff0c\u5219\u5e94\u4f7f\u7528\u624b\u52a8\u63a2\u9ad8\u3002\u624b\u52a8\u63a2\u9ad8\u53ea\u9700\u8981\u6570\u5206\u949f\u7684\u65f6\u95f4\uff0c\u5e76\u80fd\u6452\u5f03\u63a2\u9488\u5e26\u6765\u7684\u8bef\u5dee\u3002 \u5982\u679c\u4f7f\u7528\u7684\u63a2\u9488\u662f\u5b89\u88c5\u5728\u55b7\u5634\u7684\u4e00\u4fa7\uff08\u5373\uff0c\u63a2\u9488\u5bf9\u55b7\u5634\u5b58\u5728xy\u504f\u79fb\uff09\uff0c\u9700\u6ce8\u610f\u5728\u8fdb\u884c\u8fc7\u4e09\u89d2\u6d32\u6821\u51c6\u4e4b\u540e\u4f1a\u4f7f\u63a2\u9488\u6821\u51c6\u7684\u7ed3\u679c\u65e0\u6548\u3002\u8be5\u7c7b\u578b\u7684\u63a2\u9488\u5e76\u4e0d\u9002\u7528\u4e8e\u4e09\u89d2\u6d32\u6253\u5370\u673a\uff08\u56e0\u4e3a\u6548\u5e94\u5668\u503e\u659c\u4f1a\u5dee\u751f\u63a2\u9488\u4f4d\u7f6e\u6f02\u79fb\uff09\u3002\u5982\u679c\u4ecd\u4f7f\u7528\u4e0a\u8ff0\u7684\u63a2\u9488\uff0c\u5219\u9700\u5728\u4e09\u89d2\u6d32\u6821\u51c6\u6821\u51c6\u540e\u518d\u8fdb\u884c\u4e00\u6b21\u63a2\u9488\u6821\u51c6\u3002","title":"\u81ea\u52a8\u6821\u51c6 vs \u624b\u52a8\u6821\u51c6"},{"location":"Delta_Calibrate.html#_2","text":"\u901a\u8fc7DELTA_CALIBRATE \u547d\u4ee4\u53ef\u4ee5\u5728Klipper\u4e2d\u8fdb\u884c\u7b80\u5355\u4e09\u89d2\u6d32\u6821\u51c6\u3002\u8be5\u547d\u4ee4\u4f1a\u5bf9\u70ed\u5e8a\u4e0a\u76847\u4e2a\u4e0d\u540c\u7684\u4f4d\u7f6e\u8fdb\u884c\u63a2\u9ad8\uff0c\u5e76\u8ba1\u7b97\u9664\u67f1\u5939\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f84\u3002 \u8981\u8fdb\u884c\u6821\u51c6\uff0c\u9700\u8981\u5148\u63d0\u4f9b\u67f1\u5939\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f84\u7684\u521d\u59cb\u503c\uff0c\u8fd9\u4e9b\u503c\u5e94\u4e0e\u5b9e\u9645\u503c\u53ea\u6709\u51e0\u6beb\u7c73\u7684\u504f\u5dee\u3002\u5927\u591a\u4e09\u89d2\u6d32\u6253\u5370\u673a\u5957\u4ef6\u4f1a\u63d0\u4f9b\u8fd9\u4e9b\u503c\uff0c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8f93\u5165\u8fd9\u4e9b\u503c\u4f5c\u4e3a\u521d\u59cb\u914d\u7f6e\uff0c\u7136\u540e\u6309\u7167\u4e0b\u8ff0\u6b65\u9aa4\u8fd0\u884cDELTA_CALIBRATE \u3002\u5982\u679c\u65e0\u6cd5\u627e\u5230\u521d\u59cb\u503c\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u641c\u7d22 \u4e09\u89d2\u6d32\u6821\u51c6 \u6559\u7a0b\uff0c\u4f5c\u4e3a\u6d4b\u91cf\u7684\u4f9d\u636e\u3002 \u6821\u51c6\u671f\u95f4\uff0c\u6253\u5370\u673a\u9700\u8981\u5bf9\u70ed\u5e8a\u5916\u7684\u5e95\u677f\u8fdb\u884c\u63a2\u9ad8\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u8bbe\u7f6e\u4e2d\u7684 minimum_z_position=-5 \u4ee5\u5b9e\u73b0\u5e8a\u5916\u63a2\u9ad8\u3002\uff08\u6821\u51c6\u540e\u53ef\u4ee5\u5728\u8bbe\u7f6e\u4e2d\u79fb\u9664\u8be5\u9879\u3002\uff09 \u63a2\u9ad8\u7684\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a\u624b\u52a8\u63a2\u9ad8( DELTA_CALIBRATE METHOD=manual )\u548c\u81ea\u52a8\u63a2\u9ad8( DELTA_CALIBRATE )\u3002\u624b\u52a8\u63a2\u9ad8\u6a21\u5f0f\u4e0b\uff0c\u6253\u5370\u5934\u5c06\u4f1a\u79fb\u8fd1\u70ed\u5e8a\uff0c\u7136\u540e\u7b49\u5019\u7528\u6237\u4f7f\u7528 \"\u7eb8\u6d4b\u6cd5\" \u6d4b\u91cf\u7279\u5b9a\u4f4d\u7f6e\u4e0a\u7684\u55b7\u5634\u548c\u70ed\u5e8a\u7684\u4e4b\u95f4\u7684\u504f\u5dee\u503c\u3002 \u8fdb\u884c\u7b80\u5355\u6821\u51c6\uff0c\u8bf7\u786e\u4fdd\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u4e86[delta_calibrate]\uff0c\u7136\u540e\u8fd0\u884c\u5de5\u5177\uff1a G28 DELTA_CALIBRATE METHOD=manual \u5728\u6d4b\u91cf\u4e867\u4e2a\u70b9\uff0c\u5e76\u8ba1\u7b97\u5f97\u51fa\u65b0\u4e09\u89d2\u6d32\u53c2\u6570\u540e\uff0c\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u4fdd\u5b58\u53c2\u6570\uff1a SAVE_CONFIG \u7b80\u5355\u6821\u51c6\u83b7\u5f97\u7684\u53c2\u6570\uff0c\u5176\u51c6\u786e\u6027\u53ef\u4ee5\u6ee1\u8db3\u65e5\u5e38\u6253\u5370\u7684\u9700\u6c42\u3002\u5bf9\u4e8e\u65b0\u6253\u5370\u673a\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u6253\u5370\u51e0\u4e2a\u7b80\u5355\u6a21\u578b\uff0c\u786e\u5b9a\u529f\u80fd\u6b63\u5e38\u3002","title":"\u7b80\u5355\u4e09\u89d2\u6d32\u6821\u51c6"},{"location":"Delta_Calibrate.html#_3","text":"\u7b80\u5355\u4e09\u89d2\u6d32\u6821\u51c6\u83b7\u5f97\u7684\u4e09\u89d2\u6d32\u53c2\u6570\u53ef\u4ee5\u5f88\u597d\u5730\u4fee\u6b63\u55b7\u5634\u8ddd\u79bb\u4e4b\u7c7b\u95ee\u9898\u3002\u7136\u800c\uff0c\u8be5\u6a21\u5f0f\u4e0d\u80fd\u6821\u51c6X\uff0cY\u8f74\u4e0a\u7684\u51c6\u786e\u5ea6\u3002\u800c\u8fdb\u9636\u4e09\u89d2\u6d32\u6821\u51c6\u5219\u662f\u9488\u5bf9\u7ef4\u5ea6\u51c6\u786e\u6027\u5730\u95ee\u9898\u3002 \u6821\u51c6\u6d41\u7a0b\u9700\u8981\u6253\u5370\u4e00\u4e2a\u6d4b\u8bd5\u6a21\u578b\u5e76\u7528\u6e38\u6807\u5361\u5c3a\u6d4b\u91cf\u6a21\u578b\u7684\u5c3a\u5bf8\u3002 \u5728\u8fd0\u884c\u589e\u5f3a\u578b\u4e09\u89d2\u6d32\u6821\u51c6\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u8fd0\u884c\u57fa\u672c\u4e09\u89d2\u6d32\u6821\u51c6\uff08\u901a\u8fc7DELTA_CALIBRATE\u547d\u4ee4\uff09\u5e76\u4fdd\u5b58\u7ed3\u679c\uff08\u901a\u8fc7SAVE_CONFIG\u547d\u4ee4\uff09\u3002\u786e\u4fdd\u81ea\u4e0a\u6b21\u6267\u884c\u57fa\u672c\u4e09\u89d2\u6d32\u6821\u51c6\u4ee5\u6765\uff0c\u6253\u5370\u673a\u914d\u7f6e\u6216\u786c\u4ef6\u6ca1\u6709\u4efb\u4f55\u660e\u663e\u53d8\u5316\uff08\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u8bf7\u5728\u6253\u5370\u4e0b\u8ff0\u6d4b\u8bd5\u5bf9\u8c61\u4e4b\u524d\u91cd\u65b0\u8fd0\u884c \u57fa\u672c\u4e09\u89d2\u6d32\u6821\u51c6 \uff0c\u5305\u62ec\u8fd0\u884c SAVE_CONFIG\u3002\uff09 \u7528\u5207\u7247\u8f6f\u4ef6\u5bf9 docs/prints/calibrate_size.stl \u7684\u6a21\u578b\u8fdb\u884c\u5207\u7247\uff0c\u751f\u6210G-Code\u3002\u901f\u5ea6\u8bbe\u7f6e\u4f7f\u7528\u4f4e\u901f\uff08\u4f8b\u5982 40mm/s\uff09\u3002\u5982\u53ef\u80fd\u4f7f\u7528\u521a\u6027\u5851\u6599\uff08\u5982PLA\uff09\u3002\u6a21\u578b\u7684\u5916\u5f84\u4e3a140mm\u3002\u5982\u679c\u5c3a\u5bf8\u592a\u5927\u5219\u6309\u7167\u70ed\u5e8a\u5927\u5c0f\u8fdb\u884c\u7f29\u5c0f\uff08\u4f46\u5e94\u6ce8\u610fX\u548cY\u5e94\u6309\u6bd4\u4f8b\u8fdb\u884c\u7f29\u653e\uff09\u3002\u5982\u679c\u6253\u5370\u673a\u7684\u70ed\u5e8a\u8db3\u591f\u5927\uff0c\u4e5f\u53ef\u4ee5\u653e\u5927\u8be5\u6a21\u578b\u3002\u5927\u5c3a\u5bf8\u53ef\u4ee5\u63d0\u9ad8\u6d4b\u91cf\u7684\u51c6\u786e\u6027\uff0c\u4f46\u662f\u6a21\u578b\u7684\u5e8a\u9644\u7740\u5bf9\u6d4b\u91cf\u51c6\u786e\u6027\u5f71\u54cd\u66f4\u5927\u3002 \u6253\u5370\u6d4b\u8bd5\u6a21\u578b\u5e76\u7b49\u5f85\u5176\u5b8c\u5168\u51b7\u5374\u3002\u6253\u5370\u673a\u8bbe\u7f6e\u548c\u6821\u51c6\u6a21\u578b\u5fc5\u987b\u4e00\u4e00\u5bf9\u5e94\uff08\u5373\uff0c\u5728\u6253\u5370\u6821\u51c6\u6a21\u578b\u540e\uff0c\u4e0d\u8981\u518d\u8fdb\u884cDELTA_CALIBRATE\u6216\u4fee\u6539\u6253\u5370\u673a\u53c2\u6570\uff0c\u5426\u5219\u6a21\u578b\u6d4b\u91cf\u65e0\u6548\uff09\uff0c\u518d\u6267\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u3002 \u5982\u53ef\u80fd\uff0c\u5728\u6a21\u578b\u9ecf\u7740\u5728\u5e8a\u4e0a\u8fdb\u884c\u6d4b\u91cf\uff0c\u4f46\u82e5\u6a21\u578b\u8131\u79bb\u70ed\u5e8a\u4e5f\u6ca1\u6709\u5173\u7cfb\u2014\u2014\u8fd9\u6b65\u9aa4\u53ea\u662f\u4e3a\u4e86\u51cf\u5c11\u6a21\u578b\u7684\u5f2f\u66f2\u3002 \u9996\u5148\u6d4b\u91cf\u4e2d\u5fc3\u67f1\u5230\u5370\u6709\u201cA\u201d\u6807\u5fd7\u7684\u67f1\u7684\u8ddd\u79bb\uff08\u5373\u4e2d\u5fc3\u5230A\u67f1\u65b9\u5411\u7684\u8ddd\u79bb\uff09\u3002 \u4e4b\u540e\uff0c\u6309\u7167\u9006\u65f6\u9488\u65b9\u5411\u9010\u4e00\u6d4b\u91cf\u4e2d\u5fc3\u67f1\u5230\u8fb9\u6cbf\u67f1\u7684\u8ddd\u79bb\uff08\u4e2d\u5fc3\u5230C\u6807\u7b7e\u67f1\u7684\u8ddd\u79bb\uff0c\u4e2d\u5fc3\u5230B\u6807\u7b7e\u67f1\u7684\u8ddd\u79bb\u7b49\uff09\u3002 \u4ee5 \u9017\u53f7\u5206\u9694\u7684\u6d6e\u70b9\u6570 \u7684\u5f62\u5f0f\u5c06\u6570\u636e\u8f93\u5165\u5230Klipper\uff1a DELTA_ANALYZE CENTER_DISTS=<a_dist>,<far_c_dist>,<b_dist>,<far_a_dist>,<c_dist>,<far_b_dist> \u6570\u636e\u4e4b\u95f4\u4e0d\u8981\u63d2\u5165 \u7a7a\u683c \u3002 \u4e4b\u540e\u6d4b\u91cfA\u67f1\u548cC\u67f1\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002 \u4e4b\u540e\u6d4b\u91cfC\u67f1\u548cB\u67f1\uff0c\u4ee5\u53caB\u67f1\u548cA\u67f1\u4e4b\u95f4\u7684\u8ddd\u79bb\u7b49\u3002 \u5c06\u53c2\u6570\u8f93\u5165\u5230Klipper\uff1a DELTA_ANALYZE OUTER_DISTS=<a_to_far_c>,<far_c_to_b>,<b_to_far_a>,<far_a_to_c>,<c_to_far_b>,<far_b_to_a> \u6b64\u65f6\u53ef\u4ee5\u62c6\u9664\u5e8a\u4e0a\u7684\u6a21\u578b\u3002\u6700\u540e\u8981\u6d4b\u91cf\u7684\u662f\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6d4b\u91cf\u4e2d\u5fc3\u67f1\u5728A\u67f1\u65b9\u5411\u4e0a\uff0cB\u67f1\u65b9\u5411\u4e0a\u4ee5\u53caC\u67f1\u65b9\u5411\u4e0a\u7684\u5c3a\u5bf8\u3002 \u5c06\u7ed3\u679c\u8f93\u5165Klipper\uff1a DELTA_ANALYZE CENTER_PILLAR_WIDTHS=<a>,<b>,<c> \u7136\u540e\u4fa7\u5411\u5916\u4fa7\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6d4b\u91cfA\u67f1\u671d\u5411C\u67f1\u5185\u4fa7\u7684\u9762\u4e4b\u95f4\u7684\u5c3a\u5bf8\uff08\u89c1\u4e0b\u56fe\uff09\u3002 \u4e4b\u540e\u9006\u65f6\u9488\u9010\u4e00\u6d4b\u91cf\u5916\u5219\u67f1\u5b50\u7684\u5c3a\u5bf8\uff08\u6d4b\u91cfC\u67f1\u671d\u5411B\u67f1\u5185\u4fa7\u7684\u9762\u4e4b\u95f4\u7684\u5c3a\u5bf8\uff0c\u6d4b\u91cfB\u67f1\u671d\u5411A\u67f1\u5185\u4fa7\u7684\u9762\u4e4b\u95f4\u7684\u5c3a\u5bf8\u7b49\uff09\u3002 \u5e76\u5c06\u53c2\u6570\u8f93\u5165Klipper\uff1a DELTA_ANALYZE OUTER_PILLAR_WIDTHS=<a>,<far_c>,<b>,<far_a>,<c>,<far_b> \u5982\u679c\u6a21\u578b\u7ecf\u8fc7\u4e86\u7f29\u653e\uff0c\u5219\u8f93\u5165\u5207\u7247\u65f6\u4f7f\u7528\u7684\u7f29\u653e\u7cfb\u6570\uff1a DELTA_ANALYZE SCALE=1.0 \uff08\u8f93\u5165\u7cfb\u65702.0\u5219\u6a21\u578b\u88ab\u653e\u5927\u4e00\u500d\uff0c\u8f93\u5165\u7cfb\u65700.5\u5219\u6a21\u578b\u88ab\u7f29\u5c0f\u81f3\u4e00\u534a\u3002\uff09 \u6700\u540e\u8f93\u5165\u4e0b\u5217\u9762\u547d\u4ee4\u8fdb\u884c\u4e09\u89d2\u6821\u51c6\uff1a DELTA_ANALYZE CALIBRATE=extended \u8be5\u547d\u4ee4\u5c06\u8fdb\u884c\u6570\u5206\u949f\u7684\u8ba1\u7b97\u3002\u8ba1\u7b97\u5c06\u7ed9\u51fa\u4e09\u89d2\u6d32\u53c2\u6570\uff08\u4e09\u89d2\u534a\u5f84\uff0c\u67f1\u5939\u89d2\uff0c\u9650\u4f4d\u4f4d\u7f6e\uff0c\u81c2\u957f\uff09\u3002\u4e4b\u540e\u4f7f\u7528SAVE_CONFIG \u4fdd\u5b58\u5e76\u5e94\u7528\u7ed3\u679c\uff1a SAVE_CONFIG SAVE_CONFIG \u4f1a\u4fdd\u5b58\u8ba1\u7b97\u5e76\u66f4\u65b0\u540e\u7684\u4e09\u89d2\u53c2\u6570\u3002\u4e4b\u540e\u7684DELTA_CALIBRATE \u547d\u4ee4\u4e5f\u4f1a\u7ed9\u4e88\u8fdb\u9636\u8ba1\u7b97\u7684\u7ed3\u679c\u3002\u8bf7\u52ff\u5728SAVE_CONFIG \u91cd\u65b0\u8f93\u5165\u539f\u59cb\u6d4b\u91cf\u6570\u636e\uff0c\u56e0\u4e3a\u6b64\u65f6\u539f\u59cb\u6d4b\u91cf\u6570\u636e\u5df2\u4e0d\u4f1a\u5e94\u7528\u81f3\u4e09\u89d2\u53c2\u6570\u4e0a\u3002","title":"\u8fdb\u9636\u4e09\u89d2\u6d32\u6821\u51c6"},{"location":"Delta_Calibrate.html#_4","text":"\u5982\u679c\u4e09\u89d2\u6d32\u6253\u5370\u673a\u7684\u5c3a\u5bf8\u76f8\u5f53\u51c6\u786e\uff0c\u5219\u4e24\u67f1\u95f4\u7684\u8ddd\u79bb\u5e94\u8be5\u572874mm\u9644\u8fd1\uff0c\u5e76\u5404\u4e2a\u67f1\u5b50\u7684\u5c3a\u5bf8\u5e94\u4e3a9mm\uff08\u5373\u76ee\u6807\u4e3a\u67f1\u5b50\u9762\u5411\u53e6\u4e00\u67f1\u5b50\u7684\u4e00\u4fa7\u5230\u6240\u5411\u67f1\u5b50\u7684\u7edf\u4e00\u9762\u7684\u8ddd\u79bb\u4e3a65mm\uff09\u3002\u5982\u679c\u5c3a\u5bf8\u4e0d\u51c6\u786e\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7DELTA_ANALYZE \uff0c\u57fa\u4e8e\u4e4b\u524dDELTA_CALIBRATE \u83b7\u5f97\u7684\u9ad8\u5ea6\u6d4b\u91cf\u6570\u636e\u548c\u8ddd\u79bb\u6d4b\u91cf\u6570\u636e\u751f\u6210\u65b0\u7684\u4e09\u89d2\u53c2\u6570\u3002 DELTA_ANALYZE \u7684\u7ed3\u679c\u53ef\u80fd\u4e0d\u7b26\u5408\u903b\u8f91\u3002\u6bd4\u5982\uff0c\u5b83\u8ba1\u7b97\u51fa\u7684\u81c2\u957f\u53ef\u80fd\u4e8e\u6253\u5370\u673a\u7684\u5b9e\u9645\u81c2\u957f\u4e0d\u7b26\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u6d4b\u8bd5\u7ed3\u679c\u8868\u660e DELTA_ANALYZE \u603b\u80fd\u7ed9\u51fa\u51fa\u8272\u7684\u6253\u5370\u7ed3\u679c\u3002\u63a8\u6d4b\u8fd9\u662f\u56e0\u4e3a\u8ba1\u7b97\u4e09\u89d2\u53c2\u6570\u7684\u65f6\u5019\u5c06\u5176\u4ed6\u672a\u77e5\u7684\u5f71\u54cd\u53c2\u6570\u4e5f\u7eb3\u5165\u5230\u8ba1\u7b97\u8003\u8651\u3002\u4f8b\u5982\uff0c\u81c2\u957f\u7684\u7ec6\u5fae\u5dee\u5f02\u4f1a\u4f7f\u6548\u5e94\u5668\u503e\u659c\uff0c\u800c\u901a\u8fc7\u8c03\u8282\u81c2\u957f\u7684\u8ba1\u7b97\u57fa\u51c6\u53ef\u4ee5\u8865\u507f\u8fd9\u79cd\u5dee\u5f02\u3002","title":"\u989d\u5916\u8981\u70b9"},{"location":"Delta_Calibrate.html#_5","text":"\u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\u4e5f\u80fd\u4f7f\u7528 \u5e8a\u7f51 \u3002\u4f46\u662f\u5e94\u5728\u5f00\u542f\u5e8a\u7f51\u4e4b\u524d\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u4e09\u89d2\u6821\u51c6\u3002\u5728\u672a\u6821\u51c6\u7684\u6253\u5370\u673a\u4e0a\u4f7f\u7528\u5e8a\u7f51\u4f1a\u5f97\u51fa\u5947\u602a\u7684\u7ed3\u679c\u3002 \u6ce8\u610f\u8fdb\u884c\u4e09\u89d2\u6821\u6b63\u4f1a\u4f7f\u4e4b\u524d\u83b7\u5f97\u7684\u5e8a\u7f51\u6570\u636e\u65e0\u6548\u3002\u5e94\u5728\u8fdb\u884c\u4e09\u89d2\u6821\u6b63\u540e\u91cd\u65b0\u8fd0\u884cBED_MESH_CALIBRATE\u3002","title":"\u5728\u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\u4f7f\u7528\u5e8a\u7f51"},{"location":"Endstop_Phase.html","text":"\u9650\u4f4d\u76f8\u4f4d \u00b6 \u8be5\u6587\u6863\u4ecb\u7ecd\u4e86Klipper\u7684\u6b65\u8fdb\u7535\u673a\u76f8\u6001\u6821\u51c6\u9650\u4f4d\u4f4d\u7f6e\u7684\u529f\u80fd\uff08\u4e0b\u79f0\uff1a\u76f8\u6001\u4fee\u6b63\uff09\u3002\u8be5\u529f\u80fd\u53ef\u4ee5\u589e\u5f3a\u4f20\u7edf\u9650\u4f4d\u5f00\u5173\u7684\u51c6\u786e\u6027\u3002\u4f7f\u7528\u5e26\u6709\u8fd0\u884c\u671f\u95f4\u8bbe\u7f6e\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\uff0c\u5982Trinamic\uff0c\u53ef\u53d1\u6325\u8be5\u529f\u80fd\u7684\u6700\u5927\u4f5c\u7528\u3002 \u5178\u578b\u7684\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u5728100\u5fae\u7c73\u5de6\u53f3\u3002\uff08\u6bcf\u6b21\u5f52\u96f6\u65f6\uff0c\u9650\u4f4d\u89e6\u53d1\u7684\u4f4d\u7f6e\u53ef\u6df1\u53ef\u6d45\u3002\uff09\u5c3d\u7ba1\u8be5\u8bef\u5dee\u5f88\u5c0f\uff0c\u4f46\u5b83\u786e\u65f6\u4f1a\u5f71\u54cd\u6253\u5370\u6548\u679c\u3002\u5bf9\u4e8e\u6a21\u578b\u7684\u9996\u5c42\u6253\u5370\u800c\u8a00\uff0c\u8be5\u7cbe\u5ea6\u4f1a\u6709\u660e\u663e\u7684\u5f71\u54cd\u3002\u76f8\u5bf9\u5730\uff0c\u6b65\u8fdb\u7535\u673a\u7684\u8fd0\u52a8\u7cbe\u5ea6\u663e\u7136\u66f4\u9ad8\u3002 \u76f8\u4f4d\u4fee\u6b63\u529f\u80fd\u53ef\u4ee5\u5229\u7528\u6b65\u8fdb\u7535\u673a\u7684\u7cbe\u5ea6\u63d0\u9ad8\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u3002 \u6b65\u8fdb\u7535\u673a\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u76f8\u4f4d\u5faa\u73af\u8fd0\u52a8\uff0c\u76f4\u5230\u5b8c\u6210\u56db\u4e2a \"\u5168\u6b65\"\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u4f7f\u752816\u5fae\u6b65\u7684\u6b65\u8fdb\u7535\u673a\uff0c\u201c\u5168\u6b65\u201d\u670964\u4e2a\u76f8\u4f4d\uff0c\u8fd0\u52a8\u65f6\u4f1a\u901a\u8fc70, 1, 2, ... 61, 62, 63, 0, 1, 2...\u7684\u76f8\u4f4d\u5faa\u73af\u3002\u6700\u91cd\u8981\u7684\u662f\uff0c\u5f53\u6b65\u8fdb\u7535\u673a\u5904\u4e8e\u7ebf\u6027\u8f68\u9053\u4e0a\u7684\u7279\u5b9a\u4f4d\u7f6e\u65f6\uff0c\u5b83\u5e94\u59cb\u7ec8\u5904\u4e8e\u540c\u4e00\u6b65\u8fdb\u76f8\u4f4d\u3002\u56e0\u6b64\uff0c\u5f53\u6ed1\u8f66\u89e6\u53d1\u9650\u4f4d\u5f00\u5173\u65f6\uff0c\u63a7\u5236\u8be5\u6ed1\u8f66\u7684\u6b65\u8fdb\u7535\u673a\u5e94\u59cb\u7ec8\u5904\u4e8e\u540c\u4e00\u76f8\u4f4d\u3002Klipper\u7684\u9650\u4f4d\u76f8\u4f4d\u7cfb\u7edf\u5c06\u6b65\u8fdb\u76f8\u4f4d\u4e0e\u9650\u4f4d\u5f00\u5173\u89e6\u53d1\u76f8\u7ed3\u5408\uff0c\u4ee5\u63d0\u9ad8\u5f52\u96f6\u7684\u51c6\u786e\u5b9a\u3002 \u4f7f\u7528\u8be5\u529f\u80fd\u9700\u8981\u786e\u5b9a\u6b65\u8fdb\u7535\u673a\u7684\u76f8\u4f4d\u3002\u5982\u679c\u4f7f\u7528 TMC2130, TMC2208, TMC2224 \u6216 TMC2660 \uff0c\u5e76\u8bbe\u7f6e\u4e3a \u8fd0\u884c\u65f6\u8bbe\u7f6e\u6a21\u5f0f\uff08\u5373\uff0c\u4e0d\u4f7f\u7528\u72ec\u7acb\uff08stand-alone\uff09\u6a21\u5f0f\uff09\uff0cKlipper\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\u5b83\u4eec\u83b7\u5f97\u76f8\u4f4d\u4fe1\u606f\u3002\uff08\u4f7f\u7528\u4f20\u7edf\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u5728\u53ef\u4ee5\u53ef\u9760\u5730\u91cd\u7f6e\u9a71\u52a8\u5730\u60c5\u51b5\u4e0b\uff0c\u4e5f\u80fd\u591f\u5b9e\u73b0\u76f8\u6001\u68c0\u6d4b\u529f\u80fd\u3002\uff09 \u6821\u51c6\u9650\u4f4d\u76f8\u4f4d \u00b6 \u5728\u4f7f\u7528Trinamic\u9a71\u52a8 \u5e76 \u4f7f\u7528\u4e86\u8fd0\u884c\u65f6\u8bbe\u7f6e\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528ENDSTOP_PHASE_CALIBRATE\u547d\u4ee4\u8fdb\u884c\u76f8\u4f4d\u4fee\u6b63\u3002\u9996\u5148\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u4e0b\u5217\u8bbe\u7f6e\uff1a [endstop_phase] \u4e4b\u540e\uff0c\u4f9d\u6b21\u6267\u884cRESTART \uff0c\u8fd0\u884c G28 \u548c ENDSTOP_PHASE_CALIBRATE \u3002\u5b8c\u6210\u540e\uff0c\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u4e00\u4e2a\u65b0\u4f4d\u7f6e\uff0c\u518d\u6267\u884c G28 \u3002\u91cd\u590d\u6570\u6b21\uff0c\u786e\u4fdd\u6bcf\u6b21\u6253\u5370\u5934\u5728\u4e0d\u540c\u5730\u4f4d\u7f6e\u6267\u884c G28 \u3002\u6700\u5c11\u5e94\u91cd\u590d\u4e0a\u8ff0\u79fb\u52a8- G28 \u64cd\u4f5c5\u6b21\u3002 \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u4f1a\u7ed9\u51fa\u76f8\u540c\u6216\u8fdb\u884c\u7684\u6b65\u8fdb\u7535\u673a\u76f8\u4f4d\u503c\u3002\u8be5\u503c\u53ef\u4ee5\u8f93\u5165\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u4e4b\u540eG28\u547d\u4ee4\u6267\u884c\u4f7f\u4f1a\u53c2\u8003\u8be5\u76f8\u4f4d\u6570\u636e\u3002\uff08\u6b64\u540e\uff0c\u5373\u4f7f\u9650\u4f4d\u5f00\u5173\u8fc7\u65e9\u6216\u8fc7\u665a\u89e6\u53d1\uff0cKlipper\u5728\u5f52\u96f6\u65f6\u4f1a\u83b7\u5f97\u8c03\u6574\u5230\u76f8\u540c\u7684\u76f8\u4f4d\u3002\uff09 \u8981\u4fdd\u5b58\u7279\u5b9a\u7535\u673a\u7684\u76f8\u4f4d\u4fee\u6b63\u4fe1\u606f\uff0c\u53ef\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a ENDSTOP_PHASE_CALIBRATE STEPPER=stepper_z \u53c2\u7167\u4e0a\u8ff0\u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u4fdd\u5b58\u60f3\u8981\u7684\u6b65\u8fdb\u7535\u673a\u4fe1\u606f\u3002\u901a\u5e38\uff0cstepper_z\u4f1a\u7528\u4e8e\u9f99\u95e8\u5f0f\u6216CoreXY\u5f0f\u6253\u5370\u673a\uff0c\u800cstepper_a\u3001stepper_b\u548cstepper_c\u5219\u7528\u4e8e\u4e09\u89d2\u6d32\u3002\u6700\u540e\u8fd0\u884c\u4e0b\u9762\u6570\u636e\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6\uff1a SAVE_CONFIG \u989d\u5916\u8981\u70b9 \u00b6 \u8be5\u529f\u80fd\u5728\u4e09\u89d2\u6d32\u6253\u5370\u673a\u548c\u4f7f\u7528Z\u9650\u4f4d\u7684\u9f99\u95e8/CoreXY\u6253\u5370\u673a\u4e0a\u6700\u4e3a\u9002\u7528\u3002\u8be5\u529f\u80fd\u4e5f\u53ef\u4ee5\u7528\u5728\u9f99\u95e8\u5f0f\u6253\u5370\u673a\u7684X\u3001Y\u8f74\u4e0a\uff0c\u4f46\uff0c\u7531\u4e8eX\u3001Y\u8f74\u7684\u9650\u4f4d\u504f\u5dee\u4e0d\u4f1a\u5bf9\u6253\u5370\u8d28\u91cf\u6709\u592a\u5927\u5f71\u54cd\uff0c\u56e0\u6b64\u91cd\u8981\u6027\u7565\u900a\u4e8eZ\u9650\u4f4d\u3002\u8be5\u529f\u80fd \u4e0d\u9002\u7528 \u4e8eCoreXY\u6253\u5370\u673a\u7684X\uff0cY\u8f74\u3002\uff08\u56e0\u4e3aXY\u4f4d\u7f6e\u5e76\u975e\u5355\u4e2a\u6b65\u8fdb\u7535\u673a\u51b3\u5b9a\u3002\uff09\u8be5\u529f\u80fd\u4e5f \u4e0d\u9002\u7528 \u4e8e\u9002\u7528\u63a2\u9488Z\u9650\u4f4d\u7684\u6253\u5370\u673a\uff08\u56e0\u4e3a\u6b65\u8fdb\u7535\u673a\u76f8\u4f4d\u4ec5\u5728\u56fa\u5b9a\u7ebf\u6027\u4f4d\u7f6e\u7684\u9650\u4f4d\u4e0a\u6709\u6548\u3002\uff09 \u5728\u9650\u4f4d\u5f00\u5173\u6821\u51c6\u540e\uff0c\u5982\u679c\u79fb\u52a8\u8fc7\u9650\u4f4d\u5f00\u5173\uff0c\u5219\u9700\u8981\u91cd\u65b0\u6821\u51c6\u76f8\u4f4d\u3002\u6b64\u65f6\u5e94\u5220\u9664\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u7684\u6821\u51c6\u503c\uff0c\u7136\u540e\u91cd\u65b0\u8fd0\u884c\u76f8\u4f4d\u4fee\u6b63\u3002 \u4e3a\u4f7f\u7528\u4e0a\u8ff0\u529f\u80fd\uff0c\u9650\u4f4d\u5f00\u5173\u5fc5\u7684\u504f\u5dee\u503c\u9700\u4f4e\u4e8e\u7279\u5b9a\u6b65\u8fdb\u7535\u673a\u7684\u4e24\u500d\u201c\u5168\u6b65\u957f\u201d\u7684\u8ddd\u79bb\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6b65\u8fdb\u7535\u673a\u4f7f\u752816\u5fae\u6b65\uff0c\u6b64\u65f6\u6bcf\u4e2a\u5fae\u6b65\u7684\u957f\u5ea6\u4e3a0.005mm\uff0c\u5219\u9650\u4f4d\u5f00\u5173\u7684\u5206\u8fa8\u80fd\u529b\u5e94\u4f4e\u4e8e0.160mm\u3002\u5982\u679c\u7cfb\u7edf\u53cd\u9988\"Endstop stepper_z incorrect phase\"\uff08stepper_z\u76f8\u4f4d\u4e0e\u9650\u4f4d\u5f00\u5173\u4e0d\u4e00\u81f4\uff09\u9519\u8bef\u4fe1\u606f\uff0c\u5219\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u592a\u5dee\u3002\u5982\u679c\u91cd\u65b0\u6821\u51c6\u672a\u80fd\u6d88\u9664\u62a5\u8b66\uff0c\u5219\u9700\u8981\u505c\u7528\u76f8\u4f4d\u6821\u51c6\u529f\u80fd\u3002 \u5982\u679c\u6253\u5370\u673a\u4f7f\u7528\u7684\u662f\u4f20\u7edf\u6b65\u8fdb\u7535\u673a\u63a7\u5236\u7684Z\u8f74\uff08\u5982\u9f99\u95e8\u6216CoreXY\u6253\u5370\u673a\uff09\uff0c\u540c\u65f6\u4f7f\u7528\u4e86\u4f20\u7edf\u7684\u87ba\u6bcd\u8c03\u5e73\u7684\u8bdd\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u76f8\u6001\u4fee\u6b63\u529f\u80fd\u5c06\u6253\u5370\u7684\u6bcf\u4e00\u5c42\u7684\u8fb9\u754c\u8bbe\u7f6e\u5230\u4e00\u4e2a\u201c\u5168\u6b65\u201d\u4e0a\u3002\u8981\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\u5219\u9700\u8981\u5728\u5207\u7247\u8f6f\u4ef6\u4e2d\u5c06\u5c42\u9ad8\u8bbe\u7f6e\u4e3a\u201c\u5168\u6b65\u201d\u7684\u6574\u500d\u6570\uff0c\u7136\u540e\u5728\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u7684endstop_phase \u7247\u6bb5\u4e2d\u589e\u52a0endstop_align_zero\u9009\u9879\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \uff09\uff0c\u7136\u540e\u901a\u8fc7\u8c03\u5e73\u87ba\u6bcd\u8c03\u5e73\u3002 \u8be5\u7cfb\u7edf\u4e5f\u6709\u53ef\u80fd\u7528\u4e8e\u4f20\u7edf(\u975eTrinamic)\u6b65\u8fdb\u7535\u673a\u9a71\u52a8 \u3002\u7136\u800c\uff0c\u8fd9\u9700\u8981\u6bcf\u6b21\u5fae\u63a7\u5236\u5668\u590d\u4f4d\u65f6\uff0c\u5bf9\u5e94\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u4e5f\u540c\u65f6\u590d\u4f4d\u3002\uff08\u5982\u679c\u4e24\u8005\u80fd\u5b9e\u73b0\u540c\u65f6\u590d\u4f4d\u7684\u8bdd\uff0cKlipper\u80fd\u591f\u901a\u8fc7\u8bb0\u5f55\u6b65\u8fdb\u7684\u603b\u79fb\u52a8\u6b65\u6570\u6765\u786e\u5b9a\u5176\u76f8\u4f4d\u3002\uff09\u76ee\u524d\uff0c\u80fd\u591f\u53ef\u9760\u5730\u5b8c\u6210\u5fae\u63a7\u5236\u5668\u548c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5730\u540c\u65f6\u590d\u4f4d\u5730\u65b9\u5f0f\u662f\uff0c\u8fd9\u4e24\u8005\u4ec5\u901a\u8fc7USB\u4f9b\u7535\u5e76USB\u7535\u6e90\u901a\u8fc7\u8fd0\u884c\u6709Klipper\u7684\u6811\u8393\u6d3e\u63d0\u4f9b\u3002\u6b64\u65f6\u53ef\u4ee5\u5728\u914d\u7f6e\u7684MCU\u7ae0\u8282\u4e2d\u6dfb\u52a0 \"restart_method: rpi_usb\"\uff0c\u8be5\u9009\u9879\u5c06\u5b89\u6392\u5fae\u63a7\u5236\u5668\u59cb\u7ec8\u901a\u8fc7USB\u7535\u6e90\u590d\u4f4d\uff0c\u5728\u4ec5\u4f7f\u7528USB\u4f9b\u7535\u65f6\uff0c\u8fd9\u5c06\u5b89\u6392\u5fae\u63a7\u5236\u5668\u548c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4e00\u8d77\u88ab\u590d\u4f4d\u3002\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u65f6\uff0c\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u624b\u52a8\u8bbe\u7f6e\"trigger_phase\"\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \uff09\u3002","title":"\u9650\u4f4d\u76f8\u4f4d"},{"location":"Endstop_Phase.html#_1","text":"\u8be5\u6587\u6863\u4ecb\u7ecd\u4e86Klipper\u7684\u6b65\u8fdb\u7535\u673a\u76f8\u6001\u6821\u51c6\u9650\u4f4d\u4f4d\u7f6e\u7684\u529f\u80fd\uff08\u4e0b\u79f0\uff1a\u76f8\u6001\u4fee\u6b63\uff09\u3002\u8be5\u529f\u80fd\u53ef\u4ee5\u589e\u5f3a\u4f20\u7edf\u9650\u4f4d\u5f00\u5173\u7684\u51c6\u786e\u6027\u3002\u4f7f\u7528\u5e26\u6709\u8fd0\u884c\u671f\u95f4\u8bbe\u7f6e\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\uff0c\u5982Trinamic\uff0c\u53ef\u53d1\u6325\u8be5\u529f\u80fd\u7684\u6700\u5927\u4f5c\u7528\u3002 \u5178\u578b\u7684\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u5728100\u5fae\u7c73\u5de6\u53f3\u3002\uff08\u6bcf\u6b21\u5f52\u96f6\u65f6\uff0c\u9650\u4f4d\u89e6\u53d1\u7684\u4f4d\u7f6e\u53ef\u6df1\u53ef\u6d45\u3002\uff09\u5c3d\u7ba1\u8be5\u8bef\u5dee\u5f88\u5c0f\uff0c\u4f46\u5b83\u786e\u65f6\u4f1a\u5f71\u54cd\u6253\u5370\u6548\u679c\u3002\u5bf9\u4e8e\u6a21\u578b\u7684\u9996\u5c42\u6253\u5370\u800c\u8a00\uff0c\u8be5\u7cbe\u5ea6\u4f1a\u6709\u660e\u663e\u7684\u5f71\u54cd\u3002\u76f8\u5bf9\u5730\uff0c\u6b65\u8fdb\u7535\u673a\u7684\u8fd0\u52a8\u7cbe\u5ea6\u663e\u7136\u66f4\u9ad8\u3002 \u76f8\u4f4d\u4fee\u6b63\u529f\u80fd\u53ef\u4ee5\u5229\u7528\u6b65\u8fdb\u7535\u673a\u7684\u7cbe\u5ea6\u63d0\u9ad8\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u3002 \u6b65\u8fdb\u7535\u673a\u901a\u8fc7\u4e00\u7cfb\u5217\u7684\u76f8\u4f4d\u5faa\u73af\u8fd0\u52a8\uff0c\u76f4\u5230\u5b8c\u6210\u56db\u4e2a \"\u5168\u6b65\"\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u4f7f\u752816\u5fae\u6b65\u7684\u6b65\u8fdb\u7535\u673a\uff0c\u201c\u5168\u6b65\u201d\u670964\u4e2a\u76f8\u4f4d\uff0c\u8fd0\u52a8\u65f6\u4f1a\u901a\u8fc70, 1, 2, ... 61, 62, 63, 0, 1, 2...\u7684\u76f8\u4f4d\u5faa\u73af\u3002\u6700\u91cd\u8981\u7684\u662f\uff0c\u5f53\u6b65\u8fdb\u7535\u673a\u5904\u4e8e\u7ebf\u6027\u8f68\u9053\u4e0a\u7684\u7279\u5b9a\u4f4d\u7f6e\u65f6\uff0c\u5b83\u5e94\u59cb\u7ec8\u5904\u4e8e\u540c\u4e00\u6b65\u8fdb\u76f8\u4f4d\u3002\u56e0\u6b64\uff0c\u5f53\u6ed1\u8f66\u89e6\u53d1\u9650\u4f4d\u5f00\u5173\u65f6\uff0c\u63a7\u5236\u8be5\u6ed1\u8f66\u7684\u6b65\u8fdb\u7535\u673a\u5e94\u59cb\u7ec8\u5904\u4e8e\u540c\u4e00\u76f8\u4f4d\u3002Klipper\u7684\u9650\u4f4d\u76f8\u4f4d\u7cfb\u7edf\u5c06\u6b65\u8fdb\u76f8\u4f4d\u4e0e\u9650\u4f4d\u5f00\u5173\u89e6\u53d1\u76f8\u7ed3\u5408\uff0c\u4ee5\u63d0\u9ad8\u5f52\u96f6\u7684\u51c6\u786e\u5b9a\u3002 \u4f7f\u7528\u8be5\u529f\u80fd\u9700\u8981\u786e\u5b9a\u6b65\u8fdb\u7535\u673a\u7684\u76f8\u4f4d\u3002\u5982\u679c\u4f7f\u7528 TMC2130, TMC2208, TMC2224 \u6216 TMC2660 \uff0c\u5e76\u8bbe\u7f6e\u4e3a \u8fd0\u884c\u65f6\u8bbe\u7f6e\u6a21\u5f0f\uff08\u5373\uff0c\u4e0d\u4f7f\u7528\u72ec\u7acb\uff08stand-alone\uff09\u6a21\u5f0f\uff09\uff0cKlipper\u53ef\u4ee5\u901a\u8fc7\u8bbf\u95ee\u5b83\u4eec\u83b7\u5f97\u76f8\u4f4d\u4fe1\u606f\u3002\uff08\u4f7f\u7528\u4f20\u7edf\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u5728\u53ef\u4ee5\u53ef\u9760\u5730\u91cd\u7f6e\u9a71\u52a8\u5730\u60c5\u51b5\u4e0b\uff0c\u4e5f\u80fd\u591f\u5b9e\u73b0\u76f8\u6001\u68c0\u6d4b\u529f\u80fd\u3002\uff09","title":"\u9650\u4f4d\u76f8\u4f4d"},{"location":"Endstop_Phase.html#_2","text":"\u5728\u4f7f\u7528Trinamic\u9a71\u52a8 \u5e76 \u4f7f\u7528\u4e86\u8fd0\u884c\u65f6\u8bbe\u7f6e\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528ENDSTOP_PHASE_CALIBRATE\u547d\u4ee4\u8fdb\u884c\u76f8\u4f4d\u4fee\u6b63\u3002\u9996\u5148\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u52a0\u5165\u4e0b\u5217\u8bbe\u7f6e\uff1a [endstop_phase] \u4e4b\u540e\uff0c\u4f9d\u6b21\u6267\u884cRESTART \uff0c\u8fd0\u884c G28 \u548c ENDSTOP_PHASE_CALIBRATE \u3002\u5b8c\u6210\u540e\uff0c\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u4e00\u4e2a\u65b0\u4f4d\u7f6e\uff0c\u518d\u6267\u884c G28 \u3002\u91cd\u590d\u6570\u6b21\uff0c\u786e\u4fdd\u6bcf\u6b21\u6253\u5370\u5934\u5728\u4e0d\u540c\u5730\u4f4d\u7f6e\u6267\u884c G28 \u3002\u6700\u5c11\u5e94\u91cd\u590d\u4e0a\u8ff0\u79fb\u52a8- G28 \u64cd\u4f5c5\u6b21\u3002 \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u4f1a\u7ed9\u51fa\u76f8\u540c\u6216\u8fdb\u884c\u7684\u6b65\u8fdb\u7535\u673a\u76f8\u4f4d\u503c\u3002\u8be5\u503c\u53ef\u4ee5\u8f93\u5165\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u4e4b\u540eG28\u547d\u4ee4\u6267\u884c\u4f7f\u4f1a\u53c2\u8003\u8be5\u76f8\u4f4d\u6570\u636e\u3002\uff08\u6b64\u540e\uff0c\u5373\u4f7f\u9650\u4f4d\u5f00\u5173\u8fc7\u65e9\u6216\u8fc7\u665a\u89e6\u53d1\uff0cKlipper\u5728\u5f52\u96f6\u65f6\u4f1a\u83b7\u5f97\u8c03\u6574\u5230\u76f8\u540c\u7684\u76f8\u4f4d\u3002\uff09 \u8981\u4fdd\u5b58\u7279\u5b9a\u7535\u673a\u7684\u76f8\u4f4d\u4fee\u6b63\u4fe1\u606f\uff0c\u53ef\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a ENDSTOP_PHASE_CALIBRATE STEPPER=stepper_z \u53c2\u7167\u4e0a\u8ff0\u547d\u4ee4\uff0c\u6211\u4eec\u53ef\u4ee5\u4fdd\u5b58\u60f3\u8981\u7684\u6b65\u8fdb\u7535\u673a\u4fe1\u606f\u3002\u901a\u5e38\uff0cstepper_z\u4f1a\u7528\u4e8e\u9f99\u95e8\u5f0f\u6216CoreXY\u5f0f\u6253\u5370\u673a\uff0c\u800cstepper_a\u3001stepper_b\u548cstepper_c\u5219\u7528\u4e8e\u4e09\u89d2\u6d32\u3002\u6700\u540e\u8fd0\u884c\u4e0b\u9762\u6570\u636e\u4fdd\u5b58\u914d\u7f6e\u6587\u4ef6\uff1a SAVE_CONFIG","title":"\u6821\u51c6\u9650\u4f4d\u76f8\u4f4d"},{"location":"Endstop_Phase.html#_3","text":"\u8be5\u529f\u80fd\u5728\u4e09\u89d2\u6d32\u6253\u5370\u673a\u548c\u4f7f\u7528Z\u9650\u4f4d\u7684\u9f99\u95e8/CoreXY\u6253\u5370\u673a\u4e0a\u6700\u4e3a\u9002\u7528\u3002\u8be5\u529f\u80fd\u4e5f\u53ef\u4ee5\u7528\u5728\u9f99\u95e8\u5f0f\u6253\u5370\u673a\u7684X\u3001Y\u8f74\u4e0a\uff0c\u4f46\uff0c\u7531\u4e8eX\u3001Y\u8f74\u7684\u9650\u4f4d\u504f\u5dee\u4e0d\u4f1a\u5bf9\u6253\u5370\u8d28\u91cf\u6709\u592a\u5927\u5f71\u54cd\uff0c\u56e0\u6b64\u91cd\u8981\u6027\u7565\u900a\u4e8eZ\u9650\u4f4d\u3002\u8be5\u529f\u80fd \u4e0d\u9002\u7528 \u4e8eCoreXY\u6253\u5370\u673a\u7684X\uff0cY\u8f74\u3002\uff08\u56e0\u4e3aXY\u4f4d\u7f6e\u5e76\u975e\u5355\u4e2a\u6b65\u8fdb\u7535\u673a\u51b3\u5b9a\u3002\uff09\u8be5\u529f\u80fd\u4e5f \u4e0d\u9002\u7528 \u4e8e\u9002\u7528\u63a2\u9488Z\u9650\u4f4d\u7684\u6253\u5370\u673a\uff08\u56e0\u4e3a\u6b65\u8fdb\u7535\u673a\u76f8\u4f4d\u4ec5\u5728\u56fa\u5b9a\u7ebf\u6027\u4f4d\u7f6e\u7684\u9650\u4f4d\u4e0a\u6709\u6548\u3002\uff09 \u5728\u9650\u4f4d\u5f00\u5173\u6821\u51c6\u540e\uff0c\u5982\u679c\u79fb\u52a8\u8fc7\u9650\u4f4d\u5f00\u5173\uff0c\u5219\u9700\u8981\u91cd\u65b0\u6821\u51c6\u76f8\u4f4d\u3002\u6b64\u65f6\u5e94\u5220\u9664\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u7684\u6821\u51c6\u503c\uff0c\u7136\u540e\u91cd\u65b0\u8fd0\u884c\u76f8\u4f4d\u4fee\u6b63\u3002 \u4e3a\u4f7f\u7528\u4e0a\u8ff0\u529f\u80fd\uff0c\u9650\u4f4d\u5f00\u5173\u5fc5\u7684\u504f\u5dee\u503c\u9700\u4f4e\u4e8e\u7279\u5b9a\u6b65\u8fdb\u7535\u673a\u7684\u4e24\u500d\u201c\u5168\u6b65\u957f\u201d\u7684\u8ddd\u79bb\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6b65\u8fdb\u7535\u673a\u4f7f\u752816\u5fae\u6b65\uff0c\u6b64\u65f6\u6bcf\u4e2a\u5fae\u6b65\u7684\u957f\u5ea6\u4e3a0.005mm\uff0c\u5219\u9650\u4f4d\u5f00\u5173\u7684\u5206\u8fa8\u80fd\u529b\u5e94\u4f4e\u4e8e0.160mm\u3002\u5982\u679c\u7cfb\u7edf\u53cd\u9988\"Endstop stepper_z incorrect phase\"\uff08stepper_z\u76f8\u4f4d\u4e0e\u9650\u4f4d\u5f00\u5173\u4e0d\u4e00\u81f4\uff09\u9519\u8bef\u4fe1\u606f\uff0c\u5219\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u592a\u5dee\u3002\u5982\u679c\u91cd\u65b0\u6821\u51c6\u672a\u80fd\u6d88\u9664\u62a5\u8b66\uff0c\u5219\u9700\u8981\u505c\u7528\u76f8\u4f4d\u6821\u51c6\u529f\u80fd\u3002 \u5982\u679c\u6253\u5370\u673a\u4f7f\u7528\u7684\u662f\u4f20\u7edf\u6b65\u8fdb\u7535\u673a\u63a7\u5236\u7684Z\u8f74\uff08\u5982\u9f99\u95e8\u6216CoreXY\u6253\u5370\u673a\uff09\uff0c\u540c\u65f6\u4f7f\u7528\u4e86\u4f20\u7edf\u7684\u87ba\u6bcd\u8c03\u5e73\u7684\u8bdd\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u76f8\u6001\u4fee\u6b63\u529f\u80fd\u5c06\u6253\u5370\u7684\u6bcf\u4e00\u5c42\u7684\u8fb9\u754c\u8bbe\u7f6e\u5230\u4e00\u4e2a\u201c\u5168\u6b65\u201d\u4e0a\u3002\u8981\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd\u5219\u9700\u8981\u5728\u5207\u7247\u8f6f\u4ef6\u4e2d\u5c06\u5c42\u9ad8\u8bbe\u7f6e\u4e3a\u201c\u5168\u6b65\u201d\u7684\u6574\u500d\u6570\uff0c\u7136\u540e\u5728\u8bbe\u7f6e\u6587\u4ef6\u4e2d\u7684endstop_phase \u7247\u6bb5\u4e2d\u589e\u52a0endstop_align_zero\u9009\u9879\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \uff09\uff0c\u7136\u540e\u901a\u8fc7\u8c03\u5e73\u87ba\u6bcd\u8c03\u5e73\u3002 \u8be5\u7cfb\u7edf\u4e5f\u6709\u53ef\u80fd\u7528\u4e8e\u4f20\u7edf(\u975eTrinamic)\u6b65\u8fdb\u7535\u673a\u9a71\u52a8 \u3002\u7136\u800c\uff0c\u8fd9\u9700\u8981\u6bcf\u6b21\u5fae\u63a7\u5236\u5668\u590d\u4f4d\u65f6\uff0c\u5bf9\u5e94\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u4e5f\u540c\u65f6\u590d\u4f4d\u3002\uff08\u5982\u679c\u4e24\u8005\u80fd\u5b9e\u73b0\u540c\u65f6\u590d\u4f4d\u7684\u8bdd\uff0cKlipper\u80fd\u591f\u901a\u8fc7\u8bb0\u5f55\u6b65\u8fdb\u7684\u603b\u79fb\u52a8\u6b65\u6570\u6765\u786e\u5b9a\u5176\u76f8\u4f4d\u3002\uff09\u76ee\u524d\uff0c\u80fd\u591f\u53ef\u9760\u5730\u5b8c\u6210\u5fae\u63a7\u5236\u5668\u548c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5730\u540c\u65f6\u590d\u4f4d\u5730\u65b9\u5f0f\u662f\uff0c\u8fd9\u4e24\u8005\u4ec5\u901a\u8fc7USB\u4f9b\u7535\u5e76USB\u7535\u6e90\u901a\u8fc7\u8fd0\u884c\u6709Klipper\u7684\u6811\u8393\u6d3e\u63d0\u4f9b\u3002\u6b64\u65f6\u53ef\u4ee5\u5728\u914d\u7f6e\u7684MCU\u7ae0\u8282\u4e2d\u6dfb\u52a0 \"restart_method: rpi_usb\"\uff0c\u8be5\u9009\u9879\u5c06\u5b89\u6392\u5fae\u63a7\u5236\u5668\u59cb\u7ec8\u901a\u8fc7USB\u7535\u6e90\u590d\u4f4d\uff0c\u5728\u4ec5\u4f7f\u7528USB\u4f9b\u7535\u65f6\uff0c\u8fd9\u5c06\u5b89\u6392\u5fae\u63a7\u5236\u5668\u548c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4e00\u8d77\u88ab\u590d\u4f4d\u3002\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u65f6\uff0c\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u624b\u52a8\u8bbe\u7f6e\"trigger_phase\"\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \uff09\u3002","title":"\u989d\u5916\u8981\u70b9"},{"location":"Example_Configs.html","text":"\u914d\u7f6e\u793a\u4f8b \u00b6 \u672c\u6587\u6863\u5305\u542b\u5411 Klipper Github \u4ed3\u5e93\uff08\u4f4d\u4e8e config directory \uff09\u8d21\u732e Klipper \u914d\u7f6e\u793a\u4f8b\u7684\u6307\u5357\u3002 \u8bf7\u6ce8\u610f Klipper Community Discourse server \u4e5f\u53ef\u4ee5\u7528\u6765\u5bfb\u627e\u548c\u5206\u4eab\u914d\u7f6e\u6587\u4ef6\u3002 \u51c6\u5219 \u00b6 \u9009\u62e9\u9002\u5f53\u7684\u914d\u7f6e\u6587\u4ef6\u540d\u524d\u7f00\uff1a printer \u524d\u7f00\u7528\u4e8e\u4e3b\u6d41\u5236\u9020\u5546\u51fa\u552e\u7684\u6253\u5370\u673a\u3002 generic \u524d\u7f00\u7528\u4e8e\u901a\u75283D\u6253\u5370\u673a\u4e3b\u677f\u3002 kit \u7684\u524d\u7f00\u7528\u4e8e\u6309\u7167\u516c\u5f00\u89c4\u8303\u7ec4\u88c5\u76843D\u6253\u5370\u673a\uff08\u4f8b\u5982Voron V2.4\uff09\u3002\u8fd9\u4e9b \"\u5957\u4ef6 \"\u6253\u5370\u673a\u901a\u5e38\u4e0e\u666e\u901a\u7684\u6253\u5370\u673a\u4e0d\u540c\u5728\u5b83\u4eec\u901a\u5e38\u4e0d\u88ab\u5236\u9020\u5546\u9500\u552e\u3002 sample \u524d\u7f00\u7528\u4e8e\u53ef\u4ee5\u88ab\u590d\u5236\u5230\u4e3b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u914d\u7f6e \"\u7247\u6bb5\"\u3002 example \u524d\u7f00\u662f\u7528\u6765\u63cf\u8ff0\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u914d\u7f6e\u901a\u5e38\u53ea\u4e0e\u65b0\u7c7b\u578b\u7684\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u7684\u4ee3\u7801\u4e00\u8d77\u6dfb\u52a0\u3002 \u6240\u6709\u7684\u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u4ee5 .cfg \u540e\u7f00\u7ed3\u5c3e\u3002 printer \u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u4ee5 .cfg \u7ed3\u5c3e\uff08\u4f8b\u5982\uff0c 2019.cfg \uff09\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5e74\u4efd\u662f\u5bf9\u5e94\u6253\u5370\u673a\u7684\u5927\u81f4\u53d1\u552e\u5e74\u4efd\u3002 \u4e0d\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u540d\u4e2d\u4f7f\u7528\u7a7a\u683c\u6216\u7279\u6b8a\u5b57\u7b26\u3002\u6587\u4ef6\u540d\u5e94\u8be5\u53ea\u5305\u542b\u5b57\u7b26 A-Z , a-z , 0-9 , - , \u548c . \u3002 printer , generic , \u548c kit \u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u4fdd\u8bc1 Klipper \u80fd\u591f\u6b63\u5e38\u542f\u52a8\u800c\u4e0d\u51fa\u9519\u3002\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u5e94\u8be5\u88ab\u6dfb\u52a0\u5230 test/klippy/printers.test \u56de\u5f52\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u3002\u5c06\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u5230\u8be5\u6d4b\u8bd5\u7528\u4f8b\u7684\u9002\u5f53\u90e8\u5206\uff0c\u5e76\u6309\u8be5\u90e8\u5206\u7684\u5b57\u6bcd\u987a\u5e8f\u6392\u5217\u3002 \u8be5\u914d\u7f6e\u793a\u4f8b\u5e94\u8be5\u662f\u6253\u5370\u673a\u7684 \"stock \"\u914d\u7f6e\u3002(\u5728klipper\u7684\u4ed3\u5e93\u4e2d\u6709\u592a\u591a\u5b9a\u5236\u7684\u914d\u7f6e\u3002)\u540c\u6837\u5730\uff0c\u6211\u4eec\u53ea\u4e3a\u5177\u6709\u4e3b\u6d41\u6d41\u884c\u6027\u7684\u6253\u5370\u673a\u3001\u5957\u4ef6\u548c\u677f\u5b50\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6\u7684\u4f8b\u5b50\uff08\u81f3\u5c11\u5e94\u8be5\u6709100\u4e2a\u6b63\u5728\u4f7f\u7528\u4e2d\uff09\u3002\u8003\u8651\u4f7f\u7528 Klipper Community Discourse server \u8fdb\u884c\u5176\u4ed6\u914d\u7f6e\u3002 Only specify those devices present on the given printer or board. Do not specify settings specific to your particular setup. For generic config files, only those devices on the mainboard should be described. For example, it would not make sense to add a display config section to a \"generic\" config as there is no way to know if the board will be attached to that type of display. If the board has a specific hardware port to facilitate an optional peripheral (eg, a bltouch port) then one can add a \"commented out\" config section for the given device. \u4e0d\u8981\u5728\u914d\u7f6e\u793a\u4f8b\u4e2d\u6307\u5b9a pressure_advance \uff0c\u56e0\u4e3a\u8be5\u503c\u662f\u9488\u5bf9\u8017\u6750\u7684\uff0c\u800c\u4e0d\u662f\u6253\u5370\u673a\u786c\u4ef6\u3002\u540c\u6837\uff0c\u4e0d\u8981\u6307\u5b9a max_extrude_only_velocity \u6216 max_extrude_only_accel \u8bbe\u7f6e\u3002 \u4e0d\u8981\u6307\u5b9a\u4e00\u4e2a\u5305\u542b\u4e3b\u673a\u8def\u5f84\u6216\u4e3b\u673a\u786c\u4ef6\u7684\u914d\u7f6e\u90e8\u5206\u3002\u4f8b\u5982\uff0c\u4e0d\u8981\u6307\u5b9a [virtual_sdcard] \u6216 [temperature_host] \u914d\u7f6e\u90e8\u5206\u3002 \u53ea\u4e3a\u5229\u7528\u7279\u5b9a\u6253\u5370\u673a\u529f\u80fd\uff0c\u6216\u7279\u5b9a\u6253\u5370\u673a\u914d\u7f6e\u7684\u5207\u7247\u8f6f\u4ef6\u901a\u5e38\u53d1\u51fa\u7684G\u4ee3\u7801\u5b9a\u4e49\u5b8f\u3002 Where possible, it is best to use the same wording, phrasing, indentation, and section ordering as the existing config files. The top of each config file should list the type of micro-controller the user should select during \"make menuconfig\". It should also have a reference to \"docs/Config_Reference.md\". \u4e0d\u8981\u5c06\u5b57\u6bb5\u6587\u6863\u590d\u5236\u5230\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\uff08\u8fd9\u6837\u505a\u4f1a\u9020\u6210\u7ef4\u62a4\u65b9\u9762\u7684\u8d1f\u62c5\uff0c\u56e0\u4e3a\u5bf9\u6587\u6863\u7684\u66f4\u65b0\u9700\u8981\u5728\u5f88\u591a\u5730\u65b9\u8fdb\u884c\u4fee\u6539\u3002\uff09 \u914d\u7f6e\u6587\u4ef6\u7684\u4f8b\u5b50\u4e0d\u5e94\u5305\u542b \"SAVE_CONFIG \"\u90e8\u5206\u3002\u5982\u679c\u6709\u5fc5\u8981\uff0c\u628aSAVE_CONFIG\u90e8\u5206\u7684\u76f8\u5173\u5b57\u6bb5\u590d\u5236\u5230\u4e3b\u914d\u7f6e\u533a\u7684\u9002\u5f53\u90e8\u5206\u3002 \u4f7f\u7528 field: value \u7684\u8bed\u6cd5\uff0c\u800c\u4e0d\u8981\u4f7f\u7528 field=value \u3002 \u5f53\u8bbe\u5b9a\u4e00\u4e2a\u6324\u51fa\u673a\u7684 rotation_distance \u65f6\uff0c\u5982\u679c\u6324\u51fa\u673a\u6709\u4e00\u4e2a\u9f7f\u8f6e\u673a\u6784\uff0c\u6700\u597d\u6307\u5b9a gear_ratio \u3002\u6211\u4eec\u5e0c\u671b\u793a\u4f8b\u914d\u7f6e\u4e2d\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e0e\u6324\u51fa\u8f6e\u7684\u5468\u957f\u76f8\u5173--\u5b83\u901a\u5e38\u572820\u523035\u6beb\u7c73\u4e4b\u95f4\u3002\u5f53\u6307\u5b9a gear_ratio \u65f6\uff0c\u6700\u597d\u6307\u5b9a\u673a\u6784\u4e0a\u7684\u5b9e\u9645\u9f7f\u8f6e\u9f7f\u6570\uff08\u4f8b\u5982\uff0c\u4f18\u5148\u9009\u62e9 gear_ratio: 80:20 \u800c\u4e0d\u662f gear_ratio: 4:1 \uff09\u3002\u53c2\u89c1 \u65cb\u8f6c\u8ddd\u79bb\u6587\u6863 \u4ee5\u83b7\u5f97\u66f4\u591a\u4fe1\u606f\u3002 \u907f\u514d\u5b9a\u4e49\u90a3\u4e9b\u88ab\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\u7684\u5b57\u6bb5\u503c\u3002\u4f8b\u5982\uff0c\u4e0d\u5e94\u8be5\u6307\u5b9a min_extrude_temp: 170 \uff0c\u56e0\u4e3a\u8fd9\u5df2\u7ecf\u662f\u9ed8\u8ba4\u503c\u3002 \u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\uff0c\u884c\u6570\u4e0d\u5e94\u8d85\u8fc780\u5217\u3002 \u907f\u514d\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5f52\u5c5e\u6216\u4fee\u8ba2\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u907f\u514d\u6dfb\u52a0\u7c7b\u4f3c \"\u6b64\u6587\u4ef6\u7531......\u521b\u5efa \"\u7684\u884c\u3002\uff09\u5c06\u5f52\u5c5e\u548c\u4fee\u6539\u5386\u53f2\u653e\u5728git\u63d0\u4ea4\u4fe1\u606f\u4e2d\u3002 \u4e0d\u8981\u5728\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u4efb\u4f55\u5df2\u5e9f\u5f03\u7684\u529f\u80fd\u3002 \u4e0d\u8981\u5728\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7981\u7528\u9ed8\u8ba4\u5b89\u5168\u7cfb\u7edf\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u914d\u7f6e\u4e0d\u5e94\u8be5\u6307\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 max_extrude_cross_section \u3002\u4e0d\u8981\u542f\u7528\u8c03\u8bd5\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u4e0d\u5e94\u8be5\u6709\u4e00\u4e2a force_move \u914d\u7f6e\u90e8\u5206\u3002 Klipper\u652f\u6301\u7684\u6240\u6709\u5df2\u77e5\u677f\u5b50\u90fd\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7684\u4e32\u884c\u6ce2\u7279\u7387250000\u3002\u4e0d\u63a8\u8350\u4f7f\u7528\u4e0d\u540c\u7684\u6ce2\u7279\u7387\u5728\u793a\u4f8b\u6587\u4ef6\u4e2d\u3002 \u901a\u8fc7\u521b\u5efagithub \"pull request \"\u6765\u63d0\u4ea4\u914d\u7f6e\u6587\u4ef6\u793a\u4f8b\u3002\u4e5f\u8bf7\u9075\u5faa contribution document \u4e2d\u7684\u6307\u793a\u3002","title":"\u914d\u7f6e\u793a\u4f8b"},{"location":"Example_Configs.html#_1","text":"\u672c\u6587\u6863\u5305\u542b\u5411 Klipper Github \u4ed3\u5e93\uff08\u4f4d\u4e8e config directory \uff09\u8d21\u732e Klipper \u914d\u7f6e\u793a\u4f8b\u7684\u6307\u5357\u3002 \u8bf7\u6ce8\u610f Klipper Community Discourse server \u4e5f\u53ef\u4ee5\u7528\u6765\u5bfb\u627e\u548c\u5206\u4eab\u914d\u7f6e\u6587\u4ef6\u3002","title":"\u914d\u7f6e\u793a\u4f8b"},{"location":"Example_Configs.html#_2","text":"\u9009\u62e9\u9002\u5f53\u7684\u914d\u7f6e\u6587\u4ef6\u540d\u524d\u7f00\uff1a printer \u524d\u7f00\u7528\u4e8e\u4e3b\u6d41\u5236\u9020\u5546\u51fa\u552e\u7684\u6253\u5370\u673a\u3002 generic \u524d\u7f00\u7528\u4e8e\u901a\u75283D\u6253\u5370\u673a\u4e3b\u677f\u3002 kit \u7684\u524d\u7f00\u7528\u4e8e\u6309\u7167\u516c\u5f00\u89c4\u8303\u7ec4\u88c5\u76843D\u6253\u5370\u673a\uff08\u4f8b\u5982Voron V2.4\uff09\u3002\u8fd9\u4e9b \"\u5957\u4ef6 \"\u6253\u5370\u673a\u901a\u5e38\u4e0e\u666e\u901a\u7684\u6253\u5370\u673a\u4e0d\u540c\u5728\u5b83\u4eec\u901a\u5e38\u4e0d\u88ab\u5236\u9020\u5546\u9500\u552e\u3002 sample \u524d\u7f00\u7528\u4e8e\u53ef\u4ee5\u88ab\u590d\u5236\u5230\u4e3b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u914d\u7f6e \"\u7247\u6bb5\"\u3002 example \u524d\u7f00\u662f\u7528\u6765\u63cf\u8ff0\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u3002\u8fd9\u79cd\u7c7b\u578b\u7684\u914d\u7f6e\u901a\u5e38\u53ea\u4e0e\u65b0\u7c7b\u578b\u7684\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u7684\u4ee3\u7801\u4e00\u8d77\u6dfb\u52a0\u3002 \u6240\u6709\u7684\u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u4ee5 .cfg \u540e\u7f00\u7ed3\u5c3e\u3002 printer \u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u4ee5 .cfg \u7ed3\u5c3e\uff08\u4f8b\u5982\uff0c 2019.cfg \uff09\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5e74\u4efd\u662f\u5bf9\u5e94\u6253\u5370\u673a\u7684\u5927\u81f4\u53d1\u552e\u5e74\u4efd\u3002 \u4e0d\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u540d\u4e2d\u4f7f\u7528\u7a7a\u683c\u6216\u7279\u6b8a\u5b57\u7b26\u3002\u6587\u4ef6\u540d\u5e94\u8be5\u53ea\u5305\u542b\u5b57\u7b26 A-Z , a-z , 0-9 , - , \u548c . \u3002 printer , generic , \u548c kit \u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u5fc5\u987b\u4fdd\u8bc1 Klipper \u80fd\u591f\u6b63\u5e38\u542f\u52a8\u800c\u4e0d\u51fa\u9519\u3002\u8fd9\u4e9b\u914d\u7f6e\u6587\u4ef6\u5e94\u8be5\u88ab\u6dfb\u52a0\u5230 test/klippy/printers.test \u56de\u5f52\u6d4b\u8bd5\u7528\u4f8b\u4e2d\u3002\u5c06\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u5230\u8be5\u6d4b\u8bd5\u7528\u4f8b\u7684\u9002\u5f53\u90e8\u5206\uff0c\u5e76\u6309\u8be5\u90e8\u5206\u7684\u5b57\u6bcd\u987a\u5e8f\u6392\u5217\u3002 \u8be5\u914d\u7f6e\u793a\u4f8b\u5e94\u8be5\u662f\u6253\u5370\u673a\u7684 \"stock \"\u914d\u7f6e\u3002(\u5728klipper\u7684\u4ed3\u5e93\u4e2d\u6709\u592a\u591a\u5b9a\u5236\u7684\u914d\u7f6e\u3002)\u540c\u6837\u5730\uff0c\u6211\u4eec\u53ea\u4e3a\u5177\u6709\u4e3b\u6d41\u6d41\u884c\u6027\u7684\u6253\u5370\u673a\u3001\u5957\u4ef6\u548c\u677f\u5b50\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6\u7684\u4f8b\u5b50\uff08\u81f3\u5c11\u5e94\u8be5\u6709100\u4e2a\u6b63\u5728\u4f7f\u7528\u4e2d\uff09\u3002\u8003\u8651\u4f7f\u7528 Klipper Community Discourse server \u8fdb\u884c\u5176\u4ed6\u914d\u7f6e\u3002 Only specify those devices present on the given printer or board. Do not specify settings specific to your particular setup. For generic config files, only those devices on the mainboard should be described. For example, it would not make sense to add a display config section to a \"generic\" config as there is no way to know if the board will be attached to that type of display. If the board has a specific hardware port to facilitate an optional peripheral (eg, a bltouch port) then one can add a \"commented out\" config section for the given device. \u4e0d\u8981\u5728\u914d\u7f6e\u793a\u4f8b\u4e2d\u6307\u5b9a pressure_advance \uff0c\u56e0\u4e3a\u8be5\u503c\u662f\u9488\u5bf9\u8017\u6750\u7684\uff0c\u800c\u4e0d\u662f\u6253\u5370\u673a\u786c\u4ef6\u3002\u540c\u6837\uff0c\u4e0d\u8981\u6307\u5b9a max_extrude_only_velocity \u6216 max_extrude_only_accel \u8bbe\u7f6e\u3002 \u4e0d\u8981\u6307\u5b9a\u4e00\u4e2a\u5305\u542b\u4e3b\u673a\u8def\u5f84\u6216\u4e3b\u673a\u786c\u4ef6\u7684\u914d\u7f6e\u90e8\u5206\u3002\u4f8b\u5982\uff0c\u4e0d\u8981\u6307\u5b9a [virtual_sdcard] \u6216 [temperature_host] \u914d\u7f6e\u90e8\u5206\u3002 \u53ea\u4e3a\u5229\u7528\u7279\u5b9a\u6253\u5370\u673a\u529f\u80fd\uff0c\u6216\u7279\u5b9a\u6253\u5370\u673a\u914d\u7f6e\u7684\u5207\u7247\u8f6f\u4ef6\u901a\u5e38\u53d1\u51fa\u7684G\u4ee3\u7801\u5b9a\u4e49\u5b8f\u3002 Where possible, it is best to use the same wording, phrasing, indentation, and section ordering as the existing config files. The top of each config file should list the type of micro-controller the user should select during \"make menuconfig\". It should also have a reference to \"docs/Config_Reference.md\". \u4e0d\u8981\u5c06\u5b57\u6bb5\u6587\u6863\u590d\u5236\u5230\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\uff08\u8fd9\u6837\u505a\u4f1a\u9020\u6210\u7ef4\u62a4\u65b9\u9762\u7684\u8d1f\u62c5\uff0c\u56e0\u4e3a\u5bf9\u6587\u6863\u7684\u66f4\u65b0\u9700\u8981\u5728\u5f88\u591a\u5730\u65b9\u8fdb\u884c\u4fee\u6539\u3002\uff09 \u914d\u7f6e\u6587\u4ef6\u7684\u4f8b\u5b50\u4e0d\u5e94\u5305\u542b \"SAVE_CONFIG \"\u90e8\u5206\u3002\u5982\u679c\u6709\u5fc5\u8981\uff0c\u628aSAVE_CONFIG\u90e8\u5206\u7684\u76f8\u5173\u5b57\u6bb5\u590d\u5236\u5230\u4e3b\u914d\u7f6e\u533a\u7684\u9002\u5f53\u90e8\u5206\u3002 \u4f7f\u7528 field: value \u7684\u8bed\u6cd5\uff0c\u800c\u4e0d\u8981\u4f7f\u7528 field=value \u3002 \u5f53\u8bbe\u5b9a\u4e00\u4e2a\u6324\u51fa\u673a\u7684 rotation_distance \u65f6\uff0c\u5982\u679c\u6324\u51fa\u673a\u6709\u4e00\u4e2a\u9f7f\u8f6e\u673a\u6784\uff0c\u6700\u597d\u6307\u5b9a gear_ratio \u3002\u6211\u4eec\u5e0c\u671b\u793a\u4f8b\u914d\u7f6e\u4e2d\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e0e\u6324\u51fa\u8f6e\u7684\u5468\u957f\u76f8\u5173--\u5b83\u901a\u5e38\u572820\u523035\u6beb\u7c73\u4e4b\u95f4\u3002\u5f53\u6307\u5b9a gear_ratio \u65f6\uff0c\u6700\u597d\u6307\u5b9a\u673a\u6784\u4e0a\u7684\u5b9e\u9645\u9f7f\u8f6e\u9f7f\u6570\uff08\u4f8b\u5982\uff0c\u4f18\u5148\u9009\u62e9 gear_ratio: 80:20 \u800c\u4e0d\u662f gear_ratio: 4:1 \uff09\u3002\u53c2\u89c1 \u65cb\u8f6c\u8ddd\u79bb\u6587\u6863 \u4ee5\u83b7\u5f97\u66f4\u591a\u4fe1\u606f\u3002 \u907f\u514d\u5b9a\u4e49\u90a3\u4e9b\u88ab\u8bbe\u7f6e\u4e3a\u9ed8\u8ba4\u503c\u7684\u5b57\u6bb5\u503c\u3002\u4f8b\u5982\uff0c\u4e0d\u5e94\u8be5\u6307\u5b9a min_extrude_temp: 170 \uff0c\u56e0\u4e3a\u8fd9\u5df2\u7ecf\u662f\u9ed8\u8ba4\u503c\u3002 \u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b\uff0c\u884c\u6570\u4e0d\u5e94\u8d85\u8fc780\u5217\u3002 \u907f\u514d\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u5f52\u5c5e\u6216\u4fee\u8ba2\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u907f\u514d\u6dfb\u52a0\u7c7b\u4f3c \"\u6b64\u6587\u4ef6\u7531......\u521b\u5efa \"\u7684\u884c\u3002\uff09\u5c06\u5f52\u5c5e\u548c\u4fee\u6539\u5386\u53f2\u653e\u5728git\u63d0\u4ea4\u4fe1\u606f\u4e2d\u3002 \u4e0d\u8981\u5728\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u4efb\u4f55\u5df2\u5e9f\u5f03\u7684\u529f\u80fd\u3002 \u4e0d\u8981\u5728\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u4e2d\u7981\u7528\u9ed8\u8ba4\u5b89\u5168\u7cfb\u7edf\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u914d\u7f6e\u4e0d\u5e94\u8be5\u6307\u5b9a\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 max_extrude_cross_section \u3002\u4e0d\u8981\u542f\u7528\u8c03\u8bd5\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u4e0d\u5e94\u8be5\u6709\u4e00\u4e2a force_move \u914d\u7f6e\u90e8\u5206\u3002 Klipper\u652f\u6301\u7684\u6240\u6709\u5df2\u77e5\u677f\u5b50\u90fd\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7684\u4e32\u884c\u6ce2\u7279\u7387250000\u3002\u4e0d\u63a8\u8350\u4f7f\u7528\u4e0d\u540c\u7684\u6ce2\u7279\u7387\u5728\u793a\u4f8b\u6587\u4ef6\u4e2d\u3002 \u901a\u8fc7\u521b\u5efagithub \"pull request \"\u6765\u63d0\u4ea4\u914d\u7f6e\u6587\u4ef6\u793a\u4f8b\u3002\u4e5f\u8bf7\u9075\u5faa contribution document \u4e2d\u7684\u6307\u793a\u3002","title":"\u51c6\u5219"},{"location":"Exclude_Object.html","text":"Exclude Objects \u00b6 The [exclude_object] module allows Klipper to exclude objects while a print is in progress. To enable this feature include an exclude_object config section (also see the command reference and sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro.) Unlike other 3D printer firmware options, a printer running Klipper utilizes a suite of components and users have many options to choose from. Therefore, in order to provide a a consistent user experience, the [exclude_object] module will establish a contract or API of sorts. The contract covers the contents of the gcode file, how the internal state of the module is controlled, and how that state is provided to clients. Workflow Overview \u00b6 A typical workflow for printing a file might look like this: Slicing is completed and the file is uploaded for printing. During the upload, the file is processed and [exclude_object] markers are added to the file. Alternately, slicers may be configured to prepare object exclusion markers natively, or in it's own pre-processing step. When printing starts, Klipper will reset the [exclude_object] status . When Klipper processes the EXCLUDE_OBJECT_DEFINE block, it will update the status with the known objects and pass it on to clients. The client may use that information to present a UI to the user so that progress can be tracked. Klipper will update the status to include the currently printing object which the client can use for display purposes. If the user requests that an object be cancelled, the client will issue an EXCLUDE_OBJECT NAME=<name> command to Klipper. When Klipper process the command, it will add the object to the list of excluded objects and update the status for the client. The client will receive the updated status from Klipper and can use that information to reflect the object's status in the UI. When printing finishes, the [exclude_object] status will continue to be available until another action resets it. The GCode File \u00b6 The specialized gcode processing needed to support excluding objects does not fit into Klipper's core design goals. Therefore, this module requires that the file is processed before being sent to Klipper for printing. Using a post-process script in the slicer or having middleware process the file on upload are two possibilities for preparing the file for Klipper. A reference post-processing script is available both as an executable and a python library, see cancelobject-preprocessor . Object Definitions \u00b6 The EXCLUDE_OBJECT_DEFINE command is used to provide a summary of each object in the gcode file to be printed. Provides a summary of an object in the file. Objects don't need to be defined in order to be referenced by other commands. The primary purpose of this command is to provide information to the UI without needing to parse the entire gcode file. Object definitions are named, to allow users to easily select an object to be excluded, and additional metadata may be provided to allow for graphical cancellation displays. Currently defined metadata includes a CENTER X,Y coordinate, and a POLYGON list of X,Y points representing a minimal outline of the object. This could be a simple bounding box, or a complicated hull for showing more detailed visualizations of the printed objects. Especially when gcode files include multiple parts with overlapping bounding regions, center points become hard to visually distinguish. POLYGONS must be a json-compatible array of point [X,Y] tuples without whitespace. Additional parameters will be saved as strings in the object definition and provided in status updates. EXCLUDE_OBJECT_DEFINE NAME=calibration_pyramid CENTER=50,50 POLYGON=[[40,40],[50,60],[60,40]] All available G-Code commands are documented in the G-Code Reference Status Information \u00b6 The state of this module is provided to clients by the exclude_object status . The status is reset when: The Klipper firmware is restarted. There is a reset of the [virtual_sdcard] . Notably, this is reset by Klipper at the start of a print. When an EXCLUDE_OBJECT_DEFINE RESET=1 command is issued. The list of defined objects is represented in the exclude_object.objects status field. In a well defined gcode file, this will be done with EXCLUDE_OBJECT_DEFINE commands at the beginning of the file. This will provide clients with object names and coordinates so the UI can provide a graphical representation of the objects if desired. As the print progresses, the exclude_object.current_object status field will be updated as Klipper processes EXCLUDE_OBJECT_START and EXCLUDE_OBJECT_END commands. The current_object field will be set even if the object has been excluded. Undefined objects marked with a EXCLUDE_OBJECT_START will be added to the known objects to assist in UI hinting, without any additional metadata. As EXCLUDE_OBJECT commands are issued, the list of excluded objects is provided in the exclude_object.excluded_objects array. Since Klipper looks ahead to process upcoming gcode, there may be a delay between when the command is issued and when the status is updated.","title":"Exclude Objects"},{"location":"Exclude_Object.html#exclude-objects","text":"The [exclude_object] module allows Klipper to exclude objects while a print is in progress. To enable this feature include an exclude_object config section (also see the command reference and sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro.) Unlike other 3D printer firmware options, a printer running Klipper utilizes a suite of components and users have many options to choose from. Therefore, in order to provide a a consistent user experience, the [exclude_object] module will establish a contract or API of sorts. The contract covers the contents of the gcode file, how the internal state of the module is controlled, and how that state is provided to clients.","title":"Exclude Objects"},{"location":"Exclude_Object.html#workflow-overview","text":"A typical workflow for printing a file might look like this: Slicing is completed and the file is uploaded for printing. During the upload, the file is processed and [exclude_object] markers are added to the file. Alternately, slicers may be configured to prepare object exclusion markers natively, or in it's own pre-processing step. When printing starts, Klipper will reset the [exclude_object] status . When Klipper processes the EXCLUDE_OBJECT_DEFINE block, it will update the status with the known objects and pass it on to clients. The client may use that information to present a UI to the user so that progress can be tracked. Klipper will update the status to include the currently printing object which the client can use for display purposes. If the user requests that an object be cancelled, the client will issue an EXCLUDE_OBJECT NAME=<name> command to Klipper. When Klipper process the command, it will add the object to the list of excluded objects and update the status for the client. The client will receive the updated status from Klipper and can use that information to reflect the object's status in the UI. When printing finishes, the [exclude_object] status will continue to be available until another action resets it.","title":"Workflow Overview"},{"location":"Exclude_Object.html#the-gcode-file","text":"The specialized gcode processing needed to support excluding objects does not fit into Klipper's core design goals. Therefore, this module requires that the file is processed before being sent to Klipper for printing. Using a post-process script in the slicer or having middleware process the file on upload are two possibilities for preparing the file for Klipper. A reference post-processing script is available both as an executable and a python library, see cancelobject-preprocessor .","title":"The GCode File"},{"location":"Exclude_Object.html#object-definitions","text":"The EXCLUDE_OBJECT_DEFINE command is used to provide a summary of each object in the gcode file to be printed. Provides a summary of an object in the file. Objects don't need to be defined in order to be referenced by other commands. The primary purpose of this command is to provide information to the UI without needing to parse the entire gcode file. Object definitions are named, to allow users to easily select an object to be excluded, and additional metadata may be provided to allow for graphical cancellation displays. Currently defined metadata includes a CENTER X,Y coordinate, and a POLYGON list of X,Y points representing a minimal outline of the object. This could be a simple bounding box, or a complicated hull for showing more detailed visualizations of the printed objects. Especially when gcode files include multiple parts with overlapping bounding regions, center points become hard to visually distinguish. POLYGONS must be a json-compatible array of point [X,Y] tuples without whitespace. Additional parameters will be saved as strings in the object definition and provided in status updates. EXCLUDE_OBJECT_DEFINE NAME=calibration_pyramid CENTER=50,50 POLYGON=[[40,40],[50,60],[60,40]] All available G-Code commands are documented in the G-Code Reference","title":"Object Definitions"},{"location":"Exclude_Object.html#status-information","text":"The state of this module is provided to clients by the exclude_object status . The status is reset when: The Klipper firmware is restarted. There is a reset of the [virtual_sdcard] . Notably, this is reset by Klipper at the start of a print. When an EXCLUDE_OBJECT_DEFINE RESET=1 command is issued. The list of defined objects is represented in the exclude_object.objects status field. In a well defined gcode file, this will be done with EXCLUDE_OBJECT_DEFINE commands at the beginning of the file. This will provide clients with object names and coordinates so the UI can provide a graphical representation of the objects if desired. As the print progresses, the exclude_object.current_object status field will be updated as Klipper processes EXCLUDE_OBJECT_START and EXCLUDE_OBJECT_END commands. The current_object field will be set even if the object has been excluded. Undefined objects marked with a EXCLUDE_OBJECT_START will be added to the known objects to assist in UI hinting, without any additional metadata. As EXCLUDE_OBJECT commands are issued, the list of excluded objects is provided in the exclude_object.excluded_objects array. Since Klipper looks ahead to process upcoming gcode, there may be a delay between when the command is issued and when the status is updated.","title":"Status Information"},{"location":"FAQ.html","text":"\u5e38\u89c1\u95ee\u9898 \u00b6 \u5982\u4f55\u5bf9\u9879\u76ee\u6350\u6b3e\uff1f \u5982\u4f55\u8ba1\u7b97rotation_distance\u914d\u7f6e\u53c2\u6570\uff1f \u5728\u54ea\u91cc\u627e\u4e32\u53e3\u53f7\uff1f \u5f53\u5fae\u63a7\u5236\u5668\u91cd\u542f\u65f6\u4e32\u53e3\u53d8\u6210\u4e86/dev/ttyUSB1 \u201cmake flash\u201d\u547d\u4ee4\u4e0d\u8d77\u4f5c\u7528 \u5982\u4f55\u66f4\u6539\u4e32\u53e3\u6ce2\u7279\u7387\uff1f \u6211\u53ef\u4ee5\u5728 Raspberry Pi 3 \u4ee5\u5916\u7684\u5176\u4ed6\u8bbe\u5907\u4e0a\u8fd0\u884c Klipper \u5417\uff1f \u6211\u53ef\u4ee5\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a\u8fd0\u884c\u591a\u4e2a Klipper \u5b9e\u4f8b\u5417\uff1f \u6211\u5fc5\u987b\u4f7f\u7528 OctoPrint \u5417\uff1f \u4e3a\u4ec0\u4e48\u6211\u4e0d\u80fd\u5728\u5f52\u4f4d\u6253\u5370\u673a\u4e4b\u524d\u79fb\u52a8\u6b65\u8fdb\u5668\uff1f \u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u7684 Z position_endstop \u8bbe\u7f6e\u4e3a 0.5\uff1f \u6211\u4ece Marlin \u8f6c\u6362\u4e86\u6211\u7684\u914d\u7f6e\uff0cX/Y \u8f74\u5de5\u4f5c\u6b63\u5e38\uff0c\u4f46\u5728 Z \u8f74\u5f52\u4f4d\u65f6\u6211\u53ea\u4f1a\u542c\u5230\u523a\u8033\u7684\u566a\u97f3 \u6211\u7684 TMC \u7535\u673a\u9a71\u52a8\u7a0b\u5e8f\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u5173\u95ed \u6211\u4e0d\u65ad\u6536\u5230\u968f\u673a\u7684\u201c\u4e0e MCU \u5931\u53bb\u901a\u4fe1\u201d\u9519\u8bef \u6211\u7684\u6811\u8393\u6d3e\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u91cd\u542f \u5f53\u6211\u8bbe\u7f6e restart_method=command \u65f6\uff0c\u6211\u7684 AVR \u8bbe\u5907\u5728\u91cd\u542f\u65f6\u6302\u8d77 \u5982\u679c Raspberry Pi \u5d29\u6e83\uff0c\u52a0\u70ed\u5668\u4f1a\u7ee7\u7eed\u6253\u5f00\u5417\uff1f \u5982\u4f55\u5c06 Marlin \u5f15\u811a\u7f16\u53f7\u8f6c\u6362\u4e3a Klipper \u5f15\u811a\u540d\u79f0\uff1f \u6211\u5fc5\u987b\u5c06\u6211\u7684\u8bbe\u5907\u8fde\u63a5\u5230\u7279\u5b9a\u7c7b\u578b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u5417\uff1f \u6211\u5982\u4f55\u53d6\u6d88 M109/M190\u201c\u7b49\u5f85\u6e29\u5ea6\u201d\u8bf7\u6c42\uff1f \u53ef\u4ee5\u67e5\u4e00\u4e0b\u6253\u5370\u673a\u662f\u5426\u4e22\u6b65\u5417\uff1f \u4e3a\u4ec0\u4e48Klipper\u4f1a\u62a5\u9519\uff1f \u6211\u6253\u5370\u7684\u6587\u4ef6\u4e22\u4e86\uff01 \u5982\u4f55\u5347\u7ea7\u5230\u6700\u65b0\u8f6f\u4ef6\uff1f \u5982\u4f55\u5378\u8f7d klipper\uff1f \u6211\u5982\u4f55\u5411\u9879\u76ee\u6350\u6b3e\uff1f \u00b6 \u8c22\u8c22\u3002Kevin\u6709\u4e00\u4e2aPATREON\u9875\u9762\uff0c\u5730\u5740\u662f\uff1a https://www.patreon.com/koconnor \u5982\u4f55\u8ba1\u7b97 rotation_distance \u914d\u7f6e\u53c2\u6570\uff1f \u00b6 \u53c2\u89c1 \u65cb\u8f6c\u8ddd\u79bb\u6587\u6863 \u3002 \u6211\u7684\u4e32\u53e3\u5728\u54ea\u91cc\u627e\uff1f \u00b6 \u67e5\u627e USB \u4e32\u884c\u7aef\u53e3\u7684\u4e00\u822c\u65b9\u6cd5\u662f\u4ece\u4e3b\u673a\u4e0a\u7684 ssh \u7ec8\u7aef\u8fd0\u884c ls /dev/serial/by-id/* \u3002 \u5b83\u53ef\u80fd\u4f1a\u4ea7\u751f\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u5185\u5bb9\u7684\u8f93\u51fa\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u627e\u5230\u7684\u540d\u79f0\u662f\u7a33\u5b9a\u7684\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u5b83\uff0c\u540c\u65f6\u53ef\u7528\u4e8e\u5237\u5199\u5fae\u63a7\u5236\u5668\u7684\u4ee3\u7801\u3002 \u4f8b\u5982\uff0c\u4e00\u4e2a flash \u547d\u4ee4\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u66f4\u65b0\u540e\u7684\u914d\u7f6e\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u8bf7\u52a1\u5fc5\u4ece\u4e0a\u9762\u8fd0\u884c\u7684\u201cls\u201d\u547d\u4ee4\u4e2d\u590d\u5236\u5e76\u7c98\u8d34\u540d\u79f0\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u6253\u5370\u673a\u7684\u540d\u79f0\u90fd\u4e0d\u540c\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u591a\u4e2a\u5fae\u63a7\u5236\u5668\u5e76\u4e14\u5b83\u4eec\u6ca1\u6709\u552f\u4e00\u7684 ID\uff08\u5728\u5e26\u6709 CH340 USB \u82af\u7247\u7684\u677f\u4e0a\u5f88\u5e38\u89c1\uff09\uff0c\u90a3\u4e48\u8bf7\u6309\u7167\u4e0a\u9762\u7684\u8bf4\u660e\u4f7f\u7528\u547d\u4ee4 ls /dev/serial/by-path/* \u4ee3\u66ff\u3002 \u5f53\u5fae\u63a7\u5236\u5668\u91cd\u65b0\u542f\u52a8\u8bbe\u5907\u66f4\u6539\u4e3a/dev/ttyUSB1 \u00b6 \u6309\u7167\u201c \u6211\u7684\u4e32\u884c\u7aef\u53e3\u5728\u54ea\u91cc\u627e\uff1f \u201d\u90e8\u5206\u4e2d\u7684\u8bf4\u660e\u6765\u9632\u6b62\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u3002 \u201cmake flash\u201d\u547d\u4ee4\u4e0d\u8d77\u4f5c\u7528 \u00b6 \u8be5\u4ee3\u7801\u5c1d\u8bd5\u4f7f\u7528\u6bcf\u4e2a\u5e73\u53f0\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u6765\u5237\u5199\u8bbe\u5907\u3002 \u4e0d\u5e78\u7684\u662f\uff0c\u5237\u5199\u65b9\u6cd5\u5b58\u5728\u5f88\u591a\u5dee\u5f02\uff0c\u56e0\u6b64\u201cmake flash\u201d\u547d\u4ee4\u53ef\u80fd\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u4e3b\u677f\u3002 \u5982\u679c\u60a8\u9047\u5230\u95f4\u6b47\u6027\u6545\u969c\u6216\u60a8\u786e\u5b9e\u6709\u6807\u51c6\u8bbe\u7f6e\uff0c\u8bf7\u4ed4\u7ec6\u68c0\u67e5\u5237\u5199\u65f6 Klipper \u662f\u5426\u672a\u8fd0\u884c\uff08sudo service klipper stop\uff09\uff0c\u786e\u4fdd OctoPrint \u672a\u5c1d\u8bd5\u76f4\u63a5\u8fde\u63a5\u5230\u8bbe\u5907\uff08\u6253\u5f00 \u7f51\u9875\u4e2d\u7684\u8fde\u63a5\u9009\u9879\u5361\uff0c\u5982\u679c\u4e32\u884c\u7aef\u53e3\u8bbe\u7f6e\u4e3a\u8bbe\u5907\uff0c\u5219\u5355\u51fb\u65ad\u5f00\u8fde\u63a5\uff09\uff0c\u5e76\u786e\u4fdd\u4e3a\u60a8\u7684\u7535\u8def\u677f\u6b63\u786e\u8bbe\u7f6e\u4e86 FLASH_DEVICE\uff08\u8bf7\u53c2\u9605 \u4e0a\u9762\u7684\u95ee\u9898 \uff09\u3002 \u4f46\u662f\uff0c\u5982\u679c\u201cmake flash\u201d\u5bf9\u60a8\u7684\u7535\u8def\u677f\u4e0d\u8d77\u4f5c\u7528\uff0c\u90a3\u4e48\u60a8\u5c06\u9700\u8981\u624b\u52a8\u5237\u5199\u3002 \u67e5\u770b config directory \u4e2d\u662f\u5426\u6709\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u5237\u673a\u7684\u5177\u4f53\u8bf4\u660e\u3002 \u6b64\u5916\uff0c\u8bf7\u67e5\u770b\u7535\u8def\u677f\u5236\u9020\u5546\u7684\u6587\u6863\uff0c\u770b\u770b\u5b83\u662f\u5426\u63cf\u8ff0\u4e86\u5982\u4f55\u5237\u5199\u8bbe\u5907\u3002 \u6700\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u8bf8\u5982\u201cavrdude\u201d\u6216\u201cbossac\u201d\u4e4b\u7c7b\u7684\u5de5\u5177\u624b\u52a8\u5237\u5199\u8bbe\u5907\u2014\u2014\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u6587\u6863 \u3002 \u5982\u4f55\u66f4\u6539\u4e32\u884c\u6ce2\u7279\u7387\uff1f \u00b6 Klipper\u7684\u63a8\u8350\u6ce2\u7279\u7387\u662f 250000\u3002\u8fd9\u4e2a\u6ce2\u7279\u7387\u5728 Klipper \u652f\u6301\u7684\u6240\u6709\u5fae\u63a7\u5236\u5668\u677f\u4e0a\u90fd\u5f88\u597d\u7528\u3002\u5982\u679c\u4f60\u53d1\u73b0\u7f51\u4e0a\u7684\u6307\u5357\u63a8\u8350\u4e86\u4e00\u4e2a\u4e0d\u540c\u7684\u6ce2\u7279\u7387\uff0c\u90a3\u4e48\u8bf7\u5ffd\u7565\u8fd9\u90e8\u5206\u6307\u5357\uff0c\u7ee7\u7eed\u4f7f\u7528\u9ed8\u8ba4\u503c 250000\u3002 \u5982\u679c\u4f60\u8fd8\u662f\u60f3\u6539\u53d8\u6ce2\u7279\u7387\uff0c\u90a3\u4e48\u9700\u8981\u91cd\u65b0\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u4e3a\u65b0\u7684\u6ce2\u7279\u7387\uff08\u5728 make menuconfig \u8fc7\u7a0b\u4e2d\uff09\uff0c\u7136\u540e\u5c06\u66f4\u65b0\u7684\u4ee3\u7801\u7f16\u8bd1\u5e76\u5237\u5199\u5230\u5fae\u63a7\u5236\u5668\u4e2d\u3002Klipper \u7684 printer.cfg \u6587\u4ef6\u4e5f\u9700\u8981\u66f4\u65b0\u4ee5\u5339\u914d\u8be5\u6ce2\u7279\u7387\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002\u4f8b\u5982\uff1a [mcu] baud: 250000 OctoPrint \u7f51\u9875\u4e0a\u663e\u793a\u7684\u6ce2\u7279\u7387\u5bf9\u5185\u90e8 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u6ca1\u6709\u5f71\u54cd\u3002\u4f7f\u7528 Klipper \u65f6\uff0c\u59cb\u7ec8\u5c06 OctoPrint \u7684\u6ce2\u7279\u7387\u8bbe\u7f6e\u4e3a250000\u3002 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u4e0e\u5fae\u63a7\u5236\u5668\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u7684\u6ce2\u7279\u7387\u65e0\u5173\u3002\u6709\u5173\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u7684\u989d\u5916\u4fe1\u606f\u8bf7\u53c2\u9605 \u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u6587\u6863 \u3002 \u6211\u53ef\u4ee5\u5728 Raspberry Pi 3 \u4ee5\u5916\u7684\u5176\u4ed6\u8bbe\u5907\u4e0a\u8fd0\u884c Klipper \u5417\uff1f \u00b6 \u63a8\u8350\u7684\u786c\u4ef6\u662f Raspberry Pi 2\u3001Raspberry Pi 3 \u6216 Raspberry Pi 4\u3002 Klipper \u53ef\u4ee5\u5728 Raspberry Pi 1\u548cRaspberry Pi Zero\u4e0a\u8fd0\u884c\uff0c\u4f46\u8fd9\u4e9b\u677f\u5b50\u6ca1\u6709\u8db3\u591f\u7684\u5904\u7406\u80fd\u529b\u6765\u8fd0\u884c OctoPrint\u3002\u5728\u8fd9\u4e9b\u8f83\u6162\u7684\u673a\u5668\u4e0a\u76f4\u63a5\u4ece OctoPrint \u6253\u5370\u65f6\uff0c\u7ecf\u5e38\u4f1a\u51fa\u73b0\u6253\u5370\u505c\u6ede\u3002(\u6253\u5370\u673a\u7684\u79fb\u52a8\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u53d1\u9001\u79fb\u52a8\u547d\u4ee4\u7684\u901f\u5ea6\u5feb\u3002)\u5982\u679c\u4f60\u5e0c\u671b\u5728\u8fd9\u4e9b\u8f83\u6162\u7684\u677f\u5b50\u4e0a\u8fd0\u884c\uff0c\u8bf7\u8003\u8651\u5728\u6253\u5370\u65f6\u4f7f\u7528 \"virtual_sdcard \"\u529f\u80fd(\u8be6\u60c5\u8bf7\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 )\u3002 \u8981\u5728Beaglebone\u4e0a\u8fd0\u884c\uff0c\u8bf7\u53c2\u9605 Beaglebone\u7279\u522b\u5b89\u88c5\u8bf4\u660e \u3002 Klipper \u53ef\u4ee5\u5728\u5176\u4ed6\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u3002Klipper \u4e3b\u673a\u8f6f\u4ef6\u53ea\u9700\u8981\u5728Linux\uff08\u6216\u7c7b\u4f3c\uff09\u7cfb\u7edf\u7684\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c Python\u3002\u7136\u800c\uff0c\u5982\u679c\u4f60\u60f3\u5728\u5176\u4ed6\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u5b83\uff0c\u4f60\u5c06\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8bc6\u6765\u5b89\u88c5\u8be5\u8ba1\u7b97\u673a\u4e0a\u7cfb\u7edf\u7684\u4f9d\u8d56\u5305\u3002\u53c2\u89c1 install-octopi.sh \u811a\u672c\uff0c\u4ee5\u8fdb\u4e00\u6b65\u4e86\u89e3\u5fc5\u8981\u7684 Linux \u5b89\u88c5\u65b9\u6cd5\u3002 \u5982\u679c\u4f60\u60f3\u5728\u4f4e\u7aef\u5904\u7406\u5668\u4e0a\u8fd0\u884c Klipper \u4e3b\u673a\u8f6f\u4ef6\uff0c\u8bf7\u6ce8\u610f\uff0c\u4f60\u81f3\u5c11\u9700\u8981\u4e00\u53f0\u5177\u6709 \"\u53cc\u7cbe\u5ea6\u6d6e\u70b9 \"\u8fd0\u7b97\u786c\u4ef6\u7684\u8ba1\u7b97\u673a\u3002 \u5982\u679c\u4f60\u60f3\u5728\u5171\u4eab\u7684\u901a\u7528\u8ba1\u7b97\u673a\u6216\u670d\u52a1\u5668\u4e0a\u8fd0\u884c Klipper \u4e3b\u673a\u7a0b\u5e8f\uff0c\u8bf7\u6ce8\u610f Klipper \u6709\u4e00\u4e9b\u5b9e\u65f6\u8c03\u5ea6\u8981\u6c42\u3002\u5982\u679c\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u673a\u4e5f\u5728\u6267\u884c\u5bc6\u96c6\u578b\u7684\u901a\u7528\u8ba1\u7b97\u4efb\u52a1\uff08\u5982\u786c\u76d8\u788e\u7247\u6574\u7406\u30013D\u6e32\u67d3\u3001\u5927\u91cfswapping \uff08\u865a\u62df\u5185\u5b58\u4ea4\u6362\uff09\u7b49\uff09\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 Klipper \u62a5\u544a\u6253\u5370\u9519\u8bef\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u4f60\u6ca1\u6709\u4f7f\u7528 OctoPi \u955c\u50cf\uff0c\u4e00\u4e9bLinux\u53d1\u884c\u7248\u542f\u7528\u4e86\u4e00\u4e2a \"ModemManager\"\uff08\u6216\u7c7b\u4f3c\u7684\uff09\u8f6f\u4ef6\u5305\uff0c\u5b83\u5e72\u6270\u4e32\u884c\u901a\u4fe1\u3002(\u8fd9\u53ef\u80fd\u5bfc\u81f4 Klipper \u62a5\u544a\u770b\u4f3c\u968f\u673a\u7684 \"\u4e0eMCU\u5931\u53bb\u901a\u4fe1 \"\u9519\u8bef\uff09\u3002\u5982\u679c\u4f60\u5728\u8fd9\u4e9b\u53d1\u884c\u7248\u4e0a\u5b89\u88c5Klipper\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7981\u7528\u8be5\u8f6f\u4ef6\u5305\u3002 \u6211\u53ef\u4ee5\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a\u8fd0\u884c\u591a\u4e2a Klipper \u5b9e\u4f8b\u5417\uff1f \u00b6 \u53ef\u4ee5\u8fd0\u884c Klipper \u4e3b\u673a\u8f6f\u4ef6\u7684\u591a\u4e2a\u5b9e\u4f8b\uff0c\u4f46\u8fd9\u6837\u505a\u9700\u8981\u4e00\u5b9a\u7684 Linux \u77e5\u8bc6\u3002 Klipper \u5b89\u88c5\u811a\u672c\u6700\u7ec8\u4f1a\u5bfc\u81f4\u8fd0\u884c\u4ee5\u4e0b Unix \u547d\u4ee4\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -l /tmp/klippy.log \u53ea\u8981\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u6709\u81ea\u5df1\u7684\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u3001\u81ea\u5df1\u7684\u65e5\u5fd7\u6587\u4ef6\u548c\u81ea\u5df1\u7684\u4f2a tty\uff0c\u5c31\u53ef\u4ee5\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u7684\u591a\u4e2a\u5b9e\u4f8b\u3002 \u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer2.cfg -l /tmp/klippy2.log -I /tmp/printer2 \u5982\u679c\u4f60\u9009\u62e9\u8fd9\u6837\u505a\uff0c\u4f60\u5c06\u9700\u8981\u5b9e\u73b0\u5fc5\u8981\u7684\u542f\u52a8\u3001\u505c\u6b62\u548c\u5b89\u88c5\u811a\u672c\u3002 install-octopi.sh \u548c klipper-start.sh \u811a\u672c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4f8b\u5b50\u3002 \u6211\u5fc5\u987b\u4f7f\u7528 OctoPrint \u5417\uff1f \u00b6 Klipper \u4e0d\u4f9d\u8d56 OctoPrint\u3002\u5176\u4ed6\u8f6f\u4ef6\u4e5f\u53ef\u4ee5\u5411 Klipper \u53d1\u9001\u547d\u4ee4\uff0c\u4f46\u8fd9\u6837\u505a\u53ef\u80fd\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8bc6\u3002 Klipper \u901a\u8fc7 \u201c/tmp/printer\u201d \u6587\u4ef6\u521b\u5efa\u4e86\u4e00\u4e2a\u201c\u865a\u62df\u4e32\u53e3\u201d\uff0c\u8be5\u6587\u4ef6\u6a21\u62df\u4e86\u4e00\u4e2a\u6807\u51c6\u76843D\u6253\u5370\u673a\u4e32\u53e3\u3002\u7406\u8bba\u4e0a\u4efb\u4f55\u80fd\u914d\u7f6e\u5e76\u4f7f\u7528 \u201c/tmp/printer\u201d \u4f5c\u4e3a\u6253\u5370\u673a\u4e32\u53e3\u7684\u8f6f\u4ef6\u90fd\u53ef\u4ee5\u4e0eKlipper\u4e00\u8d77\u5de5\u4f5c\u3002 \u4e3a\u4ec0\u4e48\u5728\u5f52\u4f4d\u6253\u5370\u673a\u4e4b\u524d\u6211\u4e0d\u80fd\u79fb\u52a8\u6b65\u8fdb\u5668\uff1f \u00b6 \u4ee3\u7801\u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u51cf\u5c11\u610f\u5916\u5c06\u5934\u649e\u5230\u5e8a\u6216\u5899\u58c1\u7684\u673a\u4f1a\u3002 \u6253\u5370\u673a\u5f52\u4f4d\u540e\uff0c\u8f6f\u4ef6\u4f1a\u5c1d\u8bd5\u9a8c\u8bc1\u6bcf\u4e2a\u79fb\u52a8\u662f\u5426\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684 position_min/max \u8303\u56f4\u5185\u3002 \u5982\u679c\u7535\u673a\u88ab\u7981\u7528\uff08\u901a\u8fc7 M84 \u6216 M18 \u547d\u4ee4\uff09\uff0c\u90a3\u4e48\u7535\u673a\u5c06\u9700\u8981\u5728\u8fd0\u52a8\u524d\u518d\u6b21\u5f52\u4f4d\u3002 \u5982\u679c\u60a8\u60f3\u5728\u901a\u8fc7 OctoPrint \u53d6\u6d88\u6253\u5370\u540e\u79fb\u52a8\u6253\u5370\u5934\uff0c\u8bf7\u8003\u8651\u66f4\u6539 OctoPrint \u53d6\u6d88\u987a\u5e8f\u6765\u4e3a\u60a8\u6267\u884c\u6b64\u64cd\u4f5c\u3002 \u5b83\u662f\u901a\u8fc7 Web \u6d4f\u89c8\u5668\u5728 OctoPrint \u4e2d\u914d\u7f6e\u7684\uff1a\u8bbe\u7f6e-> GCODE \u811a\u672c \u5982\u679c\u60a8\u60f3\u5728\u6253\u5370\u5b8c\u6210\u540e\u79fb\u52a8\u5934\u90e8\uff0c\u8bf7\u8003\u8651\u5c06\u6240\u9700\u7684\u79fb\u52a8\u6dfb\u52a0\u5230\u5207\u7247\u673a\u7684\u201c\u81ea\u5b9a\u4e49 g \u4ee3\u7801\u201d\u90e8\u5206\u3002 \u5982\u679c\u6253\u5370\u673a\u5f52\u4f4d\u8fc7\u7a0b\u4e2d\u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u79fb\u52a8\uff08\u6216\u8005\u6839\u672c\u4e0a\u6ca1\u6709\u5f52\u4f4d\u8fd0\u52a8\uff09\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49safe_z_home\u6216 homing_override\u5206\u6bb5\u3002\u5982\u679c\u4f60\u9700\u8981\u4e3a\u8bca\u65ad\u6216\u8c03\u8bd5\u76ee\u7684\u79fb\u52a8\u4e00\u4e2a\u6b65\u8fdb\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u4e2a force_move \u5206\u6bb5\u3002\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u4ee5\u4e86\u89e3\u5173\u4e8e\u8fd9\u4e9b\u9009\u9879\u7684\u8be6\u60c5\u3002 \u4e3a\u4ec0\u4e48 Z position_endstop \u5728\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u8bbe\u7f6e\u4e3a 0.5\uff1f \u00b6 \u5bf9\u4e8e\u7b1b\u5361\u5c14\u5f0f\u6253\u5370\u673a\uff0cZ position_endstop \u5b9a\u4e49\u4e86\u5f53\u9650\u4f4d\u89e6\u53d1\u65f6\u55b7\u5634\u79bb\u5e8a\u7684\u8ddd\u79bb\u3002\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u5efa\u8bae\u4f7f\u7528 Z-max \u9650\u4f4d\u4f7f\u5f52\u4f4d\u65f6\u6253\u5370\u5934\u8fdc\u79bb\u5e8a\uff08\u56e0\u4e3a\u8fd9\u53ef\u4ee5\u51cf\u5c11\u78b0\u649e\u7684\u53d1\u751f\uff09\u3002\u5982\u679c\u5fc5\u987b\u671d\u5411\u5e8a\u5f52\u4f4d\uff0c\u90a3\u4e48\u5efa\u8bae\u5c06\u9650\u4f4d\u56fa\u5b9a\u5728\u55b7\u5634\u8ddd\u79bb\u5e8a\u8fd8\u6709\u4e00\u5c0f\u6bb5\u8ddd\u79bb\u65f6\u89e6\u53d1\u3002\u8fd9\u6837\uff0c\u5f53\u5f52\u4f4d Z \u8f74\u65f6\uff0c\u55b7\u5634\u4f1a\u5728\u63a5\u89e6\u5e8a\u4e4b\u524d\u505c\u6b62\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u6253\u5370\u5e8a\u8c03\u5e73\u6587\u6863 \u3002 \u6211\u4ece Marlin \u8f6c\u6362\u4e86\u6211\u7684\u914d\u7f6e\u5e76\u4e14 X/Y \u8f74\u5de5\u4f5c\u6b63\u5e38\uff0c\u4f46\u662f\u5728\u5f52\u4f4d Z \u8f74\u65f6\u6211\u53ea\u542c\u5230\u523a\u8033\u7684\u566a\u97f3\u4e14\u6253\u5370\u673a\u4e0d\u52a8 \u00b6 \u957f\u8bdd\u77ed\u8bf4\uff1a\u9996\u5148\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u6309\u7167 \u914d\u7f6e\u68c0\u67e5\u6587\u6863 \u4e2d\u63cf\u8ff0\u7684\u6b65\u9aa4\u9a8c\u8bc1\u4e86\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u3002\u5982\u679c\u95ee\u9898\u4ecd\u7136\u5b58\u5728\uff0c\u8bf7\u5c1d\u8bd5\u964d\u4f4e\u6253\u5370\u673a\u914d\u7f6e\u4e2d\u7684 max_z_velocity \u8bbe\u7f6e\u3002 \u5177\u4f53\u539f\u7406\uff1a\u5728\u5b9e\u8df5\u4e2d\uff0cMarlin \u901a\u5e38\u53ea\u80fd\u4ee5\u6bcf\u79d2 10000 \u6b65\u5de6\u53f3\u7684\u901f\u5ea6\u53d1\u9001\u6b65\u8fdb\u3002\u5982\u679c\u8981\u6c42\u5b83\u4ee5\u9700\u8981\u66f4\u9ad8\u7684\u6b65\u8fdb\u7387\u7684\u901f\u5ea6\u79fb\u52a8\uff0c\u90a3\u4e48 Marlin \u4f1a\u5c3d\u53ef\u80fd\u5feb\u5730\u6b65\u8fdb\u3002Klipper \u80fd\u591f\u5b9e\u73b0\u66f4\u9ad8\u7684\u6b65\u8fdb\u7387\uff0c\u4f46\u6b65\u8fdb\u7535\u673a\u53ef\u80fd\u6ca1\u6709\u8db3\u591f\u7684\u626d\u77e9\u4ee5\u66f4\u9ad8\u7684\u901f\u5ea6\u79fb\u52a8\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5177\u6709\u9ad8\u4f20\u52a8\u6bd4\u6216\u9ad8\u5fae\u6b65\u8bbe\u5b9a\u7684 Z \u8f74\uff0c\u5b9e\u9645\u7684\u6700\u5927\u901f\u5ea6\u53ef\u80fd\u5c0f\u4e8e Marlin \u4e2d\u914d\u7f6e\u7684\u503c\u3002 \u6211\u7684 TMC \u7535\u673a\u9a71\u52a8\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u5173\u95ed\u4e86 \u00b6 \u5982\u679c\u5728\u201c\u72ec\u7acb\u6a21\u5f0f\u201d\u4e2d\u4f7f\u7528 TMC2208\uff08\u6216 TMC2224\uff09\u9a71\u52a8\uff0c\u90a3\u4e48\u8bf7\u786e\u4fdd\u60a8\u6b63\u5728\u4f7f\u7528 \u6700\u65b0\u7248\u672c\u7684 Klipper \u30022020\u5e743\u6708\u4e2d\u65ec\uff0cKlipper \u4e2d\u4fee\u590d\u4e86 TMC2208 \u201cStealthChop\u201d \u9a71\u52a8\u7684\u95ee\u9898\u3002 \u6211\u4e0d\u65ad\u6536\u5230\u968f\u673a\u7684\"\u4e0eMCU\u5931\u53bb\u901a\u4fe1\"\u9519\u8bef \u00b6 \u8fd9\u901a\u5e38\u662f\u7531\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u7684 USB \u8fde\u63a5\u4e2d\u786c\u4ef6\u9519\u8bef\u5f15\u8d77\u7684\u3002\u6ce8\u610f\u8fd9\u4e9b\u95ee\u9898\uff1a \u5728\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u5e94\u8be5\u4f7f\u7528\u9ad8\u8d28\u91cfUSB\u7ebf\uff0c\u5e76\u786e\u4fdd\u63d2\u5934\u7262\u56fa\u3002 \u5982\u679c\u4f7f\u7528\u6811\u8393\u6d3e\uff0c\u8bf7\u4e3a\u6811\u8393\u6d3e\u4f7f\u7528 \u4f18\u8d28\u7535\u6e90 \uff0c\u5e76\u4f7f\u7528 \u4f18\u8d28USB\u7535\u7f06 \u5c06\u8be5\u7535\u6e90\u4e0ePi\u8fde\u63a5\u3002\u5982\u679c\u4f60\u4eceOctoPrint\u5f97\u5230 \"\u7535\u538b\u4e0d\u8db3 \"\u7684\u8b66\u544a\uff0c\u8fd9\u4e5f\u4e0e\u7535\u6e90\u6709\u5173\uff0c\u5fc5\u987b\u89e3\u51b3\u3002 \u8bf7\u786e\u4fdd\u6253\u5370\u673a\u7684\u7535\u6e90\u6ca1\u6709\u8fc7\u8f7d\u3002(\u5fae\u63a7\u5236\u5668 USB \u82af\u7247\u7684\u7535\u538b\u6ce2\u52a8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8be5\u82af\u7247\u6b20\u538b\u590d\u4f4d\u3002) \u786e\u8ba4\u6b65\u8fdb\u7535\u673a\u3001\u52a0\u70ed\u5668\u548c\u5176\u4ed6\u6253\u5370\u673a\u7535\u7ebf\u6ca1\u6709\u88ab\u538b\u574f\u6216\u78e8\u635f\u3002\uff08\u6253\u5370\u673a\u79fb\u52a8\u65f6\u53ef\u80fd\u5bf9\u6545\u969c\u7684\u7535\u7ebf\u65bd\u52a0\u538b\u529b\uff0c\u5bfc\u81f4\u5176\u5931\u53bb\u63a5\u89e6\u3001\u77ed\u6682\u77ed\u8def\u6216\u4ea7\u751f\u8fc7\u591a\u7684\u566a\u97f3\u3002\uff09 \u6709\u62a5\u544a\u79f0\uff0c\u5f53\u6253\u5370\u673a\u7684\u7535\u6e90\u548c\u4e3b\u673a\u76845V\u7535\u6e90\u6df7\u5408\u65f6\uff0cUSB\u566a\u97f3\u5f88\u5927\u3002(\u5982\u679c\u4f60\u53d1\u73b0\u5f53\u6253\u5370\u673a\u7684\u7535\u6e90\u6253\u5f00\u6216USB\u7535\u7f06\u63d2\u5165\u65f6\uff0c\u5fae\u63a7\u5236\u5668\u4f1a\u901a\u7535\uff0c\u90a3\u4e48\u8fd9\u8868\u660e5V\u7535\u6e90\u88ab\u6df7\u7528\u4e86\uff09\u3002\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u5176\u53ea\u4f7f\u7528\u4e00\u4e2a\u7535\u6e90\u53ef\u80fd\u4f1a\u6709\u5e2e\u52a9\u3002(\u53e6\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u4e3b\u677f\u4e0d\u80fd\u914d\u7f6e\u5176\u4f9b\u7535\u6765\u6e90\uff0c\u4e5f\u53ef\u4ee5\u4fee\u6539USB\u7535\u7f06\uff0c\u4f7f\u5176\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u4e0d\u5171\u4eab5V\u7535\u6e90\u3002\uff09 \u6211\u7684\u6811\u8393\u6d3e\u5728\u6253\u5370\u65f6\u4e0d\u65ad\u91cd\u542f \u00b6 \u8fd9\u5f88\u53ef\u80fd\u662f\u7531\u4e8e\u7535\u538b\u6ce2\u52a8\u5f15\u8d77\u7684\u3002\u8bf7\u9075\u5faa \"\u4e0eMCU\u5931\u53bb\u901a\u4fe1\" \u9519\u8bef\u540c\u6837\u7684\u6545\u969c\u6392\u9664\u6b65\u9aa4\u3002 \u5f53\u8bbe\u7f6e restart_method=command \u65f6\uff0c AVR \u8bbe\u5907\u5728\u91cd\u542f\u65f6\u5c31\u4f1a\u6b7b\u673a \u00b6 \u4e00\u4e9b\u65e7\u7248\u672c\u7684AVR\u5f15\u5bfc\u7a0b\u5e8f\u5728\u770b\u95e8\u72d7\u4e8b\u4ef6\u5904\u7406\u65b9\u9762\u6709\u4e00\u4e2a\u5df2\u77e5\u7684\u9519\u8bef\u3002\u8fd9\u901a\u5e38\u8868\u73b0\u5728printer.cfg\u6587\u4ef6\u4e2d\u7684restart_method\u8bbe\u7f6e\u4e3a \"command\"\u7684\u65f6\u5019\u3002\u5f53\u8fd9\u4e2a\u9519\u8bef\u53d1\u751f\u65f6\uff0cAVR\u8bbe\u5907\u4f1a\u6b7b\u673a\u76f4\u5230\u7535\u6e90\u88ab\u79fb\u9664\u5e76\u91cd\u65b0\u4e0a\u7535\uff08\u7535\u6e90\u6216\u72b6\u6001LED\u4e5f\u53ef\u80fd\u4e0d\u505c\u7684\u95ea\u70c1\u76f4\u5230\u65ad\u7535\uff09\u3002 \u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528 \"command \"\u4ee5\u5916\u7684\u91cd\u542f\u65b9\u6cd5\uff0c\u6216\u8005\u5728AVR\u8bbe\u5907\u4e0a\u5237\u5199\u4e00\u4e2a\u65b0\u7684\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5237\u5199\u4e00\u4e2a\u65b0\u7684\u5f15\u5bfc\u7a0b\u5e8f\u662f\u4e00\u4e2a\u4e00\u6b21\u6027\u7684\u6b65\u9aa4\uff0c\u901a\u5e38\u9700\u8981\u4e00\u4e2a\u5916\u90e8\u7f16\u7a0b\u5668--\u66f4\u591a\u7ec6\u8282\u8bf7\u53c2\u89c1 Bootloaders \u3002 \u5982\u679c Raspberry Pi \u5d29\u6e83\u4e86\uff0c\u52a0\u70ed\u5668\u4f1a\u4e00\u76f4\u52a0\u70ed\u5417\uff1f \u00b6 Klipper \u7684\u8bbe\u8ba1\u9632\u6b62\u4e86\u8fd9\u79cd\u60c5\u51b5\u3002\u4e00\u65e6\u4e3b\u673a\u542f\u7528\u4e86\u4e00\u4e2a\u52a0\u70ed\u5668\uff0c\u4e3b\u673a\u8f6f\u4ef6\u9700\u8981\u6bcf 5 \u79d2\u949f\u786e\u8ba4\u4e00\u6b21\u542f\u7528\u72b6\u6001\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u6ca1\u6709\u6536\u5230\u6bcf 5 \u79d2\u7684\u786e\u8ba4\uff0c\u5b83\u5c31\u4f1a\u8fdb\u5165\"\u5173\u95ed\"\u72b6\u6001\uff0c\u8be5\u72b6\u6001\u4f1a\u5173\u95ed\u6240\u6709\u52a0\u70ed\u5668\u548c\u6b65\u8fdb\u7535\u673a\u3002 \u8be6\u60c5\u8bf7\u89c1 MCU \u547d\u4ee4 \u6587\u6863\u4e2d\u7684 \"config_digital_out\" \u547d\u4ee4\u3002 \u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5728\u542f\u52a8\u65f6\u4e3a\u6bcf\u4e2a\u52a0\u70ed\u5668\u914d\u7f6e\u4e86\u6700\u4f4e\u548c\u6700\u9ad8\u6e29\u5ea6\u8303\u56f4\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \u4e2d\u7684min_temp\u548cmax_temp\u53c2\u6570\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u68c0\u6d4b\u5230\u6e29\u5ea6\u8d85\u51fa\u4e86\u8be5\u8303\u56f4\uff0c\u90a3\u4e48\u5b83\u4e5f\u5c06\u8fdb\u5165 \"\u5173\u673a \"\u72b6\u6001\u3002 \u53e6\u5916\uff0c\u4e3b\u673a\u8f6f\u4ef6\u8fd8\u5b9e\u73b0\u4e86\u68c0\u67e5\u52a0\u70ed\u5668\u548c\u6e29\u5ea6\u4f20\u611f\u5668\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u7684\u4ee3\u7801\u3002\u8be6\u60c5\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002 \u5982\u4f55\u5c06 Marlin \u5f15\u811a\u7f16\u53f7\u8f6c\u6362\u4e3a Klipper \u5f15\u811a\u540d\u79f0\uff1f \u00b6 \u7b80\u8981\u56de\u7b54\uff1a\u5728 sample-aliases.cfg \u6587\u4ef6\u4e2d\u6709\u4e00\u4e2a\u6620\u5c04\u3002\u4f7f\u7528\u8be5\u6587\u4ef6\u4f5c\u4e3a\u6307\u5f15\u6765\u5bfb\u627e\u5b9e\u9645\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u79f0\u3002(\u4e5f\u53ef\u4ee5\u5c06\u76f8\u5173\u7684 board_pins \u914d\u7f6e\u90e8\u5206\u590d\u5236\u5230\u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5728\u4f60\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528\u522b\u540d\uff0c\u4f46\u6700\u597d\u662f\u7ffb\u8bd1\u5e76\u4f7f\u7528\u5b9e\u9645\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u79f0\u3002) \u8bf7\u6ce8\u610f\uff0csample-aliases.cfg\u6587\u4ef6\u4f7f\u7528\u4ee5 \"ar \"\u5f00\u5934\u7684\u5f15\u811a\u540d\u79f0\u66ff\u6362 \"D\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u811a D23 \u662fKlipper\u522b\u540d ar23 \uff09\u548c\u4ee5 \"analog \"\u5f00\u5934\u7684\u5f15\u811a\u540d\u79f0\u66ff\u6362 \"A\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u811a A14 \u662fKlipper\u522b\u540d analog14 \uff09\u3002 \u8be6\u7ec6\u7b54\u6848\uff1aKlipper\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u4e49\u7684\u6807\u51c6\u5f15\u811a\u540d\u79f0\u3002\u5728 Atmega \u82af\u7247\u4e0a\uff0c\u8fd9\u4e9b\u786c\u4ef6\u5f15\u811a\u7684\u540d\u79f0\u7c7b\u4f3c\u4e8e PA4 \u3001 PC7 \u6216 PD2 \u3002 \u5f88\u4e45\u4ee5\u524d\uff0cArduino\u9879\u76ee\u51b3\u5b9a\u907f\u514d\u4f7f\u7528\u6807\u51c6\u7684\u786c\u4ef6\u540d\u79f0\uff0c\u800c\u91c7\u7528\u4ed6\u4eec\u81ea\u5df1\u7684\u57fa\u4e8e\u9012\u589e\u6570\u5b57\u7684\u5f15\u811a\u540d\u79f0--\u8fd9\u4e9bArduino\u540d\u79f0\u4e00\u822c\u770b\u8d77\u6765\u50cf D23 \u6216 A14 \u3002\u8fd9\u662f\u4e00\u4e2a\u4e0d\u5e78\u7684\u9009\u62e9\uff0c\u5bfc\u81f4\u4e86\u5927\u91cf\u7684\u6df7\u4e71\u3002\u7279\u522b\u662fArduino\u7684\u5f15\u811a\u53f7\u7801\u7ecf\u5e38\u4e0d\u80fd\u8f6c\u6362\u4e3a\u76f8\u540c\u7684\u786c\u4ef6\u540d\u79f0\u3002\u4f8b\u5982\uff0c D21 \u5728\u4e00\u4e2a\u5e38\u89c1\u7684Arduino\u677f\u4e0a\u662f PD0 \uff0c\u4f46\u5728\u53e6\u4e00\u4e2a\u5e38\u89c1\u7684Arduino\u677f\u4e0a\u662f PC7 \u3002 \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u6df7\u6dc6\uff0cKlipper \u6838\u5fc3\u4ee3\u7801\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u4e49\u7684\u6807\u51c6\u5f15\u811a\u540d\u79f0\u3002 \u6211\u5fc5\u987b\u5c06\u8bbe\u5907\u8fde\u63a5\u5230\u7279\u5b9a\u7c7b\u578b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u5417\uff1f \u00b6 \u8fd9\u53d6\u51b3\u4e8e\u8bbe\u5907\u548c\u5f15\u811a\u7684\u7c7b\u578b\uff1a ADC \u5f15\u811a\uff08\u6216\u6a21\u62df\u5f15\u811a\uff09\uff1a\u70ed\u654f\u7535\u963b\u548c\u7c7b\u4f3c\u7684\u201c\u6a21\u62df\u201d\u4f20\u611f\u5668\u5fc5\u987b\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u5177\u6709\u201c\u6a21\u62df\u201d\u6216\u201cADC\u201d\u529f\u80fd\u7684\u5f15\u811a\u3002\u5982\u679c\u60a8\u5728 Klipper \u4e0a\u4e3a\u4e00\u4e2a\u6a21\u62df\u4f20\u611f\u5668\u914d\u7f6e\u4e3a\u4f7f\u7528\u4e0d\u5177\u5907\u6a21\u62df\u529f\u80fd\u7684\u5f15\u811a\uff0cKlipper \u5c06\u62a5\u544a\u201cNot a valid ADC pin\u201d\u9519\u8bef\u3002 PWM\u5f15\u811a\uff08\u6216\u5b9a\u65f6\u5668\u5f15\u811a\uff09\u3002Klipper\u9ed8\u8ba4\u4e0d\u5728\u4efb\u4f55\u8bbe\u5907\u4e0a\u4f7f\u7528\u786c\u4ef6PWM\u3002\u56e0\u6b64\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u53ef\u4ee5\u5c06\u70ed\u7aef\u3001\u98ce\u6247\u548c\u7c7b\u4f3c\u7684\u8bbe\u5907\u8fde\u63a5\u5230\u4efb\u4f55\u7684\u901a\u7528IO\u5f15\u811a\u3002\u7136\u800c\uff0c\u98ce\u6247\u548coutput_pin\u8bbe\u5907\u53ef\u4ee5\u9009\u62e9\u914d\u7f6e\u4e3a\u4f7f\u7528 hardware_pwm: True \uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5fae\u63a7\u5236\u5668\u5728\u8fd9\u4e2a\u5f15\u811a\u4e0a\u5fc5\u987b\u652f\u6301\u786c\u4ef6PWM\uff08\u5426\u5219\uff0cKlipper\u5c06\u62a5\u544a \"\u4e0d\u662f\u6709\u6548\u7684PWM\u5f15\u811a \"\u9519\u8bef\uff09\u3002 IRQ\u5f15\u811a\uff08\u6216\u4e2d\u65ad\u5f15\u811a\uff09\u3002Klipper\u4e0d\u4f7f\u7528IO\u5f15\u811a\u4e0a\u7684\u786c\u4ef6\u4e2d\u65ad\uff0c\u6240\u4ee5\u6ca1\u6709\u5fc5\u8981\u5c06\u8bbe\u5907\u8fde\u63a5\u5230\u8fd9\u4e9b\u5fae\u63a7\u5236\u5668\u5f15\u811a\u4e0a\u3002 SPI \u5f15\u811a\uff1a\u4f7f\u7528\u786c\u4ef6 SPI \u65f6\uff0c\u9700\u8981\u5c06\u5f15\u811a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684 SPI \u5f15\u811a\u3002\u4f46\u662f\uff0c\u5927\u591a\u6570\u8bbe\u5907\u90fd\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4f7f\u7528\u201c\u8f6f\u4ef6 SPI\u201d\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u901a\u7528 IO \u5f15\u811a\u3002 I2C \u5f15\u811a\uff1a\u4f7f\u7528 I2C \u65f6\uff0c\u5fc5\u987b\u5c06\u5f15\u811a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u652f\u6301 I2C \u7684\u5f15\u811a\u3002 \u5176\u4ed6\u8bbe\u5907\u53ef\u4ee5\u8fde\u63a5\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u811a\u3002\u4f8b\u5982\uff0c\u6b65\u8fdb\u7535\u673a\u3001\u52a0\u70ed\u5668\u3001\u98ce\u6247\u3001Z\u63a2\u5934\u3001\u8235\u673a\u3001LED\u3001\u901a\u7528\u7684hd44780/st7920\u6db2\u6676\u663e\u793a\u5668\u548cTrinamic UART\u63a7\u5236\u7ebf\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u811a\u3002 \u5982\u4f55\u53d6\u6d88 M109/M190 \"\u7b49\u5f85\u8fbe\u5230\u76ee\u6807\u6e29\u5ea6\"\u7684\u8bf7\u6c42\uff1f \u00b6 \u5bfc\u822a\u5230OctoPrint\u7ec8\u7aef\u6807\u7b7e\u9875\uff0c\u5728\u7ec8\u7aef\u6846\u4e2d\u8f93\u5165M112\u547d\u4ee4\u3002M112\u547d\u4ee4\u5c06\u4f7fKlipper\u8fdb\u5165 \"\u5173\u673a \"\u72b6\u6001\uff0c\u5b83\u5c06\u4f7fOctoPrint\u4eceKlipper\u65ad\u5f00\u3002\u5bfc\u822a\u5230OctoPrint\u8fde\u63a5\u533a\uff0c\u70b9\u51fb \"\u8fde\u63a5\"\uff0c\u4f7fOctoPrint\u91cd\u65b0\u8fde\u63a5\u3002\u5bfc\u822a\u56de\u5230\u7ec8\u7aef\u6807\u7b7e\u9875\uff0c\u8f93\u5165FIRMWARE_RESTART\u547d\u4ee4\u4ee5\u6e05\u9664Klipper\u7684\u9519\u8bef\u72b6\u6001\u3002\u5b8c\u6210\u8fd9\u4e00\u7cfb\u5217\u64cd\u4f5c\u5c06\u53d6\u6d88\u5148\u524d\u7684\u52a0\u70ed\u8bf7\u6c42\uff0c\u53ef\u4ee5\u5f00\u59cb\u65b0\u7684\u6253\u5370\u3002 \u600e\u4e48\u68c0\u67e5\u6253\u5370\u673a\u662f\u5426\u53d1\u751f\u4e86\u4e22\u6b65? \u00b6 \u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u662f\u7684\u3002\u5c06\u6253\u5370\u673a\u5f52\u4f4d\uff0c\u53d1\u51fa GET_POSITION \u547d\u4ee4\uff0c\u8fd0\u884c\u6253\u5370\uff0c\u518d\u6b21\u5f52\u4f4d\uff0c\u518d\u53d1\u51fa GET_POSITION \u3002\u7136\u540e\u6bd4\u8f83 mcu: \u884c\u4e2d\u7684\u503c\u3002 \u8fd9\u53ef\u80fd\u6709\u52a9\u4e8e\u8c03\u6574\u6b65\u8fdb\u7535\u673a\u7535\u6d41\u3001\u52a0\u901f\u5ea6\u548c\u901f\u5ea6\u7b49\u8bbe\u7f6e\uff0c\u800c\u4e0d\u9700\u8981\u5b9e\u9645\u6253\u5370\u4e1c\u897f\u548c\u6d6a\u8d39\u6750\u6599\uff1a\u53ea\u8981\u5728 GET_POSITION \u547d\u4ee4\u4e4b\u95f4\u8fd0\u884c\u4e00\u4e9b\u9ad8\u901f\u79fb\u52a8\u3002 \u8bf7\u6ce8\u610f\uff0c\u9650\u4f4d\u5f00\u5173\u672c\u8eab\u7684\u89e6\u53d1\u4f4d\u7f6e\u7565\u6709\u4e0d\u540c\uff0c\u6240\u4ee5\u5bfc\u81f4\u9650\u4f4d\u5f00\u5173\u89e6\u53d1\u7ed3\u679c\u53ef\u80fd\u6709\u51e0\u4e2a\u5fae\u6b65\u7684\u8bef\u5dee\u3002\u6b65\u8fdb\u7535\u673a\u672c\u8eab\u53ea\u80fd\u4ee54\u4e2a\u6574\u6b65\u4e3a\u589e\u91cf\u635f\u5931\u6b65\u6570\u3002(\u56e0\u6b64\uff0c\u5982\u679c\u4f7f\u752816\u4e2a\u5fae\u6b65\uff0c\u90a3\u4e48\u6b65\u8fdb\u5668\u7535\u673a\u4e0a\u7684\u5931\u6b65\u5c06\u5bfc\u81f4 \"MCU: \"\u6b65\u8fdb\u8ba1\u6570\u5668\u504f\u79bb64\u5fae\u6b65\u7684\u500d\u6570\u3002\uff09 \u4e3a\u4ec0\u4e48 Klipper \u4f1a\u62a5\u9519\uff1f\u6211\u6536\u4e86\u4e00\u76d8\u9762\u6761\uff08\u6211\u53c8\u6253\u5e9f\u4e86\uff09\uff01 \u00b6 \u7b80\u77ed\u7684\u56de\u7b54\uff1a\u6211\u4eec\u60f3\u77e5\u9053\u6253\u5370\u673a\u662f\u5426\u68c0\u6d4b\u5230\u95ee\u9898\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u89e3\u51b3\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u5c31\u53ef\u4ee5\u83b7\u5f97\u9ad8\u8d28\u91cf\u7684\u6253\u5370\u4ef6\u3002\u6211\u4eec\u7edd\u5bf9\u4e0d\u5e0c\u671b\u6253\u5370\u673a\u9ed8\u9ed8\u5730\u751f\u4ea7\u4f4e\u8d28\u91cf\u7684\u6253\u5370\u4ef6\u3002 \u8be6\u7ec6\u7b54\u6848\uff1aKlipper\u88ab\u8bbe\u8ba1\u6210\u80fd\u591f\u81ea\u52a8\u89e3\u51b3\u8bb8\u591a\u77ac\u65f6\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u5b83\u81ea\u52a8\u68c0\u6d4b\u5230\u901a\u4fe1\u9519\u8bef\uff0c\u5e76\u4f1a\u91cd\u65b0\u4f20\u8f93\uff1b\u5b83\u63d0\u524d\u5b89\u6392\u884c\u52a8\uff0c\u5e76\u5728\u591a\u5c42\u7f13\u51b2\u547d\u4ee4\uff0c\u4ee5\u4fbf\u5373\u4f7f\u6709\u95f4\u6b47\u6027\u5e72\u6270\u4e5f\u80fd\u7cbe\u786e\u63a7\u5236\u65f6\u5e8f\u3002\u7136\u800c\uff0c\u5982\u679c\u8f6f\u4ef6\u68c0\u6d4b\u5230\u5b83\u65e0\u6cd5\u6062\u590d\u7684\u9519\u8bef\uff0c\u6216\u8005\u5b83\u88ab\u547d\u4ee4\u91c7\u53d6\u65e0\u6548\u7684\u884c\u52a8\uff0c\u6216\u8005\u5b83\u68c0\u6d4b\u5230\u5b83\u65e0\u6cd5\u6267\u884c\u5176\u88ab\u547d\u4ee4\u7684\u4efb\u52a1\uff0c\u90a3\u4e48Klipper\u5c06\u62a5\u544a\u9519\u8bef\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4ea7\u751f\u4f4e\u8d28\u91cf\u5370\u5237\u4ef6\uff08\u6216\u66f4\u7cdf\uff09\u7684\u98ce\u9669\u5f88\u5927\u3002\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u63d0\u9192\u7528\u6237\uff0c\u4f7f\u4ed6\u4eec\u6709\u80fd\u529b\u89e3\u51b3\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u63d0\u9ad8\u6253\u5370\u7684\u6574\u4f53\u8d28\u91cf\u3002 \u6709\u4e00\u4e9b\u76f8\u5173\u7684\u95ee\u9898\u3002\u4e3a\u4ec0\u4e48Klipper\u4e0d\u6682\u505c\u6253\u5370\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u5148\u8b66\u544a\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u5728\u6253\u5370\u524d\u68c0\u67e5\u9519\u8bef\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u5ffd\u7565\u7528\u6237\u8f93\u5165\u7684\u547d\u4ee4\u4e2d\u7684\u9519\u8bef\uff1f\u7b49\u7b49\uff1f\u76ee\u524d\uff0cKlipper\u4f7f\u7528G-Code\u534f\u8bae\u8bfb\u53d6\u547d\u4ee4\uff0c\u4e0d\u5e78\u7684\u662f\uff0cG-Code\u547d\u4ee4\u534f\u8bae\u4e0d\u591f\u7075\u6d3b\uff0c\u5bfc\u81f4\u73b0\u5728\u5e76\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e9b\u66ff\u4ee3\u65b9\u6848\u3002\u5f00\u53d1\u8005\u5bf9\u6539\u5584\u5f02\u5e38\u4e8b\u4ef6\u4e2d\u7684\u7528\u6237\u4f53\u9a8c\u5f88\u611f\u5174\u8da3\uff0c\u4f46\u9884\u8ba1\u8fd9\u5c06\u9700\u8981\u5927\u91cf\u7684\u5e95\u5c42\u5de5\u4f5c\uff08\u5305\u62ec\u4eceG-Code\u7684\u8fc1\u79fb\u5230\u522b\u7684\u65b9\u5f0f\uff09\u3002 \u6211\u600e\u6837\u624d\u80fd\u5347\u7ea7\u5230\u6700\u65b0\u7684\u8f6f\u4ef6\uff1f \u00b6 \u5347\u7ea7\u8f6f\u4ef6\u7684\u7b2c\u4e00\u6b65\u662f\u67e5\u770b\u6700\u65b0\u7684 \u914d\u7f6e\u53d8\u66f4 \u6587\u4ef6\u3002\u4f5c\u4e3a\u8f6f\u4ef6\u5347\u7ea7\u7684\u4e00\u90e8\u5206\uff0c\u5076\u5c14\u6709\u65f6\u5019\u8f6f\u4ef6\u4f1a\u6709\u4e00\u4e9b\u53d8\u5316\u9700\u8981\u7528\u6237\u66f4\u65b0\u4ed6\u4eec\u7684\u8bbe\u7f6e\u3002\u5728\u5347\u7ea7\u524d\u6700\u597d\u67e5\u770b\u8be5\u6587\u4ef6\u3002 \u5f53\u51c6\u5907\u5347\u7ea7\u65f6\uff0c\u4e00\u822c\u7684\u65b9\u6cd5\u662fssh\u8fdb\u5165\u6811\u8393\u6d3e\u5e76\u8fd0\u884c\uff1a cd ~/klipper git pull ~/klipper/scripts/install-octopi.sh \u7136\u540e\u53ef\u4ee5\u91cd\u65b0\u7f16\u8bd1\u548c\u5237\u5199\u5fae\u63a7\u5236\u5668\u7684\u4ee3\u7801\u3002\u4f8b\u5982\uff1a make menuconfig make clean make sudo service klipper stop make flash FLASH_DEVICE=/dev/ttyACM0 sudo service klipper start \u7136\u800c\uff0c\u901a\u5e38\u662f\u53ea\u6709\u4e3b\u673a\u8f6f\u4ef6\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u65f6\u53ef\u4ee5\u53ea\u66f4\u65b0\u548c\u91cd\u65b0\u542f\u52a8\u4e3b\u673a\u8f6f\u4ef6\uff1a cd ~/klipper git pull sudo service klipper restart \u5982\u679c\u5728\u4f7f\u7528\u8fd9\u4e2a\u5feb\u901f\u65b9\u5f0f\u540e\uff0c\u8f6f\u4ef6\u8b66\u544a\u8bf4\u9700\u8981\u91cd\u65b0\u5237\u5199\u5fae\u63a7\u5236\u5668\u6216\u51fa\u73b0\u5176\u4ed6\u4e0d\u5e38\u89c1\u7684\u9519\u8bef\uff0c\u90a3\u4e48\u8bf7\u6309\u7167\u4e0a\u9762\u6240\u8ff0\u7684\u5b8c\u6574\u5347\u7ea7\u6b65\u9aa4\u8fdb\u884c\u3002 \u5982\u679c\u4efb\u4f55\u9519\u8bef\u6301\u7eed\u5b58\u5728\uff0c\u90a3\u4e48\u8bf7\u4ed4\u7ec6\u68c0\u67e5 config changes \u6587\u4ef6\uff0c\u56e0\u4e3a\u53ef\u80fd\u9700\u8981\u4fee\u6539\u6253\u5370\u673a\u914d\u7f6e\u3002 \u8bf7\u6ce8\u610f\uff0cRESTART\u548cFIRMWARE_RESTART g-code\u547d\u4ee4\u4e0d\u4f1a\u52a0\u8f7d\u65b0\u7684\u8f6f\u4ef6--\u9700\u8981\u4f7f\u7528\u4e0a\u8ff0 \"sudo service klipper restart \"\u548c \"make flash \"\u547d\u4ee4\u624d\u80fd\u4f7f\u8f6f\u4ef6\u53d8\u5316\u751f\u6548\u3002 \u5982\u4f55\u5378\u8f7dKlipper\uff1f \u00b6 \u5728\u56fa\u4ef6\u7aef\uff0c\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u9700\u8981\u505a\u7684\u3002\u53ea\u8981\u5237\u5199\u65b0\u56fa\u4ef6\u5c31\u53ef\u4ee5\u4e86\u3002 \u5728\u6811\u8393\u6d3e\u4e0a\uff0c\u5378\u8f7d\u811a\u672c\u5728\u8fd9\u91cc scripts/klipper-uninstall.sh \u3002\u4f8b\u5982\uff1a sudo ~/klipper/scripts/klipper-uninstall.sh rm -rf ~/klippy-env ~/klipper","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"FAQ.html#_1","text":"\u5982\u4f55\u5bf9\u9879\u76ee\u6350\u6b3e\uff1f \u5982\u4f55\u8ba1\u7b97rotation_distance\u914d\u7f6e\u53c2\u6570\uff1f \u5728\u54ea\u91cc\u627e\u4e32\u53e3\u53f7\uff1f \u5f53\u5fae\u63a7\u5236\u5668\u91cd\u542f\u65f6\u4e32\u53e3\u53d8\u6210\u4e86/dev/ttyUSB1 \u201cmake flash\u201d\u547d\u4ee4\u4e0d\u8d77\u4f5c\u7528 \u5982\u4f55\u66f4\u6539\u4e32\u53e3\u6ce2\u7279\u7387\uff1f \u6211\u53ef\u4ee5\u5728 Raspberry Pi 3 \u4ee5\u5916\u7684\u5176\u4ed6\u8bbe\u5907\u4e0a\u8fd0\u884c Klipper \u5417\uff1f \u6211\u53ef\u4ee5\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a\u8fd0\u884c\u591a\u4e2a Klipper \u5b9e\u4f8b\u5417\uff1f \u6211\u5fc5\u987b\u4f7f\u7528 OctoPrint \u5417\uff1f \u4e3a\u4ec0\u4e48\u6211\u4e0d\u80fd\u5728\u5f52\u4f4d\u6253\u5370\u673a\u4e4b\u524d\u79fb\u52a8\u6b65\u8fdb\u5668\uff1f \u4e3a\u4ec0\u4e48\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u7684 Z position_endstop \u8bbe\u7f6e\u4e3a 0.5\uff1f \u6211\u4ece Marlin \u8f6c\u6362\u4e86\u6211\u7684\u914d\u7f6e\uff0cX/Y \u8f74\u5de5\u4f5c\u6b63\u5e38\uff0c\u4f46\u5728 Z \u8f74\u5f52\u4f4d\u65f6\u6211\u53ea\u4f1a\u542c\u5230\u523a\u8033\u7684\u566a\u97f3 \u6211\u7684 TMC \u7535\u673a\u9a71\u52a8\u7a0b\u5e8f\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u5173\u95ed \u6211\u4e0d\u65ad\u6536\u5230\u968f\u673a\u7684\u201c\u4e0e MCU \u5931\u53bb\u901a\u4fe1\u201d\u9519\u8bef \u6211\u7684\u6811\u8393\u6d3e\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u91cd\u542f \u5f53\u6211\u8bbe\u7f6e restart_method=command \u65f6\uff0c\u6211\u7684 AVR \u8bbe\u5907\u5728\u91cd\u542f\u65f6\u6302\u8d77 \u5982\u679c Raspberry Pi \u5d29\u6e83\uff0c\u52a0\u70ed\u5668\u4f1a\u7ee7\u7eed\u6253\u5f00\u5417\uff1f \u5982\u4f55\u5c06 Marlin \u5f15\u811a\u7f16\u53f7\u8f6c\u6362\u4e3a Klipper \u5f15\u811a\u540d\u79f0\uff1f \u6211\u5fc5\u987b\u5c06\u6211\u7684\u8bbe\u5907\u8fde\u63a5\u5230\u7279\u5b9a\u7c7b\u578b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u5417\uff1f \u6211\u5982\u4f55\u53d6\u6d88 M109/M190\u201c\u7b49\u5f85\u6e29\u5ea6\u201d\u8bf7\u6c42\uff1f \u53ef\u4ee5\u67e5\u4e00\u4e0b\u6253\u5370\u673a\u662f\u5426\u4e22\u6b65\u5417\uff1f \u4e3a\u4ec0\u4e48Klipper\u4f1a\u62a5\u9519\uff1f \u6211\u6253\u5370\u7684\u6587\u4ef6\u4e22\u4e86\uff01 \u5982\u4f55\u5347\u7ea7\u5230\u6700\u65b0\u8f6f\u4ef6\uff1f \u5982\u4f55\u5378\u8f7d klipper\uff1f","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"FAQ.html#_2","text":"\u8c22\u8c22\u3002Kevin\u6709\u4e00\u4e2aPATREON\u9875\u9762\uff0c\u5730\u5740\u662f\uff1a https://www.patreon.com/koconnor","title":"\u6211\u5982\u4f55\u5411\u9879\u76ee\u6350\u6b3e\uff1f"},{"location":"FAQ.html#rotation_distance","text":"\u53c2\u89c1 \u65cb\u8f6c\u8ddd\u79bb\u6587\u6863 \u3002","title":"\u5982\u4f55\u8ba1\u7b97 rotation_distance \u914d\u7f6e\u53c2\u6570\uff1f"},{"location":"FAQ.html#_3","text":"\u67e5\u627e USB \u4e32\u884c\u7aef\u53e3\u7684\u4e00\u822c\u65b9\u6cd5\u662f\u4ece\u4e3b\u673a\u4e0a\u7684 ssh \u7ec8\u7aef\u8fd0\u884c ls /dev/serial/by-id/* \u3002 \u5b83\u53ef\u80fd\u4f1a\u4ea7\u751f\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u5185\u5bb9\u7684\u8f93\u51fa\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u627e\u5230\u7684\u540d\u79f0\u662f\u7a33\u5b9a\u7684\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4f7f\u7528\u5b83\uff0c\u540c\u65f6\u53ef\u7528\u4e8e\u5237\u5199\u5fae\u63a7\u5236\u5668\u7684\u4ee3\u7801\u3002 \u4f8b\u5982\uff0c\u4e00\u4e2a flash \u547d\u4ee4\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u66f4\u65b0\u540e\u7684\u914d\u7f6e\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u8bf7\u52a1\u5fc5\u4ece\u4e0a\u9762\u8fd0\u884c\u7684\u201cls\u201d\u547d\u4ee4\u4e2d\u590d\u5236\u5e76\u7c98\u8d34\u540d\u79f0\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u6253\u5370\u673a\u7684\u540d\u79f0\u90fd\u4e0d\u540c\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u591a\u4e2a\u5fae\u63a7\u5236\u5668\u5e76\u4e14\u5b83\u4eec\u6ca1\u6709\u552f\u4e00\u7684 ID\uff08\u5728\u5e26\u6709 CH340 USB \u82af\u7247\u7684\u677f\u4e0a\u5f88\u5e38\u89c1\uff09\uff0c\u90a3\u4e48\u8bf7\u6309\u7167\u4e0a\u9762\u7684\u8bf4\u660e\u4f7f\u7528\u547d\u4ee4 ls /dev/serial/by-path/* \u4ee3\u66ff\u3002","title":"\u6211\u7684\u4e32\u53e3\u5728\u54ea\u91cc\u627e\uff1f"},{"location":"FAQ.html#devttyusb1","text":"\u6309\u7167\u201c \u6211\u7684\u4e32\u884c\u7aef\u53e3\u5728\u54ea\u91cc\u627e\uff1f \u201d\u90e8\u5206\u4e2d\u7684\u8bf4\u660e\u6765\u9632\u6b62\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u3002","title":"\u5f53\u5fae\u63a7\u5236\u5668\u91cd\u65b0\u542f\u52a8\u8bbe\u5907\u66f4\u6539\u4e3a/dev/ttyUSB1"},{"location":"FAQ.html#make-flash","text":"\u8be5\u4ee3\u7801\u5c1d\u8bd5\u4f7f\u7528\u6bcf\u4e2a\u5e73\u53f0\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u6765\u5237\u5199\u8bbe\u5907\u3002 \u4e0d\u5e78\u7684\u662f\uff0c\u5237\u5199\u65b9\u6cd5\u5b58\u5728\u5f88\u591a\u5dee\u5f02\uff0c\u56e0\u6b64\u201cmake flash\u201d\u547d\u4ee4\u53ef\u80fd\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u4e3b\u677f\u3002 \u5982\u679c\u60a8\u9047\u5230\u95f4\u6b47\u6027\u6545\u969c\u6216\u60a8\u786e\u5b9e\u6709\u6807\u51c6\u8bbe\u7f6e\uff0c\u8bf7\u4ed4\u7ec6\u68c0\u67e5\u5237\u5199\u65f6 Klipper \u662f\u5426\u672a\u8fd0\u884c\uff08sudo service klipper stop\uff09\uff0c\u786e\u4fdd OctoPrint \u672a\u5c1d\u8bd5\u76f4\u63a5\u8fde\u63a5\u5230\u8bbe\u5907\uff08\u6253\u5f00 \u7f51\u9875\u4e2d\u7684\u8fde\u63a5\u9009\u9879\u5361\uff0c\u5982\u679c\u4e32\u884c\u7aef\u53e3\u8bbe\u7f6e\u4e3a\u8bbe\u5907\uff0c\u5219\u5355\u51fb\u65ad\u5f00\u8fde\u63a5\uff09\uff0c\u5e76\u786e\u4fdd\u4e3a\u60a8\u7684\u7535\u8def\u677f\u6b63\u786e\u8bbe\u7f6e\u4e86 FLASH_DEVICE\uff08\u8bf7\u53c2\u9605 \u4e0a\u9762\u7684\u95ee\u9898 \uff09\u3002 \u4f46\u662f\uff0c\u5982\u679c\u201cmake flash\u201d\u5bf9\u60a8\u7684\u7535\u8def\u677f\u4e0d\u8d77\u4f5c\u7528\uff0c\u90a3\u4e48\u60a8\u5c06\u9700\u8981\u624b\u52a8\u5237\u5199\u3002 \u67e5\u770b config directory \u4e2d\u662f\u5426\u6709\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\uff0c\u91cc\u9762\u6709\u5237\u673a\u7684\u5177\u4f53\u8bf4\u660e\u3002 \u6b64\u5916\uff0c\u8bf7\u67e5\u770b\u7535\u8def\u677f\u5236\u9020\u5546\u7684\u6587\u6863\uff0c\u770b\u770b\u5b83\u662f\u5426\u63cf\u8ff0\u4e86\u5982\u4f55\u5237\u5199\u8bbe\u5907\u3002 \u6700\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u8bf8\u5982\u201cavrdude\u201d\u6216\u201cbossac\u201d\u4e4b\u7c7b\u7684\u5de5\u5177\u624b\u52a8\u5237\u5199\u8bbe\u5907\u2014\u2014\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u6587\u6863 \u3002","title":"\u201cmake flash\u201d\u547d\u4ee4\u4e0d\u8d77\u4f5c\u7528"},{"location":"FAQ.html#_4","text":"Klipper\u7684\u63a8\u8350\u6ce2\u7279\u7387\u662f 250000\u3002\u8fd9\u4e2a\u6ce2\u7279\u7387\u5728 Klipper \u652f\u6301\u7684\u6240\u6709\u5fae\u63a7\u5236\u5668\u677f\u4e0a\u90fd\u5f88\u597d\u7528\u3002\u5982\u679c\u4f60\u53d1\u73b0\u7f51\u4e0a\u7684\u6307\u5357\u63a8\u8350\u4e86\u4e00\u4e2a\u4e0d\u540c\u7684\u6ce2\u7279\u7387\uff0c\u90a3\u4e48\u8bf7\u5ffd\u7565\u8fd9\u90e8\u5206\u6307\u5357\uff0c\u7ee7\u7eed\u4f7f\u7528\u9ed8\u8ba4\u503c 250000\u3002 \u5982\u679c\u4f60\u8fd8\u662f\u60f3\u6539\u53d8\u6ce2\u7279\u7387\uff0c\u90a3\u4e48\u9700\u8981\u91cd\u65b0\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u4e3a\u65b0\u7684\u6ce2\u7279\u7387\uff08\u5728 make menuconfig \u8fc7\u7a0b\u4e2d\uff09\uff0c\u7136\u540e\u5c06\u66f4\u65b0\u7684\u4ee3\u7801\u7f16\u8bd1\u5e76\u5237\u5199\u5230\u5fae\u63a7\u5236\u5668\u4e2d\u3002Klipper \u7684 printer.cfg \u6587\u4ef6\u4e5f\u9700\u8981\u66f4\u65b0\u4ee5\u5339\u914d\u8be5\u6ce2\u7279\u7387\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002\u4f8b\u5982\uff1a [mcu] baud: 250000 OctoPrint \u7f51\u9875\u4e0a\u663e\u793a\u7684\u6ce2\u7279\u7387\u5bf9\u5185\u90e8 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u6ca1\u6709\u5f71\u54cd\u3002\u4f7f\u7528 Klipper \u65f6\uff0c\u59cb\u7ec8\u5c06 OctoPrint \u7684\u6ce2\u7279\u7387\u8bbe\u7f6e\u4e3a250000\u3002 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u4e0e\u5fae\u63a7\u5236\u5668\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u7684\u6ce2\u7279\u7387\u65e0\u5173\u3002\u6709\u5173\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u7684\u989d\u5916\u4fe1\u606f\u8bf7\u53c2\u9605 \u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u6587\u6863 \u3002","title":"\u5982\u4f55\u66f4\u6539\u4e32\u884c\u6ce2\u7279\u7387\uff1f"},{"location":"FAQ.html#raspberry-pi-3-klipper","text":"\u63a8\u8350\u7684\u786c\u4ef6\u662f Raspberry Pi 2\u3001Raspberry Pi 3 \u6216 Raspberry Pi 4\u3002 Klipper \u53ef\u4ee5\u5728 Raspberry Pi 1\u548cRaspberry Pi Zero\u4e0a\u8fd0\u884c\uff0c\u4f46\u8fd9\u4e9b\u677f\u5b50\u6ca1\u6709\u8db3\u591f\u7684\u5904\u7406\u80fd\u529b\u6765\u8fd0\u884c OctoPrint\u3002\u5728\u8fd9\u4e9b\u8f83\u6162\u7684\u673a\u5668\u4e0a\u76f4\u63a5\u4ece OctoPrint \u6253\u5370\u65f6\uff0c\u7ecf\u5e38\u4f1a\u51fa\u73b0\u6253\u5370\u505c\u6ede\u3002(\u6253\u5370\u673a\u7684\u79fb\u52a8\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u53d1\u9001\u79fb\u52a8\u547d\u4ee4\u7684\u901f\u5ea6\u5feb\u3002)\u5982\u679c\u4f60\u5e0c\u671b\u5728\u8fd9\u4e9b\u8f83\u6162\u7684\u677f\u5b50\u4e0a\u8fd0\u884c\uff0c\u8bf7\u8003\u8651\u5728\u6253\u5370\u65f6\u4f7f\u7528 \"virtual_sdcard \"\u529f\u80fd(\u8be6\u60c5\u8bf7\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 )\u3002 \u8981\u5728Beaglebone\u4e0a\u8fd0\u884c\uff0c\u8bf7\u53c2\u9605 Beaglebone\u7279\u522b\u5b89\u88c5\u8bf4\u660e \u3002 Klipper \u53ef\u4ee5\u5728\u5176\u4ed6\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u3002Klipper \u4e3b\u673a\u8f6f\u4ef6\u53ea\u9700\u8981\u5728Linux\uff08\u6216\u7c7b\u4f3c\uff09\u7cfb\u7edf\u7684\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c Python\u3002\u7136\u800c\uff0c\u5982\u679c\u4f60\u60f3\u5728\u5176\u4ed6\u8ba1\u7b97\u673a\u4e0a\u8fd0\u884c\u5b83\uff0c\u4f60\u5c06\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8bc6\u6765\u5b89\u88c5\u8be5\u8ba1\u7b97\u673a\u4e0a\u7cfb\u7edf\u7684\u4f9d\u8d56\u5305\u3002\u53c2\u89c1 install-octopi.sh \u811a\u672c\uff0c\u4ee5\u8fdb\u4e00\u6b65\u4e86\u89e3\u5fc5\u8981\u7684 Linux \u5b89\u88c5\u65b9\u6cd5\u3002 \u5982\u679c\u4f60\u60f3\u5728\u4f4e\u7aef\u5904\u7406\u5668\u4e0a\u8fd0\u884c Klipper \u4e3b\u673a\u8f6f\u4ef6\uff0c\u8bf7\u6ce8\u610f\uff0c\u4f60\u81f3\u5c11\u9700\u8981\u4e00\u53f0\u5177\u6709 \"\u53cc\u7cbe\u5ea6\u6d6e\u70b9 \"\u8fd0\u7b97\u786c\u4ef6\u7684\u8ba1\u7b97\u673a\u3002 \u5982\u679c\u4f60\u60f3\u5728\u5171\u4eab\u7684\u901a\u7528\u8ba1\u7b97\u673a\u6216\u670d\u52a1\u5668\u4e0a\u8fd0\u884c Klipper \u4e3b\u673a\u7a0b\u5e8f\uff0c\u8bf7\u6ce8\u610f Klipper \u6709\u4e00\u4e9b\u5b9e\u65f6\u8c03\u5ea6\u8981\u6c42\u3002\u5982\u679c\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\uff0c\u4e3b\u673a\u4e5f\u5728\u6267\u884c\u5bc6\u96c6\u578b\u7684\u901a\u7528\u8ba1\u7b97\u4efb\u52a1\uff08\u5982\u786c\u76d8\u788e\u7247\u6574\u7406\u30013D\u6e32\u67d3\u3001\u5927\u91cfswapping \uff08\u865a\u62df\u5185\u5b58\u4ea4\u6362\uff09\u7b49\uff09\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4 Klipper \u62a5\u544a\u6253\u5370\u9519\u8bef\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u4f60\u6ca1\u6709\u4f7f\u7528 OctoPi \u955c\u50cf\uff0c\u4e00\u4e9bLinux\u53d1\u884c\u7248\u542f\u7528\u4e86\u4e00\u4e2a \"ModemManager\"\uff08\u6216\u7c7b\u4f3c\u7684\uff09\u8f6f\u4ef6\u5305\uff0c\u5b83\u5e72\u6270\u4e32\u884c\u901a\u4fe1\u3002(\u8fd9\u53ef\u80fd\u5bfc\u81f4 Klipper \u62a5\u544a\u770b\u4f3c\u968f\u673a\u7684 \"\u4e0eMCU\u5931\u53bb\u901a\u4fe1 \"\u9519\u8bef\uff09\u3002\u5982\u679c\u4f60\u5728\u8fd9\u4e9b\u53d1\u884c\u7248\u4e0a\u5b89\u88c5Klipper\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7981\u7528\u8be5\u8f6f\u4ef6\u5305\u3002","title":"\u6211\u53ef\u4ee5\u5728 Raspberry Pi 3 \u4ee5\u5916\u7684\u5176\u4ed6\u8bbe\u5907\u4e0a\u8fd0\u884c Klipper \u5417\uff1f"},{"location":"FAQ.html#klipper","text":"\u53ef\u4ee5\u8fd0\u884c Klipper \u4e3b\u673a\u8f6f\u4ef6\u7684\u591a\u4e2a\u5b9e\u4f8b\uff0c\u4f46\u8fd9\u6837\u505a\u9700\u8981\u4e00\u5b9a\u7684 Linux \u77e5\u8bc6\u3002 Klipper \u5b89\u88c5\u811a\u672c\u6700\u7ec8\u4f1a\u5bfc\u81f4\u8fd0\u884c\u4ee5\u4e0b Unix \u547d\u4ee4\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -l /tmp/klippy.log \u53ea\u8981\u6bcf\u4e2a\u5b9e\u4f8b\u90fd\u6709\u81ea\u5df1\u7684\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u3001\u81ea\u5df1\u7684\u65e5\u5fd7\u6587\u4ef6\u548c\u81ea\u5df1\u7684\u4f2a tty\uff0c\u5c31\u53ef\u4ee5\u8fd0\u884c\u4e0a\u8ff0\u547d\u4ee4\u7684\u591a\u4e2a\u5b9e\u4f8b\u3002 \u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer2.cfg -l /tmp/klippy2.log -I /tmp/printer2 \u5982\u679c\u4f60\u9009\u62e9\u8fd9\u6837\u505a\uff0c\u4f60\u5c06\u9700\u8981\u5b9e\u73b0\u5fc5\u8981\u7684\u542f\u52a8\u3001\u505c\u6b62\u548c\u5b89\u88c5\u811a\u672c\u3002 install-octopi.sh \u548c klipper-start.sh \u811a\u672c\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4f8b\u5b50\u3002","title":"\u6211\u53ef\u4ee5\u5728\u540c\u4e00\u53f0\u4e3b\u673a\u4e0a\u8fd0\u884c\u591a\u4e2a Klipper \u5b9e\u4f8b\u5417\uff1f"},{"location":"FAQ.html#octoprint","text":"Klipper \u4e0d\u4f9d\u8d56 OctoPrint\u3002\u5176\u4ed6\u8f6f\u4ef6\u4e5f\u53ef\u4ee5\u5411 Klipper \u53d1\u9001\u547d\u4ee4\uff0c\u4f46\u8fd9\u6837\u505a\u53ef\u80fd\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8bc6\u3002 Klipper \u901a\u8fc7 \u201c/tmp/printer\u201d \u6587\u4ef6\u521b\u5efa\u4e86\u4e00\u4e2a\u201c\u865a\u62df\u4e32\u53e3\u201d\uff0c\u8be5\u6587\u4ef6\u6a21\u62df\u4e86\u4e00\u4e2a\u6807\u51c6\u76843D\u6253\u5370\u673a\u4e32\u53e3\u3002\u7406\u8bba\u4e0a\u4efb\u4f55\u80fd\u914d\u7f6e\u5e76\u4f7f\u7528 \u201c/tmp/printer\u201d \u4f5c\u4e3a\u6253\u5370\u673a\u4e32\u53e3\u7684\u8f6f\u4ef6\u90fd\u53ef\u4ee5\u4e0eKlipper\u4e00\u8d77\u5de5\u4f5c\u3002","title":"\u6211\u5fc5\u987b\u4f7f\u7528 OctoPrint \u5417\uff1f"},{"location":"FAQ.html#_5","text":"\u4ee3\u7801\u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u51cf\u5c11\u610f\u5916\u5c06\u5934\u649e\u5230\u5e8a\u6216\u5899\u58c1\u7684\u673a\u4f1a\u3002 \u6253\u5370\u673a\u5f52\u4f4d\u540e\uff0c\u8f6f\u4ef6\u4f1a\u5c1d\u8bd5\u9a8c\u8bc1\u6bcf\u4e2a\u79fb\u52a8\u662f\u5426\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684 position_min/max \u8303\u56f4\u5185\u3002 \u5982\u679c\u7535\u673a\u88ab\u7981\u7528\uff08\u901a\u8fc7 M84 \u6216 M18 \u547d\u4ee4\uff09\uff0c\u90a3\u4e48\u7535\u673a\u5c06\u9700\u8981\u5728\u8fd0\u52a8\u524d\u518d\u6b21\u5f52\u4f4d\u3002 \u5982\u679c\u60a8\u60f3\u5728\u901a\u8fc7 OctoPrint \u53d6\u6d88\u6253\u5370\u540e\u79fb\u52a8\u6253\u5370\u5934\uff0c\u8bf7\u8003\u8651\u66f4\u6539 OctoPrint \u53d6\u6d88\u987a\u5e8f\u6765\u4e3a\u60a8\u6267\u884c\u6b64\u64cd\u4f5c\u3002 \u5b83\u662f\u901a\u8fc7 Web \u6d4f\u89c8\u5668\u5728 OctoPrint \u4e2d\u914d\u7f6e\u7684\uff1a\u8bbe\u7f6e-> GCODE \u811a\u672c \u5982\u679c\u60a8\u60f3\u5728\u6253\u5370\u5b8c\u6210\u540e\u79fb\u52a8\u5934\u90e8\uff0c\u8bf7\u8003\u8651\u5c06\u6240\u9700\u7684\u79fb\u52a8\u6dfb\u52a0\u5230\u5207\u7247\u673a\u7684\u201c\u81ea\u5b9a\u4e49 g \u4ee3\u7801\u201d\u90e8\u5206\u3002 \u5982\u679c\u6253\u5370\u673a\u5f52\u4f4d\u8fc7\u7a0b\u4e2d\u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u79fb\u52a8\uff08\u6216\u8005\u6839\u672c\u4e0a\u6ca1\u6709\u5f52\u4f4d\u8fd0\u52a8\uff09\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49safe_z_home\u6216 homing_override\u5206\u6bb5\u3002\u5982\u679c\u4f60\u9700\u8981\u4e3a\u8bca\u65ad\u6216\u8c03\u8bd5\u76ee\u7684\u79fb\u52a8\u4e00\u4e2a\u6b65\u8fdb\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u4e00\u4e2a force_move \u5206\u6bb5\u3002\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u4ee5\u4e86\u89e3\u5173\u4e8e\u8fd9\u4e9b\u9009\u9879\u7684\u8be6\u60c5\u3002","title":"\u4e3a\u4ec0\u4e48\u5728\u5f52\u4f4d\u6253\u5370\u673a\u4e4b\u524d\u6211\u4e0d\u80fd\u79fb\u52a8\u6b65\u8fdb\u5668\uff1f"},{"location":"FAQ.html#z-position_endstop-05","text":"\u5bf9\u4e8e\u7b1b\u5361\u5c14\u5f0f\u6253\u5370\u673a\uff0cZ position_endstop \u5b9a\u4e49\u4e86\u5f53\u9650\u4f4d\u89e6\u53d1\u65f6\u55b7\u5634\u79bb\u5e8a\u7684\u8ddd\u79bb\u3002\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u5efa\u8bae\u4f7f\u7528 Z-max \u9650\u4f4d\u4f7f\u5f52\u4f4d\u65f6\u6253\u5370\u5934\u8fdc\u79bb\u5e8a\uff08\u56e0\u4e3a\u8fd9\u53ef\u4ee5\u51cf\u5c11\u78b0\u649e\u7684\u53d1\u751f\uff09\u3002\u5982\u679c\u5fc5\u987b\u671d\u5411\u5e8a\u5f52\u4f4d\uff0c\u90a3\u4e48\u5efa\u8bae\u5c06\u9650\u4f4d\u56fa\u5b9a\u5728\u55b7\u5634\u8ddd\u79bb\u5e8a\u8fd8\u6709\u4e00\u5c0f\u6bb5\u8ddd\u79bb\u65f6\u89e6\u53d1\u3002\u8fd9\u6837\uff0c\u5f53\u5f52\u4f4d Z \u8f74\u65f6\uff0c\u55b7\u5634\u4f1a\u5728\u63a5\u89e6\u5e8a\u4e4b\u524d\u505c\u6b62\u3002\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u6253\u5370\u5e8a\u8c03\u5e73\u6587\u6863 \u3002","title":"\u4e3a\u4ec0\u4e48 Z position_endstop \u5728\u9ed8\u8ba4\u914d\u7f6e\u4e2d\u8bbe\u7f6e\u4e3a 0.5\uff1f"},{"location":"FAQ.html#marlin-xy-z","text":"\u957f\u8bdd\u77ed\u8bf4\uff1a\u9996\u5148\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u6309\u7167 \u914d\u7f6e\u68c0\u67e5\u6587\u6863 \u4e2d\u63cf\u8ff0\u7684\u6b65\u9aa4\u9a8c\u8bc1\u4e86\u6b65\u8fdb\u9a71\u52a8\u914d\u7f6e\u3002\u5982\u679c\u95ee\u9898\u4ecd\u7136\u5b58\u5728\uff0c\u8bf7\u5c1d\u8bd5\u964d\u4f4e\u6253\u5370\u673a\u914d\u7f6e\u4e2d\u7684 max_z_velocity \u8bbe\u7f6e\u3002 \u5177\u4f53\u539f\u7406\uff1a\u5728\u5b9e\u8df5\u4e2d\uff0cMarlin \u901a\u5e38\u53ea\u80fd\u4ee5\u6bcf\u79d2 10000 \u6b65\u5de6\u53f3\u7684\u901f\u5ea6\u53d1\u9001\u6b65\u8fdb\u3002\u5982\u679c\u8981\u6c42\u5b83\u4ee5\u9700\u8981\u66f4\u9ad8\u7684\u6b65\u8fdb\u7387\u7684\u901f\u5ea6\u79fb\u52a8\uff0c\u90a3\u4e48 Marlin \u4f1a\u5c3d\u53ef\u80fd\u5feb\u5730\u6b65\u8fdb\u3002Klipper \u80fd\u591f\u5b9e\u73b0\u66f4\u9ad8\u7684\u6b65\u8fdb\u7387\uff0c\u4f46\u6b65\u8fdb\u7535\u673a\u53ef\u80fd\u6ca1\u6709\u8db3\u591f\u7684\u626d\u77e9\u4ee5\u66f4\u9ad8\u7684\u901f\u5ea6\u79fb\u52a8\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u5177\u6709\u9ad8\u4f20\u52a8\u6bd4\u6216\u9ad8\u5fae\u6b65\u8bbe\u5b9a\u7684 Z \u8f74\uff0c\u5b9e\u9645\u7684\u6700\u5927\u901f\u5ea6\u53ef\u80fd\u5c0f\u4e8e Marlin \u4e2d\u914d\u7f6e\u7684\u503c\u3002","title":"\u6211\u4ece Marlin \u8f6c\u6362\u4e86\u6211\u7684\u914d\u7f6e\u5e76\u4e14 X/Y \u8f74\u5de5\u4f5c\u6b63\u5e38\uff0c\u4f46\u662f\u5728\u5f52\u4f4d Z \u8f74\u65f6\u6211\u53ea\u542c\u5230\u523a\u8033\u7684\u566a\u97f3\u4e14\u6253\u5370\u673a\u4e0d\u52a8"},{"location":"FAQ.html#tmc","text":"\u5982\u679c\u5728\u201c\u72ec\u7acb\u6a21\u5f0f\u201d\u4e2d\u4f7f\u7528 TMC2208\uff08\u6216 TMC2224\uff09\u9a71\u52a8\uff0c\u90a3\u4e48\u8bf7\u786e\u4fdd\u60a8\u6b63\u5728\u4f7f\u7528 \u6700\u65b0\u7248\u672c\u7684 Klipper \u30022020\u5e743\u6708\u4e2d\u65ec\uff0cKlipper \u4e2d\u4fee\u590d\u4e86 TMC2208 \u201cStealthChop\u201d \u9a71\u52a8\u7684\u95ee\u9898\u3002","title":"\u6211\u7684 TMC \u7535\u673a\u9a71\u52a8\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u5173\u95ed\u4e86"},{"location":"FAQ.html#mcu","text":"\u8fd9\u901a\u5e38\u662f\u7531\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u7684 USB \u8fde\u63a5\u4e2d\u786c\u4ef6\u9519\u8bef\u5f15\u8d77\u7684\u3002\u6ce8\u610f\u8fd9\u4e9b\u95ee\u9898\uff1a \u5728\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u5e94\u8be5\u4f7f\u7528\u9ad8\u8d28\u91cfUSB\u7ebf\uff0c\u5e76\u786e\u4fdd\u63d2\u5934\u7262\u56fa\u3002 \u5982\u679c\u4f7f\u7528\u6811\u8393\u6d3e\uff0c\u8bf7\u4e3a\u6811\u8393\u6d3e\u4f7f\u7528 \u4f18\u8d28\u7535\u6e90 \uff0c\u5e76\u4f7f\u7528 \u4f18\u8d28USB\u7535\u7f06 \u5c06\u8be5\u7535\u6e90\u4e0ePi\u8fde\u63a5\u3002\u5982\u679c\u4f60\u4eceOctoPrint\u5f97\u5230 \"\u7535\u538b\u4e0d\u8db3 \"\u7684\u8b66\u544a\uff0c\u8fd9\u4e5f\u4e0e\u7535\u6e90\u6709\u5173\uff0c\u5fc5\u987b\u89e3\u51b3\u3002 \u8bf7\u786e\u4fdd\u6253\u5370\u673a\u7684\u7535\u6e90\u6ca1\u6709\u8fc7\u8f7d\u3002(\u5fae\u63a7\u5236\u5668 USB \u82af\u7247\u7684\u7535\u538b\u6ce2\u52a8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8be5\u82af\u7247\u6b20\u538b\u590d\u4f4d\u3002) \u786e\u8ba4\u6b65\u8fdb\u7535\u673a\u3001\u52a0\u70ed\u5668\u548c\u5176\u4ed6\u6253\u5370\u673a\u7535\u7ebf\u6ca1\u6709\u88ab\u538b\u574f\u6216\u78e8\u635f\u3002\uff08\u6253\u5370\u673a\u79fb\u52a8\u65f6\u53ef\u80fd\u5bf9\u6545\u969c\u7684\u7535\u7ebf\u65bd\u52a0\u538b\u529b\uff0c\u5bfc\u81f4\u5176\u5931\u53bb\u63a5\u89e6\u3001\u77ed\u6682\u77ed\u8def\u6216\u4ea7\u751f\u8fc7\u591a\u7684\u566a\u97f3\u3002\uff09 \u6709\u62a5\u544a\u79f0\uff0c\u5f53\u6253\u5370\u673a\u7684\u7535\u6e90\u548c\u4e3b\u673a\u76845V\u7535\u6e90\u6df7\u5408\u65f6\uff0cUSB\u566a\u97f3\u5f88\u5927\u3002(\u5982\u679c\u4f60\u53d1\u73b0\u5f53\u6253\u5370\u673a\u7684\u7535\u6e90\u6253\u5f00\u6216USB\u7535\u7f06\u63d2\u5165\u65f6\uff0c\u5fae\u63a7\u5236\u5668\u4f1a\u901a\u7535\uff0c\u90a3\u4e48\u8fd9\u8868\u660e5V\u7535\u6e90\u88ab\u6df7\u7528\u4e86\uff09\u3002\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u5176\u53ea\u4f7f\u7528\u4e00\u4e2a\u7535\u6e90\u53ef\u80fd\u4f1a\u6709\u5e2e\u52a9\u3002(\u53e6\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u4e3b\u677f\u4e0d\u80fd\u914d\u7f6e\u5176\u4f9b\u7535\u6765\u6e90\uff0c\u4e5f\u53ef\u4ee5\u4fee\u6539USB\u7535\u7f06\uff0c\u4f7f\u5176\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u4e0d\u5171\u4eab5V\u7535\u6e90\u3002\uff09","title":"\u6211\u4e0d\u65ad\u6536\u5230\u968f\u673a\u7684\"\u4e0eMCU\u5931\u53bb\u901a\u4fe1\"\u9519\u8bef"},{"location":"FAQ.html#_6","text":"\u8fd9\u5f88\u53ef\u80fd\u662f\u7531\u4e8e\u7535\u538b\u6ce2\u52a8\u5f15\u8d77\u7684\u3002\u8bf7\u9075\u5faa \"\u4e0eMCU\u5931\u53bb\u901a\u4fe1\" \u9519\u8bef\u540c\u6837\u7684\u6545\u969c\u6392\u9664\u6b65\u9aa4\u3002","title":"\u6211\u7684\u6811\u8393\u6d3e\u5728\u6253\u5370\u65f6\u4e0d\u65ad\u91cd\u542f"},{"location":"FAQ.html#restart_methodcommand-avr","text":"\u4e00\u4e9b\u65e7\u7248\u672c\u7684AVR\u5f15\u5bfc\u7a0b\u5e8f\u5728\u770b\u95e8\u72d7\u4e8b\u4ef6\u5904\u7406\u65b9\u9762\u6709\u4e00\u4e2a\u5df2\u77e5\u7684\u9519\u8bef\u3002\u8fd9\u901a\u5e38\u8868\u73b0\u5728printer.cfg\u6587\u4ef6\u4e2d\u7684restart_method\u8bbe\u7f6e\u4e3a \"command\"\u7684\u65f6\u5019\u3002\u5f53\u8fd9\u4e2a\u9519\u8bef\u53d1\u751f\u65f6\uff0cAVR\u8bbe\u5907\u4f1a\u6b7b\u673a\u76f4\u5230\u7535\u6e90\u88ab\u79fb\u9664\u5e76\u91cd\u65b0\u4e0a\u7535\uff08\u7535\u6e90\u6216\u72b6\u6001LED\u4e5f\u53ef\u80fd\u4e0d\u505c\u7684\u95ea\u70c1\u76f4\u5230\u65ad\u7535\uff09\u3002 \u89e3\u51b3\u529e\u6cd5\u662f\u4f7f\u7528 \"command \"\u4ee5\u5916\u7684\u91cd\u542f\u65b9\u6cd5\uff0c\u6216\u8005\u5728AVR\u8bbe\u5907\u4e0a\u5237\u5199\u4e00\u4e2a\u65b0\u7684\u5f15\u5bfc\u7a0b\u5e8f\u3002\u5237\u5199\u4e00\u4e2a\u65b0\u7684\u5f15\u5bfc\u7a0b\u5e8f\u662f\u4e00\u4e2a\u4e00\u6b21\u6027\u7684\u6b65\u9aa4\uff0c\u901a\u5e38\u9700\u8981\u4e00\u4e2a\u5916\u90e8\u7f16\u7a0b\u5668--\u66f4\u591a\u7ec6\u8282\u8bf7\u53c2\u89c1 Bootloaders \u3002","title":"\u5f53\u8bbe\u7f6erestart_method=command\u65f6\uff0c AVR \u8bbe\u5907\u5728\u91cd\u542f\u65f6\u5c31\u4f1a\u6b7b\u673a"},{"location":"FAQ.html#raspberry-pi","text":"Klipper \u7684\u8bbe\u8ba1\u9632\u6b62\u4e86\u8fd9\u79cd\u60c5\u51b5\u3002\u4e00\u65e6\u4e3b\u673a\u542f\u7528\u4e86\u4e00\u4e2a\u52a0\u70ed\u5668\uff0c\u4e3b\u673a\u8f6f\u4ef6\u9700\u8981\u6bcf 5 \u79d2\u949f\u786e\u8ba4\u4e00\u6b21\u542f\u7528\u72b6\u6001\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u6ca1\u6709\u6536\u5230\u6bcf 5 \u79d2\u7684\u786e\u8ba4\uff0c\u5b83\u5c31\u4f1a\u8fdb\u5165\"\u5173\u95ed\"\u72b6\u6001\uff0c\u8be5\u72b6\u6001\u4f1a\u5173\u95ed\u6240\u6709\u52a0\u70ed\u5668\u548c\u6b65\u8fdb\u7535\u673a\u3002 \u8be6\u60c5\u8bf7\u89c1 MCU \u547d\u4ee4 \u6587\u6863\u4e2d\u7684 \"config_digital_out\" \u547d\u4ee4\u3002 \u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5728\u542f\u52a8\u65f6\u4e3a\u6bcf\u4e2a\u52a0\u70ed\u5668\u914d\u7f6e\u4e86\u6700\u4f4e\u548c\u6700\u9ad8\u6e29\u5ea6\u8303\u56f4\uff08\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \u4e2d\u7684min_temp\u548cmax_temp\u53c2\u6570\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u68c0\u6d4b\u5230\u6e29\u5ea6\u8d85\u51fa\u4e86\u8be5\u8303\u56f4\uff0c\u90a3\u4e48\u5b83\u4e5f\u5c06\u8fdb\u5165 \"\u5173\u673a \"\u72b6\u6001\u3002 \u53e6\u5916\uff0c\u4e3b\u673a\u8f6f\u4ef6\u8fd8\u5b9e\u73b0\u4e86\u68c0\u67e5\u52a0\u70ed\u5668\u548c\u6e29\u5ea6\u4f20\u611f\u5668\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u7684\u4ee3\u7801\u3002\u8be6\u60c5\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002","title":"\u5982\u679c Raspberry Pi \u5d29\u6e83\u4e86\uff0c\u52a0\u70ed\u5668\u4f1a\u4e00\u76f4\u52a0\u70ed\u5417\uff1f"},{"location":"FAQ.html#marlin-klipper","text":"\u7b80\u8981\u56de\u7b54\uff1a\u5728 sample-aliases.cfg \u6587\u4ef6\u4e2d\u6709\u4e00\u4e2a\u6620\u5c04\u3002\u4f7f\u7528\u8be5\u6587\u4ef6\u4f5c\u4e3a\u6307\u5f15\u6765\u5bfb\u627e\u5b9e\u9645\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u79f0\u3002(\u4e5f\u53ef\u4ee5\u5c06\u76f8\u5173\u7684 board_pins \u914d\u7f6e\u90e8\u5206\u590d\u5236\u5230\u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5728\u4f60\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528\u522b\u540d\uff0c\u4f46\u6700\u597d\u662f\u7ffb\u8bd1\u5e76\u4f7f\u7528\u5b9e\u9645\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u540d\u79f0\u3002) \u8bf7\u6ce8\u610f\uff0csample-aliases.cfg\u6587\u4ef6\u4f7f\u7528\u4ee5 \"ar \"\u5f00\u5934\u7684\u5f15\u811a\u540d\u79f0\u66ff\u6362 \"D\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u811a D23 \u662fKlipper\u522b\u540d ar23 \uff09\u548c\u4ee5 \"analog \"\u5f00\u5934\u7684\u5f15\u811a\u540d\u79f0\u66ff\u6362 \"A\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u811a A14 \u662fKlipper\u522b\u540d analog14 \uff09\u3002 \u8be6\u7ec6\u7b54\u6848\uff1aKlipper\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u4e49\u7684\u6807\u51c6\u5f15\u811a\u540d\u79f0\u3002\u5728 Atmega \u82af\u7247\u4e0a\uff0c\u8fd9\u4e9b\u786c\u4ef6\u5f15\u811a\u7684\u540d\u79f0\u7c7b\u4f3c\u4e8e PA4 \u3001 PC7 \u6216 PD2 \u3002 \u5f88\u4e45\u4ee5\u524d\uff0cArduino\u9879\u76ee\u51b3\u5b9a\u907f\u514d\u4f7f\u7528\u6807\u51c6\u7684\u786c\u4ef6\u540d\u79f0\uff0c\u800c\u91c7\u7528\u4ed6\u4eec\u81ea\u5df1\u7684\u57fa\u4e8e\u9012\u589e\u6570\u5b57\u7684\u5f15\u811a\u540d\u79f0--\u8fd9\u4e9bArduino\u540d\u79f0\u4e00\u822c\u770b\u8d77\u6765\u50cf D23 \u6216 A14 \u3002\u8fd9\u662f\u4e00\u4e2a\u4e0d\u5e78\u7684\u9009\u62e9\uff0c\u5bfc\u81f4\u4e86\u5927\u91cf\u7684\u6df7\u4e71\u3002\u7279\u522b\u662fArduino\u7684\u5f15\u811a\u53f7\u7801\u7ecf\u5e38\u4e0d\u80fd\u8f6c\u6362\u4e3a\u76f8\u540c\u7684\u786c\u4ef6\u540d\u79f0\u3002\u4f8b\u5982\uff0c D21 \u5728\u4e00\u4e2a\u5e38\u89c1\u7684Arduino\u677f\u4e0a\u662f PD0 \uff0c\u4f46\u5728\u53e6\u4e00\u4e2a\u5e38\u89c1\u7684Arduino\u677f\u4e0a\u662f PC7 \u3002 \u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u6df7\u6dc6\uff0cKlipper \u6838\u5fc3\u4ee3\u7801\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u4e49\u7684\u6807\u51c6\u5f15\u811a\u540d\u79f0\u3002","title":"\u5982\u4f55\u5c06 Marlin \u5f15\u811a\u7f16\u53f7\u8f6c\u6362\u4e3a Klipper \u5f15\u811a\u540d\u79f0\uff1f"},{"location":"FAQ.html#_7","text":"\u8fd9\u53d6\u51b3\u4e8e\u8bbe\u5907\u548c\u5f15\u811a\u7684\u7c7b\u578b\uff1a ADC \u5f15\u811a\uff08\u6216\u6a21\u62df\u5f15\u811a\uff09\uff1a\u70ed\u654f\u7535\u963b\u548c\u7c7b\u4f3c\u7684\u201c\u6a21\u62df\u201d\u4f20\u611f\u5668\u5fc5\u987b\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u5177\u6709\u201c\u6a21\u62df\u201d\u6216\u201cADC\u201d\u529f\u80fd\u7684\u5f15\u811a\u3002\u5982\u679c\u60a8\u5728 Klipper \u4e0a\u4e3a\u4e00\u4e2a\u6a21\u62df\u4f20\u611f\u5668\u914d\u7f6e\u4e3a\u4f7f\u7528\u4e0d\u5177\u5907\u6a21\u62df\u529f\u80fd\u7684\u5f15\u811a\uff0cKlipper \u5c06\u62a5\u544a\u201cNot a valid ADC pin\u201d\u9519\u8bef\u3002 PWM\u5f15\u811a\uff08\u6216\u5b9a\u65f6\u5668\u5f15\u811a\uff09\u3002Klipper\u9ed8\u8ba4\u4e0d\u5728\u4efb\u4f55\u8bbe\u5907\u4e0a\u4f7f\u7528\u786c\u4ef6PWM\u3002\u56e0\u6b64\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u53ef\u4ee5\u5c06\u70ed\u7aef\u3001\u98ce\u6247\u548c\u7c7b\u4f3c\u7684\u8bbe\u5907\u8fde\u63a5\u5230\u4efb\u4f55\u7684\u901a\u7528IO\u5f15\u811a\u3002\u7136\u800c\uff0c\u98ce\u6247\u548coutput_pin\u8bbe\u5907\u53ef\u4ee5\u9009\u62e9\u914d\u7f6e\u4e3a\u4f7f\u7528 hardware_pwm: True \uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5fae\u63a7\u5236\u5668\u5728\u8fd9\u4e2a\u5f15\u811a\u4e0a\u5fc5\u987b\u652f\u6301\u786c\u4ef6PWM\uff08\u5426\u5219\uff0cKlipper\u5c06\u62a5\u544a \"\u4e0d\u662f\u6709\u6548\u7684PWM\u5f15\u811a \"\u9519\u8bef\uff09\u3002 IRQ\u5f15\u811a\uff08\u6216\u4e2d\u65ad\u5f15\u811a\uff09\u3002Klipper\u4e0d\u4f7f\u7528IO\u5f15\u811a\u4e0a\u7684\u786c\u4ef6\u4e2d\u65ad\uff0c\u6240\u4ee5\u6ca1\u6709\u5fc5\u8981\u5c06\u8bbe\u5907\u8fde\u63a5\u5230\u8fd9\u4e9b\u5fae\u63a7\u5236\u5668\u5f15\u811a\u4e0a\u3002 SPI \u5f15\u811a\uff1a\u4f7f\u7528\u786c\u4ef6 SPI \u65f6\uff0c\u9700\u8981\u5c06\u5f15\u811a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684 SPI \u5f15\u811a\u3002\u4f46\u662f\uff0c\u5927\u591a\u6570\u8bbe\u5907\u90fd\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4f7f\u7528\u201c\u8f6f\u4ef6 SPI\u201d\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u901a\u7528 IO \u5f15\u811a\u3002 I2C \u5f15\u811a\uff1a\u4f7f\u7528 I2C \u65f6\uff0c\u5fc5\u987b\u5c06\u5f15\u811a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u652f\u6301 I2C \u7684\u5f15\u811a\u3002 \u5176\u4ed6\u8bbe\u5907\u53ef\u4ee5\u8fde\u63a5\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u811a\u3002\u4f8b\u5982\uff0c\u6b65\u8fdb\u7535\u673a\u3001\u52a0\u70ed\u5668\u3001\u98ce\u6247\u3001Z\u63a2\u5934\u3001\u8235\u673a\u3001LED\u3001\u901a\u7528\u7684hd44780/st7920\u6db2\u6676\u663e\u793a\u5668\u548cTrinamic UART\u63a7\u5236\u7ebf\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u811a\u3002","title":"\u6211\u5fc5\u987b\u5c06\u8bbe\u5907\u8fde\u63a5\u5230\u7279\u5b9a\u7c7b\u578b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u811a\u5417\uff1f"},{"location":"FAQ.html#m109m190","text":"\u5bfc\u822a\u5230OctoPrint\u7ec8\u7aef\u6807\u7b7e\u9875\uff0c\u5728\u7ec8\u7aef\u6846\u4e2d\u8f93\u5165M112\u547d\u4ee4\u3002M112\u547d\u4ee4\u5c06\u4f7fKlipper\u8fdb\u5165 \"\u5173\u673a \"\u72b6\u6001\uff0c\u5b83\u5c06\u4f7fOctoPrint\u4eceKlipper\u65ad\u5f00\u3002\u5bfc\u822a\u5230OctoPrint\u8fde\u63a5\u533a\uff0c\u70b9\u51fb \"\u8fde\u63a5\"\uff0c\u4f7fOctoPrint\u91cd\u65b0\u8fde\u63a5\u3002\u5bfc\u822a\u56de\u5230\u7ec8\u7aef\u6807\u7b7e\u9875\uff0c\u8f93\u5165FIRMWARE_RESTART\u547d\u4ee4\u4ee5\u6e05\u9664Klipper\u7684\u9519\u8bef\u72b6\u6001\u3002\u5b8c\u6210\u8fd9\u4e00\u7cfb\u5217\u64cd\u4f5c\u5c06\u53d6\u6d88\u5148\u524d\u7684\u52a0\u70ed\u8bf7\u6c42\uff0c\u53ef\u4ee5\u5f00\u59cb\u65b0\u7684\u6253\u5370\u3002","title":"\u5982\u4f55\u53d6\u6d88 M109/M190 \"\u7b49\u5f85\u8fbe\u5230\u76ee\u6807\u6e29\u5ea6\"\u7684\u8bf7\u6c42\uff1f"},{"location":"FAQ.html#_8","text":"\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\uff0c\u662f\u7684\u3002\u5c06\u6253\u5370\u673a\u5f52\u4f4d\uff0c\u53d1\u51fa GET_POSITION \u547d\u4ee4\uff0c\u8fd0\u884c\u6253\u5370\uff0c\u518d\u6b21\u5f52\u4f4d\uff0c\u518d\u53d1\u51fa GET_POSITION \u3002\u7136\u540e\u6bd4\u8f83 mcu: \u884c\u4e2d\u7684\u503c\u3002 \u8fd9\u53ef\u80fd\u6709\u52a9\u4e8e\u8c03\u6574\u6b65\u8fdb\u7535\u673a\u7535\u6d41\u3001\u52a0\u901f\u5ea6\u548c\u901f\u5ea6\u7b49\u8bbe\u7f6e\uff0c\u800c\u4e0d\u9700\u8981\u5b9e\u9645\u6253\u5370\u4e1c\u897f\u548c\u6d6a\u8d39\u6750\u6599\uff1a\u53ea\u8981\u5728 GET_POSITION \u547d\u4ee4\u4e4b\u95f4\u8fd0\u884c\u4e00\u4e9b\u9ad8\u901f\u79fb\u52a8\u3002 \u8bf7\u6ce8\u610f\uff0c\u9650\u4f4d\u5f00\u5173\u672c\u8eab\u7684\u89e6\u53d1\u4f4d\u7f6e\u7565\u6709\u4e0d\u540c\uff0c\u6240\u4ee5\u5bfc\u81f4\u9650\u4f4d\u5f00\u5173\u89e6\u53d1\u7ed3\u679c\u53ef\u80fd\u6709\u51e0\u4e2a\u5fae\u6b65\u7684\u8bef\u5dee\u3002\u6b65\u8fdb\u7535\u673a\u672c\u8eab\u53ea\u80fd\u4ee54\u4e2a\u6574\u6b65\u4e3a\u589e\u91cf\u635f\u5931\u6b65\u6570\u3002(\u56e0\u6b64\uff0c\u5982\u679c\u4f7f\u752816\u4e2a\u5fae\u6b65\uff0c\u90a3\u4e48\u6b65\u8fdb\u5668\u7535\u673a\u4e0a\u7684\u5931\u6b65\u5c06\u5bfc\u81f4 \"MCU: \"\u6b65\u8fdb\u8ba1\u6570\u5668\u504f\u79bb64\u5fae\u6b65\u7684\u500d\u6570\u3002\uff09","title":"\u600e\u4e48\u68c0\u67e5\u6253\u5370\u673a\u662f\u5426\u53d1\u751f\u4e86\u4e22\u6b65?"},{"location":"FAQ.html#klipper_1","text":"\u7b80\u77ed\u7684\u56de\u7b54\uff1a\u6211\u4eec\u60f3\u77e5\u9053\u6253\u5370\u673a\u662f\u5426\u68c0\u6d4b\u5230\u95ee\u9898\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u89e3\u51b3\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u5c31\u53ef\u4ee5\u83b7\u5f97\u9ad8\u8d28\u91cf\u7684\u6253\u5370\u4ef6\u3002\u6211\u4eec\u7edd\u5bf9\u4e0d\u5e0c\u671b\u6253\u5370\u673a\u9ed8\u9ed8\u5730\u751f\u4ea7\u4f4e\u8d28\u91cf\u7684\u6253\u5370\u4ef6\u3002 \u8be6\u7ec6\u7b54\u6848\uff1aKlipper\u88ab\u8bbe\u8ba1\u6210\u80fd\u591f\u81ea\u52a8\u89e3\u51b3\u8bb8\u591a\u77ac\u65f6\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u5b83\u81ea\u52a8\u68c0\u6d4b\u5230\u901a\u4fe1\u9519\u8bef\uff0c\u5e76\u4f1a\u91cd\u65b0\u4f20\u8f93\uff1b\u5b83\u63d0\u524d\u5b89\u6392\u884c\u52a8\uff0c\u5e76\u5728\u591a\u5c42\u7f13\u51b2\u547d\u4ee4\uff0c\u4ee5\u4fbf\u5373\u4f7f\u6709\u95f4\u6b47\u6027\u5e72\u6270\u4e5f\u80fd\u7cbe\u786e\u63a7\u5236\u65f6\u5e8f\u3002\u7136\u800c\uff0c\u5982\u679c\u8f6f\u4ef6\u68c0\u6d4b\u5230\u5b83\u65e0\u6cd5\u6062\u590d\u7684\u9519\u8bef\uff0c\u6216\u8005\u5b83\u88ab\u547d\u4ee4\u91c7\u53d6\u65e0\u6548\u7684\u884c\u52a8\uff0c\u6216\u8005\u5b83\u68c0\u6d4b\u5230\u5b83\u65e0\u6cd5\u6267\u884c\u5176\u88ab\u547d\u4ee4\u7684\u4efb\u52a1\uff0c\u90a3\u4e48Klipper\u5c06\u62a5\u544a\u9519\u8bef\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u4ea7\u751f\u4f4e\u8d28\u91cf\u5370\u5237\u4ef6\uff08\u6216\u66f4\u7cdf\uff09\u7684\u98ce\u9669\u5f88\u5927\u3002\u6211\u4eec\u5e0c\u671b\u901a\u8fc7\u63d0\u9192\u7528\u6237\uff0c\u4f7f\u4ed6\u4eec\u6709\u80fd\u529b\u89e3\u51b3\u6f5c\u5728\u7684\u95ee\u9898\uff0c\u63d0\u9ad8\u6253\u5370\u7684\u6574\u4f53\u8d28\u91cf\u3002 \u6709\u4e00\u4e9b\u76f8\u5173\u7684\u95ee\u9898\u3002\u4e3a\u4ec0\u4e48Klipper\u4e0d\u6682\u505c\u6253\u5370\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u5148\u8b66\u544a\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u5728\u6253\u5370\u524d\u68c0\u67e5\u9519\u8bef\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u5ffd\u7565\u7528\u6237\u8f93\u5165\u7684\u547d\u4ee4\u4e2d\u7684\u9519\u8bef\uff1f\u7b49\u7b49\uff1f\u76ee\u524d\uff0cKlipper\u4f7f\u7528G-Code\u534f\u8bae\u8bfb\u53d6\u547d\u4ee4\uff0c\u4e0d\u5e78\u7684\u662f\uff0cG-Code\u547d\u4ee4\u534f\u8bae\u4e0d\u591f\u7075\u6d3b\uff0c\u5bfc\u81f4\u73b0\u5728\u5e76\u4e0d\u80fd\u4f7f\u7528\u8fd9\u4e9b\u66ff\u4ee3\u65b9\u6848\u3002\u5f00\u53d1\u8005\u5bf9\u6539\u5584\u5f02\u5e38\u4e8b\u4ef6\u4e2d\u7684\u7528\u6237\u4f53\u9a8c\u5f88\u611f\u5174\u8da3\uff0c\u4f46\u9884\u8ba1\u8fd9\u5c06\u9700\u8981\u5927\u91cf\u7684\u5e95\u5c42\u5de5\u4f5c\uff08\u5305\u62ec\u4eceG-Code\u7684\u8fc1\u79fb\u5230\u522b\u7684\u65b9\u5f0f\uff09\u3002","title":"\u4e3a\u4ec0\u4e48 Klipper \u4f1a\u62a5\u9519\uff1f\u6211\u6536\u4e86\u4e00\u76d8\u9762\u6761\uff08\u6211\u53c8\u6253\u5e9f\u4e86\uff09\uff01"},{"location":"FAQ.html#_9","text":"\u5347\u7ea7\u8f6f\u4ef6\u7684\u7b2c\u4e00\u6b65\u662f\u67e5\u770b\u6700\u65b0\u7684 \u914d\u7f6e\u53d8\u66f4 \u6587\u4ef6\u3002\u4f5c\u4e3a\u8f6f\u4ef6\u5347\u7ea7\u7684\u4e00\u90e8\u5206\uff0c\u5076\u5c14\u6709\u65f6\u5019\u8f6f\u4ef6\u4f1a\u6709\u4e00\u4e9b\u53d8\u5316\u9700\u8981\u7528\u6237\u66f4\u65b0\u4ed6\u4eec\u7684\u8bbe\u7f6e\u3002\u5728\u5347\u7ea7\u524d\u6700\u597d\u67e5\u770b\u8be5\u6587\u4ef6\u3002 \u5f53\u51c6\u5907\u5347\u7ea7\u65f6\uff0c\u4e00\u822c\u7684\u65b9\u6cd5\u662fssh\u8fdb\u5165\u6811\u8393\u6d3e\u5e76\u8fd0\u884c\uff1a cd ~/klipper git pull ~/klipper/scripts/install-octopi.sh \u7136\u540e\u53ef\u4ee5\u91cd\u65b0\u7f16\u8bd1\u548c\u5237\u5199\u5fae\u63a7\u5236\u5668\u7684\u4ee3\u7801\u3002\u4f8b\u5982\uff1a make menuconfig make clean make sudo service klipper stop make flash FLASH_DEVICE=/dev/ttyACM0 sudo service klipper start \u7136\u800c\uff0c\u901a\u5e38\u662f\u53ea\u6709\u4e3b\u673a\u8f6f\u4ef6\u53d1\u751f\u53d8\u5316\u3002\u8fd9\u65f6\u53ef\u4ee5\u53ea\u66f4\u65b0\u548c\u91cd\u65b0\u542f\u52a8\u4e3b\u673a\u8f6f\u4ef6\uff1a cd ~/klipper git pull sudo service klipper restart \u5982\u679c\u5728\u4f7f\u7528\u8fd9\u4e2a\u5feb\u901f\u65b9\u5f0f\u540e\uff0c\u8f6f\u4ef6\u8b66\u544a\u8bf4\u9700\u8981\u91cd\u65b0\u5237\u5199\u5fae\u63a7\u5236\u5668\u6216\u51fa\u73b0\u5176\u4ed6\u4e0d\u5e38\u89c1\u7684\u9519\u8bef\uff0c\u90a3\u4e48\u8bf7\u6309\u7167\u4e0a\u9762\u6240\u8ff0\u7684\u5b8c\u6574\u5347\u7ea7\u6b65\u9aa4\u8fdb\u884c\u3002 \u5982\u679c\u4efb\u4f55\u9519\u8bef\u6301\u7eed\u5b58\u5728\uff0c\u90a3\u4e48\u8bf7\u4ed4\u7ec6\u68c0\u67e5 config changes \u6587\u4ef6\uff0c\u56e0\u4e3a\u53ef\u80fd\u9700\u8981\u4fee\u6539\u6253\u5370\u673a\u914d\u7f6e\u3002 \u8bf7\u6ce8\u610f\uff0cRESTART\u548cFIRMWARE_RESTART g-code\u547d\u4ee4\u4e0d\u4f1a\u52a0\u8f7d\u65b0\u7684\u8f6f\u4ef6--\u9700\u8981\u4f7f\u7528\u4e0a\u8ff0 \"sudo service klipper restart \"\u548c \"make flash \"\u547d\u4ee4\u624d\u80fd\u4f7f\u8f6f\u4ef6\u53d8\u5316\u751f\u6548\u3002","title":"\u6211\u600e\u6837\u624d\u80fd\u5347\u7ea7\u5230\u6700\u65b0\u7684\u8f6f\u4ef6\uff1f"},{"location":"FAQ.html#klipper_2","text":"\u5728\u56fa\u4ef6\u7aef\uff0c\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u9700\u8981\u505a\u7684\u3002\u53ea\u8981\u5237\u5199\u65b0\u56fa\u4ef6\u5c31\u53ef\u4ee5\u4e86\u3002 \u5728\u6811\u8393\u6d3e\u4e0a\uff0c\u5378\u8f7d\u811a\u672c\u5728\u8fd9\u91cc scripts/klipper-uninstall.sh \u3002\u4f8b\u5982\uff1a sudo ~/klipper/scripts/klipper-uninstall.sh rm -rf ~/klippy-env ~/klipper","title":"\u5982\u4f55\u5378\u8f7dKlipper\uff1f"},{"location":"Features.html","text":"\u529f\u80fd \u00b6 Klipper \u6709\u51e0\u4e2a\u5f15\u4eba\u6ce8\u76ee\u7684\u529f\u80fd\uff1a \u9ad8\u7cbe\u5ea6\u6b65\u8fdb\u8fd0\u52a8\u3002Klipper\u4f7f\u7528\u4e00\u4e2a\u5e94\u7528\u5904\u7406\u5668\uff08\u4f8b\u5982\u4f4e\u6210\u672c\u7684\u6811\u8393\u6d3e\uff09\u6765\u8ba1\u7b97\u6253\u5370\u673a\u8fd0\u52a8\u3002\u5e94\u7528\u5904\u7406\u5668\u51b3\u5b9a\u4f55\u65f6\u5bf9\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u53d1\u51fa\u6b65\u8fdb\u4fe1\u53f7\uff0c\u538b\u7f29\u8fd9\u4e9b\u4e8b\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u3002\u5fae\u5904\u7406\u5668\u5c06\u4f1a\u628a\u6bcf\u4e2a\u4e8b\u4ef6\u6309\u8bf7\u6c42\u65f6\u95f4\u6267\u884c\u3002\u6bcf\u4e00\u4e2a\u6b65\u8fdb\u4e8b\u4ef6\u88ab\u4ee525\u6beb\u79d2\u6216\u66f4\u9ad8\u7684\u7cbe\u5ea6\u5b89\u6392\u3002\u8f6f\u4ef6\u4e0d\u8fdb\u884c\u8fd0\u52a8\u4f30\u8ba1\uff0c\u4f8b\u5982 Bresenham\u7b97\u6cd5\uff0c\u800c\u662f\u901a\u8fc7\u52a0\u901f\u5ea6\u4e0e\u673a\u68b0\u8fd0\u52a8\u7269\u7406\u8ba1\u7b97\u7cbe\u786e\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u66f4\u7cbe\u51c6\u7684\u6b65\u8fdb\u7535\u673a\u8fd0\u52a8\u610f\u5473\u7740\u6253\u5370\u673a\u66f4\u5b89\u9759\u548c\u7a33\u5b9a\u7684\u8fd0\u884c\u3002 \u540c\u7c7b\u9879\u76ee\u4e2d\u6700\u4f73\u7684\u6027\u80fd\u3002 Klipper \u80fd\u591f\u5728\u65b0\u65e7\u5fae\u63a7\u5236\u5668\u4e0a\u5b9e\u73b0\u9ad8\u6b65\u8fdb\u901f\u7387\u3002\u5373\u4f7f\u662f\u65e7\u7684 8 \u4f4d\u5fae\u63a7\u5236\u5668\u4e5f\u53ef\u4ee5\u53d1\u9001\u8d85\u8fc7\u6bcf\u79d2 175K \u6b65\u7684\u901f\u7387\u3002\u5728\u8f83\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u6bcf\u79d2\u6570\u767e\u4e07\u6b65\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u3002\u66f4\u9ad8\u7684\u6b65\u8fdb\u901f\u7387\u53ef\u4ee5\u5b9e\u73b0\u66f4\u9ad8\u7684\u6253\u5370\u901f\u5ea6\u3002\u6b65\u8fdb\u4e8b\u4ef6\u8ba1\u65f6\u5373\u4f7f\u5728\u9ad8\u901f\u4e0b\u4e5f\u80fd\u4fdd\u6301\u7cbe\u786e\uff0c\u63d0\u9ad8\u4e86\u6574\u4f53\u7a33\u5b9a\u6027\u3002 Klipper \u652f\u6301\u5e26\u6709\u591a\u4e2a\u5fae\u63a7\u5236\u5668\u7684\u6253\u5370\u673a\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u88ab\u7528\u6765\u63a7\u5236\u6324\u51fa\u673a\uff0c\u800c\u53e6\u4e00\u4e2a\u7528\u6765\u63a7\u5236\u52a0\u70ed\u5668\uff0c\u5e76\u4f7f\u7528\u7b2c\u4e09\u4e2a\u6765\u63a7\u5236\u5176\u4ed6\u7684\u6253\u5370\u673a\u7ec4\u4ef6\u3002Klipper \u4e3b\u673a\u7a0b\u5e8f\u5b9e\u73b0\u4e86\u65f6\u949f\u540c\u6b65\uff0c\u89e3\u51b3\u4e86\u5fae\u5904\u7406\u5668\u4e4b\u95f4\u7684\u65f6\u949f\u6f02\u79fb\u3002 \u542f\u7528\u591a\u4e2a\u63a7\u5236\u5668\u53ea\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u51e0\u884c\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u4ee3\u7801\u3002 \u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\u3002\u4fee\u6539\u8bbe\u7f6e\u4e0d\u9700\u8981\u91cd\u65b0\u5237\u5199\u5fae\u63a7\u5236\u5668\u3002Klipper \u7684\u6240\u6709\u914d\u7f6e\u90fd\u88ab\u5b58\u50a8\u5728\u4e00\u4e2a\u6613\u7f16\u8f91\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5927\u5927\u51cf\u5c11\u4e86\u914d\u7f6e\u4e0e\u7ef4\u62a4\u786c\u4ef6\u7684\u96be\u5ea6\u3002 Klipper \u652f\u6301\u201c\u5e73\u6ed1\u63d0\u524d\u538b\u529b\u201d--\u4e00\u79cd\u8003\u8651\u4e86\u6324\u51fa\u673a\u5185\u538b\u529b\u5f71\u54cd\u7684\u673a\u5236\u3002\u8fd9\u9879\u6280\u672f\u53ef\u4ee5\u51cf\u5c11\u55b7\u5634\u6ea2\u6599\u5e76\u6539\u5584\u8f6c\u89d2\u7684\u6253\u5370\u8d28\u91cf\u3002Klipper \u7684\u5b9e\u73b0\u4e0d\u4f1a\u5f15\u5165\u77ac\u95f4\u6324\u51fa\u673a\u901f\u5ea6\u53d8\u5316\uff0c\u6539\u5584\u4e86\u6574\u4f53\u7a33\u5b9a\u6027\u548c\u7a33\u5065\u6027\u3002 \u652f\u6301\u4f7f\u7528\u201c\u8f93\u5165\u6574\u5f62\u201d\u6765\u51cf\u5c11\u632f\u52a8\u5bf9\u6253\u5370\u8d28\u91cf\u7684\u5f71\u54cd\u3002\u8fd9\u9879\u529f\u80fd\u53ef\u4ee5\u51cf\u5c11\u6216\u6d88\u9664\u6253\u5370\u4ef6\u7684\u201c\u632f\u7eb9(ringing)\u201d\uff08\u53c8\u540d\u201cghosting\u201d\uff0c\u201cechoing\u201d\uff0c\u6216\u201crippling\u201d\uff09\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\u5b83\u53ef\u4ee5\u5728\u4fdd\u6301\u6253\u5370\u8d28\u91cf\u7684\u540c\u65f6\u63d0\u9ad8\u6253\u5370\u901f\u5ea6\u3002 Klipper \u4f7f\u7528\u201c\u8fed\u4ee3\u6c42\u89e3\u5668\u201d\u4ece\u7b80\u5355\u7684\u8fd0\u52a8\u5b66\u65b9\u7a0b\u4e2d\u8ba1\u7b97\u7cbe\u51c6\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u8fd9\u964d\u4f4e\u4e86\u79fb\u690dKlipper\u5230\u65b0\u7684\u673a\u68b0\u7ed3\u6784\u7684\u96be\u5ea6\u5e76\u4fdd\u8bc1\u4e86\u7cbe\u786e\u7684\u6b65\u8fdb\u8ba1\u65f6\uff08\u800c\u4e0d\u9700\u8981\u201c\u7ebf\u6bb5\u5316\u201d\uff09\u3002 \u6613\u79fb\u690d\u7684\u4ee3\u7801\u3002Klipper \u53ef\u4ee5\u5728 ARM\uff0cAVR\uff0c\u548cPRU\u67b6\u6784\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u8fd0\u884c\u3002\u73b0\u6709\u7684\u201creprap\u201d\u7c7b\u6253\u5370\u673a\u4e0d\u9700\u8981\u6539\u52a8\u4efb\u4f55\u786c\u4ef6\u5c31\u53ef\u4ee5\u8fd0\u884c Klipper\uff0c\u53ea\u9700\u8981\u52a0\u4e00\u4e2a\u6811\u8393\u6d3e\u3002Klipper \u7684\u5185\u90e8\u4ee3\u7801\u7ed3\u6784\u4f7f\u5b83\u80fd\u591f\u88ab\u7b80\u5355\u7684\u79fb\u690d\u5230\u5176\u4ed6\u67b6\u6784\u3002 \u7b80\u6d01\u7684\u4ee3\u7801\u3002\u5927\u90e8\u5206 Klipper \u4ee3\u7801\u4f7f\u7528\u4e00\u4e2a\u6781\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00\uff08Python\uff09\uff0c\u8fd9\u5305\u62ec\u4e86\u8fd0\u52a8\u7b97\u6cd5\uff0cG\u4ee3\u7801\u89e3\u6790\uff0c\u52a0\u70ed\uff0c\u6e29\u5ea6\u4f20\u611f\u5668\u7b97\u6cd5\u548c\u5176\u4ed6\uff0c\u964d\u4f4e\u4e86\u5f00\u53d1\u65b0\u529f\u80fd\u7684\u96be\u5ea6\u3002 \u81ea\u5b9a\u4e49\u53ef\u7f16\u7a0b\u811a\u672c\u3002\u53ef\u4ee5\u5728\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u65b0\u7684G\u4ee3\u7801\u547d\u4ee4\uff08\u800c\u4e0d\u9700\u8981\u4fee\u6539\u4efb\u4f55\u4ee3\u7801\uff09\u3002\u8fd9\u4e9b\u547d\u4ee4\u90fd\u662f\u53ef\u7f16\u7a0b\u7684\uff0c\u53ef\u4ee5\u80fd\u6839\u636e\u6253\u5370\u673a\u7684\u72b6\u6001\u505a\u51fa\u4e0d\u540c\u7684\u54cd\u5e94\u3002 \u5185\u7f6eAPI\u670d\u52a1\u5668\u3002\u9664\u4e86\u6807\u51c6G\u4ee3\u7801\u63a5\u53e3\uff0cKlipper\u4e5f\u652f\u6301\u5bccJSON API\u3002\u4f7f\u7a0b\u5e8f\u5458\u80fd\u7f16\u5199\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u7cbe\u7ec6\u63a7\u5236\u7684\u5916\u7f6e\u7a0b\u5e8f\u3002 \u5176\u4ed6\u529f\u80fd \u00b6 Klipper \u652f\u6301\u8bb8\u591a\u6807\u51c6\u7684 3d \u6253\u5370\u673a\u529f\u80fd\uff1a \u517c\u5bb9Octoprint\u3002\u8fd9\u4f7f\u5f97\u6253\u5370\u673a\u53ef\u4ee5\u901a\u8fc7\u666e\u901a\u6d4f\u89c8\u5668\u6765\u63a7\u5236\u3002\u8fd0\u884cKlipper\u7684\u6811\u8393\u6d3e\u53ef\u4ee5\u540c\u65f6\u7528\u6765\u8fd0\u884cOctoprint\u3002 \u6807\u51c6 G \u4ee3\u7801\u652f\u6301\u3002\u652f\u6301\u7531\u5e38\u89c1\u201c\u5207\u7247\u8f6f\u4ef6\u201d\uff08SuperSlicer\u3001Cura\u3001PrusaSlicer \u7b49\uff09\u751f\u6210\u7684\u901a\u7528 G \u4ee3\u7801\u547d\u4ee4\u3002 \u652f\u6301\u591a\u6324\u51fa\u673a\u3002\u5305\u62ec\u5bf9\u5171\u4eab\u70ed\u7aef\u7684\u6324\u51fa\u673a\uff08\u591a\u8fdb\u4e00\u51fa\uff09\u548c\u591a\u5934\uff08IDEX\uff09\u7684\u652f\u6301\u3002 \u652f\u6301\u7b1b\u5361\u5c14\u3001\u4e09\u89d2\u6d32\u3001CoreXY\u3001CoreXZ\u3001\u6df7\u5408CoreXY\u3001\u6df7\u5408CoreXZ\u3001\u65cb\u8f6c\u4e09\u89d2\u6d32\u3001\u6781\u5750\u6807\u548c\u7f06\u7ef3\u94f0\u76d8\u5f0f\u6253\u5370\u673a\u3002 \u81ea\u52a8\u5e8a\u9762\u5e73\u6574\u652f\u6301\u3002Klipper\u53ef\u4ee5\u88ab\u914d\u7f6e\u4e3a\u57fa\u672c\u7684\u5e8a\u8eab\u503e\u659c\u68c0\u6d4b\u6216\u7f51\u5e8a\u8c03\u5e73\u3002\u5982\u679c\u5e8a\u94fa\u4f7f\u7528\u591a\u4e2aZ\u6b65\u8fdb\u5668\uff0c\u90a3\u4e48Klipper\u4e5f\u53ef\u4ee5\u901a\u8fc7\u72ec\u7acb\u64cd\u7eb5Z\u6b65\u8fdb\u5668\u6765\u8c03\u5e73\u3002\u652f\u6301\u5927\u591a\u6570Z\u9ad8\u5ea6\u63a2\u5934\uff0c\u5305\u62ecBL-Touch\u63a2\u5934\u548c\u4f3a\u670d\u6fc0\u6d3b\u7684\u63a2\u5934\u3002 \u652f\u6301\u81ea\u52a8delta\u6821\u51c6\u3002\u6821\u51c6\u5de5\u5177\u53ef\u4ee5\u8fdb\u884c\u57fa\u672c\u7684\u9ad8\u5ea6\u6821\u51c6\uff0c\u4ee5\u53ca\u589e\u5f3a\u7684X\u548cY\u5c3a\u5bf8\u6821\u51c6\u3002\u6821\u51c6\u53ef\u4ee5\u7528Z\u578b\u9ad8\u5ea6\u63a2\u5934\u6216\u901a\u8fc7\u624b\u52a8\u63a2\u6d4b\u6765\u5b8c\u6210\u3002 \u652f\u6301\u5e38\u89c1\u7684\u6e29\u5ea6\u4f20\u611f\u5668\uff08\u4f8b\u5982\uff0c\u5e38\u89c1\u7684\u70ed\u654f\u7535\u963b\u3001AD595\u3001AD597\u3001AD849x\u3001PT100\u3001PT1000\u3001MAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001BME280\u3001HTU21D\u3001DS18B20\u548cLM75\uff09\u3002\u8fd8\u53ef\u4ee5\u914d\u7f6e\u81ea\u5b9a\u4e49\u70ed\u654f\u7535\u963b\u548c\u81ea\u5b9a\u4e49\u6a21\u62df\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u8fd8\u53ef\u4ee5\u76d1\u6d4b\u5fae\u63a7\u5236\u5668\u548c Raspberry Pi \u5185\u90e8\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u3002 \u9ed8\u8ba4\u542f\u7528\u57fa\u672c\u52a0\u70ed\u5668\u4fdd\u62a4\u3002 \u652f\u6301\u6807\u51c6\u98ce\u6247\u3001\u55b7\u5634\u98ce\u6247\u548c\u6e29\u63a7\u98ce\u6247\u3002\u4e0d\u9700\u8981\u5728\u6253\u5370\u673a\u95f2\u7f6e\u65f6\u4fdd\u6301\u98ce\u6247\u8fd0\u8f6c\u3002\u53ef\u4ee5\u5728\u5e26\u6709\u8f6c\u901f\u8868\u7684\u98ce\u6247\u4e0a\u76d1\u6d4b\u98ce\u6247\u901f\u5ea6\u3002 \u652f\u6301TMC2130\u3001TMC2208/TMC2224\u3001TMC2209\u3001TMC2660\u548cTMC5160\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u7684\u8fd0\u884c\u65f6\u914d\u7f6e\u3002\u8fd8\u652f\u6301\u901a\u8fc7AD5206\u3001MCP4451\u3001MCP4728\u3001MCP4018\u548cPWM\u5f15\u811a\u5bf9\u4f20\u7edf\u6b65\u8fdb\u9a71\u52a8\u5668\u8fdb\u884c\u7535\u6d41\u63a7\u5236\u3002 \u652f\u6301\u76f4\u63a5\u8fde\u63a5\u5230\u6253\u5370\u673a\u7684\u666e\u901aLCD\u663e\u793a\u5668\u3002\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9ed8\u8ba4\u7684\u83dc\u5355\u3002\u663e\u793a\u5668\u548c\u83dc\u5355\u7684\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u5b8c\u5168\u5b9a\u5236\u3002 \u6052\u5b9a\u52a0\u901f\u548c\u201clook-ahead\u201d\uff08\u524d\u77bb\uff09\u652f\u6301\u3002\u6240\u6709\u6253\u5370\u673a\u79fb\u52a8\u5c06\u4ece\u9759\u6b62\u9010\u6e10\u52a0\u901f\u5230\u5de1\u822a\u901f\u5ea6\uff0c\u7136\u540e\u51cf\u901f\u56de\u5230\u9759\u6b62\u3002\u5bf9\u4f20\u5165\u7684 G \u4ee3\u7801\u79fb\u52a8\u547d\u4ee4\u6d41\u8fdb\u884c\u6392\u961f\u548c\u5206\u6790 - \u5c06\u4f18\u5316\u7c7b\u4f3c\u65b9\u5411\u4e0a\u7684\u79fb\u52a8\u4e4b\u95f4\u7684\u52a0\u901f\u5ea6\uff0c\u4ee5\u51cf\u5c11\u6253\u5370\u505c\u987f\u5e76\u6539\u5584\u6574\u4f53\u6253\u5370\u65f6\u95f4\u3002 Klipper \u5b9e\u73b0\u4e86\u4e00\u79cd\u201c\u6b65\u8fdb\u76f8\u4f4d\u9650\u4f4d\u201d\u7b97\u6cd5\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5178\u578b\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u8c03\u6574\u5f97\u5f53\uff0c\u5b83\u53ef\u4ee5\u63d0\u9ad8\u6253\u5370\u4ef6\u9996\u5c42\u548c\u6253\u5370\u5e8a\u7684\u9644\u7740\u529b\u3002 \u652f\u6301\u6253\u5370\u4e1d\u5b58\u5728\u4f20\u611f\u5668\u3001\u6253\u5370\u4e1d\u8fd0\u52a8\u4f20\u611f\u5668\u548c\u6253\u5370\u4e1d\u5bbd\u5ea6\u4f20\u611f\u5668\u3002 \u652f\u6301\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8ba1\u6d4b\u91cf\u548c\u8bb0\u5f55\u52a0\u901f\u5ea6\u3002 \u652f\u6301\u9650\u5236\u77ed\u8ddd\u79bb\u201c\u4e4b\u201d\u5b57\u5f62\u79fb\u52a8\u7684\u6700\u9ad8\u901f\u5ea6\uff0c\u4ee5\u51cf\u5c11\u6253\u5370\u673a\u7684\u632f\u52a8\u548c\u566a\u97f3\u3002\u66f4\u591a\u4fe1\u606f\u89c1 \u8fd0\u52a8\u5b66 \u6587\u6863\u3002 \u8bb8\u591a\u5e38\u89c1\u7684\u6253\u5370\u673a\u90fd\u6709\u6837\u672c\u914d\u7f6e\u6587\u4ef6\u3002\u67e5\u770b \u914d\u7f6e\u6587\u4ef6\u5939 \u4e2d\u7684\u5217\u8868\u3002 \u8981\u5f00\u59cb\u4f7f\u7528Klipper\uff0c\u8bf7\u9605\u8bfb \u5b89\u88c5 \u6307\u5357\u3002 \u6b65\u901f\u57fa\u51c6\u6d4b\u8bd5 \u00b6 \u4e0b\u9762\u662f\u6b65\u8fdb\u6027\u80fd\u6d4b\u8bd5\u7684\u7ed3\u679c\u3002\u663e\u793a\u7684\u6570\u5b57\u4ee3\u8868\u4e86\u5fae\u63a7\u5236\u5668\u4e0a\u6bcf\u79d2\u7684\u603b\u6b65\u6570\u3002 \u5fae\u63a7\u5236\u5668 1\u4e2a\u6d3b\u8dc3\u6b65\u8fdb\u7535\u673a 3\u4e2a\u6b65\u8fdb\u5668\u6d3b\u8dc3 16Mhz AVR 157K 99K 20Mhz AVR 196K 123K SAMD21 686K 471K STM32F042 814K 578K Beaglebone \u53ef\u7f16\u7a0b\u5b9e\u65f6\u5355\u5143 866K 708K STM32G0B1 1103K 790K STM32F103 1180K 818K SAM3X8E 1273K 981K SAM4S8C 1690K 1385K LPC1768 1923K 1351K LPC1769 2353K 1622K RP2040 2400K 1636K SAM4E8E 2500K 1674K SAMD51 3077K 1885K STM32F407 3652K 2459K STM32F446 3913K 2634K \u5982\u679c\u4e0d\u786e\u5b9a\u4e00\u4e2a\u63a7\u5236\u677f\u4e0a\u7684\u5fae\u63a7\u5236\u5668\u578b\u53f7\uff0c\u53ef\u4ee5\u5148\u627e\u5230\u76f8\u5e94\u7684 \u914d\u7f6e\u6587\u4ef6 \uff0c\u5e76\u5728\u8be5\u6587\u4ef6\u9876\u90e8\u7684\u6ce8\u91ca\u4e2d\u5bfb\u627e\u5fae\u63a7\u5236\u5668\u7684\u578b\u53f7\u3002 \u5173\u4e8e\u57fa\u51c6\u6d4b\u8bd5\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u53ef\u5728 \u57fa\u51c6\u6d4b\u8bd5\u6587\u6863 \u4e2d\u627e\u5230\u3002","title":"\u529f\u80fd"},{"location":"Features.html#_1","text":"Klipper \u6709\u51e0\u4e2a\u5f15\u4eba\u6ce8\u76ee\u7684\u529f\u80fd\uff1a \u9ad8\u7cbe\u5ea6\u6b65\u8fdb\u8fd0\u52a8\u3002Klipper\u4f7f\u7528\u4e00\u4e2a\u5e94\u7528\u5904\u7406\u5668\uff08\u4f8b\u5982\u4f4e\u6210\u672c\u7684\u6811\u8393\u6d3e\uff09\u6765\u8ba1\u7b97\u6253\u5370\u673a\u8fd0\u52a8\u3002\u5e94\u7528\u5904\u7406\u5668\u51b3\u5b9a\u4f55\u65f6\u5bf9\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u53d1\u51fa\u6b65\u8fdb\u4fe1\u53f7\uff0c\u538b\u7f29\u8fd9\u4e9b\u4e8b\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u3002\u5fae\u5904\u7406\u5668\u5c06\u4f1a\u628a\u6bcf\u4e2a\u4e8b\u4ef6\u6309\u8bf7\u6c42\u65f6\u95f4\u6267\u884c\u3002\u6bcf\u4e00\u4e2a\u6b65\u8fdb\u4e8b\u4ef6\u88ab\u4ee525\u6beb\u79d2\u6216\u66f4\u9ad8\u7684\u7cbe\u5ea6\u5b89\u6392\u3002\u8f6f\u4ef6\u4e0d\u8fdb\u884c\u8fd0\u52a8\u4f30\u8ba1\uff0c\u4f8b\u5982 Bresenham\u7b97\u6cd5\uff0c\u800c\u662f\u901a\u8fc7\u52a0\u901f\u5ea6\u4e0e\u673a\u68b0\u8fd0\u52a8\u7269\u7406\u8ba1\u7b97\u7cbe\u786e\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u66f4\u7cbe\u51c6\u7684\u6b65\u8fdb\u7535\u673a\u8fd0\u52a8\u610f\u5473\u7740\u6253\u5370\u673a\u66f4\u5b89\u9759\u548c\u7a33\u5b9a\u7684\u8fd0\u884c\u3002 \u540c\u7c7b\u9879\u76ee\u4e2d\u6700\u4f73\u7684\u6027\u80fd\u3002 Klipper \u80fd\u591f\u5728\u65b0\u65e7\u5fae\u63a7\u5236\u5668\u4e0a\u5b9e\u73b0\u9ad8\u6b65\u8fdb\u901f\u7387\u3002\u5373\u4f7f\u662f\u65e7\u7684 8 \u4f4d\u5fae\u63a7\u5236\u5668\u4e5f\u53ef\u4ee5\u53d1\u9001\u8d85\u8fc7\u6bcf\u79d2 175K \u6b65\u7684\u901f\u7387\u3002\u5728\u8f83\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u6bcf\u79d2\u6570\u767e\u4e07\u6b65\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u3002\u66f4\u9ad8\u7684\u6b65\u8fdb\u901f\u7387\u53ef\u4ee5\u5b9e\u73b0\u66f4\u9ad8\u7684\u6253\u5370\u901f\u5ea6\u3002\u6b65\u8fdb\u4e8b\u4ef6\u8ba1\u65f6\u5373\u4f7f\u5728\u9ad8\u901f\u4e0b\u4e5f\u80fd\u4fdd\u6301\u7cbe\u786e\uff0c\u63d0\u9ad8\u4e86\u6574\u4f53\u7a33\u5b9a\u6027\u3002 Klipper \u652f\u6301\u5e26\u6709\u591a\u4e2a\u5fae\u63a7\u5236\u5668\u7684\u6253\u5370\u673a\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u88ab\u7528\u6765\u63a7\u5236\u6324\u51fa\u673a\uff0c\u800c\u53e6\u4e00\u4e2a\u7528\u6765\u63a7\u5236\u52a0\u70ed\u5668\uff0c\u5e76\u4f7f\u7528\u7b2c\u4e09\u4e2a\u6765\u63a7\u5236\u5176\u4ed6\u7684\u6253\u5370\u673a\u7ec4\u4ef6\u3002Klipper \u4e3b\u673a\u7a0b\u5e8f\u5b9e\u73b0\u4e86\u65f6\u949f\u540c\u6b65\uff0c\u89e3\u51b3\u4e86\u5fae\u5904\u7406\u5668\u4e4b\u95f4\u7684\u65f6\u949f\u6f02\u79fb\u3002 \u542f\u7528\u591a\u4e2a\u63a7\u5236\u5668\u53ea\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6dfb\u52a0\u51e0\u884c\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u4ee3\u7801\u3002 \u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u914d\u7f6e\u3002\u4fee\u6539\u8bbe\u7f6e\u4e0d\u9700\u8981\u91cd\u65b0\u5237\u5199\u5fae\u63a7\u5236\u5668\u3002Klipper \u7684\u6240\u6709\u914d\u7f6e\u90fd\u88ab\u5b58\u50a8\u5728\u4e00\u4e2a\u6613\u7f16\u8f91\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u5927\u5927\u51cf\u5c11\u4e86\u914d\u7f6e\u4e0e\u7ef4\u62a4\u786c\u4ef6\u7684\u96be\u5ea6\u3002 Klipper \u652f\u6301\u201c\u5e73\u6ed1\u63d0\u524d\u538b\u529b\u201d--\u4e00\u79cd\u8003\u8651\u4e86\u6324\u51fa\u673a\u5185\u538b\u529b\u5f71\u54cd\u7684\u673a\u5236\u3002\u8fd9\u9879\u6280\u672f\u53ef\u4ee5\u51cf\u5c11\u55b7\u5634\u6ea2\u6599\u5e76\u6539\u5584\u8f6c\u89d2\u7684\u6253\u5370\u8d28\u91cf\u3002Klipper \u7684\u5b9e\u73b0\u4e0d\u4f1a\u5f15\u5165\u77ac\u95f4\u6324\u51fa\u673a\u901f\u5ea6\u53d8\u5316\uff0c\u6539\u5584\u4e86\u6574\u4f53\u7a33\u5b9a\u6027\u548c\u7a33\u5065\u6027\u3002 \u652f\u6301\u4f7f\u7528\u201c\u8f93\u5165\u6574\u5f62\u201d\u6765\u51cf\u5c11\u632f\u52a8\u5bf9\u6253\u5370\u8d28\u91cf\u7684\u5f71\u54cd\u3002\u8fd9\u9879\u529f\u80fd\u53ef\u4ee5\u51cf\u5c11\u6216\u6d88\u9664\u6253\u5370\u4ef6\u7684\u201c\u632f\u7eb9(ringing)\u201d\uff08\u53c8\u540d\u201cghosting\u201d\uff0c\u201cechoing\u201d\uff0c\u6216\u201crippling\u201d\uff09\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\u5b83\u53ef\u4ee5\u5728\u4fdd\u6301\u6253\u5370\u8d28\u91cf\u7684\u540c\u65f6\u63d0\u9ad8\u6253\u5370\u901f\u5ea6\u3002 Klipper \u4f7f\u7528\u201c\u8fed\u4ee3\u6c42\u89e3\u5668\u201d\u4ece\u7b80\u5355\u7684\u8fd0\u52a8\u5b66\u65b9\u7a0b\u4e2d\u8ba1\u7b97\u7cbe\u51c6\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u8fd9\u964d\u4f4e\u4e86\u79fb\u690dKlipper\u5230\u65b0\u7684\u673a\u68b0\u7ed3\u6784\u7684\u96be\u5ea6\u5e76\u4fdd\u8bc1\u4e86\u7cbe\u786e\u7684\u6b65\u8fdb\u8ba1\u65f6\uff08\u800c\u4e0d\u9700\u8981\u201c\u7ebf\u6bb5\u5316\u201d\uff09\u3002 \u6613\u79fb\u690d\u7684\u4ee3\u7801\u3002Klipper \u53ef\u4ee5\u5728 ARM\uff0cAVR\uff0c\u548cPRU\u67b6\u6784\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u8fd0\u884c\u3002\u73b0\u6709\u7684\u201creprap\u201d\u7c7b\u6253\u5370\u673a\u4e0d\u9700\u8981\u6539\u52a8\u4efb\u4f55\u786c\u4ef6\u5c31\u53ef\u4ee5\u8fd0\u884c Klipper\uff0c\u53ea\u9700\u8981\u52a0\u4e00\u4e2a\u6811\u8393\u6d3e\u3002Klipper \u7684\u5185\u90e8\u4ee3\u7801\u7ed3\u6784\u4f7f\u5b83\u80fd\u591f\u88ab\u7b80\u5355\u7684\u79fb\u690d\u5230\u5176\u4ed6\u67b6\u6784\u3002 \u7b80\u6d01\u7684\u4ee3\u7801\u3002\u5927\u90e8\u5206 Klipper \u4ee3\u7801\u4f7f\u7528\u4e00\u4e2a\u6781\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00\uff08Python\uff09\uff0c\u8fd9\u5305\u62ec\u4e86\u8fd0\u52a8\u7b97\u6cd5\uff0cG\u4ee3\u7801\u89e3\u6790\uff0c\u52a0\u70ed\uff0c\u6e29\u5ea6\u4f20\u611f\u5668\u7b97\u6cd5\u548c\u5176\u4ed6\uff0c\u964d\u4f4e\u4e86\u5f00\u53d1\u65b0\u529f\u80fd\u7684\u96be\u5ea6\u3002 \u81ea\u5b9a\u4e49\u53ef\u7f16\u7a0b\u811a\u672c\u3002\u53ef\u4ee5\u5728\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u65b0\u7684G\u4ee3\u7801\u547d\u4ee4\uff08\u800c\u4e0d\u9700\u8981\u4fee\u6539\u4efb\u4f55\u4ee3\u7801\uff09\u3002\u8fd9\u4e9b\u547d\u4ee4\u90fd\u662f\u53ef\u7f16\u7a0b\u7684\uff0c\u53ef\u4ee5\u80fd\u6839\u636e\u6253\u5370\u673a\u7684\u72b6\u6001\u505a\u51fa\u4e0d\u540c\u7684\u54cd\u5e94\u3002 \u5185\u7f6eAPI\u670d\u52a1\u5668\u3002\u9664\u4e86\u6807\u51c6G\u4ee3\u7801\u63a5\u53e3\uff0cKlipper\u4e5f\u652f\u6301\u5bccJSON API\u3002\u4f7f\u7a0b\u5e8f\u5458\u80fd\u7f16\u5199\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u7cbe\u7ec6\u63a7\u5236\u7684\u5916\u7f6e\u7a0b\u5e8f\u3002","title":"\u529f\u80fd"},{"location":"Features.html#_2","text":"Klipper \u652f\u6301\u8bb8\u591a\u6807\u51c6\u7684 3d \u6253\u5370\u673a\u529f\u80fd\uff1a \u517c\u5bb9Octoprint\u3002\u8fd9\u4f7f\u5f97\u6253\u5370\u673a\u53ef\u4ee5\u901a\u8fc7\u666e\u901a\u6d4f\u89c8\u5668\u6765\u63a7\u5236\u3002\u8fd0\u884cKlipper\u7684\u6811\u8393\u6d3e\u53ef\u4ee5\u540c\u65f6\u7528\u6765\u8fd0\u884cOctoprint\u3002 \u6807\u51c6 G \u4ee3\u7801\u652f\u6301\u3002\u652f\u6301\u7531\u5e38\u89c1\u201c\u5207\u7247\u8f6f\u4ef6\u201d\uff08SuperSlicer\u3001Cura\u3001PrusaSlicer \u7b49\uff09\u751f\u6210\u7684\u901a\u7528 G \u4ee3\u7801\u547d\u4ee4\u3002 \u652f\u6301\u591a\u6324\u51fa\u673a\u3002\u5305\u62ec\u5bf9\u5171\u4eab\u70ed\u7aef\u7684\u6324\u51fa\u673a\uff08\u591a\u8fdb\u4e00\u51fa\uff09\u548c\u591a\u5934\uff08IDEX\uff09\u7684\u652f\u6301\u3002 \u652f\u6301\u7b1b\u5361\u5c14\u3001\u4e09\u89d2\u6d32\u3001CoreXY\u3001CoreXZ\u3001\u6df7\u5408CoreXY\u3001\u6df7\u5408CoreXZ\u3001\u65cb\u8f6c\u4e09\u89d2\u6d32\u3001\u6781\u5750\u6807\u548c\u7f06\u7ef3\u94f0\u76d8\u5f0f\u6253\u5370\u673a\u3002 \u81ea\u52a8\u5e8a\u9762\u5e73\u6574\u652f\u6301\u3002Klipper\u53ef\u4ee5\u88ab\u914d\u7f6e\u4e3a\u57fa\u672c\u7684\u5e8a\u8eab\u503e\u659c\u68c0\u6d4b\u6216\u7f51\u5e8a\u8c03\u5e73\u3002\u5982\u679c\u5e8a\u94fa\u4f7f\u7528\u591a\u4e2aZ\u6b65\u8fdb\u5668\uff0c\u90a3\u4e48Klipper\u4e5f\u53ef\u4ee5\u901a\u8fc7\u72ec\u7acb\u64cd\u7eb5Z\u6b65\u8fdb\u5668\u6765\u8c03\u5e73\u3002\u652f\u6301\u5927\u591a\u6570Z\u9ad8\u5ea6\u63a2\u5934\uff0c\u5305\u62ecBL-Touch\u63a2\u5934\u548c\u4f3a\u670d\u6fc0\u6d3b\u7684\u63a2\u5934\u3002 \u652f\u6301\u81ea\u52a8delta\u6821\u51c6\u3002\u6821\u51c6\u5de5\u5177\u53ef\u4ee5\u8fdb\u884c\u57fa\u672c\u7684\u9ad8\u5ea6\u6821\u51c6\uff0c\u4ee5\u53ca\u589e\u5f3a\u7684X\u548cY\u5c3a\u5bf8\u6821\u51c6\u3002\u6821\u51c6\u53ef\u4ee5\u7528Z\u578b\u9ad8\u5ea6\u63a2\u5934\u6216\u901a\u8fc7\u624b\u52a8\u63a2\u6d4b\u6765\u5b8c\u6210\u3002 \u652f\u6301\u5e38\u89c1\u7684\u6e29\u5ea6\u4f20\u611f\u5668\uff08\u4f8b\u5982\uff0c\u5e38\u89c1\u7684\u70ed\u654f\u7535\u963b\u3001AD595\u3001AD597\u3001AD849x\u3001PT100\u3001PT1000\u3001MAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001BME280\u3001HTU21D\u3001DS18B20\u548cLM75\uff09\u3002\u8fd8\u53ef\u4ee5\u914d\u7f6e\u81ea\u5b9a\u4e49\u70ed\u654f\u7535\u963b\u548c\u81ea\u5b9a\u4e49\u6a21\u62df\u6e29\u5ea6\u4f20\u611f\u5668\u3002\u8fd8\u53ef\u4ee5\u76d1\u6d4b\u5fae\u63a7\u5236\u5668\u548c Raspberry Pi \u5185\u90e8\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u3002 \u9ed8\u8ba4\u542f\u7528\u57fa\u672c\u52a0\u70ed\u5668\u4fdd\u62a4\u3002 \u652f\u6301\u6807\u51c6\u98ce\u6247\u3001\u55b7\u5634\u98ce\u6247\u548c\u6e29\u63a7\u98ce\u6247\u3002\u4e0d\u9700\u8981\u5728\u6253\u5370\u673a\u95f2\u7f6e\u65f6\u4fdd\u6301\u98ce\u6247\u8fd0\u8f6c\u3002\u53ef\u4ee5\u5728\u5e26\u6709\u8f6c\u901f\u8868\u7684\u98ce\u6247\u4e0a\u76d1\u6d4b\u98ce\u6247\u901f\u5ea6\u3002 \u652f\u6301TMC2130\u3001TMC2208/TMC2224\u3001TMC2209\u3001TMC2660\u548cTMC5160\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u7684\u8fd0\u884c\u65f6\u914d\u7f6e\u3002\u8fd8\u652f\u6301\u901a\u8fc7AD5206\u3001MCP4451\u3001MCP4728\u3001MCP4018\u548cPWM\u5f15\u811a\u5bf9\u4f20\u7edf\u6b65\u8fdb\u9a71\u52a8\u5668\u8fdb\u884c\u7535\u6d41\u63a7\u5236\u3002 \u652f\u6301\u76f4\u63a5\u8fde\u63a5\u5230\u6253\u5370\u673a\u7684\u666e\u901aLCD\u663e\u793a\u5668\u3002\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9ed8\u8ba4\u7684\u83dc\u5355\u3002\u663e\u793a\u5668\u548c\u83dc\u5355\u7684\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u5b8c\u5168\u5b9a\u5236\u3002 \u6052\u5b9a\u52a0\u901f\u548c\u201clook-ahead\u201d\uff08\u524d\u77bb\uff09\u652f\u6301\u3002\u6240\u6709\u6253\u5370\u673a\u79fb\u52a8\u5c06\u4ece\u9759\u6b62\u9010\u6e10\u52a0\u901f\u5230\u5de1\u822a\u901f\u5ea6\uff0c\u7136\u540e\u51cf\u901f\u56de\u5230\u9759\u6b62\u3002\u5bf9\u4f20\u5165\u7684 G \u4ee3\u7801\u79fb\u52a8\u547d\u4ee4\u6d41\u8fdb\u884c\u6392\u961f\u548c\u5206\u6790 - \u5c06\u4f18\u5316\u7c7b\u4f3c\u65b9\u5411\u4e0a\u7684\u79fb\u52a8\u4e4b\u95f4\u7684\u52a0\u901f\u5ea6\uff0c\u4ee5\u51cf\u5c11\u6253\u5370\u505c\u987f\u5e76\u6539\u5584\u6574\u4f53\u6253\u5370\u65f6\u95f4\u3002 Klipper \u5b9e\u73b0\u4e86\u4e00\u79cd\u201c\u6b65\u8fdb\u76f8\u4f4d\u9650\u4f4d\u201d\u7b97\u6cd5\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5178\u578b\u9650\u4f4d\u5f00\u5173\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u8c03\u6574\u5f97\u5f53\uff0c\u5b83\u53ef\u4ee5\u63d0\u9ad8\u6253\u5370\u4ef6\u9996\u5c42\u548c\u6253\u5370\u5e8a\u7684\u9644\u7740\u529b\u3002 \u652f\u6301\u6253\u5370\u4e1d\u5b58\u5728\u4f20\u611f\u5668\u3001\u6253\u5370\u4e1d\u8fd0\u52a8\u4f20\u611f\u5668\u548c\u6253\u5370\u4e1d\u5bbd\u5ea6\u4f20\u611f\u5668\u3002 \u652f\u6301\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8ba1\u6d4b\u91cf\u548c\u8bb0\u5f55\u52a0\u901f\u5ea6\u3002 \u652f\u6301\u9650\u5236\u77ed\u8ddd\u79bb\u201c\u4e4b\u201d\u5b57\u5f62\u79fb\u52a8\u7684\u6700\u9ad8\u901f\u5ea6\uff0c\u4ee5\u51cf\u5c11\u6253\u5370\u673a\u7684\u632f\u52a8\u548c\u566a\u97f3\u3002\u66f4\u591a\u4fe1\u606f\u89c1 \u8fd0\u52a8\u5b66 \u6587\u6863\u3002 \u8bb8\u591a\u5e38\u89c1\u7684\u6253\u5370\u673a\u90fd\u6709\u6837\u672c\u914d\u7f6e\u6587\u4ef6\u3002\u67e5\u770b \u914d\u7f6e\u6587\u4ef6\u5939 \u4e2d\u7684\u5217\u8868\u3002 \u8981\u5f00\u59cb\u4f7f\u7528Klipper\uff0c\u8bf7\u9605\u8bfb \u5b89\u88c5 \u6307\u5357\u3002","title":"\u5176\u4ed6\u529f\u80fd"},{"location":"Features.html#_3","text":"\u4e0b\u9762\u662f\u6b65\u8fdb\u6027\u80fd\u6d4b\u8bd5\u7684\u7ed3\u679c\u3002\u663e\u793a\u7684\u6570\u5b57\u4ee3\u8868\u4e86\u5fae\u63a7\u5236\u5668\u4e0a\u6bcf\u79d2\u7684\u603b\u6b65\u6570\u3002 \u5fae\u63a7\u5236\u5668 1\u4e2a\u6d3b\u8dc3\u6b65\u8fdb\u7535\u673a 3\u4e2a\u6b65\u8fdb\u5668\u6d3b\u8dc3 16Mhz AVR 157K 99K 20Mhz AVR 196K 123K SAMD21 686K 471K STM32F042 814K 578K Beaglebone \u53ef\u7f16\u7a0b\u5b9e\u65f6\u5355\u5143 866K 708K STM32G0B1 1103K 790K STM32F103 1180K 818K SAM3X8E 1273K 981K SAM4S8C 1690K 1385K LPC1768 1923K 1351K LPC1769 2353K 1622K RP2040 2400K 1636K SAM4E8E 2500K 1674K SAMD51 3077K 1885K STM32F407 3652K 2459K STM32F446 3913K 2634K \u5982\u679c\u4e0d\u786e\u5b9a\u4e00\u4e2a\u63a7\u5236\u677f\u4e0a\u7684\u5fae\u63a7\u5236\u5668\u578b\u53f7\uff0c\u53ef\u4ee5\u5148\u627e\u5230\u76f8\u5e94\u7684 \u914d\u7f6e\u6587\u4ef6 \uff0c\u5e76\u5728\u8be5\u6587\u4ef6\u9876\u90e8\u7684\u6ce8\u91ca\u4e2d\u5bfb\u627e\u5fae\u63a7\u5236\u5668\u7684\u578b\u53f7\u3002 \u5173\u4e8e\u57fa\u51c6\u6d4b\u8bd5\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\u53ef\u5728 \u57fa\u51c6\u6d4b\u8bd5\u6587\u6863 \u4e2d\u627e\u5230\u3002","title":"\u6b65\u901f\u57fa\u51c6\u6d4b\u8bd5"},{"location":"G-Codes.html","text":"G-Codes \u00b6 \u672c\u6587\u6863\u63cf\u8ff0\u4e86 Klipper \u652f\u6301\u7684\u547d\u4ee4\u3002\u8fd9\u4e9b\u547d\u4ee4\u53ef\u4ee5\u8f93\u5165\u5230 OctoPrint \u7ec8\u7aef\u4e2d\u3002 G\u4ee3\u7801\u547d\u4ee4 \u00b6 Klipper\u652f\u6301\u4ee5\u4e0b\u6807\u51c6\u7684G-Code\u547d\u4ee4\uff1a \u79fb\u52a8 (G0 or G1): G1 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] \u9a7b\u7559\uff1a G4 P<\u6beb\u79d2> \u8fd4\u56de\u539f\u70b9\uff1a G28 [X] [Y] [Z] \u5173\u95ed\u6b65\u8fdb\u7535\u673a\uff1a M18 \u6216 M84 \u7b49\u5f85\u5f53\u524d\u79fb\u52a8\u5b8c\u6210\uff1a M400 \u4f7f\u7528\u7edd\u5bf9/\u76f8\u5bf9\u6324\u51fa\u8ddd\u79bb\uff1a M82 \uff0c M83 \u4f7f\u7528\u7edd\u5bf9/\u76f8\u5bf9\u5750\u6807\uff1a G90 , G91 \u8bbe\u7f6e\u5750\u6807\uff1a G92 [X<\u5750\u6807>] [Y<\u5750\u6807>] [Z<\u5750\u6807>] [E<\u5750\u6807>] \u8bbe\u7f6e\u901f\u5ea6\u56e0\u5b50\u8986\u5199\u767e\u5206\u6bd4\uff1a M220 S<\u767e\u5206\u6bd4> \u8bbe\u7f6e\u6324\u538b\u56e0\u5b50\u8986\u76d6\u767e\u5206\u6bd4\uff1a M221 S<percent> \u8bbe\u7f6e\u52a0\u901f\u5ea6\uff1a M204 S<value> \u6216 M204 P<value> T<value> \u6ce8\u610f\uff1a\u5982\u679c\u6ca1\u6709\u6307\u5b9aS\uff0c\u540c\u65f6\u6307\u5b9a\u4e86P\u548cT\uff0c\u90a3\u4e48\u52a0\u901f\u5ea6\u5c06\u88ab\u8bbe\u7f6e\u4e3aP\u548cT\u4e2d\u7684\u6700\u5c0f\u503c\u3002 \u83b7\u53d6\u6324\u51fa\u673a\u6e29\u5ea6\uff1a M105 \u8bbe\u7f6e\u6324\u51fa\u673a\u6e29\u5ea6\uff1a M104 [T<index>] [S<temperature>] \u8bbe\u7f6e\u6324\u51fa\u673a\u6e29\u5ea6\u5e76\u7b49\u5f85\uff1a M109 [T<index>] S<temperature> \u3002 \u6ce8\u610f\uff1aM109\u603b\u662f\u7b49\u5f85\u6e29\u5ea6\u7a33\u5b9a\u5728\u8bf7\u6c42\u7684\u6570\u503c\u4e0a\u3002 \u8bbe\u7f6e\u70ed\u5e8a\u6e29\u5ea6\uff1a M140 [S<temperature>] \u8bbe\u7f6e\u70ed\u5e8a\u6e29\u5ea6\u5e76\u4e14\u7b49\u5f85\uff1a M190 S<temperature> \u6ce8\u610f\uff1aM190\u603b\u662f\u7b49\u5f85\u6e29\u5ea6\u7a33\u5b9a\u5728\u8bf7\u6c42\u7684\u6570\u503c\u4e0a\u3002 \u8bbe\u7f6e\u98ce\u6247\u901f\u5ea6\uff1a M106 S<value> \u505c\u6b62\u98ce\u6247\uff1a M107 \u7d27\u6025\u505c\u6b62\uff1a M112 \u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e\uff1a M114 \u83b7\u53d6\u56fa\u4ef6\u7248\u672c\uff1a M115 \u6709\u5173\u4e0a\u8ff0\u547d\u4ee4\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 RepRap G-Code documentation Klipper \u7684\u76ee\u6807\u662f\u652f\u6301\u666e\u901a\u7b2c\u4e09\u65b9\u8f6f\u4ef6\uff08\u5982OctoPrint\u3001Printrun\u3001Slic3r\u3001Cura\u7b49\uff09\u4f7f\u7528\u6807\u51c6\u914d\u7f6e\u4ea7\u751f\u7684G\u4ee3\u7801\u547d\u4ee4\u3002\u652f\u6301\u6240\u6709\u53ef\u80fd\u7684G-Code\u547d\u4ee4\u5e76\u4e0d\u662f\u6211\u4eec\u7684\u76ee\u6807\u3002\u76f8\u53cd\uff0cKlipper \u66f4\u559c\u6b22\u4eba\u7c7b\u53ef\u8bfb\u7684 \"\u6269\u5c55\u7684G-Code\u547d\u4ee4\" \u3002\u540c\u6837\u5730\uff0cG-Code\u7ec8\u7aef\u8f93\u51fa\u4e5f\u53ea\u662f\u4e3a\u4e86\u8ba9\u4eba\u53ef\u8bfb--\u5982\u679c\u4ece\u5916\u90e8\u8f6f\u4ef6\u63a7\u5236Klipper\uff0c\u8bf7\u53c2\u9605 API\u670d\u52a1\u5668\u6587\u4ef6 \u3002 \u5982\u679c\u4e00\u4e2a\u4eba\u9700\u8981\u4e00\u4e2a\u4e0d\u592a\u5e38\u89c1\u7684G-Code\u547d\u4ee4\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 gcode_macro config section \u6765\u5b9e\u73b0\u5b83\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u8fd9\u4e2a\u6765\u5b9e\u73b0\u3002 G12 , G29 , G30 , G31 , M42 , M80 , M81 , T1 \uff0cetc \u5176\u4ed6\u547d\u4ee4 \u00b6 Klipper\u4f7f\u7528 \"extended\" \u7684G\u4ee3\u7801\u547d\u4ee4\u6765\u8fdb\u884c\u4e00\u822c\u7684\u914d\u7f6e\u548c\u72b6\u6001\u3002\u8fd9\u4e9b\u6269\u5c55\u547d\u4ee4\u90fd\u9075\u5faa\u4e00\u4e2a\u7c7b\u4f3c\u7684\u683c\u5f0f--\u5b83\u4eec\u4ee5\u4e00\u4e2a\u547d\u4ee4\u540d\u5f00\u59cb\uff0c\u540e\u9762\u53ef\u80fd\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\u3002\u6bd4\u5982\u8bf4\uff1a SET_SERVO SERVO=myservo ANGLE=5.3 \u3002\u5728\u672c\u6587\u4ef6\u4e2d\uff0c\u547d\u4ee4\u548c\u53c2\u6570\u4ee5\u5927\u5199\u5b57\u6bcd\u663e\u793a\uff0c\u4f46\u5b83\u4eec\u4e0d\u5206\u5927\u5c0f\u5199\u3002(\u6240\u4ee5\uff0c\"SET_SERVO \"\u548c \"set_servo \"\u90fd\u662f\u8fd0\u884c\u540c\u4e00\u4e2a\u547d\u4ee4\uff09 This section is organized by Klipper module name, which generally follows the section names specified in the printer configuration file . Note that some modules are automatically loaded. [adxl345] \u00b6 The following commands are available when an adxl345 config section is enabled. ACCELEROMETER_MEASURE \u00b6 ACCELEROMETER_MEASURE [CHIP=<config_name>] [NAME=<value>] \u3002\u4ee5\u8981\u6c42\u7684\u6bcf\u79d2\u91c7\u6837\u6570\u542f\u52a8\u52a0\u901f\u5ea6\u8ba1\u6d4b\u91cf\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aCHIP\uff0c\u5219\u9ed8\u8ba4\u4e3a \"adxl345\"\u3002\u8be5\u547d\u4ee4\u4ee5\u542f\u52a8-\u505c\u6b62\u6a21\u5f0f\u5de5\u4f5c\uff1a\u7b2c\u4e00\u6b21\u6267\u884c\u65f6\uff0c\u5b83\u5f00\u59cb\u6d4b\u91cf\uff0c\u4e0b\u6b21\u6267\u884c\u65f6\u505c\u6b62\u6d4b\u91cf\u3002\u6d4b\u91cf\u7ed3\u679c\u88ab\u5199\u5165\u4e00\u4e2a\u540d\u4e3a /tmp/adxl345-<chip>-<name>\u7684\u6587\u4ef6\u4e2d\u3002csv \uff0c\u5176\u4e2d <chip> \u662f\u52a0\u901f\u5ea6\u8ba1\u82af\u7247\u7684\u540d\u79f0\uff08 my_chip_name \u6765\u81ea [adxl345 my_chip_name] \uff09\uff0c <name> \u662f\u53ef\u9009NAME\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aNAME\uff0c\u5219\u9ed8\u8ba4\u4e3a\u5f53\u524d\u65f6\u95f4\uff0c\u683c\u5f0f\u4e3a \"YYYMMDD_HHMMSS\"\u3002\u5982\u679c\u52a0\u901f\u5ea6\u8ba1\u5728\u5176\u914d\u7f6e\u90e8\u5206\u6ca1\u6709\u540d\u79f0\uff08\u53ea\u662f [adxl345] \uff09\uff0c\u90a3\u4e48 <chip > \u90e8\u5206\u7684\u540d\u79f0\u5c31\u4e0d\u4f1a\u751f\u6210\u3002 ACCELEROMETER_QUERY \u00b6 ACCELEROMETER_QUERY [CHIP=<config_name>] [RATE=<value>] : \u67e5\u8be2\u52a0\u901f\u5ea6\u8ba1\u7684\u5f53\u524d\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u82af\u7247\uff0c\u5219\u9ed8\u8ba4\u4e3a \"adxl345\"\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aRATE\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u8be5\u547d\u4ee4\u5bf9\u4e8e\u6d4b\u8bd5\u4e0eADXL345\u52a0\u901f\u5ea6\u8ba1\u7684\u8fde\u63a5\u975e\u5e38\u6709\u7528\uff1a\u8fd4\u56de\u7684\u6570\u503c\u4e4b\u4e00\u5e94\u8be5\u662f\u81ea\u7531\u843d\u4f53\u52a0\u901f\u5ea6\uff08+/-\u82af\u7247\u7684\u4e00\u4e9b\u566a\u58f0\uff09\u3002 ACCELEROMETER_DEBUG_READ \u00b6 ACCELEROMETER_DEBUG_READ [CHIP=<\u914d\u7f6e\u540d>] REG=<\u5bc4\u5b58\u5668> \uff1a\u67e5\u8be2ADXL345\u7684\u5bc4\u5b58\u5668\"REG\"\uff08\u4f8b\u598244\u62160x2C\uff09\u3002\u53ef\u4ee5\u7528\u4e8edebug\u3002 ACCELEROMETER_DEBUG_WRITE \u00b6 ACCELEROMETER_DEBUG_WRITE [CHIP=<\u914d\u7f6e\u540d>] REG=<\u5bc4\u5b58\u5668> VAL=<\u503c> \uff1a\u5c06\u539f\u59cb\u7684\"\u503c\"\u5199\u8fdb\u5bc4\u5b58\u5668\"\u5bc4\u5b58\u5668\"\u3002\"\u503c\"\u548c\"\u5bc4\u5b58\u5668\"\u90fd\u53ef\u4ee5\u662f\u4e00\u4e2a\u5341\u8fdb\u5236\u6216\u5341\u516d\u8fdb\u5236\u7684\u6574\u6570\u3002\u8bf7\u8c28\u614e\u4f7f\u7528\uff0c\u5e76\u53c2\u8003 ADXL345 \u6570\u636e\u624b\u518c\u3002 [angle] \u00b6 The following commands are available when an angle config section is enabled. ANGLE_CALIBRATE \u00b6 ANGLE_CALIBRATE CHIP=<\u82af\u7247\u540d> \uff1a\u5728\u6307\u5b9a\u4f20\u611f\u5668\u4e0a\u6267\u884c\u89d2\u5ea6\u6821\u51c6\uff08\u5fc5\u987b\u6709\u4e00\u4e2a [angle \u82af\u7247\u540d] \u7684\u914d\u7f6e\u5206\u6bb5\uff0c\u5e76\u6307\u5b9a\u4e00\u4e2a stepper \u53c2\u6570\uff09\u3002\u91cd\u8981\u7684\u662f - \u8fd9\u4e2a\u5de5\u5177\u5c06\u547d\u4ee4\u6b65\u8fdb\u7535\u673a\u79fb\u52a8\u800c\u4e0d\u68c0\u67e5\u6b63\u5e38\u7684\u8fd0\u52a8\u5b66\u8fb9\u754c\u9650\u5236\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5728\u6267\u884c\u6821\u51c6\u4e4b\u524d\uff0c\u7535\u673a\u4e0d\u5e94\u88ab\u8fde\u63a5\u5230\u4efb\u4f55\u6253\u5370\u673a\u7684\u6ed1\u5757\u3002\u5982\u679c\u4e0d\u80fd\u65ad\u5f00\u6b65\u8fdb\u7535\u673a\u548c\u6253\u5370\u673a\u6ed1\u5757\u7684\u8fde\u63a5\uff0c\u5728\u5f00\u59cb\u6821\u51c6\u4e4b\u524d\uff0c\u786e\u4fdd\u6ed1\u8f66\u63a5\u8fd1\u5176\u8f68\u9053\u7684\u4e2d\u5fc3\u3002(\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\uff0c\u6b65\u8fdb\u7535\u673a\u53ef\u80fd\u4f1a\u5411\u524d\u6216\u5411\u540e\u79fb\u52a8\u4e24\u5708\uff09\u3002\u5b8c\u6210\u8fd9\u4e2a\u6d4b\u8bd5\u540e\uff0c\u4f7f\u7528 SAVE_CONFIG \u547d\u4ee4\uff0c\u5c06\u6821\u51c6\u6570\u636e\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4e3a\u4e86\u4f7f\u7528\u8fd9\u4e2a\u5de5\u5177\uff0c\u5fc5\u987b\u5b89\u88c5Python \"numpy\"\u8f6f\u4ef6\u5305\uff08\u66f4\u591a\u4fe1\u606f\u89c1 \u6d4b\u91cf\u8c10\u632f\u6587\u6863 \uff09\u3002 ANGLE_DEBUG_READ \u00b6 ANGLE_DEBUG_READ CHIP=<\u914d\u7f6e\u540d> REG=<\u5bc4\u5b58\u5668> \uff1a\u67e5\u8be2\u4f20\u611f\u5668\u5bc4\u5b58\u5668\"\u5bc4\u5b58\u5668\"\uff08\u4f8b\u5982\uff1a44\u62160x2C\uff09\u3002\u8be5\u547d\u4ee4\u5e38\u7528\u4e8e\u8c03\u8bd5\uff0c\u4ec5\u9002\u7528\u4e8etle5012b\u82af\u7247\u3002 ANGLE_DEBUG_WRITE \u00b6 ANGLE_DEBUG_WRITE CHIP=<\u914d\u7f6e\u540d> REG=<\u5bc4\u5b58\u5668> VAL=<\u503c> \uff1a\u5c06\u201c\u503c\u201d\u5199\u5165\u201c\u5bc4\u5b58\u5668\u201d\u3002\u201c\u503c\u201d\u548c\u201c\u5bc4\u5b58\u5668\u201d\u53ef\u4ee5\u662f\u5341\u8fdb\u5236\u6216\u5341\u516d\u8fdb\u5236\u6574\u6570\u3002\u8bf7\u5c0f\u5fc3\u4f7f\u7528\uff0c\u5e76\u53c2\u8003\u4f20\u611f\u5668\u6570\u636e\u624b\u518c\u3002\u4ec5\u9002\u7528\u4e8e tle5012b\u82af\u7247\u3002 [bed_mesh] \u00b6 The following commands are available when the bed_mesh config section is enabled (also see the bed mesh guide ). BED_MESH_CALIBRATE \u00b6 BED_MESH_CALIBRATE [METHOD=manual] [<probe_parameter>=<value>] [<mesh_parameter>=<value>] : \u6b64\u547d\u4ee4\u4f7f\u7528\u901a\u8fc7\u914d\u7f6e\u53c2\u6570\u6307\u5b9a\u5e76\u751f\u6210\u7684\u63a2\u6d4b\u70b9\u63a2\u6d4b\u6253\u5370\u5e8a\u3002\u5728\u63a2\u6d4b\u540e\uff0c\u4e00\u4e2a\u7f51\u683c\u5c06\u88ab\u751f\u6210\uff0cz \u8f74\u79fb\u52a8\u5c06\u6839\u636e\u7f51\u683c\u8c03\u6574\u3002\u6709\u5173\u53ef\u9009\u63a2\u6d4b\u53c2\u6570\uff0c\u8bf7\u89c1 PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9a METHOD=manual \uff0c\u5219\u4f1a\u542f\u52a8\u624b\u52a8\u63a2\u6d4b\u5de5\u5177 - \u6709\u5173\u6b64\u5de5\u5177\u6d3b\u8dc3\u65f6\u53ef\u7528\u7684\u989d\u5916\u547d\u4ee4\uff0c\u8be6\u89c1 MANUAL_PROBE \u547d\u4ee4\u3002 BED_MESH_OUTPUT \u00b6 BED_MESH_OUTPUT PGP=[<0:1>] \uff1a\u8be5\u547d\u4ee4\u5c06\u5f53\u524d\u63a2\u6d4b\u5230\u7684 Z \u503c\u548c\u5f53\u524d\u7f51\u683c\u7684\u503c\u8f93\u51fa\u5230\u7ec8\u7aef\u3002\u5982\u679c\u6307\u5b9a PGP=1\uff0c\u5219\u5c06bed_mesh\u4ea7\u751f\u7684X\u3001Y\u5750\u6807\uff0c\u4ee5\u53ca\u5b83\u4eec\u5173\u8054\u7684\u6307\u6570\uff0c\u8f93\u51fa\u5230\u7ec8\u7aef\u3002 BED_MESH_MAP \u00b6 BED_MESH_MAP \uff1a\u7c7b\u4f3c BED_MESH_OUTPUT\uff0c\u8fd9\u4e2a\u547d\u4ee4\u5728\u7ec8\u7aef\u4e2d\u663e\u793a\u7f51\u683c\u7684\u5f53\u524d\u72b6\u6001\u3002\u5b83\u4e0d\u4ee5\u4eba\u7c7b\u53ef\u8bfb\u683c\u5f0f\u6253\u5370\uff0c\u800c\u662f\u88ab\u5e8f\u5217\u5316\u4e3a json \u683c\u5f0f\u3002\u8fd9\u5141\u8bb8 Octoprint \u63d2\u4ef6\u6355\u83b7\u6570\u636e\u5e76\u751f\u6210\u63cf\u7ed8\u6253\u5370\u5e8a\u8868\u9762\u7684\u9ad8\u5ea6\u56fe\u3002 BED_MESH_CLEAR \u00b6 BED_MESH_CLEAR \uff1a\u6b64\u547d\u4ee4\u6e05\u9664\u5e8a\u7f51\u5e76\u79fb\u9664\u6240\u6709 z \u8c03\u6574\u3002\u5efa\u8bae\u628a\u5b83\u653e\u5728\u4f60\u7684 end-gcode \uff08\u7ed3\u675fG\u4ee3\u7801\uff09\u4e2d\u3002 BED_MESH_PROFILE \u00b6 BED_MESH_PROFILE LOAD=<\u540d\u79f0> SAVE=<\u540d\u79f0> REMOVE=<\u540d\u79f0> \uff1a\u6b64\u547d\u4ee4\u63d0\u4f9b\u4e86\u7f51\u5e8a\u914d\u7f6e\u7ba1\u7406\u529f\u80fd\u3002LOAD \u5c06\u4ece\u4e0e\u6240\u63d0\u4f9b\u7684\u540d\u79f0\u76f8\u7b26\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u6062\u590d\u7f51\u683c\u72b6\u6001\u3002SAVE \u5c06\u4f1a\u628a\u76ee\u524d\u7684\u7f51\u683c\u72b6\u6001\u4fdd\u5b58\u5230\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u76f8\u7b26\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002REMOVE\uff08\u79fb\u9664\uff09\u5c06\u4ece\u6301\u4e45\u6027\u5185\u5b58\u4e2d\u5220\u9664\u4e0e\u6240\u63d0\u4f9b\u540d\u79f0\u76f8\u7b26\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8bf7\u6ce8\u610f\uff0c\u5728 SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u987b\u53d1\u9001SAVE_CONFIG G\u4ee3\u7801\uff0c\u4ee5\u4fdd\u5b58\u53d8\u66f4\u5230\u6301\u4e45\u6027\u5185\u5b58\u3002 BED_MESH_OFFSET \u00b6 BED_MESH_OFFSET [X=<value>] [Y=<value>] \u3002\u5c06X\u548c/\u6216Y\u7684\u504f\u79fb\u91cf\u5e94\u7528\u4e8e\u7f51\u683c\u67e5\u627e\u3002\u8fd9\u5bf9\u5177\u6709\u591a\u4e2a\u72ec\u7acb\u6324\u51fa\u5934\u7684\u6253\u5370\u673a\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u504f\u79fb\u91cf\u5bf9\u5207\u6362\u5de5\u5177\u5934\u540e\u4ea7\u751f\u6b63\u786e\u7684 Z \u503c\u8c03\u6574\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002 [bed_screws] \u00b6 The following commands are available when the bed_screws config section is enabled (also see the manual level guide ). BED_SCREWS_ADJUST \u00b6 BED_SCREWS_ADJUST \uff1a\u8be5\u547d\u4ee4\u5c06\u8c03\u7528\u6253\u5370\u5e8a\u87ba\u4e1d\u8c03\u6574\u5de5\u5177\u3002\u5b83\u5c06\u547d\u4ee4\u55b7\u5634\u79fb\u52a8\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\uff08\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\uff09\uff0c\u5e76\u5141\u8bb8\u5bf9\u6253\u5370\u5e8a\u87ba\u4e1d\u8fdb\u884c\u624b\u52a8\u8c03\u6574\uff0c\u4f7f\u6253\u5370\u5e8a\u4e0e\u55b7\u5634\u7684\u8ddd\u79bb\u4fdd\u6301\u4e0d\u53d8\u3002 [bed_tilt] \u00b6 The following commands are available when the bed_tilt config section is enabled. BED_TILT_CALIBRATE \u00b6 BED_TILT_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u8be5\u547d\u4ee4\u5c06\u63a2\u6d4b\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u70b9\uff0c\u7136\u540e\u5efa\u8bae\u66f4\u65b0X\u548cY\u7684\u503e\u659c\u8c03\u6574\u3002\u6709\u5173\u53ef\u9009\u63a2\u6d4b\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u4e48\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u5c31\u4f1a\u88ab\u6fc0\u6d3b - \u5173\u4e8e\u8be5\u5de5\u5177\u6fc0\u6d3b\u65f6\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\uff0c\u8bf7\u53c2\u89c1\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002 [bltouch] \u00b6 \u5f53 bltouch \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u4e5f\u53ef\u53c2\u89c1 BL-Touch guide \uff09\u3002 BLTOUCH_DEBUG \u00b6 BLTOUCH_DEBUG COMMAND=<\u547d\u4ee4> \uff1a\u5411BLTouch\u53d1\u9001\u4e00\u4e2a\u6307\u5b9a\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u7528\u4e8e\u8c03\u8bd5\u3002\u53ef\u7528\u7684\u547d\u4ee4\u6709\uff1a pin_down \u3001 touch_mode \u3001 pin_up \u3001 self_test \u548c reset \u3002BL-TOUCH V3.0 \u6216 V3.1 \u4e5f\u53ef\u80fd\u652f\u6301 set_5V_output_mode \u3001 set_OD_output_mode \u548c output_mode_store \u547d\u4ee4\u3002 BLTOUCH_STORE \u00b6 BLTOUCH_STORE MODE=<output_mode> :\u8fd9\u5c06\u5728BLTouch V3.1\u7684EEPROM\u4e2d\u5b58\u50a8\u4e00\u4e2a\u8f93\u51fa\u6a21\u5f0f \u53ef\u7528\u7684\u8f93\u51fa\u6a21\u5f0f\u6709 5V , OD [configfile] \u00b6 configfile\u6a21\u5757\u88ab\u81ea\u52a8\u52a0\u8f7d\u3002 SAVE_CONFIG \u00b6 SAVE_CONFIG \uff1a\u8be5\u547d\u4ee4\u5c06\u8986\u76d6\u6253\u5370\u673a\u7684\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u91cd\u65b0\u542f\u52a8\u4e3b\u673a\u8f6f\u4ef6\u3002\u8be5\u547d\u4ee4\u4e0e\u5176\u4ed6\u6821\u51c6\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u4e8e\u5b58\u50a8\u6821\u51c6\u6d4b\u8bd5\u7684\u7ed3\u679c\u3002 [delayed_gcode] \u00b6 The following command is enabled if a delayed_gcode config section has been enabled (also see the template guide ). UPDATE_DELAYED_GCODE \u00b6 UPDATE_DELAYED_GCODE [ID=<\u540d\u79f0>] [DURATION=<\u79d2>] \uff1a\u66f4\u65b0\u76ee\u6807 [delayed_gcode] \u7684\u5ef6\u8fdf\u5e76\u542f\u52a8G\u4ee3\u7801\u6267\u884c\u7684\u8ba1\u65f6\u5668\u3002\u4e3a0\u7684\u503c\u4f1a\u53d6\u6d88\u51c6\u5907\u6267\u884c\u7684\u5ef6\u8fdfG\u4ee3\u7801\u3002 [delta_calibrate] \u00b6 The following commands are available when the delta_calibrate config section is enabled (also see the delta calibrate guide ). DELTA_CALIBRATE \u00b6 DELTA_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u8fd9\u6761\u547d\u4ee4\u5c06\u63a2\u6d4b\u5e8a\u8eab\u7684\u4e03\u4e2a\u70b9\uff0c\u5e76\u5efa\u8bae\u66f4\u65b0\u9650\u4f4d\u4f4d\u7f6e\u3001\u5854\u67b6\u89d2\u5ea6\u548c\u534a\u5f84\u3002\u6709\u5173\u53ef\u9009\u63a2\u6d4b\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u4e48\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u5c06\u88ab\u6fc0\u6d3b - \u5173\u4e8e\u8be5\u5de5\u5177\u6fc0\u6d3b\u65f6\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002 DELTA_ANALYZE \u00b6 DELTA_ANALYZE :\u8fd9\u4e2a\u547d\u4ee4\u5728\u589e\u5f3a\u7684delta\u6821\u51c6\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u3002\u8be6\u60c5\u89c1 Delta Calibrate \u3002 [display] \u00b6 \u5f53 display \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a SET_DISPLAY_GROUP \u00b6 SET_DISPLAY_GROUP [DISPLAY=<display>] GROUP=<group> :\u8bbe\u7f6e\u4e00\u4e2alcd\u663e\u793a\u5668\u7684\u6d3b\u52a8\u663e\u793a\u7ec4\u3002\u8fd9\u5141\u8bb8\u5728\u914d\u7f6e\u4e2d\u5b9a\u4e49\u591a\u4e2a\u663e\u793a\u6570\u636e\u7ec4\uff0c\u4f8b\u5982 [display_data <group> <elementname>] \u5e76\u4f7f\u7528\u8fd9\u4e2a\u6269\u5c55\u7684gcode\u547d\u4ee4\u5728\u5b83\u4eec\u4e4b\u95f4\u5207\u6362\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aDISPLAY\uff0c\u5219\u9ed8\u8ba4\u4e3a \"display\"\uff08\u4e3b\u663e\u793a\uff09\u3002 [display_status] \u00b6 \u5982\u679c\u4f7f\u7528\u4e86 display config \u914d\u7f6e\u5206\u6bb5 \uff0cdisplay_status\u6a21\u5757\u4f1a\u81ea\u52a8\u52a0\u8f7d\u3002\u5b83\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u6807\u51c6\u7684G\u4ee3\u7801\u547d\u4ee4\uff1a \u663e\u793a\u4fe1\u606f\uff1a M117 <message> \u8bbe\u7f6e\u6784\u5efa\u767e\u5206\u6bd4\uff1a M73 P<percent> [dual_carriage] \u00b6 \u4f7f\u7528 dual_carriage \u914d\u7f6e\u5206\u6bb5 \u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a SET_DUAL_CARRIAGE \u00b6 SET_DUAL_CARRIAGE CARRIAGE=[0|1] :\u8be5\u547d\u4ee4\u5c06\u8bbe\u7f6e\u6d3b\u52a8\u7684\u6ed1\u5757\u3002\u5b83\u901a\u5e38\u662f\u5728\u4e00\u4e2a\u591a\u6324\u51fa\u673a\u914d\u7f6e\u4e2d\u4ece activate_gcode\u548cdeactivate_gcode\u5b57\u6bb5\u8c03\u7528\u3002 [endstop_phase] \u00b6 The following commands are available when an endstop_phase config section is enabled (also see the endstop phase guide ). ENDSTOP_PHASE_CALIBRATE \u00b6 ENDSTOP_PHASE_CALIBRATE [STEPPER=<config_name>] \u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9bSTEPPER\u53c2\u6570\uff0c\u90a3\u4e48\u8be5\u547d\u4ee4\u5c06\u62a5\u544a\u5728\u8fc7\u53bb\u7684\u5f52\u4f4d\u64cd\u4f5c\u4e2d\u5bf9\u7aef\u505c\u6b65\u8fdb\u76f8\u7684\u7edf\u8ba1\u3002\u5f53\u63d0\u4f9bSTEPPER\u53c2\u6570\u65f6\uff0c\u5b83\u4f1a\u5b89\u6392\u5c06\u7ed9\u5b9a\u7684\u7ec8\u70b9\u7ad9\u76f8\u4f4d\u8bbe\u7f6e\u5199\u5165\u914d\u7f6e\u6587\u4ef6\u4e2d\uff08\u4e0eSAVE_CONFIG\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff09\u3002 [exclude_object] \u00b6 The following commands are available when an exclude_object config section is enabled (also see the exclude object guide ): EXCLUDE_OBJECT \u00b6 EXCLUDE_OBJECT [NAME=\u5bf9\u8c61\u540d\u79f0] [CURRENT=1] [RESET=1] \uff1a\u5728\u6ca1\u6709\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u5c06\u8fd4\u56de\u4e00\u4e2a\u5f53\u524d\u6240\u6709\u88ab\u6392\u9664\u7684\u5bf9\u8c61\u7684\u5217\u8868\u3002 When the NAME parameter is given, the named object will be excluded from printing. When the CURRENT parameter is given, the current object will be excluded from printing. When the RESET parameter is given, the list of excluded objects will be cleared. Additionally including NAME will only reset the named object. This can cause print failures, if layers were already skipped. EXCLUDE_OBJECT_DEFINE \u00b6 EXCLUDE_OBJECT_DEFINE [NAME=\u5bf9\u8c61\u540d\u79f0[CENTER=X,Y] [POLYGON=[[x,y],...]] [RESET=1] [JSON=1] \uff1a\u63d0\u4f9b\u6587\u4ef6\u4e2d\u4e00\u4e2a\u5bf9\u8c61\u7684\u6458\u8981\u3002 With no parameters provided, this will list the defined objects known to Klipper. Returns a list of strings, unless the JSON parameter is given, when it will return object details in json format. When the NAME parameter is included, this defines an object to be excluded. NAME \uff1a\u8fd9\u4e2a\u53c2\u6570\u662f\u5fc5\u9700\u7684\u3002\u5b83\u662f\u672c\u6a21\u5757\u4e2d\u5176\u4ed6\u547d\u4ee4\u6240\u4f7f\u7528\u7684\u6807\u8bc6\u7b26\u3002 CENTER \uff1a\u5bf9\u8c61\u7684 X\uff0cY \u5750\u6807\u3002 POLYGON \uff1a\u63d0\u4f9b\u5bf9\u8c61\u8f6e\u5ed3\u7684 X,Y \u5750\u6807\u6570\u7ec4\u3002 When the RESET parameter is provided, all defined objects will be cleared, and the [exclude_object] module will be reset. EXCLUDE_OBJECT_START \u00b6 EXCLUDE_OBJECT_START NAME=\u5bf9\u8c61\u540d\u79f0 \uff1a\u8fd9\u4e2a\u547d\u4ee4\u63a5\u6536\u4e00\u4e2a NAME \u53c2\u6570\uff0c\u8868\u793a\u5f53\u524d\u5c42\u4e0a\u4e00\u4e2a\u5bf9\u8c61\u7684gcode\u5f00\u59cb\u3002 EXCLUDE_OBJECT_END \u00b6 EXCLUDE_OBJECT_END [NAME=\u5bf9\u8c61\u540d\u79f0] \uff1a\u8868\u793a\u5bf9\u8c61\u5728\u8be5\u5c42\u7684\u4ee3\u7801\u7684\u7ed3\u675f\u3002\u5b83\u4e0e EXCLUDE_OBJECT_START \u76f8\u914d\u3002 NAME \u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u53ea\u5728\u63d0\u4f9b\u7684\u540d\u79f0\u4e0e\u5f53\u524d\u5bf9\u8c61\u4e0d\u5339\u914d\u65f6\u624d\u4f1a\u53d1\u51fa\u8b66\u544a\u3002 [extruder] \u00b6 The following commands are available if an extruder config section is enabled: ACTIVATE_EXTRUDER \u00b6 ACTIVATE_EXTRUDER EXTRUDER=<\u914d\u7f6e\u540d> \uff1a\u5728\u6709\u591a\u4e2a extruder \u914d\u7f6e\u5206\u6bb5\u7684\u6253\u5370\u673a\u4e2d\uff0c\u8be5\u547d\u4ee4\u4f1a\u6539\u53d8\u6d3b\u8dc3\u7684\u70ed\u7aef\u3002 SET_PRESSURE_ADVANCE \u00b6 SET_PRESSURE_ADVANCE [EXTRUDER=<config_name>] [ADVANCE=<pressure_advance>] [SMOOTH_TIME=<pressure_advance_smooth_time>] : Set pressure advance parameters of an extruder stepper (as defined in an extruder or extruder_stepper config section). If EXTRUDER is not specified, it defaults to the stepper defined in the active hotend. SET_EXTRUDER_ROTATION_DISTANCE \u00b6 SET_EXTRUDER_ROTATION_DISTANCE EXTRUDER=<\u914d\u7f6e\u540d> [DISTANCE=<\u8ddd\u79bb>] \uff1a\u4e3a\u63d0\u4f9b\u7684\u6324\u51fa\u673a\u6b65\u8fdb\u7535\u673a\u7684\u201c\u65cb\u8f6c\u8ddd\u79bb\u201d\uff08\u5982 \u6324\u51fa\u673a \u6216 extruder_stepper \u914d\u7f6e\u5206\u6bb5\u4e2d\u5b9a\u4e49\uff09\u8bbe\u7f6e\u65b0\u503c\u3002\u5982\u679c\u65cb\u8f6c\u8ddd\u79bb\u4e3a\u8d1f\u6570\uff0c\u5219\u6b65\u8fdb\u8fd0\u52a8\u5c06\u53cd\u8f6c\uff08\u76f8\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u6b65\u8fdb\u65b9\u5411\uff09\u3002\u66f4\u6539\u7684\u8bbe\u7f6e\u4e0d\u4f1a\u5728 Klipper \u91cd\u7f6e\u65f6\u4fdd\u7559\u3002\u8bf7\u8c28\u614e\u4f7f\u7528\uff0c\u56e0\u4e3a\u5fae\u5c0f\u7684\u53d8\u5316\u4f1a\u5bfc\u81f4\u6324\u51fa\u673a\u548c\u70ed\u7aef\u4e4b\u95f4\u7684\u538b\u529b\u8fc7\u5927\u3002\u4f7f\u7528\u524d\u9700\u8981\u7528\u8017\u6750\u8fdb\u884c\u9002\u5f53\u7684\u6821\u51c6\u3002\u5982\u679c\u672a\u63d0\u4f9b\u201cDISTANCE\u201d\u503c\uff0c\u5219\u6b64\u547d\u4ee4\u5c06\u8fd4\u56de\u5f53\u524d\u65cb\u8f6c\u8ddd\u79bb\u3002 SYNC_EXTRUDER_MOTION \u00b6 SYNC_EXTRUDER_MOTION EXTRUDER=<name> MOTION_QUEUE=<name> : This command will cause the stepper specified by EXTRUDER (as defined in an extruder or extruder_stepper config section) to become synchronized to the movement of an extruder specified by MOTION_QUEUE (as defined in an extruder config section). If MOTION_QUEUE is an empty string then the stepper will be desynchronized from all extruder movement. SET_EXTRUDER_STEP_DISTANCE \u00b6 This command is deprecated and will be removed in the near future. SYNC_STEPPER_TO_EXTRUDER \u00b6 This command is deprecated and will be removed in the near future. [fan_generic] \u00b6 \u5f53 fan_generic \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a SET_FAN_SPEED \u00b6 SET_FAN_SPEED FAN=config_name SPEED=<\u901f\u5ea6> \u8be5\u547d\u4ee4\u8bbe\u7f6e\u98ce\u6247\u7684\u901f\u5ea6\u3002\"\u901f\u5ea6\" \u5fc5\u987b\u57280.0\u52301.0\u4e4b\u95f4\u3002 [filament_switch_sensor] \u00b6 \u542f\u7528 filament_switch_sensor \u6216 filament_motion_sensor \u914d\u7f6e\u5206\u6bb5\u540e\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a QUERY_FILAMENT_SENSOR \u00b6 QUERY_FILAMENT_SENSOR SENSOR=<\u4f20\u611f\u5668\u540d> \uff1a\u67e5\u8be2\u8017\u6750\u4f20\u611f\u5668\u7684\u5f53\u524d\u72b6\u6001\u3002\u5728\u7ec8\u7aef\u4e2d\u663e\u793a\u7684\u6570\u636e\u5c06\u53d6\u51b3\u4e8e\u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684\u4f20\u611f\u5668\u7c7b\u578b\u3002 SET_FILAMENT_SENSOR \u00b6 SET_FILAMENT_SENSOR SENSOR=<sensor_name> ENABLE=[0|1] \uff1a\u8bbe\u7f6e\u706f\u4e1d\u4f20\u611f\u5668\u7684\u5f00/\u5173\u3002\u5982\u679c ENABLE \u8bbe\u7f6e\u4e3a 0\uff0c\u8017\u6750\u4f20\u611f\u5668\u5c06\u88ab\u7981\u7528\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a 1\u662f\u542f\u7528\u3002 [firmware_retraction] \u00b6 The following standard G-Code commands are available when the firmware_retraction config section is enabled. These commands allow you to utilize the firmware retraction feature available in many slicers, to reduce stringing during non-extrusion moves from one part of the print to another. Appropriately configuring pressure advance reduces the length of retraction required. G10 \uff1a\u4f7f\u7528\u5f53\u524d\u914d\u7f6e\u7684\u53c2\u6570\u56de\u62bd\u6324\u51fa\u673a\u3002 G11 \uff1a\u4f7f\u7528\u5f53\u524d\u914d\u7f6e\u7684\u53c2\u6570\u56de\u586b\u6324\u51fa\u673a\u3002 \u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u989d\u5916\u547d\u4ee4\uff1a SET_RETRACTION \u00b6 SET_RETRACTION [RETRACT_LENGTH=<\u6beb\u7c73>] [RETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] [UNRETRACT_EXTRA_LENGTH=<\u6beb\u7c73>] [UNRETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] \uff1a\u8c03\u6574\u56fa\u4ef6\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c2\u6570\u3002RETRACT_LENGTH \u51b3\u5b9a\u56de\u62bd\u548c\u56de\u586b\u7684\u8017\u6750\u957f\u5ea6\u3002\u56de\u62bd\u7684\u901f\u5ea6\u901a\u8fc7 RETRACT_SPEED \u8c03\u6574\uff0c\u901a\u5e38\u8bbe\u7f6e\u5f97\u6bd4\u8f83\u9ad8\u3002\u56de\u586b\u7684\u901f\u5ea6\u901a\u8fc7 UNRETRACT_SPEED \u8c03\u6574\uff0c\u867d\u7136\u7ecf\u5e38\u6bd4RETRACT_SPEED \u4f4e\uff0c\u4f46\u4e0d\u662f\u7279\u522b\u91cd\u8981\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5728\u56de\u586b\u65f6\u589e\u52a0\u5c11\u91cf\u7684\u989d\u5916\u957f\u5ea6\u7684\u8017\u6750\u53ef\u80fd\u6709\u76ca\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 UNRETRACT_EXTRA_LENGTH \u8bbe\u7f6e\u3002SET_RETRACTION \u901a\u5e38\u4f5c\u4e3a\u5207\u7247\u673a\u8017\u6750\u914d\u7f6e\u7684\u4e00\u90e8\u5206\u6765\u8bbe\u7f6e\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u8017\u6750\u9700\u8981\u4e0d\u540c\u7684\u53c2\u6570\u8bbe\u7f6e\u3002 GET_RETRACTION \u00b6 GET_RETRACTION :\u67e5\u8be2\u5f53\u524d\u56fa\u4ef6\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c2\u6570\u5e76\u5728\u7ec8\u7aef\u663e\u793a\u3002 [force_move] \u00b6 The force_move module is automatically loaded, however some commands require setting enable_force_move in the printer config . STEPPER_BUZZ \u00b6 STEPPER_BUZZ STEPPER=<\u914d\u7f6e\u540d> \uff1a\u79fb\u52a8\u6307\u5b9a\u7684\u6b65\u8fdb\u7535\u673a\u524d\u540e\u8fd0\u52a8\u4e00\u6beb\u7c73\uff0c\u91cd\u590d\u768410\u6b21\u3002\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u9a8c\u8bc1\u6b65\u8fdb\u7535\u673a\u63a5\u7ebf\u7684\u5de5\u5177 FORCE_MOVE \u00b6 FORCE_MOVE STEPPER=<config_name> DISTANCE=<value> VELOCITY=<value> [ACCEL=<value>] \u3002\u8be5\u547d\u4ee4\u5c06\u4ee5\u7ed9\u5b9a\u7684\u6052\u5b9a\u901f\u5ea6\uff08mm/s\uff09\u5f3a\u5236\u79fb\u52a8\u7ed9\u5b9a\u7684\u6b65\u8fdb\u5668\uff0c\u79fb\u52a8\u8ddd\u79bb\uff08mm\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86ACCEL\u5e76\u4e14\u5927\u4e8e\u96f6\uff0c\u90a3\u4e48\u5c06\u4f7f\u7528\u7ed9\u5b9a\u7684\u52a0\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s^2\uff09\uff1b\u5426\u5219\u4e0d\u8fdb\u884c\u52a0\u901f\u3002\u4e0d\u6267\u884c\u8fb9\u754c\u68c0\u67e5\uff1b\u4e0d\u8fdb\u884c\u8fd0\u52a8\u5b66\u66f4\u65b0\uff1b\u4e00\u4e2a\u8f74\u4e0a\u7684\u5176\u4ed6\u5e73\u884c\u6b65\u8fdb\u5668\u5c06\u4e0d\u4f1a\u88ab\u79fb\u52a8\u3002\u8bf7\u8c28\u614e\u4f7f\u7528\uff0c\u56e0\u4e3a\u4e0d\u6b63\u786e\u7684\u547d\u4ee4\u53ef\u80fd\u4f1a\u5bfc\u81f4\u635f\u574f\u4f7f\u7528\u8be5\u547d\u4ee4\u51e0\u4e4e\u80af\u5b9a\u4f1a\u4f7f\u4f4e\u7ea7\u8fd0\u52a8\u5b66\u5904\u4e8e\u4e0d\u6b63\u786e\u7684\u72b6\u6001\uff1b\u968f\u540e\u53d1\u51faG28\u547d\u4ee4\u4ee5\u91cd\u7f6e\u8fd0\u52a8\u5b66\u3002\u8be5\u547d\u4ee4\u7528\u4e8e\u4f4e\u7ea7\u522b\u7684\u8bca\u65ad\u548c\u8c03\u8bd5\u3002 SET_KINEMATIC_POSITION \u00b6 SET_KINEMATIC_POSITION [X=<\u503c>] [Y=<\u503c>] [Z=<\u503c>] \uff1a\u5f3a\u5236\u8bbe\u5b9a\u4f4e\u7ea7\u8fd0\u52a8\u5b66\u4ee3\u7801\u4f7f\u7528\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u3002\u8fd9\u662f\u4e00\u4e2a\u8bca\u65ad\u548c\u8c03\u8bd5\u5de5\u5177\uff0c\u5e38\u89c4\u7684\u8f74\u8f6c\u6362\u5e94\u8be5\u4f7f\u7528 SET_GCODE_OFFSET \u548c/\u6216 G92\u6307\u4ee4\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4e00\u4e2a\u8f74\uff0c\u5219\u4f7f\u7528\u4e0a\u4e00\u6b21\u547d\u4ee4\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u3002\u8bbe\u5b9a\u4e00\u4e2a\u4e0d\u5408\u7406\u7684\u6570\u503c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5185\u90e8\u7a0b\u5e8f\u95ee\u9898\u3002\u8fd9\u4e2a\u547d\u4ee4\u53ef\u80fd\u4f1a\u4f7f\u8fb9\u754c\u68c0\u67e5\u5931\u6548\uff0c\u4f7f\u7528\u540e\u53d1\u9001 G28 \u6765\u91cd\u7f6e\u8fd0\u52a8\u5b66\u3002 [gcode] \u00b6 The gcode module is automatically loaded. RESTART \u00b6 RESTART \uff1a\u8fd9\u5c06\u5bfc\u81f4\u4e3b\u673a\u8f6f\u4ef6\u91cd\u65b0\u52a0\u8f7d\u5176\u914d\u7f6e\u5e76\u6267\u884c\u5185\u90e8\u91cd\u7f6e\u3002\u6b64\u547d\u4ee4\u4e0d\u4f1a\u4ece\u5fae\u63a7\u5236\u5668\u6e05\u9664\u9519\u8bef\u72b6\u6001\uff08\u8bf7\u53c2\u9605 FIRMWARE_RESTART\uff09\uff0c\u4e5f\u4e0d\u4f1a\u52a0\u8f7d\u65b0\u8f6f\u4ef6\uff08\u8bf7\u53c2\u9605 \u5e38\u89c1\u95ee\u9898 \uff09 . FIRMWARE_RESTART \u00b6 FIRMWARE_RESTART \uff1a\u8fd9\u7c7b\u4f3c\u4e8e\u91cd\u542f\u547d\u4ee4\uff0c\u4f46\u5b83\u4e5f\u6e05\u9664\u4e86\u5fae\u63a7\u5236\u5668\u7684\u4efb\u4f55\u9519\u8bef\u72b6\u6001\u3002 STATUS \u00b6 STATUS \uff1a\u62a5\u544aKlipper\u4e3b\u673a\u7a0b\u5e8f\u7684\u72b6\u6001\u3002 HELP \u00b6 HELP \uff1a\u62a5\u544a\u53ef\u7528\u7684\u6269\u5c55G-Code\u547d\u4ee4\u5217\u8868\u3002 [gcode_arcs] \u00b6 \u5982\u679c\u542f\u7528\u4e86 gcode_arcs \u914d\u7f6e\u5206\u6bb5 \uff0c\u4e0b\u5217\u6807\u51c6G\u4ee3\u7801\u547d\u4ee4\u53ef\u7528\uff1a \u53d7\u63a7\u5f27\u7ebf\u79fb\u52a8\uff08G2\u6216G3\uff09\u3002 G2 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] I<value> J<value> \u3002 [gcode_macro] \u00b6 \u5f53 gcode_macro\u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u4e5f\u53ef\u53c2\u89c1 \u547d\u4ee4\u6a21\u677f\u6307\u5357 \uff09\uff1a SET_GCODE_VARIABLE \u00b6 SET_GCODE_VARIABLE MACRO=<macro_name> VARIABLE=<name> VALUE=<value> \uff1a\u8fd9\u6761\u547d\u4ee4\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u5bf9 gcode_macro \u53d8\u91cf\u7684\u503c\u8fdb\u884c\u4fee\u6539\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u4f1a\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a Python \u5b57\u9762\u3002 [gcode_move] \u00b6 The gcode_move module is automatically loaded. GET_POSITION \u00b6 GET_POSITION \uff1a\u8fd4\u56de\u6253\u5370\u5934\u7684\u5f53\u524d\u4f4d\u7f6e\u4fe1\u606f\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 GET_POSITION\u8f93\u51fa \u7684\u5f00\u53d1\u8005\u6587\u6863\u3002 SET_GCODE_OFFSET \u00b6 SET_GCODE_OFFSET [X=<pos>|X_ADJUST=<adjust>] [Y=<pos>|Y_ADJUST=<adjust>] [Z=<pos>|Z_ADJUST=<adjust>] [MOVE=1 [MOVE_SPEED=<speed>]] \u3002\u8bbe\u7f6e\u4e00\u4e2a\u4f4d\u7f6e\u504f\u79fb\uff0c\u4ee5\u5e94\u7528\u4e8e\u672a\u6765\u7684G\u4ee3\u7801\u547d\u4ee4\u3002\u8fd9\u901a\u5e38\u7528\u4e8e\u5b9e\u9645\u6539\u53d8Z\u5e8a\u7684\u504f\u79fb\u91cf\u6216\u5728\u5207\u6362\u6324\u51fa\u673a\u65f6\u8bbe\u7f6e\u55b7\u5634\u7684XY\u504f\u79fb\u91cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u53d1\u9001 \"SET_GCODE_OFFSET Z=0.2\"\uff0c\u90a3\u4e48\u672a\u6765\u7684G\u4ee3\u7801\u79fb\u52a8\u5c06\u5728\u5176Z\u9ad8\u5ea6\u4e0a\u589e\u52a00.2mm\u3002\u5982\u679c\u4f7f\u7528X_ADJUST\u98ce\u683c\u7684\u53c2\u6570\uff0c\u90a3\u4e48\u8c03\u6574\u5c06\u88ab\u6dfb\u52a0\u5230\u4efb\u4f55\u73b0\u6709\u7684\u504f\u79fb\u4e0a\uff08\u4f8b\u5982\uff0c\"SET_GCODE_OFFSET Z=-0.2\"\uff0c\u7136\u540e\u662f \"SET_GCODE_OFFSET Z_ADJUST=0.3\"\uff0c\u5c06\u5bfc\u81f4\u603b\u7684Z\u504f\u79fb\u4e3a0.1\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE=1\"\uff0c\u90a3\u4e48\u5c06\u53d1\u51fa\u4e00\u4e2a\u5de5\u5177\u5934\u79fb\u52a8\u6765\u5e94\u7528\u7ed9\u5b9a\u7684\u504f\u79fb\u91cf\uff08\u5426\u5219\u504f\u79fb\u91cf\u5c06\u5728\u6307\u5b9a\u7ed9\u5b9a\u8f74\u7684\u4e0b\u4e00\u6b21\u7edd\u5bf9G-Code\u79fb\u52a8\u4e2d\u751f\u6548\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE_SPEED\"\uff0c\u90a3\u4e48\u5200\u5934\u79fb\u52a8\u5c06\u4ee5\u7ed9\u5b9a\u7684\u901f\u5ea6\uff08mm/s\uff09\u6267\u884c\uff1b\u5426\u5219\uff0c\u6253\u5370\u5934\u79fb\u52a8\u5c06\u4f7f\u7528\u6700\u540e\u6307\u5b9a\u7684G-Code\u901f\u5ea6\u3002 SAVE_GCODE_STATE \u00b6 SAVE_GCODE_STATE [NAME=<state_name>] \uff1a\u4fdd\u5b58\u5f53\u524d\u7684g-code\u5750\u6807\u89e3\u6790\u72b6\u6001\u3002\u4fdd\u5b58\u548c\u6062\u590dg-code\u72b6\u6001\u5728\u811a\u672c\u548c\u5b8f\u4e2d\u5f88\u6709\u7528\u3002\u8be5\u547d\u4ee4\u4fdd\u5b58\u5f53\u524dg-code\u7edd\u5bf9\u5750\u6807\u6a21\u5f0f\uff08G90/G91\uff09\u7edd\u5bf9\u6324\u51fa\u6a21\u5f0f\uff08M82/M83\uff09\u539f\u70b9\uff08G92\uff09\u504f\u79fb\u91cf\uff08SET_GCODE_OFFSET\uff09\u901f\u5ea6\u8986\u76d6\uff08M220\uff09\u6324\u51fa\u673a\u8986\u76d6\uff08M221\uff09\u79fb\u52a8\u901f\u5ea6\u3002\u5f53\u524dXYZ\u4f4d\u7f6e\u548c\u76f8\u5bf9\u6324\u51fa\u673a \"E \"\u4f4d\u7f6e\u3002\u5982\u679c\u63d0\u4f9bNAME\uff0c\u5b83\u53ef\u4ee5\u5c06\u4fdd\u5b58\u7684\u72b6\u6001\u547d\u540d\u4e3a\u7ed9\u5b9a\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9bNAME\uff0c\u5219\u9ed8\u8ba4\u4e3a \"default\" RESTORE_GCODE_STATE \u00b6 RESTORE_GCODE_STATE [NAME=<state_name>] [MOVE=1 [MOVE_SPEED=<speed>]] \uff1a\u6062\u590d\u4e4b\u524d\u901a\u8fc7 SAVE_GCODE_STATE \u4fdd\u5b58\u7684\u72b6\u6001\u3002\u5982\u679c\u6307\u5b9a\u201cMOVE=1\u201d\uff0c\u5219\u5c06\u53d1\u51fa\u5200\u5934\u79fb\u52a8\u4ee5\u8fd4\u56de\u5230\u5148\u524d\u7684 XYZ \u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86\u201cMOVE_SPEED\u201d\uff0c\u5219\u5200\u5934\u79fb\u52a8\u5c06\u4ee5\u7ed9\u5b9a\u7684\u901f\u5ea6\uff08\u4ee5mm/s\u4e3a\u5355\u4f4d\uff09\u6267\u884c\uff1b\u5426\u5219\u5de5\u5177\u5934\u79fb\u52a8\u5c06\u4f7f\u7528\u6062\u590d\u7684G-Code\u901f\u5ea6\u3002 [hall_filament_width_sensor] \u00b6 The following commands are available when the tsl1401cl filament width sensor config section or hall filament width sensor config section is enabled (also see TSLl401CL Filament Width Sensor and Hall Filament Width Sensor ): QUERY_FILAMENT_WIDTH \u00b6 QUERY_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u5f53\u524d\u6d4b\u91cf\u7684\u8017\u6750\u76f4\u5f84\u3002 RESET_FILAMENT_WIDTH_SENSOR \u00b6 RESET_FILAMENT_WIDTH_SENSOR \uff1a\u6e05\u9664\u5168\u90e8\u4f20\u611f\u5668\u8bfb\u6570\u3002\u5728\u66f4\u6362\u8017\u6750\u540e\u6709\u7528\u3002 DISABLE_FILAMENT_WIDTH_SENSOR \u00b6 DISABLE_FILAMENT_WIDTH_SENSOR \uff1a\u5173\u95ed\u8017\u6750\u76f4\u5f84\u4f20\u611f\u5668\u5e76\u505c\u6b62\u4f7f\u7528\u5b83\u8fdb\u884c\u6d41\u91cf\u63a7\u5236\u3002 ENABLE_FILAMENT_WIDTH_SENSOR \u00b6 ENABLE_FILAMENT_WIDTH_SENSOR \uff1a\u542f\u7528\u8017\u6750\u76f4\u5f84\u4f20\u611f\u5668\u5e76\u4f7f\u7528\u5b83\u8fdb\u884c\u6d41\u91cf\u63a7\u5236\u3002 QUERY_RAW_FILAMENT_WIDTH \u00b6 QUERY_RAW_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u5f53\u524d ADC \u901a\u9053\u8bfb\u6570\u548c\u6821\u51c6\u70b9\u7684 RAW \u4f20\u611f\u5668\u503c\u3002 ENABLE_FILAMENT_WIDTH_LOG \u00b6 ENABLE_FILAMENT_WIDTH_LOG \uff1a\u5f00\u542f\u76f4\u5f84\u8bb0\u5f55\u3002 DISABLE_FILAMENT_WIDTH_LOG \u00b6 DISABLE_FILAMENT_WIDTH_LOG \uff1a\u505c\u6b62\u76f4\u5f84\u8bb0\u5f55\u3002 [heaters] \u00b6 The heaters module is automatically loaded if a heater is defined in the config file. TURN_OFF_HEATERS \u00b6 TURN_OFF_HEATERS \uff1a\u5173\u95ed\u5168\u90e8\u52a0\u70ed\u5668\u3002 TEMPERATURE_WAIT \u00b6 TEMPERATURE_WAIT SENSOR=<\u914d\u7f6e\u540d> [MINIMUM=<\u76ee\u6807>] [MAXIMUM=<\u76ee\u6807>] \uff1a\u7b49\u5f85\u6307\u5b9a\u6e29\u5ea6\u4f20\u611f\u5668\u8bfb\u6570\u9ad8\u4e8e MINIMUM \u548c\u6216\u4f4e\u4e8e MAXIMUM\u3002 SET_HEATER_TEMPERATURE \u00b6 SET_HEATER_TEMPERATURE HEATER=<\u52a0\u70ed\u5668\u540d\u79f0> [TARGET=<\u76ee\u6807\u6e29\u5ea6>] \uff1a\u8bbe\u7f6e\u4e00\u4e2a\u52a0\u70ed\u5668\u7684\u76ee\u6807\u6e29\u5ea6\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u76ee\u6807\u6e29\u5ea6\uff0c\u5219\u76ee\u6807\u6e29\u5ea6\u4e3a 0\u3002 [idle_timeout] \u00b6 The idle_timeout module is automatically loaded. SET_IDLE_TIMEOUT \u00b6 SET_IDLE_TIMEOUT [TIMEOUT=<\u8d85\u65f6>] \uff1a\u5141\u8bb8\u7528\u6237\u8bbe\u7f6e\u7a7a\u95f2\u8d85\u65f6\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002 [input_shaper] \u00b6 The following command is enabled if an input_shaper config section has been enabled (also see the resonance compensation guide ). SET_INPUT_SHAPER \u00b6 SET_INPUT_SHAPER [SHAPER_FREQ_X=<shaper_freq_x>] [SHAPER_FREQ_Y=<shaper_freq_y>] [DAMPING_RATIO_X=<damping_ratio_x>] [DAMPING_RATIO_Y=<damping_ratio_y>] [SHAPER_TYPE=<shaper>] [SHAPER_TYPE_X=<shaper_type_x>] [SHAPER_TYPE_Y=<shaper_type_y>] \uff1a\u4fee\u6539\u8f93\u5165\u6574\u5f62\u53c2\u6570\u3002\u6ce8\u610f SHAPER_TYPE \u53c2\u6570\u4f1a\u540c\u65f6\u8986\u5199 X \u548c Y \u8f74\u7684\u6574\u5f62\u5668\u7c7b\u578b\uff0c\u5373\u4f7f\u5b83\u4eec\u5728 [input_shaper] \u914d\u7f6e\u5206\u6bb5\u4e2d\u6709\u4e0d\u540c\u7684\u6574\u5f62\u5668\u7c7b\u578b\u3002SHAPER_TYPE \u4e0d\u80fd\u548c SHAPER_TYPE_X \u548c SHAPER_TYPE_Y \u53c2\u6570\u540c\u65f6\u4f7f\u7528\u3002\u8fd9\u4e9b\u53c2\u6570\u7684\u7ec6\u8282\u8bf7\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002 [manual_probe] \u00b6 The manual_probe module is automatically loaded. MANUAL_PROBE \u00b6 MANUAL_PROBE [SPEED=<speed>] \uff1a\u8fd0\u884c\u4e00\u4e2a\u8f85\u52a9\u811a\u672c\uff0c\u5bf9\u6d4b\u91cf\u7ed9\u5b9a\u4f4d\u7f6e\u7684\u55b7\u5634\u9ad8\u5ea6\u6709\u7528\u3002\u5982\u679c\u6307\u5b9a\u4e86\u901f\u5ea6\uff0c\u5b83\u5c06\u8bbe\u7f6eTESTZ\u547d\u4ee4\u7684\u901f\u5ea6\uff08\u9ed8\u8ba4\u4e3a5mm/s\uff09\u3002\u5728\u624b\u52a8\u63a2\u6d4b\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u9644\u52a0\u547d\u4ee4\uff1a ACCEPT \uff1a\u8be5\u547d\u4ee4\u63a5\u53d7\u5f53\u524d\u7684Z\u4f4d\u7f6e\uff0c\u5e76\u7ed3\u675f\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u3002 ABORT \uff1a\u8be5\u547d\u4ee4\u7ec8\u6b62\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u3002 TESTZ Z=<\u503c> \uff1a\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u5c06\u55b7\u5634\u4e0a\u5347\u6216\u4e0b\u964d\u7ed9\u5b9a\u503c\uff0c\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\u3002\u4f8b\u5982\uff0c TESTZ Z=-.1 \u4f1a\u5c06\u55b7\u5634\u4e0b\u964d 0.1 \u6beb\u7c73\uff0c\u800c TESTZ Z=.1 \u4f1a\u5c06\u55b7\u5634\u4e0a\u5347 0.1 \u6beb\u7c73\uff0c\u53c2\u6570\u53ef\u4ee5\u5e26\u6709 + , - , ++ , or -- \u6765\u6839\u636e\u4e0a\u6b21\u5c1d\u8bd5\u76f8\u5bf9\u7684\u79fb\u52a8\u55b7\u5634\u3002 Z_ENDSTOP_CALIBRATE \u00b6 Z_ENDSTOP_CALIBRATE [SPEED=<\u901f\u5ea6>] \uff1a\u8fd0\u884c\u4e00\u4e2a\u6821\u51c6 Z position_endstop \u53c2\u6570\u7684\u8f85\u52a9\u811a\u672c\u3002\u6709\u5173\u66f4\u591a\u53c2\u6570\u548c\u989d\u5916\u547d\u4ee4\u7684\u4fe1\u606f\uff0c\u8bf7\u67e5\u770b MANUAL_PROBE \u547d\u4ee4\u3002 Z_OFFSET_APPLY_ENDSTOP \u00b6 Z_OFFSET_APPLY_ENDSTOP \uff1a\u5c06\u5f53\u524d\u7684Z \u7684 G \u4ee3\u7801\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u4ece stepper_z \u7684 endstop_position \u4e2d\u51cf\u53bb\u3002\u8be5\u547d\u4ee4\u5c06\u6301\u4e45\u5316\u4e00\u4e2a\u5e38\u7528babystepping \u5fae\u8c03\u503c\u3002\u9700\u8981\u6267\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002 [manual_stepper] \u00b6 \u5f53 manual_stepper \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 MANUAL_STEPPER \u00b6 MANUAL_STEPPER STEPPER=config_name [ENABLE=[0|1]] [SET_POSITION=<pos>] [SPEED=<speed>] [ACCEL=<accel>] [MOVE=<pos> [STOP_ON_ENDSTOP=[1|2|-1|-2]] [SYNC=0]] \uff1a\u8be5\u547d\u4ee4\u5c06\u6539\u53d8\u6b65\u8fdb\u5668\u7684\u72b6\u6001\u3002\u4f7f\u7528ENABLE\u53c2\u6570\u6765\u542f\u7528/\u7981\u7528\u6b65\u8fdb\u3002\u4f7f\u7528SET_POSITION\u53c2\u6570\uff0c\u8feb\u4f7f\u6b65\u8fdb\u8ba4\u4e3a\u5b83\u5904\u4e8e\u7ed9\u5b9a\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528MOVE\u53c2\u6570\uff0c\u8981\u6c42\u79fb\u52a8\u5230\u7ed9\u5b9a\u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86SPEED\u6216\u8005ACCEL\uff0c\u90a3\u4e48\u5c06\u4f7f\u7528\u7ed9\u5b9a\u7684\u503c\u800c\u4e0d\u662f\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6307\u5b9aACCEL\u4e3a0\uff0c\u90a3\u4e48\u5c06\u4e0d\u6267\u884c\u52a0\u901f\u3002\u5982\u679cSTOP_ON_ENDSTOP=1\u88ab\u6307\u5b9a\uff0c\u90a3\u4e48\u5982\u679c\u6b62\u52a8\u5668\u62a5\u544a\u88ab\u89e6\u53d1\uff0c\u52a8\u4f5c\u5c06\u63d0\u524d\u7ed3\u675f\uff08\u4f7f\u7528STOP_ON_ENDSTOP=2\u6765\u5b8c\u6210\u52a8\u4f5c\uff0c\u5373\u4f7f\u6b62\u52a8\u5668\u6ca1\u6709\u88ab\u89e6\u53d1\u4e5f\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f7f\u7528-1\u6216-2\u6765\u5728\u6b62\u52a8\u5668\u62a5\u544a\u6ca1\u6709\u88ab\u89e6\u53d1\u65f6\u505c\u6b62\uff09\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u672a\u6765\u7684G-Code\u547d\u4ee4\u5c06\u88ab\u5b89\u6392\u5728\u6b65\u8fdb\u8fd0\u52a8\u5b8c\u6210\u540e\u8fd0\u884c\uff0c\u4f46\u662f\u5982\u679c\u624b\u52a8\u6b65\u8fdb\u8fd0\u52a8\u4f7f\u7528SYNC=0\uff0c\u90a3\u4e48\u672a\u6765\u7684G-Code\u8fd0\u52a8\u547d\u4ee4\u53ef\u80fd\u4e0e\u6b65\u8fdb\u8fd0\u52a8\u5e73\u884c\u8fd0\u884c\u3002 [led] \u00b6 The following command is available when any of the led config sections are enabled. SET_LED \u00b6 SET_LED LED=<config_name> RED=<value> GREEN=<value> BLUE=<value> WHITE=<value> [INDEX=<index>] [TRANSMIT=0] [SYNC=1] : This sets the LED output. Each color <value> must be between 0.0 and 1.0. The WHITE option is only valid on RGBW LEDs. If the LED supports multiple chips in a daisy-chain then one may specify INDEX to alter the color of just the given chip (1 for the first chip, 2 for the second, etc.). If INDEX is not provided then all LEDs in the daisy-chain will be set to the provided color. If TRANSMIT=0 is specified then the color change will only be made on the next SET_LED command that does not specify TRANSMIT=0; this may be useful in combination with the INDEX parameter to batch multiple updates in a daisy-chain. By default, the SET_LED command will sync it's changes with other ongoing gcode commands. This can lead to undesirable behavior if LEDs are being set while the printer is not printing as it will reset the idle timeout. If careful timing is not needed, the optional SYNC=0 parameter can be specified to apply the changes without resetting the idle timeout. SET_LED_TEMPLATE \u00b6 SET_LED_TEMPLATE LED=<led_name> TEMPLATE=<template_name> [<param_x>=<literal>] [INDEX=<index>] : Assign a display_template to a given LED . For example, if one defined a [display_template my_led_template] config section then one could assign TEMPLATE=my_led_template here. The display_template should produce a comma separated string containing four floating point numbers corresponding to red, green, blue, and white color settings. The template will be continuously evaluated and the LED will be automatically set to the resulting colors. One may set display_template parameters to use during template evaluation (parameters will be parsed as Python literals). If INDEX is not specified then all chips in the LED's daisy-chain will be set to the template, otherwise only the chip with the given index will be updated. If TEMPLATE is an empty string then this command will clear any previous template assigned to the LED (one can then use SET_LED commands to manage the LED's color settings). [output_pin] \u00b6 \u4f7f\u7528 output_pin \u914d\u7f6e\u5206\u6bb5 \u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a SET_PIN \u00b6 SET_PIN PIN=config_name VALUE=<\u503c> CYCLE_TIME=<\u5468\u671f\u65f6\u95f4> : \u6ce8\u610f - \u786c\u4ef6PWM\u76ee\u524d\u4e0d\u652f\u6301CYCLE_TIME\u53c2\u6570\uff0c\u5c06\u4f7f\u7528\u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684\u5468\u671f\u65f6\u95f4\u3002 [palette2] \u00b6 The following commands are available when the palette2 config section is enabled. Palette\u6253\u5370\u901a\u8fc7\u5728GCode\u6587\u4ef6\u4e2d\u5d4c\u5165\u7279\u6b8a\u7684OCodes\uff08Omega Codes\uff09\u6765\u5de5\u4f5c\u3002 O1 ... O32 \uff1a\u8fd9\u4e9b\u4ee3\u7801\u4eceG-Code\u6d41\u4e2d\u8bfb\u51fa\u5e76\u4e14\u4f20\u9012\u7ed9Palette 2\u8bbe\u5907\u8fdb\u884c\u5904\u7406\u3002 \u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u989d\u5916\u547d\u4ee4\uff1a PALETTE_CONNECT \u00b6 PALETTE_CONNECT \uff1a\u8be5\u547d\u4ee4\u521d\u59cb\u5316\u4e0ePalette 2\u7684\u8fde\u63a5\u3002 PALETTE_DISCONNECT \u00b6 PALETTE_DISCONNECT \uff1a\u8be5\u547d\u4ee4\u65ad\u5f00\u4e0ePalette 2\u7684\u8fde\u63a5\u3002 PALETTE_CLEAR \u00b6 PALETTE_CLEAR :\u8be5\u547d\u4ee4\u6307\u793a Palette 2 \u6e05\u9664\u6240\u6709\u8017\u6750\u7684\u8f93\u5165\u6216\u8005\u8f93\u51fa\u3002 PALETTE_CUT \u00b6 PALETTE_CUT :\u8be5\u547d\u4ee4\u6307\u5f15Palette 2\u5207\u5272\u8017\u6750\u5e76\u4e14\u88c5\u8f7d\u5206\u6bb5\u7684\u8017\u6750\u3002 PALETTE_SMART_LOAD \u00b6 PALETTE_SMART_LOAD \uff1a\u8be5\u547d\u4ee4\u5728Palette 2\u4e0a\u542f\u52a8\u667a\u80fd\u52a0\u8f7d\u5e8f\u5217\u3002\u901a\u8fc7\u5728\u8bbe\u5907\u4e0a\u4e3a\u6253\u5370\u673a\u6821\u51c6\u7684\u8ddd\u79bb\u6324\u538b\uff0c\u81ea\u52a8\u52a0\u8f7d\u8017\u6750\uff0c\u5e76\u5728\u52a0\u8f7d\u5b8c\u6210\u540e\u6307\u793aPalette 2\u3002\u8be5\u547d\u4ee4\u4e0e\u8017\u6750\u52a0\u8f7d\u5b8c\u6210\u540e\u76f4\u63a5\u5728Palette 2\u5c4f\u5e55\u4e0a\u6309 Smart Load \u76f8\u540c\u3002 [pid_calibrate] \u00b6 The pid_calibrate module is automatically loaded if a heater is defined in the config file. PID_CALIBRATE \u00b6 PID_CALIBRATE HEATER=<config_name> TARGET=<temperature> [WRITE_FILE=1] \uff1a\u6267\u884c\u4e00\u4e2aPID\u6821\u51c6\u6d4b\u8bd5\u3002\u6307\u5b9a\u7684\u52a0\u70ed\u5668\u5c06\u88ab\u542f\u7528\uff0c\u76f4\u5230\u8fbe\u5230\u6307\u5b9a\u7684\u76ee\u6807\u6e29\u5ea6\uff0c\u7136\u540e\u52a0\u70ed\u5668\u5c06\u88ab\u5173\u95ed\u548c\u5f00\u542f\u51e0\u4e2a\u5468\u671f\u3002\u5982\u679cWRITE_FILE\u53c2\u6570\u88ab\u542f\u7528\uff0c\u90a3\u4e48\u5c06\u521b\u5efa\u6587\u4ef6/tmp/heattest.txt\uff0c\u5176\u4e2d\u5305\u542b\u6d4b\u8bd5\u671f\u95f4\u6240\u6709\u6e29\u5ea6\u6837\u672c\u7684\u65e5\u5fd7\u3002 [pause_resume] \u00b6 \u5f53 pause_resume \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a PAUSE \u00b6 PAUSE \uff1a\u6682\u505c\u5f53\u524d\u7684\u6253\u5370\u3002\u5f53\u524d\u7684\u4f4d\u7f6e\u88ab\u62a5\u9519\u4ee5\u4fbf\u5728\u6062\u590d\u65f6\u6062\u590d\u3002 RESUME \u00b6 RESUME [VELOCITY=<value>] \uff1a\u4ece\u6682\u505c\u4e2d\u6062\u590d\u6253\u5370\uff0c\u9996\u5148\u6062\u590d\u4ee5\u524d\u4fdd\u6301\u7684\u4f4d\u7f6e\u3002VELOCITY\u53c2\u6570\u51b3\u5b9a\u4e86\u5de5\u5177\u8fd4\u56de\u5230\u539f\u59cb\u6355\u6349\u4f4d\u7f6e\u7684\u901f\u5ea6\u3002 CLEAR_PAUSE \u00b6 CLEAR_PAUSE :\u6e05\u9664\u5f53\u524d\u7684\u6682\u505c\u72b6\u6001\u800c\u4e0d\u6062\u590d\u6253\u5370\u3002\u5982\u679c\u4e00\u4e2a\u4eba\u51b3\u5b9a\u5728\u6682\u505c\u540e\u53d6\u6d88\u6253\u5370\uff0c\u8fd9\u5f88\u6709\u7528\u3002\u5efa\u8bae\u5c06\u5176\u6dfb\u52a0\u5230\u4f60\u7684\u542f\u52a8\u4ee3\u7801\u4e2d\uff0c\u4ee5\u786e\u4fdd\u6bcf\u6b21\u6253\u5370\u65f6\u7684\u6682\u505c\u72b6\u6001\u662f\u65b0\u7684\u3002 CANCEL_PRINT \u00b6 CANCEL_PRINT \uff1a\u53d6\u6d88\u5f53\u524d\u7684\u6253\u5370\u3002 [probe] \u00b6 The following commands are available when a probe config section or bltouch config section is enabled (also see the probe calibrate guide ). PROBE \u00b6 PROBE [PROBE_SPEED=<mm/s>] [LIFT_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] [SAMPLES_TOLERANCE=<mm>] [SAMPLES_TOLERANCE_RETRIES=<count>] [SAMPLES_RESULT=median|average] \uff1a\u5411\u4e0b\u79fb\u52a8\u55b7\u5634\u76f4\u5230\u63a2\u9488\u89e6\u53d1\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4efb\u4f55\u53ef\u9009\u53c2\u6570\uff0c\u5b83\u4eec\u5c06\u8986\u76d6 probe config section \u4e2d\u7684\u7b49\u6548\u8bbe\u7f6e\u3002 QUERY_PROBE \u00b6 QUERY_PROBE :\u62a5\u544a\u63a2\u9488\u7684\u5f53\u524d\u72b6\u6001\uff08\"triggered\"\u6216 \"open\"\uff09\u3002 PROBE_ACCURACY \u00b6 PROBE_ACCURACY [PROBE_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] \uff1a\u8ba1\u7b97\u591a\u4e2a\u63a2\u9488\u6837\u672c\u7684\u6700\u5927\u3001\u6700\u5c0f\u3001\u5e73\u5747\u3001\u4e2d\u4f4d\u6570\u548c\u6807\u51c6\u504f\u5dee\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u91c7\u683710\u6b21\u3002\u5426\u5219\u53ef\u9009\u53c2\u6570\u9ed8\u8ba4\u4e3a\u63a2\u9488\u914d\u7f6e\u90e8\u5206\u7684\u540c\u7b49\u8bbe\u7f6e\u3002 PROBE_CALIBRATE \u00b6 PROBE_CALIBRATE [SPEED=<speed>] [<probe_parameter>=<value>] :\u8fd0\u884c\u4e00\u4e2a\u5bf9\u6821\u51c6\u6d4b\u5934\u7684z_offset\u6709\u7528\u7684\u8f85\u52a9\u811a\u672c\u3002\u6709\u5173\u53ef\u9009\u6d4b\u5934\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u53c2\u89c1MANUAL_PROBE\u547d\u4ee4\uff0c\u4e86\u89e3SPEED\u53c2\u6570\u548c\u5de5\u5177\u6fc0\u6d3b\u65f6\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0cPROBE_CALIBRATE\u547d\u4ee4\u4f7f\u7528\u901f\u5ea6\u53d8\u91cf\u5728XY\u65b9\u5411\u4ee5\u53caZ\u65b9\u5411\u4e0a\u79fb\u52a8\u3002 Z_OFFSET_APPLY_PROBE \u00b6 Z_OFFSET_APPLY_PROBE \uff1a\u5c06\u5f53\u524d\u7684Z \u7684 G \u4ee3\u7801\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u4ece probe \u7684 z_offset \u4e2d\u51cf\u53bb\u3002\u8be5\u547d\u4ee4\u5c06\u6301\u4e45\u5316\u4e00\u4e2a\u5e38\u7528babystepping \u5fae\u8c03\u503c\u3002\u9700\u8981\u6267\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002 [query_adc] \u00b6 The query_adc module is automatically loaded. QUERY_ADC \u00b6 QUERY_ADC [NAME=<config_name>] [PULLUP=<value>] \uff1a\u8fd4\u56de\u4e3a\u914d\u7f6e\u7684\u6a21\u62df\u5f15\u811a\u6536\u5230\u7684\u6700\u540e\u4e00\u4e2a\u6a21\u62df\u503c\u3002\u5982\u679cNAME\u6ca1\u6709\u88ab\u63d0\u4f9b\uff0c\u5c06\u62a5\u544a\u53ef\u7528\u7684adc\u540d\u79f0\u5217\u8868\u3002\u5982\u679c\u63d0\u4f9b\u4e86PULLUP\uff08\u4ee5\u6b27\u59c6\u4e3a\u5355\u4f4d\u7684\u6570\u503c\uff09\uff0c\u5c06\u4f1a\u8fd4\u56de\u539f\u59cb\u6a21\u62df\u503c\u548c\u7ed9\u5b9a\u7684\u7b49\u6548\u7535\u963b\u3002 [query_endstops] \u00b6 The query_endstops module is automatically loaded. The following standard G-Code commands are currently available, but using them is not recommended: \u83b7\u53d6\u9650\u4f4d\u72b6\u6001\uff1a M119 (\u4f7f\u7528QUERY_ENDSTOPS\u4ee3\u66ff) QUERY_ENDSTOPS \u00b6 QUERY_ENDSTOPS \uff1a\u68c0\u6d4b\u9650\u4f4d\u5e76\u8fd4\u56de\u9650\u4f4d\u662f\u5426\u88ab \"triggered\"\u6216\u5904\u4e8e\"open\"\u3002\u8be5\u547d\u4ee4\u901a\u5e38\u7528\u4e8e\u9a8c\u8bc1\u4e00\u4e2a\u9650\u4f4d\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002 [resonance_tester] \u00b6 The following commands are available when a resonance_tester config section is enabled (also see the measuring resonances guide ). MEASURE_AXES_NOISE \u00b6 MEASURE_AXES_NOISE \uff1a\u6d4b\u91cf\u5e76\u8f93\u51fa\u6240\u6709\u542f\u7528\u7684\u52a0\u901f\u5ea6\u8ba1\u82af\u7247\u7684\u6240\u6709\u8f74\u7684\u566a\u58f0\u3002 TEST_RESONANCES \u00b6 TEST_RESONANCES AXIS=<axis> OUTPUT=<resonances,raw_data> [NAME=<name>] [FREQ_START=<min_freq>] [FREQ_END=<max_freq>] [HZ_PER_SEC=<hz_per_sec>] [CHIPS=<adxl345_chip_name>] [POINT=x,y,z] [INPUT_SHAPING=[<0:1>]] : Runs the resonance test in all configured probe points for the requested \"axis\" and measures the acceleration using the accelerometer chips configured for the respective axis. \"axis\" can either be X or Y, or specify an arbitrary direction as AXIS=dx,dy , where dx and dy are floating point numbers defining a direction vector (e.g. AXIS=X , AXIS=Y , or AXIS=1,-1 to define a diagonal direction). Note that AXIS=dx,dy and AXIS=-dx,-dy is equivalent. adxl345_chip_name can be one or more configured adxl345 chip,delimited with comma, for example CHIPS=\"adxl345, adxl345 rpi\" . Note that adxl345 can be omitted from named adxl345 chips. If POINT is specified it will override the point(s) configured in [resonance_tester] . If INPUT_SHAPING=0 or not set(default), disables input shaping for the resonance testing, because it is not valid to run the resonance testing with the input shaper enabled. OUTPUT parameter is a comma-separated list of which outputs will be written. If raw_data is requested, then the raw accelerometer data is written into a file or a series of files /tmp/raw_data_<axis>_[<chip_name>_][<point>_]<name>.csv with ( <point>_ part of the name generated only if more than 1 probe point is configured or POINT is specified). If resonances is specified, the frequency response is calculated (across all probe points) and written into /tmp/resonances_<axis>_<name>.csv file. If unset, OUTPUT defaults to resonances , and NAME defaults to the current time in \"YYYYMMDD_HHMMSS\" format. SHAPER_CALIBRATE \u00b6 SHAPER_CALIBRATE [AXIS=<\u8f74>] [NAME=<\u540d\u79f0>] [FREQ_START=<\u6700\u5c0f\u9891\u7387>] [FREQ_END=<\u6700\u5927\u9891\u7387>] [HZ_PER_SEC=<hz_per_sec>] [MAX_SMOOTHING=<max_smoothing>] \uff1a\u7c7b\u4f3c TEST_RESONANCES \uff0c\u8be5\u547d\u4ee4\u6309\u914d\u7f6e\u8fd0\u884c\u5171\u632f\u6d4b\u8bd5\u5e76\u5c1d\u8bd5\u5bfb\u627e\u7ed9\u5b9a\u8f74\u6700\u4f73\u7684\u8f93\u5165\u6574\u5f62\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u9009\u62e9 AXIS \uff0c\u5219\u6d4b\u91cfX\u548cY\u8f74\u3002\u5982\u679c\u6ca1\u6709\u9009\u62e9 MAX_SMOOTHING \uff0c\u4f1a\u4f7f\u7528 [resonance_tester] \u7684\u9ed8\u8ba4\u53c2\u6570\u3002\u6709\u5173\u8be5\u7279\u6027\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8be6\u89c1\u5171\u632f\u91cf\u6d4b\u91cf\u6307\u5357\u4e2d\u7684 \u6700\u5927\u5e73\u6ed1 \u7ae0\u8282\u3002\u6d4b\u8bd5\u7ed3\u679c\u4f1a\u88ab\u8f93\u51fa\u5230\u7ec8\u7aef\uff0c\u800c\u9891\u54cd\u548c\u4e0d\u540c\u8f93\u5165\u6574\u5f62\u5668\u7684\u53c2\u6570\u5c06\u88ab\u5199\u5165\u5230\u4e00\u4e2a\u6216\u591a\u4e2a CSV \u6587\u4ef6\u4e2d\u3002\u5b83\u4eec\u7684\u540d\u79f0\u662f /tmp/calibration_data_<\u8f74>_<\u540d\u79f0>.csv \u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u540d\u79f0\u9ed8\u8ba4\u4e3a\u201cYYYYMMDD_HHMMSS\u201d\u683c\u5f0f\u7684\u5f53\u524d\u65f6\u95f4\u3002\u6ce8\u610f\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bf7\u6c42 SAVE_CONFIG \u547d\u4ee4\u5c06\u63a8\u8350\u7684\u8f93\u5165\u6574\u5f62\u5668\u53c2\u6570\u76f4\u63a5\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002 [respond] \u00b6 The following standard G-Code commands are available when the respond config section is enabled: M118 <message> \uff1a\u56de\u663e\u914d\u7f6e\u4e86\u9ed8\u8ba4\u524d\u7f00\u7684\u4fe1\u606f\uff08\u5982\u679c\u6ca1\u6709\u914d\u7f6e\u524d\u7f00\uff0c\u5219\u8fd4\u56de echo: \uff09\u3002 \u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u989d\u5916\u547d\u4ee4\uff1a RESPOND \u00b6 RESPOND MSG=\"<message>\" \uff1a\u56de\u663e\u5e26\u6709\u914d\u7f6e\u7684\u9ed8\u8ba4\u524d\u7f00\u7684\u6d88\u606f\uff08\u6ca1\u6709\u914d\u7f6e\u524d\u7f00\u5219\u9ed8\u8ba4 echo: \u4e3a\u524d\u7f00 \uff09\u3002 RESPOND TYPE=echo MSG=\"<\u6d88\u606f>\" \uff1a\u56de\u663e echo: \u5f00\u5934\u6d88\u606f\u3002 RESPOND TYPE=command MSG=\"<\u6d88\u606f>\" \uff1a\u56de\u663e\u4ee5 / \u4e3a\u524d\u7f00\u7684\u6d88\u606f\u3002\u53ef\u4ee5\u914d\u7f6e OctoPrint \u5bf9\u8fd9\u4e9b\u6d88\u606f\u8fdb\u884c\u54cd\u5e94\uff08\u4f8b\u5982\uff0c RESPOND TYPE=command MSG=action:pause \uff09\u3002 RESPOND TYPE=error MSG=\"<\u6d88\u606f>\" \uff1a\u56de\u663e\u4ee5 !! \u5f00\u5934\u7684\u6d88\u606f\u3002 RESPOND PREFIX=<prefix> MSG=\"<message>\" : \u56de\u5e94\u4ee5 <prefix> \u4e3a\u524d\u7f00\u7684\u4fe1\u606f\u3002( PREFIX \u53c2\u6570\u5c06\u4f18\u5148\u4e8e TYPE \u53c2\u6570) [save_variables] \u00b6 The following command is enabled if a save_variables config section has been enabled. SAVE_VARIABLE \u00b6 SAVE_VARIABLE VARIABLE=<name> VALUE=<value> \uff1a\u5c06\u53d8\u91cf\u4fdd\u5b58\u5230\u78c1\u76d8\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u542f\u52a8\u65f6\u4f7f\u7528\u3002\u6240\u6709\u5b58\u50a8\u7684\u53d8\u91cf\u90fd\u4f1a\u5728\u542f\u52a8\u65f6\u52a0\u8f7d\u5230 printer.save_variables.variables \u76ee\u5f55\u4e2d\uff0c\u5e76\u53ef\u4ee5\u5728 gcode \u5b8f\u4e2d\u4f7f\u7528\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u4f1a\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a Python \u5b57\u9762\u3002 [screws_tilt_adjust] \u00b6 The following commands are available when the screws_tilt_adjust config section is enabled (also see the manual level guide ). SCREWS_TILT_CALCULATE \u00b6 SCREWS_TILT_CALCULATE [DIRECTION=CW|CCW] [MAX_DEVIATION=<\u503c>] [<\u63a2\u9488\u53c2\u6570\u540d>=<\u503c>] \uff1a\u8fd9\u4e2a\u547d\u4ee4\u5c06\u8c03\u7528\u5e8a\u8eab\u87ba\u4e1d\u8c03\u6574\u5de5\u5177\u3002\u5b83\u5c06\u547d\u4ee4\u55b7\u5634\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\uff08\u5982\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\uff09\u63a2\u6d4bz\u9ad8\u5ea6\uff0c\u5e76\u8ba1\u7b97\u51fa\u8c03\u6574\u5e8a\u9762\u6c34\u5e73\u7684\u65cb\u94ae\u65cb\u8f6c\u6b21\u6570\u3002\u5982\u679c\u6307\u5b9a\u4e86DIRECTION\uff08\u65b9\u5411\uff09\uff0c\u65cb\u94ae\u7684\u8f6c\u52a8\u65b9\u5411\u4f1a\u662f\u56fa\u5b9a\u7684\uff0c\u987a\u65f6\u9488\uff08CW\uff09\u6216\u9006\u65f6\u9488\uff08CCW\uff09\u3002\u6709\u5173\u53ef\u9009\u63a2\u9488\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u91cd\u8981\u7684\u662f\uff1a\u5728\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u505a\u4e00\u4e2aG28\u3002\u5982\u679c\u6307\u5b9a\u4e86MAX_DEVIATION\uff0c\u5982\u679c\u87ba\u6746\u9ad8\u5ea6\u76f8\u5bf9\u4e8e\u57fa\u7840\u87ba\u6746\u9ad8\u5ea6\u7684\u4efb\u4f55\u5dee\u5f02\u5927\u4e8e\u6240\u63d0\u4f9b\u7684\u503c\uff0c\u8be5\u547d\u4ee4\u5c06\u5f15\u53d1\u4e00\u4e2aG\u4ee3\u7801\u9519\u8bef\u3002 [sdcard_loop] \u00b6 When the sdcard_loop config section is enabled, the following extended commands are available. SDCARD_LOOP_BEGIN \u00b6 SDCARD_LOOP_BEGIN COUNT=<count> \uff1aSD \u6253\u5370\u4e2d\u5f00\u59cb\u5faa\u73af\u7684\u90e8\u5206\u3002\u8ba1\u6570\u4e3a0\u8868\u793a\u8be5\u90e8\u5206\u5e94\u65e0\u9650\u671f\u5730\u5faa\u73af\u3002 SDCARD_LOOP_END \u00b6 SDCARD_LOOP_END \uff1a\u7ed3\u675fSD\u6253\u5370\u4e2d\u7684\u4e00\u4e2a\u5faa\u73af\u90e8\u5206\u3002 SDCARD_LOOP_DESIST \u00b6 SDCARD_LOOP_DESIST \uff1a\u5b8c\u6210\u73b0\u6709\u7684\u5faa\u73af\uff0c\u4e0d\u518d\u7ee7\u7eed\u8fed\u4ee3\u3002 [servo] \u00b6 The following commands are available when a servo config section is enabled. SET_SERVO \u00b6 SET_SERVO SERVO=\u914d\u7f6e\u540d [ANGLE=<\u89d2\u5ea6> | WIDTH=<\u79d2>] \uff1a\u5c06\u8235\u673a\u4f4d\u7f6e\u8bbe\u7f6e\u4e3a\u7ed9\u5b9a\u7684\u89d2\u5ea6\uff08\u5ea6\uff09\u6216\u8109\u51b2\u5bbd\u5ea6\uff08\u79d2\uff09\u3002\u4f7f\u7528 WIDTH=0 \u6765\u7981\u7528\u8235\u673a\u8f93\u51fa\u3002 [skew_correction] \u00b6 The following commands are available when the skew_correction config section is enabled (also see the Skew Correction guide). SET_SKEW \u00b6 SET_SKEW [XY=<ac_length,bd_length,ad_length>] [XZ=<ac,bd,ad>] [YZ=<ac,bd,ad>] [CLEAR=<0|1>] \uff1a\u7528\u4ece\u6821\u51c6\u6253\u5370\u4e2d\u6d4b\u91cf\u7684\u6570\u636e\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09\u914d\u7f6e [skew_correction] \u6a21\u5757\u3002\u53ef\u4ee5\u8f93\u5165\u4efb\u4f55\u7ec4\u5408\u7684\u5e73\u9762\uff0c\u6ca1\u6709\u65b0\u8f93\u5165\u7684\u5e73\u9762\u5c06\u4fdd\u6301\u5b83\u4eec\u539f\u6709\u7684\u6570\u503c\u3002\u5982\u679c\u4f20\u5165 CLEAR=1 \uff0c\u5219\u5168\u90e8\u504f\u659c\u6821\u6b63\u5c06\u88ab\u7981\u7528\u3002 GET_CURRENT_SKEW \u00b6 GET_CURRENT_SKEW :\u4ee5\u5f27\u5ea6\u548c\u5ea6\u6570\u62a5\u544a\u6bcf\u4e2a\u5e73\u9762\u7684\u5f53\u524d\u6253\u5370\u673a\u504f\u79fb\u3002\u659c\u5ea6\u662f\u6839\u636e\u901a\u8fc7 SET_SKEW \u4ee3\u7801\u63d0\u4f9b\u7684\u53c2\u6570\u8ba1\u7b97\u7684\u3002 CALC_MEASURED_SKEW \u00b6 CALC_MEASURED_SKEW [AC=<ac \u957f\u5ea6>] [BD=<bd \u957f\u5ea6>] [AD=<ad \u957f\u5ea6>] \uff1a\u8ba1\u7b97\u5e76\u62a5\u544a\u57fa\u4e8e\u4e00\u4e2a\u6253\u5370\u4ef6\u6d4b\u91cf\u7684\u504f\u659c\u5ea6\uff08\u4ee5\u5f27\u5ea6\u548c\u89d2\u5ea6\u4e3a\u5355\u4f4d\uff09\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u9a8c\u8bc1\u5e94\u7528\u6821\u6b63\u540e\u6253\u5370\u673a\u7684\u5f53\u524d\u504f\u659c\u5ea6\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u6765\u786e\u5b9a\u662f\u5426\u6709\u5fc5\u8981\u8fdb\u884c\u504f\u659c\u77eb\u6b63\u3002\u6709\u5173\u504f\u659c\u77eb\u6b63\u6253\u5370\u6a21\u578b\u548c\u6d4b\u91cf\u65b9\u6cd5\u8be6\u89c1 \u504f\u659c\u6821\u6b63\u6587\u6863 \u3002 SKEW_PROFILE \u00b6 SKEW_PROFILE [LOAD=<\u540d\u79f0>] [SAVE=<\u540d\u79f0>] [REMOVE=<\u540d\u79f0>] \uff1askew_correction \u914d\u7f6e\u7ba1\u7406\u547d\u4ee4\u3002 LOAD \u5c06\u4ece\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u8f7d\u5165\u504f\u659c\u72b6\u6001\u3002 SAVE \u4f1a\u5c06\u5f53\u524d\u504f\u659c\u72b6\u6001\u4fdd\u5b58\u5230\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u3002 REMOVE \u5c06\u4ece\u6301\u4e45\u5185\u5b58\u4e2d\u5220\u9664\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u5339\u914d\u7684\u914d\u7f6e\u3002\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd0\u884c SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u987b\u8fd0\u884c SAVE_CONFIG G\u4ee3\u7801\u624d\u80fd\u4fdd\u5b58\u66f4\u6539\u3002 [smart_effector] \u00b6 Several commands are available when a smart_effector config section is enabled. Be sure to check the official documentation for the Smart Effector on the Duet3D Wiki before changing the Smart Effector parameters. Also check the probe calibration guide . SET_SMART_EFFECTOR \u00b6 SET_SMART_EFFECTOR [SENSITIVITY=<sensitivity>] [ACCEL=<accel>] [RECOVERY_TIME=<time>] : Set the Smart Effector parameters. When SENSITIVITY is specified, the respective value is written to the SmartEffector EEPROM (requires control_pin to be provided). Acceptable <sensitivity> values are 0..255, the default is 50. Lower values require less nozzle contact force to trigger (but there is a higher risk of false triggering due to vibrations during probing), and higher values reduce false triggering (but require larger contact force to trigger). Since the sensitivity is written to EEPROM, it is preserved after the shutdown, and so it does not need to be configured on every printer startup. ACCEL and RECOVERY_TIME allow to override the corresponding parameters at run-time, see the config section of Smart Effector for more info on those parameters. RESET_SMART_EFFECTOR \u00b6 RESET_SMART_EFFECTOR \uff1a\u5c06Smart Effector\u7075\u654f\u5ea6\u91cd\u7f6e\u4e3a\u51fa\u5382\u8bbe\u7f6e\u3002\u9700\u8981\u5728\u914d\u7f6e\u90e8\u5206\u63d0\u4f9b control_pin \u3002 [stepper_enable] \u00b6 The stepper_enable module is automatically loaded. SET_STEPPER_ENABLE \u00b6 SET_STEPPER_ENABLE STEPPER=<\u914d\u7f6e\u540d> ENABLE=[0|1] \u3002\u542f\u7528\u6216\u7981\u7528\u6307\u5b9a\u7684\u6b65\u8fdb\u7535\u673a\u3002\u8fd9\u662f\u4e00\u4e2a\u8bca\u65ad\u548c\u8c03\u8bd5\u5de5\u5177\uff0c\u5fc5\u987b\u8c28\u614e\u4f7f\u7528\u3002\u56e0\u4e3a\u7981\u7528\u4e00\u4e2a\u8f74\u7535\u673a\u4e0d\u4f1a\u91cd\u7f6e\u5f52\u4f4d\u4fe1\u606f\uff0c\u624b\u52a8\u79fb\u52a8\u4e00\u4e2a\u88ab\u7981\u7528\u7684\u6b65\u8fdb\u53ef\u80fd\u4f1a\u5bfc\u81f4\u673a\u5668\u5728\u5b89\u5168\u9650\u503c\u5916\u64cd\u4f5c\u7535\u673a\u3002\u8fd9\u53ef\u80fd\u5bfc\u81f4\u8f74\u7ed3\u6784\u3001\u70ed\u7aef\u548c\u6253\u5370\u4ef6\u7684\u635f\u574f\u3002 [temperature_fan] \u00b6 \u4f7f\u7528 temperature_fan\u914d\u7f6e\u5206\u6bb5 \u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a SET_TEMPERATURE_FAN_TARGET \u00b6 SET_TEMPERATURE_FAN_TARGET temperature_fan=<temperature_fan_\u540d\u79f0> [target=<\u76ee\u6807\u6e29\u5ea6>] [min_speed=<\u6700\u5c0f\u901f\u5ea6>] [max_speed=<\u6700\u5927\u901f\u5ea6>] \uff1a\u8bbe\u7f6e\u4e00\u4e2a\u6e29\u5ea6\u63a7\u5236\u98ce\u6247\u7684\u76ee\u6807\u6e29\u5ea6\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u76ee\u6807\u6e29\u5ea6\uff0c\u5b83\u5c06\u88ab\u8bbe\u4e3a\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u6e29\u5ea6\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u901f\u5ea6\uff0c\u5219\u4e0d\u4f1a\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002 [tmcXXXX] \u00b6 The following commands are available when any of the tmcXXXX config sections are enabled. DUMP_TMC \u00b6 DUMP_TMC STEPPER=<name> \u3002\u8be5\u547d\u4ee4\u5c06\u8bfb\u53d6TMC\u9a71\u52a8\u5bc4\u5b58\u5668\u5e76\u62a5\u544a\u5176\u503c\u3002 INIT_TMC \u00b6 INIT_TMC STEPPER=<\u540d\u79f0> \uff1a\u6b64\u547d\u4ee4\u5c06\u521d\u59cb\u5316 TMC \u5bc4\u5b58\u5668\u3002\u5982\u679c\u82af\u7247\u7684\u7535\u6e90\u5173\u95ed\u7136\u540e\u91cd\u65b0\u6253\u5f00\uff0c\u5219\u9700\u8981\u91cd\u65b0\u542f\u7528\u8be5\u9a71\u52a8\u3002 SET_TMC_CURRENT \u00b6 SET_TMC_CURRENT STEPPER=<\u540d\u79f0> CURRENT=<\u5b89\u57f9> HOLDCURRENT=<\u5b89\u57f9> \uff1a\u8be5\u547d\u4ee4\u4fee\u6539TMC\u9a71\u52a8\u7684\u8fd0\u884c\u548c\u4fdd\u6301\u7535\u6d41\uff08HOLDCURRENT \u5728 tmc2660 \u9a71\u52a8\u4e0a\u4e0d\u8d77\u6548\uff09\u3002 SET_TMC_FIELD \u00b6 SET_TMC_FIELD STEPPER=<\u540d\u79f0> FIELD=<\u5b57\u6bb5> VALUE=<\u503c> \uff1a\u8fd9\u5c06\u4fee\u6539\u6307\u5b9a TMC \u6b65\u8fdb\u9a71\u52a8\u5bc4\u5b58\u5668\u5b57\u6bb5\u7684\u503c\u3002\u8be5\u547d\u4ee4\u4ec5\u9002\u7528\u4e8e\u4f4e\u7ea7\u522b\u7684\u8bca\u65ad\u548c\u8c03\u8bd5\uff0c\u56e0\u4e3a\u5728\u8fd0\u884c\u671f\u95f4\u6539\u53d8\u5b57\u6bb5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6253\u5370\u673a\u51fa\u73b0\u4e0d\u7b26\u5408\u9884\u671f\u7684\u3001\u6709\u6f5c\u5728\u5371\u9669\u7684\u884c\u4e3a\u3002\u5e38\u89c4\u4fee\u6539\u5e94\u5f53\u901a\u8fc7\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u3002\u8be5\u547d\u4ee4\u4e0d\u4f1a\u5bf9\u7ed9\u5b9a\u7684\u503c\u8fdb\u884c\u8d8a\u754c\u68c0\u67e5\u3002 [toolhead] \u00b6 The toolhead module is automatically loaded. SET_VELOCITY_LIMIT \u00b6 SET_VELOCITY_LIMIT [VELOCITY=<\u503c>] [ACCEL=<\u503c>] [ACCEL_TO_DECEL=<\u503c>] [SQUARE_CORNER_VELOCITY=<\u503c>] \uff1a\u4fee\u6539\u6253\u5370\u673a\u901f\u5ea6\u9650\u5236\u3002 [tuning_tower] \u00b6 The tuning_tower module is automatically loaded. TUNING_TOWER \u00b6 TUNING_TOWER COMMAND=<\u547d\u4ee4> PARAMETER=<\u540d\u79f0> START=<\u503c> [SKIP=<\u503c>] [FACTOR=<\u503c> [BAND=<\u503c>]] | [STEP_DELTA=<\u503c> STEP_HEIGHT=<\u503c>] \uff1a\u6839\u636eZ\u9ad8\u5ea6\u8c03\u6574\u53c2\u6570\u7684\u5de5\u5177\u3002\u8be5\u5de5\u5177\u5c06\u5b9a\u671f\u8fd0\u884c\u4e00\u4e2a PARAMETER \u4e0d\u65ad\u6839\u636e Z \u7684\u516c\u5f0f\u53d8\u5316\u7684 COMMAND \uff08\u547d\u4ee4\uff09\u3002\u5982\u679c\u4f7f\u7528\u4e00\u628a\u5c3a\u5b50\u6216\u8005\u6e38\u6807\u5361\u5c3a\u6d4b\u91cf Z\u6765\u83b7\u5f97\u6700\u4f73\u503c\uff0c\u4f60\u53ef\u4ee5\u7528 FACTOR \u3002\u5982\u679c\u6253\u5370\u4ef6\u5e26\u6709\u5e26\u72b6\u6807\u8bc6\u6216\u8005\u4f7f\u7528\u79bb\u6563\u6570\u503c\uff08\u4f8b\u5982\u6e29\u5ea6\u5854\uff09\uff0c\u53ef\u4ee5\u7528 STEP_DELTA \u548c STEP_HEIGHT \u3002\u5982\u679c SKIP=<\u503c> \u88ab\u5b9a\u4e49\uff0c\u5219\u8c03\u6574\u53ea\u4f1a\u5728\u5230\u8fbe Z \u9ad8\u5ea6 <\u503c> \u540e\u624d\u5f00\u59cb\u3002\u5728\u6b64\u4e4b\u524d\uff0c\u53c2\u6570\u4f1a\u88ab\u8bbe\u5b9a\u4e3a START \uff1b\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0b\u9762\u516c\u5f0f\u4e2d z_height \u7528 max(z - skip, 0) \u66ff\u4ee3\u3002\u8fd9\u4e9b\u9009\u9879\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u7ec4\u5408\uff1a FACTOR \uff1a\u6570\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u901f\u5ea6\u53d8\u5316\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * z_height \u3002\u4f60\u53ef\u4ee5\u5c06\u6700\u4f73\u7684 Z \u9ad8\u5ea6\u76f4\u63a5\u63d2\u5165\u8be5\u516c\u5f0f\uff0c\u4ee5\u786e\u5b9a\u6700\u4f73\u7684\u53c2\u6570\u503c\u3002 FACTOR \u548c BAND \uff1a\u8be5\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u5e73\u5747\u901f\u5ea6\u53d8\u5316\uff0c\u4f46\u5728\u79bb\u6563\u7684\u73af\u4e0a\uff0c\u6bcf BAND \u6beb\u7c73\u7684Z\u9ad8\u5ea6\u624d\u4f1a\u8fdb\u884c\u8c03\u6574\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * ((floor(z_height / band) + .5) * band) \u3002 STEP_DELTA and STEP_HEIGHT : The value changes by STEP_DELTA every STEP_HEIGHT millimeters. The formula used is: value = start + step_delta * floor(z_height / step_height) . You can simply count bands or read tuning tower labels to determine the optimum value. [virtual_sdcard] \u00b6 \u5982\u679c\u542f\u7528\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5 \uff0cKlipper \u652f\u6301\u4ee5\u4e0b\u6807\u51c6 G-Code \u547d\u4ee4\uff1a \u5217\u51faSD\u5361\uff1a M20 \u3002 \u521d\u59cb\u5316SD\u5361\uff1a M21 \u9009\u62e9SD\u5361\u6587\u4ef6\uff1a M23 <filename> \u5f00\u59cb/\u6682\u505c SD \u5361\u6253\u5370\uff1a M24 \u6682\u505c SD \u5361\u6253\u5370\uff1a M25 \u8bbe\u7f6e SD \u5757\u4f4d\u7f6e\uff1a M26 S<\u504f\u79fb> \u3002 \u62a5\u544aSD\u5361\u6253\u5370\u72b6\u6001\uff1a M27 \u6b64\u5916\uff0c\u5f53\u542f\u7528\"virtual_sdcard\"\u914d\u7f6e\u5206\u6bb5\u65f6\uff0c\u4ee5\u4e0b\u6269\u5c55\u547d\u4ee4\u53ef\u7528\u3002 SDCARD_PRINT_FILE \u00b6 SDCARD_PRINT_FILE FILENAME=<\u6587\u4ef6\u540d> \uff1a\u8f7d\u5165\u4e00\u4e2a\u6587\u4ef6\u5e76\u5f00\u59cb SD \u6253\u5370 SDCARD_RESET_FILE \u00b6 SDCARD_RESET_FILE \uff1a\u5378\u8f7d\u6587\u4ef6\u5e76\u6e05\u9664SD\u72b6\u6001\u3002 [z_tilt] \u00b6 The following commands are available when the z_tilt config section is enabled. Z_TILT_ADJUST \u00b6 Z_TILT_ADJUST [<probe_\u53c2\u6570>=<\u503c>] \uff1a\u8be5\u547d\u4ee4\u5c06\u63a2\u6d4b\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u5750\u6807\u5e76\u5bf9\u6bcf\u4e2aZ\u6b65\u8fdb\u7535\u673a\u8fdb\u884c\u72ec\u7acb\u7684\u8c03\u6574\u4ee5\u62b5\u6d88\u503e\u659c\u3002\u6709\u5173\u53ef\u9009\u7684\u63a2\u9488\u53c2\u6570\uff0c\u8be6\u89c1 PROBE \u547d\u4ee4\u3002","title":"G-Codes"},{"location":"G-Codes.html#g-codes","text":"\u672c\u6587\u6863\u63cf\u8ff0\u4e86 Klipper \u652f\u6301\u7684\u547d\u4ee4\u3002\u8fd9\u4e9b\u547d\u4ee4\u53ef\u4ee5\u8f93\u5165\u5230 OctoPrint \u7ec8\u7aef\u4e2d\u3002","title":"G-Codes"},{"location":"G-Codes.html#g","text":"Klipper\u652f\u6301\u4ee5\u4e0b\u6807\u51c6\u7684G-Code\u547d\u4ee4\uff1a \u79fb\u52a8 (G0 or G1): G1 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] \u9a7b\u7559\uff1a G4 P<\u6beb\u79d2> \u8fd4\u56de\u539f\u70b9\uff1a G28 [X] [Y] [Z] \u5173\u95ed\u6b65\u8fdb\u7535\u673a\uff1a M18 \u6216 M84 \u7b49\u5f85\u5f53\u524d\u79fb\u52a8\u5b8c\u6210\uff1a M400 \u4f7f\u7528\u7edd\u5bf9/\u76f8\u5bf9\u6324\u51fa\u8ddd\u79bb\uff1a M82 \uff0c M83 \u4f7f\u7528\u7edd\u5bf9/\u76f8\u5bf9\u5750\u6807\uff1a G90 , G91 \u8bbe\u7f6e\u5750\u6807\uff1a G92 [X<\u5750\u6807>] [Y<\u5750\u6807>] [Z<\u5750\u6807>] [E<\u5750\u6807>] \u8bbe\u7f6e\u901f\u5ea6\u56e0\u5b50\u8986\u5199\u767e\u5206\u6bd4\uff1a M220 S<\u767e\u5206\u6bd4> \u8bbe\u7f6e\u6324\u538b\u56e0\u5b50\u8986\u76d6\u767e\u5206\u6bd4\uff1a M221 S<percent> \u8bbe\u7f6e\u52a0\u901f\u5ea6\uff1a M204 S<value> \u6216 M204 P<value> T<value> \u6ce8\u610f\uff1a\u5982\u679c\u6ca1\u6709\u6307\u5b9aS\uff0c\u540c\u65f6\u6307\u5b9a\u4e86P\u548cT\uff0c\u90a3\u4e48\u52a0\u901f\u5ea6\u5c06\u88ab\u8bbe\u7f6e\u4e3aP\u548cT\u4e2d\u7684\u6700\u5c0f\u503c\u3002 \u83b7\u53d6\u6324\u51fa\u673a\u6e29\u5ea6\uff1a M105 \u8bbe\u7f6e\u6324\u51fa\u673a\u6e29\u5ea6\uff1a M104 [T<index>] [S<temperature>] \u8bbe\u7f6e\u6324\u51fa\u673a\u6e29\u5ea6\u5e76\u7b49\u5f85\uff1a M109 [T<index>] S<temperature> \u3002 \u6ce8\u610f\uff1aM109\u603b\u662f\u7b49\u5f85\u6e29\u5ea6\u7a33\u5b9a\u5728\u8bf7\u6c42\u7684\u6570\u503c\u4e0a\u3002 \u8bbe\u7f6e\u70ed\u5e8a\u6e29\u5ea6\uff1a M140 [S<temperature>] \u8bbe\u7f6e\u70ed\u5e8a\u6e29\u5ea6\u5e76\u4e14\u7b49\u5f85\uff1a M190 S<temperature> \u6ce8\u610f\uff1aM190\u603b\u662f\u7b49\u5f85\u6e29\u5ea6\u7a33\u5b9a\u5728\u8bf7\u6c42\u7684\u6570\u503c\u4e0a\u3002 \u8bbe\u7f6e\u98ce\u6247\u901f\u5ea6\uff1a M106 S<value> \u505c\u6b62\u98ce\u6247\uff1a M107 \u7d27\u6025\u505c\u6b62\uff1a M112 \u83b7\u53d6\u5f53\u524d\u4f4d\u7f6e\uff1a M114 \u83b7\u53d6\u56fa\u4ef6\u7248\u672c\uff1a M115 \u6709\u5173\u4e0a\u8ff0\u547d\u4ee4\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 RepRap G-Code documentation Klipper \u7684\u76ee\u6807\u662f\u652f\u6301\u666e\u901a\u7b2c\u4e09\u65b9\u8f6f\u4ef6\uff08\u5982OctoPrint\u3001Printrun\u3001Slic3r\u3001Cura\u7b49\uff09\u4f7f\u7528\u6807\u51c6\u914d\u7f6e\u4ea7\u751f\u7684G\u4ee3\u7801\u547d\u4ee4\u3002\u652f\u6301\u6240\u6709\u53ef\u80fd\u7684G-Code\u547d\u4ee4\u5e76\u4e0d\u662f\u6211\u4eec\u7684\u76ee\u6807\u3002\u76f8\u53cd\uff0cKlipper \u66f4\u559c\u6b22\u4eba\u7c7b\u53ef\u8bfb\u7684 \"\u6269\u5c55\u7684G-Code\u547d\u4ee4\" \u3002\u540c\u6837\u5730\uff0cG-Code\u7ec8\u7aef\u8f93\u51fa\u4e5f\u53ea\u662f\u4e3a\u4e86\u8ba9\u4eba\u53ef\u8bfb--\u5982\u679c\u4ece\u5916\u90e8\u8f6f\u4ef6\u63a7\u5236Klipper\uff0c\u8bf7\u53c2\u9605 API\u670d\u52a1\u5668\u6587\u4ef6 \u3002 \u5982\u679c\u4e00\u4e2a\u4eba\u9700\u8981\u4e00\u4e2a\u4e0d\u592a\u5e38\u89c1\u7684G-Code\u547d\u4ee4\uff0c\u90a3\u4e48\u53ef\u4ee5\u7528\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684 gcode_macro config section \u6765\u5b9e\u73b0\u5b83\u3002\u4f8b\u5982\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u8fd9\u4e2a\u6765\u5b9e\u73b0\u3002 G12 , G29 , G30 , G31 , M42 , M80 , M81 , T1 \uff0cetc","title":"G\u4ee3\u7801\u547d\u4ee4"},{"location":"G-Codes.html#_1","text":"Klipper\u4f7f\u7528 \"extended\" \u7684G\u4ee3\u7801\u547d\u4ee4\u6765\u8fdb\u884c\u4e00\u822c\u7684\u914d\u7f6e\u548c\u72b6\u6001\u3002\u8fd9\u4e9b\u6269\u5c55\u547d\u4ee4\u90fd\u9075\u5faa\u4e00\u4e2a\u7c7b\u4f3c\u7684\u683c\u5f0f--\u5b83\u4eec\u4ee5\u4e00\u4e2a\u547d\u4ee4\u540d\u5f00\u59cb\uff0c\u540e\u9762\u53ef\u80fd\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\u3002\u6bd4\u5982\u8bf4\uff1a SET_SERVO SERVO=myservo ANGLE=5.3 \u3002\u5728\u672c\u6587\u4ef6\u4e2d\uff0c\u547d\u4ee4\u548c\u53c2\u6570\u4ee5\u5927\u5199\u5b57\u6bcd\u663e\u793a\uff0c\u4f46\u5b83\u4eec\u4e0d\u5206\u5927\u5c0f\u5199\u3002(\u6240\u4ee5\uff0c\"SET_SERVO \"\u548c \"set_servo \"\u90fd\u662f\u8fd0\u884c\u540c\u4e00\u4e2a\u547d\u4ee4\uff09 This section is organized by Klipper module name, which generally follows the section names specified in the printer configuration file . Note that some modules are automatically loaded.","title":"\u5176\u4ed6\u547d\u4ee4"},{"location":"G-Codes.html#adxl345","text":"The following commands are available when an adxl345 config section is enabled.","title":"[adxl345]"},{"location":"G-Codes.html#accelerometer_measure","text":"ACCELEROMETER_MEASURE [CHIP=<config_name>] [NAME=<value>] \u3002\u4ee5\u8981\u6c42\u7684\u6bcf\u79d2\u91c7\u6837\u6570\u542f\u52a8\u52a0\u901f\u5ea6\u8ba1\u6d4b\u91cf\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aCHIP\uff0c\u5219\u9ed8\u8ba4\u4e3a \"adxl345\"\u3002\u8be5\u547d\u4ee4\u4ee5\u542f\u52a8-\u505c\u6b62\u6a21\u5f0f\u5de5\u4f5c\uff1a\u7b2c\u4e00\u6b21\u6267\u884c\u65f6\uff0c\u5b83\u5f00\u59cb\u6d4b\u91cf\uff0c\u4e0b\u6b21\u6267\u884c\u65f6\u505c\u6b62\u6d4b\u91cf\u3002\u6d4b\u91cf\u7ed3\u679c\u88ab\u5199\u5165\u4e00\u4e2a\u540d\u4e3a /tmp/adxl345-<chip>-<name>\u7684\u6587\u4ef6\u4e2d\u3002csv \uff0c\u5176\u4e2d <chip> \u662f\u52a0\u901f\u5ea6\u8ba1\u82af\u7247\u7684\u540d\u79f0\uff08 my_chip_name \u6765\u81ea [adxl345 my_chip_name] \uff09\uff0c <name> \u662f\u53ef\u9009NAME\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aNAME\uff0c\u5219\u9ed8\u8ba4\u4e3a\u5f53\u524d\u65f6\u95f4\uff0c\u683c\u5f0f\u4e3a \"YYYMMDD_HHMMSS\"\u3002\u5982\u679c\u52a0\u901f\u5ea6\u8ba1\u5728\u5176\u914d\u7f6e\u90e8\u5206\u6ca1\u6709\u540d\u79f0\uff08\u53ea\u662f [adxl345] \uff09\uff0c\u90a3\u4e48 <chip > \u90e8\u5206\u7684\u540d\u79f0\u5c31\u4e0d\u4f1a\u751f\u6210\u3002","title":"ACCELEROMETER_MEASURE"},{"location":"G-Codes.html#accelerometer_query","text":"ACCELEROMETER_QUERY [CHIP=<config_name>] [RATE=<value>] : \u67e5\u8be2\u52a0\u901f\u5ea6\u8ba1\u7684\u5f53\u524d\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u82af\u7247\uff0c\u5219\u9ed8\u8ba4\u4e3a \"adxl345\"\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aRATE\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u3002\u8be5\u547d\u4ee4\u5bf9\u4e8e\u6d4b\u8bd5\u4e0eADXL345\u52a0\u901f\u5ea6\u8ba1\u7684\u8fde\u63a5\u975e\u5e38\u6709\u7528\uff1a\u8fd4\u56de\u7684\u6570\u503c\u4e4b\u4e00\u5e94\u8be5\u662f\u81ea\u7531\u843d\u4f53\u52a0\u901f\u5ea6\uff08+/-\u82af\u7247\u7684\u4e00\u4e9b\u566a\u58f0\uff09\u3002","title":"ACCELEROMETER_QUERY"},{"location":"G-Codes.html#accelerometer_debug_read","text":"ACCELEROMETER_DEBUG_READ [CHIP=<\u914d\u7f6e\u540d>] REG=<\u5bc4\u5b58\u5668> \uff1a\u67e5\u8be2ADXL345\u7684\u5bc4\u5b58\u5668\"REG\"\uff08\u4f8b\u598244\u62160x2C\uff09\u3002\u53ef\u4ee5\u7528\u4e8edebug\u3002","title":"ACCELEROMETER_DEBUG_READ"},{"location":"G-Codes.html#accelerometer_debug_write","text":"ACCELEROMETER_DEBUG_WRITE [CHIP=<\u914d\u7f6e\u540d>] REG=<\u5bc4\u5b58\u5668> VAL=<\u503c> \uff1a\u5c06\u539f\u59cb\u7684\"\u503c\"\u5199\u8fdb\u5bc4\u5b58\u5668\"\u5bc4\u5b58\u5668\"\u3002\"\u503c\"\u548c\"\u5bc4\u5b58\u5668\"\u90fd\u53ef\u4ee5\u662f\u4e00\u4e2a\u5341\u8fdb\u5236\u6216\u5341\u516d\u8fdb\u5236\u7684\u6574\u6570\u3002\u8bf7\u8c28\u614e\u4f7f\u7528\uff0c\u5e76\u53c2\u8003 ADXL345 \u6570\u636e\u624b\u518c\u3002","title":"ACCELEROMETER_DEBUG_WRITE"},{"location":"G-Codes.html#angle","text":"The following commands are available when an angle config section is enabled.","title":"[angle]"},{"location":"G-Codes.html#angle_calibrate","text":"ANGLE_CALIBRATE CHIP=<\u82af\u7247\u540d> \uff1a\u5728\u6307\u5b9a\u4f20\u611f\u5668\u4e0a\u6267\u884c\u89d2\u5ea6\u6821\u51c6\uff08\u5fc5\u987b\u6709\u4e00\u4e2a [angle \u82af\u7247\u540d] \u7684\u914d\u7f6e\u5206\u6bb5\uff0c\u5e76\u6307\u5b9a\u4e00\u4e2a stepper \u53c2\u6570\uff09\u3002\u91cd\u8981\u7684\u662f - \u8fd9\u4e2a\u5de5\u5177\u5c06\u547d\u4ee4\u6b65\u8fdb\u7535\u673a\u79fb\u52a8\u800c\u4e0d\u68c0\u67e5\u6b63\u5e38\u7684\u8fd0\u52a8\u5b66\u8fb9\u754c\u9650\u5236\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5728\u6267\u884c\u6821\u51c6\u4e4b\u524d\uff0c\u7535\u673a\u4e0d\u5e94\u88ab\u8fde\u63a5\u5230\u4efb\u4f55\u6253\u5370\u673a\u7684\u6ed1\u5757\u3002\u5982\u679c\u4e0d\u80fd\u65ad\u5f00\u6b65\u8fdb\u7535\u673a\u548c\u6253\u5370\u673a\u6ed1\u5757\u7684\u8fde\u63a5\uff0c\u5728\u5f00\u59cb\u6821\u51c6\u4e4b\u524d\uff0c\u786e\u4fdd\u6ed1\u8f66\u63a5\u8fd1\u5176\u8f68\u9053\u7684\u4e2d\u5fc3\u3002(\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\uff0c\u6b65\u8fdb\u7535\u673a\u53ef\u80fd\u4f1a\u5411\u524d\u6216\u5411\u540e\u79fb\u52a8\u4e24\u5708\uff09\u3002\u5b8c\u6210\u8fd9\u4e2a\u6d4b\u8bd5\u540e\uff0c\u4f7f\u7528 SAVE_CONFIG \u547d\u4ee4\uff0c\u5c06\u6821\u51c6\u6570\u636e\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4e3a\u4e86\u4f7f\u7528\u8fd9\u4e2a\u5de5\u5177\uff0c\u5fc5\u987b\u5b89\u88c5Python \"numpy\"\u8f6f\u4ef6\u5305\uff08\u66f4\u591a\u4fe1\u606f\u89c1 \u6d4b\u91cf\u8c10\u632f\u6587\u6863 \uff09\u3002","title":"ANGLE_CALIBRATE"},{"location":"G-Codes.html#angle_debug_read","text":"ANGLE_DEBUG_READ CHIP=<\u914d\u7f6e\u540d> REG=<\u5bc4\u5b58\u5668> \uff1a\u67e5\u8be2\u4f20\u611f\u5668\u5bc4\u5b58\u5668\"\u5bc4\u5b58\u5668\"\uff08\u4f8b\u5982\uff1a44\u62160x2C\uff09\u3002\u8be5\u547d\u4ee4\u5e38\u7528\u4e8e\u8c03\u8bd5\uff0c\u4ec5\u9002\u7528\u4e8etle5012b\u82af\u7247\u3002","title":"ANGLE_DEBUG_READ"},{"location":"G-Codes.html#angle_debug_write","text":"ANGLE_DEBUG_WRITE CHIP=<\u914d\u7f6e\u540d> REG=<\u5bc4\u5b58\u5668> VAL=<\u503c> \uff1a\u5c06\u201c\u503c\u201d\u5199\u5165\u201c\u5bc4\u5b58\u5668\u201d\u3002\u201c\u503c\u201d\u548c\u201c\u5bc4\u5b58\u5668\u201d\u53ef\u4ee5\u662f\u5341\u8fdb\u5236\u6216\u5341\u516d\u8fdb\u5236\u6574\u6570\u3002\u8bf7\u5c0f\u5fc3\u4f7f\u7528\uff0c\u5e76\u53c2\u8003\u4f20\u611f\u5668\u6570\u636e\u624b\u518c\u3002\u4ec5\u9002\u7528\u4e8e tle5012b\u82af\u7247\u3002","title":"ANGLE_DEBUG_WRITE"},{"location":"G-Codes.html#bed_mesh","text":"The following commands are available when the bed_mesh config section is enabled (also see the bed mesh guide ).","title":"[bed_mesh]"},{"location":"G-Codes.html#bed_mesh_calibrate","text":"BED_MESH_CALIBRATE [METHOD=manual] [<probe_parameter>=<value>] [<mesh_parameter>=<value>] : \u6b64\u547d\u4ee4\u4f7f\u7528\u901a\u8fc7\u914d\u7f6e\u53c2\u6570\u6307\u5b9a\u5e76\u751f\u6210\u7684\u63a2\u6d4b\u70b9\u63a2\u6d4b\u6253\u5370\u5e8a\u3002\u5728\u63a2\u6d4b\u540e\uff0c\u4e00\u4e2a\u7f51\u683c\u5c06\u88ab\u751f\u6210\uff0cz \u8f74\u79fb\u52a8\u5c06\u6839\u636e\u7f51\u683c\u8c03\u6574\u3002\u6709\u5173\u53ef\u9009\u63a2\u6d4b\u53c2\u6570\uff0c\u8bf7\u89c1 PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9a METHOD=manual \uff0c\u5219\u4f1a\u542f\u52a8\u624b\u52a8\u63a2\u6d4b\u5de5\u5177 - \u6709\u5173\u6b64\u5de5\u5177\u6d3b\u8dc3\u65f6\u53ef\u7528\u7684\u989d\u5916\u547d\u4ee4\uff0c\u8be6\u89c1 MANUAL_PROBE \u547d\u4ee4\u3002","title":"BED_MESH_CALIBRATE"},{"location":"G-Codes.html#bed_mesh_output","text":"BED_MESH_OUTPUT PGP=[<0:1>] \uff1a\u8be5\u547d\u4ee4\u5c06\u5f53\u524d\u63a2\u6d4b\u5230\u7684 Z \u503c\u548c\u5f53\u524d\u7f51\u683c\u7684\u503c\u8f93\u51fa\u5230\u7ec8\u7aef\u3002\u5982\u679c\u6307\u5b9a PGP=1\uff0c\u5219\u5c06bed_mesh\u4ea7\u751f\u7684X\u3001Y\u5750\u6807\uff0c\u4ee5\u53ca\u5b83\u4eec\u5173\u8054\u7684\u6307\u6570\uff0c\u8f93\u51fa\u5230\u7ec8\u7aef\u3002","title":"BED_MESH_OUTPUT"},{"location":"G-Codes.html#bed_mesh_map","text":"BED_MESH_MAP \uff1a\u7c7b\u4f3c BED_MESH_OUTPUT\uff0c\u8fd9\u4e2a\u547d\u4ee4\u5728\u7ec8\u7aef\u4e2d\u663e\u793a\u7f51\u683c\u7684\u5f53\u524d\u72b6\u6001\u3002\u5b83\u4e0d\u4ee5\u4eba\u7c7b\u53ef\u8bfb\u683c\u5f0f\u6253\u5370\uff0c\u800c\u662f\u88ab\u5e8f\u5217\u5316\u4e3a json \u683c\u5f0f\u3002\u8fd9\u5141\u8bb8 Octoprint \u63d2\u4ef6\u6355\u83b7\u6570\u636e\u5e76\u751f\u6210\u63cf\u7ed8\u6253\u5370\u5e8a\u8868\u9762\u7684\u9ad8\u5ea6\u56fe\u3002","title":"BED_MESH_MAP"},{"location":"G-Codes.html#bed_mesh_clear","text":"BED_MESH_CLEAR \uff1a\u6b64\u547d\u4ee4\u6e05\u9664\u5e8a\u7f51\u5e76\u79fb\u9664\u6240\u6709 z \u8c03\u6574\u3002\u5efa\u8bae\u628a\u5b83\u653e\u5728\u4f60\u7684 end-gcode \uff08\u7ed3\u675fG\u4ee3\u7801\uff09\u4e2d\u3002","title":"BED_MESH_CLEAR"},{"location":"G-Codes.html#bed_mesh_profile","text":"BED_MESH_PROFILE LOAD=<\u540d\u79f0> SAVE=<\u540d\u79f0> REMOVE=<\u540d\u79f0> \uff1a\u6b64\u547d\u4ee4\u63d0\u4f9b\u4e86\u7f51\u5e8a\u914d\u7f6e\u7ba1\u7406\u529f\u80fd\u3002LOAD \u5c06\u4ece\u4e0e\u6240\u63d0\u4f9b\u7684\u540d\u79f0\u76f8\u7b26\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u6062\u590d\u7f51\u683c\u72b6\u6001\u3002SAVE \u5c06\u4f1a\u628a\u76ee\u524d\u7684\u7f51\u683c\u72b6\u6001\u4fdd\u5b58\u5230\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u76f8\u7b26\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002REMOVE\uff08\u79fb\u9664\uff09\u5c06\u4ece\u6301\u4e45\u6027\u5185\u5b58\u4e2d\u5220\u9664\u4e0e\u6240\u63d0\u4f9b\u540d\u79f0\u76f8\u7b26\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u8bf7\u6ce8\u610f\uff0c\u5728 SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u987b\u53d1\u9001SAVE_CONFIG G\u4ee3\u7801\uff0c\u4ee5\u4fdd\u5b58\u53d8\u66f4\u5230\u6301\u4e45\u6027\u5185\u5b58\u3002","title":"BED_MESH_PROFILE"},{"location":"G-Codes.html#bed_mesh_offset","text":"BED_MESH_OFFSET [X=<value>] [Y=<value>] \u3002\u5c06X\u548c/\u6216Y\u7684\u504f\u79fb\u91cf\u5e94\u7528\u4e8e\u7f51\u683c\u67e5\u627e\u3002\u8fd9\u5bf9\u5177\u6709\u591a\u4e2a\u72ec\u7acb\u6324\u51fa\u5934\u7684\u6253\u5370\u673a\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u504f\u79fb\u91cf\u5bf9\u5207\u6362\u5de5\u5177\u5934\u540e\u4ea7\u751f\u6b63\u786e\u7684 Z \u503c\u8c03\u6574\u662f\u81f3\u5173\u91cd\u8981\u7684\u3002","title":"BED_MESH_OFFSET"},{"location":"G-Codes.html#bed_screws","text":"The following commands are available when the bed_screws config section is enabled (also see the manual level guide ).","title":"[bed_screws]"},{"location":"G-Codes.html#bed_screws_adjust","text":"BED_SCREWS_ADJUST \uff1a\u8be5\u547d\u4ee4\u5c06\u8c03\u7528\u6253\u5370\u5e8a\u87ba\u4e1d\u8c03\u6574\u5de5\u5177\u3002\u5b83\u5c06\u547d\u4ee4\u55b7\u5634\u79fb\u52a8\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\uff08\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\uff09\uff0c\u5e76\u5141\u8bb8\u5bf9\u6253\u5370\u5e8a\u87ba\u4e1d\u8fdb\u884c\u624b\u52a8\u8c03\u6574\uff0c\u4f7f\u6253\u5370\u5e8a\u4e0e\u55b7\u5634\u7684\u8ddd\u79bb\u4fdd\u6301\u4e0d\u53d8\u3002","title":"BED_SCREWS_ADJUST"},{"location":"G-Codes.html#bed_tilt","text":"The following commands are available when the bed_tilt config section is enabled.","title":"[bed_tilt]"},{"location":"G-Codes.html#bed_tilt_calibrate","text":"BED_TILT_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u8be5\u547d\u4ee4\u5c06\u63a2\u6d4b\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u70b9\uff0c\u7136\u540e\u5efa\u8bae\u66f4\u65b0X\u548cY\u7684\u503e\u659c\u8c03\u6574\u3002\u6709\u5173\u53ef\u9009\u63a2\u6d4b\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u4e48\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u5c31\u4f1a\u88ab\u6fc0\u6d3b - \u5173\u4e8e\u8be5\u5de5\u5177\u6fc0\u6d3b\u65f6\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\uff0c\u8bf7\u53c2\u89c1\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002","title":"BED_TILT_CALIBRATE"},{"location":"G-Codes.html#bltouch","text":"\u5f53 bltouch \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u4e5f\u53ef\u53c2\u89c1 BL-Touch guide \uff09\u3002","title":"[bltouch]"},{"location":"G-Codes.html#bltouch_debug","text":"BLTOUCH_DEBUG COMMAND=<\u547d\u4ee4> \uff1a\u5411BLTouch\u53d1\u9001\u4e00\u4e2a\u6307\u5b9a\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u7528\u4e8e\u8c03\u8bd5\u3002\u53ef\u7528\u7684\u547d\u4ee4\u6709\uff1a pin_down \u3001 touch_mode \u3001 pin_up \u3001 self_test \u548c reset \u3002BL-TOUCH V3.0 \u6216 V3.1 \u4e5f\u53ef\u80fd\u652f\u6301 set_5V_output_mode \u3001 set_OD_output_mode \u548c output_mode_store \u547d\u4ee4\u3002","title":"BLTOUCH_DEBUG"},{"location":"G-Codes.html#bltouch_store","text":"BLTOUCH_STORE MODE=<output_mode> :\u8fd9\u5c06\u5728BLTouch V3.1\u7684EEPROM\u4e2d\u5b58\u50a8\u4e00\u4e2a\u8f93\u51fa\u6a21\u5f0f \u53ef\u7528\u7684\u8f93\u51fa\u6a21\u5f0f\u6709 5V , OD","title":"BLTOUCH_STORE"},{"location":"G-Codes.html#configfile","text":"configfile\u6a21\u5757\u88ab\u81ea\u52a8\u52a0\u8f7d\u3002","title":"[configfile]"},{"location":"G-Codes.html#save_config","text":"SAVE_CONFIG \uff1a\u8be5\u547d\u4ee4\u5c06\u8986\u76d6\u6253\u5370\u673a\u7684\u4e3b\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u91cd\u65b0\u542f\u52a8\u4e3b\u673a\u8f6f\u4ef6\u3002\u8be5\u547d\u4ee4\u4e0e\u5176\u4ed6\u6821\u51c6\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u4e8e\u5b58\u50a8\u6821\u51c6\u6d4b\u8bd5\u7684\u7ed3\u679c\u3002","title":"SAVE_CONFIG"},{"location":"G-Codes.html#delayed_gcode","text":"The following command is enabled if a delayed_gcode config section has been enabled (also see the template guide ).","title":"[delayed_gcode]"},{"location":"G-Codes.html#update_delayed_gcode","text":"UPDATE_DELAYED_GCODE [ID=<\u540d\u79f0>] [DURATION=<\u79d2>] \uff1a\u66f4\u65b0\u76ee\u6807 [delayed_gcode] \u7684\u5ef6\u8fdf\u5e76\u542f\u52a8G\u4ee3\u7801\u6267\u884c\u7684\u8ba1\u65f6\u5668\u3002\u4e3a0\u7684\u503c\u4f1a\u53d6\u6d88\u51c6\u5907\u6267\u884c\u7684\u5ef6\u8fdfG\u4ee3\u7801\u3002","title":"UPDATE_DELAYED_GCODE"},{"location":"G-Codes.html#delta_calibrate","text":"The following commands are available when the delta_calibrate config section is enabled (also see the delta calibrate guide ).","title":"[delta_calibrate]"},{"location":"G-Codes.html#delta_calibrate_1","text":"DELTA_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u8fd9\u6761\u547d\u4ee4\u5c06\u63a2\u6d4b\u5e8a\u8eab\u7684\u4e03\u4e2a\u70b9\uff0c\u5e76\u5efa\u8bae\u66f4\u65b0\u9650\u4f4d\u4f4d\u7f6e\u3001\u5854\u67b6\u89d2\u5ea6\u548c\u534a\u5f84\u3002\u6709\u5173\u53ef\u9009\u63a2\u6d4b\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u4e48\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u5c06\u88ab\u6fc0\u6d3b - \u5173\u4e8e\u8be5\u5de5\u5177\u6fc0\u6d3b\u65f6\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002","title":"DELTA_CALIBRATE"},{"location":"G-Codes.html#delta_analyze","text":"DELTA_ANALYZE :\u8fd9\u4e2a\u547d\u4ee4\u5728\u589e\u5f3a\u7684delta\u6821\u51c6\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u3002\u8be6\u60c5\u89c1 Delta Calibrate \u3002","title":"DELTA_ANALYZE"},{"location":"G-Codes.html#display","text":"\u5f53 display \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[display]"},{"location":"G-Codes.html#set_display_group","text":"SET_DISPLAY_GROUP [DISPLAY=<display>] GROUP=<group> :\u8bbe\u7f6e\u4e00\u4e2alcd\u663e\u793a\u5668\u7684\u6d3b\u52a8\u663e\u793a\u7ec4\u3002\u8fd9\u5141\u8bb8\u5728\u914d\u7f6e\u4e2d\u5b9a\u4e49\u591a\u4e2a\u663e\u793a\u6570\u636e\u7ec4\uff0c\u4f8b\u5982 [display_data <group> <elementname>] \u5e76\u4f7f\u7528\u8fd9\u4e2a\u6269\u5c55\u7684gcode\u547d\u4ee4\u5728\u5b83\u4eec\u4e4b\u95f4\u5207\u6362\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9aDISPLAY\uff0c\u5219\u9ed8\u8ba4\u4e3a \"display\"\uff08\u4e3b\u663e\u793a\uff09\u3002","title":"SET_DISPLAY_GROUP"},{"location":"G-Codes.html#display_status","text":"\u5982\u679c\u4f7f\u7528\u4e86 display config \u914d\u7f6e\u5206\u6bb5 \uff0cdisplay_status\u6a21\u5757\u4f1a\u81ea\u52a8\u52a0\u8f7d\u3002\u5b83\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u6807\u51c6\u7684G\u4ee3\u7801\u547d\u4ee4\uff1a \u663e\u793a\u4fe1\u606f\uff1a M117 <message> \u8bbe\u7f6e\u6784\u5efa\u767e\u5206\u6bd4\uff1a M73 P<percent>","title":"[display_status]"},{"location":"G-Codes.html#dual_carriage","text":"\u4f7f\u7528 dual_carriage \u914d\u7f6e\u5206\u6bb5 \u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[dual_carriage]"},{"location":"G-Codes.html#set_dual_carriage","text":"SET_DUAL_CARRIAGE CARRIAGE=[0|1] :\u8be5\u547d\u4ee4\u5c06\u8bbe\u7f6e\u6d3b\u52a8\u7684\u6ed1\u5757\u3002\u5b83\u901a\u5e38\u662f\u5728\u4e00\u4e2a\u591a\u6324\u51fa\u673a\u914d\u7f6e\u4e2d\u4ece activate_gcode\u548cdeactivate_gcode\u5b57\u6bb5\u8c03\u7528\u3002","title":"SET_DUAL_CARRIAGE"},{"location":"G-Codes.html#endstop_phase","text":"The following commands are available when an endstop_phase config section is enabled (also see the endstop phase guide ).","title":"[endstop_phase]"},{"location":"G-Codes.html#endstop_phase_calibrate","text":"ENDSTOP_PHASE_CALIBRATE [STEPPER=<config_name>] \u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9bSTEPPER\u53c2\u6570\uff0c\u90a3\u4e48\u8be5\u547d\u4ee4\u5c06\u62a5\u544a\u5728\u8fc7\u53bb\u7684\u5f52\u4f4d\u64cd\u4f5c\u4e2d\u5bf9\u7aef\u505c\u6b65\u8fdb\u76f8\u7684\u7edf\u8ba1\u3002\u5f53\u63d0\u4f9bSTEPPER\u53c2\u6570\u65f6\uff0c\u5b83\u4f1a\u5b89\u6392\u5c06\u7ed9\u5b9a\u7684\u7ec8\u70b9\u7ad9\u76f8\u4f4d\u8bbe\u7f6e\u5199\u5165\u914d\u7f6e\u6587\u4ef6\u4e2d\uff08\u4e0eSAVE_CONFIG\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff09\u3002","title":"ENDSTOP_PHASE_CALIBRATE"},{"location":"G-Codes.html#exclude_object","text":"The following commands are available when an exclude_object config section is enabled (also see the exclude object guide ):","title":"[exclude_object]"},{"location":"G-Codes.html#exclude_object_1","text":"EXCLUDE_OBJECT [NAME=\u5bf9\u8c61\u540d\u79f0] [CURRENT=1] [RESET=1] \uff1a\u5728\u6ca1\u6709\u53c2\u6570\u7684\u60c5\u51b5\u4e0b\uff0c\u8fd9\u5c06\u8fd4\u56de\u4e00\u4e2a\u5f53\u524d\u6240\u6709\u88ab\u6392\u9664\u7684\u5bf9\u8c61\u7684\u5217\u8868\u3002 When the NAME parameter is given, the named object will be excluded from printing. When the CURRENT parameter is given, the current object will be excluded from printing. When the RESET parameter is given, the list of excluded objects will be cleared. Additionally including NAME will only reset the named object. This can cause print failures, if layers were already skipped.","title":"EXCLUDE_OBJECT"},{"location":"G-Codes.html#exclude_object_define","text":"EXCLUDE_OBJECT_DEFINE [NAME=\u5bf9\u8c61\u540d\u79f0[CENTER=X,Y] [POLYGON=[[x,y],...]] [RESET=1] [JSON=1] \uff1a\u63d0\u4f9b\u6587\u4ef6\u4e2d\u4e00\u4e2a\u5bf9\u8c61\u7684\u6458\u8981\u3002 With no parameters provided, this will list the defined objects known to Klipper. Returns a list of strings, unless the JSON parameter is given, when it will return object details in json format. When the NAME parameter is included, this defines an object to be excluded. NAME \uff1a\u8fd9\u4e2a\u53c2\u6570\u662f\u5fc5\u9700\u7684\u3002\u5b83\u662f\u672c\u6a21\u5757\u4e2d\u5176\u4ed6\u547d\u4ee4\u6240\u4f7f\u7528\u7684\u6807\u8bc6\u7b26\u3002 CENTER \uff1a\u5bf9\u8c61\u7684 X\uff0cY \u5750\u6807\u3002 POLYGON \uff1a\u63d0\u4f9b\u5bf9\u8c61\u8f6e\u5ed3\u7684 X,Y \u5750\u6807\u6570\u7ec4\u3002 When the RESET parameter is provided, all defined objects will be cleared, and the [exclude_object] module will be reset.","title":"EXCLUDE_OBJECT_DEFINE"},{"location":"G-Codes.html#exclude_object_start","text":"EXCLUDE_OBJECT_START NAME=\u5bf9\u8c61\u540d\u79f0 \uff1a\u8fd9\u4e2a\u547d\u4ee4\u63a5\u6536\u4e00\u4e2a NAME \u53c2\u6570\uff0c\u8868\u793a\u5f53\u524d\u5c42\u4e0a\u4e00\u4e2a\u5bf9\u8c61\u7684gcode\u5f00\u59cb\u3002","title":"EXCLUDE_OBJECT_START"},{"location":"G-Codes.html#exclude_object_end","text":"EXCLUDE_OBJECT_END [NAME=\u5bf9\u8c61\u540d\u79f0] \uff1a\u8868\u793a\u5bf9\u8c61\u5728\u8be5\u5c42\u7684\u4ee3\u7801\u7684\u7ed3\u675f\u3002\u5b83\u4e0e EXCLUDE_OBJECT_START \u76f8\u914d\u3002 NAME \u53c2\u6570\u662f\u53ef\u9009\u7684\uff0c\u53ea\u5728\u63d0\u4f9b\u7684\u540d\u79f0\u4e0e\u5f53\u524d\u5bf9\u8c61\u4e0d\u5339\u914d\u65f6\u624d\u4f1a\u53d1\u51fa\u8b66\u544a\u3002","title":"EXCLUDE_OBJECT_END"},{"location":"G-Codes.html#extruder","text":"The following commands are available if an extruder config section is enabled:","title":"[extruder]"},{"location":"G-Codes.html#activate_extruder","text":"ACTIVATE_EXTRUDER EXTRUDER=<\u914d\u7f6e\u540d> \uff1a\u5728\u6709\u591a\u4e2a extruder \u914d\u7f6e\u5206\u6bb5\u7684\u6253\u5370\u673a\u4e2d\uff0c\u8be5\u547d\u4ee4\u4f1a\u6539\u53d8\u6d3b\u8dc3\u7684\u70ed\u7aef\u3002","title":"ACTIVATE_EXTRUDER"},{"location":"G-Codes.html#set_pressure_advance","text":"SET_PRESSURE_ADVANCE [EXTRUDER=<config_name>] [ADVANCE=<pressure_advance>] [SMOOTH_TIME=<pressure_advance_smooth_time>] : Set pressure advance parameters of an extruder stepper (as defined in an extruder or extruder_stepper config section). If EXTRUDER is not specified, it defaults to the stepper defined in the active hotend.","title":"SET_PRESSURE_ADVANCE"},{"location":"G-Codes.html#set_extruder_rotation_distance","text":"SET_EXTRUDER_ROTATION_DISTANCE EXTRUDER=<\u914d\u7f6e\u540d> [DISTANCE=<\u8ddd\u79bb>] \uff1a\u4e3a\u63d0\u4f9b\u7684\u6324\u51fa\u673a\u6b65\u8fdb\u7535\u673a\u7684\u201c\u65cb\u8f6c\u8ddd\u79bb\u201d\uff08\u5982 \u6324\u51fa\u673a \u6216 extruder_stepper \u914d\u7f6e\u5206\u6bb5\u4e2d\u5b9a\u4e49\uff09\u8bbe\u7f6e\u65b0\u503c\u3002\u5982\u679c\u65cb\u8f6c\u8ddd\u79bb\u4e3a\u8d1f\u6570\uff0c\u5219\u6b65\u8fdb\u8fd0\u52a8\u5c06\u53cd\u8f6c\uff08\u76f8\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u6b65\u8fdb\u65b9\u5411\uff09\u3002\u66f4\u6539\u7684\u8bbe\u7f6e\u4e0d\u4f1a\u5728 Klipper \u91cd\u7f6e\u65f6\u4fdd\u7559\u3002\u8bf7\u8c28\u614e\u4f7f\u7528\uff0c\u56e0\u4e3a\u5fae\u5c0f\u7684\u53d8\u5316\u4f1a\u5bfc\u81f4\u6324\u51fa\u673a\u548c\u70ed\u7aef\u4e4b\u95f4\u7684\u538b\u529b\u8fc7\u5927\u3002\u4f7f\u7528\u524d\u9700\u8981\u7528\u8017\u6750\u8fdb\u884c\u9002\u5f53\u7684\u6821\u51c6\u3002\u5982\u679c\u672a\u63d0\u4f9b\u201cDISTANCE\u201d\u503c\uff0c\u5219\u6b64\u547d\u4ee4\u5c06\u8fd4\u56de\u5f53\u524d\u65cb\u8f6c\u8ddd\u79bb\u3002","title":"SET_EXTRUDER_ROTATION_DISTANCE"},{"location":"G-Codes.html#sync_extruder_motion","text":"SYNC_EXTRUDER_MOTION EXTRUDER=<name> MOTION_QUEUE=<name> : This command will cause the stepper specified by EXTRUDER (as defined in an extruder or extruder_stepper config section) to become synchronized to the movement of an extruder specified by MOTION_QUEUE (as defined in an extruder config section). If MOTION_QUEUE is an empty string then the stepper will be desynchronized from all extruder movement.","title":"SYNC_EXTRUDER_MOTION"},{"location":"G-Codes.html#set_extruder_step_distance","text":"This command is deprecated and will be removed in the near future.","title":"SET_EXTRUDER_STEP_DISTANCE"},{"location":"G-Codes.html#sync_stepper_to_extruder","text":"This command is deprecated and will be removed in the near future.","title":"SYNC_STEPPER_TO_EXTRUDER"},{"location":"G-Codes.html#fan_generic","text":"\u5f53 fan_generic \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[fan_generic]"},{"location":"G-Codes.html#set_fan_speed","text":"SET_FAN_SPEED FAN=config_name SPEED=<\u901f\u5ea6> \u8be5\u547d\u4ee4\u8bbe\u7f6e\u98ce\u6247\u7684\u901f\u5ea6\u3002\"\u901f\u5ea6\" \u5fc5\u987b\u57280.0\u52301.0\u4e4b\u95f4\u3002","title":"SET_FAN_SPEED"},{"location":"G-Codes.html#filament_switch_sensor","text":"\u542f\u7528 filament_switch_sensor \u6216 filament_motion_sensor \u914d\u7f6e\u5206\u6bb5\u540e\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a","title":"[filament_switch_sensor]"},{"location":"G-Codes.html#query_filament_sensor","text":"QUERY_FILAMENT_SENSOR SENSOR=<\u4f20\u611f\u5668\u540d> \uff1a\u67e5\u8be2\u8017\u6750\u4f20\u611f\u5668\u7684\u5f53\u524d\u72b6\u6001\u3002\u5728\u7ec8\u7aef\u4e2d\u663e\u793a\u7684\u6570\u636e\u5c06\u53d6\u51b3\u4e8e\u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684\u4f20\u611f\u5668\u7c7b\u578b\u3002","title":"QUERY_FILAMENT_SENSOR"},{"location":"G-Codes.html#set_filament_sensor","text":"SET_FILAMENT_SENSOR SENSOR=<sensor_name> ENABLE=[0|1] \uff1a\u8bbe\u7f6e\u706f\u4e1d\u4f20\u611f\u5668\u7684\u5f00/\u5173\u3002\u5982\u679c ENABLE \u8bbe\u7f6e\u4e3a 0\uff0c\u8017\u6750\u4f20\u611f\u5668\u5c06\u88ab\u7981\u7528\uff0c\u5982\u679c\u8bbe\u7f6e\u4e3a 1\u662f\u542f\u7528\u3002","title":"SET_FILAMENT_SENSOR"},{"location":"G-Codes.html#firmware_retraction","text":"The following standard G-Code commands are available when the firmware_retraction config section is enabled. These commands allow you to utilize the firmware retraction feature available in many slicers, to reduce stringing during non-extrusion moves from one part of the print to another. Appropriately configuring pressure advance reduces the length of retraction required. G10 \uff1a\u4f7f\u7528\u5f53\u524d\u914d\u7f6e\u7684\u53c2\u6570\u56de\u62bd\u6324\u51fa\u673a\u3002 G11 \uff1a\u4f7f\u7528\u5f53\u524d\u914d\u7f6e\u7684\u53c2\u6570\u56de\u586b\u6324\u51fa\u673a\u3002 \u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u989d\u5916\u547d\u4ee4\uff1a","title":"[firmware_retraction]"},{"location":"G-Codes.html#set_retraction","text":"SET_RETRACTION [RETRACT_LENGTH=<\u6beb\u7c73>] [RETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] [UNRETRACT_EXTRA_LENGTH=<\u6beb\u7c73>] [UNRETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] \uff1a\u8c03\u6574\u56fa\u4ef6\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c2\u6570\u3002RETRACT_LENGTH \u51b3\u5b9a\u56de\u62bd\u548c\u56de\u586b\u7684\u8017\u6750\u957f\u5ea6\u3002\u56de\u62bd\u7684\u901f\u5ea6\u901a\u8fc7 RETRACT_SPEED \u8c03\u6574\uff0c\u901a\u5e38\u8bbe\u7f6e\u5f97\u6bd4\u8f83\u9ad8\u3002\u56de\u586b\u7684\u901f\u5ea6\u901a\u8fc7 UNRETRACT_SPEED \u8c03\u6574\uff0c\u867d\u7136\u7ecf\u5e38\u6bd4RETRACT_SPEED \u4f4e\uff0c\u4f46\u4e0d\u662f\u7279\u522b\u91cd\u8981\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u5728\u56de\u586b\u65f6\u589e\u52a0\u5c11\u91cf\u7684\u989d\u5916\u957f\u5ea6\u7684\u8017\u6750\u53ef\u80fd\u6709\u76ca\uff0c\u8fd9\u53ef\u4ee5\u901a\u8fc7 UNRETRACT_EXTRA_LENGTH \u8bbe\u7f6e\u3002SET_RETRACTION \u901a\u5e38\u4f5c\u4e3a\u5207\u7247\u673a\u8017\u6750\u914d\u7f6e\u7684\u4e00\u90e8\u5206\u6765\u8bbe\u7f6e\uff0c\u56e0\u4e3a\u4e0d\u540c\u7684\u8017\u6750\u9700\u8981\u4e0d\u540c\u7684\u53c2\u6570\u8bbe\u7f6e\u3002","title":"SET_RETRACTION"},{"location":"G-Codes.html#get_retraction","text":"GET_RETRACTION :\u67e5\u8be2\u5f53\u524d\u56fa\u4ef6\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c2\u6570\u5e76\u5728\u7ec8\u7aef\u663e\u793a\u3002","title":"GET_RETRACTION"},{"location":"G-Codes.html#force_move","text":"The force_move module is automatically loaded, however some commands require setting enable_force_move in the printer config .","title":"[force_move]"},{"location":"G-Codes.html#stepper_buzz","text":"STEPPER_BUZZ STEPPER=<\u914d\u7f6e\u540d> \uff1a\u79fb\u52a8\u6307\u5b9a\u7684\u6b65\u8fdb\u7535\u673a\u524d\u540e\u8fd0\u52a8\u4e00\u6beb\u7c73\uff0c\u91cd\u590d\u768410\u6b21\u3002\u8fd9\u662f\u4e00\u4e2a\u7528\u4e8e\u9a8c\u8bc1\u6b65\u8fdb\u7535\u673a\u63a5\u7ebf\u7684\u5de5\u5177","title":"STEPPER_BUZZ"},{"location":"G-Codes.html#force_move_1","text":"FORCE_MOVE STEPPER=<config_name> DISTANCE=<value> VELOCITY=<value> [ACCEL=<value>] \u3002\u8be5\u547d\u4ee4\u5c06\u4ee5\u7ed9\u5b9a\u7684\u6052\u5b9a\u901f\u5ea6\uff08mm/s\uff09\u5f3a\u5236\u79fb\u52a8\u7ed9\u5b9a\u7684\u6b65\u8fdb\u5668\uff0c\u79fb\u52a8\u8ddd\u79bb\uff08mm\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86ACCEL\u5e76\u4e14\u5927\u4e8e\u96f6\uff0c\u90a3\u4e48\u5c06\u4f7f\u7528\u7ed9\u5b9a\u7684\u52a0\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s^2\uff09\uff1b\u5426\u5219\u4e0d\u8fdb\u884c\u52a0\u901f\u3002\u4e0d\u6267\u884c\u8fb9\u754c\u68c0\u67e5\uff1b\u4e0d\u8fdb\u884c\u8fd0\u52a8\u5b66\u66f4\u65b0\uff1b\u4e00\u4e2a\u8f74\u4e0a\u7684\u5176\u4ed6\u5e73\u884c\u6b65\u8fdb\u5668\u5c06\u4e0d\u4f1a\u88ab\u79fb\u52a8\u3002\u8bf7\u8c28\u614e\u4f7f\u7528\uff0c\u56e0\u4e3a\u4e0d\u6b63\u786e\u7684\u547d\u4ee4\u53ef\u80fd\u4f1a\u5bfc\u81f4\u635f\u574f\u4f7f\u7528\u8be5\u547d\u4ee4\u51e0\u4e4e\u80af\u5b9a\u4f1a\u4f7f\u4f4e\u7ea7\u8fd0\u52a8\u5b66\u5904\u4e8e\u4e0d\u6b63\u786e\u7684\u72b6\u6001\uff1b\u968f\u540e\u53d1\u51faG28\u547d\u4ee4\u4ee5\u91cd\u7f6e\u8fd0\u52a8\u5b66\u3002\u8be5\u547d\u4ee4\u7528\u4e8e\u4f4e\u7ea7\u522b\u7684\u8bca\u65ad\u548c\u8c03\u8bd5\u3002","title":"FORCE_MOVE"},{"location":"G-Codes.html#set_kinematic_position","text":"SET_KINEMATIC_POSITION [X=<\u503c>] [Y=<\u503c>] [Z=<\u503c>] \uff1a\u5f3a\u5236\u8bbe\u5b9a\u4f4e\u7ea7\u8fd0\u52a8\u5b66\u4ee3\u7801\u4f7f\u7528\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u3002\u8fd9\u662f\u4e00\u4e2a\u8bca\u65ad\u548c\u8c03\u8bd5\u5de5\u5177\uff0c\u5e38\u89c4\u7684\u8f74\u8f6c\u6362\u5e94\u8be5\u4f7f\u7528 SET_GCODE_OFFSET \u548c/\u6216 G92\u6307\u4ee4\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4e00\u4e2a\u8f74\uff0c\u5219\u4f7f\u7528\u4e0a\u4e00\u6b21\u547d\u4ee4\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u3002\u8bbe\u5b9a\u4e00\u4e2a\u4e0d\u5408\u7406\u7684\u6570\u503c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5185\u90e8\u7a0b\u5e8f\u95ee\u9898\u3002\u8fd9\u4e2a\u547d\u4ee4\u53ef\u80fd\u4f1a\u4f7f\u8fb9\u754c\u68c0\u67e5\u5931\u6548\uff0c\u4f7f\u7528\u540e\u53d1\u9001 G28 \u6765\u91cd\u7f6e\u8fd0\u52a8\u5b66\u3002","title":"SET_KINEMATIC_POSITION"},{"location":"G-Codes.html#gcode","text":"The gcode module is automatically loaded.","title":"[gcode]"},{"location":"G-Codes.html#restart","text":"RESTART \uff1a\u8fd9\u5c06\u5bfc\u81f4\u4e3b\u673a\u8f6f\u4ef6\u91cd\u65b0\u52a0\u8f7d\u5176\u914d\u7f6e\u5e76\u6267\u884c\u5185\u90e8\u91cd\u7f6e\u3002\u6b64\u547d\u4ee4\u4e0d\u4f1a\u4ece\u5fae\u63a7\u5236\u5668\u6e05\u9664\u9519\u8bef\u72b6\u6001\uff08\u8bf7\u53c2\u9605 FIRMWARE_RESTART\uff09\uff0c\u4e5f\u4e0d\u4f1a\u52a0\u8f7d\u65b0\u8f6f\u4ef6\uff08\u8bf7\u53c2\u9605 \u5e38\u89c1\u95ee\u9898 \uff09 .","title":"RESTART"},{"location":"G-Codes.html#firmware_restart","text":"FIRMWARE_RESTART \uff1a\u8fd9\u7c7b\u4f3c\u4e8e\u91cd\u542f\u547d\u4ee4\uff0c\u4f46\u5b83\u4e5f\u6e05\u9664\u4e86\u5fae\u63a7\u5236\u5668\u7684\u4efb\u4f55\u9519\u8bef\u72b6\u6001\u3002","title":"FIRMWARE_RESTART"},{"location":"G-Codes.html#status","text":"STATUS \uff1a\u62a5\u544aKlipper\u4e3b\u673a\u7a0b\u5e8f\u7684\u72b6\u6001\u3002","title":"STATUS"},{"location":"G-Codes.html#help","text":"HELP \uff1a\u62a5\u544a\u53ef\u7528\u7684\u6269\u5c55G-Code\u547d\u4ee4\u5217\u8868\u3002","title":"HELP"},{"location":"G-Codes.html#gcode_arcs","text":"\u5982\u679c\u542f\u7528\u4e86 gcode_arcs \u914d\u7f6e\u5206\u6bb5 \uff0c\u4e0b\u5217\u6807\u51c6G\u4ee3\u7801\u547d\u4ee4\u53ef\u7528\uff1a \u53d7\u63a7\u5f27\u7ebf\u79fb\u52a8\uff08G2\u6216G3\uff09\u3002 G2 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] I<value> J<value> \u3002","title":"[gcode_arcs]"},{"location":"G-Codes.html#gcode_macro","text":"\u5f53 gcode_macro\u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u4e5f\u53ef\u53c2\u89c1 \u547d\u4ee4\u6a21\u677f\u6307\u5357 \uff09\uff1a","title":"[gcode_macro]"},{"location":"G-Codes.html#set_gcode_variable","text":"SET_GCODE_VARIABLE MACRO=<macro_name> VARIABLE=<name> VALUE=<value> \uff1a\u8fd9\u6761\u547d\u4ee4\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u5bf9 gcode_macro \u53d8\u91cf\u7684\u503c\u8fdb\u884c\u4fee\u6539\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u4f1a\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a Python \u5b57\u9762\u3002","title":"SET_GCODE_VARIABLE"},{"location":"G-Codes.html#gcode_move","text":"The gcode_move module is automatically loaded.","title":"[gcode_move]"},{"location":"G-Codes.html#get_position","text":"GET_POSITION \uff1a\u8fd4\u56de\u6253\u5370\u5934\u7684\u5f53\u524d\u4f4d\u7f6e\u4fe1\u606f\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1 GET_POSITION\u8f93\u51fa \u7684\u5f00\u53d1\u8005\u6587\u6863\u3002","title":"GET_POSITION"},{"location":"G-Codes.html#set_gcode_offset","text":"SET_GCODE_OFFSET [X=<pos>|X_ADJUST=<adjust>] [Y=<pos>|Y_ADJUST=<adjust>] [Z=<pos>|Z_ADJUST=<adjust>] [MOVE=1 [MOVE_SPEED=<speed>]] \u3002\u8bbe\u7f6e\u4e00\u4e2a\u4f4d\u7f6e\u504f\u79fb\uff0c\u4ee5\u5e94\u7528\u4e8e\u672a\u6765\u7684G\u4ee3\u7801\u547d\u4ee4\u3002\u8fd9\u901a\u5e38\u7528\u4e8e\u5b9e\u9645\u6539\u53d8Z\u5e8a\u7684\u504f\u79fb\u91cf\u6216\u5728\u5207\u6362\u6324\u51fa\u673a\u65f6\u8bbe\u7f6e\u55b7\u5634\u7684XY\u504f\u79fb\u91cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u53d1\u9001 \"SET_GCODE_OFFSET Z=0.2\"\uff0c\u90a3\u4e48\u672a\u6765\u7684G\u4ee3\u7801\u79fb\u52a8\u5c06\u5728\u5176Z\u9ad8\u5ea6\u4e0a\u589e\u52a00.2mm\u3002\u5982\u679c\u4f7f\u7528X_ADJUST\u98ce\u683c\u7684\u53c2\u6570\uff0c\u90a3\u4e48\u8c03\u6574\u5c06\u88ab\u6dfb\u52a0\u5230\u4efb\u4f55\u73b0\u6709\u7684\u504f\u79fb\u4e0a\uff08\u4f8b\u5982\uff0c\"SET_GCODE_OFFSET Z=-0.2\"\uff0c\u7136\u540e\u662f \"SET_GCODE_OFFSET Z_ADJUST=0.3\"\uff0c\u5c06\u5bfc\u81f4\u603b\u7684Z\u504f\u79fb\u4e3a0.1\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE=1\"\uff0c\u90a3\u4e48\u5c06\u53d1\u51fa\u4e00\u4e2a\u5de5\u5177\u5934\u79fb\u52a8\u6765\u5e94\u7528\u7ed9\u5b9a\u7684\u504f\u79fb\u91cf\uff08\u5426\u5219\u504f\u79fb\u91cf\u5c06\u5728\u6307\u5b9a\u7ed9\u5b9a\u8f74\u7684\u4e0b\u4e00\u6b21\u7edd\u5bf9G-Code\u79fb\u52a8\u4e2d\u751f\u6548\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE_SPEED\"\uff0c\u90a3\u4e48\u5200\u5934\u79fb\u52a8\u5c06\u4ee5\u7ed9\u5b9a\u7684\u901f\u5ea6\uff08mm/s\uff09\u6267\u884c\uff1b\u5426\u5219\uff0c\u6253\u5370\u5934\u79fb\u52a8\u5c06\u4f7f\u7528\u6700\u540e\u6307\u5b9a\u7684G-Code\u901f\u5ea6\u3002","title":"SET_GCODE_OFFSET"},{"location":"G-Codes.html#save_gcode_state","text":"SAVE_GCODE_STATE [NAME=<state_name>] \uff1a\u4fdd\u5b58\u5f53\u524d\u7684g-code\u5750\u6807\u89e3\u6790\u72b6\u6001\u3002\u4fdd\u5b58\u548c\u6062\u590dg-code\u72b6\u6001\u5728\u811a\u672c\u548c\u5b8f\u4e2d\u5f88\u6709\u7528\u3002\u8be5\u547d\u4ee4\u4fdd\u5b58\u5f53\u524dg-code\u7edd\u5bf9\u5750\u6807\u6a21\u5f0f\uff08G90/G91\uff09\u7edd\u5bf9\u6324\u51fa\u6a21\u5f0f\uff08M82/M83\uff09\u539f\u70b9\uff08G92\uff09\u504f\u79fb\u91cf\uff08SET_GCODE_OFFSET\uff09\u901f\u5ea6\u8986\u76d6\uff08M220\uff09\u6324\u51fa\u673a\u8986\u76d6\uff08M221\uff09\u79fb\u52a8\u901f\u5ea6\u3002\u5f53\u524dXYZ\u4f4d\u7f6e\u548c\u76f8\u5bf9\u6324\u51fa\u673a \"E \"\u4f4d\u7f6e\u3002\u5982\u679c\u63d0\u4f9bNAME\uff0c\u5b83\u53ef\u4ee5\u5c06\u4fdd\u5b58\u7684\u72b6\u6001\u547d\u540d\u4e3a\u7ed9\u5b9a\u7684\u5b57\u7b26\u4e32\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9bNAME\uff0c\u5219\u9ed8\u8ba4\u4e3a \"default\"","title":"SAVE_GCODE_STATE"},{"location":"G-Codes.html#restore_gcode_state","text":"RESTORE_GCODE_STATE [NAME=<state_name>] [MOVE=1 [MOVE_SPEED=<speed>]] \uff1a\u6062\u590d\u4e4b\u524d\u901a\u8fc7 SAVE_GCODE_STATE \u4fdd\u5b58\u7684\u72b6\u6001\u3002\u5982\u679c\u6307\u5b9a\u201cMOVE=1\u201d\uff0c\u5219\u5c06\u53d1\u51fa\u5200\u5934\u79fb\u52a8\u4ee5\u8fd4\u56de\u5230\u5148\u524d\u7684 XYZ \u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86\u201cMOVE_SPEED\u201d\uff0c\u5219\u5200\u5934\u79fb\u52a8\u5c06\u4ee5\u7ed9\u5b9a\u7684\u901f\u5ea6\uff08\u4ee5mm/s\u4e3a\u5355\u4f4d\uff09\u6267\u884c\uff1b\u5426\u5219\u5de5\u5177\u5934\u79fb\u52a8\u5c06\u4f7f\u7528\u6062\u590d\u7684G-Code\u901f\u5ea6\u3002","title":"RESTORE_GCODE_STATE"},{"location":"G-Codes.html#hall_filament_width_sensor","text":"The following commands are available when the tsl1401cl filament width sensor config section or hall filament width sensor config section is enabled (also see TSLl401CL Filament Width Sensor and Hall Filament Width Sensor ):","title":"[hall_filament_width_sensor]"},{"location":"G-Codes.html#query_filament_width","text":"QUERY_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u5f53\u524d\u6d4b\u91cf\u7684\u8017\u6750\u76f4\u5f84\u3002","title":"QUERY_FILAMENT_WIDTH"},{"location":"G-Codes.html#reset_filament_width_sensor","text":"RESET_FILAMENT_WIDTH_SENSOR \uff1a\u6e05\u9664\u5168\u90e8\u4f20\u611f\u5668\u8bfb\u6570\u3002\u5728\u66f4\u6362\u8017\u6750\u540e\u6709\u7528\u3002","title":"RESET_FILAMENT_WIDTH_SENSOR"},{"location":"G-Codes.html#disable_filament_width_sensor","text":"DISABLE_FILAMENT_WIDTH_SENSOR \uff1a\u5173\u95ed\u8017\u6750\u76f4\u5f84\u4f20\u611f\u5668\u5e76\u505c\u6b62\u4f7f\u7528\u5b83\u8fdb\u884c\u6d41\u91cf\u63a7\u5236\u3002","title":"DISABLE_FILAMENT_WIDTH_SENSOR"},{"location":"G-Codes.html#enable_filament_width_sensor","text":"ENABLE_FILAMENT_WIDTH_SENSOR \uff1a\u542f\u7528\u8017\u6750\u76f4\u5f84\u4f20\u611f\u5668\u5e76\u4f7f\u7528\u5b83\u8fdb\u884c\u6d41\u91cf\u63a7\u5236\u3002","title":"ENABLE_FILAMENT_WIDTH_SENSOR"},{"location":"G-Codes.html#query_raw_filament_width","text":"QUERY_RAW_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u5f53\u524d ADC \u901a\u9053\u8bfb\u6570\u548c\u6821\u51c6\u70b9\u7684 RAW \u4f20\u611f\u5668\u503c\u3002","title":"QUERY_RAW_FILAMENT_WIDTH"},{"location":"G-Codes.html#enable_filament_width_log","text":"ENABLE_FILAMENT_WIDTH_LOG \uff1a\u5f00\u542f\u76f4\u5f84\u8bb0\u5f55\u3002","title":"ENABLE_FILAMENT_WIDTH_LOG"},{"location":"G-Codes.html#disable_filament_width_log","text":"DISABLE_FILAMENT_WIDTH_LOG \uff1a\u505c\u6b62\u76f4\u5f84\u8bb0\u5f55\u3002","title":"DISABLE_FILAMENT_WIDTH_LOG"},{"location":"G-Codes.html#heaters","text":"The heaters module is automatically loaded if a heater is defined in the config file.","title":"[heaters]"},{"location":"G-Codes.html#turn_off_heaters","text":"TURN_OFF_HEATERS \uff1a\u5173\u95ed\u5168\u90e8\u52a0\u70ed\u5668\u3002","title":"TURN_OFF_HEATERS"},{"location":"G-Codes.html#temperature_wait","text":"TEMPERATURE_WAIT SENSOR=<\u914d\u7f6e\u540d> [MINIMUM=<\u76ee\u6807>] [MAXIMUM=<\u76ee\u6807>] \uff1a\u7b49\u5f85\u6307\u5b9a\u6e29\u5ea6\u4f20\u611f\u5668\u8bfb\u6570\u9ad8\u4e8e MINIMUM \u548c\u6216\u4f4e\u4e8e MAXIMUM\u3002","title":"TEMPERATURE_WAIT"},{"location":"G-Codes.html#set_heater_temperature","text":"SET_HEATER_TEMPERATURE HEATER=<\u52a0\u70ed\u5668\u540d\u79f0> [TARGET=<\u76ee\u6807\u6e29\u5ea6>] \uff1a\u8bbe\u7f6e\u4e00\u4e2a\u52a0\u70ed\u5668\u7684\u76ee\u6807\u6e29\u5ea6\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u76ee\u6807\u6e29\u5ea6\uff0c\u5219\u76ee\u6807\u6e29\u5ea6\u4e3a 0\u3002","title":"SET_HEATER_TEMPERATURE"},{"location":"G-Codes.html#idle_timeout","text":"The idle_timeout module is automatically loaded.","title":"[idle_timeout]"},{"location":"G-Codes.html#set_idle_timeout","text":"SET_IDLE_TIMEOUT [TIMEOUT=<\u8d85\u65f6>] \uff1a\u5141\u8bb8\u7528\u6237\u8bbe\u7f6e\u7a7a\u95f2\u8d85\u65f6\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002","title":"SET_IDLE_TIMEOUT"},{"location":"G-Codes.html#input_shaper","text":"The following command is enabled if an input_shaper config section has been enabled (also see the resonance compensation guide ).","title":"[input_shaper]"},{"location":"G-Codes.html#set_input_shaper","text":"SET_INPUT_SHAPER [SHAPER_FREQ_X=<shaper_freq_x>] [SHAPER_FREQ_Y=<shaper_freq_y>] [DAMPING_RATIO_X=<damping_ratio_x>] [DAMPING_RATIO_Y=<damping_ratio_y>] [SHAPER_TYPE=<shaper>] [SHAPER_TYPE_X=<shaper_type_x>] [SHAPER_TYPE_Y=<shaper_type_y>] \uff1a\u4fee\u6539\u8f93\u5165\u6574\u5f62\u53c2\u6570\u3002\u6ce8\u610f SHAPER_TYPE \u53c2\u6570\u4f1a\u540c\u65f6\u8986\u5199 X \u548c Y \u8f74\u7684\u6574\u5f62\u5668\u7c7b\u578b\uff0c\u5373\u4f7f\u5b83\u4eec\u5728 [input_shaper] \u914d\u7f6e\u5206\u6bb5\u4e2d\u6709\u4e0d\u540c\u7684\u6574\u5f62\u5668\u7c7b\u578b\u3002SHAPER_TYPE \u4e0d\u80fd\u548c SHAPER_TYPE_X \u548c SHAPER_TYPE_Y \u53c2\u6570\u540c\u65f6\u4f7f\u7528\u3002\u8fd9\u4e9b\u53c2\u6570\u7684\u7ec6\u8282\u8bf7\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002","title":"SET_INPUT_SHAPER"},{"location":"G-Codes.html#manual_probe","text":"The manual_probe module is automatically loaded.","title":"[manual_probe]"},{"location":"G-Codes.html#manual_probe_1","text":"MANUAL_PROBE [SPEED=<speed>] \uff1a\u8fd0\u884c\u4e00\u4e2a\u8f85\u52a9\u811a\u672c\uff0c\u5bf9\u6d4b\u91cf\u7ed9\u5b9a\u4f4d\u7f6e\u7684\u55b7\u5634\u9ad8\u5ea6\u6709\u7528\u3002\u5982\u679c\u6307\u5b9a\u4e86\u901f\u5ea6\uff0c\u5b83\u5c06\u8bbe\u7f6eTESTZ\u547d\u4ee4\u7684\u901f\u5ea6\uff08\u9ed8\u8ba4\u4e3a5mm/s\uff09\u3002\u5728\u624b\u52a8\u63a2\u6d4b\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u9644\u52a0\u547d\u4ee4\uff1a ACCEPT \uff1a\u8be5\u547d\u4ee4\u63a5\u53d7\u5f53\u524d\u7684Z\u4f4d\u7f6e\uff0c\u5e76\u7ed3\u675f\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u3002 ABORT \uff1a\u8be5\u547d\u4ee4\u7ec8\u6b62\u624b\u52a8\u63a2\u6d4b\u5de5\u5177\u3002 TESTZ Z=<\u503c> \uff1a\u8fd9\u4e2a\u547d\u4ee4\u53ef\u4ee5\u5c06\u55b7\u5634\u4e0a\u5347\u6216\u4e0b\u964d\u7ed9\u5b9a\u503c\uff0c\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\u3002\u4f8b\u5982\uff0c TESTZ Z=-.1 \u4f1a\u5c06\u55b7\u5634\u4e0b\u964d 0.1 \u6beb\u7c73\uff0c\u800c TESTZ Z=.1 \u4f1a\u5c06\u55b7\u5634\u4e0a\u5347 0.1 \u6beb\u7c73\uff0c\u53c2\u6570\u53ef\u4ee5\u5e26\u6709 + , - , ++ , or -- \u6765\u6839\u636e\u4e0a\u6b21\u5c1d\u8bd5\u76f8\u5bf9\u7684\u79fb\u52a8\u55b7\u5634\u3002","title":"MANUAL_PROBE"},{"location":"G-Codes.html#z_endstop_calibrate","text":"Z_ENDSTOP_CALIBRATE [SPEED=<\u901f\u5ea6>] \uff1a\u8fd0\u884c\u4e00\u4e2a\u6821\u51c6 Z position_endstop \u53c2\u6570\u7684\u8f85\u52a9\u811a\u672c\u3002\u6709\u5173\u66f4\u591a\u53c2\u6570\u548c\u989d\u5916\u547d\u4ee4\u7684\u4fe1\u606f\uff0c\u8bf7\u67e5\u770b MANUAL_PROBE \u547d\u4ee4\u3002","title":"Z_ENDSTOP_CALIBRATE"},{"location":"G-Codes.html#z_offset_apply_endstop","text":"Z_OFFSET_APPLY_ENDSTOP \uff1a\u5c06\u5f53\u524d\u7684Z \u7684 G \u4ee3\u7801\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u4ece stepper_z \u7684 endstop_position \u4e2d\u51cf\u53bb\u3002\u8be5\u547d\u4ee4\u5c06\u6301\u4e45\u5316\u4e00\u4e2a\u5e38\u7528babystepping \u5fae\u8c03\u503c\u3002\u9700\u8981\u6267\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002","title":"Z_OFFSET_APPLY_ENDSTOP"},{"location":"G-Codes.html#manual_stepper","text":"\u5f53 manual_stepper \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[manual_stepper]"},{"location":"G-Codes.html#manual_stepper_1","text":"MANUAL_STEPPER STEPPER=config_name [ENABLE=[0|1]] [SET_POSITION=<pos>] [SPEED=<speed>] [ACCEL=<accel>] [MOVE=<pos> [STOP_ON_ENDSTOP=[1|2|-1|-2]] [SYNC=0]] \uff1a\u8be5\u547d\u4ee4\u5c06\u6539\u53d8\u6b65\u8fdb\u5668\u7684\u72b6\u6001\u3002\u4f7f\u7528ENABLE\u53c2\u6570\u6765\u542f\u7528/\u7981\u7528\u6b65\u8fdb\u3002\u4f7f\u7528SET_POSITION\u53c2\u6570\uff0c\u8feb\u4f7f\u6b65\u8fdb\u8ba4\u4e3a\u5b83\u5904\u4e8e\u7ed9\u5b9a\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528MOVE\u53c2\u6570\uff0c\u8981\u6c42\u79fb\u52a8\u5230\u7ed9\u5b9a\u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86SPEED\u6216\u8005ACCEL\uff0c\u90a3\u4e48\u5c06\u4f7f\u7528\u7ed9\u5b9a\u7684\u503c\u800c\u4e0d\u662f\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u9ed8\u8ba4\u503c\u3002\u5982\u679c\u6307\u5b9aACCEL\u4e3a0\uff0c\u90a3\u4e48\u5c06\u4e0d\u6267\u884c\u52a0\u901f\u3002\u5982\u679cSTOP_ON_ENDSTOP=1\u88ab\u6307\u5b9a\uff0c\u90a3\u4e48\u5982\u679c\u6b62\u52a8\u5668\u62a5\u544a\u88ab\u89e6\u53d1\uff0c\u52a8\u4f5c\u5c06\u63d0\u524d\u7ed3\u675f\uff08\u4f7f\u7528STOP_ON_ENDSTOP=2\u6765\u5b8c\u6210\u52a8\u4f5c\uff0c\u5373\u4f7f\u6b62\u52a8\u5668\u6ca1\u6709\u88ab\u89e6\u53d1\u4e5f\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f7f\u7528-1\u6216-2\u6765\u5728\u6b62\u52a8\u5668\u62a5\u544a\u6ca1\u6709\u88ab\u89e6\u53d1\u65f6\u505c\u6b62\uff09\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u672a\u6765\u7684G-Code\u547d\u4ee4\u5c06\u88ab\u5b89\u6392\u5728\u6b65\u8fdb\u8fd0\u52a8\u5b8c\u6210\u540e\u8fd0\u884c\uff0c\u4f46\u662f\u5982\u679c\u624b\u52a8\u6b65\u8fdb\u8fd0\u52a8\u4f7f\u7528SYNC=0\uff0c\u90a3\u4e48\u672a\u6765\u7684G-Code\u8fd0\u52a8\u547d\u4ee4\u53ef\u80fd\u4e0e\u6b65\u8fdb\u8fd0\u52a8\u5e73\u884c\u8fd0\u884c\u3002","title":"MANUAL_STEPPER"},{"location":"G-Codes.html#led","text":"The following command is available when any of the led config sections are enabled.","title":"[led]"},{"location":"G-Codes.html#set_led","text":"SET_LED LED=<config_name> RED=<value> GREEN=<value> BLUE=<value> WHITE=<value> [INDEX=<index>] [TRANSMIT=0] [SYNC=1] : This sets the LED output. Each color <value> must be between 0.0 and 1.0. The WHITE option is only valid on RGBW LEDs. If the LED supports multiple chips in a daisy-chain then one may specify INDEX to alter the color of just the given chip (1 for the first chip, 2 for the second, etc.). If INDEX is not provided then all LEDs in the daisy-chain will be set to the provided color. If TRANSMIT=0 is specified then the color change will only be made on the next SET_LED command that does not specify TRANSMIT=0; this may be useful in combination with the INDEX parameter to batch multiple updates in a daisy-chain. By default, the SET_LED command will sync it's changes with other ongoing gcode commands. This can lead to undesirable behavior if LEDs are being set while the printer is not printing as it will reset the idle timeout. If careful timing is not needed, the optional SYNC=0 parameter can be specified to apply the changes without resetting the idle timeout.","title":"SET_LED"},{"location":"G-Codes.html#set_led_template","text":"SET_LED_TEMPLATE LED=<led_name> TEMPLATE=<template_name> [<param_x>=<literal>] [INDEX=<index>] : Assign a display_template to a given LED . For example, if one defined a [display_template my_led_template] config section then one could assign TEMPLATE=my_led_template here. The display_template should produce a comma separated string containing four floating point numbers corresponding to red, green, blue, and white color settings. The template will be continuously evaluated and the LED will be automatically set to the resulting colors. One may set display_template parameters to use during template evaluation (parameters will be parsed as Python literals). If INDEX is not specified then all chips in the LED's daisy-chain will be set to the template, otherwise only the chip with the given index will be updated. If TEMPLATE is an empty string then this command will clear any previous template assigned to the LED (one can then use SET_LED commands to manage the LED's color settings).","title":"SET_LED_TEMPLATE"},{"location":"G-Codes.html#output_pin","text":"\u4f7f\u7528 output_pin \u914d\u7f6e\u5206\u6bb5 \u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[output_pin]"},{"location":"G-Codes.html#set_pin","text":"SET_PIN PIN=config_name VALUE=<\u503c> CYCLE_TIME=<\u5468\u671f\u65f6\u95f4> : \u6ce8\u610f - \u786c\u4ef6PWM\u76ee\u524d\u4e0d\u652f\u6301CYCLE_TIME\u53c2\u6570\uff0c\u5c06\u4f7f\u7528\u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684\u5468\u671f\u65f6\u95f4\u3002","title":"SET_PIN"},{"location":"G-Codes.html#palette2","text":"The following commands are available when the palette2 config section is enabled. Palette\u6253\u5370\u901a\u8fc7\u5728GCode\u6587\u4ef6\u4e2d\u5d4c\u5165\u7279\u6b8a\u7684OCodes\uff08Omega Codes\uff09\u6765\u5de5\u4f5c\u3002 O1 ... O32 \uff1a\u8fd9\u4e9b\u4ee3\u7801\u4eceG-Code\u6d41\u4e2d\u8bfb\u51fa\u5e76\u4e14\u4f20\u9012\u7ed9Palette 2\u8bbe\u5907\u8fdb\u884c\u5904\u7406\u3002 \u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u989d\u5916\u547d\u4ee4\uff1a","title":"[palette2]"},{"location":"G-Codes.html#palette_connect","text":"PALETTE_CONNECT \uff1a\u8be5\u547d\u4ee4\u521d\u59cb\u5316\u4e0ePalette 2\u7684\u8fde\u63a5\u3002","title":"PALETTE_CONNECT"},{"location":"G-Codes.html#palette_disconnect","text":"PALETTE_DISCONNECT \uff1a\u8be5\u547d\u4ee4\u65ad\u5f00\u4e0ePalette 2\u7684\u8fde\u63a5\u3002","title":"PALETTE_DISCONNECT"},{"location":"G-Codes.html#palette_clear","text":"PALETTE_CLEAR :\u8be5\u547d\u4ee4\u6307\u793a Palette 2 \u6e05\u9664\u6240\u6709\u8017\u6750\u7684\u8f93\u5165\u6216\u8005\u8f93\u51fa\u3002","title":"PALETTE_CLEAR"},{"location":"G-Codes.html#palette_cut","text":"PALETTE_CUT :\u8be5\u547d\u4ee4\u6307\u5f15Palette 2\u5207\u5272\u8017\u6750\u5e76\u4e14\u88c5\u8f7d\u5206\u6bb5\u7684\u8017\u6750\u3002","title":"PALETTE_CUT"},{"location":"G-Codes.html#palette_smart_load","text":"PALETTE_SMART_LOAD \uff1a\u8be5\u547d\u4ee4\u5728Palette 2\u4e0a\u542f\u52a8\u667a\u80fd\u52a0\u8f7d\u5e8f\u5217\u3002\u901a\u8fc7\u5728\u8bbe\u5907\u4e0a\u4e3a\u6253\u5370\u673a\u6821\u51c6\u7684\u8ddd\u79bb\u6324\u538b\uff0c\u81ea\u52a8\u52a0\u8f7d\u8017\u6750\uff0c\u5e76\u5728\u52a0\u8f7d\u5b8c\u6210\u540e\u6307\u793aPalette 2\u3002\u8be5\u547d\u4ee4\u4e0e\u8017\u6750\u52a0\u8f7d\u5b8c\u6210\u540e\u76f4\u63a5\u5728Palette 2\u5c4f\u5e55\u4e0a\u6309 Smart Load \u76f8\u540c\u3002","title":"PALETTE_SMART_LOAD"},{"location":"G-Codes.html#pid_calibrate","text":"The pid_calibrate module is automatically loaded if a heater is defined in the config file.","title":"[pid_calibrate]"},{"location":"G-Codes.html#pid_calibrate_1","text":"PID_CALIBRATE HEATER=<config_name> TARGET=<temperature> [WRITE_FILE=1] \uff1a\u6267\u884c\u4e00\u4e2aPID\u6821\u51c6\u6d4b\u8bd5\u3002\u6307\u5b9a\u7684\u52a0\u70ed\u5668\u5c06\u88ab\u542f\u7528\uff0c\u76f4\u5230\u8fbe\u5230\u6307\u5b9a\u7684\u76ee\u6807\u6e29\u5ea6\uff0c\u7136\u540e\u52a0\u70ed\u5668\u5c06\u88ab\u5173\u95ed\u548c\u5f00\u542f\u51e0\u4e2a\u5468\u671f\u3002\u5982\u679cWRITE_FILE\u53c2\u6570\u88ab\u542f\u7528\uff0c\u90a3\u4e48\u5c06\u521b\u5efa\u6587\u4ef6/tmp/heattest.txt\uff0c\u5176\u4e2d\u5305\u542b\u6d4b\u8bd5\u671f\u95f4\u6240\u6709\u6e29\u5ea6\u6837\u672c\u7684\u65e5\u5fd7\u3002","title":"PID_CALIBRATE"},{"location":"G-Codes.html#pause_resume","text":"\u5f53 pause_resume \u914d\u7f6e\u5206\u6bb5 \u88ab\u542f\u7528\u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[pause_resume]"},{"location":"G-Codes.html#pause","text":"PAUSE \uff1a\u6682\u505c\u5f53\u524d\u7684\u6253\u5370\u3002\u5f53\u524d\u7684\u4f4d\u7f6e\u88ab\u62a5\u9519\u4ee5\u4fbf\u5728\u6062\u590d\u65f6\u6062\u590d\u3002","title":"PAUSE"},{"location":"G-Codes.html#resume","text":"RESUME [VELOCITY=<value>] \uff1a\u4ece\u6682\u505c\u4e2d\u6062\u590d\u6253\u5370\uff0c\u9996\u5148\u6062\u590d\u4ee5\u524d\u4fdd\u6301\u7684\u4f4d\u7f6e\u3002VELOCITY\u53c2\u6570\u51b3\u5b9a\u4e86\u5de5\u5177\u8fd4\u56de\u5230\u539f\u59cb\u6355\u6349\u4f4d\u7f6e\u7684\u901f\u5ea6\u3002","title":"RESUME"},{"location":"G-Codes.html#clear_pause","text":"CLEAR_PAUSE :\u6e05\u9664\u5f53\u524d\u7684\u6682\u505c\u72b6\u6001\u800c\u4e0d\u6062\u590d\u6253\u5370\u3002\u5982\u679c\u4e00\u4e2a\u4eba\u51b3\u5b9a\u5728\u6682\u505c\u540e\u53d6\u6d88\u6253\u5370\uff0c\u8fd9\u5f88\u6709\u7528\u3002\u5efa\u8bae\u5c06\u5176\u6dfb\u52a0\u5230\u4f60\u7684\u542f\u52a8\u4ee3\u7801\u4e2d\uff0c\u4ee5\u786e\u4fdd\u6bcf\u6b21\u6253\u5370\u65f6\u7684\u6682\u505c\u72b6\u6001\u662f\u65b0\u7684\u3002","title":"CLEAR_PAUSE"},{"location":"G-Codes.html#cancel_print","text":"CANCEL_PRINT \uff1a\u53d6\u6d88\u5f53\u524d\u7684\u6253\u5370\u3002","title":"CANCEL_PRINT"},{"location":"G-Codes.html#probe","text":"The following commands are available when a probe config section or bltouch config section is enabled (also see the probe calibrate guide ).","title":"[probe]"},{"location":"G-Codes.html#probe_1","text":"PROBE [PROBE_SPEED=<mm/s>] [LIFT_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] [SAMPLES_TOLERANCE=<mm>] [SAMPLES_TOLERANCE_RETRIES=<count>] [SAMPLES_RESULT=median|average] \uff1a\u5411\u4e0b\u79fb\u52a8\u55b7\u5634\u76f4\u5230\u63a2\u9488\u89e6\u53d1\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4efb\u4f55\u53ef\u9009\u53c2\u6570\uff0c\u5b83\u4eec\u5c06\u8986\u76d6 probe config section \u4e2d\u7684\u7b49\u6548\u8bbe\u7f6e\u3002","title":"PROBE"},{"location":"G-Codes.html#query_probe","text":"QUERY_PROBE :\u62a5\u544a\u63a2\u9488\u7684\u5f53\u524d\u72b6\u6001\uff08\"triggered\"\u6216 \"open\"\uff09\u3002","title":"QUERY_PROBE"},{"location":"G-Codes.html#probe_accuracy","text":"PROBE_ACCURACY [PROBE_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] \uff1a\u8ba1\u7b97\u591a\u4e2a\u63a2\u9488\u6837\u672c\u7684\u6700\u5927\u3001\u6700\u5c0f\u3001\u5e73\u5747\u3001\u4e2d\u4f4d\u6570\u548c\u6807\u51c6\u504f\u5dee\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u91c7\u683710\u6b21\u3002\u5426\u5219\u53ef\u9009\u53c2\u6570\u9ed8\u8ba4\u4e3a\u63a2\u9488\u914d\u7f6e\u90e8\u5206\u7684\u540c\u7b49\u8bbe\u7f6e\u3002","title":"PROBE_ACCURACY"},{"location":"G-Codes.html#probe_calibrate","text":"PROBE_CALIBRATE [SPEED=<speed>] [<probe_parameter>=<value>] :\u8fd0\u884c\u4e00\u4e2a\u5bf9\u6821\u51c6\u6d4b\u5934\u7684z_offset\u6709\u7528\u7684\u8f85\u52a9\u811a\u672c\u3002\u6709\u5173\u53ef\u9009\u6d4b\u5934\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u53c2\u89c1MANUAL_PROBE\u547d\u4ee4\uff0c\u4e86\u89e3SPEED\u53c2\u6570\u548c\u5de5\u5177\u6fc0\u6d3b\u65f6\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u8bf7\u6ce8\u610f\uff0cPROBE_CALIBRATE\u547d\u4ee4\u4f7f\u7528\u901f\u5ea6\u53d8\u91cf\u5728XY\u65b9\u5411\u4ee5\u53caZ\u65b9\u5411\u4e0a\u79fb\u52a8\u3002","title":"PROBE_CALIBRATE"},{"location":"G-Codes.html#z_offset_apply_probe","text":"Z_OFFSET_APPLY_PROBE \uff1a\u5c06\u5f53\u524d\u7684Z \u7684 G \u4ee3\u7801\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u4ece probe \u7684 z_offset \u4e2d\u51cf\u53bb\u3002\u8be5\u547d\u4ee4\u5c06\u6301\u4e45\u5316\u4e00\u4e2a\u5e38\u7528babystepping \u5fae\u8c03\u503c\u3002\u9700\u8981\u6267\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002","title":"Z_OFFSET_APPLY_PROBE"},{"location":"G-Codes.html#query_adc","text":"The query_adc module is automatically loaded.","title":"[query_adc]"},{"location":"G-Codes.html#query_adc_1","text":"QUERY_ADC [NAME=<config_name>] [PULLUP=<value>] \uff1a\u8fd4\u56de\u4e3a\u914d\u7f6e\u7684\u6a21\u62df\u5f15\u811a\u6536\u5230\u7684\u6700\u540e\u4e00\u4e2a\u6a21\u62df\u503c\u3002\u5982\u679cNAME\u6ca1\u6709\u88ab\u63d0\u4f9b\uff0c\u5c06\u62a5\u544a\u53ef\u7528\u7684adc\u540d\u79f0\u5217\u8868\u3002\u5982\u679c\u63d0\u4f9b\u4e86PULLUP\uff08\u4ee5\u6b27\u59c6\u4e3a\u5355\u4f4d\u7684\u6570\u503c\uff09\uff0c\u5c06\u4f1a\u8fd4\u56de\u539f\u59cb\u6a21\u62df\u503c\u548c\u7ed9\u5b9a\u7684\u7b49\u6548\u7535\u963b\u3002","title":"QUERY_ADC"},{"location":"G-Codes.html#query_endstops","text":"The query_endstops module is automatically loaded. The following standard G-Code commands are currently available, but using them is not recommended: \u83b7\u53d6\u9650\u4f4d\u72b6\u6001\uff1a M119 (\u4f7f\u7528QUERY_ENDSTOPS\u4ee3\u66ff)","title":"[query_endstops]"},{"location":"G-Codes.html#query_endstops_1","text":"QUERY_ENDSTOPS \uff1a\u68c0\u6d4b\u9650\u4f4d\u5e76\u8fd4\u56de\u9650\u4f4d\u662f\u5426\u88ab \"triggered\"\u6216\u5904\u4e8e\"open\"\u3002\u8be5\u547d\u4ee4\u901a\u5e38\u7528\u4e8e\u9a8c\u8bc1\u4e00\u4e2a\u9650\u4f4d\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002","title":"QUERY_ENDSTOPS"},{"location":"G-Codes.html#resonance_tester","text":"The following commands are available when a resonance_tester config section is enabled (also see the measuring resonances guide ).","title":"[resonance_tester]"},{"location":"G-Codes.html#measure_axes_noise","text":"MEASURE_AXES_NOISE \uff1a\u6d4b\u91cf\u5e76\u8f93\u51fa\u6240\u6709\u542f\u7528\u7684\u52a0\u901f\u5ea6\u8ba1\u82af\u7247\u7684\u6240\u6709\u8f74\u7684\u566a\u58f0\u3002","title":"MEASURE_AXES_NOISE"},{"location":"G-Codes.html#test_resonances","text":"TEST_RESONANCES AXIS=<axis> OUTPUT=<resonances,raw_data> [NAME=<name>] [FREQ_START=<min_freq>] [FREQ_END=<max_freq>] [HZ_PER_SEC=<hz_per_sec>] [CHIPS=<adxl345_chip_name>] [POINT=x,y,z] [INPUT_SHAPING=[<0:1>]] : Runs the resonance test in all configured probe points for the requested \"axis\" and measures the acceleration using the accelerometer chips configured for the respective axis. \"axis\" can either be X or Y, or specify an arbitrary direction as AXIS=dx,dy , where dx and dy are floating point numbers defining a direction vector (e.g. AXIS=X , AXIS=Y , or AXIS=1,-1 to define a diagonal direction). Note that AXIS=dx,dy and AXIS=-dx,-dy is equivalent. adxl345_chip_name can be one or more configured adxl345 chip,delimited with comma, for example CHIPS=\"adxl345, adxl345 rpi\" . Note that adxl345 can be omitted from named adxl345 chips. If POINT is specified it will override the point(s) configured in [resonance_tester] . If INPUT_SHAPING=0 or not set(default), disables input shaping for the resonance testing, because it is not valid to run the resonance testing with the input shaper enabled. OUTPUT parameter is a comma-separated list of which outputs will be written. If raw_data is requested, then the raw accelerometer data is written into a file or a series of files /tmp/raw_data_<axis>_[<chip_name>_][<point>_]<name>.csv with ( <point>_ part of the name generated only if more than 1 probe point is configured or POINT is specified). If resonances is specified, the frequency response is calculated (across all probe points) and written into /tmp/resonances_<axis>_<name>.csv file. If unset, OUTPUT defaults to resonances , and NAME defaults to the current time in \"YYYYMMDD_HHMMSS\" format.","title":"TEST_RESONANCES"},{"location":"G-Codes.html#shaper_calibrate","text":"SHAPER_CALIBRATE [AXIS=<\u8f74>] [NAME=<\u540d\u79f0>] [FREQ_START=<\u6700\u5c0f\u9891\u7387>] [FREQ_END=<\u6700\u5927\u9891\u7387>] [HZ_PER_SEC=<hz_per_sec>] [MAX_SMOOTHING=<max_smoothing>] \uff1a\u7c7b\u4f3c TEST_RESONANCES \uff0c\u8be5\u547d\u4ee4\u6309\u914d\u7f6e\u8fd0\u884c\u5171\u632f\u6d4b\u8bd5\u5e76\u5c1d\u8bd5\u5bfb\u627e\u7ed9\u5b9a\u8f74\u6700\u4f73\u7684\u8f93\u5165\u6574\u5f62\u53c2\u6570\u3002\u5982\u679c\u6ca1\u6709\u9009\u62e9 AXIS \uff0c\u5219\u6d4b\u91cfX\u548cY\u8f74\u3002\u5982\u679c\u6ca1\u6709\u9009\u62e9 MAX_SMOOTHING \uff0c\u4f1a\u4f7f\u7528 [resonance_tester] \u7684\u9ed8\u8ba4\u53c2\u6570\u3002\u6709\u5173\u8be5\u7279\u6027\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8be6\u89c1\u5171\u632f\u91cf\u6d4b\u91cf\u6307\u5357\u4e2d\u7684 \u6700\u5927\u5e73\u6ed1 \u7ae0\u8282\u3002\u6d4b\u8bd5\u7ed3\u679c\u4f1a\u88ab\u8f93\u51fa\u5230\u7ec8\u7aef\uff0c\u800c\u9891\u54cd\u548c\u4e0d\u540c\u8f93\u5165\u6574\u5f62\u5668\u7684\u53c2\u6570\u5c06\u88ab\u5199\u5165\u5230\u4e00\u4e2a\u6216\u591a\u4e2a CSV \u6587\u4ef6\u4e2d\u3002\u5b83\u4eec\u7684\u540d\u79f0\u662f /tmp/calibration_data_<\u8f74>_<\u540d\u79f0>.csv \u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u540d\u79f0\u9ed8\u8ba4\u4e3a\u201cYYYYMMDD_HHMMSS\u201d\u683c\u5f0f\u7684\u5f53\u524d\u65f6\u95f4\u3002\u6ce8\u610f\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bf7\u6c42 SAVE_CONFIG \u547d\u4ee4\u5c06\u63a8\u8350\u7684\u8f93\u5165\u6574\u5f62\u5668\u53c2\u6570\u76f4\u63a5\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002","title":"SHAPER_CALIBRATE"},{"location":"G-Codes.html#respond","text":"The following standard G-Code commands are available when the respond config section is enabled: M118 <message> \uff1a\u56de\u663e\u914d\u7f6e\u4e86\u9ed8\u8ba4\u524d\u7f00\u7684\u4fe1\u606f\uff08\u5982\u679c\u6ca1\u6709\u914d\u7f6e\u524d\u7f00\uff0c\u5219\u8fd4\u56de echo: \uff09\u3002 \u8fd8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u989d\u5916\u547d\u4ee4\uff1a","title":"[respond]"},{"location":"G-Codes.html#respond_1","text":"RESPOND MSG=\"<message>\" \uff1a\u56de\u663e\u5e26\u6709\u914d\u7f6e\u7684\u9ed8\u8ba4\u524d\u7f00\u7684\u6d88\u606f\uff08\u6ca1\u6709\u914d\u7f6e\u524d\u7f00\u5219\u9ed8\u8ba4 echo: \u4e3a\u524d\u7f00 \uff09\u3002 RESPOND TYPE=echo MSG=\"<\u6d88\u606f>\" \uff1a\u56de\u663e echo: \u5f00\u5934\u6d88\u606f\u3002 RESPOND TYPE=command MSG=\"<\u6d88\u606f>\" \uff1a\u56de\u663e\u4ee5 / \u4e3a\u524d\u7f00\u7684\u6d88\u606f\u3002\u53ef\u4ee5\u914d\u7f6e OctoPrint \u5bf9\u8fd9\u4e9b\u6d88\u606f\u8fdb\u884c\u54cd\u5e94\uff08\u4f8b\u5982\uff0c RESPOND TYPE=command MSG=action:pause \uff09\u3002 RESPOND TYPE=error MSG=\"<\u6d88\u606f>\" \uff1a\u56de\u663e\u4ee5 !! \u5f00\u5934\u7684\u6d88\u606f\u3002 RESPOND PREFIX=<prefix> MSG=\"<message>\" : \u56de\u5e94\u4ee5 <prefix> \u4e3a\u524d\u7f00\u7684\u4fe1\u606f\u3002( PREFIX \u53c2\u6570\u5c06\u4f18\u5148\u4e8e TYPE \u53c2\u6570)","title":"RESPOND"},{"location":"G-Codes.html#save_variables","text":"The following command is enabled if a save_variables config section has been enabled.","title":"[save_variables]"},{"location":"G-Codes.html#save_variable","text":"SAVE_VARIABLE VARIABLE=<name> VALUE=<value> \uff1a\u5c06\u53d8\u91cf\u4fdd\u5b58\u5230\u78c1\u76d8\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u542f\u52a8\u65f6\u4f7f\u7528\u3002\u6240\u6709\u5b58\u50a8\u7684\u53d8\u91cf\u90fd\u4f1a\u5728\u542f\u52a8\u65f6\u52a0\u8f7d\u5230 printer.save_variables.variables \u76ee\u5f55\u4e2d\uff0c\u5e76\u53ef\u4ee5\u5728 gcode \u5b8f\u4e2d\u4f7f\u7528\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u4f1a\u88ab\u89e3\u6790\u4e3a\u4e00\u4e2a Python \u5b57\u9762\u3002","title":"SAVE_VARIABLE"},{"location":"G-Codes.html#screws_tilt_adjust","text":"The following commands are available when the screws_tilt_adjust config section is enabled (also see the manual level guide ).","title":"[screws_tilt_adjust]"},{"location":"G-Codes.html#screws_tilt_calculate","text":"SCREWS_TILT_CALCULATE [DIRECTION=CW|CCW] [MAX_DEVIATION=<\u503c>] [<\u63a2\u9488\u53c2\u6570\u540d>=<\u503c>] \uff1a\u8fd9\u4e2a\u547d\u4ee4\u5c06\u8c03\u7528\u5e8a\u8eab\u87ba\u4e1d\u8c03\u6574\u5de5\u5177\u3002\u5b83\u5c06\u547d\u4ee4\u55b7\u5634\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\uff08\u5982\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\uff09\u63a2\u6d4bz\u9ad8\u5ea6\uff0c\u5e76\u8ba1\u7b97\u51fa\u8c03\u6574\u5e8a\u9762\u6c34\u5e73\u7684\u65cb\u94ae\u65cb\u8f6c\u6b21\u6570\u3002\u5982\u679c\u6307\u5b9a\u4e86DIRECTION\uff08\u65b9\u5411\uff09\uff0c\u65cb\u94ae\u7684\u8f6c\u52a8\u65b9\u5411\u4f1a\u662f\u56fa\u5b9a\u7684\uff0c\u987a\u65f6\u9488\uff08CW\uff09\u6216\u9006\u65f6\u9488\uff08CCW\uff09\u3002\u6709\u5173\u53ef\u9009\u63a2\u9488\u53c2\u6570\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1PROBE\u547d\u4ee4\u3002\u91cd\u8981\u7684\u662f\uff1a\u5728\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u505a\u4e00\u4e2aG28\u3002\u5982\u679c\u6307\u5b9a\u4e86MAX_DEVIATION\uff0c\u5982\u679c\u87ba\u6746\u9ad8\u5ea6\u76f8\u5bf9\u4e8e\u57fa\u7840\u87ba\u6746\u9ad8\u5ea6\u7684\u4efb\u4f55\u5dee\u5f02\u5927\u4e8e\u6240\u63d0\u4f9b\u7684\u503c\uff0c\u8be5\u547d\u4ee4\u5c06\u5f15\u53d1\u4e00\u4e2aG\u4ee3\u7801\u9519\u8bef\u3002","title":"SCREWS_TILT_CALCULATE"},{"location":"G-Codes.html#sdcard_loop","text":"When the sdcard_loop config section is enabled, the following extended commands are available.","title":"[sdcard_loop]"},{"location":"G-Codes.html#sdcard_loop_begin","text":"SDCARD_LOOP_BEGIN COUNT=<count> \uff1aSD \u6253\u5370\u4e2d\u5f00\u59cb\u5faa\u73af\u7684\u90e8\u5206\u3002\u8ba1\u6570\u4e3a0\u8868\u793a\u8be5\u90e8\u5206\u5e94\u65e0\u9650\u671f\u5730\u5faa\u73af\u3002","title":"SDCARD_LOOP_BEGIN"},{"location":"G-Codes.html#sdcard_loop_end","text":"SDCARD_LOOP_END \uff1a\u7ed3\u675fSD\u6253\u5370\u4e2d\u7684\u4e00\u4e2a\u5faa\u73af\u90e8\u5206\u3002","title":"SDCARD_LOOP_END"},{"location":"G-Codes.html#sdcard_loop_desist","text":"SDCARD_LOOP_DESIST \uff1a\u5b8c\u6210\u73b0\u6709\u7684\u5faa\u73af\uff0c\u4e0d\u518d\u7ee7\u7eed\u8fed\u4ee3\u3002","title":"SDCARD_LOOP_DESIST"},{"location":"G-Codes.html#servo","text":"The following commands are available when a servo config section is enabled.","title":"[servo]"},{"location":"G-Codes.html#set_servo","text":"SET_SERVO SERVO=\u914d\u7f6e\u540d [ANGLE=<\u89d2\u5ea6> | WIDTH=<\u79d2>] \uff1a\u5c06\u8235\u673a\u4f4d\u7f6e\u8bbe\u7f6e\u4e3a\u7ed9\u5b9a\u7684\u89d2\u5ea6\uff08\u5ea6\uff09\u6216\u8109\u51b2\u5bbd\u5ea6\uff08\u79d2\uff09\u3002\u4f7f\u7528 WIDTH=0 \u6765\u7981\u7528\u8235\u673a\u8f93\u51fa\u3002","title":"SET_SERVO"},{"location":"G-Codes.html#skew_correction","text":"The following commands are available when the skew_correction config section is enabled (also see the Skew Correction guide).","title":"[skew_correction]"},{"location":"G-Codes.html#set_skew","text":"SET_SKEW [XY=<ac_length,bd_length,ad_length>] [XZ=<ac,bd,ad>] [YZ=<ac,bd,ad>] [CLEAR=<0|1>] \uff1a\u7528\u4ece\u6821\u51c6\u6253\u5370\u4e2d\u6d4b\u91cf\u7684\u6570\u636e\uff08\u4ee5\u6beb\u7c73\u4e3a\u5355\u4f4d\uff09\u914d\u7f6e [skew_correction] \u6a21\u5757\u3002\u53ef\u4ee5\u8f93\u5165\u4efb\u4f55\u7ec4\u5408\u7684\u5e73\u9762\uff0c\u6ca1\u6709\u65b0\u8f93\u5165\u7684\u5e73\u9762\u5c06\u4fdd\u6301\u5b83\u4eec\u539f\u6709\u7684\u6570\u503c\u3002\u5982\u679c\u4f20\u5165 CLEAR=1 \uff0c\u5219\u5168\u90e8\u504f\u659c\u6821\u6b63\u5c06\u88ab\u7981\u7528\u3002","title":"SET_SKEW"},{"location":"G-Codes.html#get_current_skew","text":"GET_CURRENT_SKEW :\u4ee5\u5f27\u5ea6\u548c\u5ea6\u6570\u62a5\u544a\u6bcf\u4e2a\u5e73\u9762\u7684\u5f53\u524d\u6253\u5370\u673a\u504f\u79fb\u3002\u659c\u5ea6\u662f\u6839\u636e\u901a\u8fc7 SET_SKEW \u4ee3\u7801\u63d0\u4f9b\u7684\u53c2\u6570\u8ba1\u7b97\u7684\u3002","title":"GET_CURRENT_SKEW"},{"location":"G-Codes.html#calc_measured_skew","text":"CALC_MEASURED_SKEW [AC=<ac \u957f\u5ea6>] [BD=<bd \u957f\u5ea6>] [AD=<ad \u957f\u5ea6>] \uff1a\u8ba1\u7b97\u5e76\u62a5\u544a\u57fa\u4e8e\u4e00\u4e2a\u6253\u5370\u4ef6\u6d4b\u91cf\u7684\u504f\u659c\u5ea6\uff08\u4ee5\u5f27\u5ea6\u548c\u89d2\u5ea6\u4e3a\u5355\u4f4d\uff09\u3002\u5b83\u53ef\u4ee5\u7528\u6765\u9a8c\u8bc1\u5e94\u7528\u6821\u6b63\u540e\u6253\u5370\u673a\u7684\u5f53\u524d\u504f\u659c\u5ea6\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u6765\u786e\u5b9a\u662f\u5426\u6709\u5fc5\u8981\u8fdb\u884c\u504f\u659c\u77eb\u6b63\u3002\u6709\u5173\u504f\u659c\u77eb\u6b63\u6253\u5370\u6a21\u578b\u548c\u6d4b\u91cf\u65b9\u6cd5\u8be6\u89c1 \u504f\u659c\u6821\u6b63\u6587\u6863 \u3002","title":"CALC_MEASURED_SKEW"},{"location":"G-Codes.html#skew_profile","text":"SKEW_PROFILE [LOAD=<\u540d\u79f0>] [SAVE=<\u540d\u79f0>] [REMOVE=<\u540d\u79f0>] \uff1askew_correction \u914d\u7f6e\u7ba1\u7406\u547d\u4ee4\u3002 LOAD \u5c06\u4ece\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u8f7d\u5165\u504f\u659c\u72b6\u6001\u3002 SAVE \u4f1a\u5c06\u5f53\u524d\u504f\u659c\u72b6\u6001\u4fdd\u5b58\u5230\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u3002 REMOVE \u5c06\u4ece\u6301\u4e45\u5185\u5b58\u4e2d\u5220\u9664\u4e0e\u63d0\u4f9b\u7684\u540d\u79f0\u5339\u914d\u7684\u914d\u7f6e\u3002\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd0\u884c SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u987b\u8fd0\u884c SAVE_CONFIG G\u4ee3\u7801\u624d\u80fd\u4fdd\u5b58\u66f4\u6539\u3002","title":"SKEW_PROFILE"},{"location":"G-Codes.html#smart_effector","text":"Several commands are available when a smart_effector config section is enabled. Be sure to check the official documentation for the Smart Effector on the Duet3D Wiki before changing the Smart Effector parameters. Also check the probe calibration guide .","title":"[smart_effector]"},{"location":"G-Codes.html#set_smart_effector","text":"SET_SMART_EFFECTOR [SENSITIVITY=<sensitivity>] [ACCEL=<accel>] [RECOVERY_TIME=<time>] : Set the Smart Effector parameters. When SENSITIVITY is specified, the respective value is written to the SmartEffector EEPROM (requires control_pin to be provided). Acceptable <sensitivity> values are 0..255, the default is 50. Lower values require less nozzle contact force to trigger (but there is a higher risk of false triggering due to vibrations during probing), and higher values reduce false triggering (but require larger contact force to trigger). Since the sensitivity is written to EEPROM, it is preserved after the shutdown, and so it does not need to be configured on every printer startup. ACCEL and RECOVERY_TIME allow to override the corresponding parameters at run-time, see the config section of Smart Effector for more info on those parameters.","title":"SET_SMART_EFFECTOR"},{"location":"G-Codes.html#reset_smart_effector","text":"RESET_SMART_EFFECTOR \uff1a\u5c06Smart Effector\u7075\u654f\u5ea6\u91cd\u7f6e\u4e3a\u51fa\u5382\u8bbe\u7f6e\u3002\u9700\u8981\u5728\u914d\u7f6e\u90e8\u5206\u63d0\u4f9b control_pin \u3002","title":"RESET_SMART_EFFECTOR"},{"location":"G-Codes.html#stepper_enable","text":"The stepper_enable module is automatically loaded.","title":"[stepper_enable]"},{"location":"G-Codes.html#set_stepper_enable","text":"SET_STEPPER_ENABLE STEPPER=<\u914d\u7f6e\u540d> ENABLE=[0|1] \u3002\u542f\u7528\u6216\u7981\u7528\u6307\u5b9a\u7684\u6b65\u8fdb\u7535\u673a\u3002\u8fd9\u662f\u4e00\u4e2a\u8bca\u65ad\u548c\u8c03\u8bd5\u5de5\u5177\uff0c\u5fc5\u987b\u8c28\u614e\u4f7f\u7528\u3002\u56e0\u4e3a\u7981\u7528\u4e00\u4e2a\u8f74\u7535\u673a\u4e0d\u4f1a\u91cd\u7f6e\u5f52\u4f4d\u4fe1\u606f\uff0c\u624b\u52a8\u79fb\u52a8\u4e00\u4e2a\u88ab\u7981\u7528\u7684\u6b65\u8fdb\u53ef\u80fd\u4f1a\u5bfc\u81f4\u673a\u5668\u5728\u5b89\u5168\u9650\u503c\u5916\u64cd\u4f5c\u7535\u673a\u3002\u8fd9\u53ef\u80fd\u5bfc\u81f4\u8f74\u7ed3\u6784\u3001\u70ed\u7aef\u548c\u6253\u5370\u4ef6\u7684\u635f\u574f\u3002","title":"SET_STEPPER_ENABLE"},{"location":"G-Codes.html#temperature_fan","text":"\u4f7f\u7528 temperature_fan\u914d\u7f6e\u5206\u6bb5 \u65f6\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[temperature_fan]"},{"location":"G-Codes.html#set_temperature_fan_target","text":"SET_TEMPERATURE_FAN_TARGET temperature_fan=<temperature_fan_\u540d\u79f0> [target=<\u76ee\u6807\u6e29\u5ea6>] [min_speed=<\u6700\u5c0f\u901f\u5ea6>] [max_speed=<\u6700\u5927\u901f\u5ea6>] \uff1a\u8bbe\u7f6e\u4e00\u4e2a\u6e29\u5ea6\u63a7\u5236\u98ce\u6247\u7684\u76ee\u6807\u6e29\u5ea6\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u76ee\u6807\u6e29\u5ea6\uff0c\u5b83\u5c06\u88ab\u8bbe\u4e3a\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u6e29\u5ea6\u3002\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u901f\u5ea6\uff0c\u5219\u4e0d\u4f1a\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002","title":"SET_TEMPERATURE_FAN_TARGET"},{"location":"G-Codes.html#tmcxxxx","text":"The following commands are available when any of the tmcXXXX config sections are enabled.","title":"[tmcXXXX]"},{"location":"G-Codes.html#dump_tmc","text":"DUMP_TMC STEPPER=<name> \u3002\u8be5\u547d\u4ee4\u5c06\u8bfb\u53d6TMC\u9a71\u52a8\u5bc4\u5b58\u5668\u5e76\u62a5\u544a\u5176\u503c\u3002","title":"DUMP_TMC"},{"location":"G-Codes.html#init_tmc","text":"INIT_TMC STEPPER=<\u540d\u79f0> \uff1a\u6b64\u547d\u4ee4\u5c06\u521d\u59cb\u5316 TMC \u5bc4\u5b58\u5668\u3002\u5982\u679c\u82af\u7247\u7684\u7535\u6e90\u5173\u95ed\u7136\u540e\u91cd\u65b0\u6253\u5f00\uff0c\u5219\u9700\u8981\u91cd\u65b0\u542f\u7528\u8be5\u9a71\u52a8\u3002","title":"INIT_TMC"},{"location":"G-Codes.html#set_tmc_current","text":"SET_TMC_CURRENT STEPPER=<\u540d\u79f0> CURRENT=<\u5b89\u57f9> HOLDCURRENT=<\u5b89\u57f9> \uff1a\u8be5\u547d\u4ee4\u4fee\u6539TMC\u9a71\u52a8\u7684\u8fd0\u884c\u548c\u4fdd\u6301\u7535\u6d41\uff08HOLDCURRENT \u5728 tmc2660 \u9a71\u52a8\u4e0a\u4e0d\u8d77\u6548\uff09\u3002","title":"SET_TMC_CURRENT"},{"location":"G-Codes.html#set_tmc_field","text":"SET_TMC_FIELD STEPPER=<\u540d\u79f0> FIELD=<\u5b57\u6bb5> VALUE=<\u503c> \uff1a\u8fd9\u5c06\u4fee\u6539\u6307\u5b9a TMC \u6b65\u8fdb\u9a71\u52a8\u5bc4\u5b58\u5668\u5b57\u6bb5\u7684\u503c\u3002\u8be5\u547d\u4ee4\u4ec5\u9002\u7528\u4e8e\u4f4e\u7ea7\u522b\u7684\u8bca\u65ad\u548c\u8c03\u8bd5\uff0c\u56e0\u4e3a\u5728\u8fd0\u884c\u671f\u95f4\u6539\u53d8\u5b57\u6bb5\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6253\u5370\u673a\u51fa\u73b0\u4e0d\u7b26\u5408\u9884\u671f\u7684\u3001\u6709\u6f5c\u5728\u5371\u9669\u7684\u884c\u4e3a\u3002\u5e38\u89c4\u4fee\u6539\u5e94\u5f53\u901a\u8fc7\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u3002\u8be5\u547d\u4ee4\u4e0d\u4f1a\u5bf9\u7ed9\u5b9a\u7684\u503c\u8fdb\u884c\u8d8a\u754c\u68c0\u67e5\u3002","title":"SET_TMC_FIELD"},{"location":"G-Codes.html#toolhead","text":"The toolhead module is automatically loaded.","title":"[toolhead]"},{"location":"G-Codes.html#set_velocity_limit","text":"SET_VELOCITY_LIMIT [VELOCITY=<\u503c>] [ACCEL=<\u503c>] [ACCEL_TO_DECEL=<\u503c>] [SQUARE_CORNER_VELOCITY=<\u503c>] \uff1a\u4fee\u6539\u6253\u5370\u673a\u901f\u5ea6\u9650\u5236\u3002","title":"SET_VELOCITY_LIMIT"},{"location":"G-Codes.html#tuning_tower","text":"The tuning_tower module is automatically loaded.","title":"[tuning_tower]"},{"location":"G-Codes.html#tuning_tower_1","text":"TUNING_TOWER COMMAND=<\u547d\u4ee4> PARAMETER=<\u540d\u79f0> START=<\u503c> [SKIP=<\u503c>] [FACTOR=<\u503c> [BAND=<\u503c>]] | [STEP_DELTA=<\u503c> STEP_HEIGHT=<\u503c>] \uff1a\u6839\u636eZ\u9ad8\u5ea6\u8c03\u6574\u53c2\u6570\u7684\u5de5\u5177\u3002\u8be5\u5de5\u5177\u5c06\u5b9a\u671f\u8fd0\u884c\u4e00\u4e2a PARAMETER \u4e0d\u65ad\u6839\u636e Z \u7684\u516c\u5f0f\u53d8\u5316\u7684 COMMAND \uff08\u547d\u4ee4\uff09\u3002\u5982\u679c\u4f7f\u7528\u4e00\u628a\u5c3a\u5b50\u6216\u8005\u6e38\u6807\u5361\u5c3a\u6d4b\u91cf Z\u6765\u83b7\u5f97\u6700\u4f73\u503c\uff0c\u4f60\u53ef\u4ee5\u7528 FACTOR \u3002\u5982\u679c\u6253\u5370\u4ef6\u5e26\u6709\u5e26\u72b6\u6807\u8bc6\u6216\u8005\u4f7f\u7528\u79bb\u6563\u6570\u503c\uff08\u4f8b\u5982\u6e29\u5ea6\u5854\uff09\uff0c\u53ef\u4ee5\u7528 STEP_DELTA \u548c STEP_HEIGHT \u3002\u5982\u679c SKIP=<\u503c> \u88ab\u5b9a\u4e49\uff0c\u5219\u8c03\u6574\u53ea\u4f1a\u5728\u5230\u8fbe Z \u9ad8\u5ea6 <\u503c> \u540e\u624d\u5f00\u59cb\u3002\u5728\u6b64\u4e4b\u524d\uff0c\u53c2\u6570\u4f1a\u88ab\u8bbe\u5b9a\u4e3a START \uff1b\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0b\u9762\u516c\u5f0f\u4e2d z_height \u7528 max(z - skip, 0) \u66ff\u4ee3\u3002\u8fd9\u4e9b\u9009\u9879\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u7ec4\u5408\uff1a FACTOR \uff1a\u6570\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u901f\u5ea6\u53d8\u5316\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * z_height \u3002\u4f60\u53ef\u4ee5\u5c06\u6700\u4f73\u7684 Z \u9ad8\u5ea6\u76f4\u63a5\u63d2\u5165\u8be5\u516c\u5f0f\uff0c\u4ee5\u786e\u5b9a\u6700\u4f73\u7684\u53c2\u6570\u503c\u3002 FACTOR \u548c BAND \uff1a\u8be5\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u5e73\u5747\u901f\u5ea6\u53d8\u5316\uff0c\u4f46\u5728\u79bb\u6563\u7684\u73af\u4e0a\uff0c\u6bcf BAND \u6beb\u7c73\u7684Z\u9ad8\u5ea6\u624d\u4f1a\u8fdb\u884c\u8c03\u6574\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * ((floor(z_height / band) + .5) * band) \u3002 STEP_DELTA and STEP_HEIGHT : The value changes by STEP_DELTA every STEP_HEIGHT millimeters. The formula used is: value = start + step_delta * floor(z_height / step_height) . You can simply count bands or read tuning tower labels to determine the optimum value.","title":"TUNING_TOWER"},{"location":"G-Codes.html#virtual_sdcard","text":"\u5982\u679c\u542f\u7528\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5 \uff0cKlipper \u652f\u6301\u4ee5\u4e0b\u6807\u51c6 G-Code \u547d\u4ee4\uff1a \u5217\u51faSD\u5361\uff1a M20 \u3002 \u521d\u59cb\u5316SD\u5361\uff1a M21 \u9009\u62e9SD\u5361\u6587\u4ef6\uff1a M23 <filename> \u5f00\u59cb/\u6682\u505c SD \u5361\u6253\u5370\uff1a M24 \u6682\u505c SD \u5361\u6253\u5370\uff1a M25 \u8bbe\u7f6e SD \u5757\u4f4d\u7f6e\uff1a M26 S<\u504f\u79fb> \u3002 \u62a5\u544aSD\u5361\u6253\u5370\u72b6\u6001\uff1a M27 \u6b64\u5916\uff0c\u5f53\u542f\u7528\"virtual_sdcard\"\u914d\u7f6e\u5206\u6bb5\u65f6\uff0c\u4ee5\u4e0b\u6269\u5c55\u547d\u4ee4\u53ef\u7528\u3002","title":"[virtual_sdcard]"},{"location":"G-Codes.html#sdcard_print_file","text":"SDCARD_PRINT_FILE FILENAME=<\u6587\u4ef6\u540d> \uff1a\u8f7d\u5165\u4e00\u4e2a\u6587\u4ef6\u5e76\u5f00\u59cb SD \u6253\u5370","title":"SDCARD_PRINT_FILE"},{"location":"G-Codes.html#sdcard_reset_file","text":"SDCARD_RESET_FILE \uff1a\u5378\u8f7d\u6587\u4ef6\u5e76\u6e05\u9664SD\u72b6\u6001\u3002","title":"SDCARD_RESET_FILE"},{"location":"G-Codes.html#z_tilt","text":"The following commands are available when the z_tilt config section is enabled.","title":"[z_tilt]"},{"location":"G-Codes.html#z_tilt_adjust","text":"Z_TILT_ADJUST [<probe_\u53c2\u6570>=<\u503c>] \uff1a\u8be5\u547d\u4ee4\u5c06\u63a2\u6d4b\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u5750\u6807\u5e76\u5bf9\u6bcf\u4e2aZ\u6b65\u8fdb\u7535\u673a\u8fdb\u884c\u72ec\u7acb\u7684\u8c03\u6574\u4ee5\u62b5\u6d88\u503e\u659c\u3002\u6709\u5173\u53ef\u9009\u7684\u63a2\u9488\u53c2\u6570\uff0c\u8be6\u89c1 PROBE \u547d\u4ee4\u3002","title":"Z_TILT_ADJUST"},{"location":"Hall_Filament_Width_Sensor.html","text":"\u970d\u5c14\u8017\u6750\u7ebf\u5f84\u4f20\u611f\u5668 \u00b6 \u672c\u6587\u4ef6\u4ecb\u7ecd\u4e86\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\u7684\u4e3b\u673a\u6a21\u5757\u3002\u7528\u4e8e\u5f00\u53d1\u8be5\u4e3b\u673a\u6a21\u5757\u7684\u786c\u4ef6\u57fa\u4e8e\u4e24\u4e2a\u970d\u5c14\u7ebf\u6027\u4f20\u611f\u5668\uff08\u4f8b\u5982\uff0css49e\uff09\u3002\u8bbe\u5907\u5185\u7684\u4e24\u4e2a\u4f20\u611f\u5668\u4f4d\u4e8e\u4e24\u4fa7\u3002\u5de5\u4f5c\u539f\u7406\uff1a\u4e24\u4e2a\u970d\u5c14\u4f20\u611f\u5668\u4ee5\u5dee\u5206\u6a21\u5f0f\u5de5\u4f5c\uff0c\u7531\u4e8e\u4f20\u611f\u5668\u7684\u6e29\u5ea6\u6f02\u79fb\u76f8\u540c\u3002\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u6e29\u5ea6\u8865\u507f\u3002 \u4f60\u53ef\u4ee5\u5728 Thingiverse \u4e0a\u627e\u5230\u8bbe\u8ba1\uff0c\u5728 Youtube \u4e0a\u4e5f\u6709\u4e00\u4e2a\u88c5\u914d\u89c6\u9891 \u8981\u4f7f\u7528\u970d\u5c14\u8017\u6750\u7ebf\u5f84\u4f20\u611f\u5668\uff0c\u8bf7\u9605\u8bfb \u914d\u7f6e\u53c2\u8003 \u548c G-Code \u6587\u6863 \u3002 \u5b83\u5982\u4f55\u8fd0\u4f5c\uff1f \u00b6 \u4f20\u611f\u5668\u6839\u636e\u4e24\u4e2a\u6a21\u62df\u8f93\u51fa\u8ba1\u7b97\u51fa\u8017\u6750\u76f4\u5f84\u3002\u68c0\u6d4b\u5230\u7684\u7535\u538b\u4e4b\u548c\u59cb\u7ec8\u5bf9\u5e94\u8017\u6750\u5bbd\u5ea6\u3002\u4e3b\u673a\u6a21\u5757\u76d1\u6d4b\u7535\u538b\u53d8\u5316\u5e76\u8c03\u6574\u6324\u51fa\u500d\u7387\u3002\u6211\u5728\u7c7b\u4f3cramps\u7684\u63a7\u5236\u677f\u4e0a\u4f7f\u7528aux2\u8fde\u63a5\u5668\u7684 analog11\u548canalog12\u5f15\u811a\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u5f15\u811a\u548c\u4e0d\u540c\u7684\u63a7\u5236\u677f\u3002 \u83dc\u5355\u53d8\u91cf\u6a21\u677f \u00b6 [menu __main __filament __width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Dia: {'%.2F' % printer.hall_filament_width_sensor.Diameter} index: 0 [menu __main __filament __raw_width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Raw: {'%4.0F' % printer.hall_filament_width_sensor.Raw} index: 1 \u6821\u51c6\u7a0b\u5e8f \u00b6 \u8981\u83b7\u5f97\u539f\u59cb\u4f20\u611f\u5668\u503c\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u83dc\u5355\u4e2d\u7684\u9009\u9879\u6216\u5728\u7ec8\u7aef\u53d1\u9001 QUERY_RAW_FILAMENT_WIDTH \u547d\u4ee4\u3002 \u63d2\u5165\u7b2c\u4e00\u6839\u6821\u51c6\u68d2\uff081.5\u6beb\u7c73\u76f4\u5f84\uff09\uff0c\u5e76\u5f97\u5230\u7b2c\u4e00\u4e2a\u539f\u59cb\u4f20\u611f\u5668\u503c \u63d2\u5165\u7b2c\u4e8c\u6839\u6821\u51c6\u68d2\uff082.0\u6beb\u7c73\u76f4\u5f84\uff09\uff0c\u5e76\u5f97\u5230\u7b2c\u4e8c\u4e2a\u539f\u59cb\u4f20\u611f\u5668\u503c \u5728\u914d\u7f6e\u53c2\u6570 Raw_dia1 \u548c Raw_dia2 \u4e2d\u5199\u5165\u539f\u59cb\u4f20\u611f\u5668\u503c \u5982\u4f55\u542f\u7528\u4f20\u611f\u5668 \u00b6 \u4f20\u611f\u5668\u5728\u5f00\u673a\u65f6\u9ed8\u8ba4\u88ab\u7981\u7528\u3002 \u8981\u542f\u7528\u4f20\u611f\u5668\uff0c\u53d1\u9001 ENABLE_FILAMENT_WIDTH_SENSOR \u547d\u4ee4\u6216\u5c06 enable \u53c2\u6570\u6539\u4e3a true \u3002 \u8bb0\u5f55 \u00b6 \u76f4\u5f84\u8bb0\u5f55\u5728\u5f00\u673a\u65f6\u9ed8\u8ba4\u88ab\u7981\u7528\u3002 \u53d1\u9001 ENABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u5f00\u59cb\u8bb0\u5f55\uff0c\u53d1\u9001 DISABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u505c\u6b62\u8bb0\u5f55\u3002\u5982\u679c\u60f3\u5728\u5f00\u673a\u65f6\u542f\u7528\u65e5\u5fd7\u8bb0\u5f55\uff0c\u8bf7\u5c06 logging \u914d\u7f6e\u53c2\u6570\u8bbe\u7f6e\u4e3a true \u3002 \u6bcf\u4e2a\u6d4b\u91cf\u95f4\u9694\u90fd\u4f1a\u8bb0\u5f55\u8017\u6750\u76f4\u5f84\uff08\u9ed8\u8ba4\u4e3a10\u6beb\u7c73\uff09\u3002","title":"\u970d\u5c14\u8017\u6750\u7ebf\u5f84\u4f20\u611f\u5668"},{"location":"Hall_Filament_Width_Sensor.html#_1","text":"\u672c\u6587\u4ef6\u4ecb\u7ecd\u4e86\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\u7684\u4e3b\u673a\u6a21\u5757\u3002\u7528\u4e8e\u5f00\u53d1\u8be5\u4e3b\u673a\u6a21\u5757\u7684\u786c\u4ef6\u57fa\u4e8e\u4e24\u4e2a\u970d\u5c14\u7ebf\u6027\u4f20\u611f\u5668\uff08\u4f8b\u5982\uff0css49e\uff09\u3002\u8bbe\u5907\u5185\u7684\u4e24\u4e2a\u4f20\u611f\u5668\u4f4d\u4e8e\u4e24\u4fa7\u3002\u5de5\u4f5c\u539f\u7406\uff1a\u4e24\u4e2a\u970d\u5c14\u4f20\u611f\u5668\u4ee5\u5dee\u5206\u6a21\u5f0f\u5de5\u4f5c\uff0c\u7531\u4e8e\u4f20\u611f\u5668\u7684\u6e29\u5ea6\u6f02\u79fb\u76f8\u540c\u3002\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u6e29\u5ea6\u8865\u507f\u3002 \u4f60\u53ef\u4ee5\u5728 Thingiverse \u4e0a\u627e\u5230\u8bbe\u8ba1\uff0c\u5728 Youtube \u4e0a\u4e5f\u6709\u4e00\u4e2a\u88c5\u914d\u89c6\u9891 \u8981\u4f7f\u7528\u970d\u5c14\u8017\u6750\u7ebf\u5f84\u4f20\u611f\u5668\uff0c\u8bf7\u9605\u8bfb \u914d\u7f6e\u53c2\u8003 \u548c G-Code \u6587\u6863 \u3002","title":"\u970d\u5c14\u8017\u6750\u7ebf\u5f84\u4f20\u611f\u5668"},{"location":"Hall_Filament_Width_Sensor.html#_2","text":"\u4f20\u611f\u5668\u6839\u636e\u4e24\u4e2a\u6a21\u62df\u8f93\u51fa\u8ba1\u7b97\u51fa\u8017\u6750\u76f4\u5f84\u3002\u68c0\u6d4b\u5230\u7684\u7535\u538b\u4e4b\u548c\u59cb\u7ec8\u5bf9\u5e94\u8017\u6750\u5bbd\u5ea6\u3002\u4e3b\u673a\u6a21\u5757\u76d1\u6d4b\u7535\u538b\u53d8\u5316\u5e76\u8c03\u6574\u6324\u51fa\u500d\u7387\u3002\u6211\u5728\u7c7b\u4f3cramps\u7684\u63a7\u5236\u677f\u4e0a\u4f7f\u7528aux2\u8fde\u63a5\u5668\u7684 analog11\u548canalog12\u5f15\u811a\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u5f15\u811a\u548c\u4e0d\u540c\u7684\u63a7\u5236\u677f\u3002","title":"\u5b83\u5982\u4f55\u8fd0\u4f5c\uff1f"},{"location":"Hall_Filament_Width_Sensor.html#_3","text":"[menu __main __filament __width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Dia: {'%.2F' % printer.hall_filament_width_sensor.Diameter} index: 0 [menu __main __filament __raw_width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Raw: {'%4.0F' % printer.hall_filament_width_sensor.Raw} index: 1","title":"\u83dc\u5355\u53d8\u91cf\u6a21\u677f"},{"location":"Hall_Filament_Width_Sensor.html#_4","text":"\u8981\u83b7\u5f97\u539f\u59cb\u4f20\u611f\u5668\u503c\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u83dc\u5355\u4e2d\u7684\u9009\u9879\u6216\u5728\u7ec8\u7aef\u53d1\u9001 QUERY_RAW_FILAMENT_WIDTH \u547d\u4ee4\u3002 \u63d2\u5165\u7b2c\u4e00\u6839\u6821\u51c6\u68d2\uff081.5\u6beb\u7c73\u76f4\u5f84\uff09\uff0c\u5e76\u5f97\u5230\u7b2c\u4e00\u4e2a\u539f\u59cb\u4f20\u611f\u5668\u503c \u63d2\u5165\u7b2c\u4e8c\u6839\u6821\u51c6\u68d2\uff082.0\u6beb\u7c73\u76f4\u5f84\uff09\uff0c\u5e76\u5f97\u5230\u7b2c\u4e8c\u4e2a\u539f\u59cb\u4f20\u611f\u5668\u503c \u5728\u914d\u7f6e\u53c2\u6570 Raw_dia1 \u548c Raw_dia2 \u4e2d\u5199\u5165\u539f\u59cb\u4f20\u611f\u5668\u503c","title":"\u6821\u51c6\u7a0b\u5e8f"},{"location":"Hall_Filament_Width_Sensor.html#_5","text":"\u4f20\u611f\u5668\u5728\u5f00\u673a\u65f6\u9ed8\u8ba4\u88ab\u7981\u7528\u3002 \u8981\u542f\u7528\u4f20\u611f\u5668\uff0c\u53d1\u9001 ENABLE_FILAMENT_WIDTH_SENSOR \u547d\u4ee4\u6216\u5c06 enable \u53c2\u6570\u6539\u4e3a true \u3002","title":"\u5982\u4f55\u542f\u7528\u4f20\u611f\u5668"},{"location":"Hall_Filament_Width_Sensor.html#_6","text":"\u76f4\u5f84\u8bb0\u5f55\u5728\u5f00\u673a\u65f6\u9ed8\u8ba4\u88ab\u7981\u7528\u3002 \u53d1\u9001 ENABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u5f00\u59cb\u8bb0\u5f55\uff0c\u53d1\u9001 DISABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u505c\u6b62\u8bb0\u5f55\u3002\u5982\u679c\u60f3\u5728\u5f00\u673a\u65f6\u542f\u7528\u65e5\u5fd7\u8bb0\u5f55\uff0c\u8bf7\u5c06 logging \u914d\u7f6e\u53c2\u6570\u8bbe\u7f6e\u4e3a true \u3002 \u6bcf\u4e2a\u6d4b\u91cf\u95f4\u9694\u90fd\u4f1a\u8bb0\u5f55\u8017\u6750\u76f4\u5f84\uff08\u9ed8\u8ba4\u4e3a10\u6beb\u7c73\uff09\u3002","title":"\u8bb0\u5f55"},{"location":"Installation.html","text":"\u5b89\u88c5 \u00b6 \u672c\u6559\u7a0b\u5047\u5b9a\u8f6f\u4ef6\u5c06\u4f1a\u5728\u6811\u8393\u6d3e\u4e0a\u548c Octoprint \u4e00\u8d77\u8fd0\u884c\u3002\u63a8\u8350\u4f7f\u7528\u6811\u8393\u6d3e2/3/4\u4f5c\u4e3a\u4e3b\u673a\uff08\u5173\u4e8e\u5176\u4ed6\u8bbe\u5907\uff0c\u8bf7\u89c1 \u5e38\u89c1\u95ee\u9898 \uff09\u3002 \u83b7\u53d6 Klipper \u914d\u7f6e\u6587\u4ef6 \u00b6 \u5927\u591a\u6570\u7684 Klipper \u8bbe\u7f6e\u662f\u7531\u4fdd\u5b58\u5728\u6811\u8393\u6d3e\u4e0a\u7684\"\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\"\u51b3\u5b9a\u7684\u3002\u901a\u5e38\u53ef\u4ee5\u5728Klipper \u914d\u7f6e\u6587\u4ef6\u5939 \u4e2d\u627e\u5230\u4e00\u4e2a\u4ee5\"printer-\"\u524d\u7f00\u5f00\u5934\u5e76\u4e0e\u76ee\u6807\u6253\u5370\u673a\u76f8\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u3002Klipper \u914d\u7f6e\u6587\u4ef6\u5305\u542b\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9700\u8981\u7684\u6253\u5370\u673a\u6280\u672f\u4fe1\u606f\u3002 \u5982\u679c Klipper \u914d\u7f6e\u76ee\u5f55\u4e2d\u6ca1\u6709\u5408\u9002\u7684\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff0c\u8bf7\u5c1d\u8bd5\u641c\u7d22\u6253\u5370\u673a\u5236\u9020\u5546\u7684\u7f51\u7ad9\uff0c\u770b\u770b\u4ed6\u4eec\u662f\u5426\u6709\u5408\u9002\u7684 Klipper \u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u627e\u4e0d\u5230\u6253\u5370\u673a\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4f46\u53ef\u4ee5\u627e\u5230\u6253\u5370\u673a\u63a7\u5236\u677f\u7684\u7c7b\u578b\uff0c\u5219\u53ef\u4ee5\u67e5\u627e\u4ee5\u201cgeneric-\u201d\u524d\u7f00\u5f00\u5934\u7684\u9002\u5f53 \u914d\u7f6e\u6587\u4ef6 \u3002\u8fd9\u4e9b\u793a\u4f8b\u6253\u5370\u673a\u6a21\u677f\u6587\u4ef6\u5e94\u8be5\u8db3\u4ee5\u6210\u529f\u5b8c\u6210\u521d\u59cb\u5b89\u88c5\uff0c\u4f46\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u81ea\u5b9a\u4e49\u624d\u80fd\u83b7\u5f97\u5b8c\u6574\u7684\u6253\u5370\u673a\u529f\u80fd\u3002 \u4e5f\u53ef\u4ee5\u4ece\u5934\u5f00\u59cb\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u6253\u5370\u673a\u914d\u7f6e\u3002\u7136\u800c\uff0c\u8fd9\u9700\u8981\u5173\u4e8e\u6253\u5370\u673a\u53ca\u5176\u7535\u5b50\u7cfb\u7edf\u7684\u5927\u91cf\u6280\u672f\u77e5\u8bc6\u3002\u5efa\u8bae\u5927\u591a\u6570\u7528\u6237\u4ece\u4e00\u4e2a\u9002\u5f53\u7684\u914d\u7f6e\u6587\u4ef6\u5f00\u59cb\u3002\u5982\u679c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u81ea\u5b9a\u4e49\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff0c\u90a3\u4e48\u53ef\u4ee5\u5148\u4ece\u6700\u63a5\u8fd1\u7684 \u914d\u7f6e\u6587\u4ef6 \u7684\u4f8b\u5b50\u5f00\u59cb\uff0c\u5e76\u4ece Klipper \u914d\u7f6e\u53c2\u8003\u6587\u6863 \u4e86\u89e3\u8fdb\u4e00\u6b65\u4fe1\u606f\u3002 \u51c6\u5907\u64cd\u4f5c\u7cfb\u7edf\u955c\u50cf \u00b6 \u5148\u5728\u6811\u8393\u6d3e\u4e0a\u5b89\u88c5 OctoPi \u3002\u8bf7\u4f7f\u7528OctoPi v0.17.0\u6216\u66f4\u9ad8\u7248\u672c\uff0c\u67e5\u770b Octopi \u53d1\u884c\u7248 \u6765\u83b7\u53d6\u6700\u65b0\u53d1\u5e03\u7248\u672c\u3002\u5b89\u88c5\u5b8c\u7cfb\u7edf\u540e\uff0c\u8bf7\u5148\u9a8c\u8bc1 OctoPi \u80fd\u6b63\u5e38\u542f\u52a8\uff0c\u5e76\u4e14 OctoPrint \u7f51\u7edc\u670d\u52a1\u5668\u6b63\u5e38\u8fd0\u884c\u3002\u8fde\u63a5\u5230 OctoPrint \u7f51\u9875\u540e\uff0c\u6309\u7167\u63d0\u793a\u5c06 OctoPrint \u66f4\u65b0\u5230v1.4.2\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u5728\u5b89\u88c5 OctoPi \u548c\u5347\u7ea7 OctoPrint \u540e\uff0c\u7528 ssh \u8fde\u63a5\u76ee\u6807\u8bbe\u5907\uff0c\u4ee5\u8fd0\u884c\u5c11\u91cf\u7684\u7cfb\u7edf\u547d\u4ee4\u3002\u5982\u679c\u4f7f\u7528Linux\u6216MacOS\u7cfb\u7edf\uff0c\u90a3\u4e48 \"ssh\"\u8f6f\u4ef6\u5e94\u8be5\u5df2\u7ecf\u9884\u88c5\u5728\u7cfb\u7edf\u4e0a\u3002\u6709\u4e00\u4e9b\u514d\u8d39\u7684ssh\u5ba2\u6237\u7aef\u53ef\u7528\u4e8e\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\uff08\u4f8b\u5982\uff0c PuTTY \uff09\u3002\u4f7f\u7528ssh\u5de5\u5177\u8fde\u63a5\u5230Raspberry Pi\uff08ssh pi@octopi --\u5bc6\u7801\u662f \"raspberry\"\uff09\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-octopi.sh \u4ee5\u4e0a\u5c06\u4f1a\u4e0b\u8f7d Klipper \u3001\u5b89\u88c5\u4e00\u4e9b\u7cfb\u7edf\u4f9d\u8d56\u3001\u8bbe\u7f6e Klipper \u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u8fd0\u884c\u5e76\u542f\u52a8Klipper \u4e3b\u673a\u7a0b\u5e8f\u3002\u8fd9\u5c06\u9700\u8981\u4e92\u8054\u7f51\u8fde\u63a5\u4ee5\u53ca\u53ef\u80fd\u9700\u8981\u51e0\u5206\u949f\u65f6\u95f4\u624d\u80fd\u5b8c\u6210\u3002 \u6784\u5efa\u548c\u5237\u5199\u5fae\u63a7\u5236\u5668 \u00b6 \u5728\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e4b\u524d\uff0c\u5148\u5728\u6811\u8393\u6d3e\u4e0a\u8fd0\u884c\u8fd9\u4e9b\u547d\u4ee4\uff1a cd ~/klipper/ make menuconfig \u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6 \u7684\u9876\u90e8\u6ce8\u91ca\u5e94\u8be5\u63cf\u8ff0\u4e86\"make menuconfig\"\u671f\u95f4\u9700\u8981\u8bbe\u7f6e\u7684\u8bbe\u7f6e\u3002\u5728\u7f51\u7edc\u6d4f\u89c8\u5668\u6216\u6587\u672c\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u8be5\u6587\u4ef6\uff0c\u5728\u6587\u4ef6\u9876\u90e8\u9644\u8fd1\u5bfb\u627e\u8fd9\u4e9b\u8bf4\u660e\u3002\u4e00\u65e6\u9002\u5f53\u7684\"menuconfig\"\u8bbe\u7f6e\u88ab\u914d\u7f6e\u597d\u4e86\uff0c\u6309\"Q\"\u9000\u51fa\uff0c\u7136\u540e\u6309\"Y\"\u4fdd\u5b58\uff0c\u8fd0\u884c\uff1a make \u5982\u679c \u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6 \u9876\u90e8\u7684\u6ce8\u91ca\u63cf\u8ff0\u4e86\"flashing\"\u6700\u7ec8\u56fa\u4ef6\u955c\u50cf\u5230\u6253\u5370\u673a\u63a7\u5236\u677f\u7684\u7279\u6b8a\u6b65\u9aa4\uff0c\u90a3\u4e48\u8bf7\u9075\u5faa\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u7136\u540e\u7ee7\u7eed\u8fdb\u884c \u914d\u7f6eOctoPrint \u3002 \u5426\u5219\uff0c\u901a\u5e38\u91c7\u7528\u4ee5\u4e0b\u6b65\u9aa4\u6765\"flash\"\u6253\u5370\u673a\u63a7\u5236\u677f\u3002\u9996\u5148\uff0c\u9700\u8981\u786e\u5b9a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684\u4e32\u884c\u7aef\u53e3\u3002\u7136\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u7a0b\u5e8f\uff1a ls /dev/serial/by-id/* \u5b83\u5e94\u8be5\u62a5\u544a\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u5185\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u901a\u5e38\u6bcf\u4e00\u4e2a\u6253\u5370\u673a\u90fd\u6709\u81ea\u5df1\u72ec\u7279\u7684\u4e32\u53e3\u540d\uff0c\u8fd9\u4e2a\u72ec\u7279\u4e32\u53e3\u540d\u5c06\u4f1a\u5728\u5237\u5199\u5fae\u5904\u7406\u5668\u65f6\u7528\u5230\u3002\u5728\u4e0a\u8ff0\u8f93\u51fa\u4e2d\u53ef\u80fd\u6709\u591a\u884c\u3002\u5982\u679c\u662f\u8fd9\u6837\u7684\u8bdd\u9009\u62e9\u4e0e\u5fae\u63a7\u5236\u5668\u76f8\u5e94\u7684 (\u67e5\u770b FAQ \u4e86\u89e3\u66f4\u591a\u4fe1\u606f). \u5bf9\u4e8e\u5e38\u89c1\u7684\u5fae\u63a7\u5236\u5668\uff0c\u53ef\u4ee5\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\u6765\u5237\u5199\u56fa\u4ef6\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u8bf7\u52a1\u5fc5\u7528\u6253\u5370\u673a\u7684\u552f\u4e00\u4e32\u884c\u7aef\u53e3\u540d\u79f0\u6765\u66f4\u65b0 FLASH_DEVICE \u53c2\u6570\u3002 \u7b2c\u4e00\u6b21\u5237\u5199\u65f6\u8981\u786e\u4fdd OctoPrint \u6ca1\u6709\u76f4\u63a5\u8fde\u63a5\u5230\u6253\u5370\u673a\uff08\u5728 OctoPrint \u7f51\u9875\u7684 \"\u8fde\u63a5 \"\u5206\u6bb5\u4e2d\u70b9\u51fb \"\u65ad\u5f00\u8fde\u63a5\"\uff09\u3002 \u4e3aKlipper\u914d\u7f6e OctoPrint \u00b6 OctoPrint\u7f51\u7edc\u670d\u52a1\u5668\u9700\u8981\u8fdb\u884c\u914d\u7f6e\uff0c\u4ee5\u4fbf\u4e0eKlipper host \u8f6f\u4ef6\u8fdb\u884c\u901a\u4fe1\u3002\u4f7f\u7528\u7f51\u7edc\u6d4f\u89c8\u5668\uff0c\u767b\u5f55\u5230OctoPrint\u7f51\u9875\uff0c\u7136\u540e\u914d\u7f6e\u4ee5\u4e0b\u9879\u76ee\uff1a \u5bfc\u822a\u5230 \"\u8bbe\u7f6e \"\uff08\u9875\u9762\u9876\u90e8\u7684\u6273\u624b\u56fe\u6807\uff09\u3002\u5728 \"\u4e32\u884c\u8fde\u63a5 \"\u4e0b\u7684 \"\u9644\u52a0\u4e32\u884c\u7aef\u53e3 \"\u4e2d\u6dfb\u52a0\"/tmp/printer\"\u3002\u7136\u540e\u70b9\u51fb \"\u4fdd\u5b58\"\u3002 \u518d\u6b21\u8fdb\u5165 \"\u8bbe\u7f6e\"\uff0c\u5728 \"\u4e32\u884c\u8fde\u63a5\" \u4e0b\u5c06 \"\u4e32\u884c\u7aef\u53e3\" \u8bbe\u7f6e\u6539\u4e3a\"/tmp/printer\"\u3002 \u5728 \"\u8bbe\u7f6e \"\u4e2d\uff0c\u6d4f\u89c8\u5230 \"Behavior \"\u5b50\u9009\u9879\u5361\uff0c\u9009\u62e9 \"\u53d6\u6d88\u4efb\u4f55\u6b63\u5728\u8fdb\u884c\u7684\u6253\u5370\uff0c\u4f46\u4fdd\u6301\u4e0e\u6253\u5370\u673a\u7684\u8fde\u63a5 \"\u9009\u9879\u3002\u70b9\u51fb \"\u4fdd\u5b58\"\u3002 \u5728\u4e3b\u9875\u4e0a\uff0c\u5728 \"\u8fde\u63a5 \"\u90e8\u5206\uff08\u5728\u9875\u9762\u7684\u5de6\u4e0a\u65b9\uff09\uff0c\u786e\u4fdd \"\u4e32\u884c\u7aef\u53e3 \"\u88ab\u8bbe\u7f6e\u4e3a\"/tmp/printer\"\uff0c\u7136\u540e\u70b9\u51fb \"\u8fde\u63a5\"\u3002(\u5982\u679c\"/tmp/printer \"\u4e0d\u662f\u4e00\u4e2a\u53ef\u7528\u7684\u9009\u62e9\uff0c\u90a3\u4e48\u8bd5\u7740\u91cd\u65b0\u52a0\u8f7d\u9875\u9762) \u8fde\u63a5\u540e\uff0c\u5bfc\u822a\u5230 \"\u7ec8\u7aef \"\u9009\u9879\u5361\uff0c\u5728\u547d\u4ee4\u8f93\u5165\u6846\u4e2d\u8f93\u5165 \"status\"\uff08\u4e0d\u5e26\u5f15\u53f7\uff09\uff0c\u7136\u540e\u70b9\u51fb \"\u53d1\u9001\"\u3002\u7ec8\u7aef\u7a97\u53e3\u53ef\u80fd\u4f1a\u62a5\u544a\u5728\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\u65f6\u51fa\u73b0\u4e86\u9519\u8bef--\u8fd9\u610f\u5473\u7740 OctoPrint \u4e0e Klipper \u6210\u529f\u5730\u8fdb\u884c\u4e86\u901a\u4fe1\u3002\u7ee7\u7eed\u4e0b\u4e00\u90e8\u5206\u3002 \u914d\u7f6e Klipper \u00b6 \u4e0b\u4e00\u6b65\u662f\u5c06 \u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6 \u590d\u5236\u5230Raspberry Pi\u3002 \u7f16\u5199 Klipper \u914d\u7f6e\u6587\u4ef6\u7684\u6700\u7b80\u5355\u65b9\u6cd5\u662f\u4f7f\u7528\u652f\u6301\u901a\u8fc7\u201cscp\u201d\u548c/\u6216\u201csftp\u201d\u534f\u8bae\u7f16\u8f91\u6587\u4ef6\u7684\u684c\u9762\u7f16\u8f91\u5668\u3002\u4e00\u4e9b\u514d\u8d39\u63d0\u4f9b\u7684\u5de5\u5177\u652f\u6301\u8fd9\u4e00\u70b9\uff08\u4f8b\u5982\uff0cNotepad ++\uff0cWinSCP\u548cCyberduck\uff09\u3002\u5728\u7f16\u8f91\u5668\u4e2d\u52a0\u8f7d\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u5176\u53e6\u5b58\u4e3a pi \u7528\u6237\u4e3b\u76ee\u5f55\u4e2d\u540d\u4e3a\u201cprinter.cfg\u201d\u7684\u6587\u4ef6\uff08\u5373 /home/pi/printer.cfg\uff09\u3002 \u53e6\u5916\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 ssh \u5728\u6811\u8393\u6d3e\u4e0a\u76f4\u63a5\u590d\u5236\u548c\u7f16\u8f91\u8be5\u6587\u4ef6\u3002\u8fd9\u53ef\u80fd\u770b\u8d77\u6765\u50cf\u4e0b\u9762\u8fd9\u6837\uff08\u8bf7\u786e\u4fdd\u66f4\u65b0\u547d\u4ee4\u4ee5\u4f7f\u7528\u9002\u5f53\u7684\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff09\uff1a cp ~/klipper/config/example-cartesian.cfg ~/printer.cfg nano ~/printer.cfg \u901a\u5e38\u6bcf\u53f0\u6253\u5370\u673a\u90fd\u6709\u81ea\u5df1\u72ec\u7279\u7684\u5fae\u63a7\u5236\u5668\u540d\u79f0\u3002\u5237\u5199Klipper\u540e\uff0c\u540d\u79f0\u53ef\u80fd\u4f1a\u6539\u53d8\uff0c\u6240\u4ee5\u5373\u4f7f\u5728\u95ea\u5b58\u65f6\u5df2\u7ecf\u5b8c\u6210\uff0c\u4e5f\u8981\u91cd\u65b0\u8fd0\u884c\u8fd9\u4e9b\u6b65\u9aa4\u3002\u8fd0\u884c\uff1a ls /dev/serial/by-id/* \u5b83\u5e94\u8be5\u62a5\u544a\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u5185\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u7136\u540e\u7528\u8fd9\u4e2a\u552f\u4e00\u7684\u540d\u5b57\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\u3002\u4f8b\u5982\uff0c\u66f4\u65b0 [mcu] \u90e8\u5206\uff0c\u7c7b\u4f3c\u4e8e\uff1a [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u5728\u521b\u5efa\u548c\u7f16\u8f91\u8be5\u6587\u4ef6\u540e\uff0c\u5fc5\u987b\u5728OctoPrint\u7f51\u7edc\u7ec8\u7aef\u53d1\u51fa\"restart\"\u547d\u4ee4\u4ee5\u52a0\u8f7d\u914d\u7f6e\u3002\u5982\u679cKlipper\u914d\u7f6e\u6587\u4ef6\u88ab\u6210\u529f\u8bfb\u53d6\uff0c\u5e76\u4e14\u6210\u529f\u627e\u5230\u5e76\u914d\u7f6e\u4e86\u5fae\u63a7\u5236\u5668\uff0c\u90a3\u4e48\"status\"\u547d\u4ee4\u5c06\u62a5\u544a\u6253\u5370\u673a\u5df2\u51c6\u5907\u5c31\u7eea\u3002 \u5728\u5b9a\u5236\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u65f6\uff0cKlipper \u62a5\u544a\u914d\u7f6e\u9519\u8bef\u662f\u5f88\u6b63\u5e38\u7684\u60c5\u51b5\u3002\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u5bf9\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u5fc5\u8981\u7684\u4fee\u6b63\uff0c\u5e76\u53d1\u51fa\"restart\"\uff0c\u76f4\u5230\"status\"\u62a5\u544a\u6253\u5370\u673a\u5df2\u51c6\u5907\u5c31\u7eea\u3002 Klipper\u901a\u8fc7OctoPrint\u7ec8\u7aef\u6807\u7b7e\u62a5\u544a\u9519\u8bef\u4fe1\u606f\u3002\u53ef\u4ee5\u4f7f\u7528 \"status \"\u547d\u4ee4\u6765\u91cd\u65b0\u62a5\u544a\u9519\u8bef\u4fe1\u606f\u3002\u9ed8\u8ba4\u7684Klipper\u542f\u52a8\u811a\u672c\u4e5f\u5728 /tmp/klippy.log \u4e2d\u653e\u7f6e\u4e00\u4e2a\u65e5\u5fd7\uff0c\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u3002 \u5728Klipper\u62a5\u544a\u6253\u5370\u673a\u5df2\u5c31\u7eea\u540e\uff0c\u7ee7\u7eed\u8fdb\u5165 \u914d\u7f6e\u68c0\u67e5\u6587\u4ef6 \uff0c\u5bf9\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5b9a\u4e49\u8fdb\u884c\u4e00\u4e9b\u57fa\u672c\u68c0\u67e5\u3002\u5176\u4ed6\u4fe1\u606f\u89c1\u4e3b \u6587\u6863\u53c2\u8003 \u3002","title":"\u5b89\u88c5"},{"location":"Installation.html#_1","text":"\u672c\u6559\u7a0b\u5047\u5b9a\u8f6f\u4ef6\u5c06\u4f1a\u5728\u6811\u8393\u6d3e\u4e0a\u548c Octoprint \u4e00\u8d77\u8fd0\u884c\u3002\u63a8\u8350\u4f7f\u7528\u6811\u8393\u6d3e2/3/4\u4f5c\u4e3a\u4e3b\u673a\uff08\u5173\u4e8e\u5176\u4ed6\u8bbe\u5907\uff0c\u8bf7\u89c1 \u5e38\u89c1\u95ee\u9898 \uff09\u3002","title":"\u5b89\u88c5"},{"location":"Installation.html#klipper","text":"\u5927\u591a\u6570\u7684 Klipper \u8bbe\u7f6e\u662f\u7531\u4fdd\u5b58\u5728\u6811\u8393\u6d3e\u4e0a\u7684\"\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\"\u51b3\u5b9a\u7684\u3002\u901a\u5e38\u53ef\u4ee5\u5728Klipper \u914d\u7f6e\u6587\u4ef6\u5939 \u4e2d\u627e\u5230\u4e00\u4e2a\u4ee5\"printer-\"\u524d\u7f00\u5f00\u5934\u5e76\u4e0e\u76ee\u6807\u6253\u5370\u673a\u76f8\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u3002Klipper \u914d\u7f6e\u6587\u4ef6\u5305\u542b\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9700\u8981\u7684\u6253\u5370\u673a\u6280\u672f\u4fe1\u606f\u3002 \u5982\u679c Klipper \u914d\u7f6e\u76ee\u5f55\u4e2d\u6ca1\u6709\u5408\u9002\u7684\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff0c\u8bf7\u5c1d\u8bd5\u641c\u7d22\u6253\u5370\u673a\u5236\u9020\u5546\u7684\u7f51\u7ad9\uff0c\u770b\u770b\u4ed6\u4eec\u662f\u5426\u6709\u5408\u9002\u7684 Klipper \u914d\u7f6e\u6587\u4ef6\u3002 \u5982\u679c\u627e\u4e0d\u5230\u6253\u5370\u673a\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u4f46\u53ef\u4ee5\u627e\u5230\u6253\u5370\u673a\u63a7\u5236\u677f\u7684\u7c7b\u578b\uff0c\u5219\u53ef\u4ee5\u67e5\u627e\u4ee5\u201cgeneric-\u201d\u524d\u7f00\u5f00\u5934\u7684\u9002\u5f53 \u914d\u7f6e\u6587\u4ef6 \u3002\u8fd9\u4e9b\u793a\u4f8b\u6253\u5370\u673a\u6a21\u677f\u6587\u4ef6\u5e94\u8be5\u8db3\u4ee5\u6210\u529f\u5b8c\u6210\u521d\u59cb\u5b89\u88c5\uff0c\u4f46\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u81ea\u5b9a\u4e49\u624d\u80fd\u83b7\u5f97\u5b8c\u6574\u7684\u6253\u5370\u673a\u529f\u80fd\u3002 \u4e5f\u53ef\u4ee5\u4ece\u5934\u5f00\u59cb\u5b9a\u4e49\u4e00\u4e2a\u65b0\u7684\u6253\u5370\u673a\u914d\u7f6e\u3002\u7136\u800c\uff0c\u8fd9\u9700\u8981\u5173\u4e8e\u6253\u5370\u673a\u53ca\u5176\u7535\u5b50\u7cfb\u7edf\u7684\u5927\u91cf\u6280\u672f\u77e5\u8bc6\u3002\u5efa\u8bae\u5927\u591a\u6570\u7528\u6237\u4ece\u4e00\u4e2a\u9002\u5f53\u7684\u914d\u7f6e\u6587\u4ef6\u5f00\u59cb\u3002\u5982\u679c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u81ea\u5b9a\u4e49\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff0c\u90a3\u4e48\u53ef\u4ee5\u5148\u4ece\u6700\u63a5\u8fd1\u7684 \u914d\u7f6e\u6587\u4ef6 \u7684\u4f8b\u5b50\u5f00\u59cb\uff0c\u5e76\u4ece Klipper \u914d\u7f6e\u53c2\u8003\u6587\u6863 \u4e86\u89e3\u8fdb\u4e00\u6b65\u4fe1\u606f\u3002","title":"\u83b7\u53d6 Klipper \u914d\u7f6e\u6587\u4ef6"},{"location":"Installation.html#_2","text":"\u5148\u5728\u6811\u8393\u6d3e\u4e0a\u5b89\u88c5 OctoPi \u3002\u8bf7\u4f7f\u7528OctoPi v0.17.0\u6216\u66f4\u9ad8\u7248\u672c\uff0c\u67e5\u770b Octopi \u53d1\u884c\u7248 \u6765\u83b7\u53d6\u6700\u65b0\u53d1\u5e03\u7248\u672c\u3002\u5b89\u88c5\u5b8c\u7cfb\u7edf\u540e\uff0c\u8bf7\u5148\u9a8c\u8bc1 OctoPi \u80fd\u6b63\u5e38\u542f\u52a8\uff0c\u5e76\u4e14 OctoPrint \u7f51\u7edc\u670d\u52a1\u5668\u6b63\u5e38\u8fd0\u884c\u3002\u8fde\u63a5\u5230 OctoPrint \u7f51\u9875\u540e\uff0c\u6309\u7167\u63d0\u793a\u5c06 OctoPrint \u66f4\u65b0\u5230v1.4.2\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u5728\u5b89\u88c5 OctoPi \u548c\u5347\u7ea7 OctoPrint \u540e\uff0c\u7528 ssh \u8fde\u63a5\u76ee\u6807\u8bbe\u5907\uff0c\u4ee5\u8fd0\u884c\u5c11\u91cf\u7684\u7cfb\u7edf\u547d\u4ee4\u3002\u5982\u679c\u4f7f\u7528Linux\u6216MacOS\u7cfb\u7edf\uff0c\u90a3\u4e48 \"ssh\"\u8f6f\u4ef6\u5e94\u8be5\u5df2\u7ecf\u9884\u88c5\u5728\u7cfb\u7edf\u4e0a\u3002\u6709\u4e00\u4e9b\u514d\u8d39\u7684ssh\u5ba2\u6237\u7aef\u53ef\u7528\u4e8e\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\uff08\u4f8b\u5982\uff0c PuTTY \uff09\u3002\u4f7f\u7528ssh\u5de5\u5177\u8fde\u63a5\u5230Raspberry Pi\uff08ssh pi@octopi --\u5bc6\u7801\u662f \"raspberry\"\uff09\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-octopi.sh \u4ee5\u4e0a\u5c06\u4f1a\u4e0b\u8f7d Klipper \u3001\u5b89\u88c5\u4e00\u4e9b\u7cfb\u7edf\u4f9d\u8d56\u3001\u8bbe\u7f6e Klipper \u5728\u7cfb\u7edf\u542f\u52a8\u65f6\u8fd0\u884c\u5e76\u542f\u52a8Klipper \u4e3b\u673a\u7a0b\u5e8f\u3002\u8fd9\u5c06\u9700\u8981\u4e92\u8054\u7f51\u8fde\u63a5\u4ee5\u53ca\u53ef\u80fd\u9700\u8981\u51e0\u5206\u949f\u65f6\u95f4\u624d\u80fd\u5b8c\u6210\u3002","title":"\u51c6\u5907\u64cd\u4f5c\u7cfb\u7edf\u955c\u50cf"},{"location":"Installation.html#_3","text":"\u5728\u7f16\u8bd1\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e4b\u524d\uff0c\u5148\u5728\u6811\u8393\u6d3e\u4e0a\u8fd0\u884c\u8fd9\u4e9b\u547d\u4ee4\uff1a cd ~/klipper/ make menuconfig \u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6 \u7684\u9876\u90e8\u6ce8\u91ca\u5e94\u8be5\u63cf\u8ff0\u4e86\"make menuconfig\"\u671f\u95f4\u9700\u8981\u8bbe\u7f6e\u7684\u8bbe\u7f6e\u3002\u5728\u7f51\u7edc\u6d4f\u89c8\u5668\u6216\u6587\u672c\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u8be5\u6587\u4ef6\uff0c\u5728\u6587\u4ef6\u9876\u90e8\u9644\u8fd1\u5bfb\u627e\u8fd9\u4e9b\u8bf4\u660e\u3002\u4e00\u65e6\u9002\u5f53\u7684\"menuconfig\"\u8bbe\u7f6e\u88ab\u914d\u7f6e\u597d\u4e86\uff0c\u6309\"Q\"\u9000\u51fa\uff0c\u7136\u540e\u6309\"Y\"\u4fdd\u5b58\uff0c\u8fd0\u884c\uff1a make \u5982\u679c \u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6 \u9876\u90e8\u7684\u6ce8\u91ca\u63cf\u8ff0\u4e86\"flashing\"\u6700\u7ec8\u56fa\u4ef6\u955c\u50cf\u5230\u6253\u5370\u673a\u63a7\u5236\u677f\u7684\u7279\u6b8a\u6b65\u9aa4\uff0c\u90a3\u4e48\u8bf7\u9075\u5faa\u8fd9\u4e9b\u6b65\u9aa4\uff0c\u7136\u540e\u7ee7\u7eed\u8fdb\u884c \u914d\u7f6eOctoPrint \u3002 \u5426\u5219\uff0c\u901a\u5e38\u91c7\u7528\u4ee5\u4e0b\u6b65\u9aa4\u6765\"flash\"\u6253\u5370\u673a\u63a7\u5236\u677f\u3002\u9996\u5148\uff0c\u9700\u8981\u786e\u5b9a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684\u4e32\u884c\u7aef\u53e3\u3002\u7136\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u7a0b\u5e8f\uff1a ls /dev/serial/by-id/* \u5b83\u5e94\u8be5\u62a5\u544a\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u5185\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u901a\u5e38\u6bcf\u4e00\u4e2a\u6253\u5370\u673a\u90fd\u6709\u81ea\u5df1\u72ec\u7279\u7684\u4e32\u53e3\u540d\uff0c\u8fd9\u4e2a\u72ec\u7279\u4e32\u53e3\u540d\u5c06\u4f1a\u5728\u5237\u5199\u5fae\u5904\u7406\u5668\u65f6\u7528\u5230\u3002\u5728\u4e0a\u8ff0\u8f93\u51fa\u4e2d\u53ef\u80fd\u6709\u591a\u884c\u3002\u5982\u679c\u662f\u8fd9\u6837\u7684\u8bdd\u9009\u62e9\u4e0e\u5fae\u63a7\u5236\u5668\u76f8\u5e94\u7684 (\u67e5\u770b FAQ \u4e86\u89e3\u66f4\u591a\u4fe1\u606f). \u5bf9\u4e8e\u5e38\u89c1\u7684\u5fae\u63a7\u5236\u5668\uff0c\u53ef\u4ee5\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\u6765\u5237\u5199\u56fa\u4ef6\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u8bf7\u52a1\u5fc5\u7528\u6253\u5370\u673a\u7684\u552f\u4e00\u4e32\u884c\u7aef\u53e3\u540d\u79f0\u6765\u66f4\u65b0 FLASH_DEVICE \u53c2\u6570\u3002 \u7b2c\u4e00\u6b21\u5237\u5199\u65f6\u8981\u786e\u4fdd OctoPrint \u6ca1\u6709\u76f4\u63a5\u8fde\u63a5\u5230\u6253\u5370\u673a\uff08\u5728 OctoPrint \u7f51\u9875\u7684 \"\u8fde\u63a5 \"\u5206\u6bb5\u4e2d\u70b9\u51fb \"\u65ad\u5f00\u8fde\u63a5\"\uff09\u3002","title":"\u6784\u5efa\u548c\u5237\u5199\u5fae\u63a7\u5236\u5668"},{"location":"Installation.html#klipper-octoprint","text":"OctoPrint\u7f51\u7edc\u670d\u52a1\u5668\u9700\u8981\u8fdb\u884c\u914d\u7f6e\uff0c\u4ee5\u4fbf\u4e0eKlipper host \u8f6f\u4ef6\u8fdb\u884c\u901a\u4fe1\u3002\u4f7f\u7528\u7f51\u7edc\u6d4f\u89c8\u5668\uff0c\u767b\u5f55\u5230OctoPrint\u7f51\u9875\uff0c\u7136\u540e\u914d\u7f6e\u4ee5\u4e0b\u9879\u76ee\uff1a \u5bfc\u822a\u5230 \"\u8bbe\u7f6e \"\uff08\u9875\u9762\u9876\u90e8\u7684\u6273\u624b\u56fe\u6807\uff09\u3002\u5728 \"\u4e32\u884c\u8fde\u63a5 \"\u4e0b\u7684 \"\u9644\u52a0\u4e32\u884c\u7aef\u53e3 \"\u4e2d\u6dfb\u52a0\"/tmp/printer\"\u3002\u7136\u540e\u70b9\u51fb \"\u4fdd\u5b58\"\u3002 \u518d\u6b21\u8fdb\u5165 \"\u8bbe\u7f6e\"\uff0c\u5728 \"\u4e32\u884c\u8fde\u63a5\" \u4e0b\u5c06 \"\u4e32\u884c\u7aef\u53e3\" \u8bbe\u7f6e\u6539\u4e3a\"/tmp/printer\"\u3002 \u5728 \"\u8bbe\u7f6e \"\u4e2d\uff0c\u6d4f\u89c8\u5230 \"Behavior \"\u5b50\u9009\u9879\u5361\uff0c\u9009\u62e9 \"\u53d6\u6d88\u4efb\u4f55\u6b63\u5728\u8fdb\u884c\u7684\u6253\u5370\uff0c\u4f46\u4fdd\u6301\u4e0e\u6253\u5370\u673a\u7684\u8fde\u63a5 \"\u9009\u9879\u3002\u70b9\u51fb \"\u4fdd\u5b58\"\u3002 \u5728\u4e3b\u9875\u4e0a\uff0c\u5728 \"\u8fde\u63a5 \"\u90e8\u5206\uff08\u5728\u9875\u9762\u7684\u5de6\u4e0a\u65b9\uff09\uff0c\u786e\u4fdd \"\u4e32\u884c\u7aef\u53e3 \"\u88ab\u8bbe\u7f6e\u4e3a\"/tmp/printer\"\uff0c\u7136\u540e\u70b9\u51fb \"\u8fde\u63a5\"\u3002(\u5982\u679c\"/tmp/printer \"\u4e0d\u662f\u4e00\u4e2a\u53ef\u7528\u7684\u9009\u62e9\uff0c\u90a3\u4e48\u8bd5\u7740\u91cd\u65b0\u52a0\u8f7d\u9875\u9762) \u8fde\u63a5\u540e\uff0c\u5bfc\u822a\u5230 \"\u7ec8\u7aef \"\u9009\u9879\u5361\uff0c\u5728\u547d\u4ee4\u8f93\u5165\u6846\u4e2d\u8f93\u5165 \"status\"\uff08\u4e0d\u5e26\u5f15\u53f7\uff09\uff0c\u7136\u540e\u70b9\u51fb \"\u53d1\u9001\"\u3002\u7ec8\u7aef\u7a97\u53e3\u53ef\u80fd\u4f1a\u62a5\u544a\u5728\u6253\u5f00\u914d\u7f6e\u6587\u4ef6\u65f6\u51fa\u73b0\u4e86\u9519\u8bef--\u8fd9\u610f\u5473\u7740 OctoPrint \u4e0e Klipper \u6210\u529f\u5730\u8fdb\u884c\u4e86\u901a\u4fe1\u3002\u7ee7\u7eed\u4e0b\u4e00\u90e8\u5206\u3002","title":"\u4e3aKlipper\u914d\u7f6e OctoPrint"},{"location":"Installation.html#klipper_1","text":"\u4e0b\u4e00\u6b65\u662f\u5c06 \u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6 \u590d\u5236\u5230Raspberry Pi\u3002 \u7f16\u5199 Klipper \u914d\u7f6e\u6587\u4ef6\u7684\u6700\u7b80\u5355\u65b9\u6cd5\u662f\u4f7f\u7528\u652f\u6301\u901a\u8fc7\u201cscp\u201d\u548c/\u6216\u201csftp\u201d\u534f\u8bae\u7f16\u8f91\u6587\u4ef6\u7684\u684c\u9762\u7f16\u8f91\u5668\u3002\u4e00\u4e9b\u514d\u8d39\u63d0\u4f9b\u7684\u5de5\u5177\u652f\u6301\u8fd9\u4e00\u70b9\uff08\u4f8b\u5982\uff0cNotepad ++\uff0cWinSCP\u548cCyberduck\uff09\u3002\u5728\u7f16\u8f91\u5668\u4e2d\u52a0\u8f7d\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u5176\u53e6\u5b58\u4e3a pi \u7528\u6237\u4e3b\u76ee\u5f55\u4e2d\u540d\u4e3a\u201cprinter.cfg\u201d\u7684\u6587\u4ef6\uff08\u5373 /home/pi/printer.cfg\uff09\u3002 \u53e6\u5916\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7 ssh \u5728\u6811\u8393\u6d3e\u4e0a\u76f4\u63a5\u590d\u5236\u548c\u7f16\u8f91\u8be5\u6587\u4ef6\u3002\u8fd9\u53ef\u80fd\u770b\u8d77\u6765\u50cf\u4e0b\u9762\u8fd9\u6837\uff08\u8bf7\u786e\u4fdd\u66f4\u65b0\u547d\u4ee4\u4ee5\u4f7f\u7528\u9002\u5f53\u7684\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\uff09\uff1a cp ~/klipper/config/example-cartesian.cfg ~/printer.cfg nano ~/printer.cfg \u901a\u5e38\u6bcf\u53f0\u6253\u5370\u673a\u90fd\u6709\u81ea\u5df1\u72ec\u7279\u7684\u5fae\u63a7\u5236\u5668\u540d\u79f0\u3002\u5237\u5199Klipper\u540e\uff0c\u540d\u79f0\u53ef\u80fd\u4f1a\u6539\u53d8\uff0c\u6240\u4ee5\u5373\u4f7f\u5728\u95ea\u5b58\u65f6\u5df2\u7ecf\u5b8c\u6210\uff0c\u4e5f\u8981\u91cd\u65b0\u8fd0\u884c\u8fd9\u4e9b\u6b65\u9aa4\u3002\u8fd0\u884c\uff1a ls /dev/serial/by-id/* \u5b83\u5e94\u8be5\u62a5\u544a\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u5185\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u7136\u540e\u7528\u8fd9\u4e2a\u552f\u4e00\u7684\u540d\u5b57\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\u3002\u4f8b\u5982\uff0c\u66f4\u65b0 [mcu] \u90e8\u5206\uff0c\u7c7b\u4f3c\u4e8e\uff1a [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u5728\u521b\u5efa\u548c\u7f16\u8f91\u8be5\u6587\u4ef6\u540e\uff0c\u5fc5\u987b\u5728OctoPrint\u7f51\u7edc\u7ec8\u7aef\u53d1\u51fa\"restart\"\u547d\u4ee4\u4ee5\u52a0\u8f7d\u914d\u7f6e\u3002\u5982\u679cKlipper\u914d\u7f6e\u6587\u4ef6\u88ab\u6210\u529f\u8bfb\u53d6\uff0c\u5e76\u4e14\u6210\u529f\u627e\u5230\u5e76\u914d\u7f6e\u4e86\u5fae\u63a7\u5236\u5668\uff0c\u90a3\u4e48\"status\"\u547d\u4ee4\u5c06\u62a5\u544a\u6253\u5370\u673a\u5df2\u51c6\u5907\u5c31\u7eea\u3002 \u5728\u5b9a\u5236\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u65f6\uff0cKlipper \u62a5\u544a\u914d\u7f6e\u9519\u8bef\u662f\u5f88\u6b63\u5e38\u7684\u60c5\u51b5\u3002\u5982\u679c\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u5bf9\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u5fc5\u8981\u7684\u4fee\u6b63\uff0c\u5e76\u53d1\u51fa\"restart\"\uff0c\u76f4\u5230\"status\"\u62a5\u544a\u6253\u5370\u673a\u5df2\u51c6\u5907\u5c31\u7eea\u3002 Klipper\u901a\u8fc7OctoPrint\u7ec8\u7aef\u6807\u7b7e\u62a5\u544a\u9519\u8bef\u4fe1\u606f\u3002\u53ef\u4ee5\u4f7f\u7528 \"status \"\u547d\u4ee4\u6765\u91cd\u65b0\u62a5\u544a\u9519\u8bef\u4fe1\u606f\u3002\u9ed8\u8ba4\u7684Klipper\u542f\u52a8\u811a\u672c\u4e5f\u5728 /tmp/klippy.log \u4e2d\u653e\u7f6e\u4e00\u4e2a\u65e5\u5fd7\uff0c\u63d0\u4f9b\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u3002 \u5728Klipper\u62a5\u544a\u6253\u5370\u673a\u5df2\u5c31\u7eea\u540e\uff0c\u7ee7\u7eed\u8fdb\u5165 \u914d\u7f6e\u68c0\u67e5\u6587\u4ef6 \uff0c\u5bf9\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u5b9a\u4e49\u8fdb\u884c\u4e00\u4e9b\u57fa\u672c\u68c0\u67e5\u3002\u5176\u4ed6\u4fe1\u606f\u89c1\u4e3b \u6587\u6863\u53c2\u8003 \u3002","title":"\u914d\u7f6e Klipper"},{"location":"Kinematics.html","text":"\u8fd0\u52a8\u5b66 \u00b6 \u8be5\u6587\u6863\u63d0\u4f9bKlipper\u5b9e\u73b0\u673a\u68b0 \u8fd0\u52a8\u5b66 \u63a7\u5236\u7684\u6982\u8ff0\uff0c\u4ee5\u4f9b \u81f4\u529b\u4e8e\u5b8c\u5584Klipper\u7684\u5f00\u53d1\u8005 \u6216 \u5e0c\u671b\u5bf9\u81ea\u5df1\u7684\u8bbe\u5907\u7684\u673a\u68b0\u539f\u7406\u6709\u8fdb\u4e00\u6b65\u4e86\u89e3\u7684\u7231\u597d\u8005 \u53c2\u8003\u3002 \u52a0\u901f \u00b6 Klipper\u603b\u4f7f\u7528\u5e38\u52a0\u901f\u5ea6\u7b56\u7565\u2014\u2014\u6253\u5370\u5934\u7684\u901f\u5ea6\u603b\u662f\u68af\u5ea6\u53d8\u5316\u5230\u65b0\u7684\u901f\u5ea6\uff0c\u800c\u975e\u4f7f\u7528\u901f\u5ea6\u7a81\u53d8\u7684\u65b9\u5f0f\u3002Klipper\u7740\u773c\u4e8e\u6253\u5370\u4ef6\u548c\u6253\u5370\u5934\u4e4b\u95f4\u7684\u901f\u5ea6\u53d8\u5316\u3002\u79bb\u5f00\u6324\u51fa\u673a\u7684\u8017\u6750\u5341\u5206\u8106\u5f31\uff0c\u7a81\u7136\u7684\u79fb\u52a8\u901f\u5ea6\u548c/\u6216\u6324\u51fa\u6d41\u91cf\u7a81\u53d8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9020\u6210\u6253\u5370\u8d28\u91cf\u6216\u5e8a\u9ecf\u7740\u80fd\u529b\u7684\u4e0b\u964d\u3002\u751a\u81f3\u5728\u65e0\u6324\u51fa\u65f6\uff0c\u5982\u679c\u6253\u5370\u5934\u548c\u6253\u5370\u4ef6\u9876\u7aef\u5728\u540c\u4e00\u6c34\u5e73\u9762\u65f6\uff0c\u55b7\u5634\u7684\u901f\u5ea6\u7a81\u53d8\u6709\u53ef\u80fd\u5bf9\u521a\u6324\u51fa\u7684\u8017\u6750\u8fdb\u884c\u5250\u8e6d\u3002\u9650\u5236\u6253\u5370\u5934\u76f8\u5bf9\u4e8e\u6253\u5370\u4ef6\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u51cf\u5c11\u5250\u8e6d\u6253\u5370\u4ef6\u7684\u98ce\u9669\u3002 \u9650\u5236\u51cf\u901f\u5ea6\u4e5f\u80fd\u51cf\u5c11\u6b65\u8fdb\u7535\u673a\u4e22\u6b65\u548c\u70b8\u673a\u7684\u72b6\u51b5\u3002Klipper\u901a\u8fc7\u9650\u5236\u6253\u5370\u5934\u7684\u52a0\u901f\u5ea6\u6765\u9650\u5236\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u529b\u77e9\u3002\u9650\u5236\u6253\u5370\u5934\u7684\u52a0\u901f\u5ea6\u81ea\u7136\u4e5f\u9650\u5236\u4e86\u79fb\u52a8\u6253\u5370\u5934\u7684\u6b65\u8fdb\u5668\u7684\u626d\u77e9\uff08\u53cd\u4e4b\u5219\u4e0d\u4e00\u5b9a\uff09\u3002 Klipper\u5b9e\u73b0\u6052\u52a0\u901f\u5ea6\u63a7\u5236\uff0c\u5173\u952e\u7684\u65b9\u7a0b\u5982\u4e0b\uff1a velocity(time) = start_velocity + accel*time \u68af\u5f62\u53d1\u751f\u5668 \u00b6 Klipper \u4f7f\u7528\u4f20\u7edf\u7684\"\u68af\u5f62\u53d1\u751f\u5668\"\u6765\u4ea7\u751f\u6bcf\u4e2a\u52a8\u4f5c\u7684\u8fd0\u52a8--\u6bcf\u4e2a\u52a8\u4f5c\u90fd\u6709\u4e00\u4e2a\u8d77\u59cb\u901f\u5ea6\uff0c\u5148\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u52a0\u901f\u5230\u4e00\u4e2a\u5de1\u822a\u901f\u5ea6\uff0c\u518d\u4ee5\u6052\u5b9a\u7684\u901f\u5ea6\u5de1\u822a\uff0c\u6700\u540e\u7528\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u51cf\u901f\u5230\u7ec8\u70b9\u901f\u5ea6\u3002 \u56e0\u4e3a\u79fb\u52a8\u65f6\u7684\u901f\u5ea6\u56fe\u770b\u8d77\u6765\u50cf\u4e00\u4e2a\u68af\u5f62\uff0c\u5b83\u88ab\u79f0\u4e3a \"\u68af\u5f62\u53d1\u751f\u5668\"\u3002 \u5de1\u822a\u901f\u5ea6\u603b\u662f\u5927\u4e8e\u7b49\u4e8e\u8d77\u59cb\u548c\u7ec8\u7aef\u901f\u5ea6\u3002\u52a0\u901f\u5ea6\u9636\u6bb5\u53ef\u80fd\u6301\u7eed\u65f6\u95f4\u4e3a0\uff08\u5982\u679c\u8d77\u59cb\u901f\u5ea6\u7b49\u4e8e\u5de1\u822a\u901f\u5ea6\uff09\uff0c\u5de1\u822a\u901f\u5ea6\u7684\u6301\u7eed\u65f6\u95f4\u4e5f\u53ef\u4e3a0\uff08\u5982\u679c\u5728\u52a0\u901f\u7ed3\u675f\u540e\u9a6c\u4e0a\u8fdb\u884c\u51cf\u901f\uff09\uff0c\u51cf\u901f\u9636\u6bb5\u4e5f\u80fd\u4e3a0\uff08\u5982\u679c\u7ec8\u7aef\u901f\u5ea6\u7b49\u4e8e\u5de1\u822a\u901f\u5ea6\uff09\u3002 \u9884\u8ba1\u7b97\uff08look-ahead\uff09 \u00b6 \u62d0\u89d2\u901f\u5ea6\u4f7f\u7528\u9884\u8ba1\u7b97\u7cfb\u7edf\u8fdb\u884c\u5904\u7406\u3002 \u8003\u8651\u4ee5\u4e0b\u4e24\u4e2a\u5728 XY \u5e73\u9762\u4e0a\u7684\u79fb\u52a8\uff1a \u5728\u4e0a\u8ff0\u7684\u72b6\u51b5\u4e0b\uff0c\u6253\u5370\u673a\u53ef\u4ee5\u5728\u7b2c\u4e00\u6b65\u65f6\u51cf\u901f\u81f3\u505c\u6b62\uff0c\u5e76\u5728\u7b2c\u4e8c\u6b65\u5f00\u59cb\u65f6\u52a0\u901f\u81f3\u5de1\u822a\u901f\u5ea6\u3002\u4f46\u8fd9\u79cd\u8fd0\u52a8\u7b56\u7565\u5e76\u4e0d\u7406\u60f3\uff0c\u5b8c\u5168\u51cf\u901f\u548c\u5b8c\u5168\u52a0\u901f\u4f1a\u5927\u5e45\u589e\u52a0\u6253\u5370\u65f6\u95f4\uff0c\u540c\u65f6\u6324\u51fa\u91cf\u4f1a\u9891\u7e41\u53d8\u52a8\uff0c\u4ece\u800c\u5bfc\u81f4\u6253\u5370\u8d28\u91cf\u7684\u4e0b\u964d\u3002 \u8981\u89e3\u51b3\u8fd9\u79cd\u60c5\u51b5\uff0cklipper\u5f15\u5165\u4e86\u9884\u8ba1\u7b97\u673a\u5236\uff0c\u9884\u5148\u4f9d\u6b21\u8ba1\u7b97\u540e\u7eed\u7684\u6570\u4e2a\u79fb\u52a8\uff0c\u5206\u6790\u5176\u4e2d\u7684\u62d0\u89d2\u5e76\u786e\u5b9a\u5408\u9002\u7684\u62d0\u89d2\u901f\u5ea6\u3002\u5982\u679c\u4e0b\u4e00\u6b65\u7684\u901f\u5ea6\u4e0e\u73b0\u65f6\u7684\u79fb\u52a8\u901f\u5ea6\u76f8\u8fd1\uff0c\u5219\u6ed1\u8f66\u901f\u5ea6\u4ec5\u4f1a\u7a0d\u5fae\u51cf\u5c11\u3002 \u7136\u800c\uff0c\u5982\u679c\u4e0b\u4e00\u6b65\u5f62\u6210\u4e00\u4e2a\u5c16\u9510\u7684\u62d0\u89d2\uff08\u6ed1\u8f66\u5c06\u5728\u4e0b\u4e00\u6b65\u8fdb\u884c\u8fd1\u4e8e\u53cd\u65b9\u5411\u7684\u79fb\u52a8\uff09\uff0c\u5219\u53ea\u80fd\u91c7\u7528\u4e00\u4e2a\u5f88\u4f4e\u7684\u62d0\u89d2\u901f\u5ea6\u3002 \u8f6c\u89d2\u901f\u5ea6\u7531\u201c\u8fd1\u4f3c\u5411\u5fc3\u52a0\u901f\u5ea6\u201d\u786e\u5b9a\u3002\u6700\u597d \u7531\u4f5c\u8005\u63cf\u8ff0 \u3002\u7136\u800c\u5728Klipper\u4e2d\u8f6c\u89d2\u901f\u5ea6\u662f\u901a\u8fc7\u6307\u5b9a90\u00b0\u89d2\u5e94\u8be5\u6709\u7684\u7406\u60f3\u901f\u5ea6\uff08\u201c\u76f4\u89d2\u901f\u5ea6\u201d\uff09\u5e76\u4e14\u5176\u4ed6\u7684\u89d2\u5ea6\u7684\u8f6c\u89d2\u901f\u5ea6\u4e5f\u662f\u6839\u636e\u5b83\u63a8\u5bfc\u51fa\u6765\u7684\u3002 \u9884\u8ba1\u7b97\u7684\u5173\u952e\u65b9\u7a0b\uff1a end_velocity^2 = start_velocity^2 + 2*accel*move_distance \u9884\u8ba1\u7b97\u7ed3\u679c\u5e73\u6ed1 \u00b6 Klipper \u5b9e\u73b0\u4e86\u4e00\u79cd\u7528\u4e8e\u5e73\u6ed1\u77ed\u8ddd\u79bb\u4e4b\u5b57\u5f62\u79fb\u52a8\u7684\u673a\u5236\u3002\u53c2\u8003\u4ee5\u4e0b\u79fb\u52a8\uff1a \u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\uff0c\u4ece\u52a0\u901f\u5230\u51cf\u901f\u7684\u9891\u7e41\u53d8\u5316\u4f1a\u5bfc\u81f4\u673a\u5668\u632f\u52a8\u5e76\u4e14\u4f1a\u5bf9\u673a\u5668\u9020\u6210\u538b\u529b\u548c\u52a0\u566a\u97f3\u3002\u4e3a\u4e86\u51cf\u5c11\u8fd9\u79cd\u60c5\u51b5\uff0cKlipper\u65e2\u8ddf\u8e2a\u5e38\u89c4\u7684\u79fb\u52a8\u52a0\u901f\u5ea6\u5e76\u4e14\u4e5f\u8ddf\u8e2a\u865a\u62df\u7684\"\u52a0\u51cf\u901f\u7387\"\u3002\u5229\u7528\u8fd9\u4e2a\u7cfb\u7edf\uff0c\u8fd9\u4e9b\u77ed\u7684\"zigzag\"\u79fb\u52a8\u7684\u6700\u9ad8\u901f\u5ea6\u88ab\u9650\u5236\u4ee5\u4f7f\u5f97\u6253\u5370\u673a\u7684\u8fd0\u52a8\u53ef\u4ee5\u66f4\u52a0\u5e73\u6ed1\uff1a \u5177\u4f53\u6765\u8bf4\uff0c\u4ee3\u7801\u8ba1\u7b97\u7684\u662f\u9650\u5236\u5728\u8fd9\u4e2a\u865a\u62df\u7684\u201c\u52a0\u901f\u5230\u51cf\u901f\u201d\u7387\u4e0b\u65f6\uff08\u9ed8\u8ba4\u4e3a\u6b63\u5e38\u52a0\u901f\u7387\u7684\u4e00\u534a\uff09\uff0c\u6bcf\u4e2a\u52a8\u4f5c\u7684\u901f\u5ea6\u662f\u591a\u5c11\u3002\u5728\u4e0a\u56fe\u4e2d\uff0c\u7070\u8272\u865a\u7ebf\u4ee3\u8868\u4e86\u7b2c\u4e00\u6bb5\u79fb\u52a8\u65f6\u7684\u865a\u62df\u52a0\u901f\u7387\u3002\u5982\u679c\u4e00\u6bb5\u79fb\u52a8\u4f7f\u7528\u8fd9\u4e2a\u865a\u62df\u52a0\u901f\u5ea6\u4e0d\u80fd\u8fbe\u5230\u76ee\u6807\u5de1\u822a\u901f\u5ea6\uff0c\u90a3\u4e48\u8fd9\u6bb5\u79fb\u52a8\u7684\u6700\u9ad8\u901f\u5ea6\u5c06\u88ab\u964d\u4f4e\u5230\u5b83\u5728\u8fd9\u4e2a\u865a\u62df\u52a0\u901f\u7387\u4e0b\u6240\u80fd\u83b7\u5f97\u7684\u6700\u5927\u901f\u5ea6\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u79fb\u52a8\u6765\u8bf4\uff0c\u8be5\u9650\u5236\u5c06\u5904\u4e8e\u6216\u9ad8\u4e8e\u8be5\u79fb\u52a8\u7684\u73b0\u6709\u9650\u5236\uff0c\u5e76\u4e14\u4e0d\u4f1a\u6539\u53d8\u79fb\u52a8\u7684\u884c\u4e3a\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u77ed\u7684 \"\u4e4b \"\u5b57\u5f62\u79fb\u52a8\uff0c\u8fd9\u4e2a\u9650\u5236\u4f1a\u964d\u4f4e\u6700\u9ad8\u901f\u5ea6\u3002\u8bf7\u6ce8\u610f\uff0c\u5b83\u4e0d\u4f1a\u6539\u53d8\u79fb\u52a8\u4e2d\u7684\u5b9e\u9645\u52a0\u901f\u5ea6--\u79fb\u52a8\u4f1a\u7ee7\u7eed\u4f7f\u7528\u6b63\u5e38\u7684\u52a0\u901f\uff0c\u76f4\u5230\u5176\u8c03\u6574\u540e\u7684\u6700\u9ad8\u901f\u5ea6\u3002 \u751f\u6210\u6b65\u6570\uff08Generating steps\uff09 \u00b6 \u524d\u77bb\u8fc7\u7a0b\u5b8c\u6210\u540e\u7ed9\u5b9a\u79fb\u52a8\u7684\u6253\u5370\u5934\u8fd0\u52a8\u5df2\u88ab\u786e\u5b9a\uff08\u65f6\u95f4\u3001\u5f00\u59cb\u4f4d\u7f6e\u3001\u7ed3\u675f\u4f4d\u7f6e\u3001\u6bcf\u4e00\u70b9\u7684\u901f\u5ea6\uff09\uff0c\u53ef\u4ee5\u88ab\u7528\u4e8e\u751f\u6210\u79fb\u52a8\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u5728Klipper\u4ee3\u7801\u7684\u8fd0\u52a8\u5b66\u7c7b\u4e2d\u5b8c\u6210\u7684\u3002\u5728\u8fd9\u4e9b\u8fd0\u52a8\u5b66\u7c7b\u4e4b\u5916\uff0c\u6240\u6709\u7684\u4e1c\u897f\u90fd\u662f\u4ee5\u6beb\u7c73\u3001\u79d2\u4e3a\u5355\u4f4d\uff0c\u5728\u7b1b\u5361\u5c14\u5750\u6807\u7a7a\u95f4\u8fdb\u884c\u8ddf\u8e2a\u3002\u8fd0\u52a8\u5b66\u7c7b\u8d1f\u8d23\u5c06\u8fd9\u4e2a\u901a\u7528\u5750\u6807\u7cfb\u7edf\u8f6c\u6362\u4e3a\u7b26\u5408\u6253\u5370\u673a\u786c\u4ef6\u7279\u6027\u7684\u5750\u6807\u7cfb\u3002 Klipper\u4f7f\u7528\u4e00\u4e2a \u8fed\u4ee3\u6c42\u89e3\u5668 \u6765\u751f\u6210\u6bcf\u4e2a\u6b65\u8fdb\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u8be5\u4ee3\u7801\u5305\u542b\u4e86\u8ba1\u7b97\u6253\u5370\u5934\u5728\u6bcf\u4e2a\u65f6\u95f4\u70b9\u4e0a\u7684\u7406\u60f3\u7b1b\u5361\u5c14\u5750\u6807\u7684\u516c\u5f0f\uff0c\u5b83\u8fd8\u6709\u8fd0\u52a8\u5b66\u516c\u5f0f\u6765\u8ba1\u7b97\u57fa\u4e8e\u8fd9\u4e9b\u7b1b\u5361\u5c14\u5750\u6807\u7684\u7406\u60f3\u6b65\u8fdb\u4f4d\u7f6e\u3002\u901a\u8fc7\u8fd9\u4e9b\u516c\u5f0f\uff0cKlipper\u53ef\u4ee5\u786e\u5b9a\u6b65\u8fdb\u7535\u673a\u5728\u6bcf\u4e2a\u6b65\u8fdb\u4f4d\u7f6e\u65f6\u7684\u7406\u60f3\u6b65\u8fdb\u65f6\u95f4\u3002\u7136\u540e\u5728\u8fd9\u4e9b\u8ba1\u7b97\u51fa\u7684\u65f6\u95f4\u5185\u5b89\u6392\u7ed9\u5b9a\u7684\u6b65\u8fdb\u3002 \u786e\u5b9a\u4e00\u4e2a\u79fb\u52a8\u5728\u6052\u5b9a\u52a0\u901f\u5ea6\u4e0b\u5e94\u8be5\u79fb\u52a8\u591a\u8fdc\u7684\u5173\u952e\u516c\u5f0f\u662f\uff1a move_distance = (start_velocity + .5 * accel * move_time) * move_time \u5e76\u4e14\u5300\u901f\u8fd0\u52a8\u7684\u5173\u952e\u516c\u5f0f\u662f\uff1a move_distance = cruise_velocity * move_time \u5728\u7ed9\u5b9a\u79fb\u52a8\u8ddd\u79bb\u7684\u60c5\u51b5\u4e0b\u7528\u4e8e\u786e\u5b9a\u79fb\u52a8\u7684\u7b1b\u5361\u5c14\u5750\u6807\u7684\u5173\u952e\u516c\u5f0f\u4e3a\uff1a cartesian_x_position = start_x + move_distance * total_x_movement / total_movement cartesian_y_position = start_y + move_distance * total_y_movement / total_movement cartesian_z_position = start_z + move_distance * total_z_movement / total_movement \u7b1b\u5361\u5c14\u673a\u5668 \u00b6 \u4e3a\u7b1b\u5361\u5c14\u5750\u6807\u7684\u6253\u5370\u673a\u751f\u6210\u6b65\u8fdb\u662f\u6700\u7b80\u5355\u7684\u60c5\u51b5\u3002\u6bcf\u4e2a\u8f74\u4e0a\u7684\u8fd0\u52a8\u4e0e\u7b1b\u5361\u5c14\u7a7a\u95f4\u4e2d\u7684\u8fd0\u52a8\u76f4\u63a5\u76f8\u5173\u3002 \u5173\u952e\u516c\u5f0f\uff1a stepper_x_position = cartesian_x_position stepper_y_position = cartesian_y_position stepper_z_position = cartesian_z_position CoreXY \u673a\u5668 \u00b6 \u5728CoreXY\u7684\u673a\u5668\u4e0a\u751f\u6210\u6b65\u8fdb\u53ea\u6bd4\u57fa\u672c\u7684\u5361\u7279\u5c14\u673a\u5668\u4eba\u590d\u6742\u4e00\u70b9\u3002\u5173\u952e\u516c\u5f0f\u662f\uff1a stepper_a_position = cartesian_x_position + cartesian_y_position stepper_b_position = cartesian_x_position - cartesian_y_position stepper_z_position = cartesian_z_position \u4e09\u89d2\u6d32\u673a\u5668 \u00b6 \u4e09\u89d2\u6d32\u7ed3\u6784\u673a\u5668\u4eba\u4e0a\u7684\u6b65\u8fdb\u751f\u6210\u57fa\u4e8e\u52fe\u80a1\u5b9a\u7406\uff1a stepper_position = (sqrt(arm_length^2 - (cartesian_x_position - tower_x_position)^2 - (cartesian_y_position - tower_y_position)^2) + cartesian_z_position) \u6b65\u8fdb\u7535\u673a\u52a0\u901f\u9650\u5236 \u00b6 \u5728\u4e09\u89d2\u6d32\u673a\u5668\u8fd0\u52a8\u65f6\uff0c\u6253\u5370\u5934\u5728\u7b1b\u5361\u5c14\u7a7a\u95f4\u4e2d\u8fd0\u52a8\u8fdb\u884c\u4e00\u5b9a\u52a0\u901f\u5ea6\u7684\u52a0\u901f\u8fd0\u52a8\uff0c\u5176\u5bf9\u5e94\u8f74\u7684\u6b65\u8fdb\u7535\u673a\u9700\u8981\u9ad8\u4e8e\u524d\u8ff0\u52a0\u901f\u5ea6\u7684\u52a0\u901f\u5ea6\u3002\u8fd9\u79cd\u72b6\u51b5\u5728\u4e00\u6253\u5370\u58c1\u9700\u63d0\u4f9b\u7684\u6c34\u5e73\u8fd0\u52a8\u5e45\u5ea6\u5927\u4e8e\u5782\u76f4\u8fd0\u52a8\u5e45\u5ea6\uff0c\u5e76\u4e14\uff0c\u8fd0\u52a8\u76f4\u7ebf\u9760\u8fd1\u67d0\u4e00\u5782\u67f1\u65f6\u53d1\u751f\u3002\u5c3d\u7ba1\u8fd9\u4e9b\u8fd0\u52a8\u4f1a\u8981\u6c42\u6b65\u8fdb\u7535\u673a\u7684\u52a0\u901f\u5ea6\u8d85\u8fc7\u6253\u5370\u673a\u7684\u52a0\u901f\u5ea6\u8bbe\u7f6e\u9650\u989d\uff0c\u4f46\u5355\u4e2a\u6b65\u8fdb\u7535\u673a\u9700\u8981\u627f\u62c5\u7684\u6709\u6548\u8d28\u91cf\u662f\u76f8\u5bf9\u8f83\u5c0f\u7684\u3002\u56e0\u6b64\uff0c\u589e\u52a0\u7684\u6b65\u8fdb\u7535\u673a\u52a0\u901f\u5ea6\u4e0d\u4f1a\u663e\u8457\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u7684\u626d\u77e9\u9700\u6c42\uff0c\u53ef\u8ba4\u4e3a\u8fd9\u79cd\u73b0\u8c61\u662f\u65e0\u5bb3\u7684\u3002 \u7136\u800c\uff0c\u4e3a\u4e86\u907f\u514d\u6781\u7aef\u72b6\u51b5\uff0cKlipper\u5f3a\u5236\u5c06\u6b65\u8fdb\u7535\u673a\u7684\u52a0\u901f\u5ea6\u4e0a\u9650\u8bbe\u7f6e\u4e3a\u6253\u5370\u673a\u52a0\u901f\u5ea6\u4e0a\u9650\u76843\u500d\u3002\uff08\u540c\u6837\uff0c\u6b65\u8fdb\u7535\u673a\u7684\u901f\u5ea6\u4e0a\u9650\u4e5f\u8bbe\u7f6e\u4e3a\u6253\u5370\u673a\u901f\u5ea6\u4e0a\u9650\u76843\u500d\u3002\uff09\u4e3a\u4e86\u5b9e\u73b0\u4e0a\u8ff0\u8bbe\u7f6e\uff0c\u5728\u6253\u5370\u533a\u57df\u6c34\u5e73\u8fb9\u6cbf\u7684\uff08\u5b58\u5728\u6253\u5370\u81c2\u63a5\u8fd1\u6c34\u5e73\u7684\uff09\u4f4d\u7f6e\uff0c\u6253\u5370\u5934\u7684\u901f\u5ea6\u548c\u52a0\u901f\u5ea6\u4e0a\u9650\u5c06\u76f8\u5e94\u964d\u4f4e\u3002 \u6324\u51fa\u673a\u8fd0\u52a8\u5b66 \u00b6 Klipper \u5728\u81ea\u8eab\u7684\u8fd0\u52a8\u5b66\u7c7b\u4e2d\u5b9e\u73b0\u4e86\u6324\u51fa\u673a\u7684\u8fd0\u52a8\u3002\u7531\u4e8e\u6bcf\u4e2a\u6253\u5370\u5934\u8fd0\u52a8\u7684\u65f6\u95f4\u548c\u901f\u5ea6\u662f\u5b8c\u5168\u5df2\u77e5\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u72ec\u7acb\u4e8e\u6253\u5370\u5934\u8fd0\u52a8\u7684\u6b65\u957f\u8ba1\u7b97\u6765\u8ba1\u7b97\u6324\u51fa\u673a\u7684\u6b65\u957f\u3002 \u57fa\u672c\u7684\u6324\u51fa\u673a\u8fd0\u52a8\u8ba1\u7b97\u8d77\u6765\u5f88\u7b80\u5355\u3002\u6b65\u8fdb\u65f6\u95f4\u7684\u751f\u6210\u4f7f\u7528\u548c\u7b1b\u5361\u5c14\u7ed3\u6784\u76f8\u540c\u7684\u516c\u5f0f\uff1a stepper_position = requested_e_position \u538b\u529b\u63d0\u524d \u00b6 \u5b9e\u9a8c\u8868\u660e\uff0c\u5728\u57fa\u672c\u7684\u6324\u51fa\u673a\u65b9\u7a0b\u4e4b\u4e0a\u53ef\u4ee5\u6539\u8fdb\u6324\u51fa\u673a\u7684\u6a21\u578b\u3002\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u968f\u7740\u6324\u51fa\u79fb\u52a8\u7684\u8fdb\u884c\uff0c\u6cbf\u79fb\u52a8\u7684\u6bcf\u4e2a\u70b9\u5e94\u5bc4\u51fa\u76f8\u540c\u4f53\u79ef\u7684\u8017\u6750\uff0c\u5e76\u4e14\u5728\u79fb\u52a8\u540e\u4e0d\u5e94\u6324\u51fa\u4efb\u4f55\u8017\u6750\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5728\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u57fa\u672c\u7684\u6324\u51fa\u673a\u65b9\u7a0b\u4f1a\u5bfc\u81f4\u5728\u6324\u51fa\u8fd0\u52a8\u5f00\u59cb\u65f6\u6324\u51fa\u8fc7\u5c11\u7684\u8017\u6750\uff0c\u5e76\u4e14\u5728\u6324\u51fa\u7ed3\u675f\u540e\u6324\u51fa\u8fc7\u591a\u7684\u8017\u6750\u3002\u8fd9\u901a\u5e38\u88ab\u79f0\u4e3a\u201c\u6ea2\u6599\u201d\u3002 \"\u538b\u529b\u63a8\u8fdb\"\u7cfb\u7edf\u8bd5\u56fe\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u4e0d\u540c\u7684\u6324\u51fa\u673a\u6a21\u578b\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5b83\u4e0d\u7406\u60f3\u7684\u5047\u8bbe\u9001\u5165\u6324\u51fa\u673a\u7684\u6bcfmm^3\u8017\u6750\u5c06\u5bfc\u81f4\u8be5\u4f53\u79ef\u7684mm^3\u7acb\u5373\u88ab\u6324\u51fa\uff0c\u800c\u662f\u4f7f\u7528\u57fa\u4e8e\u538b\u529b\u7684\u6a21\u578b\u3002\u5f53\u8017\u6750\u88ab\u63a8\u5165\u6324\u51fa\u673a\u65f6\uff0c\u538b\u529b\u4f1a\u589e\u52a0\uff08\u5982 \u80e1\u514b\u5b9a\u5f8b \uff09\uff0c\u800c\u6324\u51fa\u6240\u9700\u7684\u538b\u529b\u5219\u7531\u901a\u8fc7\u55b7\u5634\u5b54\u53e3\u7684\u6d41\u901f\u51b3\u5b9a\uff08\u5982 \u6cca\u4f0a\u7ef4\u5c14\u5b9a\u5f8b \uff09\u3002\u5173\u952e\u7684\u60f3\u6cd5\u662f\uff0c\u8017\u6750\u3001\u538b\u529b\u548c\u6d41\u901f\u4e4b\u95f4\u7684\u5173\u7cfb\u53ef\u4ee5\u7528\u4e00\u4e2a\u7ebf\u6027\u7cfb\u6570\u6765\u5efa\u6a21\uff1a pa_position = nominal_position + pressure_advance_coefficient * nominal_velocity \u6709\u5173\u5982\u4f55\u6d4b\u91cf\u538b\u529b\u63d0\u524d\u7cfb\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u538b\u529b\u63d0\u524d \u6587\u6863\u3002 \u57fa\u672c\u7684\u538b\u529b\u63a8\u8fdb\u516c\u5f0f\u4f1a\u5bf9\u6324\u51fa\u673a\u7535\u673a\u7684\u901f\u5ea6\u8fdb\u884c\u5f88\u5927\u7684\u77ac\u65f6\u8c03\u6574\u3002Klipper \u901a\u8fc7\u5b9e\u65bd\u6324\u51fa\u673a\u8fd0\u52a8\u7684\"\u5e73\u6ed1\"\uff08smoothing\uff09\u4ee5\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u3002 \u4e0a\u56fe\u4ee5\u4e24\u4e2a\u6324\u51fa\u8fd0\u52a8\u4e3a\u4f8b\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u8f6c\u5f2f\u901f\u5ea6\u4e0d\u4e3a\u96f6\u3002\u8bf7\u6ce8\u610f\uff0c\u538b\u529b\u63a8\u8fdb\u7cfb\u7edf\u5728\u52a0\u901f\u8fc7\u7a0b\u4e2d\u4f1a\u5bfc\u81f4\u989d\u5916\u7684\u8017\u6750\u88ab\u63a8\u5165\u6324\u51fa\u673a\u3002\u6240\u9700\u7684\u8017\u6750\u6d41\u91cf\u8d8a\u9ad8\uff0c\u5728\u52a0\u901f\u8fc7\u7a0b\u4e2d\u5fc5\u987b\u63a8\u5165\u66f4\u591a\u7684\u8017\u6750\u4ee5\u5747\u8861\u538b\u529b\u3002\u5728\u6253\u5370\u5934\u51cf\u901f\u671f\u95f4\uff0c\u989d\u5916\u7684\u8017\u6750\u4f1a\u88ab\u56de\u62bd\uff08\u6324\u51fa\u673a\u5c06\u6709\u4e00\u4e2a\u8d1f\u901f\u5ea6\uff09\u3002 \u201c\u5e73\u6ed1\u201d\u7531\u6324\u51fa\u673a\u4f4d\u7f6e\u5728\u4e00\u5c0f\u6bb5\u65f6\u95f4\u5185\u7684\u52a0\u6743\u5e73\u5747\u503c\u5b9e\u73b0\u7684\uff08\u7531 pressure_advance_smooth_time \u914d\u7f6e\u53c2\u6570\u6307\u5b9a\uff09\u3002\u8fd9\u79cd\u5e73\u5747\u53ef\u4ee5\u8de8\u8d8a\u591a\u4e2a g \u4ee3\u7801\u79fb\u52a8\u3002\u8bf7\u6ce8\u610f\uff0c\u6324\u51fa\u673a\u7535\u673a\u5c06\u5982\u4f55\u5728\u7b2c\u4e00\u6b21\u6324\u51fa\u8fd0\u52a8\u7684\u6807\u79f0\u8d77\u70b9\u4e4b\u524d\u5f00\u59cb\u79fb\u52a8\uff0c\u5e76\u5728\u6700\u540e\u4e00\u6b21\u6324\u51fa\u8fd0\u52a8\u7684\u6807\u79f0\u7ed3\u675f\u4e4b\u540e\u7ee7\u7eed\u79fb\u52a8\u3002 \"\u5e73\u6ed1\u538b\u529b\u63d0\u524d\"\u7684\u5173\u952e\u516c\u5f0f\uff1a smooth_pa_position(t) = ( definitive_integral(pa_position(x) * (smooth_time/2 - abs(t - x)) * dx, from=t-smooth_time/2, to=t+smooth_time/2) / (smooth_time/2)^2 )","title":"\u8fd0\u52a8\u5b66"},{"location":"Kinematics.html#_1","text":"\u8be5\u6587\u6863\u63d0\u4f9bKlipper\u5b9e\u73b0\u673a\u68b0 \u8fd0\u52a8\u5b66 \u63a7\u5236\u7684\u6982\u8ff0\uff0c\u4ee5\u4f9b \u81f4\u529b\u4e8e\u5b8c\u5584Klipper\u7684\u5f00\u53d1\u8005 \u6216 \u5e0c\u671b\u5bf9\u81ea\u5df1\u7684\u8bbe\u5907\u7684\u673a\u68b0\u539f\u7406\u6709\u8fdb\u4e00\u6b65\u4e86\u89e3\u7684\u7231\u597d\u8005 \u53c2\u8003\u3002","title":"\u8fd0\u52a8\u5b66"},{"location":"Kinematics.html#_2","text":"Klipper\u603b\u4f7f\u7528\u5e38\u52a0\u901f\u5ea6\u7b56\u7565\u2014\u2014\u6253\u5370\u5934\u7684\u901f\u5ea6\u603b\u662f\u68af\u5ea6\u53d8\u5316\u5230\u65b0\u7684\u901f\u5ea6\uff0c\u800c\u975e\u4f7f\u7528\u901f\u5ea6\u7a81\u53d8\u7684\u65b9\u5f0f\u3002Klipper\u7740\u773c\u4e8e\u6253\u5370\u4ef6\u548c\u6253\u5370\u5934\u4e4b\u95f4\u7684\u901f\u5ea6\u53d8\u5316\u3002\u79bb\u5f00\u6324\u51fa\u673a\u7684\u8017\u6750\u5341\u5206\u8106\u5f31\uff0c\u7a81\u7136\u7684\u79fb\u52a8\u901f\u5ea6\u548c/\u6216\u6324\u51fa\u6d41\u91cf\u7a81\u53d8\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9020\u6210\u6253\u5370\u8d28\u91cf\u6216\u5e8a\u9ecf\u7740\u80fd\u529b\u7684\u4e0b\u964d\u3002\u751a\u81f3\u5728\u65e0\u6324\u51fa\u65f6\uff0c\u5982\u679c\u6253\u5370\u5934\u548c\u6253\u5370\u4ef6\u9876\u7aef\u5728\u540c\u4e00\u6c34\u5e73\u9762\u65f6\uff0c\u55b7\u5634\u7684\u901f\u5ea6\u7a81\u53d8\u6709\u53ef\u80fd\u5bf9\u521a\u6324\u51fa\u7684\u8017\u6750\u8fdb\u884c\u5250\u8e6d\u3002\u9650\u5236\u6253\u5370\u5934\u76f8\u5bf9\u4e8e\u6253\u5370\u4ef6\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u51cf\u5c11\u5250\u8e6d\u6253\u5370\u4ef6\u7684\u98ce\u9669\u3002 \u9650\u5236\u51cf\u901f\u5ea6\u4e5f\u80fd\u51cf\u5c11\u6b65\u8fdb\u7535\u673a\u4e22\u6b65\u548c\u70b8\u673a\u7684\u72b6\u51b5\u3002Klipper\u901a\u8fc7\u9650\u5236\u6253\u5370\u5934\u7684\u52a0\u901f\u5ea6\u6765\u9650\u5236\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u7684\u529b\u77e9\u3002\u9650\u5236\u6253\u5370\u5934\u7684\u52a0\u901f\u5ea6\u81ea\u7136\u4e5f\u9650\u5236\u4e86\u79fb\u52a8\u6253\u5370\u5934\u7684\u6b65\u8fdb\u5668\u7684\u626d\u77e9\uff08\u53cd\u4e4b\u5219\u4e0d\u4e00\u5b9a\uff09\u3002 Klipper\u5b9e\u73b0\u6052\u52a0\u901f\u5ea6\u63a7\u5236\uff0c\u5173\u952e\u7684\u65b9\u7a0b\u5982\u4e0b\uff1a velocity(time) = start_velocity + accel*time","title":"\u52a0\u901f"},{"location":"Kinematics.html#_3","text":"Klipper \u4f7f\u7528\u4f20\u7edf\u7684\"\u68af\u5f62\u53d1\u751f\u5668\"\u6765\u4ea7\u751f\u6bcf\u4e2a\u52a8\u4f5c\u7684\u8fd0\u52a8--\u6bcf\u4e2a\u52a8\u4f5c\u90fd\u6709\u4e00\u4e2a\u8d77\u59cb\u901f\u5ea6\uff0c\u5148\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u52a0\u901f\u5230\u4e00\u4e2a\u5de1\u822a\u901f\u5ea6\uff0c\u518d\u4ee5\u6052\u5b9a\u7684\u901f\u5ea6\u5de1\u822a\uff0c\u6700\u540e\u7528\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u51cf\u901f\u5230\u7ec8\u70b9\u901f\u5ea6\u3002 \u56e0\u4e3a\u79fb\u52a8\u65f6\u7684\u901f\u5ea6\u56fe\u770b\u8d77\u6765\u50cf\u4e00\u4e2a\u68af\u5f62\uff0c\u5b83\u88ab\u79f0\u4e3a \"\u68af\u5f62\u53d1\u751f\u5668\"\u3002 \u5de1\u822a\u901f\u5ea6\u603b\u662f\u5927\u4e8e\u7b49\u4e8e\u8d77\u59cb\u548c\u7ec8\u7aef\u901f\u5ea6\u3002\u52a0\u901f\u5ea6\u9636\u6bb5\u53ef\u80fd\u6301\u7eed\u65f6\u95f4\u4e3a0\uff08\u5982\u679c\u8d77\u59cb\u901f\u5ea6\u7b49\u4e8e\u5de1\u822a\u901f\u5ea6\uff09\uff0c\u5de1\u822a\u901f\u5ea6\u7684\u6301\u7eed\u65f6\u95f4\u4e5f\u53ef\u4e3a0\uff08\u5982\u679c\u5728\u52a0\u901f\u7ed3\u675f\u540e\u9a6c\u4e0a\u8fdb\u884c\u51cf\u901f\uff09\uff0c\u51cf\u901f\u9636\u6bb5\u4e5f\u80fd\u4e3a0\uff08\u5982\u679c\u7ec8\u7aef\u901f\u5ea6\u7b49\u4e8e\u5de1\u822a\u901f\u5ea6\uff09\u3002","title":"\u68af\u5f62\u53d1\u751f\u5668"},{"location":"Kinematics.html#look-ahead","text":"\u62d0\u89d2\u901f\u5ea6\u4f7f\u7528\u9884\u8ba1\u7b97\u7cfb\u7edf\u8fdb\u884c\u5904\u7406\u3002 \u8003\u8651\u4ee5\u4e0b\u4e24\u4e2a\u5728 XY \u5e73\u9762\u4e0a\u7684\u79fb\u52a8\uff1a \u5728\u4e0a\u8ff0\u7684\u72b6\u51b5\u4e0b\uff0c\u6253\u5370\u673a\u53ef\u4ee5\u5728\u7b2c\u4e00\u6b65\u65f6\u51cf\u901f\u81f3\u505c\u6b62\uff0c\u5e76\u5728\u7b2c\u4e8c\u6b65\u5f00\u59cb\u65f6\u52a0\u901f\u81f3\u5de1\u822a\u901f\u5ea6\u3002\u4f46\u8fd9\u79cd\u8fd0\u52a8\u7b56\u7565\u5e76\u4e0d\u7406\u60f3\uff0c\u5b8c\u5168\u51cf\u901f\u548c\u5b8c\u5168\u52a0\u901f\u4f1a\u5927\u5e45\u589e\u52a0\u6253\u5370\u65f6\u95f4\uff0c\u540c\u65f6\u6324\u51fa\u91cf\u4f1a\u9891\u7e41\u53d8\u52a8\uff0c\u4ece\u800c\u5bfc\u81f4\u6253\u5370\u8d28\u91cf\u7684\u4e0b\u964d\u3002 \u8981\u89e3\u51b3\u8fd9\u79cd\u60c5\u51b5\uff0cklipper\u5f15\u5165\u4e86\u9884\u8ba1\u7b97\u673a\u5236\uff0c\u9884\u5148\u4f9d\u6b21\u8ba1\u7b97\u540e\u7eed\u7684\u6570\u4e2a\u79fb\u52a8\uff0c\u5206\u6790\u5176\u4e2d\u7684\u62d0\u89d2\u5e76\u786e\u5b9a\u5408\u9002\u7684\u62d0\u89d2\u901f\u5ea6\u3002\u5982\u679c\u4e0b\u4e00\u6b65\u7684\u901f\u5ea6\u4e0e\u73b0\u65f6\u7684\u79fb\u52a8\u901f\u5ea6\u76f8\u8fd1\uff0c\u5219\u6ed1\u8f66\u901f\u5ea6\u4ec5\u4f1a\u7a0d\u5fae\u51cf\u5c11\u3002 \u7136\u800c\uff0c\u5982\u679c\u4e0b\u4e00\u6b65\u5f62\u6210\u4e00\u4e2a\u5c16\u9510\u7684\u62d0\u89d2\uff08\u6ed1\u8f66\u5c06\u5728\u4e0b\u4e00\u6b65\u8fdb\u884c\u8fd1\u4e8e\u53cd\u65b9\u5411\u7684\u79fb\u52a8\uff09\uff0c\u5219\u53ea\u80fd\u91c7\u7528\u4e00\u4e2a\u5f88\u4f4e\u7684\u62d0\u89d2\u901f\u5ea6\u3002 \u8f6c\u89d2\u901f\u5ea6\u7531\u201c\u8fd1\u4f3c\u5411\u5fc3\u52a0\u901f\u5ea6\u201d\u786e\u5b9a\u3002\u6700\u597d \u7531\u4f5c\u8005\u63cf\u8ff0 \u3002\u7136\u800c\u5728Klipper\u4e2d\u8f6c\u89d2\u901f\u5ea6\u662f\u901a\u8fc7\u6307\u5b9a90\u00b0\u89d2\u5e94\u8be5\u6709\u7684\u7406\u60f3\u901f\u5ea6\uff08\u201c\u76f4\u89d2\u901f\u5ea6\u201d\uff09\u5e76\u4e14\u5176\u4ed6\u7684\u89d2\u5ea6\u7684\u8f6c\u89d2\u901f\u5ea6\u4e5f\u662f\u6839\u636e\u5b83\u63a8\u5bfc\u51fa\u6765\u7684\u3002 \u9884\u8ba1\u7b97\u7684\u5173\u952e\u65b9\u7a0b\uff1a end_velocity^2 = start_velocity^2 + 2*accel*move_distance","title":"\u9884\u8ba1\u7b97\uff08look-ahead\uff09"},{"location":"Kinematics.html#_4","text":"Klipper \u5b9e\u73b0\u4e86\u4e00\u79cd\u7528\u4e8e\u5e73\u6ed1\u77ed\u8ddd\u79bb\u4e4b\u5b57\u5f62\u79fb\u52a8\u7684\u673a\u5236\u3002\u53c2\u8003\u4ee5\u4e0b\u79fb\u52a8\uff1a \u5728\u4e0a\u8ff0\u60c5\u51b5\u4e0b\uff0c\u4ece\u52a0\u901f\u5230\u51cf\u901f\u7684\u9891\u7e41\u53d8\u5316\u4f1a\u5bfc\u81f4\u673a\u5668\u632f\u52a8\u5e76\u4e14\u4f1a\u5bf9\u673a\u5668\u9020\u6210\u538b\u529b\u548c\u52a0\u566a\u97f3\u3002\u4e3a\u4e86\u51cf\u5c11\u8fd9\u79cd\u60c5\u51b5\uff0cKlipper\u65e2\u8ddf\u8e2a\u5e38\u89c4\u7684\u79fb\u52a8\u52a0\u901f\u5ea6\u5e76\u4e14\u4e5f\u8ddf\u8e2a\u865a\u62df\u7684\"\u52a0\u51cf\u901f\u7387\"\u3002\u5229\u7528\u8fd9\u4e2a\u7cfb\u7edf\uff0c\u8fd9\u4e9b\u77ed\u7684\"zigzag\"\u79fb\u52a8\u7684\u6700\u9ad8\u901f\u5ea6\u88ab\u9650\u5236\u4ee5\u4f7f\u5f97\u6253\u5370\u673a\u7684\u8fd0\u52a8\u53ef\u4ee5\u66f4\u52a0\u5e73\u6ed1\uff1a \u5177\u4f53\u6765\u8bf4\uff0c\u4ee3\u7801\u8ba1\u7b97\u7684\u662f\u9650\u5236\u5728\u8fd9\u4e2a\u865a\u62df\u7684\u201c\u52a0\u901f\u5230\u51cf\u901f\u201d\u7387\u4e0b\u65f6\uff08\u9ed8\u8ba4\u4e3a\u6b63\u5e38\u52a0\u901f\u7387\u7684\u4e00\u534a\uff09\uff0c\u6bcf\u4e2a\u52a8\u4f5c\u7684\u901f\u5ea6\u662f\u591a\u5c11\u3002\u5728\u4e0a\u56fe\u4e2d\uff0c\u7070\u8272\u865a\u7ebf\u4ee3\u8868\u4e86\u7b2c\u4e00\u6bb5\u79fb\u52a8\u65f6\u7684\u865a\u62df\u52a0\u901f\u7387\u3002\u5982\u679c\u4e00\u6bb5\u79fb\u52a8\u4f7f\u7528\u8fd9\u4e2a\u865a\u62df\u52a0\u901f\u5ea6\u4e0d\u80fd\u8fbe\u5230\u76ee\u6807\u5de1\u822a\u901f\u5ea6\uff0c\u90a3\u4e48\u8fd9\u6bb5\u79fb\u52a8\u7684\u6700\u9ad8\u901f\u5ea6\u5c06\u88ab\u964d\u4f4e\u5230\u5b83\u5728\u8fd9\u4e2a\u865a\u62df\u52a0\u901f\u7387\u4e0b\u6240\u80fd\u83b7\u5f97\u7684\u6700\u5927\u901f\u5ea6\u3002\u5bf9\u4e8e\u5927\u591a\u6570\u79fb\u52a8\u6765\u8bf4\uff0c\u8be5\u9650\u5236\u5c06\u5904\u4e8e\u6216\u9ad8\u4e8e\u8be5\u79fb\u52a8\u7684\u73b0\u6709\u9650\u5236\uff0c\u5e76\u4e14\u4e0d\u4f1a\u6539\u53d8\u79fb\u52a8\u7684\u884c\u4e3a\u3002\u7136\u800c\uff0c\u5bf9\u4e8e\u77ed\u7684 \"\u4e4b \"\u5b57\u5f62\u79fb\u52a8\uff0c\u8fd9\u4e2a\u9650\u5236\u4f1a\u964d\u4f4e\u6700\u9ad8\u901f\u5ea6\u3002\u8bf7\u6ce8\u610f\uff0c\u5b83\u4e0d\u4f1a\u6539\u53d8\u79fb\u52a8\u4e2d\u7684\u5b9e\u9645\u52a0\u901f\u5ea6--\u79fb\u52a8\u4f1a\u7ee7\u7eed\u4f7f\u7528\u6b63\u5e38\u7684\u52a0\u901f\uff0c\u76f4\u5230\u5176\u8c03\u6574\u540e\u7684\u6700\u9ad8\u901f\u5ea6\u3002","title":"\u9884\u8ba1\u7b97\u7ed3\u679c\u5e73\u6ed1"},{"location":"Kinematics.html#generating-steps","text":"\u524d\u77bb\u8fc7\u7a0b\u5b8c\u6210\u540e\u7ed9\u5b9a\u79fb\u52a8\u7684\u6253\u5370\u5934\u8fd0\u52a8\u5df2\u88ab\u786e\u5b9a\uff08\u65f6\u95f4\u3001\u5f00\u59cb\u4f4d\u7f6e\u3001\u7ed3\u675f\u4f4d\u7f6e\u3001\u6bcf\u4e00\u70b9\u7684\u901f\u5ea6\uff09\uff0c\u53ef\u4ee5\u88ab\u7528\u4e8e\u751f\u6210\u79fb\u52a8\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u662f\u5728Klipper\u4ee3\u7801\u7684\u8fd0\u52a8\u5b66\u7c7b\u4e2d\u5b8c\u6210\u7684\u3002\u5728\u8fd9\u4e9b\u8fd0\u52a8\u5b66\u7c7b\u4e4b\u5916\uff0c\u6240\u6709\u7684\u4e1c\u897f\u90fd\u662f\u4ee5\u6beb\u7c73\u3001\u79d2\u4e3a\u5355\u4f4d\uff0c\u5728\u7b1b\u5361\u5c14\u5750\u6807\u7a7a\u95f4\u8fdb\u884c\u8ddf\u8e2a\u3002\u8fd0\u52a8\u5b66\u7c7b\u8d1f\u8d23\u5c06\u8fd9\u4e2a\u901a\u7528\u5750\u6807\u7cfb\u7edf\u8f6c\u6362\u4e3a\u7b26\u5408\u6253\u5370\u673a\u786c\u4ef6\u7279\u6027\u7684\u5750\u6807\u7cfb\u3002 Klipper\u4f7f\u7528\u4e00\u4e2a \u8fed\u4ee3\u6c42\u89e3\u5668 \u6765\u751f\u6210\u6bcf\u4e2a\u6b65\u8fdb\u7684\u6b65\u8fdb\u65f6\u95f4\u3002\u8be5\u4ee3\u7801\u5305\u542b\u4e86\u8ba1\u7b97\u6253\u5370\u5934\u5728\u6bcf\u4e2a\u65f6\u95f4\u70b9\u4e0a\u7684\u7406\u60f3\u7b1b\u5361\u5c14\u5750\u6807\u7684\u516c\u5f0f\uff0c\u5b83\u8fd8\u6709\u8fd0\u52a8\u5b66\u516c\u5f0f\u6765\u8ba1\u7b97\u57fa\u4e8e\u8fd9\u4e9b\u7b1b\u5361\u5c14\u5750\u6807\u7684\u7406\u60f3\u6b65\u8fdb\u4f4d\u7f6e\u3002\u901a\u8fc7\u8fd9\u4e9b\u516c\u5f0f\uff0cKlipper\u53ef\u4ee5\u786e\u5b9a\u6b65\u8fdb\u7535\u673a\u5728\u6bcf\u4e2a\u6b65\u8fdb\u4f4d\u7f6e\u65f6\u7684\u7406\u60f3\u6b65\u8fdb\u65f6\u95f4\u3002\u7136\u540e\u5728\u8fd9\u4e9b\u8ba1\u7b97\u51fa\u7684\u65f6\u95f4\u5185\u5b89\u6392\u7ed9\u5b9a\u7684\u6b65\u8fdb\u3002 \u786e\u5b9a\u4e00\u4e2a\u79fb\u52a8\u5728\u6052\u5b9a\u52a0\u901f\u5ea6\u4e0b\u5e94\u8be5\u79fb\u52a8\u591a\u8fdc\u7684\u5173\u952e\u516c\u5f0f\u662f\uff1a move_distance = (start_velocity + .5 * accel * move_time) * move_time \u5e76\u4e14\u5300\u901f\u8fd0\u52a8\u7684\u5173\u952e\u516c\u5f0f\u662f\uff1a move_distance = cruise_velocity * move_time \u5728\u7ed9\u5b9a\u79fb\u52a8\u8ddd\u79bb\u7684\u60c5\u51b5\u4e0b\u7528\u4e8e\u786e\u5b9a\u79fb\u52a8\u7684\u7b1b\u5361\u5c14\u5750\u6807\u7684\u5173\u952e\u516c\u5f0f\u4e3a\uff1a cartesian_x_position = start_x + move_distance * total_x_movement / total_movement cartesian_y_position = start_y + move_distance * total_y_movement / total_movement cartesian_z_position = start_z + move_distance * total_z_movement / total_movement","title":"\u751f\u6210\u6b65\u6570\uff08Generating steps\uff09"},{"location":"Kinematics.html#_5","text":"\u4e3a\u7b1b\u5361\u5c14\u5750\u6807\u7684\u6253\u5370\u673a\u751f\u6210\u6b65\u8fdb\u662f\u6700\u7b80\u5355\u7684\u60c5\u51b5\u3002\u6bcf\u4e2a\u8f74\u4e0a\u7684\u8fd0\u52a8\u4e0e\u7b1b\u5361\u5c14\u7a7a\u95f4\u4e2d\u7684\u8fd0\u52a8\u76f4\u63a5\u76f8\u5173\u3002 \u5173\u952e\u516c\u5f0f\uff1a stepper_x_position = cartesian_x_position stepper_y_position = cartesian_y_position stepper_z_position = cartesian_z_position","title":"\u7b1b\u5361\u5c14\u673a\u5668"},{"location":"Kinematics.html#corexy","text":"\u5728CoreXY\u7684\u673a\u5668\u4e0a\u751f\u6210\u6b65\u8fdb\u53ea\u6bd4\u57fa\u672c\u7684\u5361\u7279\u5c14\u673a\u5668\u4eba\u590d\u6742\u4e00\u70b9\u3002\u5173\u952e\u516c\u5f0f\u662f\uff1a stepper_a_position = cartesian_x_position + cartesian_y_position stepper_b_position = cartesian_x_position - cartesian_y_position stepper_z_position = cartesian_z_position","title":"CoreXY \u673a\u5668"},{"location":"Kinematics.html#_6","text":"\u4e09\u89d2\u6d32\u7ed3\u6784\u673a\u5668\u4eba\u4e0a\u7684\u6b65\u8fdb\u751f\u6210\u57fa\u4e8e\u52fe\u80a1\u5b9a\u7406\uff1a stepper_position = (sqrt(arm_length^2 - (cartesian_x_position - tower_x_position)^2 - (cartesian_y_position - tower_y_position)^2) + cartesian_z_position)","title":"\u4e09\u89d2\u6d32\u673a\u5668"},{"location":"Kinematics.html#_7","text":"\u5728\u4e09\u89d2\u6d32\u673a\u5668\u8fd0\u52a8\u65f6\uff0c\u6253\u5370\u5934\u5728\u7b1b\u5361\u5c14\u7a7a\u95f4\u4e2d\u8fd0\u52a8\u8fdb\u884c\u4e00\u5b9a\u52a0\u901f\u5ea6\u7684\u52a0\u901f\u8fd0\u52a8\uff0c\u5176\u5bf9\u5e94\u8f74\u7684\u6b65\u8fdb\u7535\u673a\u9700\u8981\u9ad8\u4e8e\u524d\u8ff0\u52a0\u901f\u5ea6\u7684\u52a0\u901f\u5ea6\u3002\u8fd9\u79cd\u72b6\u51b5\u5728\u4e00\u6253\u5370\u58c1\u9700\u63d0\u4f9b\u7684\u6c34\u5e73\u8fd0\u52a8\u5e45\u5ea6\u5927\u4e8e\u5782\u76f4\u8fd0\u52a8\u5e45\u5ea6\uff0c\u5e76\u4e14\uff0c\u8fd0\u52a8\u76f4\u7ebf\u9760\u8fd1\u67d0\u4e00\u5782\u67f1\u65f6\u53d1\u751f\u3002\u5c3d\u7ba1\u8fd9\u4e9b\u8fd0\u52a8\u4f1a\u8981\u6c42\u6b65\u8fdb\u7535\u673a\u7684\u52a0\u901f\u5ea6\u8d85\u8fc7\u6253\u5370\u673a\u7684\u52a0\u901f\u5ea6\u8bbe\u7f6e\u9650\u989d\uff0c\u4f46\u5355\u4e2a\u6b65\u8fdb\u7535\u673a\u9700\u8981\u627f\u62c5\u7684\u6709\u6548\u8d28\u91cf\u662f\u76f8\u5bf9\u8f83\u5c0f\u7684\u3002\u56e0\u6b64\uff0c\u589e\u52a0\u7684\u6b65\u8fdb\u7535\u673a\u52a0\u901f\u5ea6\u4e0d\u4f1a\u663e\u8457\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u7684\u626d\u77e9\u9700\u6c42\uff0c\u53ef\u8ba4\u4e3a\u8fd9\u79cd\u73b0\u8c61\u662f\u65e0\u5bb3\u7684\u3002 \u7136\u800c\uff0c\u4e3a\u4e86\u907f\u514d\u6781\u7aef\u72b6\u51b5\uff0cKlipper\u5f3a\u5236\u5c06\u6b65\u8fdb\u7535\u673a\u7684\u52a0\u901f\u5ea6\u4e0a\u9650\u8bbe\u7f6e\u4e3a\u6253\u5370\u673a\u52a0\u901f\u5ea6\u4e0a\u9650\u76843\u500d\u3002\uff08\u540c\u6837\uff0c\u6b65\u8fdb\u7535\u673a\u7684\u901f\u5ea6\u4e0a\u9650\u4e5f\u8bbe\u7f6e\u4e3a\u6253\u5370\u673a\u901f\u5ea6\u4e0a\u9650\u76843\u500d\u3002\uff09\u4e3a\u4e86\u5b9e\u73b0\u4e0a\u8ff0\u8bbe\u7f6e\uff0c\u5728\u6253\u5370\u533a\u57df\u6c34\u5e73\u8fb9\u6cbf\u7684\uff08\u5b58\u5728\u6253\u5370\u81c2\u63a5\u8fd1\u6c34\u5e73\u7684\uff09\u4f4d\u7f6e\uff0c\u6253\u5370\u5934\u7684\u901f\u5ea6\u548c\u52a0\u901f\u5ea6\u4e0a\u9650\u5c06\u76f8\u5e94\u964d\u4f4e\u3002","title":"\u6b65\u8fdb\u7535\u673a\u52a0\u901f\u9650\u5236"},{"location":"Kinematics.html#_8","text":"Klipper \u5728\u81ea\u8eab\u7684\u8fd0\u52a8\u5b66\u7c7b\u4e2d\u5b9e\u73b0\u4e86\u6324\u51fa\u673a\u7684\u8fd0\u52a8\u3002\u7531\u4e8e\u6bcf\u4e2a\u6253\u5370\u5934\u8fd0\u52a8\u7684\u65f6\u95f4\u548c\u901f\u5ea6\u662f\u5b8c\u5168\u5df2\u77e5\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u72ec\u7acb\u4e8e\u6253\u5370\u5934\u8fd0\u52a8\u7684\u6b65\u957f\u8ba1\u7b97\u6765\u8ba1\u7b97\u6324\u51fa\u673a\u7684\u6b65\u957f\u3002 \u57fa\u672c\u7684\u6324\u51fa\u673a\u8fd0\u52a8\u8ba1\u7b97\u8d77\u6765\u5f88\u7b80\u5355\u3002\u6b65\u8fdb\u65f6\u95f4\u7684\u751f\u6210\u4f7f\u7528\u548c\u7b1b\u5361\u5c14\u7ed3\u6784\u76f8\u540c\u7684\u516c\u5f0f\uff1a stepper_position = requested_e_position","title":"\u6324\u51fa\u673a\u8fd0\u52a8\u5b66"},{"location":"Kinematics.html#_9","text":"\u5b9e\u9a8c\u8868\u660e\uff0c\u5728\u57fa\u672c\u7684\u6324\u51fa\u673a\u65b9\u7a0b\u4e4b\u4e0a\u53ef\u4ee5\u6539\u8fdb\u6324\u51fa\u673a\u7684\u6a21\u578b\u3002\u5728\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u968f\u7740\u6324\u51fa\u79fb\u52a8\u7684\u8fdb\u884c\uff0c\u6cbf\u79fb\u52a8\u7684\u6bcf\u4e2a\u70b9\u5e94\u5bc4\u51fa\u76f8\u540c\u4f53\u79ef\u7684\u8017\u6750\uff0c\u5e76\u4e14\u5728\u79fb\u52a8\u540e\u4e0d\u5e94\u6324\u51fa\u4efb\u4f55\u8017\u6750\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5728\u5b9e\u9645\u60c5\u51b5\u4e0b\uff0c\u57fa\u672c\u7684\u6324\u51fa\u673a\u65b9\u7a0b\u4f1a\u5bfc\u81f4\u5728\u6324\u51fa\u8fd0\u52a8\u5f00\u59cb\u65f6\u6324\u51fa\u8fc7\u5c11\u7684\u8017\u6750\uff0c\u5e76\u4e14\u5728\u6324\u51fa\u7ed3\u675f\u540e\u6324\u51fa\u8fc7\u591a\u7684\u8017\u6750\u3002\u8fd9\u901a\u5e38\u88ab\u79f0\u4e3a\u201c\u6ea2\u6599\u201d\u3002 \"\u538b\u529b\u63a8\u8fdb\"\u7cfb\u7edf\u8bd5\u56fe\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u4e0d\u540c\u7684\u6324\u51fa\u673a\u6a21\u578b\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5b83\u4e0d\u7406\u60f3\u7684\u5047\u8bbe\u9001\u5165\u6324\u51fa\u673a\u7684\u6bcfmm^3\u8017\u6750\u5c06\u5bfc\u81f4\u8be5\u4f53\u79ef\u7684mm^3\u7acb\u5373\u88ab\u6324\u51fa\uff0c\u800c\u662f\u4f7f\u7528\u57fa\u4e8e\u538b\u529b\u7684\u6a21\u578b\u3002\u5f53\u8017\u6750\u88ab\u63a8\u5165\u6324\u51fa\u673a\u65f6\uff0c\u538b\u529b\u4f1a\u589e\u52a0\uff08\u5982 \u80e1\u514b\u5b9a\u5f8b \uff09\uff0c\u800c\u6324\u51fa\u6240\u9700\u7684\u538b\u529b\u5219\u7531\u901a\u8fc7\u55b7\u5634\u5b54\u53e3\u7684\u6d41\u901f\u51b3\u5b9a\uff08\u5982 \u6cca\u4f0a\u7ef4\u5c14\u5b9a\u5f8b \uff09\u3002\u5173\u952e\u7684\u60f3\u6cd5\u662f\uff0c\u8017\u6750\u3001\u538b\u529b\u548c\u6d41\u901f\u4e4b\u95f4\u7684\u5173\u7cfb\u53ef\u4ee5\u7528\u4e00\u4e2a\u7ebf\u6027\u7cfb\u6570\u6765\u5efa\u6a21\uff1a pa_position = nominal_position + pressure_advance_coefficient * nominal_velocity \u6709\u5173\u5982\u4f55\u6d4b\u91cf\u538b\u529b\u63d0\u524d\u7cfb\u6570\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u538b\u529b\u63d0\u524d \u6587\u6863\u3002 \u57fa\u672c\u7684\u538b\u529b\u63a8\u8fdb\u516c\u5f0f\u4f1a\u5bf9\u6324\u51fa\u673a\u7535\u673a\u7684\u901f\u5ea6\u8fdb\u884c\u5f88\u5927\u7684\u77ac\u65f6\u8c03\u6574\u3002Klipper \u901a\u8fc7\u5b9e\u65bd\u6324\u51fa\u673a\u8fd0\u52a8\u7684\"\u5e73\u6ed1\"\uff08smoothing\uff09\u4ee5\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\u3002 \u4e0a\u56fe\u4ee5\u4e24\u4e2a\u6324\u51fa\u8fd0\u52a8\u4e3a\u4f8b\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u8f6c\u5f2f\u901f\u5ea6\u4e0d\u4e3a\u96f6\u3002\u8bf7\u6ce8\u610f\uff0c\u538b\u529b\u63a8\u8fdb\u7cfb\u7edf\u5728\u52a0\u901f\u8fc7\u7a0b\u4e2d\u4f1a\u5bfc\u81f4\u989d\u5916\u7684\u8017\u6750\u88ab\u63a8\u5165\u6324\u51fa\u673a\u3002\u6240\u9700\u7684\u8017\u6750\u6d41\u91cf\u8d8a\u9ad8\uff0c\u5728\u52a0\u901f\u8fc7\u7a0b\u4e2d\u5fc5\u987b\u63a8\u5165\u66f4\u591a\u7684\u8017\u6750\u4ee5\u5747\u8861\u538b\u529b\u3002\u5728\u6253\u5370\u5934\u51cf\u901f\u671f\u95f4\uff0c\u989d\u5916\u7684\u8017\u6750\u4f1a\u88ab\u56de\u62bd\uff08\u6324\u51fa\u673a\u5c06\u6709\u4e00\u4e2a\u8d1f\u901f\u5ea6\uff09\u3002 \u201c\u5e73\u6ed1\u201d\u7531\u6324\u51fa\u673a\u4f4d\u7f6e\u5728\u4e00\u5c0f\u6bb5\u65f6\u95f4\u5185\u7684\u52a0\u6743\u5e73\u5747\u503c\u5b9e\u73b0\u7684\uff08\u7531 pressure_advance_smooth_time \u914d\u7f6e\u53c2\u6570\u6307\u5b9a\uff09\u3002\u8fd9\u79cd\u5e73\u5747\u53ef\u4ee5\u8de8\u8d8a\u591a\u4e2a g \u4ee3\u7801\u79fb\u52a8\u3002\u8bf7\u6ce8\u610f\uff0c\u6324\u51fa\u673a\u7535\u673a\u5c06\u5982\u4f55\u5728\u7b2c\u4e00\u6b21\u6324\u51fa\u8fd0\u52a8\u7684\u6807\u79f0\u8d77\u70b9\u4e4b\u524d\u5f00\u59cb\u79fb\u52a8\uff0c\u5e76\u5728\u6700\u540e\u4e00\u6b21\u6324\u51fa\u8fd0\u52a8\u7684\u6807\u79f0\u7ed3\u675f\u4e4b\u540e\u7ee7\u7eed\u79fb\u52a8\u3002 \"\u5e73\u6ed1\u538b\u529b\u63d0\u524d\"\u7684\u5173\u952e\u516c\u5f0f\uff1a smooth_pa_position(t) = ( definitive_integral(pa_position(x) * (smooth_time/2 - abs(t - x)) * dx, from=t-smooth_time/2, to=t+smooth_time/2) / (smooth_time/2)^2 )","title":"\u538b\u529b\u63d0\u524d"},{"location":"MCU_Commands.html","text":"MCU\u547d\u4ee4 \u00b6 \u8be5\u6587\u6863\u4ecb\u7ecd\u4e86Klipper\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\uff0c\u5e76\u7531\u5fae\u5904\u7406\u5668\u8d1f\u8d23\u6267\u884c\u7684\u5e95\u5c42\u547d\u4ee4\u3002\u8be5\u6587\u6863\u4e0d\u662f\u8fd9\u4e9b\u547d\u4ee4\u7684\u6743\u5a01\u6587\u6863\uff0c\u4e5f\u5e76\u672a\u5305\u542b\u6240\u6709\u547d\u4ee4\u3002 \u82e5\u60f3\u6df1\u5165\u4e86\u89e3\u5e95\u5c42\u5fae\u5904\u7406\u5668\u547d\u4ee4\uff0c\u8be5\u6587\u6863\u662f\u4e0d\u9519\u7684\u5165\u95e8\u6750\u6599\u3002 \u5173\u4e8e\u547d\u4ee4\u7684\u683c\u5f0f\u548c\u4f20\u8f93\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u89c1 protocol \u6587\u4ef6\u3002\u8fd9\u91cc\u7684\u547d\u4ee4\u662f\u4f7f\u7528\u5176 \"printf \"\u98ce\u683c\u7684\u8bed\u6cd5\u63cf\u8ff0\u7684--\u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u719f\u6089\u8fd9\u79cd\u683c\u5f0f\u7684\u4eba\u6765\u8bf4\uff0c\u53ea\u9700\u6ce8\u610f\u5728\u770b\u5230'%...'\u5e8f\u5217\u65f6\uff0c\u5e94\u8be5\u7528\u4e00\u4e2a\u5b9e\u9645\u7684\u6574\u6570\u6765\u4ee3\u66ff\u3002\u4f8b\u5982\uff0c\"count=%c \"\u7684\u63cf\u8ff0\u53ef\u4ee5\u88ab\u66ff\u6362\u4e3a \"count=10\"\u3002\u8bf7\u6ce8\u610f\uff0c\u90a3\u4e9b\u88ab\u8ba4\u4e3a\u662f \"enumerations \"\u7684\u53c2\u6570\uff08\u89c1\u4e0a\u8ff0\u534f\u8bae\u6587\u4ef6\uff09\u91c7\u53d6\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u503c\uff0c\u5bf9\u4e8e\u5fae\u63a7\u5236\u5668\u6765\u8bf4\uff0c\u5b83\u88ab\u81ea\u52a8\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6574\u6570\u503c\u3002\u8fd9\u5728\u540d\u4e3a \"pin\"\uff08\u6216\u540e\u7f00\u4e3a\"_pin\"\uff09\u7684\u53c2\u6570\u4e2d\u5f88\u5e38\u89c1\u3002 \u542f\u52a8\u547d\u4ee4 \u00b6 \u53ef\u80fd\u9700\u8981\u91c7\u53d6\u67d0\u4e9b\u4e00\u6b21\u6027\u7684\u547d\u4ee4\u6765\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u53ca\u5176\u7247\u4e0a\u5916\u5907\u3002\u672c\u8282\u5217\u51fa\u4e86\u53ef\u7528\u4e8e\u8be5\u76ee\u7684\u7684\u5e38\u7528\u547d\u4ee4\u3002\u4e0e\u5927\u591a\u6570\u5fae\u63a7\u5236\u5668\u7684\u547d\u4ee4\u4e0d\u540c\uff0c\u8fd9\u4e9b\u547d\u4ee4\u5728\u6536\u5230\u540e\u7acb\u5373\u8fd0\u884c\uff0c\u5b83\u4eec\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u7684\u8bbe\u7f6e\u3002 \u5e38\u89c1\u7684\u542f\u52a8\u547d\u4ee4\uff1a set_digital_out pin=%u value=%c \uff1a\u8be5\u547d\u4ee4\u7acb\u5373\u5c06\u6307\u5b9a\u7684\u5f15\u811a\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51faGPIO\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a\u4f4e\u7535\u5e73\uff08value=0\uff09\u6216\u9ad8\u7535\u5e73\uff08value=1\uff09\u3002\u8fd9\u6761\u547d\u4ee4\u5bf9\u4e8e\u914d\u7f6eLED\u7684\u521d\u59cb\u503c\u548c\u914d\u7f6e\u6b65\u8fdb\u9a71\u52a8\u5668\u5fae\u6b65\u8fdb\u5f15\u811a\u7684\u521d\u59cb\u503c\u5f88\u6709\u7528\u3002 set_pwm_out pin=%u cycle_ticks=%u value=%hu \uff1a\u8be5\u547d\u4ee4\u5c06\u7acb\u5373\u914d\u7f6e\u6307\u5b9a\u7684\u5f15\u811a\uff0c\u4f7f\u5176\u4f7f\u7528\u786c\u4ef6\u7684\u8109\u5bbd\u8c03\u5236\uff08PWM\uff09\u548c\u7ed9\u5b9a\u7684cycle_ticks\u3002\u201ccycle_ticks\u201d\u662f\u6307\u6bcf\u4e2a\u901a\u7535\u548c\u65ad\u7535\u5468\u671f\u5e94\u8be5\u6301\u7eed\u7684MCU\u65f6\u949f\u6570\u3002cycle_ticks\u7684\u503c\u4e3a1\u8868\u793a\u4f7f\u7528\u6700\u77ed\u7684\u5468\u671f\u65f6\u95f4\u3002\u201cvalue\u201d\u53c2\u6570\u57280-255\u4e4b\u95f4\uff0c0\u8868\u793a\u5b8c\u5168\u5173\u95ed\u72b6\u6001\uff0c255\u8868\u793a\u5b8c\u5168\u5f00\u542f\u72b6\u6001\u3002\u8be5\u547d\u4ee4\u5bf9\u542f\u7528CPU\u548c\u55b7\u5634\u51b7\u5374\u98ce\u6247\u5f88\u6709\u7528\u3002 \u5e95\u5c42\u5fae\u63a7\u5236\u5668\u914d\u7f6e \u00b6 \u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5927\u591a\u6570\u547d\u4ee4\u5728\u6210\u529f\u8c03\u7528\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u521d\u59cb\u8bbe\u7f6e\u3002\u672c\u8282\u63d0\u4f9b\u4e86\u4e00\u4e2a\u914d\u7f6e\u8fc7\u7a0b\u7684\u6982\u8ff0\u3002\u672c\u8282\u548c\u4e0b\u9762\u7684\u7ae0\u8282\u9002\u7528\u4e8e\u5bf9Klipper\u7684\u5185\u90e8\u7ec6\u8282\u611f\u5174\u8da3\u7684\u5f00\u53d1\u8005\u3002 \u5f53\u4e3b\u673a\u7b2c\u4e00\u6b21\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u65f6\uff0c\u5b83\u603b\u662f\u4ece\u83b7\u5f97\u4e00\u4e2a\u6570\u636e\u5b57\u5178\u5f00\u59cb\uff08\u66f4\u591a\u4fe1\u606f\u89c1 protocol \uff09\u3002\u83b7\u5f97\u6570\u636e\u5b57\u5178\u540e\uff0c\u4e3b\u673a\u5c06\u68c0\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u5904\u4e8e \"\u5df2\u914d\u7f6e \"\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u8fdb\u884c\u914d\u7f6e\u3002\u914d\u7f6e\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u9636\u6bb5\uff1a get_config \uff1a\u4e3b\u673a\u9996\u5148\u68c0\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u5df2\u7ecf\u88ab\u914d\u7f6e\u3002\u5fae\u63a7\u5236\u5668\u7528\u4e00\u4e2a \"config \"\u7684\u54cd\u5e94\u4fe1\u606f\u6765\u56de\u5e94\u8fd9\u4e2a\u547d\u4ee4\u3002\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5728\u4e0a\u7535\u65f6\u603b\u662f\u4ee5\u672a\u914d\u7f6e\u7684\u72b6\u6001\u542f\u52a8\u3002\u5728\u4e3b\u673a\u5b8c\u6210\u914d\u7f6e\u8fc7\u7a0b\u4e4b\u524d\uff08\u901a\u8fc7\u53d1\u51fafinalize_config\u547d\u4ee4\uff09\uff0c\u5b83\u4e00\u76f4\u5904\u4e8e\u8fd9\u79cd\u72b6\u6001\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u5df2\u7ecf\u5728\u524d\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u8fdb\u884c\u4e86\u914d\u7f6e\uff08\u5e76\u4e14\u914d\u7f6e\u4e86\u6240\u9700\u7684\u8bbe\u7f6e\uff09\uff0c\u90a3\u4e48\u4e3b\u673a\u5c31\u4e0d\u9700\u8981\u8fdb\u4e00\u6b65\u7684\u64cd\u4f5c\uff0c\u914d\u7f6e\u8fc7\u7a0b\u6210\u529f\u7ed3\u675f\u3002 allocate_oids count=%c \uff1a\u8fd9\u6761\u547d\u4ee4\u662f\u7528\u6765\u901a\u77e5\u5fae\u63a7\u5236\u5668\u4e3b\u673a\u6240\u9700\u7684\u5bf9\u8c61\u6807\u8bc6\uff08oid\uff09\u7684\u6700\u5927\u6570\u91cf\u3002\u8fd9\u6761\u547d\u4ee4\u53ea\u6709\u6548\u4e00\u6b21\u3002oid\u662f\u5206\u914d\u7ed9\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u3001\u6bcf\u4e2a\u9650\u4f4d\u5f00\u5173\u548c\u6bcf\u4e2a\u53ef\u8c03\u5ea6\u7684gpio\u5f15\u811a\u7684\u4e00\u4e2a\u6574\u6570\u6807\u8bc6\u3002\u4e3b\u673a\u4e8b\u5148\u786e\u5b9a\u64cd\u4f5c\u786c\u4ef6\u6240\u9700\u7684oid\u6570\u91cf\uff0c\u5e76\u5c06\u5176\u4f20\u9012\u7ed9\u5fae\u63a7\u5236\u5668\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5\u5206\u914d\u8db3\u591f\u7684\u5185\u5b58\u6765\u5b58\u50a8\u4eceoid\u5230\u5185\u90e8\u5bf9\u8c61\u7684\u6620\u5c04\u3002 config_XXX oid=%c ... \uff1a\u6309\u7167\u60ef\u4f8b\uff0c\u4efb\u4f55\u4ee5 \"config_\"\u5f00\u5934\u7684\u547d\u4ee4\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5fae\u63a7\u5236\u5668\u5bf9\u8c61\uff0c\u5e76\u5c06\u7ed9\u5b9a\u7684oid\u8d4b\u4e88\u5b83\u3002\u4f8b\u5982\uff0cconfig_digital_out\u547d\u4ee4\u5c06\u628a\u6307\u5b9a\u7684\u5f15\u811a\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51faGPIO\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u5bf9\u8c61\uff0c\u4e3b\u673a\u53ef\u4ee5\u7528\u5b83\u6765\u5b89\u6392\u6539\u53d8\u6307\u5b9a\u7684GPIO\u7684\u8f93\u51fa\u3002\u4f20\u5165config\u547d\u4ee4\u7684oid\u53c2\u6570\u7531\u4e3b\u673a\u9009\u62e9\uff0c\u5fc5\u987b\u4ecb\u4e8e0\u548callocate_oids\u547d\u4ee4\u4e2d\u63d0\u4f9b\u7684\u6700\u5927\u8ba1\u6570\u4e4b\u95f4\u3002config\u547d\u4ee4\u53ea\u80fd\u5728\u5fae\u63a7\u5236\u5668\u4e0d\u5904\u4e8e\u5df2\u914d\u7f6e\u72b6\u6001\u65f6\uff08\u5373\u5728\u4e3b\u673a\u53d1\u9001finalize_config\u4e4b\u524d\uff09\u548callocate_oids\u547d\u4ee4\u88ab\u53d1\u9001\u4e4b\u540e\u8fd0\u884c\u3002 finalize_config crc=%u \uff1afinalize_config\u547d\u4ee4\u5c06\u5fae\u63a7\u5236\u5668\u4ece\u672a\u914d\u7f6e\u72b6\u6001\u8f6c\u6362\u4e3a\u5df2\u914d\u7f6e\u72b6\u6001\u3002\u4f20\u9012\u7ed9\u5fae\u63a7\u5236\u5668\u7684crc\u53c2\u6570\u88ab\u50a8\u5b58\u8d77\u6765\uff0c\u5e76\u5728 \"config \"\u54cd\u5e94\u4fe1\u606f\u4e2d\u53cd\u9988\u7ed9\u4e3b\u673a\u3002\u6309\u7167\u60ef\u4f8b\uff0c\u4e3b\u673a\u5bf9\u5b83\u6240\u8981\u6c42\u7684\u914d\u7f6e\u91c7\u53d632\u4f4d\u7684CRC\uff0c\u5e76\u5728\u968f\u540e\u7684\u901a\u4fe1\u4f1a\u8bdd\u5f00\u59cb\u65f6\uff0c\u68c0\u67e5\u5b58\u50a8\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u7684CRC\u662f\u5426\u4e0e\u5b83\u6240\u5e0c\u671b\u7684CRC\u6b63\u786e\u5339\u914d\u3002\u5982\u679cCRC\u4e0d\u5339\u914d\uff0c\u90a3\u4e48\u4e3b\u673a\u5c31\u77e5\u9053\u5fae\u63a7\u5236\u5668\u8fd8\u6ca1\u6709\u88ab\u914d\u7f6e\u5230\u4e3b\u673a\u6240\u5e0c\u671b\u7684\u72b6\u6001\u3002 \u5e38\u89c1\u7684\u5fae\u63a7\u5236\u5668\u5bf9\u8c61 \u00b6 \u672c\u8282\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u914d\u7f6e\u547d\u4ee4\u3002 config_digital_out oid=%c pin=%u value=%c default_value=%c max_duration=%u \uff1a\u8be5\u547d\u4ee4\u4e3a\u7ed9\u5b9a\u7684GPIO'pin'\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u5fae\u63a7\u5236\u5668\u5bf9\u8c61\u3002\u8be5\u5f15\u811a\u5c06\u88ab\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51fa\u6a21\u5f0f\uff0c\u5e76\u88ab\u8bbe\u7f6e\u4e3a'value'\u6307\u5b9a\u7684\u521d\u59cb\u503c\uff080\u4e3a\u4f4e\uff0c1\u4e3a\u9ad8\uff09\u3002\u521b\u5efa\u4e00\u4e2adigital_out\u5bf9\u8c61\u5141\u8bb8\u4e3b\u673a\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5185\u5bf9\u6307\u5b9a\u5f15\u811a\u5237\u65b0GPIO\u8f93\u51fa\u72b6\u6001\uff08\u89c1\u4e0b\u9762\u63cf\u8ff0\u7684queue_digital_out\u547d\u4ee4\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u8fdb\u5165\u5173\u673a\u6a21\u5f0f\uff0c\u90a3\u4e48\u6240\u6709\u914d\u7f6e\u7684digital_out\u5bf9\u8c61\u5c06\u88ab\u8bbe\u7f6e\u4e3a'default_value'\u3002max_duration \"\u53c2\u6570\u7528\u4e8e\u5b9e\u73b0\u5b89\u5168\u68c0\u67e5--\u5982\u679c\u5b83\u662f\u975e\u96f6\uff0c\u90a3\u4e48\u5b83\u4ee3\u8868\u4e3b\u673a\u53ef\u4ee5\u5c06\u6307\u5b9a\u7684GPIO\u8bbe\u4e3a\u975e\u9ed8\u8ba4\u503c\u800c\u4e0d\u9700\u8981\u5237\u65b0\u7684\u6700\u5927\u65f6\u949f\u6570\u3002\u4f8b\u5982\uff0c\u5982\u679cdefault_value\u662f0\uff0cmax_duration\u662f16000\uff0c\u90a3\u4e48\u5982\u679c\u4e3b\u673a\u5c06gpio\u8bbe\u7f6e\u4e3a1\uff0c\u5b83\u5fc5\u987b\u572816000\u4e2a\u65f6\u949f\u523b\u5ea6\u5185\u5237\u65b0gpio\u5f15\u811a\u7684\u8f93\u51fa\uff08\u4e3a0\u62161\uff09\u3002\u8fd9\u4e2a\u5b89\u5168\u529f\u80fd\u53ef\u7528\u4e8e\u52a0\u70ed\u5668\u5f15\u811a\uff0c\u4ee5\u786e\u4fdd\u4e3b\u673a\u4e0d\u4f1a\u542f\u7528\u52a0\u70ed\u5668\u540e\u8131\u673a\u3002 config_pwm_out oid=%c pin=%u cycle_ticks=%u value=%hu default_value=%hu max_duration=%u \uff1a\u8be5\u547d\u4ee4\u4e3a\u57fa\u4e8e\u786c\u4ef6\u7684PWM\u5f15\u811a\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u5bf9\u8c61\uff0c\u4e3b\u673a\u53ef\u4ee5\u5b9a\u671f\u5237\u65b0\u3002\u5b83\u7684\u7528\u6cd5\u4e0econfig_digital_out\u7c7b\u4f3c--\u53c2\u6570\u8bf4\u660e\u89c1'set_pwm_out'\u548c'config_digital_out'\u547d\u4ee4\u7684\u63cf\u8ff0\u3002 config_analog_in oid=%c pin=%u \uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u5c06\u4e00\u4e2a\u5f15\u811a\u914d\u7f6e\u4e3a\u6a21\u62df\u8f93\u5165\u91c7\u6837\u6a21\u5f0f\u3002\u4e00\u65e6\u914d\u7f6e\u5b8c\u6210\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528query_analog_in\u547d\u4ee4\uff08\u89c1\u4e0b\u6587\uff09\u4ee5\u56fa\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u5bf9\u8be5\u5f15\u811a\u8fdb\u884c\u91c7\u6837\u3002 config_stepper oid=%c step_pin=%c dir_pin=%c invert_step=%c step_pulse_ticks=%u \uff1a\u8be5\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u6b65\u8fdb\u5668\u5bf9\u8c61\u3002'step_pin'\u548c'dir_pin'\u53c2\u6570\u5206\u522b\u6307\u5b9a\u6b65\u8fdb\u548c\u65b9\u5411\u5f15\u811a\uff1b\u8be5\u547d\u4ee4\u5c06\u628a\u5b83\u4eec\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51fa\u6a21\u5f0f\u3002'invert_step'\u53c2\u6570\u6307\u5b9a\u6b65\u8fdb\u662f\u53d1\u751f\u5728\u4e0a\u5347\u6cbf\uff08invert_step=0\uff09\u8fd8\u662f\u4e0b\u964d\u6cbf\uff08invert_step=1\uff09\u3002'step_pulse_ticks'\u53c2\u6570\u6307\u5b9a\u4e86\u6b65\u8fdb\u8109\u51b2\u7684\u6700\u5c0f\u6301\u7eed\u65f6\u95f4\u3002\u5982\u679cMCU\u8f93\u51fa\u5e38\u6570 \"STEPPER_BOTH_EDGE=1\"\uff0c\u90a3\u4e48\u8bbe\u7f6estep_pulse_ticks=0\u548cinvert_step=-1\u5c06\u8bbe\u7f6e\u5728\u6b65\u8fdb\u5f15\u811a\u7684\u4e0a\u5347\u6cbf\u548c\u4e0b\u964d\u6cbf\u90fd\u8fdb\u884c\u6b65\u8fdb\u8f93\u51fa\u3002 config_endstop oid=%c pin=%c pull_up=%c stepper_count=%c : \u8be5\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u7684 \"endstop\"\u5bf9\u8c61\u3002\u5b83\u7528\u4e8e\u6307\u5b9a\u9650\u4f4d\u5f00\u5173\u7684\u5f15\u811a\uff0c\u5e76\u542f\u7528 \"homing \"\u64cd\u4f5c\uff08\u89c1\u4e0b\u9762\u7684endstop_home\u547d\u4ee4\uff09\u3002\u8be5\u547d\u4ee4\u5c06\u628a\u6307\u5b9a\u7684\u5f15\u811a\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u5165\u6a21\u5f0f\u3002\u2018pull_up\u2019\u53c2\u6570\u51b3\u5b9a\u662f\u5426\u542f\u7528\u786c\u4ef6\u4e3a\u5f15\u811a\u63d0\u4f9b\u7684\u4e0a\u62c9\u7535\u963b\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002\u2018stepper_count\u2019\u53c2\u6570\u89c4\u5b9a\u4e86\u5728\u5f52\u96f6\u64cd\u4f5c\u4e2d\uff0c\u8be5\u9650\u4f4d\u5f00\u5173\u89e6\u53d1\u5668\u53ef\u80fd\u9700\u8981\u7684\u6700\u5927\u6b65\u8fdb\u6570\uff08\u89c1\u4e0b\u6587endstop_home\uff09\u3002 config_spi oid=%c bus=%u pin=%u mode=%u rate=%u shutdown_msg=%*s \uff1a\u8be5\u547d\u4ee4\u521b\u5efa\u4e86\u4e00\u4e2a\u5185\u90e8SPI\u5bf9\u8c61\u3002\u5b83\u4e0espi_transfer\u548cspi_send\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff08\u89c1\u4e0b\u6587\uff09\u3002\"bus\"\u6807\u8bc6\u4e86\u8981\u4f7f\u7528\u7684SPI\u603b\u7ebf\uff08\u5982\u679c\u5fae\u63a7\u5236\u5668\u6709\u4e00\u4e2a\u4ee5\u4e0a\u7684SPI\u603b\u7ebf\u53ef\u7528\uff09\u3002\"pin\"\u6307\u5b9a\u4e86\u8bbe\u5907\u7684\u7247\u9009\uff08CS\uff09\u5f15\u811a\u3002\"mode\"\u6307\u5b9aSPI\u6a21\u5f0f\uff08\u5e94\u8be5\u57280\u52303\u4e4b\u95f4\uff09\u3002\"rate \"\u53c2\u6570\u6307\u5b9a\u4e86SPI\u603b\u7ebf\u7684\u901f\u7387\uff08\u4ee5\u6bcf\u79d2\u5468\u671f\u4e3a\u5355\u4f4d\uff09\u3002\u6700\u540e\uff0c\"shutdown_msg \"\u662f\u5728\u5fae\u63a7\u5236\u5668\u8fdb\u5165\u5173\u673a\u72b6\u6001\u65f6\u5411\u7ed9\u5b9a\u8bbe\u5907\u53d1\u9001\u7684SPI\u547d\u4ee4\u3002 config_spi_without_cs oid=%c bus=%u mode=%u rate=%u shutdown_msg=%*s : \u8fd9\u4e2a\u547d\u4ee4\u7c7b\u4f3c\u4e8econfig_spi\uff0c\u4f46\u662f\u6ca1\u6709CS\u5f15\u811a\u7684\u5b9a\u4e49\u3002\u5b83\u5bf9\u6ca1\u6709\u82af\u7247\u9009\u62e9\u7ebf\u7684SPI\u8bbe\u5907\u5f88\u6709\u7528\u3002 \u5e38\u7528\u547d\u4ee4 \u00b6 \u672c\u8282\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u8fd0\u884c\u65f6\u547d\u4ee4\u3002\u5bf9\u5e0c\u671b\u6df1\u5165\u4e86\u89e3Klipper\u7684\u5f00\u53d1\u8005\u53ef\u80fd\u4f1a\u611f\u5174\u8da3\u3002 set_digital_out_pwm_cycle oid=%c cycle_ticks=%u \uff1a\u8be5\u547d\u4ee4\u5c06\u6570\u5b57\u8f93\u51fa\u5f15\u811a\uff08\u7531config_digital_out\u521b\u5efa\uff09\u914d\u7f6e\u4e3a\u4f7f\u7528 \"\u8f6f\u4ef6PWM\"\u3002'cycle_ticks' \u662fPWM\u5468\u671f\u7684\u65f6\u949f\u6570\u3002\u56e0\u4e3a\u8f93\u51fa\u5207\u6362\u662f\u5728\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u4e2d\u5b9e\u73b0\u7684\uff0c\u5efa\u8bae\u628a'cycle_ticks'\u5bf9\u5e94\u7684\u65f6\u95f4\u8bbe\u4e3a10ms\u6216\u66f4\u5927\u3002 queue_digital_out oid=%c clock=%u on_ticks=%u : \u8fd9\u4e2a\u547d\u4ee4\u5c06\u5b89\u6392\u5728\u8bbe\u5b9a\u7684\u65f6\u949f\u65f6\u95f4\u5185\u6539\u53d8\u6570\u5b57\u8f93\u51faGPIO\u5f15\u811a\u3002\u8981\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\uff0c\u5fc5\u987b\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u8fc7\u7a0b\u4e2d\u53d1\u51fa\u5177\u6709\u76f8\u540c\u2018oid\u2019\u53c2\u6570\u7684'config_digital_out'\u547d\u4ee4\u3002\u5982\u679c'set_digital_out_pwm_cycle'\u5df2\u7ecf\u88ab\u8c03\u7528\uff0c\u90a3\u4e48'on_ticks'\u5c31\u662fpwm\u5468\u671f\u7684\u5f00\u542f\u65f6\u95f4\uff08\u4ee5\u65f6\u949f\u6570\u4e3a\u5355\u4f4d\uff09\u3002\u5426\u5219\uff0c'on_ticks'\u5e94\u8be5\u662f0\uff08\u4f4e\u7535\u538b\uff09\u62161\uff08\u9ad8\u7535\u538b\uff09\u3002 queue_pwm_out oid=%c clock=%u value=%hu \uff1a\u5b89\u6392\u6539\u53d8\u4e00\u4e2a\u786c\u4ef6PWM\u8f93\u51fa\u5f15\u811a\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003 'queue_digital_out' \u548c 'config_pwm_out' \u547d\u4ee4\u3002 query_analog_in oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u min_value=%hu max_value=%hu \uff1a\u6b64\u547d\u4ee4\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u5bf9\u6a21\u62df\u8f93\u5165\u7684\u5faa\u73af\u91c7\u6837\u3002\u8981\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\uff0c\u5fc5\u987b\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u65f6\u53d1\u51fa\u5177\u6709\u76f8\u540c'oid'\u53c2\u6570\u7684 'config_analog_in '\u547d\u4ee4\u3002\u91c7\u6837\u5c06\u4ece'clock'\u65f6\u95f4\u5f00\u59cb\uff0c\u5b83\u5c06\u6bcf\u9694'rest_ticks'\u65f6\u949f\u6570\u62a5\u544a\u83b7\u5f97\u7684\u503c\uff0c'sample_count'\u662f\u8fc7\u91cf\u91c7\u6837\u6b21\u6570\uff0c'sample_ticks'\u662f\u5728\u8fc7\u91cf\u91c7\u6837\u4e4b\u95f4\u6682\u505c\u7684\u65f6\u949f\u6570\u3002\"min_value \"\u548c \"max_value \"\u53c2\u6570\u5b9e\u73b0\u4e86\u5b89\u5168\u529f\u80fd--\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5c06\u9a8c\u8bc1\u91c7\u6837\u503c\uff08\u5728\u6bcf\u6b21\u8fc7\u91c7\u6837\u4e4b\u540e\uff09\u603b\u662f\u5728\u5b89\u5168\u8303\u56f4\u5185\u3002\u8fd9\u662f\u4e3a\u8fde\u63a5\u5230\u63a7\u5236\u52a0\u70ed\u5668\u7684\u70ed\u654f\u7535\u963b\u7684\u5f15\u811a\u800c\u8bbe\u8ba1\u7684--\u5b83\u53ef\u4ee5\u7528\u6765\u68c0\u67e5\u52a0\u70ed\u5668\u662f\u5426\u5728\u4e00\u4e2a\u6e29\u5ea6\u8303\u56f4\u5185\u3002 get_clock \uff1a\u8be5\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u4ea7\u751f\u4e00\u4e2a \"clock\"\u54cd\u5e94\u6d88\u606f\u3002\u4e3b\u673a\u6bcf\u79d2\u53d1\u9001\u4e00\u6b21\u8fd9\u4e2a\u547d\u4ee4\uff0c\u4ee5\u83b7\u5f97\u5fae\u63a7\u5236\u5668\u7684\u65f6\u949f\u503c\uff0c\u5e76\u4f30\u8ba1\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u65f6\u949f\u4e4b\u95f4\u7684\u6f02\u79fb\u3002\u5b83\u4f7f\u4e3b\u673a\u80fd\u591f\u51c6\u786e\u4f30\u8ba1\u5fae\u63a7\u5236\u5668\u7684\u65f6\u949f\u3002 \u6b65\u8fdb\u5668\u547d\u4ee4 \u00b6 queue_step oid=%c interval=%u count=%hu add=%hi \uff1a\u8be5\u547d\u4ee4\u5b89\u6392\u6307\u5b9a\u7684\u6b65\u8fdb\u7535\u673a\u8f93\u51fa'count'\u4e2a\u6b65\u6570\uff0c'interval'\u662f\u6bcf\u6b65\u4e4b\u95f4\u7684\u65f6\u949f\u6570\u95f4\u9694\u3002\u547d\u4ee4\u4e2d\u7684\u7b2c\u4e00\u6b65\u4e0e\u4e0a\u4e00\u4e2a\u6b65\u8fdb\u8f93\u51fa\u547d\u4ee4\u6700\u540e\u4e00\u6b65\u7684\u65f6\u95f4\u95f4\u9694\u4e3a'interval'\u4e2a\u65f6\u949f\u6570\u3002\u5982\u679c'add'\u4e0d\u4e3a\u96f6\uff0c\u90a3\u4e48\u6bcf\u6b65\u4e4b\u540e\u7684\u95f4\u9694\u5c06\u4ee5'add'\u7684\u589e\u91cf\u8c03\u6574\u3002\u8be5\u547d\u4ee4\u5c06\u7ed9\u5b9a\u7684\u95f4\u9694/\u8ba1\u6570/\u589e\u91cf\u5e8f\u5217\u9644\u52a0\u5230\u6bcf\u4e2a\u6b65\u8fdb\u961f\u5217\u4e2d\u3002\u5728\u6b63\u5e38\u64cd\u4f5c\u4e2d\uff0c\u53ef\u80fd\u6709\u6570\u767e\u4e2a\u8fd9\u6837\u7684\u5e8f\u5217\u6392\u961f\u3002\u65b0\u7684\u5e8f\u5217\u88ab\u6dfb\u52a0\u5230\u961f\u5217\u7684\u672b\u5c3e\uff0c\u5f53\u6bcf\u4e2a\u5e8f\u5217\u5b8c\u6210\u4e86\u5b83\u7684 'count'\u6b65\u6570\u540e\u5b83\u5c31\u4ece\u961f\u5217\u7684\u524d\u9762\u5f39\u51fa\u53bb\u3002\u8fd9\u4e2a\u7cfb\u7edf\u5141\u8bb8\u5fae\u63a7\u5236\u5668\u5c06\u51e0\u5341\u4e07\u6b65\u6392\u5165\u961f\u5217--\u6240\u6709\u8fd9\u4e9b\u90fd\u6709\u53ef\u9760\u4e14\u53ef\u9884\u6d4b\u7684\u8c03\u5ea6\u65f6\u5e8f\u3002 set_next_step_dir oid=%c dir=%c \uff1a\u8be5\u547d\u4ee4\u6307\u5b9a\u4e86\u4e0b\u4e00\u4e2aqueue_step\u547d\u4ee4\u5c06\u4f7f\u7528\u7684dir_pin\u7684\u503c\u3002 reset_step_clock oid=%c clock=%u \uff1a\u901a\u5e38\u60c5\u51b5\u4e0b\u6b65\u8fdb\u65f6\u5e8f\u662f\u76f8\u5bf9\u4e8e\u7ed9\u5b9a\u6b65\u8fdb\u7684\u4e0a\u4e00\u6b65\u3002\u8fd9\u6761\u547d\u4ee4\u91cd\u7f6e\u4e86\u65f6\u949f\uff0c\u4f7f\u4e0b\u4e00\u6b65\u662f\u76f8\u5bf9\u4e8e\u63d0\u4f9b\u7684 'clock' \u65f6\u95f4\u3002\u901a\u5e38\u4e3b\u673a\u53ea\u5728\u6253\u5370\u5f00\u59cb\u65f6\u53d1\u9001\u6b64\u547d\u4ee4\u3002 stepper_get_position oid=%c \uff1a\u8be5\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u751f\u6210\u4e00\u4e2a \"stepper_position \"\u54cd\u5e94\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u542b\u6b65\u8fdb\u5668\u7684\u5f53\u524d\u4f4d\u7f6e\u3002\u8be5\u4f4d\u7f6e\u662fdir=1\u65f6\u4ea7\u751f\u7684\u603b\u6b65\u6570\u51cf\u53bbdir=0\u65f6\u7684\u603b\u6b65\u6570\u3002 endstop_home oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u pin_value=%c \uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u6b65\u8fdb\u7535\u673a \"homing\"\u64cd\u4f5c\u3002\u8981\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\uff0c\u5fc5\u987b\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u8fc7\u7a0b\u4e2d\u53d1\u51fa\u5177\u6709\u76f8\u540c 'oid '\u53c2\u6570\u7684 'config_endstop '\u547d\u4ee4\u3002\u5f53\u8fd9\u4e2a\u547d\u4ee4\u88ab\u8c03\u7528\u65f6\uff0c\u5fae\u63a7\u5236\u5668\u5c06\u5728\u6bcf\u4e00\u4e2a'rest_ticks'\u65f6\u949f\u523b\u5ea6\u4e0a\u5bf9\u9650\u4f4d\u5f00\u5173\u5f15\u811a\u8fdb\u884c\u91c7\u6837\uff0c\u5e76\u68c0\u67e5\u5b83\u7684\u503c\u662f\u5426\u7b49\u4e8e'pin_value'\u3002\u5982\u679c\u5f00\u5173\u88ab\u89e6\u53d1\uff08\u5e76\u4e14\u4ee5\u95f4\u9694'sample_ticks'\u4e3a\u5468\u671f\uff0c\u989d\u5916\u6301\u7eed'sample_count'\u6b21\u88ab\u89e6\u53d1\uff09\uff0c\u90a3\u4e48\u76f8\u5173\u6b65\u8fdb\u7684\u8fd0\u52a8\u961f\u5217\u5c06\u88ab\u6e05\u9664\uff0c\u6b65\u8fdb\u5c06\u7acb\u5373\u505c\u6b62\u3002\u4e3b\u673a\u4f7f\u7528\u8be5\u547d\u4ee4\u5b9e\u73b0\u5f52\u4f4d\u2013\u4e3b\u673a\u6307\u793a\u9650\u4f4d\u5f00\u5173\u5bf9\u9650\u4f4d\u5f00\u5173\u7684\u89e6\u53d1\u8fdb\u884c\u91c7\u6837\uff0c\u7136\u540e\u53d1\u51fa\u4e00\u7cfb\u5217queue_step\u547d\u4ee4\uff0c\u4f7f\u6b65\u8fdb\u5411\u9650\u4f4d\u79fb\u52a8\u3002\u4e00\u65e6\u6b65\u8fdb\u7535\u673a\u649e\u5230\u9650\u4f4d\u5f00\u5173\uff0c\u68c0\u6d4b\u5230\u89e6\u53d1\uff0c\u8fd0\u52a8\u5c31\u4f1a\u505c\u6b62\u5e76\u901a\u77e5\u4e3b\u673a\u3002 \u8fd0\u52a8\u961f\u5217 \u00b6 \u6bcf\u4e2aqueue_step\u547d\u4ee4\u90fd\u5229\u7528\u4e86\u5fae\u63a7\u5236\u5668 \"move queue \"\u4e2d\u7684\u4e00\u4e2a\u6761\u76ee\u3002\u8fd9\u4e2a\u961f\u5217\u662f\u5728\u5b83\u6536\u5230 \"finalize_config \"\u547d\u4ee4\u65f6\u5206\u914d\u7684\uff0c\u5b83\u5728 \"config \"\u54cd\u5e94\u4fe1\u606f\u4e2d\u62a5\u544a\u53ef\u7528\u961f\u5217\u6761\u76ee\u7684\u6570\u91cf\u3002 \u5728\u53d1\u9001queue_step\u547d\u4ee4\u4e4b\u524d\uff0c\u4e3b\u673a\u6709\u8d23\u4efb\u786e\u4fdd\u961f\u5217\u4e2d\u6709\u53ef\u7528\u7a7a\u95f4\u3002\u8fd9\u9700\u8981\u4e3b\u673a\u901a\u8fc7\u8ba1\u7b97\u6bcf\u4e2aqueue_step\u547d\u4ee4\u5b8c\u6210\u7684\u65f6\u95f4\u5e76\u76f8\u5e94\u5730\u5b89\u6392\u65b0\u7684queue_step\u547d\u4ee4\u6765\u5b9e\u73b0\u3002 SPI \u547d\u4ee4 \u00b6 spi_transfer oid=%c data=%*s \uff1a\u8fd9\u6761\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u5411 'oid '\u6307\u5b9a\u7684spi\u8bbe\u5907\u53d1\u9001 'data' \uff0c\u5e76\u751f\u6210\u4e00\u4e2a \"spi_transfer_response \"\u7684\u54cd\u5e94\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u62ec\u4f20\u8f93\u671f\u95f4\u8fd4\u56de\u7684\u6570\u636e\u3002 spi_send oid=%c data=%*s \uff1a\u8fd9\u4e2a\u547d\u4ee4\u4e0e \"spi_transfer \"\u7c7b\u4f3c\uff0c\u4f46\u5b83\u4e0d\u4ea7\u751f \"spi_transfer_response \"\u6d88\u606f\u3002","title":"MCU\u547d\u4ee4"},{"location":"MCU_Commands.html#mcu","text":"\u8be5\u6587\u6863\u4ecb\u7ecd\u4e86Klipper\u4e0a\u4f4d\u673a\u8f6f\u4ef6\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\uff0c\u5e76\u7531\u5fae\u5904\u7406\u5668\u8d1f\u8d23\u6267\u884c\u7684\u5e95\u5c42\u547d\u4ee4\u3002\u8be5\u6587\u6863\u4e0d\u662f\u8fd9\u4e9b\u547d\u4ee4\u7684\u6743\u5a01\u6587\u6863\uff0c\u4e5f\u5e76\u672a\u5305\u542b\u6240\u6709\u547d\u4ee4\u3002 \u82e5\u60f3\u6df1\u5165\u4e86\u89e3\u5e95\u5c42\u5fae\u5904\u7406\u5668\u547d\u4ee4\uff0c\u8be5\u6587\u6863\u662f\u4e0d\u9519\u7684\u5165\u95e8\u6750\u6599\u3002 \u5173\u4e8e\u547d\u4ee4\u7684\u683c\u5f0f\u548c\u4f20\u8f93\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u89c1 protocol \u6587\u4ef6\u3002\u8fd9\u91cc\u7684\u547d\u4ee4\u662f\u4f7f\u7528\u5176 \"printf \"\u98ce\u683c\u7684\u8bed\u6cd5\u63cf\u8ff0\u7684--\u5bf9\u4e8e\u90a3\u4e9b\u4e0d\u719f\u6089\u8fd9\u79cd\u683c\u5f0f\u7684\u4eba\u6765\u8bf4\uff0c\u53ea\u9700\u6ce8\u610f\u5728\u770b\u5230'%...'\u5e8f\u5217\u65f6\uff0c\u5e94\u8be5\u7528\u4e00\u4e2a\u5b9e\u9645\u7684\u6574\u6570\u6765\u4ee3\u66ff\u3002\u4f8b\u5982\uff0c\"count=%c \"\u7684\u63cf\u8ff0\u53ef\u4ee5\u88ab\u66ff\u6362\u4e3a \"count=10\"\u3002\u8bf7\u6ce8\u610f\uff0c\u90a3\u4e9b\u88ab\u8ba4\u4e3a\u662f \"enumerations \"\u7684\u53c2\u6570\uff08\u89c1\u4e0a\u8ff0\u534f\u8bae\u6587\u4ef6\uff09\u91c7\u53d6\u7684\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\u503c\uff0c\u5bf9\u4e8e\u5fae\u63a7\u5236\u5668\u6765\u8bf4\uff0c\u5b83\u88ab\u81ea\u52a8\u8f6c\u6362\u4e3a\u4e00\u4e2a\u6574\u6570\u503c\u3002\u8fd9\u5728\u540d\u4e3a \"pin\"\uff08\u6216\u540e\u7f00\u4e3a\"_pin\"\uff09\u7684\u53c2\u6570\u4e2d\u5f88\u5e38\u89c1\u3002","title":"MCU\u547d\u4ee4"},{"location":"MCU_Commands.html#_1","text":"\u53ef\u80fd\u9700\u8981\u91c7\u53d6\u67d0\u4e9b\u4e00\u6b21\u6027\u7684\u547d\u4ee4\u6765\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u53ca\u5176\u7247\u4e0a\u5916\u5907\u3002\u672c\u8282\u5217\u51fa\u4e86\u53ef\u7528\u4e8e\u8be5\u76ee\u7684\u7684\u5e38\u7528\u547d\u4ee4\u3002\u4e0e\u5927\u591a\u6570\u5fae\u63a7\u5236\u5668\u7684\u547d\u4ee4\u4e0d\u540c\uff0c\u8fd9\u4e9b\u547d\u4ee4\u5728\u6536\u5230\u540e\u7acb\u5373\u8fd0\u884c\uff0c\u5b83\u4eec\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u7684\u8bbe\u7f6e\u3002 \u5e38\u89c1\u7684\u542f\u52a8\u547d\u4ee4\uff1a set_digital_out pin=%u value=%c \uff1a\u8be5\u547d\u4ee4\u7acb\u5373\u5c06\u6307\u5b9a\u7684\u5f15\u811a\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51faGPIO\uff0c\u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a\u4f4e\u7535\u5e73\uff08value=0\uff09\u6216\u9ad8\u7535\u5e73\uff08value=1\uff09\u3002\u8fd9\u6761\u547d\u4ee4\u5bf9\u4e8e\u914d\u7f6eLED\u7684\u521d\u59cb\u503c\u548c\u914d\u7f6e\u6b65\u8fdb\u9a71\u52a8\u5668\u5fae\u6b65\u8fdb\u5f15\u811a\u7684\u521d\u59cb\u503c\u5f88\u6709\u7528\u3002 set_pwm_out pin=%u cycle_ticks=%u value=%hu \uff1a\u8be5\u547d\u4ee4\u5c06\u7acb\u5373\u914d\u7f6e\u6307\u5b9a\u7684\u5f15\u811a\uff0c\u4f7f\u5176\u4f7f\u7528\u786c\u4ef6\u7684\u8109\u5bbd\u8c03\u5236\uff08PWM\uff09\u548c\u7ed9\u5b9a\u7684cycle_ticks\u3002\u201ccycle_ticks\u201d\u662f\u6307\u6bcf\u4e2a\u901a\u7535\u548c\u65ad\u7535\u5468\u671f\u5e94\u8be5\u6301\u7eed\u7684MCU\u65f6\u949f\u6570\u3002cycle_ticks\u7684\u503c\u4e3a1\u8868\u793a\u4f7f\u7528\u6700\u77ed\u7684\u5468\u671f\u65f6\u95f4\u3002\u201cvalue\u201d\u53c2\u6570\u57280-255\u4e4b\u95f4\uff0c0\u8868\u793a\u5b8c\u5168\u5173\u95ed\u72b6\u6001\uff0c255\u8868\u793a\u5b8c\u5168\u5f00\u542f\u72b6\u6001\u3002\u8be5\u547d\u4ee4\u5bf9\u542f\u7528CPU\u548c\u55b7\u5634\u51b7\u5374\u98ce\u6247\u5f88\u6709\u7528\u3002","title":"\u542f\u52a8\u547d\u4ee4"},{"location":"MCU_Commands.html#_2","text":"\u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5927\u591a\u6570\u547d\u4ee4\u5728\u6210\u529f\u8c03\u7528\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u521d\u59cb\u8bbe\u7f6e\u3002\u672c\u8282\u63d0\u4f9b\u4e86\u4e00\u4e2a\u914d\u7f6e\u8fc7\u7a0b\u7684\u6982\u8ff0\u3002\u672c\u8282\u548c\u4e0b\u9762\u7684\u7ae0\u8282\u9002\u7528\u4e8e\u5bf9Klipper\u7684\u5185\u90e8\u7ec6\u8282\u611f\u5174\u8da3\u7684\u5f00\u53d1\u8005\u3002 \u5f53\u4e3b\u673a\u7b2c\u4e00\u6b21\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u65f6\uff0c\u5b83\u603b\u662f\u4ece\u83b7\u5f97\u4e00\u4e2a\u6570\u636e\u5b57\u5178\u5f00\u59cb\uff08\u66f4\u591a\u4fe1\u606f\u89c1 protocol \uff09\u3002\u83b7\u5f97\u6570\u636e\u5b57\u5178\u540e\uff0c\u4e3b\u673a\u5c06\u68c0\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u5904\u4e8e \"\u5df2\u914d\u7f6e \"\u72b6\u6001\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u8fdb\u884c\u914d\u7f6e\u3002\u914d\u7f6e\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u9636\u6bb5\uff1a get_config \uff1a\u4e3b\u673a\u9996\u5148\u68c0\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u5df2\u7ecf\u88ab\u914d\u7f6e\u3002\u5fae\u63a7\u5236\u5668\u7528\u4e00\u4e2a \"config \"\u7684\u54cd\u5e94\u4fe1\u606f\u6765\u56de\u5e94\u8fd9\u4e2a\u547d\u4ee4\u3002\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5728\u4e0a\u7535\u65f6\u603b\u662f\u4ee5\u672a\u914d\u7f6e\u7684\u72b6\u6001\u542f\u52a8\u3002\u5728\u4e3b\u673a\u5b8c\u6210\u914d\u7f6e\u8fc7\u7a0b\u4e4b\u524d\uff08\u901a\u8fc7\u53d1\u51fafinalize_config\u547d\u4ee4\uff09\uff0c\u5b83\u4e00\u76f4\u5904\u4e8e\u8fd9\u79cd\u72b6\u6001\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u5df2\u7ecf\u5728\u524d\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u8fdb\u884c\u4e86\u914d\u7f6e\uff08\u5e76\u4e14\u914d\u7f6e\u4e86\u6240\u9700\u7684\u8bbe\u7f6e\uff09\uff0c\u90a3\u4e48\u4e3b\u673a\u5c31\u4e0d\u9700\u8981\u8fdb\u4e00\u6b65\u7684\u64cd\u4f5c\uff0c\u914d\u7f6e\u8fc7\u7a0b\u6210\u529f\u7ed3\u675f\u3002 allocate_oids count=%c \uff1a\u8fd9\u6761\u547d\u4ee4\u662f\u7528\u6765\u901a\u77e5\u5fae\u63a7\u5236\u5668\u4e3b\u673a\u6240\u9700\u7684\u5bf9\u8c61\u6807\u8bc6\uff08oid\uff09\u7684\u6700\u5927\u6570\u91cf\u3002\u8fd9\u6761\u547d\u4ee4\u53ea\u6709\u6548\u4e00\u6b21\u3002oid\u662f\u5206\u914d\u7ed9\u6bcf\u4e2a\u6b65\u8fdb\u7535\u673a\u3001\u6bcf\u4e2a\u9650\u4f4d\u5f00\u5173\u548c\u6bcf\u4e2a\u53ef\u8c03\u5ea6\u7684gpio\u5f15\u811a\u7684\u4e00\u4e2a\u6574\u6570\u6807\u8bc6\u3002\u4e3b\u673a\u4e8b\u5148\u786e\u5b9a\u64cd\u4f5c\u786c\u4ef6\u6240\u9700\u7684oid\u6570\u91cf\uff0c\u5e76\u5c06\u5176\u4f20\u9012\u7ed9\u5fae\u63a7\u5236\u5668\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5\u5206\u914d\u8db3\u591f\u7684\u5185\u5b58\u6765\u5b58\u50a8\u4eceoid\u5230\u5185\u90e8\u5bf9\u8c61\u7684\u6620\u5c04\u3002 config_XXX oid=%c ... \uff1a\u6309\u7167\u60ef\u4f8b\uff0c\u4efb\u4f55\u4ee5 \"config_\"\u5f00\u5934\u7684\u547d\u4ee4\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5fae\u63a7\u5236\u5668\u5bf9\u8c61\uff0c\u5e76\u5c06\u7ed9\u5b9a\u7684oid\u8d4b\u4e88\u5b83\u3002\u4f8b\u5982\uff0cconfig_digital_out\u547d\u4ee4\u5c06\u628a\u6307\u5b9a\u7684\u5f15\u811a\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51faGPIO\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u5bf9\u8c61\uff0c\u4e3b\u673a\u53ef\u4ee5\u7528\u5b83\u6765\u5b89\u6392\u6539\u53d8\u6307\u5b9a\u7684GPIO\u7684\u8f93\u51fa\u3002\u4f20\u5165config\u547d\u4ee4\u7684oid\u53c2\u6570\u7531\u4e3b\u673a\u9009\u62e9\uff0c\u5fc5\u987b\u4ecb\u4e8e0\u548callocate_oids\u547d\u4ee4\u4e2d\u63d0\u4f9b\u7684\u6700\u5927\u8ba1\u6570\u4e4b\u95f4\u3002config\u547d\u4ee4\u53ea\u80fd\u5728\u5fae\u63a7\u5236\u5668\u4e0d\u5904\u4e8e\u5df2\u914d\u7f6e\u72b6\u6001\u65f6\uff08\u5373\u5728\u4e3b\u673a\u53d1\u9001finalize_config\u4e4b\u524d\uff09\u548callocate_oids\u547d\u4ee4\u88ab\u53d1\u9001\u4e4b\u540e\u8fd0\u884c\u3002 finalize_config crc=%u \uff1afinalize_config\u547d\u4ee4\u5c06\u5fae\u63a7\u5236\u5668\u4ece\u672a\u914d\u7f6e\u72b6\u6001\u8f6c\u6362\u4e3a\u5df2\u914d\u7f6e\u72b6\u6001\u3002\u4f20\u9012\u7ed9\u5fae\u63a7\u5236\u5668\u7684crc\u53c2\u6570\u88ab\u50a8\u5b58\u8d77\u6765\uff0c\u5e76\u5728 \"config \"\u54cd\u5e94\u4fe1\u606f\u4e2d\u53cd\u9988\u7ed9\u4e3b\u673a\u3002\u6309\u7167\u60ef\u4f8b\uff0c\u4e3b\u673a\u5bf9\u5b83\u6240\u8981\u6c42\u7684\u914d\u7f6e\u91c7\u53d632\u4f4d\u7684CRC\uff0c\u5e76\u5728\u968f\u540e\u7684\u901a\u4fe1\u4f1a\u8bdd\u5f00\u59cb\u65f6\uff0c\u68c0\u67e5\u5b58\u50a8\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u7684CRC\u662f\u5426\u4e0e\u5b83\u6240\u5e0c\u671b\u7684CRC\u6b63\u786e\u5339\u914d\u3002\u5982\u679cCRC\u4e0d\u5339\u914d\uff0c\u90a3\u4e48\u4e3b\u673a\u5c31\u77e5\u9053\u5fae\u63a7\u5236\u5668\u8fd8\u6ca1\u6709\u88ab\u914d\u7f6e\u5230\u4e3b\u673a\u6240\u5e0c\u671b\u7684\u72b6\u6001\u3002","title":"\u5e95\u5c42\u5fae\u63a7\u5236\u5668\u914d\u7f6e"},{"location":"MCU_Commands.html#_3","text":"\u672c\u8282\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u914d\u7f6e\u547d\u4ee4\u3002 config_digital_out oid=%c pin=%u value=%c default_value=%c max_duration=%u \uff1a\u8be5\u547d\u4ee4\u4e3a\u7ed9\u5b9a\u7684GPIO'pin'\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u5fae\u63a7\u5236\u5668\u5bf9\u8c61\u3002\u8be5\u5f15\u811a\u5c06\u88ab\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51fa\u6a21\u5f0f\uff0c\u5e76\u88ab\u8bbe\u7f6e\u4e3a'value'\u6307\u5b9a\u7684\u521d\u59cb\u503c\uff080\u4e3a\u4f4e\uff0c1\u4e3a\u9ad8\uff09\u3002\u521b\u5efa\u4e00\u4e2adigital_out\u5bf9\u8c61\u5141\u8bb8\u4e3b\u673a\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5185\u5bf9\u6307\u5b9a\u5f15\u811a\u5237\u65b0GPIO\u8f93\u51fa\u72b6\u6001\uff08\u89c1\u4e0b\u9762\u63cf\u8ff0\u7684queue_digital_out\u547d\u4ee4\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u8fdb\u5165\u5173\u673a\u6a21\u5f0f\uff0c\u90a3\u4e48\u6240\u6709\u914d\u7f6e\u7684digital_out\u5bf9\u8c61\u5c06\u88ab\u8bbe\u7f6e\u4e3a'default_value'\u3002max_duration \"\u53c2\u6570\u7528\u4e8e\u5b9e\u73b0\u5b89\u5168\u68c0\u67e5--\u5982\u679c\u5b83\u662f\u975e\u96f6\uff0c\u90a3\u4e48\u5b83\u4ee3\u8868\u4e3b\u673a\u53ef\u4ee5\u5c06\u6307\u5b9a\u7684GPIO\u8bbe\u4e3a\u975e\u9ed8\u8ba4\u503c\u800c\u4e0d\u9700\u8981\u5237\u65b0\u7684\u6700\u5927\u65f6\u949f\u6570\u3002\u4f8b\u5982\uff0c\u5982\u679cdefault_value\u662f0\uff0cmax_duration\u662f16000\uff0c\u90a3\u4e48\u5982\u679c\u4e3b\u673a\u5c06gpio\u8bbe\u7f6e\u4e3a1\uff0c\u5b83\u5fc5\u987b\u572816000\u4e2a\u65f6\u949f\u523b\u5ea6\u5185\u5237\u65b0gpio\u5f15\u811a\u7684\u8f93\u51fa\uff08\u4e3a0\u62161\uff09\u3002\u8fd9\u4e2a\u5b89\u5168\u529f\u80fd\u53ef\u7528\u4e8e\u52a0\u70ed\u5668\u5f15\u811a\uff0c\u4ee5\u786e\u4fdd\u4e3b\u673a\u4e0d\u4f1a\u542f\u7528\u52a0\u70ed\u5668\u540e\u8131\u673a\u3002 config_pwm_out oid=%c pin=%u cycle_ticks=%u value=%hu default_value=%hu max_duration=%u \uff1a\u8be5\u547d\u4ee4\u4e3a\u57fa\u4e8e\u786c\u4ef6\u7684PWM\u5f15\u811a\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u5bf9\u8c61\uff0c\u4e3b\u673a\u53ef\u4ee5\u5b9a\u671f\u5237\u65b0\u3002\u5b83\u7684\u7528\u6cd5\u4e0econfig_digital_out\u7c7b\u4f3c--\u53c2\u6570\u8bf4\u660e\u89c1'set_pwm_out'\u548c'config_digital_out'\u547d\u4ee4\u7684\u63cf\u8ff0\u3002 config_analog_in oid=%c pin=%u \uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u5c06\u4e00\u4e2a\u5f15\u811a\u914d\u7f6e\u4e3a\u6a21\u62df\u8f93\u5165\u91c7\u6837\u6a21\u5f0f\u3002\u4e00\u65e6\u914d\u7f6e\u5b8c\u6210\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528query_analog_in\u547d\u4ee4\uff08\u89c1\u4e0b\u6587\uff09\u4ee5\u56fa\u5b9a\u7684\u65f6\u95f4\u95f4\u9694\u5bf9\u8be5\u5f15\u811a\u8fdb\u884c\u91c7\u6837\u3002 config_stepper oid=%c step_pin=%c dir_pin=%c invert_step=%c step_pulse_ticks=%u \uff1a\u8be5\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u6b65\u8fdb\u5668\u5bf9\u8c61\u3002'step_pin'\u548c'dir_pin'\u53c2\u6570\u5206\u522b\u6307\u5b9a\u6b65\u8fdb\u548c\u65b9\u5411\u5f15\u811a\uff1b\u8be5\u547d\u4ee4\u5c06\u628a\u5b83\u4eec\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u51fa\u6a21\u5f0f\u3002'invert_step'\u53c2\u6570\u6307\u5b9a\u6b65\u8fdb\u662f\u53d1\u751f\u5728\u4e0a\u5347\u6cbf\uff08invert_step=0\uff09\u8fd8\u662f\u4e0b\u964d\u6cbf\uff08invert_step=1\uff09\u3002'step_pulse_ticks'\u53c2\u6570\u6307\u5b9a\u4e86\u6b65\u8fdb\u8109\u51b2\u7684\u6700\u5c0f\u6301\u7eed\u65f6\u95f4\u3002\u5982\u679cMCU\u8f93\u51fa\u5e38\u6570 \"STEPPER_BOTH_EDGE=1\"\uff0c\u90a3\u4e48\u8bbe\u7f6estep_pulse_ticks=0\u548cinvert_step=-1\u5c06\u8bbe\u7f6e\u5728\u6b65\u8fdb\u5f15\u811a\u7684\u4e0a\u5347\u6cbf\u548c\u4e0b\u964d\u6cbf\u90fd\u8fdb\u884c\u6b65\u8fdb\u8f93\u51fa\u3002 config_endstop oid=%c pin=%c pull_up=%c stepper_count=%c : \u8be5\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u5185\u90e8\u7684 \"endstop\"\u5bf9\u8c61\u3002\u5b83\u7528\u4e8e\u6307\u5b9a\u9650\u4f4d\u5f00\u5173\u7684\u5f15\u811a\uff0c\u5e76\u542f\u7528 \"homing \"\u64cd\u4f5c\uff08\u89c1\u4e0b\u9762\u7684endstop_home\u547d\u4ee4\uff09\u3002\u8be5\u547d\u4ee4\u5c06\u628a\u6307\u5b9a\u7684\u5f15\u811a\u914d\u7f6e\u4e3a\u6570\u5b57\u8f93\u5165\u6a21\u5f0f\u3002\u2018pull_up\u2019\u53c2\u6570\u51b3\u5b9a\u662f\u5426\u542f\u7528\u786c\u4ef6\u4e3a\u5f15\u811a\u63d0\u4f9b\u7684\u4e0a\u62c9\u7535\u963b\uff08\u5982\u679c\u6709\u7684\u8bdd\uff09\u3002\u2018stepper_count\u2019\u53c2\u6570\u89c4\u5b9a\u4e86\u5728\u5f52\u96f6\u64cd\u4f5c\u4e2d\uff0c\u8be5\u9650\u4f4d\u5f00\u5173\u89e6\u53d1\u5668\u53ef\u80fd\u9700\u8981\u7684\u6700\u5927\u6b65\u8fdb\u6570\uff08\u89c1\u4e0b\u6587endstop_home\uff09\u3002 config_spi oid=%c bus=%u pin=%u mode=%u rate=%u shutdown_msg=%*s \uff1a\u8be5\u547d\u4ee4\u521b\u5efa\u4e86\u4e00\u4e2a\u5185\u90e8SPI\u5bf9\u8c61\u3002\u5b83\u4e0espi_transfer\u548cspi_send\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff08\u89c1\u4e0b\u6587\uff09\u3002\"bus\"\u6807\u8bc6\u4e86\u8981\u4f7f\u7528\u7684SPI\u603b\u7ebf\uff08\u5982\u679c\u5fae\u63a7\u5236\u5668\u6709\u4e00\u4e2a\u4ee5\u4e0a\u7684SPI\u603b\u7ebf\u53ef\u7528\uff09\u3002\"pin\"\u6307\u5b9a\u4e86\u8bbe\u5907\u7684\u7247\u9009\uff08CS\uff09\u5f15\u811a\u3002\"mode\"\u6307\u5b9aSPI\u6a21\u5f0f\uff08\u5e94\u8be5\u57280\u52303\u4e4b\u95f4\uff09\u3002\"rate \"\u53c2\u6570\u6307\u5b9a\u4e86SPI\u603b\u7ebf\u7684\u901f\u7387\uff08\u4ee5\u6bcf\u79d2\u5468\u671f\u4e3a\u5355\u4f4d\uff09\u3002\u6700\u540e\uff0c\"shutdown_msg \"\u662f\u5728\u5fae\u63a7\u5236\u5668\u8fdb\u5165\u5173\u673a\u72b6\u6001\u65f6\u5411\u7ed9\u5b9a\u8bbe\u5907\u53d1\u9001\u7684SPI\u547d\u4ee4\u3002 config_spi_without_cs oid=%c bus=%u mode=%u rate=%u shutdown_msg=%*s : \u8fd9\u4e2a\u547d\u4ee4\u7c7b\u4f3c\u4e8econfig_spi\uff0c\u4f46\u662f\u6ca1\u6709CS\u5f15\u811a\u7684\u5b9a\u4e49\u3002\u5b83\u5bf9\u6ca1\u6709\u82af\u7247\u9009\u62e9\u7ebf\u7684SPI\u8bbe\u5907\u5f88\u6709\u7528\u3002","title":"\u5e38\u89c1\u7684\u5fae\u63a7\u5236\u5668\u5bf9\u8c61"},{"location":"MCU_Commands.html#_4","text":"\u672c\u8282\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u8fd0\u884c\u65f6\u547d\u4ee4\u3002\u5bf9\u5e0c\u671b\u6df1\u5165\u4e86\u89e3Klipper\u7684\u5f00\u53d1\u8005\u53ef\u80fd\u4f1a\u611f\u5174\u8da3\u3002 set_digital_out_pwm_cycle oid=%c cycle_ticks=%u \uff1a\u8be5\u547d\u4ee4\u5c06\u6570\u5b57\u8f93\u51fa\u5f15\u811a\uff08\u7531config_digital_out\u521b\u5efa\uff09\u914d\u7f6e\u4e3a\u4f7f\u7528 \"\u8f6f\u4ef6PWM\"\u3002'cycle_ticks' \u662fPWM\u5468\u671f\u7684\u65f6\u949f\u6570\u3002\u56e0\u4e3a\u8f93\u51fa\u5207\u6362\u662f\u5728\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u4e2d\u5b9e\u73b0\u7684\uff0c\u5efa\u8bae\u628a'cycle_ticks'\u5bf9\u5e94\u7684\u65f6\u95f4\u8bbe\u4e3a10ms\u6216\u66f4\u5927\u3002 queue_digital_out oid=%c clock=%u on_ticks=%u : \u8fd9\u4e2a\u547d\u4ee4\u5c06\u5b89\u6392\u5728\u8bbe\u5b9a\u7684\u65f6\u949f\u65f6\u95f4\u5185\u6539\u53d8\u6570\u5b57\u8f93\u51faGPIO\u5f15\u811a\u3002\u8981\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\uff0c\u5fc5\u987b\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u8fc7\u7a0b\u4e2d\u53d1\u51fa\u5177\u6709\u76f8\u540c\u2018oid\u2019\u53c2\u6570\u7684'config_digital_out'\u547d\u4ee4\u3002\u5982\u679c'set_digital_out_pwm_cycle'\u5df2\u7ecf\u88ab\u8c03\u7528\uff0c\u90a3\u4e48'on_ticks'\u5c31\u662fpwm\u5468\u671f\u7684\u5f00\u542f\u65f6\u95f4\uff08\u4ee5\u65f6\u949f\u6570\u4e3a\u5355\u4f4d\uff09\u3002\u5426\u5219\uff0c'on_ticks'\u5e94\u8be5\u662f0\uff08\u4f4e\u7535\u538b\uff09\u62161\uff08\u9ad8\u7535\u538b\uff09\u3002 queue_pwm_out oid=%c clock=%u value=%hu \uff1a\u5b89\u6392\u6539\u53d8\u4e00\u4e2a\u786c\u4ef6PWM\u8f93\u51fa\u5f15\u811a\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u8003 'queue_digital_out' \u548c 'config_pwm_out' \u547d\u4ee4\u3002 query_analog_in oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u min_value=%hu max_value=%hu \uff1a\u6b64\u547d\u4ee4\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u5bf9\u6a21\u62df\u8f93\u5165\u7684\u5faa\u73af\u91c7\u6837\u3002\u8981\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\uff0c\u5fc5\u987b\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u65f6\u53d1\u51fa\u5177\u6709\u76f8\u540c'oid'\u53c2\u6570\u7684 'config_analog_in '\u547d\u4ee4\u3002\u91c7\u6837\u5c06\u4ece'clock'\u65f6\u95f4\u5f00\u59cb\uff0c\u5b83\u5c06\u6bcf\u9694'rest_ticks'\u65f6\u949f\u6570\u62a5\u544a\u83b7\u5f97\u7684\u503c\uff0c'sample_count'\u662f\u8fc7\u91cf\u91c7\u6837\u6b21\u6570\uff0c'sample_ticks'\u662f\u5728\u8fc7\u91cf\u91c7\u6837\u4e4b\u95f4\u6682\u505c\u7684\u65f6\u949f\u6570\u3002\"min_value \"\u548c \"max_value \"\u53c2\u6570\u5b9e\u73b0\u4e86\u5b89\u5168\u529f\u80fd--\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5c06\u9a8c\u8bc1\u91c7\u6837\u503c\uff08\u5728\u6bcf\u6b21\u8fc7\u91c7\u6837\u4e4b\u540e\uff09\u603b\u662f\u5728\u5b89\u5168\u8303\u56f4\u5185\u3002\u8fd9\u662f\u4e3a\u8fde\u63a5\u5230\u63a7\u5236\u52a0\u70ed\u5668\u7684\u70ed\u654f\u7535\u963b\u7684\u5f15\u811a\u800c\u8bbe\u8ba1\u7684--\u5b83\u53ef\u4ee5\u7528\u6765\u68c0\u67e5\u52a0\u70ed\u5668\u662f\u5426\u5728\u4e00\u4e2a\u6e29\u5ea6\u8303\u56f4\u5185\u3002 get_clock \uff1a\u8be5\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u4ea7\u751f\u4e00\u4e2a \"clock\"\u54cd\u5e94\u6d88\u606f\u3002\u4e3b\u673a\u6bcf\u79d2\u53d1\u9001\u4e00\u6b21\u8fd9\u4e2a\u547d\u4ee4\uff0c\u4ee5\u83b7\u5f97\u5fae\u63a7\u5236\u5668\u7684\u65f6\u949f\u503c\uff0c\u5e76\u4f30\u8ba1\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u65f6\u949f\u4e4b\u95f4\u7684\u6f02\u79fb\u3002\u5b83\u4f7f\u4e3b\u673a\u80fd\u591f\u51c6\u786e\u4f30\u8ba1\u5fae\u63a7\u5236\u5668\u7684\u65f6\u949f\u3002","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"MCU_Commands.html#_5","text":"queue_step oid=%c interval=%u count=%hu add=%hi \uff1a\u8be5\u547d\u4ee4\u5b89\u6392\u6307\u5b9a\u7684\u6b65\u8fdb\u7535\u673a\u8f93\u51fa'count'\u4e2a\u6b65\u6570\uff0c'interval'\u662f\u6bcf\u6b65\u4e4b\u95f4\u7684\u65f6\u949f\u6570\u95f4\u9694\u3002\u547d\u4ee4\u4e2d\u7684\u7b2c\u4e00\u6b65\u4e0e\u4e0a\u4e00\u4e2a\u6b65\u8fdb\u8f93\u51fa\u547d\u4ee4\u6700\u540e\u4e00\u6b65\u7684\u65f6\u95f4\u95f4\u9694\u4e3a'interval'\u4e2a\u65f6\u949f\u6570\u3002\u5982\u679c'add'\u4e0d\u4e3a\u96f6\uff0c\u90a3\u4e48\u6bcf\u6b65\u4e4b\u540e\u7684\u95f4\u9694\u5c06\u4ee5'add'\u7684\u589e\u91cf\u8c03\u6574\u3002\u8be5\u547d\u4ee4\u5c06\u7ed9\u5b9a\u7684\u95f4\u9694/\u8ba1\u6570/\u589e\u91cf\u5e8f\u5217\u9644\u52a0\u5230\u6bcf\u4e2a\u6b65\u8fdb\u961f\u5217\u4e2d\u3002\u5728\u6b63\u5e38\u64cd\u4f5c\u4e2d\uff0c\u53ef\u80fd\u6709\u6570\u767e\u4e2a\u8fd9\u6837\u7684\u5e8f\u5217\u6392\u961f\u3002\u65b0\u7684\u5e8f\u5217\u88ab\u6dfb\u52a0\u5230\u961f\u5217\u7684\u672b\u5c3e\uff0c\u5f53\u6bcf\u4e2a\u5e8f\u5217\u5b8c\u6210\u4e86\u5b83\u7684 'count'\u6b65\u6570\u540e\u5b83\u5c31\u4ece\u961f\u5217\u7684\u524d\u9762\u5f39\u51fa\u53bb\u3002\u8fd9\u4e2a\u7cfb\u7edf\u5141\u8bb8\u5fae\u63a7\u5236\u5668\u5c06\u51e0\u5341\u4e07\u6b65\u6392\u5165\u961f\u5217--\u6240\u6709\u8fd9\u4e9b\u90fd\u6709\u53ef\u9760\u4e14\u53ef\u9884\u6d4b\u7684\u8c03\u5ea6\u65f6\u5e8f\u3002 set_next_step_dir oid=%c dir=%c \uff1a\u8be5\u547d\u4ee4\u6307\u5b9a\u4e86\u4e0b\u4e00\u4e2aqueue_step\u547d\u4ee4\u5c06\u4f7f\u7528\u7684dir_pin\u7684\u503c\u3002 reset_step_clock oid=%c clock=%u \uff1a\u901a\u5e38\u60c5\u51b5\u4e0b\u6b65\u8fdb\u65f6\u5e8f\u662f\u76f8\u5bf9\u4e8e\u7ed9\u5b9a\u6b65\u8fdb\u7684\u4e0a\u4e00\u6b65\u3002\u8fd9\u6761\u547d\u4ee4\u91cd\u7f6e\u4e86\u65f6\u949f\uff0c\u4f7f\u4e0b\u4e00\u6b65\u662f\u76f8\u5bf9\u4e8e\u63d0\u4f9b\u7684 'clock' \u65f6\u95f4\u3002\u901a\u5e38\u4e3b\u673a\u53ea\u5728\u6253\u5370\u5f00\u59cb\u65f6\u53d1\u9001\u6b64\u547d\u4ee4\u3002 stepper_get_position oid=%c \uff1a\u8be5\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u751f\u6210\u4e00\u4e2a \"stepper_position \"\u54cd\u5e94\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u542b\u6b65\u8fdb\u5668\u7684\u5f53\u524d\u4f4d\u7f6e\u3002\u8be5\u4f4d\u7f6e\u662fdir=1\u65f6\u4ea7\u751f\u7684\u603b\u6b65\u6570\u51cf\u53bbdir=0\u65f6\u7684\u603b\u6b65\u6570\u3002 endstop_home oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u pin_value=%c \uff1a\u8be5\u547d\u4ee4\u7528\u4e8e\u6b65\u8fdb\u7535\u673a \"homing\"\u64cd\u4f5c\u3002\u8981\u4f7f\u7528\u8fd9\u6761\u547d\u4ee4\uff0c\u5fc5\u987b\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u8fc7\u7a0b\u4e2d\u53d1\u51fa\u5177\u6709\u76f8\u540c 'oid '\u53c2\u6570\u7684 'config_endstop '\u547d\u4ee4\u3002\u5f53\u8fd9\u4e2a\u547d\u4ee4\u88ab\u8c03\u7528\u65f6\uff0c\u5fae\u63a7\u5236\u5668\u5c06\u5728\u6bcf\u4e00\u4e2a'rest_ticks'\u65f6\u949f\u523b\u5ea6\u4e0a\u5bf9\u9650\u4f4d\u5f00\u5173\u5f15\u811a\u8fdb\u884c\u91c7\u6837\uff0c\u5e76\u68c0\u67e5\u5b83\u7684\u503c\u662f\u5426\u7b49\u4e8e'pin_value'\u3002\u5982\u679c\u5f00\u5173\u88ab\u89e6\u53d1\uff08\u5e76\u4e14\u4ee5\u95f4\u9694'sample_ticks'\u4e3a\u5468\u671f\uff0c\u989d\u5916\u6301\u7eed'sample_count'\u6b21\u88ab\u89e6\u53d1\uff09\uff0c\u90a3\u4e48\u76f8\u5173\u6b65\u8fdb\u7684\u8fd0\u52a8\u961f\u5217\u5c06\u88ab\u6e05\u9664\uff0c\u6b65\u8fdb\u5c06\u7acb\u5373\u505c\u6b62\u3002\u4e3b\u673a\u4f7f\u7528\u8be5\u547d\u4ee4\u5b9e\u73b0\u5f52\u4f4d\u2013\u4e3b\u673a\u6307\u793a\u9650\u4f4d\u5f00\u5173\u5bf9\u9650\u4f4d\u5f00\u5173\u7684\u89e6\u53d1\u8fdb\u884c\u91c7\u6837\uff0c\u7136\u540e\u53d1\u51fa\u4e00\u7cfb\u5217queue_step\u547d\u4ee4\uff0c\u4f7f\u6b65\u8fdb\u5411\u9650\u4f4d\u79fb\u52a8\u3002\u4e00\u65e6\u6b65\u8fdb\u7535\u673a\u649e\u5230\u9650\u4f4d\u5f00\u5173\uff0c\u68c0\u6d4b\u5230\u89e6\u53d1\uff0c\u8fd0\u52a8\u5c31\u4f1a\u505c\u6b62\u5e76\u901a\u77e5\u4e3b\u673a\u3002","title":"\u6b65\u8fdb\u5668\u547d\u4ee4"},{"location":"MCU_Commands.html#_6","text":"\u6bcf\u4e2aqueue_step\u547d\u4ee4\u90fd\u5229\u7528\u4e86\u5fae\u63a7\u5236\u5668 \"move queue \"\u4e2d\u7684\u4e00\u4e2a\u6761\u76ee\u3002\u8fd9\u4e2a\u961f\u5217\u662f\u5728\u5b83\u6536\u5230 \"finalize_config \"\u547d\u4ee4\u65f6\u5206\u914d\u7684\uff0c\u5b83\u5728 \"config \"\u54cd\u5e94\u4fe1\u606f\u4e2d\u62a5\u544a\u53ef\u7528\u961f\u5217\u6761\u76ee\u7684\u6570\u91cf\u3002 \u5728\u53d1\u9001queue_step\u547d\u4ee4\u4e4b\u524d\uff0c\u4e3b\u673a\u6709\u8d23\u4efb\u786e\u4fdd\u961f\u5217\u4e2d\u6709\u53ef\u7528\u7a7a\u95f4\u3002\u8fd9\u9700\u8981\u4e3b\u673a\u901a\u8fc7\u8ba1\u7b97\u6bcf\u4e2aqueue_step\u547d\u4ee4\u5b8c\u6210\u7684\u65f6\u95f4\u5e76\u76f8\u5e94\u5730\u5b89\u6392\u65b0\u7684queue_step\u547d\u4ee4\u6765\u5b9e\u73b0\u3002","title":"\u8fd0\u52a8\u961f\u5217"},{"location":"MCU_Commands.html#spi","text":"spi_transfer oid=%c data=%*s \uff1a\u8fd9\u6761\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u5411 'oid '\u6307\u5b9a\u7684spi\u8bbe\u5907\u53d1\u9001 'data' \uff0c\u5e76\u751f\u6210\u4e00\u4e2a \"spi_transfer_response \"\u7684\u54cd\u5e94\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u62ec\u4f20\u8f93\u671f\u95f4\u8fd4\u56de\u7684\u6570\u636e\u3002 spi_send oid=%c data=%*s \uff1a\u8fd9\u4e2a\u547d\u4ee4\u4e0e \"spi_transfer \"\u7c7b\u4f3c\uff0c\u4f46\u5b83\u4e0d\u4ea7\u751f \"spi_transfer_response \"\u6d88\u606f\u3002","title":"SPI \u547d\u4ee4"},{"location":"Manual_Level.html","text":"\u624b\u52a8\u8c03\u5e73 \u00b6 \u672c\u6587\u4ecb\u7ecd\u4e86\u7528\u4e8e\u6821\u51c6Z\u9650\u4f4d\u548c\u5bf9\u6253\u5370\u5e8a\u8c03\u54c1\u87ba\u4e1d\u8fdb\u884c\u8c03\u6574\u7684\u5de5\u5177\u3002 \u6821\u51c6 Z \u9650\u4f4d \u00b6 \u51c6\u786e\u7684 Z \u8f74\u9650\u4f4d\u4f4d\u7f6e\u5bf9\u4e8e\u83b7\u5f97\u9ad8\u8d28\u91cf\u6253\u5370\u81f3\u5173\u91cd\u8981\u3002 \u8bf7\u6ce8\u610f\uff0cZ \u9650\u4f4d\u5f00\u5173\u672c\u8eab\u7684\u7cbe\u5ea6\u9650\u5236\u4e86\u8c03\u5e73\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528 Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u542f\u7528 \u9650\u4f4d\u76f8\u4f4d \u68c0\u6d4b\u4ee5\u63d0\u9ad8\u5f00\u5173\u7684\u7cbe\u5ea6\u3002 \u8981\u8fdb\u884cZ\u8f74\u9650\u4f4d\u6821\u51c6\uff0c\u8bf7\u5f52\u4f4d\u6253\u5370\u673a\uff0c\u547d\u4ee4\u6253\u5370\u5934\u79fb\u52a8\u5230\u79bb\u5e8a\u8eab\u81f3\u5c115\u6beb\u7c73\u7684Z\u8f74\u4f4d\u7f6e\uff08\u5982\u679c\u8fd8\u6ca1\u6709\uff09\uff0c\u547d\u4ee4\u6253\u5370\u5934\u79fb\u52a8\u5230\u9760\u8fd1\u5e8a\u8eab\u4e2d\u5fc3\u7684XY\u4f4d\u7f6e\uff0c\u7136\u540e\u5230OctoPrint\u7ec8\u7aef\u4e2d\u5e76\u4e14\u8fd0\u884c\uff1a Z_ENDSTOP_CALIBRATE \u585e\u7eb8\u6d4b\u8bd5\u7136\u540e\u6309\u7167 \"\u585e\u7eb8\u6d4b\u8bd5\" \u63cf\u8ff0\u7684\u6b65\u9aa4\uff0c\u786e\u5b9a\u55b7\u5634\u548c\u5e8a\u8eab\u5728\u7ed9\u5b9a\u4f4d\u7f6e\u7684\u5b9e\u9645\u8ddd\u79bb\u3002\u4e00\u65e6\u8fd9\u4e9b\u6b65\u9aa4\u5b8c\u6210\uff0c\u5c31\u53ef\u4ee5 ACCEPT \u8be5\u4f4d\u7f6e\uff0c\u5e76\u5c06\u7ed3\u679c\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\uff1a SAVE_CONFIG \u6700\u597d\u662f\u5728Z\u8f74\u4e0e\u52a0\u70ed\u5e8a\u9762\u4e4b\u95f4\u4f7f\u7528Z\u9650\u4f4d\u5f00\u5173\uff08\u8fdc\u79bb\u5e8a\u9762\u7684\u9650\u4f4d\u5f00\u5173\u66f4\u52a0\u7a33\u5b9a\u5b89\u5168\uff0c\u56e0\u4e3a\u8fd9\u6837\u7684\u8bdd\uff0cZ\u8f74\u7684\u539f\u70b9\u901a\u5e38\u662f\u5b89\u5168\u7684\uff09\u3002\u7136\u800c\uff0c\u5982\u679c\u5fc5\u987b\u5411\u52a0\u70ed\u5e8a\u5f52\u4f4d\uff0c\u5efa\u8bae\u8c03\u6574\u9650\u4f4d\u5f00\u5173\uff0c\u4f7f\u5176\u5728\u52a0\u70ed\u5e8a\u5e8a\u9762\u4e0a\u65b9\u4e00\u5c0f\u6bb5\u8ddd\u79bb\uff08\u4f8b\u59820.5\u6beb\u7c73\uff09\u89e6\u53d1\u3002\u51e0\u4e4e\u6240\u6709\u7684\u9650\u4f4d\u5f00\u5173\u90fd\u53ef\u4ee5\u5728\u89e6\u53d1\u70b9\u4ee5\u5916\u7684\u4e00\u5c0f\u6bb5\u8ddd\u79bb\u5b89\u5168\u5730\u538b\u4e0b\u3002\u5f53\u8fd9\u6837\u505a\u65f6\uff0c\u4f60\u4f1a\u53d1\u73b0 Z_ENDSTOP_CALIBRATE \u547d\u4ee4\u8f93\u51fa\u4e00\u4e2a\u5c0f\u7684\u6b63\u503c\uff08\u6bd4\u59820.5\u6beb\u7c73\uff09\u7684Z\u9650\u4f4d\u4f4d\u7f6e\u3002 \u67d0\u4e9b\u6253\u5370\u673a\u80fd\u591f\u624b\u52a8\u8c03\u6574\u9650\u4f4d\u5f00\u5173\u7684\u7269\u7406\u4f4d\u7f6e\uff0c\u4f46\u662f\u5efa\u8bae\u4f7f\u7528 Klipper \u5728\u8f6f\u4ef6\u4e2d\u6267\u884c Z \u9650\u4f4d\u5b9a\u4f4d-\u5728\u5c06\u9650\u4f4d\u7684\u7269\u7406\u4f4d\u7f6e\u56fa\u5b9a\u4e8e\u65b9\u4fbf\u5fae\u8c03\u7684\u4f4d\u7f6e\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c Z_ENDSTOP_CALIBRATE \u6216\u901a\u8fc7\u624b\u52a8\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 Z position_endstop \u6765\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u8c03\u6574\u3002 \u8c03\u6574\u6253\u5370\u8c03\u5e73\u87ba\u4e1d \u00b6 \u4f7f\u7528\u6253\u5370\u5e8a\u8c03\u5e73\u87ba\u4e1d\u83b7\u5f97\u5e73\u6574\u6253\u5370\u5e8a\u7684\u79d8\u8bc0\u662f\u5728\u5e8a\u8eab\u8c03\u5e73\u8fc7\u7a0b\u4e2d\u5229\u7528\u6253\u5370\u673a\u9ad8\u7cbe\u5ea6\u7684\u8fd0\u52a8\u7cfb\u7edf\uff0c\u901a\u8fc7\u5c06\u55b7\u5634\u547d\u4ee4\u5230\u6bcf\u4e2a\u8c03\u5e73\u87ba\u4e1d\u9644\u8fd1\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u8c03\u6574\u8be5\u87ba\u4e1d\u76f4\u5230\u5e8a\u4e0e\u55b7\u5634\u4fdd\u6301\u56fa\u5b9a\u7684\u8ddd\u79bb\u3002Klipper \u7684\u4e00\u4e2a\u5185\u7f6e\u5de5\u5177\u53ef\u4ee5\u534f\u52a9\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4e3a\u4e86\u4f7f\u7528\u8be5\u5de5\u5177\uff0c\u5fc5\u987b\u6307\u5b9a\u6bcf\u4e2a\u87ba\u4e1d\u7684XY\u5750\u6807\u3002 \u8fd9\u662f\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a [bed_screws] \u914d\u7f6e\u90e8\u5206\u6765\u5b9e\u73b0\u7684\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u6765\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u5185\u5bb9: [bed_screws] screw1: 100, 50 screw2: 100, 150 screw3: 150, 100 \u5982\u679c\u5e8a\u5934\u8c03\u5e73\u87ba\u4e1d\u5728\u5e8a\u4e0b\uff0c\u5219\u6307\u5b9a\u8c03\u5e73\u87ba\u4e1d\u6b63\u4e0a\u65b9\u7684XY\u4f4d\u7f6e\u3002\u5982\u679c\u87ba\u9489\u5728\u5e8a\u8eab\u5916\uff0c\u5219\u6307\u5b9a\u4e00\u4e2a\u6700\u63a5\u8fd1\u8c03\u5e73\u87ba\u4e1d\u7684XY\u4f4d\u7f6e\uff0c\u4f46\u4ecd\u5728\u5e8a\u8eab\u7684\u8303\u56f4\u5185\u3002 \u4e00\u65e6\u914d\u7f6e\u6587\u4ef6\u51c6\u5907\u597d\u4e86\uff0c\u8fd0\u884c RESTART \u6765\u52a0\u8f7d\u8be5\u914d\u7f6e\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528\u5de5\u5177: BED_SCREWS_ADJUST \u8fd9\u4e2a\u5de5\u5177\u5c06\u628a\u6253\u5370\u673a\u7684\u55b7\u5634\u79fb\u52a8\u5230\u6bcf\u4e2a\u8c03\u5e73\u87ba\u4e1d\u7684XY\u4f4d\u7f6e\uff0c\u7136\u540e\u628a\u55b7\u5634\u79fb\u52a8\u5230Z=0\u7684\u9ad8\u5ea6\u3002\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528\"\u7eb8\u5f20\u6d4b\u8bd5\"\u6765\u76f4\u63a5\u8c03\u6574\u55b7\u5634\u4e0b\u65b9\u7684\u70ed\u5e8a\u8c03\u5e73\u87ba\u6bcd\u3002\u53c2\u89c1 \"\u7eb8\u5f20\u6d4b\u8bd5\" \u4e2d\u63cf\u8ff0\u7684\u4fe1\u606f\uff0c\u4f46\u8981\u8c03\u6574\u7684\u662f\u70ed\u5e8a\u87ba\u6bcd\u800c\u4e0d\u662f\u6307\u5b9a\u55b7\u5934\u5230\u4e0d\u540c\u7684\u9ad8\u5ea6\u3002\u8c03\u6574\u70ed\u5e8a\u8c03\u5e73\u87ba\u6bcd\uff0c\u76f4\u5230\u6765\u56de\u63a8\u9001\u7eb8\u5f20\u65f6\u6709\u5c11\u91cf\u7684\u6469\u64e6\u3002 \u4e00\u65e6\u87ba\u4e1d\u88ab\u8c03\u6574\u5230\u53ef\u4ee5\u611f\u89c9\u5230\u5c11\u91cf\u7684\u6469\u64e6\uff0c\u8fd0\u884c ACCEPT \u6216\u8005 ADJUSTED \u547d\u4ee4\u3002\u5982\u679c\u5e8a\u8eab\u87ba\u4e1d\u9700\u8981\u8c03\u6574\uff08\u901a\u5e38\u662f\u4efb\u4f55\u8d85\u8fc71/8\u5708\u7684\u8f6c\u52a8\uff09\uff0c\u4f7f\u7528 ADJUSTED \u547d\u4ee4\u3002\u5982\u679c\u6ca1\u6709\u5fc5\u8981\u8fdb\u884c\u91cd\u5927\u8c03\u6574\uff0c\u5219\u4f7f\u7528 ACCEPT \u547d\u4ee4\u3002\u8fd9\u4e24\u6761\u547d\u4ee4\u90fd\u4f1a\u4f7f\u5de5\u5177\u8fdb\u5165\u4e0b\u4e00\u4e2a\u87ba\u4e1d\u3002(\u5f53\u4f7f\u7528 ADJUSTED \u547d\u4ee4\u65f6\uff0c\u5de5\u5177\u5c06\u5b89\u6392\u4e00\u4e2a\u989d\u5916\u7684\u5e8a\u8eab\u87ba\u9489\u8c03\u6574\u5468\u671f\uff1b\u5f53\u6240\u6709\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\u88ab\u786e\u8ba4\u4e0d\u9700\u8981\u4efb\u4f55\u91cd\u5927\u8c03\u6574\u65f6\uff0c\u5de5\u5177\u6210\u529f\u5b8c\u6210\u3002)\u4e5f\u53ef\u4ee5\u4f7f\u7528 ABORT \u547d\u4ee4\u6765\u63d0\u524d\u9000\u51fa\u5de5\u5177\u3002 \u8fd9\u4e2a\u7cfb\u7edf\u5728\u6253\u5370\u673a\u6709\u4e00\u4e2a\u5e73\u6574\u7684\u6253\u5370\u8868\u9762\uff08\u5982\u73bb\u7483\uff09\u5e76\u6709\u7b14\u76f4\u7684\u5bfc\u8f68\u65f6\u6548\u679c\u6700\u597d\u3002\u5728\u6210\u529f\u5b8c\u6210\u6253\u5370\u5e8a\u8c03\u5e73\u5de5\u5177\u540e\uff0c\u70ed\u5e8a\u5e94\u8be5\u51c6\u5907\u597d\u8fdb\u884c\u6253\u5370\u3002 \u7ec6\u9897\u7c92\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\u8c03\u6574 \u00b6 \u5982\u679c\u6253\u5370\u673a\u4f7f\u7528\u4e09\u4e2a\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\uff0c\u5e76\u4e14\u6240\u6709\u4e09\u4e2a\u8c03\u5e73\u87ba\u4e1d\u90fd\u5728\u70ed\u5e8a\u4e0b\u9762\uff0c\u90a3\u4e48\u5c31\u6709\u53ef\u80fd\u6267\u884c\u7b2c\u4e8c\u4e2a\"\u9ad8\u7cbe\u5ea6\"\u70ed\u5e8a\u8c03\u5e73\u6b65\u9aa4\u3002\u8fd9\u662f\u901a\u8fc7\u547d\u4ee4\u55b7\u5934\u5230\u70ed\u5e8a\u5f53\u5728\u6bcf\u6b21\u8c03\u6574\u5e8a\u8eab\u65f6\u79fb\u52a8\u8f83\u5927\u8ddd\u79bb\u7684\u4f4d\u7f6e\u6765\u5b9e\u73b0\u7684\u3002 \u4f8b\u5982\uff0c\u8003\u8651\u4e00\u5f20\u5728A B C\u4f4d\u7f6e\u6709\u87ba\u4e1d\u7684\u6253\u5370\u5e73\u53f0\uff1a \u5728\u4f4d\u4e8eC\u4f4d\u7f6e\u7684\u87ba\u4e1d\u6bcf\u6b21\u8c03\u6574\u95f4\uff0c\u6253\u5370\u5e8a/\u6253\u5370\u5934\u5c06\u6cbf\u7740\u7531\u5176\u4f59\u4e24\u4e2a\u87ba\u4e1d\u5b9a\u4e49\u7684\u5750\u6807\u6446\u9524\u6446\u52a8\uff08\u6b64\u5904\u663e\u793a\u4e3a\u7eff\u7ebf\uff09\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bcf\u6b21\u8c03\u6574C\u5904\u7684\u5e8a\u87ba\u9489\u90fd\u4f1a\u4f7f\u6253\u5370\u5e8a\u5728\u4f4d\u7f6eD\u5904\u79fb\u52a8\u6bd4\u5728C\u5904\u79fb\u52a8\u66f4\u591a\u7684\u91cf\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06\u55b7\u5634\u7f6e\u4e8eD\u4f4d\u7f6e\u8fdb\u884c\u5bf9C\u4f4d\u7f6e\u87ba\u4e1d\u7684\u7cbe\u786e\u8c03\u6574\u3002 \u8981\u542f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8981\u5b9a\u4e49\u989d\u5916\u7684\u55b7\u5634\u5750\u6807\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff1a [bed_screws] screw1: 100, 50 screw1_fine_adjust: 0, 0 screw2: 100, 150 screw2_fine_adjust: 300, 300 screw3: 150, 100 screw3_fine_adjust: 0, 100 \u5f53\u6b64\u529f\u80fd\u88ab\u542f\u7528\u65f6\uff0c BED_SCREWS_ADJUST \u5de5\u5177\u5c06\u5148\u63d0\u793a\u5728\u6bcf\u4e2a\u87ba\u9489\u4f4d\u7f6e\u6b63\u4e0a\u65b9\u8fdb\u884c\u7c97\u8c03\uff0c\u4e00\u65e6\u8fd9\u4e9b\u88ab\u63a5\u53d7\uff0c\u5b83\u5c06\u63d0\u793a\u5728\u5176\u4ed6\u4f4d\u7f6e\u8fdb\u884c\u7ec6\u8c03\u3002\u7ee7\u7eed\u5728\u6bcf\u4e2a\u4f4d\u7f6e\u4f7f\u7528 ACCEPT \u548c ADJUSTED \u3002 \u4f7f\u7528\u6253\u5370\u5e8a\u63a2\u9488\u8c03\u6574\u6253\u5370\u5e8a\u8c03\u5e73\u87ba\u4e1d \u00b6 \u8fd9\u662f\u7528\u6253\u5370\u5e8a\u63a2\u5934\u8c03\u5e73\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u3002\u8981\u4f7f\u7528\u5b83\uff0c\u4f60\u5fc5\u987b\u6709\u4e00\u4e2aZ\u63a2\u9488\uff08BL Touch\uff0c\u7535\u611f\u5f0f\u4f20\u611f\u5668\u7b49\uff09\u3002 \u8981\u542f\u7528\u8be5\u529f\u80fd\uff0c\u5148\u8981\u786e\u5b9a\u55b7\u5634\u5750\u6807\uff0c\u4f7fZ\u63a2\u5934\u4f4d\u4e8e\u87ba\u4e1d\u4e0a\u65b9\uff0c\u7136\u540e\u5c06\u5176\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u6765\u50cf\uff1a [screws_tilt_adjust] screw1: -5, 30 screw1_name: front left screw screw2: 155, 30 screw2_name: front right screw screw3: 155, 190 screw3_name: rear right screw screw4: -5, 190 screw4_name: rear left screw horizontal_move_z: 10. speed: 50. screw_thread: CW-M3 The screw1 is always the reference point for the others, so the system assumes that screw1 is at the correct height. Always run G28 first and then run SCREWS_TILT_CALCULATE - it should produce output similar to: Send: G28 Recv: ok Send: SCREWS_TILT_CALCULATE Recv: // 01:20 means 1 full turn and 20 minutes, CW=clockwise, CCW=counter-clockwise Recv: // front left screw (base) : x=-5.0, y=30.0, z=2.48750 Recv: // front right screw : x=155.0, y=30.0, z=2.36000 : adjust CW 01:15 Recv: // rear right screw : y=155.0, y=190.0, z=2.71500 : adjust CCW 00:50 Recv: // read left screw : x=-5.0, y=190.0, z=2.47250 : adjust CW 00:02 Recv: ok \u8fd9\u610f\u5473\u7740\uff1a front left screw is the reference point you must not change it. front right screw must be turned clockwise 1 full turn and a quarter turn rear right screw must be turned counter-clockwise 50 minutes rear left screw must be turned clockwise 2 minutes (not need it's ok) Note that \"minutes\" refers to \"minutes of a clock face\". So, for example, 15 minutes is a quarter of a full turn. \u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\u51e0\u6b21\uff0c\u76f4\u5230\u6253\u5370\u5e8a\u53d8\u5f97\u8db3\u591f\u6c34\u5e73--\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u7684\u4f4d\u7f6e\u9700\u8981\u7684\u8c03\u6574\u90fd\u5c0f\u4e8e6\u5206\u949f\u3002 \u5982\u679c\u4f7f\u7528\u5b89\u88c5\u5728\u70ed\u7aef\u4fa7\u9762\u7684\u63a2\u5934\uff08\u5373\u5b83\u6709\u4e00\u4e2aX\u6216Y\u504f\u79fb\uff09\uff0c\u90a3\u4e48\u8bf7\u6ce8\u610f\uff0c\u8c03\u6574\u5e8a\u8eab\u503e\u659c\u5ea6\u5c06\u4f7f\u4ee5\u524d\u5728\u503e\u659c\u7684\u5e8a\u8eab\u4e0b\u8fdb\u884c\u7684\u4efb\u4f55\u63a2\u9488\u6821\u51c6\u5931\u6548\u3002\u4e00\u5b9a\u8981\u5728\u8c03\u6574\u6253\u5370\u5e8a\u87ba\u4e1d\u540e\u8fd0\u884c \u63a2\u9488\u6821\u51c6 \u3002 The MAX_DEVIATION parameter is useful when a saved bed mesh is used, to ensure that the bed level has not drifted too far from where it was when the mesh was created. For example, SCREWS_TILT_CALCULATE MAX_DEVIATION=0.01 can be added to the custom start gcode of the slicer before the mesh is loaded. It will abort the print if the configured limit is exceeded (0.01mm in this example), giving the user a chance to adjust the screws and restart the print. The DIRECTION parameter is useful if you can turn your bed adjustment screws in one direction only. For example, you might have screws that start tightened in their lowest (or highest) possible position, which can only be turned in a single direction, to raise (or lower) the bed. If you can only turn the screws clockwise, run SCREWS_TILT_CALCULATE DIRECTION=CW . If you can only turn them counter-clockwise, run SCREWS_TILT_CALCULATE DIRECTION=CCW . A suitable reference point will be chosen such that the bed can be leveled by turning all the screws in the given direction.","title":"\u624b\u52a8\u8c03\u5e73"},{"location":"Manual_Level.html#_1","text":"\u672c\u6587\u4ecb\u7ecd\u4e86\u7528\u4e8e\u6821\u51c6Z\u9650\u4f4d\u548c\u5bf9\u6253\u5370\u5e8a\u8c03\u54c1\u87ba\u4e1d\u8fdb\u884c\u8c03\u6574\u7684\u5de5\u5177\u3002","title":"\u624b\u52a8\u8c03\u5e73"},{"location":"Manual_Level.html#z","text":"\u51c6\u786e\u7684 Z \u8f74\u9650\u4f4d\u4f4d\u7f6e\u5bf9\u4e8e\u83b7\u5f97\u9ad8\u8d28\u91cf\u6253\u5370\u81f3\u5173\u91cd\u8981\u3002 \u8bf7\u6ce8\u610f\uff0cZ \u9650\u4f4d\u5f00\u5173\u672c\u8eab\u7684\u7cbe\u5ea6\u9650\u5236\u4e86\u8c03\u5e73\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528 Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u542f\u7528 \u9650\u4f4d\u76f8\u4f4d \u68c0\u6d4b\u4ee5\u63d0\u9ad8\u5f00\u5173\u7684\u7cbe\u5ea6\u3002 \u8981\u8fdb\u884cZ\u8f74\u9650\u4f4d\u6821\u51c6\uff0c\u8bf7\u5f52\u4f4d\u6253\u5370\u673a\uff0c\u547d\u4ee4\u6253\u5370\u5934\u79fb\u52a8\u5230\u79bb\u5e8a\u8eab\u81f3\u5c115\u6beb\u7c73\u7684Z\u8f74\u4f4d\u7f6e\uff08\u5982\u679c\u8fd8\u6ca1\u6709\uff09\uff0c\u547d\u4ee4\u6253\u5370\u5934\u79fb\u52a8\u5230\u9760\u8fd1\u5e8a\u8eab\u4e2d\u5fc3\u7684XY\u4f4d\u7f6e\uff0c\u7136\u540e\u5230OctoPrint\u7ec8\u7aef\u4e2d\u5e76\u4e14\u8fd0\u884c\uff1a Z_ENDSTOP_CALIBRATE \u585e\u7eb8\u6d4b\u8bd5\u7136\u540e\u6309\u7167 \"\u585e\u7eb8\u6d4b\u8bd5\" \u63cf\u8ff0\u7684\u6b65\u9aa4\uff0c\u786e\u5b9a\u55b7\u5634\u548c\u5e8a\u8eab\u5728\u7ed9\u5b9a\u4f4d\u7f6e\u7684\u5b9e\u9645\u8ddd\u79bb\u3002\u4e00\u65e6\u8fd9\u4e9b\u6b65\u9aa4\u5b8c\u6210\uff0c\u5c31\u53ef\u4ee5 ACCEPT \u8be5\u4f4d\u7f6e\uff0c\u5e76\u5c06\u7ed3\u679c\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\uff1a SAVE_CONFIG \u6700\u597d\u662f\u5728Z\u8f74\u4e0e\u52a0\u70ed\u5e8a\u9762\u4e4b\u95f4\u4f7f\u7528Z\u9650\u4f4d\u5f00\u5173\uff08\u8fdc\u79bb\u5e8a\u9762\u7684\u9650\u4f4d\u5f00\u5173\u66f4\u52a0\u7a33\u5b9a\u5b89\u5168\uff0c\u56e0\u4e3a\u8fd9\u6837\u7684\u8bdd\uff0cZ\u8f74\u7684\u539f\u70b9\u901a\u5e38\u662f\u5b89\u5168\u7684\uff09\u3002\u7136\u800c\uff0c\u5982\u679c\u5fc5\u987b\u5411\u52a0\u70ed\u5e8a\u5f52\u4f4d\uff0c\u5efa\u8bae\u8c03\u6574\u9650\u4f4d\u5f00\u5173\uff0c\u4f7f\u5176\u5728\u52a0\u70ed\u5e8a\u5e8a\u9762\u4e0a\u65b9\u4e00\u5c0f\u6bb5\u8ddd\u79bb\uff08\u4f8b\u59820.5\u6beb\u7c73\uff09\u89e6\u53d1\u3002\u51e0\u4e4e\u6240\u6709\u7684\u9650\u4f4d\u5f00\u5173\u90fd\u53ef\u4ee5\u5728\u89e6\u53d1\u70b9\u4ee5\u5916\u7684\u4e00\u5c0f\u6bb5\u8ddd\u79bb\u5b89\u5168\u5730\u538b\u4e0b\u3002\u5f53\u8fd9\u6837\u505a\u65f6\uff0c\u4f60\u4f1a\u53d1\u73b0 Z_ENDSTOP_CALIBRATE \u547d\u4ee4\u8f93\u51fa\u4e00\u4e2a\u5c0f\u7684\u6b63\u503c\uff08\u6bd4\u59820.5\u6beb\u7c73\uff09\u7684Z\u9650\u4f4d\u4f4d\u7f6e\u3002 \u67d0\u4e9b\u6253\u5370\u673a\u80fd\u591f\u624b\u52a8\u8c03\u6574\u9650\u4f4d\u5f00\u5173\u7684\u7269\u7406\u4f4d\u7f6e\uff0c\u4f46\u662f\u5efa\u8bae\u4f7f\u7528 Klipper \u5728\u8f6f\u4ef6\u4e2d\u6267\u884c Z \u9650\u4f4d\u5b9a\u4f4d-\u5728\u5c06\u9650\u4f4d\u7684\u7269\u7406\u4f4d\u7f6e\u56fa\u5b9a\u4e8e\u65b9\u4fbf\u5fae\u8c03\u7684\u4f4d\u7f6e\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c Z_ENDSTOP_CALIBRATE \u6216\u901a\u8fc7\u624b\u52a8\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 Z position_endstop \u6765\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u8c03\u6574\u3002","title":"\u6821\u51c6 Z \u9650\u4f4d"},{"location":"Manual_Level.html#_2","text":"\u4f7f\u7528\u6253\u5370\u5e8a\u8c03\u5e73\u87ba\u4e1d\u83b7\u5f97\u5e73\u6574\u6253\u5370\u5e8a\u7684\u79d8\u8bc0\u662f\u5728\u5e8a\u8eab\u8c03\u5e73\u8fc7\u7a0b\u4e2d\u5229\u7528\u6253\u5370\u673a\u9ad8\u7cbe\u5ea6\u7684\u8fd0\u52a8\u7cfb\u7edf\uff0c\u901a\u8fc7\u5c06\u55b7\u5634\u547d\u4ee4\u5230\u6bcf\u4e2a\u8c03\u5e73\u87ba\u4e1d\u9644\u8fd1\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u8c03\u6574\u8be5\u87ba\u4e1d\u76f4\u5230\u5e8a\u4e0e\u55b7\u5634\u4fdd\u6301\u56fa\u5b9a\u7684\u8ddd\u79bb\u3002Klipper \u7684\u4e00\u4e2a\u5185\u7f6e\u5de5\u5177\u53ef\u4ee5\u534f\u52a9\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u4e3a\u4e86\u4f7f\u7528\u8be5\u5de5\u5177\uff0c\u5fc5\u987b\u6307\u5b9a\u6bcf\u4e2a\u87ba\u4e1d\u7684XY\u5750\u6807\u3002 \u8fd9\u662f\u901a\u8fc7\u521b\u5efa\u4e00\u4e2a [bed_screws] \u914d\u7f6e\u90e8\u5206\u6765\u5b9e\u73b0\u7684\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u6765\u7c7b\u4f3c\u4e8e\u4ee5\u4e0b\u5185\u5bb9: [bed_screws] screw1: 100, 50 screw2: 100, 150 screw3: 150, 100 \u5982\u679c\u5e8a\u5934\u8c03\u5e73\u87ba\u4e1d\u5728\u5e8a\u4e0b\uff0c\u5219\u6307\u5b9a\u8c03\u5e73\u87ba\u4e1d\u6b63\u4e0a\u65b9\u7684XY\u4f4d\u7f6e\u3002\u5982\u679c\u87ba\u9489\u5728\u5e8a\u8eab\u5916\uff0c\u5219\u6307\u5b9a\u4e00\u4e2a\u6700\u63a5\u8fd1\u8c03\u5e73\u87ba\u4e1d\u7684XY\u4f4d\u7f6e\uff0c\u4f46\u4ecd\u5728\u5e8a\u8eab\u7684\u8303\u56f4\u5185\u3002 \u4e00\u65e6\u914d\u7f6e\u6587\u4ef6\u51c6\u5907\u597d\u4e86\uff0c\u8fd0\u884c RESTART \u6765\u52a0\u8f7d\u8be5\u914d\u7f6e\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f7f\u7528\u5de5\u5177: BED_SCREWS_ADJUST \u8fd9\u4e2a\u5de5\u5177\u5c06\u628a\u6253\u5370\u673a\u7684\u55b7\u5634\u79fb\u52a8\u5230\u6bcf\u4e2a\u8c03\u5e73\u87ba\u4e1d\u7684XY\u4f4d\u7f6e\uff0c\u7136\u540e\u628a\u55b7\u5634\u79fb\u52a8\u5230Z=0\u7684\u9ad8\u5ea6\u3002\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u53ef\u4ee5\u4f7f\u7528\"\u7eb8\u5f20\u6d4b\u8bd5\"\u6765\u76f4\u63a5\u8c03\u6574\u55b7\u5634\u4e0b\u65b9\u7684\u70ed\u5e8a\u8c03\u5e73\u87ba\u6bcd\u3002\u53c2\u89c1 \"\u7eb8\u5f20\u6d4b\u8bd5\" \u4e2d\u63cf\u8ff0\u7684\u4fe1\u606f\uff0c\u4f46\u8981\u8c03\u6574\u7684\u662f\u70ed\u5e8a\u87ba\u6bcd\u800c\u4e0d\u662f\u6307\u5b9a\u55b7\u5934\u5230\u4e0d\u540c\u7684\u9ad8\u5ea6\u3002\u8c03\u6574\u70ed\u5e8a\u8c03\u5e73\u87ba\u6bcd\uff0c\u76f4\u5230\u6765\u56de\u63a8\u9001\u7eb8\u5f20\u65f6\u6709\u5c11\u91cf\u7684\u6469\u64e6\u3002 \u4e00\u65e6\u87ba\u4e1d\u88ab\u8c03\u6574\u5230\u53ef\u4ee5\u611f\u89c9\u5230\u5c11\u91cf\u7684\u6469\u64e6\uff0c\u8fd0\u884c ACCEPT \u6216\u8005 ADJUSTED \u547d\u4ee4\u3002\u5982\u679c\u5e8a\u8eab\u87ba\u4e1d\u9700\u8981\u8c03\u6574\uff08\u901a\u5e38\u662f\u4efb\u4f55\u8d85\u8fc71/8\u5708\u7684\u8f6c\u52a8\uff09\uff0c\u4f7f\u7528 ADJUSTED \u547d\u4ee4\u3002\u5982\u679c\u6ca1\u6709\u5fc5\u8981\u8fdb\u884c\u91cd\u5927\u8c03\u6574\uff0c\u5219\u4f7f\u7528 ACCEPT \u547d\u4ee4\u3002\u8fd9\u4e24\u6761\u547d\u4ee4\u90fd\u4f1a\u4f7f\u5de5\u5177\u8fdb\u5165\u4e0b\u4e00\u4e2a\u87ba\u4e1d\u3002(\u5f53\u4f7f\u7528 ADJUSTED \u547d\u4ee4\u65f6\uff0c\u5de5\u5177\u5c06\u5b89\u6392\u4e00\u4e2a\u989d\u5916\u7684\u5e8a\u8eab\u87ba\u9489\u8c03\u6574\u5468\u671f\uff1b\u5f53\u6240\u6709\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\u88ab\u786e\u8ba4\u4e0d\u9700\u8981\u4efb\u4f55\u91cd\u5927\u8c03\u6574\u65f6\uff0c\u5de5\u5177\u6210\u529f\u5b8c\u6210\u3002)\u4e5f\u53ef\u4ee5\u4f7f\u7528 ABORT \u547d\u4ee4\u6765\u63d0\u524d\u9000\u51fa\u5de5\u5177\u3002 \u8fd9\u4e2a\u7cfb\u7edf\u5728\u6253\u5370\u673a\u6709\u4e00\u4e2a\u5e73\u6574\u7684\u6253\u5370\u8868\u9762\uff08\u5982\u73bb\u7483\uff09\u5e76\u6709\u7b14\u76f4\u7684\u5bfc\u8f68\u65f6\u6548\u679c\u6700\u597d\u3002\u5728\u6210\u529f\u5b8c\u6210\u6253\u5370\u5e8a\u8c03\u5e73\u5de5\u5177\u540e\uff0c\u70ed\u5e8a\u5e94\u8be5\u51c6\u5907\u597d\u8fdb\u884c\u6253\u5370\u3002","title":"\u8c03\u6574\u6253\u5370\u8c03\u5e73\u87ba\u4e1d"},{"location":"Manual_Level.html#_3","text":"\u5982\u679c\u6253\u5370\u673a\u4f7f\u7528\u4e09\u4e2a\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\uff0c\u5e76\u4e14\u6240\u6709\u4e09\u4e2a\u8c03\u5e73\u87ba\u4e1d\u90fd\u5728\u70ed\u5e8a\u4e0b\u9762\uff0c\u90a3\u4e48\u5c31\u6709\u53ef\u80fd\u6267\u884c\u7b2c\u4e8c\u4e2a\"\u9ad8\u7cbe\u5ea6\"\u70ed\u5e8a\u8c03\u5e73\u6b65\u9aa4\u3002\u8fd9\u662f\u901a\u8fc7\u547d\u4ee4\u55b7\u5934\u5230\u70ed\u5e8a\u5f53\u5728\u6bcf\u6b21\u8c03\u6574\u5e8a\u8eab\u65f6\u79fb\u52a8\u8f83\u5927\u8ddd\u79bb\u7684\u4f4d\u7f6e\u6765\u5b9e\u73b0\u7684\u3002 \u4f8b\u5982\uff0c\u8003\u8651\u4e00\u5f20\u5728A B C\u4f4d\u7f6e\u6709\u87ba\u4e1d\u7684\u6253\u5370\u5e73\u53f0\uff1a \u5728\u4f4d\u4e8eC\u4f4d\u7f6e\u7684\u87ba\u4e1d\u6bcf\u6b21\u8c03\u6574\u95f4\uff0c\u6253\u5370\u5e8a/\u6253\u5370\u5934\u5c06\u6cbf\u7740\u7531\u5176\u4f59\u4e24\u4e2a\u87ba\u4e1d\u5b9a\u4e49\u7684\u5750\u6807\u6446\u9524\u6446\u52a8\uff08\u6b64\u5904\u663e\u793a\u4e3a\u7eff\u7ebf\uff09\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6bcf\u6b21\u8c03\u6574C\u5904\u7684\u5e8a\u87ba\u9489\u90fd\u4f1a\u4f7f\u6253\u5370\u5e8a\u5728\u4f4d\u7f6eD\u5904\u79fb\u52a8\u6bd4\u5728C\u5904\u79fb\u52a8\u66f4\u591a\u7684\u91cf\u3002\u56e0\u6b64\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06\u55b7\u5634\u7f6e\u4e8eD\u4f4d\u7f6e\u8fdb\u884c\u5bf9C\u4f4d\u7f6e\u87ba\u4e1d\u7684\u7cbe\u786e\u8c03\u6574\u3002 \u8981\u542f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8981\u5b9a\u4e49\u989d\u5916\u7684\u55b7\u5634\u5750\u6807\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff1a [bed_screws] screw1: 100, 50 screw1_fine_adjust: 0, 0 screw2: 100, 150 screw2_fine_adjust: 300, 300 screw3: 150, 100 screw3_fine_adjust: 0, 100 \u5f53\u6b64\u529f\u80fd\u88ab\u542f\u7528\u65f6\uff0c BED_SCREWS_ADJUST \u5de5\u5177\u5c06\u5148\u63d0\u793a\u5728\u6bcf\u4e2a\u87ba\u9489\u4f4d\u7f6e\u6b63\u4e0a\u65b9\u8fdb\u884c\u7c97\u8c03\uff0c\u4e00\u65e6\u8fd9\u4e9b\u88ab\u63a5\u53d7\uff0c\u5b83\u5c06\u63d0\u793a\u5728\u5176\u4ed6\u4f4d\u7f6e\u8fdb\u884c\u7ec6\u8c03\u3002\u7ee7\u7eed\u5728\u6bcf\u4e2a\u4f4d\u7f6e\u4f7f\u7528 ACCEPT \u548c ADJUSTED \u3002","title":"\u7ec6\u9897\u7c92\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\u8c03\u6574"},{"location":"Manual_Level.html#_4","text":"\u8fd9\u662f\u7528\u6253\u5370\u5e8a\u63a2\u5934\u8c03\u5e73\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u3002\u8981\u4f7f\u7528\u5b83\uff0c\u4f60\u5fc5\u987b\u6709\u4e00\u4e2aZ\u63a2\u9488\uff08BL Touch\uff0c\u7535\u611f\u5f0f\u4f20\u611f\u5668\u7b49\uff09\u3002 \u8981\u542f\u7528\u8be5\u529f\u80fd\uff0c\u5148\u8981\u786e\u5b9a\u55b7\u5634\u5750\u6807\uff0c\u4f7fZ\u63a2\u5934\u4f4d\u4e8e\u87ba\u4e1d\u4e0a\u65b9\uff0c\u7136\u540e\u5c06\u5176\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u6765\u50cf\uff1a [screws_tilt_adjust] screw1: -5, 30 screw1_name: front left screw screw2: 155, 30 screw2_name: front right screw screw3: 155, 190 screw3_name: rear right screw screw4: -5, 190 screw4_name: rear left screw horizontal_move_z: 10. speed: 50. screw_thread: CW-M3 The screw1 is always the reference point for the others, so the system assumes that screw1 is at the correct height. Always run G28 first and then run SCREWS_TILT_CALCULATE - it should produce output similar to: Send: G28 Recv: ok Send: SCREWS_TILT_CALCULATE Recv: // 01:20 means 1 full turn and 20 minutes, CW=clockwise, CCW=counter-clockwise Recv: // front left screw (base) : x=-5.0, y=30.0, z=2.48750 Recv: // front right screw : x=155.0, y=30.0, z=2.36000 : adjust CW 01:15 Recv: // rear right screw : y=155.0, y=190.0, z=2.71500 : adjust CCW 00:50 Recv: // read left screw : x=-5.0, y=190.0, z=2.47250 : adjust CW 00:02 Recv: ok \u8fd9\u610f\u5473\u7740\uff1a front left screw is the reference point you must not change it. front right screw must be turned clockwise 1 full turn and a quarter turn rear right screw must be turned counter-clockwise 50 minutes rear left screw must be turned clockwise 2 minutes (not need it's ok) Note that \"minutes\" refers to \"minutes of a clock face\". So, for example, 15 minutes is a quarter of a full turn. \u91cd\u590d\u8fd9\u4e2a\u8fc7\u7a0b\u51e0\u6b21\uff0c\u76f4\u5230\u6253\u5370\u5e8a\u53d8\u5f97\u8db3\u591f\u6c34\u5e73--\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u7684\u4f4d\u7f6e\u9700\u8981\u7684\u8c03\u6574\u90fd\u5c0f\u4e8e6\u5206\u949f\u3002 \u5982\u679c\u4f7f\u7528\u5b89\u88c5\u5728\u70ed\u7aef\u4fa7\u9762\u7684\u63a2\u5934\uff08\u5373\u5b83\u6709\u4e00\u4e2aX\u6216Y\u504f\u79fb\uff09\uff0c\u90a3\u4e48\u8bf7\u6ce8\u610f\uff0c\u8c03\u6574\u5e8a\u8eab\u503e\u659c\u5ea6\u5c06\u4f7f\u4ee5\u524d\u5728\u503e\u659c\u7684\u5e8a\u8eab\u4e0b\u8fdb\u884c\u7684\u4efb\u4f55\u63a2\u9488\u6821\u51c6\u5931\u6548\u3002\u4e00\u5b9a\u8981\u5728\u8c03\u6574\u6253\u5370\u5e8a\u87ba\u4e1d\u540e\u8fd0\u884c \u63a2\u9488\u6821\u51c6 \u3002 The MAX_DEVIATION parameter is useful when a saved bed mesh is used, to ensure that the bed level has not drifted too far from where it was when the mesh was created. For example, SCREWS_TILT_CALCULATE MAX_DEVIATION=0.01 can be added to the custom start gcode of the slicer before the mesh is loaded. It will abort the print if the configured limit is exceeded (0.01mm in this example), giving the user a chance to adjust the screws and restart the print. The DIRECTION parameter is useful if you can turn your bed adjustment screws in one direction only. For example, you might have screws that start tightened in their lowest (or highest) possible position, which can only be turned in a single direction, to raise (or lower) the bed. If you can only turn the screws clockwise, run SCREWS_TILT_CALCULATE DIRECTION=CW . If you can only turn them counter-clockwise, run SCREWS_TILT_CALCULATE DIRECTION=CCW . A suitable reference point will be chosen such that the bed can be leveled by turning all the screws in the given direction.","title":"\u4f7f\u7528\u6253\u5370\u5e8a\u63a2\u9488\u8c03\u6574\u6253\u5370\u5e8a\u8c03\u5e73\u87ba\u4e1d"},{"location":"Measuring_Resonances.html","text":"\u5171\u632f\u503c\u6d4b\u91cf \u00b6 Klipper\u5185\u5efa\u6709ADXL345\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u9a71\u52a8\uff0c\u53ef\u7528\u4ee5\u6d4b\u91cf\u6253\u5370\u673a\u4e0d\u540c\u8fd0\u52a8\u8f74\u53d1\u751f\u5171\u632f\u7684\u9891\u7387\uff0c\u4ece\u800c\u81ea\u52a8\u8fdb\u884c \u8f93\u5165\u6574\u5f62 \u4ee5\u5b9e\u73b0\u5171\u632f\u8865\u507f\u3002\u6ce8\u610f\u4f7f\u7528ADXL345\u9700\u8981\u8fdb\u884c\u710a\u63a5\u548c\u538b\u7ebf\u3002ADXL345\u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u5230\u6811\u8393\u6d3e\uff0c\u4e5f\u53ef\u4ee5\u8fde\u63a5\u5230MCU\u7684SPI\u603b\u7ebf\uff08\u6ce8\u610fMCU\u6709\u4e00\u5b9a\u7684\u6027\u80fd\u9700\u6c42\uff09\u3002 When sourcing ADXL345, be aware that there is a variety of different PCB board designs and different clones of them. Make sure that the board supports SPI mode (small number of boards appear to be hard-configured for I2C by pulling SDO to GND), and, if it is going to be connected to a 5V printer MCU, that it has a voltage regulator and a level shifter. \u5b89\u88c5\u6307\u5357 \u00b6 \u63a5\u7ebf \u00b6 \u6211\u4eec\u9700\u8981\u5c06ADXL345\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u7684SPI\u63a5\u53e3\u3002\u6ce8\u610f\uff0c\u5c3d\u7ba1ADXL345\u6587\u6863\u63a8\u8350\u4f7f\u7528I2C\uff0c\u4f46\u5176\u6570\u636e\u541e\u5410\u80fd\u529b\u4e0d\u8db3\uff0c \u4e0d\u80fd \u5b9e\u73b0\u5171\u632f\u6d4b\u91cf\u7684\u8981\u6c42\u3002\u63a8\u8350\u7684\u63a5\u7ebf\u56fe\u4e3a\uff1a ADXL345\u5f15\u811a \u6811\u8393\u6d3e\u5f15\u811a \u6811\u8393\u6d3e\u5f15\u811a\u540d\u79f0 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u7535\u6e90 GND 06 \u5730\uff08GND\uff09 CS\uff08\u82af\u7247\u9009\u5b9a\uff09 24 GPIO08 (SPI0_CE0_N) SDO 21 GPIO09 (SPI0_MISO) SDA 19 GPIO10 (SPI0_MOSI) SCL 23 GPIO11 (SPI0_SCLK) An alternative to the ADXL345 is the MPU-9250 (or MPU-6050). This accelerometer has been tested to work over I2C on the RPi at 400kbaud. Recommended connection scheme for I2C: MPU-9250 pin \u6811\u8393\u6d3e\u5f15\u811a \u6811\u8393\u6d3e\u5f15\u811a\u540d\u79f0 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u7535\u6e90 GND 09 \u5730\uff08GND\uff09 SDA 03 GPIO02 (SDA1) SCL 05 GPIO03 (SCL1) \u90e8\u5206ADXL345\u5f00\u53d1\u677f\u7684Fritzing\u63a5\u7ebf\u56fe\u5982\u4e0b\uff1a \u4e3a\u907f\u514d\u635f\u5bb3\u6811\u8393\u6d3e\u6216\u52a0\u901f\u5ea6\u4f20\u611f\u5668\uff0c\u8bf7\u518d\u4e09\u786e\u8ba4\u63a5\u7ebf\u6b63\u786e\u518d\u5bf9\u6811\u8393\u6d3e\u4e0a\u7535\u3002 \u56fa\u5b9a\u52a0\u901f\u5ea6\u4f20\u611f\u5668 \u00b6 \u52a0\u901f\u5ea6\u4f20\u611f\u5668\u5e94\u56fa\u5b9a\u5728\u6253\u5370\u5934\u4e0a\u3002\u5e94\u6839\u636e\u6253\u5370\u673a\u7684\u60c5\u51b5\u8bbe\u8ba1\u5408\u9002\u7684\u56fa\u5b9a\u4ef6\u3002\u63a8\u8350\u5c06\u52a0\u901f\u5ea6\u7684\u6d4b\u91cf\u8f74\u4e0e\u6253\u5370\u673a\u8fd0\u884c\u8f74\u7684\u65b9\u5411\u8fdb\u884c\u5bf9\u9f50\u3002\u7136\u800c\uff0c\u5982\u679c\u8f74\u5bf9\u9f50\u6781\u5176\u9ebb\u70e6\uff0c\u53ef\u4ee5\u5c06\u6253\u5370\u673a\u7684\u8f74\u4f7f\u7528\u5176\u4ed6\u6d4b\u91cf\u8f74\u5bf9\u9f50\uff0c\u6bd4\u5982\u6253\u5370\u673a+X\u5bf9\u5e94\u4f20\u611f\u5668-X\uff0c\u751a\u81f3\u6253\u5370\u673a+X\u5bf9\u5e94\u4f20\u611f\u5668-Z\u7b49\u3002 \u4e0b\u9762\u662fADXL345\u56fa\u5b9a\u5230SmartEffector\u7684\u793a\u4f8b\uff1a \u6ce8\u610f\uff0c\u6ed1\u5e8a\u5f0f\u6253\u5370\u673a\u9700\u8981\u8bbe\u8ba1\u4e24\u4e2a\u56fa\u5b9a\u4ef6\uff1a\u4e00\u4e2a\u5b89\u88c5\u4e8e\u6253\u5370\u5934\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u70ed\u5e8a\uff0c\u5e76\u8fdb\u884c\u4e24\u6b21\u6d4b\u91cf\u3002\u8be6\u89c1 \u5bf9\u5e94\u5206\u8282 \u3002 \u6ce8\u610f \uff1a\u52a1\u5fc5\u786e\u4fdd\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u548c\u4efb\u4f55\u87ba\u4e1d\u90fd\u4e0d\u5e94\u8be5\u63a5\u89e6\u5230\u6253\u5370\u673a\u7684\u91d1\u5c5e\u90e8\u5206\u3002\u7d27\u56fa\u4ef6\u5fc5\u987b\u8bbe\u8ba1\u6210\u5728\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u548c\u6253\u5370\u673a\u6846\u4f53\u95f4\u5f62\u6210\u7535\u6c14\u7edd\u7f18\u3002\u9519\u8bef\u7684\u8bbe\u8ba1\u53ef\u80fd\u4f1a\u5f62\u6210\u77ed\u8def\uff0c\u4ece\u800c\u635f\u6bc1\u7535\u6c14\u5143\u4ef6\u3002 \u8f6f\u4ef6\u8bbe\u7f6e \u00b6 Note that resonance measurements and shaper auto-calibration require additional software dependencies not installed by default. First, run on your Raspberry Pi the following commands: sudo apt update sudo apt install python3-numpy python3-matplotlib libatlas-base-dev Next, in order to install NumPy in the Klipper environment, run the command: ~/klippy-env/bin/pip install -v numpy Note that, depending on the performance of the CPU, it may take a lot of time, up to 10-20 minutes. Be patient and wait for the completion of the installation. On some occasions, if the board has too little RAM the installation may fail and you will need to enable swap. \u4e4b\u540e\uff0c\u53c2\u8003 \u6811\u8393\u6d3e\u4f5c\u4e3a\u5fae\u63a7\u5236\u5668\u6587\u6863 \u7684\u6307\u5f15\u5b8c\u6210\u201cLINUX\u5fae\u5904\u7406\u5668\u201d\u7684\u8bbe\u7f6e\u3002 \u901a\u8fc7\u8fd0\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u5355\u4e2d\u542f\u7528 SPI \u4ee5\u786e\u4fddLinux SPI \u9a71\u52a8\u5df2\u542f\u7528\u3002 For the ADXL345, add the following to the printer.cfg file: [mcu rpi] serial: /tmp/klipper_host_mcu [adxl345] cs_pin: rpi:None [resonance_tester] accel_chip: adxl345 probe_points: 100, 100, 20 # an example \u5efa\u8bae\u5728\u6d4b\u8bd5\u5f00\u59cb\u524d\uff0c\u7528\u63a2\u9488\u5728\u70ed\u5e8a\u4e2d\u592e\u8fdb\u884c\u4e00\u6b21\u63a2\u6d4b\uff0c\u89e6\u53d1\u540e\u7a0d\u5fae\u4e0a\u79fb\u3002 For the MPU-9250, make sure the Linux I2C driver is enabled and the baud rate is set to 400000 (see Enabling I2C section for more details). Then, add the following to the printer.cfg: [mcu rpi] serial: /tmp/klipper_host_mcu [mpu9250] i2c_mcu: rpi i2c_bus: i2c.1 [resonance_tester] accel_chip: mpu9250 probe_points: 100, 100, 20 # an example \u901a\u8fc7 RESTART \u547d\u4ee4\u91cd\u542fKlipper\u3002 \u6d4b\u91cf\u5171\u632f\u503c \u00b6 \u68c0\u67e5\u8bbe\u7f6e \u00b6 \u9996\u5148\u6d4b\u8bd5\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u7684\u8fde\u63a5\u3002 \u5bf9\u4e8e\u53ea\u6709\u4e00\u4e2a\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u7684\u60c5\u51b5\uff0c\u5728Octoprint\uff0c\u8f93\u5165 ACCELEROMETER_QUERY \uff08\u904d\u5386\u5df2\u8fde\u63a5\u7684\u52a0\u901f\u5ea6\u4f20\u611f\u5668\uff09 \u5bf9\u4e8e\u201c\u6ed1\u52a8\u5e8a\u201d\uff08\u5373\u6709\u591a\u4e2a\u52a0\u901f\u5ea6\u4f20\u611f\u5668\uff09\uff0c\u8f93\u5165 ACCELEROMETER_QUERY CHIP=<chip> \uff0c\u5176\u4e2d <chip> \u662f\u8bbe\u7f6e\u6587\u6863\u4e2d\u7684\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u547d\u540d\uff0c\u4f8b\u5982 CHIP=bed (\u53c2\u89c1\uff1a bed-slinger )\u3002 \u753b\u9762\u5c06\u8f93\u51fa\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u7684\u8bfb\u503c\uff0c\u677f\u5b50\u81ea\u7531\u843d\u4f53\u52a0\u901f\u5ea6\uff0c\u4f8b\u5982\uff1a Recv: // adxl345 values (x, y, z): 470.719200, 941.438400, 9728.196800 \u5982\u679c\u8f93\u51fa\u7c7b\u4f3c Invalid adxl345 id (got xx vs e5) \uff0c\u5176\u4e2d'xx'\u4e3ae5\u4ee5\u5916ID\uff0c\u8fd9\u8868\u793a\u51fa\u73b0\u8fde\u63a5\u95ee\u9898\uff08\u5982\uff0c\u8fde\u63a5\u9519\u8bef\u3001\u7ebf\u7f06\u7535\u963b\u8fc7\u5927\u3001\u5e72\u6270\u7b49\uff09\uff0c\u6216\u4f20\u611f\u5668\u9519\u8bef\uff08\u5982\uff0c\u6b8b\u6b21\u4f20\u611f\u5668 \u6216 \u9519\u8bef\u7684\u4f20\u611f\u5668\uff09\u3002\u8bf7\u5728\u6b64\u68c0\u67e5\u7535\u6e90\uff0c\u63a5\u7ebf\uff08\u518d\u4e09\u786e\u5b9a\u63a5\u7ebf\u6b63\u786e\uff0c\u6ca1\u6709\u7834\u635f\u3001\u677e\u52a8\u7684\u7535\u7ebf\uff09\u6216\u710a\u63a5\u95ee\u9898\u3002 \u4e0b\u4e00\u6b65\uff0c\u5728Octoprint\u4e2d\u8f93\u5165 MEASURE_AXES_NOISE \uff0c\u4e4b\u540e\u5c06\u4f1a\u663e\u793a\u5404\u4e2a\u8f74\u7684\u57fa\u51c6\u6d4b\u91cf\u566a\u58f0\uff08\u5176\u503c\u5e94\u57281-100\u4e4b\u95f4\uff09\u3002\u5982\u679c\u8f74\u7684\u566a\u58f0\u6781\u9ad8\uff08\u4f8b\u5982 1000 \u6216\u66f4\u9ad8\uff09\u53ef\u80fd\u610f\u5473\u77403D\u6253\u5370\u673a\u4e0a\u5b58\u5728\u4f20\u611f\u5668\u95ee\u9898\u3001\u7535\u6e90\u95ee\u9898\u6216\u4e0d\u5e73\u8861\u7684\u98ce\u6247\u3002 \u6d4b\u91cf\u5171\u632f\u503c \u00b6 \u73b0\u5728\u53ef\u4ee5\u8fd0\u884c\u8fdb\u884c\u5b9e\u6d4b\u3002\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4: TEST_RESONANCES AXIS=X \u6ce8\u610f\uff0c\u8fd9\u5c06\u5728X\u8f74\u4e0a\u4ea7\u751f\u632f\u52a8\u3002\u5982\u679c\u4e4b\u524d\u542f\u7528\u4e86\u8f93\u5165\u6574\u5f62\uff0c\u5b83\u4e5f\u5c06\u7981\u7528\u8f93\u5165\u6574\u5f62\uff0c\u56e0\u4e3a\u5728\u542f\u7528\u8f93\u5165\u6574\u5f62\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u5171\u632f\u6d4b\u8bd5\u662f\u65e0\u6548\u7684\u3002 \u6ce8\u610f\uff01 \u8bf7\u786e\u4fdd\u7b2c\u4e00\u6b21\u8fd0\u884c\u65f6\u65f6\u523b\u89c2\u5bdf\u6253\u5370\u673a\uff0c\u4ee5\u786e\u4fdd\u632f\u52a8\u4e0d\u4f1a\u592a\u5267\u70c8\uff08 M112 \u547d\u4ee4\u53ef\u4ee5\u5728\u7d27\u6025\u60c5\u51b5\u4e0b\u4e2d\u6b62\u6d4b\u8bd5\uff1b\u4f46\u613f\u4e0d\u4f1a\u5230\u8fd9\u4e00\u6b65\uff09\u3002\u5982\u679c\u632f\u52a8\u786e\u5b9e\u592a\u5f3a\u70c8\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u5728 [Resonance_tester] \u5206\u6bb5\u4e2d\u4e3a accel_per_hz \u53c2\u6570\u6307\u5b9a\u4e00\u4e2a\u4f4e\u4e8e\u9ed8\u8ba4\u503c\u7684\u503c\uff0c\u4f8b\u5982: [resonance_tester] accel_chip: adxl345 accel_per_hz: 50 # default is 75 probe_points: ... \u5982\u679c\u5b83\u9002\u7528\u4e8e X \u8f74\uff0c\u5219\u4e5f\u53ef\u4ee5\u4e3a Y \u8f74\u8fd0\u884c\uff1a TEST_RESONANCES AXIS=Y This will generate 2 CSV files ( /tmp/resonances_x_*.csv and /tmp/resonances_y_*.csv ). These files can be processed with the stand-alone script on a Raspberry Pi. To do that, run the following commands: ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_y_*.csv -o /tmp/shaper_calibrate_y.png \u6b64\u811a\u672c\u5c06\u751f\u6210\u9891\u7387\u54cd\u5e94\u7684\u56fe\u8868 /tmp/shaper_calibrate_x.png \u548c /tmp/shaper_calibrate_y.png \u3002\u5b83\u8fd8\u4f1a\u7ed9\u51fa\u6bcf\u4e2a\u8f93\u5165\u6574\u5f62\u5668\u7684\u5efa\u8bae\u9891\u7387\uff0c\u4ee5\u53ca\u63a8\u8350\u7684\u8f93\u5165\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff1a Fitted shaper 'zv' frequency = 34.4 Hz (vibrations = 4.0%, smoothing ~= 0.132) To avoid too much smoothing with 'zv', suggested max_accel <= 4500 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 0.0%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 41.4 Hz (vibrations = 0.0%, smoothing ~= 0.188) To avoid too much smoothing with 'ei', suggested max_accel <= 3200 mm/sec^2 Fitted shaper '2hump_ei' frequency = 51.8 Hz (vibrations = 0.0%, smoothing ~= 0.201) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 61.8 Hz (vibrations = 0.0%, smoothing ~= 0.215) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2800 mm/sec^2 Recommended shaper is mzv @ 34.6 Hz \u63a8\u8350\u7684\u914d\u7f6e\u53ef\u4ee5\u6dfb\u52a0\u5230 [input_shaper] \u7684 printer.cfg \u5206\u6bb5\u4e2d\uff0c\u4f8b\u5982\uff1a [input_shaper] shaper_freq_x: ... shaper_type_x: ... shaper_freq_y: 34.6 shaper_type_y: mzv [printer] max_accel: 3000 # should not exceed the estimated max_accel for X and Y axes \u4e5f\u53ef\u4ee5\u6839\u636e\u751f\u6210\u7684\u56fe\u8868\u81ea\u5df1\u9009\u62e9\u4e00\u4e9b\u5176\u4ed6\u914d\u7f6e\uff1a\u56fe\u8868\u4e0a\u7684\u529f\u7387\u8c31\u5bc6\u5ea6\u7684\u5cf0\u503c\u5bf9\u5e94\u4e8e\u6253\u5370\u673a\u7684\u5171\u632f\u9891\u7387\u3002 \u8bf7\u6ce8\u610f\uff0c\u53ef\u4ee5 \u76f4\u63a5 \u5728Klipper\u4e2d\u8fd0\u884c\u8f93\u5165\u6574\u5f62\u5668\u81ea\u52a8\u6821\u51c6\uff0c\u8fd9\u53ef\u80fd\u66f4\u65b9\u4fbf\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8e\u8f93\u5165\u6574\u5f62\u5668 \u91cd\u65b0\u6821\u51c6 \u3002 \u5e73\u884c\u4e8e\u55b7\u5634\u79fb\u52a8\u6253\u5370\u5e8a\u7684\u6253\u5370\u673a \u00b6 \u5982\u679c\u6253\u5370\u673a\u7684\u6253\u5370\u5e8a\u53ef\u4ee5\u5e73\u884c\u4e8e\u55b7\u5634\u79fb\u52a8\uff0c\u6d4b\u91cfX\u548cY\u8f74\u65f6\u9700\u8981\u6539\u53d8\u52a0\u901f\u5ea6\u8ba1\u7684\u5b89\u88c5\u4f4d\u7f6e\u3002\u5b89\u88c5\u52a0\u901f\u5ea6\u8ba1\u5230\u6253\u5370\u5934\u4ee5\u6d4b\u91cfX\u8f74\u5171\u632f\uff0c\u5b89\u88c5\u5230\u6253\u5370\u5e8a\u4ee5\u6d4b\u91cfY\u8f74\uff08\u8be5\u7c7b\u6253\u5370\u673a\u7684\u5e38\u89c1\u914d\u7f6e\uff09\u3002 \u4e5f\u53ef\u4ee5\u540c\u65f6\u8fde\u63a5\u4e24\u4e2a\u52a0\u901f\u5ea6\u8ba1\uff0c\u5c3d\u7ba1\u5b83\u4eec\u5fc5\u987b\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u4e3b\u677f\uff08\u4f8b\u5982\uff0c\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u548cMCU\uff09\uff0c\u6216\u8005\u8fde\u63a5\u5230\u540c\u4e00\u677f\u4e0a\u4e24\u4e2a\u4e0d\u540c\u7684\u7269\u7406SPI\u63a5\u53e3\uff08\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u53ef\u7528\uff09\u3002\u7136\u540e\u53ef\u4ee5\u6309\u4ee5\u4e0b\u65b9\u5f0f\u914d\u7f6e\u5b83\u4eec\uff1a [adxl345 hotend] # Assuming `hotend` chip is connected to an RPi cs_pin: rpi:None [adxl345 bed] # Assuming `bed` chip is connected to a printer MCU board cs_pin: ... # Printer board SPI chip select (CS) pin [resonance_tester] # Assuming the typical setup of the bed slinger printer accel_chip_x: adxl345 hotend accel_chip_y: adxl345 bed probe_points: ... \u7136\u540e\uff0c\u547d\u4ee4 TEST_RESONANCES AXIS=X \u548c TEST_RESONANCES AXIS=Y \u4f1a\u4f7f\u7528\u6bcf\u4e2a\u8f74\u76f8\u5e94\u7684\u52a0\u901f\u5ea6\u8ba1\u3002 \u6700\u5927\u5e73\u6ed1\u5ea6 \u00b6 \u8bf7\u6ce8\u610f\uff0c\u8f93\u5165\u6574\u5f62\u5668\u4f1a\u5728\u4f7f\u4e00\u4e9b\u6253\u5370\u7684\u8def\u5f84\u88ab\u5e73\u6ed1\u3002\u7531\u6267\u884c calibrate_shaper.py \u811a\u672c\u6216 SHAPER_CALIBRATE \u547d\u4ee4\u81ea\u52a8\u5f97\u51fa\u7684\u8f93\u5165\u6574\u5f62\u5668\u4f1a\u5c3d\u91cf\u4e0d\u52a0\u5267\u5e73\u6ed1\u7684\u540c\u65f6\u8bd5\u56fe\u6700\u5c0f\u5316\u4ea7\u751f\u7684\u632f\u52a8\u3002\u811a\u672c\u53ef\u80fd\u4f1a\u5f97\u51fa\u4e0d\u662f\u6700\u4f18\u7684\u6574\u5f62\u5668\u7684\u9891\u7387\uff0c\u6216\u8005\u4f60\u53ef\u80fd\u5e0c\u671b\u4ee5\u66f4\u5f3a\u7684\u5269\u4f59\u632f\u52a8\u4e3a\u4ee3\u4ef7\u6765\u51cf\u5c11\u5e73\u6ed1\u5ea6\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8981\u6c42\u811a\u672c\u9650\u5236\u8f93\u5165\u6574\u5f62\u5668\u7684\u6700\u5927\u5e73\u6ed1\u5ea6\u3002 \u53c2\u8003\u4ee5\u4e0b\u81ea\u52a8\u8c03\u8c10\u7ed3\u679c\uff1a Fitted shaper 'zv' frequency = 57.8 Hz (vibrations = 20.3%, smoothing ~= 0.053) To avoid too much smoothing with 'zv', suggested max_accel <= 13000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.8 Hz (vibrations = 3.6%, smoothing ~= 0.168) To avoid too much smoothing with 'mzv', suggested max_accel <= 3600 mm/sec^2 Fitted shaper 'ei' frequency = 48.8 Hz (vibrations = 4.9%, smoothing ~= 0.135) To avoid too much smoothing with 'ei', suggested max_accel <= 4400 mm/sec^2 Fitted shaper '2hump_ei' frequency = 45.2 Hz (vibrations = 0.1%, smoothing ~= 0.264) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2200 mm/sec^2 Fitted shaper '3hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.356) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 1500 mm/sec^2 Recommended shaper is 2hump_ei @ 45.2 Hz \u8bf7\u6ce8\u610f\uff0c\u62a5\u544a\u7684 smoothing \uff08\u5e73\u6ed1\uff09\u503c\u662f\u62bd\u8c61\u7684\u9884\u6d4b\u503c\u3002\u8fd9\u4e9b\u503c\u53ef\u7528\u4e8e\u6bd4\u8f83\u4e0d\u540c\u7684\u914d\u7f6e\uff1a\u503c\u8d8a\u9ad8\uff0c\u6574\u5f62\u5668\u9020\u6210\u7684\u5e73\u6ed1\u5ea6\u5c31\u8d8a\u9ad8\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u5e73\u6ed1\u503c\u5e76\u4e0d\u8868\u793a\u4efb\u4f55\u5b9e\u9645\u7684\u5e73\u6ed1\u5ea6\u7684\u91cf\uff0c\u56e0\u4e3a\u5b9e\u9645\u7684\u5e73\u6ed1\u53d6\u51b3\u4e8e max_accel \u548c square_corner_velocity \u53c2\u6570\u3002\u56e0\u6b64\uff0c\u5982\u679c\u5e0c\u671b\u4e86\u89e3\u6240\u9009\u914d\u7f6e\u9020\u6210\u7684\u5b9e\u9645\u5e73\u6ed1\u6548\u679c\uff0c\u9700\u8981\u6253\u5370\u4e00\u4e9b\u6d4b\u8bd5\u4ef6\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u811a\u672c\u7ed9\u51fa\u4e86\u4e0d\u9519\u7684\u6574\u5f62\u5668\u53c2\u6570\u5efa\u8bae\uff0c\u4f46\u662f\u5982\u679c\u60f3\u5728 X \u8f74\u4e0a\u51cf\u5c11\u5e73\u6ed1\u5ea6\uff0c\u5c31\u9700\u8981\u5c1d\u8bd5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u9650\u5236\u811a\u672c\u6311\u9009\u53c2\u6570\u65f6\u7684\u6574\u5f62\u5668\u5e73\u6ed1\u503c\u6781\u9650\uff1a ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png --max_smoothing=0.2 \u8fd9\u5c06\u5e73\u6ed1\u503c\u9650\u5236\u57280.2\u3002\u73b0\u5728\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a Fitted shaper 'zv' frequency = 55.4 Hz (vibrations = 19.7%, smoothing ~= 0.057) To avoid too much smoothing with 'zv', suggested max_accel <= 12000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 3.6%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 48.2 Hz (vibrations = 4.8%, smoothing ~= 0.139) To avoid too much smoothing with 'ei', suggested max_accel <= 4300 mm/sec^2 Fitted shaper '2hump_ei' frequency = 52.0 Hz (vibrations = 2.7%, smoothing ~= 0.200) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 72.6 Hz (vibrations = 1.4%, smoothing ~= 0.155) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 3900 mm/sec^2 Recommended shaper is 3hump_ei @ 72.6 Hz \u65b0\u7684\u53c2\u6570\u4e0e\u4e4b\u524d\u7684\u5efa\u8bae\u6bd4\uff0c\u632f\u52a8\u8981\u5927\u4e00\u4e9b\uff0c\u4f46\u5e73\u6ed1\u5ea6\u660e\u663e\u6bd4\u4e4b\u524d\u5c0f\uff0c\u5141\u8bb8\u6253\u5370\u65f6\u66f4\u9ad8\u7684\u6781\u9650\u52a0\u901f\u5ea6\u3002 When deciding which max_smoothing parameter to choose, you can use a trial-and-error approach. Try a few different values and see which results you get. Note that the actual smoothing produced by the input shaper depends, primarily, on the lowest resonance frequency of the printer: the higher the frequency of the lowest resonance - the smaller the smoothing. Therefore, if you request the script to find a configuration of the input shaper with the unrealistically small smoothing, it will be at the expense of increased ringing at the lowest resonance frequencies (which are, typically, also more prominently visible in prints). So, always double-check the projected remaining vibrations reported by the script and make sure they are not too high. Note that if you chose a good max_smoothing value for both of your axes, you can store it in the printer.cfg as [resonance_tester] accel_chip: ... probe_points: ... max_smoothing: 0.25 # an example Then, if you rerun the input shaper auto-tuning using SHAPER_CALIBRATE Klipper command in the future, it will use the stored max_smoothing value as a reference. Selecting max_accel \u00b6 Since the input shaper can create some smoothing in parts, especially at high accelerations, you will still need to choose the max_accel value that does not create too much smoothing in the printed parts. A calibration script provides an estimate for max_accel parameter that should not create too much smoothing. Note that the max_accel as displayed by the calibration script is only a theoretical maximum at which the respective shaper is still able to work without producing too much smoothing. It is by no means a recommendation to set this acceleration for printing. The maximum acceleration your printer is able to sustain depends on its mechanical properties and the maximum torque of the used stepper motors. Therefore, it is suggested to set max_accel in [printer] section that does not exceed the estimated values for X and Y axes, likely with some conservative safety margin. Alternatively, follow this part of the input shaper tuning guide and print the test model to choose max_accel parameter experimentally. The same notice applies to the input shaper auto-calibration with SHAPER_CALIBRATE command: it is still necessary to choose the right max_accel value after the auto-calibration, and the suggested acceleration limits will not be applied automatically. If you are doing a shaper re-calibration and the reported smoothing for the suggested shaper configuration is almost the same as what you got during the previous calibration, this step can be skipped. Testing custom axes \u00b6 TEST_RESONANCES command supports custom axes. While this is not really useful for input shaper calibration, it can be used to study printer resonances in-depth and to check, for example, belt tension. To check the belt tension on CoreXY printers, execute TEST_RESONANCES AXIS=1,1 OUTPUT=raw_data TEST_RESONANCES AXIS=1,-1 OUTPUT=raw_data and use graph_accelerometer.py to process the generated files, e.g. ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u751f\u6210 /tmp/resonances.png \uff0c\u5bf9\u6bd4\u5171\u632f\u7684\u6570\u636e\u3002 \u5bf9\u6807\u51c6\u6784\u578b\u7684\u4e09\u89d2\u6d32\u6253\u5370\u673a\uff08A\u5854210\u00b0\uff0cB\u5854330\u00b0\uff0cC\u5854~90\u00b0\uff09\uff0c\u6267\u884c TEST_RESONANCES AXIS=0,1 OUTPUT=raw_data TEST_RESONANCES AXIS=-0.866025404,-0.5 OUTPUT=raw_data TEST_RESONANCES AXIS=0.866025404,-0.5 OUTPUT=raw_data \u7136\u540e\u4f7f\u7528\u540c\u6837\u7684\u547d\u4ee4 ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u751f\u6210 /tmp/resonances.png \uff0c\u5bf9\u6bd4\u5171\u632f\u7684\u6570\u636e\u3002 Input Shaper auto-calibration \u00b6 Besides manually choosing the appropriate parameters for the input shaper feature, it is also possible to run the auto-tuning for the input shaper directly from Klipper. Run the following command via Octoprint terminal: SHAPER_CALIBRATE This will run the full test for both axes and generate the csv output ( /tmp/calibration_data_*.csv by default) for the frequency response and the suggested input shapers. You will also get the suggested frequencies for each input shaper, as well as which input shaper is recommended for your setup, on Octoprint console. For example: Calculating the best input shaper parameters for y axis # \u6b63\u5728\u8ba1\u7b97y\u8f74\u7684\u6700\u4f73\u8f93\u5165\u6574\u5f62\u53c2\u6570 Fitted shaper 'zv' frequency = 39.0 Hz (vibrations = 13.2%, smoothing ~= 0.105) # \u62df\u5408\u6574\u5f62\u201czv\u201d To avoid too much smoothing with 'zv', suggested max_accel <= 5900 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201czv\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=5900 mm/sec^2 Fitted shaper 'mzv' frequency = 36.8 Hz (vibrations = 1.7%, smoothing ~= 0.150) # \u62df\u5408\u6574\u5f62\u201cmzv\u201d To avoid too much smoothing with 'mzv', suggested max_accel <= 4000 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201cmzv\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=4000 mm/sec^2 Fitted shaper 'ei' frequency = 36.6 Hz (vibrations = 2.2%, smoothing ~= 0.240) # \u62df\u5408\u6574\u5f62\u201cei\u201d To avoid too much smoothing with 'ei', suggested max_accel <= 2500 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201cei\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '2hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.234) # \u62df\u5408\u6574\u5f62\u201c2hump_ei\u201d To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201c2hump_ei\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '3hump_ei' frequency = 59.0 Hz (vibrations = 0.0%, smoothing ~= 0.235) # \u62df\u5408\u6574\u5f62\u201c3hump_ei\u201d To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201c3hump_ei\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Recommended shaper_type_y = mzv, shaper_freq_y = 36.8 Hz # \u5efa\u8baeshaper_type_y = mzv, shaper_freq_y = 36.8 Hz If you agree with the suggested parameters, you can execute SAVE_CONFIG now to save them and restart the Klipper. Note that this will not update max_accel value in [printer] section. You should update it manually following the considerations in Selecting max_accel section. If your printer is a bed slinger printer, you can specify which axis to test, so that you can change the accelerometer mounting point between the tests (by default the test is performed for both axes): SHAPER_CALIBRATE AXIS=Y You can execute SAVE_CONFIG twice - after calibrating each axis. However, if you connected two accelerometers simultaneously, you simply run SHAPER_CALIBRATE without specifying an axis to calibrate the input shaper for both axes in one go. Input Shaper re-calibration \u00b6 SHAPER_CALIBRATE command can be also used to re-calibrate the input shaper in the future, especially if some changes to the printer that can affect its kinematics are made. One can either re-run the full calibration using SHAPER_CALIBRATE command, or restrict the auto-calibration to a single axis by supplying AXIS= parameter, like SHAPER_CALIBRATE AXIS=X Warning! It is not advisable to run the shaper autocalibration very frequently (e.g. before every print, or every day). In order to determine resonance frequencies, autocalibration creates intensive vibrations on each of the axes. Generally, 3D printers are not designed to withstand a prolonged exposure to vibrations near the resonance frequencies. Doing so may increase wear of the printer components and reduce their lifespan. There is also an increased risk of some parts unscrewing or becoming loose. Always check that all parts of the printer (including the ones that may normally not move) are securely fixed in place after each auto-tuning. Also, due to some noise in measurements, it is possible that the tuning results will be slightly different from one calibration run to another one. Still, it is not expected that the noise will affect the print quality too much. However, it is still advised to double-check the suggested parameters, and print some test prints before using them to confirm they are good. Offline processing of the accelerometer data \u00b6 It is possible to generate the raw accelerometer data and process it offline (e.g. on a host machine), for example to find resonances. In order to do so, run the following commands via Octoprint terminal: SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 TEST_RESONANCES AXIS=X OUTPUT=raw_data ignoring any errors for SET_INPUT_SHAPER command. For TEST_RESONANCES command, specify the desired test axis. The raw data will be written into /tmp directory on the RPi. The raw data can also be obtained by running the command ACCELEROMETER_MEASURE command twice during some normal printer activity - first to start the measurements, and then to stop them and write the output file. Refer to G-Codes for more details. The data can be processed later by the following scripts: scripts/graph_accelerometer.py and scripts/calibrate_shaper.py . Both of them accept one or several raw csv files as the input depending on the mode. The graph_accelerometer.py script supports several modes of operation: plotting raw accelerometer data (use -r parameter), only 1 input is supported; plotting a frequency response (no extra parameters required), if multiple inputs are specified, the average frequency response is computed; comparison of the frequency response between several inputs (use -c parameter); you can additionally specify which accelerometer axis to consider via -a x , -a y or -a z parameter (if none specified, the sum of vibrations for all axes is used); plotting the spectrogram (use -s parameter), only 1 input is supported; you can additionally specify which accelerometer axis to consider via -a x , -a y or -a z parameter (if none specified, the sum of vibrations for all axes is used). Note that graph_accelerometer.py script supports only the raw_data*.csv files and not resonances*.csv or calibration_data*.csv files. For example, ~/klipper/scripts/graph_accelerometer.py /tmp/raw_data_x_*.csv -o /tmp/resonances_x.png -c -a z will plot the comparison of several /tmp/raw_data_x_*.csv files for Z axis to /tmp/resonances_x.png file. The shaper_calibrate.py script accepts 1 or several inputs and can run automatic tuning of the input shaper and suggest the best parameters that work well for all provided inputs. It prints the suggested parameters to the console, and can additionally generate the chart if -o output.png parameter is provided, or the CSV file if -c output.csv parameter is specified. Providing several inputs to shaper_calibrate.py script can be useful if running some advanced tuning of the input shapers, for example: Running TEST_RESONANCES AXIS=X OUTPUT=raw_data (and Y axis) for a single axis twice on a bed slinger printer with the accelerometer attached to the toolhead the first time, and the accelerometer attached to the bed the second time in order to detect axes cross-resonances and attempt to cancel them with input shapers. Running TEST_RESONANCES AXIS=Y OUTPUT=raw_data twice on a bed slinger with a glass bed and a magnetic surfaces (which is lighter) to find the input shaper parameters that work well for any print surface configuration. Combining the resonance data from multiple test points. Combining the resonance data from 2 axis (e.g. on a bed slinger printer to configure X-axis input_shaper from both X and Y axes resonances to cancel vibrations of the bed in case the nozzle 'catches' a print when moving in X axis direction).","title":"\u5171\u632f\u503c\u6d4b\u91cf"},{"location":"Measuring_Resonances.html#_1","text":"Klipper\u5185\u5efa\u6709ADXL345\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u9a71\u52a8\uff0c\u53ef\u7528\u4ee5\u6d4b\u91cf\u6253\u5370\u673a\u4e0d\u540c\u8fd0\u52a8\u8f74\u53d1\u751f\u5171\u632f\u7684\u9891\u7387\uff0c\u4ece\u800c\u81ea\u52a8\u8fdb\u884c \u8f93\u5165\u6574\u5f62 \u4ee5\u5b9e\u73b0\u5171\u632f\u8865\u507f\u3002\u6ce8\u610f\u4f7f\u7528ADXL345\u9700\u8981\u8fdb\u884c\u710a\u63a5\u548c\u538b\u7ebf\u3002ADXL345\u53ef\u4ee5\u76f4\u63a5\u8fde\u63a5\u5230\u6811\u8393\u6d3e\uff0c\u4e5f\u53ef\u4ee5\u8fde\u63a5\u5230MCU\u7684SPI\u603b\u7ebf\uff08\u6ce8\u610fMCU\u6709\u4e00\u5b9a\u7684\u6027\u80fd\u9700\u6c42\uff09\u3002 When sourcing ADXL345, be aware that there is a variety of different PCB board designs and different clones of them. Make sure that the board supports SPI mode (small number of boards appear to be hard-configured for I2C by pulling SDO to GND), and, if it is going to be connected to a 5V printer MCU, that it has a voltage regulator and a level shifter.","title":"\u5171\u632f\u503c\u6d4b\u91cf"},{"location":"Measuring_Resonances.html#_2","text":"","title":"\u5b89\u88c5\u6307\u5357"},{"location":"Measuring_Resonances.html#_3","text":"\u6211\u4eec\u9700\u8981\u5c06ADXL345\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u7684SPI\u63a5\u53e3\u3002\u6ce8\u610f\uff0c\u5c3d\u7ba1ADXL345\u6587\u6863\u63a8\u8350\u4f7f\u7528I2C\uff0c\u4f46\u5176\u6570\u636e\u541e\u5410\u80fd\u529b\u4e0d\u8db3\uff0c \u4e0d\u80fd \u5b9e\u73b0\u5171\u632f\u6d4b\u91cf\u7684\u8981\u6c42\u3002\u63a8\u8350\u7684\u63a5\u7ebf\u56fe\u4e3a\uff1a ADXL345\u5f15\u811a \u6811\u8393\u6d3e\u5f15\u811a \u6811\u8393\u6d3e\u5f15\u811a\u540d\u79f0 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u7535\u6e90 GND 06 \u5730\uff08GND\uff09 CS\uff08\u82af\u7247\u9009\u5b9a\uff09 24 GPIO08 (SPI0_CE0_N) SDO 21 GPIO09 (SPI0_MISO) SDA 19 GPIO10 (SPI0_MOSI) SCL 23 GPIO11 (SPI0_SCLK) An alternative to the ADXL345 is the MPU-9250 (or MPU-6050). This accelerometer has been tested to work over I2C on the RPi at 400kbaud. Recommended connection scheme for I2C: MPU-9250 pin \u6811\u8393\u6d3e\u5f15\u811a \u6811\u8393\u6d3e\u5f15\u811a\u540d\u79f0 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u7535\u6e90 GND 09 \u5730\uff08GND\uff09 SDA 03 GPIO02 (SDA1) SCL 05 GPIO03 (SCL1) \u90e8\u5206ADXL345\u5f00\u53d1\u677f\u7684Fritzing\u63a5\u7ebf\u56fe\u5982\u4e0b\uff1a \u4e3a\u907f\u514d\u635f\u5bb3\u6811\u8393\u6d3e\u6216\u52a0\u901f\u5ea6\u4f20\u611f\u5668\uff0c\u8bf7\u518d\u4e09\u786e\u8ba4\u63a5\u7ebf\u6b63\u786e\u518d\u5bf9\u6811\u8393\u6d3e\u4e0a\u7535\u3002","title":"\u63a5\u7ebf"},{"location":"Measuring_Resonances.html#_4","text":"\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u5e94\u56fa\u5b9a\u5728\u6253\u5370\u5934\u4e0a\u3002\u5e94\u6839\u636e\u6253\u5370\u673a\u7684\u60c5\u51b5\u8bbe\u8ba1\u5408\u9002\u7684\u56fa\u5b9a\u4ef6\u3002\u63a8\u8350\u5c06\u52a0\u901f\u5ea6\u7684\u6d4b\u91cf\u8f74\u4e0e\u6253\u5370\u673a\u8fd0\u884c\u8f74\u7684\u65b9\u5411\u8fdb\u884c\u5bf9\u9f50\u3002\u7136\u800c\uff0c\u5982\u679c\u8f74\u5bf9\u9f50\u6781\u5176\u9ebb\u70e6\uff0c\u53ef\u4ee5\u5c06\u6253\u5370\u673a\u7684\u8f74\u4f7f\u7528\u5176\u4ed6\u6d4b\u91cf\u8f74\u5bf9\u9f50\uff0c\u6bd4\u5982\u6253\u5370\u673a+X\u5bf9\u5e94\u4f20\u611f\u5668-X\uff0c\u751a\u81f3\u6253\u5370\u673a+X\u5bf9\u5e94\u4f20\u611f\u5668-Z\u7b49\u3002 \u4e0b\u9762\u662fADXL345\u56fa\u5b9a\u5230SmartEffector\u7684\u793a\u4f8b\uff1a \u6ce8\u610f\uff0c\u6ed1\u5e8a\u5f0f\u6253\u5370\u673a\u9700\u8981\u8bbe\u8ba1\u4e24\u4e2a\u56fa\u5b9a\u4ef6\uff1a\u4e00\u4e2a\u5b89\u88c5\u4e8e\u6253\u5370\u5934\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u70ed\u5e8a\uff0c\u5e76\u8fdb\u884c\u4e24\u6b21\u6d4b\u91cf\u3002\u8be6\u89c1 \u5bf9\u5e94\u5206\u8282 \u3002 \u6ce8\u610f \uff1a\u52a1\u5fc5\u786e\u4fdd\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u548c\u4efb\u4f55\u87ba\u4e1d\u90fd\u4e0d\u5e94\u8be5\u63a5\u89e6\u5230\u6253\u5370\u673a\u7684\u91d1\u5c5e\u90e8\u5206\u3002\u7d27\u56fa\u4ef6\u5fc5\u987b\u8bbe\u8ba1\u6210\u5728\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u548c\u6253\u5370\u673a\u6846\u4f53\u95f4\u5f62\u6210\u7535\u6c14\u7edd\u7f18\u3002\u9519\u8bef\u7684\u8bbe\u8ba1\u53ef\u80fd\u4f1a\u5f62\u6210\u77ed\u8def\uff0c\u4ece\u800c\u635f\u6bc1\u7535\u6c14\u5143\u4ef6\u3002","title":"\u56fa\u5b9a\u52a0\u901f\u5ea6\u4f20\u611f\u5668"},{"location":"Measuring_Resonances.html#_5","text":"Note that resonance measurements and shaper auto-calibration require additional software dependencies not installed by default. First, run on your Raspberry Pi the following commands: sudo apt update sudo apt install python3-numpy python3-matplotlib libatlas-base-dev Next, in order to install NumPy in the Klipper environment, run the command: ~/klippy-env/bin/pip install -v numpy Note that, depending on the performance of the CPU, it may take a lot of time, up to 10-20 minutes. Be patient and wait for the completion of the installation. On some occasions, if the board has too little RAM the installation may fail and you will need to enable swap. \u4e4b\u540e\uff0c\u53c2\u8003 \u6811\u8393\u6d3e\u4f5c\u4e3a\u5fae\u63a7\u5236\u5668\u6587\u6863 \u7684\u6307\u5f15\u5b8c\u6210\u201cLINUX\u5fae\u5904\u7406\u5668\u201d\u7684\u8bbe\u7f6e\u3002 \u901a\u8fc7\u8fd0\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u5355\u4e2d\u542f\u7528 SPI \u4ee5\u786e\u4fddLinux SPI \u9a71\u52a8\u5df2\u542f\u7528\u3002 For the ADXL345, add the following to the printer.cfg file: [mcu rpi] serial: /tmp/klipper_host_mcu [adxl345] cs_pin: rpi:None [resonance_tester] accel_chip: adxl345 probe_points: 100, 100, 20 # an example \u5efa\u8bae\u5728\u6d4b\u8bd5\u5f00\u59cb\u524d\uff0c\u7528\u63a2\u9488\u5728\u70ed\u5e8a\u4e2d\u592e\u8fdb\u884c\u4e00\u6b21\u63a2\u6d4b\uff0c\u89e6\u53d1\u540e\u7a0d\u5fae\u4e0a\u79fb\u3002 For the MPU-9250, make sure the Linux I2C driver is enabled and the baud rate is set to 400000 (see Enabling I2C section for more details). Then, add the following to the printer.cfg: [mcu rpi] serial: /tmp/klipper_host_mcu [mpu9250] i2c_mcu: rpi i2c_bus: i2c.1 [resonance_tester] accel_chip: mpu9250 probe_points: 100, 100, 20 # an example \u901a\u8fc7 RESTART \u547d\u4ee4\u91cd\u542fKlipper\u3002","title":"\u8f6f\u4ef6\u8bbe\u7f6e"},{"location":"Measuring_Resonances.html#_6","text":"","title":"\u6d4b\u91cf\u5171\u632f\u503c"},{"location":"Measuring_Resonances.html#_7","text":"\u9996\u5148\u6d4b\u8bd5\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u7684\u8fde\u63a5\u3002 \u5bf9\u4e8e\u53ea\u6709\u4e00\u4e2a\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u7684\u60c5\u51b5\uff0c\u5728Octoprint\uff0c\u8f93\u5165 ACCELEROMETER_QUERY \uff08\u904d\u5386\u5df2\u8fde\u63a5\u7684\u52a0\u901f\u5ea6\u4f20\u611f\u5668\uff09 \u5bf9\u4e8e\u201c\u6ed1\u52a8\u5e8a\u201d\uff08\u5373\u6709\u591a\u4e2a\u52a0\u901f\u5ea6\u4f20\u611f\u5668\uff09\uff0c\u8f93\u5165 ACCELEROMETER_QUERY CHIP=<chip> \uff0c\u5176\u4e2d <chip> \u662f\u8bbe\u7f6e\u6587\u6863\u4e2d\u7684\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u547d\u540d\uff0c\u4f8b\u5982 CHIP=bed (\u53c2\u89c1\uff1a bed-slinger )\u3002 \u753b\u9762\u5c06\u8f93\u51fa\u52a0\u901f\u5ea6\u4f20\u611f\u5668\u7684\u8bfb\u503c\uff0c\u677f\u5b50\u81ea\u7531\u843d\u4f53\u52a0\u901f\u5ea6\uff0c\u4f8b\u5982\uff1a Recv: // adxl345 values (x, y, z): 470.719200, 941.438400, 9728.196800 \u5982\u679c\u8f93\u51fa\u7c7b\u4f3c Invalid adxl345 id (got xx vs e5) \uff0c\u5176\u4e2d'xx'\u4e3ae5\u4ee5\u5916ID\uff0c\u8fd9\u8868\u793a\u51fa\u73b0\u8fde\u63a5\u95ee\u9898\uff08\u5982\uff0c\u8fde\u63a5\u9519\u8bef\u3001\u7ebf\u7f06\u7535\u963b\u8fc7\u5927\u3001\u5e72\u6270\u7b49\uff09\uff0c\u6216\u4f20\u611f\u5668\u9519\u8bef\uff08\u5982\uff0c\u6b8b\u6b21\u4f20\u611f\u5668 \u6216 \u9519\u8bef\u7684\u4f20\u611f\u5668\uff09\u3002\u8bf7\u5728\u6b64\u68c0\u67e5\u7535\u6e90\uff0c\u63a5\u7ebf\uff08\u518d\u4e09\u786e\u5b9a\u63a5\u7ebf\u6b63\u786e\uff0c\u6ca1\u6709\u7834\u635f\u3001\u677e\u52a8\u7684\u7535\u7ebf\uff09\u6216\u710a\u63a5\u95ee\u9898\u3002 \u4e0b\u4e00\u6b65\uff0c\u5728Octoprint\u4e2d\u8f93\u5165 MEASURE_AXES_NOISE \uff0c\u4e4b\u540e\u5c06\u4f1a\u663e\u793a\u5404\u4e2a\u8f74\u7684\u57fa\u51c6\u6d4b\u91cf\u566a\u58f0\uff08\u5176\u503c\u5e94\u57281-100\u4e4b\u95f4\uff09\u3002\u5982\u679c\u8f74\u7684\u566a\u58f0\u6781\u9ad8\uff08\u4f8b\u5982 1000 \u6216\u66f4\u9ad8\uff09\u53ef\u80fd\u610f\u5473\u77403D\u6253\u5370\u673a\u4e0a\u5b58\u5728\u4f20\u611f\u5668\u95ee\u9898\u3001\u7535\u6e90\u95ee\u9898\u6216\u4e0d\u5e73\u8861\u7684\u98ce\u6247\u3002","title":"\u68c0\u67e5\u8bbe\u7f6e"},{"location":"Measuring_Resonances.html#_8","text":"\u73b0\u5728\u53ef\u4ee5\u8fd0\u884c\u8fdb\u884c\u5b9e\u6d4b\u3002\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4: TEST_RESONANCES AXIS=X \u6ce8\u610f\uff0c\u8fd9\u5c06\u5728X\u8f74\u4e0a\u4ea7\u751f\u632f\u52a8\u3002\u5982\u679c\u4e4b\u524d\u542f\u7528\u4e86\u8f93\u5165\u6574\u5f62\uff0c\u5b83\u4e5f\u5c06\u7981\u7528\u8f93\u5165\u6574\u5f62\uff0c\u56e0\u4e3a\u5728\u542f\u7528\u8f93\u5165\u6574\u5f62\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u5171\u632f\u6d4b\u8bd5\u662f\u65e0\u6548\u7684\u3002 \u6ce8\u610f\uff01 \u8bf7\u786e\u4fdd\u7b2c\u4e00\u6b21\u8fd0\u884c\u65f6\u65f6\u523b\u89c2\u5bdf\u6253\u5370\u673a\uff0c\u4ee5\u786e\u4fdd\u632f\u52a8\u4e0d\u4f1a\u592a\u5267\u70c8\uff08 M112 \u547d\u4ee4\u53ef\u4ee5\u5728\u7d27\u6025\u60c5\u51b5\u4e0b\u4e2d\u6b62\u6d4b\u8bd5\uff1b\u4f46\u613f\u4e0d\u4f1a\u5230\u8fd9\u4e00\u6b65\uff09\u3002\u5982\u679c\u632f\u52a8\u786e\u5b9e\u592a\u5f3a\u70c8\uff0c\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u5728 [Resonance_tester] \u5206\u6bb5\u4e2d\u4e3a accel_per_hz \u53c2\u6570\u6307\u5b9a\u4e00\u4e2a\u4f4e\u4e8e\u9ed8\u8ba4\u503c\u7684\u503c\uff0c\u4f8b\u5982: [resonance_tester] accel_chip: adxl345 accel_per_hz: 50 # default is 75 probe_points: ... \u5982\u679c\u5b83\u9002\u7528\u4e8e X \u8f74\uff0c\u5219\u4e5f\u53ef\u4ee5\u4e3a Y \u8f74\u8fd0\u884c\uff1a TEST_RESONANCES AXIS=Y This will generate 2 CSV files ( /tmp/resonances_x_*.csv and /tmp/resonances_y_*.csv ). These files can be processed with the stand-alone script on a Raspberry Pi. To do that, run the following commands: ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_y_*.csv -o /tmp/shaper_calibrate_y.png \u6b64\u811a\u672c\u5c06\u751f\u6210\u9891\u7387\u54cd\u5e94\u7684\u56fe\u8868 /tmp/shaper_calibrate_x.png \u548c /tmp/shaper_calibrate_y.png \u3002\u5b83\u8fd8\u4f1a\u7ed9\u51fa\u6bcf\u4e2a\u8f93\u5165\u6574\u5f62\u5668\u7684\u5efa\u8bae\u9891\u7387\uff0c\u4ee5\u53ca\u63a8\u8350\u7684\u8f93\u5165\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff1a Fitted shaper 'zv' frequency = 34.4 Hz (vibrations = 4.0%, smoothing ~= 0.132) To avoid too much smoothing with 'zv', suggested max_accel <= 4500 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 0.0%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 41.4 Hz (vibrations = 0.0%, smoothing ~= 0.188) To avoid too much smoothing with 'ei', suggested max_accel <= 3200 mm/sec^2 Fitted shaper '2hump_ei' frequency = 51.8 Hz (vibrations = 0.0%, smoothing ~= 0.201) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 61.8 Hz (vibrations = 0.0%, smoothing ~= 0.215) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2800 mm/sec^2 Recommended shaper is mzv @ 34.6 Hz \u63a8\u8350\u7684\u914d\u7f6e\u53ef\u4ee5\u6dfb\u52a0\u5230 [input_shaper] \u7684 printer.cfg \u5206\u6bb5\u4e2d\uff0c\u4f8b\u5982\uff1a [input_shaper] shaper_freq_x: ... shaper_type_x: ... shaper_freq_y: 34.6 shaper_type_y: mzv [printer] max_accel: 3000 # should not exceed the estimated max_accel for X and Y axes \u4e5f\u53ef\u4ee5\u6839\u636e\u751f\u6210\u7684\u56fe\u8868\u81ea\u5df1\u9009\u62e9\u4e00\u4e9b\u5176\u4ed6\u914d\u7f6e\uff1a\u56fe\u8868\u4e0a\u7684\u529f\u7387\u8c31\u5bc6\u5ea6\u7684\u5cf0\u503c\u5bf9\u5e94\u4e8e\u6253\u5370\u673a\u7684\u5171\u632f\u9891\u7387\u3002 \u8bf7\u6ce8\u610f\uff0c\u53ef\u4ee5 \u76f4\u63a5 \u5728Klipper\u4e2d\u8fd0\u884c\u8f93\u5165\u6574\u5f62\u5668\u81ea\u52a8\u6821\u51c6\uff0c\u8fd9\u53ef\u80fd\u66f4\u65b9\u4fbf\uff0c\u4f8b\u5982\uff0c\u5bf9\u4e8e\u8f93\u5165\u6574\u5f62\u5668 \u91cd\u65b0\u6821\u51c6 \u3002","title":"\u6d4b\u91cf\u5171\u632f\u503c"},{"location":"Measuring_Resonances.html#_9","text":"\u5982\u679c\u6253\u5370\u673a\u7684\u6253\u5370\u5e8a\u53ef\u4ee5\u5e73\u884c\u4e8e\u55b7\u5634\u79fb\u52a8\uff0c\u6d4b\u91cfX\u548cY\u8f74\u65f6\u9700\u8981\u6539\u53d8\u52a0\u901f\u5ea6\u8ba1\u7684\u5b89\u88c5\u4f4d\u7f6e\u3002\u5b89\u88c5\u52a0\u901f\u5ea6\u8ba1\u5230\u6253\u5370\u5934\u4ee5\u6d4b\u91cfX\u8f74\u5171\u632f\uff0c\u5b89\u88c5\u5230\u6253\u5370\u5e8a\u4ee5\u6d4b\u91cfY\u8f74\uff08\u8be5\u7c7b\u6253\u5370\u673a\u7684\u5e38\u89c1\u914d\u7f6e\uff09\u3002 \u4e5f\u53ef\u4ee5\u540c\u65f6\u8fde\u63a5\u4e24\u4e2a\u52a0\u901f\u5ea6\u8ba1\uff0c\u5c3d\u7ba1\u5b83\u4eec\u5fc5\u987b\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u4e3b\u677f\uff08\u4f8b\u5982\uff0c\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u548cMCU\uff09\uff0c\u6216\u8005\u8fde\u63a5\u5230\u540c\u4e00\u677f\u4e0a\u4e24\u4e2a\u4e0d\u540c\u7684\u7269\u7406SPI\u63a5\u53e3\uff08\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u53ef\u7528\uff09\u3002\u7136\u540e\u53ef\u4ee5\u6309\u4ee5\u4e0b\u65b9\u5f0f\u914d\u7f6e\u5b83\u4eec\uff1a [adxl345 hotend] # Assuming `hotend` chip is connected to an RPi cs_pin: rpi:None [adxl345 bed] # Assuming `bed` chip is connected to a printer MCU board cs_pin: ... # Printer board SPI chip select (CS) pin [resonance_tester] # Assuming the typical setup of the bed slinger printer accel_chip_x: adxl345 hotend accel_chip_y: adxl345 bed probe_points: ... \u7136\u540e\uff0c\u547d\u4ee4 TEST_RESONANCES AXIS=X \u548c TEST_RESONANCES AXIS=Y \u4f1a\u4f7f\u7528\u6bcf\u4e2a\u8f74\u76f8\u5e94\u7684\u52a0\u901f\u5ea6\u8ba1\u3002","title":"\u5e73\u884c\u4e8e\u55b7\u5634\u79fb\u52a8\u6253\u5370\u5e8a\u7684\u6253\u5370\u673a"},{"location":"Measuring_Resonances.html#_10","text":"\u8bf7\u6ce8\u610f\uff0c\u8f93\u5165\u6574\u5f62\u5668\u4f1a\u5728\u4f7f\u4e00\u4e9b\u6253\u5370\u7684\u8def\u5f84\u88ab\u5e73\u6ed1\u3002\u7531\u6267\u884c calibrate_shaper.py \u811a\u672c\u6216 SHAPER_CALIBRATE \u547d\u4ee4\u81ea\u52a8\u5f97\u51fa\u7684\u8f93\u5165\u6574\u5f62\u5668\u4f1a\u5c3d\u91cf\u4e0d\u52a0\u5267\u5e73\u6ed1\u7684\u540c\u65f6\u8bd5\u56fe\u6700\u5c0f\u5316\u4ea7\u751f\u7684\u632f\u52a8\u3002\u811a\u672c\u53ef\u80fd\u4f1a\u5f97\u51fa\u4e0d\u662f\u6700\u4f18\u7684\u6574\u5f62\u5668\u7684\u9891\u7387\uff0c\u6216\u8005\u4f60\u53ef\u80fd\u5e0c\u671b\u4ee5\u66f4\u5f3a\u7684\u5269\u4f59\u632f\u52a8\u4e3a\u4ee3\u4ef7\u6765\u51cf\u5c11\u5e73\u6ed1\u5ea6\u3002\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8981\u6c42\u811a\u672c\u9650\u5236\u8f93\u5165\u6574\u5f62\u5668\u7684\u6700\u5927\u5e73\u6ed1\u5ea6\u3002 \u53c2\u8003\u4ee5\u4e0b\u81ea\u52a8\u8c03\u8c10\u7ed3\u679c\uff1a Fitted shaper 'zv' frequency = 57.8 Hz (vibrations = 20.3%, smoothing ~= 0.053) To avoid too much smoothing with 'zv', suggested max_accel <= 13000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.8 Hz (vibrations = 3.6%, smoothing ~= 0.168) To avoid too much smoothing with 'mzv', suggested max_accel <= 3600 mm/sec^2 Fitted shaper 'ei' frequency = 48.8 Hz (vibrations = 4.9%, smoothing ~= 0.135) To avoid too much smoothing with 'ei', suggested max_accel <= 4400 mm/sec^2 Fitted shaper '2hump_ei' frequency = 45.2 Hz (vibrations = 0.1%, smoothing ~= 0.264) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2200 mm/sec^2 Fitted shaper '3hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.356) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 1500 mm/sec^2 Recommended shaper is 2hump_ei @ 45.2 Hz \u8bf7\u6ce8\u610f\uff0c\u62a5\u544a\u7684 smoothing \uff08\u5e73\u6ed1\uff09\u503c\u662f\u62bd\u8c61\u7684\u9884\u6d4b\u503c\u3002\u8fd9\u4e9b\u503c\u53ef\u7528\u4e8e\u6bd4\u8f83\u4e0d\u540c\u7684\u914d\u7f6e\uff1a\u503c\u8d8a\u9ad8\uff0c\u6574\u5f62\u5668\u9020\u6210\u7684\u5e73\u6ed1\u5ea6\u5c31\u8d8a\u9ad8\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u5e73\u6ed1\u503c\u5e76\u4e0d\u8868\u793a\u4efb\u4f55\u5b9e\u9645\u7684\u5e73\u6ed1\u5ea6\u7684\u91cf\uff0c\u56e0\u4e3a\u5b9e\u9645\u7684\u5e73\u6ed1\u53d6\u51b3\u4e8e max_accel \u548c square_corner_velocity \u53c2\u6570\u3002\u56e0\u6b64\uff0c\u5982\u679c\u5e0c\u671b\u4e86\u89e3\u6240\u9009\u914d\u7f6e\u9020\u6210\u7684\u5b9e\u9645\u5e73\u6ed1\u6548\u679c\uff0c\u9700\u8981\u6253\u5370\u4e00\u4e9b\u6d4b\u8bd5\u4ef6\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u811a\u672c\u7ed9\u51fa\u4e86\u4e0d\u9519\u7684\u6574\u5f62\u5668\u53c2\u6570\u5efa\u8bae\uff0c\u4f46\u662f\u5982\u679c\u60f3\u5728 X \u8f74\u4e0a\u51cf\u5c11\u5e73\u6ed1\u5ea6\uff0c\u5c31\u9700\u8981\u5c1d\u8bd5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u9650\u5236\u811a\u672c\u6311\u9009\u53c2\u6570\u65f6\u7684\u6574\u5f62\u5668\u5e73\u6ed1\u503c\u6781\u9650\uff1a ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png --max_smoothing=0.2 \u8fd9\u5c06\u5e73\u6ed1\u503c\u9650\u5236\u57280.2\u3002\u73b0\u5728\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7ed3\u679c\uff1a Fitted shaper 'zv' frequency = 55.4 Hz (vibrations = 19.7%, smoothing ~= 0.057) To avoid too much smoothing with 'zv', suggested max_accel <= 12000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 3.6%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 48.2 Hz (vibrations = 4.8%, smoothing ~= 0.139) To avoid too much smoothing with 'ei', suggested max_accel <= 4300 mm/sec^2 Fitted shaper '2hump_ei' frequency = 52.0 Hz (vibrations = 2.7%, smoothing ~= 0.200) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 72.6 Hz (vibrations = 1.4%, smoothing ~= 0.155) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 3900 mm/sec^2 Recommended shaper is 3hump_ei @ 72.6 Hz \u65b0\u7684\u53c2\u6570\u4e0e\u4e4b\u524d\u7684\u5efa\u8bae\u6bd4\uff0c\u632f\u52a8\u8981\u5927\u4e00\u4e9b\uff0c\u4f46\u5e73\u6ed1\u5ea6\u660e\u663e\u6bd4\u4e4b\u524d\u5c0f\uff0c\u5141\u8bb8\u6253\u5370\u65f6\u66f4\u9ad8\u7684\u6781\u9650\u52a0\u901f\u5ea6\u3002 When deciding which max_smoothing parameter to choose, you can use a trial-and-error approach. Try a few different values and see which results you get. Note that the actual smoothing produced by the input shaper depends, primarily, on the lowest resonance frequency of the printer: the higher the frequency of the lowest resonance - the smaller the smoothing. Therefore, if you request the script to find a configuration of the input shaper with the unrealistically small smoothing, it will be at the expense of increased ringing at the lowest resonance frequencies (which are, typically, also more prominently visible in prints). So, always double-check the projected remaining vibrations reported by the script and make sure they are not too high. Note that if you chose a good max_smoothing value for both of your axes, you can store it in the printer.cfg as [resonance_tester] accel_chip: ... probe_points: ... max_smoothing: 0.25 # an example Then, if you rerun the input shaper auto-tuning using SHAPER_CALIBRATE Klipper command in the future, it will use the stored max_smoothing value as a reference.","title":"\u6700\u5927\u5e73\u6ed1\u5ea6"},{"location":"Measuring_Resonances.html#selecting-max_accel","text":"Since the input shaper can create some smoothing in parts, especially at high accelerations, you will still need to choose the max_accel value that does not create too much smoothing in the printed parts. A calibration script provides an estimate for max_accel parameter that should not create too much smoothing. Note that the max_accel as displayed by the calibration script is only a theoretical maximum at which the respective shaper is still able to work without producing too much smoothing. It is by no means a recommendation to set this acceleration for printing. The maximum acceleration your printer is able to sustain depends on its mechanical properties and the maximum torque of the used stepper motors. Therefore, it is suggested to set max_accel in [printer] section that does not exceed the estimated values for X and Y axes, likely with some conservative safety margin. Alternatively, follow this part of the input shaper tuning guide and print the test model to choose max_accel parameter experimentally. The same notice applies to the input shaper auto-calibration with SHAPER_CALIBRATE command: it is still necessary to choose the right max_accel value after the auto-calibration, and the suggested acceleration limits will not be applied automatically. If you are doing a shaper re-calibration and the reported smoothing for the suggested shaper configuration is almost the same as what you got during the previous calibration, this step can be skipped.","title":"Selecting max_accel"},{"location":"Measuring_Resonances.html#testing-custom-axes","text":"TEST_RESONANCES command supports custom axes. While this is not really useful for input shaper calibration, it can be used to study printer resonances in-depth and to check, for example, belt tension. To check the belt tension on CoreXY printers, execute TEST_RESONANCES AXIS=1,1 OUTPUT=raw_data TEST_RESONANCES AXIS=1,-1 OUTPUT=raw_data and use graph_accelerometer.py to process the generated files, e.g. ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u751f\u6210 /tmp/resonances.png \uff0c\u5bf9\u6bd4\u5171\u632f\u7684\u6570\u636e\u3002 \u5bf9\u6807\u51c6\u6784\u578b\u7684\u4e09\u89d2\u6d32\u6253\u5370\u673a\uff08A\u5854210\u00b0\uff0cB\u5854330\u00b0\uff0cC\u5854~90\u00b0\uff09\uff0c\u6267\u884c TEST_RESONANCES AXIS=0,1 OUTPUT=raw_data TEST_RESONANCES AXIS=-0.866025404,-0.5 OUTPUT=raw_data TEST_RESONANCES AXIS=0.866025404,-0.5 OUTPUT=raw_data \u7136\u540e\u4f7f\u7528\u540c\u6837\u7684\u547d\u4ee4 ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u751f\u6210 /tmp/resonances.png \uff0c\u5bf9\u6bd4\u5171\u632f\u7684\u6570\u636e\u3002","title":"Testing custom axes"},{"location":"Measuring_Resonances.html#input-shaper-auto-calibration","text":"Besides manually choosing the appropriate parameters for the input shaper feature, it is also possible to run the auto-tuning for the input shaper directly from Klipper. Run the following command via Octoprint terminal: SHAPER_CALIBRATE This will run the full test for both axes and generate the csv output ( /tmp/calibration_data_*.csv by default) for the frequency response and the suggested input shapers. You will also get the suggested frequencies for each input shaper, as well as which input shaper is recommended for your setup, on Octoprint console. For example: Calculating the best input shaper parameters for y axis # \u6b63\u5728\u8ba1\u7b97y\u8f74\u7684\u6700\u4f73\u8f93\u5165\u6574\u5f62\u53c2\u6570 Fitted shaper 'zv' frequency = 39.0 Hz (vibrations = 13.2%, smoothing ~= 0.105) # \u62df\u5408\u6574\u5f62\u201czv\u201d To avoid too much smoothing with 'zv', suggested max_accel <= 5900 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201czv\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=5900 mm/sec^2 Fitted shaper 'mzv' frequency = 36.8 Hz (vibrations = 1.7%, smoothing ~= 0.150) # \u62df\u5408\u6574\u5f62\u201cmzv\u201d To avoid too much smoothing with 'mzv', suggested max_accel <= 4000 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201cmzv\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=4000 mm/sec^2 Fitted shaper 'ei' frequency = 36.6 Hz (vibrations = 2.2%, smoothing ~= 0.240) # \u62df\u5408\u6574\u5f62\u201cei\u201d To avoid too much smoothing with 'ei', suggested max_accel <= 2500 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201cei\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '2hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.234) # \u62df\u5408\u6574\u5f62\u201c2hump_ei\u201d To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201c2hump_ei\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '3hump_ei' frequency = 59.0 Hz (vibrations = 0.0%, smoothing ~= 0.235) # \u62df\u5408\u6574\u5f62\u201c3hump_ei\u201d To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u4e3a\u907f\u514d\u4f7f\u7528\u201c3hump_ei\u201d\u65b9\u6cd5\u4ea7\u751f\u8fc7\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8bae\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Recommended shaper_type_y = mzv, shaper_freq_y = 36.8 Hz # \u5efa\u8baeshaper_type_y = mzv, shaper_freq_y = 36.8 Hz If you agree with the suggested parameters, you can execute SAVE_CONFIG now to save them and restart the Klipper. Note that this will not update max_accel value in [printer] section. You should update it manually following the considerations in Selecting max_accel section. If your printer is a bed slinger printer, you can specify which axis to test, so that you can change the accelerometer mounting point between the tests (by default the test is performed for both axes): SHAPER_CALIBRATE AXIS=Y You can execute SAVE_CONFIG twice - after calibrating each axis. However, if you connected two accelerometers simultaneously, you simply run SHAPER_CALIBRATE without specifying an axis to calibrate the input shaper for both axes in one go.","title":"Input Shaper auto-calibration"},{"location":"Measuring_Resonances.html#input-shaper-re-calibration","text":"SHAPER_CALIBRATE command can be also used to re-calibrate the input shaper in the future, especially if some changes to the printer that can affect its kinematics are made. One can either re-run the full calibration using SHAPER_CALIBRATE command, or restrict the auto-calibration to a single axis by supplying AXIS= parameter, like SHAPER_CALIBRATE AXIS=X Warning! It is not advisable to run the shaper autocalibration very frequently (e.g. before every print, or every day). In order to determine resonance frequencies, autocalibration creates intensive vibrations on each of the axes. Generally, 3D printers are not designed to withstand a prolonged exposure to vibrations near the resonance frequencies. Doing so may increase wear of the printer components and reduce their lifespan. There is also an increased risk of some parts unscrewing or becoming loose. Always check that all parts of the printer (including the ones that may normally not move) are securely fixed in place after each auto-tuning. Also, due to some noise in measurements, it is possible that the tuning results will be slightly different from one calibration run to another one. Still, it is not expected that the noise will affect the print quality too much. However, it is still advised to double-check the suggested parameters, and print some test prints before using them to confirm they are good.","title":"Input Shaper re-calibration"},{"location":"Measuring_Resonances.html#offline-processing-of-the-accelerometer-data","text":"It is possible to generate the raw accelerometer data and process it offline (e.g. on a host machine), for example to find resonances. In order to do so, run the following commands via Octoprint terminal: SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 TEST_RESONANCES AXIS=X OUTPUT=raw_data ignoring any errors for SET_INPUT_SHAPER command. For TEST_RESONANCES command, specify the desired test axis. The raw data will be written into /tmp directory on the RPi. The raw data can also be obtained by running the command ACCELEROMETER_MEASURE command twice during some normal printer activity - first to start the measurements, and then to stop them and write the output file. Refer to G-Codes for more details. The data can be processed later by the following scripts: scripts/graph_accelerometer.py and scripts/calibrate_shaper.py . Both of them accept one or several raw csv files as the input depending on the mode. The graph_accelerometer.py script supports several modes of operation: plotting raw accelerometer data (use -r parameter), only 1 input is supported; plotting a frequency response (no extra parameters required), if multiple inputs are specified, the average frequency response is computed; comparison of the frequency response between several inputs (use -c parameter); you can additionally specify which accelerometer axis to consider via -a x , -a y or -a z parameter (if none specified, the sum of vibrations for all axes is used); plotting the spectrogram (use -s parameter), only 1 input is supported; you can additionally specify which accelerometer axis to consider via -a x , -a y or -a z parameter (if none specified, the sum of vibrations for all axes is used). Note that graph_accelerometer.py script supports only the raw_data*.csv files and not resonances*.csv or calibration_data*.csv files. For example, ~/klipper/scripts/graph_accelerometer.py /tmp/raw_data_x_*.csv -o /tmp/resonances_x.png -c -a z will plot the comparison of several /tmp/raw_data_x_*.csv files for Z axis to /tmp/resonances_x.png file. The shaper_calibrate.py script accepts 1 or several inputs and can run automatic tuning of the input shaper and suggest the best parameters that work well for all provided inputs. It prints the suggested parameters to the console, and can additionally generate the chart if -o output.png parameter is provided, or the CSV file if -c output.csv parameter is specified. Providing several inputs to shaper_calibrate.py script can be useful if running some advanced tuning of the input shapers, for example: Running TEST_RESONANCES AXIS=X OUTPUT=raw_data (and Y axis) for a single axis twice on a bed slinger printer with the accelerometer attached to the toolhead the first time, and the accelerometer attached to the bed the second time in order to detect axes cross-resonances and attempt to cancel them with input shapers. Running TEST_RESONANCES AXIS=Y OUTPUT=raw_data twice on a bed slinger with a glass bed and a magnetic surfaces (which is lighter) to find the input shaper parameters that work well for any print surface configuration. Combining the resonance data from multiple test points. Combining the resonance data from 2 axis (e.g. on a bed slinger printer to configure X-axis input_shaper from both X and Y axes resonances to cancel vibrations of the bed in case the nozzle 'catches' a print when moving in X axis direction).","title":"Offline processing of the accelerometer data"},{"location":"Multi_MCU_Homing.html","text":"\u591a\u5fae\u63a7\u5236\u5668\u5f52\u4f4d\u4e0e\u63a2\u9ad8 \u00b6 Klipper\u652f\u6301\u5c06\u5f52\u4f4d\u9650\u4f4d\u5f00\u5173\u548c\u52a8\u4f5c\u7684\u6b65\u8fdb\u7535\u673a\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u8be5\u529f\u80fd\u88ab\u79f0\u4e3a\u201c\u591a mcu \u5f52\u4f4d\u201d\u3002\u8be5\u529f\u80fd\u4e5f\u652f\u6301\u5c06\u63a2\u9488\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002 \u8be5\u529f\u80fd\u53ef\u4ee5\u7b80\u5316\u63a5\u7ebf\uff0c\u56e0\u4e3a\u9650\u4f4d\u5f00\u5173\u6216\u63a2\u9488\u53ef\u4ee5\u8fde\u63a5\u5230\u8ddd\u79bb\u6700\u77ed\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u7136\u800c\uff0c\u8be5\u529f\u80fd\u4e5f\u4f1a\u5e26\u6765\u95ee\u9898\uff0c\u56e0\u4e3a\u8fd0\u52a8\u63a7\u5236\u5668\u548c\u9650\u4f4d\u63a7\u5236\u5668\u5e76\u975e\u540c\u4e00\u63a7\u5236\u5668\uff0c\u53ef\u80fd\u9020\u6210\u5f52\u96f6\u6216\u63a2\u9ad8\u65f6\u7684\u201c\u8fc7\u5ea6\u8fd0\u52a8\u201d\u3002 \u8fc7\u5ea6\u8fd0\u52a8\u7684\u53ef\u80fd\u6210\u56e0\u662f\uff0c\u63a7\u5236\u6b65\u8fdb\u7535\u673a\u8fd0\u52a8\u7684\u5fae\u63a7\u5236\u5668 \u548c \u76d1\u63a7\u9650\u4f4d\u5f00\u5173\u7684\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u7684\u4fe1\u606f\u4f20\u9012\u5b58\u5728\u5ef6\u65f6\u3002Klipper\u5728\u8bbe\u8ba1\u4e0a\u5c06\u5ef6\u65f6\u538b\u7f29\u523025ms\u4ee5\u4e0b\u3002\uff08\u5728\u4f7f\u7528\u591amcu\u65f6\uff0c\u5404\u4e2a\u5fae\u63a7\u5236\u5668\u4f1a\u901a\u8fc7\u5468\u671f\u6027\u53d1\u9001\u72b6\u6001\u4fe1\u606f\u786e\u5b9a\u4e0e\u4e0a\u4f4d\u673a\u7684\u5ef6\u65f6\u4e0d\u8d85\u8fc725ms\u3002\uff09 \u4f8b\u5982\uff0c\u5982\u679c\u5f52\u96f6\u901f\u5ea6\u4e3a10 mm/s\u5219\u53ef\u80fd\u7684\u8fc7\u8fd0\u52a8\u7684\u91cf\u4e3a0.25mm\uff0810mm/s * .025s == 0.250mm\uff09\u3002\u5728\u8fdb\u884c\u591amcu\u7684\u5f52\u96f6\u914d\u7f6e\u65f6\u5e94\u5145\u5206\u8003\u8651\u8fc7\u8fd0\u52a8\u7684\u5f71\u54cd\u3002\u4f7f\u7528\u4f4e\u901f\u5f52\u96f6\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u8fc7\u8fd0\u52a8\u3002 \u6b65\u8fdb\u7535\u673a\u7684\u8fc7\u8fd0\u52a8\u4e0d\u592a\u53ef\u80fd\u5bf9\u5f52\u96f6\u548c\u63a2\u9ad8\u7684\u7cbe\u5ea6\u4ea7\u751f\u5f88\u5927\u7684\u5f71\u54cd\u3002Klippe\u4ee3\u7801\u4e0a\u4f1a\u8003\u8651\u901a\u8baf\u5ef6\u65f6\u6821\u6b63\u5f52\u96f6\u7684\u7ed3\u679c\u3002\u4f46\u662f\uff0c\u8fc7\u8fd0\u52a8\u5bf9\u786c\u4ef6\u7a33\u56fa\u6027\u6709\u8981\u6c42\uff0c\u56e0\u4e3a\u8fc7\u8fd0\u52a8\u53d1\u751f\u65f6\u6709\u53ef\u80fd\u4f1a\u635f\u574f\u786c\u4ef6\u3002 \u5bf9\u914d\u7f6e\u6709\u591amcu\u5f52\u96f6\u7684Klipper\uff0c\u5982\u5728\u8fdb\u884c\u5f52\u96f6\u65f6\u906d\u9047\u901a\u8baf\u9519\u8bef\uff0c\u8f6f\u4ef6\u4f1a\u51fa\u73b0\"Communication timeout during homing\"\uff08\u5f52\u96f6\u65f6\uff0c\u63a7\u5236\u5668\u901a\u8baf\u8d85\u65f6\uff09\u7684\u9519\u8bef\u4fe1\u606f\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\u5f53\u4e00\u4e2a\u8f74\u7531\u591a\u4e2a\u6b65\u8fdb\u7535\u673a\u63a7\u5236\uff08\u6bd4\u5982 stepper_z \u548c stepper_z1 \uff09\uff0c\u8fd9\u4e9b\u7535\u673a\u5fc5\u987b\u8fde\u63a5\u5230\u540c\u4e00\u5fae\u63a7\u5236\u5668\u4e0a\u4ee5\u5b9e\u73b0\u590d\u6570\u5fae\u63a7\u5236\u5668\u5f52\u96f6\u3002\u8be6\u7ec6\u6765\u8bf4\uff0c\u5373Z\u9650\u4f4d\u5f00\u5173\u4f4d\u4e8e\u5fae\u63a7\u5236\u56681\uff0c stepper_z \u8fde\u63a5\u5230\u5fae\u63a7\u5236\u56682\uff0c\u5219 stepper_z1 \u5fc5\u987b\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u56682\u3002","title":"\u591a\u5fae\u63a7\u5236\u5668\u5f52\u4f4d\u4e0e\u63a2\u9ad8"},{"location":"Multi_MCU_Homing.html#_1","text":"Klipper\u652f\u6301\u5c06\u5f52\u4f4d\u9650\u4f4d\u5f00\u5173\u548c\u52a8\u4f5c\u7684\u6b65\u8fdb\u7535\u673a\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u8be5\u529f\u80fd\u88ab\u79f0\u4e3a\u201c\u591a mcu \u5f52\u4f4d\u201d\u3002\u8be5\u529f\u80fd\u4e5f\u652f\u6301\u5c06\u63a2\u9488\u8fde\u63a5\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002 \u8be5\u529f\u80fd\u53ef\u4ee5\u7b80\u5316\u63a5\u7ebf\uff0c\u56e0\u4e3a\u9650\u4f4d\u5f00\u5173\u6216\u63a2\u9488\u53ef\u4ee5\u8fde\u63a5\u5230\u8ddd\u79bb\u6700\u77ed\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u7136\u800c\uff0c\u8be5\u529f\u80fd\u4e5f\u4f1a\u5e26\u6765\u95ee\u9898\uff0c\u56e0\u4e3a\u8fd0\u52a8\u63a7\u5236\u5668\u548c\u9650\u4f4d\u63a7\u5236\u5668\u5e76\u975e\u540c\u4e00\u63a7\u5236\u5668\uff0c\u53ef\u80fd\u9020\u6210\u5f52\u96f6\u6216\u63a2\u9ad8\u65f6\u7684\u201c\u8fc7\u5ea6\u8fd0\u52a8\u201d\u3002 \u8fc7\u5ea6\u8fd0\u52a8\u7684\u53ef\u80fd\u6210\u56e0\u662f\uff0c\u63a7\u5236\u6b65\u8fdb\u7535\u673a\u8fd0\u52a8\u7684\u5fae\u63a7\u5236\u5668 \u548c \u76d1\u63a7\u9650\u4f4d\u5f00\u5173\u7684\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u7684\u4fe1\u606f\u4f20\u9012\u5b58\u5728\u5ef6\u65f6\u3002Klipper\u5728\u8bbe\u8ba1\u4e0a\u5c06\u5ef6\u65f6\u538b\u7f29\u523025ms\u4ee5\u4e0b\u3002\uff08\u5728\u4f7f\u7528\u591amcu\u65f6\uff0c\u5404\u4e2a\u5fae\u63a7\u5236\u5668\u4f1a\u901a\u8fc7\u5468\u671f\u6027\u53d1\u9001\u72b6\u6001\u4fe1\u606f\u786e\u5b9a\u4e0e\u4e0a\u4f4d\u673a\u7684\u5ef6\u65f6\u4e0d\u8d85\u8fc725ms\u3002\uff09 \u4f8b\u5982\uff0c\u5982\u679c\u5f52\u96f6\u901f\u5ea6\u4e3a10 mm/s\u5219\u53ef\u80fd\u7684\u8fc7\u8fd0\u52a8\u7684\u91cf\u4e3a0.25mm\uff0810mm/s * .025s == 0.250mm\uff09\u3002\u5728\u8fdb\u884c\u591amcu\u7684\u5f52\u96f6\u914d\u7f6e\u65f6\u5e94\u5145\u5206\u8003\u8651\u8fc7\u8fd0\u52a8\u7684\u5f71\u54cd\u3002\u4f7f\u7528\u4f4e\u901f\u5f52\u96f6\u53ef\u4ee5\u6709\u6548\u51cf\u5c11\u8fc7\u8fd0\u52a8\u3002 \u6b65\u8fdb\u7535\u673a\u7684\u8fc7\u8fd0\u52a8\u4e0d\u592a\u53ef\u80fd\u5bf9\u5f52\u96f6\u548c\u63a2\u9ad8\u7684\u7cbe\u5ea6\u4ea7\u751f\u5f88\u5927\u7684\u5f71\u54cd\u3002Klippe\u4ee3\u7801\u4e0a\u4f1a\u8003\u8651\u901a\u8baf\u5ef6\u65f6\u6821\u6b63\u5f52\u96f6\u7684\u7ed3\u679c\u3002\u4f46\u662f\uff0c\u8fc7\u8fd0\u52a8\u5bf9\u786c\u4ef6\u7a33\u56fa\u6027\u6709\u8981\u6c42\uff0c\u56e0\u4e3a\u8fc7\u8fd0\u52a8\u53d1\u751f\u65f6\u6709\u53ef\u80fd\u4f1a\u635f\u574f\u786c\u4ef6\u3002 \u5bf9\u914d\u7f6e\u6709\u591amcu\u5f52\u96f6\u7684Klipper\uff0c\u5982\u5728\u8fdb\u884c\u5f52\u96f6\u65f6\u906d\u9047\u901a\u8baf\u9519\u8bef\uff0c\u8f6f\u4ef6\u4f1a\u51fa\u73b0\"Communication timeout during homing\"\uff08\u5f52\u96f6\u65f6\uff0c\u63a7\u5236\u5668\u901a\u8baf\u8d85\u65f6\uff09\u7684\u9519\u8bef\u4fe1\u606f\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\u5f53\u4e00\u4e2a\u8f74\u7531\u591a\u4e2a\u6b65\u8fdb\u7535\u673a\u63a7\u5236\uff08\u6bd4\u5982 stepper_z \u548c stepper_z1 \uff09\uff0c\u8fd9\u4e9b\u7535\u673a\u5fc5\u987b\u8fde\u63a5\u5230\u540c\u4e00\u5fae\u63a7\u5236\u5668\u4e0a\u4ee5\u5b9e\u73b0\u590d\u6570\u5fae\u63a7\u5236\u5668\u5f52\u96f6\u3002\u8be6\u7ec6\u6765\u8bf4\uff0c\u5373Z\u9650\u4f4d\u5f00\u5173\u4f4d\u4e8e\u5fae\u63a7\u5236\u56681\uff0c stepper_z \u8fde\u63a5\u5230\u5fae\u63a7\u5236\u56682\uff0c\u5219 stepper_z1 \u5fc5\u987b\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u56682\u3002","title":"\u591a\u5fae\u63a7\u5236\u5668\u5f52\u4f4d\u4e0e\u63a2\u9ad8"},{"location":"Navigation.html","text":"Klipper \u6587\u6863 \u5b89\u88c5\u548c\u914d\u7f6e \u914d\u7f6e\u53c2\u8003 \u6253\u5370\u5e8a\u8c03\u5e73 \u5171\u632f\u8865\u507f \u547d\u4ee4\u6a21\u677f \u5f00\u53d1\u8005\u6587\u6863 \u8bbe\u5907\u7279\u5b9a\u6587\u6863","title":"Navigation"},{"location":"Overview.html","text":"\u6982\u8ff0 \u00b6 \u6b22\u8fce\u4f7f\u7528Klipper\u6587\u6863\u3002\u5982\u679c\u521a\u63a5\u89e6Klipper\uff0c\u8bf7\u4ece \u7279\u6027 \u548c \u5b89\u88c5 \u6587\u6863\u5f00\u59cb\u9605\u8bfb\u3002 \u6982\u89c8\u4fe1\u606f \u00b6 \u529f\u80fd \uff1aKlipper \u4e2d\u7684\u9ad8\u7ea7\u529f\u80fd\u5217\u8868\u3002 \u5e38\u89c1\u95ee\u9898 \uff1a\u5e38\u89c1\u95ee\u9898\u3002 \u53d1\u884c\u7248 \uff1aKlipper \u7684\u7248\u672c\u53d1\u5e03\u5386\u53f2\u3002 \u914d\u7f6e\u66f4\u6539 \uff1a\u53ef\u80fd\u9700\u8981\u624b\u52a8\u66f4\u65b0\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u7684\u8f6f\u4ef6\u66f4\u6539\u3002 \u8054\u7cfb \uff1a\u5173\u4e8e\u5982\u4f55\u63d0\u4ea4\u9519\u8bef\u62a5\u544a\u548c\u8054\u7cfb Klipper \u5f00\u53d1\u8005\u7684\u4fe1\u606f\u3002 \u5b89\u88c5\u548c\u914d\u7f6e \u00b6 \u5b89\u88c5 \uff1aKlipper \u5b89\u88c5\u6307\u5357\u3002 \u914d\u7f6e\u53c2\u8003 \uff1a\u914d\u7f6e\u53c2\u6570\u8bf4\u660e\u3002 \u65cb\u8f6c\u8ddd\u79bb \uff1a\u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb(rotation_distance)\u6b65\u8fdb\u53c2\u6570\u3002 \u68c0\u67e5\u914d\u7f6e \uff1a\u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u57fa\u672c\u5f15\u811a\u8bbe\u7f6e\u3002 \u6253\u5370\u5e8a\u8c03\u5e73 \uff1aKlipper \u4e2d\u5173\u4e8e\u201c\u6253\u5370\u5e8a\u8c03\u5e73\u201d\u7684\u4fe1\u606f\u3002 \u4e09\u89d2\u6d32\u6821\u51c6 \uff1a\u6821\u51c6\u4e09\u89d2\u6d32\u7ed3\u6784\u3002 \u63a2\u9488\u6821\u51c6 \uff1a\u6821\u51c6\u81ea\u52a8Z\u63a2\u9488\u3002 BL-Touch \uff1a\u914d\u7f6e\u201cBL-Touch\u201dZ \u63a2\u9488\u3002 \u624b\u52a8\u8c03\u5e73 \uff1a\u6821\u51c6 Z \u9650\u4f4d\u548c\u8c03\u6574\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\u3002 \u5e8a\u7f51 \uff1a\u57fa\u4e8e XY \u4f4d\u7f6e\u7684\u6253\u5370\u5e8a\u9ad8\u5ea6\u8865\u507f\u3002 \u9650\u4f4d\u76f8\u4f4d \uff1a\u4f7f\u7528\u6b65\u8fdb\u7535\u673a\u76f8\u4f4d\u8f85\u52a9 Z \u9650\u4f4d\u5b9a\u4f4d\u3002 \u5171\u632f\u8865\u507f \uff1a\u51cf\u5c11\u6253\u5370\u9707\u7eb9\u7684\u5de5\u5177\u3002 \u6d4b\u91cf\u5171\u632f \uff1a\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8ba1\u6a21\u5757\u6d4b\u91cf\u5171\u632f\u3002 \u63d0\u524d\u538b\u529b \uff1a\u6821\u51c6\u6324\u51fa\u673a\u538b\u529b\u3002 G\u4ee3\u7801 \uff1a\u7528\u4e8e Klipper \u7684G\u4ee3\u7801\u547d\u4ee4\u3002 \u547d\u4ee4\u6a21\u677f \uff1aG\u4ee3\u7801\u5b8f\u548c\u6761\u4ef6\u5224\u65ad\u3002 \u72b6\u6001\u53c2\u8003 \uff1a\u53ef\u7528\u4e8e\u5b8f\u548c\u7c7b\u4f3c\u529f\u80fd\u7684\u4fe1\u606f\u3002 TMC\u9a71\u52a8 \uff1a\u5728 Klipper \u4e2d\u4f7f\u7528 Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002 Multi-MCU Homing \uff1a\u5728\u5f52\u4f4d\u548c\u63a2\u6d4b\u65f6\u4f7f\u7528\u591a\u4e2a\u5fae\u5904\u7406\u5668\u3002 \u5207\u7247 \uff1a\u4e3a Klipper \u914d\u7f6e\u5207\u7247\u8f6f\u4ef6\u3002 \u504f\u659c\u6821\u6b63 \uff1a\u8c03\u6574\u4e0d\u5b8c\u5168\u5782\u76f4\u7684\u8f74\uff08\u4e0d\u5b8c\u7f8e\u7684\u65b9\u5f62\uff09\u3002 PWM \u5de5\u5177 \uff1a\u5173\u4e8e\u5982\u4f55\u4f7f\u7528 PWM \u63a7\u5236\u7684\u5de5\u5177\uff0c\u4f8b\u5982\u6fc0\u5149\u5668\u6216\u7535\u94bb\u5934\u3002 \u6392\u9664\u5bf9\u8c61 \uff1a\u6392\u9664\u5bf9\u8c61\u5b9e\u73b0\u7684\u6307\u5357\u3002 \u5f00\u53d1\u8005\u6587\u6863 \u00b6 \u4ee3\u7801\u6982\u8ff0 \uff1a\u5f00\u53d1\u8005\u5e94\u8be5\u4ece\u8fd9\u4e2a\u6587\u6863\u5f00\u59cb\u9605\u8bfb\u3002 \u8fd0\u52a8\u5b66 \uff1a\u5173\u4e8e Klipper \u5982\u4f55\u5b9e\u73b0\u8fd0\u52a8\u7684\u6280\u672f\u7ec6\u8282\u3002 \u534f\u8bae \uff1a\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u7684\u4f4e\u7ea7\u901a\u4fe1\u534f\u8bae\u7684\u4fe1\u606f\u3002 API \u670d\u52a1\u5668 \uff1a\u5173\u4e8e Klipper \u7684\u547d\u4ee4\u4e0e\u63a7\u5236 API \u7684\u4fe1\u606f\u3002 MCU \u6307\u4ee4 \uff1a\u63cf\u8ff0\u5728\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u4e2d\u5b9e\u73b0\u7684\u4f4e\u7ea7\u6307\u4ee4\u3002 CAN \u603b\u7ebf\u534f\u8bae \uff1aKlipper \u7684 CAN\u603b\u7ebf\u62a5\u6587\u683c\u5f0f\u3002 \u8c03\u8bd5 \uff1a\u5173\u4e8e\u5982\u4f55\u6d4b\u8bd5\u548c\u8c03\u8bd5 Klipper\u3002 \u57fa\u51c6\u6d4b\u8bd5 \uff1a\u5173\u4e8e Klipper \u57fa\u51c6\u6d4b\u8bd5\u7684\u65b9\u6cd5\u3002 \u8d21\u732e \uff1a\u6709\u5173\u5982\u4f55\u5411 Klipper \u63d0\u4ea4\u6539\u8fdb\u65b9\u6cd5\u7684\u4fe1\u606f\u3002 \u6253\u5305 \uff1a\u6709\u5173\u4e8e\u5982\u4f55\u6784\u5efa\u7cfb\u7edf\u5305\u7684\u4fe1\u606f\u3002 \u8bbe\u5907\u7279\u5b9a\u6587\u6863 \u00b6 \u793a\u5217\u914d\u7f6e \uff1a\u6709\u5173\u4e8e\u6dfb\u52a0\u793a\u5217\u914d\u7f6e\u5230 Klipper \u7684\u4fe1\u606f\u3002 SD\u5361\u66f4\u65b0 \uff1a\u901a\u8fc7\u5c06\u56fa\u4ef6\u62f7\u8d1d\u5230SD\u5361\u4e2d\uff0c\u518d\u901a\u8fc7\u5fae\u63a7\u5236\u5668\u7684SD\u5361\u69fd\u6765\u5237\u5199\u5fae\u63a7\u5236\u5668\u3002 \u5c06\u6811\u8393\u6d3e\u4f5c\u4e3a\u5fae\u63a7\u5236\u5668 \uff1a\u5173\u4e8e\u5982\u4f55\u63a7\u5236\u4e0e\u6811\u8393\u6d3e GPIO \u5f15\u811a\u8fde\u63a5\u7684\u8bbe\u5907\u3002 Beaglebone \uff1a\u5728 Beaglebone PRU \u4e0a\u8fd0\u884c Klipper \u7684\u8be6\u7ec6\u4fe1\u606f\u3002 \u5e95\u5c42\u5f15\u5bfc\u7a0b\u5e8f \uff1a\u6709\u5173\u4e8e\u5fae\u63a7\u5236\u5668\u5237\u5199\u7684\u5f00\u53d1\u8005\u4fe1\u606f\u3002 CAN \u603b\u7ebf \uff1a\u6709\u5173\u4e8e Klipper \u4f7f\u7528 CAN \u603b\u7ebf\u7684\u4fe1\u606f\u3002 TSL1401CL \u8017\u6750\u7ebf\u5f84\u4f20\u611f\u5668 \u970d\u5c14\u6253\u5370\u4e1d\u5bbd\u5ea6\u4f20\u611f\u5668","title":"\u6982\u8ff0"},{"location":"Overview.html#_1","text":"\u6b22\u8fce\u4f7f\u7528Klipper\u6587\u6863\u3002\u5982\u679c\u521a\u63a5\u89e6Klipper\uff0c\u8bf7\u4ece \u7279\u6027 \u548c \u5b89\u88c5 \u6587\u6863\u5f00\u59cb\u9605\u8bfb\u3002","title":"\u6982\u8ff0"},{"location":"Overview.html#_2","text":"\u529f\u80fd \uff1aKlipper \u4e2d\u7684\u9ad8\u7ea7\u529f\u80fd\u5217\u8868\u3002 \u5e38\u89c1\u95ee\u9898 \uff1a\u5e38\u89c1\u95ee\u9898\u3002 \u53d1\u884c\u7248 \uff1aKlipper \u7684\u7248\u672c\u53d1\u5e03\u5386\u53f2\u3002 \u914d\u7f6e\u66f4\u6539 \uff1a\u53ef\u80fd\u9700\u8981\u624b\u52a8\u66f4\u65b0\u6253\u5370\u673a\u914d\u7f6e\u6587\u4ef6\u7684\u8f6f\u4ef6\u66f4\u6539\u3002 \u8054\u7cfb \uff1a\u5173\u4e8e\u5982\u4f55\u63d0\u4ea4\u9519\u8bef\u62a5\u544a\u548c\u8054\u7cfb Klipper \u5f00\u53d1\u8005\u7684\u4fe1\u606f\u3002","title":"\u6982\u89c8\u4fe1\u606f"},{"location":"Overview.html#_3","text":"\u5b89\u88c5 \uff1aKlipper \u5b89\u88c5\u6307\u5357\u3002 \u914d\u7f6e\u53c2\u8003 \uff1a\u914d\u7f6e\u53c2\u6570\u8bf4\u660e\u3002 \u65cb\u8f6c\u8ddd\u79bb \uff1a\u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb(rotation_distance)\u6b65\u8fdb\u53c2\u6570\u3002 \u68c0\u67e5\u914d\u7f6e \uff1a\u9a8c\u8bc1\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u57fa\u672c\u5f15\u811a\u8bbe\u7f6e\u3002 \u6253\u5370\u5e8a\u8c03\u5e73 \uff1aKlipper \u4e2d\u5173\u4e8e\u201c\u6253\u5370\u5e8a\u8c03\u5e73\u201d\u7684\u4fe1\u606f\u3002 \u4e09\u89d2\u6d32\u6821\u51c6 \uff1a\u6821\u51c6\u4e09\u89d2\u6d32\u7ed3\u6784\u3002 \u63a2\u9488\u6821\u51c6 \uff1a\u6821\u51c6\u81ea\u52a8Z\u63a2\u9488\u3002 BL-Touch \uff1a\u914d\u7f6e\u201cBL-Touch\u201dZ \u63a2\u9488\u3002 \u624b\u52a8\u8c03\u5e73 \uff1a\u6821\u51c6 Z \u9650\u4f4d\u548c\u8c03\u6574\u70ed\u5e8a\u8c03\u5e73\u87ba\u4e1d\u3002 \u5e8a\u7f51 \uff1a\u57fa\u4e8e XY \u4f4d\u7f6e\u7684\u6253\u5370\u5e8a\u9ad8\u5ea6\u8865\u507f\u3002 \u9650\u4f4d\u76f8\u4f4d \uff1a\u4f7f\u7528\u6b65\u8fdb\u7535\u673a\u76f8\u4f4d\u8f85\u52a9 Z \u9650\u4f4d\u5b9a\u4f4d\u3002 \u5171\u632f\u8865\u507f \uff1a\u51cf\u5c11\u6253\u5370\u9707\u7eb9\u7684\u5de5\u5177\u3002 \u6d4b\u91cf\u5171\u632f \uff1a\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8ba1\u6a21\u5757\u6d4b\u91cf\u5171\u632f\u3002 \u63d0\u524d\u538b\u529b \uff1a\u6821\u51c6\u6324\u51fa\u673a\u538b\u529b\u3002 G\u4ee3\u7801 \uff1a\u7528\u4e8e Klipper \u7684G\u4ee3\u7801\u547d\u4ee4\u3002 \u547d\u4ee4\u6a21\u677f \uff1aG\u4ee3\u7801\u5b8f\u548c\u6761\u4ef6\u5224\u65ad\u3002 \u72b6\u6001\u53c2\u8003 \uff1a\u53ef\u7528\u4e8e\u5b8f\u548c\u7c7b\u4f3c\u529f\u80fd\u7684\u4fe1\u606f\u3002 TMC\u9a71\u52a8 \uff1a\u5728 Klipper \u4e2d\u4f7f\u7528 Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u3002 Multi-MCU Homing \uff1a\u5728\u5f52\u4f4d\u548c\u63a2\u6d4b\u65f6\u4f7f\u7528\u591a\u4e2a\u5fae\u5904\u7406\u5668\u3002 \u5207\u7247 \uff1a\u4e3a Klipper \u914d\u7f6e\u5207\u7247\u8f6f\u4ef6\u3002 \u504f\u659c\u6821\u6b63 \uff1a\u8c03\u6574\u4e0d\u5b8c\u5168\u5782\u76f4\u7684\u8f74\uff08\u4e0d\u5b8c\u7f8e\u7684\u65b9\u5f62\uff09\u3002 PWM \u5de5\u5177 \uff1a\u5173\u4e8e\u5982\u4f55\u4f7f\u7528 PWM \u63a7\u5236\u7684\u5de5\u5177\uff0c\u4f8b\u5982\u6fc0\u5149\u5668\u6216\u7535\u94bb\u5934\u3002 \u6392\u9664\u5bf9\u8c61 \uff1a\u6392\u9664\u5bf9\u8c61\u5b9e\u73b0\u7684\u6307\u5357\u3002","title":"\u5b89\u88c5\u548c\u914d\u7f6e"},{"location":"Overview.html#_4","text":"\u4ee3\u7801\u6982\u8ff0 \uff1a\u5f00\u53d1\u8005\u5e94\u8be5\u4ece\u8fd9\u4e2a\u6587\u6863\u5f00\u59cb\u9605\u8bfb\u3002 \u8fd0\u52a8\u5b66 \uff1a\u5173\u4e8e Klipper \u5982\u4f55\u5b9e\u73b0\u8fd0\u52a8\u7684\u6280\u672f\u7ec6\u8282\u3002 \u534f\u8bae \uff1a\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u7684\u4f4e\u7ea7\u901a\u4fe1\u534f\u8bae\u7684\u4fe1\u606f\u3002 API \u670d\u52a1\u5668 \uff1a\u5173\u4e8e Klipper \u7684\u547d\u4ee4\u4e0e\u63a7\u5236 API \u7684\u4fe1\u606f\u3002 MCU \u6307\u4ee4 \uff1a\u63cf\u8ff0\u5728\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u4e2d\u5b9e\u73b0\u7684\u4f4e\u7ea7\u6307\u4ee4\u3002 CAN \u603b\u7ebf\u534f\u8bae \uff1aKlipper \u7684 CAN\u603b\u7ebf\u62a5\u6587\u683c\u5f0f\u3002 \u8c03\u8bd5 \uff1a\u5173\u4e8e\u5982\u4f55\u6d4b\u8bd5\u548c\u8c03\u8bd5 Klipper\u3002 \u57fa\u51c6\u6d4b\u8bd5 \uff1a\u5173\u4e8e Klipper \u57fa\u51c6\u6d4b\u8bd5\u7684\u65b9\u6cd5\u3002 \u8d21\u732e \uff1a\u6709\u5173\u5982\u4f55\u5411 Klipper \u63d0\u4ea4\u6539\u8fdb\u65b9\u6cd5\u7684\u4fe1\u606f\u3002 \u6253\u5305 \uff1a\u6709\u5173\u4e8e\u5982\u4f55\u6784\u5efa\u7cfb\u7edf\u5305\u7684\u4fe1\u606f\u3002","title":"\u5f00\u53d1\u8005\u6587\u6863"},{"location":"Overview.html#_5","text":"\u793a\u5217\u914d\u7f6e \uff1a\u6709\u5173\u4e8e\u6dfb\u52a0\u793a\u5217\u914d\u7f6e\u5230 Klipper \u7684\u4fe1\u606f\u3002 SD\u5361\u66f4\u65b0 \uff1a\u901a\u8fc7\u5c06\u56fa\u4ef6\u62f7\u8d1d\u5230SD\u5361\u4e2d\uff0c\u518d\u901a\u8fc7\u5fae\u63a7\u5236\u5668\u7684SD\u5361\u69fd\u6765\u5237\u5199\u5fae\u63a7\u5236\u5668\u3002 \u5c06\u6811\u8393\u6d3e\u4f5c\u4e3a\u5fae\u63a7\u5236\u5668 \uff1a\u5173\u4e8e\u5982\u4f55\u63a7\u5236\u4e0e\u6811\u8393\u6d3e GPIO \u5f15\u811a\u8fde\u63a5\u7684\u8bbe\u5907\u3002 Beaglebone \uff1a\u5728 Beaglebone PRU \u4e0a\u8fd0\u884c Klipper \u7684\u8be6\u7ec6\u4fe1\u606f\u3002 \u5e95\u5c42\u5f15\u5bfc\u7a0b\u5e8f \uff1a\u6709\u5173\u4e8e\u5fae\u63a7\u5236\u5668\u5237\u5199\u7684\u5f00\u53d1\u8005\u4fe1\u606f\u3002 CAN \u603b\u7ebf \uff1a\u6709\u5173\u4e8e Klipper \u4f7f\u7528 CAN \u603b\u7ebf\u7684\u4fe1\u606f\u3002 TSL1401CL \u8017\u6750\u7ebf\u5f84\u4f20\u611f\u5668 \u970d\u5c14\u6253\u5370\u4e1d\u5bbd\u5ea6\u4f20\u611f\u5668","title":"\u8bbe\u5907\u7279\u5b9a\u6587\u6863"},{"location":"Packaging.html","text":"\u6253\u5305 Klipper \u00b6 Klipper \u662f\u4e2a\u6709\u70b9\u53cd\u5e38\u7684 Python \u7a0b\u5e8f\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f7f\u7528 setuptools \u6765\u6784\u5efa\u548c\u5b89\u88c5\u3002\u5173\u4e8e\u5982\u4f55\u6700\u597d\u5730\u6253\u5305\u5b83\u7684\u4e00\u4e9b\u8bf4\u660e\u5982\u4e0b\uff1a C \u6a21\u5757 \u00b6 Klipper \u4f7f\u7528\u4e00\u4e2a C \u6a21\u5757\u6765\u66f4\u5feb\u5730\u5904\u7406\u4e00\u4e9b\u8fd0\u52a8\u5b66\u8ba1\u7b97\u3002\u6b64\u6a21\u5757\u9700\u8981\u5728\u5305\u88c5\u65f6\u95f4\u8fdb\u884c\u7f16\u8bd1\uff0c\u4ee5\u907f\u514d\u5bf9\u7f16\u8bd1\u5668\u7684\u8fd0\u884c\u73af\u5883\u4f9d\u8d56\u3002\u8981\u7f16\u8bd1 C \u6a21\u5757\uff0c\u8bf7\u8fd0\u884c python2 klippy/chelper/__init__.py \u3002 \u7f16\u8bd1 Python \u4ee3\u7801 \u00b6 \u8bb8\u591a\u53d1\u884c\u7248\u90fd\u6709\u5728\u6253\u5305\u4e4b\u524d\u7f16\u8bd1\u6240\u6709 Python \u4ee3\u7801\u4ee5\u7f29\u77ed\u542f\u52a8\u65f6\u95f4\u7684\u89c4\u5b9a\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c python2 -m compileall klippy \u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002 \u7248\u672c\u7ba1\u7406 \u00b6 \u5982\u679c\u4f60\u4ece git \u6784\u5efa Klipper \u5305\uff0c\u901a\u5e38\u7684\u505a\u6cd5\u662f\u4e0d\u63d0\u4f9b .git \u76ee\u5f55\uff0c\u6240\u4ee5\u7248\u672c\u7ba1\u7406\u5fc5\u987b\u5728\u6ca1\u6709 git \u7684\u60c5\u51b5\u4e0b\u5904\u7406\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u8bf7\u4f7f\u7528 scripts/make_version.py \u4e2d\u63d0\u4f9b\u7684\u811a\u672c\uff0c\u8be5\u811a\u672c\u5e94\u6309\u5982\u4e0b\u65b9\u5f0f\u8fd0\u884c\uff1a python2 scripts/make_version.py YOURDISTRONAME > klippy/.version \u3002 \u793a\u4f8b\u6253\u5305\u811a\u672c \u00b6 klipper-git \u662f klipper \u7684 Arch Linux \u8f6f\u4ef6\u5305\uff0c\u5728 Arch User Repositiory \u4e0a\u6709\u4e00\u4e2a PKGBUILD\uff08\u8f6f\u4ef6\u5305\u6784\u5efa\u811a\u672c\uff09\u3002","title":"\u6253\u5305 Klipper"},{"location":"Packaging.html#klipper","text":"Klipper \u662f\u4e2a\u6709\u70b9\u53cd\u5e38\u7684 Python \u7a0b\u5e8f\uff0c\u56e0\u4e3a\u5b83\u4e0d\u4f7f\u7528 setuptools \u6765\u6784\u5efa\u548c\u5b89\u88c5\u3002\u5173\u4e8e\u5982\u4f55\u6700\u597d\u5730\u6253\u5305\u5b83\u7684\u4e00\u4e9b\u8bf4\u660e\u5982\u4e0b\uff1a","title":"\u6253\u5305 Klipper"},{"location":"Packaging.html#c","text":"Klipper \u4f7f\u7528\u4e00\u4e2a C \u6a21\u5757\u6765\u66f4\u5feb\u5730\u5904\u7406\u4e00\u4e9b\u8fd0\u52a8\u5b66\u8ba1\u7b97\u3002\u6b64\u6a21\u5757\u9700\u8981\u5728\u5305\u88c5\u65f6\u95f4\u8fdb\u884c\u7f16\u8bd1\uff0c\u4ee5\u907f\u514d\u5bf9\u7f16\u8bd1\u5668\u7684\u8fd0\u884c\u73af\u5883\u4f9d\u8d56\u3002\u8981\u7f16\u8bd1 C \u6a21\u5757\uff0c\u8bf7\u8fd0\u884c python2 klippy/chelper/__init__.py \u3002","title":"C \u6a21\u5757"},{"location":"Packaging.html#python","text":"\u8bb8\u591a\u53d1\u884c\u7248\u90fd\u6709\u5728\u6253\u5305\u4e4b\u524d\u7f16\u8bd1\u6240\u6709 Python \u4ee3\u7801\u4ee5\u7f29\u77ed\u542f\u52a8\u65f6\u95f4\u7684\u89c4\u5b9a\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c python2 -m compileall klippy \u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002","title":"\u7f16\u8bd1 Python \u4ee3\u7801"},{"location":"Packaging.html#_1","text":"\u5982\u679c\u4f60\u4ece git \u6784\u5efa Klipper \u5305\uff0c\u901a\u5e38\u7684\u505a\u6cd5\u662f\u4e0d\u63d0\u4f9b .git \u76ee\u5f55\uff0c\u6240\u4ee5\u7248\u672c\u7ba1\u7406\u5fc5\u987b\u5728\u6ca1\u6709 git \u7684\u60c5\u51b5\u4e0b\u5904\u7406\u3002\u8981\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u8bf7\u4f7f\u7528 scripts/make_version.py \u4e2d\u63d0\u4f9b\u7684\u811a\u672c\uff0c\u8be5\u811a\u672c\u5e94\u6309\u5982\u4e0b\u65b9\u5f0f\u8fd0\u884c\uff1a python2 scripts/make_version.py YOURDISTRONAME > klippy/.version \u3002","title":"\u7248\u672c\u7ba1\u7406"},{"location":"Packaging.html#_2","text":"klipper-git \u662f klipper \u7684 Arch Linux \u8f6f\u4ef6\u5305\uff0c\u5728 Arch User Repositiory \u4e0a\u6709\u4e00\u4e2a PKGBUILD\uff08\u8f6f\u4ef6\u5305\u6784\u5efa\u811a\u672c\uff09\u3002","title":"\u793a\u4f8b\u6253\u5305\u811a\u672c"},{"location":"Pressure_Advance.html","text":"\u538b\u529b\u63d0\u524d \u00b6 \u672c\u6587\u6863\u63d0\u4f9b\u4e86\u5173\u4e8e\u8c03\u6574\u7279\u5b9a\u55b7\u5634\u548c\u8017\u6750\u201c\u538b\u529b\u63d0\u524d\u201d\u914d\u7f6e\u53d8\u91cf\u7684\u65b9\u6cd5\u3002\u538b\u529b\u63d0\u524d\u529f\u80fd\u53ef\u4ee5\u51cf\u5c11\u6f0f\u6599\u3002\u5173\u4e8e\u5982\u4f55\u5b9e\u73b0\u538b\u529b\u63d0\u524d\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u89c1 \u8fd0\u52a8\u5b66 \u6587\u4ef6\u3002 \u8c03\u6574\u538b\u529b\u63d0\u524d \u00b6 \u538b\u529b\u63d0\u524d\u6709\u4e24\u4e2a\u4f5c\u7528 - \u5b83\u53ef\u4ee5\u51cf\u5c11\u975e\u6324\u51fa\u79fb\u52a8\u8fc7\u7a0b\u4e2d\u7684\u6ea2\u6599\u548c\u51cf\u5c11\u8f6c\u5f2f\u65f6\u7684\u51f8\u8d77\u3002\u672c\u6307\u5357\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u529f\u80fd\uff08\u51cf\u5c11\u8f6c\u5f2f\u8fc7\u7a0b\u4e2d\u7684\u51f8\u8d77\uff09\u4f5c\u4e3a\u4f18\u5316\u673a\u5236\u3002 \u4e3a\u4e86\u6821\u51c6\u538b\u529b\u63d0\u524d\uff0c\u6253\u5370\u673a\u5fc5\u987b\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6210\u5e76\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\u56e0\u4e3a\u8c03\u4f18\u6d4b\u8bd5\u6d89\u53ca\u6253\u5370\u548c\u68c0\u67e5\u6d4b\u8bd5\u5bf9\u8c61\u3002\u5728\u8fd0\u884c\u6d4b\u8bd5\u4e4b\u524d\uff0c\u6700\u597d\u5b8c\u6574\u9605\u8bfb\u672c\u6587\u6863\u3002 \u7528\u5207\u7247\u8f6f\u4ef6\u5c06 docs/prints/square_tower.stl \u6a21\u578b\u8f6c\u5316\u4e3aG-Code\u3002\u5efa\u8bae\u5207\u7247\u65f6\u4f7f\u7528\u9ad8\u901f\u5ea6\uff08\u5982\u5927\u4e8e100mm/s\uff09\uff0c0%\u586b\u5145\uff0c\u9ad8\u5c42\u539a\uff08\u598275%\u4ee5\u4e0a\u7684\u55b7\u5634\u76f4\u5f84\uff09\u3002\u786e\u4fdd\u201c\u52a8\u6001\u52a0\u901f\u5ea6\u8c03\u6574\u201d\u529f\u80fd\u5df2\u5173\u95ed\u3002 \u5728\u6253\u5370G-Code\u524d\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4\uff1a SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500 \u4e0a\u8ff0\u547d\u4ee4\u5c06\u4f7f\u55b7\u5634\u5728\u6253\u5370\u8f6c\u89d2\u65f6\u51cf\u901f\uff0c\u4ece\u800c\u663e\u8457\u589e\u52a0\u8f6c\u89d2\u65f6\u6324\u51fa\u7684\u538b\u529b\u3002\u63a5\u7740\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u8fd1\u7a0b\u6324\u51fa\u7ed3\u6784\uff0c\u8bf7\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.005 \u4f7f\u7528\u8fdc\u7a0b\u57fa\u7840\u7684\u8bdd\uff0c\u5219\u8f93\u5165\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.020 \u63a5\u7740\uff0c\u5f00\u59cb\u6253\u5370\u3002\u6253\u5370\u540e\u7684\u6d4b\u8bd5\u6a21\u578b\u5c06\u5982\u4e0b\u56fe\uff1a \u4e0a\u9762\u7684\u8c03\u8bd5\u5854\uff08TUNING_TOWER\uff09G-Code\u5c06\u4f1a\u4f7fKlipper\u5728\u6253\u5370\u6bcf\u4e00\u5c42\u65f6\u9010\u6e10\u6539\u53d8\u538b\u529b\u63d0\u524d\uff08pressure_advance\uff09\u7684\u8bbe\u5b9a\u503c\u3002\u6253\u5370\u7684\u9ad8\u5ea6\u8d8a\u9ad8\uff0c\u538b\u529b\u63d0\u524d\u7684\u8bbe\u7f6e\u503c\u8d8a\u5927\u3002\u5728\u7406\u60f3\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\u4ee5\u4e0b\u7684\u5c42\uff0c\u5c06\u4f1a\u5728\u8f6c\u89d2\u51fa\u73b0\u8fc7\u5ea6\u6324\u51fa\uff0c\u51fa\u73b0\u5851\u6599\u56e2\u5757\uff1b\u800c\u5728\u7406\u60f3\u503c\u4e4b\u4e0a\u7684\u5c42\u5219\u4f1a\u51fa\u73b0\u6324\u51fa\u4e0d\u8db3\uff0c\u4e43\u81f3\u8f6c\u89d2\u7f3a\u5931\u3002 \u60a8\u53ef\u4ee5\u5728\u8f6c\u89d2\u51fa\u73b0\u4e25\u91cd\u7f3a\u5931\u7684\u65f6\u5019\u505c\u6b62\u6253\u5370\u4f5c\u4e1a\uff08\u4ece\u800c\u907f\u514d\u7ee7\u7eed\u6d4b\u8bd5\u4e0d\u5408\u7406\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\uff09\u3002 \u89c2\u5bdf\u6253\u5370\u4ef6\uff0c\u7136\u540e\u7528\u6e38\u6807\u5361\u5c3a\u91cf\u5ea6\u8f6c\u89d2\u8d28\u91cf\u6700\u4f73\u7684\u5c42\u5bf9\u5e94\u7684\u9ad8\u5ea6\u3002\u5982\u679c\u4e0d\u80fd\u786e\u5b9a\u54ea\u91cc\u6700\u4f73\uff0c\u8bf7\u4f18\u5148\u9009\u62e9\u8f83\u5c0f\u7684\u9ad8\u5ea6\u3002 \u538b\u529b\u63d0\u524d\u7684\u8bbe\u5b9a\u503c\u53ef\u4ee5\u901a\u8fc7 pressure_advance = <start> + <measured_height> * <factor> \u8fdb\u884c\u8ba1\u7b97\uff0c\u5982\u6d4b\u51fa\u7684\u6700\u4f18\u5c42\u9ad8\uff08measured_height\uff09\u4e3a12.9 mm\uff0c\u6d4b\u8bd5\u8d77\u59cb\u70b9\uff08start\uff09\u4e3a0 mm\uff0c\u589e\u91cf\uff08factor\uff09\u4e3a0.02\uff0c\u5219\u8ba1\u7b97\u7ed3\u679c\u4e3a 0 + 12.90 *.020=0.258 \u3002 \u4e3a\u83b7\u5f97\u6700\u4f73\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\uff0c\u60a8\u53ef\u4ee5\u81ea\u5b9a\u4e49 \u8d77\u59cb\u9ad8\u5ea6\uff08START\uff09\u548c\u589e\u91cf\uff08FACTOR\uff09\u3002\u5207\u8bb0\u5728\u5f00\u59cb\u6253\u5370\u524d\u901a\u8fc7\u8c03\u8bd5\u5854\uff08TUNING_TOWER\uff09\u547d\u4ee4\u8bbe\u7f6e\u6d4b\u8bd5\u503c\u3002 \u5178\u578b\u538b\u529b\u63d0\u524d\u7684\u8bbe\u7f6e\u503c\u57280.050\u52301.000\u4e4b\u95f4\uff08\u8f83\u5927\u6570\u503c\u7684\u4e00\u5219\u4e00\u822c\u51fa\u73b0\u5728\u8fdc\u7a0b\u6324\u51fa\u7ed3\u6784\u4e0a\uff09\u3002\u5982\u679c\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\u5927\u4e8e1.000\u800c\u6253\u5370\u8d28\u91cf\u6ca1\u6709\u6539\u5584\uff0c\u5219\u5e94\u8003\u8651\u5173\u95ed\u538b\u529b\u63d0\u524d\u4ee5\u907f\u514d\u5176\u4ed6\u6253\u5370\u95ee\u9898\u3002 \u8c03\u8bd5\u538b\u529b\u63d0\u524d\u503c\u4e0d\u5355\u5355\u76f4\u63a5\u6539\u5584\u8f6c\u89d2\u5904\u7684\u6253\u5370\u8d28\u91cf\uff0c\u540c\u65f6\u4e5f\u6709\u5229\u4e8e\u51cf\u5c11\u6253\u5370\u4e2d\u7684\u6ea2\u6599/\u8fc7\u5ea6\u6324\u51fa\u73b0\u8c61\u3002 \u5b8c\u6210\u6d4b\u8bd5\u540e\uff0c\u5728\u914d\u7f6e\u4e2d\u7684 [extruder] \u8282\u4e2d\u52a0\u5165 pressure_advance = <calculated_value> \uff08\u5176\u4e2d calculated_value \u4e3a\u524d\u8ff0\u6d4b\u8bd5\u8ba1\u7b97\u51fa\u7684\u6570\u503c\uff09\uff0c\u4fdd\u5b58\u5e76\u4f7f\u7528 RESTART \u547d\u4ee4\u91cd\u542fKlipper\u4ee5\u5e94\u7528\u914d\u7f6e\u3002\u540c\u65f6RESTART\u4f1a\u91cd\u7f6e\u8f6c\u89d2\u901f\u5ea6\u8bbe\u7f6e\u5e76\u53d6\u6d88\u538b\u529b\u63d0\u524d\u503c\u7684\u9010\u5c42\u53d8\u5316\u7684\u8bbe\u7f6e\u3002 \u91cd\u8981\u63d0\u793a\uff1a \u00b6 \u538b\u529b\u63d0\u524d\u7684\u8bbe\u7f6e\u503c\u4e0e\u6324\u51fa\u7ed3\u6784\uff0c\u55b7\u5634\u548c\u8017\u6750\u606f\u606f\u76f8\u5173\u3002\u5bf9\u4e8e\u4e0d\u540c\u5382\u5546\u7684\u8017\u6750\uff0c\u6216\u540c\u4e00\u5382\u5546\u7684\u4e0d\u540c\u989c\u8272/\u6279\u6b21\u7684\u8017\u6750\u90fd\u4f1a\u51fa\u73b0\u538b\u529b\u63d0\u524d\u503c\u663e\u8457\u4e0d\u540c\u7684\u72b6\u51b5\u3002\u56e0\u6b64\uff0c\u5efa\u8bae\u5728\u66f4\u6362\u8017\u6750\u540e\u91cd\u65b0\u6821\u51c6\u538b\u529b\u63d0\u524d\u503c\u3002 \u6253\u5370\u6e29\u5ea6\u548c\u6253\u5370\u901f\u5ea6\u4f1a\u663e\u8457\u5f71\u54cd\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u3002\u56e0\u6b64\u8bf7\u786e\u4fdd\u5728\u5b8c\u6210 \u6324\u51fa\u8ddd\u79bb\u6821\u51c6\uff08extruder rotation_distance\uff09 \u548c \u55b7\u5634\u6e29\u5ea6\u6821\u51c6\uff08nozzle temperature\uff09 \u540e\u8fdb\u884c\u538b\u529b\u63d0\u524d\u6821\u51c6\u3002 \u6d4b\u8bd5\u6a21\u578b\u88ab\u8bbe\u8ba1\u7528\u4e8e\u9ad8\u6324\u51fa\u91cf\u4e0b\u7684\u6d4b\u8bd5\uff0c\u800c\u975e\u4f7f\u7528\u201c\u5e38\u89c4\u201d\u7684\u5207\u7247\u8bbe\u7f6e\u3002\u5927\u6324\u51fa\u91cf\u80fd\u901a\u8fc7\u4f7f\u7528\u9ad8\u6253\u5370\u901f\u5ea6\u83b7\u5f97\uff08\u5982100 mm/s\uff09\u548c\u9ad8\u5c42\u9ad8\uff08\u5178\u578b\u503c\u4e3a75%\u7684\u55b7\u5634\u76f4\u5f84\uff09\u3002\u5176\u4ed6\u5207\u7247\u8bbe\u7f6e\u53ef\u4f7f\u7528\u5e38\u89c4\u6570\u503c\uff08\u5982\u4f7f\u75282~3\u58c1\u539a\uff0c\u5e38\u89c4\u7684\u56de\u62bd\u503c\uff09\u3002\u63a8\u8350\u5c06\u5916\u58c1\u6253\u5370\u901f\u5ea6\u8bbe\u7f6e\u6210\u4e0e\u4e2d\u95f4\u5c42\u76f8\u540c\uff0c\u5c3d\u7ba1\u8fd9\u6837\u8bbe\u7f6e\u5e76\u975e\u5fc5\u8981\u3002 \u6d4b\u8bd5\u4ef6\u7684\u56db\u89d2\u51fa\u73b0\u8d28\u91cf\u4e0d\u4e00\u7684\u60c5\u51b5\u975e\u5e38\u5e38\u89c1\u3002\u8fd9\u662f\u56e0\u4e3a\u901a\u5e38\u5207\u7247\u8f6f\u4ef6\u4f1a\u5c06\u53d8\u5c42\u7684\u52a8\u4f5c\u5b89\u6392\u5728\u8f6c\u89d2\u4e0a\uff0c\u8fd9\u5c06\u4f7f\u53d8\u5c42\u6240\u5728\u7684\u8f6c\u89d2\u4e0e\u5176\u4ed6\u4e09\u4e2a\u663e\u8457\u4e0d\u540c\u3002\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u73b0\u8c61\uff0c\u53ef\u4ee5\u5ffd\u7565\u53d8\u5c42\u6240\u5728\u7684\u8f6c\u89d2\u800c\u6d4b\u91cf\u5176\u4ed6\u4e09\u4e2a\u3002\u540c\u65f6\u5176\u4ed6\u4e09\u4e2a\u8f6c\u89d2\u4e5f\u53ef\u80fd\u5b58\u5728\u8f7b\u5fae\u7684\u5dee\u5f02\uff08\u800c\u8fd9\u79cd\u5dee\u5f02\u5f80\u5f80\u6765\u6e90\u4e8e\u6253\u5370\u673a\u6846\u67b6\u5bf9\u4e0d\u540c\u8f6c\u89d2\u8fd0\u52a8\u51fa\u73b0\u4e0d\u540c\u7684\u54cd\u5e94\uff09\u3002\u63a8\u8350\u5c1d\u8bd5\u4f7f\u7528\u4ee4\u4e09\u4e2a\u8f6c\u89d2\u540c\u65f6\u83b7\u5f97\u8f83\u9ad8\u8d28\u91cf\u7684\u8bbe\u5b9a\u503c\u3002\u5982\u679c\u4e3e\u68cb\u4e0d\u5b9a\uff0c\u5efa\u8bae\u4f7f\u7528\u8f83\u4f4e\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\u3002 \u82e5\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u8f83\u9ad8\u7684\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\uff0c\u4e00\u822c\u4e3a\u5927\u4e8e0.200\uff0c\u5728\u6b63\u5e38\u52a0\u901f\u5ea6\u4e0b\u5de5\u4f5c\uff0c\u6324\u51fa\u673a\u53ef\u80fd\u51fa\u73b0\u4e22\u6b65/\u8df3\u6b65\u73b0\u8c61\u3002\u538b\u529b\u63d0\u524d\u7cfb\u7edf\u662f\u901a\u8fc7\u5728\u52a0\u901f\u65f6\u6324\u51fa\u66f4\u591a\u7684\u8017\u6750\uff0c\u51cf\u901f\u65f6\u901a\u8fc7\u56de\u62bd\u51cf\u5c11\u6324\u51fa\u91cf\u6765\u63a7\u5236\u55b7\u5634\u538b\u529b\u3002\u5728\u4f7f\u7528\u9ad8\u52a0\u901f\u5ea6\u548c\u9ad8\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\u4e0b\uff0c\u6324\u51fa\u673a\u6216\u8bb8\u4e0d\u80fd\u63d0\u4f9b\u8db3\u591f\u7684\u626d\u77e9\u4ee5\u6324\u51fa\u8017\u6750\u3002\u5982\u679c\u51fa\u73b0\u4e0a\u8ff0\u72b6\u51b5\uff0c\u5efa\u8bae\u964d\u4f4e\u52a0\u901f\u5ea6\u6216\u505c\u7528\u538b\u529b\u63d0\u524d\u3002 \u5f53\u5b8c\u6210\u4e86Klipper\u7684\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u540e\uff0c\u63a8\u8350\u5728\u5207\u7247\u65f6\u9002\u5f53\u51cf\u5c11\u56de\u62bd\u8ddd\u79bb\uff08\u59820.75 mm\uff09\u5e76\u5f00\u542f\u201c\u56de\u62bd\u671f\u95f4\u8fdb\u884c\u64e6\u5634\u201d\u7684\u8bbe\u7f6e\u3002\u8be5\u8bbe\u7f6e\u53ef\u4ee5\u5e94\u5bf9\u8017\u6750\u7c98\u8fde\u9020\u6210\u7684\u6ea2\u6599\uff08\u55b7\u5634\u5185\u7684\u8017\u6750\u56e0\u5851\u6599\u7684\u7c98\u6027\u88ab\u6324\u51fa\u7684\u8017\u6750\u62bd\u51fa\uff09\u3002\u540c\u65f6\u5efa\u8bae\u5173\u95ed\u5207\u7247\u8f6f\u4ef6\u4e2d\u7684\u201c\u56de\u62bd\u65f6\u62ac\u5634\u201d\u529f\u80fd\u3002 \u538b\u529b\u63d0\u524d\u7cfb\u7edf\u5c06\u4e0d\u4f1a\u6539\u53d8\u6ed1\u8f66\u8fd0\u884c\u7684\u65f6\u95f4\u70b9\u548c\u8def\u5f84\u3002\u56e0\u6b64\u4f7f\u7528\u538b\u529b\u63d0\u524d\u8fdb\u884c\u6253\u5370\u7684\u5de5\u4ef6\u4f1a\u8ddf\u4e0d\u4f7f\u7528\u538b\u529b\u63d0\u524d\u7684\u5de5\u4ef6\u6d88\u8017\u540c\u6837\u7684\u6253\u5370\u65f6\u95f4\u3002\u538b\u529b\u63d0\u524d\u4e5f\u4e0d\u4f1a\u589e\u52a0\u6216\u51cf\u5c11\u5de5\u4ef6\u6253\u5370\u6240\u9700\u7684\u8017\u6750\u91cf\u3002\u538b\u529b\u63d0\u524d\u53ea\u4f1a\u5f71\u54cd\u6324\u51fa\u673a\u52a0\u51cf\u901f\u65f6\u7684\u8fd0\u52a8\u884c\u4e3a\u3002\u9ad8\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\u4f1a\u4f7f\u6324\u51fa\u673a\u52a0\u51cf\u901f\u65f6\u51fa\u73b0\u975e\u5e38\u5927\u7684\u6324\u51fa\u673a\u8fd0\u52a8\u91cf\u3002\u6682\u65f6\uff0cKlipper\u914d\u7f6e\u6587\u4ef6\u4e2d\u6ca1\u6709\u4efb\u4f55\u8bbe\u7f6e\u5bf9\u538b\u529b\u63d0\u524d\u7684\u989d\u5916\u6324\u51fa\u673a\u8fd0\u52a8\u8fdb\u884c\u8bbe\u9650\u3002","title":"\u538b\u529b\u63d0\u524d"},{"location":"Pressure_Advance.html#_1","text":"\u672c\u6587\u6863\u63d0\u4f9b\u4e86\u5173\u4e8e\u8c03\u6574\u7279\u5b9a\u55b7\u5634\u548c\u8017\u6750\u201c\u538b\u529b\u63d0\u524d\u201d\u914d\u7f6e\u53d8\u91cf\u7684\u65b9\u6cd5\u3002\u538b\u529b\u63d0\u524d\u529f\u80fd\u53ef\u4ee5\u51cf\u5c11\u6f0f\u6599\u3002\u5173\u4e8e\u5982\u4f55\u5b9e\u73b0\u538b\u529b\u63d0\u524d\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u89c1 \u8fd0\u52a8\u5b66 \u6587\u4ef6\u3002","title":"\u538b\u529b\u63d0\u524d"},{"location":"Pressure_Advance.html#_2","text":"\u538b\u529b\u63d0\u524d\u6709\u4e24\u4e2a\u4f5c\u7528 - \u5b83\u53ef\u4ee5\u51cf\u5c11\u975e\u6324\u51fa\u79fb\u52a8\u8fc7\u7a0b\u4e2d\u7684\u6ea2\u6599\u548c\u51cf\u5c11\u8f6c\u5f2f\u65f6\u7684\u51f8\u8d77\u3002\u672c\u6307\u5357\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u529f\u80fd\uff08\u51cf\u5c11\u8f6c\u5f2f\u8fc7\u7a0b\u4e2d\u7684\u51f8\u8d77\uff09\u4f5c\u4e3a\u4f18\u5316\u673a\u5236\u3002 \u4e3a\u4e86\u6821\u51c6\u538b\u529b\u63d0\u524d\uff0c\u6253\u5370\u673a\u5fc5\u987b\u5df2\u7ecf\u914d\u7f6e\u5b8c\u6210\u5e76\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\u56e0\u4e3a\u8c03\u4f18\u6d4b\u8bd5\u6d89\u53ca\u6253\u5370\u548c\u68c0\u67e5\u6d4b\u8bd5\u5bf9\u8c61\u3002\u5728\u8fd0\u884c\u6d4b\u8bd5\u4e4b\u524d\uff0c\u6700\u597d\u5b8c\u6574\u9605\u8bfb\u672c\u6587\u6863\u3002 \u7528\u5207\u7247\u8f6f\u4ef6\u5c06 docs/prints/square_tower.stl \u6a21\u578b\u8f6c\u5316\u4e3aG-Code\u3002\u5efa\u8bae\u5207\u7247\u65f6\u4f7f\u7528\u9ad8\u901f\u5ea6\uff08\u5982\u5927\u4e8e100mm/s\uff09\uff0c0%\u586b\u5145\uff0c\u9ad8\u5c42\u539a\uff08\u598275%\u4ee5\u4e0a\u7684\u55b7\u5634\u76f4\u5f84\uff09\u3002\u786e\u4fdd\u201c\u52a8\u6001\u52a0\u901f\u5ea6\u8c03\u6574\u201d\u529f\u80fd\u5df2\u5173\u95ed\u3002 \u5728\u6253\u5370G-Code\u524d\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4\uff1a SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500 \u4e0a\u8ff0\u547d\u4ee4\u5c06\u4f7f\u55b7\u5634\u5728\u6253\u5370\u8f6c\u89d2\u65f6\u51cf\u901f\uff0c\u4ece\u800c\u663e\u8457\u589e\u52a0\u8f6c\u89d2\u65f6\u6324\u51fa\u7684\u538b\u529b\u3002\u63a5\u7740\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u8fd1\u7a0b\u6324\u51fa\u7ed3\u6784\uff0c\u8bf7\u8f93\u5165\u4e0b\u9762\u7684\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.005 \u4f7f\u7528\u8fdc\u7a0b\u57fa\u7840\u7684\u8bdd\uff0c\u5219\u8f93\u5165\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.020 \u63a5\u7740\uff0c\u5f00\u59cb\u6253\u5370\u3002\u6253\u5370\u540e\u7684\u6d4b\u8bd5\u6a21\u578b\u5c06\u5982\u4e0b\u56fe\uff1a \u4e0a\u9762\u7684\u8c03\u8bd5\u5854\uff08TUNING_TOWER\uff09G-Code\u5c06\u4f1a\u4f7fKlipper\u5728\u6253\u5370\u6bcf\u4e00\u5c42\u65f6\u9010\u6e10\u6539\u53d8\u538b\u529b\u63d0\u524d\uff08pressure_advance\uff09\u7684\u8bbe\u5b9a\u503c\u3002\u6253\u5370\u7684\u9ad8\u5ea6\u8d8a\u9ad8\uff0c\u538b\u529b\u63d0\u524d\u7684\u8bbe\u7f6e\u503c\u8d8a\u5927\u3002\u5728\u7406\u60f3\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\u4ee5\u4e0b\u7684\u5c42\uff0c\u5c06\u4f1a\u5728\u8f6c\u89d2\u51fa\u73b0\u8fc7\u5ea6\u6324\u51fa\uff0c\u51fa\u73b0\u5851\u6599\u56e2\u5757\uff1b\u800c\u5728\u7406\u60f3\u503c\u4e4b\u4e0a\u7684\u5c42\u5219\u4f1a\u51fa\u73b0\u6324\u51fa\u4e0d\u8db3\uff0c\u4e43\u81f3\u8f6c\u89d2\u7f3a\u5931\u3002 \u60a8\u53ef\u4ee5\u5728\u8f6c\u89d2\u51fa\u73b0\u4e25\u91cd\u7f3a\u5931\u7684\u65f6\u5019\u505c\u6b62\u6253\u5370\u4f5c\u4e1a\uff08\u4ece\u800c\u907f\u514d\u7ee7\u7eed\u6d4b\u8bd5\u4e0d\u5408\u7406\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\uff09\u3002 \u89c2\u5bdf\u6253\u5370\u4ef6\uff0c\u7136\u540e\u7528\u6e38\u6807\u5361\u5c3a\u91cf\u5ea6\u8f6c\u89d2\u8d28\u91cf\u6700\u4f73\u7684\u5c42\u5bf9\u5e94\u7684\u9ad8\u5ea6\u3002\u5982\u679c\u4e0d\u80fd\u786e\u5b9a\u54ea\u91cc\u6700\u4f73\uff0c\u8bf7\u4f18\u5148\u9009\u62e9\u8f83\u5c0f\u7684\u9ad8\u5ea6\u3002 \u538b\u529b\u63d0\u524d\u7684\u8bbe\u5b9a\u503c\u53ef\u4ee5\u901a\u8fc7 pressure_advance = <start> + <measured_height> * <factor> \u8fdb\u884c\u8ba1\u7b97\uff0c\u5982\u6d4b\u51fa\u7684\u6700\u4f18\u5c42\u9ad8\uff08measured_height\uff09\u4e3a12.9 mm\uff0c\u6d4b\u8bd5\u8d77\u59cb\u70b9\uff08start\uff09\u4e3a0 mm\uff0c\u589e\u91cf\uff08factor\uff09\u4e3a0.02\uff0c\u5219\u8ba1\u7b97\u7ed3\u679c\u4e3a 0 + 12.90 *.020=0.258 \u3002 \u4e3a\u83b7\u5f97\u6700\u4f73\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\uff0c\u60a8\u53ef\u4ee5\u81ea\u5b9a\u4e49 \u8d77\u59cb\u9ad8\u5ea6\uff08START\uff09\u548c\u589e\u91cf\uff08FACTOR\uff09\u3002\u5207\u8bb0\u5728\u5f00\u59cb\u6253\u5370\u524d\u901a\u8fc7\u8c03\u8bd5\u5854\uff08TUNING_TOWER\uff09\u547d\u4ee4\u8bbe\u7f6e\u6d4b\u8bd5\u503c\u3002 \u5178\u578b\u538b\u529b\u63d0\u524d\u7684\u8bbe\u7f6e\u503c\u57280.050\u52301.000\u4e4b\u95f4\uff08\u8f83\u5927\u6570\u503c\u7684\u4e00\u5219\u4e00\u822c\u51fa\u73b0\u5728\u8fdc\u7a0b\u6324\u51fa\u7ed3\u6784\u4e0a\uff09\u3002\u5982\u679c\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\u5927\u4e8e1.000\u800c\u6253\u5370\u8d28\u91cf\u6ca1\u6709\u6539\u5584\uff0c\u5219\u5e94\u8003\u8651\u5173\u95ed\u538b\u529b\u63d0\u524d\u4ee5\u907f\u514d\u5176\u4ed6\u6253\u5370\u95ee\u9898\u3002 \u8c03\u8bd5\u538b\u529b\u63d0\u524d\u503c\u4e0d\u5355\u5355\u76f4\u63a5\u6539\u5584\u8f6c\u89d2\u5904\u7684\u6253\u5370\u8d28\u91cf\uff0c\u540c\u65f6\u4e5f\u6709\u5229\u4e8e\u51cf\u5c11\u6253\u5370\u4e2d\u7684\u6ea2\u6599/\u8fc7\u5ea6\u6324\u51fa\u73b0\u8c61\u3002 \u5b8c\u6210\u6d4b\u8bd5\u540e\uff0c\u5728\u914d\u7f6e\u4e2d\u7684 [extruder] \u8282\u4e2d\u52a0\u5165 pressure_advance = <calculated_value> \uff08\u5176\u4e2d calculated_value \u4e3a\u524d\u8ff0\u6d4b\u8bd5\u8ba1\u7b97\u51fa\u7684\u6570\u503c\uff09\uff0c\u4fdd\u5b58\u5e76\u4f7f\u7528 RESTART \u547d\u4ee4\u91cd\u542fKlipper\u4ee5\u5e94\u7528\u914d\u7f6e\u3002\u540c\u65f6RESTART\u4f1a\u91cd\u7f6e\u8f6c\u89d2\u901f\u5ea6\u8bbe\u7f6e\u5e76\u53d6\u6d88\u538b\u529b\u63d0\u524d\u503c\u7684\u9010\u5c42\u53d8\u5316\u7684\u8bbe\u7f6e\u3002","title":"\u8c03\u6574\u538b\u529b\u63d0\u524d"},{"location":"Pressure_Advance.html#_3","text":"\u538b\u529b\u63d0\u524d\u7684\u8bbe\u7f6e\u503c\u4e0e\u6324\u51fa\u7ed3\u6784\uff0c\u55b7\u5634\u548c\u8017\u6750\u606f\u606f\u76f8\u5173\u3002\u5bf9\u4e8e\u4e0d\u540c\u5382\u5546\u7684\u8017\u6750\uff0c\u6216\u540c\u4e00\u5382\u5546\u7684\u4e0d\u540c\u989c\u8272/\u6279\u6b21\u7684\u8017\u6750\u90fd\u4f1a\u51fa\u73b0\u538b\u529b\u63d0\u524d\u503c\u663e\u8457\u4e0d\u540c\u7684\u72b6\u51b5\u3002\u56e0\u6b64\uff0c\u5efa\u8bae\u5728\u66f4\u6362\u8017\u6750\u540e\u91cd\u65b0\u6821\u51c6\u538b\u529b\u63d0\u524d\u503c\u3002 \u6253\u5370\u6e29\u5ea6\u548c\u6253\u5370\u901f\u5ea6\u4f1a\u663e\u8457\u5f71\u54cd\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u3002\u56e0\u6b64\u8bf7\u786e\u4fdd\u5728\u5b8c\u6210 \u6324\u51fa\u8ddd\u79bb\u6821\u51c6\uff08extruder rotation_distance\uff09 \u548c \u55b7\u5634\u6e29\u5ea6\u6821\u51c6\uff08nozzle temperature\uff09 \u540e\u8fdb\u884c\u538b\u529b\u63d0\u524d\u6821\u51c6\u3002 \u6d4b\u8bd5\u6a21\u578b\u88ab\u8bbe\u8ba1\u7528\u4e8e\u9ad8\u6324\u51fa\u91cf\u4e0b\u7684\u6d4b\u8bd5\uff0c\u800c\u975e\u4f7f\u7528\u201c\u5e38\u89c4\u201d\u7684\u5207\u7247\u8bbe\u7f6e\u3002\u5927\u6324\u51fa\u91cf\u80fd\u901a\u8fc7\u4f7f\u7528\u9ad8\u6253\u5370\u901f\u5ea6\u83b7\u5f97\uff08\u5982100 mm/s\uff09\u548c\u9ad8\u5c42\u9ad8\uff08\u5178\u578b\u503c\u4e3a75%\u7684\u55b7\u5634\u76f4\u5f84\uff09\u3002\u5176\u4ed6\u5207\u7247\u8bbe\u7f6e\u53ef\u4f7f\u7528\u5e38\u89c4\u6570\u503c\uff08\u5982\u4f7f\u75282~3\u58c1\u539a\uff0c\u5e38\u89c4\u7684\u56de\u62bd\u503c\uff09\u3002\u63a8\u8350\u5c06\u5916\u58c1\u6253\u5370\u901f\u5ea6\u8bbe\u7f6e\u6210\u4e0e\u4e2d\u95f4\u5c42\u76f8\u540c\uff0c\u5c3d\u7ba1\u8fd9\u6837\u8bbe\u7f6e\u5e76\u975e\u5fc5\u8981\u3002 \u6d4b\u8bd5\u4ef6\u7684\u56db\u89d2\u51fa\u73b0\u8d28\u91cf\u4e0d\u4e00\u7684\u60c5\u51b5\u975e\u5e38\u5e38\u89c1\u3002\u8fd9\u662f\u56e0\u4e3a\u901a\u5e38\u5207\u7247\u8f6f\u4ef6\u4f1a\u5c06\u53d8\u5c42\u7684\u52a8\u4f5c\u5b89\u6392\u5728\u8f6c\u89d2\u4e0a\uff0c\u8fd9\u5c06\u4f7f\u53d8\u5c42\u6240\u5728\u7684\u8f6c\u89d2\u4e0e\u5176\u4ed6\u4e09\u4e2a\u663e\u8457\u4e0d\u540c\u3002\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u73b0\u8c61\uff0c\u53ef\u4ee5\u5ffd\u7565\u53d8\u5c42\u6240\u5728\u7684\u8f6c\u89d2\u800c\u6d4b\u91cf\u5176\u4ed6\u4e09\u4e2a\u3002\u540c\u65f6\u5176\u4ed6\u4e09\u4e2a\u8f6c\u89d2\u4e5f\u53ef\u80fd\u5b58\u5728\u8f7b\u5fae\u7684\u5dee\u5f02\uff08\u800c\u8fd9\u79cd\u5dee\u5f02\u5f80\u5f80\u6765\u6e90\u4e8e\u6253\u5370\u673a\u6846\u67b6\u5bf9\u4e0d\u540c\u8f6c\u89d2\u8fd0\u52a8\u51fa\u73b0\u4e0d\u540c\u7684\u54cd\u5e94\uff09\u3002\u63a8\u8350\u5c1d\u8bd5\u4f7f\u7528\u4ee4\u4e09\u4e2a\u8f6c\u89d2\u540c\u65f6\u83b7\u5f97\u8f83\u9ad8\u8d28\u91cf\u7684\u8bbe\u5b9a\u503c\u3002\u5982\u679c\u4e3e\u68cb\u4e0d\u5b9a\uff0c\u5efa\u8bae\u4f7f\u7528\u8f83\u4f4e\u7684\u538b\u529b\u63d0\u524d\u8bbe\u5b9a\u503c\u3002 \u82e5\u8bbe\u7f6e\u4e86\u4e00\u4e2a\u8f83\u9ad8\u7684\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\uff0c\u4e00\u822c\u4e3a\u5927\u4e8e0.200\uff0c\u5728\u6b63\u5e38\u52a0\u901f\u5ea6\u4e0b\u5de5\u4f5c\uff0c\u6324\u51fa\u673a\u53ef\u80fd\u51fa\u73b0\u4e22\u6b65/\u8df3\u6b65\u73b0\u8c61\u3002\u538b\u529b\u63d0\u524d\u7cfb\u7edf\u662f\u901a\u8fc7\u5728\u52a0\u901f\u65f6\u6324\u51fa\u66f4\u591a\u7684\u8017\u6750\uff0c\u51cf\u901f\u65f6\u901a\u8fc7\u56de\u62bd\u51cf\u5c11\u6324\u51fa\u91cf\u6765\u63a7\u5236\u55b7\u5634\u538b\u529b\u3002\u5728\u4f7f\u7528\u9ad8\u52a0\u901f\u5ea6\u548c\u9ad8\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\u4e0b\uff0c\u6324\u51fa\u673a\u6216\u8bb8\u4e0d\u80fd\u63d0\u4f9b\u8db3\u591f\u7684\u626d\u77e9\u4ee5\u6324\u51fa\u8017\u6750\u3002\u5982\u679c\u51fa\u73b0\u4e0a\u8ff0\u72b6\u51b5\uff0c\u5efa\u8bae\u964d\u4f4e\u52a0\u901f\u5ea6\u6216\u505c\u7528\u538b\u529b\u63d0\u524d\u3002 \u5f53\u5b8c\u6210\u4e86Klipper\u7684\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u540e\uff0c\u63a8\u8350\u5728\u5207\u7247\u65f6\u9002\u5f53\u51cf\u5c11\u56de\u62bd\u8ddd\u79bb\uff08\u59820.75 mm\uff09\u5e76\u5f00\u542f\u201c\u56de\u62bd\u671f\u95f4\u8fdb\u884c\u64e6\u5634\u201d\u7684\u8bbe\u7f6e\u3002\u8be5\u8bbe\u7f6e\u53ef\u4ee5\u5e94\u5bf9\u8017\u6750\u7c98\u8fde\u9020\u6210\u7684\u6ea2\u6599\uff08\u55b7\u5634\u5185\u7684\u8017\u6750\u56e0\u5851\u6599\u7684\u7c98\u6027\u88ab\u6324\u51fa\u7684\u8017\u6750\u62bd\u51fa\uff09\u3002\u540c\u65f6\u5efa\u8bae\u5173\u95ed\u5207\u7247\u8f6f\u4ef6\u4e2d\u7684\u201c\u56de\u62bd\u65f6\u62ac\u5634\u201d\u529f\u80fd\u3002 \u538b\u529b\u63d0\u524d\u7cfb\u7edf\u5c06\u4e0d\u4f1a\u6539\u53d8\u6ed1\u8f66\u8fd0\u884c\u7684\u65f6\u95f4\u70b9\u548c\u8def\u5f84\u3002\u56e0\u6b64\u4f7f\u7528\u538b\u529b\u63d0\u524d\u8fdb\u884c\u6253\u5370\u7684\u5de5\u4ef6\u4f1a\u8ddf\u4e0d\u4f7f\u7528\u538b\u529b\u63d0\u524d\u7684\u5de5\u4ef6\u6d88\u8017\u540c\u6837\u7684\u6253\u5370\u65f6\u95f4\u3002\u538b\u529b\u63d0\u524d\u4e5f\u4e0d\u4f1a\u589e\u52a0\u6216\u51cf\u5c11\u5de5\u4ef6\u6253\u5370\u6240\u9700\u7684\u8017\u6750\u91cf\u3002\u538b\u529b\u63d0\u524d\u53ea\u4f1a\u5f71\u54cd\u6324\u51fa\u673a\u52a0\u51cf\u901f\u65f6\u7684\u8fd0\u52a8\u884c\u4e3a\u3002\u9ad8\u538b\u529b\u63d0\u524d\u8bbe\u7f6e\u503c\u4f1a\u4f7f\u6324\u51fa\u673a\u52a0\u51cf\u901f\u65f6\u51fa\u73b0\u975e\u5e38\u5927\u7684\u6324\u51fa\u673a\u8fd0\u52a8\u91cf\u3002\u6682\u65f6\uff0cKlipper\u914d\u7f6e\u6587\u4ef6\u4e2d\u6ca1\u6709\u4efb\u4f55\u8bbe\u7f6e\u5bf9\u538b\u529b\u63d0\u524d\u7684\u989d\u5916\u6324\u51fa\u673a\u8fd0\u52a8\u8fdb\u884c\u8bbe\u9650\u3002","title":"\u91cd\u8981\u63d0\u793a\uff1a"},{"location":"Probe_Calibrate.html","text":"\u63a2\u9488\u6821\u51c6 \u00b6 \u672c\u6587\u6863\u4ecb\u7ecd\u4e86\u5728 Klipper \u4e2d\u6821\u51c6\"\u81ea\u52a8 Z \u63a2\u9488\" X\u3001Y \u548c Z \u504f\u79fb\u7684\u6d41\u7a0b\u3002\u8fd9\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u5177\u6709 [probe] \u6216 [bltouch] \u90e8\u5206\u7684\u6253\u5370\u673a\u975e\u5e38\u6709\u7528\u3002 \u63a2\u9488X/Y\u504f\u79fb\u6821\u51c6 \u00b6 \u4e3a\u6821\u6b63X\u3001Y\u504f\u79fb\u503c\uff0c\u9996\u5148\u6253\u5f00OctoPrint\u4e2d\u7684\u201c\u63a7\u5236\uff08control\uff09\u201d\u5b50\u9875\u9762\uff0c\u8fdb\u884c\u4e09\u8f74\u7684\u5f52\u96f6\uff0c\u7136\u540e\u7528OctoPrint\u5185\u7684\u624b\u8c03\u6309\u94ae\u5c06\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002 \u63a2\u9488\u4e0b\u65b9\u7684\u70ed\u5e8a\u4e0a\u8d34\u4e0a\u4e00\u7247\u7f8e\u7eb9\u7eb8\uff08\u6216\u7c7b\u4f3c\u7684\u8584\u7247\uff09\u3002\u8f6c\u5230OctoPrint\u7684\u201c\u547d\u4ee4\u884c\uff08Terminal\uff09\u201d\u5b50\u9875\uff0c\u8f93\u5165PROBE \u547d\u4ee4\u5e76\u56de\u8f66\uff1a PROBE \u5728\u63a2\u9488\u6b63\u4e0b\u65b9\u7684\u7f8e\u7eb9\u7eb8\u4e0a\uff0c\u7528\u8bb0\u53f7\u7b14\u6807\u6ce8\u63a2\u9488\u89e6\u53d1\u7684\u4f4d\u7f6e\uff08\u6216\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5\u8bb0\u5f55\u4e0b\u63a2\u9488\u89e6\u53d1\u65f6\u7684\u7269\u7406\u4f4d\u7f6e\uff09\u3002 \u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 GET_POSITION \u547d\u4ee4\uff0c\u56de\u8f66\uff0c\u8bb0\u5f55\u4e0b\u6b64\u65f6\u6253\u5370\u5934\u7684XY\u4f4d\u7f6e\u3002\u8f93\u51fa\u5982\u4e0b\uff1a Recv: // toolhead: X:46.500000 Y:27.000000 Z:15.000000 E:0.000000 \u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u63a2\u9488\u89e6\u53d1\u7684X\u5750\u6807\u4e3a46.5\uff0cY\u5750\u6807\u4e3a27\u3002 \u8bb0\u5f55\u4e0b\u4e0a\u8ff0\u7684\u5750\u6807\u540e\uff0c\u5728\u547d\u4ee4\u884c\u4f7f\u7528\u4e00\u7cfb\u5217\u7684 G1 \u547d\u4ee4\uff0c\u4f7f\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u8bb0\u53f7\u7684\u6b63\u4e0a\u65b9\u3002\u4f8b\u5982\uff1a G1 F300 X57 Y30 Z15 \u5c06\u55b7\u5634\u79fb\u52a8\u5230X 57\uff0c Y 30\u4e0a\u3002\u5f53\u55b7\u5634\u7684\u4f4d\u7f6e\u521a\u597d\u4f4d\u4e8e\u51e0\u53f7\u4e0a\u65f6\uff0c\u5728\u547d\u4ee4\u884c\u952e\u5165 GET_POSITION \u83b7\u5f97\u6b64\u65f6\u55b7\u5634\u6240\u5728\u7684\u5750\u6807\u3002 X\u504f\u79fb\u503c\u4e3a \u55b7\u5634X\u5750\u6807\u503c - \u63a2\u9488X\u5750\u6807\u503c \uff0c \u7c7b\u4f3c\u5730\uff0c Y\u504f\u79fb\u503c\u4e3a \u55b7\u5634Y\u5750\u6807\u503c - \u63a2\u9488Y\u5750\u6807\u503c \u3002\u5c06\u4e0a\u8ff0\u6570\u503c\u66f4\u65b0\u5230printer.cfg\u6587\u4ef6\u5185\uff0c\u6380\u6389\u70ed\u5e8a\u4e0a\u7684\u7f8e\u7eb9\u7eb8/\u80f6\u5e26\uff0c\u5e76\u91cd\u542fKlipper\u4ee5\u4f7f\u8bbe\u7f6e\u751f\u6548\u3002 \u63a2\u9488Z\u504f\u79fb\u503c\u6821\u51c6 \u00b6 \u51c6\u786e\u7684\u63a2\u9488 z \u504f\u79fb(z_offset)\u662f\u9ad8\u8d28\u91cf\u6253\u5370\u7684\u57fa\u7840\u3002z \u504f\u79fb\u662f\u63a2\u9488\u89e6\u53d1\u65f6\u63a2\u9488\u548c\u55b7\u5634\u4e4b\u95f4\u7684\u9ad8\u5ea6\u5dee\u3002Klipper \u4e2d\u7684 PROBE_CALIBRATE \uff08\u63a2\u9488\u6821\u51c6\uff09\u5de5\u5177\u53ef\u7528\u4e8e\u6d4b\u91cf\u8fd9\u4e2a\u503c\u2014\u2014\u9996\u5148\uff0c\u8be5\u5de5\u5177\u4f1a\u8fd0\u884c\u4e00\u6b21\u81ea\u52a8\u63a2\u6d4b\u4ee5\u83b7\u53d6\u63a2\u9488\u7684 z \u89e6\u53d1\u4f4d\u7f6e\uff0c\u7136\u540e\u9700\u8981\u624b\u52a8\u8c03\u6574Z\u5750\u6807\u4ee5\u83b7\u53d6\u55b7\u5634\u78b0\u89e6\u5230\u70ed\u5e8a\u65f6\u7684 z \u9ad8\u5ea6\u3002\u7136\u540e\u5c06\u6839\u636e\u8fd9\u4e9b\u6d4b\u91cf\u503c\u8ba1\u7b97\u63a2\u9488\u7684 z \u504f\u79fb\u3002 \u9996\u5148\u8fdb\u884c\u4e09\u8f74\u7684\u5f52\u96f6\uff0c\u7136\u540e\u5c06\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u8f6c\u5230OctoPrint\u7684\u201c\u547d\u4ee4\u884c\uff08Terminal\uff09\u201d\u5b50\u9875\uff0c\u8f93\u5165 PROBE_CALIBRATE \u4ee5\u542f\u52a8z_offset\u6821\u51c6\u5de5\u5177\u3002 \u5de5\u5177\u9996\u5148\u4f1a\u4ee4\u63a2\u9488\u8fdb\u884c\u4e00\u6b21\u81ea\u52a8\u63a2\u6d4b\uff0c\u83b7\u53d6\u89e6\u53d1\u63a2\u9488\u7684z\u4f4d\u7f6e\uff0c\u4e4b\u540e\uff0c\u63a7\u5236\u55b7\u5634\u4e0a\u5347\uff0c\u5e76\u5c06\u55b7\u5634\u7684X/Y\u4f4d\u7f6e\u79fb\u52a8\u5230\u63a2\u9488\u5bf9\u5e94\u4f4d\u7f6e\u4e0a\uff0c\u5e76\u5f00\u59cb\u624b\u52a8\u8c03\u5e73\u6d41\u7a0b\u3002\u5982\u679c\u55b7\u5634\u6ca1\u6709\u79fb\u52a8\u5230\u63a2\u9488\u8fdb\u884c\u81ea\u52a8\u63a2\u6d4b\u7684\u4f4d\u7f6e\uff0c\u8f93\u5165 ABORT \u4ee5\u505c\u6b62\u624b\u52a8\u8c03\u5e73\uff0c\u5e76\u4e0a\u6587\u6839\u636eX\u3001y\u504f\u79fb\u6821\u51c6\u6d41\u7a0b\u8fdb\u884c\u63a2\u9488X\u3001Y\u6821\u51c6\u3002 \u8fdb\u5165\u624b\u52a8\u8c03\u5e73\u7684\u8fc7\u7a0b\u540e\uff0c\u8bf7\u6309\u7167 \u201c\u7eb8\u7247\u6d4b\u8bd5\u201d \u7684\u6d41\u7a0b\uff0c\u786e\u5b9a\u5728\u63a2\u9488\u63a2\u6d4b\u4f4d\u7f6e\u4e0a\uff0c\u55b7\u5634\u4e0e\u70ed\u5e8a\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u5b8c\u6210\u4e0a\u8ff0\u6d41\u7a0b\u540e\uff0c\u4f7f\u7528 ACCEPT \u547d\u4ee4\u5c06\u6d4b\u91cf\u5230\u7684z_offset\u5e94\u7528\u5230\u5f53\u524d\u914d\u7f6e\uff0c\u5982\u9700\u8981\u4fdd\u5b58\u914d\u7f6e\u5230\u6587\u4ef6\uff0c\u5219\u952e\u5165\uff1a SAVE_CONFIG \u6ce8\u610f\uff01\u5982\u679c\u4fee\u6539\u4e86\u6253\u5370\u673a\u7684\u8fd0\u52a8\u7cfb\u7edf\u3001\u55b7\u5634\u4f4d\u7f6e\u6216\u63a2\u9488\u4f4d\u7f6e\u4e2d\u7684\u4efb\u610f\u4e00\u9879\uff0cPROBE_CALIBRATE\u7684\u7ed3\u679c\u5c06\u4f1a\u9700\u8981\u91cd\u65b0\u6d4b\u91cf\u3002 \u5982\u679c\u63a2\u9488\u7684\u7269\u7406X\u3001Y\u504f\u79fb\u91cf\uff0c\u6216\u70ed\u5e8a\u7684\u503e\u659c\u5ea6\u53d1\u751f\u53d8\u5316\uff08\u5982 \u8c03\u6574\u4e86\u70ed\u5e8a\u8c03\u5e73\u87ba\u6bcd\uff0c\u8fdb\u884cDELTA_CALIBRATE\uff0c\u8fdb\u884cZ_TILT_ADJUST\uff0c\u8fdb\u884cQUAD_GANTRY_LEVEL\u6216\u5176\u4ed6\u884c\u4e3a\uff09\uff0c\u4e5f\u5e94\u8fdb\u884c\u4e00\u6b21PROBE_CALiRATE\u3002 \u4e0a\u8ff0\u4f7fPROBE_CALIBRATE\u7ed3\u679c\u5931\u6548\u7684\u884c\u4e3a\uff0c\u540c\u6837\u4f1a\u4f7f\u4f7f\u7528\u63a2\u9488\u6d4b\u91cf\u7684 \u5e8a\u7f51 \u7ed3\u679c\u5931\u6548\u3002\u63a8\u8350\u5728\u5b8c\u6210PROBE_CALIBRATE\u540e\u518d\u8fdb\u884c\u4e00\u6b21BED_MESH_CALIBRATE\u3002 \u91cd\u590d\u6027\u6d4b\u8bd5 \u00b6 \u5728\u5b8c\u6210\u63a2\u9488\u7684X\u3001Y\u3001Z\u504f\u79fb\u7684\u6821\u51c6\u540e\uff0c\u63a8\u8350\u8fdb\u884c\u63a2\u9488\u7684\u91cd\u590d\u6027\u6d4b\u8bd5\u3002\u9996\u5148\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u4e09\u5468\u5f52\u96f6\uff0c\u7136\u540e\u5c06\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u8fdb\u5165OctoPrint\u7684\u547d\u4ee4\u884c\u754c\u9762\uff0c\u6267\u884c PROBE_ACCURACY \u547d\u4ee4\u3002 \u8be5\u547d\u4ee4\u4f1a\u5c31\u5730\u8fdb\u884c10\u6b21\u63a2\u9488\u6d4b\u91cf\uff0c\u5e76\u8f93\u51fa\u7c7b\u4f3c\u4e0b\u65b9\u7684\u7ed3\u679c\uff1a Recv: // probe accuracy: at X:0.000 Y:0.000 Z:10.000 Recv: // and read 10 times with speed of 5 mm/s Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe accuracy results: maximum 2.519448, minimum 2.506948, range 0.012500, average 2.513198, median 2.513198, standard deviation 0.006250 \u7406\u60f3\u72b6\u51b5\u4e0b\uff0c\u4f7f\u7528\u63a2\u9488\u6d4b\u91cf\u7684\u6240\u6709\u7ed3\u679c\u5e94\u8be5\u4e00\u81f4\uff08\u4e5f\u5c31\u662f10\u6b21\u6d4b\u91cf\u7684\u7ed3\u679c\u4e3a\u540c\u4e00\u503c\uff09\u3002\u7136\u800c\uff0c\u6d4b\u91cf\u7ed3\u679c\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u4e4b\u95f4\u5dee\u8ddd \u201c\u4e00\u4e2az\u7535\u673a\u6b65\u957f\u201d\u62165\u5fae\u7c73\uff0c\u4e5f\u662f\u6b63\u5e38\u7684\u60c5\u51b5\u3002\u4e00\u4e2a\u201c\u7535\u673a\u6b65\u957f\u201d\u662f \u65cb\u8f6c\u4e00\u5468\u7684\u957f\u5ea6/(\u65cb\u8f6c\u4e00\u5468\u9700\u8981\u7684\u6b65\u6570*\u9a71\u52a8\u5fae\u6b65\u8bbe\u7f6e) \u3002\u6d4b\u91cf\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u7684\u5dee\u503c\u79f0\u4e3a\u504f\u5dee\u8303\u56f4\u3002\u6545\u5728\u4e0a\u8ff0\u7684\u4f8b\u5b50\u4e2d\uff0c\u56e0\u4e3a\u6253\u5370\u673a\u7684z\u6b65\u957f\u4e3a0.0125\uff0c\u56e0\u6b64\u8bef\u5dee\u8303\u56f4\u57280.012500mm\u53ef\u4ee5\u8ba4\u4e3a\u662f\u6b63\u5e38\u503c\u3002 \u5982\u679c\u6d4b\u8bd5\u7ed3\u679c\u663e\u793a\u8303\u56f4(range)\u503c\u5927\u4e8e25\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\uff0c\u90a3\u4e48\u63a2\u9488\u4e0d\u6ee1\u8db3\u5178\u578b\u7684\u5e8a\u9762\u8c03\u5e73\u6d41\u7a0b\u7684\u7cbe\u786e\u5ea6\u8981\u6c42\u3002\u53ef\u4ee5\u5c1d\u8bd5\u8c03\u6574\u63a2\u6d4b\u901f\u5ea6\u548c/\u6216\u63a2\u6d4b\u8d77\u70b9\u9ad8\u5ea6\u4ee5\u63d0\u9ad8\u63a2\u5934\u7684\u91cd\u590d\u6027\u3002 PROBE_ACCURACY \u547d\u4ee4\u5141\u8bb8\u4f7f\u7528\u4e0d\u540c\u7684\u53c2\u6570\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4ee5\u4e86\u89e3\u5b83\u4eec\u7684\u5f71\u54cd - \u8bf7\u53c2\u9605 G-Code\u6587\u6863 \u4e86\u89e3\u66f4\u591a\u7ec6\u8282\u3002\u5982\u679c\u63a2\u9488\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u80fd\u83b7\u5f97\u53ef\u91cd\u590d\u7684\u7ed3\u679c\uff0c\u4f46\u5076\u5c14\u4f1a\u51fa\u73b0\u5f02\u5e38\u503c\uff0c\u90a3\u4e48\u53ef\u4ee5\u589e\u52a0\u5728\u6bcf\u4e2a\u63a2\u6d4b\u70b9\u7684\u63a2\u6d4b\u6b21\u6570\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898--\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \u4e2d\u5173\u4e8e\u63a2\u9488 samples \u914d\u7f6e\u53c2\u6570\u7684\u63cf\u8ff0\u3002 \u8981\u66f4\u6539\u63a2\u9488\u6d4b\u8bd5\u901f\u5ea6\uff0c\u91cd\u590d\u91c7\u6837\u6216\u5176\u4ed6\u8bbe\u7f6e\uff0c\u5e94\u5728\u4fee\u6539printer.cfg\u4f7f\u7528 RESTART \u547d\u4ee4\u4ee5\u5e94\u7528\u4fee\u6539\u503c\u3002\u63a8\u8350\u5728\u4f7f\u7528\u65b0\u8bbe\u7f6e\u503c\u540e\u518d\u8fdb\u884c\u4e00\u6b21 Z\u504f\u79fb\u6821\u51c6 \u3002\u5982\u679c\u91cd\u590d\u6027\u6d4b\u8bd5\u7ed3\u8bba\u4e0d\u80fd\u63a5\u53d7\uff0c\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u81ea\u52a8\u70ed\u5e8a\u8c03\u5e73\u529f\u80fd\u3002Klipper\u63d0\u4f9b\u4e86\u6570\u79cd\u624b\u52a8\u8c03\u5e73\u7684\u5de5\u5177\uff0c\u8be6\u60c5\u8bf7\u89c1 \u6253\u5370\u5e8a\u8c03\u5e73 \u3002 \u5c40\u90e8\u504f\u5dee\u786e\u5b9a \u00b6 \u4e00\u4e9b\u63a2\u9488\u53ef\u80fd\u5177\u6709\u4e0e\u4f4d\u7f6e\u76f8\u5173\u7684\u7cfb\u7edf\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u7531\u4e8e\u63a2\u9488\u5b89\u88c5\u5931\u8bef\uff0c\u63a2\u9488\u6cbfY\u8f74\u79fb\u52a8\u4f1a\u4ea7\u751f\u503e\u659c\uff0c\u90a3\u4e48\u63a2\u9488\u5728\u6cbfY\u8f74\u8fdb\u884c\u6d4b\u91cf\u5f97\u51fa\u7684\u7ed3\u679c\u4f1a\u5b58\u5728\u504f\u5dee\u3002 \u4e0a\u8ff0\u72b6\u51b5\u5f80\u5f80\u51fa\u73b0\u5728\u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\uff0c\u7136\u800c\uff0c\u6240\u6709\u6253\u5370\u673a\u5747\u6709\u53ef\u80fd\u53d1\u751f\u4e0a\u8ff0\u72b6\u51b5\u3002 \u6211\u4eec\u53ef\u4ee5\u5728\u4e0d\u540c\u7684XY\u4f4d\u7f6e\u4e0a\u4f7f\u7528 PROBE_CALIBRATE \u547d\u4ee4\u6d4b\u91cfz_offset\u6765\u786e\u5b9a\u4f4d\u7f6e\u504f\u5dee\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0cz_offset\u5728\u4efb\u610f\u4f4d\u7f6e\u5747\u4e3a\u540c\u4e00\u8bfb\u503c\u3002 \u5bf9\u4e8e\u4e09\u89d2\u6d32\u6253\u5370\u673a\uff0c\u8bf7\u5c1d\u8bd5\u4f9d\u6b21\u5728\u9760\u8fd1A\u67f1\u3001B\u67f1\u548cC\u67f1\u7684\u4f4d\u7f6e\u6d4b\u91cfz_offset\u3002\u5bf9\u4e8e\u9f99\u95e8\u3001corexy\u6216\u7c7b\u4f3c\u7ed3\u6784\u6253\u5370\u673a\uff0c\u5c1d\u8bd5\u5728\u70ed\u5e8a\u7684\u56db\u4e2a\u89d2\u8fdb\u884cz_offset\u7684\u6d4b\u91cf\u3002 \u5728\u8fdb\u884c\u4e0a\u8ff0\u6d4b\u8bd5\u524d\uff0c\u5e94\u5148\u6309\u7167\u672c\u6587\u6863\u7684\u5f00\u5934\u90e8\u5206\u5bf9X\u3001Y\u3001Z\u7684\u504f\u79fb\u503c\u8fdb\u884c\u6821\u51c6\uff0c\u7136\u540e\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u5f52\u96f6\uff0c\u5e76\u5c06\u63a2\u9488\u79fb\u52a8\u5230\u9996\u4e2a\u76ee\u6807XY\u4f4d\u7f6e\u3002\u6309\u7167 \u63a2\u9488Z\u504f\u79fb\u503c\u6821\u51c6 \u7684\u6b65\u9aa4\uff0c\u8fd0\u884c PROBE_CALIBRATE \uff0c\u91cd\u590d\u591a\u6b21 TESTZ \u547d\u4ee4\uff0c\u5e76\u5728\u55b7\u5634\u89e6\u5e8a\u65f6\u4f7f\u7528 ACCEPT \u547d\u4ee4\uff0c\u4f46\u662f \u5207\u52ff\u4f7f\u7528 SAVE_CONFIG \u3002\u624b\u52a8\u8bb0\u4e0b\u6b64\u65f6\u7684z_offset \u3002\u4e4b\u540e\u5c06\u63a2\u9488\u79fb\u52a8\u5230\u5176\u4ed6XY\u4f4d\u7f6e\uff0c\u91cd\u590d\u4e0a\u8ff0\u7684 PROBE_CALIBRATE \u6b65\u9aa4\uff0c\u5e76\u5206\u522b\u8bb0\u4e0bz_offset\u3002 \u5982\u679c\u4e0a\u8ff0\u65b9\u6cd5\u4e2d\u6d4b\u51fa\u7684\u6700\u5927z_offset \u548c\u6700\u5c0fz_offset \u4e4b\u95f4\u7684\u5dee\u503c\u5927\u4e8e25\u5fae\u7c73\uff08.025mm\uff09\uff0c\u5219\u8be5\u63a2\u9488\u4e0d\u9002\u7528\u4e8e\u5e38\u89c4\u7684\u70ed\u5e8a\u8c03\u5e73\u3002\u6b64\u65f6\u5e94\u53c2\u7167 \u70ed\u5e8a\u8c03\u5e73 \u6587\u6863\u7684\u624b\u52a8\u8c03\u5e73\u90e8\u5206\u8fdb\u884c\u8c03\u5e73\u3002 \u6e29\u5ea6\u504f\u5dee \u00b6 \u5bf9\u4e8e\u591a\u79cd\u5f62\u5f0f\u7684\u63a2\u9488\uff0c\u5728\u4e0d\u540c\u7684\u6e29\u5ea6\u4e0b\u5de5\u4f5c\u5747\u5177\u6709\u4e00\u5b9a\u7684\u7cfb\u7edf\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u5728\u9ad8\u6e29\u4e0b\uff0c\u63a2\u9488\u53ef\u80fd\u603b\u662f\u5728\u66f4\u4f4e\u7684\u9ad8\u5ea6\u4e0b\u89e6\u53d1\u3002 \u9488\u5bf9\u8fd9\u79cd\u504f\u5dee\uff0c\u5efa\u8bae\u5728\u6052\u5b9a\u7684\u6e29\u5ea6\u4e0b\u8fdb\u884c\u70ed\u5e8a\u8c03\u5e73\u3002\u5373\uff0c\u8981\u4e48\u603b\u662f\u5728\u5ba4\u6e29\u4e0b\u8fdb\u884c\u5e8a\u7f51\u6d4b\u91cf\uff0c\u8981\u4e48\u603b\u8981\u5728\u5de5\u4f5c\u6e29\u5ea6\u4e0b\u8fdb\u884c\u3002\u65e0\u8bba\u91c7\u53d6\u54ea\u79cd\u65b9\u6848\uff0c\u90fd\u63a8\u8350\u5728\u8fbe\u5230\u76ee\u6807\u6e29\u5ea6\u6570\u5206\u949f\u540e\u518d\u8fdb\u884c\u6d4b\u91cf\uff0c\u4ee5\u4fbf\u6253\u5370\u673a\u59cb\u7ec8\u5904\u4e8e\u76ee\u6807\u6e29\u5ea6\u3002 \u8981\u6d4b\u91cf\u6e29\u5ea6\u504f\u5dee\uff0c\u9996\u5148\u786e\u4fdd\u6253\u5370\u673a\u5904\u4e8e\u5ba4\u6e29\uff0c\u5bf9\u4e09\u8f74\u8fdb\u884c\u5f52\u96f6\uff0c\u7136\u540e\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u70ed\u5e8a\u4e2d\u592e\uff0c\u8fd0\u884c PROBE_ACCURACY \u547d\u4ee4\u3002\u8bb0\u4e0b\u6b64\u65f6\u7684\u8bfb\u6570\u3002\u4e4b\u540e\uff0c\u5728\u4e0d\u5f52\u96f6\u6216\u5173\u95ed\u7535\u673a\u7684\u60c5\u51b5\u4e0b\uff0c\u52a0\u70ed\u55b7\u5634\u548c\u70ed\u5e8a\u5230\u5de5\u4f5c\u6e29\u5ea6\uff0c\u5e76\u518d\u6b21\u8fd0\u884c PROBE_ACCURACY \u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u4e24\u6b21\u63a2\u9488\u6d4b\u91cf\u4f1a\u5f97\u51fa\u76f8\u540c\u7684\u7ed3\u679c\u3002\u4f46\u82e5\u6e29\u5ea6\u504f\u5dee\u5b58\u5728\uff0c\u5efa\u8bae\u6bcf\u6b21\u8fbe\u5230\u5de5\u4f5c\u6e29\u5ea6\u540e\u518d\u8fdb\u884c\u6d4b\u91cf\u3002","title":"\u63a2\u9488\u6821\u51c6"},{"location":"Probe_Calibrate.html#_1","text":"\u672c\u6587\u6863\u4ecb\u7ecd\u4e86\u5728 Klipper \u4e2d\u6821\u51c6\"\u81ea\u52a8 Z \u63a2\u9488\" X\u3001Y \u548c Z \u504f\u79fb\u7684\u6d41\u7a0b\u3002\u8fd9\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u5177\u6709 [probe] \u6216 [bltouch] \u90e8\u5206\u7684\u6253\u5370\u673a\u975e\u5e38\u6709\u7528\u3002","title":"\u63a2\u9488\u6821\u51c6"},{"location":"Probe_Calibrate.html#xy","text":"\u4e3a\u6821\u6b63X\u3001Y\u504f\u79fb\u503c\uff0c\u9996\u5148\u6253\u5f00OctoPrint\u4e2d\u7684\u201c\u63a7\u5236\uff08control\uff09\u201d\u5b50\u9875\u9762\uff0c\u8fdb\u884c\u4e09\u8f74\u7684\u5f52\u96f6\uff0c\u7136\u540e\u7528OctoPrint\u5185\u7684\u624b\u8c03\u6309\u94ae\u5c06\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002 \u63a2\u9488\u4e0b\u65b9\u7684\u70ed\u5e8a\u4e0a\u8d34\u4e0a\u4e00\u7247\u7f8e\u7eb9\u7eb8\uff08\u6216\u7c7b\u4f3c\u7684\u8584\u7247\uff09\u3002\u8f6c\u5230OctoPrint\u7684\u201c\u547d\u4ee4\u884c\uff08Terminal\uff09\u201d\u5b50\u9875\uff0c\u8f93\u5165PROBE \u547d\u4ee4\u5e76\u56de\u8f66\uff1a PROBE \u5728\u63a2\u9488\u6b63\u4e0b\u65b9\u7684\u7f8e\u7eb9\u7eb8\u4e0a\uff0c\u7528\u8bb0\u53f7\u7b14\u6807\u6ce8\u63a2\u9488\u89e6\u53d1\u7684\u4f4d\u7f6e\uff08\u6216\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5\u8bb0\u5f55\u4e0b\u63a2\u9488\u89e6\u53d1\u65f6\u7684\u7269\u7406\u4f4d\u7f6e\uff09\u3002 \u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 GET_POSITION \u547d\u4ee4\uff0c\u56de\u8f66\uff0c\u8bb0\u5f55\u4e0b\u6b64\u65f6\u6253\u5370\u5934\u7684XY\u4f4d\u7f6e\u3002\u8f93\u51fa\u5982\u4e0b\uff1a Recv: // toolhead: X:46.500000 Y:27.000000 Z:15.000000 E:0.000000 \u6b64\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u77e5\u9053\u63a2\u9488\u89e6\u53d1\u7684X\u5750\u6807\u4e3a46.5\uff0cY\u5750\u6807\u4e3a27\u3002 \u8bb0\u5f55\u4e0b\u4e0a\u8ff0\u7684\u5750\u6807\u540e\uff0c\u5728\u547d\u4ee4\u884c\u4f7f\u7528\u4e00\u7cfb\u5217\u7684 G1 \u547d\u4ee4\uff0c\u4f7f\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u8bb0\u53f7\u7684\u6b63\u4e0a\u65b9\u3002\u4f8b\u5982\uff1a G1 F300 X57 Y30 Z15 \u5c06\u55b7\u5634\u79fb\u52a8\u5230X 57\uff0c Y 30\u4e0a\u3002\u5f53\u55b7\u5634\u7684\u4f4d\u7f6e\u521a\u597d\u4f4d\u4e8e\u51e0\u53f7\u4e0a\u65f6\uff0c\u5728\u547d\u4ee4\u884c\u952e\u5165 GET_POSITION \u83b7\u5f97\u6b64\u65f6\u55b7\u5634\u6240\u5728\u7684\u5750\u6807\u3002 X\u504f\u79fb\u503c\u4e3a \u55b7\u5634X\u5750\u6807\u503c - \u63a2\u9488X\u5750\u6807\u503c \uff0c \u7c7b\u4f3c\u5730\uff0c Y\u504f\u79fb\u503c\u4e3a \u55b7\u5634Y\u5750\u6807\u503c - \u63a2\u9488Y\u5750\u6807\u503c \u3002\u5c06\u4e0a\u8ff0\u6570\u503c\u66f4\u65b0\u5230printer.cfg\u6587\u4ef6\u5185\uff0c\u6380\u6389\u70ed\u5e8a\u4e0a\u7684\u7f8e\u7eb9\u7eb8/\u80f6\u5e26\uff0c\u5e76\u91cd\u542fKlipper\u4ee5\u4f7f\u8bbe\u7f6e\u751f\u6548\u3002","title":"\u63a2\u9488X/Y\u504f\u79fb\u6821\u51c6"},{"location":"Probe_Calibrate.html#z","text":"\u51c6\u786e\u7684\u63a2\u9488 z \u504f\u79fb(z_offset)\u662f\u9ad8\u8d28\u91cf\u6253\u5370\u7684\u57fa\u7840\u3002z \u504f\u79fb\u662f\u63a2\u9488\u89e6\u53d1\u65f6\u63a2\u9488\u548c\u55b7\u5634\u4e4b\u95f4\u7684\u9ad8\u5ea6\u5dee\u3002Klipper \u4e2d\u7684 PROBE_CALIBRATE \uff08\u63a2\u9488\u6821\u51c6\uff09\u5de5\u5177\u53ef\u7528\u4e8e\u6d4b\u91cf\u8fd9\u4e2a\u503c\u2014\u2014\u9996\u5148\uff0c\u8be5\u5de5\u5177\u4f1a\u8fd0\u884c\u4e00\u6b21\u81ea\u52a8\u63a2\u6d4b\u4ee5\u83b7\u53d6\u63a2\u9488\u7684 z \u89e6\u53d1\u4f4d\u7f6e\uff0c\u7136\u540e\u9700\u8981\u624b\u52a8\u8c03\u6574Z\u5750\u6807\u4ee5\u83b7\u53d6\u55b7\u5634\u78b0\u89e6\u5230\u70ed\u5e8a\u65f6\u7684 z \u9ad8\u5ea6\u3002\u7136\u540e\u5c06\u6839\u636e\u8fd9\u4e9b\u6d4b\u91cf\u503c\u8ba1\u7b97\u63a2\u9488\u7684 z \u504f\u79fb\u3002 \u9996\u5148\u8fdb\u884c\u4e09\u8f74\u7684\u5f52\u96f6\uff0c\u7136\u540e\u5c06\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u8f6c\u5230OctoPrint\u7684\u201c\u547d\u4ee4\u884c\uff08Terminal\uff09\u201d\u5b50\u9875\uff0c\u8f93\u5165 PROBE_CALIBRATE \u4ee5\u542f\u52a8z_offset\u6821\u51c6\u5de5\u5177\u3002 \u5de5\u5177\u9996\u5148\u4f1a\u4ee4\u63a2\u9488\u8fdb\u884c\u4e00\u6b21\u81ea\u52a8\u63a2\u6d4b\uff0c\u83b7\u53d6\u89e6\u53d1\u63a2\u9488\u7684z\u4f4d\u7f6e\uff0c\u4e4b\u540e\uff0c\u63a7\u5236\u55b7\u5634\u4e0a\u5347\uff0c\u5e76\u5c06\u55b7\u5634\u7684X/Y\u4f4d\u7f6e\u79fb\u52a8\u5230\u63a2\u9488\u5bf9\u5e94\u4f4d\u7f6e\u4e0a\uff0c\u5e76\u5f00\u59cb\u624b\u52a8\u8c03\u5e73\u6d41\u7a0b\u3002\u5982\u679c\u55b7\u5634\u6ca1\u6709\u79fb\u52a8\u5230\u63a2\u9488\u8fdb\u884c\u81ea\u52a8\u63a2\u6d4b\u7684\u4f4d\u7f6e\uff0c\u8f93\u5165 ABORT \u4ee5\u505c\u6b62\u624b\u52a8\u8c03\u5e73\uff0c\u5e76\u4e0a\u6587\u6839\u636eX\u3001y\u504f\u79fb\u6821\u51c6\u6d41\u7a0b\u8fdb\u884c\u63a2\u9488X\u3001Y\u6821\u51c6\u3002 \u8fdb\u5165\u624b\u52a8\u8c03\u5e73\u7684\u8fc7\u7a0b\u540e\uff0c\u8bf7\u6309\u7167 \u201c\u7eb8\u7247\u6d4b\u8bd5\u201d \u7684\u6d41\u7a0b\uff0c\u786e\u5b9a\u5728\u63a2\u9488\u63a2\u6d4b\u4f4d\u7f6e\u4e0a\uff0c\u55b7\u5634\u4e0e\u70ed\u5e8a\u4e4b\u95f4\u7684\u8ddd\u79bb\u3002\u5b8c\u6210\u4e0a\u8ff0\u6d41\u7a0b\u540e\uff0c\u4f7f\u7528 ACCEPT \u547d\u4ee4\u5c06\u6d4b\u91cf\u5230\u7684z_offset\u5e94\u7528\u5230\u5f53\u524d\u914d\u7f6e\uff0c\u5982\u9700\u8981\u4fdd\u5b58\u914d\u7f6e\u5230\u6587\u4ef6\uff0c\u5219\u952e\u5165\uff1a SAVE_CONFIG \u6ce8\u610f\uff01\u5982\u679c\u4fee\u6539\u4e86\u6253\u5370\u673a\u7684\u8fd0\u52a8\u7cfb\u7edf\u3001\u55b7\u5634\u4f4d\u7f6e\u6216\u63a2\u9488\u4f4d\u7f6e\u4e2d\u7684\u4efb\u610f\u4e00\u9879\uff0cPROBE_CALIBRATE\u7684\u7ed3\u679c\u5c06\u4f1a\u9700\u8981\u91cd\u65b0\u6d4b\u91cf\u3002 \u5982\u679c\u63a2\u9488\u7684\u7269\u7406X\u3001Y\u504f\u79fb\u91cf\uff0c\u6216\u70ed\u5e8a\u7684\u503e\u659c\u5ea6\u53d1\u751f\u53d8\u5316\uff08\u5982 \u8c03\u6574\u4e86\u70ed\u5e8a\u8c03\u5e73\u87ba\u6bcd\uff0c\u8fdb\u884cDELTA_CALIBRATE\uff0c\u8fdb\u884cZ_TILT_ADJUST\uff0c\u8fdb\u884cQUAD_GANTRY_LEVEL\u6216\u5176\u4ed6\u884c\u4e3a\uff09\uff0c\u4e5f\u5e94\u8fdb\u884c\u4e00\u6b21PROBE_CALiRATE\u3002 \u4e0a\u8ff0\u4f7fPROBE_CALIBRATE\u7ed3\u679c\u5931\u6548\u7684\u884c\u4e3a\uff0c\u540c\u6837\u4f1a\u4f7f\u4f7f\u7528\u63a2\u9488\u6d4b\u91cf\u7684 \u5e8a\u7f51 \u7ed3\u679c\u5931\u6548\u3002\u63a8\u8350\u5728\u5b8c\u6210PROBE_CALIBRATE\u540e\u518d\u8fdb\u884c\u4e00\u6b21BED_MESH_CALIBRATE\u3002","title":"\u63a2\u9488Z\u504f\u79fb\u503c\u6821\u51c6"},{"location":"Probe_Calibrate.html#_2","text":"\u5728\u5b8c\u6210\u63a2\u9488\u7684X\u3001Y\u3001Z\u504f\u79fb\u7684\u6821\u51c6\u540e\uff0c\u63a8\u8350\u8fdb\u884c\u63a2\u9488\u7684\u91cd\u590d\u6027\u6d4b\u8bd5\u3002\u9996\u5148\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u4e09\u5468\u5f52\u96f6\uff0c\u7136\u540e\u5c06\u55b7\u5634\u79fb\u52a8\u5230\u70ed\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u8fdb\u5165OctoPrint\u7684\u547d\u4ee4\u884c\u754c\u9762\uff0c\u6267\u884c PROBE_ACCURACY \u547d\u4ee4\u3002 \u8be5\u547d\u4ee4\u4f1a\u5c31\u5730\u8fdb\u884c10\u6b21\u63a2\u9488\u6d4b\u91cf\uff0c\u5e76\u8f93\u51fa\u7c7b\u4f3c\u4e0b\u65b9\u7684\u7ed3\u679c\uff1a Recv: // probe accuracy: at X:0.000 Y:0.000 Z:10.000 Recv: // and read 10 times with speed of 5 mm/s Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe accuracy results: maximum 2.519448, minimum 2.506948, range 0.012500, average 2.513198, median 2.513198, standard deviation 0.006250 \u7406\u60f3\u72b6\u51b5\u4e0b\uff0c\u4f7f\u7528\u63a2\u9488\u6d4b\u91cf\u7684\u6240\u6709\u7ed3\u679c\u5e94\u8be5\u4e00\u81f4\uff08\u4e5f\u5c31\u662f10\u6b21\u6d4b\u91cf\u7684\u7ed3\u679c\u4e3a\u540c\u4e00\u503c\uff09\u3002\u7136\u800c\uff0c\u6d4b\u91cf\u7ed3\u679c\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u4e4b\u95f4\u5dee\u8ddd \u201c\u4e00\u4e2az\u7535\u673a\u6b65\u957f\u201d\u62165\u5fae\u7c73\uff0c\u4e5f\u662f\u6b63\u5e38\u7684\u60c5\u51b5\u3002\u4e00\u4e2a\u201c\u7535\u673a\u6b65\u957f\u201d\u662f \u65cb\u8f6c\u4e00\u5468\u7684\u957f\u5ea6/(\u65cb\u8f6c\u4e00\u5468\u9700\u8981\u7684\u6b65\u6570*\u9a71\u52a8\u5fae\u6b65\u8bbe\u7f6e) \u3002\u6d4b\u91cf\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u7684\u5dee\u503c\u79f0\u4e3a\u504f\u5dee\u8303\u56f4\u3002\u6545\u5728\u4e0a\u8ff0\u7684\u4f8b\u5b50\u4e2d\uff0c\u56e0\u4e3a\u6253\u5370\u673a\u7684z\u6b65\u957f\u4e3a0.0125\uff0c\u56e0\u6b64\u8bef\u5dee\u8303\u56f4\u57280.012500mm\u53ef\u4ee5\u8ba4\u4e3a\u662f\u6b63\u5e38\u503c\u3002 \u5982\u679c\u6d4b\u8bd5\u7ed3\u679c\u663e\u793a\u8303\u56f4(range)\u503c\u5927\u4e8e25\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\uff0c\u90a3\u4e48\u63a2\u9488\u4e0d\u6ee1\u8db3\u5178\u578b\u7684\u5e8a\u9762\u8c03\u5e73\u6d41\u7a0b\u7684\u7cbe\u786e\u5ea6\u8981\u6c42\u3002\u53ef\u4ee5\u5c1d\u8bd5\u8c03\u6574\u63a2\u6d4b\u901f\u5ea6\u548c/\u6216\u63a2\u6d4b\u8d77\u70b9\u9ad8\u5ea6\u4ee5\u63d0\u9ad8\u63a2\u5934\u7684\u91cd\u590d\u6027\u3002 PROBE_ACCURACY \u547d\u4ee4\u5141\u8bb8\u4f7f\u7528\u4e0d\u540c\u7684\u53c2\u6570\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4ee5\u4e86\u89e3\u5b83\u4eec\u7684\u5f71\u54cd - \u8bf7\u53c2\u9605 G-Code\u6587\u6863 \u4e86\u89e3\u66f4\u591a\u7ec6\u8282\u3002\u5982\u679c\u63a2\u9488\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u80fd\u83b7\u5f97\u53ef\u91cd\u590d\u7684\u7ed3\u679c\uff0c\u4f46\u5076\u5c14\u4f1a\u51fa\u73b0\u5f02\u5e38\u503c\uff0c\u90a3\u4e48\u53ef\u4ee5\u589e\u52a0\u5728\u6bcf\u4e2a\u63a2\u6d4b\u70b9\u7684\u63a2\u6d4b\u6b21\u6570\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898--\u8be6\u89c1 \u914d\u7f6e\u53c2\u8003 \u4e2d\u5173\u4e8e\u63a2\u9488 samples \u914d\u7f6e\u53c2\u6570\u7684\u63cf\u8ff0\u3002 \u8981\u66f4\u6539\u63a2\u9488\u6d4b\u8bd5\u901f\u5ea6\uff0c\u91cd\u590d\u91c7\u6837\u6216\u5176\u4ed6\u8bbe\u7f6e\uff0c\u5e94\u5728\u4fee\u6539printer.cfg\u4f7f\u7528 RESTART \u547d\u4ee4\u4ee5\u5e94\u7528\u4fee\u6539\u503c\u3002\u63a8\u8350\u5728\u4f7f\u7528\u65b0\u8bbe\u7f6e\u503c\u540e\u518d\u8fdb\u884c\u4e00\u6b21 Z\u504f\u79fb\u6821\u51c6 \u3002\u5982\u679c\u91cd\u590d\u6027\u6d4b\u8bd5\u7ed3\u8bba\u4e0d\u80fd\u63a5\u53d7\uff0c\u5efa\u8bae\u4e0d\u8981\u4f7f\u7528\u81ea\u52a8\u70ed\u5e8a\u8c03\u5e73\u529f\u80fd\u3002Klipper\u63d0\u4f9b\u4e86\u6570\u79cd\u624b\u52a8\u8c03\u5e73\u7684\u5de5\u5177\uff0c\u8be6\u60c5\u8bf7\u89c1 \u6253\u5370\u5e8a\u8c03\u5e73 \u3002","title":"\u91cd\u590d\u6027\u6d4b\u8bd5"},{"location":"Probe_Calibrate.html#_3","text":"\u4e00\u4e9b\u63a2\u9488\u53ef\u80fd\u5177\u6709\u4e0e\u4f4d\u7f6e\u76f8\u5173\u7684\u7cfb\u7edf\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u7531\u4e8e\u63a2\u9488\u5b89\u88c5\u5931\u8bef\uff0c\u63a2\u9488\u6cbfY\u8f74\u79fb\u52a8\u4f1a\u4ea7\u751f\u503e\u659c\uff0c\u90a3\u4e48\u63a2\u9488\u5728\u6cbfY\u8f74\u8fdb\u884c\u6d4b\u91cf\u5f97\u51fa\u7684\u7ed3\u679c\u4f1a\u5b58\u5728\u504f\u5dee\u3002 \u4e0a\u8ff0\u72b6\u51b5\u5f80\u5f80\u51fa\u73b0\u5728\u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\uff0c\u7136\u800c\uff0c\u6240\u6709\u6253\u5370\u673a\u5747\u6709\u53ef\u80fd\u53d1\u751f\u4e0a\u8ff0\u72b6\u51b5\u3002 \u6211\u4eec\u53ef\u4ee5\u5728\u4e0d\u540c\u7684XY\u4f4d\u7f6e\u4e0a\u4f7f\u7528 PROBE_CALIBRATE \u547d\u4ee4\u6d4b\u91cfz_offset\u6765\u786e\u5b9a\u4f4d\u7f6e\u504f\u5dee\u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0cz_offset\u5728\u4efb\u610f\u4f4d\u7f6e\u5747\u4e3a\u540c\u4e00\u8bfb\u503c\u3002 \u5bf9\u4e8e\u4e09\u89d2\u6d32\u6253\u5370\u673a\uff0c\u8bf7\u5c1d\u8bd5\u4f9d\u6b21\u5728\u9760\u8fd1A\u67f1\u3001B\u67f1\u548cC\u67f1\u7684\u4f4d\u7f6e\u6d4b\u91cfz_offset\u3002\u5bf9\u4e8e\u9f99\u95e8\u3001corexy\u6216\u7c7b\u4f3c\u7ed3\u6784\u6253\u5370\u673a\uff0c\u5c1d\u8bd5\u5728\u70ed\u5e8a\u7684\u56db\u4e2a\u89d2\u8fdb\u884cz_offset\u7684\u6d4b\u91cf\u3002 \u5728\u8fdb\u884c\u4e0a\u8ff0\u6d4b\u8bd5\u524d\uff0c\u5e94\u5148\u6309\u7167\u672c\u6587\u6863\u7684\u5f00\u5934\u90e8\u5206\u5bf9X\u3001Y\u3001Z\u7684\u504f\u79fb\u503c\u8fdb\u884c\u6821\u51c6\uff0c\u7136\u540e\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u5f52\u96f6\uff0c\u5e76\u5c06\u63a2\u9488\u79fb\u52a8\u5230\u9996\u4e2a\u76ee\u6807XY\u4f4d\u7f6e\u3002\u6309\u7167 \u63a2\u9488Z\u504f\u79fb\u503c\u6821\u51c6 \u7684\u6b65\u9aa4\uff0c\u8fd0\u884c PROBE_CALIBRATE \uff0c\u91cd\u590d\u591a\u6b21 TESTZ \u547d\u4ee4\uff0c\u5e76\u5728\u55b7\u5634\u89e6\u5e8a\u65f6\u4f7f\u7528 ACCEPT \u547d\u4ee4\uff0c\u4f46\u662f \u5207\u52ff\u4f7f\u7528 SAVE_CONFIG \u3002\u624b\u52a8\u8bb0\u4e0b\u6b64\u65f6\u7684z_offset \u3002\u4e4b\u540e\u5c06\u63a2\u9488\u79fb\u52a8\u5230\u5176\u4ed6XY\u4f4d\u7f6e\uff0c\u91cd\u590d\u4e0a\u8ff0\u7684 PROBE_CALIBRATE \u6b65\u9aa4\uff0c\u5e76\u5206\u522b\u8bb0\u4e0bz_offset\u3002 \u5982\u679c\u4e0a\u8ff0\u65b9\u6cd5\u4e2d\u6d4b\u51fa\u7684\u6700\u5927z_offset \u548c\u6700\u5c0fz_offset \u4e4b\u95f4\u7684\u5dee\u503c\u5927\u4e8e25\u5fae\u7c73\uff08.025mm\uff09\uff0c\u5219\u8be5\u63a2\u9488\u4e0d\u9002\u7528\u4e8e\u5e38\u89c4\u7684\u70ed\u5e8a\u8c03\u5e73\u3002\u6b64\u65f6\u5e94\u53c2\u7167 \u70ed\u5e8a\u8c03\u5e73 \u6587\u6863\u7684\u624b\u52a8\u8c03\u5e73\u90e8\u5206\u8fdb\u884c\u8c03\u5e73\u3002","title":"\u5c40\u90e8\u504f\u5dee\u786e\u5b9a"},{"location":"Probe_Calibrate.html#_4","text":"\u5bf9\u4e8e\u591a\u79cd\u5f62\u5f0f\u7684\u63a2\u9488\uff0c\u5728\u4e0d\u540c\u7684\u6e29\u5ea6\u4e0b\u5de5\u4f5c\u5747\u5177\u6709\u4e00\u5b9a\u7684\u7cfb\u7edf\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u5728\u9ad8\u6e29\u4e0b\uff0c\u63a2\u9488\u53ef\u80fd\u603b\u662f\u5728\u66f4\u4f4e\u7684\u9ad8\u5ea6\u4e0b\u89e6\u53d1\u3002 \u9488\u5bf9\u8fd9\u79cd\u504f\u5dee\uff0c\u5efa\u8bae\u5728\u6052\u5b9a\u7684\u6e29\u5ea6\u4e0b\u8fdb\u884c\u70ed\u5e8a\u8c03\u5e73\u3002\u5373\uff0c\u8981\u4e48\u603b\u662f\u5728\u5ba4\u6e29\u4e0b\u8fdb\u884c\u5e8a\u7f51\u6d4b\u91cf\uff0c\u8981\u4e48\u603b\u8981\u5728\u5de5\u4f5c\u6e29\u5ea6\u4e0b\u8fdb\u884c\u3002\u65e0\u8bba\u91c7\u53d6\u54ea\u79cd\u65b9\u6848\uff0c\u90fd\u63a8\u8350\u5728\u8fbe\u5230\u76ee\u6807\u6e29\u5ea6\u6570\u5206\u949f\u540e\u518d\u8fdb\u884c\u6d4b\u91cf\uff0c\u4ee5\u4fbf\u6253\u5370\u673a\u59cb\u7ec8\u5904\u4e8e\u76ee\u6807\u6e29\u5ea6\u3002 \u8981\u6d4b\u91cf\u6e29\u5ea6\u504f\u5dee\uff0c\u9996\u5148\u786e\u4fdd\u6253\u5370\u673a\u5904\u4e8e\u5ba4\u6e29\uff0c\u5bf9\u4e09\u8f74\u8fdb\u884c\u5f52\u96f6\uff0c\u7136\u540e\u5c06\u6253\u5370\u5934\u79fb\u52a8\u5230\u70ed\u5e8a\u4e2d\u592e\uff0c\u8fd0\u884c PROBE_ACCURACY \u547d\u4ee4\u3002\u8bb0\u4e0b\u6b64\u65f6\u7684\u8bfb\u6570\u3002\u4e4b\u540e\uff0c\u5728\u4e0d\u5f52\u96f6\u6216\u5173\u95ed\u7535\u673a\u7684\u60c5\u51b5\u4e0b\uff0c\u52a0\u70ed\u55b7\u5634\u548c\u70ed\u5e8a\u5230\u5de5\u4f5c\u6e29\u5ea6\uff0c\u5e76\u518d\u6b21\u8fd0\u884c PROBE_ACCURACY \u3002\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u4e24\u6b21\u63a2\u9488\u6d4b\u91cf\u4f1a\u5f97\u51fa\u76f8\u540c\u7684\u7ed3\u679c\u3002\u4f46\u82e5\u6e29\u5ea6\u504f\u5dee\u5b58\u5728\uff0c\u5efa\u8bae\u6bcf\u6b21\u8fbe\u5230\u5de5\u4f5c\u6e29\u5ea6\u540e\u518d\u8fdb\u884c\u6d4b\u91cf\u3002","title":"\u6e29\u5ea6\u504f\u5dee"},{"location":"Protocol.html","text":"\u534f\u8bae \u00b6 Klipper\u6d88\u606f\u534f\u8bae\u7528\u4e8eKlipper\u4e3b\u673a\u8f6f\u4ef6\u548cKlipper\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u4e4b\u95f4\u7684\u4f4e\u5c42\u901a\u4fe1\u3002\u5728\u4e0a\u5c42\u770b\uff0c\u8be5\u534f\u8bae\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u548c\u54cd\u5e94\u5b57\u7b26\u4e32\uff0c\u5b83\u4eec\u88ab\u538b\u7f29\u3001\u4f20\u8f93\uff0c\u7136\u540e\u5728\u63a5\u6536\u65b9\u8fdb\u884c\u5904\u7406\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5305\u542b\u4e00\u7ec4\u672a\u7ecf\u538b\u7f29\u7684\u4eba\u7c7b\u53ef\u8bfb\u683c\u5f0f\u7684\u547d\u4ee4\uff1a set_digital_out pin=PA3 value=1 set_digital_out pin=PA7 value=1 schedule_digital_out oid=8 clock=4000000 value=0 queue_step oid=7 interval=7458 count=10 add=331 queue_step oid=7 interval=11717 count=4 add=1281 \u6709\u5173\u53ef\u7528\u547d\u4ee4\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 mcu \u547d\u4ee4 \u6587\u6863\u3002\u6709\u5173\u5982\u4f55\u5c06 G-Code \u6587\u4ef6\u8f6c\u6362\u4e3a\u5176\u76f8\u5e94\u7684\u53ef\u8bfb\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u8c03\u8bd5 \u6587\u6863\u3002 \u672c\u9875\u63d0\u4f9b\u4e86Klipper\u6d88\u606f\u4f20\u9012\u534f\u8bae\u672c\u8eab\u7684\u9ad8\u5c42\u63cf\u8ff0\u3002\u5b83\u63cf\u8ff0\u4e86\u6d88\u606f\u662f\u5982\u4f55\u88ab\u58f0\u660e\u3001\u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u7f16\u7801\uff08\"\u538b\u7f29 \"\u65b9\u6848\uff09\u548c\u4f20\u8f93\u7684\u3002 \u8be5\u534f\u8bae\u7684\u76ee\u6807\u662f\u5728\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u65e0\u9519\u8bef\u7684\u901a\u4fe1\u901a\u9053\uff0c\u5bf9\u5fae\u63a7\u5236\u5668\u6765\u8bf4\u662f\u4f4e\u5ef6\u8fdf\u3001\u4f4e\u5e26\u5bbd\u548c\u4f4e\u590d\u6742\u5ea6\u7684\u3002 \u5fae\u63a7\u5236\u5668\u63a5\u53e3 \u00b6 Klipper\u4f20\u8f93\u534f\u8bae\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u673a\u4e4b\u95f4\u7684\u4e00\u4e2a RPC \u673a\u5236\u3002\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u58f0\u660e\u4e86\u4e3b\u673a\u53ef\u4ee5\u8c03\u7528\u7684\u547d\u4ee4\uff0c\u4ee5\u53ca\u5b83\u53ef\u4ee5\u4ea7\u751f\u7684\u54cd\u5e94\u4fe1\u606f\u3002\u4e3b\u673a\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u6765\u547d\u4ee4\u5fae\u63a7\u5236\u5668\u6267\u884c\u52a8\u4f5c\u5e76\u89e3\u91ca\u7ed3\u679c\u3002 \u5ba3\u5e03\u547d\u4ee4 \u00b6 \u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u901a\u8fc7\u4f7f\u7528C\u4ee3\u7801\u4e2d\u7684DECL_COMMAND()\u5b8f\u6765\u58f0\u660e\u4e00\u4e2a \u201c\u547d\u4ee4\u201d\u3002\u4f8b\u5982\uff1a DECL_COMMAND(command_update_digital_out, \"update_digital_out oid=%c value=%c\"); \u4ee5\u4e0a\u58f0\u660e\u4e86\u4e00\u4e2a\u540d\u4e3a \"update_digital_out \"\u7684\u547d\u4ee4\u3002\u8fd9\u5141\u8bb8\u4e3b\u673a \u201cinvoke\u201d\u8fd9\u4e2a\u547d\u4ee4\uff0c\u8fd9\u5c06\u4f7f\u5f97command_update_digital_out()C\u51fd\u6570\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u88ab\u6267\u884c\u3002\u4e0a\u8ff0\u5185\u5bb9\u8fd8\u8868\u660e\uff0c\u8be5\u547d\u4ee4\u9700\u8981\u4e24\u4e2a\u6574\u6570\u53c2\u6570\u3002\u5f53command_update_digital_out()C\u4ee3\u7801\u88ab\u6267\u884c\u65f6\uff0c\u5b83\u5c06\u88ab\u4f20\u9012\u4e00\u4e2a\u5305\u542b\u8fd9\u4e24\u4e2a\u6574\u6570\u7684\u6570\u7ec4--\u7b2c\u4e00\u4e2a\u5bf9\u5e94\u4e8e \"oid\"\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u5e94\u4e8e \"value\"\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u53c2\u6570\u662f\u7528printf()\u98ce\u683c\u7684\u8bed\u6cd5\u63cf\u8ff0\u7684\uff08\u4f8b\u5982\uff0c\"%u\"\uff09\u3002\u8fd9\u79cd\u683c\u5f0f\u5316\u76f4\u63a5\u5bf9\u5e94\u4e8e\u4eba\u7c7b\u53ef\u8bfb\u7684\u547d\u4ee4\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=7 value=1\"\uff09\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\"value=\"\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u79f0\uff0c\"%c \"\u8868\u793a\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u6574\u6570\u3002\u5728\u5185\u90e8\uff0c\u53c2\u6570\u540d\u53ea\u4f5c\u4e3a\u8bb0\u5f55\u4f7f\u7528\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\"%c \"\u4e5f\u662f\u4f5c\u4e3a\u8bb0\u5f55\u4f7f\u7528\u7684\uff0c\u8868\u793a\u9884\u671f\u7684\u6574\u6570\u662f1\u5b57\u8282\u5bbd\u5ea6\uff08\u58f0\u660e\u7684\u6574\u6570\u5bbd\u5ea6\u4e0d\u5f71\u54cd\u7f16\u89e3\u7801\uff09\u3002 \u5fae\u63a7\u5236\u5668\u56fa\u4ef6\u6784\u5efa\u7684\u65f6\u5019\u5305\u542b\u6240\u6709\u7528DECL_COMMAND()\u58f0\u660e\u7684\u547d\u4ee4\uff0c\u786e\u5b9a\u5176\u53c2\u6570\uff0c\u5e76\u4f7f\u5f97\u5b83\u4eec\u53ef\u4ee5\u88ab\u8c03\u7528\u3002 \u58f0\u660e\u54cd\u5e94 \u00b6 \u5f53\u4ece\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u673a\u53d1\u9001\u4fe1\u606f\u65f6\u4f1a\u4ea7\u751f\u4e00\u4e2a \"\u54cd\u5e94\"\u3002\u8fd9\u4e9b\u90fd\u662f\u4f7f\u7528sendf()C\u8bed\u8a00\u5b8f\u6765\u58f0\u660e\u548c\u53d1\u9001\u7684\u3002\u4f8b\u5982\uff1a sendf(\"status clock=%u status=%c\", sched_read_time(), sched_is_shutdown()); \u4ee5\u4e0a\u4f20\u8f93\u4e86\u4e00\u4e2a \"\u72b6\u6001 \"\u54cd\u5e94\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u542b\u4e24\u4e2a\u6574\u6570\u53c2\u6570\uff08\"\u65f6\u949f \"\u548c \"\u72b6\u6001\"\uff09\u3002\u5fae\u63a7\u5236\u5668\u7684\u6784\u5efa\u4f1a\u81ea\u52a8\u627e\u5230\u6240\u6709sendf()\u7684\u8c03\u7528\uff0c\u5e76\u4e3a\u5176\u751f\u6210\u7f16\u7801\u5668\u3002sendf()\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u63cf\u8ff0\u4e86\u54cd\u5e94\uff0c\u5b83\u7684\u683c\u5f0f\u4e0e\u547d\u4ee4\u58f0\u660e\u76f8\u540c\u3002 \u4e3b\u673a\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u54cd\u5e94\u6ce8\u518c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u56e0\u6b64\uff0c\u5b9e\u9645\u4e0a\uff0c\u547d\u4ee4\u5141\u8bb8\u4e3b\u673a\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u8c03\u7528C\u51fd\u6570\uff0c\u54cd\u5e94\u5141\u8bb8\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5728\u4e3b\u673a\u4e0a\u8c03\u7528\u4ee3\u7801\u3002 sendf()\u5b8f\u53ea\u80fd\u4ece\u547d\u4ee4\u6216\u4efb\u52a1\u5904\u7406\u7a0b\u5e8f\u4e2d\u8c03\u7528\uff0c\u800c\u4e0d\u80fd\u4ece\u4e2d\u65ad\u6216\u5b9a\u65f6\u5668\u4e2d\u8c03\u7528\u3002\u4ee3\u7801\u4e0d\u9700\u8981\u5728\u6536\u5230\u547d\u4ee4\u7684\u54cd\u5e94\u4e2d\u53d1\u51fasendf()\uff0c\u4ee3\u7801\u4e5f\u4e0d\u9650\u5236sendf()\u7684\u8c03\u7528\u6b21\u6570\uff0c\u4efb\u52a1\u5904\u7406\u7a0b\u5e8f\u5728\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u8c03\u7528sendf()\u3002 \u8f93\u51fa\u54cd\u5e94 \u00b6 \u4e3a\u4e86\u7b80\u5316\u8c03\u8bd5\uff0c\u4e5f\u6709\u4e00\u4e2aoutput()C\u51fd\u6570\u3002\u4f8b\u5982\uff1a output(\"The value of %u is %s with size %u.\", x, buf, buf_len); output()\u51fd\u6570\u7684\u7528\u6cd5\u4e0eprintf()\u76f8\u4f3c\u2013\u5b83\u7684\u76ee\u7684\u662f\u751f\u6210\u548c\u683c\u5f0f\u5316\u4efb\u610f\u7684\u4fe1\u606f\u4f9b\u4eba\u9605\u8bfb\u3002 \u58f0\u660e\u679a\u4e3e \u00b6 \u679a\u4e3e\u5141\u8bb8\u4e3b\u673a\u4ee3\u7801\u5bf9\u5fae\u63a7\u5236\u5668\u4f5c\u4e3a\u6574\u6570\u5904\u7406\u7684\u53c2\u6570\u4f7f\u7528\u5b57\u7b26\u4e32\u6807\u8bc6\u3002\u5b83\u4eec\u5728\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e2d\u88ab\u58f0\u660e-\u4f8b\u5982\uff1a DECL_ENUMERATION(\"spi_bus\", \"spi\", 0); DECL_ENUMERATION_RANGE(\"pin\", \"PC0\", 16, 8); \u5728\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0cDECL_ENUMERATION()\u5b8f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u679a\u4e3e\u91cf\u53ef\u4ee5\u7528\u4e8e\u4efb\u610f\u7684\u547d\u4ee4/\u54cd\u5e94\u6d88\u606f\uff0c\u8fd9\u4e2a\u679a\u4e3e\u91cf\u7684\u53c2\u6570\u540d\u79f0\u4e3a \"spi_bus \"\u6216\u53c2\u6570\u540d\u79f0\u540e\u7f00\u4e3a\"_spi_bus \"\u3002\u5bf9\u4e8e\u6b64\u53c2\u6570\uff0c\u5b57\u7b26\u4e32 \"spi \"\u662f\u4e00\u4e2a\u6709\u6548\u7684\u503c\uff0c\u5b83\u5c06\u4ee5\u4e00\u4e2a\u96f6\u7684\u6574\u6570\u503c\u88ab\u4f20\u9012\u3002 \u4e5f\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u679a\u4e3e\u8303\u56f4\u3002\u5728\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u4e2d\uff0c\"pin \"\u53c2\u6570\uff08\u6216\u4efb\u4f55\u540e\u7f00\u4e3a\"_pin \"\u7684\u53c2\u6570\uff09\u5c06\u63a5\u53d7PC0\u3001PC1\u3001PC2\u3001...\u3001PC7\u4f5c\u4e3a\u6709\u6548\u503c\u3002\u5b57\u7b26\u4e32\u5c06\u88ab\u8f6c\u5316\u6210\u6574\u657016\u300117\u300118...23\u8fdb\u884c\u4f20\u8f93\u3002 \u58f0\u660e\u5e38\u91cf \u00b6 \u5e38\u91cf\u4e5f\u53ef\u4ee5\u88ab\u5bfc\u51fa\u3002\u4f8b\u5b50\u5982\u4e0b\uff1a DECL_CONSTANT(\"SERIAL_BAUD\", 250000); \u53ef\u4ee5\u4ece\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u673a\u8f93\u51fa\u4e00\u4e2a\u540d\u4e3a \"SERIAL_BAUD \"\uff0c\u503c\u4e3a250000\u7684\u5e38\u6570\u3002\u4e5f\u53ef\u4ee5\u5c06\u5b57\u7b26\u4e32\u58f0\u660e\u6210\u5e38\u91cf-\u4f8b\u5982\uff1a DECL_CONSTANT_STR(\"MCU\", \"pru\"); \u5e95\u5c42\u6d88\u606f\u7f16\u7801 \u00b6 \u4e3a\u4e86\u5b9e\u73b0\u4e0a\u8ff0RPC\u673a\u5236\uff0c\u6bcf\u4e2a\u547d\u4ee4\u548c\u54cd\u5e94\u90fd\u88ab\u7f16\u7801\u6210\u4e8c\u8fdb\u5236\u683c\u5f0f\u8fdb\u884c\u4f20\u8f93\u3002\u672c\u8282\u4ecb\u7ecd\u8fd9\u4e2a\u4f20\u8f93\u7cfb\u7edf\u3002 \u6d88\u606f\u5757 \u00b6 \u6240\u6709\u4ece\u4e3b\u673a\u5230\u5fae\u63a7\u5236\u5668\u4ee5\u53ca\u4ece\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u673a\u7684\u6570\u636e\u90fd\u5305\u542b\u5728 \"\u6d88\u606f\u5757 \"\u4e2d\u3002\u4e00\u4e2a\u6d88\u606f\u5757\u6709\u4e00\u4e2a\u4e24\u5b57\u8282\u7684\u5934\u548c\u4e00\u4e2a\u4e09\u5b57\u8282\u7684\u5c3e\u3002\u4fe1\u606f\u5757\u7684\u683c\u5f0f\u5982\u4e0b\uff1a <1 byte length><1 byte sequence><n-byte content><2 byte crc><1 byte sync> \u957f\u5ea6\u5b57\u8282\u6307\u793a\u6d88\u606f\u5757\u4e2d\u7684\u5b57\u8282\u6570\uff0c\u5305\u62ec\u5934\u548c\u5c3e\u7684\u5b57\u8282\uff08\u56e0\u6b64\u6d88\u606f\u7684\u6700\u77ed\u957f\u5ea6\u4e3a5\u5b57\u8282\uff09\u3002\u76ee\u524d\u6700\u5927\u7684\u6d88\u606f\u5757\u957f\u5ea6\u4e3a64\u5b57\u8282\u3002\u5e8f\u53f7\u5b57\u8282\u7684\u4f4e4\u4f4d\u662f\u5e8f\u5217\u53f7\uff0c\u9ad84\u4f4d\u603b\u662f0x10\uff08\u9ad84\u4f4d\u4fdd\u7559\u7ed9\u672a\u6765\u7528\uff09\u3002\u5185\u5bb9\u5b57\u8282\u5305\u542b\u4efb\u610f\u6570\u636e\uff0c\u5176\u683c\u5f0f\u5728\u4e0b\u4e00\u8282\u4e2d\u63cf\u8ff0\u3002crc\u5b57\u8282\u5305\u542b\u6d88\u606f\u5757\u768416\u4f4dCCITT CRC \uff0cCRC\u8ba1\u7b97\u5305\u62ec\u5934\u5b57\u8282\u4f46\u4e0d\u5305\u62ec\u5c3e\u5b57\u8282\u3002\u540c\u6b65\u5b57\u8282\u4e3a0x7e\u3002 \u6d88\u606f\u5757\u7684\u683c\u5f0f\u662f\u53d7 HDLC \u6d88\u606f\u5e27\u7684\u542f\u53d1\u3002\u4e0eHDLC\u4e00\u6837\uff0c\u6d88\u606f\u5757\u5728\u5f00\u59cb\u65f6\u53ef\u4ee5\u9009\u62e9\u5305\u542b\u4e00\u4e2a\u989d\u5916\u7684\u540c\u6b65\u5b57\u7b26\u3002\u4e0eHDLC\u4e0d\u540c\u7684\u662f\uff0c\u540c\u6b65\u5b57\u7b26\u5e76\u4e0d\u4e13\u5c5e\u4e8e\u6846\u67b6\uff0c\u4e5f\u53ef\u4ee5\u51fa\u73b0\u5728\u6d88\u606f\u5757\u5185\u5bb9\u4e2d\uff08\u4e0d\u9700\u8981\u8f6c\u4e49\uff09\u3002 \u6d88\u606f\u5757\u5185\u5bb9 \u00b6 \u6bcf\u4e2a\u4ece\u4e3b\u673a\u53d1\u9001\u81f3\u5fae\u63a7\u5236\u5668\u7684\u6d88\u606f\u5757\uff0c\u5176\u5185\u5bb9\u90fd\u5305\u542b\u4e00\u7cfb\u5217\u96f6\u4e2a\u6216\u591a\u4e2a\u6d88\u606f\u547d\u4ee4\u3002\u6bcf\u6761\u547d\u4ee4\u4ee5 \u53ef\u53d8\u957f\u5ea6\u6570\u503c (VLQ)\u7f16\u7801\u7684\u6574\u6570command-id\u5f00\u59cb\uff0c\u540e\u9762\u662f\u8fd9\u4e2a\u547d\u4ee4\u7684\u96f6\u6216\u591a\u4e2aVLQ\u53c2\u6570\u3002 \u4f8b\u5982\uff0c\u4ee5\u4e0b\u56db\u4e2a\u547d\u4ee4\u53ef\u4ee5\u88ab\u653e\u5728\u4e00\u4e2a\u6d88\u606f\u5757\u4e2d\uff1a update_digital_out oid=6 value=1 update_digital_out oid=5 value=0 get_config get_clock \u5e76\u7f16\u7801\u4e3a\u4e0b\u9762\u516b\u4e2aVLQ\u6574\u6570\uff1a <id_update_digital_out><6><1><id_update_digital_out><5><0><id_get_config><id_get_clock> \u4e3a\u4e86\u5bf9\u4fe1\u606f\u5185\u5bb9\u8fdb\u884c\u7f16\u89e3\u7801\uff0c\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u90fd\u5fc5\u987b\u786e\u4fdd\u4f7f\u7528\u7684\u547d\u4ee4\u7684ID\u548c\u6bcf\u4e2a\u547d\u4ee4\u5bf9\u5e94\u7684\u53c2\u6570\u6570\u91cf\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053 \"id_update_digital_out \"\u540e\u9762\u603b\u662f\u8ddf\u7740\u4e24\u4e2a\u53c2\u6570\uff0c\u800c \"id_get_config \"\u548c \"id_get_clock \"\u6ca1\u6709\u53c2\u6570\u3002\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u5171\u4eab\u4e00\u4e2a \"\u6570\u636e\u5b57\u5178\"\uff0c\u8fd9\u4e2a\u6570\u636e\u5b57\u5178\u5c06\u547d\u4ee4\u63cf\u8ff0\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=%c value=%c\"\uff09\u6620\u5c04\u5230\u5b83\u4eec\u7684\u6574\u6570\u547d\u4ee4ID\u3002\u5f53\u5904\u7406\u6570\u636e\u65f6\uff0c\u89e3\u6790\u5668\u5c06\u77e5\u9053\u4e00\u4e2a\u7ed9\u5b9a\u7684\u547d\u4ee4ID\u540e\u9884\u671f\u6709\u7279\u5b9a\u6570\u91cf\u7684VLQ\u7f16\u7801\u53c2\u6570\u3002 \u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u5757\u7684\u6d88\u606f\u5185\u5bb9\u9075\u5faa\u76f8\u540c\u7684\u683c\u5f0f\u3002\u8fd9\u4e9b\u6d88\u606f\u4e2d\u7684\u6807\u8bc6\u7b26\u662f \"\u54cd\u5e94ID\"\uff0c\u4f46\u5b83\u4eec\u7684\u4f5c\u7528\u76f8\u540c\uff0c\u5e76\u9075\u5faa\u76f8\u540c\u7684\u7f16\u7801\u89c4\u5219\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u6d88\u606f\u5757\u5728\u6d88\u606f\u5757\u5185\u5bb9\u4e2d\u53ea\u5305\u542b\u4e00\u4e2a\u54cd\u5e94\u3002 \u53ef\u53d8\u957f\u5ea6\u6570\u503c \u00b6 \u5173\u4e8eVLQ\u7f16\u7801\u7684\u6574\u6570\u7684\u4e00\u822c\u683c\u5f0f\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 wikipedia article \u3002Klipper\u4f7f\u7528\u652f\u6301\u6b63\u8d1f\u6574\u6570\u7684\u7f16\u7801\u65b9\u6848\u3002\u63a5\u8fd1\u96f6\u7684\u6574\u6570\u4f7f\u7528\u8f83\u5c11\u7684\u5b57\u8282\u6765\u7f16\u7801\uff0c\u6b63\u6574\u6570\u7684\u7f16\u7801\u901a\u5e38\u6bd4\u8d1f\u6574\u6570\u7684\u4f7f\u7528\u5b57\u8282\u66f4\u5c11\u3002\u4e0b\u8868\u663e\u793a\u4e86\u6bcf\u4e2a\u6574\u6570\u7684\u7f16\u7801\u6240\u9700\u7684\u5b57\u8282\u6570\uff1a \u6574\u6570 \u7f16\u7801\u957f\u5ea6 -32 .. 95 1 -4096 .. 12287 2 -524288 .. 1572863 3 -67108864 .. 201326591 4 -2147483648 .. 4294967295 5 \u53ef\u53d8\u957f\u5ea6\u5b57\u7b26\u4e32 \u00b6 \u4f5c\u4e3a\u4e0a\u8ff0\u7f16\u7801\u89c4\u5219\u7684\u4f8b\u5916\uff0c\u5982\u679c\u4e00\u4e2a\u547d\u4ee4\u6216\u54cd\u5e94\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u52a8\u6001\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u8be5\u53c2\u6570\u4e0d\u4f1a\u88ab\u7f16\u7801\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684VLQ\u6574\u6570\u3002\u76f8\u53cd\uff0c\u5b83\u7684\u7f16\u7801\u65b9\u5f0f\u662f\u5c06\u957f\u5ea6\u4f5c\u4e3a\u4e00\u4e2aVLQ\u7f16\u7801\u7684\u6574\u6570\u5e76\u8ddf\u7740\u5185\u5bb9\u672c\u8eab\u6765\u4f20\u8f93\uff1a <VLQ encoded length><n-byte contents> \u5728\u6570\u636e\u5b57\u5178\u4e2d\u7684\u547d\u4ee4\u63cf\u8ff0\u4f7f\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053\u54ea\u4e9b\u547d\u4ee4\u53c2\u6570\u4f7f\u7528\u7b80\u5355\u7684VLQ\u7f16\u7801\uff0c\u54ea\u4e9b\u53c2\u6570\u4f7f\u7528\u5b57\u7b26\u4e32\u7f16\u7801\u3002 \u6570\u636e\u5b57\u5178 \u00b6 \u4e3a\u4e86\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u673a\u4e4b\u95f4\u5efa\u7acb\u6709\u610f\u4e49\u7684\u901a\u4fe1\uff0c\u53cc\u65b9\u5fc5\u987b\u5546\u5b9a\u4e00\u4e2a \"\u6570\u636e\u5b57\u5178\"\u3002\u8fd9\u4e2a\u6570\u636e\u5b57\u5178\u5305\u542b\u4e86\u547d\u4ee4\u548c\u54cd\u5e94\u7684\u6574\u6570\u6807\u8bc6\u7b26\u53ca\u5b83\u4eec\u7684\u63cf\u8ff0\u3002 \u5fae\u63a7\u5236\u5668\u6784\u5efa\u4f7f\u7528DECL_COMMAND()\u548csendf()\u5b8f\u7684\u5185\u5bb9\u6765\u751f\u6210\u6570\u636e\u5b57\u5178\u3002\u6784\u5efa\u4f1a\u81ea\u52a8\u4e3a\u6bcf\u4e2a\u547d\u4ee4\u548c\u54cd\u5e94\u5206\u914d\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u3002\u8fd9\u4e2a\u7cfb\u7edf\u5141\u8bb8\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u65e2\u4f7f\u7528\u4eba\u7c7b\u53ef\u8bfb\u7684\u63cf\u8ff0\u6027\u540d\u79f0\u53c8\u5360\u7528\u6700\u5c0f\u7684\u4f20\u8f93\u5e26\u5bbd\u3002 \u5f53\u4e3b\u673a\u7b2c\u4e00\u6b21\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u65f6\uff0c\u4f1a\u67e5\u8be2\u6570\u636e\u5b57\u5178\u3002\u4e00\u65e6\u4e3b\u673a\u4ece\u5fae\u63a7\u5236\u5668\u4e2d\u4e0b\u8f7d\u4e86\u6570\u636e\u5b57\u5178\uff0c\u5b83\u5c31\u4f7f\u7528\u8be5\u6570\u636e\u5b57\u5178\u5bf9\u6240\u6709\u547d\u4ee4\u8fdb\u884c\u7f16\u7801\uff0c\u5e76\u89e3\u6790\u6765\u81ea\u5fae\u63a7\u5236\u5668\u7684\u6240\u6709\u54cd\u5e94\u3002\u56e0\u6b64\uff0c\u4e3b\u673a\u5fc5\u987b\u80fd\u5904\u7406\u52a8\u6001\u7684\u6570\u636e\u5b57\u5178\u3002\u7136\u800c\uff0c\u4e3a\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u7684\u7b80\u5355\u6027\uff0c\u5fae\u63a7\u5236\u5668\u603b\u662f\u4f7f\u7528\u9759\u6001\uff08\u7f16\u8bd1\u7684\uff09\u6570\u636e\u5b57\u5178\u3002 \u6570\u636e\u5b57\u5178\u662f\u901a\u8fc7\u5411\u5fae\u63a7\u5236\u5668\u53d1\u9001 \"identify\"\u547d\u4ee4\u6765\u67e5\u8be2\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c06\u7528\u4e00\u4e2a \"identify_response \"\u6d88\u606f\u6765\u56de\u5e94\u6bcf\u6761\u8bc6\u522b\u547d\u4ee4\u3002\u7531\u4e8e\u5728\u83b7\u53d6\u6570\u636e\u5b57\u5178\u4e4b\u524d\u9700\u8981\u8fd9\u4e24\u6761\u547d\u4ee4\uff0c\u5b83\u4eec\u7684\u6574\u6570id\u548c\u53c2\u6570\u7c7b\u578b\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u673a\u4e2d\u90fd\u662f\u786c\u7f16\u7801\u7684\u3002\"identify_response \"\u7684\u54cd\u5e94id\u662f0\uff0c\"identify\"\u7684\u547d\u4ee4id\u662f1\u3002\u9664\u4e86\u6709\u786c\u7f16\u7801\u7684id\u5916\uff0c\u8bc6\u522b\u547d\u4ee4\u53ca\u5176\u54cd\u5e94\u7684\u58f0\u660e\u548c\u4f20\u8f93\u65b9\u5f0f\u4e0e\u5176\u4ed6\u547d\u4ee4\u548c\u54cd\u5e94\u76f8\u540c\u3002\u9664\u6b64\u4e4b\u5916\u6ca1\u6709\u5176\u4ed6\u547d\u4ee4\u6216\u54cd\u5e94\u662f\u786c\u7f16\u7801\u7684\u3002 \u4f20\u8f93\u7684\u6570\u636e\u5b57\u5178\u672c\u8eab\u7684\u683c\u5f0f\u662f\u4e00\u4e2azlib\u538b\u7f29\u7684JSON\u5b57\u7b26\u4e32\u3002\u5fae\u63a7\u5236\u5668\u7684\u6784\u5efa\u8fc7\u7a0b\u4f1a\u751f\u6210\u8be5\u5b57\u7b26\u4e32\uff0c\u5bf9\u5176\u8fdb\u884c\u538b\u7f29\uff0c\u5e76\u5c06\u5176\u5b58\u50a8\u5728\u5fae\u63a7\u5236\u5668\u95ea\u5b58\u7684text\u90e8\u5206\u3002\u6570\u636e\u5b57\u5178\u53ef\u4ee5\u6bd4\u6700\u5927\u7684\u6d88\u606f\u5757\u5927\u5f97\u591a--\u4e3b\u673a\u901a\u8fc7\u53d1\u9001\u591a\u4e2a\u8bc6\u522b\u547d\u4ee4\u6765\u5206\u5757\u4e0b\u8f7d\u6570\u636e\u5b57\u5178\u3002\u4e00\u65e6\u83b7\u5f97\u6240\u6709\u7684\u6570\u636e\u5757\uff0c\u4e3b\u673a\u5c06\u628a\u8fd9\u4e9b\u6570\u636e\u5757\u7ec4\u5408\u8d77\u6765\uff0c\u89e3\u538b\u7f29\u6570\u636e\u5e76\u89e3\u6790\u5185\u5bb9\u3002 \u9664\u4e86\u901a\u4fe1\u534f\u8bae\u7684\u4fe1\u606f\u5916\uff0c\u6570\u636e\u5b57\u5178\u8fd8\u5305\u542b\u8f6f\u4ef6\u7248\u672c\u3001\u679a\u4e3e\u503c\uff08\u7531DECL_ENUMERATION\u5b9a\u4e49\uff09\u548c\u5e38\u91cf\uff08\u7531DECL_CONSTANT\u5b9a\u4e49\uff09\u3002 \u6d88\u606f\u6d41 \u00b6 \u4ece\u4e3b\u673a\u5230\u5fae\u63a7\u5236\u5668\u53d1\u9001\u7684\u4fe1\u606f\u547d\u4ee4\u5e94\u8be5\u662f\u65e0\u5dee\u9519\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c06\u68c0\u67e5\u6bcf\u4e2a\u4fe1\u606f\u5757\u4e2d\u7684CRC\u548c\u987a\u5e8f\u53f7\uff0c\u4ee5\u786e\u4fdd\u547d\u4ee4\u7684\u51c6\u786e\u6027\u548c\u987a\u5e8f\u6027\u3002\u5fae\u63a7\u5236\u5668\u603b\u662f\u6309\u987a\u5e8f\u5904\u7406\u4fe1\u606f\u5757--\u5982\u679c\u5b83\u6536\u5230\u4e00\u4e2a\u4e0d\u6309\u987a\u5e8f\u7684\u4fe1\u606f\u5757\uff0c\u5b83\u5c06\u4e22\u5f03\u5b83\u548c\u5176\u4ed6\u4e0d\u6309\u987a\u5e8f\u7684\u4fe1\u606f\u5757\uff0c\u76f4\u5230\u5b83\u6536\u5230\u5177\u6709\u6b63\u786e\u987a\u5e8f\u53f7\u7684\u4fe1\u606f\u5757\u3002 \u4f4e\u5c42\u7684\u4e3b\u673a\u4ee3\u7801\u4e3a\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u4e22\u5931\u548c\u635f\u574f\u7684\u6d88\u606f\u5757\u5b9e\u73b0\u4e86\u4e00\u4e2a\u81ea\u52a8\u91cd\u4f20\u7cfb\u7edf\u3002\u4e3a\u6b64\uff0c\u5fae\u63a7\u5236\u5668\u5728\u6bcf\u6b21\u6210\u529f\u63a5\u6536\u7684\u6d88\u606f\u5757\u4e4b\u540e\u90fd\u4f1a\u53d1\u9001\u4e00\u4e2a \"ack message block\"\u3002\u4e3b\u673a\u5728\u53d1\u9001\u6bcf\u4e2a\u5757\u540e\u4f1a\u542f\u52a8\u8d85\u65f6\u7b49\u5f85\uff0c\u5982\u679c\u8d85\u65f6\u540e\u6ca1\u6709\u6536\u5230\u76f8\u5e94\u7684 \"ack\"\uff0c\u5b83\u5c06\u91cd\u65b0\u53d1\u9001\u3002\u6b64\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u68c0\u6d4b\u5230\u4e00\u4e2a\u635f\u574f\u6216\u987a\u5e8f\u9519\u8bef\u7684\u5757\uff0c\u5b83\u53ef\u4ee5\u53d1\u9001\u4e00\u4e2a \"nak message block\"\u5b9e\u73b0\u5feb\u901f\u91cd\u4f20\u3002 \u201cack \"\u662f\u4e00\u4e2a\u5185\u5bb9\u4e3a\u7a7a\u7684\u6d88\u606f\u5757\uff08\u5373\u4e00\u4e2a5\u5b57\u8282\u7684\u6d88\u606f\u5757\uff09\uff0c\u5176\u987a\u5e8f\u53f7\u5927\u4e8e\u6700\u540e\u6536\u5230\u7684\u4e3b\u673a\u6d88\u606f\u987a\u5e8f\u53f7\u3002\u4e00\u4e2a \"nak \"\u662f\u4e00\u4e2a\u5185\u5bb9\u4e3a\u7a7a\u7684\u6d88\u606f\u5757\uff0c\u5176\u987a\u5e8f\u53f7\u5c0f\u4e8e\u6700\u540e\u6536\u5230\u7684\u4e3b\u673a\u6d88\u606f\u987a\u5e8f\u53f7\u3002 \u534f\u8bae\u5b9e\u73b0\u4e86 \"\u7a97\u53e3 \"\u4f20\u8f93\u7cfb\u7edf\uff0c\u56e0\u6b64\u4e3b\u673a\u53ef\u4ee5\u5728\u540c\u4e00\u65f6\u95f4\u5141\u8bb8\u591a\u672a\u5b8c\u6210\u7684\u6d88\u606f\u5757\u5728\u53d1\u9001\u3002(\u8fd9\u662f\u5bf9\u4e00\u4e2a\u6d88\u606f\u5757\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u547d\u4ee4\u7684\u8865\u5145\uff09\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5373\u4f7f\u5728\u4f20\u8f93\u5ef6\u8fdf\u7684\u60c5\u51b5\u4e0b\u4e5f\u80fd\u6700\u5927\u5316\u5730\u5229\u7528\u5e26\u5bbd\u3002\u8d85\u65f6\u3001\u91cd\u4f20\u3001\u7a97\u53e3\u5316\u548c\u54cd\u5e94\u673a\u5236\u662f\u53d7\u5230 TCP \u4e2d\u7c7b\u4f3c\u673a\u5236\u7684\u542f\u53d1\u3002 \u53e6\u4e00\u65b9\u5411\uff0c\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u4fe1\u606f\u5757\u88ab\u8bbe\u8ba1\u6210\u65e0\u5dee\u9519\uff0c\u4f46\u5e76\u4e0d\u4fdd\u8bc1\u4f20\u8f93\u3002(\u54cd\u5e94\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f46\u53ef\u80fd\u4f1a\u4e22\u5931\u3002)\u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u7684\u5b9e\u73b0\u7b80\u5355\u3002\u54cd\u5e94\u6ca1\u6709\u81ea\u52a8\u91cd\u4f20\u7cfb\u7edf--\u9ad8\u5c42\u4ee3\u7801\u5e94\u8be5\u80fd\u591f\u5904\u7406\u5076\u5c14\u4e22\u5931\u7684\u54cd\u5e94\uff08\u901a\u5e38\u901a\u8fc7\u91cd\u65b0\u8bf7\u6c42\u5185\u5bb9\u6216\u8bbe\u7f6e\u54cd\u5e94\u4f20\u8f93\u7684\u5faa\u73af\u8c03\u5ea6\uff09\u3002\u53d1\u9001\u7ed9\u4e3b\u673a\u7684\u4fe1\u606f\u5757\u4e2d\u7684\u987a\u5e8f\u53f7\u5b57\u6bb5\u603b\u662f\u6bd4\u4ece\u4e3b\u673a\u6536\u5230\u7684\u4fe1\u606f\u5757\u7684\u6700\u540e\u63a5\u6536\u987a\u5e8f\u53f7\u59271\u3002\u987a\u5e8f\u53f7\u5e76\u4e0d\u7528\u4e8e\u8ddf\u8e2a\u54cd\u5e94\u6d88\u606f\u5757\u7684\u987a\u5e8f\u3002","title":"\u534f\u8bae"},{"location":"Protocol.html#_1","text":"Klipper\u6d88\u606f\u534f\u8bae\u7528\u4e8eKlipper\u4e3b\u673a\u8f6f\u4ef6\u548cKlipper\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u4e4b\u95f4\u7684\u4f4e\u5c42\u901a\u4fe1\u3002\u5728\u4e0a\u5c42\u770b\uff0c\u8be5\u534f\u8bae\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u548c\u54cd\u5e94\u5b57\u7b26\u4e32\uff0c\u5b83\u4eec\u88ab\u538b\u7f29\u3001\u4f20\u8f93\uff0c\u7136\u540e\u5728\u63a5\u6536\u65b9\u8fdb\u884c\u5904\u7406\u3002\u4ee5\u4e0b\u662f\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5305\u542b\u4e00\u7ec4\u672a\u7ecf\u538b\u7f29\u7684\u4eba\u7c7b\u53ef\u8bfb\u683c\u5f0f\u7684\u547d\u4ee4\uff1a set_digital_out pin=PA3 value=1 set_digital_out pin=PA7 value=1 schedule_digital_out oid=8 clock=4000000 value=0 queue_step oid=7 interval=7458 count=10 add=331 queue_step oid=7 interval=11717 count=4 add=1281 \u6709\u5173\u53ef\u7528\u547d\u4ee4\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 mcu \u547d\u4ee4 \u6587\u6863\u3002\u6709\u5173\u5982\u4f55\u5c06 G-Code \u6587\u4ef6\u8f6c\u6362\u4e3a\u5176\u76f8\u5e94\u7684\u53ef\u8bfb\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u8c03\u8bd5 \u6587\u6863\u3002 \u672c\u9875\u63d0\u4f9b\u4e86Klipper\u6d88\u606f\u4f20\u9012\u534f\u8bae\u672c\u8eab\u7684\u9ad8\u5c42\u63cf\u8ff0\u3002\u5b83\u63cf\u8ff0\u4e86\u6d88\u606f\u662f\u5982\u4f55\u88ab\u58f0\u660e\u3001\u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u7f16\u7801\uff08\"\u538b\u7f29 \"\u65b9\u6848\uff09\u548c\u4f20\u8f93\u7684\u3002 \u8be5\u534f\u8bae\u7684\u76ee\u6807\u662f\u5728\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u95f4\u5efa\u7acb\u4e00\u4e2a\u65e0\u9519\u8bef\u7684\u901a\u4fe1\u901a\u9053\uff0c\u5bf9\u5fae\u63a7\u5236\u5668\u6765\u8bf4\u662f\u4f4e\u5ef6\u8fdf\u3001\u4f4e\u5e26\u5bbd\u548c\u4f4e\u590d\u6742\u5ea6\u7684\u3002","title":"\u534f\u8bae"},{"location":"Protocol.html#_2","text":"Klipper\u4f20\u8f93\u534f\u8bae\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u673a\u4e4b\u95f4\u7684\u4e00\u4e2a RPC \u673a\u5236\u3002\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u58f0\u660e\u4e86\u4e3b\u673a\u53ef\u4ee5\u8c03\u7528\u7684\u547d\u4ee4\uff0c\u4ee5\u53ca\u5b83\u53ef\u4ee5\u4ea7\u751f\u7684\u54cd\u5e94\u4fe1\u606f\u3002\u4e3b\u673a\u4f7f\u7528\u8fd9\u4e9b\u4fe1\u606f\u6765\u547d\u4ee4\u5fae\u63a7\u5236\u5668\u6267\u884c\u52a8\u4f5c\u5e76\u89e3\u91ca\u7ed3\u679c\u3002","title":"\u5fae\u63a7\u5236\u5668\u63a5\u53e3"},{"location":"Protocol.html#_3","text":"\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u901a\u8fc7\u4f7f\u7528C\u4ee3\u7801\u4e2d\u7684DECL_COMMAND()\u5b8f\u6765\u58f0\u660e\u4e00\u4e2a \u201c\u547d\u4ee4\u201d\u3002\u4f8b\u5982\uff1a DECL_COMMAND(command_update_digital_out, \"update_digital_out oid=%c value=%c\"); \u4ee5\u4e0a\u58f0\u660e\u4e86\u4e00\u4e2a\u540d\u4e3a \"update_digital_out \"\u7684\u547d\u4ee4\u3002\u8fd9\u5141\u8bb8\u4e3b\u673a \u201cinvoke\u201d\u8fd9\u4e2a\u547d\u4ee4\uff0c\u8fd9\u5c06\u4f7f\u5f97command_update_digital_out()C\u51fd\u6570\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u88ab\u6267\u884c\u3002\u4e0a\u8ff0\u5185\u5bb9\u8fd8\u8868\u660e\uff0c\u8be5\u547d\u4ee4\u9700\u8981\u4e24\u4e2a\u6574\u6570\u53c2\u6570\u3002\u5f53command_update_digital_out()C\u4ee3\u7801\u88ab\u6267\u884c\u65f6\uff0c\u5b83\u5c06\u88ab\u4f20\u9012\u4e00\u4e2a\u5305\u542b\u8fd9\u4e24\u4e2a\u6574\u6570\u7684\u6570\u7ec4--\u7b2c\u4e00\u4e2a\u5bf9\u5e94\u4e8e \"oid\"\uff0c\u7b2c\u4e8c\u4e2a\u5bf9\u5e94\u4e8e \"value\"\u3002 \u4e00\u822c\u6765\u8bf4\uff0c\u53c2\u6570\u662f\u7528printf()\u98ce\u683c\u7684\u8bed\u6cd5\u63cf\u8ff0\u7684\uff08\u4f8b\u5982\uff0c\"%u\"\uff09\u3002\u8fd9\u79cd\u683c\u5f0f\u5316\u76f4\u63a5\u5bf9\u5e94\u4e8e\u4eba\u7c7b\u53ef\u8bfb\u7684\u547d\u4ee4\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=7 value=1\"\uff09\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\"value=\"\u662f\u4e00\u4e2a\u53c2\u6570\u540d\u79f0\uff0c\"%c \"\u8868\u793a\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u6574\u6570\u3002\u5728\u5185\u90e8\uff0c\u53c2\u6570\u540d\u53ea\u4f5c\u4e3a\u8bb0\u5f55\u4f7f\u7528\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\"%c \"\u4e5f\u662f\u4f5c\u4e3a\u8bb0\u5f55\u4f7f\u7528\u7684\uff0c\u8868\u793a\u9884\u671f\u7684\u6574\u6570\u662f1\u5b57\u8282\u5bbd\u5ea6\uff08\u58f0\u660e\u7684\u6574\u6570\u5bbd\u5ea6\u4e0d\u5f71\u54cd\u7f16\u89e3\u7801\uff09\u3002 \u5fae\u63a7\u5236\u5668\u56fa\u4ef6\u6784\u5efa\u7684\u65f6\u5019\u5305\u542b\u6240\u6709\u7528DECL_COMMAND()\u58f0\u660e\u7684\u547d\u4ee4\uff0c\u786e\u5b9a\u5176\u53c2\u6570\uff0c\u5e76\u4f7f\u5f97\u5b83\u4eec\u53ef\u4ee5\u88ab\u8c03\u7528\u3002","title":"\u5ba3\u5e03\u547d\u4ee4"},{"location":"Protocol.html#_4","text":"\u5f53\u4ece\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u673a\u53d1\u9001\u4fe1\u606f\u65f6\u4f1a\u4ea7\u751f\u4e00\u4e2a \"\u54cd\u5e94\"\u3002\u8fd9\u4e9b\u90fd\u662f\u4f7f\u7528sendf()C\u8bed\u8a00\u5b8f\u6765\u58f0\u660e\u548c\u53d1\u9001\u7684\u3002\u4f8b\u5982\uff1a sendf(\"status clock=%u status=%c\", sched_read_time(), sched_is_shutdown()); \u4ee5\u4e0a\u4f20\u8f93\u4e86\u4e00\u4e2a \"\u72b6\u6001 \"\u54cd\u5e94\u6d88\u606f\uff0c\u5176\u4e2d\u5305\u542b\u4e24\u4e2a\u6574\u6570\u53c2\u6570\uff08\"\u65f6\u949f \"\u548c \"\u72b6\u6001\"\uff09\u3002\u5fae\u63a7\u5236\u5668\u7684\u6784\u5efa\u4f1a\u81ea\u52a8\u627e\u5230\u6240\u6709sendf()\u7684\u8c03\u7528\uff0c\u5e76\u4e3a\u5176\u751f\u6210\u7f16\u7801\u5668\u3002sendf()\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u63cf\u8ff0\u4e86\u54cd\u5e94\uff0c\u5b83\u7684\u683c\u5f0f\u4e0e\u547d\u4ee4\u58f0\u660e\u76f8\u540c\u3002 \u4e3b\u673a\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u54cd\u5e94\u6ce8\u518c\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u3002\u56e0\u6b64\uff0c\u5b9e\u9645\u4e0a\uff0c\u547d\u4ee4\u5141\u8bb8\u4e3b\u673a\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u8c03\u7528C\u51fd\u6570\uff0c\u54cd\u5e94\u5141\u8bb8\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u5728\u4e3b\u673a\u4e0a\u8c03\u7528\u4ee3\u7801\u3002 sendf()\u5b8f\u53ea\u80fd\u4ece\u547d\u4ee4\u6216\u4efb\u52a1\u5904\u7406\u7a0b\u5e8f\u4e2d\u8c03\u7528\uff0c\u800c\u4e0d\u80fd\u4ece\u4e2d\u65ad\u6216\u5b9a\u65f6\u5668\u4e2d\u8c03\u7528\u3002\u4ee3\u7801\u4e0d\u9700\u8981\u5728\u6536\u5230\u547d\u4ee4\u7684\u54cd\u5e94\u4e2d\u53d1\u51fasendf()\uff0c\u4ee3\u7801\u4e5f\u4e0d\u9650\u5236sendf()\u7684\u8c03\u7528\u6b21\u6570\uff0c\u4efb\u52a1\u5904\u7406\u7a0b\u5e8f\u5728\u5728\u4efb\u4f55\u65f6\u5019\u90fd\u53ef\u4ee5\u8c03\u7528sendf()\u3002","title":"\u58f0\u660e\u54cd\u5e94"},{"location":"Protocol.html#_5","text":"\u4e3a\u4e86\u7b80\u5316\u8c03\u8bd5\uff0c\u4e5f\u6709\u4e00\u4e2aoutput()C\u51fd\u6570\u3002\u4f8b\u5982\uff1a output(\"The value of %u is %s with size %u.\", x, buf, buf_len); output()\u51fd\u6570\u7684\u7528\u6cd5\u4e0eprintf()\u76f8\u4f3c\u2013\u5b83\u7684\u76ee\u7684\u662f\u751f\u6210\u548c\u683c\u5f0f\u5316\u4efb\u610f\u7684\u4fe1\u606f\u4f9b\u4eba\u9605\u8bfb\u3002","title":"\u8f93\u51fa\u54cd\u5e94"},{"location":"Protocol.html#_6","text":"\u679a\u4e3e\u5141\u8bb8\u4e3b\u673a\u4ee3\u7801\u5bf9\u5fae\u63a7\u5236\u5668\u4f5c\u4e3a\u6574\u6570\u5904\u7406\u7684\u53c2\u6570\u4f7f\u7528\u5b57\u7b26\u4e32\u6807\u8bc6\u3002\u5b83\u4eec\u5728\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u4e2d\u88ab\u58f0\u660e-\u4f8b\u5982\uff1a DECL_ENUMERATION(\"spi_bus\", \"spi\", 0); DECL_ENUMERATION_RANGE(\"pin\", \"PC0\", 16, 8); \u5728\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0cDECL_ENUMERATION()\u5b8f\u5b9a\u4e49\u4e86\u4e00\u4e2a\u679a\u4e3e\u91cf\u53ef\u4ee5\u7528\u4e8e\u4efb\u610f\u7684\u547d\u4ee4/\u54cd\u5e94\u6d88\u606f\uff0c\u8fd9\u4e2a\u679a\u4e3e\u91cf\u7684\u53c2\u6570\u540d\u79f0\u4e3a \"spi_bus \"\u6216\u53c2\u6570\u540d\u79f0\u540e\u7f00\u4e3a\"_spi_bus \"\u3002\u5bf9\u4e8e\u6b64\u53c2\u6570\uff0c\u5b57\u7b26\u4e32 \"spi \"\u662f\u4e00\u4e2a\u6709\u6548\u7684\u503c\uff0c\u5b83\u5c06\u4ee5\u4e00\u4e2a\u96f6\u7684\u6574\u6570\u503c\u88ab\u4f20\u9012\u3002 \u4e5f\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u679a\u4e3e\u8303\u56f4\u3002\u5728\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u4e2d\uff0c\"pin \"\u53c2\u6570\uff08\u6216\u4efb\u4f55\u540e\u7f00\u4e3a\"_pin \"\u7684\u53c2\u6570\uff09\u5c06\u63a5\u53d7PC0\u3001PC1\u3001PC2\u3001...\u3001PC7\u4f5c\u4e3a\u6709\u6548\u503c\u3002\u5b57\u7b26\u4e32\u5c06\u88ab\u8f6c\u5316\u6210\u6574\u657016\u300117\u300118...23\u8fdb\u884c\u4f20\u8f93\u3002","title":"\u58f0\u660e\u679a\u4e3e"},{"location":"Protocol.html#_7","text":"\u5e38\u91cf\u4e5f\u53ef\u4ee5\u88ab\u5bfc\u51fa\u3002\u4f8b\u5b50\u5982\u4e0b\uff1a DECL_CONSTANT(\"SERIAL_BAUD\", 250000); \u53ef\u4ee5\u4ece\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u673a\u8f93\u51fa\u4e00\u4e2a\u540d\u4e3a \"SERIAL_BAUD \"\uff0c\u503c\u4e3a250000\u7684\u5e38\u6570\u3002\u4e5f\u53ef\u4ee5\u5c06\u5b57\u7b26\u4e32\u58f0\u660e\u6210\u5e38\u91cf-\u4f8b\u5982\uff1a DECL_CONSTANT_STR(\"MCU\", \"pru\");","title":"\u58f0\u660e\u5e38\u91cf"},{"location":"Protocol.html#_8","text":"\u4e3a\u4e86\u5b9e\u73b0\u4e0a\u8ff0RPC\u673a\u5236\uff0c\u6bcf\u4e2a\u547d\u4ee4\u548c\u54cd\u5e94\u90fd\u88ab\u7f16\u7801\u6210\u4e8c\u8fdb\u5236\u683c\u5f0f\u8fdb\u884c\u4f20\u8f93\u3002\u672c\u8282\u4ecb\u7ecd\u8fd9\u4e2a\u4f20\u8f93\u7cfb\u7edf\u3002","title":"\u5e95\u5c42\u6d88\u606f\u7f16\u7801"},{"location":"Protocol.html#_9","text":"\u6240\u6709\u4ece\u4e3b\u673a\u5230\u5fae\u63a7\u5236\u5668\u4ee5\u53ca\u4ece\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u673a\u7684\u6570\u636e\u90fd\u5305\u542b\u5728 \"\u6d88\u606f\u5757 \"\u4e2d\u3002\u4e00\u4e2a\u6d88\u606f\u5757\u6709\u4e00\u4e2a\u4e24\u5b57\u8282\u7684\u5934\u548c\u4e00\u4e2a\u4e09\u5b57\u8282\u7684\u5c3e\u3002\u4fe1\u606f\u5757\u7684\u683c\u5f0f\u5982\u4e0b\uff1a <1 byte length><1 byte sequence><n-byte content><2 byte crc><1 byte sync> \u957f\u5ea6\u5b57\u8282\u6307\u793a\u6d88\u606f\u5757\u4e2d\u7684\u5b57\u8282\u6570\uff0c\u5305\u62ec\u5934\u548c\u5c3e\u7684\u5b57\u8282\uff08\u56e0\u6b64\u6d88\u606f\u7684\u6700\u77ed\u957f\u5ea6\u4e3a5\u5b57\u8282\uff09\u3002\u76ee\u524d\u6700\u5927\u7684\u6d88\u606f\u5757\u957f\u5ea6\u4e3a64\u5b57\u8282\u3002\u5e8f\u53f7\u5b57\u8282\u7684\u4f4e4\u4f4d\u662f\u5e8f\u5217\u53f7\uff0c\u9ad84\u4f4d\u603b\u662f0x10\uff08\u9ad84\u4f4d\u4fdd\u7559\u7ed9\u672a\u6765\u7528\uff09\u3002\u5185\u5bb9\u5b57\u8282\u5305\u542b\u4efb\u610f\u6570\u636e\uff0c\u5176\u683c\u5f0f\u5728\u4e0b\u4e00\u8282\u4e2d\u63cf\u8ff0\u3002crc\u5b57\u8282\u5305\u542b\u6d88\u606f\u5757\u768416\u4f4dCCITT CRC \uff0cCRC\u8ba1\u7b97\u5305\u62ec\u5934\u5b57\u8282\u4f46\u4e0d\u5305\u62ec\u5c3e\u5b57\u8282\u3002\u540c\u6b65\u5b57\u8282\u4e3a0x7e\u3002 \u6d88\u606f\u5757\u7684\u683c\u5f0f\u662f\u53d7 HDLC \u6d88\u606f\u5e27\u7684\u542f\u53d1\u3002\u4e0eHDLC\u4e00\u6837\uff0c\u6d88\u606f\u5757\u5728\u5f00\u59cb\u65f6\u53ef\u4ee5\u9009\u62e9\u5305\u542b\u4e00\u4e2a\u989d\u5916\u7684\u540c\u6b65\u5b57\u7b26\u3002\u4e0eHDLC\u4e0d\u540c\u7684\u662f\uff0c\u540c\u6b65\u5b57\u7b26\u5e76\u4e0d\u4e13\u5c5e\u4e8e\u6846\u67b6\uff0c\u4e5f\u53ef\u4ee5\u51fa\u73b0\u5728\u6d88\u606f\u5757\u5185\u5bb9\u4e2d\uff08\u4e0d\u9700\u8981\u8f6c\u4e49\uff09\u3002","title":"\u6d88\u606f\u5757"},{"location":"Protocol.html#_10","text":"\u6bcf\u4e2a\u4ece\u4e3b\u673a\u53d1\u9001\u81f3\u5fae\u63a7\u5236\u5668\u7684\u6d88\u606f\u5757\uff0c\u5176\u5185\u5bb9\u90fd\u5305\u542b\u4e00\u7cfb\u5217\u96f6\u4e2a\u6216\u591a\u4e2a\u6d88\u606f\u547d\u4ee4\u3002\u6bcf\u6761\u547d\u4ee4\u4ee5 \u53ef\u53d8\u957f\u5ea6\u6570\u503c (VLQ)\u7f16\u7801\u7684\u6574\u6570command-id\u5f00\u59cb\uff0c\u540e\u9762\u662f\u8fd9\u4e2a\u547d\u4ee4\u7684\u96f6\u6216\u591a\u4e2aVLQ\u53c2\u6570\u3002 \u4f8b\u5982\uff0c\u4ee5\u4e0b\u56db\u4e2a\u547d\u4ee4\u53ef\u4ee5\u88ab\u653e\u5728\u4e00\u4e2a\u6d88\u606f\u5757\u4e2d\uff1a update_digital_out oid=6 value=1 update_digital_out oid=5 value=0 get_config get_clock \u5e76\u7f16\u7801\u4e3a\u4e0b\u9762\u516b\u4e2aVLQ\u6574\u6570\uff1a <id_update_digital_out><6><1><id_update_digital_out><5><0><id_get_config><id_get_clock> \u4e3a\u4e86\u5bf9\u4fe1\u606f\u5185\u5bb9\u8fdb\u884c\u7f16\u89e3\u7801\uff0c\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u90fd\u5fc5\u987b\u786e\u4fdd\u4f7f\u7528\u7684\u547d\u4ee4\u7684ID\u548c\u6bcf\u4e2a\u547d\u4ee4\u5bf9\u5e94\u7684\u53c2\u6570\u6570\u91cf\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053 \"id_update_digital_out \"\u540e\u9762\u603b\u662f\u8ddf\u7740\u4e24\u4e2a\u53c2\u6570\uff0c\u800c \"id_get_config \"\u548c \"id_get_clock \"\u6ca1\u6709\u53c2\u6570\u3002\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u5171\u4eab\u4e00\u4e2a \"\u6570\u636e\u5b57\u5178\"\uff0c\u8fd9\u4e2a\u6570\u636e\u5b57\u5178\u5c06\u547d\u4ee4\u63cf\u8ff0\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=%c value=%c\"\uff09\u6620\u5c04\u5230\u5b83\u4eec\u7684\u6574\u6570\u547d\u4ee4ID\u3002\u5f53\u5904\u7406\u6570\u636e\u65f6\uff0c\u89e3\u6790\u5668\u5c06\u77e5\u9053\u4e00\u4e2a\u7ed9\u5b9a\u7684\u547d\u4ee4ID\u540e\u9884\u671f\u6709\u7279\u5b9a\u6570\u91cf\u7684VLQ\u7f16\u7801\u53c2\u6570\u3002 \u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u5757\u7684\u6d88\u606f\u5185\u5bb9\u9075\u5faa\u76f8\u540c\u7684\u683c\u5f0f\u3002\u8fd9\u4e9b\u6d88\u606f\u4e2d\u7684\u6807\u8bc6\u7b26\u662f \"\u54cd\u5e94ID\"\uff0c\u4f46\u5b83\u4eec\u7684\u4f5c\u7528\u76f8\u540c\uff0c\u5e76\u9075\u5faa\u76f8\u540c\u7684\u7f16\u7801\u89c4\u5219\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u6d88\u606f\u5757\u5728\u6d88\u606f\u5757\u5185\u5bb9\u4e2d\u53ea\u5305\u542b\u4e00\u4e2a\u54cd\u5e94\u3002","title":"\u6d88\u606f\u5757\u5185\u5bb9"},{"location":"Protocol.html#_11","text":"\u5173\u4e8eVLQ\u7f16\u7801\u7684\u6574\u6570\u7684\u4e00\u822c\u683c\u5f0f\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 wikipedia article \u3002Klipper\u4f7f\u7528\u652f\u6301\u6b63\u8d1f\u6574\u6570\u7684\u7f16\u7801\u65b9\u6848\u3002\u63a5\u8fd1\u96f6\u7684\u6574\u6570\u4f7f\u7528\u8f83\u5c11\u7684\u5b57\u8282\u6765\u7f16\u7801\uff0c\u6b63\u6574\u6570\u7684\u7f16\u7801\u901a\u5e38\u6bd4\u8d1f\u6574\u6570\u7684\u4f7f\u7528\u5b57\u8282\u66f4\u5c11\u3002\u4e0b\u8868\u663e\u793a\u4e86\u6bcf\u4e2a\u6574\u6570\u7684\u7f16\u7801\u6240\u9700\u7684\u5b57\u8282\u6570\uff1a \u6574\u6570 \u7f16\u7801\u957f\u5ea6 -32 .. 95 1 -4096 .. 12287 2 -524288 .. 1572863 3 -67108864 .. 201326591 4 -2147483648 .. 4294967295 5","title":"\u53ef\u53d8\u957f\u5ea6\u6570\u503c"},{"location":"Protocol.html#_12","text":"\u4f5c\u4e3a\u4e0a\u8ff0\u7f16\u7801\u89c4\u5219\u7684\u4f8b\u5916\uff0c\u5982\u679c\u4e00\u4e2a\u547d\u4ee4\u6216\u54cd\u5e94\u7684\u53c2\u6570\u662f\u4e00\u4e2a\u52a8\u6001\u5b57\u7b26\u4e32\uff0c\u90a3\u4e48\u8be5\u53c2\u6570\u4e0d\u4f1a\u88ab\u7f16\u7801\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684VLQ\u6574\u6570\u3002\u76f8\u53cd\uff0c\u5b83\u7684\u7f16\u7801\u65b9\u5f0f\u662f\u5c06\u957f\u5ea6\u4f5c\u4e3a\u4e00\u4e2aVLQ\u7f16\u7801\u7684\u6574\u6570\u5e76\u8ddf\u7740\u5185\u5bb9\u672c\u8eab\u6765\u4f20\u8f93\uff1a <VLQ encoded length><n-byte contents> \u5728\u6570\u636e\u5b57\u5178\u4e2d\u7684\u547d\u4ee4\u63cf\u8ff0\u4f7f\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053\u54ea\u4e9b\u547d\u4ee4\u53c2\u6570\u4f7f\u7528\u7b80\u5355\u7684VLQ\u7f16\u7801\uff0c\u54ea\u4e9b\u53c2\u6570\u4f7f\u7528\u5b57\u7b26\u4e32\u7f16\u7801\u3002","title":"\u53ef\u53d8\u957f\u5ea6\u5b57\u7b26\u4e32"},{"location":"Protocol.html#_13","text":"\u4e3a\u4e86\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u673a\u4e4b\u95f4\u5efa\u7acb\u6709\u610f\u4e49\u7684\u901a\u4fe1\uff0c\u53cc\u65b9\u5fc5\u987b\u5546\u5b9a\u4e00\u4e2a \"\u6570\u636e\u5b57\u5178\"\u3002\u8fd9\u4e2a\u6570\u636e\u5b57\u5178\u5305\u542b\u4e86\u547d\u4ee4\u548c\u54cd\u5e94\u7684\u6574\u6570\u6807\u8bc6\u7b26\u53ca\u5b83\u4eec\u7684\u63cf\u8ff0\u3002 \u5fae\u63a7\u5236\u5668\u6784\u5efa\u4f7f\u7528DECL_COMMAND()\u548csendf()\u5b8f\u7684\u5185\u5bb9\u6765\u751f\u6210\u6570\u636e\u5b57\u5178\u3002\u6784\u5efa\u4f1a\u81ea\u52a8\u4e3a\u6bcf\u4e2a\u547d\u4ee4\u548c\u54cd\u5e94\u5206\u914d\u552f\u4e00\u7684\u6807\u8bc6\u7b26\u3002\u8fd9\u4e2a\u7cfb\u7edf\u5141\u8bb8\u4e3b\u673a\u548c\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u65e2\u4f7f\u7528\u4eba\u7c7b\u53ef\u8bfb\u7684\u63cf\u8ff0\u6027\u540d\u79f0\u53c8\u5360\u7528\u6700\u5c0f\u7684\u4f20\u8f93\u5e26\u5bbd\u3002 \u5f53\u4e3b\u673a\u7b2c\u4e00\u6b21\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u65f6\uff0c\u4f1a\u67e5\u8be2\u6570\u636e\u5b57\u5178\u3002\u4e00\u65e6\u4e3b\u673a\u4ece\u5fae\u63a7\u5236\u5668\u4e2d\u4e0b\u8f7d\u4e86\u6570\u636e\u5b57\u5178\uff0c\u5b83\u5c31\u4f7f\u7528\u8be5\u6570\u636e\u5b57\u5178\u5bf9\u6240\u6709\u547d\u4ee4\u8fdb\u884c\u7f16\u7801\uff0c\u5e76\u89e3\u6790\u6765\u81ea\u5fae\u63a7\u5236\u5668\u7684\u6240\u6709\u54cd\u5e94\u3002\u56e0\u6b64\uff0c\u4e3b\u673a\u5fc5\u987b\u80fd\u5904\u7406\u52a8\u6001\u7684\u6570\u636e\u5b57\u5178\u3002\u7136\u800c\uff0c\u4e3a\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u8f6f\u4ef6\u7684\u7b80\u5355\u6027\uff0c\u5fae\u63a7\u5236\u5668\u603b\u662f\u4f7f\u7528\u9759\u6001\uff08\u7f16\u8bd1\u7684\uff09\u6570\u636e\u5b57\u5178\u3002 \u6570\u636e\u5b57\u5178\u662f\u901a\u8fc7\u5411\u5fae\u63a7\u5236\u5668\u53d1\u9001 \"identify\"\u547d\u4ee4\u6765\u67e5\u8be2\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c06\u7528\u4e00\u4e2a \"identify_response \"\u6d88\u606f\u6765\u56de\u5e94\u6bcf\u6761\u8bc6\u522b\u547d\u4ee4\u3002\u7531\u4e8e\u5728\u83b7\u53d6\u6570\u636e\u5b57\u5178\u4e4b\u524d\u9700\u8981\u8fd9\u4e24\u6761\u547d\u4ee4\uff0c\u5b83\u4eec\u7684\u6574\u6570id\u548c\u53c2\u6570\u7c7b\u578b\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u673a\u4e2d\u90fd\u662f\u786c\u7f16\u7801\u7684\u3002\"identify_response \"\u7684\u54cd\u5e94id\u662f0\uff0c\"identify\"\u7684\u547d\u4ee4id\u662f1\u3002\u9664\u4e86\u6709\u786c\u7f16\u7801\u7684id\u5916\uff0c\u8bc6\u522b\u547d\u4ee4\u53ca\u5176\u54cd\u5e94\u7684\u58f0\u660e\u548c\u4f20\u8f93\u65b9\u5f0f\u4e0e\u5176\u4ed6\u547d\u4ee4\u548c\u54cd\u5e94\u76f8\u540c\u3002\u9664\u6b64\u4e4b\u5916\u6ca1\u6709\u5176\u4ed6\u547d\u4ee4\u6216\u54cd\u5e94\u662f\u786c\u7f16\u7801\u7684\u3002 \u4f20\u8f93\u7684\u6570\u636e\u5b57\u5178\u672c\u8eab\u7684\u683c\u5f0f\u662f\u4e00\u4e2azlib\u538b\u7f29\u7684JSON\u5b57\u7b26\u4e32\u3002\u5fae\u63a7\u5236\u5668\u7684\u6784\u5efa\u8fc7\u7a0b\u4f1a\u751f\u6210\u8be5\u5b57\u7b26\u4e32\uff0c\u5bf9\u5176\u8fdb\u884c\u538b\u7f29\uff0c\u5e76\u5c06\u5176\u5b58\u50a8\u5728\u5fae\u63a7\u5236\u5668\u95ea\u5b58\u7684text\u90e8\u5206\u3002\u6570\u636e\u5b57\u5178\u53ef\u4ee5\u6bd4\u6700\u5927\u7684\u6d88\u606f\u5757\u5927\u5f97\u591a--\u4e3b\u673a\u901a\u8fc7\u53d1\u9001\u591a\u4e2a\u8bc6\u522b\u547d\u4ee4\u6765\u5206\u5757\u4e0b\u8f7d\u6570\u636e\u5b57\u5178\u3002\u4e00\u65e6\u83b7\u5f97\u6240\u6709\u7684\u6570\u636e\u5757\uff0c\u4e3b\u673a\u5c06\u628a\u8fd9\u4e9b\u6570\u636e\u5757\u7ec4\u5408\u8d77\u6765\uff0c\u89e3\u538b\u7f29\u6570\u636e\u5e76\u89e3\u6790\u5185\u5bb9\u3002 \u9664\u4e86\u901a\u4fe1\u534f\u8bae\u7684\u4fe1\u606f\u5916\uff0c\u6570\u636e\u5b57\u5178\u8fd8\u5305\u542b\u8f6f\u4ef6\u7248\u672c\u3001\u679a\u4e3e\u503c\uff08\u7531DECL_ENUMERATION\u5b9a\u4e49\uff09\u548c\u5e38\u91cf\uff08\u7531DECL_CONSTANT\u5b9a\u4e49\uff09\u3002","title":"\u6570\u636e\u5b57\u5178"},{"location":"Protocol.html#_14","text":"\u4ece\u4e3b\u673a\u5230\u5fae\u63a7\u5236\u5668\u53d1\u9001\u7684\u4fe1\u606f\u547d\u4ee4\u5e94\u8be5\u662f\u65e0\u5dee\u9519\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c06\u68c0\u67e5\u6bcf\u4e2a\u4fe1\u606f\u5757\u4e2d\u7684CRC\u548c\u987a\u5e8f\u53f7\uff0c\u4ee5\u786e\u4fdd\u547d\u4ee4\u7684\u51c6\u786e\u6027\u548c\u987a\u5e8f\u6027\u3002\u5fae\u63a7\u5236\u5668\u603b\u662f\u6309\u987a\u5e8f\u5904\u7406\u4fe1\u606f\u5757--\u5982\u679c\u5b83\u6536\u5230\u4e00\u4e2a\u4e0d\u6309\u987a\u5e8f\u7684\u4fe1\u606f\u5757\uff0c\u5b83\u5c06\u4e22\u5f03\u5b83\u548c\u5176\u4ed6\u4e0d\u6309\u987a\u5e8f\u7684\u4fe1\u606f\u5757\uff0c\u76f4\u5230\u5b83\u6536\u5230\u5177\u6709\u6b63\u786e\u987a\u5e8f\u53f7\u7684\u4fe1\u606f\u5757\u3002 \u4f4e\u5c42\u7684\u4e3b\u673a\u4ee3\u7801\u4e3a\u53d1\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u4e22\u5931\u548c\u635f\u574f\u7684\u6d88\u606f\u5757\u5b9e\u73b0\u4e86\u4e00\u4e2a\u81ea\u52a8\u91cd\u4f20\u7cfb\u7edf\u3002\u4e3a\u6b64\uff0c\u5fae\u63a7\u5236\u5668\u5728\u6bcf\u6b21\u6210\u529f\u63a5\u6536\u7684\u6d88\u606f\u5757\u4e4b\u540e\u90fd\u4f1a\u53d1\u9001\u4e00\u4e2a \"ack message block\"\u3002\u4e3b\u673a\u5728\u53d1\u9001\u6bcf\u4e2a\u5757\u540e\u4f1a\u542f\u52a8\u8d85\u65f6\u7b49\u5f85\uff0c\u5982\u679c\u8d85\u65f6\u540e\u6ca1\u6709\u6536\u5230\u76f8\u5e94\u7684 \"ack\"\uff0c\u5b83\u5c06\u91cd\u65b0\u53d1\u9001\u3002\u6b64\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u68c0\u6d4b\u5230\u4e00\u4e2a\u635f\u574f\u6216\u987a\u5e8f\u9519\u8bef\u7684\u5757\uff0c\u5b83\u53ef\u4ee5\u53d1\u9001\u4e00\u4e2a \"nak message block\"\u5b9e\u73b0\u5feb\u901f\u91cd\u4f20\u3002 \u201cack \"\u662f\u4e00\u4e2a\u5185\u5bb9\u4e3a\u7a7a\u7684\u6d88\u606f\u5757\uff08\u5373\u4e00\u4e2a5\u5b57\u8282\u7684\u6d88\u606f\u5757\uff09\uff0c\u5176\u987a\u5e8f\u53f7\u5927\u4e8e\u6700\u540e\u6536\u5230\u7684\u4e3b\u673a\u6d88\u606f\u987a\u5e8f\u53f7\u3002\u4e00\u4e2a \"nak \"\u662f\u4e00\u4e2a\u5185\u5bb9\u4e3a\u7a7a\u7684\u6d88\u606f\u5757\uff0c\u5176\u987a\u5e8f\u53f7\u5c0f\u4e8e\u6700\u540e\u6536\u5230\u7684\u4e3b\u673a\u6d88\u606f\u987a\u5e8f\u53f7\u3002 \u534f\u8bae\u5b9e\u73b0\u4e86 \"\u7a97\u53e3 \"\u4f20\u8f93\u7cfb\u7edf\uff0c\u56e0\u6b64\u4e3b\u673a\u53ef\u4ee5\u5728\u540c\u4e00\u65f6\u95f4\u5141\u8bb8\u591a\u672a\u5b8c\u6210\u7684\u6d88\u606f\u5757\u5728\u53d1\u9001\u3002(\u8fd9\u662f\u5bf9\u4e00\u4e2a\u6d88\u606f\u5757\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u547d\u4ee4\u7684\u8865\u5145\uff09\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5373\u4f7f\u5728\u4f20\u8f93\u5ef6\u8fdf\u7684\u60c5\u51b5\u4e0b\u4e5f\u80fd\u6700\u5927\u5316\u5730\u5229\u7528\u5e26\u5bbd\u3002\u8d85\u65f6\u3001\u91cd\u4f20\u3001\u7a97\u53e3\u5316\u548c\u54cd\u5e94\u673a\u5236\u662f\u53d7\u5230 TCP \u4e2d\u7c7b\u4f3c\u673a\u5236\u7684\u542f\u53d1\u3002 \u53e6\u4e00\u65b9\u5411\uff0c\u4ece\u5fae\u63a7\u5236\u5668\u53d1\u9001\u5230\u4e3b\u673a\u7684\u4fe1\u606f\u5757\u88ab\u8bbe\u8ba1\u6210\u65e0\u5dee\u9519\uff0c\u4f46\u5e76\u4e0d\u4fdd\u8bc1\u4f20\u8f93\u3002(\u54cd\u5e94\u4e0d\u4f1a\u51fa\u9519\uff0c\u4f46\u53ef\u80fd\u4f1a\u4e22\u5931\u3002)\u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u7684\u5b9e\u73b0\u7b80\u5355\u3002\u54cd\u5e94\u6ca1\u6709\u81ea\u52a8\u91cd\u4f20\u7cfb\u7edf--\u9ad8\u5c42\u4ee3\u7801\u5e94\u8be5\u80fd\u591f\u5904\u7406\u5076\u5c14\u4e22\u5931\u7684\u54cd\u5e94\uff08\u901a\u5e38\u901a\u8fc7\u91cd\u65b0\u8bf7\u6c42\u5185\u5bb9\u6216\u8bbe\u7f6e\u54cd\u5e94\u4f20\u8f93\u7684\u5faa\u73af\u8c03\u5ea6\uff09\u3002\u53d1\u9001\u7ed9\u4e3b\u673a\u7684\u4fe1\u606f\u5757\u4e2d\u7684\u987a\u5e8f\u53f7\u5b57\u6bb5\u603b\u662f\u6bd4\u4ece\u4e3b\u673a\u6536\u5230\u7684\u4fe1\u606f\u5757\u7684\u6700\u540e\u63a5\u6536\u987a\u5e8f\u53f7\u59271\u3002\u987a\u5e8f\u53f7\u5e76\u4e0d\u7528\u4e8e\u8ddf\u8e2a\u54cd\u5e94\u6d88\u606f\u5757\u7684\u987a\u5e8f\u3002","title":"\u6d88\u606f\u6d41"},{"location":"RPi_microcontroller.html","text":"RPi \u5fae\u63a7\u5236\u5668 \u00b6 \u8fd9\u4e2a\u6587\u6863\u63cf\u8ff0\u4e86\u5728RPi\u4e0a\u8fd0\u884cKlipper\u7684\u8fc7\u7a0b\uff0c\u5e76\u4f7f\u7528\u76f8\u540c\u7684RPi\u4f5c\u4e3a\u8f85\u52a9MCU\u3002 \u4e3a\u4ec0\u4e48\u4f7f\u7528RPi\u4f5c\u4e3a\u8f85\u52a9MCU\uff1f \u00b6 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e13\u95e8\u7528\u4e8e\u63a7\u52363D\u6253\u5370\u673a\u7684MCU\u6709\u6709\u9650\u7684\u3001\u9884\u5148\u914d\u7f6e\u597d\u7684\u5f15\u811a\u6765\u7ba1\u7406\u4e3b\u8981\u7684\u6253\u5370\u529f\u80fd\uff08\u70ed\u654f\u7535\u963b\u3001\u6324\u51fa\u673a\u3001\u6b65\u8fdb\u5668...\uff09\u3002\u4f7f\u7528\u5b89\u88c5\u4e86Klipper\u7684RPi\u4f5c\u4e3a\u8f85\u52a9MCU\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528klipper\u5185\u7684GPIO\u548cRPi\u7684\u603b\u7ebf\uff08i2c\uff0cspi\uff09\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528Octoprint\u63d2\u4ef6\uff08\u5982\u679c\u4f7f\u7528\u7684\u8bdd\uff09\u6216\u5916\u90e8\u7a0b\u5e8f\uff0c\u4ece\u800c\u80fd\u591f\u63a7\u5236\u6253\u5370GCODE\u5185\u7684\u4e00\u5207\u3002 \u8b66\u544a \u3002\u5982\u679c\u4f60\u7684\u5e73\u53f0\u662f Beaglebone \uff0c\u5e76\u4e14\u4f60\u5df2\u7ecf\u6b63\u786e\u5730\u6309\u7167\u5b89\u88c5\u6b65\u9aa4\u8fdb\u884c\u4e86\u5b89\u88c5\uff0c\u90a3\u4e48linux mcu\u5df2\u7ecf\u4e3a\u4f60\u7684\u7cfb\u7edf\u5b89\u88c5\u548c\u914d\u7f6e\u4e86\u3002 \u5b89\u88c5 rc \u811a\u672c \u00b6 \u5982\u679c\u4f60\u60f3\u628a\u4e3b\u673a\u4f5c\u4e3a\u4e00\u4e2a\u8f85\u52a9MCU\uff0cklipper_mcu\u8fdb\u7a0b\u5fc5\u987b\u5728klippy\u8fdb\u7a0b\u4e4b\u524d\u8fd0\u884c\u3002 \u5b89\u88c5 Klipper \u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u5b89\u88c5\u811a\u672c\uff1a cd ~/klipper/ sudo cp \"./scripts/klipper-mcu-start.sh\" /etc/init.d/klipper_mcu sudo update-rc.d klipper_mcu defaults \u6784\u5efa\u5fae\u63a7\u5236\u5668\u4ee3\u7801 \u00b6 \u8981\u7f16\u8bd1\u7684 Klipper \u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u9700\u8981\u5148\u5c06\u7f16\u8bd1\u914d\u7f6e\u8bbe\u7f6e\u4e3a\u201cLinux Process\u201d\uff1a cd ~/klipper/ make menuconfig \u5728\u83dc\u5355\u4e2d\uff0c\u8bbe\u7f6e\u201cMicrocontroller Archetecture\u201d\uff08\u5fae\u63a7\u5236\u5668\u67b6\u6784\uff09\u4e3a\u201cLinux Process\u201d\uff08Linux \u8fdb\u7a0b\uff09\uff0c\u7136\u540e\u4fdd\u5b58(save)\u5e76\u9000\u51fa(exit)\u3002 \u8981\u6784\u5efa\u548c\u5b89\u88c5\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u8bf7\u8fd0\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u5982\u679cklippy.log\u5728\u8bd5\u56fe\u8fde\u63a5\u5230 /tmp/klipper_host_mcu \u65f6\u8f93\u51fa \"Permission denied\" \u9519\u8bef\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u5c06\u4f60\u7684\u7528\u6237\u6dfb\u52a0\u5230tty\u7528\u6237\u7ec4\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5c06\u628a \"pi \"\u7528\u6237\u6dfb\u52a0\u5230tty\u7528\u6237\u7ec4\u4e2d\uff1a sudo usermod -a -G tty pi \u5269\u4f59\u7684\u914d\u7f6e \u00b6 \u6309\u7167 RaspberryPi \u53c2\u8003\u914d\u7f6e \u548c \u591a\u5fae\u63a7\u5236\u5668\u53c2\u8003\u914d\u7f6e \u4e2d\u7684\u8bf4\u660e\u914d\u7f6eKlipper \u4e8c\u7ea7\u5fae\u63a7\u5236\u5668\u6765\u5b8c\u6210\u5b89\u88c5\u3002 \u53ef\u9009\uff1a\u542f\u7528 SPI \u00b6 \u901a\u8fc7\u8fd0\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u5355\u4e2d\u542f\u7528 SPI \u4ee5\u786e\u4fddLinux SPI \u9a71\u52a8\u5df2\u542f\u7528\u3002 \u53ef\u9009\uff1a\u542f\u7528 I2C \u00b6 \u901a\u8fc7\u8fd0\u884c sudo raspi-config \u5e76\u5728\"Interfacing options\"\uff08\u63a5\u53e3\u9009\u9879\uff09\u83dc\u5355\u4e0b\u542f\u7528I2C\u6765\u542f\u7528Linux\u7684I2C\u9a71\u52a8\u7a0b\u5e8f\u3002\u5982\u679c\u8ba1\u5212\u4f7f\u7528I2C\u4e0e MPU \u52a0\u901f\u5ea6\u8ba1\u8fdb\u884c\u8fde\u63a5\uff0c\u8fd8\u9700\u8981\u5c06\u6ce2\u7279\u7387\u8bbe\u7f6e\u4e3a400000\uff0c\u65b9\u6cd5\u662f\uff1a\u5728 /boot/config.txt \u4e2d\u6dfb\u52a0/\u53d6\u6d88\u6ce8\u91ca dtparam=i2c_arm=on,i2c_arm_baudrate=400000 \uff08\u5728\u67d0\u4e9b\u53d1\u884c\u7248\u4e2d\u9700\u8981\u4fee\u6539 /boot/firmware/config.txt \uff09\u3002 \u53ef\u9009\u6b65\u9aa4\uff1a\u8bc6\u522b\u6b63\u786e\u7684 gpiochip \u00b6 \u5728Raspberry Pi\u548c\u8bb8\u591a\u7c7b\u4f3c\u7684\u5355\u677f\u7535\u8111\u4e0a\uff0c\u66b4\u9732\u5728 GPIO \u4e0a\u7684\u5f15\u811a\u5c5e\u4e8e\u7b2c\u4e00\u4e2agpiochip\u3002\u56e0\u6b64\uff0c\u5b83\u4eec\u53ef\u4ee5\u5728klipper\u4e0a\u4f7f\u7528\uff0c\u53ea\u9700\u7528 gpio0...n \u7684\u540d\u5b57\u6765\u5f15\u7528\u5b83\u4eec\u3002\u7136\u800c\uff0c\u5728\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u66b4\u9732\u7684\u5f15\u811a\u5c5e\u4e8e\u7b2c\u4e00\u4e2a\u4ee5\u5916\u7684gpiochips\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u4e9bOrangePi\u578b\u53f7\u6216\u8005\u5982\u679c\u4f7f\u7528\u4e86\u4e00\u4e2a\u7aef\u53e3\u6269\u5c55\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u4f7f\u7528\u547d\u4ee4\u8bbf\u95ee Linux GPIO character device \u6765\u9a8c\u8bc1\u914d\u7f6e\u662f\u6709\u7528\u7684\u3002 \u8981\u5728\u57fa\u4e8e Debian \u7684\u53d1\u884c\u7248\uff08\u5982 OctoPi\uff09\u4e0a\u5b89\u88c5 Linux GPIO character device - binary \uff0c\u8bf7\u8fd0\u884c\uff1a sudo apt-get install gpiod \u8981\u68c0\u67e5\u53ef\u7528\u7684gpiochip\uff0c\u8bf7\u8fd0\u884c\uff1a gpiodetect \u8981\u68c0\u67e5\u9488\u811a\u7f16\u53f7\u548c\u9488\u811a\u53ef\u7528\u6027\uff0c\u8bf7\u8fd0\u884c\uff1a gpioinfo \u56e0\u6b64\uff0c\u6240\u9009\u5f15\u811a\u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d\u53ef\u4ee5\u901a\u8fc7 gpiochip<n>/gpio<o> \u5f15\u7528\uff0c\u5176\u4e2d n \u662f\u7531 gpiodetect \u547d\u4ee4\u770b\u5230\u7684\u82af\u7247\u7f16\u53f7 o \u662f gpioinfo \u547d\u4ee4\u770b\u5230\u7684\u884c\u53f7\u3002 \u8b66\u544a\uff1a \u53ea\u6709\u6807\u8bb0\u4e3a unused \u7684 gpio \u624d\u53ef\u4ee5\u88ab\u4f7f\u7528\u3002\u4e00\u6761 \u7ebf\u8def \u4e0d\u53ef\u80fd\u88ab\u591a\u4e2a\u8fdb\u7a0b\u540c\u65f6\u4f7f\u7528\u3002 \u4f8b\u5982\uff0c\u5728\u6811\u8393\u6d3e 3B+\u4e0a \u5c06GPIO20\u4f5c\u4e3a Klipper \u7684\u4e00\u4e2a\u5f00\u5173\uff1a $ gpiodetect gpiochip0 [pinctrl-bcm2835] (54 lines) gpiochip1 [raspberrypi-exp-gpio] (8 lines) $ gpioinfo gpiochip0 - 54 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed unused input active-high line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high line 8: unnamed unused input active-high line 9: unnamed unused input active-high line 10: unnamed unused input active-high line 11: unnamed unused input active-high line 12: unnamed unused input active-high line 13: unnamed unused input active-high line 14: unnamed unused input active-high line 15: unnamed unused input active-high line 16: unnamed unused input active-high line 17: unnamed unused input active-high line 18: unnamed unused input active-high line 19: unnamed unused input active-high line 20: unnamed \"klipper\" output active-high [used] line 21: unnamed unused input active-high line 22: unnamed unused input active-high line 23: unnamed unused input active-high line 24: unnamed unused input active-high line 25: unnamed unused input active-high line 26: unnamed unused input active-high line 27: unnamed unused input active-high line 28: unnamed unused input active-high line 29: unnamed \"led0\" output active-high [used] line 30: unnamed unused input active-high line 31: unnamed unused input active-high line 32: unnamed unused input active-high line 33: unnamed unused input active-high line 34: unnamed unused input active-high line 35: unnamed unused input active-high line 36: unnamed unused input active-high line 37: unnamed unused input active-high line 38: unnamed unused input active-high line 39: unnamed unused input active-high line 40: unnamed unused input active-high line 41: unnamed unused input active-high line 42: unnamed unused input active-high line 43: unnamed unused input active-high line 44: unnamed unused input active-high line 45: unnamed unused input active-high line 46: unnamed unused input active-high line 47: unnamed unused input active-high line 48: unnamed unused input active-high line 49: unnamed unused input active-high line 50: unnamed unused input active-high line 51: unnamed unused input active-high line 52: unnamed unused input active-high line 53: unnamed unused input active-high gpiochip1 - 8 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed \"led1\" output active-low [used] line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high \u53ef\u9009\u529f\u80fd\uff1a\u786c\u4ef6 PWM \u00b6 \u6811\u8393\u6d3e\u6709\u4e24\u4e2aPWM\u901a\u9053\uff08PWM0\u548cPWM1\uff09\uff0c\u5b83\u4eec\u901a\u5e38\u66b4\u9732\u5728header\u4e2d\u4e0a\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u53ef\u4ee5\u8def\u7531\u5230\u73b0\u6709\u7684 gpio \u5f15\u811a\u3002Linux mcu \u5b88\u62a4\u7a0b\u5e8f\u4f7f\u7528 pwmchip sysfs \u63a5\u53e3\u6765\u63a7\u5236 Linux \u4e3b\u673a\u4e0a\u7684\u786c\u4ef6 PWM \u8bbe\u5907\u3002pwm sysfs \u63a5\u53e3\u5728\u6811\u8393\u4e0a\u9ed8\u8ba4\u662f\u9690\u85cf\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 /boot/config.txt \u4e2d\u52a0\u5165\u4e00\u884c\u8bbe\u7f6e\u6765\u6fc0\u6d3b\uff1a # \u542f\u7528 pwmchip sysfs \u63a5\u53e3 dtoverlay=pwm,pin=12,func=4 \u6b64\u793a\u4f8b\u4ec5\u542f\u7528 PWM0 \u5e76\u5c06\u5176\u8def\u7531\u5230 gpio12\u3002\u5982\u679c\u9700\u8981\u540c\u65f6\u542f\u7528\u4e24\u4e2a PWM \u901a\u9053\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 pwm-2chan \u3002 overlay \u5728\u542f\u52a8\u65f6\u4e0d\u4f1a\u5728 sysfs \u4e0a\u66b4\u9732\u51fa PWM \u7ebf\u8def\uff0c\u9700\u8981\u901a\u8fc7echo\u5c06 PWM \u901a\u9053\u7684\u7f16\u53f7\u5bfc\u51fa\u5230 /sys/class/pwm/pwmchip0/export \uff1a echo 0 > /sys/class/pwm/pwmchip0/export \u8fd9\u5c06\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u521b\u5efa\u8bbe\u5907 /sys/class/pwm/kwmchip0/pwm0 \u3002\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u5728 /etc/rc.local \u7684 exit 0 \u884c\u4e4b\u524d\u6dfb\u52a0\u8fd9\u884c\u3002 \u6709\u4e86 sysfs\uff0c\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7\u5c06\u4ee5\u4e0b\u914d\u7f6e\u6dfb\u52a0\u5230 printer.cfg \u6765\u4f7f\u7528 PWM \u901a\u9053\uff1a [output_pin caselight] pin: host:pwmchip0/pwm0 pwm: True hardware_pwm: True cycle_time: 0.000001 \u8fd9\u5c06\u4e3a\u6811\u8393\u6d3e\u4e0a\u7684 gpio12 \u5f15\u811a\u6dfb\u52a0\u786c\u4ef6 PWM \u63a7\u5236\uff08\u56e0\u4e3aoverlay\u88ab\u914d\u7f6e\u4e3a\u5c06 pwm0 \u8def\u7531\u5230 pin=12\uff09\u3002 PWM0 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio12 \u548c gpio18\uff0cPWM1 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio13 \u548c gpio19\uff1a PWM GPIO \u5f15\u811a \u529f\u80fd 0 12 4 0 18 2 1 13 4 1 19 2","title":"RPi \u5fae\u63a7\u5236\u5668"},{"location":"RPi_microcontroller.html#rpi","text":"\u8fd9\u4e2a\u6587\u6863\u63cf\u8ff0\u4e86\u5728RPi\u4e0a\u8fd0\u884cKlipper\u7684\u8fc7\u7a0b\uff0c\u5e76\u4f7f\u7528\u76f8\u540c\u7684RPi\u4f5c\u4e3a\u8f85\u52a9MCU\u3002","title":"RPi \u5fae\u63a7\u5236\u5668"},{"location":"RPi_microcontroller.html#rpimcu","text":"\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e13\u95e8\u7528\u4e8e\u63a7\u52363D\u6253\u5370\u673a\u7684MCU\u6709\u6709\u9650\u7684\u3001\u9884\u5148\u914d\u7f6e\u597d\u7684\u5f15\u811a\u6765\u7ba1\u7406\u4e3b\u8981\u7684\u6253\u5370\u529f\u80fd\uff08\u70ed\u654f\u7535\u963b\u3001\u6324\u51fa\u673a\u3001\u6b65\u8fdb\u5668...\uff09\u3002\u4f7f\u7528\u5b89\u88c5\u4e86Klipper\u7684RPi\u4f5c\u4e3a\u8f85\u52a9MCU\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528klipper\u5185\u7684GPIO\u548cRPi\u7684\u603b\u7ebf\uff08i2c\uff0cspi\uff09\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528Octoprint\u63d2\u4ef6\uff08\u5982\u679c\u4f7f\u7528\u7684\u8bdd\uff09\u6216\u5916\u90e8\u7a0b\u5e8f\uff0c\u4ece\u800c\u80fd\u591f\u63a7\u5236\u6253\u5370GCODE\u5185\u7684\u4e00\u5207\u3002 \u8b66\u544a \u3002\u5982\u679c\u4f60\u7684\u5e73\u53f0\u662f Beaglebone \uff0c\u5e76\u4e14\u4f60\u5df2\u7ecf\u6b63\u786e\u5730\u6309\u7167\u5b89\u88c5\u6b65\u9aa4\u8fdb\u884c\u4e86\u5b89\u88c5\uff0c\u90a3\u4e48linux mcu\u5df2\u7ecf\u4e3a\u4f60\u7684\u7cfb\u7edf\u5b89\u88c5\u548c\u914d\u7f6e\u4e86\u3002","title":"\u4e3a\u4ec0\u4e48\u4f7f\u7528RPi\u4f5c\u4e3a\u8f85\u52a9MCU\uff1f"},{"location":"RPi_microcontroller.html#rc","text":"\u5982\u679c\u4f60\u60f3\u628a\u4e3b\u673a\u4f5c\u4e3a\u4e00\u4e2a\u8f85\u52a9MCU\uff0cklipper_mcu\u8fdb\u7a0b\u5fc5\u987b\u5728klippy\u8fdb\u7a0b\u4e4b\u524d\u8fd0\u884c\u3002 \u5b89\u88c5 Klipper \u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u5b89\u88c5\u811a\u672c\uff1a cd ~/klipper/ sudo cp \"./scripts/klipper-mcu-start.sh\" /etc/init.d/klipper_mcu sudo update-rc.d klipper_mcu defaults","title":"\u5b89\u88c5 rc \u811a\u672c"},{"location":"RPi_microcontroller.html#_1","text":"\u8981\u7f16\u8bd1\u7684 Klipper \u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u9700\u8981\u5148\u5c06\u7f16\u8bd1\u914d\u7f6e\u8bbe\u7f6e\u4e3a\u201cLinux Process\u201d\uff1a cd ~/klipper/ make menuconfig \u5728\u83dc\u5355\u4e2d\uff0c\u8bbe\u7f6e\u201cMicrocontroller Archetecture\u201d\uff08\u5fae\u63a7\u5236\u5668\u67b6\u6784\uff09\u4e3a\u201cLinux Process\u201d\uff08Linux \u8fdb\u7a0b\uff09\uff0c\u7136\u540e\u4fdd\u5b58(save)\u5e76\u9000\u51fa(exit)\u3002 \u8981\u6784\u5efa\u548c\u5b89\u88c5\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4ee3\u7801\uff0c\u8bf7\u8fd0\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u5982\u679cklippy.log\u5728\u8bd5\u56fe\u8fde\u63a5\u5230 /tmp/klipper_host_mcu \u65f6\u8f93\u51fa \"Permission denied\" \u9519\u8bef\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u5c06\u4f60\u7684\u7528\u6237\u6dfb\u52a0\u5230tty\u7528\u6237\u7ec4\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5c06\u628a \"pi \"\u7528\u6237\u6dfb\u52a0\u5230tty\u7528\u6237\u7ec4\u4e2d\uff1a sudo usermod -a -G tty pi","title":"\u6784\u5efa\u5fae\u63a7\u5236\u5668\u4ee3\u7801"},{"location":"RPi_microcontroller.html#_2","text":"\u6309\u7167 RaspberryPi \u53c2\u8003\u914d\u7f6e \u548c \u591a\u5fae\u63a7\u5236\u5668\u53c2\u8003\u914d\u7f6e \u4e2d\u7684\u8bf4\u660e\u914d\u7f6eKlipper \u4e8c\u7ea7\u5fae\u63a7\u5236\u5668\u6765\u5b8c\u6210\u5b89\u88c5\u3002","title":"\u5269\u4f59\u7684\u914d\u7f6e"},{"location":"RPi_microcontroller.html#spi","text":"\u901a\u8fc7\u8fd0\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u5355\u4e2d\u542f\u7528 SPI \u4ee5\u786e\u4fddLinux SPI \u9a71\u52a8\u5df2\u542f\u7528\u3002","title":"\u53ef\u9009\uff1a\u542f\u7528 SPI"},{"location":"RPi_microcontroller.html#i2c","text":"\u901a\u8fc7\u8fd0\u884c sudo raspi-config \u5e76\u5728\"Interfacing options\"\uff08\u63a5\u53e3\u9009\u9879\uff09\u83dc\u5355\u4e0b\u542f\u7528I2C\u6765\u542f\u7528Linux\u7684I2C\u9a71\u52a8\u7a0b\u5e8f\u3002\u5982\u679c\u8ba1\u5212\u4f7f\u7528I2C\u4e0e MPU \u52a0\u901f\u5ea6\u8ba1\u8fdb\u884c\u8fde\u63a5\uff0c\u8fd8\u9700\u8981\u5c06\u6ce2\u7279\u7387\u8bbe\u7f6e\u4e3a400000\uff0c\u65b9\u6cd5\u662f\uff1a\u5728 /boot/config.txt \u4e2d\u6dfb\u52a0/\u53d6\u6d88\u6ce8\u91ca dtparam=i2c_arm=on,i2c_arm_baudrate=400000 \uff08\u5728\u67d0\u4e9b\u53d1\u884c\u7248\u4e2d\u9700\u8981\u4fee\u6539 /boot/firmware/config.txt \uff09\u3002","title":"\u53ef\u9009\uff1a\u542f\u7528 I2C"},{"location":"RPi_microcontroller.html#gpiochip","text":"\u5728Raspberry Pi\u548c\u8bb8\u591a\u7c7b\u4f3c\u7684\u5355\u677f\u7535\u8111\u4e0a\uff0c\u66b4\u9732\u5728 GPIO \u4e0a\u7684\u5f15\u811a\u5c5e\u4e8e\u7b2c\u4e00\u4e2agpiochip\u3002\u56e0\u6b64\uff0c\u5b83\u4eec\u53ef\u4ee5\u5728klipper\u4e0a\u4f7f\u7528\uff0c\u53ea\u9700\u7528 gpio0...n \u7684\u540d\u5b57\u6765\u5f15\u7528\u5b83\u4eec\u3002\u7136\u800c\uff0c\u5728\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u66b4\u9732\u7684\u5f15\u811a\u5c5e\u4e8e\u7b2c\u4e00\u4e2a\u4ee5\u5916\u7684gpiochips\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u4e9bOrangePi\u578b\u53f7\u6216\u8005\u5982\u679c\u4f7f\u7528\u4e86\u4e00\u4e2a\u7aef\u53e3\u6269\u5c55\u5668\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u4f7f\u7528\u547d\u4ee4\u8bbf\u95ee Linux GPIO character device \u6765\u9a8c\u8bc1\u914d\u7f6e\u662f\u6709\u7528\u7684\u3002 \u8981\u5728\u57fa\u4e8e Debian \u7684\u53d1\u884c\u7248\uff08\u5982 OctoPi\uff09\u4e0a\u5b89\u88c5 Linux GPIO character device - binary \uff0c\u8bf7\u8fd0\u884c\uff1a sudo apt-get install gpiod \u8981\u68c0\u67e5\u53ef\u7528\u7684gpiochip\uff0c\u8bf7\u8fd0\u884c\uff1a gpiodetect \u8981\u68c0\u67e5\u9488\u811a\u7f16\u53f7\u548c\u9488\u811a\u53ef\u7528\u6027\uff0c\u8bf7\u8fd0\u884c\uff1a gpioinfo \u56e0\u6b64\uff0c\u6240\u9009\u5f15\u811a\u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d\u53ef\u4ee5\u901a\u8fc7 gpiochip<n>/gpio<o> \u5f15\u7528\uff0c\u5176\u4e2d n \u662f\u7531 gpiodetect \u547d\u4ee4\u770b\u5230\u7684\u82af\u7247\u7f16\u53f7 o \u662f gpioinfo \u547d\u4ee4\u770b\u5230\u7684\u884c\u53f7\u3002 \u8b66\u544a\uff1a \u53ea\u6709\u6807\u8bb0\u4e3a unused \u7684 gpio \u624d\u53ef\u4ee5\u88ab\u4f7f\u7528\u3002\u4e00\u6761 \u7ebf\u8def \u4e0d\u53ef\u80fd\u88ab\u591a\u4e2a\u8fdb\u7a0b\u540c\u65f6\u4f7f\u7528\u3002 \u4f8b\u5982\uff0c\u5728\u6811\u8393\u6d3e 3B+\u4e0a \u5c06GPIO20\u4f5c\u4e3a Klipper \u7684\u4e00\u4e2a\u5f00\u5173\uff1a $ gpiodetect gpiochip0 [pinctrl-bcm2835] (54 lines) gpiochip1 [raspberrypi-exp-gpio] (8 lines) $ gpioinfo gpiochip0 - 54 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed unused input active-high line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high line 8: unnamed unused input active-high line 9: unnamed unused input active-high line 10: unnamed unused input active-high line 11: unnamed unused input active-high line 12: unnamed unused input active-high line 13: unnamed unused input active-high line 14: unnamed unused input active-high line 15: unnamed unused input active-high line 16: unnamed unused input active-high line 17: unnamed unused input active-high line 18: unnamed unused input active-high line 19: unnamed unused input active-high line 20: unnamed \"klipper\" output active-high [used] line 21: unnamed unused input active-high line 22: unnamed unused input active-high line 23: unnamed unused input active-high line 24: unnamed unused input active-high line 25: unnamed unused input active-high line 26: unnamed unused input active-high line 27: unnamed unused input active-high line 28: unnamed unused input active-high line 29: unnamed \"led0\" output active-high [used] line 30: unnamed unused input active-high line 31: unnamed unused input active-high line 32: unnamed unused input active-high line 33: unnamed unused input active-high line 34: unnamed unused input active-high line 35: unnamed unused input active-high line 36: unnamed unused input active-high line 37: unnamed unused input active-high line 38: unnamed unused input active-high line 39: unnamed unused input active-high line 40: unnamed unused input active-high line 41: unnamed unused input active-high line 42: unnamed unused input active-high line 43: unnamed unused input active-high line 44: unnamed unused input active-high line 45: unnamed unused input active-high line 46: unnamed unused input active-high line 47: unnamed unused input active-high line 48: unnamed unused input active-high line 49: unnamed unused input active-high line 50: unnamed unused input active-high line 51: unnamed unused input active-high line 52: unnamed unused input active-high line 53: unnamed unused input active-high gpiochip1 - 8 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed \"led1\" output active-low [used] line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high","title":"\u53ef\u9009\u6b65\u9aa4\uff1a\u8bc6\u522b\u6b63\u786e\u7684 gpiochip"},{"location":"RPi_microcontroller.html#pwm","text":"\u6811\u8393\u6d3e\u6709\u4e24\u4e2aPWM\u901a\u9053\uff08PWM0\u548cPWM1\uff09\uff0c\u5b83\u4eec\u901a\u5e38\u66b4\u9732\u5728header\u4e2d\u4e0a\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u53ef\u4ee5\u8def\u7531\u5230\u73b0\u6709\u7684 gpio \u5f15\u811a\u3002Linux mcu \u5b88\u62a4\u7a0b\u5e8f\u4f7f\u7528 pwmchip sysfs \u63a5\u53e3\u6765\u63a7\u5236 Linux \u4e3b\u673a\u4e0a\u7684\u786c\u4ef6 PWM \u8bbe\u5907\u3002pwm sysfs \u63a5\u53e3\u5728\u6811\u8393\u4e0a\u9ed8\u8ba4\u662f\u9690\u85cf\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u5728 /boot/config.txt \u4e2d\u52a0\u5165\u4e00\u884c\u8bbe\u7f6e\u6765\u6fc0\u6d3b\uff1a # \u542f\u7528 pwmchip sysfs \u63a5\u53e3 dtoverlay=pwm,pin=12,func=4 \u6b64\u793a\u4f8b\u4ec5\u542f\u7528 PWM0 \u5e76\u5c06\u5176\u8def\u7531\u5230 gpio12\u3002\u5982\u679c\u9700\u8981\u540c\u65f6\u542f\u7528\u4e24\u4e2a PWM \u901a\u9053\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 pwm-2chan \u3002 overlay \u5728\u542f\u52a8\u65f6\u4e0d\u4f1a\u5728 sysfs \u4e0a\u66b4\u9732\u51fa PWM \u7ebf\u8def\uff0c\u9700\u8981\u901a\u8fc7echo\u5c06 PWM \u901a\u9053\u7684\u7f16\u53f7\u5bfc\u51fa\u5230 /sys/class/pwm/pwmchip0/export \uff1a echo 0 > /sys/class/pwm/pwmchip0/export \u8fd9\u5c06\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u521b\u5efa\u8bbe\u5907 /sys/class/pwm/kwmchip0/pwm0 \u3002\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u5728 /etc/rc.local \u7684 exit 0 \u884c\u4e4b\u524d\u6dfb\u52a0\u8fd9\u884c\u3002 \u6709\u4e86 sysfs\uff0c\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7\u5c06\u4ee5\u4e0b\u914d\u7f6e\u6dfb\u52a0\u5230 printer.cfg \u6765\u4f7f\u7528 PWM \u901a\u9053\uff1a [output_pin caselight] pin: host:pwmchip0/pwm0 pwm: True hardware_pwm: True cycle_time: 0.000001 \u8fd9\u5c06\u4e3a\u6811\u8393\u6d3e\u4e0a\u7684 gpio12 \u5f15\u811a\u6dfb\u52a0\u786c\u4ef6 PWM \u63a7\u5236\uff08\u56e0\u4e3aoverlay\u88ab\u914d\u7f6e\u4e3a\u5c06 pwm0 \u8def\u7531\u5230 pin=12\uff09\u3002 PWM0 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio12 \u548c gpio18\uff0cPWM1 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio13 \u548c gpio19\uff1a PWM GPIO \u5f15\u811a \u529f\u80fd 0 12 4 0 18 2 1 13 4 1 19 2","title":"\u53ef\u9009\u529f\u80fd\uff1a\u786c\u4ef6 PWM"},{"location":"Releases.html","text":"\u7248\u672c\u53d1\u5e03 \u00b6 Klipper\u7248\u672c\u53d1\u5e03\u3002\u5982\u4f55\u5b89\u88c5Klipper \uff0c\u8bf7\u67e5\u770b installation \u3002 Klipper 0.10.0 \u00b6 Available on 20210929. Major changes in this release: Support for \"Multi-MCU Homing\". It is now possible for a stepper motor and its endstop to be wired to separate micro-controllers. This simplifies wiring of Z probes on \"toolhead boards\". Klipper now has a Community Discord Server and a Community Discourse Server . The Klipper website now uses the \"mkdocs\" infrastructure. There is also a Klipper Translations project. Automated support for flashing firmware via sdcard on many boards. New kinematic support for \"Hybrid CoreXY\" and \"Hybrid CoreXZ\" printers. Klipper now uses rotation_distance to configure stepper motor travel distances. The main Klipper host code can now directly communicate with micro-controllers using CAN bus. New \"motion analysis\" system. Klipper's internal motion updates and sensor results can be tracked and logged for analysis. Trinamic stepper motor drivers are now continuously monitored for error conditions. Support for the rp2040 micro-controller (Raspberry Pi Pico boards). The \"make menuconfig\" system now utilizes kconfiglib. Many additional modules added: ds18b20, duplicate_pin_override, filament_motion_sensor, palette2, motion_report, pca9533, pulse_counter, save_variables, sdcard_loop, temperature_host, temperature_mcu \u51e0\u4e2a\u9519\u8bef\u7684\u4fee\u590d\u548c\u4ee3\u7801\u7684\u6e05\u7406\u3002 Klipper 0.9.0 \u00b6 \u53d1\u5e03\u4e8e2020\u5e7410\u670820\u65e5\uff0c\u6b64\u7248\u672c\u66f4\u65b0\u5185\u5bb9: \u652f\u6301\u4f7f\u7528\u201c\u8f93\u5165\u6574\u5f62\u201d\u529f\u80fd - \u6b64\u529f\u80fd\u4e3b\u8981\u4f5c\u7528\u662f\u62b5\u6d88\u6253\u5370\u673a\u5171\u632f\u3002\u5b83\u53ef\u4ee5\u51cf\u5c11\u751a\u81f3\u6d88\u9664\u6253\u5370\u4e2d\u4ea7\u751f\u7684\u201cringing\u201d\u632f\u7eb9\u3002 \u201cSmooth Pressure Advance\u201d\u5168\u65b0\u7684\u6324\u51fa\u7b97\u6cd5\u673a\u5236\u3002\u8fd9\u5b9e\u73b0\u4e86\u201cPressure Advance\u201d(\u6253\u5370\u6324\u51fa\uff09\u540c\u65f6\u4e0d\u4f1a\u5f15\u8d77\u6324\u51fa\u901f\u5ea6\u77ac\u95f4\u7684\u6539\u53d8\uff0c\u76f8\u53cd\u4f1a\u53d8\u5f97\u66f4\u52a0\u5e73\u6ed1\u3002\u73b0\u5728\u4e5f\u53ef\u4ee5\u4f7f\u7528\u201cTuning Tower\u201d\u65b9\u6cd5\u6765\u8c03\u6574\u201cPressure Advance\u201d(\u6253\u5370\u6324\u51fa\uff09\u3002 \u201cwebhooks\u201d\u5168\u65b0\u7684API \u670d\u52a1\u5668\u3002 \u8fd9\u6b21 Klipper \u6dfb\u52a0\u4e86\u53ef\u7f16\u7a0b\u7684 JSON \u63a5\u53e3\u3002 \u73b0\u5728\u53ef\u4ee5\u4f7f\u7528 Jinja2 \u6a21\u677f\u8bed\u8a00\u914d\u7f6e LCD \u663e\u793a\u548c\u83dc\u5355\u3002 \u73b0\u5728TMC2208 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u53ef\u4ee5\u5728 Klipper\u7cfb\u7edf\u4e2d \u4f7f\u7528\u201cstandalone\u201d\u6a21\u5f0f\u3002 \u652f\u6301\u5e76\u4f18\u5316\u4f7f\u7528BL-Touch v3 \u3002 \u6539\u8fdb\u4e86USB\u8bc6\u522b\u3002Klipper\u73b0\u5728\u6709\u81ea\u5df1\u7684USB\u8bc6\u522b\u4ee3\u7801\uff0c\u5fae\u63a7\u5236\u5668\u73b0\u5728\u53ef\u4ee5\u5728USB\u8bc6\u522b\u671f\u95f4\u62a5\u544a\u5176\u552f\u4e00\u7684\u5e8f\u5217\u53f7\u3002 \u5bf9 \"Rotary Delta \"\u548c \"CoreXZ \"\u6253\u5370\u673a\u7684\u65b0\u8fd0\u52a8\u5b66\u652f\u6301\u3002 \u5fae\u63a7\u5236\u5668\u7684\u6539\u8fdb\uff1a\u652f\u6301stm32f070\uff0c\u652f\u6301stm32f207\uff0c\u652f\u6301 \"Linux MCU \"\u7684GPIO\u5f15\u811a\uff0c\u652f\u6301stm32 \"HID\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\"\uff0c\u652f\u6301Chitu\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u652f\u6301MKS Robin\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u3002 \u6539\u8fdb\u4e86\u5bf9Python \"\u5783\u573e\u6536\u96c6 \"\u4e8b\u4ef6\u7684\u5904\u7406\u3002 \u589e\u52a0\u4e86\u8bb8\u591a\u989d\u5916\u7684\u6a21\u5757\uff1aadc_scaled, adxl345, bme280, display_status, extruder_stepper, fan_generic, hall_filament_width_sensor, htu21d, homing_heaters, input_shaper, lm75, print_stats, resonance_tester, shaper_calibrate, query_adc, graph_accelerometer, graph_extruder, graph_motion, graph_shaper, graph_temp_sensor, whconsole \u51e0\u4e2a\u9519\u8bef\u7684\u4fee\u590d\u548c\u4ee3\u7801\u7684\u6e05\u7406\u3002 Klipper 0.9.1 \u00b6 \u572820201028\u53d1\u5e03\u3002\u53ea\u5305\u542b\u9519\u8bef\u4fee\u590d\u3002 Klipper 0.8.0 \u00b6 \u572820191021\u5e74\u53d1\u5e03\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u53d8\u5316\uff1a \u65b0\u7684G-Code\u547d\u4ee4\u6a21\u677f\u652f\u6301\u3002\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684G-Code\u73b0\u5728\u53ef\u4ee5\u7528Jinja2\u6a21\u677f\u8bed\u8a00\u8fdb\u884c\u7f16\u5199\u3002 \u5bf9Trinamic\u6b65\u8fdb\u9a71\u52a8\u5668\u7684\u6539\u8fdb\uff1a \u65b0\u589e\u5bf9TMC2209\u548cTMC5160\u9a71\u52a8\u5668\u7684\u652f\u6301\u3002 \u6539\u8fdb\u4e86 DUMP_TMC\u3001SET_TMC_CURRENT \u548c INIT_TMC G-Code \u547d\u4ee4\u3002 \u901a\u8fc7\u6a21\u62df\u4e00\u4e2a\u591a\u8def\u590d\u7528\u5668\u6539\u8fdb\u4e86\u5bf9 TMC UART \u5904\u7406\u7684\u652f\u6301\u3002 \u6539\u8fdb\u4e86\u5bf9\u5f52\u4f4d\u3001\u63a2\u6d4b\u548c\u5e8a\u4f4d\u5e73\u6574\u7684\u652f\u6301\uff1a \u65b0\u589e manual_probe, bed_screws, screws_tilt_adjust, skew_correction, safe_z_home \u6a21\u5757\u3002 \u901a\u8fc7\u4f7f\u7528\u4e2d\u4f4d\u6570\u3001\u5e73\u5747\u503c\u548c\u91cd\u8bd5\u903b\u8f91\u6539\u8fdb\u4e86\u591a\u6837\u672c\u63a2\u6d4b\u3002 \u6539\u8fdb\u4e86 BL-Touch\u3001\u63a2\u9488\u6821\u51c6\u3001\u9650\u4f4d\u6821\u51c6\u3001\u4e09\u89d2\u6d32\u6821\u51c6\u3001\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u548c\u9650\u4f4d\u76f8\u4f4d\u6821\u51c6\u7684\u6587\u6863\u3002 \u6539\u8fdb\u4e86\u957f Z \u8f74\u4e0a\u7684\u5f52\u4f4d\u652f\u6301\u3002 \u8bb8\u591a Klipper \u5fae\u63a7\u5236\u5668\u6539\u8fdb\uff1a Klipper \u88ab\u79fb\u690d\u5230\uff1asam3x8c\u3001sam4s8c\u3001samd51\u3001stm32f042\u548cstm32f4 SAM3X\u3001SAM4\u3001STM32F4 \u4e0a\u73b0\u5728\u7684\u4f7f\u7528\u4e86\u4e00\u4e2a\u4eba\u65b0\u7684 USB CDC \u9a71\u52a8\u7a0b\u5e8f\u5b9e\u73b0\u3002 \u6539\u8fdb\u4e86\u5bf9\u901a\u8fc7 USB \u5237\u5199 Klipper \u7684\u652f\u6301\u3002 \u652f\u6301\u8f6f\u4ef6 SPI\u3002 \u5927\u5927\u6539\u5584\u4e86 LPC176x \u7684\u6e29\u5ea6\u6ee4\u6ce2\u3002 \u53ef\u4ee5\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u914d\u7f6e\u521d\u59cb\u5f15\u811a\u8f93\u51fa\u3002 Klipper \u6587\u6863\u7684\u65b0\u7f51\u7ad9\uff1a http://klipper3d.org/ Klipper \u73b0\u5728\u6709\u4e86\u4e00\u4e2a\u6807\u5fd7\u3002 \u5bf9polar\u548c\"cable winch\"\u8fd0\u52a8\u5b66\u7684\u5b9e\u9a8c\u6027\u652f\u6301\u3002 \u914d\u7f6e\u6587\u4ef6\u73b0\u5728\u53ef\u4ee5\u5305\u62ec\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6\u3002 \u6dfb\u52a0\u4e86\u8bb8\u591a\u65b0\u7684\u6a21\u5757\uff1aboard_pins\uff0ccontroller_fan\uff0cdelayed_gcode\uff0cdotstar\uff0cfilament_switch_sensor\uff0cfirmware_retraction\uff0cgcode_arcs\uff0cgcode_button\uff0cheater_generic\uff0cmanual_stepper\uff0cmcp4018\uff0cmcp4728\uff0cneopixel\uff0cpause_resume\uff0c\u54cd\u5e94\uff0ctemperature_sensor tsl1401cl_filament_width_sensor\uff0ctuning_tower \u589e\u52a0\u4e86\u8bb8\u591a\u547d\u4ee4\uff1aRESTORE_GCODE_STATE\u3001SAVE_GCODE_STATE\u3001SET_GCODE_VARIABLE\u3001SET_HEATER_TEMPERATURE\u3001SET_IDLE_TIMEOUT SET_TEMPERATURE_FAN_TARGET \u51e0\u4e2a\u9519\u8bef\u7684\u4fee\u590d\u548c\u4ee3\u7801\u7684\u6e05\u7406\u3002 Klipper 0.7.0 \u00b6 \u53d1\u5e03\u4e8e2018\u5e7412\u670820\u65e5\uff0c\u6b64\u7248\u672c\u66f4\u65b0\u5185\u5bb9: Klipper \u73b0\u5728\u652f\u6301\u201c\u7f51\u72b6\u201d\u6253\u5370\u5e8a\u8c03\u5e73 \u65b0\u589e\u5bf9\u201c\u589e\u5f3a\u201d\u4e09\u89d2\u6d32\u6821\u51c6\u7684\u652f\u6301\uff08\u6821\u51c6\u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\u7684\u6253\u5370 x/y \u5c3a\u5bf8\uff09 \u652f\u6301\u8fd0\u884c\u65f6\u914d\u7f6e Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff08tmc2130, tmc2208, tmc2660\uff09 \u6539\u8fdb\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u652f\u6301\uff1aMAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001\u5b9a\u5236\u70ed\u654f\u7535\u963b\u3001common pt100\u7c7b\u4f20\u611f\u5668 \u51e0\u4e2a\u65b0\u6a21\u5757\uff1atemperature_fan, sx1509, force_move, mcp4451, z_tilt, quad_gantry_level, endstop_phase, bltouch \u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u547d\u4ee4\uff1aSAVE_CONFIG\u3001SET_PRESSURE_ADVANCE\u3001SET_GCODE_OFFSET\u3001SET_VELOCITY_LIMIT\u3001STEPPER_BUZZ\u3001TURN_OFF_HEATERS\u3001M204\u3001\u81ea\u5b9a\u4e49G\u4ee3\u7801\u5b8f \u6269\u5c55 LCD \u663e\u793a\u652f\u6301\uff1a Support for run-time menus \u65b0\u7684\u663e\u793a\u5c4f\u56fe\u6807 \u5bf9\u201cuc1701\u201d\u548c\u201cssd1306\u201d\u663e\u793a\u5668\u7684\u652f\u6301 \u652f\u6301\u66f4\u591a\u7684\u5fae\u63a7\u5236\u5668\uff1a Klipper\u88ab\u79fb\u690d\u5230\uff1aLPC176x (Smoothieboards), SAM4E8E (Duet2), SAMD21 (Arduino Zero), STM32F103 (\"Blue pill\" devices), atmega32u4 \u5728AVR\u3001LPC176x\u3001SAMD21\u548cSTM32F103\u4e0a\u5b9e\u73b0\u4e86\u65b0\u7684\u901a\u7528USB CDC\u9a71\u52a8\u7a0b\u5e8f \u6539\u5584\u4e86\u5728ARM\u5904\u7406\u5668\u4e0a\u8fd0\u884c\u65f6\u7684\u6027\u80fd \u8fd0\u52a8\u5b66\u4ee3\u7801\u88ab\u91cd\u5199\u4e3a\u4f7f\u7528\"\u8fed\u4ee3\u6c42\u89e3\u5668\" \u9002\u7528\u4e8e Klipper \u4e3b\u673a\u8f6f\u4ef6\u7684\u65b0\u81ea\u52a8\u6d4b\u8bd5\u7528\u4f8b \u4e3a\u5e38\u89c1\u7684\u5546\u54c1\u6253\u5370\u673a\u63d0\u4f9b\u4e86\u8bb8\u591a\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u8303\u4f8b \u66f4\u65b0\u4e86\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u3001\u57fa\u51c6\u6d4b\u8bd5\u3001\u5fae\u63a7\u5236\u5668\u79fb\u690d\u3001\u914d\u7f6e\u68c0\u67e5\u3001\u5f15\u811a\u6620\u5c04\u3001\u5207\u7247\u8bbe\u7f6e\u3001\u6253\u5305\u7b49\u7684\u6587\u6863 \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801 Klipper 0.6.0 \u00b6 \u53d1\u5e03\u4e8e2018\u5e743\u670831\u65e5\u3002\u6b64\u7248\u672c\u7684\u91cd\u8981\u53d8\u5316\uff1a \u6539\u8fdb\u4e86\u52a0\u70ed\u5668\u548c\u70ed\u654f\u7535\u963b\u786c\u4ef6\u6545\u969c\u68c0\u67e5 \u652f\u6301 Z \u63a2\u9488 \u521d\u6b65\u652f\u6301\u5bf9\u4e09\u89d2\u6d32\u7684\u81ea\u52a8\u53c2\u6570\u6821\u51c6\uff08\u901a\u8fc7\u4e00\u4e2a\u65b0\u7684delta_calibrate\u547d\u4ee4\uff09 \u6700\u521d\u652f\u6301\u6253\u5370\u5e8a\u503e\u659c\u8865\u507f\uff08\u901a\u8fc7bed_tilt_calibrate\u547d\u4ee4\uff09 \u521d\u6b65\u652f\u6301 \"\u5b89\u5168\u5f52\u4f4d \"\u548c\u5f52\u4f4d\u91cd\u5199 Initial support for displaying status on RepRapDiscount style 2004 and 12864 displays New multi-extruder improvements: Support for shared heaters Initial support for dual carriages Support for configuring multiple steppers per axis (eg, dual Z) Support for custom digital and pwm output pins (with a new SET_PIN command) Initial support for a \"virtual sdcard\" that allows printing directly from Klipper (helps on machines too slow to run OctoPrint well) Support for setting different arm lengths on each tower of a delta Support for G-Code M220/M221 commands (speed factor override / extrude factor override) Several documentation updates: \u4e3a\u5e38\u89c1\u7684\u5546\u54c1\u6253\u5370\u673a\u63d0\u4f9b\u4e86\u8bb8\u591a\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u8303\u4f8b New multiple MCU config example New bltouch sensor config example New FAQ, config check, and G-Code documents Initial support for continuous integration testing on all github commits \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801 Klipper 0.5.0 \u00b6 Available on 20171025. Major changes in this release: Support for printers with multiple extruders. Initial support for running on the Beaglebone PRU. Initial support for the Replicape board. Initial support for running the micro-controller code in a real-time Linux process. Support for multiple micro-controllers. (For example, one could control an extruder with one micro-controller and the rest of the printer with another.) Software clock synchronization is implemented to coordinate actions between micro-controllers. Stepper performance improvements (20Mhz AVRs up to 189K steps per second). Support for controlling servos and support for defining nozzle cooling fans. \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801 Klipper 0.4.0 \u00b6 Available on 20170503. Major changes in this release: Improved installation on Raspberry Pi machines. Most of the install is now scripted. Support for corexy kinematics Documentation updates: New Kinematics document, new Pressure Advance tuning guide, new example config files, and more Stepper performance improvements (20Mhz AVRs over 175K steps per second, Arduino Due over 460K) Support for automatic micro-controller resets. Support for resets via toggling USB power on Raspberry Pi. The pressure advance algorithm now works with look-ahead to reduce pressure changes during cornering. Support for limiting the top speed of short zigzag moves Support for AD595 sensors \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801 Klipper 0.3.0 \u00b6 Available on 20161223. Major changes in this release: Improved documentation Support for robots with delta kinematics Support for Arduino Due micro-controller (ARM cortex-M3) Support for USB based AVR micro-controllers Support for \"pressure advance\" algorithm - it reduces ooze during prints. New \"stepper phased based endstop\" feature - enables higher precision on endstop homing. Support for \"extended g-code\" commands such as \"help\", \"restart\", and \"status\". Support for reloading the Klipper config and restarting the host software by issuing a \"restart\" command from the terminal. Stepper performance improvements (20Mhz AVRs up to 158K steps per second). Improved error reporting. Most errors now shown via the terminal along with help on how to resolve. \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801 Klipper 0.2.0 \u00b6 Initial release of Klipper. Available on 20160525. Major features available in the initial release include: Basic support for cartesian printers (steppers, extruder, heated bed, cooling fan). Support for common g-code commands. Support for interfacing with OctoPrint. Acceleration and lookahead handling Support for AVR micro-controllers via standard serial ports","title":"\u7248\u672c\u53d1\u5e03"},{"location":"Releases.html#_1","text":"Klipper\u7248\u672c\u53d1\u5e03\u3002\u5982\u4f55\u5b89\u88c5Klipper \uff0c\u8bf7\u67e5\u770b installation \u3002","title":"\u7248\u672c\u53d1\u5e03"},{"location":"Releases.html#klipper-0100","text":"Available on 20210929. Major changes in this release: Support for \"Multi-MCU Homing\". It is now possible for a stepper motor and its endstop to be wired to separate micro-controllers. This simplifies wiring of Z probes on \"toolhead boards\". Klipper now has a Community Discord Server and a Community Discourse Server . The Klipper website now uses the \"mkdocs\" infrastructure. There is also a Klipper Translations project. Automated support for flashing firmware via sdcard on many boards. New kinematic support for \"Hybrid CoreXY\" and \"Hybrid CoreXZ\" printers. Klipper now uses rotation_distance to configure stepper motor travel distances. The main Klipper host code can now directly communicate with micro-controllers using CAN bus. New \"motion analysis\" system. Klipper's internal motion updates and sensor results can be tracked and logged for analysis. Trinamic stepper motor drivers are now continuously monitored for error conditions. Support for the rp2040 micro-controller (Raspberry Pi Pico boards). The \"make menuconfig\" system now utilizes kconfiglib. Many additional modules added: ds18b20, duplicate_pin_override, filament_motion_sensor, palette2, motion_report, pca9533, pulse_counter, save_variables, sdcard_loop, temperature_host, temperature_mcu \u51e0\u4e2a\u9519\u8bef\u7684\u4fee\u590d\u548c\u4ee3\u7801\u7684\u6e05\u7406\u3002","title":"Klipper 0.10.0"},{"location":"Releases.html#klipper-090","text":"\u53d1\u5e03\u4e8e2020\u5e7410\u670820\u65e5\uff0c\u6b64\u7248\u672c\u66f4\u65b0\u5185\u5bb9: \u652f\u6301\u4f7f\u7528\u201c\u8f93\u5165\u6574\u5f62\u201d\u529f\u80fd - \u6b64\u529f\u80fd\u4e3b\u8981\u4f5c\u7528\u662f\u62b5\u6d88\u6253\u5370\u673a\u5171\u632f\u3002\u5b83\u53ef\u4ee5\u51cf\u5c11\u751a\u81f3\u6d88\u9664\u6253\u5370\u4e2d\u4ea7\u751f\u7684\u201cringing\u201d\u632f\u7eb9\u3002 \u201cSmooth Pressure Advance\u201d\u5168\u65b0\u7684\u6324\u51fa\u7b97\u6cd5\u673a\u5236\u3002\u8fd9\u5b9e\u73b0\u4e86\u201cPressure Advance\u201d(\u6253\u5370\u6324\u51fa\uff09\u540c\u65f6\u4e0d\u4f1a\u5f15\u8d77\u6324\u51fa\u901f\u5ea6\u77ac\u95f4\u7684\u6539\u53d8\uff0c\u76f8\u53cd\u4f1a\u53d8\u5f97\u66f4\u52a0\u5e73\u6ed1\u3002\u73b0\u5728\u4e5f\u53ef\u4ee5\u4f7f\u7528\u201cTuning Tower\u201d\u65b9\u6cd5\u6765\u8c03\u6574\u201cPressure Advance\u201d(\u6253\u5370\u6324\u51fa\uff09\u3002 \u201cwebhooks\u201d\u5168\u65b0\u7684API \u670d\u52a1\u5668\u3002 \u8fd9\u6b21 Klipper \u6dfb\u52a0\u4e86\u53ef\u7f16\u7a0b\u7684 JSON \u63a5\u53e3\u3002 \u73b0\u5728\u53ef\u4ee5\u4f7f\u7528 Jinja2 \u6a21\u677f\u8bed\u8a00\u914d\u7f6e LCD \u663e\u793a\u548c\u83dc\u5355\u3002 \u73b0\u5728TMC2208 \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u53ef\u4ee5\u5728 Klipper\u7cfb\u7edf\u4e2d \u4f7f\u7528\u201cstandalone\u201d\u6a21\u5f0f\u3002 \u652f\u6301\u5e76\u4f18\u5316\u4f7f\u7528BL-Touch v3 \u3002 \u6539\u8fdb\u4e86USB\u8bc6\u522b\u3002Klipper\u73b0\u5728\u6709\u81ea\u5df1\u7684USB\u8bc6\u522b\u4ee3\u7801\uff0c\u5fae\u63a7\u5236\u5668\u73b0\u5728\u53ef\u4ee5\u5728USB\u8bc6\u522b\u671f\u95f4\u62a5\u544a\u5176\u552f\u4e00\u7684\u5e8f\u5217\u53f7\u3002 \u5bf9 \"Rotary Delta \"\u548c \"CoreXZ \"\u6253\u5370\u673a\u7684\u65b0\u8fd0\u52a8\u5b66\u652f\u6301\u3002 \u5fae\u63a7\u5236\u5668\u7684\u6539\u8fdb\uff1a\u652f\u6301stm32f070\uff0c\u652f\u6301stm32f207\uff0c\u652f\u6301 \"Linux MCU \"\u7684GPIO\u5f15\u811a\uff0c\u652f\u6301stm32 \"HID\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\"\uff0c\u652f\u6301Chitu\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\uff0c\u652f\u6301MKS Robin\u542f\u52a8\u5f15\u5bfc\u7a0b\u5e8f\u3002 \u6539\u8fdb\u4e86\u5bf9Python \"\u5783\u573e\u6536\u96c6 \"\u4e8b\u4ef6\u7684\u5904\u7406\u3002 \u589e\u52a0\u4e86\u8bb8\u591a\u989d\u5916\u7684\u6a21\u5757\uff1aadc_scaled, adxl345, bme280, display_status, extruder_stepper, fan_generic, hall_filament_width_sensor, htu21d, homing_heaters, input_shaper, lm75, print_stats, resonance_tester, shaper_calibrate, query_adc, graph_accelerometer, graph_extruder, graph_motion, graph_shaper, graph_temp_sensor, whconsole \u51e0\u4e2a\u9519\u8bef\u7684\u4fee\u590d\u548c\u4ee3\u7801\u7684\u6e05\u7406\u3002","title":"Klipper 0.9.0"},{"location":"Releases.html#klipper-091","text":"\u572820201028\u53d1\u5e03\u3002\u53ea\u5305\u542b\u9519\u8bef\u4fee\u590d\u3002","title":"Klipper 0.9.1"},{"location":"Releases.html#klipper-080","text":"\u572820191021\u5e74\u53d1\u5e03\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u53d8\u5316\uff1a \u65b0\u7684G-Code\u547d\u4ee4\u6a21\u677f\u652f\u6301\u3002\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684G-Code\u73b0\u5728\u53ef\u4ee5\u7528Jinja2\u6a21\u677f\u8bed\u8a00\u8fdb\u884c\u7f16\u5199\u3002 \u5bf9Trinamic\u6b65\u8fdb\u9a71\u52a8\u5668\u7684\u6539\u8fdb\uff1a \u65b0\u589e\u5bf9TMC2209\u548cTMC5160\u9a71\u52a8\u5668\u7684\u652f\u6301\u3002 \u6539\u8fdb\u4e86 DUMP_TMC\u3001SET_TMC_CURRENT \u548c INIT_TMC G-Code \u547d\u4ee4\u3002 \u901a\u8fc7\u6a21\u62df\u4e00\u4e2a\u591a\u8def\u590d\u7528\u5668\u6539\u8fdb\u4e86\u5bf9 TMC UART \u5904\u7406\u7684\u652f\u6301\u3002 \u6539\u8fdb\u4e86\u5bf9\u5f52\u4f4d\u3001\u63a2\u6d4b\u548c\u5e8a\u4f4d\u5e73\u6574\u7684\u652f\u6301\uff1a \u65b0\u589e manual_probe, bed_screws, screws_tilt_adjust, skew_correction, safe_z_home \u6a21\u5757\u3002 \u901a\u8fc7\u4f7f\u7528\u4e2d\u4f4d\u6570\u3001\u5e73\u5747\u503c\u548c\u91cd\u8bd5\u903b\u8f91\u6539\u8fdb\u4e86\u591a\u6837\u672c\u63a2\u6d4b\u3002 \u6539\u8fdb\u4e86 BL-Touch\u3001\u63a2\u9488\u6821\u51c6\u3001\u9650\u4f4d\u6821\u51c6\u3001\u4e09\u89d2\u6d32\u6821\u51c6\u3001\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u548c\u9650\u4f4d\u76f8\u4f4d\u6821\u51c6\u7684\u6587\u6863\u3002 \u6539\u8fdb\u4e86\u957f Z \u8f74\u4e0a\u7684\u5f52\u4f4d\u652f\u6301\u3002 \u8bb8\u591a Klipper \u5fae\u63a7\u5236\u5668\u6539\u8fdb\uff1a Klipper \u88ab\u79fb\u690d\u5230\uff1asam3x8c\u3001sam4s8c\u3001samd51\u3001stm32f042\u548cstm32f4 SAM3X\u3001SAM4\u3001STM32F4 \u4e0a\u73b0\u5728\u7684\u4f7f\u7528\u4e86\u4e00\u4e2a\u4eba\u65b0\u7684 USB CDC \u9a71\u52a8\u7a0b\u5e8f\u5b9e\u73b0\u3002 \u6539\u8fdb\u4e86\u5bf9\u901a\u8fc7 USB \u5237\u5199 Klipper \u7684\u652f\u6301\u3002 \u652f\u6301\u8f6f\u4ef6 SPI\u3002 \u5927\u5927\u6539\u5584\u4e86 LPC176x \u7684\u6e29\u5ea6\u6ee4\u6ce2\u3002 \u53ef\u4ee5\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u914d\u7f6e\u521d\u59cb\u5f15\u811a\u8f93\u51fa\u3002 Klipper \u6587\u6863\u7684\u65b0\u7f51\u7ad9\uff1a http://klipper3d.org/ Klipper \u73b0\u5728\u6709\u4e86\u4e00\u4e2a\u6807\u5fd7\u3002 \u5bf9polar\u548c\"cable winch\"\u8fd0\u52a8\u5b66\u7684\u5b9e\u9a8c\u6027\u652f\u6301\u3002 \u914d\u7f6e\u6587\u4ef6\u73b0\u5728\u53ef\u4ee5\u5305\u62ec\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6\u3002 \u6dfb\u52a0\u4e86\u8bb8\u591a\u65b0\u7684\u6a21\u5757\uff1aboard_pins\uff0ccontroller_fan\uff0cdelayed_gcode\uff0cdotstar\uff0cfilament_switch_sensor\uff0cfirmware_retraction\uff0cgcode_arcs\uff0cgcode_button\uff0cheater_generic\uff0cmanual_stepper\uff0cmcp4018\uff0cmcp4728\uff0cneopixel\uff0cpause_resume\uff0c\u54cd\u5e94\uff0ctemperature_sensor tsl1401cl_filament_width_sensor\uff0ctuning_tower \u589e\u52a0\u4e86\u8bb8\u591a\u547d\u4ee4\uff1aRESTORE_GCODE_STATE\u3001SAVE_GCODE_STATE\u3001SET_GCODE_VARIABLE\u3001SET_HEATER_TEMPERATURE\u3001SET_IDLE_TIMEOUT SET_TEMPERATURE_FAN_TARGET \u51e0\u4e2a\u9519\u8bef\u7684\u4fee\u590d\u548c\u4ee3\u7801\u7684\u6e05\u7406\u3002","title":"Klipper 0.8.0"},{"location":"Releases.html#klipper-070","text":"\u53d1\u5e03\u4e8e2018\u5e7412\u670820\u65e5\uff0c\u6b64\u7248\u672c\u66f4\u65b0\u5185\u5bb9: Klipper \u73b0\u5728\u652f\u6301\u201c\u7f51\u72b6\u201d\u6253\u5370\u5e8a\u8c03\u5e73 \u65b0\u589e\u5bf9\u201c\u589e\u5f3a\u201d\u4e09\u89d2\u6d32\u6821\u51c6\u7684\u652f\u6301\uff08\u6821\u51c6\u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a\u7684\u6253\u5370 x/y \u5c3a\u5bf8\uff09 \u652f\u6301\u8fd0\u884c\u65f6\u914d\u7f6e Trinamic \u6b65\u8fdb\u7535\u673a\u9a71\u52a8\uff08tmc2130, tmc2208, tmc2660\uff09 \u6539\u8fdb\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u652f\u6301\uff1aMAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001\u5b9a\u5236\u70ed\u654f\u7535\u963b\u3001common pt100\u7c7b\u4f20\u611f\u5668 \u51e0\u4e2a\u65b0\u6a21\u5757\uff1atemperature_fan, sx1509, force_move, mcp4451, z_tilt, quad_gantry_level, endstop_phase, bltouch \u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u547d\u4ee4\uff1aSAVE_CONFIG\u3001SET_PRESSURE_ADVANCE\u3001SET_GCODE_OFFSET\u3001SET_VELOCITY_LIMIT\u3001STEPPER_BUZZ\u3001TURN_OFF_HEATERS\u3001M204\u3001\u81ea\u5b9a\u4e49G\u4ee3\u7801\u5b8f \u6269\u5c55 LCD \u663e\u793a\u652f\u6301\uff1a Support for run-time menus \u65b0\u7684\u663e\u793a\u5c4f\u56fe\u6807 \u5bf9\u201cuc1701\u201d\u548c\u201cssd1306\u201d\u663e\u793a\u5668\u7684\u652f\u6301 \u652f\u6301\u66f4\u591a\u7684\u5fae\u63a7\u5236\u5668\uff1a Klipper\u88ab\u79fb\u690d\u5230\uff1aLPC176x (Smoothieboards), SAM4E8E (Duet2), SAMD21 (Arduino Zero), STM32F103 (\"Blue pill\" devices), atmega32u4 \u5728AVR\u3001LPC176x\u3001SAMD21\u548cSTM32F103\u4e0a\u5b9e\u73b0\u4e86\u65b0\u7684\u901a\u7528USB CDC\u9a71\u52a8\u7a0b\u5e8f \u6539\u5584\u4e86\u5728ARM\u5904\u7406\u5668\u4e0a\u8fd0\u884c\u65f6\u7684\u6027\u80fd \u8fd0\u52a8\u5b66\u4ee3\u7801\u88ab\u91cd\u5199\u4e3a\u4f7f\u7528\"\u8fed\u4ee3\u6c42\u89e3\u5668\" \u9002\u7528\u4e8e Klipper \u4e3b\u673a\u8f6f\u4ef6\u7684\u65b0\u81ea\u52a8\u6d4b\u8bd5\u7528\u4f8b \u4e3a\u5e38\u89c1\u7684\u5546\u54c1\u6253\u5370\u673a\u63d0\u4f9b\u4e86\u8bb8\u591a\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u8303\u4f8b \u66f4\u65b0\u4e86\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u3001\u57fa\u51c6\u6d4b\u8bd5\u3001\u5fae\u63a7\u5236\u5668\u79fb\u690d\u3001\u914d\u7f6e\u68c0\u67e5\u3001\u5f15\u811a\u6620\u5c04\u3001\u5207\u7247\u8bbe\u7f6e\u3001\u6253\u5305\u7b49\u7684\u6587\u6863 \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801","title":"Klipper 0.7.0"},{"location":"Releases.html#klipper-060","text":"\u53d1\u5e03\u4e8e2018\u5e743\u670831\u65e5\u3002\u6b64\u7248\u672c\u7684\u91cd\u8981\u53d8\u5316\uff1a \u6539\u8fdb\u4e86\u52a0\u70ed\u5668\u548c\u70ed\u654f\u7535\u963b\u786c\u4ef6\u6545\u969c\u68c0\u67e5 \u652f\u6301 Z \u63a2\u9488 \u521d\u6b65\u652f\u6301\u5bf9\u4e09\u89d2\u6d32\u7684\u81ea\u52a8\u53c2\u6570\u6821\u51c6\uff08\u901a\u8fc7\u4e00\u4e2a\u65b0\u7684delta_calibrate\u547d\u4ee4\uff09 \u6700\u521d\u652f\u6301\u6253\u5370\u5e8a\u503e\u659c\u8865\u507f\uff08\u901a\u8fc7bed_tilt_calibrate\u547d\u4ee4\uff09 \u521d\u6b65\u652f\u6301 \"\u5b89\u5168\u5f52\u4f4d \"\u548c\u5f52\u4f4d\u91cd\u5199 Initial support for displaying status on RepRapDiscount style 2004 and 12864 displays New multi-extruder improvements: Support for shared heaters Initial support for dual carriages Support for configuring multiple steppers per axis (eg, dual Z) Support for custom digital and pwm output pins (with a new SET_PIN command) Initial support for a \"virtual sdcard\" that allows printing directly from Klipper (helps on machines too slow to run OctoPrint well) Support for setting different arm lengths on each tower of a delta Support for G-Code M220/M221 commands (speed factor override / extrude factor override) Several documentation updates: \u4e3a\u5e38\u89c1\u7684\u5546\u54c1\u6253\u5370\u673a\u63d0\u4f9b\u4e86\u8bb8\u591a\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\u8303\u4f8b New multiple MCU config example New bltouch sensor config example New FAQ, config check, and G-Code documents Initial support for continuous integration testing on all github commits \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801","title":"Klipper 0.6.0"},{"location":"Releases.html#klipper-050","text":"Available on 20171025. Major changes in this release: Support for printers with multiple extruders. Initial support for running on the Beaglebone PRU. Initial support for the Replicape board. Initial support for running the micro-controller code in a real-time Linux process. Support for multiple micro-controllers. (For example, one could control an extruder with one micro-controller and the rest of the printer with another.) Software clock synchronization is implemented to coordinate actions between micro-controllers. Stepper performance improvements (20Mhz AVRs up to 189K steps per second). Support for controlling servos and support for defining nozzle cooling fans. \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801","title":"Klipper 0.5.0"},{"location":"Releases.html#klipper-040","text":"Available on 20170503. Major changes in this release: Improved installation on Raspberry Pi machines. Most of the install is now scripted. Support for corexy kinematics Documentation updates: New Kinematics document, new Pressure Advance tuning guide, new example config files, and more Stepper performance improvements (20Mhz AVRs over 175K steps per second, Arduino Due over 460K) Support for automatic micro-controller resets. Support for resets via toggling USB power on Raspberry Pi. The pressure advance algorithm now works with look-ahead to reduce pressure changes during cornering. Support for limiting the top speed of short zigzag moves Support for AD595 sensors \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801","title":"Klipper 0.4.0"},{"location":"Releases.html#klipper-030","text":"Available on 20161223. Major changes in this release: Improved documentation Support for robots with delta kinematics Support for Arduino Due micro-controller (ARM cortex-M3) Support for USB based AVR micro-controllers Support for \"pressure advance\" algorithm - it reduces ooze during prints. New \"stepper phased based endstop\" feature - enables higher precision on endstop homing. Support for \"extended g-code\" commands such as \"help\", \"restart\", and \"status\". Support for reloading the Klipper config and restarting the host software by issuing a \"restart\" command from the terminal. Stepper performance improvements (20Mhz AVRs up to 158K steps per second). Improved error reporting. Most errors now shown via the terminal along with help on how to resolve. \u4fee\u590d\u4e86\u51e0\u4e2a\u9519\u8bef\u5e76\u6574\u7406\u4e86\u4ee3\u7801","title":"Klipper 0.3.0"},{"location":"Releases.html#klipper-020","text":"Initial release of Klipper. Available on 20160525. Major features available in the initial release include: Basic support for cartesian printers (steppers, extruder, heated bed, cooling fan). Support for common g-code commands. Support for interfacing with OctoPrint. Acceleration and lookahead handling Support for AVR micro-controllers via standard serial ports","title":"Klipper 0.2.0"},{"location":"Resonance_Compensation.html","text":"\u5171\u632f\u8865\u507f \u00b6 Klipper\u652f\u6301\u8f93\u5165\u6574\u5f62 -\u4e00\u79cd\u53ef\u4ee5\u7528\u6765\u51cf\u5c11\u6253\u5370\u4ef6\u4e0a\u632f\u7eb9\uff08\u4e5f\u88ab\u79f0\u4e3aecho\u3001ghosting\u6216ripping\uff09\u7684\u6280\u672f\u3002\u632f\u7eb9\u662f\u4e00\u79cd\u8868\u9762\u6253\u5370\u7f3a\u9677\uff0c\u901a\u5e38\u5728\u8fb9\u89d2\u7684\u4f4d\u7f6e\u8868\u9762\u91cd\u590d\u51fa\u73b0\uff0c\u6210\u4e3a\u4e00\u79cd\u5fae\u5999\u7684\u6c34\u6ce2\u72b6\u7eb9\u8def\uff1a | | | \u632f\u7eb9\u662f\u7531\u6253\u5370\u673a\u5728\u5feb\u901f\u6539\u53d8\u6253\u5370\u65b9\u5411\u65f6\u673a\u68b0\u632f\u52a8\u5f15\u8d77\u7684\u3002\u8bf7\u6ce8\u610f\uff0c\u632f\u7eb9\u901a\u5e38\u6e90\u4e8e\u673a\u68b0\u65b9\u9762\u7684\u95ee\u9898\uff1a\u6253\u5370\u673a\u6846\u67b6\u5f3a\u5ea6\u4e0d\u8db3\uff0c\u76ae\u5e26\u4e0d\u591f\u7d27\u6216\u592a\u6709\u5f39\u6027\uff0c\u673a\u68b0\u90e8\u4ef6\u7684\u5bf9\u51c6\u95ee\u9898\uff0c\u79fb\u52a8\u8d28\u91cf\u5927\u7b49\u3002\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u5e94\u9996\u5148\u68c0\u67e5\u548c\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002 \u8f93\u5165\u6574\u5f62 \u662f\u4e00\u79cd\u5f00\u73af\u63a7\u5236\u6280\u672f\uff0c\u5b83\u901a\u8fc7\u751f\u6210\u4e00\u4e2a\u63a7\u5236\u4fe1\u53f7\u6765\u62b5\u6d88\u81ea\u8eab\u7684\u632f\u52a8\u3002\u8f93\u5165\u6574\u5f62\u5728\u542f\u7528\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u8c03\u6574\u548c\u6d4b\u91cf\u3002\u9664\u4e86\u632f\u7eb9\u4e4b\u5916\uff0c\u8f93\u5165\u6574\u5f62\u901a\u5e38\u53ef\u4ee5\u51cf\u5c11\u6253\u5370\u673a\u7684\u632f\u52a8\u548c\u6447\u6643\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8 Trinamic \u6b65\u8fdb\u9a71\u52a8\u5668\u7684StealthChop\u6a21\u5f0f\u7684\u53ef\u9760\u6027\u3002 \u8c03\u6574 \u00b6 Basic tuning requires measuring the ringing frequencies of the printer by printing a test model. \u5c06\u632f\u7eb9\u6d4b\u8bd5\u6a21\u578b\u5207\u7247\uff0c\u8be5\u6a21\u578b\u53ef\u4ee5\u5728 docs/prints/ringing_tower.stl \u4e2d\u627e\u5230\uff0c\u5728\u5207\u7247\u8f6f\u4ef6\u4e2d\uff1a \u5efa\u8bae\u5c06\u5c42\u9ad8\u4e3a 0.2 \u6216 0.25 \u6beb\u7c73\u3002 \u586b\u5145\u548c\u9876\u5c42\u5c42\u6570\u53ef\u4ee5\u88ab\u8bbe\u7f6e\u4e3a0\u3002 \u4f7f\u75281-2\u5708\u58c1\uff0c\u4f7f\u75281-2\u6beb\u7c73\u539a\u5e95\u5750\u548c\u82b1\u74f6\u6a21\u5f0f(vasemode)\u7684\u6548\u679c\u66f4\u597d\u3002 \u4f7f\u7528\u8db3\u591f\u9ad8\u7684\u901f\u5ea6\uff0c\u5927\u7ea680-100\u6beb\u7c73/\u79d2\uff0c\u7528\u4e8e \u5916\u90e8 \u5468\u957f\uff08\u58c1\uff09\u3002 \u786e\u4fdd\u6700\u77ed\u7684\u5c42\u8017\u65f6 \u6700\u591a\u662f 3\u79d2\u3002 \u786e\u4fdd\u5207\u7247\u8f6f\u4ef6\u4e2d\u7981\u7528\u4efb\u4f55\"\u52a8\u6001\u52a0\u901f\u5ea6\u63a7\u5236\"\u529f\u80fd\u3002 \u4e0d\u8981\u8f6c\u52a8\u6a21\u578b\u3002\u6a21\u578b\u7684\u80cc\u9762\u6807\u8bb0\u4e86X\u548cY\u3002\u6ce8\u610f\u8fd9\u4e9b\u6807\u8bb0\u4e0e\u6253\u5370\u673a\u8f74\u7ebf\u65b9\u5411\u4e0d\u76f8\u540c--\u8fd9\u4e0d\u662f\u4e00\u4e2a\u9519\u8bef\u3002\u8fd9\u4e9b\u6807\u8bb0\u53ef\u4ee5\u5728\u4ee5\u540e\u7684\u8c03\u6574\u8fc7\u7a0b\u4e2d\u4f5c\u4e3a\u53c2\u8003\uff0c\u56e0\u4e3a\u5b83\u4eec\u663e\u793a\u4e86\u6d4b\u91cf\u7ed3\u679c\u5bf9\u5e94\u7684\u8f74\u3002 \u632f\u7eb9\u9891\u7387 \u00b6 \u9996\u5148\uff0c\u6d4b\u91cf \u632f\u7eb9\u9891\u7387 \u3002 If square_corner_velocity parameter was changed, revert it back to 5.0. It is not advised to increase it when using input shaper because it can cause more smoothing in parts - it is better to use higher acceleration value instead. Increase max_accel_to_decel by issuing the following command: SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 Disable Pressure Advance: SET_PRESSURE_ADVANCE ADVANCE=0 \u5982\u679c\u4f60\u5df2\u7ecf\u5c06 [input_shaper] \u5206\u6bb5\u6dfb\u52a0\u5230print.cfg\u4e2d\uff0c\u6267\u884c SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 \u547d\u4ee4\u3002\u5982\u679c\u4f60\u5f97\u5230\"\u672a\u77e5\u547d\u4ee4\"\u9519\u8bef\uff0c\u6b64\u65f6\u4f60\u53ef\u4ee5\u5b89\u5168\u5730\u5ffd\u7565\u5b83\uff0c\u7ee7\u7eed\u8fdb\u884c\u6d4b\u91cf\u3002 Execute the command: TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 Basically, we try to make ringing more pronounced by setting different large values for acceleration. This command will increase the acceleration every 5 mm starting from 1500 mm/sec^2: 1500 mm/sec^2, 2000 mm/sec^2, 2500 mm/sec^2 and so forth up until 7000 mm/sec^2 at the last band. \u6253\u5370\u7528\u5efa\u8bae\u7684\u53c2\u6570\u5207\u7247\u7684\u6d4b\u8bd5\u6a21\u578b\u3002 \u5982\u679c\u632f\u7eb9\u6e05\u6670\u53ef\u89c1\uff0c\u5e76\u4e14\u53d1\u73b0\u52a0\u901f\u5ea6\u5bf9\u4f60\u7684\u6253\u5370\u673a\u6765\u8bf4\u592a\u9ad8\u4e86\uff08\u5982\u6253\u5370\u673a\u6296\u52a8\u592a\u5389\u5bb3\u6216\u5f00\u59cb\u4e22\u6b65\uff09\uff0c\u4f60\u53ef\u4ee5\u63d0\u524d\u505c\u6b62\u6253\u5370\u3002 \u4f7f\u7528\u6a21\u578b\u540e\u4fa7\u7684XY\u6807\u5fd7\u4f5c\u4e3a\u6821\u51c6\u7684\u53c2\u8003\u3002X\u6807\u5fd7\u6240\u5728\u4e00\u4fa7\u7684\u6d4b\u91cf\u7ed3\u679c\u7528\u4e8eX\u8f74\u7684 \u914d\u7f6e \uff0c\u800cY\u6807\u5fd7\u6240\u5728\u4e00\u4fa7\u5219\u4f5c\u4e3aY\u8f74\u7684\u914d\u7f6e\u3002\u4ee5X\u8f74\u4e3a\u4f8b\uff0c\u6d4b\u91cfX\u6807\u5fd7\u6240\u5728\u4e00\u4fa7\u7684\u6570\u4e2a\u632f\u7eb9\u5468\u671f\u7684\u957f\u5ea6 D \uff08\u5355\u4f4dmm\uff09\uff1a\u9996\u5148\u786e\u5b9a\u51f9\u69fd\u7684\u4f4d\u7f6e\uff0c\u4e3a\u4e86\u6d4b\u91cf\u51c6\u786e\u53ef\u4ee5\u5ffd\u7565\u6700\u9760\u8fd1\u51f9\u69fd\u7684\u6570\u4e2a\u7eb9\u8def\uff0c\u7528\u8bb0\u53f7\u7b14\u6807\u8bb0\u8d77\u59cb\u548c\u7ed3\u675f\u7684\u6570\u4e2a\u632f\u7eb9\uff0c\u7136\u540e\u7528\u5c3a\u5b50\u6216\u5361\u5c3a\u8fdb\u884c\u6d4b\u91cf\uff1a| | | \u6570\u4e00\u6570\u6d4b\u91cf\u7684\u8ddd\u79bb D \u4e2d\u6709\u591a\u5c11\u4e2a\u632f\u8361 D \u3002\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u5982\u4f55\u8ba1\u7b97\u632f\u8361\uff0c\u8bf7\u53c2\u8003\u4e0a\u56fe\uff0c\u5176\u4e2d\u663e\u793a N =6\u6b21\u632f\u8361\u3002 \u901a\u8fc7 V \u00b7 N / D (Hz) \u8ba1\u7b97\u632f\u94c3\u7684\u9891\u7387\uff0c\u5176\u4e2d V \u662f\u5916\u58c1\u7684\u52a0\u901f\u5ea6\uff08mm/\u79d2\uff09\u3002\u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u6807\u8bb0\u4e866\u4e2a\u632f\u7eb9\uff0c\u540c\u65f6\u6d4b\u8bd5\u4ef6\u662f\u4ee5100 mm/\u79d2\u7684\u901f\u5ea6\u8fdb\u884c\u5370\u5236\uff0c\u56e0\u6b64\u632f\u52a8\u9891\u7387\u4e3a100 * 6 / 12.14 \u2248 49.4 Hz\u3002 Do (8) - (10) for Y mark as well. \u8bf7\u6ce8\u610f\uff0c\u6d4b\u8bd5\u6253\u5370\u4ef6\u4e0a\u7684\u632f\u7eb9\u5e94\u9075\u5faa\u5f27\u5f62\u51f9\u69fd\u7684\u6a21\u5f0f\uff0c\u5982\u4e0a\u56fe\u6240\u793a\u3002\u5982\u679c\u4e0d\u662f\u8fd9\u6837\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7f3a\u9677\u5c31\u4e0d\u662f\u771f\u6b63\u7684\u632f\u7eb9\uff0c\u800c\u662f\u6709\u4e0d\u540c\u7684\u539f\u56e0--\u8981\u4e48\u662f\u673a\u68b0\u95ee\u9898\uff0c\u8981\u4e48\u662f\u6324\u51fa\u673a\u95ee\u9898\u3002\u5728\u542f\u7528\u548c\u8c03\u6574\u8f93\u5165\u6574\u5f62\u5668\u4e4b\u524d\uff0c\u5e94\u8be5\u5148\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u5982\u679c\u6253\u5370\u673a\u5b58\u5728\u591a\u4e2a\u5171\u632f\u9891\u7387\uff0c\u90a3\u4e48\u6d4b\u91cf\u7684\u7ed3\u679c\u5c06\u53d8\u5f97\u4e0d\u53ef\u9760\uff0c\u8868\u73b0\u4e3a\u632f\u7eb9\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e0d\u6052\u5b9a\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 \u4fee\u6b63\u4e0d\u53ef\u9760\u7684\u5171\u632f\u9891\u7387\u6d4b\u91cf\uff08Unreliable measurements of ringing frequencies\uff09 \u7ae0\u8282\u7684\u6b65\u9aa4\u8fdb\u884c\u4fee\u6b63\uff0c\u4ee5\u53d1\u6325\u8f93\u5165\u6574\u5f62\u7684\u6548\u7528\u3002 \u632f\u94c3\u9891\u7387\u4f1a\u57fa\u4e8e\u5de5\u4ef6\u5728\u5e8a\u4e0a\u7684\u4f4d\u7f6e\u548c\u6253\u5370\u7684Z\u9ad8\u5ea6\u800c\u53d8\u5316\uff0c\u8fd9\u79cd\u60c5\u51b5\u5728 \u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a \u7279\u4e3a\u663e\u8457\uff1b\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u68c0\u67e5\u5de5\u4ef6\u7684\u4e0d\u540c\u4f4d\u7f6e\u548c\u9ad8\u5ea6\u4e0a\u7684\u632f\u7eb9\u662f\u5426\u51fa\u73b0\u663e\u8457\u53d8\u5316\u800c\u786e\u5b9a\u3002\u5982\u679c\u51fa\u73b0\u4e0a\u8ff0\u72b6\u51b5\uff0c\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u4e0d\u540c\u4f4d\u7f6e\u7684\u632f\u94c3\u9891\u7387\uff0c\u5e76\u57fa\u4e8ex\u8f74\u548cy\u8f74\u8ba1\u7b97\u5e73\u5747\u503c\u3002 \u5982\u679c\u6d4b\u91cf\u5230\u7684\u632f\u94c3\u9891\u7387\u975e\u5e38\u4f4e\uff08\u7ea6\u4f4e\u4e8e20-25 Hz\uff09\uff0c\u5219\u5efa\u8bae\u6839\u636e\u5e94\u7528\u7684\u76ee\u7684\uff0c\u5728\u8fdb\u884c\u8fdb\u4e00\u6b65\u8f93\u5165\u6574\u5f62\u8c03\u8bd5\u524d\uff0c\u63d0\u9ad8\u6253\u5370\u673a\u6846\u67b6\u7684\u521a\u6027\uff0c\u6216\u51cf\u5c11\u52a8\u90e8\u4ef6\u7684\u8d28\u91cf\u3002\u5bf9\u5927\u591a\u4e3b\u6d41\u6253\u5370\u673a\u800c\u8a00\uff0c\u4e0a\u8ff0\u6539\u9020\u7684\u65b9\u5f0f\u53ef\u7b80\u5355\u641c\u7d22\u83b7\u5f97\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u4e86\u6539\u52a8\uff0c\u6539\u53d8\u4e86\u79fb\u52a8\u8d28\u91cf\u6216\u7cfb\u7edf\u7684\u521a\u5ea6\uff0c\u5171\u632f\uff08\u632f\u7eb9\uff09\u9891\u7387\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u4f8b\u5982\uff1a \u5b89\u88c5\u3001\u79fb\u9664\u3001\u66f4\u6362\u4e86\u4e00\u4e9b\u5728\u6253\u5370\u5934\u4e0a\u7684\u5de5\u5177\uff0c\u4ece\u800c\u6539\u53d8\u4e86\u5176\u8d28\u91cf\uff0c\u4f8b\u5982\uff0c\u4e3a\u8fd1\u7a0b\u6324\u51fa\u673a\u66f4\u6362\u4e00\u4e2a\u65b0\u7684\uff08\u66f4\u91cd\u6216\u66f4\u8f7b\u7684\uff09\u6b65\u8fdb\u7535\u673a\uff0c\u6216\u5b89\u88c5\u4e00\u4e2a\u65b0\u7684\u70ed\u7aef\uff0c\u589e\u52a0\u4e00\u4e2a\u5e26\u98ce\u9053\u7684\u91cd\u578b\u98ce\u6247\uff0c\u7b49\u7b49\u3002 \u540c\u6b65\u5e26\u88ab\u62c9\u7d27\u3002 \u5b89\u88c5\u4e86\u4e00\u4e9b\u589e\u52a0\u6846\u67b6\u521a\u6027\u7684\u914d\u4ef6\u3002 \u5bf9\u5e73\u79fb\u70ed\u5e8a\u5f0f\u6253\u5370\u673a\u800c\u8a00\uff0c\u4f7f\u7528\u4e86\u4e0d\u540c\u7684\u70ed\u5e8a\u9762\u677f\uff0c\u6216\u8005\u52a0\u88c5\u4e86\u73bb\u7483\u9762\u677f\u7b49\u64cd\u4f5c\u3002 \u5982\u679c\u8fdb\u884c\u4e86\u6b64\u7c7b\u66f4\u6539\uff0c\u5219\u6700\u597d\u81f3\u5c11\u6d4b\u91cf\u5171\u632f\uff08\u632f\u7eb9\uff09\u9891\u7387\u4ee5\u67e5\u770b\u5b83\u4eec\u662f\u5426\u53d1\u751f\u53d8\u5316\u3002 \u8f93\u5165\u6574\u5f62\u5668\u914d\u7f6e \u00b6 \u6d4b\u91cf X \u548c Y \u8f74\u7684\u5171\u632f\u9891\u7387\u540e\uff0c\u60a8\u53ef\u4ee5\u5c06\u4ee5\u4e0b\u5206\u6bb5\u4e2d\u6dfb\u52a0\u5230 printer.cfg \uff1a [input_shaper] shaper_freq_x: ... # frequency for the X mark of the test model shaper_freq_y: ... # frequency for the Y mark of the test model \u5bf9\u4e8e\u4e0a\u8ff0\u4f8b\u5b50\uff0c\u6211\u4eec\u5f97\u5230 shaper_freq_x/y = 49.4\u3002 \u9009\u62e9\u8f93\u5165\u6574\u5f62\u5668 \u00b6 Klipper\u652f\u6301\u6570\u79cd\u8f93\u5165\u6574\u5f62\u5668\u3002\u8fd9\u4e9b\u6574\u5f62\u5668\u4e4b\u95f4\u7684\u5dee\u5f02\u5728\u4e8e\u5b83\u4eec\u5bb9\u8bb8\u7684\u5171\u632f\u9891\u7387\u6d4b\u91cf\u8bef\u5dee\u548c\u5b83\u4eec\u5728\u6253\u5370\u4ef6\u4e2d\u4ea7\u751f\u7684\u5e73\u6ed1\u5ea6\u3002\u8bf7\u6ce8\u610f\uff0c\u4e00\u4e9b\u6574\u5f62\u5668\uff0c\u4f8b\u59822HUMP_EI\u548c3HUMP_EI\uff0c\u4e0d\u5e94\u4e0eshaper_freq = \u5171\u632f\u9891\u7387\u4e00\u8d77\u4f7f\u7528\u3002\u5b83\u4eec\u5e94\u8be5\u88ab\u914d\u7f6e\u4e3a\u540c\u65f6\u51cf\u5c11\u591a\u4e2a\u4e0d\u540c\u7684\u9891\u7387\u3002 \u5bf9\u4e8e\u5927\u591a\u6570\u6253\u5370\u673a\uff0c\u63a8\u8350 MZV \u6216E I\u6574\u5f62\u5668\u3002\u7ae0\u8282\u4ecb\u7ecd\u4e86\u5728\u5b83\u4eec\u4e4b\u95f4\u8fdb\u884c\u9009\u62e9\uff0c\u5e76\u627e\u51fa\u5176\u4ed6\u4e00\u4e9b\u76f8\u5173\u53c2\u6570\u7684\u6d4b\u8bd5\u8fc7\u7a0b\u3002 Print the ringing test model as follows: Restart the firmware: RESTART Prepare for test: SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 Disable Pressure Advance: SET_PRESSURE_ADVANCE ADVANCE=0 Execute: SET_INPUT_SHAPER SHAPER_TYPE=MZV Execute the command: TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u6253\u5370\u7528\u5efa\u8bae\u7684\u53c2\u6570\u5207\u7247\u7684\u6d4b\u8bd5\u6a21\u578b\u3002 \u5982\u679c\u4f60\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u6ca1\u6709\u770b\u5230\u632f\u94c3\uff0c\u90a3\u4e48\u63a8\u8350\u4f7f\u7528 MZV \u6574\u5f62\u5668\u3002 \u5982\u679c\u4f60\u786e\u5b9e\u770b\u5230\u4e00\u4e9b\u632f\u7eb9\uff0c\u4f7f\u7528 \u9891\u7387 \u90e8\u5206\u63cf\u8ff0\u7684\u6b65\u9aa4(8)-(10)\u91cd\u65b0\u6d4b\u91cf\u9891\u7387\u3002\u5982\u679c\u9891\u7387\u4e0e\u4f60\u4e4b\u524d\u5f97\u5230\u7684\u503c\u6709\u5f88\u5927\u7684\u4e0d\u540c\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u66f4\u590d\u6742\u7684\u8f93\u5165\u6574\u5f62\u5668\u914d\u7f6e\u3002\u4f60\u53ef\u4ee5\u53c2\u8003 \u8f93\u5165\u6574\u5f62\u5668 \u90e8\u5206\u7684\u6280\u672f\u7ec6\u8282\u3002\u5426\u5219\uff0c\u8fdb\u5165\u4e0b\u4e00\u6b65\uff1a Now try EI input shaper. To try it, repeat steps (1)-(6) from above, but executing at step 4 the following command instead: SET_INPUT_SHAPER SHAPER_TYPE=EI . Compare two prints with MZV and EI input shaper. If EI shows noticeably better results than MZV, use EI shaper, otherwise prefer MZV. Note that EI shaper will cause more smoothing in printed parts (see the next section for further details). Add shaper_type: mzv (or ei) parameter to [input_shaper] section, e.g.: [input_shaper] shaper_freq_x: ... shaper_freq_y: ... shaper_type: mzv A few notes on shaper selection: EI shaper may be more suited for bed slinger printers (if the resonance frequency and resulting smoothing allows): as more filament is deposited on the moving bed, the mass of the bed increases and the resonance frequency will decrease. Since EI shaper is more robust to resonance frequency changes, it may work better when printing large parts. Due to the nature of delta kinematics, resonance frequencies can differ a lot in different parts of the build volume. Therefore, EI shaper can be a better fit for delta printers rather than MZV or ZV, and should be considered for the use. If the resonance frequency is sufficiently large (more than 50-60 Hz), then one can even attempt to test 2HUMP_EI shaper (by running the suggested test above with SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI ), but check the considerations in the section below before enabling it. Selecting max_accel \u00b6 You should have a printed test for the shaper you chose from the previous step (if you don't, print the test model sliced with the suggested parameters with the pressure advance disabled SET_PRESSURE_ADVANCE ADVANCE=0 and with the tuning tower enabled as TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 ). Note that at very high accelerations, depending on the resonance frequency and the input shaper you chose (e.g. EI shaper creates more smoothing than MZV), input shaping may cause too much smoothing and rounding of the parts. So, max_accel should be chosen such as to prevent that. Another parameter that can impact smoothing is square_corner_velocity , so it is not advisable to increase it above the default 5 mm/sec to prevent increased smoothing. In order to select a suitable max_accel value, inspect the model for the chosen input shaper. First, take a note at which acceleration ringing is still small - that you are comfortable with it. Next, check the smoothing. To help with that, the test model has a small gap in the wall (0.15 mm): As the acceleration increases, so does the smoothing, and the actual gap in the print widens: In this picture, the acceleration increases left to right, and the gap starts to grow starting from 3500 mm/sec^2 (5-th band from the left). So the good value for max_accel = 3000 (mm/sec^2) in this case to avoid the excessive smoothing. Note the acceleration when the gap is still very small in your test print. If you see bulges, but no gap in the wall at all, even at high accelerations, it may be due to disabled Pressure Advance, especially on Bowden extruders. If that is the case, you may need to repeat the print with the PA enabled. It may also be a result of a miscalibrated (too high) filament flow, so it is a good idea to check that too. Choose the minimum out of the two acceleration values (from ringing and smoothing), and put it as max_accel into printer.cfg. As a note, it may happen - especially at low ringing frequencies - that EI shaper will cause too much smoothing even at lower accelerations. In this case, MZV may be a better choice, because it may allow higher acceleration values. At very low ringing frequencies (~25 Hz and below) even MZV shaper may create too much smoothing. If that is the case, you can also try to repeat the steps in Choosing input shaper section with ZV shaper, by using SET_INPUT_SHAPER SHAPER_TYPE=ZV command instead. ZV shaper should show even less smoothing than MZV, but is more sensitive to errors in measuring the ringing frequencies. Another consideration is that if a resonance frequency is too low (below 20-25 Hz), it might be a good idea to increase the printer stiffness or reduce the moving mass. Otherwise, acceleration and printing speed may be limited due too much smoothing now instead of ringing. Fine-tuning resonance frequencies \u00b6 Note that the precision of the resonance frequencies measurements using the ringing test model is sufficient for most purposes, so further tuning is not advised. If you still want to try to double-check your results (e.g. if you still see some ringing after printing a test model with an input shaper of your choice with the same frequencies as you have measured earlier), you can follow the steps in this section. Note that if you see ringing at different frequencies after enabling [input_shaper], this section will not help with that. Assuming that you have sliced the ringing model with suggested parameters, complete the following steps for each of the axes X and Y: Prepare for test: SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 Make sure Pressure Advance is disabled: SET_PRESSURE_ADVANCE ADVANCE=0 Execute: SET_INPUT_SHAPER SHAPER_TYPE=ZV From the existing ringing test model with your chosen input shaper select the acceleration that shows ringing sufficiently well, and set it with: SET_VELOCITY_LIMIT ACCEL=... Calculate the necessary parameters for the TUNING_TOWER command to tune shaper_freq_x parameter as follows: start = shaper_freq_x * 83 / 132 and factor = shaper_freq_x / 66, where shaper_freq_x here is the current value in printer.cfg . Execute the command: TUNING_TOWER COMMAND=SET_INPUT_SHAPER PARAMETER=SHAPER_FREQ_X START=start FACTOR=factor BAND=5 using start and factor values calculated at step (5). Print the test model. Reset the original frequency value: SET_INPUT_SHAPER SHAPER_FREQ_X=... . Find the band which shows ringing the least and count its number from the bottom starting at 1. Calculate the new shaper_freq_x value via old shaper_freq_x * (39 + 5 * #band-number) / 66. Repeat these steps for the Y axis in the same manner, replacing references to X axis with the axis Y (e.g. replace shaper_freq_x with shaper_freq_y in the formulae and in the TUNING_TOWER command). As an example, let's assume you have had measured the ringing frequency for one of the axis equal to 45 Hz. This gives start = 45 * 83 / 132 = 28.30 and factor = 45 / 66 = 0.6818 values for TUNING_TOWER command. Now let's assume that after printing the test model, the fourth band from the bottom gives the least ringing. This gives the updated shaper_freq_? value equal to 45 * (39 + 5 * 4) / 66 \u2248 40.23. After both new shaper_freq_x and shaper_freq_y parameters have been calculated, you can update [input_shaper] section in printer.cfg with the new shaper_freq_x and shaper_freq_y values. Pressure Advance \u00b6 If you use Pressure Advance, it may need to be re-tuned. Follow the instructions to find the new value, if it differs from the previous one. Make sure to restart Klipper before tuning Pressure Advance. Unreliable measurements of ringing frequencies \u00b6 If you are unable to measure the ringing frequencies, e.g. if the distance between the oscillations is not stable, you may still be able to take advantage of input shaping techniques, but the results may not be as good as with proper measurements of the frequencies, and will require a bit more tuning and printing the test model. Note that another possibility is to purchase and install an accelerometer and measure the resonances with it (refer to the docs describing the required hardware and the setup process) - but this option requires some crimping and soldering. For tuning, add empty [input_shaper] section to your printer.cfg . Then, assuming that you have sliced the ringing model with suggested parameters, print the test model 3 times as follows. First time, prior to printing, run RESTART SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 SET_PRESSURE_ADVANCE ADVANCE=0 SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=60 SHAPER_FREQ_Y=60 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 and print the model. Then print the model again, but before printing run instead SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=50 SHAPER_FREQ_Y=50 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 Then print the model for the 3rd time, but now run SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=40 SHAPER_FREQ_Y=40 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 Essentially, we are printing the ringing test model with TUNING_TOWER using 2HUMP_EI shaper with shaper_freq = 60 Hz, 50 Hz, and 40 Hz. If none of the models demonstrate improvements in ringing, then, unfortunately, it does not look like the input shaping techniques can help with your case. Otherwise, it may be that all models show no ringing, or some show the ringing and some - not so much. Choose the test model with the highest frequency that still shows good improvements in ringing. For example, if 40 Hz and 50 Hz models show almost no ringing, and 60 Hz model already shows some more ringing, stick with 50 Hz. Now check if EI shaper would be good enough in your case. Choose EI shaper frequency based on the frequency of 2HUMP_EI shaper you chose: For 2HUMP_EI 60 Hz shaper, use EI shaper with shaper_freq = 50 Hz. For 2HUMP_EI 50 Hz shaper, use EI shaper with shaper_freq = 40 Hz. For 2HUMP_EI 40 Hz shaper, use EI shaper with shaper_freq = 33 Hz. Now print the test model one more time, running SET_INPUT_SHAPER SHAPER_TYPE=EI SHAPER_FREQ_X=... SHAPER_FREQ_Y=... TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 providing the shaper_freq_x=... and shaper_freq_y=... as determined previously. If EI shaper shows very comparable good results as 2HUMP_EI shaper, stick with EI shaper and the frequency determined earlier, otherwise use 2HUMP_EI shaper with the corresponding frequency. Add the results to printer.cfg as, e.g. [input_shaper] shaper_freq_x: 50 shaper_freq_y: 50 shaper_type: 2hump_ei Continue the tuning with Selecting max_accel section. Troubleshooting and FAQ \u00b6 I cannot get reliable measurements of resonance frequencies \u00b6 First, make sure it is not some other problem with the printer instead of ringing. If the measurements are not reliable because, say, the distance between the oscillations is not stable, it might mean that the printer has several resonance frequencies on the same axis. One may try to follow the tuning process described in Unreliable measurements of ringing frequencies section and still get something out of the input shaping technique. Another possibility is to install an accelerometer, measure the resonances with it, and auto-tune the input shaper using the results of those measurements. After enabling [input_shaper], I get too smoothed printed parts and fine details are lost \u00b6 Check the considerations in Selecting max_accel section. If the resonance frequency is low, one should not set too high max_accel or increase square_corner_velocity parameters. It might also be better to choose MZV or even ZV input shapers over EI (or 2HUMP_EI and 3HUMP_EI shapers). After successfully printing for some time without ringing, it appears to come back \u00b6 It is possible that after some time the resonance frequencies have changed. E.g. maybe the belts tension has changed (belts got more loose), etc. It is a good idea to check and re-measure the ringing frequencies as described in Ringing frequency section and update your config file if necessary. Is dual carriage setup supported with input shapers? \u00b6 There is no dedicated support for dual carriages with input shapers, but it does not mean this setup will not work. One should run the tuning twice for each of the carriages, and calculate the ringing frequencies for X and Y axes for each of the carriages independently. Then put the values for carriage 0 into [input_shaper] section, and change the values on the fly when changing carriages, e.g. as a part of some macro: SET_DUAL_CARRIAGE CARRIAGE=1 SET_INPUT_SHAPER SHAPER_FREQ_X=... SHAPER_FREQ_Y=... And similarly when switching back to carriage 0. Does input_shaper affect print time? \u00b6 No, input_shaper feature has pretty much no impact on the print times by itself. However, the value of max_accel certainly does (tuning of this parameter described in this section ). Technical details \u00b6 Input shapers \u00b6 Input shapers used in Klipper are rather standard, and one can find more in-depth overview in the articles describing the corresponding shapers. This section contains a brief overview of some technical aspects of the supported input shapers. The table below shows some (usually approximate) parameters of each shaper. Input shaper Shaper duration Vibration reduction 20x (5% vibration tolerance) Vibration reduction 10x (10% vibration tolerance) ZV 0.5 / shaper_freq N/A \u00b1 5% shaper_freq MZV 0.75 / shaper_freq \u00b1 4% shaper_freq -10%...+15% shaper_freq ZVD 1 / shaper_freq \u00b1 15% shaper_freq \u00b1 22% shaper_freq EI 1 / shaper_freq \u00b1 20% shaper_freq \u00b1 25% shaper_freq 2HUMP_EI 1.5 / shaper_freq \u00b1 35% shaper_freq \u00b1 40 shaper_freq 3HUMP_EI 2 / shaper_freq -45...+50% shaper_freq -50%...+55% shaper_freq A note on vibration reduction: the values in the table above are approximate. If the damping ratio of the printer is known for each axis, the shaper can be configured more precisely and it will then reduce the resonances in a bit wider range of frequencies. However, the damping ratio is usually unknown and is hard to estimate without a special equipment, so Klipper uses 0.1 value by default, which is a good all-round value. The frequency ranges in the table cover a number of different possible damping ratios around that value (approx. from 0.05 to 0.2). Also note that EI, 2HUMP_EI, and 3HUMP_EI are tuned to reduce vibrations to 5%, so the values for 10% vibration tolerance are provided only for the reference. How to use this table: Shaper duration affects the smoothing in parts - the larger it is, the more smooth the parts are. This dependency is not linear, but can give a sense of which shapers 'smooth' more for the same frequency. The ordering by smoothing is like this: ZV < MZV < ZVD \u2248 EI < 2HUMP_EI < 3HUMP_EI. Also, it is rarely practical to set shaper_freq = resonance freq for shapers 2HUMP_EI and 3HUMP_EI (they should be used to reduce vibrations for several frequencies). One can estimate a range of frequencies in which the shaper reduces vibrations. For example, MZV with shaper_freq = 35 Hz reduces vibrations to 5% for frequencies [33.6, 36.4] Hz. 3HUMP_EI with shaper_freq = 50 Hz reduces vibrations to 5% in range [27.5, 75] Hz. One can use this table to check which shaper they should be using if they need to reduce vibrations at several frequencies. For example, if one has resonances at 35 Hz and 60 Hz on the same axis: a) EI shaper needs to have shaper_freq = 35 / (1 - 0.2) = 43.75 Hz, and it will reduce resonances until 43.75 * (1 + 0.2) = 52.5 Hz, so it is not sufficient; b) 2HUMP_EI shaper needs to have shaper_freq = 35 / (1 - 0.35) = 53.85 Hz and will reduce vibrations until 53.85 * (1 + 0.35) = 72.7 Hz - so this is an acceptable configuration. Always try to use as high shaper_freq as possible for a given shaper (perhaps with some safety margin, so in this example shaper_freq \u2248 50-52 Hz would work best), and try to use a shaper with as small shaper duration as possible. If one needs to reduce vibrations at several very different frequencies (say, 30 Hz and 100 Hz), they may see that the table above does not provide enough information. In this case one may have more luck with scripts/graph_shaper.py script, which is more flexible.","title":"\u5171\u632f\u8865\u507f"},{"location":"Resonance_Compensation.html#_1","text":"Klipper\u652f\u6301\u8f93\u5165\u6574\u5f62 -\u4e00\u79cd\u53ef\u4ee5\u7528\u6765\u51cf\u5c11\u6253\u5370\u4ef6\u4e0a\u632f\u7eb9\uff08\u4e5f\u88ab\u79f0\u4e3aecho\u3001ghosting\u6216ripping\uff09\u7684\u6280\u672f\u3002\u632f\u7eb9\u662f\u4e00\u79cd\u8868\u9762\u6253\u5370\u7f3a\u9677\uff0c\u901a\u5e38\u5728\u8fb9\u89d2\u7684\u4f4d\u7f6e\u8868\u9762\u91cd\u590d\u51fa\u73b0\uff0c\u6210\u4e3a\u4e00\u79cd\u5fae\u5999\u7684\u6c34\u6ce2\u72b6\u7eb9\u8def\uff1a | | | \u632f\u7eb9\u662f\u7531\u6253\u5370\u673a\u5728\u5feb\u901f\u6539\u53d8\u6253\u5370\u65b9\u5411\u65f6\u673a\u68b0\u632f\u52a8\u5f15\u8d77\u7684\u3002\u8bf7\u6ce8\u610f\uff0c\u632f\u7eb9\u901a\u5e38\u6e90\u4e8e\u673a\u68b0\u65b9\u9762\u7684\u95ee\u9898\uff1a\u6253\u5370\u673a\u6846\u67b6\u5f3a\u5ea6\u4e0d\u8db3\uff0c\u76ae\u5e26\u4e0d\u591f\u7d27\u6216\u592a\u6709\u5f39\u6027\uff0c\u673a\u68b0\u90e8\u4ef6\u7684\u5bf9\u51c6\u95ee\u9898\uff0c\u79fb\u52a8\u8d28\u91cf\u5927\u7b49\u3002\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0c\u5e94\u9996\u5148\u68c0\u67e5\u548c\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002 \u8f93\u5165\u6574\u5f62 \u662f\u4e00\u79cd\u5f00\u73af\u63a7\u5236\u6280\u672f\uff0c\u5b83\u901a\u8fc7\u751f\u6210\u4e00\u4e2a\u63a7\u5236\u4fe1\u53f7\u6765\u62b5\u6d88\u81ea\u8eab\u7684\u632f\u52a8\u3002\u8f93\u5165\u6574\u5f62\u5728\u542f\u7528\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u4e00\u4e9b\u8c03\u6574\u548c\u6d4b\u91cf\u3002\u9664\u4e86\u632f\u7eb9\u4e4b\u5916\uff0c\u8f93\u5165\u6574\u5f62\u901a\u5e38\u53ef\u4ee5\u51cf\u5c11\u6253\u5370\u673a\u7684\u632f\u52a8\u548c\u6447\u6643\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8 Trinamic \u6b65\u8fdb\u9a71\u52a8\u5668\u7684StealthChop\u6a21\u5f0f\u7684\u53ef\u9760\u6027\u3002","title":"\u5171\u632f\u8865\u507f"},{"location":"Resonance_Compensation.html#_2","text":"Basic tuning requires measuring the ringing frequencies of the printer by printing a test model. \u5c06\u632f\u7eb9\u6d4b\u8bd5\u6a21\u578b\u5207\u7247\uff0c\u8be5\u6a21\u578b\u53ef\u4ee5\u5728 docs/prints/ringing_tower.stl \u4e2d\u627e\u5230\uff0c\u5728\u5207\u7247\u8f6f\u4ef6\u4e2d\uff1a \u5efa\u8bae\u5c06\u5c42\u9ad8\u4e3a 0.2 \u6216 0.25 \u6beb\u7c73\u3002 \u586b\u5145\u548c\u9876\u5c42\u5c42\u6570\u53ef\u4ee5\u88ab\u8bbe\u7f6e\u4e3a0\u3002 \u4f7f\u75281-2\u5708\u58c1\uff0c\u4f7f\u75281-2\u6beb\u7c73\u539a\u5e95\u5750\u548c\u82b1\u74f6\u6a21\u5f0f(vasemode)\u7684\u6548\u679c\u66f4\u597d\u3002 \u4f7f\u7528\u8db3\u591f\u9ad8\u7684\u901f\u5ea6\uff0c\u5927\u7ea680-100\u6beb\u7c73/\u79d2\uff0c\u7528\u4e8e \u5916\u90e8 \u5468\u957f\uff08\u58c1\uff09\u3002 \u786e\u4fdd\u6700\u77ed\u7684\u5c42\u8017\u65f6 \u6700\u591a\u662f 3\u79d2\u3002 \u786e\u4fdd\u5207\u7247\u8f6f\u4ef6\u4e2d\u7981\u7528\u4efb\u4f55\"\u52a8\u6001\u52a0\u901f\u5ea6\u63a7\u5236\"\u529f\u80fd\u3002 \u4e0d\u8981\u8f6c\u52a8\u6a21\u578b\u3002\u6a21\u578b\u7684\u80cc\u9762\u6807\u8bb0\u4e86X\u548cY\u3002\u6ce8\u610f\u8fd9\u4e9b\u6807\u8bb0\u4e0e\u6253\u5370\u673a\u8f74\u7ebf\u65b9\u5411\u4e0d\u76f8\u540c--\u8fd9\u4e0d\u662f\u4e00\u4e2a\u9519\u8bef\u3002\u8fd9\u4e9b\u6807\u8bb0\u53ef\u4ee5\u5728\u4ee5\u540e\u7684\u8c03\u6574\u8fc7\u7a0b\u4e2d\u4f5c\u4e3a\u53c2\u8003\uff0c\u56e0\u4e3a\u5b83\u4eec\u663e\u793a\u4e86\u6d4b\u91cf\u7ed3\u679c\u5bf9\u5e94\u7684\u8f74\u3002","title":"\u8c03\u6574"},{"location":"Resonance_Compensation.html#_3","text":"\u9996\u5148\uff0c\u6d4b\u91cf \u632f\u7eb9\u9891\u7387 \u3002 If square_corner_velocity parameter was changed, revert it back to 5.0. It is not advised to increase it when using input shaper because it can cause more smoothing in parts - it is better to use higher acceleration value instead. Increase max_accel_to_decel by issuing the following command: SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 Disable Pressure Advance: SET_PRESSURE_ADVANCE ADVANCE=0 \u5982\u679c\u4f60\u5df2\u7ecf\u5c06 [input_shaper] \u5206\u6bb5\u6dfb\u52a0\u5230print.cfg\u4e2d\uff0c\u6267\u884c SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 \u547d\u4ee4\u3002\u5982\u679c\u4f60\u5f97\u5230\"\u672a\u77e5\u547d\u4ee4\"\u9519\u8bef\uff0c\u6b64\u65f6\u4f60\u53ef\u4ee5\u5b89\u5168\u5730\u5ffd\u7565\u5b83\uff0c\u7ee7\u7eed\u8fdb\u884c\u6d4b\u91cf\u3002 Execute the command: TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 Basically, we try to make ringing more pronounced by setting different large values for acceleration. This command will increase the acceleration every 5 mm starting from 1500 mm/sec^2: 1500 mm/sec^2, 2000 mm/sec^2, 2500 mm/sec^2 and so forth up until 7000 mm/sec^2 at the last band. \u6253\u5370\u7528\u5efa\u8bae\u7684\u53c2\u6570\u5207\u7247\u7684\u6d4b\u8bd5\u6a21\u578b\u3002 \u5982\u679c\u632f\u7eb9\u6e05\u6670\u53ef\u89c1\uff0c\u5e76\u4e14\u53d1\u73b0\u52a0\u901f\u5ea6\u5bf9\u4f60\u7684\u6253\u5370\u673a\u6765\u8bf4\u592a\u9ad8\u4e86\uff08\u5982\u6253\u5370\u673a\u6296\u52a8\u592a\u5389\u5bb3\u6216\u5f00\u59cb\u4e22\u6b65\uff09\uff0c\u4f60\u53ef\u4ee5\u63d0\u524d\u505c\u6b62\u6253\u5370\u3002 \u4f7f\u7528\u6a21\u578b\u540e\u4fa7\u7684XY\u6807\u5fd7\u4f5c\u4e3a\u6821\u51c6\u7684\u53c2\u8003\u3002X\u6807\u5fd7\u6240\u5728\u4e00\u4fa7\u7684\u6d4b\u91cf\u7ed3\u679c\u7528\u4e8eX\u8f74\u7684 \u914d\u7f6e \uff0c\u800cY\u6807\u5fd7\u6240\u5728\u4e00\u4fa7\u5219\u4f5c\u4e3aY\u8f74\u7684\u914d\u7f6e\u3002\u4ee5X\u8f74\u4e3a\u4f8b\uff0c\u6d4b\u91cfX\u6807\u5fd7\u6240\u5728\u4e00\u4fa7\u7684\u6570\u4e2a\u632f\u7eb9\u5468\u671f\u7684\u957f\u5ea6 D \uff08\u5355\u4f4dmm\uff09\uff1a\u9996\u5148\u786e\u5b9a\u51f9\u69fd\u7684\u4f4d\u7f6e\uff0c\u4e3a\u4e86\u6d4b\u91cf\u51c6\u786e\u53ef\u4ee5\u5ffd\u7565\u6700\u9760\u8fd1\u51f9\u69fd\u7684\u6570\u4e2a\u7eb9\u8def\uff0c\u7528\u8bb0\u53f7\u7b14\u6807\u8bb0\u8d77\u59cb\u548c\u7ed3\u675f\u7684\u6570\u4e2a\u632f\u7eb9\uff0c\u7136\u540e\u7528\u5c3a\u5b50\u6216\u5361\u5c3a\u8fdb\u884c\u6d4b\u91cf\uff1a| | | \u6570\u4e00\u6570\u6d4b\u91cf\u7684\u8ddd\u79bb D \u4e2d\u6709\u591a\u5c11\u4e2a\u632f\u8361 D \u3002\u5982\u679c\u4f60\u4e0d\u786e\u5b9a\u5982\u4f55\u8ba1\u7b97\u632f\u8361\uff0c\u8bf7\u53c2\u8003\u4e0a\u56fe\uff0c\u5176\u4e2d\u663e\u793a N =6\u6b21\u632f\u8361\u3002 \u901a\u8fc7 V \u00b7 N / D (Hz) \u8ba1\u7b97\u632f\u94c3\u7684\u9891\u7387\uff0c\u5176\u4e2d V \u662f\u5916\u58c1\u7684\u52a0\u901f\u5ea6\uff08mm/\u79d2\uff09\u3002\u5728\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u6807\u8bb0\u4e866\u4e2a\u632f\u7eb9\uff0c\u540c\u65f6\u6d4b\u8bd5\u4ef6\u662f\u4ee5100 mm/\u79d2\u7684\u901f\u5ea6\u8fdb\u884c\u5370\u5236\uff0c\u56e0\u6b64\u632f\u52a8\u9891\u7387\u4e3a100 * 6 / 12.14 \u2248 49.4 Hz\u3002 Do (8) - (10) for Y mark as well. \u8bf7\u6ce8\u610f\uff0c\u6d4b\u8bd5\u6253\u5370\u4ef6\u4e0a\u7684\u632f\u7eb9\u5e94\u9075\u5faa\u5f27\u5f62\u51f9\u69fd\u7684\u6a21\u5f0f\uff0c\u5982\u4e0a\u56fe\u6240\u793a\u3002\u5982\u679c\u4e0d\u662f\u8fd9\u6837\uff0c\u90a3\u4e48\u8fd9\u4e2a\u7f3a\u9677\u5c31\u4e0d\u662f\u771f\u6b63\u7684\u632f\u7eb9\uff0c\u800c\u662f\u6709\u4e0d\u540c\u7684\u539f\u56e0--\u8981\u4e48\u662f\u673a\u68b0\u95ee\u9898\uff0c\u8981\u4e48\u662f\u6324\u51fa\u673a\u95ee\u9898\u3002\u5728\u542f\u7528\u548c\u8c03\u6574\u8f93\u5165\u6574\u5f62\u5668\u4e4b\u524d\uff0c\u5e94\u8be5\u5148\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u5982\u679c\u6253\u5370\u673a\u5b58\u5728\u591a\u4e2a\u5171\u632f\u9891\u7387\uff0c\u90a3\u4e48\u6d4b\u91cf\u7684\u7ed3\u679c\u5c06\u53d8\u5f97\u4e0d\u53ef\u9760\uff0c\u8868\u73b0\u4e3a\u632f\u7eb9\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e0d\u6052\u5b9a\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 \u4fee\u6b63\u4e0d\u53ef\u9760\u7684\u5171\u632f\u9891\u7387\u6d4b\u91cf\uff08Unreliable measurements of ringing frequencies\uff09 \u7ae0\u8282\u7684\u6b65\u9aa4\u8fdb\u884c\u4fee\u6b63\uff0c\u4ee5\u53d1\u6325\u8f93\u5165\u6574\u5f62\u7684\u6548\u7528\u3002 \u632f\u94c3\u9891\u7387\u4f1a\u57fa\u4e8e\u5de5\u4ef6\u5728\u5e8a\u4e0a\u7684\u4f4d\u7f6e\u548c\u6253\u5370\u7684Z\u9ad8\u5ea6\u800c\u53d8\u5316\uff0c\u8fd9\u79cd\u60c5\u51b5\u5728 \u4e09\u89d2\u6d32\u6253\u5370\u673a\u4e0a \u7279\u4e3a\u663e\u8457\uff1b\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u68c0\u67e5\u5de5\u4ef6\u7684\u4e0d\u540c\u4f4d\u7f6e\u548c\u9ad8\u5ea6\u4e0a\u7684\u632f\u7eb9\u662f\u5426\u51fa\u73b0\u663e\u8457\u53d8\u5316\u800c\u786e\u5b9a\u3002\u5982\u679c\u51fa\u73b0\u4e0a\u8ff0\u72b6\u51b5\uff0c\u53ef\u4ee5\u901a\u8fc7\u8ba1\u7b97\u4e0d\u540c\u4f4d\u7f6e\u7684\u632f\u94c3\u9891\u7387\uff0c\u5e76\u57fa\u4e8ex\u8f74\u548cy\u8f74\u8ba1\u7b97\u5e73\u5747\u503c\u3002 \u5982\u679c\u6d4b\u91cf\u5230\u7684\u632f\u94c3\u9891\u7387\u975e\u5e38\u4f4e\uff08\u7ea6\u4f4e\u4e8e20-25 Hz\uff09\uff0c\u5219\u5efa\u8bae\u6839\u636e\u5e94\u7528\u7684\u76ee\u7684\uff0c\u5728\u8fdb\u884c\u8fdb\u4e00\u6b65\u8f93\u5165\u6574\u5f62\u8c03\u8bd5\u524d\uff0c\u63d0\u9ad8\u6253\u5370\u673a\u6846\u67b6\u7684\u521a\u6027\uff0c\u6216\u51cf\u5c11\u52a8\u90e8\u4ef6\u7684\u8d28\u91cf\u3002\u5bf9\u5927\u591a\u4e3b\u6d41\u6253\u5370\u673a\u800c\u8a00\uff0c\u4e0a\u8ff0\u6539\u9020\u7684\u65b9\u5f0f\u53ef\u7b80\u5355\u641c\u7d22\u83b7\u5f97\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5bf9\u6253\u5370\u673a\u8fdb\u884c\u4e86\u6539\u52a8\uff0c\u6539\u53d8\u4e86\u79fb\u52a8\u8d28\u91cf\u6216\u7cfb\u7edf\u7684\u521a\u5ea6\uff0c\u5171\u632f\uff08\u632f\u7eb9\uff09\u9891\u7387\u4f1a\u53d1\u751f\u53d8\u5316\u3002\u4f8b\u5982\uff1a \u5b89\u88c5\u3001\u79fb\u9664\u3001\u66f4\u6362\u4e86\u4e00\u4e9b\u5728\u6253\u5370\u5934\u4e0a\u7684\u5de5\u5177\uff0c\u4ece\u800c\u6539\u53d8\u4e86\u5176\u8d28\u91cf\uff0c\u4f8b\u5982\uff0c\u4e3a\u8fd1\u7a0b\u6324\u51fa\u673a\u66f4\u6362\u4e00\u4e2a\u65b0\u7684\uff08\u66f4\u91cd\u6216\u66f4\u8f7b\u7684\uff09\u6b65\u8fdb\u7535\u673a\uff0c\u6216\u5b89\u88c5\u4e00\u4e2a\u65b0\u7684\u70ed\u7aef\uff0c\u589e\u52a0\u4e00\u4e2a\u5e26\u98ce\u9053\u7684\u91cd\u578b\u98ce\u6247\uff0c\u7b49\u7b49\u3002 \u540c\u6b65\u5e26\u88ab\u62c9\u7d27\u3002 \u5b89\u88c5\u4e86\u4e00\u4e9b\u589e\u52a0\u6846\u67b6\u521a\u6027\u7684\u914d\u4ef6\u3002 \u5bf9\u5e73\u79fb\u70ed\u5e8a\u5f0f\u6253\u5370\u673a\u800c\u8a00\uff0c\u4f7f\u7528\u4e86\u4e0d\u540c\u7684\u70ed\u5e8a\u9762\u677f\uff0c\u6216\u8005\u52a0\u88c5\u4e86\u73bb\u7483\u9762\u677f\u7b49\u64cd\u4f5c\u3002 \u5982\u679c\u8fdb\u884c\u4e86\u6b64\u7c7b\u66f4\u6539\uff0c\u5219\u6700\u597d\u81f3\u5c11\u6d4b\u91cf\u5171\u632f\uff08\u632f\u7eb9\uff09\u9891\u7387\u4ee5\u67e5\u770b\u5b83\u4eec\u662f\u5426\u53d1\u751f\u53d8\u5316\u3002","title":"\u632f\u7eb9\u9891\u7387"},{"location":"Resonance_Compensation.html#_4","text":"\u6d4b\u91cf X \u548c Y \u8f74\u7684\u5171\u632f\u9891\u7387\u540e\uff0c\u60a8\u53ef\u4ee5\u5c06\u4ee5\u4e0b\u5206\u6bb5\u4e2d\u6dfb\u52a0\u5230 printer.cfg \uff1a [input_shaper] shaper_freq_x: ... # frequency for the X mark of the test model shaper_freq_y: ... # frequency for the Y mark of the test model \u5bf9\u4e8e\u4e0a\u8ff0\u4f8b\u5b50\uff0c\u6211\u4eec\u5f97\u5230 shaper_freq_x/y = 49.4\u3002","title":"\u8f93\u5165\u6574\u5f62\u5668\u914d\u7f6e"},{"location":"Resonance_Compensation.html#_5","text":"Klipper\u652f\u6301\u6570\u79cd\u8f93\u5165\u6574\u5f62\u5668\u3002\u8fd9\u4e9b\u6574\u5f62\u5668\u4e4b\u95f4\u7684\u5dee\u5f02\u5728\u4e8e\u5b83\u4eec\u5bb9\u8bb8\u7684\u5171\u632f\u9891\u7387\u6d4b\u91cf\u8bef\u5dee\u548c\u5b83\u4eec\u5728\u6253\u5370\u4ef6\u4e2d\u4ea7\u751f\u7684\u5e73\u6ed1\u5ea6\u3002\u8bf7\u6ce8\u610f\uff0c\u4e00\u4e9b\u6574\u5f62\u5668\uff0c\u4f8b\u59822HUMP_EI\u548c3HUMP_EI\uff0c\u4e0d\u5e94\u4e0eshaper_freq = \u5171\u632f\u9891\u7387\u4e00\u8d77\u4f7f\u7528\u3002\u5b83\u4eec\u5e94\u8be5\u88ab\u914d\u7f6e\u4e3a\u540c\u65f6\u51cf\u5c11\u591a\u4e2a\u4e0d\u540c\u7684\u9891\u7387\u3002 \u5bf9\u4e8e\u5927\u591a\u6570\u6253\u5370\u673a\uff0c\u63a8\u8350 MZV \u6216E I\u6574\u5f62\u5668\u3002\u7ae0\u8282\u4ecb\u7ecd\u4e86\u5728\u5b83\u4eec\u4e4b\u95f4\u8fdb\u884c\u9009\u62e9\uff0c\u5e76\u627e\u51fa\u5176\u4ed6\u4e00\u4e9b\u76f8\u5173\u53c2\u6570\u7684\u6d4b\u8bd5\u8fc7\u7a0b\u3002 Print the ringing test model as follows: Restart the firmware: RESTART Prepare for test: SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 Disable Pressure Advance: SET_PRESSURE_ADVANCE ADVANCE=0 Execute: SET_INPUT_SHAPER SHAPER_TYPE=MZV Execute the command: TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u6253\u5370\u7528\u5efa\u8bae\u7684\u53c2\u6570\u5207\u7247\u7684\u6d4b\u8bd5\u6a21\u578b\u3002 \u5982\u679c\u4f60\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u6ca1\u6709\u770b\u5230\u632f\u94c3\uff0c\u90a3\u4e48\u63a8\u8350\u4f7f\u7528 MZV \u6574\u5f62\u5668\u3002 \u5982\u679c\u4f60\u786e\u5b9e\u770b\u5230\u4e00\u4e9b\u632f\u7eb9\uff0c\u4f7f\u7528 \u9891\u7387 \u90e8\u5206\u63cf\u8ff0\u7684\u6b65\u9aa4(8)-(10)\u91cd\u65b0\u6d4b\u91cf\u9891\u7387\u3002\u5982\u679c\u9891\u7387\u4e0e\u4f60\u4e4b\u524d\u5f97\u5230\u7684\u503c\u6709\u5f88\u5927\u7684\u4e0d\u540c\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u66f4\u590d\u6742\u7684\u8f93\u5165\u6574\u5f62\u5668\u914d\u7f6e\u3002\u4f60\u53ef\u4ee5\u53c2\u8003 \u8f93\u5165\u6574\u5f62\u5668 \u90e8\u5206\u7684\u6280\u672f\u7ec6\u8282\u3002\u5426\u5219\uff0c\u8fdb\u5165\u4e0b\u4e00\u6b65\uff1a Now try EI input shaper. To try it, repeat steps (1)-(6) from above, but executing at step 4 the following command instead: SET_INPUT_SHAPER SHAPER_TYPE=EI . Compare two prints with MZV and EI input shaper. If EI shows noticeably better results than MZV, use EI shaper, otherwise prefer MZV. Note that EI shaper will cause more smoothing in printed parts (see the next section for further details). Add shaper_type: mzv (or ei) parameter to [input_shaper] section, e.g.: [input_shaper] shaper_freq_x: ... shaper_freq_y: ... shaper_type: mzv A few notes on shaper selection: EI shaper may be more suited for bed slinger printers (if the resonance frequency and resulting smoothing allows): as more filament is deposited on the moving bed, the mass of the bed increases and the resonance frequency will decrease. Since EI shaper is more robust to resonance frequency changes, it may work better when printing large parts. Due to the nature of delta kinematics, resonance frequencies can differ a lot in different parts of the build volume. Therefore, EI shaper can be a better fit for delta printers rather than MZV or ZV, and should be considered for the use. If the resonance frequency is sufficiently large (more than 50-60 Hz), then one can even attempt to test 2HUMP_EI shaper (by running the suggested test above with SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI ), but check the considerations in the section below before enabling it.","title":"\u9009\u62e9\u8f93\u5165\u6574\u5f62\u5668"},{"location":"Resonance_Compensation.html#selecting-max_accel","text":"You should have a printed test for the shaper you chose from the previous step (if you don't, print the test model sliced with the suggested parameters with the pressure advance disabled SET_PRESSURE_ADVANCE ADVANCE=0 and with the tuning tower enabled as TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 ). Note that at very high accelerations, depending on the resonance frequency and the input shaper you chose (e.g. EI shaper creates more smoothing than MZV), input shaping may cause too much smoothing and rounding of the parts. So, max_accel should be chosen such as to prevent that. Another parameter that can impact smoothing is square_corner_velocity , so it is not advisable to increase it above the default 5 mm/sec to prevent increased smoothing. In order to select a suitable max_accel value, inspect the model for the chosen input shaper. First, take a note at which acceleration ringing is still small - that you are comfortable with it. Next, check the smoothing. To help with that, the test model has a small gap in the wall (0.15 mm): As the acceleration increases, so does the smoothing, and the actual gap in the print widens: In this picture, the acceleration increases left to right, and the gap starts to grow starting from 3500 mm/sec^2 (5-th band from the left). So the good value for max_accel = 3000 (mm/sec^2) in this case to avoid the excessive smoothing. Note the acceleration when the gap is still very small in your test print. If you see bulges, but no gap in the wall at all, even at high accelerations, it may be due to disabled Pressure Advance, especially on Bowden extruders. If that is the case, you may need to repeat the print with the PA enabled. It may also be a result of a miscalibrated (too high) filament flow, so it is a good idea to check that too. Choose the minimum out of the two acceleration values (from ringing and smoothing), and put it as max_accel into printer.cfg. As a note, it may happen - especially at low ringing frequencies - that EI shaper will cause too much smoothing even at lower accelerations. In this case, MZV may be a better choice, because it may allow higher acceleration values. At very low ringing frequencies (~25 Hz and below) even MZV shaper may create too much smoothing. If that is the case, you can also try to repeat the steps in Choosing input shaper section with ZV shaper, by using SET_INPUT_SHAPER SHAPER_TYPE=ZV command instead. ZV shaper should show even less smoothing than MZV, but is more sensitive to errors in measuring the ringing frequencies. Another consideration is that if a resonance frequency is too low (below 20-25 Hz), it might be a good idea to increase the printer stiffness or reduce the moving mass. Otherwise, acceleration and printing speed may be limited due too much smoothing now instead of ringing.","title":"Selecting max_accel"},{"location":"Resonance_Compensation.html#fine-tuning-resonance-frequencies","text":"Note that the precision of the resonance frequencies measurements using the ringing test model is sufficient for most purposes, so further tuning is not advised. If you still want to try to double-check your results (e.g. if you still see some ringing after printing a test model with an input shaper of your choice with the same frequencies as you have measured earlier), you can follow the steps in this section. Note that if you see ringing at different frequencies after enabling [input_shaper], this section will not help with that. Assuming that you have sliced the ringing model with suggested parameters, complete the following steps for each of the axes X and Y: Prepare for test: SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 Make sure Pressure Advance is disabled: SET_PRESSURE_ADVANCE ADVANCE=0 Execute: SET_INPUT_SHAPER SHAPER_TYPE=ZV From the existing ringing test model with your chosen input shaper select the acceleration that shows ringing sufficiently well, and set it with: SET_VELOCITY_LIMIT ACCEL=... Calculate the necessary parameters for the TUNING_TOWER command to tune shaper_freq_x parameter as follows: start = shaper_freq_x * 83 / 132 and factor = shaper_freq_x / 66, where shaper_freq_x here is the current value in printer.cfg . Execute the command: TUNING_TOWER COMMAND=SET_INPUT_SHAPER PARAMETER=SHAPER_FREQ_X START=start FACTOR=factor BAND=5 using start and factor values calculated at step (5). Print the test model. Reset the original frequency value: SET_INPUT_SHAPER SHAPER_FREQ_X=... . Find the band which shows ringing the least and count its number from the bottom starting at 1. Calculate the new shaper_freq_x value via old shaper_freq_x * (39 + 5 * #band-number) / 66. Repeat these steps for the Y axis in the same manner, replacing references to X axis with the axis Y (e.g. replace shaper_freq_x with shaper_freq_y in the formulae and in the TUNING_TOWER command). As an example, let's assume you have had measured the ringing frequency for one of the axis equal to 45 Hz. This gives start = 45 * 83 / 132 = 28.30 and factor = 45 / 66 = 0.6818 values for TUNING_TOWER command. Now let's assume that after printing the test model, the fourth band from the bottom gives the least ringing. This gives the updated shaper_freq_? value equal to 45 * (39 + 5 * 4) / 66 \u2248 40.23. After both new shaper_freq_x and shaper_freq_y parameters have been calculated, you can update [input_shaper] section in printer.cfg with the new shaper_freq_x and shaper_freq_y values.","title":"Fine-tuning resonance frequencies"},{"location":"Resonance_Compensation.html#pressure-advance","text":"If you use Pressure Advance, it may need to be re-tuned. Follow the instructions to find the new value, if it differs from the previous one. Make sure to restart Klipper before tuning Pressure Advance.","title":"Pressure Advance"},{"location":"Resonance_Compensation.html#unreliable-measurements-of-ringing-frequencies","text":"If you are unable to measure the ringing frequencies, e.g. if the distance between the oscillations is not stable, you may still be able to take advantage of input shaping techniques, but the results may not be as good as with proper measurements of the frequencies, and will require a bit more tuning and printing the test model. Note that another possibility is to purchase and install an accelerometer and measure the resonances with it (refer to the docs describing the required hardware and the setup process) - but this option requires some crimping and soldering. For tuning, add empty [input_shaper] section to your printer.cfg . Then, assuming that you have sliced the ringing model with suggested parameters, print the test model 3 times as follows. First time, prior to printing, run RESTART SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 SET_PRESSURE_ADVANCE ADVANCE=0 SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=60 SHAPER_FREQ_Y=60 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 and print the model. Then print the model again, but before printing run instead SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=50 SHAPER_FREQ_Y=50 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 Then print the model for the 3rd time, but now run SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=40 SHAPER_FREQ_Y=40 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 Essentially, we are printing the ringing test model with TUNING_TOWER using 2HUMP_EI shaper with shaper_freq = 60 Hz, 50 Hz, and 40 Hz. If none of the models demonstrate improvements in ringing, then, unfortunately, it does not look like the input shaping techniques can help with your case. Otherwise, it may be that all models show no ringing, or some show the ringing and some - not so much. Choose the test model with the highest frequency that still shows good improvements in ringing. For example, if 40 Hz and 50 Hz models show almost no ringing, and 60 Hz model already shows some more ringing, stick with 50 Hz. Now check if EI shaper would be good enough in your case. Choose EI shaper frequency based on the frequency of 2HUMP_EI shaper you chose: For 2HUMP_EI 60 Hz shaper, use EI shaper with shaper_freq = 50 Hz. For 2HUMP_EI 50 Hz shaper, use EI shaper with shaper_freq = 40 Hz. For 2HUMP_EI 40 Hz shaper, use EI shaper with shaper_freq = 33 Hz. Now print the test model one more time, running SET_INPUT_SHAPER SHAPER_TYPE=EI SHAPER_FREQ_X=... SHAPER_FREQ_Y=... TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 providing the shaper_freq_x=... and shaper_freq_y=... as determined previously. If EI shaper shows very comparable good results as 2HUMP_EI shaper, stick with EI shaper and the frequency determined earlier, otherwise use 2HUMP_EI shaper with the corresponding frequency. Add the results to printer.cfg as, e.g. [input_shaper] shaper_freq_x: 50 shaper_freq_y: 50 shaper_type: 2hump_ei Continue the tuning with Selecting max_accel section.","title":"Unreliable measurements of ringing frequencies"},{"location":"Resonance_Compensation.html#troubleshooting-and-faq","text":"","title":"Troubleshooting and FAQ"},{"location":"Resonance_Compensation.html#i-cannot-get-reliable-measurements-of-resonance-frequencies","text":"First, make sure it is not some other problem with the printer instead of ringing. If the measurements are not reliable because, say, the distance between the oscillations is not stable, it might mean that the printer has several resonance frequencies on the same axis. One may try to follow the tuning process described in Unreliable measurements of ringing frequencies section and still get something out of the input shaping technique. Another possibility is to install an accelerometer, measure the resonances with it, and auto-tune the input shaper using the results of those measurements.","title":"I cannot get reliable measurements of resonance frequencies"},{"location":"Resonance_Compensation.html#after-enabling-input_shaper-i-get-too-smoothed-printed-parts-and-fine-details-are-lost","text":"Check the considerations in Selecting max_accel section. If the resonance frequency is low, one should not set too high max_accel or increase square_corner_velocity parameters. It might also be better to choose MZV or even ZV input shapers over EI (or 2HUMP_EI and 3HUMP_EI shapers).","title":"After enabling [input_shaper], I get too smoothed printed parts and fine details are lost"},{"location":"Resonance_Compensation.html#after-successfully-printing-for-some-time-without-ringing-it-appears-to-come-back","text":"It is possible that after some time the resonance frequencies have changed. E.g. maybe the belts tension has changed (belts got more loose), etc. It is a good idea to check and re-measure the ringing frequencies as described in Ringing frequency section and update your config file if necessary.","title":"After successfully printing for some time without ringing, it appears to come back"},{"location":"Resonance_Compensation.html#is-dual-carriage-setup-supported-with-input-shapers","text":"There is no dedicated support for dual carriages with input shapers, but it does not mean this setup will not work. One should run the tuning twice for each of the carriages, and calculate the ringing frequencies for X and Y axes for each of the carriages independently. Then put the values for carriage 0 into [input_shaper] section, and change the values on the fly when changing carriages, e.g. as a part of some macro: SET_DUAL_CARRIAGE CARRIAGE=1 SET_INPUT_SHAPER SHAPER_FREQ_X=... SHAPER_FREQ_Y=... And similarly when switching back to carriage 0.","title":"Is dual carriage setup supported with input shapers?"},{"location":"Resonance_Compensation.html#does-input_shaper-affect-print-time","text":"No, input_shaper feature has pretty much no impact on the print times by itself. However, the value of max_accel certainly does (tuning of this parameter described in this section ).","title":"Does input_shaper affect print time?"},{"location":"Resonance_Compensation.html#technical-details","text":"","title":"Technical details"},{"location":"Resonance_Compensation.html#input-shapers","text":"Input shapers used in Klipper are rather standard, and one can find more in-depth overview in the articles describing the corresponding shapers. This section contains a brief overview of some technical aspects of the supported input shapers. The table below shows some (usually approximate) parameters of each shaper. Input shaper Shaper duration Vibration reduction 20x (5% vibration tolerance) Vibration reduction 10x (10% vibration tolerance) ZV 0.5 / shaper_freq N/A \u00b1 5% shaper_freq MZV 0.75 / shaper_freq \u00b1 4% shaper_freq -10%...+15% shaper_freq ZVD 1 / shaper_freq \u00b1 15% shaper_freq \u00b1 22% shaper_freq EI 1 / shaper_freq \u00b1 20% shaper_freq \u00b1 25% shaper_freq 2HUMP_EI 1.5 / shaper_freq \u00b1 35% shaper_freq \u00b1 40 shaper_freq 3HUMP_EI 2 / shaper_freq -45...+50% shaper_freq -50%...+55% shaper_freq A note on vibration reduction: the values in the table above are approximate. If the damping ratio of the printer is known for each axis, the shaper can be configured more precisely and it will then reduce the resonances in a bit wider range of frequencies. However, the damping ratio is usually unknown and is hard to estimate without a special equipment, so Klipper uses 0.1 value by default, which is a good all-round value. The frequency ranges in the table cover a number of different possible damping ratios around that value (approx. from 0.05 to 0.2). Also note that EI, 2HUMP_EI, and 3HUMP_EI are tuned to reduce vibrations to 5%, so the values for 10% vibration tolerance are provided only for the reference. How to use this table: Shaper duration affects the smoothing in parts - the larger it is, the more smooth the parts are. This dependency is not linear, but can give a sense of which shapers 'smooth' more for the same frequency. The ordering by smoothing is like this: ZV < MZV < ZVD \u2248 EI < 2HUMP_EI < 3HUMP_EI. Also, it is rarely practical to set shaper_freq = resonance freq for shapers 2HUMP_EI and 3HUMP_EI (they should be used to reduce vibrations for several frequencies). One can estimate a range of frequencies in which the shaper reduces vibrations. For example, MZV with shaper_freq = 35 Hz reduces vibrations to 5% for frequencies [33.6, 36.4] Hz. 3HUMP_EI with shaper_freq = 50 Hz reduces vibrations to 5% in range [27.5, 75] Hz. One can use this table to check which shaper they should be using if they need to reduce vibrations at several frequencies. For example, if one has resonances at 35 Hz and 60 Hz on the same axis: a) EI shaper needs to have shaper_freq = 35 / (1 - 0.2) = 43.75 Hz, and it will reduce resonances until 43.75 * (1 + 0.2) = 52.5 Hz, so it is not sufficient; b) 2HUMP_EI shaper needs to have shaper_freq = 35 / (1 - 0.35) = 53.85 Hz and will reduce vibrations until 53.85 * (1 + 0.35) = 72.7 Hz - so this is an acceptable configuration. Always try to use as high shaper_freq as possible for a given shaper (perhaps with some safety margin, so in this example shaper_freq \u2248 50-52 Hz would work best), and try to use a shaper with as small shaper duration as possible. If one needs to reduce vibrations at several very different frequencies (say, 30 Hz and 100 Hz), they may see that the table above does not provide enough information. In this case one may have more luck with scripts/graph_shaper.py script, which is more flexible.","title":"Input shapers"},{"location":"Rotation_Distance.html","text":"\u65cb\u8f6c\u8ddd\u79bb \u00b6 Klipper \u4e0a\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u5728\u6bcf\u4e2a stepper \u914d\u7f6e\u5206\u6bb5 \u4e2d\u90fd\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a rotation_distance \u53c2\u6570\u3002 rotation_distance \u662f\u6b65\u8fdb\u7535\u673a\u65cb\u8f6c\u4e00\u6574\u5708\u65f6\u8f74\u79fb\u52a8\u7684\u8ddd\u79bb\u3002\u672c\u6587\u6863\u63cf\u8ff0\u4e86\u5982\u4f55\u914d\u7f6e\u6b64\u503c\u3002 \u4ecestep_per_mm\uff08\u6216step_distance\uff09\u6362\u7b97\u65cb\u8f6c\u8ddd\u79bb \u00b6 \u4f60\u7684 3D \u6253\u5370\u673a\u7684\u6700\u521d\u8bbe\u8ba1\u9700\u8981\u4ece\u65cb\u8f6c\u8ddd\u79bb\u6362\u7b97 steps_per_mm \u3002\u5982\u679c\u60a8\u77e5\u9053steps_per_mm\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u6b64\u901a\u7528\u516c\u5f0f\u83b7\u5f97\u539f\u59cb\u65cb\u8f6c\u8ddd\u79bb\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> / <steps_per_mm> \u6216\u8005\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2a\u65e7\u7248\u672c\u7684Klipper\u914d\u7f6e\u5e76\u77e5\u9053 step_distance \u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u516c\u5f0f\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> * <step_distance> <full_steps_per_rotation> \u8bbe\u7f6e\u7531\u6b65\u8fdb\u7535\u673a\u7684\u7c7b\u578b\u51b3\u5b9a\u3002\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\u662f\u201c1.8 \u5ea6\u6b65\u8fdb\u7535\u673a\u201d\uff0c\u56e0\u6b64\u6bcf\u8f6c 200 \u6b65\uff08360 \u9664\u4ee5 1.8 \u7b49\u4e8e 200\uff09\u3002\u4e00\u4e9b\u6b65\u8fdb\u7535\u673a\u662f\u201c0.9 \u5ea6\u6b65\u8fdb\u7535\u673a\u201d\uff0c\u56e0\u6b64\u6bcf\u8f6c\u6709 400 \u6574\u6b65\u3002\u5176\u4ed6\u7c7b\u578b\u7684\u6b65\u8fdb\u7535\u673a\u5f88\u5c11\u89c1\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u8bf7\u4e0d\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e full_steps_per_rotation \u5e76\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 200\u3002 <microsteps> \uff08\u5fae\u6b65\uff09\u8bbe\u7f6e\u7531\u53d6\u51b3\u4e8e\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u578b\u53f7\u3002\u5927\u591a\u6570\u9a71\u52a8\u4f7f\u7528 16 \u4e2a\u5fae\u6b65\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u8bf7\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e microsteps: 16 \uff0c\u5e76\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 16\u3002 \u51e0\u4e4e\u6240\u6709\u7684\u6253\u5370\u673a\u5728X\u3001Y\u548cZ\u578b\u8f74\u4e0a\u7684 \u65cb\u8f6c\u8ddd\u79bb \u90fd\u5e94\u8be5\u662f\u6574\u6570\u3002\u5982\u679c\u4e0a\u8ff0\u516c\u5f0f\u5f97\u51fa\u7684\u65cb\u8f6c\u8ddd\u79bb\u5728\u6574\u6570\u76840.01\u4ee5\u5185\uff0c\u90a3\u4e48\u5c31\u628a\u6700\u7ec8\u503c\u56db\u820d\u4e94\u5165\u5230\u8be5\u6574\u6570\u3002 \u6821\u51c6\u6324\u51fa\u673a\u7684 rotation_distance \u00b6 \u5728\u6324\u51fa\u673a\u4e0a\uff0c rotation_distance \u662f\u6307\u6b65\u8fdb\u7535\u673a\u65cb\u8f6c\u4e00\u5708\u540e\uff0c\u8017\u6750\u6240\u8d70\u7684\u8ddd\u79bb\u3002\u83b7\u5f97\u8fd9\u4e00\u8bbe\u7f6e\u51c6\u786e\u503c\u7684\u6700\u597d\u65b9\u6cd5\u662f\u4f7f\u7528\"\u6d4b\u91cf\u5e76\u4fee\u6b63\"\u7684\u65b9\u6cd5\u3002 \u53ef\u4ee5\u901a\u8fc7 steps_per_mm \u6216\u8005\u901a\u8fc7 \u68c0\u67e5\u786c\u4ef6 \u5f97\u5230\u521d\u59cb\u7684\u731c\u6d4b\u503c\u3002 \u7136\u540e\u6839\u636e\u4ee5\u4e0b\u6d41\u7a0b\u6267\u884c\"\u6d4b\u91cf\u5e76\u4fee\u6b63\"\uff1a \u9996\u5148\u786e\u4fdd\u6324\u51fa\u673a\u91cc\u6709\u8017\u6750\uff0c\u70ed\u7aef\u5df2\u88ab\u52a0\u70ed\u5230\u9002\u5f53\u7684\u6e29\u5ea6\uff0c\u5e76\u4e14\u6253\u5370\u673a\u51c6\u5907\u597d\u6324\u51fa\u3002 \u7528\u8bb0\u53f7\u7b14\u5728\u79bb\u6324\u51fa\u673a\u5165\u53e3\u7ea670\u6beb\u7c73\u7684\u4f4d\u7f6e\u4e0a\u5bf9\u8017\u6750\u505a\u4e00\u4e2a\u6807\u8bb0\u3002\u7136\u540e\u7528\u6570\u5b57\u5361\u5c3a\u5c3d\u53ef\u80fd\u7cbe\u786e\u5730\u6d4b\u91cf\u8be5\u6807\u8bb0\u7684\u5b9e\u9645\u8ddd\u79bb\u3002\u5c06\u6b64\u8bb0\u4e3a <\u521d\u59cb\u6807\u8bb0\u8ddd\u79bb> \u3002 \u7528\u4e0b\u9762\u5217\u51fa\u7684\u547d\u4ee4\u6324\u51fa 50mm \u7684\u6253\u5370\u4e1d\u3002\u5148\u53d1\u9001 G91 \uff0c\u7136\u540e\u53d1\u9001 G1 E50 F60 \u3002\u6ce8\u610f50mm\u4e3a <\u8bf7\u6c42\u7684\u6324\u51fa\u957f\u5ea6> \u3002\u7b49\u5f85\u6324\u51fa\u673a\u5b8c\u6210\u79fb\u52a8\uff08\u5927\u7ea6\u9700\u898150\u79d2\uff09\u3002\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\uff0c\u4f7f\u7528\u7f13\u6162\u7684\u6324\u51fa\u901f\u5ea6\u662f\u5f88\u91cd\u8981\u7684\uff0c\u56e0\u4e3a\u8f83\u5feb\u7684\u901f\u5ea6\u4f1a\u5bfc\u81f4\u6324\u51fa\u673a\u7684\u538b\u529b\u53d8\u9ad8\uff0c\u4f7f\u7ed3\u679c\u53d1\u751f\u504f\u5dee\u3002(\u4e0d\u8981\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\u4f7f\u7528\u56fe\u5f62\u524d\u7aef\u7684\"\u6324\u51fa\u6309\u94ae\"\uff0c\u56e0\u4e3a\u5b83\u662f\u4ee5\u5feb\u901f\u7684\u901f\u5ea6\u6324\u51fa\u7684\u3002) \u4f7f\u7528\u6570\u663e\u5361\u5c3a\u6d4b\u91cf\u6324\u51fa\u673a\u4e3b\u4f53\u4e0e\u8017\u6750\u4e0a\u7684\u6807\u8bb0\u4e4b\u95f4\u7684\u65b0\u8ddd\u79bb\u3002\u8bf7\u6ce8\u610f\u8be5\u8ddd\u79bb\u662f <\u6700\u7ec8\u6807\u8bb0\u8ddd\u79bb> \u3002\u7136\u540e\u8ba1\u7b97\uff1a \u5b9e\u9645\u6324\u51fa\u957f\u5ea6 = <\u521d\u59cb\u6807\u8bb0\u8ddd\u79bb> - <\u6700\u7ec8\u6807\u8bb0\u8ddd\u79bb> \u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb\u4e3a\uff1a rotation_distance = <\u65e7rotation_distance> * <\u5b9e\u9645\u6324\u51fa\u957f\u5ea6> / <\u8bf7\u6c42\u7684\u6324\u51fa\u957f\u5ea6> \u3002\u5c06\u65b0\u7684 rotation_distance \u53d6\u6574\u5230\u5c0f\u6570\u70b9\u540e3\u4f4d\u3002 \u5982\u679c\u5b9e\u9645\u6324\u51fa\u7684\u957f\u5ea6\u4e0e\u8bf7\u6c42\u6324\u51fa\u7684\u8ddd\u79bb\u76f8\u5dee\u8d85\u8fc72\u6beb\u7c73\uff0c\u90a3\u4e48\u6700\u597d\u518d\u91cd\u590d\u4e00\u6b21\u4e0a\u8ff0\u6b65\u9aa4\u3002 \u6ce8\u610f\uff1a \u4e0d\u8981 \u4f7f\u7528\"\u6d4b\u91cf\u5e76\u4fee\u6b63\"\u7c7b\u7684\u65b9\u6cd5\u6765\u6821\u51c6x\u3001y\u6216z\u8f74\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u8f74\u6765\u8bf4\uff0c\"\u6d4b\u91cf\u5e76\u4fee\u526a\"\u7684\u65b9\u6cd5\u4e0d\u591f\u7cbe\u786e\uff0c\u800c\u4e14\u53ef\u80fd\u4f1a\u5bfc\u81f4\u66f4\u7cdf\u7cd5\u7684\u914d\u7f6e\u3002\u76f8\u53cd\uff0c\u5982\u679c\u9700\u8981\uff0c\u8fd9\u4e9b\u8f74\u53ef\u4ee5\u901a\u8fc7 j\u68c0\u67e5\u76ae\u5e26\u3001\u6ed1\u8f6e\u548c\u4e1d\u6746 \u6765\u786e\u5b9a\u65cb\u8f6c\u8ddd\u79bb\u3002 \u901a\u8fc7\u68c0\u67e5\u786c\u4ef6\u83b7\u5f97\u65cb\u8f6c\u8ddd\u79bb \u00b6 \u6709\u4e86\u6b65\u8fdb\u7535\u673a\u548c\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u65b9\u9762\u7684\u4fe1\u606f\uff0c\u5c31\u53ef\u4ee5\u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb\u3002\u5982\u679c\u4e0d\u77e5\u9053steps_per_mm\uff08\u6bcf\u6beb\u7c73\u7684\u6b65\u6570\uff09\uff0c\u6216\u8005\u6b63\u5728\u8bbe\u8ba1\u4e00\u53f0\u65b0\u7684\u6253\u5370\u673a\uff0c\u8fd9\u53ef\u80fd\u6709\u5e2e\u52a9\u3002 \u76ae\u5e26\u9a71\u52a8\u7684\u8f74 \u00b6 \u8ba1\u7b97\u4f7f\u7528\u76ae\u5e26\u548c\u6ed1\u8f6e\u7684\u76f4\u7ebf\u8f74\u7684\u65cb\u8f6c\u8ddd\u79bb\u5f88\u7b80\u5355\u3002 \u9996\u5148\u786e\u5b9a\u76ae\u5e26\u7684\u7c7b\u578b\u3002\u5927\u591a\u6570\u6253\u5370\u673a\u4f7f\u75282\u6beb\u7c73\u7684\u76ae\u5e26\u95f4\u8ddd\uff08\u4e5f\u5c31\u662f\u8bf4\uff0c\u76ae\u5e26\u4e0a\u7684\u6bcf\u4e2a\u9f7f\u76f8\u8ddd2\u6beb\u7c73\uff09\u3002\u7136\u540e\u8ba1\u7b97\u6b65\u8fdb\u7535\u673a\u6ed1\u8f6e\u4e0a\u7684\u9f7f\u6570\u3002\u7136\u540e\u8ba1\u7b97\u51farotation_distance \uff08\u65cb\u8f6c\u8ddd\u79bb\uff09\u4e3a\uff1a rotation_distance = <belt_pitch> * <number_of_teeth_on_pulley> \u4f8b\u5982\uff0c\u5982\u679c\u4e00\u53f0\u6253\u5370\u673a\u6709\u4e00\u67612\u6beb\u7c73\u95f4\u8ddd\u7684\u76ae\u5e26\u5e76\u4f7f\u7528\u4e00\u4e2a20\u9f7f\u7684\u76ae\u5e26\u8f6e\uff0c\u90a3\u4e48\u65cb\u8f6c\u8ddd\u79bb\u4e3a40\u3002 \u4f7f\u7528\u4e1d\u6746\u7684\u8f74 \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u516c\u5f0f\u53ef\u4ee5\u7b80\u5355\u7684\u8ba1\u7b97\u51fa\u5e38\u89c1\u7684\u65cb\u8f6c\u8ddd\u79bb\uff1a rotation_distance = <screw_pitch> * <number_of_separate_threads> \u4f8b\u5982\uff0c\u5e38\u89c1\u7684\"T8\u4e1d\u6746\"\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e3a8\uff08\u5b83\u7684\u95f4\u8ddd\u4e3a2mm\uff0c\u67094\u4e2a\u72ec\u7acb\u7684\u87ba\u7eb9\uff09\u3002 \u8001\u5f0f\u6253\u5370\u673a\u7684\"\u87ba\u6746\"\u5728\u5bfc\u87ba\u6746\u4e0a\u53ea\u6709\u4e00\u4e2a\"\u87ba\u7eb9\"\uff0c\u56e0\u6b64\u65cb\u8f6c\u8ddd\u79bb\u662f\u87ba\u6746\u7684\u95f4\u8ddd\u3002(\u4f8b\u5982\uff0cM6\u516c\u5236\u6746\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e3a1\uff0cM8\u6746\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e3a1.25\u3002 \u6324\u51fa\u673a \u00b6 \u901a\u8fc7\u6d4b\u91cf\u63a8\u52a8\u8017\u6750\u7684\u6eda\u82b1\u9f7f\u8f6e\u7684\u76f4\u5f84\u5e76\u4f7f\u7528\u8be5\u516c\u5f0f\u5f97\u51fa\u6324\u51fa\u673a\u7684\u521d\u59cb\u65cb\u8f6c\u8ddd\u79bb\uff1a \u65cb\u8f6c\u8ddd\u79bb=<\u76f4\u5f84> * 3.14 \u5982\u679c\u6324\u51fa\u673a\u4f7f\u7528\u9f7f\u8f6e\uff0c\u5219\u8fd8\u9700\u8981 \u786e\u5b9a\u548c\u8bbe\u7f6e\u6324\u51fa\u673a\u7684\u9f7f\u8f6e\u6bd4 \u3002 \u6324\u51fa\u673a\u7684\u5b9e\u9645\u65cb\u8f6c\u8ddd\u79bb\u4f1a\u56e0\u6253\u5370\u673a\u800c\u5f02\uff0c\u56e0\u4e3a\u4e0e\u8017\u6750\u556e\u5408\u7684\u6324\u51fa\u8bba\u7684\u538b\u529b\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u5b83\u751a\u81f3\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u8017\u6750\u6599\u5377\u4e4b\u95f4\u53d8\u5316\u3002\u5728\u83b7\u5f97\u521d\u59cb\u65cb\u8f6c\u8ddd\u79bb\u540e\uff0c\u4f7f\u7528 \u6d4b\u91cf\u5e76\u4fee\u526a\u7684\u6d41\u7a0b \u6765\u83b7\u5f97\u66f4\u7cbe\u786e\u7684\u8bbe\u7f6e\u3002 \u4f7f\u7528 gear_ratio\uff08\u9f7f\u8f6e\u6bd4\uff09 \u00b6 \u8bbe\u7f6e gear_ratio \u53ef\u4ee5\u7b80\u5316 rotation_distance \u5728\u6709\u9f7f\u8f6e\u7bb1\uff08\u6216\u7c7b\u4f3c\uff09\u8fde\u63a5\u7684\u6b65\u8fdb\u7535\u673a\u7684\u914d\u7f6e\u3002\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\u6ca1\u6709\u9f7f\u8f6e\u7bb1--\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u5c31\u4e0d\u8981\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e gear_ratio \u3002 \u5f53 gear_ratio \u88ab\u8bbe\u7f6e\u65f6\uff0c rotation_distance \u4ee3\u8868\u8f74\u5728\u9f7f\u8f6e\u7bb1\u4e0a\u7684\u6700\u540e\u4e00\u4e2a\u9f7f\u8f6e\u65cb\u8f6c\u4e00\u5708\u65f6\u7684\u79fb\u52a8\u8ddd\u79bb\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u4eba\u6b63\u5728\u4f7f\u7528\u4e00\u4e2a\u5177\u6709\"5:1\"\u6bd4\u7387\u7684\u9f7f\u8f6e\u7bb1\uff0c\u90a3\u4e48\u4ed6\u53ef\u4ee5\u7528 \u5bf9\u786c\u4ef6\u7684\u4e86\u89e3 \u6765\u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb\uff0c\u7136\u540e\u5c06 gear_ratio: 5:1 \u52a0\u5165\u914d\u7f6e\u4e2d\u3002 \u5bf9\u4e8e\u7528\u540c\u6b65\u5e26\u548c\u540c\u6b65\u5e26\u8f6e\u4f20\u52a8\u7684\u6253\u5370\u673a\uff0c\u53ef\u4ee5\u901a\u8fc7\u540c\u6b65\u5e26\u8f6e\u4e0a\u7684\u9f7f\u6570\u6765\u8ba1\u7b97\u9f7f\u8f6e\u6bd4\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u5e2616\u9f7f\u7684\u540c\u6b65\u5e26\u8f6e\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u4e00\u4e2a\u5e2680\u4e2a\u9f7f\u7684\u540c\u6b65\u5e26\u8f6e\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 gear_ratio: 80:16 \u3002\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u6570\u9f7f\u6570\u6765\u786e\u5b9a\u9f7f\u8f6e\u6bd4\u3002 \u8bf7\u6ce8\u610f\uff0c\u6709\u65f6\u4e00\u4e2a\u9f7f\u8f6e\u7bb1\u7684\u9f7f\u8f6e\u6bd4\u4f1a\u4e0e\u5b83\u7684\u5ba3\u4f20\u7565\u6709\u4e0d\u540c\u3002\u5e38\u89c1\u7684BMG\u6324\u51fa\u673a\u9a6c\u8fbe\u9f7f\u8f6e\u5c31\u662f\u4e00\u4e2a\u4f8b\u5b50--\u5b83\u4eec\u88ab\u5ba3\u4f20\u4e3a\"3:1\"\uff0c\u4f46\u5b9e\u9645\u4e0a\u4f7f\u7528\"50:17\"\u7684\u9f7f\u8f6e\u3002(\u4f7f\u7528\u6ca1\u6709\u5171\u540c\u5206\u6bcd\u7684\u9f7f\u6570\u53ef\u80fd\u4f1a\u6539\u5584\u9f7f\u8f6e\u7684\u6574\u4f53\u78e8\u635f\uff0c\u56e0\u4e3a\u6bcf\u8f6c\u4e00\u5708\uff0c\u9f7f\u7684\u556e\u5408\u65b9\u5f0f\u4e0d\u5c3d\u76f8\u540c\uff09\u3002\u5e38\u89c1\u7684\"5.18:1\u884c\u661f\u9f7f\u8f6e\u7bb1\"\uff0c\u66f4\u51c6\u786e\u7684\u914d\u7f6e\u662f gear_ratio: 57:11 \u3002 \u5982\u679c\u4e00\u4e2a\u8f74\u4e0a\u4f7f\u7528\u4e86\u591a\u4e2a\u9f7f\u8f6e\uff0c\u90a3\u4e48\u5728 gear_ratio \u4e2d\u586b\u5199\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\"5:1\"\u9f7f\u8f6e\u7bb1\u9a71\u52a8\u4e00\u4e2a16\u9f7f\u7684\u76ae\u5e26\u8f6e\u523080\u9f7f\u7684\u76ae\u5e26\u8f6e\uff0c\u53ef\u4ee5\u4f7f\u7528 gear_ratio: 5:1, 80:16 \u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cgear_ratio \u5e94\u8be5\u7528\u6574\u6570\u6765\u5b9a\u4e49\uff0c\u56e0\u4e3a\u666e\u901a\u7684\u9f7f\u8f6e\u548c\u76ae\u5e26\u8f6e\u4e0a\u53ea\u6709\u6574\u6570\u7684\u9f7f\u3002\u7136\u800c\uff0c\u5728\u76ae\u5e26\u5229\u7528\u6469\u64e6\u529b\u800c\u4e0d\u662f\u9f7f\u6765\u9a71\u52a8\u76ae\u5e26\u8f6e\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u9f7f\u8f6e\u6bd4\u4e2d\u4f7f\u7528\u4e00\u4e2a\u6d6e\u70b9\u6570\u53ef\u80fd\u662f\u6709\u610f\u4e49\u7684\uff08\u4f8b\u5982\uff0c gear_ratio: 107.237:16 \uff09\u3002","title":"\u65cb\u8f6c\u8ddd\u79bb"},{"location":"Rotation_Distance.html#_1","text":"Klipper \u4e0a\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u5728\u6bcf\u4e2a stepper \u914d\u7f6e\u5206\u6bb5 \u4e2d\u90fd\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a rotation_distance \u53c2\u6570\u3002 rotation_distance \u662f\u6b65\u8fdb\u7535\u673a\u65cb\u8f6c\u4e00\u6574\u5708\u65f6\u8f74\u79fb\u52a8\u7684\u8ddd\u79bb\u3002\u672c\u6587\u6863\u63cf\u8ff0\u4e86\u5982\u4f55\u914d\u7f6e\u6b64\u503c\u3002","title":"\u65cb\u8f6c\u8ddd\u79bb"},{"location":"Rotation_Distance.html#step_per_mmstep_distance","text":"\u4f60\u7684 3D \u6253\u5370\u673a\u7684\u6700\u521d\u8bbe\u8ba1\u9700\u8981\u4ece\u65cb\u8f6c\u8ddd\u79bb\u6362\u7b97 steps_per_mm \u3002\u5982\u679c\u60a8\u77e5\u9053steps_per_mm\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u6b64\u901a\u7528\u516c\u5f0f\u83b7\u5f97\u539f\u59cb\u65cb\u8f6c\u8ddd\u79bb\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> / <steps_per_mm> \u6216\u8005\uff0c\u5982\u679c\u4f60\u6709\u4e00\u4e2a\u65e7\u7248\u672c\u7684Klipper\u914d\u7f6e\u5e76\u77e5\u9053 step_distance \u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u516c\u5f0f\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> * <step_distance> <full_steps_per_rotation> \u8bbe\u7f6e\u7531\u6b65\u8fdb\u7535\u673a\u7684\u7c7b\u578b\u51b3\u5b9a\u3002\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\u662f\u201c1.8 \u5ea6\u6b65\u8fdb\u7535\u673a\u201d\uff0c\u56e0\u6b64\u6bcf\u8f6c 200 \u6b65\uff08360 \u9664\u4ee5 1.8 \u7b49\u4e8e 200\uff09\u3002\u4e00\u4e9b\u6b65\u8fdb\u7535\u673a\u662f\u201c0.9 \u5ea6\u6b65\u8fdb\u7535\u673a\u201d\uff0c\u56e0\u6b64\u6bcf\u8f6c\u6709 400 \u6574\u6b65\u3002\u5176\u4ed6\u7c7b\u578b\u7684\u6b65\u8fdb\u7535\u673a\u5f88\u5c11\u89c1\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u8bf7\u4e0d\u8981\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e full_steps_per_rotation \u5e76\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 200\u3002 <microsteps> \uff08\u5fae\u6b65\uff09\u8bbe\u7f6e\u7531\u53d6\u51b3\u4e8e\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u578b\u53f7\u3002\u5927\u591a\u6570\u9a71\u52a8\u4f7f\u7528 16 \u4e2a\u5fae\u6b65\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u8bf7\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e microsteps: 16 \uff0c\u5e76\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 16\u3002 \u51e0\u4e4e\u6240\u6709\u7684\u6253\u5370\u673a\u5728X\u3001Y\u548cZ\u578b\u8f74\u4e0a\u7684 \u65cb\u8f6c\u8ddd\u79bb \u90fd\u5e94\u8be5\u662f\u6574\u6570\u3002\u5982\u679c\u4e0a\u8ff0\u516c\u5f0f\u5f97\u51fa\u7684\u65cb\u8f6c\u8ddd\u79bb\u5728\u6574\u6570\u76840.01\u4ee5\u5185\uff0c\u90a3\u4e48\u5c31\u628a\u6700\u7ec8\u503c\u56db\u820d\u4e94\u5165\u5230\u8be5\u6574\u6570\u3002","title":"\u4ecestep_per_mm\uff08\u6216step_distance\uff09\u6362\u7b97\u65cb\u8f6c\u8ddd\u79bb"},{"location":"Rotation_Distance.html#rotation_distance","text":"\u5728\u6324\u51fa\u673a\u4e0a\uff0c rotation_distance \u662f\u6307\u6b65\u8fdb\u7535\u673a\u65cb\u8f6c\u4e00\u5708\u540e\uff0c\u8017\u6750\u6240\u8d70\u7684\u8ddd\u79bb\u3002\u83b7\u5f97\u8fd9\u4e00\u8bbe\u7f6e\u51c6\u786e\u503c\u7684\u6700\u597d\u65b9\u6cd5\u662f\u4f7f\u7528\"\u6d4b\u91cf\u5e76\u4fee\u6b63\"\u7684\u65b9\u6cd5\u3002 \u53ef\u4ee5\u901a\u8fc7 steps_per_mm \u6216\u8005\u901a\u8fc7 \u68c0\u67e5\u786c\u4ef6 \u5f97\u5230\u521d\u59cb\u7684\u731c\u6d4b\u503c\u3002 \u7136\u540e\u6839\u636e\u4ee5\u4e0b\u6d41\u7a0b\u6267\u884c\"\u6d4b\u91cf\u5e76\u4fee\u6b63\"\uff1a \u9996\u5148\u786e\u4fdd\u6324\u51fa\u673a\u91cc\u6709\u8017\u6750\uff0c\u70ed\u7aef\u5df2\u88ab\u52a0\u70ed\u5230\u9002\u5f53\u7684\u6e29\u5ea6\uff0c\u5e76\u4e14\u6253\u5370\u673a\u51c6\u5907\u597d\u6324\u51fa\u3002 \u7528\u8bb0\u53f7\u7b14\u5728\u79bb\u6324\u51fa\u673a\u5165\u53e3\u7ea670\u6beb\u7c73\u7684\u4f4d\u7f6e\u4e0a\u5bf9\u8017\u6750\u505a\u4e00\u4e2a\u6807\u8bb0\u3002\u7136\u540e\u7528\u6570\u5b57\u5361\u5c3a\u5c3d\u53ef\u80fd\u7cbe\u786e\u5730\u6d4b\u91cf\u8be5\u6807\u8bb0\u7684\u5b9e\u9645\u8ddd\u79bb\u3002\u5c06\u6b64\u8bb0\u4e3a <\u521d\u59cb\u6807\u8bb0\u8ddd\u79bb> \u3002 \u7528\u4e0b\u9762\u5217\u51fa\u7684\u547d\u4ee4\u6324\u51fa 50mm \u7684\u6253\u5370\u4e1d\u3002\u5148\u53d1\u9001 G91 \uff0c\u7136\u540e\u53d1\u9001 G1 E50 F60 \u3002\u6ce8\u610f50mm\u4e3a <\u8bf7\u6c42\u7684\u6324\u51fa\u957f\u5ea6> \u3002\u7b49\u5f85\u6324\u51fa\u673a\u5b8c\u6210\u79fb\u52a8\uff08\u5927\u7ea6\u9700\u898150\u79d2\uff09\u3002\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\uff0c\u4f7f\u7528\u7f13\u6162\u7684\u6324\u51fa\u901f\u5ea6\u662f\u5f88\u91cd\u8981\u7684\uff0c\u56e0\u4e3a\u8f83\u5feb\u7684\u901f\u5ea6\u4f1a\u5bfc\u81f4\u6324\u51fa\u673a\u7684\u538b\u529b\u53d8\u9ad8\uff0c\u4f7f\u7ed3\u679c\u53d1\u751f\u504f\u5dee\u3002(\u4e0d\u8981\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u4e2d\u4f7f\u7528\u56fe\u5f62\u524d\u7aef\u7684\"\u6324\u51fa\u6309\u94ae\"\uff0c\u56e0\u4e3a\u5b83\u662f\u4ee5\u5feb\u901f\u7684\u901f\u5ea6\u6324\u51fa\u7684\u3002) \u4f7f\u7528\u6570\u663e\u5361\u5c3a\u6d4b\u91cf\u6324\u51fa\u673a\u4e3b\u4f53\u4e0e\u8017\u6750\u4e0a\u7684\u6807\u8bb0\u4e4b\u95f4\u7684\u65b0\u8ddd\u79bb\u3002\u8bf7\u6ce8\u610f\u8be5\u8ddd\u79bb\u662f <\u6700\u7ec8\u6807\u8bb0\u8ddd\u79bb> \u3002\u7136\u540e\u8ba1\u7b97\uff1a \u5b9e\u9645\u6324\u51fa\u957f\u5ea6 = <\u521d\u59cb\u6807\u8bb0\u8ddd\u79bb> - <\u6700\u7ec8\u6807\u8bb0\u8ddd\u79bb> \u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb\u4e3a\uff1a rotation_distance = <\u65e7rotation_distance> * <\u5b9e\u9645\u6324\u51fa\u957f\u5ea6> / <\u8bf7\u6c42\u7684\u6324\u51fa\u957f\u5ea6> \u3002\u5c06\u65b0\u7684 rotation_distance \u53d6\u6574\u5230\u5c0f\u6570\u70b9\u540e3\u4f4d\u3002 \u5982\u679c\u5b9e\u9645\u6324\u51fa\u7684\u957f\u5ea6\u4e0e\u8bf7\u6c42\u6324\u51fa\u7684\u8ddd\u79bb\u76f8\u5dee\u8d85\u8fc72\u6beb\u7c73\uff0c\u90a3\u4e48\u6700\u597d\u518d\u91cd\u590d\u4e00\u6b21\u4e0a\u8ff0\u6b65\u9aa4\u3002 \u6ce8\u610f\uff1a \u4e0d\u8981 \u4f7f\u7528\"\u6d4b\u91cf\u5e76\u4fee\u6b63\"\u7c7b\u7684\u65b9\u6cd5\u6765\u6821\u51c6x\u3001y\u6216z\u8f74\u3002\u5bf9\u4e8e\u8fd9\u4e9b\u8f74\u6765\u8bf4\uff0c\"\u6d4b\u91cf\u5e76\u4fee\u526a\"\u7684\u65b9\u6cd5\u4e0d\u591f\u7cbe\u786e\uff0c\u800c\u4e14\u53ef\u80fd\u4f1a\u5bfc\u81f4\u66f4\u7cdf\u7cd5\u7684\u914d\u7f6e\u3002\u76f8\u53cd\uff0c\u5982\u679c\u9700\u8981\uff0c\u8fd9\u4e9b\u8f74\u53ef\u4ee5\u901a\u8fc7 j\u68c0\u67e5\u76ae\u5e26\u3001\u6ed1\u8f6e\u548c\u4e1d\u6746 \u6765\u786e\u5b9a\u65cb\u8f6c\u8ddd\u79bb\u3002","title":"\u6821\u51c6\u6324\u51fa\u673a\u7684 rotation_distance"},{"location":"Rotation_Distance.html#_2","text":"\u6709\u4e86\u6b65\u8fdb\u7535\u673a\u548c\u6253\u5370\u673a\u8fd0\u52a8\u5b66\u65b9\u9762\u7684\u4fe1\u606f\uff0c\u5c31\u53ef\u4ee5\u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb\u3002\u5982\u679c\u4e0d\u77e5\u9053steps_per_mm\uff08\u6bcf\u6beb\u7c73\u7684\u6b65\u6570\uff09\uff0c\u6216\u8005\u6b63\u5728\u8bbe\u8ba1\u4e00\u53f0\u65b0\u7684\u6253\u5370\u673a\uff0c\u8fd9\u53ef\u80fd\u6709\u5e2e\u52a9\u3002","title":"\u901a\u8fc7\u68c0\u67e5\u786c\u4ef6\u83b7\u5f97\u65cb\u8f6c\u8ddd\u79bb"},{"location":"Rotation_Distance.html#_3","text":"\u8ba1\u7b97\u4f7f\u7528\u76ae\u5e26\u548c\u6ed1\u8f6e\u7684\u76f4\u7ebf\u8f74\u7684\u65cb\u8f6c\u8ddd\u79bb\u5f88\u7b80\u5355\u3002 \u9996\u5148\u786e\u5b9a\u76ae\u5e26\u7684\u7c7b\u578b\u3002\u5927\u591a\u6570\u6253\u5370\u673a\u4f7f\u75282\u6beb\u7c73\u7684\u76ae\u5e26\u95f4\u8ddd\uff08\u4e5f\u5c31\u662f\u8bf4\uff0c\u76ae\u5e26\u4e0a\u7684\u6bcf\u4e2a\u9f7f\u76f8\u8ddd2\u6beb\u7c73\uff09\u3002\u7136\u540e\u8ba1\u7b97\u6b65\u8fdb\u7535\u673a\u6ed1\u8f6e\u4e0a\u7684\u9f7f\u6570\u3002\u7136\u540e\u8ba1\u7b97\u51farotation_distance \uff08\u65cb\u8f6c\u8ddd\u79bb\uff09\u4e3a\uff1a rotation_distance = <belt_pitch> * <number_of_teeth_on_pulley> \u4f8b\u5982\uff0c\u5982\u679c\u4e00\u53f0\u6253\u5370\u673a\u6709\u4e00\u67612\u6beb\u7c73\u95f4\u8ddd\u7684\u76ae\u5e26\u5e76\u4f7f\u7528\u4e00\u4e2a20\u9f7f\u7684\u76ae\u5e26\u8f6e\uff0c\u90a3\u4e48\u65cb\u8f6c\u8ddd\u79bb\u4e3a40\u3002","title":"\u76ae\u5e26\u9a71\u52a8\u7684\u8f74"},{"location":"Rotation_Distance.html#_4","text":"\u4f7f\u7528\u4ee5\u4e0b\u516c\u5f0f\u53ef\u4ee5\u7b80\u5355\u7684\u8ba1\u7b97\u51fa\u5e38\u89c1\u7684\u65cb\u8f6c\u8ddd\u79bb\uff1a rotation_distance = <screw_pitch> * <number_of_separate_threads> \u4f8b\u5982\uff0c\u5e38\u89c1\u7684\"T8\u4e1d\u6746\"\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e3a8\uff08\u5b83\u7684\u95f4\u8ddd\u4e3a2mm\uff0c\u67094\u4e2a\u72ec\u7acb\u7684\u87ba\u7eb9\uff09\u3002 \u8001\u5f0f\u6253\u5370\u673a\u7684\"\u87ba\u6746\"\u5728\u5bfc\u87ba\u6746\u4e0a\u53ea\u6709\u4e00\u4e2a\"\u87ba\u7eb9\"\uff0c\u56e0\u6b64\u65cb\u8f6c\u8ddd\u79bb\u662f\u87ba\u6746\u7684\u95f4\u8ddd\u3002(\u4f8b\u5982\uff0cM6\u516c\u5236\u6746\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e3a1\uff0cM8\u6746\u7684\u65cb\u8f6c\u8ddd\u79bb\u4e3a1.25\u3002","title":"\u4f7f\u7528\u4e1d\u6746\u7684\u8f74"},{"location":"Rotation_Distance.html#_5","text":"\u901a\u8fc7\u6d4b\u91cf\u63a8\u52a8\u8017\u6750\u7684\u6eda\u82b1\u9f7f\u8f6e\u7684\u76f4\u5f84\u5e76\u4f7f\u7528\u8be5\u516c\u5f0f\u5f97\u51fa\u6324\u51fa\u673a\u7684\u521d\u59cb\u65cb\u8f6c\u8ddd\u79bb\uff1a \u65cb\u8f6c\u8ddd\u79bb=<\u76f4\u5f84> * 3.14 \u5982\u679c\u6324\u51fa\u673a\u4f7f\u7528\u9f7f\u8f6e\uff0c\u5219\u8fd8\u9700\u8981 \u786e\u5b9a\u548c\u8bbe\u7f6e\u6324\u51fa\u673a\u7684\u9f7f\u8f6e\u6bd4 \u3002 \u6324\u51fa\u673a\u7684\u5b9e\u9645\u65cb\u8f6c\u8ddd\u79bb\u4f1a\u56e0\u6253\u5370\u673a\u800c\u5f02\uff0c\u56e0\u4e3a\u4e0e\u8017\u6750\u556e\u5408\u7684\u6324\u51fa\u8bba\u7684\u538b\u529b\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\u3002\u5b83\u751a\u81f3\u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u8017\u6750\u6599\u5377\u4e4b\u95f4\u53d8\u5316\u3002\u5728\u83b7\u5f97\u521d\u59cb\u65cb\u8f6c\u8ddd\u79bb\u540e\uff0c\u4f7f\u7528 \u6d4b\u91cf\u5e76\u4fee\u526a\u7684\u6d41\u7a0b \u6765\u83b7\u5f97\u66f4\u7cbe\u786e\u7684\u8bbe\u7f6e\u3002","title":"\u6324\u51fa\u673a"},{"location":"Rotation_Distance.html#gear_ratio","text":"\u8bbe\u7f6e gear_ratio \u53ef\u4ee5\u7b80\u5316 rotation_distance \u5728\u6709\u9f7f\u8f6e\u7bb1\uff08\u6216\u7c7b\u4f3c\uff09\u8fde\u63a5\u7684\u6b65\u8fdb\u7535\u673a\u7684\u914d\u7f6e\u3002\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\u6ca1\u6709\u9f7f\u8f6e\u7bb1--\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u5c31\u4e0d\u8981\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e gear_ratio \u3002 \u5f53 gear_ratio \u88ab\u8bbe\u7f6e\u65f6\uff0c rotation_distance \u4ee3\u8868\u8f74\u5728\u9f7f\u8f6e\u7bb1\u4e0a\u7684\u6700\u540e\u4e00\u4e2a\u9f7f\u8f6e\u65cb\u8f6c\u4e00\u5708\u65f6\u7684\u79fb\u52a8\u8ddd\u79bb\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u4e2a\u4eba\u6b63\u5728\u4f7f\u7528\u4e00\u4e2a\u5177\u6709\"5:1\"\u6bd4\u7387\u7684\u9f7f\u8f6e\u7bb1\uff0c\u90a3\u4e48\u4ed6\u53ef\u4ee5\u7528 \u5bf9\u786c\u4ef6\u7684\u4e86\u89e3 \u6765\u8ba1\u7b97\u65cb\u8f6c\u8ddd\u79bb\uff0c\u7136\u540e\u5c06 gear_ratio: 5:1 \u52a0\u5165\u914d\u7f6e\u4e2d\u3002 \u5bf9\u4e8e\u7528\u540c\u6b65\u5e26\u548c\u540c\u6b65\u5e26\u8f6e\u4f20\u52a8\u7684\u6253\u5370\u673a\uff0c\u53ef\u4ee5\u901a\u8fc7\u540c\u6b65\u5e26\u8f6e\u4e0a\u7684\u9f7f\u6570\u6765\u8ba1\u7b97\u9f7f\u8f6e\u6bd4\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\u5e2616\u9f7f\u7684\u540c\u6b65\u5e26\u8f6e\u7684\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u4e00\u4e2a\u5e2680\u4e2a\u9f7f\u7684\u540c\u6b65\u5e26\u8f6e\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 gear_ratio: 80:16 \u3002\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u6570\u9f7f\u6570\u6765\u786e\u5b9a\u9f7f\u8f6e\u6bd4\u3002 \u8bf7\u6ce8\u610f\uff0c\u6709\u65f6\u4e00\u4e2a\u9f7f\u8f6e\u7bb1\u7684\u9f7f\u8f6e\u6bd4\u4f1a\u4e0e\u5b83\u7684\u5ba3\u4f20\u7565\u6709\u4e0d\u540c\u3002\u5e38\u89c1\u7684BMG\u6324\u51fa\u673a\u9a6c\u8fbe\u9f7f\u8f6e\u5c31\u662f\u4e00\u4e2a\u4f8b\u5b50--\u5b83\u4eec\u88ab\u5ba3\u4f20\u4e3a\"3:1\"\uff0c\u4f46\u5b9e\u9645\u4e0a\u4f7f\u7528\"50:17\"\u7684\u9f7f\u8f6e\u3002(\u4f7f\u7528\u6ca1\u6709\u5171\u540c\u5206\u6bcd\u7684\u9f7f\u6570\u53ef\u80fd\u4f1a\u6539\u5584\u9f7f\u8f6e\u7684\u6574\u4f53\u78e8\u635f\uff0c\u56e0\u4e3a\u6bcf\u8f6c\u4e00\u5708\uff0c\u9f7f\u7684\u556e\u5408\u65b9\u5f0f\u4e0d\u5c3d\u76f8\u540c\uff09\u3002\u5e38\u89c1\u7684\"5.18:1\u884c\u661f\u9f7f\u8f6e\u7bb1\"\uff0c\u66f4\u51c6\u786e\u7684\u914d\u7f6e\u662f gear_ratio: 57:11 \u3002 \u5982\u679c\u4e00\u4e2a\u8f74\u4e0a\u4f7f\u7528\u4e86\u591a\u4e2a\u9f7f\u8f6e\uff0c\u90a3\u4e48\u5728 gear_ratio \u4e2d\u586b\u5199\u4e00\u4e2a\u9017\u53f7\u5206\u9694\u7684\u5217\u8868\u3002\u4f8b\u5982\uff0c\u4e00\u4e2a\"5:1\"\u9f7f\u8f6e\u7bb1\u9a71\u52a8\u4e00\u4e2a16\u9f7f\u7684\u76ae\u5e26\u8f6e\u523080\u9f7f\u7684\u76ae\u5e26\u8f6e\uff0c\u53ef\u4ee5\u4f7f\u7528 gear_ratio: 5:1, 80:16 \u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cgear_ratio \u5e94\u8be5\u7528\u6574\u6570\u6765\u5b9a\u4e49\uff0c\u56e0\u4e3a\u666e\u901a\u7684\u9f7f\u8f6e\u548c\u76ae\u5e26\u8f6e\u4e0a\u53ea\u6709\u6574\u6570\u7684\u9f7f\u3002\u7136\u800c\uff0c\u5728\u76ae\u5e26\u5229\u7528\u6469\u64e6\u529b\u800c\u4e0d\u662f\u9f7f\u6765\u9a71\u52a8\u76ae\u5e26\u8f6e\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u9f7f\u8f6e\u6bd4\u4e2d\u4f7f\u7528\u4e00\u4e2a\u6d6e\u70b9\u6570\u53ef\u80fd\u662f\u6709\u610f\u4e49\u7684\uff08\u4f8b\u5982\uff0c gear_ratio: 107.237:16 \uff09\u3002","title":"\u4f7f\u7528 gear_ratio\uff08\u9f7f\u8f6e\u6bd4\uff09"},{"location":"SDCard_Updates.html","text":"\u901a\u8fc7SD\u5361\u66f4\u65b0 \u00b6 \u5f53\u4eca\u8bb8\u591a\u6d41\u884c\u7684\u63a7\u5236\u5668\u677f\u90fd\u5e26\u6709\u80fd\u591f\u901a\u8fc7 SD \u5361\u66f4\u65b0\u56fa\u4ef6\u7684\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u3002 \u867d\u7136\u8fd9\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u90fd\u5f88\u65b9\u4fbf\uff0c\u4f46\u8fd9\u4e9b\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u901a\u5e38\u4e0d\u63d0\u4f9b\u5176\u4ed6\u65b9\u5f0f\u6765\u66f4\u65b0\u56fa\u4ef6\u3002 \u5982\u679c\u60a8\u7684\u7535\u8def\u677f\u5b89\u88c5\u5728\u5f88\u96be\u63d2\u5165SD\u5361\u7684\u4f4d\u7f6e\u6216\u8005\u60a8\u9700\u8981\u7ecf\u5e38\u66f4\u65b0\u56fa\u4ef6\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f88\u9ebb\u70e6\u3002 \u5728 Klipper \u6700\u521d\u5237\u5165\u63a7\u5236\u5668\u540e\uff0c\u53ef\u4ee5\u5c06\u65b0\u56fa\u4ef6\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u5230 SD \u5361\u5e76\u901a\u8fc7 ssh \u542f\u52a8\u5237\u5199\u8fc7\u7a0b\u3002 \u5178\u578b\u7684\u5347\u7ea7\u7a0b\u5e8f \u00b6 \u4f7f\u7528 SD \u5361\u66f4\u65b0 MCU \u56fa\u4ef6\u7684\u8fc7\u7a0b\u4e0e\u5176\u4ed6\u65b9\u6cd5\u7c7b\u4f3c\u3002 \u4e0d\u9700\u8981\u4f7f\u7528 make flash \uff0c\u800c\u662f\u9700\u8981\u8fd0\u884c\u4e00\u4e2a\u8f85\u52a9\u811a\u672c flash-sdcard.sh \u3002 \u66f4\u65b0 BigTreeTech SKR 1.3 \u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a sudo service klipper stop cd ~/klipper git pull make clean make menuconfig make ./scripts/flash-sdcard.sh /dev/ttyACM0 btt-skr-v1.3 sudo service klipper start \u7531\u7528\u6237\u51b3\u5b9a\u8bbe\u5907\u4f4d\u7f6e\u548c\u7535\u8def\u677f\u540d\u79f0\u3002 \u5982\u679c\u7528\u6237\u9700\u8981\u5237\u65b0\u591a\u4e2a\u677f\uff0c\u5728\u91cd\u65b0\u542f\u52a8 Klipper \u670d\u52a1\u4e4b\u524d\uff0c\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u677f\u8fd0\u884c flash-sdcard.sh \uff08\u6216 make flash \uff0c\u5982\u679c\u5408\u9002\uff09\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u652f\u6301\u7684\u5fae\u63a7\u5236\u5668\u677f\uff1a ./scripts/flash-sdcard.sh -l \u5982\u679c\u60a8\u6ca1\u6709\u770b\u5230\u60a8\u7684\u7535\u8def\u677f\u5217\u51fa\uff0c\u5219\u53ef\u80fd\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u7535\u8def\u677f\u5b9a\u4e49 \u5982\u4e0b\u6240\u8ff0 \u3002 \u9ad8\u7ea7\u7528\u6cd5 \u00b6 \u4e0a\u8ff0\u547d\u4ee4\u5047\u8bbe\u60a8\u7684 MCU \u4ee5\u9ed8\u8ba4\u6ce2\u7279\u7387 250000 \u8fde\u63a5\u5e76\u4e14\u56fa\u4ef6\u4f4d\u4e8e ~/klipper/out/klipper.bin \u3002 flash-sdcard.sh \u811a\u672c\u63d0\u4f9b\u4e86\u66f4\u6539\u8fd9\u4e9b\u9ed8\u8ba4\u503c\u7684\u9009\u9879\u3002 \u6240\u6709\u9009\u9879\u90fd\u53ef\u4ee5\u901a\u8fc7\u5e2e\u52a9\u753b\u9762\u67e5\u770b\uff1a ./scripts/flash-sdcard.sh -h Klipper SD\u5361\u66f4\u65b0\u5de5\u5177 \u4f7f\u7528\u65b9\u6cd5\uff1aflash_sdcard.sh [-h] [-l] [-b <baud>] [-f <firmware>] <device> <board> \u4f4d\u7f6e\u53c2\u6570\uff1a <device> \u8bbe\u5907\u4e32\u53e3 <board> \u4e3b\u677f\u7c7b\u578b \u53ef\u9009\u53c2\u6570\uff1a -h \u663e\u793a\u8fd9\u6761\u4fe1\u606f -l \u5217\u51fa\u53ef\u7528\u4e3b\u677f -b <baud> \u4e32\u53e3\u6ce2\u7279\u7387\uff08\u9ed8\u8ba4\u4e3a250000\uff09 -f <firmware> klipper.bin\u6587\u4ef6\u8def\u5f84 \u5982\u679c\u60a8\u7684\u7535\u8def\u677f\u4f7f\u7528\u4ee5\u81ea\u5b9a\u4e49\u6ce2\u7279\u7387\u8fde\u63a5\u7684\u56fa\u4ef6\u5237\u65b0\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a -b \u9009\u9879\u8fdb\u884c\u5347\u7ea7\uff1a ./scripts/flash-sdcard.sh -b 115200 /dev/ttyAMA0 btt-skr-v1.3 \u5982\u679c\u60a8\u5e0c\u671b\u95ea\u5b58\u4f4d\u4e8e\u9ed8\u8ba4\u4f4d\u7f6e\u4ee5\u5916\u7684\u5176\u4ed6\u4f4d\u7f6e\u7684 Klipper \u6784\u5efa\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a -f \u9009\u9879\u6765\u5b8c\u6210\uff1a ./scripts/flash-sdcard.sh -f ~/downloads/klipper.bin /dev/ttyAMA0 btt-skr-v1.3 \u8bf7\u6ce8\u610f\uff0c\u5347\u7ea7 MKS Robin E3 \u65f6\uff0c\u65e0\u9700\u624b\u52a8\u8fd0\u884c update_mks_robin.py \u5e76\u5c06\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u63d0\u4f9b\u7ed9 flash-sdcard.sh \u3002 \u6b64\u8fc7\u7a0b\u5728\u4e0a\u4f20\u8fc7\u7a0b\u4e2d\u81ea\u52a8\u6267\u884c\u3002 \u6ce8\u610f\u4e8b\u9879 \u00b6 \u5982\u4ecb\u7ecd\u4e2d\u6240\u8ff0\uff0c\u6b64\u65b9\u6cd5\u4ec5\u9002\u7528\u4e8e\u5347\u7ea7\u56fa\u4ef6\u3002 \u521d\u59cb\u5237\u978b\u7a0b\u5e8f\u5fc5\u987b\u6309\u7167\u9002\u7528\u4e8e\u60a8\u7684\u63a7\u5236\u5668\u677f\u7684\u8bf4\u660e\u624b\u52a8\u5b8c\u6210\u3002 \u867d\u7136\u53ef\u4ee5\u5237\u65b0\u66f4\u6539\u4e32\u884c\u6ce2\u7279\u7387\u6216\u8fde\u63a5\u63a5\u53e3\uff08\u5373\uff1a\u4ece USB \u5230 UART\uff09\u7684\u6784\u5efa\uff0c\u4f46\u9a8c\u8bc1\u7ec8\u5c06\u5931\u8d25\uff0c\u56e0\u4e3a\u811a\u672c\u5c06\u65e0\u6cd5\u91cd\u65b0\u8fde\u63a5\u5230 MCU \u4ee5\u9a8c\u8bc1\u5f53\u524d\u7248\u672c\u3002 \u4ec5\u652f\u6301\u4f7f\u7528 SPI \u8fdb\u884c SD \u5361\u901a\u4fe1\u7684\u677f\u3002 \u4f7f\u7528 SDIO \u7684\u677f\uff0c\u4f8b\u5982 Flymaker Flyboard \u548c MKS Robin Nano V1/V2\uff0c\u5c06\u65e0\u6cd5\u5de5\u4f5c\u3002 \u7535\u8def\u677f\u5b9a\u4e49 \u00b6 \u5927\u591a\u6570\u5e38\u89c1\u7684\u7535\u8def\u677f\u90fd\u5e94\u8be5\u53ef\u7528\uff0c\u4f46\u5982\u6709\u5fc5\u8981\uff0c\u53ef\u4ee5\u6dfb\u52a0\u65b0\u7684\u7535\u8def\u677f\u5b9a\u4e49\u3002 \u677f\u5b9a\u4e49\u4f4d\u4e8e ~/klipper/scripts/spi_flash/board_defs.py \u3002 \u5b9a\u4e49\u5b58\u50a8\u5728\u5b57\u5178\u4e2d\uff0c\u4f8b\u5982\uff1a BOARD_DEFS = { 'generic-lpc1768' : { 'mcu' : \"lpc1768\" , 'spi_bus' : \"ssp1\" , \"cs_pin\" : \"P0.6\" }, ...< \u66f4\u591a\u5b9a\u4e49 > } \u53ef\u4ee5\u6307\u5b9a\u4ee5\u4e0b\u5b57\u6bb5\uff1a mcu \uff1a\u5fae\u63a7\u5236\u5668\u7c7b\u578b\u3002\u8fd9\u53ef\u4ee5\u5728\u4f7f\u7528 make menuconfig \u914d\u7f6e\u6784\u5efa\u914d\u7f6e\u540e\u901a\u8fc7\u8fd0\u884c cat .config | grep CONFIG_MCU \u83b7\u53d6\u3002 \u6b64\u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002 spi_bus \uff1a\u8fde\u63a5\u5230 SD \u5361\u7684 SPI \u603b\u7ebf\u3002 \u8fd9\u5e94\u8be5\u4ece\u7535\u8def\u677f\u7684\u539f\u7406\u56fe\u4e2d\u68c0\u7d22\u3002 \u6b64\u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002 cs_pin \uff1a\u8fde\u63a5\u5230 SD \u5361\u7684\u82af\u7247\u9009\u62e9\u5f15\u811a\u3002 \u8fd9\u5e94\u8be5\u4ece\u7535\u8def\u677f\u539f\u7406\u56fe\u4e2d\u68c0\u7d22\u3002 \u6b64\u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002 firmware_path \uff1aSD \u5361\u4e0a\u56fa\u4ef6\u5e94\u4f20\u8f93\u7684\u8def\u5f84\u3002 \u9ed8\u8ba4\u662f firmware.bin \u3002 current_firmware_path \u6210\u529f\u5237\u65b0\u540e\u91cd\u547d\u540d\u7684\u56fa\u4ef6\u6587\u4ef6\u6240\u5728\u7684 SD \u5361\u4e0a\u7684\u8def\u5f84\u3002 \u9ed8\u8ba4\u662f firmware.cur \u3002 \u5982\u679c\u9700\u8981\u8f6f\u4ef6 SPI\uff0c spi_bus \u5b57\u6bb5\u5e94\u8bbe\u7f6e\u4e3a swspi \uff0c\u5e76\u5e94\u6307\u5b9a\u4ee5\u4e0b\u9644\u52a0\u5b57\u6bb5\uff1a spi_pins \uff1a\u8fd9\u5e94\u8be5\u662f 3 \u4e2a\u9017\u53f7\u5206\u9694\u7684\u5f15\u811a\uff0c\u4ee5 miso,mosi,sclk \u7684\u683c\u5f0f\u8fde\u63a5\u5230 SD \u5361\u3002 \u8f6f\u4ef6 SPI \u662f\u5fc5\u8981\u7684\u5e94\u8be5\u662f\u975e\u5e38\u7f55\u89c1\u7684\uff0c\u901a\u5e38\u53ea\u6709\u8bbe\u8ba1\u9519\u8bef\u7684\u677f\u624d\u4f1a\u9700\u8981\u5b83\u3002 btt-skr-pro \u677f\u5b9a\u4e49\u63d0\u4f9b\u4e86\u4e00\u4e2a\u793a\u4f8b\u3002 \u5728\u521b\u5efa\u65b0\u677f\u5b9a\u4e49\u4e4b\u524d\uff0c\u5e94\u68c0\u67e5\u73b0\u6709\u677f\u5b9a\u4e49\u662f\u5426\u6ee1\u8db3\u65b0\u677f\u6240\u9700\u7684\u6807\u51c6\u3002 \u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u6307\u5b9a BOARD_ALIAS \u3002 \u4f8b\u5982\uff0c\u53ef\u4ee5\u6dfb\u52a0\u4ee5\u4e0b\u522b\u540d\u6765\u6307\u5b9a\u201cmy-new-board\u201d\u4f5c\u4e3a\u201cgeneric-lpc1768\u201d\u7684\u522b\u540d\uff1a BOARD_ALIASES = { ...< \u539f\u5148\u7684\u522b\u540d > , 'my-new-board' : BOARD_DEFS [ 'generic-lpc1768' ], } \u5982\u679c\u60a8\u9700\u8981\u4e00\u4e2a\u65b0\u7684\u7535\u8def\u677f\u5b9a\u4e49\u5e76\u4e14\u60a8\u5bf9\u4e0a\u8ff0\u8fc7\u7a0b\u611f\u5230\u4e0d\u8212\u670d\uff0c\u5efa\u8bae\u60a8\u5728 Klipper Community Discord \u4e2d\u8bf7\u6c42\u4e00\u4e2a\u3002","title":"\u901a\u8fc7SD\u5361\u66f4\u65b0"},{"location":"SDCard_Updates.html#sd","text":"\u5f53\u4eca\u8bb8\u591a\u6d41\u884c\u7684\u63a7\u5236\u5668\u677f\u90fd\u5e26\u6709\u80fd\u591f\u901a\u8fc7 SD \u5361\u66f4\u65b0\u56fa\u4ef6\u7684\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u3002 \u867d\u7136\u8fd9\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u90fd\u5f88\u65b9\u4fbf\uff0c\u4f46\u8fd9\u4e9b\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\u901a\u5e38\u4e0d\u63d0\u4f9b\u5176\u4ed6\u65b9\u5f0f\u6765\u66f4\u65b0\u56fa\u4ef6\u3002 \u5982\u679c\u60a8\u7684\u7535\u8def\u677f\u5b89\u88c5\u5728\u5f88\u96be\u63d2\u5165SD\u5361\u7684\u4f4d\u7f6e\u6216\u8005\u60a8\u9700\u8981\u7ecf\u5e38\u66f4\u65b0\u56fa\u4ef6\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f88\u9ebb\u70e6\u3002 \u5728 Klipper \u6700\u521d\u5237\u5165\u63a7\u5236\u5668\u540e\uff0c\u53ef\u4ee5\u5c06\u65b0\u56fa\u4ef6\u901a\u8fc7\u7f51\u7edc\u4f20\u8f93\u5230 SD \u5361\u5e76\u901a\u8fc7 ssh \u542f\u52a8\u5237\u5199\u8fc7\u7a0b\u3002","title":"\u901a\u8fc7SD\u5361\u66f4\u65b0"},{"location":"SDCard_Updates.html#_1","text":"\u4f7f\u7528 SD \u5361\u66f4\u65b0 MCU \u56fa\u4ef6\u7684\u8fc7\u7a0b\u4e0e\u5176\u4ed6\u65b9\u6cd5\u7c7b\u4f3c\u3002 \u4e0d\u9700\u8981\u4f7f\u7528 make flash \uff0c\u800c\u662f\u9700\u8981\u8fd0\u884c\u4e00\u4e2a\u8f85\u52a9\u811a\u672c flash-sdcard.sh \u3002 \u66f4\u65b0 BigTreeTech SKR 1.3 \u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a sudo service klipper stop cd ~/klipper git pull make clean make menuconfig make ./scripts/flash-sdcard.sh /dev/ttyACM0 btt-skr-v1.3 sudo service klipper start \u7531\u7528\u6237\u51b3\u5b9a\u8bbe\u5907\u4f4d\u7f6e\u548c\u7535\u8def\u677f\u540d\u79f0\u3002 \u5982\u679c\u7528\u6237\u9700\u8981\u5237\u65b0\u591a\u4e2a\u677f\uff0c\u5728\u91cd\u65b0\u542f\u52a8 Klipper \u670d\u52a1\u4e4b\u524d\uff0c\u5e94\u8be5\u4e3a\u6bcf\u4e2a\u677f\u8fd0\u884c flash-sdcard.sh \uff08\u6216 make flash \uff0c\u5982\u679c\u5408\u9002\uff09\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u652f\u6301\u7684\u5fae\u63a7\u5236\u5668\u677f\uff1a ./scripts/flash-sdcard.sh -l \u5982\u679c\u60a8\u6ca1\u6709\u770b\u5230\u60a8\u7684\u7535\u8def\u677f\u5217\u51fa\uff0c\u5219\u53ef\u80fd\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u7535\u8def\u677f\u5b9a\u4e49 \u5982\u4e0b\u6240\u8ff0 \u3002","title":"\u5178\u578b\u7684\u5347\u7ea7\u7a0b\u5e8f"},{"location":"SDCard_Updates.html#_2","text":"\u4e0a\u8ff0\u547d\u4ee4\u5047\u8bbe\u60a8\u7684 MCU \u4ee5\u9ed8\u8ba4\u6ce2\u7279\u7387 250000 \u8fde\u63a5\u5e76\u4e14\u56fa\u4ef6\u4f4d\u4e8e ~/klipper/out/klipper.bin \u3002 flash-sdcard.sh \u811a\u672c\u63d0\u4f9b\u4e86\u66f4\u6539\u8fd9\u4e9b\u9ed8\u8ba4\u503c\u7684\u9009\u9879\u3002 \u6240\u6709\u9009\u9879\u90fd\u53ef\u4ee5\u901a\u8fc7\u5e2e\u52a9\u753b\u9762\u67e5\u770b\uff1a ./scripts/flash-sdcard.sh -h Klipper SD\u5361\u66f4\u65b0\u5de5\u5177 \u4f7f\u7528\u65b9\u6cd5\uff1aflash_sdcard.sh [-h] [-l] [-b <baud>] [-f <firmware>] <device> <board> \u4f4d\u7f6e\u53c2\u6570\uff1a <device> \u8bbe\u5907\u4e32\u53e3 <board> \u4e3b\u677f\u7c7b\u578b \u53ef\u9009\u53c2\u6570\uff1a -h \u663e\u793a\u8fd9\u6761\u4fe1\u606f -l \u5217\u51fa\u53ef\u7528\u4e3b\u677f -b <baud> \u4e32\u53e3\u6ce2\u7279\u7387\uff08\u9ed8\u8ba4\u4e3a250000\uff09 -f <firmware> klipper.bin\u6587\u4ef6\u8def\u5f84 \u5982\u679c\u60a8\u7684\u7535\u8def\u677f\u4f7f\u7528\u4ee5\u81ea\u5b9a\u4e49\u6ce2\u7279\u7387\u8fde\u63a5\u7684\u56fa\u4ef6\u5237\u65b0\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a -b \u9009\u9879\u8fdb\u884c\u5347\u7ea7\uff1a ./scripts/flash-sdcard.sh -b 115200 /dev/ttyAMA0 btt-skr-v1.3 \u5982\u679c\u60a8\u5e0c\u671b\u95ea\u5b58\u4f4d\u4e8e\u9ed8\u8ba4\u4f4d\u7f6e\u4ee5\u5916\u7684\u5176\u4ed6\u4f4d\u7f6e\u7684 Klipper \u6784\u5efa\uff0c\u53ef\u4ee5\u901a\u8fc7\u6307\u5b9a -f \u9009\u9879\u6765\u5b8c\u6210\uff1a ./scripts/flash-sdcard.sh -f ~/downloads/klipper.bin /dev/ttyAMA0 btt-skr-v1.3 \u8bf7\u6ce8\u610f\uff0c\u5347\u7ea7 MKS Robin E3 \u65f6\uff0c\u65e0\u9700\u624b\u52a8\u8fd0\u884c update_mks_robin.py \u5e76\u5c06\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u63d0\u4f9b\u7ed9 flash-sdcard.sh \u3002 \u6b64\u8fc7\u7a0b\u5728\u4e0a\u4f20\u8fc7\u7a0b\u4e2d\u81ea\u52a8\u6267\u884c\u3002","title":"\u9ad8\u7ea7\u7528\u6cd5"},{"location":"SDCard_Updates.html#_3","text":"\u5982\u4ecb\u7ecd\u4e2d\u6240\u8ff0\uff0c\u6b64\u65b9\u6cd5\u4ec5\u9002\u7528\u4e8e\u5347\u7ea7\u56fa\u4ef6\u3002 \u521d\u59cb\u5237\u978b\u7a0b\u5e8f\u5fc5\u987b\u6309\u7167\u9002\u7528\u4e8e\u60a8\u7684\u63a7\u5236\u5668\u677f\u7684\u8bf4\u660e\u624b\u52a8\u5b8c\u6210\u3002 \u867d\u7136\u53ef\u4ee5\u5237\u65b0\u66f4\u6539\u4e32\u884c\u6ce2\u7279\u7387\u6216\u8fde\u63a5\u63a5\u53e3\uff08\u5373\uff1a\u4ece USB \u5230 UART\uff09\u7684\u6784\u5efa\uff0c\u4f46\u9a8c\u8bc1\u7ec8\u5c06\u5931\u8d25\uff0c\u56e0\u4e3a\u811a\u672c\u5c06\u65e0\u6cd5\u91cd\u65b0\u8fde\u63a5\u5230 MCU \u4ee5\u9a8c\u8bc1\u5f53\u524d\u7248\u672c\u3002 \u4ec5\u652f\u6301\u4f7f\u7528 SPI \u8fdb\u884c SD \u5361\u901a\u4fe1\u7684\u677f\u3002 \u4f7f\u7528 SDIO \u7684\u677f\uff0c\u4f8b\u5982 Flymaker Flyboard \u548c MKS Robin Nano V1/V2\uff0c\u5c06\u65e0\u6cd5\u5de5\u4f5c\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"SDCard_Updates.html#_4","text":"\u5927\u591a\u6570\u5e38\u89c1\u7684\u7535\u8def\u677f\u90fd\u5e94\u8be5\u53ef\u7528\uff0c\u4f46\u5982\u6709\u5fc5\u8981\uff0c\u53ef\u4ee5\u6dfb\u52a0\u65b0\u7684\u7535\u8def\u677f\u5b9a\u4e49\u3002 \u677f\u5b9a\u4e49\u4f4d\u4e8e ~/klipper/scripts/spi_flash/board_defs.py \u3002 \u5b9a\u4e49\u5b58\u50a8\u5728\u5b57\u5178\u4e2d\uff0c\u4f8b\u5982\uff1a BOARD_DEFS = { 'generic-lpc1768' : { 'mcu' : \"lpc1768\" , 'spi_bus' : \"ssp1\" , \"cs_pin\" : \"P0.6\" }, ...< \u66f4\u591a\u5b9a\u4e49 > } \u53ef\u4ee5\u6307\u5b9a\u4ee5\u4e0b\u5b57\u6bb5\uff1a mcu \uff1a\u5fae\u63a7\u5236\u5668\u7c7b\u578b\u3002\u8fd9\u53ef\u4ee5\u5728\u4f7f\u7528 make menuconfig \u914d\u7f6e\u6784\u5efa\u914d\u7f6e\u540e\u901a\u8fc7\u8fd0\u884c cat .config | grep CONFIG_MCU \u83b7\u53d6\u3002 \u6b64\u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002 spi_bus \uff1a\u8fde\u63a5\u5230 SD \u5361\u7684 SPI \u603b\u7ebf\u3002 \u8fd9\u5e94\u8be5\u4ece\u7535\u8def\u677f\u7684\u539f\u7406\u56fe\u4e2d\u68c0\u7d22\u3002 \u6b64\u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002 cs_pin \uff1a\u8fde\u63a5\u5230 SD \u5361\u7684\u82af\u7247\u9009\u62e9\u5f15\u811a\u3002 \u8fd9\u5e94\u8be5\u4ece\u7535\u8def\u677f\u539f\u7406\u56fe\u4e2d\u68c0\u7d22\u3002 \u6b64\u5b57\u6bb5\u662f\u5fc5\u9700\u7684\u3002 firmware_path \uff1aSD \u5361\u4e0a\u56fa\u4ef6\u5e94\u4f20\u8f93\u7684\u8def\u5f84\u3002 \u9ed8\u8ba4\u662f firmware.bin \u3002 current_firmware_path \u6210\u529f\u5237\u65b0\u540e\u91cd\u547d\u540d\u7684\u56fa\u4ef6\u6587\u4ef6\u6240\u5728\u7684 SD \u5361\u4e0a\u7684\u8def\u5f84\u3002 \u9ed8\u8ba4\u662f firmware.cur \u3002 \u5982\u679c\u9700\u8981\u8f6f\u4ef6 SPI\uff0c spi_bus \u5b57\u6bb5\u5e94\u8bbe\u7f6e\u4e3a swspi \uff0c\u5e76\u5e94\u6307\u5b9a\u4ee5\u4e0b\u9644\u52a0\u5b57\u6bb5\uff1a spi_pins \uff1a\u8fd9\u5e94\u8be5\u662f 3 \u4e2a\u9017\u53f7\u5206\u9694\u7684\u5f15\u811a\uff0c\u4ee5 miso,mosi,sclk \u7684\u683c\u5f0f\u8fde\u63a5\u5230 SD \u5361\u3002 \u8f6f\u4ef6 SPI \u662f\u5fc5\u8981\u7684\u5e94\u8be5\u662f\u975e\u5e38\u7f55\u89c1\u7684\uff0c\u901a\u5e38\u53ea\u6709\u8bbe\u8ba1\u9519\u8bef\u7684\u677f\u624d\u4f1a\u9700\u8981\u5b83\u3002 btt-skr-pro \u677f\u5b9a\u4e49\u63d0\u4f9b\u4e86\u4e00\u4e2a\u793a\u4f8b\u3002 \u5728\u521b\u5efa\u65b0\u677f\u5b9a\u4e49\u4e4b\u524d\uff0c\u5e94\u68c0\u67e5\u73b0\u6709\u677f\u5b9a\u4e49\u662f\u5426\u6ee1\u8db3\u65b0\u677f\u6240\u9700\u7684\u6807\u51c6\u3002 \u5982\u679c\u662f\u8fd9\u79cd\u60c5\u51b5\uff0c\u53ef\u4ee5\u6307\u5b9a BOARD_ALIAS \u3002 \u4f8b\u5982\uff0c\u53ef\u4ee5\u6dfb\u52a0\u4ee5\u4e0b\u522b\u540d\u6765\u6307\u5b9a\u201cmy-new-board\u201d\u4f5c\u4e3a\u201cgeneric-lpc1768\u201d\u7684\u522b\u540d\uff1a BOARD_ALIASES = { ...< \u539f\u5148\u7684\u522b\u540d > , 'my-new-board' : BOARD_DEFS [ 'generic-lpc1768' ], } \u5982\u679c\u60a8\u9700\u8981\u4e00\u4e2a\u65b0\u7684\u7535\u8def\u677f\u5b9a\u4e49\u5e76\u4e14\u60a8\u5bf9\u4e0a\u8ff0\u8fc7\u7a0b\u611f\u5230\u4e0d\u8212\u670d\uff0c\u5efa\u8bae\u60a8\u5728 Klipper Community Discord \u4e2d\u8bf7\u6c42\u4e00\u4e2a\u3002","title":"\u7535\u8def\u677f\u5b9a\u4e49"},{"location":"Skew_Correction.html","text":"\u504f\u659c\u6821\u6b63 \u00b6 \u57fa\u4e8e\u8f6f\u4ef6\u7684\u504f\u659c\u6821\u6b63\u53ef\u4ee5\u5e2e\u52a9\u89e3\u51b3\u6253\u5370\u673a\u88c5\u914d\u4e0d\u5b8c\u5168\u65b9\u5f62\u9020\u6210\u7684\u5c3a\u5bf8\u4e0d\u51c6\u786e\u95ee\u9898\u3002\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u7684\u6253\u5370\u673a\u4e25\u91cd\u504f\u659c\uff0c\u5f3a\u70c8\u5efa\u8bae\u5728\u5e94\u7528\u57fa\u4e8e\u8f6f\u4ef6\u7684\u6821\u6b63\u4e4b\u524d\uff0c\u9996\u5148\u4f7f\u7528\u673a\u68b0\u624b\u6bb5\u4f7f\u6253\u5370\u673a\u5c3d\u53ef\u80fd\u7684\u65b9\u5f62\u3002 \u6253\u5370\u4e00\u4e2a\u6821\u51c6\u7269\u4ef6 \u00b6 \u7ea0\u6b63\u504f\u659c\u7684\u7b2c\u4e00\u6b65\u662f\u6cbf\u7740\u4f60\u8981\u7ea0\u6b63\u7684\u5e73\u9762\u6253\u5370\u4e00\u4e2a \u6821\u51c6\u7269\u4ef6 \u3002\u8fd8\u6709\u4e00\u4e2a \u6821\u51c6\u7269\u4ef6 \u5305\u62ec\u4e86\u4e00\u4e2a\u6a21\u578b\u4e2d\u7684\u6240\u6709\u5e73\u9762\u3002\u4f60\u9700\u8981\u65cb\u8f6c\u8fd9\u4e2a\u7269\u4ef6\uff0c\u4f7f\u89d2A\u671d\u5411\u5e73\u9762\u7684\u539f\u70b9\u3002 \u4e0d\u8981\u5728\u8fd9\u6b21\u6253\u5370\u4e2d\u5e94\u7528\u503e\u659c\u6821\u6b63\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u4eceprinter.cfg\u4e2d\u5220\u9664 [skew_correction] \u6a21\u5757\u6216\u53d1\u9001 SET_SKEW CLEAR=1 G-Code \u6765\u5b9e\u73b0\u3002 \u8fdb\u884c\u6d4b\u91cf \u00b6 [skew_correcton] \u6a21\u5757\u9700\u8981\u4e09\u6b21\u5bf9\u6821\u51c6\u5e73\u9762\u7684\u6d4b\u91cf\u503c\uff1b\u4ece\u89d2 A \u5230\u89d2 C \u7684\u8ddd\u79bb\uff0c\u4ece\u89d2 B \u5230\u89d2 D \u7684\u8ddd\u79bb\uff0c\u4ee5\u53ca\u4ece\u89d2 A \u5230\u89d2 D \u7684\u8ddd\u79bb\u3002\u5f53\u6d4b\u91cf\u8ddd\u79bb AD \u65f6\uff0c\u4e0d\u5305\u62ec\u4e00\u4e9b\u6d4b\u8bd5\u7269\u4ef6\u7684\u89d2\u4e0a\u7684\u5e73\u9762\u3002 \u914d\u7f6e\u504f\u659c \u00b6 \u786e\u4fdd [skew_correction] \u5df2\u7ecf\u5728 printer.cfg \u4e2d\u3002\u73b0\u5728\u53ef\u4ee5\u4f7f\u7528 SET_SKEW G-Code \u6765\u914d\u7f6e skew_correcton\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5bf9 XY \u5e73\u9762\u6d4b\u91cf\u7684\u8ddd\u79bb\u7ed3\u679c\u5982\u4e0b\uff1a Length AC = 140.4 Length BD = 142.8 Length AD = 99.8 SET_SKEW \u53ef\u4ee5\u914d\u7f6e XY \u5e73\u9762\u7684\u504f\u659c\u6821\u6b63\u3002 SET_SKEW XY=140.4,142.8,99.8 \u4f60\u4e5f\u53ef\u4ee5\u5728 G\u4ee3\u7801\u4e2d\u52a0\u5165 XZ \u548c YZ \u7684\u6d4b\u91cf\u503c\uff1a SET_SKEW XY=140.4,142.8,99.8 XZ=141.6,141.4,99.8 YZ=142.4,140.5,99.5 [skew_correction] \u6a21\u5757\u4e5f\u652f\u6301\u591a\u914d\u7f6e\u7ba1\u7406\uff0c\u7528\u6cd5\u7c7b\u4f3c [bed_mesh] \u3002\u5728\u4f7f\u7528 SET_SKEW G-Code \u8bbe\u7f6e\u504f\u659c\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 SKEW_PROFILE G-Code\u6765\u4fdd\u5b58\u504f\u659c\u914d\u7f6e\uff1a SKEW_PROFILE SAVE=my_skew_profile \u5728\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u540e\uff0cKlipper \u4f1a\u63d0\u793a\u4f60\u53d1\u9001 SAVE_CONFIG G-Code \u6765\u4fdd\u5b58\u914d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u540d\u4e3a my_skew_profile \u7684\u914d\u7f6e\uff0c\u90a3\u4e48\u4e00\u4e2a\u65b0\u7684\u914d\u7f6e\u5c06\u88ab\u521b\u5efa\u3002\u5982\u679c\u547d\u540d\u7684\u914d\u7f6e\u6587\u4ef6\u5b58\u5728\uff0c\u5b83\u5c06\u88ab\u8986\u76d6\u3002 \u4fdd\u5b58\u914d\u7f6e\u540e\uff0c\u60a8\u53ef\u4ee5\u52a0\u8f7d\u5b83\uff1a SKEW_PROFILE LOAD=my_skew_profile \u4e5f\u53ef\u4ee5\u5220\u9664\u65e7\u7684\u6216\u8fc7\u65f6\u7684\u914d\u7f6e\uff1a SKEW_PROFILE REMOVE=my_skew_profile \u5728\u5220\u9664\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u540e\uff0cKlipper \u63d0\u793a\u4f60\u53d1\u9001 SAVE_CONFIG \u4ee5\u4fdd\u7559\u4fee\u6539\u3002 \u9a8c\u8bc1\u4fee\u6b63 \u00b6 \u5728\u914d\u7f6e\u4e86 skew_correction \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u542f\u7528\u4fee\u6b63\u7684\u60c5\u51b5\u4e0b\u91cd\u65b0\u6253\u5370\u6821\u51c6\u7269\u4ef6\u3002\u4f7f\u7528\u4e0b\u9762\u7684 G-Code \u6765\u68c0\u67e5\u6bcf\u4e2a\u5e73\u9762\u7684\u504f\u659c\u3002\u5176\u7ed3\u679c\u5e94\u8be5\u4f4e\u4e8e\u901a\u8fc7 GET_CURRENT_SKEW \u62a5\u544a\u7684\u7ed3\u679c\u3002 CALC_MEASURED_SKEW AC=<ad\u957f\u5ea6> BD=<bd\u957f\u5ea6> AD=<ad\u957f\u5ea6> \u6ce8\u610f\u4e8b\u9879 \u00b6 \u7531\u4e8e\u504f\u659c\u6821\u6b63\u7684\u6027\u8d28\uff0c\u5efa\u8bae\u4e4b\u5728\u5f52\u4f4d\u548c\u4efb\u4f55\u7c7b\u578b\u7684\u9760\u8fd1\u6253\u5370\u533a\u57df\u8fb9\u7f18\u7684\u8fd0\u52a8\uff08\u5982\u6e05\u9664\u6216\u55b7\u5634\u64e6\u9664\uff09\u5b8c\u6210\u4e4b\u540e\u7684\u5f00\u59cb\u6253\u5370 G-Code \u4e2d\u914d\u7f6e\u504f\u659c\u6821\u6b63\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 SET_SKEW \u6216 SKEW_PROFILE G-Code \u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002\u8fd8\u5efa\u8bae\u5728\u7ed3\u675f\u6253\u5370 G-Code \u4e2d\u53d1\u51fa SET_SKEW CLEAR=1 \u3002 \u8bf7\u8bb0\u4f4f\uff0c [skew_correction] \u6709\u53ef\u80fd\u4ea7\u751f\u4e00\u4e2a\u4f1a\u4f7f\u6253\u5370\u5934\u5728 X \u548c/\u6216 Y \u8f74\u4e0a\u8d85\u51fa\u6253\u5370\u673a\u8fb9\u754c\u7684\u4fee\u6b63\u3002\u5efa\u8bae\u5728\u4f7f\u7528 [skew_correction] \u65f6\u5c06\u6253\u5370\u7269\u4ef6\u8fdc\u79bb\u6253\u5370\u673a\u8fb9\u7f18\u3002","title":"\u504f\u659c\u6821\u6b63"},{"location":"Skew_Correction.html#_1","text":"\u57fa\u4e8e\u8f6f\u4ef6\u7684\u504f\u659c\u6821\u6b63\u53ef\u4ee5\u5e2e\u52a9\u89e3\u51b3\u6253\u5370\u673a\u88c5\u914d\u4e0d\u5b8c\u5168\u65b9\u5f62\u9020\u6210\u7684\u5c3a\u5bf8\u4e0d\u51c6\u786e\u95ee\u9898\u3002\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u7684\u6253\u5370\u673a\u4e25\u91cd\u504f\u659c\uff0c\u5f3a\u70c8\u5efa\u8bae\u5728\u5e94\u7528\u57fa\u4e8e\u8f6f\u4ef6\u7684\u6821\u6b63\u4e4b\u524d\uff0c\u9996\u5148\u4f7f\u7528\u673a\u68b0\u624b\u6bb5\u4f7f\u6253\u5370\u673a\u5c3d\u53ef\u80fd\u7684\u65b9\u5f62\u3002","title":"\u504f\u659c\u6821\u6b63"},{"location":"Skew_Correction.html#_2","text":"\u7ea0\u6b63\u504f\u659c\u7684\u7b2c\u4e00\u6b65\u662f\u6cbf\u7740\u4f60\u8981\u7ea0\u6b63\u7684\u5e73\u9762\u6253\u5370\u4e00\u4e2a \u6821\u51c6\u7269\u4ef6 \u3002\u8fd8\u6709\u4e00\u4e2a \u6821\u51c6\u7269\u4ef6 \u5305\u62ec\u4e86\u4e00\u4e2a\u6a21\u578b\u4e2d\u7684\u6240\u6709\u5e73\u9762\u3002\u4f60\u9700\u8981\u65cb\u8f6c\u8fd9\u4e2a\u7269\u4ef6\uff0c\u4f7f\u89d2A\u671d\u5411\u5e73\u9762\u7684\u539f\u70b9\u3002 \u4e0d\u8981\u5728\u8fd9\u6b21\u6253\u5370\u4e2d\u5e94\u7528\u503e\u659c\u6821\u6b63\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u4eceprinter.cfg\u4e2d\u5220\u9664 [skew_correction] \u6a21\u5757\u6216\u53d1\u9001 SET_SKEW CLEAR=1 G-Code \u6765\u5b9e\u73b0\u3002","title":"\u6253\u5370\u4e00\u4e2a\u6821\u51c6\u7269\u4ef6"},{"location":"Skew_Correction.html#_3","text":"[skew_correcton] \u6a21\u5757\u9700\u8981\u4e09\u6b21\u5bf9\u6821\u51c6\u5e73\u9762\u7684\u6d4b\u91cf\u503c\uff1b\u4ece\u89d2 A \u5230\u89d2 C \u7684\u8ddd\u79bb\uff0c\u4ece\u89d2 B \u5230\u89d2 D \u7684\u8ddd\u79bb\uff0c\u4ee5\u53ca\u4ece\u89d2 A \u5230\u89d2 D \u7684\u8ddd\u79bb\u3002\u5f53\u6d4b\u91cf\u8ddd\u79bb AD \u65f6\uff0c\u4e0d\u5305\u62ec\u4e00\u4e9b\u6d4b\u8bd5\u7269\u4ef6\u7684\u89d2\u4e0a\u7684\u5e73\u9762\u3002","title":"\u8fdb\u884c\u6d4b\u91cf"},{"location":"Skew_Correction.html#_4","text":"\u786e\u4fdd [skew_correction] \u5df2\u7ecf\u5728 printer.cfg \u4e2d\u3002\u73b0\u5728\u53ef\u4ee5\u4f7f\u7528 SET_SKEW G-Code \u6765\u914d\u7f6e skew_correcton\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5bf9 XY \u5e73\u9762\u6d4b\u91cf\u7684\u8ddd\u79bb\u7ed3\u679c\u5982\u4e0b\uff1a Length AC = 140.4 Length BD = 142.8 Length AD = 99.8 SET_SKEW \u53ef\u4ee5\u914d\u7f6e XY \u5e73\u9762\u7684\u504f\u659c\u6821\u6b63\u3002 SET_SKEW XY=140.4,142.8,99.8 \u4f60\u4e5f\u53ef\u4ee5\u5728 G\u4ee3\u7801\u4e2d\u52a0\u5165 XZ \u548c YZ \u7684\u6d4b\u91cf\u503c\uff1a SET_SKEW XY=140.4,142.8,99.8 XZ=141.6,141.4,99.8 YZ=142.4,140.5,99.5 [skew_correction] \u6a21\u5757\u4e5f\u652f\u6301\u591a\u914d\u7f6e\u7ba1\u7406\uff0c\u7528\u6cd5\u7c7b\u4f3c [bed_mesh] \u3002\u5728\u4f7f\u7528 SET_SKEW G-Code \u8bbe\u7f6e\u504f\u659c\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 SKEW_PROFILE G-Code\u6765\u4fdd\u5b58\u504f\u659c\u914d\u7f6e\uff1a SKEW_PROFILE SAVE=my_skew_profile \u5728\u6267\u884c\u8fd9\u4e2a\u547d\u4ee4\u4e4b\u540e\uff0cKlipper \u4f1a\u63d0\u793a\u4f60\u53d1\u9001 SAVE_CONFIG G-Code \u6765\u4fdd\u5b58\u914d\u7f6e\u3002\u5982\u679c\u6ca1\u6709\u540d\u4e3a my_skew_profile \u7684\u914d\u7f6e\uff0c\u90a3\u4e48\u4e00\u4e2a\u65b0\u7684\u914d\u7f6e\u5c06\u88ab\u521b\u5efa\u3002\u5982\u679c\u547d\u540d\u7684\u914d\u7f6e\u6587\u4ef6\u5b58\u5728\uff0c\u5b83\u5c06\u88ab\u8986\u76d6\u3002 \u4fdd\u5b58\u914d\u7f6e\u540e\uff0c\u60a8\u53ef\u4ee5\u52a0\u8f7d\u5b83\uff1a SKEW_PROFILE LOAD=my_skew_profile \u4e5f\u53ef\u4ee5\u5220\u9664\u65e7\u7684\u6216\u8fc7\u65f6\u7684\u914d\u7f6e\uff1a SKEW_PROFILE REMOVE=my_skew_profile \u5728\u5220\u9664\u4e00\u4e2a\u914d\u7f6e\u6587\u4ef6\u540e\uff0cKlipper \u63d0\u793a\u4f60\u53d1\u9001 SAVE_CONFIG \u4ee5\u4fdd\u7559\u4fee\u6539\u3002","title":"\u914d\u7f6e\u504f\u659c"},{"location":"Skew_Correction.html#_5","text":"\u5728\u914d\u7f6e\u4e86 skew_correction \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u5728\u542f\u7528\u4fee\u6b63\u7684\u60c5\u51b5\u4e0b\u91cd\u65b0\u6253\u5370\u6821\u51c6\u7269\u4ef6\u3002\u4f7f\u7528\u4e0b\u9762\u7684 G-Code \u6765\u68c0\u67e5\u6bcf\u4e2a\u5e73\u9762\u7684\u504f\u659c\u3002\u5176\u7ed3\u679c\u5e94\u8be5\u4f4e\u4e8e\u901a\u8fc7 GET_CURRENT_SKEW \u62a5\u544a\u7684\u7ed3\u679c\u3002 CALC_MEASURED_SKEW AC=<ad\u957f\u5ea6> BD=<bd\u957f\u5ea6> AD=<ad\u957f\u5ea6>","title":"\u9a8c\u8bc1\u4fee\u6b63"},{"location":"Skew_Correction.html#_6","text":"\u7531\u4e8e\u504f\u659c\u6821\u6b63\u7684\u6027\u8d28\uff0c\u5efa\u8bae\u4e4b\u5728\u5f52\u4f4d\u548c\u4efb\u4f55\u7c7b\u578b\u7684\u9760\u8fd1\u6253\u5370\u533a\u57df\u8fb9\u7f18\u7684\u8fd0\u52a8\uff08\u5982\u6e05\u9664\u6216\u55b7\u5634\u64e6\u9664\uff09\u5b8c\u6210\u4e4b\u540e\u7684\u5f00\u59cb\u6253\u5370 G-Code \u4e2d\u914d\u7f6e\u504f\u659c\u6821\u6b63\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 SET_SKEW \u6216 SKEW_PROFILE G-Code \u6765\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002\u8fd8\u5efa\u8bae\u5728\u7ed3\u675f\u6253\u5370 G-Code \u4e2d\u53d1\u51fa SET_SKEW CLEAR=1 \u3002 \u8bf7\u8bb0\u4f4f\uff0c [skew_correction] \u6709\u53ef\u80fd\u4ea7\u751f\u4e00\u4e2a\u4f1a\u4f7f\u6253\u5370\u5934\u5728 X \u548c/\u6216 Y \u8f74\u4e0a\u8d85\u51fa\u6253\u5370\u673a\u8fb9\u754c\u7684\u4fee\u6b63\u3002\u5efa\u8bae\u5728\u4f7f\u7528 [skew_correction] \u65f6\u5c06\u6253\u5370\u7269\u4ef6\u8fdc\u79bb\u6253\u5370\u673a\u8fb9\u7f18\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"Slicers.html","text":"\u5207\u7247\u8f6f\u4ef6 \u00b6 \u672c\u6587\u6863\u63d0\u4f9b\u4e86\u4e0e Klipper \u4e00\u8d77\u4f7f\u7528\u7684\u4e00\u4e9b\u5207\u7247\u8f6f\u4ef6\u914d\u7f6e\u6280\u5de7\u3002 Klipper \u5e38\u7528\u7684\u5207\u7247\u8f6f\u4ef6\u6709 Slic3r\u3001Cura\u3001Simplify3D \u7b49\u3002 \u5c06 G-Code \u98ce\u683c\u8bbe\u7f6e\u4e3a Marlin \u00b6 \u5f88\u591a\u5207\u7247\u8f6f\u4ef6\u53ef\u4ee5\u8bbe\u7f6e\u201cG\u4ee3\u7801\u98ce\u683c\u201d\u9009\u9879\u3002Klipper\u652f\u6301\u901a\u5e38\u9ed8\u8ba4\u7684\u201cMarlin\u201d\uff1bKlipper \u4e5f\u517c\u5bb9\u201cSmoothieware\u201d\u98ce\u683c\u3002 Klipper gcode_macro \u00b6 \u5207\u7247\u8f6f\u4ef6\u901a\u5e38\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e2a\"\u5f00\u59cbG\u4ee3\u7801 \"(Start G-Code)\u548c \"\u7ed3\u675fG\u4ee3\u7801 \"(End G-Code)\u5e8f\u5217\u3002\u4f46\u5728 Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u81ea\u5b9a\u4e49\u5b8f\u901a\u5e38\u66f4\u7b80\u4fbf\uff0c\u4f8b\u5982\uff1a [gcode_macro START_PRINT] \u548c [gcode_macro END_PRINT] \u3002\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u5207\u7247\u8f6f\u4ef6\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528 START_PRINT \u548c END_PRINT \u3002\u5728 Klipper \u7684\u914d\u7f6e\u4e2d\u5b9a\u4e49\u8fd9\u4e9b\u52a8\u4f5c\u53ef\u80fd\u4f1a\u7b80\u5316\u6253\u5370\u673a\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u6b65\u9aa4\u7684\u914d\u7f6e\uff0c\u56e0\u4e3a\u4fee\u6539\u4e0d\u9700\u8981\u91cd\u65b0\u5207\u7247\u3002 \u53c2\u89c1 sample-macros.cfg \u4e2d\u7684\u793a\u4f8b START_PRINT \u548cEND_PRINT \u5b8f\u3002 \u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u4e2d\u5173\u4e8e\u5b9a\u4e49 gcode_macro \u7684\u7ec6\u8282\u3002 \u5927\u7684\u56de\u62bd\u503c\u53ef\u80fd\u610f\u5473\u7740\u9700\u8981\u8c03\u4f18 Klipper \u00b6 \u5728Klipper\u4e2d\uff0c\u56de\u62bd\u7684\u6700\u5927\u901f\u5ea6\u548c\u52a0\u901f\u5ea6\u7531 max_extrude_only_velocity \u548c max_extrude_only_accel \u53c2\u6570\u63a7\u5236\u3002\u5728\u5927\u591a\u6570\u6253\u5370\u673a\u4e0a\u8fd9\u4e9b\u53c2\u6570\u7684\u9ed8\u8ba4\u503c\u5e94\u8be5\u80fd\u5f88\u597d\u5730\u5de5\u4f5c\u3002\u7136\u800c\uff0c\u5982\u679c\u5207\u7247\u8f6f\u4ef6\u4e2d\u914d\u7f6e\u4e86\u4e00\u4e2a\u5927\u7684\u56de\u62bd\u503c(\u4f8b\u5982\uff0c5\u6beb\u7c73\u6216\u66f4\u5927)\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0\u671f\u671b\u7684\u56de\u62bd\u901f\u5ea6\u53d7\u5230\u4e86\u9650\u5236\u3002 \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528\u4e00\u4e2a\u5927\u7684\u56de\u62bd\u503c\uff0c\u8003\u8651\u8c03\u4f18 Klipper \u7684 \u63d0\u524d\u538b\u529b \u6765\u4ee3\u66ff\u3002\u5426\u5219\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6253\u5370\u5934\u5728\u56de\u62bd\u548c\u542f\u52a8\u65f6\u6682\u505c\uff0c\u6b64\u65f6\u53ef\u4ee5\u8003\u8651\u5728 Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e max_extrude_only_velocity \u548c max_extrude_only_accel \u53c2\u6570\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u4e0d\u8981\u542f\u7528\u201c\u6ed1\u884c(coasting)\u201d \u00b6 \u548cKlipper \u4e00\u8d77\u4f7f\u7528\u201c\u6ed1\u884c(coasting)\u201d\u529f\u80fd\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6253\u5370\u8d28\u91cf\u4e0d\u4f73\u3002\u8003\u8651\u4f7f\u7528 Klipper \u7684 \u63d0\u524d\u538b\u529b \u529f\u80fd\u66ff\u4ee3\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\u5207\u7247\u8f6f\u4ef6\u5728\u79fb\u52a8\u4e4b\u95f4\u5927\u5e45\u6539\u53d8\u6324\u51fa\u7387\uff0c\u90a3\u4e48 Klipper \u5c06\u5728\u79fb\u52a8\u4e4b\u95f4\u8fdb\u884c\u51cf\u901f\u548c\u52a0\u901f\u3002\u8fd9\u66f4\u53ef\u80fd\u4f1a\u9020\u6210\u66f4\u591a\u7684\u6324\u51fa\u9897\u7c92(blobbing)\uff0c\u800c\u4e0d\u662f\u66f4\u5c11\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8f6f\u4ef6\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7f29\u56de\u65f6\u64e6\u62ed \"\u8bbe\u7f6e\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002 \u4e0d\u8981\u5728 Simplify3d \u4e0a\u4f7f\u7528\u201c\u989d\u5916\u91cd\u542f\u8ddd\u79bb(extra restart distance)\u201d \u00b6 \u8fd9\u4e2a\u8bbe\u7f6e\u4f1a\u5bfc\u81f4\u6324\u51fa\u901f\u5ea6\u7684\u5267\u70c8\u53d8\u5316\uff0c\u4ece\u800c\u89e6\u53d1 Klipper \u7684\u6700\u5927\u6324\u51fa\u622a\u9762\u68c0\u67e5\u3002\u8003\u8651\u4f7f\u7528 Klipper \u7684 \u63d0\u524d \u6216 Simplify3d \u7684\u5e38\u89c4\u56de\u62bd\u8bbe\u7f6e\u6765\u4ee3\u66ff\u3002 \u5728 KISSlicer \u4e0a\u7981\u7528\u201cPreloadVE\u201d \u00b6 \u5982\u679c\u4f7f\u7528 KISSlicer \u5207\u7247\u8f6f\u4ef6\uff0c\u90a3\u4e48\u9700\u8981\u628a \"PreloadVE \"\u8bbe\u4e3a0\u5e76\u8003\u8651\u4f7f\u7528Klipper\u7684 \u63d0\u524d\u538b\u529b \u4ee3\u66ff\u3002 \u7981\u7528\u4efb\u4f55\"\u63d0\u524d\u6324\u51fa\u538b\u529b\"\u7684\u8bbe\u7f6e \u00b6 \u4e00\u4e9b\u5207\u7247\u8f6f\u4ef6\u5ba3\u4f20\u6709 \"\u9ad8\u7ea7\u6324\u51fa\u673a\u538b\u529b\u8c03\u6574 \"\u7684\u529f\u80fd\u3002\u5efa\u8bae\u5728\u4f7f\u7528 Klipper \u65f6\u7981\u7528\u8fd9\u4e9b\u529f\u80fd\uff0c\u56e0\u4e3a\u5b83\u4eec\u5f88\u53ef\u80fd\u4f1a\u964d\u4f4e\u6253\u5370\u8d28\u91cf\u3002\u8003\u8651\u4f7f\u7528 Klipper \u7684 \u538b\u529b\u63d0\u524d \u4ee3\u66ff\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u8fd9\u4e9b\u5207\u7247\u8f6f\u4ef6\u7684\u8bbe\u7f6e\u751f\u6210\u7684\u547d\u4ee4\u4f1a\u56fa\u4ef6\u5bf9\u6324\u51fa\u7387\u8fdb\u884c\u5267\u70c8\u7684\u6539\u53d8\uff0c\u5e0c\u671b\u56fa\u4ef6\u80fd\u63a5\u8fd1\u8fd9\u4e9b\u8bf7\u6c42\u503c\uff0c\u4f7f\u6253\u5370\u673a\u83b7\u5f97\u4e00\u4e2a\u5927\u81f4\u7406\u60f3\u7684\u6324\u51fa\u673a\u538b\u529b\u3002\u7136\u800c\uff0cKlipper\u5229\u7528\u7cbe\u786e\u7684\u8fd0\u52a8\u5b66\u8ba1\u7b97\u548c\u8ba1\u65f6\u3002\u5f53Klipper\u88ab\u547d\u4ee4\u5bf9\u6324\u51fa\u7387\u8fdb\u884c\u91cd\u5927\u6539\u53d8\u65f6\uff0c\u5b83\u5c06\u8ba1\u5212\u51fa\u901f\u5ea6\u3001\u52a0\u901f\u5ea6\u548c\u6324\u51fa\u673a\u8fd0\u52a8\u7684\u76f8\u5e94\u53d8\u5316--\u8fd9\u4e0d\u662f\u5207\u7247\u8f6f\u4ef6\u7684\u610f\u56fe\u3002\u5207\u7247\u8f6f\u4ef6\u751a\u81f3\u53ef\u80fd\u4ea7\u751f\u8fc7\u5927\u7684\u6324\u51fa\u901f\u5ea6\uff0c\u4ee5\u81f3\u4e8e\u89e6\u53d1Klipper\u7684\u6700\u5927\u6324\u51fa\u622a\u9762\u68c0\u67e5\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8f6f\u4ef6\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7f29\u56de\u65f6\u64e6\u62ed \"\u8bbe\u7f6e\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002","title":"\u5207\u7247\u8f6f\u4ef6"},{"location":"Slicers.html#_1","text":"\u672c\u6587\u6863\u63d0\u4f9b\u4e86\u4e0e Klipper \u4e00\u8d77\u4f7f\u7528\u7684\u4e00\u4e9b\u5207\u7247\u8f6f\u4ef6\u914d\u7f6e\u6280\u5de7\u3002 Klipper \u5e38\u7528\u7684\u5207\u7247\u8f6f\u4ef6\u6709 Slic3r\u3001Cura\u3001Simplify3D \u7b49\u3002","title":"\u5207\u7247\u8f6f\u4ef6"},{"location":"Slicers.html#g-code-marlin","text":"\u5f88\u591a\u5207\u7247\u8f6f\u4ef6\u53ef\u4ee5\u8bbe\u7f6e\u201cG\u4ee3\u7801\u98ce\u683c\u201d\u9009\u9879\u3002Klipper\u652f\u6301\u901a\u5e38\u9ed8\u8ba4\u7684\u201cMarlin\u201d\uff1bKlipper \u4e5f\u517c\u5bb9\u201cSmoothieware\u201d\u98ce\u683c\u3002","title":"\u5c06 G-Code \u98ce\u683c\u8bbe\u7f6e\u4e3a Marlin"},{"location":"Slicers.html#klipper-gcode_macro","text":"\u5207\u7247\u8f6f\u4ef6\u901a\u5e38\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e2a\"\u5f00\u59cbG\u4ee3\u7801 \"(Start G-Code)\u548c \"\u7ed3\u675fG\u4ee3\u7801 \"(End G-Code)\u5e8f\u5217\u3002\u4f46\u5728 Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u81ea\u5b9a\u4e49\u5b8f\u901a\u5e38\u66f4\u7b80\u4fbf\uff0c\u4f8b\u5982\uff1a [gcode_macro START_PRINT] \u548c [gcode_macro END_PRINT] \u3002\u7136\u540e\u5c31\u53ef\u4ee5\u5728\u5207\u7247\u8f6f\u4ef6\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528 START_PRINT \u548c END_PRINT \u3002\u5728 Klipper \u7684\u914d\u7f6e\u4e2d\u5b9a\u4e49\u8fd9\u4e9b\u52a8\u4f5c\u53ef\u80fd\u4f1a\u7b80\u5316\u6253\u5370\u673a\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u6b65\u9aa4\u7684\u914d\u7f6e\uff0c\u56e0\u4e3a\u4fee\u6539\u4e0d\u9700\u8981\u91cd\u65b0\u5207\u7247\u3002 \u53c2\u89c1 sample-macros.cfg \u4e2d\u7684\u793a\u4f8b START_PRINT \u548cEND_PRINT \u5b8f\u3002 \u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u4e2d\u5173\u4e8e\u5b9a\u4e49 gcode_macro \u7684\u7ec6\u8282\u3002","title":"Klipper gcode_macro"},{"location":"Slicers.html#klipper","text":"\u5728Klipper\u4e2d\uff0c\u56de\u62bd\u7684\u6700\u5927\u901f\u5ea6\u548c\u52a0\u901f\u5ea6\u7531 max_extrude_only_velocity \u548c max_extrude_only_accel \u53c2\u6570\u63a7\u5236\u3002\u5728\u5927\u591a\u6570\u6253\u5370\u673a\u4e0a\u8fd9\u4e9b\u53c2\u6570\u7684\u9ed8\u8ba4\u503c\u5e94\u8be5\u80fd\u5f88\u597d\u5730\u5de5\u4f5c\u3002\u7136\u800c\uff0c\u5982\u679c\u5207\u7247\u8f6f\u4ef6\u4e2d\u914d\u7f6e\u4e86\u4e00\u4e2a\u5927\u7684\u56de\u62bd\u503c(\u4f8b\u5982\uff0c5\u6beb\u7c73\u6216\u66f4\u5927)\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0\u671f\u671b\u7684\u56de\u62bd\u901f\u5ea6\u53d7\u5230\u4e86\u9650\u5236\u3002 \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528\u4e00\u4e2a\u5927\u7684\u56de\u62bd\u503c\uff0c\u8003\u8651\u8c03\u4f18 Klipper \u7684 \u63d0\u524d\u538b\u529b \u6765\u4ee3\u66ff\u3002\u5426\u5219\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u6253\u5370\u5934\u5728\u56de\u62bd\u548c\u542f\u52a8\u65f6\u6682\u505c\uff0c\u6b64\u65f6\u53ef\u4ee5\u8003\u8651\u5728 Klipper \u914d\u7f6e\u6587\u4ef6\u4e2d\u8bbe\u7f6e max_extrude_only_velocity \u548c max_extrude_only_accel \u53c2\u6570\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002","title":"\u5927\u7684\u56de\u62bd\u503c\u53ef\u80fd\u610f\u5473\u7740\u9700\u8981\u8c03\u4f18 Klipper"},{"location":"Slicers.html#coasting","text":"\u548cKlipper \u4e00\u8d77\u4f7f\u7528\u201c\u6ed1\u884c(coasting)\u201d\u529f\u80fd\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6253\u5370\u8d28\u91cf\u4e0d\u4f73\u3002\u8003\u8651\u4f7f\u7528 Klipper \u7684 \u63d0\u524d\u538b\u529b \u529f\u80fd\u66ff\u4ee3\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\u5207\u7247\u8f6f\u4ef6\u5728\u79fb\u52a8\u4e4b\u95f4\u5927\u5e45\u6539\u53d8\u6324\u51fa\u7387\uff0c\u90a3\u4e48 Klipper \u5c06\u5728\u79fb\u52a8\u4e4b\u95f4\u8fdb\u884c\u51cf\u901f\u548c\u52a0\u901f\u3002\u8fd9\u66f4\u53ef\u80fd\u4f1a\u9020\u6210\u66f4\u591a\u7684\u6324\u51fa\u9897\u7c92(blobbing)\uff0c\u800c\u4e0d\u662f\u66f4\u5c11\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8f6f\u4ef6\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7f29\u56de\u65f6\u64e6\u62ed \"\u8bbe\u7f6e\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002","title":"\u4e0d\u8981\u542f\u7528\u201c\u6ed1\u884c(coasting)\u201d"},{"location":"Slicers.html#simplify3d-extra-restart-distance","text":"\u8fd9\u4e2a\u8bbe\u7f6e\u4f1a\u5bfc\u81f4\u6324\u51fa\u901f\u5ea6\u7684\u5267\u70c8\u53d8\u5316\uff0c\u4ece\u800c\u89e6\u53d1 Klipper \u7684\u6700\u5927\u6324\u51fa\u622a\u9762\u68c0\u67e5\u3002\u8003\u8651\u4f7f\u7528 Klipper \u7684 \u63d0\u524d \u6216 Simplify3d \u7684\u5e38\u89c4\u56de\u62bd\u8bbe\u7f6e\u6765\u4ee3\u66ff\u3002","title":"\u4e0d\u8981\u5728 Simplify3d \u4e0a\u4f7f\u7528\u201c\u989d\u5916\u91cd\u542f\u8ddd\u79bb(extra restart distance)\u201d"},{"location":"Slicers.html#kisslicer-preloadve","text":"\u5982\u679c\u4f7f\u7528 KISSlicer \u5207\u7247\u8f6f\u4ef6\uff0c\u90a3\u4e48\u9700\u8981\u628a \"PreloadVE \"\u8bbe\u4e3a0\u5e76\u8003\u8651\u4f7f\u7528Klipper\u7684 \u63d0\u524d\u538b\u529b \u4ee3\u66ff\u3002","title":"\u5728 KISSlicer \u4e0a\u7981\u7528\u201cPreloadVE\u201d"},{"location":"Slicers.html#_2","text":"\u4e00\u4e9b\u5207\u7247\u8f6f\u4ef6\u5ba3\u4f20\u6709 \"\u9ad8\u7ea7\u6324\u51fa\u673a\u538b\u529b\u8c03\u6574 \"\u7684\u529f\u80fd\u3002\u5efa\u8bae\u5728\u4f7f\u7528 Klipper \u65f6\u7981\u7528\u8fd9\u4e9b\u529f\u80fd\uff0c\u56e0\u4e3a\u5b83\u4eec\u5f88\u53ef\u80fd\u4f1a\u964d\u4f4e\u6253\u5370\u8d28\u91cf\u3002\u8003\u8651\u4f7f\u7528 Klipper \u7684 \u538b\u529b\u63d0\u524d \u4ee3\u66ff\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u8fd9\u4e9b\u5207\u7247\u8f6f\u4ef6\u7684\u8bbe\u7f6e\u751f\u6210\u7684\u547d\u4ee4\u4f1a\u56fa\u4ef6\u5bf9\u6324\u51fa\u7387\u8fdb\u884c\u5267\u70c8\u7684\u6539\u53d8\uff0c\u5e0c\u671b\u56fa\u4ef6\u80fd\u63a5\u8fd1\u8fd9\u4e9b\u8bf7\u6c42\u503c\uff0c\u4f7f\u6253\u5370\u673a\u83b7\u5f97\u4e00\u4e2a\u5927\u81f4\u7406\u60f3\u7684\u6324\u51fa\u673a\u538b\u529b\u3002\u7136\u800c\uff0cKlipper\u5229\u7528\u7cbe\u786e\u7684\u8fd0\u52a8\u5b66\u8ba1\u7b97\u548c\u8ba1\u65f6\u3002\u5f53Klipper\u88ab\u547d\u4ee4\u5bf9\u6324\u51fa\u7387\u8fdb\u884c\u91cd\u5927\u6539\u53d8\u65f6\uff0c\u5b83\u5c06\u8ba1\u5212\u51fa\u901f\u5ea6\u3001\u52a0\u901f\u5ea6\u548c\u6324\u51fa\u673a\u8fd0\u52a8\u7684\u76f8\u5e94\u53d8\u5316--\u8fd9\u4e0d\u662f\u5207\u7247\u8f6f\u4ef6\u7684\u610f\u56fe\u3002\u5207\u7247\u8f6f\u4ef6\u751a\u81f3\u53ef\u80fd\u4ea7\u751f\u8fc7\u5927\u7684\u6324\u51fa\u901f\u5ea6\uff0c\u4ee5\u81f3\u4e8e\u89e6\u53d1Klipper\u7684\u6700\u5927\u6324\u51fa\u622a\u9762\u68c0\u67e5\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8f6f\u4ef6\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7f29\u56de\u65f6\u64e6\u62ed \"\u8bbe\u7f6e\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002","title":"\u7981\u7528\u4efb\u4f55\"\u63d0\u524d\u6324\u51fa\u538b\u529b\"\u7684\u8bbe\u7f6e"},{"location":"Status_Reference.html","text":"\u72b6\u6001\u53c2\u8003 \u00b6 \u672c\u6587\u6863\u662f\u53ef\u7528\u4e8e Klipper \u5b8f \u3001 \u663e\u793a\u5b57\u6bb5 \u4ee5\u53ca API\u670d\u52a1\u5668 \u7684\u6253\u5370\u673a\u72b6\u6001\u4fe1\u606f\u7684\u53c2\u8003\u3002 \u672c\u6587\u6863\u4e2d\u7684\u5b57\u6bb5\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u5316 - \u5982\u679c\u4f7f\u7528\u4e86\u4efb\u4f55\u5b57\u6bb5\uff0c\u5728\u66f4\u65b0 Klipper \u65f6\uff0c\u8bf7\u52a1\u5fc5\u67e5\u770b \u914d\u7f6e\u53d8\u5316\u6587\u6863 \u3002 angle \u00b6 angle some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1atle5012b \u78c1\u6027\u970d\u5c14\u4f20\u611f\u5668\u7684\u6700\u540e\u4e00\u6b21\u6e29\u5ea6\u8bfb\u6570\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\uff09\u3002\u8be5\u503c\u4ec5\u5728\u89d2\u5ea6\u4f20\u611f\u5668\u662f tle5012b \u82af\u7247\u5e76\u4e14\u6b63\u5728\u8fdb\u884c\u6d4b\u91cf\u65f6\u53ef\u7528\uff08\u5426\u5219\u5b83\u4f1a\u62a5\u544a None \uff09\u3002 bed_mesh \u00b6 bed_mesh \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a profile_name \u3001 mesh_min \u3001 mesh_max \u3001 probed_matrix \u3001 mesh_matrix \uff1a\u5173\u4e8e\u5f53\u524d\u6d3b\u8dc3\u7684 bed_mesh \u914d\u7f6e\u4fe1\u606f\u3002 profiles \uff1a\u5f53\u524d\u5b9a\u4e49\u7684\u914d\u7f6e\uff0c\u4f7f\u7528 BED_MESH_PROFILE \u8fdb\u884c\u8bbe\u7f6e\u3002 configfile \u00b6 configfile \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a settings.<\u5206\u6bb5>.<\u9009\u9879> \uff1a\u8fd4\u56de\u6700\u540e\u4e00\u6b21\u8f6f\u4ef6\u542f\u52a8\u6216\u91cd\u542f\u65f6\u7ed9\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\uff08\u6216\u9ed8\u8ba4\u503c\uff09\u3002(\u4e0d\u4f1a\u53cd\u6620\u8fd0\u884c\u65f6\u7684\u4fee\u6539\u3002\uff09 config.<\u5206\u6bb5>.<\u9009\u9879> \uff1a\u8fd4\u56deKlipper\u5728\u4e0a\u6b21\u8f6f\u4ef6\u542f\u52a8\u6216\u91cd\u542f\u65f6\u8bfb\u53d6\u7684\u539f\u59cb\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u3002(\u4e0d\u4f1a\u53cd\u6620\u8fd0\u884c\u65f6\u7684\u4fee\u6539\u3002)\u6240\u6709\u503c\u90fd\u4ee5\u5b57\u7b26\u4e32\u5f62\u5f0f\u8fd4\u56de\u3002 save_config_pending \uff1a\u5982\u679c\u5b58\u5728\u53ef\u4ee5\u901a\u8fc7 SAVE_CONFIG \u547d\u4ee4\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u7684\u66f4\u65b0\uff0c\u5219\u8fd4\u56de True\u3002 save_config_pending_items \uff1a\u5305\u542b\u5df2\u66f4\u6539\u5e76\u53ef\u4ee5\u7531 SAVE_CONFIG \u4fdd\u5b58\u7684\u5206\u6bb5\u548c\u9009\u9879\u3002 warnings \uff1a\u6709\u5173\u914d\u7f6e\u9009\u9879\u7684\u8b66\u544a\u5217\u8868\u3002\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u90fd\u5c06\u662f\u4e00\u4e2a dictionary\uff0c\u5176\u4e2d\u5305\u542b type \u548c message \u5b57\u6bb5\uff08\u90fd\u662f\u5b57\u7b26\u4e32\uff09\u3002\u6839\u636e\u8b66\u544a\u7c7b\u578b\uff0c\u53ef\u80fd\u8fd8\u6709\u5176\u4ed6\u53ef\u7528\u5b57\u6bb5\u3002 display_status \u00b6 display_status \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 display \u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u8be5\u5bf9\u8c61\u81ea\u52a8\u53ef\u7528\uff09\uff1a progress \uff1a\u6700\u540e\u4e00\u4e2a M73 G\u4ee3\u7801\u547d\u4ee4\u62a5\u544a\u7684\u8fdb\u5ea6\uff08\u5982\u679c\u6ca1\u6709\u6536\u5230 M73 \uff0c\u5219\u4f1a\u7528 virtual_sdcard.progress \u66ff\u4ee3\uff09\u3002 message \uff1a\u6700\u540e\u4e00\u6761 M117 G\u4ee3\u7801\u547d\u4ee4\u4e2d\u5305\u542b\u7684\u6d88\u606f\u3002 endstop_phase \u00b6 endstop_phase \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a last_home.<\u6b65\u8fdb\u7535\u673a\u540d>.phase \uff1a\u6700\u540e\u4e00\u6b21\u5f52\u4e3a\u5c1d\u8bd5\u7ed3\u675f\u65f6\u6b65\u8fdb\u7535\u673a\u7684\u76f8\u4f4d\u3002 last_home.<\u6b65\u8fdb\u7535\u673a\u540d\u79f0>.phase \uff1a\u6b65\u8fdb\u7535\u673a\u4e0a\u53ef\u7528\u7684\u603b\u76f8\u6570\u3002 last_home.<\u6b65\u8fdb\u7535\u673a\u540d\u79f0>.mcu_position \uff1a\u6b65\u8fdb\u7535\u673a\u5728\u4e0a\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u7ed3\u675f\u65f6\u7684\u4f4d\u7f6e\uff08\u7531\u5fae\u63a7\u5236\u5668\u8ddf\u8e2a\uff09\u3002\u8be5\u4f4d\u7f6e\u662f\u81ea\u5fae\u63a7\u5236\u5668\u6700\u540e\u4e00\u6b21\u91cd\u542f\u4ee5\u6765\uff0c\u5411\u524d\u8d70\u7684\u603b\u6b65\u6570\u51cf\u53bb\u53cd\u5411\u8d70\u7684\u603b\u6b65\u6570\u3002 exclude_object \u00b6 \u4ee5\u4e0b\u4fe1\u606f\u53ef\u5728 exclude_object \u5bf9\u8c61\u4e2d\u627e\u5230\uff1a objects \uff1a EXCLUDE_OBJECT_DEFINE \u547d\u4ee4\u63d0\u4f9b\u7684\u5df2\u77e5\u5bf9\u8c61\u6570\u7ec4\u3002\u8fd9\u4e0e EXCLUDE_OBJECT VERBOSE=1 \u547d\u4ee4\u63d0\u4f9b\u7684\u4fe1\u606f\u76f8\u540c\u3002 center \u548c polygon \u5b57\u6bb5\u53ea\u6709\u5728\u539f\u59cb EXCLUDE_OBJECT_DEFINE \u4e2d\u63d0\u4f9b\u65f6\u624d\u4f1a\u51fa\u73b0\u8fd9\u91cc\u6709\u4e00\u4e2aJSON\u6837\u672c\uff1a [ { \"polygon\": [ [ 156.25, 146.2511675 ], [ 156.25, 153.7488325 ], [ 163.75, 153.7488325 ], [ 163.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_2_COPY_0\", \"center\": [ 160, 150 ] }, { \"polygon\": [ [ 146.25, 146.2511675 ], [ 146.25, 153.7488325 ], [ 153.75, 153.7488325 ], [ 153.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_1_COPY_0\", \"center\": [ 150, 150 ] } ] excluded_objects \uff1a\u5217\u51fa\u5df2\u6392\u9664\u5bf9\u8c61\u540d\u79f0\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\u3002 current_object \uff1a\u5f53\u524d\u6b63\u5728\u6253\u5370\u7684\u5bf9\u8c61\u7684\u540d\u79f0\u3002 fan \u00b6 fan \u3001 heater_fan some_name \u548c controller_fan some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a speed \uff1a\u98ce\u6247\u901f\u5ea6\uff0c0.0\u548c1.0\u4e4b\u95f4\u7684\u6d6e\u70b9\u6570\u3002 rpm \uff1a\u5982\u679c\u98ce\u6247\u6709\u4e00\u4e2a tachometer_pin\uff0c\u5219\u6d4b\u91cf\u7684\u98ce\u6247\u901f\u5ea6\uff0c\u5355\u4f4d\u662f\u6bcf\u5206\u949f\u8f6c\u6570\u3002 filament_switch_sensor \u00b6 filament_switch_sensor some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a enabled \uff1a\u5982\u679c\u5f00\u5173\u4f20\u611f\u5668\u5f53\u524d\u5df2\u542f\u7528\uff0c\u5219\u8fd4\u56deTrue\u3002 filament_detected \uff1a\u5982\u679c\u4f20\u611f\u5668\u5904\u4e8e\u89e6\u53d1\u72b6\u6001\uff0c\u5219\u8fd4\u56de True\u3002 filament_motion_sensor \u00b6 filament_motion_sensor \u4f20\u611f\u5668\u540d \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a enabled \uff1a\u5982\u679c\u5f53\u524d\u542f\u7528\u4e86\u8fd0\u52a8\u4f20\u611f\u5668\uff0c\u5219\u8fd4\u56de True\u3002 filament_detected \uff1a\u5982\u679c\u4f20\u611f\u5668\u5904\u4e8e\u89e6\u53d1\u72b6\u6001\uff0c\u5219\u8fd4\u56de True\u3002 firmware_retraction \u00b6 firmware_retraction \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a retract_length \u3001 retract_speed \u3001 unretract_extra_length \u3001 unretract_speed \uff1afirmware_retraction \u6a21\u5757\u7684\u5f53\u524d\u8bbe\u7f6e\u3002\u5982\u679c SET_RETRACTION \u547d\u4ee4\u6539\u53d8\u5b83\u4eec\uff0c\u8fd9\u4e9b\u8bbe\u7f6e\u53ef\u80fd\u4e0e\u914d\u7f6e\u6587\u4ef6\u4e0d\u540c\u3002 gcode_macro \u00b6 [gcode_macro <\u540d\u79f0> \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a <\u53d8\u91cf\u540d> \uff1a gcode_macro \u53d8\u91cf \u7684\u5f53\u524d\u503c\u3002 gcode_move \u00b6 gcode_move \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a gcode_position \uff1a\u5de5\u5177\u5934\u76f8\u5bf9\u4e8e\u5f53\u524d G \u4ee3\u7801\u539f\u70b9\u7684\u5f53\u524d\u4f4d\u7f6e\u3002\u4e5f\u5c31\u662f\u53ef\u4ee5\u76f4\u63a5\u88ab\u53d1\u9001\u5230 G1 \u547d\u4ee4\u7684\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u522b\u8bbf\u95ee\u8fd9\u4e2a\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u5206\u91cf\uff08\u4f8b\u5982\uff0c gcode_position.x \uff09\u3002 position \uff1a\u6253\u5370\u5934\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5750\u6807\u7cfb\u4e2d\u7684\u6700\u540e\u6307\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2a\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u5206\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 homing_origin \uff1a\u5728 G28 \u547d\u4ee4\u4e4b\u540e\u8981\u4f7f\u7528\u7684 G-Code \u5750\u6807\u7cfb\u7684\u539f\u70b9\uff08\u76f8\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5750\u6807\u7cfb\uff09\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u522b\u8bbf\u95ee\u8fd9\u4e2a\u4f4d\u7f6e\u7684x\u3001y\u548cz\u5206\u91cf\uff08\u4f8b\u5982\uff0c homing_origin.x \uff09\u3002 speed \uff1a\u5728 G1 \u547d\u4ee4\u4e2d\u6700\u540e\u4e00\u6b21\u8bbe\u5b9a\u7684\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002 speed_factor \uff1a\u901a\u8fc7 M220 \u547d\u4ee4\u8bbe\u7f6e\u7684\"\u901f\u5ea6\u56e0\u5b50\u8986\u76d6\"\u3002\u8fd9\u662f\u4e00\u4e2a\u6d6e\u70b9\u503c\uff0c1.0 \u610f\u5473\u7740\u6ca1\u6709\u8986\u76d6\uff0c\u4f8b\u5982\uff0c2.0 \u5c06\u8bf7\u6c42\u7684\u901f\u5ea6\u7ffb\u500d\u3002 extrude_factor \uff1a\u7531 M221 \u547d\u4ee4\u8bbe\u7f6e\u7684\"\u6324\u51fa\u500d\u7387\u8986\u76d6\" \u3002\u8fd9\u662f\u4e00\u4e2a\u6d6e\u70b9\u503c\uff0c1.0\u610f\u5473\u7740\u6ca1\u6709\u8986\u76d6\uff0c\u4f8b\u5982\uff0c2.0\u5c06\u4f7f\u8981\u6c42\u7684\u6324\u51fa\u91cf\u7ffb\u500d\u3002 absolute_coordinates \uff1a\u5982\u679c\u5728 G90 \u7edd\u5bf9\u5750\u6807\u6a21\u5f0f\u4e0b\uff0c\u5219\u8fd4\u56de True\uff1b\u5982\u679c\u5728 G91 \u76f8\u5bf9\u6a21\u5f0f\u4e0b\uff0c\u5219\u8fd4\u56de False\u3002 absolute_extrude \uff1a\u5982\u679c\u5728 M82 \u7edd\u5bf9\u6324\u51fa\u6a21\u5f0f\uff0c\u5219\u8fd4\u56deTrue\uff1b\u5982\u679c\u5728 M83 \u76f8\u5bf9\u6a21\u5f0f\uff0c\u5219\u8fd4\u56deFalse\u3002 hall_filament_width_sensor \u00b6 hall_filament_width_sensor \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a is_active \uff1a\u5982\u679c\u4f20\u611f\u5668\u5f53\u524d\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff0c\u8fd4\u56deTrue\u3002 Diameter \uff1a\u4e0a\u4e00\u6b21\u4f20\u611f\u5668\u8bfb\u6570\uff0c\u5355\u4f4d\u4e3a mm\u3002 Raw \uff1a\u4e0a\u4e00\u6b21\u4f20\u611f\u5668\u539f\u59cb ADC \u8bfb\u6570\u3002 heater \u00b6 \u52a0\u70ed\u5668\u5bf9\u8c61\uff0c\u5982 extruder \u3001 heater_bed \u548c heater_generic \uff0c\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1a\u7ed9\u5b9a\u52a0\u70ed\u5668\u6700\u540e\u62a5\u544a\u7684\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\u7684\u6d6e\u70b9\u6570\uff09\u3002 target \uff1a\u7ed9\u5b9a\u52a0\u70ed\u5668\u7684\u5f53\u524d\u76ee\u6807\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\u7684\u6d6e\u70b9\u6570\uff09\u3002 power \uff1a\u4e0e\u52a0\u70ed\u5668\u76f8\u5173\u7684 PWM \u5f15\u811a\u7684\u6700\u540e\u8bbe\u7f6e\uff080.0\u548c1.0\u4e4b\u95f4\u7684\u6570\u503c\uff09\u3002 can_extrude \uff1a\u6324\u51fa\u673a\u662f\u5426\u53ef\u4ee5\u6324\u51fa\uff08\u7531 min_extrude_temp \u5b9a\u4e49\uff09\uff0c\u4ec5\u53ef\u7528\u4e8e extruder heaters \u00b6 heaters \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86\u4efb\u4f55\u52a0\u70ed\u5668\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a available_heaters \uff1a\u8fd4\u56de\u6240\u6709\u5f53\u524d\u53ef\u7528\u52a0\u70ed\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\uff0c\u4f8b\u5982 [\"extruder\"\u3001\"heater_bed\"\u3001\"heater_generic my_custom_heater\"] \u3002 available_sensors \uff1a\u8fd4\u56de\u6240\u6709\u5f53\u524d\u53ef\u7528\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\u5217\u8868\uff0c\u4f8b\u5982\uff1a [\"extruder\", \"heater_bed\", \"heater_generic my_custom_heater\", \"temperature_sensor electronics_temp\"] \u3002 idle_timeout \u00b6 idle_timeout \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a state \uff1a\u7531 idle_timeout \u6a21\u5757\u8ddf\u8e2a\u7684\u6253\u5370\u673a\u7684\u5f53\u524d\u72b6\u6001\u3002\u5b83\u53ef\u4ee5\u662f\u4ee5\u4e0b\u5b57\u7b26\u4e32\u4e4b\u4e00\uff1a\"Idle\", \"Printing\", \"Ready\"\u3002 printing_time \uff1a\u6253\u5370\u673a\u5904\u4e8e\u201cPrinting\u201d\u72b6\u6001\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\uff08\u7531 idle_timeout \u6a21\u5757\u8ddf\u8e2a\uff09\u3002 led \u00b6 \u4ee5\u4e0b\u4fe1\u606f\u9002\u7528\u4e8e\u6bcf\u4e2a\u5728printer.cfg\u4e2d\u5b9a\u4e49\u4e86\u7684 [led led_name] \u3001 [neopixel led_name] \u3001 [dotstar led_name] \u3001 [pca9533 led_name] , \u548c [pca9632 led_name] \u914d\u7f6e\u5206\u6bb5\uff1a color_data \uff1a\u4e00\u4e2a\u5305\u542b\u94fe\u4e2d\u6bcf\u4e2aLED\u7684RGBW\u503c\u7684\u989c\u8272\u5217\u8868\u7684\u5217\u8868\u3002\u6bcf\u4e2a\u503c\u90fd\u4ee50.0\u52301.0\u7684\u6d6e\u70b9\u6570\u8868\u793a\u3002\u6bcf\u4e2a\u989c\u8272\u5217\u8868\u5305\u542b4\u4e2a\u9879\u76ee\uff08\u7ea2\u3001\u7eff\u3001\u84dd\u3001\u767d\uff09\uff0c\u5373\u4f7f\u5e95\u5c42\u7684LED\u652f\u6301\u8f83\u5c11\u7684\u989c\u8272\u901a\u9053\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u901a\u8fc7 printer[\"neopixel <\u914d\u7f6e\u540d>\"].color_data[1][2] \u8bbf\u95ee\u94fe\u4e2d\u7b2c\u4e8c\u4e2aneopixel\u7684\u84dd\u8272\u503c\uff08\u989c\u8272\u5217\u8868\u4e2d\u7684\u7b2c\u4e09\u9879\uff09\u3002 mcu \u00b6 mcu \u548c mcu some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a mcu_version \uff1a\u7531\u5fae\u63a7\u5236\u5668\u62a5\u544a\u7684 Klipper \u4ee3\u7801\u7248\u672c\u3002 mcu_build_versions \uff1a\u6709\u5173\u7528\u4e8e\u751f\u6210\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u7684\u6784\u5efa\u5de5\u5177\u7684\u4fe1\u606f\uff08\u7531\u5fae\u63a7\u5236\u5668\u62a5\u544a\uff09\u3002 mcu_constants.<\u5e38\u91cf\u540d> \uff1a\u7531\u5fae\u63a7\u5236\u5668\u62a5\u544a\u7f16\u8bd1\u65f6\u4f7f\u7528\u7684\u5e38\u91cf\u3002\u53ef\u7528\u7684\u5e38\u91cf\u5728\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u67b6\u6784\u548c\u6bcf\u4e2a\u4ee3\u7801\u4fee\u8ba2\u7248\u4e2d\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002 last_stats.<\u7edf\u8ba1\u4fe1\u606f\u540d> \uff1a\u5173\u4e8e\u5fae\u63a7\u5236\u5668\u8fde\u63a5\u7684\u7edf\u8ba1\u4fe1\u606f\u3002 motion_report \u00b6 motion_report \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86\u4efb\u4f55\u6b65\u8fdb\u5668\u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u8be5\u5bf9\u8c61\u81ea\u52a8\u53ef\u7528\uff09\uff1a live_position \uff1a\u8bf7\u6c42\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u63d2\u503c\u5230\u5f53\u524d\u65f6\u95f4\u540e\u7684\u4f4d\u7f6e\u3002 live_velocity \uff1a\u5f53\u524d\u8bf7\u6c42\u7684\u6253\u5370\u5934\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73/\u79d2\u4e3a\u5355\u4f4d\uff09\u3002 live_extruder_velocity \uff1a\u5f53\u524d\u8bf7\u6c42\u7684\u6324\u51fa\u673a\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002 output_pin \u00b6 [output_pin <\u914d\u7f6e\u540d\u79f0> \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff1a value \uff1a\u7531 SET_PIN \u6307\u4ee4\u8bbe\u7f6e\u7684\u5f15\u811a\u201c\u503c\u201d\u3002 palette2 \u00b6 palette2 \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a ping \u3002\u6700\u540e\u4e00\u6b21\u62a5\u544a\u7684Palette 2 ping\u503c\uff08\u767e\u5206\u6bd4\uff09\u3002 remaining_load_length \uff1a\u5f53\u5f00\u59cb\u4e00\u4e2a\u4f7f\u7528 Palette 2 \u7684\u6253\u5370\u65f6\uff0c\u8fd9\u662f\u9700\u8981\u52a0\u8f7d\u5230\u6324\u51fa\u673a\u4e2d\u7684\u8017\u6750\u957f\u5ea6\u3002 is_splicing \uff1a\u5f53Palette 2\u6b63\u5728\u62fc\u63a5\u8017\u6750\u65f6\u4e3a True\u3002 pause_resume \u00b6 palette2 \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a is_paused \uff1a\u5982\u679c\u6267\u884c\u4e86 PAUSE \u547d\u4ee4\u800c\u6ca1\u6709\u6267\u884c RESUME\uff0c\u5219\u8fd4\u56de True\u3002 print_stats \u00b6 print_stats \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u6b64\u5bf9\u8c61\u81ea\u52a8\u53ef\u7528\uff09\uff1a filename \u3001 total_duration \u3001 print_duration \u3001 filament_used \u3001 state \u3001 message \uff1avirtual_sdcard \u6253\u5370\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u65f6\u6709\u5173\u5f53\u524d\u6253\u5370\u7684\u4f30\u6d4b\u3002 probe \u00b6 probe \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 bltouch \u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u6b64\u5bf9\u8c61\u4e5f\u53ef\u7528\uff09\uff1a last_query \uff1a\u5982\u679c\u63a2\u9488\u5728\u4e0a\u4e00\u4e2a QUERY_PROBE \u547d\u4ee4\u671f\u95f4\u62a5\u544a\u4e3a\"\u5df2\u89e6\u53d1\"\uff0c\u5219\u8fd4\u56de True\u3002\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\u5b83\uff0c\u6839\u636e\u6a21\u677f\u5c55\u5f00\u7684\u987a\u5e8f\uff0c\u5fc5\u987b\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u8fd0\u884c QUERY_PROBE \u547d\u4ee4\u3002 last_z_result \uff1a\u8fd4\u56de\u4e0a\u4e00\u6b21 PROBE \u547d\u4ee4\u7684\u7ed3\u679c Z \u503c\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u6a21\u677f\u5c55\u5f00\u7684\u987a\u5e8f\uff0c\u5728\u5b8f\u4e2d\u4f7f\u7528\u65f6\u5fc5\u987b\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u8fd0\u884c PROBE\uff08\u6216\u7c7b\u4f3c\uff09\u547d\u4ee4\u3002 quad_gantry_level \u00b6 quad_gantry_level \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 quad_gantry_level\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c\u9f99\u95e8\u8c03\u5e73\u5df2\u8fd0\u884c\u5e76\u6210\u529f\u5b8c\u6210\uff0c\u5219\u4e3a True\u3002 query_endstops \u00b6 query_endstops \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86\u4efb\u4f55\u9650\u4f4d\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a last_query[\"<\u9650\u4f4d>\"] \uff1a\u5982\u679c\u5728\u6700\u540e\u4e00\u6b21 QUERY_ENDSTOP \u547d\u4ee4\u4e2d\uff0c\u7ed9\u5b9a\u7684 endstop \u5904\u4e8e\u201c\u89e6\u53d1\u201d\u72b6\u6001\uff0c\u5219\u8fd4\u56de True\u3002\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\uff0c\u7531\u4e8e\u6a21\u677f\u6269\u5c55\u7684\u987a\u5e8f\uff0cQUERY_ENDSTOP \u547d\u4ee4\u5fc5\u987b\u5728\u5305\u542b\u8fd9\u4e2a\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u8fd0\u884c\u3002 servo \u00b6 servo some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a printer[\"servo <\u914d\u7f6e\u540d>\"].value \uff1a\u4e0e\u6307\u5b9a\u4f3a\u670d\u76f8\u5173 PWM \u5f15\u811a\u7684\u4e0a\u4e00\u6b21\u8bbe\u7f6e\u7684\u503c\uff080.0 \u548c 1.0 \u4e4b\u95f4\u7684\u503c\uff09\u3002 system_stats \u00b6 system_stats \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a sysload \u3001 cputime \u3001 memavail \uff1a\u5173\u4e8e\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u548c\u8fdb\u7a0b\u8d1f\u8f7d\u7684\u4fe1\u606f\u3002 \u6e29\u5ea6\u4f20\u611f\u5668 \u00b6 \u4ee5\u4e0b\u4fe1\u606f\u53ef\u5728 bme280 config_section_name \u3001 htu21d config_section_name \u3001 lm75 config_section_name \u548c temperature_host config_section_name \u5bf9\u8c61\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u4ece\u4f20\u611f\u5668\u8bfb\u53d6\u7684\u6e29\u5ea6\u3002 hemidity \u3001 pressure \u548c gas \uff1a\u4f20\u611f\u5668\u4e0a\u4e00\u6b21\u8bfb\u53d6\u7684\u503c\uff08\u4ec5\u5728bme280\u3001htu21d\u548clm75\u4f20\u611f\u5668\u4e0a\uff09\u3002 temperature_fan \u00b6 temperature_fan some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u4ece\u4f20\u611f\u5668\u8bfb\u53d6\u7684\u6e29\u5ea6\u3002 target \uff1a\u98ce\u6247\u76ee\u6807\u6e29\u5ea6\u3002 temperature_sensor \u00b6 temperature_sensor some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u4ece\u4f20\u611f\u5668\u8bfb\u53d6\u7684\u6e29\u5ea6\u3002 measured_min_temp \u548c measured_max_temp \uff1a\u81eaKlipper\u4e3b\u673a\u8f6f\u4ef6\u4e0a\u6b21\u91cd\u65b0\u542f\u52a8\u4ee5\u6765\uff0c\u4f20\u611f\u5668\u6d4b\u91cf\u7684\u6700\u4f4e\u548c\u6700\u9ad8\u6e29\u5ea6\u3002 tmc \u9a71\u52a8 \u00b6 TMC \u6b65\u8fdb\u9a71\u52a8 \u5bf9\u8c61\uff08\u4f8b\u5982\uff0c [tmc2208 stepper_x] \uff09\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a mcu_phase_offset \uff1a\u5fae\u63a7\u5236\u5668\u6b65\u8fdb\u4f4d\u7f6e\u4e0e\u9a71\u52a8\u5668\u7684\"\u96f6\"\u76f8\u4f4d\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5219\u6b64\u5b57\u6bb5\u53ef\u80fd\u4e3a\u7a7a\u3002 phase_offset_position \uff1a\u5bf9\u5e94\u7535\u673a\u201c\u96f6\u201d\u76f8\u4f4d\u7684\u201c\u6307\u4ee4\u4f4d\u7f6e\u201d\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5219\u8be5\u5b57\u6bb5\u53ef\u4ee5\u4e3a\u7a7a\u3002 drv_status \uff1a\u4e0a\u6b21\u9a71\u52a8\u72b6\u6001\u67e5\u8be2\u7ed3\u679c\u3002\uff08\u4ec5\u62a5\u544a\u975e\u96f6\u5b57\u6bb5\u3002\u5982\u679c\u9a71\u52a8\u6ca1\u6709\u88ab\u542f\u7528\uff08\u56e0\u6b64\u6ca1\u6709\u8f6e\u8be2\uff09\uff0c\u5219\u6b64\u5b57\u6bb5\u5c06\u4e3a null\u3002 run_current \uff1a\u5f53\u524d\u8bbe\u7f6e\u7684\u8fd0\u884c\u7535\u6d41\u3002 hold_current \uff1a\u5f53\u524d\u8bbe\u7f6e\u7684\u4fdd\u6301\u7535\u6d41\u3002 toolhead \u00b6 toolhead \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a position \uff1a\u6253\u5370\u5934\u76f8\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u5750\u6807\u7cfb\u7684\u6700\u540e\u547d\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8bbf\u95ee\u8be5\u4f4d\u7f6e\u7684 x\u3001y\u3001z \u548c e \u5206\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 extruder \uff1a\u5f53\u524d\u6d3b\u8dc3\u7684\u6324\u51fa\u673a\u7684\u540d\u79f0\u3002\u4f8b\u5982\uff0c\u5728\u5b8f\u4e2d\u53ef\u4ee5\u4f7f\u7528 printer[printer.toolhead.extruder].target \u6765\u83b7\u53d6\u5f53\u524d\u6324\u51fa\u673a\u7684\u76ee\u6807\u6e29\u5ea6\u3002 homed_axes \uff1a\u5f53\u524d\u88ab\u8ba4\u4e3a\u5904\u4e8e\u201c\u5df2\u5f52\u4f4d\u201d\u72b6\u6001\u7684\u8f66\u8f74\u3002\u8fd9\u662f\u4e00\u4e2a\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\"x\"\u3001\"y\"\u3001\"z\"\u7684\u5b57\u7b26\u4e32\u3002 axis_minimum \u3001 axis_maximum \uff1a\u5f52\u4f4d\u540e\u7684\u8f74\u7684\u884c\u7a0b\u9650\u5236\uff08\u6beb\u7c73\uff09\u3002\u53ef\u4ee5\u8bbf\u95ee\u6b64\u6781\u9650\u503c\u7684 x\u3001y\u3001z \u5206\u91cf\uff08\u4f8b\u5982\uff0c axis_minimum.x \u3001 axis_maximum.z \uff09\u3002 max_velocity \u3001 max_accel \u3001 max_accel_to_decel \u548c square_corner_velocity \uff1a\u5f53\u524d\u751f\u6548\u7684\u6253\u5370\u673a\u9650\u5236\u3002\u5982\u679c SET_VELOCITY_LIMIT \uff08\u6216 M204 \uff09\u547d\u4ee4\u5728\u8fd0\u884c\u65f6\u6539\u53d8\u5b83\u4eec\uff0c\u8fd9\u4e9b\u503c\u53ef\u80fd\u4e0e\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u4e0d\u540c\u3002 stalls \uff1a\u7531\u4e8e\u5de5\u5177\u5934\u79fb\u52a8\u901f\u5ea6\u5feb\u4e8e\u4ece G \u4ee3\u7801\u8f93\u5165\u8bfb\u53d6\u7684\u79fb\u52a8\u901f\u5ea6\uff0c\u56e0\u6b64\u6253\u5370\u673a\u5fc5\u987b\u6682\u505c\u7684\u603b\u6b21\u6570\uff08\u81ea\u4e0a\u6b21\u91cd\u65b0\u542f\u52a8\u4ee5\u6765\uff09\u3002 dual_carriage \u00b6 \u4f7f\u7528\u4e86 hybrid_corexy \u6216 hybrid_corexz \u8fd0\u52a8\u5b66\u7684 dual_carriage \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f mode \uff1a\u5f53\u524d\u6a21\u5f0f\u3002\u53ef\u80fd\u7684\u503c\uff1a\"FULL_CONTROL\" active_carriage \uff1a\u5f53\u524d\u7684\u6d3b\u8dc3\u7684\u6ed1\u8f66\u3002\u53ef\u80fd\u7684\u503c\u662f\"CARRIAGE_0\"\u548c\"CARRIAGE_1\" virtual_sdcard \u00b6 virtual_sdcard \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a is_active \uff1a\u5982\u679c\u6b63\u5728\u4ece\u6587\u4ef6\u8fdb\u884c\u6253\u5370\uff0c\u5219\u8fd4\u56de True\u3002 progress \uff1a\u5bf9\u5f53\u524d\u6253\u5370\u8fdb\u5ea6\u7684\u4f30\u8ba1\uff08\u57fa\u4e8e\u6587\u4ef6\u5927\u5c0f\u548c\u6587\u4ef6\u4f4d\u7f6e\uff09\u3002 file_path \uff1a\u5f53\u524d\u52a0\u8f7d\u7684\u6587\u4ef6\u7684\u5b8c\u6574\u8def\u5f84\u3002 file_position \uff1a\u5f53\u524d\u6253\u5370\u7684\u4f4d\u7f6e\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002 file_size \uff1a\u5f53\u524d\u52a0\u8f7d\u7684\u6587\u4ef6\u7684\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002 webhooks \u00b6 system_stats \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a state \uff1a\u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u5f53\u524d Klipper \u72b6\u6001\u7684\u5b57\u7b26\u4e32\u3002\u53ef\u80fd\u7684\u503c\u4e3a\uff1a\"ready\"\u3001\"startup\"\u3001\"shutdown\"\u548c\"error\"\u3002 state_message \uff1a\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5305\u542b\u5f53\u524d Klipper \u72b6\u6001\u548c\u4e0a\u4e0b\u6587\u7684\u53ef\u8bfb\u5b57\u7b26\u4e32\u3002 z_tilt \u00b6 z_tilt \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 z_tilt\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c z \u503e\u659c\u8c03\u5e73\u8fc7\u7a0b\u5df2\u8fd0\u884c\u5e76\u6210\u529f\u5b8c\u6210\uff0c\u5219\u4e3a True\u3002","title":"\u72b6\u6001\u53c2\u8003"},{"location":"Status_Reference.html#_1","text":"\u672c\u6587\u6863\u662f\u53ef\u7528\u4e8e Klipper \u5b8f \u3001 \u663e\u793a\u5b57\u6bb5 \u4ee5\u53ca API\u670d\u52a1\u5668 \u7684\u6253\u5370\u673a\u72b6\u6001\u4fe1\u606f\u7684\u53c2\u8003\u3002 \u672c\u6587\u6863\u4e2d\u7684\u5b57\u6bb5\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u5316 - \u5982\u679c\u4f7f\u7528\u4e86\u4efb\u4f55\u5b57\u6bb5\uff0c\u5728\u66f4\u65b0 Klipper \u65f6\uff0c\u8bf7\u52a1\u5fc5\u67e5\u770b \u914d\u7f6e\u53d8\u5316\u6587\u6863 \u3002","title":"\u72b6\u6001\u53c2\u8003"},{"location":"Status_Reference.html#angle","text":"angle some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1atle5012b \u78c1\u6027\u970d\u5c14\u4f20\u611f\u5668\u7684\u6700\u540e\u4e00\u6b21\u6e29\u5ea6\u8bfb\u6570\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\uff09\u3002\u8be5\u503c\u4ec5\u5728\u89d2\u5ea6\u4f20\u611f\u5668\u662f tle5012b \u82af\u7247\u5e76\u4e14\u6b63\u5728\u8fdb\u884c\u6d4b\u91cf\u65f6\u53ef\u7528\uff08\u5426\u5219\u5b83\u4f1a\u62a5\u544a None \uff09\u3002","title":"angle"},{"location":"Status_Reference.html#bed_mesh","text":"bed_mesh \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a profile_name \u3001 mesh_min \u3001 mesh_max \u3001 probed_matrix \u3001 mesh_matrix \uff1a\u5173\u4e8e\u5f53\u524d\u6d3b\u8dc3\u7684 bed_mesh \u914d\u7f6e\u4fe1\u606f\u3002 profiles \uff1a\u5f53\u524d\u5b9a\u4e49\u7684\u914d\u7f6e\uff0c\u4f7f\u7528 BED_MESH_PROFILE \u8fdb\u884c\u8bbe\u7f6e\u3002","title":"bed_mesh"},{"location":"Status_Reference.html#configfile","text":"configfile \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a settings.<\u5206\u6bb5>.<\u9009\u9879> \uff1a\u8fd4\u56de\u6700\u540e\u4e00\u6b21\u8f6f\u4ef6\u542f\u52a8\u6216\u91cd\u542f\u65f6\u7ed9\u5b9a\u7684\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\uff08\u6216\u9ed8\u8ba4\u503c\uff09\u3002(\u4e0d\u4f1a\u53cd\u6620\u8fd0\u884c\u65f6\u7684\u4fee\u6539\u3002\uff09 config.<\u5206\u6bb5>.<\u9009\u9879> \uff1a\u8fd4\u56deKlipper\u5728\u4e0a\u6b21\u8f6f\u4ef6\u542f\u52a8\u6216\u91cd\u542f\u65f6\u8bfb\u53d6\u7684\u539f\u59cb\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u3002(\u4e0d\u4f1a\u53cd\u6620\u8fd0\u884c\u65f6\u7684\u4fee\u6539\u3002)\u6240\u6709\u503c\u90fd\u4ee5\u5b57\u7b26\u4e32\u5f62\u5f0f\u8fd4\u56de\u3002 save_config_pending \uff1a\u5982\u679c\u5b58\u5728\u53ef\u4ee5\u901a\u8fc7 SAVE_CONFIG \u547d\u4ee4\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u7684\u66f4\u65b0\uff0c\u5219\u8fd4\u56de True\u3002 save_config_pending_items \uff1a\u5305\u542b\u5df2\u66f4\u6539\u5e76\u53ef\u4ee5\u7531 SAVE_CONFIG \u4fdd\u5b58\u7684\u5206\u6bb5\u548c\u9009\u9879\u3002 warnings \uff1a\u6709\u5173\u914d\u7f6e\u9009\u9879\u7684\u8b66\u544a\u5217\u8868\u3002\u5217\u8868\u4e2d\u7684\u6bcf\u4e2a\u6761\u76ee\u90fd\u5c06\u662f\u4e00\u4e2a dictionary\uff0c\u5176\u4e2d\u5305\u542b type \u548c message \u5b57\u6bb5\uff08\u90fd\u662f\u5b57\u7b26\u4e32\uff09\u3002\u6839\u636e\u8b66\u544a\u7c7b\u578b\uff0c\u53ef\u80fd\u8fd8\u6709\u5176\u4ed6\u53ef\u7528\u5b57\u6bb5\u3002","title":"configfile"},{"location":"Status_Reference.html#display_status","text":"display_status \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 display \u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u8be5\u5bf9\u8c61\u81ea\u52a8\u53ef\u7528\uff09\uff1a progress \uff1a\u6700\u540e\u4e00\u4e2a M73 G\u4ee3\u7801\u547d\u4ee4\u62a5\u544a\u7684\u8fdb\u5ea6\uff08\u5982\u679c\u6ca1\u6709\u6536\u5230 M73 \uff0c\u5219\u4f1a\u7528 virtual_sdcard.progress \u66ff\u4ee3\uff09\u3002 message \uff1a\u6700\u540e\u4e00\u6761 M117 G\u4ee3\u7801\u547d\u4ee4\u4e2d\u5305\u542b\u7684\u6d88\u606f\u3002","title":"display_status"},{"location":"Status_Reference.html#endstop_phase","text":"endstop_phase \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a last_home.<\u6b65\u8fdb\u7535\u673a\u540d>.phase \uff1a\u6700\u540e\u4e00\u6b21\u5f52\u4e3a\u5c1d\u8bd5\u7ed3\u675f\u65f6\u6b65\u8fdb\u7535\u673a\u7684\u76f8\u4f4d\u3002 last_home.<\u6b65\u8fdb\u7535\u673a\u540d\u79f0>.phase \uff1a\u6b65\u8fdb\u7535\u673a\u4e0a\u53ef\u7528\u7684\u603b\u76f8\u6570\u3002 last_home.<\u6b65\u8fdb\u7535\u673a\u540d\u79f0>.mcu_position \uff1a\u6b65\u8fdb\u7535\u673a\u5728\u4e0a\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u7ed3\u675f\u65f6\u7684\u4f4d\u7f6e\uff08\u7531\u5fae\u63a7\u5236\u5668\u8ddf\u8e2a\uff09\u3002\u8be5\u4f4d\u7f6e\u662f\u81ea\u5fae\u63a7\u5236\u5668\u6700\u540e\u4e00\u6b21\u91cd\u542f\u4ee5\u6765\uff0c\u5411\u524d\u8d70\u7684\u603b\u6b65\u6570\u51cf\u53bb\u53cd\u5411\u8d70\u7684\u603b\u6b65\u6570\u3002","title":"endstop_phase"},{"location":"Status_Reference.html#exclude_object","text":"\u4ee5\u4e0b\u4fe1\u606f\u53ef\u5728 exclude_object \u5bf9\u8c61\u4e2d\u627e\u5230\uff1a objects \uff1a EXCLUDE_OBJECT_DEFINE \u547d\u4ee4\u63d0\u4f9b\u7684\u5df2\u77e5\u5bf9\u8c61\u6570\u7ec4\u3002\u8fd9\u4e0e EXCLUDE_OBJECT VERBOSE=1 \u547d\u4ee4\u63d0\u4f9b\u7684\u4fe1\u606f\u76f8\u540c\u3002 center \u548c polygon \u5b57\u6bb5\u53ea\u6709\u5728\u539f\u59cb EXCLUDE_OBJECT_DEFINE \u4e2d\u63d0\u4f9b\u65f6\u624d\u4f1a\u51fa\u73b0\u8fd9\u91cc\u6709\u4e00\u4e2aJSON\u6837\u672c\uff1a [ { \"polygon\": [ [ 156.25, 146.2511675 ], [ 156.25, 153.7488325 ], [ 163.75, 153.7488325 ], [ 163.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_2_COPY_0\", \"center\": [ 160, 150 ] }, { \"polygon\": [ [ 146.25, 146.2511675 ], [ 146.25, 153.7488325 ], [ 153.75, 153.7488325 ], [ 153.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_1_COPY_0\", \"center\": [ 150, 150 ] } ] excluded_objects \uff1a\u5217\u51fa\u5df2\u6392\u9664\u5bf9\u8c61\u540d\u79f0\u7684\u5b57\u7b26\u4e32\u6570\u7ec4\u3002 current_object \uff1a\u5f53\u524d\u6b63\u5728\u6253\u5370\u7684\u5bf9\u8c61\u7684\u540d\u79f0\u3002","title":"exclude_object"},{"location":"Status_Reference.html#fan","text":"fan \u3001 heater_fan some_name \u548c controller_fan some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a speed \uff1a\u98ce\u6247\u901f\u5ea6\uff0c0.0\u548c1.0\u4e4b\u95f4\u7684\u6d6e\u70b9\u6570\u3002 rpm \uff1a\u5982\u679c\u98ce\u6247\u6709\u4e00\u4e2a tachometer_pin\uff0c\u5219\u6d4b\u91cf\u7684\u98ce\u6247\u901f\u5ea6\uff0c\u5355\u4f4d\u662f\u6bcf\u5206\u949f\u8f6c\u6570\u3002","title":"fan"},{"location":"Status_Reference.html#filament_switch_sensor","text":"filament_switch_sensor some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a enabled \uff1a\u5982\u679c\u5f00\u5173\u4f20\u611f\u5668\u5f53\u524d\u5df2\u542f\u7528\uff0c\u5219\u8fd4\u56deTrue\u3002 filament_detected \uff1a\u5982\u679c\u4f20\u611f\u5668\u5904\u4e8e\u89e6\u53d1\u72b6\u6001\uff0c\u5219\u8fd4\u56de True\u3002","title":"filament_switch_sensor"},{"location":"Status_Reference.html#filament_motion_sensor","text":"filament_motion_sensor \u4f20\u611f\u5668\u540d \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a enabled \uff1a\u5982\u679c\u5f53\u524d\u542f\u7528\u4e86\u8fd0\u52a8\u4f20\u611f\u5668\uff0c\u5219\u8fd4\u56de True\u3002 filament_detected \uff1a\u5982\u679c\u4f20\u611f\u5668\u5904\u4e8e\u89e6\u53d1\u72b6\u6001\uff0c\u5219\u8fd4\u56de True\u3002","title":"filament_motion_sensor"},{"location":"Status_Reference.html#firmware_retraction","text":"firmware_retraction \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a retract_length \u3001 retract_speed \u3001 unretract_extra_length \u3001 unretract_speed \uff1afirmware_retraction \u6a21\u5757\u7684\u5f53\u524d\u8bbe\u7f6e\u3002\u5982\u679c SET_RETRACTION \u547d\u4ee4\u6539\u53d8\u5b83\u4eec\uff0c\u8fd9\u4e9b\u8bbe\u7f6e\u53ef\u80fd\u4e0e\u914d\u7f6e\u6587\u4ef6\u4e0d\u540c\u3002","title":"firmware_retraction"},{"location":"Status_Reference.html#gcode_macro","text":"[gcode_macro <\u540d\u79f0> \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a <\u53d8\u91cf\u540d> \uff1a gcode_macro \u53d8\u91cf \u7684\u5f53\u524d\u503c\u3002","title":"gcode_macro"},{"location":"Status_Reference.html#gcode_move","text":"gcode_move \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a gcode_position \uff1a\u5de5\u5177\u5934\u76f8\u5bf9\u4e8e\u5f53\u524d G \u4ee3\u7801\u539f\u70b9\u7684\u5f53\u524d\u4f4d\u7f6e\u3002\u4e5f\u5c31\u662f\u53ef\u4ee5\u76f4\u63a5\u88ab\u53d1\u9001\u5230 G1 \u547d\u4ee4\u7684\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u522b\u8bbf\u95ee\u8fd9\u4e2a\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u5206\u91cf\uff08\u4f8b\u5982\uff0c gcode_position.x \uff09\u3002 position \uff1a\u6253\u5370\u5934\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5750\u6807\u7cfb\u4e2d\u7684\u6700\u540e\u6307\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e2a\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u5206\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 homing_origin \uff1a\u5728 G28 \u547d\u4ee4\u4e4b\u540e\u8981\u4f7f\u7528\u7684 G-Code \u5750\u6807\u7cfb\u7684\u539f\u70b9\uff08\u76f8\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u7684\u5750\u6807\u7cfb\uff09\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u53ef\u4ee5\u6539\u53d8\u8fd9\u4e2a\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u522b\u8bbf\u95ee\u8fd9\u4e2a\u4f4d\u7f6e\u7684x\u3001y\u548cz\u5206\u91cf\uff08\u4f8b\u5982\uff0c homing_origin.x \uff09\u3002 speed \uff1a\u5728 G1 \u547d\u4ee4\u4e2d\u6700\u540e\u4e00\u6b21\u8bbe\u5b9a\u7684\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002 speed_factor \uff1a\u901a\u8fc7 M220 \u547d\u4ee4\u8bbe\u7f6e\u7684\"\u901f\u5ea6\u56e0\u5b50\u8986\u76d6\"\u3002\u8fd9\u662f\u4e00\u4e2a\u6d6e\u70b9\u503c\uff0c1.0 \u610f\u5473\u7740\u6ca1\u6709\u8986\u76d6\uff0c\u4f8b\u5982\uff0c2.0 \u5c06\u8bf7\u6c42\u7684\u901f\u5ea6\u7ffb\u500d\u3002 extrude_factor \uff1a\u7531 M221 \u547d\u4ee4\u8bbe\u7f6e\u7684\"\u6324\u51fa\u500d\u7387\u8986\u76d6\" \u3002\u8fd9\u662f\u4e00\u4e2a\u6d6e\u70b9\u503c\uff0c1.0\u610f\u5473\u7740\u6ca1\u6709\u8986\u76d6\uff0c\u4f8b\u5982\uff0c2.0\u5c06\u4f7f\u8981\u6c42\u7684\u6324\u51fa\u91cf\u7ffb\u500d\u3002 absolute_coordinates \uff1a\u5982\u679c\u5728 G90 \u7edd\u5bf9\u5750\u6807\u6a21\u5f0f\u4e0b\uff0c\u5219\u8fd4\u56de True\uff1b\u5982\u679c\u5728 G91 \u76f8\u5bf9\u6a21\u5f0f\u4e0b\uff0c\u5219\u8fd4\u56de False\u3002 absolute_extrude \uff1a\u5982\u679c\u5728 M82 \u7edd\u5bf9\u6324\u51fa\u6a21\u5f0f\uff0c\u5219\u8fd4\u56deTrue\uff1b\u5982\u679c\u5728 M83 \u76f8\u5bf9\u6a21\u5f0f\uff0c\u5219\u8fd4\u56deFalse\u3002","title":"gcode_move"},{"location":"Status_Reference.html#hall_filament_width_sensor","text":"hall_filament_width_sensor \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a is_active \uff1a\u5982\u679c\u4f20\u611f\u5668\u5f53\u524d\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff0c\u8fd4\u56deTrue\u3002 Diameter \uff1a\u4e0a\u4e00\u6b21\u4f20\u611f\u5668\u8bfb\u6570\uff0c\u5355\u4f4d\u4e3a mm\u3002 Raw \uff1a\u4e0a\u4e00\u6b21\u4f20\u611f\u5668\u539f\u59cb ADC \u8bfb\u6570\u3002","title":"hall_filament_width_sensor"},{"location":"Status_Reference.html#heater","text":"\u52a0\u70ed\u5668\u5bf9\u8c61\uff0c\u5982 extruder \u3001 heater_bed \u548c heater_generic \uff0c\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1a\u7ed9\u5b9a\u52a0\u70ed\u5668\u6700\u540e\u62a5\u544a\u7684\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\u7684\u6d6e\u70b9\u6570\uff09\u3002 target \uff1a\u7ed9\u5b9a\u52a0\u70ed\u5668\u7684\u5f53\u524d\u76ee\u6807\u6e29\u5ea6\uff08\u4ee5\u6444\u6c0f\u5ea6\u4e3a\u5355\u4f4d\u7684\u6d6e\u70b9\u6570\uff09\u3002 power \uff1a\u4e0e\u52a0\u70ed\u5668\u76f8\u5173\u7684 PWM \u5f15\u811a\u7684\u6700\u540e\u8bbe\u7f6e\uff080.0\u548c1.0\u4e4b\u95f4\u7684\u6570\u503c\uff09\u3002 can_extrude \uff1a\u6324\u51fa\u673a\u662f\u5426\u53ef\u4ee5\u6324\u51fa\uff08\u7531 min_extrude_temp \u5b9a\u4e49\uff09\uff0c\u4ec5\u53ef\u7528\u4e8e extruder","title":"heater"},{"location":"Status_Reference.html#heaters","text":"heaters \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86\u4efb\u4f55\u52a0\u70ed\u5668\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a available_heaters \uff1a\u8fd4\u56de\u6240\u6709\u5f53\u524d\u53ef\u7528\u52a0\u70ed\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\uff0c\u4f8b\u5982 [\"extruder\"\u3001\"heater_bed\"\u3001\"heater_generic my_custom_heater\"] \u3002 available_sensors \uff1a\u8fd4\u56de\u6240\u6709\u5f53\u524d\u53ef\u7528\u7684\u6e29\u5ea6\u4f20\u611f\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u79f0\u5217\u8868\uff0c\u4f8b\u5982\uff1a [\"extruder\", \"heater_bed\", \"heater_generic my_custom_heater\", \"temperature_sensor electronics_temp\"] \u3002","title":"heaters"},{"location":"Status_Reference.html#idle_timeout","text":"idle_timeout \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a state \uff1a\u7531 idle_timeout \u6a21\u5757\u8ddf\u8e2a\u7684\u6253\u5370\u673a\u7684\u5f53\u524d\u72b6\u6001\u3002\u5b83\u53ef\u4ee5\u662f\u4ee5\u4e0b\u5b57\u7b26\u4e32\u4e4b\u4e00\uff1a\"Idle\", \"Printing\", \"Ready\"\u3002 printing_time \uff1a\u6253\u5370\u673a\u5904\u4e8e\u201cPrinting\u201d\u72b6\u6001\u7684\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\uff08\u7531 idle_timeout \u6a21\u5757\u8ddf\u8e2a\uff09\u3002","title":"idle_timeout"},{"location":"Status_Reference.html#led","text":"\u4ee5\u4e0b\u4fe1\u606f\u9002\u7528\u4e8e\u6bcf\u4e2a\u5728printer.cfg\u4e2d\u5b9a\u4e49\u4e86\u7684 [led led_name] \u3001 [neopixel led_name] \u3001 [dotstar led_name] \u3001 [pca9533 led_name] , \u548c [pca9632 led_name] \u914d\u7f6e\u5206\u6bb5\uff1a color_data \uff1a\u4e00\u4e2a\u5305\u542b\u94fe\u4e2d\u6bcf\u4e2aLED\u7684RGBW\u503c\u7684\u989c\u8272\u5217\u8868\u7684\u5217\u8868\u3002\u6bcf\u4e2a\u503c\u90fd\u4ee50.0\u52301.0\u7684\u6d6e\u70b9\u6570\u8868\u793a\u3002\u6bcf\u4e2a\u989c\u8272\u5217\u8868\u5305\u542b4\u4e2a\u9879\u76ee\uff08\u7ea2\u3001\u7eff\u3001\u84dd\u3001\u767d\uff09\uff0c\u5373\u4f7f\u5e95\u5c42\u7684LED\u652f\u6301\u8f83\u5c11\u7684\u989c\u8272\u901a\u9053\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u901a\u8fc7 printer[\"neopixel <\u914d\u7f6e\u540d>\"].color_data[1][2] \u8bbf\u95ee\u94fe\u4e2d\u7b2c\u4e8c\u4e2aneopixel\u7684\u84dd\u8272\u503c\uff08\u989c\u8272\u5217\u8868\u4e2d\u7684\u7b2c\u4e09\u9879\uff09\u3002","title":"led"},{"location":"Status_Reference.html#mcu","text":"mcu \u548c mcu some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a mcu_version \uff1a\u7531\u5fae\u63a7\u5236\u5668\u62a5\u544a\u7684 Klipper \u4ee3\u7801\u7248\u672c\u3002 mcu_build_versions \uff1a\u6709\u5173\u7528\u4e8e\u751f\u6210\u5fae\u63a7\u5236\u5668\u4ee3\u7801\u7684\u6784\u5efa\u5de5\u5177\u7684\u4fe1\u606f\uff08\u7531\u5fae\u63a7\u5236\u5668\u62a5\u544a\uff09\u3002 mcu_constants.<\u5e38\u91cf\u540d> \uff1a\u7531\u5fae\u63a7\u5236\u5668\u62a5\u544a\u7f16\u8bd1\u65f6\u4f7f\u7528\u7684\u5e38\u91cf\u3002\u53ef\u7528\u7684\u5e38\u91cf\u5728\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u67b6\u6784\u548c\u6bcf\u4e2a\u4ee3\u7801\u4fee\u8ba2\u7248\u4e2d\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002 last_stats.<\u7edf\u8ba1\u4fe1\u606f\u540d> \uff1a\u5173\u4e8e\u5fae\u63a7\u5236\u5668\u8fde\u63a5\u7684\u7edf\u8ba1\u4fe1\u606f\u3002","title":"mcu"},{"location":"Status_Reference.html#motion_report","text":"motion_report \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86\u4efb\u4f55\u6b65\u8fdb\u5668\u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u8be5\u5bf9\u8c61\u81ea\u52a8\u53ef\u7528\uff09\uff1a live_position \uff1a\u8bf7\u6c42\u7684\u6253\u5370\u5934\u4f4d\u7f6e\u63d2\u503c\u5230\u5f53\u524d\u65f6\u95f4\u540e\u7684\u4f4d\u7f6e\u3002 live_velocity \uff1a\u5f53\u524d\u8bf7\u6c42\u7684\u6253\u5370\u5934\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73/\u79d2\u4e3a\u5355\u4f4d\uff09\u3002 live_extruder_velocity \uff1a\u5f53\u524d\u8bf7\u6c42\u7684\u6324\u51fa\u673a\u901f\u5ea6\uff08\u5355\u4f4d\uff1amm/s\uff09\u3002","title":"motion_report"},{"location":"Status_Reference.html#output_pin","text":"[output_pin <\u914d\u7f6e\u540d\u79f0> \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff1a value \uff1a\u7531 SET_PIN \u6307\u4ee4\u8bbe\u7f6e\u7684\u5f15\u811a\u201c\u503c\u201d\u3002","title":"output_pin"},{"location":"Status_Reference.html#palette2","text":"palette2 \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a ping \u3002\u6700\u540e\u4e00\u6b21\u62a5\u544a\u7684Palette 2 ping\u503c\uff08\u767e\u5206\u6bd4\uff09\u3002 remaining_load_length \uff1a\u5f53\u5f00\u59cb\u4e00\u4e2a\u4f7f\u7528 Palette 2 \u7684\u6253\u5370\u65f6\uff0c\u8fd9\u662f\u9700\u8981\u52a0\u8f7d\u5230\u6324\u51fa\u673a\u4e2d\u7684\u8017\u6750\u957f\u5ea6\u3002 is_splicing \uff1a\u5f53Palette 2\u6b63\u5728\u62fc\u63a5\u8017\u6750\u65f6\u4e3a True\u3002","title":"palette2"},{"location":"Status_Reference.html#pause_resume","text":"palette2 \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a is_paused \uff1a\u5982\u679c\u6267\u884c\u4e86 PAUSE \u547d\u4ee4\u800c\u6ca1\u6709\u6267\u884c RESUME\uff0c\u5219\u8fd4\u56de True\u3002","title":"pause_resume"},{"location":"Status_Reference.html#print_stats","text":"print_stats \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u6b64\u5bf9\u8c61\u81ea\u52a8\u53ef\u7528\uff09\uff1a filename \u3001 total_duration \u3001 print_duration \u3001 filament_used \u3001 state \u3001 message \uff1avirtual_sdcard \u6253\u5370\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u65f6\u6709\u5173\u5f53\u524d\u6253\u5370\u7684\u4f30\u6d4b\u3002","title":"print_stats"},{"location":"Status_Reference.html#probe","text":"probe \u5bf9\u8c61\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 bltouch \u914d\u7f6e\u5206\u6bb5\uff0c\u5219\u6b64\u5bf9\u8c61\u4e5f\u53ef\u7528\uff09\uff1a last_query \uff1a\u5982\u679c\u63a2\u9488\u5728\u4e0a\u4e00\u4e2a QUERY_PROBE \u547d\u4ee4\u671f\u95f4\u62a5\u544a\u4e3a\"\u5df2\u89e6\u53d1\"\uff0c\u5219\u8fd4\u56de True\u3002\u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\u5b83\uff0c\u6839\u636e\u6a21\u677f\u5c55\u5f00\u7684\u987a\u5e8f\uff0c\u5fc5\u987b\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u8fd0\u884c QUERY_PROBE \u547d\u4ee4\u3002 last_z_result \uff1a\u8fd4\u56de\u4e0a\u4e00\u6b21 PROBE \u547d\u4ee4\u7684\u7ed3\u679c Z \u503c\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u6a21\u677f\u5c55\u5f00\u7684\u987a\u5e8f\uff0c\u5728\u5b8f\u4e2d\u4f7f\u7528\u65f6\u5fc5\u987b\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u8fd0\u884c PROBE\uff08\u6216\u7c7b\u4f3c\uff09\u547d\u4ee4\u3002","title":"probe"},{"location":"Status_Reference.html#quad_gantry_level","text":"quad_gantry_level \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 quad_gantry_level\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c\u9f99\u95e8\u8c03\u5e73\u5df2\u8fd0\u884c\u5e76\u6210\u529f\u5b8c\u6210\uff0c\u5219\u4e3a True\u3002","title":"quad_gantry_level"},{"location":"Status_Reference.html#query_endstops","text":"query_endstops \u5bf9\u8c61\u63d0\u4f9b\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86\u4efb\u4f55\u9650\u4f4d\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a last_query[\"<\u9650\u4f4d>\"] \uff1a\u5982\u679c\u5728\u6700\u540e\u4e00\u6b21 QUERY_ENDSTOP \u547d\u4ee4\u4e2d\uff0c\u7ed9\u5b9a\u7684 endstop \u5904\u4e8e\u201c\u89e6\u53d1\u201d\u72b6\u6001\uff0c\u5219\u8fd4\u56de True\u3002\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\uff0c\u7531\u4e8e\u6a21\u677f\u6269\u5c55\u7684\u987a\u5e8f\uff0cQUERY_ENDSTOP \u547d\u4ee4\u5fc5\u987b\u5728\u5305\u542b\u8fd9\u4e2a\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u8fd0\u884c\u3002","title":"query_endstops"},{"location":"Status_Reference.html#servo","text":"servo some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a printer[\"servo <\u914d\u7f6e\u540d>\"].value \uff1a\u4e0e\u6307\u5b9a\u4f3a\u670d\u76f8\u5173 PWM \u5f15\u811a\u7684\u4e0a\u4e00\u6b21\u8bbe\u7f6e\u7684\u503c\uff080.0 \u548c 1.0 \u4e4b\u95f4\u7684\u503c\uff09\u3002","title":"servo"},{"location":"Status_Reference.html#system_stats","text":"system_stats \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a sysload \u3001 cputime \u3001 memavail \uff1a\u5173\u4e8e\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u548c\u8fdb\u7a0b\u8d1f\u8f7d\u7684\u4fe1\u606f\u3002","title":"system_stats"},{"location":"Status_Reference.html#_2","text":"\u4ee5\u4e0b\u4fe1\u606f\u53ef\u5728 bme280 config_section_name \u3001 htu21d config_section_name \u3001 lm75 config_section_name \u548c temperature_host config_section_name \u5bf9\u8c61\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u4ece\u4f20\u611f\u5668\u8bfb\u53d6\u7684\u6e29\u5ea6\u3002 hemidity \u3001 pressure \u548c gas \uff1a\u4f20\u611f\u5668\u4e0a\u4e00\u6b21\u8bfb\u53d6\u7684\u503c\uff08\u4ec5\u5728bme280\u3001htu21d\u548clm75\u4f20\u611f\u5668\u4e0a\uff09\u3002","title":"\u6e29\u5ea6\u4f20\u611f\u5668"},{"location":"Status_Reference.html#temperature_fan","text":"temperature_fan some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u4ece\u4f20\u611f\u5668\u8bfb\u53d6\u7684\u6e29\u5ea6\u3002 target \uff1a\u98ce\u6247\u76ee\u6807\u6e29\u5ea6\u3002","title":"temperature_fan"},{"location":"Status_Reference.html#temperature_sensor","text":"temperature_sensor some_name \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u4ece\u4f20\u611f\u5668\u8bfb\u53d6\u7684\u6e29\u5ea6\u3002 measured_min_temp \u548c measured_max_temp \uff1a\u81eaKlipper\u4e3b\u673a\u8f6f\u4ef6\u4e0a\u6b21\u91cd\u65b0\u542f\u52a8\u4ee5\u6765\uff0c\u4f20\u611f\u5668\u6d4b\u91cf\u7684\u6700\u4f4e\u548c\u6700\u9ad8\u6e29\u5ea6\u3002","title":"temperature_sensor"},{"location":"Status_Reference.html#tmc","text":"TMC \u6b65\u8fdb\u9a71\u52a8 \u5bf9\u8c61\uff08\u4f8b\u5982\uff0c [tmc2208 stepper_x] \uff09\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a mcu_phase_offset \uff1a\u5fae\u63a7\u5236\u5668\u6b65\u8fdb\u4f4d\u7f6e\u4e0e\u9a71\u52a8\u5668\u7684\"\u96f6\"\u76f8\u4f4d\u7684\u76f8\u5bf9\u4f4d\u7f6e\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5219\u6b64\u5b57\u6bb5\u53ef\u80fd\u4e3a\u7a7a\u3002 phase_offset_position \uff1a\u5bf9\u5e94\u7535\u673a\u201c\u96f6\u201d\u76f8\u4f4d\u7684\u201c\u6307\u4ee4\u4f4d\u7f6e\u201d\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5219\u8be5\u5b57\u6bb5\u53ef\u4ee5\u4e3a\u7a7a\u3002 drv_status \uff1a\u4e0a\u6b21\u9a71\u52a8\u72b6\u6001\u67e5\u8be2\u7ed3\u679c\u3002\uff08\u4ec5\u62a5\u544a\u975e\u96f6\u5b57\u6bb5\u3002\u5982\u679c\u9a71\u52a8\u6ca1\u6709\u88ab\u542f\u7528\uff08\u56e0\u6b64\u6ca1\u6709\u8f6e\u8be2\uff09\uff0c\u5219\u6b64\u5b57\u6bb5\u5c06\u4e3a null\u3002 run_current \uff1a\u5f53\u524d\u8bbe\u7f6e\u7684\u8fd0\u884c\u7535\u6d41\u3002 hold_current \uff1a\u5f53\u524d\u8bbe\u7f6e\u7684\u4fdd\u6301\u7535\u6d41\u3002","title":"tmc \u9a71\u52a8"},{"location":"Status_Reference.html#toolhead","text":"toolhead \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a position \uff1a\u6253\u5370\u5934\u76f8\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u7684\u5750\u6807\u7cfb\u7684\u6700\u540e\u547d\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8bbf\u95ee\u8be5\u4f4d\u7f6e\u7684 x\u3001y\u3001z \u548c e \u5206\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 extruder \uff1a\u5f53\u524d\u6d3b\u8dc3\u7684\u6324\u51fa\u673a\u7684\u540d\u79f0\u3002\u4f8b\u5982\uff0c\u5728\u5b8f\u4e2d\u53ef\u4ee5\u4f7f\u7528 printer[printer.toolhead.extruder].target \u6765\u83b7\u53d6\u5f53\u524d\u6324\u51fa\u673a\u7684\u76ee\u6807\u6e29\u5ea6\u3002 homed_axes \uff1a\u5f53\u524d\u88ab\u8ba4\u4e3a\u5904\u4e8e\u201c\u5df2\u5f52\u4f4d\u201d\u72b6\u6001\u7684\u8f66\u8f74\u3002\u8fd9\u662f\u4e00\u4e2a\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\"x\"\u3001\"y\"\u3001\"z\"\u7684\u5b57\u7b26\u4e32\u3002 axis_minimum \u3001 axis_maximum \uff1a\u5f52\u4f4d\u540e\u7684\u8f74\u7684\u884c\u7a0b\u9650\u5236\uff08\u6beb\u7c73\uff09\u3002\u53ef\u4ee5\u8bbf\u95ee\u6b64\u6781\u9650\u503c\u7684 x\u3001y\u3001z \u5206\u91cf\uff08\u4f8b\u5982\uff0c axis_minimum.x \u3001 axis_maximum.z \uff09\u3002 max_velocity \u3001 max_accel \u3001 max_accel_to_decel \u548c square_corner_velocity \uff1a\u5f53\u524d\u751f\u6548\u7684\u6253\u5370\u673a\u9650\u5236\u3002\u5982\u679c SET_VELOCITY_LIMIT \uff08\u6216 M204 \uff09\u547d\u4ee4\u5728\u8fd0\u884c\u65f6\u6539\u53d8\u5b83\u4eec\uff0c\u8fd9\u4e9b\u503c\u53ef\u80fd\u4e0e\u914d\u7f6e\u6587\u4ef6\u8bbe\u7f6e\u4e0d\u540c\u3002 stalls \uff1a\u7531\u4e8e\u5de5\u5177\u5934\u79fb\u52a8\u901f\u5ea6\u5feb\u4e8e\u4ece G \u4ee3\u7801\u8f93\u5165\u8bfb\u53d6\u7684\u79fb\u52a8\u901f\u5ea6\uff0c\u56e0\u6b64\u6253\u5370\u673a\u5fc5\u987b\u6682\u505c\u7684\u603b\u6b21\u6570\uff08\u81ea\u4e0a\u6b21\u91cd\u65b0\u542f\u52a8\u4ee5\u6765\uff09\u3002","title":"toolhead"},{"location":"Status_Reference.html#dual_carriage","text":"\u4f7f\u7528\u4e86 hybrid_corexy \u6216 hybrid_corexz \u8fd0\u52a8\u5b66\u7684 dual_carriage \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f mode \uff1a\u5f53\u524d\u6a21\u5f0f\u3002\u53ef\u80fd\u7684\u503c\uff1a\"FULL_CONTROL\" active_carriage \uff1a\u5f53\u524d\u7684\u6d3b\u8dc3\u7684\u6ed1\u8f66\u3002\u53ef\u80fd\u7684\u503c\u662f\"CARRIAGE_0\"\u548c\"CARRIAGE_1\"","title":"dual_carriage"},{"location":"Status_Reference.html#virtual_sdcard","text":"virtual_sdcard \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff1a is_active \uff1a\u5982\u679c\u6b63\u5728\u4ece\u6587\u4ef6\u8fdb\u884c\u6253\u5370\uff0c\u5219\u8fd4\u56de True\u3002 progress \uff1a\u5bf9\u5f53\u524d\u6253\u5370\u8fdb\u5ea6\u7684\u4f30\u8ba1\uff08\u57fa\u4e8e\u6587\u4ef6\u5927\u5c0f\u548c\u6587\u4ef6\u4f4d\u7f6e\uff09\u3002 file_path \uff1a\u5f53\u524d\u52a0\u8f7d\u7684\u6587\u4ef6\u7684\u5b8c\u6574\u8def\u5f84\u3002 file_position \uff1a\u5f53\u524d\u6253\u5370\u7684\u4f4d\u7f6e\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002 file_size \uff1a\u5f53\u524d\u52a0\u8f7d\u7684\u6587\u4ef6\u7684\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002","title":"virtual_sdcard"},{"location":"Status_Reference.html#webhooks","text":"system_stats \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u8be5\u5bf9\u8c61\u59cb\u7ec8\u53ef\u7528\uff09\uff1a state \uff1a\u8fd4\u56de\u4e00\u4e2a\u8868\u793a\u5f53\u524d Klipper \u72b6\u6001\u7684\u5b57\u7b26\u4e32\u3002\u53ef\u80fd\u7684\u503c\u4e3a\uff1a\"ready\"\u3001\"startup\"\u3001\"shutdown\"\u548c\"error\"\u3002 state_message \uff1a\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5305\u542b\u5f53\u524d Klipper \u72b6\u6001\u548c\u4e0a\u4e0b\u6587\u7684\u53ef\u8bfb\u5b57\u7b26\u4e32\u3002","title":"webhooks"},{"location":"Status_Reference.html#z_tilt","text":"z_tilt \u5bf9\u8c61\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4fe1\u606f\uff08\u5982\u679c\u5b9a\u4e49\u4e86 z_tilt\uff0c\u5219\u8be5\u5bf9\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c z \u503e\u659c\u8c03\u5e73\u8fc7\u7a0b\u5df2\u8fd0\u884c\u5e76\u6210\u529f\u5b8c\u6210\uff0c\u5219\u4e3a True\u3002","title":"z_tilt"},{"location":"TMC_Drivers.html","text":"TMC \u9a71\u52a8\u5668 \u00b6 \u8fd9\u4e2a\u6587\u6863\u63d0\u4f9b\u4e86\u5728Klipper\u4e0a\u4ee5SPI/UART\u6a21\u5f0f\u4f7f\u7528Trinamic\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u7684\u4fe1\u606f\u3002 Klipper\u4e5f\u53ef\u4ee5\u5728\u5176 \"standalone mode\"\u4e0b\u4f7f\u7528Trinamic\u9a71\u52a8\u3002\u7136\u800c\uff0c\u5f53\u9a71\u52a8\u5904\u4e8e\u8fd9\u79cd\u6a21\u5f0f\u65f6\uff0c\u4e0d\u9700\u8981\u7279\u6b8a\u7684Klipper\u914d\u7f6e\uff0c\u672c\u6587\u4ef6\u4e2d\u8ba8\u8bba\u7684\u9ad8\u7ea7Klipper\u529f\u80fd\u4e5f\u65e0\u6cd5\u4f7f\u7528\u3002 \u9664\u4e86\u8fd9\u4efd\u6587\u6863\uff0c\u8bf7\u52a1\u5fc5\u67e5\u770b TMC\u9a71\u52a8\u914d\u7f6e\u53c2\u8003 . \u8c03\u6574\u7535\u673a\u7535\u6d41 \u00b6 \u8f83\u9ad8\u7684\u9a71\u52a8\u7535\u6d41\u53ef\u4ee5\u63d0\u9ad8\u5b9a\u4f4d\u7cbe\u5ea6\u548c\u626d\u77e9\u3002\u7136\u800c\uff0c\u8f83\u9ad8\u7684\u7535\u6d41\u4e5f\u4f1a\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u548c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4ea7\u751f\u7684\u70ed\u91cf\u3002\u5982\u679c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u592a\u70ed\uff0c\u5b83\u5c31\u4f1a\u81ea\u884c\u5931\u6548\uff0cKlipper\u4f1a\u62a5\u544a\u9519\u8bef\u3002\u5982\u679c\u6b65\u8fdb\u7535\u673a\u592a\u70ed\uff0c\u5b83\u5c06\u5931\u53bb\u626d\u77e9\u548c\u4f4d\u7f6e\u7cbe\u5ea6\u3002(\u5982\u679c\u5b83\u53d8\u5f97\u975e\u5e38\u70ed\uff0c\u8fd8\u53ef\u80fd\u878d\u5316\u8fde\u63a5\u5728\u5b83\u8eab\u4e0a\u6216\u9644\u8fd1\u7684\u5851\u6599\u90e8\u4ef6\u3002\uff09 \u4f5c\u4e3a\u4e00\u822c\u7684\u8c03\u6574\u5efa\u8bae\uff0c\u53ea\u8981\u6b65\u8fdb\u7535\u673a\u4e0d\u4f1a\u592a\u70ed\uff0c\u5e76\u4e14\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4e0d\u4f1a\u62a5\u544a\u8b66\u544a\u6216\u9519\u8bef\uff0c\u5c31\u53ef\u4ee5\u9009\u62e9\u66f4\u9ad8\u7684\u7535\u6d41\u503c\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6b65\u8fdb\u7535\u673a\u611f\u5230\u6e29\u70ed\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u4e0d\u5e94\u8be5\u70ed\u5230\u89e6\u6478\u8d77\u6765\u5f88\u70eb\u624b\u3002 \u503e\u5411\u4e8e\u4e0d\u6307\u5b9a\u4fdd\u6301\u7535\u6d41\uff08hold_current\uff09 \u00b6 \u5982\u679c\u914d\u7f6e\u4e86 hold_current \uff0c\u90a3\u4e48TMC\u9a71\u52a8\u5668\u53ef\u4ee5\u5728\u68c0\u6d4b\u5230\u6b65\u8fdb\u7535\u673a\u6ca1\u6709\u79fb\u52a8\u65f6\u4f1a\u51cf\u5c11\u6b65\u8fdb\u7535\u673a\u7684\u7535\u6d41\u3002\u7136\u800c\uff0c\u6539\u53d8\u7535\u673a\u7535\u6d41\u672c\u8eab\u53ef\u80fd\u4f1a\u5f15\u8d77\u7535\u673a\u8f6c\u52a8\u3002\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u6b65\u8fdb\u7535\u673a\u5185\u90e8\u7684 \"\u963b\u6ede\u529b\"\uff08\u8f6c\u5b50\u4e2d\u7684\u6c38\u4e45\u78c1\u94c1\u62c9\u5411\u5b9a\u5b50\u4e2d\u7684\u94c1\u9f7f\uff09\u6216\u8f74\u6ed1\u8f66\u4e0a\u7684\u5916\u529b\u9020\u6210\u7684\u3002 \u5bf9\u4e8e\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\uff0c\u5728\u6b63\u5e38\u7684\u6253\u5370\u8fc7\u7a0b\u4e2d\u51cf\u5c11\u7535\u6d41\u4e0d\u4f1a\u5e26\u6765\u663e\u8457\u7684\u597d\u5904\uff0c\u56e0\u4e3a\u5f88\u5c11\u6709\u6253\u5370\u52a8\u4f5c\u4f1a\u8ba9\u6b65\u8fdb\u7535\u673a\u7a7a\u95f2\u8db3\u591f\u957f\u7684\u65f6\u95f4\u6765\u6fc0\u6d3b hold_current \uff08\u4fdd\u6301\u7535\u6d41\uff09\u529f\u80fd\u3002\u800c\u4e14\uff0c\u4f60\u4e5f\u4e0d\u4f1a\u5e0c\u671b\u5728\u5c11\u6570\u4f7f\u6b65\u8fdb\u7535\u673a\u7a7a\u95f2\u8db3\u591f\u957f\u7684\u65f6\u95f4\u7684\u6253\u5370\u52a8\u4f5c\u4e2d\u5f15\u5165\u5c0f\u7684\u6253\u5370\u7455\u75b5\u3002 \u5982\u679c\u5e0c\u671b\u5728\u6253\u5370\u9884\u70ed\u65f6\u51cf\u5c11\u7535\u673a\u7684\u7535\u6d41\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u5728 START_PRINT\u5b8f \u4e2d\u5199\u5165 SET_TMC_CURRENT \u547d\u4ee4\uff0c\u5728\u6b63\u5e38\u6253\u5370\u5f00\u59cb\u524d\u540e\u8c03\u6574\u7535\u6d41\u3002 \u4e00\u4e9b\u6253\u5370\u673a\u7684\u4e13\u7528Z\u8f74\u7535\u673a\u5728\u6b63\u5e38\u7684\u6253\u5370\u52a8\u4f5c\u4e2d\u662f\u7a7a\u95f2\u7684\uff08\u6ca1\u6709\u5e8a\u7f51\uff08bed_mesh\uff09\uff0c\u6ca1\u6709\u5e8a\u9762\u503e\u659c\uff08bed_tilt\uff09\uff0c\u6ca1\u6709Z\u8f74\u503e\u659c\u6821\u6b63\uff08skew_correction\uff09\uff0c\u6ca1\u6709 \"\u82b1\u74f6\u6a21\u5f0f \uff08vase mode\uff09\"\u6253\u5370\uff0c\u7b49\u7b49\uff09\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0Z\u8f74\u7535\u673a\u5728 hold_current \u7684\u60c5\u51b5\u4e0b\u786e\u5b9e\u8fd0\u884c\u5f97\u6bd4\u8f83\u51b7\u3002\u5982\u679c\u5b9e\u73b0\u4e86\u8fd9\u4e00\u70b9\uff0c\u90a3\u4e48\u4e00\u5b9a\u8981\u8003\u8651\u5230\u5728\u5e8a\u9762\u8c03\u5e73\u3001\u5e8a\u9762\u63a2\u6d4b\u3001\u63a2\u9488\u6821\u51c6\u7b49\u8fc7\u7a0b\u4e2d\u8fd9\u79cd\u975e\u6307\u4ee4\u6027\u7684Z\u8f74\u8fd0\u52a8\u3002 driver_TPOWERDOWN \u548c driver_IHOLDDELAY \u4e5f\u5e94\u8be5\u8fdb\u884c\u76f8\u5e94\u7684\u6821\u51c6\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u6700\u597d\u4e0d\u8981\u6307\u5b9a hold_current \u3002 \u8bbe\u7f6e \"spreadCycle \"\u4e0e \"stealthChop \"\u6a21\u5f0f \u00b6 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cKlipper\u5c06TMC\u9a71\u52a8\u7f6e\u4e8e \"spreadCycle \"\u6a21\u5f0f\u3002\u5982\u679c\u9a71\u52a8\u7a0b\u5e8f\u652f\u6301 \"stealthChop\"\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0 stealthchop_threshold: 999999 \u5230TMC\u7684\u914d\u7f6e\u90e8\u5206\u3002 \u4e00\u822c\u6765\u8bf4\uff0cspreadCycle\u6a21\u5f0f\u6bd4stealthChop\u6a21\u5f0f\u63d0\u4f9b\u66f4\u5927\u7684\u626d\u77e9\u548c\u66f4\u9ad8\u7684\u5b9a\u4f4d\u7cbe\u5ea6\u3002\u7136\u800c\uff0c\u5728\u67d0\u4e9b\u6253\u5370\u673a\u4e0a\uff0cstealthChop \u6a21\u5f0f\u663e\u8457\u964d\u4f4e\u53ef\u542c\u5230\u7684\u566a\u97f3\u3002 \u5bf9\u4e24\u4e2a\u6a21\u5f0f\u7684\u6bd4\u8f83\u6d4b\u8bd5\u663e\u793a\uff0c\u5728\u4f7f\u7528stealthChop\u6a21\u5f0f\u65f6\uff0c\u6052\u901f\u79fb\u52a8\u8fc7\u7a0b\u65f6\u6709\u5927\u7ea6\u4e3a\u4e00\u4e2a\u6574\u6b6575%\u7684\"\u4f4d\u7f6e\u6ede\u540e \"\uff08\u4f8b\u5982\uff0c\u5728\u4e00\u53f0\u65cb\u8f6c\u8ddd\u79bb\uff08rotation_distance \uff09\u4e3a40mm\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u7684\u6253\u5370\u673a\u4e0a\uff0c\u6052\u901f\u79fb\u52a8\u7684\u4f4d\u7f6e\u504f\u5dee\u589e\u52a0\u4e86\u7ea60.150mm\uff09\u3002\u7136\u800c\uff0c\u8fd9\u79cd \"\u83b7\u5f97\u6240\u9700\u4f4d\u7f6e\u7684\u5ef6\u8fdf \"\u53ef\u80fd\u4e0d\u4f1a\u8868\u73b0\u4e3a\u660e\u663e\u7684\u6253\u5370\u7f3a\u9677\uff0c\u5927\u591a\u6570\u4eba\u53ef\u80fd\u66f4\u559c\u6b22stealthChop\u6a21\u5f0f\u66f4\u5b89\u9759\u7684\u6253\u5370\u3002 \u5efa\u8bae\u603b\u662f\u4f7f\u7528 \"spreadCycle \"\u6a21\u5f0f\uff08\u901a\u8fc7\u4e0d\u6307\u5b9a stealthchop_threshold \uff09\u6216\u603b\u662f\u4f7f\u7528 \"stealthChop \"\u6a21\u5f0f\uff08\u901a\u8fc7\u8bbe\u7f6e stealthchop_threshold \u4e3a99999\uff09\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5982\u679c\u5728\u7535\u673a\u5904\u4e8e\u975e\u96f6\u901f\u5ea6\u65f6\u6539\u53d8\u6a21\u5f0f\uff0c\u9a71\u52a8\u5668\u5f80\u5f80\u4f1a\u4ea7\u751f\u7cdf\u7cd5\u548c\u6df7\u4e71\u7684\u7ed3\u679c\u3002 TMC\u63d2\u503c\u8bbe\u7f6e\u5f15\u5165\u4e86\u5fae\u5c0f\u7684\u4f4d\u7f6e\u504f\u5dee \u00b6 TMC\u9a71\u52a8\u7a0b\u5e8f\u7684 interpolate \u8bbe\u7f6e\u53ef\u4ee5\u51cf\u5c11\u6253\u5370\u673a\u8fd0\u52a8\u7684\u566a\u97f3\uff0c\u4f46\u4ee3\u4ef7\u662f\u5f15\u5165\u4e00\u4e2a\u5c0f\u7684\u7cfb\u7edf\u4f4d\u7f6e\u8bef\u5dee\u3002\u8fd9\u4e2a\u7cfb\u7edf\u6027\u7684\u4f4d\u7f6e\u8bef\u5dee\u662f\u7531\u9a71\u52a8\u5668\u5728\u6267\u884cKlipper\u53d1\u9001\u7684 \"\u6b65\u9aa4 \"\u65f6\u7684\u5ef6\u8fdf\u9020\u6210\u7684\u3002\u5728\u6052\u901f\u79fb\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u8fd9\u79cd\u5ef6\u8fdf\u5bfc\u81f4\u4e86\u5c06\u8fd1\u4e00\u534a\u7684\u914d\u7f6e\u5fae\u6b65\u7684\u4f4d\u7f6e\u8bef\u5dee\uff08\u66f4\u51c6\u786e\u5730\u8bf4\uff0c\u8bef\u5dee\u662f\u4e00\u534a\u7684\u5fae\u6b65\u8ddd\u79bb\u51cf\u53bb512\u5206\u4e4b\u4e00\u7684\u6574\u6b65\u8ddd\u79bb\uff09\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u4e2a\u65cb\u8f6c\u8ddd\u79bb\uff08rotation_distance\uff09\u4e3a40\u6beb\u7c73\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u300116\u5fae\u6b65\u7684\u8f74\u4e0a\uff0c\u5728\u6052\u901f\u79fb\u52a8\u8fc7\u7a0b\u4e2d\u5f15\u5165\u7684\u7cfb\u7edf\u8bef\u5dee\u662f~0.006\u6beb\u7c73\u3002 \u4e3a\u4e86\u83b7\u5f97\u6700\u4f73\u7684\u5b9a\u4f4d\u7cbe\u5ea6\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528spreadCycle\u6a21\u5f0f\uff0c\u5e76\u7981\u7528\u63d2\u503c\uff08\u5728TMC\u9a71\u52a8\u914d\u7f6e\u4e2d\u8bbe\u7f6e interpolate: False \uff09\u3002\u5f53\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u914d\u7f6e\u65f6\uff0c\u53ef\u4ee5\u589e\u52a0 microstep \u8bbe\u7f6e\uff0c\u4ee5\u51cf\u5c11\u6b65\u8fdb\u8fd0\u52a8\u4e2d\u7684\u566a\u97f3\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5fae\u6b65\u8bbe\u7f6e\u4e3a 64 \u6216 128 \u4f1a\u6709\u7c7b\u4f3c\u4e8e\u63d2\u503c\u7684\u566a\u97f3\u6c34\u5e73\uff0c\u800c\u4e14\u4e0d\u4f1a\u5f15\u5165\u7cfb\u7edf\u6027\u7684\u4f4d\u7f6e\u8bef\u5dee\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u90a3\u4e48\u76f8\u5bf9\u4e8e\u4ecestealthChop\u6a21\u5f0f\u5f15\u5165\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u786e\u6027\uff0c\u63d2\u503c\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u786e\u6027\u5f88\u5c0f\u3002\u56e0\u6b64\uff0c\u5728stealthChop \u6a21\u5f0f\u4e0b\uff0c\u8c03\u6574\u63d2\u503c\u662f\u6ca1\u6709\u7528\u7684\uff0c\u53ef\u4ee5\u5c06\u63d2\u503c\u8bbe\u7f6e\u518d\u5176\u9ed8\u8ba4\u72b6\u6001\u3002 \u65e0\u9650\u4f4d\u5f52\u96f6 \u00b6 \u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5141\u8bb8\u5728\u4e0d\u9700\u8981\u7269\u7406\u9650\u4f4d\u5f00\u5173\u7684\u60c5\u51b5\u4e0b\u5c06\u4e00\u4e2a\u8f74\u5f52\u4f4d\u3002\u76f8\u53cd\uff0c\u8f74\u4e0a\u7684\u6ed1\u8f66\u63a5\u89e6\u673a\u68b0\u9650\u4f4d\u540e\uff0c\u4f7f\u6b65\u8fdb\u7535\u673a\u5931\u53bb\u6b65\u957f\u3002\u6b65\u8fdb\u9a71\u52a8\u5668\u611f\u5e94\u5230\u5931\u53bb\u7684\u6b65\u6570\uff0c\u5e76\u901a\u8fc7\u5207\u6362\u4e00\u4e2a\u5f15\u811a\u5411\u63a7\u5236\u7684\u5fae\u63a7\u5236\u5668\uff08Klipper\uff09\u544a\u77e5\u8fd9\u4e00\u70b9\u3002\u8be5\u4fe1\u606f\u53ef\u88ab Klipper \u7528\u4f5c\u8f74\u7684\u9650\u4f4d\u3002 \u672c\u6307\u5357\u4ecb\u7ecd\u4e86\u5982\u4f55\u8bbe\u7f6e\uff08\u7b1b\u5361\u5c14\uff09\u6253\u5370\u673a\u7684X\u8f74\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002\u8fd9\u4e2a\u65b9\u6cd5\u4e5f\u9002\u5408\u5176\u4ed6\u8f74\uff08\u9700\u8981\u4e00\u4e2a\u9650\u4f4d\uff09\u3002\u6bcf\u6b21\u5e94\u8be5\u53ea\u5bf9\u4e00\u4e2a\u8f74\u8fdb\u884c\u914d\u7f6e\u548c\u8c03\u6574\u3002 \u9650\u5236 \u00b6 \u8981\u786e\u4fdd\u4f60\u7684\u673a\u68b0\u90e8\u4ef6\u80fd\u591f\u627f\u53d7\u6ed1\u8f66\u53cd\u590d\u649e\u5411\u8f74\u7684\u9650\u4f4d\u7684\u8d1f\u8f7d\u3002\u7279\u522b\u662f\u4e1d\u6760\u53ef\u80fd\u4f1a\u4ea7\u751f\u5f88\u5927\u7684\u529b\u3002\u901a\u8fc7\u5c06\u55b7\u5634\u649e\u5411\u6253\u5370\u8868\u9762\u6765\u786e\u5b9aZ\u8f74\u7684\u4f4d\u7f6e\u53ef\u80fd\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\u3002\u4e3a\u4e86\u83b7\u5f97\u6700\u4f73\u6548\u679c\uff0c\u8bf7\u786e\u8ba4\u8f74\u6ed1\u8f66\u5c06\u4e0e\u8f74\u7684\u9650\u4f4d\u7d27\u5bc6\u63a5\u89e6\u3002 \u6b64\u5916\uff0c\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5bf9\u4f60\u7684\u6253\u5370\u673a\u6765\u8bf4\u53ef\u80fd\u4e0d\u591f\u7cbe\u786e\u3002\u867d\u7136\u7b1b\u5361\u5c14\u673a\u5668\u4e0a\u7684X\u548cY\u8f74\u5f52\u4f4d\u53ef\u4ee5\u5f88\u597d\u5730\u5de5\u4f5c\uff0c\u4f46Z\u8f74\u7684\u5f52\u4f4d\u901a\u5e38\u4e0d\u591f\u51c6\u786e\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7b2c\u4e00\u5c42\u9ad8\u5ea6\u4e0d\u4e00\u81f4\u3002\u7531\u4e8e\u7cbe\u5ea6\u4f4e\uff0c\u4e0d\u5efa\u8bae\u5728delta \u6253\u5370\u673a\u4e0a\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u7684\u5f52\u4f4d\u3002 \u6b64\u5916\uff0c\u6b65\u8fdb\u9a71\u52a8\u5668\u7684\u5931\u901f\u68c0\u6d4b\u53d6\u51b3\u4e8e\u7535\u673a\u7684\u673a\u68b0\u8d1f\u8f7d\u3001\u7535\u673a\u7535\u6d41\u548c\u7535\u673a\u6e29\u5ea6\uff08\u7ebf\u5708\u7535\u963b\uff09\u3002 \u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5728\u7535\u673a\u4e2d\u901f\u65f6\u6548\u679c\u6700\u597d\u3002\u5bf9\u4e8e\u975e\u5e38\u6162\u7684\u901f\u5ea6\uff08\u5c0f\u4e8e10RPM\uff09\uff0c\u7535\u673a\u4e0d\u4f1a\u4ea7\u751f\u660e\u663e\u7684\u53cd\u7535\u78c1\u573a\uff0cTMC\u82af\u7247\u4e0d\u80fd\u53ef\u9760\u5730\u68c0\u6d4b\u5230\u7535\u673a\u505c\u987f\u3002\u6b64\u5916\uff0c\u5728\u975e\u5e38\u9ad8\u7684\u901f\u5ea6\u4e0b\uff0c\u7535\u673a\u7684\u53cd\u5411\u7535\u52a8\u52bf\u63a5\u8fd1\u7535\u673a\u7684\u7535\u6e90\u7535\u538b\uff0c\u6240\u4ee5TMC\u82af\u7247\u4e5f\u68c0\u6d4b\u4e0d\u5230\u505c\u987f\u3002\u5efa\u8bae\u4f60\u770b\u770b\u4e00\u4e0b\u5bf9\u5e94\u7684TMC\u82af\u7247\u6570\u636e\u624b\u518c\u3002\u5728\u624b\u518c\u4e2d\u8fd8\u53ef\u4ee5\u627e\u5230\u66f4\u591a\u5173\u4e8e\u8fd9\u79cd\u8bbe\u7f6e\u7684\u9650\u5236\u7684\u7ec6\u8282\u3002 \u524d\u63d0\u6761\u4ef6 \u00b6 \u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\uff0c\u9700\u8981\u4e00\u4e9b\u524d\u63d0\u6761\u4ef6\uff1a \u4e00\u4e2a\u5177\u6709stallGuard\u529f\u80fd\u7684TMC\u6b65\u8fdb\u9a71\u52a8\u5668\uff08TMC2130\u3001TMC2209\u3001TMC2660\u6216TMC5160\uff09\u3002 \u9700\u8981TMC\u9a71\u52a8\u5668\u7684SPI / UART\u63a5\u53e3\u4e0e\u5fae\u63a7\u5236\u5668\u8fde\u63a5\uff08stand-alone \u6a21\u5f0f\u4e0d\u884c\uff09\u3002 \u9700\u8981\u628aTMC\u9a71\u52a8\u5668\u7684 \"DIAG \"\u6216 \"SG_TST \"\u5f15\u811a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u3002 \u5fc5\u987b\u6309\u7167 \u914d\u7f6e\u68c0\u67e5 \u6587\u4ef6\u4e2d\u7684\u6b65\u9aa4\u6765\u786e\u8ba4\u6b65\u8fdb\u7535\u673a\u7684\u914d\u7f6e\u548c\u8fd0\u8f6c\u6b63\u5e38\u3002 \u8c03\u6574 \u00b6 \u8c03\u6574\u8fc7\u7a0b\u6709\u516d\u4e2a\u4e3b\u8981\u6b65\u9aa4\uff1a \u9009\u62e9\u4e00\u4e2a\u5f52\u4f4d\u901f\u5ea6\u3002 \u914d\u7f6e printer.cfg \u6587\u4ef6\u4ee5\u542f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002 \u627e\u5230\u6709\u6700\u9ad8\u7075\u654f\u5ea6\u7684stallguard\u8bbe\u7f6e\uff0c\u786e\u4fdd\u5176\u6210\u529f\u627e\u5230\u96f6\u70b9\u4f4d\u7f6e\u3002 \u627e\u5230\u6709\u6700\u4f4e\u7075\u654f\u5ea6\u7684stallguard \u8bbe\u7f6e\uff0c\u786e\u4fdd\u53ea\u9700\u8f7b\u8f7b\u4e00\u78b0\u5c31\u80fd\u6210\u529f\u5f52\u96f6\u3002 \u66f4\u65b0 printer.cfg \uff0c\u52a0\u5165\u6240\u9700\u7684stallguard\u8bbe\u7f6e\u3002 \u521b\u5efa\u6216\u66f4\u65b0 printer.cfg \u5b8f\u786e\u4fdd\u7a33\u5b9a\u5f52\u4f4d\uff08home\uff09\u3002 \u9009\u62e9\u5f52\u4f4d\u901f\u5ea6 \u00b6 \u6267\u884c\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u65f6\uff0c\u5f52\u4f4d\u901f\u5ea6\u662f\u4e00\u4e2a\u91cd\u8981\u53c2\u6570\u3002\u6700\u597d\u4f7f\u7528\u8f83\u6162\u7684\u5f52\u4f4d\u901f\u5ea6\uff0c\u4ee5\u4fbf\u6ed1\u8f66\u5728\u4e0e\u8f68\u9053\u9650\u4f4d\u63a5\u89e6\u65f6\u4e0d\u4f1a\u5bf9\u6846\u67b6\u65bd\u52a0\u8fc7\u591a\u7684\u529b\u3002\u7136\u800c\uff0cTMC\u9a71\u52a8\u5668\u5728\u975e\u5e38\u6162\u7684\u901f\u5ea6\u4e0b\u5e76\u4e0d\u80fd\u53ef\u9760\u5730\u68c0\u6d4b\u5230\u5931\u901f\u3002 \u5f52\u4f4d\u901f\u5ea6\u7684\u6700\u4f73\u8c03\u6574\u8d77\u70b9\u662f\u6b65\u8fdb\u7535\u673a\u6bcf\u4e24\u79d2\u8f6c\u4e00\u5708\u3002\u5bf9\u4e8e\u8bb8\u591a\u8f74\uff0c\u8fd9\u5c31\u662f\u5c06\u662f rotation_distance \u9664\u4ee52\u3002\u4f8b\u5982\uff1a [stepper_x] rotation_distance: 40 homing_speed: 20 ... \u4e3a\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u914d\u7f6eprinter.cfg \u00b6 \u5728 stepper_x \u914d\u7f6e\u90e8\u5206\uff0c homing_retract_dist \u8bbe\u7f6e\u5fc5\u987b\u88ab\u8bbe\u4e3a\u96f6\uff0c\u4ee5\u7981\u7528\u7b2c\u4e8c\u6b21\u5f52\u4f4d\u52a8\u4f5c\u3002\u5728\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u65f6\uff0c\u7b2c\u4e8c\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u4e0d\u4f1a\u63d0\u9ad8\u7cbe\u5ea6\uff0c\u4e5f\u4e0d\u4f1a\u53ef\u9760\u5730\u5de5\u4f5c\uff0c\u800c\u4e14\u4f1a\u6270\u4e71\u8c03\u6574\u8fc7\u7a0b\u3002 \u786e\u4fdd\u5728\u914d\u7f6e\u7684TMC\u9a71\u52a8\u90e8\u5206\u6ca1\u6709\u6307\u5b9a hold_current \u7684\u8bbe\u7f6e\u3002\uff08\u5982\u679c\u8bbe\u7f6e\u4e86hold_current\uff0c\u90a3\u4e48\u5728\u63a5\u89e6\u540e\uff0c\u5f53\u6ed1\u8f66\u649e\u5230\u8f68\u9053\u672b\u7aef\u65f6\uff0c\u7535\u673a\u5c31\u4f1a\u505c\u6b62\uff0c\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u51cf\u5c11\u7535\u6d41\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6ed1\u8f66\u79fb\u52a8--\u8fd9\u5c06\u5bfc\u81f4\u5f52\u4f4d\u6027\u80fd\u4e0d\u4f73\uff0c\u5e76\u4f1a\u6270\u4e71\u8c03\u6574\u8fc7\u7a0b\u3002\uff09 \u9700\u8981\u914d\u7f6e\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5f15\u811a\uff0c\u5e76\u914d\u7f6e\u521d\u59cb \"stallguard \"\u8bbe\u7f6e\u3002\u4e00\u4e2a\u7528\u4e8eX\u8f74\u7684tmc2209\u793a\u4f8b\u914d\u7f6e\u5982\u4e0b\uff1a [tmc2209 stepper_x] diag_pin: ^PA1 # \u8bbe\u7f6eMCU\u5f15\u811a\u8fde\u63a5\u5230TMC\u7684DIAG\u5f15\u811a driver_SGTHRS: 255 # 255\u662f\u6700\u654f\u611f\u7684\u503c\uff0c0\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2209_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u4e8etmc2130\u6216tmc5160\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2130 stepper_x] diag1_pin: ^!PA1 # \u8fde\u63a5\u5230TMC\u7684DIAG1\u5f15\u811a(\u6216\u4f7f\u7528diag0_pin / DIAG0\u5f15\u811a) driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2130_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u4e8etmc2660\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2660 stepper_x] driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: ^PA1 # \u4e0eTMC SG_TST\u5f15\u811a\u76f8\u8fde\u7684\u5f15\u811a homing_retract_dist: 0 ... \u4e0a\u9762\u7684\u4f8b\u5b50\u53ea\u663e\u793a\u4e86\u9488\u5bf9\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u7684\u8bbe\u7f6e\u3002\u6240\u6709\u53ef\u7528\u9009\u9879\u8bf7\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002 \u627e\u5230\u80fd\u6210\u529f\u5f52\u4f4d\u7684\u6700\u9ad8\u7684\u654f\u611f\u5ea6\u8bbe\u5b9a \u00b6 \u5c06\u6ed1\u8f66\u653e\u5728\u9760\u8fd1\u8f68\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528SET_TMC_FIELD\u547d\u4ee4\u6765\u8bbe\u7f6e\u6700\u9ad8\u7075\u654f\u5ea6\u3002\u5bf9\u4e8etmc2209\uff1a SET_TMC_FIELD STEPPER=stepper_x FIELD=SGTHRS VALUE=255 \u5bf9\u4e8etmc2130, tmc5160, and tmc2660: SET_TMC_FIELD STEPPER=stepper_x FIELD=sgt VALUE=-64 \u7136\u540e\u53d1\u4e00\u4e2a G28 X0 \u547d\u4ee4\uff0c\u786e\u4fdd\u8f74\u5b8c\u5168\u4e0d\u52a8\u3002\u5982\u679c\u8f74\u79fb\u52a8\u4e86\uff0c\u7acb\u5373\u4e00\u4e2a M112 \u547d\u4ee4\u505c\u6b62\u6253\u5370\u673a-\u53ef\u80fd\u662fdiag/sg_tst\u5f15\u811a\u7684\u63a5\u7ebf\u6216\u914d\u7f6e\u6709\u95ee\u9898\uff0c\u5fc5\u987b\u5728\u7ee7\u7eed\u4e4b\u524d\u4fee\u6b63\u3002 \u63a5\u4e0b\u6765\uff0c\u4e0d\u65ad\u964d\u4f4e VALUE \u8bbe\u7f6e\u7684\u7075\u654f\u5ea6\uff0c\u5e76\u518d\u6b21\u8fd0\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4\uff0c\u627e\u5230\u80fd\u4f7f\u4f7f\u6ed1\u8f66\u6210\u529f\u5730\u4e00\u76f4\u79fb\u52a8\u5230\u7aef\u70b9\u5e76\u505c\u6b62\u7684\u6700\u9ad8\u7684\u7075\u654f\u5ea6\u3002(\u5bf9\u4e8eTMC2209\u9a71\u52a8\uff0c\u8c03\u6574\u662f\u51cf\u5c11 SGTHRS\uff0c\u5bf9\u4e8e\u5176\u4ed6\u9a71\u52a8\uff0c\u8c03\u6574\u662f\u589e\u52a0 sgt)\u3002\u786e\u4fdd\u6bcf\u6b21\u5c1d\u8bd5\u90fd\u5728\u8f68\u9053\u4e2d\u5fc3\u9644\u8fd1\u5f00\u59cb\uff08\u5982\u679c\u9700\u8981\uff0c\u53d1\u51fa M84 \uff0c\u7136\u540e\u624b\u52a8\u5c06\u6ed1\u8f66\u79fb\u5230\u4e2d\u5fc3\uff09\u3002\u8be5\u65b9\u6cd5\u5e94\u8be5\u53ef\u4ee5\u627e\u5230\u53ef\u9760\u5f52\u4f4d\u7684\u6700\u9ad8\u7075\u654f\u5ea6\uff08\u66f4\u9ad8\u7684\u7075\u654f\u5ea6\u8bbe\u7f6e\u4f1a\u5bfc\u81f4\u6ed1\u8f66\u53ea\u52a8\u4e00\u5c0f\u6bb5\u6216\u5b8c\u5168\u4e0d\u52a8\uff09\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u4e3a maximum_sensitivity \u3002(\u5982\u679c\u5728\u6700\u4f4e\u7075\u654f\u5ea6\uff08SGTHRS=0\u6216sgt=63\uff09\u4e0b\u6ed1\u8f66\u4e5f\u4e0d\u52a8\uff0c\u90a3\u4e48diag/sg_tst \u5f15\u811a\u7684\u63a5\u7ebf\u6216\u914d\u7f6e\u53ef\u80fd\u6709\u95ee\u9898\uff0c\u5fc5\u987b\u5728\u7ee7\u7eed\u540e\u9762\u64cd\u4f5c\u524d\u4e88\u4ee5\u4fee\u6b63\u3002\uff09 \u5728\u5bfb\u627e\u6700\u5927\u7075\u654f\u5ea6\u65f6\uff0c\u66f4\u65b9\u4fbf\u7684\u662f\u8df3\u5230\u4e0d\u540c\u7684VALUE\u8bbe\u7f6e\uff08\u6bd4\u5982\u5c06VALUE\u53c2\u6570\u7684\u4e00\u534a\uff09\u3002\u5982\u679c\u8fd9\u6837\u505a\uff0c\u8bf7\u51c6\u5907\u597d\u53d1\u51fa M112 \u547d\u4ee4\u4ee5\u505c\u6b62\u6253\u5370\u673a\uff0c\u56e0\u4e3a\u7075\u654f\u5ea6\u5f88\u4f4e\u7684\u8bbe\u7f6e\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8f74\u53cd\u590d \"\u649e \"\u5230\u5bfc\u8f68\u7684\u672b\u7aef\u3002 \u8bf7\u786e\u4fdd\u5728\u6bcf\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u4e4b\u95f4\u7b49\u5f85\u51e0\u79d2\u949f\u3002\u5728TMC\u9a71\u52a8\u7a0b\u5e8f\u68c0\u6d4b\u5230\u5931\u901f\u540e\uff0c\u5b83\u53ef\u80fd\u9700\u8981\u4e00\u70b9\u65f6\u95f4\u6765\u6e05\u9664\u5176\u5185\u90e8\u6307\u793a\u5668\uff0c\u624d\u80fd\u591f\u68c0\u6d4b\u5230\u4e0b\u4e00\u6b21\u5931\u901f\u3002 \u5728\u8c03\u6574\u6d4b\u8bd5\u4e2d\uff0c\u5982\u679c G28 X0 \u547d\u4ee4\u4e0d\u80fd\u5b8c\u5168\u79fb\u52a8\u5230\u8f74\u7684\u6781\u9650\u4f4d\u7f6e\uff0c\u90a3\u4e48\u5728\u53d1\u51fa\u4efb\u4f55\u5e38\u89c4\u79fb\u52a8\u547d\u4ee4\uff08\u4f8b\u5982\uff0c G1 \uff09\u65f6\u8981\u5c0f\u5fc3\u3002Klipper\u5c06\u4e0d\u80fd\u6b63\u786e\u5b9a\u4f4d\u6ed1\u5757\u7684\u4f4d\u7f6e\uff0c\u79fb\u52a8\u547d\u4ee4\u53ef\u80fd\u4f1a\u5bfc\u81f4\u975e\u9884\u671f\u548c\u6df7\u4e71\u7684\u7ed3\u679c\u3002 \u627e\u5230\u6700\u4f4e\u7684\u7075\u654f\u5ea6\uff0c\u53ea\u9700\u4e00\u6b21\u63a5\u89e6\u5c31\u80fd\u5f52\u4f4d \u00b6 \u5f53\u7528\u627e\u5230\u7684 \u6700\u5927\u7075\u654f\u5ea6 \u503c\u5f52\u4f4d\u65f6\uff0c\u8f74\u5e94\u8be5\u79fb\u52a8\u5230\u8f68\u9053\u7684\u672b\u7aef\u5e76 \"single touch\uff08\u4e00\u89e6\u5373\u505c\uff09\"--\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u5e94\u8be5\u6709 \"\u5494\u5693 \"\u6216 \"\u7830 \"\u7684\u58f0\u97f3\u3002(\u5982\u679c\u5728\u6700\u5927\u7075\u654f\u5ea6\u4e0b\u6709\u649e\u51fb\u6216\u70b9\u51fb\u58f0\uff0c\u90a3\u4e48\u5f52\u4f4d\u901f\u5ea6\u53ef\u80fd\u592a\u4f4e\uff0c\u9a71\u52a8\u7535\u6d41\u53ef\u80fd\u592a\u4f4e\uff0c\u6216\u8005\u8be5\u8f74\u53ef\u80fd\u4e0d\u9002\u5408\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002\uff09 \u4e0b\u4e00\u6b65\u662f\u518d\u6b21\u6301\u7eed\u79fb\u52a8\u6ed1\u5757\u5230\u9760\u8fd1\u8f68\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\uff0c\u964d\u4f4e\u7075\u654f\u5ea6\uff0c\u5e76\u8fd0\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4 - \u8fd9\u6b21\u7684\u76ee\u6807\u662f\u627e\u5230\u6700\u4f4e\u7684\u7075\u654f\u5ea6\uff0c\u4ecd\u80fd\u4f7f\u6ed1\u5757\u6210\u529f\u5730 \"\u4e00\u89e6\u5373\u505c\"\u5f52\u4f4d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u63a5\u89e6\u5230\u8f68\u9053\u7684\u672b\u7aef\u65f6\uff0c\u5b83\u4e0d\u4f1a\u53d1\u51fa\"\u7830 \"\u6216 \"\u5494\"\u7684\u58f0\u97f3\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u662f minimum_sensitivity \u3002 \u66f4\u65b0printer.cfg\u4e2d\u7684\u7075\u654f\u5ea6\u503c \u00b6 \u5728\u627e\u5230 maximum_sensitivity \u548c minimum_sensitivity \u540e\uff0c\u8ba1\u7b97\u5f97\u5230\u63a8\u8350\u7684\u7075\u654f\u5ea6\u4e3a minimum_sensitivity +(maximum_sensitivity-minimum_sensitivity)/3 \u3002\u63a8\u8350\u7684\u7075\u654f\u5ea6\u5e94\u8be5\u5728\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u4e4b\u95f4\uff0c\u4f46\u7565\u5fae\u63a5\u8fd1\u6700\u5c0f\u503c\u3002\u5c06\u6700\u7ec8\u503c\u56db\u820d\u4e94\u5165\u5230\u6700\u8fd1\u7684\u6574\u6570\u503c\u3002 \u5bf9\u4e8eTMC2209\uff0c\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e driver_SGTHRS \uff0c\u5bf9\u4e8e\u5176\u4ed6TMC\u9a71\u52a8\uff0c\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e driver_SGT \u3002 \u5982\u679c maximum_sensitivity \u548c minimum_sensitivity \u4e4b\u95f4\u7684\u8303\u56f4\u5f88\u5c0f\uff08\u4f8b\u5982\uff0c\u5c0f\u4e8e5\uff09\uff0c\u90a3\u4e48\u53ef\u80fd\u5bfc\u81f4\u4e0d\u7a33\u5b9a\u7684\u5f52\u4f4d\u3002\u66f4\u5feb\u7684\u5f52\u4f4d\u901f\u5ea6\u53ef\u4ee5\u6269\u5927\u8303\u56f4\uff0c\u4f7f\u64cd\u4f5c\u66f4\u52a0\u7a33\u5b9a\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5bf9\u9a71\u52a8\u7535\u6d41\u3001\u5f52\u4f4d\u901f\u5ea6\u505a\u4e86\u4efb\u4f55\u6539\u53d8\uff0c\u6216\u8005\u5bf9\u6253\u5370\u673a\u786c\u4ef6\u505a\u4e86\u660e\u663e\u7684\u6539\u53d8\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u518d\u6b21\u8fd0\u884c\u8fd9\u4e2a\u8c03\u6574\u8fc7\u7a0b\u3002 \u5f52\u4f4d\u65f6\u4f7f\u7528\u5b8f \u00b6 \u5728\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5b8c\u6210\u540e\uff0c\u6ed1\u8f66\u5c06\u9876\u5230\u5bfc\u8f68\u7684\u672b\u7aef\uff0c\u6b65\u8fdb\u5668\u5c06\u6301\u7eed\u5bf9\u6846\u67b6\u65bd\u52a0\u529b\uff0c\u76f4\u5230\u6ed1\u8f66\u79fb\u5f00\u3002\u6700\u597d\u521b\u5efa\u4e00\u4e2a\u5b8f\u6765\u4f7f\u8f74\u5f52\u4f4d\uff0c\u5e76\u7acb\u5373\u5c06\u5c0f\u8f66\u4ece\u8f68\u9053\u7684\u672b\u7aef\u79fb\u5f00\u3002 \u5728\u5f00\u59cb\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u4e4b\u524d\uff0c\u5b8f\u6700\u597d\u6682\u505c\u81f3\u5c112\u79d2\uff08\u6216\u786e\u4fdd\u6b65\u8fdb\u57282\u79d2\u5185\u6ca1\u6709\u79fb\u52a8\uff09\u3002\u5982\u679c\u6ca1\u6709\u5ef6\u8fdf\uff0c\u9a71\u52a8\u5668\u7684\u5185\u90e8\u5931\u901f\u6807\u5fd7\u6709\u53ef\u80fd\u5728\u4e4b\u524d\u7684\u79fb\u52a8\u4e2d\u88ab\u8bbe\u7f6e\u4e86\u3002 \u4f7f\u7528\u5b8f\u5728\u5f52\u4f4d\u524d\u8bbe\u7f6e\u9a71\u52a8\u7535\u6d41\uff0c\u5e76\u5728\u6ed1\u8f66\u79fb\u5f00\u540e\u8bbe\u7f6e\u65b0\u7684\u7535\u6d41\uff0c\u4e5f\u4f1a\u5f88\u6709\u7528\u3002 \u4e00\u4e2a\u5b8f\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [gcode_macro SENSORLESS_HOME_X] gcode: {% set HOME_CUR = 0.700 %} {% set driver_config = printer.configfile.settings['tmc2209 stepper_x'] %} {% set RUN_CUR = driver_config.run_current %} # \u4e3a\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u8bbe\u7f6e\u7535\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={HOME_CUR} # \u6682\u505c\uff0c\u4ee5\u786e\u4fdd\u9a71\u52a8\u5668\u5931\u901f\u6807\u5fd7\u88ab\u6e05\u9664 G4 P2000 # \u5f52\u4f4d G28 X0 # \u79fb\u5f00 G90 G1 X5 F1200 # \u6253\u5370\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u7535\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={RUN_CUR} \u4ea7\u751f\u7684\u5b8f\u53ef\u4ee5\u4ece homing_override\u914d\u7f6e\u90e8\u5206 \u6216 START_PRINT\u5b8f \u4e2d\u8c03\u7528\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5f52\u4f4d\u671f\u95f4\u7684\u9a71\u52a8\u7535\u6d41\u53d1\u751f\u53d8\u5316\uff0c\u5219\u5e94\u91cd\u65b0\u8fd0\u884c\u8c03\u6574\u8fc7\u7a0b\u3002 \u5728CoreXY\u4e0a\u8fdb\u884c\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u7684\u6280\u5de7 \u00b6 \u53ef\u4ee5\u5728CoreXY\u6253\u5370\u673a\u7684X\u548cY\u884c\u8f66\u4e0a\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002Klipper\u4f7f\u7528 [stepper_x] \u6b65\u8fdb\u5668\u6765\u68c0\u6d4bX\u6ed1\u8f66\u5f52\u4f4d\u65f6\u7684\u5931\u901f\uff0c\u4f7f\u7528 [stepper_y] \u6b65\u8fdb\u5668\u6765\u68c0\u6d4bY\u6ed1\u8f66\u5f52\u4f4d\u65f6\u7684\u5931\u901f\u3002 \u4f7f\u7528\u4e0a\u8ff0\u7684\u8c03\u8c10\u6307\u5357\uff0c\u4e3a\u6bcf\u4e2a\u6ed1\u8f66\u627e\u5230\u5408\u9002\u7684 \"\u5931\u901f\u7075\u654f\u5ea6\"\uff0c\u4f46\u8981\u6ce8\u610f\u4ee5\u4e0b\u9650\u5236\uff1a \u5f53\u5728CoreXY\u4e0a\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u65f6\uff0c\u786e\u4fdd\u6ca1\u6709\u4e3a\u4efb\u4f55\u4e00\u4e2a\u6b65\u8fdb\u7535\u673a\u914d\u7f6e hold_current \u3002 \u5728\u8c03\u6574\u65f6\uff0c\u786e\u4fddX\u548cY\u8f66\u67b6\u5728\u6bcf\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u524d\u90fd\u63a5\u8fd1\u5176\u8f68\u9053\u7684\u4e2d\u5fc3\u3002 \u8c03\u6574\u5b8c\u6210\u540e\uff0c\u5f53X\u548cY\u8f74\u5f52\u4f4d\u65f6\uff0c\u4f7f\u7528\u5b8f\u6765\u786e\u4fdd\u4e00\u4e2a\u8f74\u9996\u5148\u88ab\u5f52\u4f4d\uff0c\u7136\u540e\u5c06\u8be5\u6ed1\u8f66\u8fdc\u79bb\u8f74\u7684\u6781\u9650\uff0c\u505c\u987f\u81f3\u5c112\u79d2\uff0c\u7136\u540e\u5f00\u59cb\u53e6\u4e00\u4e2a\u6ed1\u8f66\u7684\u5f52\u4f4d\u3002\u8fdc\u79bb\u8f74\u7aef\u70b9\u7684\u79fb\u52a8\u53ef\u4ee5\u907f\u514d\u4e00\u4e2a\u8f74\u88ab\u5f52\u4f4d\uff0c\u800c\u53e6\u4e00\u4e2a\u8f74\u9876\u5728\u8f74\u7684\u6781\u9650\u4e0a\uff08\u8fd9\u53ef\u80fd\u4f7f\u5931\u901f\u68c0\u6d4b\u53d1\u751f\u504f\u5dee\uff09\u3002\u6682\u505c\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u786e\u4fdd\u9a71\u52a8\u5668\u7684\u5931\u901f\u6807\u5fd7\u5728\u518d\u6b21\u5f52\u4f4d\u4e4b\u524d\u88ab\u6e05\u9664\u3002 \u67e5\u8be2\u548c\u8bca\u65ad\u9a71\u52a8\u7a0b\u5e8f\u8bbe\u7f6e \u00b6 ` DUMP_TMC \u547d\u4ee4 \u662f\u914d\u7f6e\u548c\u8bca\u65ad\u9a71\u52a8\u7a0b\u5e8f\u7684\u6709\u6548\u5de5\u5177\u3002\u5b83\u5c06\u62a5\u544a\u6240\u6709\u7531Klipper\u914d\u7f6e\u7684\u5b57\u6bb5\uff0c\u4ee5\u53ca\u6240\u6709\u53ef\u4ee5\u4ece\u9a71\u52a8\u4e2d\u67e5\u8be2\u5230\u7684\u5b57\u6bb5\u3002 \u6240\u6709\u62a5\u544a\u7684\u5b57\u6bb5\u90fd\u5b9a\u4e49\u5728\u9a71\u52a8\u5668\u7684Trinamic\u6570\u636e\u624b\u518c\u4e2d\u3002\u8fd9\u4e9b\u6570\u636e\u8868\u53ef\u4ee5\u5728 Trinamic\u7f51\u7ad9 \u4e0a\u627e\u5230\u3002\u8bf7\u83b7\u53d6\u5e76\u67e5\u770b\u9a71\u52a8\u5668\u7684Trinamic\u6570\u636e\u624b\u518c\u6765\u89e3\u91caDUMP_TMC\u7684\u7ed3\u679c\u3002 \u914d\u7f6edriver_XXX\u8bbe\u7f6e \u00b6 Klipper\u652f\u6301\u4f7f\u7528 driver_XXX \u8bbe\u7f6e\u6765\u914d\u7f6e\u8bb8\u591a\u5e95\u5c42\u9a71\u52a8\u7a0b\u5e8f\u5b57\u6bb5\u3002 TMC\u9a71\u52a8\u914d\u7f6e\u53c2\u8003 \u6709\u6bcf\u79cd\u7c7b\u578b\u7684\u9a71\u52a8\u53ef\u7528\u5b57\u6bb5\u7684\u5b8c\u6574\u5217\u8868\u3002 \u6b64\u5916\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u5b57\u6bb5\u90fd\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4f7f\u7528 SET_TMC_FIELD\u547d\u4ee4 \u8fdb\u884c\u4fee\u6539\u3002 \u6bcf\u4e00\u4e2a\u5b57\u6bb5\u90fd\u5728\u9a71\u52a8\u5668\u7684Trinamic\u6570\u636e\u624b\u518c\u4e2d\u6709\u5b9a\u4e49\u3002\u8fd9\u4e9b\u6570\u636e\u8868\u53ef\u4ee5\u5728 Trinamic\u7f51\u7ad9 \u4e0a\u627e\u5230\u3002 \u8bf7\u6ce8\u610f\uff0cTrinamic\u7684\u6570\u636e\u8868\u4e2d\uff0c\u6709\u65f6\u4e00\u4e9b\u8bcd\u53ef\u80fd\u5bfc\u81f4\u5728\u9ad8\u5c42\u8bbe\u7f6e\uff08\u5982 \"hysteresis end\"\uff09\u548c\u5e95\u5c42\u5b57\u6bb5\u503c\uff08\u5982 \"HEND\"\uff09\u7684\u6df7\u4e71\u3002\u5728Klipper\u4e2d\uff0c driver_XXX \u548cSET_TMC_FIELD\u603b\u662f\u8bbe\u7f6e\u5b9e\u9645\u5199\u5165\u9a71\u52a8\u5668\u7684\u5e95\u5c42\u6b21\u5b57\u6bb5\u503c\u3002\u4f8b\u5982\uff0c\u5982\u679cTrinamic\u7684\u6570\u636e\u8868\u6307\u51fa\uff0c\u9700\u8981\u5c063\u7684\u503c\u5199\u5165HEND\u5b57\u6bb5\uff0c\u4ee5\u4f7f\u5f97 \"hysteresis end\"\u7b49\u4e8e0\uff0c\u90a3\u4e48\u8bbe\u7f6e driver_HEND=3 \u4f7f\u5f97\u9ad8\u5c42\u83b7\u5f970\u7684\u503c\u3002 \u5e38\u89c1\u95ee\u9898 \u00b6 \u6211\u53ef\u4ee5\u5728\u6709\u538b\u529b\u63a8\u8fdb\uff08pressure advance\uff09\u7684\u6324\u51fa\u673a\u4e0a\u4f7f\u7528stealthChop \u6a21\u5f0f\u5417\uff1f \u00b6 \u8bb8\u591a\u4eba\u6210\u529f\u5730\u5728 \"stealthChop \"\u6a21\u5f0f\u4e0b\u4f7f\u7528\u4e86Klipper\u7684\u538b\u529b\u63a8\u8fdb\u3002Klipper\u5b9e\u73b0\u4e86 \u5e73\u6ed1\u538b\u529b\u63a8\u8fdb \uff0c\u5b83\u4e0d\u4f1a\u5f15\u5165\u4efb\u4f55\u77ac\u65f6\u901f\u5ea6\u53d8\u5316\u3002 \u7136\u800c\uff0c\"stealthChop \"\u6a21\u5f0f\u53ef\u80fd\u5bfc\u81f4\u8f83\u4f4e\u7684\u7535\u673a\u626d\u77e9\u548c/\u6216\u4ea7\u751f\u8f83\u9ad8\u7684\u7535\u673a\u70ed\u91cf\u3002\u5bf9\u4e8e\u4f60\u7684\u7279\u5b9a\u6253\u5370\u673a\u6765\u8bf4\uff0c\u5b83\u53ef\u80fd\u662f\u4e5f\u53ef\u80fd\u4e0d\u662f\u4e00\u4e2a\u5408\u9002\u7684\u6a21\u5f0f\u3002 \u6211\u4e00\u76f4\u5f97\u5230 \"Unable to read tmc uart 'stepper_x' register IFCNT \"\u7684\u9519\u8bef\uff1f \u00b6 \u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u5728Klipper\u65e0\u6cd5\u4e0etmc2208\u6216tmc2209\u9a71\u52a8\u901a\u4fe1\u65f6\u3002 \u786e\u4fdd\u7535\u673a\u7535\u6e90\u542f\u7528\uff0c\u56e0\u4e3a\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u5728\u4e0e\u5fae\u63a7\u5236\u5668\u901a\u4fe1\u4e4b\u524d\u4e00\u822c\u9700\u8981\u786e\u4fdd\u7535\u673a\u5148\u4e0a\u7535\u3002 \u5982\u679c\u8fd9\u4e2a\u9519\u8bef\u662f\u5728\u7b2c\u4e00\u6b21\u5237\u5199Klipper\u540e\u53d1\u751f\u7684\uff0c\u90a3\u4e48\u6b65\u8fdb\u9a71\u52a8\u5668\u53ef\u80fd\u5904\u5728\u4e00\u4e2a\u72b6\u6001\uff0c\u6b64\u72b6\u6001\u4e0e\u521a\u521a\u5199\u5165\u7684Klipper\u4e0d\u517c\u5bb9\u3002\u8981\u91cd\u7f6e\u8be5\u72b6\u6001\uff0c\u8bf7\u5c06\u6253\u5370\u673a\u7684\u6240\u6709\u7535\u6e90\u62d4\u6389\u51e0\u79d2\u949f\uff08\u7269\u7406\u4e0a\u62d4\u6389USB\u63d2\u5934\u548c\u7535\u6e90\u63d2\u5934\uff09\u3002 \u5426\u5219\uff0c\u8fd9\u79cd\u9519\u8bef\u901a\u5e38\u662f\u7531\u4e8eUART\u5f15\u811a\u63a5\u7ebf\u4e0d\u6b63\u786e\u6216Klipper\u914d\u7f6e\u7684UART\u5f15\u811a\u8bbe\u7f6e\u4e0d\u6b63\u786e\u9020\u6210\u7684\u3002 \u6211\u4e00\u76f4\u5f97\u5230 \"Unable to write tmc spi 'stepper_x' register ...\"\u7684\u9519\u8bef\uff1f \u00b6 \u5f53Klipper\u65e0\u6cd5\u4e0etmc2130\u6216tmc5160\u9a71\u52a8\u901a\u4fe1\u65f6\u5c31\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u3002 \u786e\u4fdd\u7535\u673a\u7535\u6e90\u542f\u7528\uff0c\u56e0\u4e3a\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u5728\u4e0e\u5fae\u63a7\u5236\u5668\u901a\u4fe1\u4e4b\u524d\u4e00\u822c\u9700\u8981\u786e\u4fdd\u7535\u673a\u5148\u4e0a\u7535\u3002 \u5426\u5219\uff0c\u8fd9\u79cd\u9519\u8bef\u901a\u5e38\u662f\u7531\u4e8eSPI\u63a5\u7ebf\u4e0d\u6b63\u786e\u3001Klipper\u5bf9SPI\u8bbe\u7f6e\u7684\u914d\u7f6e\u4e0d\u6b63\u786e\u6216SPI\u603b\u7ebf\u4e0a\u7684\u8bbe\u5907\u914d\u7f6e\u4e0d\u5b8c\u6574\u9020\u6210\u7684\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u9a71\u52a8\u5668\u662f\u5728\u6302\u591a\u4e2a\u8bbe\u5907\u5171\u4eab\u7684SPI\u603b\u7ebf\u4e0a\uff0c\u90a3\u4e48\u4e00\u5b9a\u8981\u5728Klipper\u4e2d\u5b8c\u5168\u914d\u7f6e\u8be5\u5171\u4eabSPI\u603b\u7ebf\u4e0a\u7684\u6bcf\u4e2a\u8bbe\u5907\u3002\u5982\u679c\u5171\u4eabSPI\u603b\u7ebf\u4e0a\u7684\u4e00\u4e2a\u8bbe\u5907\u6ca1\u6709\u88ab\u914d\u7f6e\uff0c\u90a3\u4e48\u5b83\u53ef\u80fd\u4f1a\u9519\u8bef\u5730\u54cd\u5e94\u4e0d\u662f\u4e3a\u5b83\u51c6\u5907\u7684\u547d\u4ee4\uff0c\u5e76\u7834\u574f\u4e0e\u76ee\u6807\u8bbe\u5907\u7684\u901a\u4fe1\u3002\u5982\u679c\u5728\u5171\u4eab\u7684SPI\u603b\u7ebf\u4e0a\u6709\u4e0d\u80fd\u5728Klipper\u4e2d\u914d\u7f6e\u7684\u8bbe\u5907\uff0c\u90a3\u4e48\u4f7f\u7528 static_digital_output config section \u5c06\u672a\u4f7f\u7528\u7684\u8bbe\u5907\u7684CS\u5f15\u811a\u8bbe\u7f6e\u4e3a\u9ad8\u7535\u5e73\uff08\u8fd9\u6837\u5b83\u5c31\u4e0d\u4f1a\u8bd5\u56fe\u4f7f\u7528SPI\u603b\u7ebf\uff09\u3002\u7535\u8def\u677f\u7684\u539f\u7406\u56fe\u901a\u5e38\u662f\u4e00\u4e2a\u6709\u7528\u7684\u53c2\u8003\uff0c\u539f\u7406\u56fe\u4e0a\u53ef\u4ee5\u627e\u5230\u54ea\u4e9b\u8bbe\u5907\u6302\u5728SPI\u603b\u7ebf\u4e0a\u4ee5\u53ca\u5b83\u4eec\u7684\u76f8\u5173\u5f15\u811a\u3002 \u4e3a\u4ec0\u4e48\u6211\u5f97\u5230\u4e00\u4e2a \"TMC reports error: ...\"\u9519\u8bef\uff1f \u00b6 \u8fd9\u7c7b\u578b\u7684\u9519\u8bef\u8868\u660eTMC\u9a71\u52a8\u5668\u68c0\u6d4b\u5230\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5e76\u4e14\u5df2\u7ecf\u81ea\u6211\u7981\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u9a71\u52a8\u5668\u5df2\u7ecf\u505c\u6b62\u4e86\u4fdd\u6301\u4f4d\u7f6e\uff0c\u5e76\u5ffd\u7565\u4e86\u79fb\u52a8\u547d\u4ee4\u3002\u5982\u679cKlipper\u68c0\u6d4b\u5230\u4e00\u4e2a\u6fc0\u6d3b\u7684\u9a71\u52a8\u5668\u5df2\u7ecf\u81ea\u6211\u7981\u7528\uff0c\u5b83\u5c31\u4f1a\u628a\u6253\u5370\u673a\u5207\u6362\u5230 \"\u5173\u95ed \"\u72b6\u6001\u3002 \u4e5f\u6709\u53ef\u80fd\u7531\u4e8eSPI\u9519\u8bef\u5bfc\u81f4\u65e0\u6cd5\u4e0e\u9a71\u52a8\u5668\u901a\u4fe1\u800c\u53d1\u751f TMC reports error \u5bfc\u81f4\u7684\u5173\u673a\uff08\u5728tmc2130\u3001tmc5160\u6216tmc2660\u4e0a\uff09\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u62a5\u544a\u7684\u9a71\u52a8\u5668\u72b6\u6001\u901a\u5e38\u4f1a\u663e\u793a \"00000000 \"\u6216 \"ffffff\"--\u4f8b\u5982\uff1a TMC reports error: DRV_STATUS: ffffffff ... \u6216\u8005 TMC reports error: READRSP@RDSEL2: 00000000 ... \u3002\u8fd9\u6837\u7684\u6545\u969c\u53ef\u80fd\u662f\u7531\u4e8eSPI\u7684\u63a5\u7ebf\u95ee\u9898\uff0c\u4e5f\u53ef\u80fd\u662f\u7531\u4e8eTMC\u9a71\u52a8\u5668\u7684\u81ea\u590d\u4f4d\u6216\u6545\u969c\u5bfc\u81f4\u7684\u3002 \u4e00\u4e9b\u5e38\u89c1\u7684\u9519\u8bef\u548c\u8bca\u65ad\u7684\u6280\u5de7\uff1a TMC \u62a5\u544a\u9519\u8bef\uff1a ... ot=1(OvertempError!) \u00b6 \u8fd9\u8868\u660e\u7535\u673a\u9a71\u52a8\u5668\u56e0\u6e29\u5ea6\u8fc7\u9ad8\u800c\u81ea\u6211\u7981\u7528\u3002\u5178\u578b\u7684\u89e3\u51b3\u65b9\u6848\u662f\u964d\u4f4e\u6b65\u8fdb\u7535\u673a\u7684\u7535\u6d41\uff0c\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u7684\u51b7\u5374\uff0c\u548c/\u6216\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u7684\u51b7\u5374\u3002 TMC \u62a5\u544a\u9519\u8bef: ... ShortToGND \u6216\u7740 LowSideShort \u00b6 \u8fd9\u8868\u660e\u9a71\u52a8\u5668\u5df2\u81ea\u884c\u7981\u7528\uff0c\u56e0\u4e3a\u5b83\u68c0\u6d4b\u5230\u901a\u8fc7\u9a71\u52a8\u5668\u7684\u7535\u6d41\u975e\u5e38\u9ad8\u3002\u8fd9\u53ef\u80fd\u8868\u660e\u8fde\u63a5\u5230\u6b65\u8fdb\u7535\u673a\u6216\u8005\u90e8\u4ef6\u7535\u673a\u5185\u90e8\u7684\u7535\u7ebf\u677e\u52a8\u6216\u77ed\u8def\u4e86\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u5e76\u4e14TMC\u9a71\u52a8\u5668\u4e0d\u80fd\u51c6\u786e\u5730\u9884\u6d4b\u7535\u673a\u7684\u673a\u68b0\u8d1f\u8f7d\uff0c\u4e5f\u53ef\u80fd\u53d1\u751f\u8fd9\u79cd\u9519\u8bef\u3002(\u5982\u679c\u9a71\u52a8\u5668\u9884\u6d4b\u4e0d\u51c6\u786e\uff0c\u90a3\u4e48\u5b83\u53ef\u80fd\u8f93\u51fa\u8fc7\u9ad8\u7535\u6d41\u5230\u7535\u673a\uff0c\u5e76\u89e6\u53d1\u81ea\u5df1\u7684\u8fc7\u7535\u6d41\u68c0\u6d4b)\u3002\u8981\u6d4b\u8bd5\u8fd9\u4e2a\uff0c\u8bf7\u7981\u7528stealthChop\u6a21\u5f0f\uff0c\u518d\u68c0\u67e5\u9519\u8bef\u662f\u5426\u7ee7\u7eed\u53d1\u751f\u3002 TMC\u62a5\u544a\u9519\u8bef\uff1a ... reset=1(Reset) \u6216 CS_ACTUAL=0(Reset?) \u6216 SE=0(Reset?) \u00b6 \u8fd9\u8868\u660e\u9a71\u52a8\u5668\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u81ea\u6211\u590d\u4f4d\u3002\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u7535\u538b\u6216\u63a5\u7ebf\u95ee\u9898\u5bfc\u81f4\u7684\u3002 TMC \u62a5\u544a\u9519\u8bef\uff1a ... uv_cp=1(Undervoltage!) \u00b6 \u8fd9\u8868\u660e\u9a71\u52a8\u5668\u68c0\u6d4b\u5230\u4e86\u4e00\u4e2a\u7535\u538b\u4f4e\u4e8b\u4ef6\uff0c\u5e76\u5df2\u81ea\u884c\u7981\u7528\u3002\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u63a5\u7ebf\u6216\u7535\u6e90\u95ee\u9898\u5bfc\u81f4\u7684\u3002 \u6211\u5982\u4f55\u5728\u6211\u7684\u9a71\u52a8\u5668\u4e0a\u8c03\u6574 spreadCycle/coolStep\u7b49\u6a21\u5f0f\uff1f \u00b6 Trinamic\u7f51\u7ad9 \u6709\u5173\u4e8e\u914d\u7f6e\u9a71\u52a8\u7a0b\u5e8f\u7684\u6307\u5357\u3002\u8fd9\u4e9b\u6307\u5357\u901a\u5e38\u662f\u4e13\u4e1a\u3001\u5e95\u5c42\u4e14\u53ef\u80fd\u9700\u8981\u4e13\u7528\u7684\u786c\u4ef6\u3002\u4e0d\u7ba1\u600e\u4e48\u8bf4\uff0c\u5b83\u4eec\u662f\u6700\u597d\u7684\u4fe1\u606f\u6765\u6e90\u3002","title":"TMC \u9a71\u52a8\u5668"},{"location":"TMC_Drivers.html#tmc","text":"\u8fd9\u4e2a\u6587\u6863\u63d0\u4f9b\u4e86\u5728Klipper\u4e0a\u4ee5SPI/UART\u6a21\u5f0f\u4f7f\u7528Trinamic\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u7684\u4fe1\u606f\u3002 Klipper\u4e5f\u53ef\u4ee5\u5728\u5176 \"standalone mode\"\u4e0b\u4f7f\u7528Trinamic\u9a71\u52a8\u3002\u7136\u800c\uff0c\u5f53\u9a71\u52a8\u5904\u4e8e\u8fd9\u79cd\u6a21\u5f0f\u65f6\uff0c\u4e0d\u9700\u8981\u7279\u6b8a\u7684Klipper\u914d\u7f6e\uff0c\u672c\u6587\u4ef6\u4e2d\u8ba8\u8bba\u7684\u9ad8\u7ea7Klipper\u529f\u80fd\u4e5f\u65e0\u6cd5\u4f7f\u7528\u3002 \u9664\u4e86\u8fd9\u4efd\u6587\u6863\uff0c\u8bf7\u52a1\u5fc5\u67e5\u770b TMC\u9a71\u52a8\u914d\u7f6e\u53c2\u8003 .","title":"TMC \u9a71\u52a8\u5668"},{"location":"TMC_Drivers.html#_1","text":"\u8f83\u9ad8\u7684\u9a71\u52a8\u7535\u6d41\u53ef\u4ee5\u63d0\u9ad8\u5b9a\u4f4d\u7cbe\u5ea6\u548c\u626d\u77e9\u3002\u7136\u800c\uff0c\u8f83\u9ad8\u7684\u7535\u6d41\u4e5f\u4f1a\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u548c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4ea7\u751f\u7684\u70ed\u91cf\u3002\u5982\u679c\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u592a\u70ed\uff0c\u5b83\u5c31\u4f1a\u81ea\u884c\u5931\u6548\uff0cKlipper\u4f1a\u62a5\u544a\u9519\u8bef\u3002\u5982\u679c\u6b65\u8fdb\u7535\u673a\u592a\u70ed\uff0c\u5b83\u5c06\u5931\u53bb\u626d\u77e9\u548c\u4f4d\u7f6e\u7cbe\u5ea6\u3002(\u5982\u679c\u5b83\u53d8\u5f97\u975e\u5e38\u70ed\uff0c\u8fd8\u53ef\u80fd\u878d\u5316\u8fde\u63a5\u5728\u5b83\u8eab\u4e0a\u6216\u9644\u8fd1\u7684\u5851\u6599\u90e8\u4ef6\u3002\uff09 \u4f5c\u4e3a\u4e00\u822c\u7684\u8c03\u6574\u5efa\u8bae\uff0c\u53ea\u8981\u6b65\u8fdb\u7535\u673a\u4e0d\u4f1a\u592a\u70ed\uff0c\u5e76\u4e14\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u4e0d\u4f1a\u62a5\u544a\u8b66\u544a\u6216\u9519\u8bef\uff0c\u5c31\u53ef\u4ee5\u9009\u62e9\u66f4\u9ad8\u7684\u7535\u6d41\u503c\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u6b65\u8fdb\u7535\u673a\u611f\u5230\u6e29\u70ed\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u4e0d\u5e94\u8be5\u70ed\u5230\u89e6\u6478\u8d77\u6765\u5f88\u70eb\u624b\u3002","title":"\u8c03\u6574\u7535\u673a\u7535\u6d41"},{"location":"TMC_Drivers.html#hold_current","text":"\u5982\u679c\u914d\u7f6e\u4e86 hold_current \uff0c\u90a3\u4e48TMC\u9a71\u52a8\u5668\u53ef\u4ee5\u5728\u68c0\u6d4b\u5230\u6b65\u8fdb\u7535\u673a\u6ca1\u6709\u79fb\u52a8\u65f6\u4f1a\u51cf\u5c11\u6b65\u8fdb\u7535\u673a\u7684\u7535\u6d41\u3002\u7136\u800c\uff0c\u6539\u53d8\u7535\u673a\u7535\u6d41\u672c\u8eab\u53ef\u80fd\u4f1a\u5f15\u8d77\u7535\u673a\u8f6c\u52a8\u3002\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u6b65\u8fdb\u7535\u673a\u5185\u90e8\u7684 \"\u963b\u6ede\u529b\"\uff08\u8f6c\u5b50\u4e2d\u7684\u6c38\u4e45\u78c1\u94c1\u62c9\u5411\u5b9a\u5b50\u4e2d\u7684\u94c1\u9f7f\uff09\u6216\u8f74\u6ed1\u8f66\u4e0a\u7684\u5916\u529b\u9020\u6210\u7684\u3002 \u5bf9\u4e8e\u5927\u591a\u6570\u6b65\u8fdb\u7535\u673a\uff0c\u5728\u6b63\u5e38\u7684\u6253\u5370\u8fc7\u7a0b\u4e2d\u51cf\u5c11\u7535\u6d41\u4e0d\u4f1a\u5e26\u6765\u663e\u8457\u7684\u597d\u5904\uff0c\u56e0\u4e3a\u5f88\u5c11\u6709\u6253\u5370\u52a8\u4f5c\u4f1a\u8ba9\u6b65\u8fdb\u7535\u673a\u7a7a\u95f2\u8db3\u591f\u957f\u7684\u65f6\u95f4\u6765\u6fc0\u6d3b hold_current \uff08\u4fdd\u6301\u7535\u6d41\uff09\u529f\u80fd\u3002\u800c\u4e14\uff0c\u4f60\u4e5f\u4e0d\u4f1a\u5e0c\u671b\u5728\u5c11\u6570\u4f7f\u6b65\u8fdb\u7535\u673a\u7a7a\u95f2\u8db3\u591f\u957f\u7684\u65f6\u95f4\u7684\u6253\u5370\u52a8\u4f5c\u4e2d\u5f15\u5165\u5c0f\u7684\u6253\u5370\u7455\u75b5\u3002 \u5982\u679c\u5e0c\u671b\u5728\u6253\u5370\u9884\u70ed\u65f6\u51cf\u5c11\u7535\u673a\u7684\u7535\u6d41\uff0c\u90a3\u4e48\u53ef\u4ee5\u8003\u8651\u5728 START_PRINT\u5b8f \u4e2d\u5199\u5165 SET_TMC_CURRENT \u547d\u4ee4\uff0c\u5728\u6b63\u5e38\u6253\u5370\u5f00\u59cb\u524d\u540e\u8c03\u6574\u7535\u6d41\u3002 \u4e00\u4e9b\u6253\u5370\u673a\u7684\u4e13\u7528Z\u8f74\u7535\u673a\u5728\u6b63\u5e38\u7684\u6253\u5370\u52a8\u4f5c\u4e2d\u662f\u7a7a\u95f2\u7684\uff08\u6ca1\u6709\u5e8a\u7f51\uff08bed_mesh\uff09\uff0c\u6ca1\u6709\u5e8a\u9762\u503e\u659c\uff08bed_tilt\uff09\uff0c\u6ca1\u6709Z\u8f74\u503e\u659c\u6821\u6b63\uff08skew_correction\uff09\uff0c\u6ca1\u6709 \"\u82b1\u74f6\u6a21\u5f0f \uff08vase mode\uff09\"\u6253\u5370\uff0c\u7b49\u7b49\uff09\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0Z\u8f74\u7535\u673a\u5728 hold_current \u7684\u60c5\u51b5\u4e0b\u786e\u5b9e\u8fd0\u884c\u5f97\u6bd4\u8f83\u51b7\u3002\u5982\u679c\u5b9e\u73b0\u4e86\u8fd9\u4e00\u70b9\uff0c\u90a3\u4e48\u4e00\u5b9a\u8981\u8003\u8651\u5230\u5728\u5e8a\u9762\u8c03\u5e73\u3001\u5e8a\u9762\u63a2\u6d4b\u3001\u63a2\u9488\u6821\u51c6\u7b49\u8fc7\u7a0b\u4e2d\u8fd9\u79cd\u975e\u6307\u4ee4\u6027\u7684Z\u8f74\u8fd0\u52a8\u3002 driver_TPOWERDOWN \u548c driver_IHOLDDELAY \u4e5f\u5e94\u8be5\u8fdb\u884c\u76f8\u5e94\u7684\u6821\u51c6\u3002\u5982\u679c\u4e0d\u786e\u5b9a\uff0c\u6700\u597d\u4e0d\u8981\u6307\u5b9a hold_current \u3002","title":"\u503e\u5411\u4e8e\u4e0d\u6307\u5b9a\u4fdd\u6301\u7535\u6d41\uff08hold_current\uff09"},{"location":"TMC_Drivers.html#spreadcycle-stealthchop","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cKlipper\u5c06TMC\u9a71\u52a8\u7f6e\u4e8e \"spreadCycle \"\u6a21\u5f0f\u3002\u5982\u679c\u9a71\u52a8\u7a0b\u5e8f\u652f\u6301 \"stealthChop\"\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7\u6dfb\u52a0 stealthchop_threshold: 999999 \u5230TMC\u7684\u914d\u7f6e\u90e8\u5206\u3002 \u4e00\u822c\u6765\u8bf4\uff0cspreadCycle\u6a21\u5f0f\u6bd4stealthChop\u6a21\u5f0f\u63d0\u4f9b\u66f4\u5927\u7684\u626d\u77e9\u548c\u66f4\u9ad8\u7684\u5b9a\u4f4d\u7cbe\u5ea6\u3002\u7136\u800c\uff0c\u5728\u67d0\u4e9b\u6253\u5370\u673a\u4e0a\uff0cstealthChop \u6a21\u5f0f\u663e\u8457\u964d\u4f4e\u53ef\u542c\u5230\u7684\u566a\u97f3\u3002 \u5bf9\u4e24\u4e2a\u6a21\u5f0f\u7684\u6bd4\u8f83\u6d4b\u8bd5\u663e\u793a\uff0c\u5728\u4f7f\u7528stealthChop\u6a21\u5f0f\u65f6\uff0c\u6052\u901f\u79fb\u52a8\u8fc7\u7a0b\u65f6\u6709\u5927\u7ea6\u4e3a\u4e00\u4e2a\u6574\u6b6575%\u7684\"\u4f4d\u7f6e\u6ede\u540e \"\uff08\u4f8b\u5982\uff0c\u5728\u4e00\u53f0\u65cb\u8f6c\u8ddd\u79bb\uff08rotation_distance \uff09\u4e3a40mm\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u7684\u6253\u5370\u673a\u4e0a\uff0c\u6052\u901f\u79fb\u52a8\u7684\u4f4d\u7f6e\u504f\u5dee\u589e\u52a0\u4e86\u7ea60.150mm\uff09\u3002\u7136\u800c\uff0c\u8fd9\u79cd \"\u83b7\u5f97\u6240\u9700\u4f4d\u7f6e\u7684\u5ef6\u8fdf \"\u53ef\u80fd\u4e0d\u4f1a\u8868\u73b0\u4e3a\u660e\u663e\u7684\u6253\u5370\u7f3a\u9677\uff0c\u5927\u591a\u6570\u4eba\u53ef\u80fd\u66f4\u559c\u6b22stealthChop\u6a21\u5f0f\u66f4\u5b89\u9759\u7684\u6253\u5370\u3002 \u5efa\u8bae\u603b\u662f\u4f7f\u7528 \"spreadCycle \"\u6a21\u5f0f\uff08\u901a\u8fc7\u4e0d\u6307\u5b9a stealthchop_threshold \uff09\u6216\u603b\u662f\u4f7f\u7528 \"stealthChop \"\u6a21\u5f0f\uff08\u901a\u8fc7\u8bbe\u7f6e stealthchop_threshold \u4e3a99999\uff09\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5982\u679c\u5728\u7535\u673a\u5904\u4e8e\u975e\u96f6\u901f\u5ea6\u65f6\u6539\u53d8\u6a21\u5f0f\uff0c\u9a71\u52a8\u5668\u5f80\u5f80\u4f1a\u4ea7\u751f\u7cdf\u7cd5\u548c\u6df7\u4e71\u7684\u7ed3\u679c\u3002","title":"\u8bbe\u7f6e \"spreadCycle \"\u4e0e \"stealthChop \"\u6a21\u5f0f"},{"location":"TMC_Drivers.html#tmc_1","text":"TMC\u9a71\u52a8\u7a0b\u5e8f\u7684 interpolate \u8bbe\u7f6e\u53ef\u4ee5\u51cf\u5c11\u6253\u5370\u673a\u8fd0\u52a8\u7684\u566a\u97f3\uff0c\u4f46\u4ee3\u4ef7\u662f\u5f15\u5165\u4e00\u4e2a\u5c0f\u7684\u7cfb\u7edf\u4f4d\u7f6e\u8bef\u5dee\u3002\u8fd9\u4e2a\u7cfb\u7edf\u6027\u7684\u4f4d\u7f6e\u8bef\u5dee\u662f\u7531\u9a71\u52a8\u5668\u5728\u6267\u884cKlipper\u53d1\u9001\u7684 \"\u6b65\u9aa4 \"\u65f6\u7684\u5ef6\u8fdf\u9020\u6210\u7684\u3002\u5728\u6052\u901f\u79fb\u52a8\u8fc7\u7a0b\u4e2d\uff0c\u8fd9\u79cd\u5ef6\u8fdf\u5bfc\u81f4\u4e86\u5c06\u8fd1\u4e00\u534a\u7684\u914d\u7f6e\u5fae\u6b65\u7684\u4f4d\u7f6e\u8bef\u5dee\uff08\u66f4\u51c6\u786e\u5730\u8bf4\uff0c\u8bef\u5dee\u662f\u4e00\u534a\u7684\u5fae\u6b65\u8ddd\u79bb\u51cf\u53bb512\u5206\u4e4b\u4e00\u7684\u6574\u6b65\u8ddd\u79bb\uff09\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u4e2a\u65cb\u8f6c\u8ddd\u79bb\uff08rotation_distance\uff09\u4e3a40\u6beb\u7c73\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u300116\u5fae\u6b65\u7684\u8f74\u4e0a\uff0c\u5728\u6052\u901f\u79fb\u52a8\u8fc7\u7a0b\u4e2d\u5f15\u5165\u7684\u7cfb\u7edf\u8bef\u5dee\u662f~0.006\u6beb\u7c73\u3002 \u4e3a\u4e86\u83b7\u5f97\u6700\u4f73\u7684\u5b9a\u4f4d\u7cbe\u5ea6\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528spreadCycle\u6a21\u5f0f\uff0c\u5e76\u7981\u7528\u63d2\u503c\uff08\u5728TMC\u9a71\u52a8\u914d\u7f6e\u4e2d\u8bbe\u7f6e interpolate: False \uff09\u3002\u5f53\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u914d\u7f6e\u65f6\uff0c\u53ef\u4ee5\u589e\u52a0 microstep \u8bbe\u7f6e\uff0c\u4ee5\u51cf\u5c11\u6b65\u8fdb\u8fd0\u52a8\u4e2d\u7684\u566a\u97f3\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u5fae\u6b65\u8bbe\u7f6e\u4e3a 64 \u6216 128 \u4f1a\u6709\u7c7b\u4f3c\u4e8e\u63d2\u503c\u7684\u566a\u97f3\u6c34\u5e73\uff0c\u800c\u4e14\u4e0d\u4f1a\u5f15\u5165\u7cfb\u7edf\u6027\u7684\u4f4d\u7f6e\u8bef\u5dee\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u90a3\u4e48\u76f8\u5bf9\u4e8e\u4ecestealthChop\u6a21\u5f0f\u5f15\u5165\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u786e\u6027\uff0c\u63d2\u503c\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u786e\u6027\u5f88\u5c0f\u3002\u56e0\u6b64\uff0c\u5728stealthChop \u6a21\u5f0f\u4e0b\uff0c\u8c03\u6574\u63d2\u503c\u662f\u6ca1\u6709\u7528\u7684\uff0c\u53ef\u4ee5\u5c06\u63d2\u503c\u8bbe\u7f6e\u518d\u5176\u9ed8\u8ba4\u72b6\u6001\u3002","title":"TMC\u63d2\u503c\u8bbe\u7f6e\u5f15\u5165\u4e86\u5fae\u5c0f\u7684\u4f4d\u7f6e\u504f\u5dee"},{"location":"TMC_Drivers.html#_2","text":"\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5141\u8bb8\u5728\u4e0d\u9700\u8981\u7269\u7406\u9650\u4f4d\u5f00\u5173\u7684\u60c5\u51b5\u4e0b\u5c06\u4e00\u4e2a\u8f74\u5f52\u4f4d\u3002\u76f8\u53cd\uff0c\u8f74\u4e0a\u7684\u6ed1\u8f66\u63a5\u89e6\u673a\u68b0\u9650\u4f4d\u540e\uff0c\u4f7f\u6b65\u8fdb\u7535\u673a\u5931\u53bb\u6b65\u957f\u3002\u6b65\u8fdb\u9a71\u52a8\u5668\u611f\u5e94\u5230\u5931\u53bb\u7684\u6b65\u6570\uff0c\u5e76\u901a\u8fc7\u5207\u6362\u4e00\u4e2a\u5f15\u811a\u5411\u63a7\u5236\u7684\u5fae\u63a7\u5236\u5668\uff08Klipper\uff09\u544a\u77e5\u8fd9\u4e00\u70b9\u3002\u8be5\u4fe1\u606f\u53ef\u88ab Klipper \u7528\u4f5c\u8f74\u7684\u9650\u4f4d\u3002 \u672c\u6307\u5357\u4ecb\u7ecd\u4e86\u5982\u4f55\u8bbe\u7f6e\uff08\u7b1b\u5361\u5c14\uff09\u6253\u5370\u673a\u7684X\u8f74\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002\u8fd9\u4e2a\u65b9\u6cd5\u4e5f\u9002\u5408\u5176\u4ed6\u8f74\uff08\u9700\u8981\u4e00\u4e2a\u9650\u4f4d\uff09\u3002\u6bcf\u6b21\u5e94\u8be5\u53ea\u5bf9\u4e00\u4e2a\u8f74\u8fdb\u884c\u914d\u7f6e\u548c\u8c03\u6574\u3002","title":"\u65e0\u9650\u4f4d\u5f52\u96f6"},{"location":"TMC_Drivers.html#_3","text":"\u8981\u786e\u4fdd\u4f60\u7684\u673a\u68b0\u90e8\u4ef6\u80fd\u591f\u627f\u53d7\u6ed1\u8f66\u53cd\u590d\u649e\u5411\u8f74\u7684\u9650\u4f4d\u7684\u8d1f\u8f7d\u3002\u7279\u522b\u662f\u4e1d\u6760\u53ef\u80fd\u4f1a\u4ea7\u751f\u5f88\u5927\u7684\u529b\u3002\u901a\u8fc7\u5c06\u55b7\u5634\u649e\u5411\u6253\u5370\u8868\u9762\u6765\u786e\u5b9aZ\u8f74\u7684\u4f4d\u7f6e\u53ef\u80fd\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\u3002\u4e3a\u4e86\u83b7\u5f97\u6700\u4f73\u6548\u679c\uff0c\u8bf7\u786e\u8ba4\u8f74\u6ed1\u8f66\u5c06\u4e0e\u8f74\u7684\u9650\u4f4d\u7d27\u5bc6\u63a5\u89e6\u3002 \u6b64\u5916\uff0c\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5bf9\u4f60\u7684\u6253\u5370\u673a\u6765\u8bf4\u53ef\u80fd\u4e0d\u591f\u7cbe\u786e\u3002\u867d\u7136\u7b1b\u5361\u5c14\u673a\u5668\u4e0a\u7684X\u548cY\u8f74\u5f52\u4f4d\u53ef\u4ee5\u5f88\u597d\u5730\u5de5\u4f5c\uff0c\u4f46Z\u8f74\u7684\u5f52\u4f4d\u901a\u5e38\u4e0d\u591f\u51c6\u786e\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7b2c\u4e00\u5c42\u9ad8\u5ea6\u4e0d\u4e00\u81f4\u3002\u7531\u4e8e\u7cbe\u5ea6\u4f4e\uff0c\u4e0d\u5efa\u8bae\u5728delta \u6253\u5370\u673a\u4e0a\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u7684\u5f52\u4f4d\u3002 \u6b64\u5916\uff0c\u6b65\u8fdb\u9a71\u52a8\u5668\u7684\u5931\u901f\u68c0\u6d4b\u53d6\u51b3\u4e8e\u7535\u673a\u7684\u673a\u68b0\u8d1f\u8f7d\u3001\u7535\u673a\u7535\u6d41\u548c\u7535\u673a\u6e29\u5ea6\uff08\u7ebf\u5708\u7535\u963b\uff09\u3002 \u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5728\u7535\u673a\u4e2d\u901f\u65f6\u6548\u679c\u6700\u597d\u3002\u5bf9\u4e8e\u975e\u5e38\u6162\u7684\u901f\u5ea6\uff08\u5c0f\u4e8e10RPM\uff09\uff0c\u7535\u673a\u4e0d\u4f1a\u4ea7\u751f\u660e\u663e\u7684\u53cd\u7535\u78c1\u573a\uff0cTMC\u82af\u7247\u4e0d\u80fd\u53ef\u9760\u5730\u68c0\u6d4b\u5230\u7535\u673a\u505c\u987f\u3002\u6b64\u5916\uff0c\u5728\u975e\u5e38\u9ad8\u7684\u901f\u5ea6\u4e0b\uff0c\u7535\u673a\u7684\u53cd\u5411\u7535\u52a8\u52bf\u63a5\u8fd1\u7535\u673a\u7684\u7535\u6e90\u7535\u538b\uff0c\u6240\u4ee5TMC\u82af\u7247\u4e5f\u68c0\u6d4b\u4e0d\u5230\u505c\u987f\u3002\u5efa\u8bae\u4f60\u770b\u770b\u4e00\u4e0b\u5bf9\u5e94\u7684TMC\u82af\u7247\u6570\u636e\u624b\u518c\u3002\u5728\u624b\u518c\u4e2d\u8fd8\u53ef\u4ee5\u627e\u5230\u66f4\u591a\u5173\u4e8e\u8fd9\u79cd\u8bbe\u7f6e\u7684\u9650\u5236\u7684\u7ec6\u8282\u3002","title":"\u9650\u5236"},{"location":"TMC_Drivers.html#_4","text":"\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\uff0c\u9700\u8981\u4e00\u4e9b\u524d\u63d0\u6761\u4ef6\uff1a \u4e00\u4e2a\u5177\u6709stallGuard\u529f\u80fd\u7684TMC\u6b65\u8fdb\u9a71\u52a8\u5668\uff08TMC2130\u3001TMC2209\u3001TMC2660\u6216TMC5160\uff09\u3002 \u9700\u8981TMC\u9a71\u52a8\u5668\u7684SPI / UART\u63a5\u53e3\u4e0e\u5fae\u63a7\u5236\u5668\u8fde\u63a5\uff08stand-alone \u6a21\u5f0f\u4e0d\u884c\uff09\u3002 \u9700\u8981\u628aTMC\u9a71\u52a8\u5668\u7684 \"DIAG \"\u6216 \"SG_TST \"\u5f15\u811a\u8fde\u63a5\u5230\u5fae\u63a7\u5236\u5668\u3002 \u5fc5\u987b\u6309\u7167 \u914d\u7f6e\u68c0\u67e5 \u6587\u4ef6\u4e2d\u7684\u6b65\u9aa4\u6765\u786e\u8ba4\u6b65\u8fdb\u7535\u673a\u7684\u914d\u7f6e\u548c\u8fd0\u8f6c\u6b63\u5e38\u3002","title":"\u524d\u63d0\u6761\u4ef6"},{"location":"TMC_Drivers.html#_5","text":"\u8c03\u6574\u8fc7\u7a0b\u6709\u516d\u4e2a\u4e3b\u8981\u6b65\u9aa4\uff1a \u9009\u62e9\u4e00\u4e2a\u5f52\u4f4d\u901f\u5ea6\u3002 \u914d\u7f6e printer.cfg \u6587\u4ef6\u4ee5\u542f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002 \u627e\u5230\u6709\u6700\u9ad8\u7075\u654f\u5ea6\u7684stallguard\u8bbe\u7f6e\uff0c\u786e\u4fdd\u5176\u6210\u529f\u627e\u5230\u96f6\u70b9\u4f4d\u7f6e\u3002 \u627e\u5230\u6709\u6700\u4f4e\u7075\u654f\u5ea6\u7684stallguard \u8bbe\u7f6e\uff0c\u786e\u4fdd\u53ea\u9700\u8f7b\u8f7b\u4e00\u78b0\u5c31\u80fd\u6210\u529f\u5f52\u96f6\u3002 \u66f4\u65b0 printer.cfg \uff0c\u52a0\u5165\u6240\u9700\u7684stallguard\u8bbe\u7f6e\u3002 \u521b\u5efa\u6216\u66f4\u65b0 printer.cfg \u5b8f\u786e\u4fdd\u7a33\u5b9a\u5f52\u4f4d\uff08home\uff09\u3002","title":"\u8c03\u6574"},{"location":"TMC_Drivers.html#_6","text":"\u6267\u884c\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u65f6\uff0c\u5f52\u4f4d\u901f\u5ea6\u662f\u4e00\u4e2a\u91cd\u8981\u53c2\u6570\u3002\u6700\u597d\u4f7f\u7528\u8f83\u6162\u7684\u5f52\u4f4d\u901f\u5ea6\uff0c\u4ee5\u4fbf\u6ed1\u8f66\u5728\u4e0e\u8f68\u9053\u9650\u4f4d\u63a5\u89e6\u65f6\u4e0d\u4f1a\u5bf9\u6846\u67b6\u65bd\u52a0\u8fc7\u591a\u7684\u529b\u3002\u7136\u800c\uff0cTMC\u9a71\u52a8\u5668\u5728\u975e\u5e38\u6162\u7684\u901f\u5ea6\u4e0b\u5e76\u4e0d\u80fd\u53ef\u9760\u5730\u68c0\u6d4b\u5230\u5931\u901f\u3002 \u5f52\u4f4d\u901f\u5ea6\u7684\u6700\u4f73\u8c03\u6574\u8d77\u70b9\u662f\u6b65\u8fdb\u7535\u673a\u6bcf\u4e24\u79d2\u8f6c\u4e00\u5708\u3002\u5bf9\u4e8e\u8bb8\u591a\u8f74\uff0c\u8fd9\u5c31\u662f\u5c06\u662f rotation_distance \u9664\u4ee52\u3002\u4f8b\u5982\uff1a [stepper_x] rotation_distance: 40 homing_speed: 20 ...","title":"\u9009\u62e9\u5f52\u4f4d\u901f\u5ea6"},{"location":"TMC_Drivers.html#printercfg","text":"\u5728 stepper_x \u914d\u7f6e\u90e8\u5206\uff0c homing_retract_dist \u8bbe\u7f6e\u5fc5\u987b\u88ab\u8bbe\u4e3a\u96f6\uff0c\u4ee5\u7981\u7528\u7b2c\u4e8c\u6b21\u5f52\u4f4d\u52a8\u4f5c\u3002\u5728\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u65f6\uff0c\u7b2c\u4e8c\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u4e0d\u4f1a\u63d0\u9ad8\u7cbe\u5ea6\uff0c\u4e5f\u4e0d\u4f1a\u53ef\u9760\u5730\u5de5\u4f5c\uff0c\u800c\u4e14\u4f1a\u6270\u4e71\u8c03\u6574\u8fc7\u7a0b\u3002 \u786e\u4fdd\u5728\u914d\u7f6e\u7684TMC\u9a71\u52a8\u90e8\u5206\u6ca1\u6709\u6307\u5b9a hold_current \u7684\u8bbe\u7f6e\u3002\uff08\u5982\u679c\u8bbe\u7f6e\u4e86hold_current\uff0c\u90a3\u4e48\u5728\u63a5\u89e6\u540e\uff0c\u5f53\u6ed1\u8f66\u649e\u5230\u8f68\u9053\u672b\u7aef\u65f6\uff0c\u7535\u673a\u5c31\u4f1a\u505c\u6b62\uff0c\u5728\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u51cf\u5c11\u7535\u6d41\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6ed1\u8f66\u79fb\u52a8--\u8fd9\u5c06\u5bfc\u81f4\u5f52\u4f4d\u6027\u80fd\u4e0d\u4f73\uff0c\u5e76\u4f1a\u6270\u4e71\u8c03\u6574\u8fc7\u7a0b\u3002\uff09 \u9700\u8981\u914d\u7f6e\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5f15\u811a\uff0c\u5e76\u914d\u7f6e\u521d\u59cb \"stallguard \"\u8bbe\u7f6e\u3002\u4e00\u4e2a\u7528\u4e8eX\u8f74\u7684tmc2209\u793a\u4f8b\u914d\u7f6e\u5982\u4e0b\uff1a [tmc2209 stepper_x] diag_pin: ^PA1 # \u8bbe\u7f6eMCU\u5f15\u811a\u8fde\u63a5\u5230TMC\u7684DIAG\u5f15\u811a driver_SGTHRS: 255 # 255\u662f\u6700\u654f\u611f\u7684\u503c\uff0c0\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2209_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u4e8etmc2130\u6216tmc5160\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2130 stepper_x] diag1_pin: ^!PA1 # \u8fde\u63a5\u5230TMC\u7684DIAG1\u5f15\u811a(\u6216\u4f7f\u7528diag0_pin / DIAG0\u5f15\u811a) driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2130_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u4e8etmc2660\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2660 stepper_x] driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: ^PA1 # \u4e0eTMC SG_TST\u5f15\u811a\u76f8\u8fde\u7684\u5f15\u811a homing_retract_dist: 0 ... \u4e0a\u9762\u7684\u4f8b\u5b50\u53ea\u663e\u793a\u4e86\u9488\u5bf9\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u7684\u8bbe\u7f6e\u3002\u6240\u6709\u53ef\u7528\u9009\u9879\u8bf7\u53c2\u89c1 \u914d\u7f6e\u53c2\u8003 \u3002","title":"\u4e3a\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u914d\u7f6eprinter.cfg"},{"location":"TMC_Drivers.html#_7","text":"\u5c06\u6ed1\u8f66\u653e\u5728\u9760\u8fd1\u8f68\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528SET_TMC_FIELD\u547d\u4ee4\u6765\u8bbe\u7f6e\u6700\u9ad8\u7075\u654f\u5ea6\u3002\u5bf9\u4e8etmc2209\uff1a SET_TMC_FIELD STEPPER=stepper_x FIELD=SGTHRS VALUE=255 \u5bf9\u4e8etmc2130, tmc5160, and tmc2660: SET_TMC_FIELD STEPPER=stepper_x FIELD=sgt VALUE=-64 \u7136\u540e\u53d1\u4e00\u4e2a G28 X0 \u547d\u4ee4\uff0c\u786e\u4fdd\u8f74\u5b8c\u5168\u4e0d\u52a8\u3002\u5982\u679c\u8f74\u79fb\u52a8\u4e86\uff0c\u7acb\u5373\u4e00\u4e2a M112 \u547d\u4ee4\u505c\u6b62\u6253\u5370\u673a-\u53ef\u80fd\u662fdiag/sg_tst\u5f15\u811a\u7684\u63a5\u7ebf\u6216\u914d\u7f6e\u6709\u95ee\u9898\uff0c\u5fc5\u987b\u5728\u7ee7\u7eed\u4e4b\u524d\u4fee\u6b63\u3002 \u63a5\u4e0b\u6765\uff0c\u4e0d\u65ad\u964d\u4f4e VALUE \u8bbe\u7f6e\u7684\u7075\u654f\u5ea6\uff0c\u5e76\u518d\u6b21\u8fd0\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4\uff0c\u627e\u5230\u80fd\u4f7f\u4f7f\u6ed1\u8f66\u6210\u529f\u5730\u4e00\u76f4\u79fb\u52a8\u5230\u7aef\u70b9\u5e76\u505c\u6b62\u7684\u6700\u9ad8\u7684\u7075\u654f\u5ea6\u3002(\u5bf9\u4e8eTMC2209\u9a71\u52a8\uff0c\u8c03\u6574\u662f\u51cf\u5c11 SGTHRS\uff0c\u5bf9\u4e8e\u5176\u4ed6\u9a71\u52a8\uff0c\u8c03\u6574\u662f\u589e\u52a0 sgt)\u3002\u786e\u4fdd\u6bcf\u6b21\u5c1d\u8bd5\u90fd\u5728\u8f68\u9053\u4e2d\u5fc3\u9644\u8fd1\u5f00\u59cb\uff08\u5982\u679c\u9700\u8981\uff0c\u53d1\u51fa M84 \uff0c\u7136\u540e\u624b\u52a8\u5c06\u6ed1\u8f66\u79fb\u5230\u4e2d\u5fc3\uff09\u3002\u8be5\u65b9\u6cd5\u5e94\u8be5\u53ef\u4ee5\u627e\u5230\u53ef\u9760\u5f52\u4f4d\u7684\u6700\u9ad8\u7075\u654f\u5ea6\uff08\u66f4\u9ad8\u7684\u7075\u654f\u5ea6\u8bbe\u7f6e\u4f1a\u5bfc\u81f4\u6ed1\u8f66\u53ea\u52a8\u4e00\u5c0f\u6bb5\u6216\u5b8c\u5168\u4e0d\u52a8\uff09\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u4e3a maximum_sensitivity \u3002(\u5982\u679c\u5728\u6700\u4f4e\u7075\u654f\u5ea6\uff08SGTHRS=0\u6216sgt=63\uff09\u4e0b\u6ed1\u8f66\u4e5f\u4e0d\u52a8\uff0c\u90a3\u4e48diag/sg_tst \u5f15\u811a\u7684\u63a5\u7ebf\u6216\u914d\u7f6e\u53ef\u80fd\u6709\u95ee\u9898\uff0c\u5fc5\u987b\u5728\u7ee7\u7eed\u540e\u9762\u64cd\u4f5c\u524d\u4e88\u4ee5\u4fee\u6b63\u3002\uff09 \u5728\u5bfb\u627e\u6700\u5927\u7075\u654f\u5ea6\u65f6\uff0c\u66f4\u65b9\u4fbf\u7684\u662f\u8df3\u5230\u4e0d\u540c\u7684VALUE\u8bbe\u7f6e\uff08\u6bd4\u5982\u5c06VALUE\u53c2\u6570\u7684\u4e00\u534a\uff09\u3002\u5982\u679c\u8fd9\u6837\u505a\uff0c\u8bf7\u51c6\u5907\u597d\u53d1\u51fa M112 \u547d\u4ee4\u4ee5\u505c\u6b62\u6253\u5370\u673a\uff0c\u56e0\u4e3a\u7075\u654f\u5ea6\u5f88\u4f4e\u7684\u8bbe\u7f6e\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8f74\u53cd\u590d \"\u649e \"\u5230\u5bfc\u8f68\u7684\u672b\u7aef\u3002 \u8bf7\u786e\u4fdd\u5728\u6bcf\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u4e4b\u95f4\u7b49\u5f85\u51e0\u79d2\u949f\u3002\u5728TMC\u9a71\u52a8\u7a0b\u5e8f\u68c0\u6d4b\u5230\u5931\u901f\u540e\uff0c\u5b83\u53ef\u80fd\u9700\u8981\u4e00\u70b9\u65f6\u95f4\u6765\u6e05\u9664\u5176\u5185\u90e8\u6307\u793a\u5668\uff0c\u624d\u80fd\u591f\u68c0\u6d4b\u5230\u4e0b\u4e00\u6b21\u5931\u901f\u3002 \u5728\u8c03\u6574\u6d4b\u8bd5\u4e2d\uff0c\u5982\u679c G28 X0 \u547d\u4ee4\u4e0d\u80fd\u5b8c\u5168\u79fb\u52a8\u5230\u8f74\u7684\u6781\u9650\u4f4d\u7f6e\uff0c\u90a3\u4e48\u5728\u53d1\u51fa\u4efb\u4f55\u5e38\u89c4\u79fb\u52a8\u547d\u4ee4\uff08\u4f8b\u5982\uff0c G1 \uff09\u65f6\u8981\u5c0f\u5fc3\u3002Klipper\u5c06\u4e0d\u80fd\u6b63\u786e\u5b9a\u4f4d\u6ed1\u5757\u7684\u4f4d\u7f6e\uff0c\u79fb\u52a8\u547d\u4ee4\u53ef\u80fd\u4f1a\u5bfc\u81f4\u975e\u9884\u671f\u548c\u6df7\u4e71\u7684\u7ed3\u679c\u3002","title":"\u627e\u5230\u80fd\u6210\u529f\u5f52\u4f4d\u7684\u6700\u9ad8\u7684\u654f\u611f\u5ea6\u8bbe\u5b9a"},{"location":"TMC_Drivers.html#_8","text":"\u5f53\u7528\u627e\u5230\u7684 \u6700\u5927\u7075\u654f\u5ea6 \u503c\u5f52\u4f4d\u65f6\uff0c\u8f74\u5e94\u8be5\u79fb\u52a8\u5230\u8f68\u9053\u7684\u672b\u7aef\u5e76 \"single touch\uff08\u4e00\u89e6\u5373\u505c\uff09\"--\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u5e94\u8be5\u6709 \"\u5494\u5693 \"\u6216 \"\u7830 \"\u7684\u58f0\u97f3\u3002(\u5982\u679c\u5728\u6700\u5927\u7075\u654f\u5ea6\u4e0b\u6709\u649e\u51fb\u6216\u70b9\u51fb\u58f0\uff0c\u90a3\u4e48\u5f52\u4f4d\u901f\u5ea6\u53ef\u80fd\u592a\u4f4e\uff0c\u9a71\u52a8\u7535\u6d41\u53ef\u80fd\u592a\u4f4e\uff0c\u6216\u8005\u8be5\u8f74\u53ef\u80fd\u4e0d\u9002\u5408\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002\uff09 \u4e0b\u4e00\u6b65\u662f\u518d\u6b21\u6301\u7eed\u79fb\u52a8\u6ed1\u5757\u5230\u9760\u8fd1\u8f68\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\uff0c\u964d\u4f4e\u7075\u654f\u5ea6\uff0c\u5e76\u8fd0\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4 - \u8fd9\u6b21\u7684\u76ee\u6807\u662f\u627e\u5230\u6700\u4f4e\u7684\u7075\u654f\u5ea6\uff0c\u4ecd\u80fd\u4f7f\u6ed1\u5757\u6210\u529f\u5730 \"\u4e00\u89e6\u5373\u505c\"\u5f52\u4f4d\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u63a5\u89e6\u5230\u8f68\u9053\u7684\u672b\u7aef\u65f6\uff0c\u5b83\u4e0d\u4f1a\u53d1\u51fa\"\u7830 \"\u6216 \"\u5494\"\u7684\u58f0\u97f3\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u662f minimum_sensitivity \u3002","title":"\u627e\u5230\u6700\u4f4e\u7684\u7075\u654f\u5ea6\uff0c\u53ea\u9700\u4e00\u6b21\u63a5\u89e6\u5c31\u80fd\u5f52\u4f4d"},{"location":"TMC_Drivers.html#printercfg_1","text":"\u5728\u627e\u5230 maximum_sensitivity \u548c minimum_sensitivity \u540e\uff0c\u8ba1\u7b97\u5f97\u5230\u63a8\u8350\u7684\u7075\u654f\u5ea6\u4e3a minimum_sensitivity +(maximum_sensitivity-minimum_sensitivity)/3 \u3002\u63a8\u8350\u7684\u7075\u654f\u5ea6\u5e94\u8be5\u5728\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u4e4b\u95f4\uff0c\u4f46\u7565\u5fae\u63a5\u8fd1\u6700\u5c0f\u503c\u3002\u5c06\u6700\u7ec8\u503c\u56db\u820d\u4e94\u5165\u5230\u6700\u8fd1\u7684\u6574\u6570\u503c\u3002 \u5bf9\u4e8eTMC2209\uff0c\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e driver_SGTHRS \uff0c\u5bf9\u4e8e\u5176\u4ed6TMC\u9a71\u52a8\uff0c\u5728\u914d\u7f6e\u4e2d\u8bbe\u7f6e driver_SGT \u3002 \u5982\u679c maximum_sensitivity \u548c minimum_sensitivity \u4e4b\u95f4\u7684\u8303\u56f4\u5f88\u5c0f\uff08\u4f8b\u5982\uff0c\u5c0f\u4e8e5\uff09\uff0c\u90a3\u4e48\u53ef\u80fd\u5bfc\u81f4\u4e0d\u7a33\u5b9a\u7684\u5f52\u4f4d\u3002\u66f4\u5feb\u7684\u5f52\u4f4d\u901f\u5ea6\u53ef\u4ee5\u6269\u5927\u8303\u56f4\uff0c\u4f7f\u64cd\u4f5c\u66f4\u52a0\u7a33\u5b9a\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5bf9\u9a71\u52a8\u7535\u6d41\u3001\u5f52\u4f4d\u901f\u5ea6\u505a\u4e86\u4efb\u4f55\u6539\u53d8\uff0c\u6216\u8005\u5bf9\u6253\u5370\u673a\u786c\u4ef6\u505a\u4e86\u660e\u663e\u7684\u6539\u53d8\uff0c\u90a3\u4e48\u5c31\u9700\u8981\u518d\u6b21\u8fd0\u884c\u8fd9\u4e2a\u8c03\u6574\u8fc7\u7a0b\u3002","title":"\u66f4\u65b0printer.cfg\u4e2d\u7684\u7075\u654f\u5ea6\u503c"},{"location":"TMC_Drivers.html#_9","text":"\u5728\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u5b8c\u6210\u540e\uff0c\u6ed1\u8f66\u5c06\u9876\u5230\u5bfc\u8f68\u7684\u672b\u7aef\uff0c\u6b65\u8fdb\u5668\u5c06\u6301\u7eed\u5bf9\u6846\u67b6\u65bd\u52a0\u529b\uff0c\u76f4\u5230\u6ed1\u8f66\u79fb\u5f00\u3002\u6700\u597d\u521b\u5efa\u4e00\u4e2a\u5b8f\u6765\u4f7f\u8f74\u5f52\u4f4d\uff0c\u5e76\u7acb\u5373\u5c06\u5c0f\u8f66\u4ece\u8f68\u9053\u7684\u672b\u7aef\u79fb\u5f00\u3002 \u5728\u5f00\u59cb\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u4e4b\u524d\uff0c\u5b8f\u6700\u597d\u6682\u505c\u81f3\u5c112\u79d2\uff08\u6216\u786e\u4fdd\u6b65\u8fdb\u57282\u79d2\u5185\u6ca1\u6709\u79fb\u52a8\uff09\u3002\u5982\u679c\u6ca1\u6709\u5ef6\u8fdf\uff0c\u9a71\u52a8\u5668\u7684\u5185\u90e8\u5931\u901f\u6807\u5fd7\u6709\u53ef\u80fd\u5728\u4e4b\u524d\u7684\u79fb\u52a8\u4e2d\u88ab\u8bbe\u7f6e\u4e86\u3002 \u4f7f\u7528\u5b8f\u5728\u5f52\u4f4d\u524d\u8bbe\u7f6e\u9a71\u52a8\u7535\u6d41\uff0c\u5e76\u5728\u6ed1\u8f66\u79fb\u5f00\u540e\u8bbe\u7f6e\u65b0\u7684\u7535\u6d41\uff0c\u4e5f\u4f1a\u5f88\u6709\u7528\u3002 \u4e00\u4e2a\u5b8f\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [gcode_macro SENSORLESS_HOME_X] gcode: {% set HOME_CUR = 0.700 %} {% set driver_config = printer.configfile.settings['tmc2209 stepper_x'] %} {% set RUN_CUR = driver_config.run_current %} # \u4e3a\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u8bbe\u7f6e\u7535\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={HOME_CUR} # \u6682\u505c\uff0c\u4ee5\u786e\u4fdd\u9a71\u52a8\u5668\u5931\u901f\u6807\u5fd7\u88ab\u6e05\u9664 G4 P2000 # \u5f52\u4f4d G28 X0 # \u79fb\u5f00 G90 G1 X5 F1200 # \u6253\u5370\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u7535\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={RUN_CUR} \u4ea7\u751f\u7684\u5b8f\u53ef\u4ee5\u4ece homing_override\u914d\u7f6e\u90e8\u5206 \u6216 START_PRINT\u5b8f \u4e2d\u8c03\u7528\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u5f52\u4f4d\u671f\u95f4\u7684\u9a71\u52a8\u7535\u6d41\u53d1\u751f\u53d8\u5316\uff0c\u5219\u5e94\u91cd\u65b0\u8fd0\u884c\u8c03\u6574\u8fc7\u7a0b\u3002","title":"\u5f52\u4f4d\u65f6\u4f7f\u7528\u5b8f"},{"location":"TMC_Drivers.html#corexy","text":"\u53ef\u4ee5\u5728CoreXY\u6253\u5370\u673a\u7684X\u548cY\u884c\u8f66\u4e0a\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u3002Klipper\u4f7f\u7528 [stepper_x] \u6b65\u8fdb\u5668\u6765\u68c0\u6d4bX\u6ed1\u8f66\u5f52\u4f4d\u65f6\u7684\u5931\u901f\uff0c\u4f7f\u7528 [stepper_y] \u6b65\u8fdb\u5668\u6765\u68c0\u6d4bY\u6ed1\u8f66\u5f52\u4f4d\u65f6\u7684\u5931\u901f\u3002 \u4f7f\u7528\u4e0a\u8ff0\u7684\u8c03\u8c10\u6307\u5357\uff0c\u4e3a\u6bcf\u4e2a\u6ed1\u8f66\u627e\u5230\u5408\u9002\u7684 \"\u5931\u901f\u7075\u654f\u5ea6\"\uff0c\u4f46\u8981\u6ce8\u610f\u4ee5\u4e0b\u9650\u5236\uff1a \u5f53\u5728CoreXY\u4e0a\u4f7f\u7528\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u65f6\uff0c\u786e\u4fdd\u6ca1\u6709\u4e3a\u4efb\u4f55\u4e00\u4e2a\u6b65\u8fdb\u7535\u673a\u914d\u7f6e hold_current \u3002 \u5728\u8c03\u6574\u65f6\uff0c\u786e\u4fddX\u548cY\u8f66\u67b6\u5728\u6bcf\u6b21\u5f52\u4f4d\u5c1d\u8bd5\u524d\u90fd\u63a5\u8fd1\u5176\u8f68\u9053\u7684\u4e2d\u5fc3\u3002 \u8c03\u6574\u5b8c\u6210\u540e\uff0c\u5f53X\u548cY\u8f74\u5f52\u4f4d\u65f6\uff0c\u4f7f\u7528\u5b8f\u6765\u786e\u4fdd\u4e00\u4e2a\u8f74\u9996\u5148\u88ab\u5f52\u4f4d\uff0c\u7136\u540e\u5c06\u8be5\u6ed1\u8f66\u8fdc\u79bb\u8f74\u7684\u6781\u9650\uff0c\u505c\u987f\u81f3\u5c112\u79d2\uff0c\u7136\u540e\u5f00\u59cb\u53e6\u4e00\u4e2a\u6ed1\u8f66\u7684\u5f52\u4f4d\u3002\u8fdc\u79bb\u8f74\u7aef\u70b9\u7684\u79fb\u52a8\u53ef\u4ee5\u907f\u514d\u4e00\u4e2a\u8f74\u88ab\u5f52\u4f4d\uff0c\u800c\u53e6\u4e00\u4e2a\u8f74\u9876\u5728\u8f74\u7684\u6781\u9650\u4e0a\uff08\u8fd9\u53ef\u80fd\u4f7f\u5931\u901f\u68c0\u6d4b\u53d1\u751f\u504f\u5dee\uff09\u3002\u6682\u505c\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u786e\u4fdd\u9a71\u52a8\u5668\u7684\u5931\u901f\u6807\u5fd7\u5728\u518d\u6b21\u5f52\u4f4d\u4e4b\u524d\u88ab\u6e05\u9664\u3002","title":"\u5728CoreXY\u4e0a\u8fdb\u884c\u65e0\u4f20\u611f\u5668\u5f52\u4f4d\u7684\u6280\u5de7"},{"location":"TMC_Drivers.html#_10","text":"` DUMP_TMC \u547d\u4ee4 \u662f\u914d\u7f6e\u548c\u8bca\u65ad\u9a71\u52a8\u7a0b\u5e8f\u7684\u6709\u6548\u5de5\u5177\u3002\u5b83\u5c06\u62a5\u544a\u6240\u6709\u7531Klipper\u914d\u7f6e\u7684\u5b57\u6bb5\uff0c\u4ee5\u53ca\u6240\u6709\u53ef\u4ee5\u4ece\u9a71\u52a8\u4e2d\u67e5\u8be2\u5230\u7684\u5b57\u6bb5\u3002 \u6240\u6709\u62a5\u544a\u7684\u5b57\u6bb5\u90fd\u5b9a\u4e49\u5728\u9a71\u52a8\u5668\u7684Trinamic\u6570\u636e\u624b\u518c\u4e2d\u3002\u8fd9\u4e9b\u6570\u636e\u8868\u53ef\u4ee5\u5728 Trinamic\u7f51\u7ad9 \u4e0a\u627e\u5230\u3002\u8bf7\u83b7\u53d6\u5e76\u67e5\u770b\u9a71\u52a8\u5668\u7684Trinamic\u6570\u636e\u624b\u518c\u6765\u89e3\u91caDUMP_TMC\u7684\u7ed3\u679c\u3002","title":"\u67e5\u8be2\u548c\u8bca\u65ad\u9a71\u52a8\u7a0b\u5e8f\u8bbe\u7f6e"},{"location":"TMC_Drivers.html#driver_xxx","text":"Klipper\u652f\u6301\u4f7f\u7528 driver_XXX \u8bbe\u7f6e\u6765\u914d\u7f6e\u8bb8\u591a\u5e95\u5c42\u9a71\u52a8\u7a0b\u5e8f\u5b57\u6bb5\u3002 TMC\u9a71\u52a8\u914d\u7f6e\u53c2\u8003 \u6709\u6bcf\u79cd\u7c7b\u578b\u7684\u9a71\u52a8\u53ef\u7528\u5b57\u6bb5\u7684\u5b8c\u6574\u5217\u8868\u3002 \u6b64\u5916\uff0c\u51e0\u4e4e\u6240\u6709\u7684\u5b57\u6bb5\u90fd\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u4f7f\u7528 SET_TMC_FIELD\u547d\u4ee4 \u8fdb\u884c\u4fee\u6539\u3002 \u6bcf\u4e00\u4e2a\u5b57\u6bb5\u90fd\u5728\u9a71\u52a8\u5668\u7684Trinamic\u6570\u636e\u624b\u518c\u4e2d\u6709\u5b9a\u4e49\u3002\u8fd9\u4e9b\u6570\u636e\u8868\u53ef\u4ee5\u5728 Trinamic\u7f51\u7ad9 \u4e0a\u627e\u5230\u3002 \u8bf7\u6ce8\u610f\uff0cTrinamic\u7684\u6570\u636e\u8868\u4e2d\uff0c\u6709\u65f6\u4e00\u4e9b\u8bcd\u53ef\u80fd\u5bfc\u81f4\u5728\u9ad8\u5c42\u8bbe\u7f6e\uff08\u5982 \"hysteresis end\"\uff09\u548c\u5e95\u5c42\u5b57\u6bb5\u503c\uff08\u5982 \"HEND\"\uff09\u7684\u6df7\u4e71\u3002\u5728Klipper\u4e2d\uff0c driver_XXX \u548cSET_TMC_FIELD\u603b\u662f\u8bbe\u7f6e\u5b9e\u9645\u5199\u5165\u9a71\u52a8\u5668\u7684\u5e95\u5c42\u6b21\u5b57\u6bb5\u503c\u3002\u4f8b\u5982\uff0c\u5982\u679cTrinamic\u7684\u6570\u636e\u8868\u6307\u51fa\uff0c\u9700\u8981\u5c063\u7684\u503c\u5199\u5165HEND\u5b57\u6bb5\uff0c\u4ee5\u4f7f\u5f97 \"hysteresis end\"\u7b49\u4e8e0\uff0c\u90a3\u4e48\u8bbe\u7f6e driver_HEND=3 \u4f7f\u5f97\u9ad8\u5c42\u83b7\u5f970\u7684\u503c\u3002","title":"\u914d\u7f6edriver_XXX\u8bbe\u7f6e"},{"location":"TMC_Drivers.html#_11","text":"","title":"\u5e38\u89c1\u95ee\u9898"},{"location":"TMC_Drivers.html#pressure-advancestealthchop","text":"\u8bb8\u591a\u4eba\u6210\u529f\u5730\u5728 \"stealthChop \"\u6a21\u5f0f\u4e0b\u4f7f\u7528\u4e86Klipper\u7684\u538b\u529b\u63a8\u8fdb\u3002Klipper\u5b9e\u73b0\u4e86 \u5e73\u6ed1\u538b\u529b\u63a8\u8fdb \uff0c\u5b83\u4e0d\u4f1a\u5f15\u5165\u4efb\u4f55\u77ac\u65f6\u901f\u5ea6\u53d8\u5316\u3002 \u7136\u800c\uff0c\"stealthChop \"\u6a21\u5f0f\u53ef\u80fd\u5bfc\u81f4\u8f83\u4f4e\u7684\u7535\u673a\u626d\u77e9\u548c/\u6216\u4ea7\u751f\u8f83\u9ad8\u7684\u7535\u673a\u70ed\u91cf\u3002\u5bf9\u4e8e\u4f60\u7684\u7279\u5b9a\u6253\u5370\u673a\u6765\u8bf4\uff0c\u5b83\u53ef\u80fd\u662f\u4e5f\u53ef\u80fd\u4e0d\u662f\u4e00\u4e2a\u5408\u9002\u7684\u6a21\u5f0f\u3002","title":"\u6211\u53ef\u4ee5\u5728\u6709\u538b\u529b\u63a8\u8fdb\uff08pressure advance\uff09\u7684\u6324\u51fa\u673a\u4e0a\u4f7f\u7528stealthChop \u6a21\u5f0f\u5417\uff1f"},{"location":"TMC_Drivers.html#unable-to-read-tmc-uart-stepper_x-register-ifcnt","text":"\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u5728Klipper\u65e0\u6cd5\u4e0etmc2208\u6216tmc2209\u9a71\u52a8\u901a\u4fe1\u65f6\u3002 \u786e\u4fdd\u7535\u673a\u7535\u6e90\u542f\u7528\uff0c\u56e0\u4e3a\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u5728\u4e0e\u5fae\u63a7\u5236\u5668\u901a\u4fe1\u4e4b\u524d\u4e00\u822c\u9700\u8981\u786e\u4fdd\u7535\u673a\u5148\u4e0a\u7535\u3002 \u5982\u679c\u8fd9\u4e2a\u9519\u8bef\u662f\u5728\u7b2c\u4e00\u6b21\u5237\u5199Klipper\u540e\u53d1\u751f\u7684\uff0c\u90a3\u4e48\u6b65\u8fdb\u9a71\u52a8\u5668\u53ef\u80fd\u5904\u5728\u4e00\u4e2a\u72b6\u6001\uff0c\u6b64\u72b6\u6001\u4e0e\u521a\u521a\u5199\u5165\u7684Klipper\u4e0d\u517c\u5bb9\u3002\u8981\u91cd\u7f6e\u8be5\u72b6\u6001\uff0c\u8bf7\u5c06\u6253\u5370\u673a\u7684\u6240\u6709\u7535\u6e90\u62d4\u6389\u51e0\u79d2\u949f\uff08\u7269\u7406\u4e0a\u62d4\u6389USB\u63d2\u5934\u548c\u7535\u6e90\u63d2\u5934\uff09\u3002 \u5426\u5219\uff0c\u8fd9\u79cd\u9519\u8bef\u901a\u5e38\u662f\u7531\u4e8eUART\u5f15\u811a\u63a5\u7ebf\u4e0d\u6b63\u786e\u6216Klipper\u914d\u7f6e\u7684UART\u5f15\u811a\u8bbe\u7f6e\u4e0d\u6b63\u786e\u9020\u6210\u7684\u3002","title":"\u6211\u4e00\u76f4\u5f97\u5230 \"Unable to read tmc uart 'stepper_x' register IFCNT \"\u7684\u9519\u8bef\uff1f"},{"location":"TMC_Drivers.html#unable-to-write-tmc-spi-stepper_x-register","text":"\u5f53Klipper\u65e0\u6cd5\u4e0etmc2130\u6216tmc5160\u9a71\u52a8\u901a\u4fe1\u65f6\u5c31\u4f1a\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\u3002 \u786e\u4fdd\u7535\u673a\u7535\u6e90\u542f\u7528\uff0c\u56e0\u4e3a\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u5728\u4e0e\u5fae\u63a7\u5236\u5668\u901a\u4fe1\u4e4b\u524d\u4e00\u822c\u9700\u8981\u786e\u4fdd\u7535\u673a\u5148\u4e0a\u7535\u3002 \u5426\u5219\uff0c\u8fd9\u79cd\u9519\u8bef\u901a\u5e38\u662f\u7531\u4e8eSPI\u63a5\u7ebf\u4e0d\u6b63\u786e\u3001Klipper\u5bf9SPI\u8bbe\u7f6e\u7684\u914d\u7f6e\u4e0d\u6b63\u786e\u6216SPI\u603b\u7ebf\u4e0a\u7684\u8bbe\u5907\u914d\u7f6e\u4e0d\u5b8c\u6574\u9020\u6210\u7684\u3002 \u8bf7\u6ce8\u610f\uff0c\u5982\u679c\u9a71\u52a8\u5668\u662f\u5728\u6302\u591a\u4e2a\u8bbe\u5907\u5171\u4eab\u7684SPI\u603b\u7ebf\u4e0a\uff0c\u90a3\u4e48\u4e00\u5b9a\u8981\u5728Klipper\u4e2d\u5b8c\u5168\u914d\u7f6e\u8be5\u5171\u4eabSPI\u603b\u7ebf\u4e0a\u7684\u6bcf\u4e2a\u8bbe\u5907\u3002\u5982\u679c\u5171\u4eabSPI\u603b\u7ebf\u4e0a\u7684\u4e00\u4e2a\u8bbe\u5907\u6ca1\u6709\u88ab\u914d\u7f6e\uff0c\u90a3\u4e48\u5b83\u53ef\u80fd\u4f1a\u9519\u8bef\u5730\u54cd\u5e94\u4e0d\u662f\u4e3a\u5b83\u51c6\u5907\u7684\u547d\u4ee4\uff0c\u5e76\u7834\u574f\u4e0e\u76ee\u6807\u8bbe\u5907\u7684\u901a\u4fe1\u3002\u5982\u679c\u5728\u5171\u4eab\u7684SPI\u603b\u7ebf\u4e0a\u6709\u4e0d\u80fd\u5728Klipper\u4e2d\u914d\u7f6e\u7684\u8bbe\u5907\uff0c\u90a3\u4e48\u4f7f\u7528 static_digital_output config section \u5c06\u672a\u4f7f\u7528\u7684\u8bbe\u5907\u7684CS\u5f15\u811a\u8bbe\u7f6e\u4e3a\u9ad8\u7535\u5e73\uff08\u8fd9\u6837\u5b83\u5c31\u4e0d\u4f1a\u8bd5\u56fe\u4f7f\u7528SPI\u603b\u7ebf\uff09\u3002\u7535\u8def\u677f\u7684\u539f\u7406\u56fe\u901a\u5e38\u662f\u4e00\u4e2a\u6709\u7528\u7684\u53c2\u8003\uff0c\u539f\u7406\u56fe\u4e0a\u53ef\u4ee5\u627e\u5230\u54ea\u4e9b\u8bbe\u5907\u6302\u5728SPI\u603b\u7ebf\u4e0a\u4ee5\u53ca\u5b83\u4eec\u7684\u76f8\u5173\u5f15\u811a\u3002","title":"\u6211\u4e00\u76f4\u5f97\u5230 \"Unable to write tmc spi 'stepper_x' register ...\"\u7684\u9519\u8bef\uff1f"},{"location":"TMC_Drivers.html#tmc-reports-error","text":"\u8fd9\u7c7b\u578b\u7684\u9519\u8bef\u8868\u660eTMC\u9a71\u52a8\u5668\u68c0\u6d4b\u5230\u4e86\u4e00\u4e2a\u95ee\u9898\uff0c\u5e76\u4e14\u5df2\u7ecf\u81ea\u6211\u7981\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u9a71\u52a8\u5668\u5df2\u7ecf\u505c\u6b62\u4e86\u4fdd\u6301\u4f4d\u7f6e\uff0c\u5e76\u5ffd\u7565\u4e86\u79fb\u52a8\u547d\u4ee4\u3002\u5982\u679cKlipper\u68c0\u6d4b\u5230\u4e00\u4e2a\u6fc0\u6d3b\u7684\u9a71\u52a8\u5668\u5df2\u7ecf\u81ea\u6211\u7981\u7528\uff0c\u5b83\u5c31\u4f1a\u628a\u6253\u5370\u673a\u5207\u6362\u5230 \"\u5173\u95ed \"\u72b6\u6001\u3002 \u4e5f\u6709\u53ef\u80fd\u7531\u4e8eSPI\u9519\u8bef\u5bfc\u81f4\u65e0\u6cd5\u4e0e\u9a71\u52a8\u5668\u901a\u4fe1\u800c\u53d1\u751f TMC reports error \u5bfc\u81f4\u7684\u5173\u673a\uff08\u5728tmc2130\u3001tmc5160\u6216tmc2660\u4e0a\uff09\u3002\u5982\u679c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\uff0c\u62a5\u544a\u7684\u9a71\u52a8\u5668\u72b6\u6001\u901a\u5e38\u4f1a\u663e\u793a \"00000000 \"\u6216 \"ffffff\"--\u4f8b\u5982\uff1a TMC reports error: DRV_STATUS: ffffffff ... \u6216\u8005 TMC reports error: READRSP@RDSEL2: 00000000 ... \u3002\u8fd9\u6837\u7684\u6545\u969c\u53ef\u80fd\u662f\u7531\u4e8eSPI\u7684\u63a5\u7ebf\u95ee\u9898\uff0c\u4e5f\u53ef\u80fd\u662f\u7531\u4e8eTMC\u9a71\u52a8\u5668\u7684\u81ea\u590d\u4f4d\u6216\u6545\u969c\u5bfc\u81f4\u7684\u3002 \u4e00\u4e9b\u5e38\u89c1\u7684\u9519\u8bef\u548c\u8bca\u65ad\u7684\u6280\u5de7\uff1a","title":"\u4e3a\u4ec0\u4e48\u6211\u5f97\u5230\u4e00\u4e2a \"TMC reports error: ...\"\u9519\u8bef\uff1f"},{"location":"TMC_Drivers.html#tmc-ot1overtemperror","text":"\u8fd9\u8868\u660e\u7535\u673a\u9a71\u52a8\u5668\u56e0\u6e29\u5ea6\u8fc7\u9ad8\u800c\u81ea\u6211\u7981\u7528\u3002\u5178\u578b\u7684\u89e3\u51b3\u65b9\u6848\u662f\u964d\u4f4e\u6b65\u8fdb\u7535\u673a\u7684\u7535\u6d41\uff0c\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u9a71\u52a8\u5668\u7684\u51b7\u5374\uff0c\u548c/\u6216\u589e\u52a0\u6b65\u8fdb\u7535\u673a\u7684\u51b7\u5374\u3002","title":"TMC \u62a5\u544a\u9519\u8bef\uff1a ... ot=1(OvertempError!)"},{"location":"TMC_Drivers.html#tmc-shorttognd-lowsideshort","text":"\u8fd9\u8868\u660e\u9a71\u52a8\u5668\u5df2\u81ea\u884c\u7981\u7528\uff0c\u56e0\u4e3a\u5b83\u68c0\u6d4b\u5230\u901a\u8fc7\u9a71\u52a8\u5668\u7684\u7535\u6d41\u975e\u5e38\u9ad8\u3002\u8fd9\u53ef\u80fd\u8868\u660e\u8fde\u63a5\u5230\u6b65\u8fdb\u7535\u673a\u6216\u8005\u90e8\u4ef6\u7535\u673a\u5185\u90e8\u7684\u7535\u7ebf\u677e\u52a8\u6216\u77ed\u8def\u4e86\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u5e76\u4e14TMC\u9a71\u52a8\u5668\u4e0d\u80fd\u51c6\u786e\u5730\u9884\u6d4b\u7535\u673a\u7684\u673a\u68b0\u8d1f\u8f7d\uff0c\u4e5f\u53ef\u80fd\u53d1\u751f\u8fd9\u79cd\u9519\u8bef\u3002(\u5982\u679c\u9a71\u52a8\u5668\u9884\u6d4b\u4e0d\u51c6\u786e\uff0c\u90a3\u4e48\u5b83\u53ef\u80fd\u8f93\u51fa\u8fc7\u9ad8\u7535\u6d41\u5230\u7535\u673a\uff0c\u5e76\u89e6\u53d1\u81ea\u5df1\u7684\u8fc7\u7535\u6d41\u68c0\u6d4b)\u3002\u8981\u6d4b\u8bd5\u8fd9\u4e2a\uff0c\u8bf7\u7981\u7528stealthChop\u6a21\u5f0f\uff0c\u518d\u68c0\u67e5\u9519\u8bef\u662f\u5426\u7ee7\u7eed\u53d1\u751f\u3002","title":"TMC \u62a5\u544a\u9519\u8bef: ... ShortToGND \u6216\u7740 LowSideShort"},{"location":"TMC_Drivers.html#tmc-reset1reset-cs_actual0reset-se0reset","text":"\u8fd9\u8868\u660e\u9a71\u52a8\u5668\u5728\u6253\u5370\u8fc7\u7a0b\u4e2d\u81ea\u6211\u590d\u4f4d\u3002\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u7535\u538b\u6216\u63a5\u7ebf\u95ee\u9898\u5bfc\u81f4\u7684\u3002","title":"TMC\u62a5\u544a\u9519\u8bef\uff1a... reset=1(Reset) \u6216CS_ACTUAL=0(Reset?) \u6216SE=0(Reset?)"},{"location":"TMC_Drivers.html#tmc-uv_cp1undervoltage","text":"\u8fd9\u8868\u660e\u9a71\u52a8\u5668\u68c0\u6d4b\u5230\u4e86\u4e00\u4e2a\u7535\u538b\u4f4e\u4e8b\u4ef6\uff0c\u5e76\u5df2\u81ea\u884c\u7981\u7528\u3002\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u63a5\u7ebf\u6216\u7535\u6e90\u95ee\u9898\u5bfc\u81f4\u7684\u3002","title":"TMC \u62a5\u544a\u9519\u8bef\uff1a ... uv_cp=1(Undervoltage!)"},{"location":"TMC_Drivers.html#spreadcyclecoolstep","text":"Trinamic\u7f51\u7ad9 \u6709\u5173\u4e8e\u914d\u7f6e\u9a71\u52a8\u7a0b\u5e8f\u7684\u6307\u5357\u3002\u8fd9\u4e9b\u6307\u5357\u901a\u5e38\u662f\u4e13\u4e1a\u3001\u5e95\u5c42\u4e14\u53ef\u80fd\u9700\u8981\u4e13\u7528\u7684\u786c\u4ef6\u3002\u4e0d\u7ba1\u600e\u4e48\u8bf4\uff0c\u5b83\u4eec\u662f\u6700\u597d\u7684\u4fe1\u606f\u6765\u6e90\u3002","title":"\u6211\u5982\u4f55\u5728\u6211\u7684\u9a71\u52a8\u5668\u4e0a\u8c03\u6574 spreadCycle/coolStep\u7b49\u6a21\u5f0f\uff1f"},{"location":"TSL1401CL_Filament_Width_Sensor.html","text":"TSL1401CL \u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668 \u00b6 \u672c\u6587\u6863\u63cf\u8ff0\u4e86\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\u4e3b\u673a\u6a21\u5757\u3002\u7528\u4e8e\u5f00\u53d1\u6b64\u4e3b\u673a\u6a21\u5757\u7684\u786c\u4ef6\u57fa\u4e8e TSL1401CL \u7ebf\u6027\u4f20\u611f\u5668\u9635\u5217\uff0c\u4f46\u8be5\u6a21\u5757\u53ef\u4ee5\u4e0e\u4efb\u4f55\u5177\u6709\u6a21\u62df\u8f93\u51fa\u7684\u4f20\u611f\u5668\u9635\u5217\u4e00\u8d77\u4f7f\u7528\u3002\u60a8\u53ef\u4ee5\u5728 Thingiverse \u627e\u5230\u53ef\u7528\u7684\u8bbe\u8ba1\u3002 \u8981\u4f7f\u7528\u57fa\u4e8e\u4f20\u611f\u5668\u9635\u5217\u7684\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\uff0c\u8bf7\u53c2\u9605 \u914d\u7f6e\u53c2\u8003 \u548c G-Code documentation \u3002 \u5b83\u5982\u4f55\u8fd0\u4f5c\uff1f \u00b6 \u6839\u636e\u4f20\u611f\u5668\u4ea7\u751f\u6a21\u62df\u8f93\u51fa\u8ba1\u7b97\u7684\u8017\u6750\u5bbd\u5ea6\u3002\u68c0\u6d4b\u5230\u7684\u8017\u6750\u5bbd\u5ea6\u548c\u8f93\u51fa\u7535\u538b\u76f8\u5bf9\u5e94\uff08\u4f8b\u5982\uff1a1.65v\u30011.70v\u30013.0v\uff09\u3002\u4e3b\u673a\u6a21\u5757\u76d1\u6d4b\u7535\u538b\u53d8\u5316\u5e76\u8c03\u6574\u6324\u51fa\u500d\u7387\u3002 \u6ce8\u610f\uff1a \u00b6 \u9ed8\u8ba4\u4ee5 10 \u6beb\u7c73\u7684\u95f4\u9694\u5bf9\u4f20\u611f\u5668\u8fdb\u884c\u8bfb\u6570\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u8f91 filament_width_sensor.py \u6587\u4ef6\u4e2d\u7684 MEASUREMENT_INTERVAL_MM \u6587\u4ef6\u4e2d\u7684\u53c2\u6570\u6765\u6539\u53d8\u8fd9\u4e00\u8bbe\u7f6e\u3002","title":"TSL1401CL \u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668"},{"location":"TSL1401CL_Filament_Width_Sensor.html#tsl1401cl","text":"\u672c\u6587\u6863\u63cf\u8ff0\u4e86\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\u4e3b\u673a\u6a21\u5757\u3002\u7528\u4e8e\u5f00\u53d1\u6b64\u4e3b\u673a\u6a21\u5757\u7684\u786c\u4ef6\u57fa\u4e8e TSL1401CL \u7ebf\u6027\u4f20\u611f\u5668\u9635\u5217\uff0c\u4f46\u8be5\u6a21\u5757\u53ef\u4ee5\u4e0e\u4efb\u4f55\u5177\u6709\u6a21\u62df\u8f93\u51fa\u7684\u4f20\u611f\u5668\u9635\u5217\u4e00\u8d77\u4f7f\u7528\u3002\u60a8\u53ef\u4ee5\u5728 Thingiverse \u627e\u5230\u53ef\u7528\u7684\u8bbe\u8ba1\u3002 \u8981\u4f7f\u7528\u57fa\u4e8e\u4f20\u611f\u5668\u9635\u5217\u7684\u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668\uff0c\u8bf7\u53c2\u9605 \u914d\u7f6e\u53c2\u8003 \u548c G-Code documentation \u3002","title":"TSL1401CL \u8017\u6750\u5bbd\u5ea6\u4f20\u611f\u5668"},{"location":"TSL1401CL_Filament_Width_Sensor.html#_1","text":"\u6839\u636e\u4f20\u611f\u5668\u4ea7\u751f\u6a21\u62df\u8f93\u51fa\u8ba1\u7b97\u7684\u8017\u6750\u5bbd\u5ea6\u3002\u68c0\u6d4b\u5230\u7684\u8017\u6750\u5bbd\u5ea6\u548c\u8f93\u51fa\u7535\u538b\u76f8\u5bf9\u5e94\uff08\u4f8b\u5982\uff1a1.65v\u30011.70v\u30013.0v\uff09\u3002\u4e3b\u673a\u6a21\u5757\u76d1\u6d4b\u7535\u538b\u53d8\u5316\u5e76\u8c03\u6574\u6324\u51fa\u500d\u7387\u3002","title":"\u5b83\u5982\u4f55\u8fd0\u4f5c\uff1f"},{"location":"TSL1401CL_Filament_Width_Sensor.html#_2","text":"\u9ed8\u8ba4\u4ee5 10 \u6beb\u7c73\u7684\u95f4\u9694\u5bf9\u4f20\u611f\u5668\u8fdb\u884c\u8bfb\u6570\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f16\u8f91 filament_width_sensor.py \u6587\u4ef6\u4e2d\u7684 MEASUREMENT_INTERVAL_MM \u6587\u4ef6\u4e2d\u7684\u53c2\u6570\u6765\u6539\u53d8\u8fd9\u4e00\u8bbe\u7f6e\u3002","title":"\u6ce8\u610f\uff1a"},{"location":"Using_PWM_Tools.html","text":"\u4f7f\u7528 PWM \u5de5\u5177 \u00b6 \u8be5\u6587\u6863\u4ecb\u7ecd\u5982\u4f55\u914d\u7f6e output_pin \u548c\u5b8f\u547d\u4ee4\u4ee5\u5b9e\u73b0\u4f7f\u7528 PWM \u4fe1\u53f7\u5bf9\u6fc0\u5149\u5668\u6216\u4e3b\u8f74\u8fdb\u884c\u63a7\u5236\u3002 \u5b83\u5982\u4f55\u8fd0\u4f5c\uff1f \u00b6 \u901a\u8fc7\u91cd\u7528\u6253\u5370\u5934\u6a21\u578b\u98ce\u6247(part fan)\u7684PWM\u8f93\u51fa\u4fe1\u53f7\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u6fc0\u5149\u5934\u6216\u8f6c\u8f74\u7684\u63a7\u5236\u3002\u5bf9\u4f7f\u7528\u53ef\u66f4\u6362\u6253\u5370\u5934\u7684\u8bbe\u5907\uff0c\u5982E3D toolchanger \u6216\u5176\u4ed6DIY\u9879\u76ee\uff0c\u8fd9\u662f\u5341\u5206\u6709\u7528\u7684\u529f\u80fd\u3002\u901a\u5e38\uff0ccam\u8f6f\u4ef6\uff0c\u4f8b\u5982LaserWeb\uff0c\u4f1a\u4f7f\u7528 M3-M5 \u547d\u4ee4\uff0c\u5b83\u4eec\u5206\u522b\u662f \u4e3b\u8f74\u987a\u65f6\u9488\u8f6c\u901f spindle speed CW ( M3 S[0-255] )\uff0c \u4e3b\u8f74\u9006\u65f6\u9488\u8f6c\u901f spindle speed CCW ( M4 S[0-255] ) \u548c\u8f6c\u8f74\u505c\u6b62 spindle stop ( M5 )\u3002 \u8b66\u544a\uff1a \u5728\u9a71\u52a8\u6fc0\u5149\u5668\u65f6\uff0c\u5e94\u91c7\u7528\u4e00\u5207\u53ef\u80fd\u7684\u9884\u9632\u63aa\u65bd\u3002\u4e8c\u6781\u7ba1\u6fc0\u5149\u4e00\u822c\u662f\u4f7f\u7528\u53cd\u4fe1\u53f7\u7684\uff0c\u5373\u5f53\u5fae\u63a7\u5236\u5668\u91cd\u542f\u65f6\uff0c\u6fc0\u5149\u5c06\u4f1a \u5168\u529f\u7387\u8f93\u51fa \uff0c\u76f4\u81f3\u5fae\u5904\u7406\u5668\u6062\u590d\u6b63\u5e38\u8fd0\u4f5c\u3002 \u614e\u91cd\u800c\u8a00\uff0c\u5efa\u8bae\u5728\u6fc0\u5149\u5668\u4e0a\u7535\u671f\u95f4 \u59cb\u7ec8 \u4f69\u6234\u5408\u9002\u6ce2\u957f\u7684\u62a4\u76ee\u955c\uff1b\u5e76\u5728\u4e0d\u4f7f\u7528\u6fc0\u5149\u65f6\u5bf9\u6fc0\u5149\u5668\u65ad\u7535\u3002\u540c\u65f6\uff0c\u5e94\u8be5\u4e3a\u6fc0\u5149\u5668\u8bbe\u7f6e\u5b89\u5168\u5b9a\u65f6\uff0c\u4fdd\u8bc1\u5728\u4e0a\u4f4d\u673a\u548c\u5fae\u63a7\u5236\u5668\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u6fc0\u5149\u5668\u80fd\u81ea\u52a8\u505c\u6b62\u3002 \u6709\u5173\u793a\u4f8b\u914d\u7f6e\uff0c\u8bf7\u53c2\u9605 config/sample-pwm-tool.cfg \u3002 \u7535\u6d41\u9650\u5236 \u00b6 PWM\u8109\u51b2\u53d1\u751f\u7684\u9891\u7387\u5b58\u5728\u4e0a\u9650\u3002\u5c3d\u7ba1\u76f8\u5f53\u7cbe\u786e\uff0c\u4f46\u6bcf\u96940.1\u79d2\u624d\u80fd\u751f\u6210\u4e00\u4e2aPWM\u8109\u51b2\uff0c\u56e0\u800c\u51e0\u4e4e\u65e0\u6cd5\u7528\u4f5c\u5149\u6805\u8680\u523b\u3002\u76f8\u5bf9\u5730\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b \u6d4b\u8bd5\u5206\u652f \u3002\u5b83\u4e0e\u4e3b\u5206\u652f\u5404\u6709\u8003\u91cf\u3002\u957f\u671f\u8ba1\u5212\u4e2d\u5c06\u4e0a\u8ff0\u529f\u80fd\u52a0\u5165\u5230 Klipper \u7684\u4e3b\u5206\u652f\u4e2d\u3002 \u547d\u4ee4 \u00b6 M3/M4 S<\u503c> \uff1a\u8bbe\u7f6e PWM \u5360\u7a7a\u6bd4\u3002\u5360\u7a7a\u6bd4\u6570\u503c\u5e94\u57280\u548c255\u4e4b\u95f4\u3002 M5 : \u505c\u6b62 PWM \u4fe1\u53f7\u8f93\u51fa\u3002 LaserWeb \u7aef\u914d\u7f6e \u00b6 \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f LaserWeb \u8f6f\u4ef6\uff0c\u4e00\u4e2a\u53ef\u7528\u7684\u914d\u7f6e\u4e3a\uff1a GCODE START: \u542f\u52a8 G \u4ee3\u7801 M5 ; \u505c\u7528\u6fc0\u5149 G21 ; \u4f7f\u7528mm\u4f5c\u4e3a\u5355\u4f4d G90 ; \u4f7f\u7528\u7edd\u5bf9\u5750\u6807 G0 Z0 F7000 ; \u8bbe\u7f6e\u7a7a\u8d70\u901f\u5ea6 GCODE END: \u7ed3\u675f G \u4ee3\u7801 M5 ; \u505c\u7528\u6fc0\u5149 G91 ; \u4f7f\u7528\u76f8\u5bf9\u5750\u6807 G0 Z+20 F4000 ; G90 ; \u4f7f\u7528\u7edd\u5bf9\u5750\u6807 GCODE HOMING: \u5f52\u96f6 G \u4ee3\u7801 M5 ; \u505c\u7528\u6fc0\u5149 G28 ; \u5168\u8f74\u5f52\u96f6 TOOL ON: \u5f00\u542f\u5de5\u5177 M3 $INTENSITY TOOL OFF: \u5173\u95ed\u5de5\u5177 M5 ; \u505c\u7528\u6fc0\u5149 LASER INTENSITY: \u6fc0\u5149\u5f3a\u5ea6 S","title":"\u4f7f\u7528 PWM \u5de5\u5177"},{"location":"Using_PWM_Tools.html#pwm","text":"\u8be5\u6587\u6863\u4ecb\u7ecd\u5982\u4f55\u914d\u7f6e output_pin \u548c\u5b8f\u547d\u4ee4\u4ee5\u5b9e\u73b0\u4f7f\u7528 PWM \u4fe1\u53f7\u5bf9\u6fc0\u5149\u5668\u6216\u4e3b\u8f74\u8fdb\u884c\u63a7\u5236\u3002","title":"\u4f7f\u7528 PWM \u5de5\u5177"},{"location":"Using_PWM_Tools.html#_1","text":"\u901a\u8fc7\u91cd\u7528\u6253\u5370\u5934\u6a21\u578b\u98ce\u6247(part fan)\u7684PWM\u8f93\u51fa\u4fe1\u53f7\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9e\u73b0\u5bf9\u6fc0\u5149\u5934\u6216\u8f6c\u8f74\u7684\u63a7\u5236\u3002\u5bf9\u4f7f\u7528\u53ef\u66f4\u6362\u6253\u5370\u5934\u7684\u8bbe\u5907\uff0c\u5982E3D toolchanger \u6216\u5176\u4ed6DIY\u9879\u76ee\uff0c\u8fd9\u662f\u5341\u5206\u6709\u7528\u7684\u529f\u80fd\u3002\u901a\u5e38\uff0ccam\u8f6f\u4ef6\uff0c\u4f8b\u5982LaserWeb\uff0c\u4f1a\u4f7f\u7528 M3-M5 \u547d\u4ee4\uff0c\u5b83\u4eec\u5206\u522b\u662f \u4e3b\u8f74\u987a\u65f6\u9488\u8f6c\u901f spindle speed CW ( M3 S[0-255] )\uff0c \u4e3b\u8f74\u9006\u65f6\u9488\u8f6c\u901f spindle speed CCW ( M4 S[0-255] ) \u548c\u8f6c\u8f74\u505c\u6b62 spindle stop ( M5 )\u3002 \u8b66\u544a\uff1a \u5728\u9a71\u52a8\u6fc0\u5149\u5668\u65f6\uff0c\u5e94\u91c7\u7528\u4e00\u5207\u53ef\u80fd\u7684\u9884\u9632\u63aa\u65bd\u3002\u4e8c\u6781\u7ba1\u6fc0\u5149\u4e00\u822c\u662f\u4f7f\u7528\u53cd\u4fe1\u53f7\u7684\uff0c\u5373\u5f53\u5fae\u63a7\u5236\u5668\u91cd\u542f\u65f6\uff0c\u6fc0\u5149\u5c06\u4f1a \u5168\u529f\u7387\u8f93\u51fa \uff0c\u76f4\u81f3\u5fae\u5904\u7406\u5668\u6062\u590d\u6b63\u5e38\u8fd0\u4f5c\u3002 \u614e\u91cd\u800c\u8a00\uff0c\u5efa\u8bae\u5728\u6fc0\u5149\u5668\u4e0a\u7535\u671f\u95f4 \u59cb\u7ec8 \u4f69\u6234\u5408\u9002\u6ce2\u957f\u7684\u62a4\u76ee\u955c\uff1b\u5e76\u5728\u4e0d\u4f7f\u7528\u6fc0\u5149\u65f6\u5bf9\u6fc0\u5149\u5668\u65ad\u7535\u3002\u540c\u65f6\uff0c\u5e94\u8be5\u4e3a\u6fc0\u5149\u5668\u8bbe\u7f6e\u5b89\u5168\u5b9a\u65f6\uff0c\u4fdd\u8bc1\u5728\u4e0a\u4f4d\u673a\u548c\u5fae\u63a7\u5236\u5668\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u6fc0\u5149\u5668\u80fd\u81ea\u52a8\u505c\u6b62\u3002 \u6709\u5173\u793a\u4f8b\u914d\u7f6e\uff0c\u8bf7\u53c2\u9605 config/sample-pwm-tool.cfg \u3002","title":"\u5b83\u5982\u4f55\u8fd0\u4f5c\uff1f"},{"location":"Using_PWM_Tools.html#_2","text":"PWM\u8109\u51b2\u53d1\u751f\u7684\u9891\u7387\u5b58\u5728\u4e0a\u9650\u3002\u5c3d\u7ba1\u76f8\u5f53\u7cbe\u786e\uff0c\u4f46\u6bcf\u96940.1\u79d2\u624d\u80fd\u751f\u6210\u4e00\u4e2aPWM\u8109\u51b2\uff0c\u56e0\u800c\u51e0\u4e4e\u65e0\u6cd5\u7528\u4f5c\u5149\u6805\u8680\u523b\u3002\u76f8\u5bf9\u5730\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b \u6d4b\u8bd5\u5206\u652f \u3002\u5b83\u4e0e\u4e3b\u5206\u652f\u5404\u6709\u8003\u91cf\u3002\u957f\u671f\u8ba1\u5212\u4e2d\u5c06\u4e0a\u8ff0\u529f\u80fd\u52a0\u5165\u5230 Klipper \u7684\u4e3b\u5206\u652f\u4e2d\u3002","title":"\u7535\u6d41\u9650\u5236"},{"location":"Using_PWM_Tools.html#_3","text":"M3/M4 S<\u503c> \uff1a\u8bbe\u7f6e PWM \u5360\u7a7a\u6bd4\u3002\u5360\u7a7a\u6bd4\u6570\u503c\u5e94\u57280\u548c255\u4e4b\u95f4\u3002 M5 : \u505c\u6b62 PWM \u4fe1\u53f7\u8f93\u51fa\u3002","title":"\u547d\u4ee4"},{"location":"Using_PWM_Tools.html#laserweb","text":"\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f LaserWeb \u8f6f\u4ef6\uff0c\u4e00\u4e2a\u53ef\u7528\u7684\u914d\u7f6e\u4e3a\uff1a GCODE START: \u542f\u52a8 G \u4ee3\u7801 M5 ; \u505c\u7528\u6fc0\u5149 G21 ; \u4f7f\u7528mm\u4f5c\u4e3a\u5355\u4f4d G90 ; \u4f7f\u7528\u7edd\u5bf9\u5750\u6807 G0 Z0 F7000 ; \u8bbe\u7f6e\u7a7a\u8d70\u901f\u5ea6 GCODE END: \u7ed3\u675f G \u4ee3\u7801 M5 ; \u505c\u7528\u6fc0\u5149 G91 ; \u4f7f\u7528\u76f8\u5bf9\u5750\u6807 G0 Z+20 F4000 ; G90 ; \u4f7f\u7528\u7edd\u5bf9\u5750\u6807 GCODE HOMING: \u5f52\u96f6 G \u4ee3\u7801 M5 ; \u505c\u7528\u6fc0\u5149 G28 ; \u5168\u8f74\u5f52\u96f6 TOOL ON: \u5f00\u542f\u5de5\u5177 M3 $INTENSITY TOOL OFF: \u5173\u95ed\u5de5\u5177 M5 ; \u505c\u7528\u6fc0\u5149 LASER INTENSITY: \u6fc0\u5149\u5f3a\u5ea6 S","title":"LaserWeb \u7aef\u914d\u7f6e"}]}