{"config":{"indexing":"full","lang":["ja"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"Klipper\u662f3D\u5370\u8868\u6a5f\u56fa\u4ef6\u3002\u5b83\u5c07\u901a\u7528\u96fb\u8166\u7684\u904b\u7b97\u80fd\u529b\u8207\u4e00\u500b\u6216\u591a\u500b\u5fae\u63a7\u5236\u5668\u76f8\u7d50\u5408\u3002\u6709\u95dcKlipper\u7684\u512a\u52e2\uff0c\u8acb\u53c3\u95b1 \u529f\u80fd \u6587\u6a94\u3002 \u8981\u958b\u59cb\u4f7f\u7528 Klipper\uff0c\u8acb\u5f9e \u5b89\u88dd\u6587\u6a94 \u958b\u59cb\u3002 Klipper\u662f\u81ea\u7531\u8edf\u9ad4\u3002\u95b1\u8b80 \u6587\u6a94 \u6216\u67e5\u770b GitHub\u4e0a\u7684Klipper\u4ee3\u78bc \u3002","title":"\u6b61\u8fce"},{"location":"API_Server.html","text":"API \u4f3a\u670d\u5668 \u00b6 \u8a72\u6587\u4ef6\u4ecb\u7d39Klipper\u7684\u61c9\u7528\u958b\u767c\u8005\u4ecb\u9762\uff08API\uff09\u529f\u80fd\u3002\u8a72\u4ecb\u9762\u5141\u8a31\u5916\u90e8\u61c9\u7528\u7a0b\u5f0f\u8a2a\u554f\u548c\u63a7\u5236Klipper\u4e3b\u6a5f\u3002 \u555f\u7528API\u5957\u63a5\u5b57 \u00b6 \u8981\u555f\u7528API\u4f3a\u670d\u5668\uff0cklipper.py\u57f7\u884c\u6642\u61c9\u52a0\u4e0a -a \u53c3\u6578\u3002\u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -a /tmp/klippy_uds -l /tmp/klippy.log \u4e0a\u8ff0\u64cd\u4f5c\u6703\u4f7f\u4e3b\u6a5f\u5efa\u7acb\u4e00\u500bUnix\u672c\u5730\u5957\u63a5\u5b57\u3002\u4e4b\u5f8c\uff0c\u5ba2\u6236\u61c9\u7528\u7a0b\u5f0f\u53ef\u4ee5\u5efa\u7acb\u4e00\u500b\u5957\u63a5\u5b57\u93c8\u63a5\uff0c\u5f9e\u800c\u7d66Klipper\u767c\u9001\u547d\u4ee4\u3002 See the Moonraker project for a popular tool that can forward HTTP requests to Klipper's API Server Unix Domain Socket. \u8acb\u6c42\u683c\u5f0f \u00b6 \u5957\u63a5\u5b57\u9032\u51fa\u7684\u6578\u64da\u5305\u61c9\u4f7f\u7528JSON\u7de8\u78bc\u7684\u5b57\u4e32\uff0c\u4e26\u4ee5ASCII\u5b57\u51430x03\u4f5c\u70ba\u7d50\u5c3e\uff1a <json_object_1><0x03><json_object_2><0x03>... Klipper\u4f7f\u7528 scripts/whconsole.py \u7684\u7a0b\u5f0f\u78bc\u9032\u884c\u4e0a\u8ff0\u7684\u6578\u64da\u5e40\u6253\u5305\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/whconsole.py /tmp/klippy_uds \u8a72\u5de5\u5177\u6703\u5f9estdin\u4e2d\u8b80\u53d6\u4e00\u7cfb\u5217\u7684JSON\u547d\u4ee4\uff0c\u767c\u9001\u5230Klipper\u57f7\u884c\uff0c\u4e26\u5c07\u7d50\u679c\u9001\u51fa\u3002\u8a72\u5de5\u5177\u9810\u8a2d\u8f38\u5165\u7684\u6bcf\u689dJson\u547d\u4ee4\u4e2d\u4e0d\u5b58\u5728\u63db\u884c\uff0c\u4e26\u81ea\u52d5\u5730\u5728\u767c\u9001\u547d\u4ee4\u6642\u5728\u7d50\u5c3e\u9644\u4e0a0x03\u3002\uff08Klipper API\u4f3a\u670d\u5668\u6c92\u6709\u63db\u884c\u7b26\u8981\u6c42\u3002\uff09 API\u5354\u8b70 \u00b6 \u5957\u63a5\u5b57\u7684\u547d\u4ee4\u5354\u8b70\u53d7 json-rpc \u5553\u767c\u3002 \u4e00\u500b\u8acb\u6c42\u547d\u4ee4\u985e\u4f3c\uff1a {\"id\": 123, \"method\": \"info\", \"params\": {}} \u53ca\u4e00\u500b\u53cd\u61c9\u5c07\u985e\u4f3c\uff1a {\"id\": 123, \"result\": {\"state_message\": \"Printer is ready\", \"klipper_path\": \"/home/pi/klipper\", \"config_file\": \"/home/pi/printer.cfg\", \"software_version\": \"v0.8.0-823-g883b1cb6\", \"hostname\": \"octopi\", \"cpu_info\": \"4 core ARMv7 Processor rev 4 (v7l)\", \"state\": \"ready\", \"python_path\": \"/home/pi/klippy-env/bin/python\", \"log_file\": \"/tmp/klippy.log\"}} \u6bcf\u500b\u8acb\u6c42\u61c9\u70ba\u4e00\u500bJSON\u5b57\u5178\u3002\uff08\u672c\u6587\u4ef6\u4f7f\u7528Python\u4e2d\u7684\u8853\u8a9e\u300c\u5b57\u5178\u300d\u63cf\u8ff0\u4ee5 {} \u70ba\u908a\u754c\u7684\u300c\u9375-\u503c\u300dJSON\u5c0d\u8c61\u3002\uff09 \u8acb\u6c42\u5b57\u5178\u4e2d\u5fc5\u9808\u5305\u542b\u4e00\u500b\u300dmethod\u300d\u6b04\u4f4d\uff0c\u5176\u503c\u61c9\u5305\u542b\u4e00\u500b\u53ef\u7528\u7684Klipper\u7aef\u9ede\u300dendpoint\u300d\u540d\u7a31\u5b57\u4e32\u3002 \u8acb\u6c42\u5b57\u5178\u53ef\u80fd\u5305\u542b\u300dparams\u300d\u53c3\u6578\uff0c\u4e26\u5176\u503c\u61c9\u70ba\u4e00\u500b\u5b57\u5178\u578b\u5225\u3002\u300dparams\u300d\u63d0\u4f9bKlipper\u300dendpoint\u300d\u8655\u7406\u8acb\u6c42\u6240\u9700\u7684\u984d\u5916\u6578\u64da\uff0c\u5176\u5167\u5bb9\u4f9d\u300dendpoint\u300d\u800c\u5b9a\u3002 \u8acb\u6c42\u5b57\u5178\u53ef\u80fd\u5305\u542b\u4e00\u500b\u201cid\u201d\u53c3\u6578\uff0c\u5b83\u53ef\u4ee5\u662f\u4efb\u4f55 JSON \u985e\u578b\u3002\u5982\u679c\u5b58\u5728\u201cid\u201d\uff0c\u90a3\u9ebc Klipper \u5c07\u4f7f\u7528\u5305\u542b\u8a72\u201cid\u201d\u7684\u97ff\u61c9\u6d88\u606f\u4f86\u97ff\u61c9\u8acb\u6c42\u3002\u5982\u679c\u7701\u7565\u201cid\u201d\uff08\u6216\u8a2d\u7f6e\u70ba JSON\u201cnull\u201d\u503c\uff09\uff0c\u5247 Klipper \u4e0d\u6703\u5c0d\u8acb\u6c42\u63d0\u4f9b\u4efb\u4f55\u97ff\u61c9\u3002\u97ff\u61c9\u6d88\u606f\u662f\u5305\u542b\u201cid\u201d\u548c\u201cresult\u201d\u7684 JSON \u5b57\u5178\u3002 \u201c\u7d50\u679c\u201d\u59cb\u7d42\u662f\u4e00\u500b\u5b57\u5178 - \u5b83\u7684\u5167\u5bb9\u7279\u5b9a\u65bc\u8655\u7406\u8acb\u6c42\u7684\u201c\u7aef\u9ede\u201d\u3002 \u5982\u679c\u8655\u7406\u7684\u8acb\u6c42\u9020\u6210\u4e86\u932f\u8aa4\uff0c\u5247\u97ff\u61c9\u8a0a\u606f\u5c07\u5305\u542b\"error\"\u6b04\u4f4d\uff0c\u800c\u4e0d\u662f\"result\"\u6b04\u4f4d\u3002\u4f8b\u5982\uff0c\u8acb\u6c42\uff1a {\"id\"\uff1a 123\uff0c \"method\"\uff1a \"gcode/script\"\uff0c \"params\"\uff1a {\"script\"\uff1a \"G1 X200\"}} \u53ef\u80fd\u6703\u8fd4\u56de\u932f\u8aa4\u97ff\u61c9\uff0c\u4f8b\u5982\uff1a {\"id\"\uff1a 123\uff0c \"error\"\uff1a {\"message\"\uff1a \"Must home axis first\uff1a 200.000 0.000 0.000 [0.000]\"\uff0c \"error\"\uff1a \"WebRequestError\"}} Klipper \u6703\u6309\u7167\u6536\u5230\u8acb\u6c42\u7684\u9806\u5e8f\u4f9d\u6b21\u8655\u7406\u8acb\u6c42\u3002\u7136\u800c\uff0c\u4e00\u4e9b\u8acb\u6c42\u53ef\u80fd\u4e0d\u6703\u7acb\u5373\u5b8c\u6210\uff0c\u9019\u53ef\u80fd\u6703\u5c0e\u81f4\u76f8\u95dc\u7684\u97ff\u61c9\u8207\u5176\u4ed6\u8acb\u6c42\u7684\u97ff\u61c9\u4e0d\u6309\u9806\u5e8f\u767c\u9001\u3002\u4e00\u500b JSON \u8acb\u6c42\u6c38\u9060\u4e0d\u6703\u66ab\u505c\u5c0d\u672a\u4f86JSON \u8acb\u6c42\u7684\u8655\u7406\u3002 \u8a02\u95b1 \u00b6 \u4e00\u4e9b Klipper \u7684\"endpoint\"\u53ef\u4ee5\u4ee5 \"\u8a02\u95b1\" \u7684\u5f62\u5f0f\u63a5\u6536\u672a\u4f86\u7684\u975e\u540c\u6b65\u66f4\u65b0\u8a0a\u606f\u3002 \u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{\"key\": 345}}} \u53ef\u80fd\u6703\u8fd4\u56de\u4e00\u500b\u521d\u59cb\u8ff4\u61c9\uff1a {\"id\": 123, \"result\": {}} \u4e26\u5c0e\u81f4 Klipper \u5728\u672a\u4f86\u767c\u9001\u985e\u4f3c\u65bc\u4ee5\u4e0b\u5167\u5bb9\u7684\u8a0a\u606f\uff1a {\"params\": {\"response\": \"ok B:22.8 /0.0 T0:22.4 /0.0\"}, \"key\": 345} \u8a02\u95b1\u8acb\u6c42\u63a5\u53d7\u8acb\u6c42\u7684\u201cparams\u201d\u5b57\u6bb5\u4e2d\u7684\u201cresponse_template\u201d\u5b57\u5178\u3002\u8a72\u201cresponse_template\u201d\u5b57\u5178\u7528\u4f5c\u672a\u4f86\u7570\u6b65\u6d88\u606f\u7684\u6a21\u677f - \u5b83\u53ef\u80fd\u5305\u542b\u4efb\u610f\u9375/\u503c\u5c0d\u3002\u7576\u767c\u9001\u9019\u4e9b\u672a\u4f86\u7684\u7570\u6b65\u6d88\u606f\u6642\uff0cKlipper \u5c07\u5728\u97ff\u61c9\u6a21\u677f\u4e2d\u6dfb\u52a0\u4e00\u500b\u5305\u542b\u5177\u6709\u201c\u7aef\u9ede\u201d\u7279\u5b9a\u5167\u5bb9\u7684\u5b57\u5178\u7684\u201c\u53c3\u6578\u201d\u5b57\u6bb5\uff0c\u7136\u5f8c\u767c\u9001\u8a72\u6a21\u677f\u3002\u5982\u679c\u672a\u63d0\u4f9b\u201cresponse_template\u201d\u5b57\u6bb5\uff0c\u5247\u9ed8\u8a8d\u70ba\u7a7a\u5b57\u5178\uff08 {} \uff09\u3002 \u53ef\u7528\u7684\u201c\u7aef\u9ede\u201d \u00b6 \u6309\u7167\u6163\u4f8b\uff0cKlipper \u201c\u7aef\u9ede\u201d\u7684\u683c\u5f0f\u70ba <module_name>/<some_name> \u3002\u5411\u201c\u7aef\u9ede\u201d\u767c\u51fa\u8acb\u6c42\u6642\uff0c\u5fc5\u9808\u5728\u8acb\u6c42\u5b57\u5178\u7684\u201c\u65b9\u6cd5\u201d\u53c3\u6578\u4e2d\u8a2d\u7f6e\u5168\u540d\uff08\u4f8b\u5982\uff0c {\"method\"=\"gcode/restart\"} \uff09\u3002 \u4fe1\u606f \u00b6 \u201cinfo\u201d\u7aef\u9ede\u7528\u65bc\u5f9e Klipper \u7372\u53d6\u7cfb\u7d71\u548c\u7248\u672c\u4fe1\u606f\u3002\u5b83\u9084\u7528\u65bc\u5411 Klipper \u63d0\u4f9b\u5ba2\u6236\u7aef\u7684\u7248\u672c\u4fe1\u606f\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"info\", \"params\": { \"client_info\": { \"version\": \"v1\"}}} \u5982\u679c\u5b58\u5728\uff0c\u201cclient_info\u201d\u53c3\u6578\u5fc5\u9808\u662f\u5b57\u5178\uff0c\u4f46\u8a72\u5b57\u5178\u53ef\u80fd\u5177\u6709\u4efb\u610f\u5167\u5bb9\u3002\u9f13\u52f5\u5ba2\u6236\u7aef\u5728\u9996\u6b21\u9023\u63a5\u5230 Klipper API \u670d\u52d9\u5668\u6642\u63d0\u4f9b\u5ba2\u6236\u7aef\u540d\u7a31\u53ca\u5176\u8edf\u4ef6\u7248\u672c\u3002 emergency_stop \u00b6 \u201cemergency_stop\u201d\u7aef\u9ede\u7528\u65bc\u6307\u793a Klipper \u8f49\u63db\u5230\u201c\u95dc\u9589\u201d\u72c0\u614b\u3002\u5b83\u7684\u884c\u70ba\u985e\u4f3c\u65bc G-Code M112 \u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"emergency_stop\"} register_remote_method \u00b6 \u6b64\u7aef\u9ede\u5141\u8a31\u5ba2\u6236\u7aef\u8a3b\u518a\u53ef\u4ee5\u5f9e klipper \u8abf\u7528\u7684\u65b9\u6cd5\u3002\u6210\u529f\u5f8c\u5c07\u8fd4\u56de\u4e00\u500b\u7a7a\u5c0d\u8c61\u3002 \u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"register_remote_method\", \"params\": {\"response_template\": {\"action\": \"run_paneldue_beep\"}, \"remote_method\": \"paneldue_beep\"}} \u5c07\u8fd4\u56de\uff1a {\u201cid\u201d\uff1a123\uff0c\u201c\u7d50\u679c\u201d\uff1a{}} \u73fe\u5728\u53ef\u4ee5\u5f9e Klipper \u8abf\u7528\u9060\u7a0b\u65b9\u6cd5 paneldue_beep \u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u8a72\u65b9\u6cd5\u63a1\u7528\u53c3\u6578\uff0c\u5247\u61c9\u5c07\u5b83\u5011\u4f5c\u70ba\u95dc\u9375\u5b57\u53c3\u6578\u63d0\u4f9b\u3002\u4e0b\u9762\u662f\u5982\u4f55\u5f9e gcode_macro \u8abf\u7528\u5b83\u7684\u793a\u4f8b\uff1a [gcode_macro PANELDUE_BEEP] gcode: {action_call_remote_method(\"paneldue_beep\", frequency=300, duration=1.0)} \u7576\u57f7\u884c PANELDUE_BEEP gcode \u5b8f\u6642\uff0cKlipper \u5c07\u901a\u904e\u5957\u63a5\u5b57\u767c\u9001\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\uff1a {\"action\": \"run_paneldue_beep\", \"params\": {\"frequency\": 300, \"duration\": 1.0}} objects/list \u00b6 \u8a72\u7aef\u9ede\u67e5\u8a62\u53ef\u4ee5\u67e5\u8a62\u7684\u53ef\u7528\u6253\u5370\u6a5f\u201c\u5c0d\u8c61\u201d\u5217\u8868\uff08\u901a\u904e\u201c\u5c0d\u8c61/\u67e5\u8a62\u201d\u7aef\u9ede\uff09\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"objects/list\"} \u53ef\u80fd\u6703\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"objects\": [\"webhooks\", \"configfile\" , \u201c\u52a0\u71b1\u5668\u201d, \u201cgcode_move\u201d, \u201cquery_endstops\u201d, \u201cidle_timeout\u201d, \u201ctoolhead\u201d, \u201cextruder\u201d]}} objects/query \u00b6 \u8a72\u7aef\u9ede\u5141\u8a31\u5f9e\u6253\u5370\u6a5f\u5c0d\u50cf\u4e2d\u67e5\u8a62\u4fe1\u606f\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"objects/query\", \"params\": {\"objects\": {\"toolhead\": [\"position\"], \"webhooks\": null}}} \u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\", \"state_message\": \"Printer is ready\"}, \"toolhead\": { \u201c\u4f4d\u7f6e\u201d\uff1a[0.0, 0.0, 0.0, 0.0]}}\uff0c\u201c\u4e8b\u4ef6\u6642\u9593\u201d\uff1a3051555.377933684}} \u8acb\u6c42\u4e2d\u7684\u201cobjects\u201d\u53c3\u6578\u5fc5\u9808\u662f\u5305\u542b\u8981\u67e5\u8a62\u7684\u6253\u5370\u6a5f\u5c0d\u8c61\u7684\u5b57\u5178 - \u9375\u5305\u542b\u6253\u5370\u6a5f\u5c0d\u8c61\u540d\u7a31\uff0c\u503c\u70ba\u201cnull\u201d\uff08\u67e5\u8a62\u6240\u6709\u5b57\u6bb5\uff09\u6216\u5b57\u6bb5\u540d\u7a31\u5217\u8868\u3002 \u97ff\u61c9\u6d88\u606f\u5c07\u5305\u542b\u4e00\u500b\u201c\u72c0\u614b\u201d\u5b57\u6bb5\uff0c\u5176\u4e2d\u5305\u542b\u5e36\u6709\u67e5\u8a62\u4fe1\u606f\u7684\u5b57\u5178 - \u9375\u5305\u542b\u6253\u5370\u6a5f\u5c0d\u8c61\u540d\u7a31\uff0c\u503c\u662f\u5305\u542b\u5176\u5b57\u6bb5\u7684\u5b57\u5178\u3002\u97ff\u61c9\u6d88\u606f\u9084\u5c07\u5305\u542b\u4e00\u500b\u201ceventtime\u201d\u5b57\u6bb5\uff0c\u5176\u4e2d\u5305\u542b\u9032\u884c\u67e5\u8a62\u6642\u7684\u6642\u9593\u6233\u3002 \u53ef\u7528\u5b57\u6bb5\u8a18\u9304\u5728 Status Reference \u6587\u6a94\u4e2d\u3002 objects/subscribe \u00b6 \u8a72\u7aef\u9ede\u5141\u8a31\u67e5\u8a62\u7136\u5f8c\u8a02\u95b1\u4f86\u81ea\u6253\u5370\u6a5f\u5c0d\u8c61\u7684\u4fe1\u606f\u3002\u7aef\u9ede\u8acb\u6c42\u548c\u97ff\u61c9\u8207\u201c\u5c0d\u8c61/\u67e5\u8a62\u201d\u7aef\u9ede\u76f8\u540c\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"objects/subscribe\", \"params\": {\"objects\":{\"toolhead\": [\"position\"], \"webhooks\": [\"state\"] }, \"response_template\":{}}} \u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\"}, \"toolhead\": {\"position\": [0.0, 0.0, 0.0, 0.0]}}, \"eventtime\": 3052153.382083195}} \u4e26\u5c0e\u81f4\u5f8c\u7e8c\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": {\"status\": {\"webhooks\": {\u201c\u72c0\u614b\u201d\uff1a\u201c\u95dc\u6a5f\u201d}}\uff0c\u201c\u4e8b\u4ef6\u6642\u9593\u201d\uff1a3052165.418815847}} gcode/help \u00b6 \u8a72\u7aef\u9ede\u5141\u8a31\u67e5\u8a62\u5df2\u5b9a\u7fa9\u5e6b\u52a9\u5b57\u7b26\u4e32\u7684\u53ef\u7528 G \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/help\"} \u53ef\u80fd\u6703\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"RESTORE_GCODE_STATE\": \"\u6062\u5fa9\u4ee5\u524d\u4fdd\u5b58\u7684 G-Code state\", \"PID_CALIBRATE\": \"\u904b\u884c PID \u6821\u6e96\u6e2c\u8a66\", \"QUERY_ADC\": \"\u5831\u544a\u6a21\u64ec\u5f15\u8173\u7684\u6700\u5f8c\u503c\", ...}} gcode/script \u00b6 \u8a72\u7aef\u9ede\u5141\u8a31\u904b\u884c\u4e00\u7cfb\u5217 G \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/script\", \"params\": {\"script\": \"G90\"}} \u5982\u679c\u63d0\u4f9b\u7684 G \u4ee3\u78bc\u8173\u672c\u5f15\u767c\u932f\u8aa4\uff0c\u5247\u6703\u751f\u6210\u932f\u8aa4\u97ff\u61c9\u3002\u4f46\u662f\uff0c\u5982\u679c G \u4ee3\u78bc\u547d\u4ee4\u7522\u751f\u7d42\u7aef\u8f38\u51fa\uff0c\u5247\u8a72\u7d42\u7aef\u8f38\u51fa\u4e0d\u6703\u5728\u97ff\u61c9\u4e2d\u63d0\u4f9b\u3002 \uff08\u4f7f\u7528\u201cgcode/subscribe_output\u201d\u7aef\u9ede\u7372\u53d6 G-Code \u7d42\u7aef\u8f38\u51fa\u3002\uff09 \u5982\u679c\u6536\u5230\u6b64\u8acb\u6c42\u6642\u6b63\u5728\u8655\u7406 G-Code \u547d\u4ee4\uff0c\u5247\u63d0\u4f9b\u7684\u8173\u672c\u5c07\u6392\u968a\u3002\u9019\u7a2e\u5ef6\u9072\u53ef\u80fd\u5f88\u660e\u986f\uff08\u4f8b\u5982\uff0c\u5982\u679c G \u4ee3\u78bc\u7b49\u5f85\u6eab\u5ea6\u547d\u4ee4\u6b63\u5728\u904b\u884c\uff09\u3002\u7576\u8173\u672c\u8655\u7406\u5b8c\u5168\u5b8c\u6210\u6642\u767c\u9001 JSON \u97ff\u61c9\u6d88\u606f\u3002 gcode/restart \u00b6 \u8a72\u7aef\u9ede\u5141\u8a31\u8acb\u6c42\u91cd\u65b0\u555f\u52d5 - \u5b83\u985e\u4f3c\u65bc\u904b\u884c G \u4ee3\u78bc\u201cRESTART\u201d\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/restart\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002 gcode/firmware_restart \u00b6 \u9019\u985e\u4f3c\u65bc\u201cgcode/restart\u201d\u7aef\u9ede\u2014\u2014\u5b83\u5be6\u73fe\u4e86 G-Code\u201cFIRMWARE_RESTART\u201d\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/firmware_restart\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002 gcode/subscribe_output \u00b6 \u6b64\u7aef\u9ede\u7528\u65bc\u8a02\u95b1\u7531 Klipper \u751f\u6210\u7684 G-Code \u7d42\u7aef\u6d88\u606f\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{}}} \u53ef\u80fd\u7a0d\u5f8c\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": { \"response\": \"// Klipper \u72c0\u614b\uff1a\u95dc\u6a5f\"}} \u8a72\u7aef\u9ede\u65e8\u5728\u901a\u904e\u201c\u7d42\u7aef\u7a97\u53e3\u201d\u754c\u9762\u652f\u6301\u4eba\u6a5f\u4ea4\u4e92\u3002\u4e0d\u9f13\u52f5\u5f9e G \u4ee3\u78bc\u7d42\u7aef\u8f38\u51fa\u89e3\u6790\u5167\u5bb9\u3002\u4f7f\u7528\u201cobjects/subscribe\u201d\u7aef\u9ede\u7372\u53d6 Klipper \u72c0\u614b\u7684\u66f4\u65b0\u3002 motion_report/dump_stepper \u00b6 \u6b64\u7aef\u9ede\u7528\u65bc\u70ba\u6b65\u9032\u5668\u8a02\u95b1 Klipper \u7684\u5167\u90e8\u6b65\u9032\u5668 queue_step \u547d\u4ee4\u6d41\u3002\u7372\u53d6\u9019\u4e9b\u4f4e\u7d1a\u904b\u52d5\u66f4\u65b0\u53ef\u80fd\u5c0d\u8a3a\u65b7\u548c\u8abf\u8a66\u6709\u7528\u3002\u4f7f\u7528\u6b64\u7aef\u9ede\u53ef\u80fd\u6703\u589e\u52a0 Klipper \u7684\u7cfb\u7d71\u8ca0\u8f09\u3002 \u4e00\u500b\u8acb\u6c42\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a {\"id\": 123, \"method\":\"motion_report/dump_stepper\", \"params\": {\"name\": \"stepper_x\", \"response_template\": {}}} \u4e26\u4e14\u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"header\": [\"interval\", \"count\", \"add\"]}} \u4e4b\u5f8c\u53ef\u80fd\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": {\" first_clock\u201d\uff1a179601081\uff0c\u201cfirst_time\u201d\uff1a8.98\uff0c\u201cfirst_position\u201d\uff1a0\uff0c\u201clast_clock\u201d\uff1a219686097\uff0c\u201clast_time\u201d\uff1a10.984\uff0c\u201cdata\u201d\uff1a[[179601081, 1, 0], [29573, 2, -8685] , [16230, 4, -1525], [10559, 6, -160], [10000, 976, 0], [10000, 1000, 0], [10000, 1000, 0], [10000, 1000, 0] , [9855, 5, 187], [11632, 4, 1534], [20756, 2, 9442]]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002 motion_report/dump_trapq \u00b6 \u8a72\u7aef\u9ede\u7528\u65bc\u8a02\u95b1 Klipper \u7684\u5167\u90e8\u201c\u68af\u5f62\u904b\u52d5\u968a\u5217\u201d\u3002\u7372\u53d6\u9019\u4e9b\u4f4e\u7d1a\u904b\u52d5\u66f4\u65b0\u53ef\u80fd\u5c0d\u8a3a\u65b7\u548c\u8abf\u8a66\u6709\u7528\u3002\u4f7f\u7528\u6b64\u7aef\u9ede\u53ef\u80fd\u6703\u589e\u52a0 Klipper \u7684\u7cfb\u7d71\u8ca0\u8f09\u3002 \u4e00\u500b\u8acb\u6c42\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a {\"id\": 123, \"method\": \"motion_report/dump_trapq\", \"params\": {\"name\": \"toolhead\", \"response_template\":{}}} \u4e26\u4e14\u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 1, \"result\": {\"header\": [\"time\", \"duration\", \"start_velocity\", \"acceleration\", \"start_position\", \"direction\"]}} \u4e26\u4e14\u4ee5\u5f8c\u53ef\u80fd\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": {\"data\": [[4.05, 1.0, 0.0, 0.0, [300.0, 0.0, 0.0], [0.0, 0.0, 0.0]], [5.054, 0.001, 0.0, 3000.0 , [300.0, 0.0, 0.0], [-1.0, 0.0, 0.0]]]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002 adxl345/dump_adxl345 \u00b6 \u8a72\u7aef\u9ede\u7528\u65bc\u8a02\u95b1 ADXL345 \u52a0\u901f\u5ea6\u8a08\u6578\u64da\u3002\u7372\u53d6\u9019\u4e9b\u4f4e\u7d1a\u904b\u52d5\u66f4\u65b0\u53ef\u80fd\u5c0d\u8a3a\u65b7\u548c\u8abf\u8a66\u6709\u7528\u3002\u4f7f\u7528\u6b64\u7aef\u9ede\u53ef\u80fd\u6703\u589e\u52a0 Klipper \u7684\u7cfb\u7d71\u8ca0\u8f09\u3002 \u8acb\u6c42\u53ef\u80fd\u985e\u4f3c\u65bc\uff1a {\"id\": 123, \"method\":\"adxl345/dump_adxl345\", \"params\": {\"sensor\": \"adxl345\", \"response_template\": {}}} \u4e26\u4e14\u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123,\"result\":{\"header\":[\"time\",\"x_acceleration\",\"y_acceleration\", \"z_acceleration\"]}} \u4e26\u4e14\u53ef\u80fd\u7a0d\u5f8c\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params \":{\"\u6ea2\u51fa\":0,\"\u6578\u64da\":[[3292.432935,-535.44309,-1529.8374,9561.4], [3292.433256,-382.45935,-1606.32927,9561.48375]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002 angle/dump_angle \u00b6 This endpoint is used to subscribe to angle sensor data . Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"angle/dump_angle\", \"params\": {\"sensor\": \"my_angle_sensor\", \"response_template\": {}}} and might return: {\"id\": 123,\"result\":{\"header\":[\"time\",\"angle\"]}} and might later produce asynchronous messages such as: {\"params\":{\"position_offset\":3.151562,\"errors\":0, \"data\":[[1290.951905,-5063],[1290.952321,-5065]]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002 pause_resume/cancel \u00b6 \u6b64\u7aef\u9ede\u985e\u4f3c\u65bc\u904b\u884c\u201cPRINT_CANCEL\u201dG \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"pause_resume/cancel\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002 pause_resume/pause \u00b6 \u6b64\u7aef\u9ede\u985e\u4f3c\u65bc\u904b\u884c\u201cPAUSE\u201dG \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"pause_resume/pause\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002 pause_resume/resume \u00b6 \u6b64\u7aef\u9ede\u985e\u4f3c\u65bc\u904b\u884c\u201cRESUME\u201dG \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"pause_resume/resume\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002 query_endstops/status \u00b6 \u8a72\u7aef\u9ede\u5c07\u67e5\u8a62\u6d3b\u52d5\u7aef\u9ede\u4e26\u8fd4\u56de\u5b83\u5011\u7684\u72c0\u614b\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"query_endstops/status\"} \u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"y\": \"open\", \"x\": \u201c\u6253\u958b\u201d\uff0c\u201cz\u201d\uff1a\u201c\u89f8\u767c\u201d}} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002","title":"API \u4f3a\u670d\u5668"},{"location":"API_Server.html#api","text":"\u8a72\u6587\u4ef6\u4ecb\u7d39Klipper\u7684\u61c9\u7528\u958b\u767c\u8005\u4ecb\u9762\uff08API\uff09\u529f\u80fd\u3002\u8a72\u4ecb\u9762\u5141\u8a31\u5916\u90e8\u61c9\u7528\u7a0b\u5f0f\u8a2a\u554f\u548c\u63a7\u5236Klipper\u4e3b\u6a5f\u3002","title":"API \u4f3a\u670d\u5668"},{"location":"API_Server.html#api_1","text":"\u8981\u555f\u7528API\u4f3a\u670d\u5668\uff0cklipper.py\u57f7\u884c\u6642\u61c9\u52a0\u4e0a -a \u53c3\u6578\u3002\u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -a /tmp/klippy_uds -l /tmp/klippy.log \u4e0a\u8ff0\u64cd\u4f5c\u6703\u4f7f\u4e3b\u6a5f\u5efa\u7acb\u4e00\u500bUnix\u672c\u5730\u5957\u63a5\u5b57\u3002\u4e4b\u5f8c\uff0c\u5ba2\u6236\u61c9\u7528\u7a0b\u5f0f\u53ef\u4ee5\u5efa\u7acb\u4e00\u500b\u5957\u63a5\u5b57\u93c8\u63a5\uff0c\u5f9e\u800c\u7d66Klipper\u767c\u9001\u547d\u4ee4\u3002 See the Moonraker project for a popular tool that can forward HTTP requests to Klipper's API Server Unix Domain Socket.","title":"\u555f\u7528API\u5957\u63a5\u5b57"},{"location":"API_Server.html#_1","text":"\u5957\u63a5\u5b57\u9032\u51fa\u7684\u6578\u64da\u5305\u61c9\u4f7f\u7528JSON\u7de8\u78bc\u7684\u5b57\u4e32\uff0c\u4e26\u4ee5ASCII\u5b57\u51430x03\u4f5c\u70ba\u7d50\u5c3e\uff1a <json_object_1><0x03><json_object_2><0x03>... Klipper\u4f7f\u7528 scripts/whconsole.py \u7684\u7a0b\u5f0f\u78bc\u9032\u884c\u4e0a\u8ff0\u7684\u6578\u64da\u5e40\u6253\u5305\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/whconsole.py /tmp/klippy_uds \u8a72\u5de5\u5177\u6703\u5f9estdin\u4e2d\u8b80\u53d6\u4e00\u7cfb\u5217\u7684JSON\u547d\u4ee4\uff0c\u767c\u9001\u5230Klipper\u57f7\u884c\uff0c\u4e26\u5c07\u7d50\u679c\u9001\u51fa\u3002\u8a72\u5de5\u5177\u9810\u8a2d\u8f38\u5165\u7684\u6bcf\u689dJson\u547d\u4ee4\u4e2d\u4e0d\u5b58\u5728\u63db\u884c\uff0c\u4e26\u81ea\u52d5\u5730\u5728\u767c\u9001\u547d\u4ee4\u6642\u5728\u7d50\u5c3e\u9644\u4e0a0x03\u3002\uff08Klipper API\u4f3a\u670d\u5668\u6c92\u6709\u63db\u884c\u7b26\u8981\u6c42\u3002\uff09","title":"\u8acb\u6c42\u683c\u5f0f"},{"location":"API_Server.html#api_2","text":"\u5957\u63a5\u5b57\u7684\u547d\u4ee4\u5354\u8b70\u53d7 json-rpc \u5553\u767c\u3002 \u4e00\u500b\u8acb\u6c42\u547d\u4ee4\u985e\u4f3c\uff1a {\"id\": 123, \"method\": \"info\", \"params\": {}} \u53ca\u4e00\u500b\u53cd\u61c9\u5c07\u985e\u4f3c\uff1a {\"id\": 123, \"result\": {\"state_message\": \"Printer is ready\", \"klipper_path\": \"/home/pi/klipper\", \"config_file\": \"/home/pi/printer.cfg\", \"software_version\": \"v0.8.0-823-g883b1cb6\", \"hostname\": \"octopi\", \"cpu_info\": \"4 core ARMv7 Processor rev 4 (v7l)\", \"state\": \"ready\", \"python_path\": \"/home/pi/klippy-env/bin/python\", \"log_file\": \"/tmp/klippy.log\"}} \u6bcf\u500b\u8acb\u6c42\u61c9\u70ba\u4e00\u500bJSON\u5b57\u5178\u3002\uff08\u672c\u6587\u4ef6\u4f7f\u7528Python\u4e2d\u7684\u8853\u8a9e\u300c\u5b57\u5178\u300d\u63cf\u8ff0\u4ee5 {} \u70ba\u908a\u754c\u7684\u300c\u9375-\u503c\u300dJSON\u5c0d\u8c61\u3002\uff09 \u8acb\u6c42\u5b57\u5178\u4e2d\u5fc5\u9808\u5305\u542b\u4e00\u500b\u300dmethod\u300d\u6b04\u4f4d\uff0c\u5176\u503c\u61c9\u5305\u542b\u4e00\u500b\u53ef\u7528\u7684Klipper\u7aef\u9ede\u300dendpoint\u300d\u540d\u7a31\u5b57\u4e32\u3002 \u8acb\u6c42\u5b57\u5178\u53ef\u80fd\u5305\u542b\u300dparams\u300d\u53c3\u6578\uff0c\u4e26\u5176\u503c\u61c9\u70ba\u4e00\u500b\u5b57\u5178\u578b\u5225\u3002\u300dparams\u300d\u63d0\u4f9bKlipper\u300dendpoint\u300d\u8655\u7406\u8acb\u6c42\u6240\u9700\u7684\u984d\u5916\u6578\u64da\uff0c\u5176\u5167\u5bb9\u4f9d\u300dendpoint\u300d\u800c\u5b9a\u3002 \u8acb\u6c42\u5b57\u5178\u53ef\u80fd\u5305\u542b\u4e00\u500b\u201cid\u201d\u53c3\u6578\uff0c\u5b83\u53ef\u4ee5\u662f\u4efb\u4f55 JSON \u985e\u578b\u3002\u5982\u679c\u5b58\u5728\u201cid\u201d\uff0c\u90a3\u9ebc Klipper \u5c07\u4f7f\u7528\u5305\u542b\u8a72\u201cid\u201d\u7684\u97ff\u61c9\u6d88\u606f\u4f86\u97ff\u61c9\u8acb\u6c42\u3002\u5982\u679c\u7701\u7565\u201cid\u201d\uff08\u6216\u8a2d\u7f6e\u70ba JSON\u201cnull\u201d\u503c\uff09\uff0c\u5247 Klipper \u4e0d\u6703\u5c0d\u8acb\u6c42\u63d0\u4f9b\u4efb\u4f55\u97ff\u61c9\u3002\u97ff\u61c9\u6d88\u606f\u662f\u5305\u542b\u201cid\u201d\u548c\u201cresult\u201d\u7684 JSON \u5b57\u5178\u3002 \u201c\u7d50\u679c\u201d\u59cb\u7d42\u662f\u4e00\u500b\u5b57\u5178 - \u5b83\u7684\u5167\u5bb9\u7279\u5b9a\u65bc\u8655\u7406\u8acb\u6c42\u7684\u201c\u7aef\u9ede\u201d\u3002 \u5982\u679c\u8655\u7406\u7684\u8acb\u6c42\u9020\u6210\u4e86\u932f\u8aa4\uff0c\u5247\u97ff\u61c9\u8a0a\u606f\u5c07\u5305\u542b\"error\"\u6b04\u4f4d\uff0c\u800c\u4e0d\u662f\"result\"\u6b04\u4f4d\u3002\u4f8b\u5982\uff0c\u8acb\u6c42\uff1a {\"id\"\uff1a 123\uff0c \"method\"\uff1a \"gcode/script\"\uff0c \"params\"\uff1a {\"script\"\uff1a \"G1 X200\"}} \u53ef\u80fd\u6703\u8fd4\u56de\u932f\u8aa4\u97ff\u61c9\uff0c\u4f8b\u5982\uff1a {\"id\"\uff1a 123\uff0c \"error\"\uff1a {\"message\"\uff1a \"Must home axis first\uff1a 200.000 0.000 0.000 [0.000]\"\uff0c \"error\"\uff1a \"WebRequestError\"}} Klipper \u6703\u6309\u7167\u6536\u5230\u8acb\u6c42\u7684\u9806\u5e8f\u4f9d\u6b21\u8655\u7406\u8acb\u6c42\u3002\u7136\u800c\uff0c\u4e00\u4e9b\u8acb\u6c42\u53ef\u80fd\u4e0d\u6703\u7acb\u5373\u5b8c\u6210\uff0c\u9019\u53ef\u80fd\u6703\u5c0e\u81f4\u76f8\u95dc\u7684\u97ff\u61c9\u8207\u5176\u4ed6\u8acb\u6c42\u7684\u97ff\u61c9\u4e0d\u6309\u9806\u5e8f\u767c\u9001\u3002\u4e00\u500b JSON \u8acb\u6c42\u6c38\u9060\u4e0d\u6703\u66ab\u505c\u5c0d\u672a\u4f86JSON \u8acb\u6c42\u7684\u8655\u7406\u3002","title":"API\u5354\u8b70"},{"location":"API_Server.html#_2","text":"\u4e00\u4e9b Klipper \u7684\"endpoint\"\u53ef\u4ee5\u4ee5 \"\u8a02\u95b1\" \u7684\u5f62\u5f0f\u63a5\u6536\u672a\u4f86\u7684\u975e\u540c\u6b65\u66f4\u65b0\u8a0a\u606f\u3002 \u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{\"key\": 345}}} \u53ef\u80fd\u6703\u8fd4\u56de\u4e00\u500b\u521d\u59cb\u8ff4\u61c9\uff1a {\"id\": 123, \"result\": {}} \u4e26\u5c0e\u81f4 Klipper \u5728\u672a\u4f86\u767c\u9001\u985e\u4f3c\u65bc\u4ee5\u4e0b\u5167\u5bb9\u7684\u8a0a\u606f\uff1a {\"params\": {\"response\": \"ok B:22.8 /0.0 T0:22.4 /0.0\"}, \"key\": 345} \u8a02\u95b1\u8acb\u6c42\u63a5\u53d7\u8acb\u6c42\u7684\u201cparams\u201d\u5b57\u6bb5\u4e2d\u7684\u201cresponse_template\u201d\u5b57\u5178\u3002\u8a72\u201cresponse_template\u201d\u5b57\u5178\u7528\u4f5c\u672a\u4f86\u7570\u6b65\u6d88\u606f\u7684\u6a21\u677f - \u5b83\u53ef\u80fd\u5305\u542b\u4efb\u610f\u9375/\u503c\u5c0d\u3002\u7576\u767c\u9001\u9019\u4e9b\u672a\u4f86\u7684\u7570\u6b65\u6d88\u606f\u6642\uff0cKlipper \u5c07\u5728\u97ff\u61c9\u6a21\u677f\u4e2d\u6dfb\u52a0\u4e00\u500b\u5305\u542b\u5177\u6709\u201c\u7aef\u9ede\u201d\u7279\u5b9a\u5167\u5bb9\u7684\u5b57\u5178\u7684\u201c\u53c3\u6578\u201d\u5b57\u6bb5\uff0c\u7136\u5f8c\u767c\u9001\u8a72\u6a21\u677f\u3002\u5982\u679c\u672a\u63d0\u4f9b\u201cresponse_template\u201d\u5b57\u6bb5\uff0c\u5247\u9ed8\u8a8d\u70ba\u7a7a\u5b57\u5178\uff08 {} \uff09\u3002","title":"\u8a02\u95b1"},{"location":"API_Server.html#_3","text":"\u6309\u7167\u6163\u4f8b\uff0cKlipper \u201c\u7aef\u9ede\u201d\u7684\u683c\u5f0f\u70ba <module_name>/<some_name> \u3002\u5411\u201c\u7aef\u9ede\u201d\u767c\u51fa\u8acb\u6c42\u6642\uff0c\u5fc5\u9808\u5728\u8acb\u6c42\u5b57\u5178\u7684\u201c\u65b9\u6cd5\u201d\u53c3\u6578\u4e2d\u8a2d\u7f6e\u5168\u540d\uff08\u4f8b\u5982\uff0c {\"method\"=\"gcode/restart\"} \uff09\u3002","title":"\u53ef\u7528\u7684\u201c\u7aef\u9ede\u201d"},{"location":"API_Server.html#_4","text":"\u201cinfo\u201d\u7aef\u9ede\u7528\u65bc\u5f9e Klipper \u7372\u53d6\u7cfb\u7d71\u548c\u7248\u672c\u4fe1\u606f\u3002\u5b83\u9084\u7528\u65bc\u5411 Klipper \u63d0\u4f9b\u5ba2\u6236\u7aef\u7684\u7248\u672c\u4fe1\u606f\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"info\", \"params\": { \"client_info\": { \"version\": \"v1\"}}} \u5982\u679c\u5b58\u5728\uff0c\u201cclient_info\u201d\u53c3\u6578\u5fc5\u9808\u662f\u5b57\u5178\uff0c\u4f46\u8a72\u5b57\u5178\u53ef\u80fd\u5177\u6709\u4efb\u610f\u5167\u5bb9\u3002\u9f13\u52f5\u5ba2\u6236\u7aef\u5728\u9996\u6b21\u9023\u63a5\u5230 Klipper API \u670d\u52d9\u5668\u6642\u63d0\u4f9b\u5ba2\u6236\u7aef\u540d\u7a31\u53ca\u5176\u8edf\u4ef6\u7248\u672c\u3002","title":"\u4fe1\u606f"},{"location":"API_Server.html#emergency_stop","text":"\u201cemergency_stop\u201d\u7aef\u9ede\u7528\u65bc\u6307\u793a Klipper \u8f49\u63db\u5230\u201c\u95dc\u9589\u201d\u72c0\u614b\u3002\u5b83\u7684\u884c\u70ba\u985e\u4f3c\u65bc G-Code M112 \u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"emergency_stop\"}","title":"emergency_stop"},{"location":"API_Server.html#register_remote_method","text":"\u6b64\u7aef\u9ede\u5141\u8a31\u5ba2\u6236\u7aef\u8a3b\u518a\u53ef\u4ee5\u5f9e klipper \u8abf\u7528\u7684\u65b9\u6cd5\u3002\u6210\u529f\u5f8c\u5c07\u8fd4\u56de\u4e00\u500b\u7a7a\u5c0d\u8c61\u3002 \u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"register_remote_method\", \"params\": {\"response_template\": {\"action\": \"run_paneldue_beep\"}, \"remote_method\": \"paneldue_beep\"}} \u5c07\u8fd4\u56de\uff1a {\u201cid\u201d\uff1a123\uff0c\u201c\u7d50\u679c\u201d\uff1a{}} \u73fe\u5728\u53ef\u4ee5\u5f9e Klipper \u8abf\u7528\u9060\u7a0b\u65b9\u6cd5 paneldue_beep \u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u8a72\u65b9\u6cd5\u63a1\u7528\u53c3\u6578\uff0c\u5247\u61c9\u5c07\u5b83\u5011\u4f5c\u70ba\u95dc\u9375\u5b57\u53c3\u6578\u63d0\u4f9b\u3002\u4e0b\u9762\u662f\u5982\u4f55\u5f9e gcode_macro \u8abf\u7528\u5b83\u7684\u793a\u4f8b\uff1a [gcode_macro PANELDUE_BEEP] gcode: {action_call_remote_method(\"paneldue_beep\", frequency=300, duration=1.0)} \u7576\u57f7\u884c PANELDUE_BEEP gcode \u5b8f\u6642\uff0cKlipper \u5c07\u901a\u904e\u5957\u63a5\u5b57\u767c\u9001\u985e\u4f3c\u4ee5\u4e0b\u5167\u5bb9\uff1a {\"action\": \"run_paneldue_beep\", \"params\": {\"frequency\": 300, \"duration\": 1.0}}","title":"register_remote_method"},{"location":"API_Server.html#objectslist","text":"\u8a72\u7aef\u9ede\u67e5\u8a62\u53ef\u4ee5\u67e5\u8a62\u7684\u53ef\u7528\u6253\u5370\u6a5f\u201c\u5c0d\u8c61\u201d\u5217\u8868\uff08\u901a\u904e\u201c\u5c0d\u8c61/\u67e5\u8a62\u201d\u7aef\u9ede\uff09\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"objects/list\"} \u53ef\u80fd\u6703\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"objects\": [\"webhooks\", \"configfile\" , \u201c\u52a0\u71b1\u5668\u201d, \u201cgcode_move\u201d, \u201cquery_endstops\u201d, \u201cidle_timeout\u201d, \u201ctoolhead\u201d, \u201cextruder\u201d]}}","title":"objects/list"},{"location":"API_Server.html#objectsquery","text":"\u8a72\u7aef\u9ede\u5141\u8a31\u5f9e\u6253\u5370\u6a5f\u5c0d\u50cf\u4e2d\u67e5\u8a62\u4fe1\u606f\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"objects/query\", \"params\": {\"objects\": {\"toolhead\": [\"position\"], \"webhooks\": null}}} \u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\", \"state_message\": \"Printer is ready\"}, \"toolhead\": { \u201c\u4f4d\u7f6e\u201d\uff1a[0.0, 0.0, 0.0, 0.0]}}\uff0c\u201c\u4e8b\u4ef6\u6642\u9593\u201d\uff1a3051555.377933684}} \u8acb\u6c42\u4e2d\u7684\u201cobjects\u201d\u53c3\u6578\u5fc5\u9808\u662f\u5305\u542b\u8981\u67e5\u8a62\u7684\u6253\u5370\u6a5f\u5c0d\u8c61\u7684\u5b57\u5178 - \u9375\u5305\u542b\u6253\u5370\u6a5f\u5c0d\u8c61\u540d\u7a31\uff0c\u503c\u70ba\u201cnull\u201d\uff08\u67e5\u8a62\u6240\u6709\u5b57\u6bb5\uff09\u6216\u5b57\u6bb5\u540d\u7a31\u5217\u8868\u3002 \u97ff\u61c9\u6d88\u606f\u5c07\u5305\u542b\u4e00\u500b\u201c\u72c0\u614b\u201d\u5b57\u6bb5\uff0c\u5176\u4e2d\u5305\u542b\u5e36\u6709\u67e5\u8a62\u4fe1\u606f\u7684\u5b57\u5178 - \u9375\u5305\u542b\u6253\u5370\u6a5f\u5c0d\u8c61\u540d\u7a31\uff0c\u503c\u662f\u5305\u542b\u5176\u5b57\u6bb5\u7684\u5b57\u5178\u3002\u97ff\u61c9\u6d88\u606f\u9084\u5c07\u5305\u542b\u4e00\u500b\u201ceventtime\u201d\u5b57\u6bb5\uff0c\u5176\u4e2d\u5305\u542b\u9032\u884c\u67e5\u8a62\u6642\u7684\u6642\u9593\u6233\u3002 \u53ef\u7528\u5b57\u6bb5\u8a18\u9304\u5728 Status Reference \u6587\u6a94\u4e2d\u3002","title":"objects/query"},{"location":"API_Server.html#objectssubscribe","text":"\u8a72\u7aef\u9ede\u5141\u8a31\u67e5\u8a62\u7136\u5f8c\u8a02\u95b1\u4f86\u81ea\u6253\u5370\u6a5f\u5c0d\u8c61\u7684\u4fe1\u606f\u3002\u7aef\u9ede\u8acb\u6c42\u548c\u97ff\u61c9\u8207\u201c\u5c0d\u8c61/\u67e5\u8a62\u201d\u7aef\u9ede\u76f8\u540c\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"objects/subscribe\", \"params\": {\"objects\":{\"toolhead\": [\"position\"], \"webhooks\": [\"state\"] }, \"response_template\":{}}} \u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"status\": {\"webhooks\": {\"state\": \"ready\"}, \"toolhead\": {\"position\": [0.0, 0.0, 0.0, 0.0]}}, \"eventtime\": 3052153.382083195}} \u4e26\u5c0e\u81f4\u5f8c\u7e8c\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": {\"status\": {\"webhooks\": {\u201c\u72c0\u614b\u201d\uff1a\u201c\u95dc\u6a5f\u201d}}\uff0c\u201c\u4e8b\u4ef6\u6642\u9593\u201d\uff1a3052165.418815847}}","title":"objects/subscribe"},{"location":"API_Server.html#gcodehelp","text":"\u8a72\u7aef\u9ede\u5141\u8a31\u67e5\u8a62\u5df2\u5b9a\u7fa9\u5e6b\u52a9\u5b57\u7b26\u4e32\u7684\u53ef\u7528 G \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/help\"} \u53ef\u80fd\u6703\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"RESTORE_GCODE_STATE\": \"\u6062\u5fa9\u4ee5\u524d\u4fdd\u5b58\u7684 G-Code state\", \"PID_CALIBRATE\": \"\u904b\u884c PID \u6821\u6e96\u6e2c\u8a66\", \"QUERY_ADC\": \"\u5831\u544a\u6a21\u64ec\u5f15\u8173\u7684\u6700\u5f8c\u503c\", ...}}","title":"gcode/help"},{"location":"API_Server.html#gcodescript","text":"\u8a72\u7aef\u9ede\u5141\u8a31\u904b\u884c\u4e00\u7cfb\u5217 G \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/script\", \"params\": {\"script\": \"G90\"}} \u5982\u679c\u63d0\u4f9b\u7684 G \u4ee3\u78bc\u8173\u672c\u5f15\u767c\u932f\u8aa4\uff0c\u5247\u6703\u751f\u6210\u932f\u8aa4\u97ff\u61c9\u3002\u4f46\u662f\uff0c\u5982\u679c G \u4ee3\u78bc\u547d\u4ee4\u7522\u751f\u7d42\u7aef\u8f38\u51fa\uff0c\u5247\u8a72\u7d42\u7aef\u8f38\u51fa\u4e0d\u6703\u5728\u97ff\u61c9\u4e2d\u63d0\u4f9b\u3002 \uff08\u4f7f\u7528\u201cgcode/subscribe_output\u201d\u7aef\u9ede\u7372\u53d6 G-Code \u7d42\u7aef\u8f38\u51fa\u3002\uff09 \u5982\u679c\u6536\u5230\u6b64\u8acb\u6c42\u6642\u6b63\u5728\u8655\u7406 G-Code \u547d\u4ee4\uff0c\u5247\u63d0\u4f9b\u7684\u8173\u672c\u5c07\u6392\u968a\u3002\u9019\u7a2e\u5ef6\u9072\u53ef\u80fd\u5f88\u660e\u986f\uff08\u4f8b\u5982\uff0c\u5982\u679c G \u4ee3\u78bc\u7b49\u5f85\u6eab\u5ea6\u547d\u4ee4\u6b63\u5728\u904b\u884c\uff09\u3002\u7576\u8173\u672c\u8655\u7406\u5b8c\u5168\u5b8c\u6210\u6642\u767c\u9001 JSON \u97ff\u61c9\u6d88\u606f\u3002","title":"gcode/script"},{"location":"API_Server.html#gcoderestart","text":"\u8a72\u7aef\u9ede\u5141\u8a31\u8acb\u6c42\u91cd\u65b0\u555f\u52d5 - \u5b83\u985e\u4f3c\u65bc\u904b\u884c G \u4ee3\u78bc\u201cRESTART\u201d\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/restart\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002","title":"gcode/restart"},{"location":"API_Server.html#gcodefirmware_restart","text":"\u9019\u985e\u4f3c\u65bc\u201cgcode/restart\u201d\u7aef\u9ede\u2014\u2014\u5b83\u5be6\u73fe\u4e86 G-Code\u201cFIRMWARE_RESTART\u201d\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/firmware_restart\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002","title":"gcode/firmware_restart"},{"location":"API_Server.html#gcodesubscribe_output","text":"\u6b64\u7aef\u9ede\u7528\u65bc\u8a02\u95b1\u7531 Klipper \u751f\u6210\u7684 G-Code \u7d42\u7aef\u6d88\u606f\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"gcode/subscribe_output\", \"params\": {\"response_template\":{}}} \u53ef\u80fd\u7a0d\u5f8c\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": { \"response\": \"// Klipper \u72c0\u614b\uff1a\u95dc\u6a5f\"}} \u8a72\u7aef\u9ede\u65e8\u5728\u901a\u904e\u201c\u7d42\u7aef\u7a97\u53e3\u201d\u754c\u9762\u652f\u6301\u4eba\u6a5f\u4ea4\u4e92\u3002\u4e0d\u9f13\u52f5\u5f9e G \u4ee3\u78bc\u7d42\u7aef\u8f38\u51fa\u89e3\u6790\u5167\u5bb9\u3002\u4f7f\u7528\u201cobjects/subscribe\u201d\u7aef\u9ede\u7372\u53d6 Klipper \u72c0\u614b\u7684\u66f4\u65b0\u3002","title":"gcode/subscribe_output"},{"location":"API_Server.html#motion_reportdump_stepper","text":"\u6b64\u7aef\u9ede\u7528\u65bc\u70ba\u6b65\u9032\u5668\u8a02\u95b1 Klipper \u7684\u5167\u90e8\u6b65\u9032\u5668 queue_step \u547d\u4ee4\u6d41\u3002\u7372\u53d6\u9019\u4e9b\u4f4e\u7d1a\u904b\u52d5\u66f4\u65b0\u53ef\u80fd\u5c0d\u8a3a\u65b7\u548c\u8abf\u8a66\u6709\u7528\u3002\u4f7f\u7528\u6b64\u7aef\u9ede\u53ef\u80fd\u6703\u589e\u52a0 Klipper \u7684\u7cfb\u7d71\u8ca0\u8f09\u3002 \u4e00\u500b\u8acb\u6c42\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a {\"id\": 123, \"method\":\"motion_report/dump_stepper\", \"params\": {\"name\": \"stepper_x\", \"response_template\": {}}} \u4e26\u4e14\u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"header\": [\"interval\", \"count\", \"add\"]}} \u4e4b\u5f8c\u53ef\u80fd\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": {\" first_clock\u201d\uff1a179601081\uff0c\u201cfirst_time\u201d\uff1a8.98\uff0c\u201cfirst_position\u201d\uff1a0\uff0c\u201clast_clock\u201d\uff1a219686097\uff0c\u201clast_time\u201d\uff1a10.984\uff0c\u201cdata\u201d\uff1a[[179601081, 1, 0], [29573, 2, -8685] , [16230, 4, -1525], [10559, 6, -160], [10000, 976, 0], [10000, 1000, 0], [10000, 1000, 0], [10000, 1000, 0] , [9855, 5, 187], [11632, 4, 1534], [20756, 2, 9442]]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002","title":"motion_report/dump_stepper"},{"location":"API_Server.html#motion_reportdump_trapq","text":"\u8a72\u7aef\u9ede\u7528\u65bc\u8a02\u95b1 Klipper \u7684\u5167\u90e8\u201c\u68af\u5f62\u904b\u52d5\u968a\u5217\u201d\u3002\u7372\u53d6\u9019\u4e9b\u4f4e\u7d1a\u904b\u52d5\u66f4\u65b0\u53ef\u80fd\u5c0d\u8a3a\u65b7\u548c\u8abf\u8a66\u6709\u7528\u3002\u4f7f\u7528\u6b64\u7aef\u9ede\u53ef\u80fd\u6703\u589e\u52a0 Klipper \u7684\u7cfb\u7d71\u8ca0\u8f09\u3002 \u4e00\u500b\u8acb\u6c42\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a {\"id\": 123, \"method\": \"motion_report/dump_trapq\", \"params\": {\"name\": \"toolhead\", \"response_template\":{}}} \u4e26\u4e14\u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 1, \"result\": {\"header\": [\"time\", \"duration\", \"start_velocity\", \"acceleration\", \"start_position\", \"direction\"]}} \u4e26\u4e14\u4ee5\u5f8c\u53ef\u80fd\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params\": {\"data\": [[4.05, 1.0, 0.0, 0.0, [300.0, 0.0, 0.0], [0.0, 0.0, 0.0]], [5.054, 0.001, 0.0, 3000.0 , [300.0, 0.0, 0.0], [-1.0, 0.0, 0.0]]]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002","title":"motion_report/dump_trapq"},{"location":"API_Server.html#adxl345dump_adxl345","text":"\u8a72\u7aef\u9ede\u7528\u65bc\u8a02\u95b1 ADXL345 \u52a0\u901f\u5ea6\u8a08\u6578\u64da\u3002\u7372\u53d6\u9019\u4e9b\u4f4e\u7d1a\u904b\u52d5\u66f4\u65b0\u53ef\u80fd\u5c0d\u8a3a\u65b7\u548c\u8abf\u8a66\u6709\u7528\u3002\u4f7f\u7528\u6b64\u7aef\u9ede\u53ef\u80fd\u6703\u589e\u52a0 Klipper \u7684\u7cfb\u7d71\u8ca0\u8f09\u3002 \u8acb\u6c42\u53ef\u80fd\u985e\u4f3c\u65bc\uff1a {\"id\": 123, \"method\":\"adxl345/dump_adxl345\", \"params\": {\"sensor\": \"adxl345\", \"response_template\": {}}} \u4e26\u4e14\u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123,\"result\":{\"header\":[\"time\",\"x_acceleration\",\"y_acceleration\", \"z_acceleration\"]}} \u4e26\u4e14\u53ef\u80fd\u7a0d\u5f8c\u6703\u7522\u751f\u7570\u6b65\u6d88\u606f\uff0c\u4f8b\u5982\uff1a {\"params \":{\"\u6ea2\u51fa\":0,\"\u6578\u64da\":[[3292.432935,-535.44309,-1529.8374,9561.4], [3292.433256,-382.45935,-1606.32927,9561.48375]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002","title":"adxl345/dump_adxl345"},{"location":"API_Server.html#angledump_angle","text":"This endpoint is used to subscribe to angle sensor data . Obtaining these low-level motion updates may be useful for diagnostic and debugging purposes. Using this endpoint may increase Klipper's system load. A request may look like: {\"id\": 123, \"method\":\"angle/dump_angle\", \"params\": {\"sensor\": \"my_angle_sensor\", \"response_template\": {}}} and might return: {\"id\": 123,\"result\":{\"header\":[\"time\",\"angle\"]}} and might later produce asynchronous messages such as: {\"params\":{\"position_offset\":3.151562,\"errors\":0, \"data\":[[1290.951905,-5063],[1290.952321,-5065]]}} \u521d\u59cb\u67e5\u8a62\u97ff\u61c9\u4e2d\u7684\u201cheader\u201d\u5b57\u6bb5\u7528\u65bc\u63cf\u8ff0\u5728\u4ee5\u5f8c\u7684\u201cdata\u201d\u97ff\u61c9\u4e2d\u627e\u5230\u7684\u5b57\u6bb5\u3002","title":"angle/dump_angle"},{"location":"API_Server.html#pause_resumecancel","text":"\u6b64\u7aef\u9ede\u985e\u4f3c\u65bc\u904b\u884c\u201cPRINT_CANCEL\u201dG \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"pause_resume/cancel\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002","title":"pause_resume/cancel"},{"location":"API_Server.html#pause_resumepause","text":"\u6b64\u7aef\u9ede\u985e\u4f3c\u65bc\u904b\u884c\u201cPAUSE\u201dG \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"pause_resume/pause\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002","title":"pause_resume/pause"},{"location":"API_Server.html#pause_resumeresume","text":"\u6b64\u7aef\u9ede\u985e\u4f3c\u65bc\u904b\u884c\u201cRESUME\u201dG \u4ee3\u78bc\u547d\u4ee4\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"pause_resume/resume\"} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002","title":"pause_resume/resume"},{"location":"API_Server.html#query_endstopsstatus","text":"\u8a72\u7aef\u9ede\u5c07\u67e5\u8a62\u6d3b\u52d5\u7aef\u9ede\u4e26\u8fd4\u56de\u5b83\u5011\u7684\u72c0\u614b\u3002\u4f8b\u5982\uff1a {\"id\": 123, \"method\": \"query_endstops/status\"} \u53ef\u80fd\u8fd4\u56de\uff1a {\"id\": 123, \"result\": {\"y\": \"open\", \"x\": \u201c\u6253\u958b\u201d\uff0c\u201cz\u201d\uff1a\u201c\u89f8\u767c\u201d}} \u8207\u201cgcode/script\u201d\u7aef\u9ede\u4e00\u6a23\uff0c\u6b64\u7aef\u9ede\u50c5\u5728\u4efb\u4f55\u5f85\u8655\u7406\u7684 G \u4ee3\u78bc\u547d\u4ee4\u5b8c\u6210\u5f8c\u624d\u6703\u5b8c\u6210\u3002","title":"query_endstops/status"},{"location":"BLTouch.html","text":"BL-Touch \u00b6 \u9023\u7dda\u5230 BL-Touch \u00b6 \u8b66\u544a\uff01 \uff1a\u5728\u4f60\u958b\u59cb\u524d\u8acb\u907f\u514d\u7528\u4f60\u7684\u624b\u6307\u63a5\u89f8 BL-Touch \u7684\u63a2\u91dd\uff0c\u56e0\u70ba\u5b83\u5c0d\u624b\u6307\u7684\u6cb9\u8102\u76f8\u7576\u654f\u611f\u3002\u5982\u679c\u4f60\u771f\u7684\u89f8\u63a7\u9700\u8981\u89f8\u78b0\u5b83\uff0c\u8acb\u5118\u53ef\u80fd\u5c0f\u5fc3\uff0c\u4ee5\u907f\u514d\u5f4e\u66f2\u6216\u63a8\u52d5\u4efb\u4f55\u6771\u897f\u3002 \u6839\u64da BL-Touch \u6587\u4ef6\u6216\u4f60\u4f7f\u7528\u7684 MCU \u7684\u6587\u4ef6\uff0c\u5c07 BL-TOUCH \u7684 \"servo\"\u5f15\u8173\u9023\u7dda\u5230 control_pin \u3002\u4f7f\u7528\u539f\u88dd\u9023\u7dda\u7dda\uff0c\u4e09\u6839\u7dda\u4e2d\u7684\u9ec3\u7dda\u662f control_pin \uff0c\u5169\u6839\u7dda\u4e2d\u7684\u767d\u7dda\u662f sensor_pin \u3002\u4f60\u9700\u8981\u6839\u64da\u4f60\u7684\u63a5\u7dda\u4f86\u914d\u7f6e\u9019\u4e9b\u5f15\u8173\u3002\u5927\u591a\u6578 BL-Touch \u88dd\u7f6e\u8981\u6c42\u5728\u611f\u6e2c\u5668\u5f15\u8173\u4e0a\u6709\u4e00\u500b\u4e0a\u62c9\u96fb\u963b\uff08\u5f15\u8173\u540d\u7a31\u524d\u52a0\"^\"\uff09\u3002\u4f8b\u5982\uff1a [bltouch] sensor_pin: ^P1.24 control_pin: P1.26 \u5982\u679c BL-Touch \u5c07\u7528\u65bc Z \u8ef8\u6b78\u4f4d\uff0c\u5247\u8a2d\u5b9a endstop_pin:probe:z_virtual_endstop \u4e26\u522a\u9664 [stepper_z] \u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 position_endstop \uff0c\u7136\u5f8c\u65b0\u589e\u4e00\u500b [safe_z_home] \u914d\u7f6e\u5206\u6bb5\u4f86\u5148\u63d0\u5347 z \u8ef8\uff0c\u4e26\u6b78\u4f4d xy \u8ef8\uff0c\u518d\u79fb\u52d5\u5230\u5e8a\u7684\u4e2d\u5fc3\uff0c\u4e26\u6b78\u4f4d z \u8ef8\u3002\u4f8b\u5982\uff1a [safe_z_home] home_xy_position: 100, 100 # \u4fee\u6539\u8a72\u5ea7\u6a19\u70ba\u5217\u5370\u5e8a\u4e2d\u5fc3 speed: 50 z_hop: 10 # \u5411\u4e0a\u79fb\u52d5 10mm z_hop_speed: 5 \u91cd\u8981\u7684\u662f\uff0csafe_z_home \u4e2d\u7684 z_hop \u904b\u52d5\u9700\u8981\u8db3\u5920\u9ad8\u4ee5\u4fdd\u8b49\u5373\u4f7f\u63a2\u91dd\u6070\u597d\u8655\u65bc\u6700\u4f4e\u72c0\u614b\uff0c\u4e5f\u4e0d\u6703\u767c\u751f\u78b0\u649e\u3002 \u521d\u59cb\u6e2c\u8a66 \u00b6 \u5728\u7e7c\u7e8c\u524d\uff0c\u8acb\u6aa2\u67e5 BL-Touch \u662f\u5426\u5b89\u88dd\u5728\u6b63\u78ba\u7684\u9ad8\u5ea6\uff0c\u63a2\u91dd\u5728\u6536\u8d77\u6642\u61c9\u8a72\u5728\u5674\u982d\u4e0a\u5927\u7d042mm\u7684\u4f4d\u7f6e \u555f\u52d5\u5370\u8868\u6a5f\u6642\uff0cBL-Touch \u63a2\u91dd\u6703\u57f7\u884c\u81ea\u6aa2\u4e26\u4e0a\u4e0b\u79fb\u52d5\u63a2\u91dd\u5e7e\u6b21\u3002\u81ea\u6aa2\u5b8c\u6210\u5f8c\uff0c\u63a2\u91dd\u6703\u8655\u65bc\u6536\u56de\u72c0\u614b\uff0c\u63a2\u982d\u4e0a\u7684\u7d05\u8272 LED \u5728\u6b64\u6642\u61c9\u4eae\u8d77\u3002\u5982\u679c\u6709\u932f\u8aa4\uff0c\u4f8b\u5982\u63a2\u982d\u5448\u7d05\u8272\u9583\u720d\u6216\u8005\u63a2\u91dd\u4f38\u51fa\u800c\u4e0d\u662f\u6536\u56de\uff0c\u8acb\u95dc\u9589\u5370\u8868\u6a5f\u4e26\u6aa2\u67e5\u63a5\u7dda\u548c\u914d\u7f6e\u3002 \u5982\u679c\u4ee5\u4e0a\u90fd\u6c92\u6709\u554f\u984c\uff0c\u5c31\u53ef\u4ee5\u6e2c\u8a66 control \u5f15\u8173\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002\u9996\u5148\u5728\u5370\u8868\u6a5f\u7d42\u7aef\u4e2d\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_down \u3002\u78ba\u8a8d\u63a2\u91dd\u4f38\u51fa\u4e26\u4e14\u63a2\u982d\u4e0a\u7684\u7d05\u8272 LED \u7184\u6ec5\u3002\u5982\u679c\u6c92\u6709\uff0c\u8acb\u518d\u6b21\u6aa2\u67e5\u5370\u8868\u6a5f\u7684\u63a5\u7dda\u548c\u914d\u7f6e\u3002\u63a5\u4e0b\u4f86\u5728\u5370\u8868\u6a5f\u7d42\u7aef\u8f38\u5165 BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u78ba\u8a8d\u63a2\u91dd\u5411\u4e0a\u79fb\u52d5\u4e86\uff0c\u4e26\u4e14\u7d05\u71c8\u518d\u6b21\u4eae\u8d77\u3002\u5982\u679c\u5b83\u9583\u720d\uff0c\u5247\u8aaa\u660e\u5b58\u5728\u554f\u984c\u3002 \u4e0b\u4e00\u6b65\u662f\u78ba\u8a8d\u611f\u6e2c\u5668\u7684\u63a2\u91dd\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u6aa2\u67e5\u63a2\u91dd\u662f\u5426\u5411\u4e0b\u79fb\u52d5\u3002\u57f7\u884c BLTOUCH_DEBUG COMMAND=touch_mode \uff0c\u518d\u57f7\u884c QUERY_PROBE \uff0c\u4e26\u9a57\u8b49\u547d\u4ee4\u5831\u544a\"probe: open\"\u3002\u7136\u5f8c\uff0c\u5728\u7528\u6307\u7532\u8f15\u8f15\u63a8\u8d77\u91dd\u982d\u7684\u540c\u6642\uff0c\u518d\u6b21\u57f7\u884c QUERY_PROBE \u3002\u9a57\u8b49\u547d\u4ee4\u662f\u5426\u5831\u544a\"probe: TRIGGERED\"\u3002\u5982\u679c\u4efb\u4f55\u4e00\u500b\u67e5\u8a62\u90fd\u6c92\u6709\u5831\u544a\u6b63\u78ba\u7684\u8cc7\u8a0a\uff0c\u90a3\u9ebc\u5b83\u901a\u5e38\u8868\u660e\u63a5\u7dda\u6216\u914d\u7f6e\u4e0d\u6b63\u78ba\uff08\u5118\u7ba1\u4e00\u4e9b \u76dc\u7248\u88dd\u7f6e \u9700\u8981\u7279\u6b8a\u8655\u7406\uff09\u3002\u5728\u9019\u500b\u6e2c\u8a66\u5b8c\u6210\u5f8c\uff0c\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_up \u4e26\u6aa2\u67e5\u5f15\u8173\u662f\u5426\u5411\u4e0a\u79fb\u52d5\u3002 \u5728\u5b8c\u6210 BL-TOUCH contro \u5f15\u8173\u548c sensor \u5f15\u8173\u7684\u6e2c\u8a66\u540e\uff0c\u73fe\u5728\u662f\u6e2c\u8a66\u63a2\u91dd\u7684\u6642\u5019\u4e86\uff0c\u4f46\u6709\u4e00\u500b\u6280\u5de7\u3002\u4e0d\u8981\u8b93\u63a2\u91dd\u63a5\u89f8\u5217\u5370\u5e8a\uff0c\u800c\u662f\u8b93\u5b83\u63a5\u89f8\u4f60\u624b\u6307\u7532\u3002\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u96e2\u5e8a\u9762\u8f03\u9060\u7684\u4f4d\u7f6e\uff0c\u767c\u9001 G28 \uff08\u5982\u679c\u4e0d\u4f7f\u7528probe:z_virtual_endstop\uff0c\u767c\u9001 PROBE \uff09\uff0c\u7b49\u5f85\u5de5\u5177\u982d\u958b\u59cb\u5411\u4e0b\u79fb\u52d5\uff0c\u7136\u5f8c\u7528\u624b\u6307\u7532\u8f15\u8f15\u5730\u89f8\u63a7\u91dd\u8173\u4f86\u505c\u6b62\u79fb\u52d5\u3002\u4f60\u53ef\u80fd\u8981\u505a\u5169\u6b21\uff0c\u56e0\u70ba\u9810\u8a2d\u7684\u6b78\u4f4d\u914d\u7f6e\u6703\u63a2\u6e2c\u5169\u6b21\u3002\u5982\u679c\u4f60\u89f8\u63a7\u63a2\u91dd\u6642\u5b83\u6c92\u6709\u505c\u6b62\uff0c\u8acb\u7acb\u5373\u95dc\u9589\u5370\u8868\u6a5f\u96fb\u6e90\u3002 \u5982\u679c\u6210\u529f\u4e86\uff0c\u518d\u505a\u4e00\u6b21 G28 \uff08\u6216 PROBE \uff09\uff0c\u4f46\u662f\u9019\u6b21\u8b93\u5b83\u89f8\u78b0\u5230\u71b1\u5e8a\u3002 BL-Touch \u58de\u4e86 \u00b6 \u7576 BL-Touch \u5728\u4e0d\u4e00\u81f4\u72c0\u614b\u6642\uff0c\u5b83\u5c31\u6703\u958b\u59cb\u9583\u720d\u7d05\u8272\u3002\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u547d\u4ee4\u5f37\u5236\u5b83\u96e2\u958b\u6b64\u72c0\u614b\uff1a BLTOUCH_DEBUG COMMAND=reset \u9019\u7a2e\u60c5\u6cc1\u53ef\u80fd\u6703\u5728\u6821\u6e96\u4e2d\u88ab\u963b\u6b62\u4f38\u51fa\u7684\u63a2\u91dd\u4e2d\u65b7\u6642\u51fa\u73fe\u3002 \u4f46\u662f\uff0cBL-TOUCH \u4e5f\u6709\u53ef\u80fd\u7121\u6cd5\u518d\u9032\u884c\u81ea\u6211\u6821\u6e96\u3002\u9019\u7a2e\u60c5\u6cc1\u6703\u5728\u5b83\u4e0a\u9762\u7684\u87ba\u7d72\u8655\u65bc\u932f\u8aa4\u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u63a2\u91dd\u5167\u7684\u78c1\u82af\u79fb\u52d5\u4e4b\u5f8c\u51fa\u73fe\u3002\u5982\u679c\u5b83\u79fb\u52d5\u4e86\uff0c\u4ee5\u81f3\u65bc\u5361\u5728\u4e86\u87ba\u7d72\u4e0a\uff0c\u5b83\u53ef\u80fd\u7121\u6cd5\u518d\u964d\u4f4e\u5176\u63a2\u91dd\u3002\u9019\u7a2e\u60c5\u6cc1\u9700\u8981\u4f60\u6253\u958b\u87ba\u7d72\u4e26\u7528\u5713\u73e0\u7b46\u5c07\u5176\u8f15\u8f15\u63a8\u56de\u539f\u4f4d\u3002\u5c07\u63a2\u91dd\u91cd\u65b0\u63d2\u5165BL-TOUCH\uff0c\u4f7f\u5176\u843d\u5165\u539f\u4f86\u7684\u4f4d\u7f6e\u3002\u5c0f\u5fc3\u5730\u5c07\u7121\u982d\u87ba\u91d8\u91cd\u65b0\u8abf\u6574\u5230\u4f4d\u3002\u4f60\u9700\u8981\u627e\u5230\u6b63\u78ba\u7684\u4f4d\u7f6e\uff0c\u4f7f\u5176\u80fd\u5920\u964d\u4f4e\u548c\u63d0\u9ad8\u63a2\u91dd\uff0c\u4e26\u4e14\u7d05\u71c8\u6253\u958b\u548c\u95dc\u9589\u3002\u4f7f\u7528 reset \u3001 pin_up \u548c pin_down \u547d\u4ee4\u4f86\u5be6\u73fe\u3002 BL-Touch \u7684\u514b\u9686\uff083D-Touch\uff09 \u00b6 Klipper \u9810\u8a2d\u914d\u7f6e\u652f\u63f4\u5927\u591a\u6578\u76dc\u7248 BL-Touch\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u76dc\u7248\u88dd\u7f6e\u53ef\u80fd\u4e0d\u652f\u63f4 QUERY_PROBE \u547d\u4ee4\uff0c\u4e26\u4e14\u4e00\u4e9b\u88dd\u7f6e\u53ef\u80fd\u9700\u8981\u914d\u7f6e pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u3002 \u6ce8\u610f\uff01\u5728\u6c92\u6709\u9075\u5faa\u9019\u4e9b\u6307\u793a\u4e4b\u524d\uff0c\u4e0d\u8981\u628a pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u914d\u7f6e\u70ba False\u3002\u4e0d\u8981\u5728\u6b63\u7248 BL-Touch \u4e0a\u628a\u9019\u5169\u500b\u53c3\u6578\u914d\u7f6e\u70baFalse\u3002\u932f\u8aa4\u5730\u5c07\u9019\u4e9b\u8a2d\u5b9a\u70ba \"False\"\u6703\u589e\u52a0\u63a2\u6e2c\u6642\u9593\u548c\u640d\u58de\u5370\u8868\u6a5f\u7684\u98a8\u96aa\u3002 \u4e00\u4e9b\u76dc\u7248\u88dd\u7f6e\u4e0d\u652f\u63f4 touch_mode \uff0c\u56e0\u6b64 QUERY_PROBE \u547d\u4ee4\u4e0d\u80fd\u6b63\u5e38\u57f7\u884c\u3002\u5118\u7ba1\u5982\u6b64\uff0c\u4ecd\u7136\u6709\u53ef\u80fd\u7528\u9019\u4e9b\u88dd\u7f6e\u9032\u884c\u63a2\u6e2c\u548c\u6b78\u4f4d\u3002\u9019\u4e9b\u88dd\u7f6e\u5982\u679c\u5728 \u521d\u59cb\u6e2c\u8a66 \u671f\u9593\u7684 QUERY_PROBE \u547d\u4ee4\u4e0d\u6210\u529f\uff0c\u4f46\u5728\u96a8\u5f8c\u7684 G28 \uff08\u6216 PROBE \uff09\u6e2c\u8a66\u78ba\u5be6\u6210\u529f\uff0c\u5247\u53ef\u4ee5\u5728 Klipper \u4e2d\u4e0d\u4f7f\u7528 QUERY_PROBE \u547d\u4ee4\u548c\u4e0d\u555f\u7528 probe_with_touch_mode \u529f\u80fd\u6642\u4f7f\u7528\u9019\u4e9b\u76dc\u7248\u88dd\u7f6e\u3002 \u4e00\u4e9b\u514b\u9686\u88dd\u7f6e\u7121\u6cd5\u57f7\u884c Klipper \u7684\u5167\u90e8\u611f\u6e2c\u5668\u9a57\u8b49\u6e2c\u8a66\u3002\u5728\u9019\u4e9b\u88dd\u7f6e\u4e0a\uff0c\u5617\u8a66\u6b78\u4f4d\u6216\u63a2\u6e2c\u6703\u5c0e\u81f4 Klipper \u5831\u544a \"BLTouch failed to verify sensor state\" \u932f\u8aa4\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u90a3\u9ebc\u8acb\u624b\u52d5\u57f7\u884c\u9019\u4e9b\u6b65\u9a5f\u4ee5\u78ba\u8a8d sensor \u5f15\u8173\u6b63\u78ba\uff0c\u5982 \u521d\u6b21\u9664\u932f \u6240\u8ff0\u3002\u5982\u679c\u8a72\u6e2c\u8a66\u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u7e3d\u662f\u7522\u751f\u7b26\u5408\u9810\u671f\u7684\u7d50\u679c\uff0c\u800c \"BLTouch failed to verify sensor state \"\u932f\u8aa4\u4ecd\u7136\u767c\u751f\uff0c\u90a3\u9ebc\u53ef\u80fd\u9700\u8981\u5728Klipper\u914d\u7f6e\u6a94\u6848\u4e2d\u628a pin_up_touch_mode_reports_triggered \u8a2d\u70baFalse\u3002 \u5c11\u6578\u8001\u7248\u672c\u514b\u9686\u88dd\u7f6e\u7121\u6cd5\u5831\u544a\u5b83\u5011\u4f55\u6642\u6210\u529f\u5730\u62ac\u5347\u4e86\u5b83\u5011\u7684\u63a2\u91dd\u3002\u5728\u9019\u4e9b\u88dd\u7f6e\u4e0a\uff0cKlipper \u6703\u5728\u6bcf\u6b21\u6b78\u4f4d\u6216\u63a2\u6e2c\u5617\u8a66\u540e\u5831\u544a\u4e00\u500b \"BLTouch failed to raise probe \"\u7684\u932f\u8aa4\u3002\u53ef\u4ee5\u5c0d\u9019\u4e9b\u88dd\u7f6e\u9032\u884c\u6e2c\u8a66--\u5c07\u63a2\u91dd\u5f9e\u5217\u5370\u5e8a\u79fb\u958b\uff0c\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u78ba\u8a8d\u63a2\u91dd\u5df2\u7d93\u5411\u4e0b\u79fb\u52d5\uff0c\u57f7\u884c QUERY_PROBE \uff0c\u78ba\u8a8d\u547d\u4ee4\u5831\u544a \"probe:open\"\uff0c\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u78ba\u8a8d\u63a2\u91dd\u5df2\u7d93\u62ac\u5347\uff0c\u4e26\u57f7\u884c QUERY_PROBE \u3002\u5982\u679c\u63a2\u91dd\u4fdd\u6301\u62ac\u5347\uff0c\u88dd\u7f6e\u6c92\u6709\u9032\u5165\u932f\u8aa4\u72c0\u614b\uff0c\u4e14\u7b2c\u4e00\u500b\u67e5\u8a62\u5831\u544a \"probe: open\"\uff0c\u800c\u7b2c\u4e8c\u500b\u67e5\u8a62\u5831\u544a \"probe:TRIGGERED\"\uff0c\u90a3\u9ebc\u5b83\u8868\u660e pin_up_reports_not_triggered \u61c9\u8a72\u5728Klipper\u914d\u7f6e\u6a94\u6848\u4e2d\u88ab\u8a2d\u5b9a\u70baFalse\u3002 BL-Touch v3 \u00b6 \u4e00\u4e9b BL-Touch v3.0 \u548cBL-Touch 3.1 \u88dd\u7f6e\u53ef\u80fd\u9700\u8981\u5728\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u914d\u7f6e probe_with_touch_mode \u3002 \u5982\u679cBL-TOUCH v3.0\u7684\u8a0a\u865f\u7dda\u9023\u7dda\u5230\u4e00\u500b\u9650\u4f4d\u5f15\u8173\uff08\u6709\u4e00\u500b\u566a\u97f3\u904e\u6ffe\u96fb\u5bb9\uff09\uff0c\u90a3\u9ebcBL-TOUCH v3.0\u53ef\u80fd\u7121\u6cd5\u5728\u6b78\u4f4d\u548c\u63a2\u6e2c\u671f\u9593\u6301\u7e8c\u767c\u9001\u8a0a\u865f\u3002\u5982\u679c \u521d\u6b21\u9664\u932f \u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u7e3d\u662f\u7522\u751f\u9810\u671f\u7684\u7d50\u679c\uff0c\u4f46\u5728G28/PROBE\u547d\u4ee4\u671f\u9593\uff0c\u5de5\u5177\u982d\u4e26\u4e0d\u7e3d\u662f\u505c\u6b62\uff0c\u90a3\u9ebc\u5c31\u8868\u660e\u6709\u9019\u500b\u554f\u984c\u3002\u4e00\u500b\u8b8a\u901a\u7684\u8fa6\u6cd5\u662f\u5728\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a probe_with_touch_mode:True \u3002 BL-TOUCH v3.1 \u53ef\u80fd\u6703\u5728\u5617\u8a66\u63a2\u6e2c\u6210\u529f\u540e\u932f\u8aa4\u5730\u9032\u5165\u932f\u8aa4\u72c0\u614b\u3002\u5176\u7665\u72c0\u662f BL-TOUCH v3.1 \u5728\u6210\u529f\u63a5\u89f8\u5217\u5370\u5e8a\u540e\uff0c\u5076\u723e\u6703\u6709\u71c8\u5149\u9583\u720d\uff0c\u6301\u7e8c\u5e7e\u79d2\u9418\u3002Klipper \u61c9\u8a72\u6703\u81ea\u52d5\u6e05\u9664\u9019\u500b\u932f\u8aa4\uff0c\u4e00\u822c\u4f86\u8aaa\u662f\u6c92\u6709\u554f\u984c\u7684\u3002\u7576\u7136\u4f60\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a probe_with_touch_mode \u4f86\u907f\u514d\u9019\u500b\u554f\u984c\u3002 \u6ce8\u610f\uff01\u7576 probe_with_touch_mode \u88ab\u8a2d\u5b9a\u70ba True \u6642\uff0c\u4e00\u4e9b \u514b\u9686\u88dd\u7f6e\u548cBL-Touch v2.0\uff08\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u6703\u964d\u4f4e\u7cbe\u5ea6\u3002\u5c07\u6b64\u8a2d\u5b9a\u70ba True \u4e5f\u6703\u589e\u52a0\u90e8\u7f72\u63a2\u91dd\u7684\u6642\u9593\u3002\u5982\u679c\u5728 \u514b\u9686 \u6216\u66f4\u65e9\u7684BL-Touch\u88dd\u7f6e\u4e0a\u914d\u7f6e\u9019\u500b\u503c\uff0c\u4e00\u5b9a\u8981\u5728\u8a2d\u5b9a\u9019\u500b\u503c\u4e4b\u524d\u548c\u4e4b\u5f8c\u6e2c\u8a66\u63a2\u91dd\u7684\u6e96\u78ba\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u9032\u884c\u6e2c\u8a66\uff09\u3002 \u7121\u6536\u8d77\u591a\u6b21\u63a2\u6e2c \u00b6 \u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cKlipper \u6703\u5728\u6bcf\u6b21\u63a2\u6e2c\u5617\u8a66\u958b\u59cb\u6642\u90e8\u7f72\u63a2\u91dd\uff0c\u7136\u5f8c\u5728\u4e4b\u5f8c\u6536\u8d77\u63a2\u91dd\u3002\u9019\u7a2e\u91cd\u8907\u90e8\u7f72\u548c\u6536\u8d77\u63a2\u91dd\u7684\u505a\u6cd5\u53ef\u80fd\u6703\u589e\u52a0\u6d89\u53ca\u8a31\u591a\u63a2\u91dd\u6e2c\u91cf\u7684\u6821\u6e96\u5e8f\u5217\u7684\u7e3d\u8017\u6642\u3002Klipper \u652f\u63f4\u5728\u9023\u7e8c\u7684\u63a2\u6e2c\u4e4b\u9593\u4e0d\u6536\u8d77\u63a2\u91dd\uff0c\u9019\u53ef\u4ee5\u6e1b\u5c11\u63a2\u6e2c\u7684\u7e3d\u8017\u6642\u3002\u53ef\u4ee5\u901a\u904e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u628a stow_on_each_sample \u914d\u7f6e\u70ba False \u4f86\u555f\u7528\u9019\u500b\u6a21\u5f0f\u3002 \u6ce8\u610f\uff01\u5c07 Stow_on_each_sample \u8a2d\u5b9a\u70ba False \u53ef\u80fd\u5c0e\u81f4 Klipper \u5728\u63a2\u91dd\u653e\u4e0b\u6642\u9032\u884c\u6c34\u5e73\u7684\u5217\u5370\u982d\u904b\u52d5\u3002\u5728\u5c07\u6b64\u503c\u8a2d\u5b9a\u70ba \"False\"\u4e4b\u524d\uff0c\u8acb\u78ba\u4fdd\u6240\u6709\u63a2\u6e2c\u64cd\u4f5c\u90fd\u6709\u8db3\u5920\u7684Z\u9593\u9699\u3002\u5982\u679c\u6c92\u6709\u8db3\u5920\u7684\u9593\u9699\uff0c\u90a3\u9ebc\u6c34\u5e73\u79fb\u52d5\u53ef\u80fd\u6703\u5c0e\u81f4\u63a2\u91dd\u5361\u5728\u969c\u7919\u7269\u4e0a\u4e26\u4e14\u5c0e\u81f4\u5370\u8868\u6a5f\u640d\u58de\u3002 \u6ce8\u610f\uff01\u7576\u914d\u7f6e stow_on_each_sample \u70baFalse\u6642\uff0c\u5efa\u8b70\u5c07 probe_with_touch_mode \u914d\u7f6e\u70ba True\u3002\u5982\u679c\u6c92\u6709\u8a2d\u5b9a probe_with_touch_mode \uff0c\u4e00\u4e9b\u514b\u9686\u7684\u88dd\u7f6e\u53ef\u80fd\u6aa2\u6e2c\u4e0d\u5230\u5f8c\u7e8c\u548c\u5217\u5370\u5e8a\u7684\u63a5\u89f8\u3002\u5728\u6240\u6709\u7684\u88dd\u7f6e\u4e0a\uff0c\u4f7f\u7528\u9019\u5169\u500b\u8a2d\u5b9a\u7684\u7d44\u5408\u53ef\u4ee5\u7c21\u5316\u88dd\u7f6e\u7684\u8a0a\u865f\u50b3\u905e\uff0c\u5f9e\u800c\u63d0\u9ad8\u6574\u9ad4\u7a69\u5b9a\u6027\u3002 \u4f46\u662f\u8acb\u6ce8\u610f\uff0c\u7576 probe_with_touch_mode \u8a2d\u5b9a\u70baTrue\u6642\uff0c\u4e00\u4e9b\u514b\u9686\u88dd\u7f6e\u548cBL-Touch v2.0\uff08\u4ee5\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u6703\u964d\u4f4e\u7cbe\u5ea6\u3002\u5728\u9019\u4e9b\u88dd\u7f6e\u4e0a\uff0c\u6700\u597d\u5728\u8a2d\u5b9a probe_with_touch_mode \u4e4b\u524d\u548c\u4e4b\u5f8c\u6e2c\u8a66\u63a2\u91dd\u7684\u6e96\u78ba\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u4f86\u6e2c\u8a66\uff09\u3002 \u6821\u6e96 BL-Touch \u7684\u504f\u79fb \u00b6 \u6309\u7167 \u63a2\u91dd\u6821\u6e96 \u6307\u5357\u4e2d\u7684\u6307\u793a\u4f86\u8a2d\u5b9ax_offset\u3001y_offset\u548cz_offset\u914d\u7f6e\u53c3\u6578\u3002 \u6700\u597d\u78ba\u8a8d Z \u8ef8\u504f\u79fb\u91cf\u63a5\u8fd1 1 mm\u3002\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u9ebc\u4f60\u53ef\u80fd\u5e0c\u671b\u5c07\u63a2\u982d\u5411\u4e0a\u6216\u5411\u4e0b\u79fb\u52d5\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002\u4f60\u9700\u8981\u8b93\u5b83\u5728\u5674\u5634\u78b0\u5230\u5e8a\u9762\u4e4b\u524d\u53ef\u4ee5\u5f88\u597d\u7684\u89f8\u767c\uff0c\u9019\u6a23\u53ef\u80fd\u51fa\u73fe\u7684\u6b98\u7559\u8017\u6750\u6216\u626d\u66f2\u7684\u5e8a\u9762\u5c31\u4e0d\u6703\u5f71\u97ff\u4efb\u4f55\u63a2\u6e2c\u52d5\u4f5c\u3002\u4f46\u8207\u6b64\u540c\u6642\uff0c\u6536\u56de\u7684\u4f4d\u7f6e\u6700\u597d\u5118\u53ef\u80fd\u9ad8\u65bc\u5674\u5634\uff0c\u4ee5\u907f\u514d\u5b83\u63a5\u89f8\u5230\u5217\u5370\u4ef6\u3002\u5982\u679c\u5c0d\u63a2\u91dd\u4f4d\u7f6e\u9032\u884c\u4e86\u8abf\u6574\uff0c\u9700\u8981\u5728\u8abf\u6574\u5f8c\u91cd\u65b0\u57f7\u884c\u63a2\u91dd\u6821\u6e96\u6b65\u9a5f\u3002 BL-Touch \u8f38\u51fa\u6a21\u5f0f \u00b6 BL-Touch V3.0\u652f\u63f4\u8a2d\u5b9a 5V \u6216 OPEN-DRAIN \u8f38\u51fa\u6a21\u5f0f\uff0cBL-TOUCH V3.1\u4e5f\u652f\u63f4\uff0c\u4f46\u5b83\u4e5f\u53ef\u4ee5\u5728\u5176\u5167\u90e8 EEPROM \u4e2d\u5132\u5b58\u9019\u500b\u8a2d\u5b9a\u3002\u5982\u679c\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\u7684\u56fa\u5b9a 5V \u9ad8\u908f\u8f2f\u96fb\u5e73\uff0c\u4f60\u53ef\u4ee5\u628a\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848[bltouch]\u90e8\u5206\u7684 'set_output_mode' \u53c3\u6578\u8a2d\u5b9a\u70ba \"5V\"\u3002 \u53ea\u5728\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u7684\u8f38\u5165\u7dda\u8def\u53ef\u4ee5\u5bb9\u5fcd5V\u6642\u4f7f\u7528 5V \u6a21\u5f0f\u3002\u9019\u5c31\u662f\u70ba\u4ec0\u9ebc\u9019\u4e9b BL-Touch \u7248\u672c\u7684\u9810\u8a2d\u914d\u7f6e\u662fOPEN-DRAIN\u6a21\u5f0f\u3002\u4f60\u6709\u53ef\u80fd\u640d\u58de\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u4e0a\u7684MCU \u56e0\u6b64\u3002\u5982\u679c\u4e00\u500b\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\uff0c\u4e26\u4e14\u5b83\u7684\u8f38\u5165\u8a0a\u865f\u7dda\u662f 5V \u7684\uff0c\u4e26\u4e14\u5982\u679c \u4f60\u6709\u4e00\u500b BL-TOUCH Smart V3.0\uff0c\u4f60\u9700\u8981\u4f7f\u7528 'set_output_mode:5V' \u53c3\u6578\uff0c\u4ee5\u78ba\u4fdd\u6bcf\u6b21\u555f\u52d5\u6642\u7684\u61c9\u7528\u9019\u4e00\u8a2d\u5b9a\uff0c\u56e0\u70ba\u63a2\u91dd\u4e0d\u80fd\u8a18\u4f4f\u6240\u9700\u7684\u8a2d\u5b9a\u3002 \u5982\u679c\u4f60\u6709\u4e00\u500b BL-Touch Smart V3.1\uff0c\u4f60\u53ef\u4ee5\u9078\u64c7\u4f7f\u7528 'set_output_mode:5V \" \u6216\u8005\u901a\u904e\u624b\u52d5\u4f7f\u7528 \"BLTOUCH_STORE MODE=5V \"\u547d\u4ee4\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u53c3\u6578 \"set_output_mode: \"\u4f86\u5132\u5b58\u6a21\u5f0f\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u63a2\u91dd\u3002\u6709\u4e9b\u63a2\u91dd\u5728\u96fb\u8def\u677f\u4e0a\u6709\u4e00\u500b\u9700\u8981\u5207\u9664\u7684\u7dda\u8def\u6216\u8005\u9700\u8981\u8a2d\u5b9a\u7684\u4e00\u500b\u8df3\u7dda\uff0c\u4ee5\u4fbf\uff08\u6c38\u4e45\uff09\u8a2d\u5b9a\u8f38\u51fa\u6a21\u5f0f\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u5b8c\u5168\u7701\u7565 \"set_output_mode \"\u53c3\u6578\u3002 \u5982\u679c\u4f60\u6709\u4e00\u500b V3.1\uff0c\u4e0d\u8981\u81ea\u52d5\u6216\u91cd\u8907\u5132\u5b58\u8f38\u51fa\u6a21\u5f0f\uff0c\u4ee5\u907f\u514d\u78e8\u640d\u63a2\u91dd\u7684 EEPROM\u3002BLTouch \u7684 EEPROM\u53ef\u7528\u65bc\u7d04100.000\u6b21\u66f4\u65b0\u3002\u6bcf\u5929\u5132\u5b58100\u6b21\uff0c\u5728\u78e8\u640d\u4e4b\u524d\uff0c\u52a0\u8d77\u4f86\u5927\u7d04\u53ef\u4ee5\u57f7\u884c3\u5e74\u3002\u56e0\u6b64\uff0c\u5728 V3.1 \u4e2d\u5132\u5b58\u8f38\u51fa\u6a21\u5f0f\u88ab\u4f9b\u61c9\u5546\u8a2d\u8a08\u6210\u4e00\u500b\u8907\u96dc\u7684\u64cd\u4f5c\uff08\u51fa\u5ee0\u9810\u8a2d\u503c\u662f\u4e00\u500b safe OPEN DRAIN \u6a21\u5f0f\uff09\uff0c\u4e0d\u9069\u5408\u7531\u4efb\u4f55\u5207\u7247\u8edf\u9ad4\u3001\u5b8f\u6216\u5176\u4ed6\u6771\u897f\u91cd\u8907\u767c\u51fa\uff0c\u6700\u597d\u50c5\u5728\u9996\u6b21\u5c07\u63a2\u91dd\u65b0\u589e\u5230\u5230\u5370\u8868\u6a5f\u96fb\u5b50\u88dd\u7f6e\u6642\u4f7f\u7528\u3002","title":"BL-Touch"},{"location":"BLTouch.html#bl-touch","text":"","title":"BL-Touch"},{"location":"BLTouch.html#bl-touch_1","text":"\u8b66\u544a\uff01 \uff1a\u5728\u4f60\u958b\u59cb\u524d\u8acb\u907f\u514d\u7528\u4f60\u7684\u624b\u6307\u63a5\u89f8 BL-Touch \u7684\u63a2\u91dd\uff0c\u56e0\u70ba\u5b83\u5c0d\u624b\u6307\u7684\u6cb9\u8102\u76f8\u7576\u654f\u611f\u3002\u5982\u679c\u4f60\u771f\u7684\u89f8\u63a7\u9700\u8981\u89f8\u78b0\u5b83\uff0c\u8acb\u5118\u53ef\u80fd\u5c0f\u5fc3\uff0c\u4ee5\u907f\u514d\u5f4e\u66f2\u6216\u63a8\u52d5\u4efb\u4f55\u6771\u897f\u3002 \u6839\u64da BL-Touch \u6587\u4ef6\u6216\u4f60\u4f7f\u7528\u7684 MCU \u7684\u6587\u4ef6\uff0c\u5c07 BL-TOUCH \u7684 \"servo\"\u5f15\u8173\u9023\u7dda\u5230 control_pin \u3002\u4f7f\u7528\u539f\u88dd\u9023\u7dda\u7dda\uff0c\u4e09\u6839\u7dda\u4e2d\u7684\u9ec3\u7dda\u662f control_pin \uff0c\u5169\u6839\u7dda\u4e2d\u7684\u767d\u7dda\u662f sensor_pin \u3002\u4f60\u9700\u8981\u6839\u64da\u4f60\u7684\u63a5\u7dda\u4f86\u914d\u7f6e\u9019\u4e9b\u5f15\u8173\u3002\u5927\u591a\u6578 BL-Touch \u88dd\u7f6e\u8981\u6c42\u5728\u611f\u6e2c\u5668\u5f15\u8173\u4e0a\u6709\u4e00\u500b\u4e0a\u62c9\u96fb\u963b\uff08\u5f15\u8173\u540d\u7a31\u524d\u52a0\"^\"\uff09\u3002\u4f8b\u5982\uff1a [bltouch] sensor_pin: ^P1.24 control_pin: P1.26 \u5982\u679c BL-Touch \u5c07\u7528\u65bc Z \u8ef8\u6b78\u4f4d\uff0c\u5247\u8a2d\u5b9a endstop_pin:probe:z_virtual_endstop \u4e26\u522a\u9664 [stepper_z] \u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 position_endstop \uff0c\u7136\u5f8c\u65b0\u589e\u4e00\u500b [safe_z_home] \u914d\u7f6e\u5206\u6bb5\u4f86\u5148\u63d0\u5347 z \u8ef8\uff0c\u4e26\u6b78\u4f4d xy \u8ef8\uff0c\u518d\u79fb\u52d5\u5230\u5e8a\u7684\u4e2d\u5fc3\uff0c\u4e26\u6b78\u4f4d z \u8ef8\u3002\u4f8b\u5982\uff1a [safe_z_home] home_xy_position: 100, 100 # \u4fee\u6539\u8a72\u5ea7\u6a19\u70ba\u5217\u5370\u5e8a\u4e2d\u5fc3 speed: 50 z_hop: 10 # \u5411\u4e0a\u79fb\u52d5 10mm z_hop_speed: 5 \u91cd\u8981\u7684\u662f\uff0csafe_z_home \u4e2d\u7684 z_hop \u904b\u52d5\u9700\u8981\u8db3\u5920\u9ad8\u4ee5\u4fdd\u8b49\u5373\u4f7f\u63a2\u91dd\u6070\u597d\u8655\u65bc\u6700\u4f4e\u72c0\u614b\uff0c\u4e5f\u4e0d\u6703\u767c\u751f\u78b0\u649e\u3002","title":"\u9023\u7dda\u5230 BL-Touch"},{"location":"BLTouch.html#_1","text":"\u5728\u7e7c\u7e8c\u524d\uff0c\u8acb\u6aa2\u67e5 BL-Touch \u662f\u5426\u5b89\u88dd\u5728\u6b63\u78ba\u7684\u9ad8\u5ea6\uff0c\u63a2\u91dd\u5728\u6536\u8d77\u6642\u61c9\u8a72\u5728\u5674\u982d\u4e0a\u5927\u7d042mm\u7684\u4f4d\u7f6e \u555f\u52d5\u5370\u8868\u6a5f\u6642\uff0cBL-Touch \u63a2\u91dd\u6703\u57f7\u884c\u81ea\u6aa2\u4e26\u4e0a\u4e0b\u79fb\u52d5\u63a2\u91dd\u5e7e\u6b21\u3002\u81ea\u6aa2\u5b8c\u6210\u5f8c\uff0c\u63a2\u91dd\u6703\u8655\u65bc\u6536\u56de\u72c0\u614b\uff0c\u63a2\u982d\u4e0a\u7684\u7d05\u8272 LED \u5728\u6b64\u6642\u61c9\u4eae\u8d77\u3002\u5982\u679c\u6709\u932f\u8aa4\uff0c\u4f8b\u5982\u63a2\u982d\u5448\u7d05\u8272\u9583\u720d\u6216\u8005\u63a2\u91dd\u4f38\u51fa\u800c\u4e0d\u662f\u6536\u56de\uff0c\u8acb\u95dc\u9589\u5370\u8868\u6a5f\u4e26\u6aa2\u67e5\u63a5\u7dda\u548c\u914d\u7f6e\u3002 \u5982\u679c\u4ee5\u4e0a\u90fd\u6c92\u6709\u554f\u984c\uff0c\u5c31\u53ef\u4ee5\u6e2c\u8a66 control \u5f15\u8173\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u4e86\u3002\u9996\u5148\u5728\u5370\u8868\u6a5f\u7d42\u7aef\u4e2d\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_down \u3002\u78ba\u8a8d\u63a2\u91dd\u4f38\u51fa\u4e26\u4e14\u63a2\u982d\u4e0a\u7684\u7d05\u8272 LED \u7184\u6ec5\u3002\u5982\u679c\u6c92\u6709\uff0c\u8acb\u518d\u6b21\u6aa2\u67e5\u5370\u8868\u6a5f\u7684\u63a5\u7dda\u548c\u914d\u7f6e\u3002\u63a5\u4e0b\u4f86\u5728\u5370\u8868\u6a5f\u7d42\u7aef\u8f38\u5165 BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u78ba\u8a8d\u63a2\u91dd\u5411\u4e0a\u79fb\u52d5\u4e86\uff0c\u4e26\u4e14\u7d05\u71c8\u518d\u6b21\u4eae\u8d77\u3002\u5982\u679c\u5b83\u9583\u720d\uff0c\u5247\u8aaa\u660e\u5b58\u5728\u554f\u984c\u3002 \u4e0b\u4e00\u6b65\u662f\u78ba\u8a8d\u611f\u6e2c\u5668\u7684\u63a2\u91dd\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u6aa2\u67e5\u63a2\u91dd\u662f\u5426\u5411\u4e0b\u79fb\u52d5\u3002\u57f7\u884c BLTOUCH_DEBUG COMMAND=touch_mode \uff0c\u518d\u57f7\u884c QUERY_PROBE \uff0c\u4e26\u9a57\u8b49\u547d\u4ee4\u5831\u544a\"probe: open\"\u3002\u7136\u5f8c\uff0c\u5728\u7528\u6307\u7532\u8f15\u8f15\u63a8\u8d77\u91dd\u982d\u7684\u540c\u6642\uff0c\u518d\u6b21\u57f7\u884c QUERY_PROBE \u3002\u9a57\u8b49\u547d\u4ee4\u662f\u5426\u5831\u544a\"probe: TRIGGERED\"\u3002\u5982\u679c\u4efb\u4f55\u4e00\u500b\u67e5\u8a62\u90fd\u6c92\u6709\u5831\u544a\u6b63\u78ba\u7684\u8cc7\u8a0a\uff0c\u90a3\u9ebc\u5b83\u901a\u5e38\u8868\u660e\u63a5\u7dda\u6216\u914d\u7f6e\u4e0d\u6b63\u78ba\uff08\u5118\u7ba1\u4e00\u4e9b \u76dc\u7248\u88dd\u7f6e \u9700\u8981\u7279\u6b8a\u8655\u7406\uff09\u3002\u5728\u9019\u500b\u6e2c\u8a66\u5b8c\u6210\u5f8c\uff0c\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_up \u4e26\u6aa2\u67e5\u5f15\u8173\u662f\u5426\u5411\u4e0a\u79fb\u52d5\u3002 \u5728\u5b8c\u6210 BL-TOUCH contro \u5f15\u8173\u548c sensor \u5f15\u8173\u7684\u6e2c\u8a66\u540e\uff0c\u73fe\u5728\u662f\u6e2c\u8a66\u63a2\u91dd\u7684\u6642\u5019\u4e86\uff0c\u4f46\u6709\u4e00\u500b\u6280\u5de7\u3002\u4e0d\u8981\u8b93\u63a2\u91dd\u63a5\u89f8\u5217\u5370\u5e8a\uff0c\u800c\u662f\u8b93\u5b83\u63a5\u89f8\u4f60\u624b\u6307\u7532\u3002\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u96e2\u5e8a\u9762\u8f03\u9060\u7684\u4f4d\u7f6e\uff0c\u767c\u9001 G28 \uff08\u5982\u679c\u4e0d\u4f7f\u7528probe:z_virtual_endstop\uff0c\u767c\u9001 PROBE \uff09\uff0c\u7b49\u5f85\u5de5\u5177\u982d\u958b\u59cb\u5411\u4e0b\u79fb\u52d5\uff0c\u7136\u5f8c\u7528\u624b\u6307\u7532\u8f15\u8f15\u5730\u89f8\u63a7\u91dd\u8173\u4f86\u505c\u6b62\u79fb\u52d5\u3002\u4f60\u53ef\u80fd\u8981\u505a\u5169\u6b21\uff0c\u56e0\u70ba\u9810\u8a2d\u7684\u6b78\u4f4d\u914d\u7f6e\u6703\u63a2\u6e2c\u5169\u6b21\u3002\u5982\u679c\u4f60\u89f8\u63a7\u63a2\u91dd\u6642\u5b83\u6c92\u6709\u505c\u6b62\uff0c\u8acb\u7acb\u5373\u95dc\u9589\u5370\u8868\u6a5f\u96fb\u6e90\u3002 \u5982\u679c\u6210\u529f\u4e86\uff0c\u518d\u505a\u4e00\u6b21 G28 \uff08\u6216 PROBE \uff09\uff0c\u4f46\u662f\u9019\u6b21\u8b93\u5b83\u89f8\u78b0\u5230\u71b1\u5e8a\u3002","title":"\u521d\u59cb\u6e2c\u8a66"},{"location":"BLTouch.html#bl-touch_2","text":"\u7576 BL-Touch \u5728\u4e0d\u4e00\u81f4\u72c0\u614b\u6642\uff0c\u5b83\u5c31\u6703\u958b\u59cb\u9583\u720d\u7d05\u8272\u3002\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u547d\u4ee4\u5f37\u5236\u5b83\u96e2\u958b\u6b64\u72c0\u614b\uff1a BLTOUCH_DEBUG COMMAND=reset \u9019\u7a2e\u60c5\u6cc1\u53ef\u80fd\u6703\u5728\u6821\u6e96\u4e2d\u88ab\u963b\u6b62\u4f38\u51fa\u7684\u63a2\u91dd\u4e2d\u65b7\u6642\u51fa\u73fe\u3002 \u4f46\u662f\uff0cBL-TOUCH \u4e5f\u6709\u53ef\u80fd\u7121\u6cd5\u518d\u9032\u884c\u81ea\u6211\u6821\u6e96\u3002\u9019\u7a2e\u60c5\u6cc1\u6703\u5728\u5b83\u4e0a\u9762\u7684\u87ba\u7d72\u8655\u65bc\u932f\u8aa4\u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u63a2\u91dd\u5167\u7684\u78c1\u82af\u79fb\u52d5\u4e4b\u5f8c\u51fa\u73fe\u3002\u5982\u679c\u5b83\u79fb\u52d5\u4e86\uff0c\u4ee5\u81f3\u65bc\u5361\u5728\u4e86\u87ba\u7d72\u4e0a\uff0c\u5b83\u53ef\u80fd\u7121\u6cd5\u518d\u964d\u4f4e\u5176\u63a2\u91dd\u3002\u9019\u7a2e\u60c5\u6cc1\u9700\u8981\u4f60\u6253\u958b\u87ba\u7d72\u4e26\u7528\u5713\u73e0\u7b46\u5c07\u5176\u8f15\u8f15\u63a8\u56de\u539f\u4f4d\u3002\u5c07\u63a2\u91dd\u91cd\u65b0\u63d2\u5165BL-TOUCH\uff0c\u4f7f\u5176\u843d\u5165\u539f\u4f86\u7684\u4f4d\u7f6e\u3002\u5c0f\u5fc3\u5730\u5c07\u7121\u982d\u87ba\u91d8\u91cd\u65b0\u8abf\u6574\u5230\u4f4d\u3002\u4f60\u9700\u8981\u627e\u5230\u6b63\u78ba\u7684\u4f4d\u7f6e\uff0c\u4f7f\u5176\u80fd\u5920\u964d\u4f4e\u548c\u63d0\u9ad8\u63a2\u91dd\uff0c\u4e26\u4e14\u7d05\u71c8\u6253\u958b\u548c\u95dc\u9589\u3002\u4f7f\u7528 reset \u3001 pin_up \u548c pin_down \u547d\u4ee4\u4f86\u5be6\u73fe\u3002","title":"BL-Touch \u58de\u4e86"},{"location":"BLTouch.html#bl-touch-3d-touch","text":"Klipper \u9810\u8a2d\u914d\u7f6e\u652f\u63f4\u5927\u591a\u6578\u76dc\u7248 BL-Touch\u3002\u4f46\u662f\uff0c\u67d0\u4e9b\u76dc\u7248\u88dd\u7f6e\u53ef\u80fd\u4e0d\u652f\u63f4 QUERY_PROBE \u547d\u4ee4\uff0c\u4e26\u4e14\u4e00\u4e9b\u88dd\u7f6e\u53ef\u80fd\u9700\u8981\u914d\u7f6e pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u3002 \u6ce8\u610f\uff01\u5728\u6c92\u6709\u9075\u5faa\u9019\u4e9b\u6307\u793a\u4e4b\u524d\uff0c\u4e0d\u8981\u628a pin_up_reports_not_triggered \u6216 pin_up_touch_mode_reports_triggered \u914d\u7f6e\u70ba False\u3002\u4e0d\u8981\u5728\u6b63\u7248 BL-Touch \u4e0a\u628a\u9019\u5169\u500b\u53c3\u6578\u914d\u7f6e\u70baFalse\u3002\u932f\u8aa4\u5730\u5c07\u9019\u4e9b\u8a2d\u5b9a\u70ba \"False\"\u6703\u589e\u52a0\u63a2\u6e2c\u6642\u9593\u548c\u640d\u58de\u5370\u8868\u6a5f\u7684\u98a8\u96aa\u3002 \u4e00\u4e9b\u76dc\u7248\u88dd\u7f6e\u4e0d\u652f\u63f4 touch_mode \uff0c\u56e0\u6b64 QUERY_PROBE \u547d\u4ee4\u4e0d\u80fd\u6b63\u5e38\u57f7\u884c\u3002\u5118\u7ba1\u5982\u6b64\uff0c\u4ecd\u7136\u6709\u53ef\u80fd\u7528\u9019\u4e9b\u88dd\u7f6e\u9032\u884c\u63a2\u6e2c\u548c\u6b78\u4f4d\u3002\u9019\u4e9b\u88dd\u7f6e\u5982\u679c\u5728 \u521d\u59cb\u6e2c\u8a66 \u671f\u9593\u7684 QUERY_PROBE \u547d\u4ee4\u4e0d\u6210\u529f\uff0c\u4f46\u5728\u96a8\u5f8c\u7684 G28 \uff08\u6216 PROBE \uff09\u6e2c\u8a66\u78ba\u5be6\u6210\u529f\uff0c\u5247\u53ef\u4ee5\u5728 Klipper \u4e2d\u4e0d\u4f7f\u7528 QUERY_PROBE \u547d\u4ee4\u548c\u4e0d\u555f\u7528 probe_with_touch_mode \u529f\u80fd\u6642\u4f7f\u7528\u9019\u4e9b\u76dc\u7248\u88dd\u7f6e\u3002 \u4e00\u4e9b\u514b\u9686\u88dd\u7f6e\u7121\u6cd5\u57f7\u884c Klipper \u7684\u5167\u90e8\u611f\u6e2c\u5668\u9a57\u8b49\u6e2c\u8a66\u3002\u5728\u9019\u4e9b\u88dd\u7f6e\u4e0a\uff0c\u5617\u8a66\u6b78\u4f4d\u6216\u63a2\u6e2c\u6703\u5c0e\u81f4 Klipper \u5831\u544a \"BLTouch failed to verify sensor state\" \u932f\u8aa4\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u90a3\u9ebc\u8acb\u624b\u52d5\u57f7\u884c\u9019\u4e9b\u6b65\u9a5f\u4ee5\u78ba\u8a8d sensor \u5f15\u8173\u6b63\u78ba\uff0c\u5982 \u521d\u6b21\u9664\u932f \u6240\u8ff0\u3002\u5982\u679c\u8a72\u6e2c\u8a66\u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u7e3d\u662f\u7522\u751f\u7b26\u5408\u9810\u671f\u7684\u7d50\u679c\uff0c\u800c \"BLTouch failed to verify sensor state \"\u932f\u8aa4\u4ecd\u7136\u767c\u751f\uff0c\u90a3\u9ebc\u53ef\u80fd\u9700\u8981\u5728Klipper\u914d\u7f6e\u6a94\u6848\u4e2d\u628a pin_up_touch_mode_reports_triggered \u8a2d\u70baFalse\u3002 \u5c11\u6578\u8001\u7248\u672c\u514b\u9686\u88dd\u7f6e\u7121\u6cd5\u5831\u544a\u5b83\u5011\u4f55\u6642\u6210\u529f\u5730\u62ac\u5347\u4e86\u5b83\u5011\u7684\u63a2\u91dd\u3002\u5728\u9019\u4e9b\u88dd\u7f6e\u4e0a\uff0cKlipper \u6703\u5728\u6bcf\u6b21\u6b78\u4f4d\u6216\u63a2\u6e2c\u5617\u8a66\u540e\u5831\u544a\u4e00\u500b \"BLTouch failed to raise probe \"\u7684\u932f\u8aa4\u3002\u53ef\u4ee5\u5c0d\u9019\u4e9b\u88dd\u7f6e\u9032\u884c\u6e2c\u8a66--\u5c07\u63a2\u91dd\u5f9e\u5217\u5370\u5e8a\u79fb\u958b\uff0c\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_down \uff0c\u78ba\u8a8d\u63a2\u91dd\u5df2\u7d93\u5411\u4e0b\u79fb\u52d5\uff0c\u57f7\u884c QUERY_PROBE \uff0c\u78ba\u8a8d\u547d\u4ee4\u5831\u544a \"probe:open\"\uff0c\u57f7\u884c BLTOUCH_DEBUG COMMAND=pin_up \uff0c\u78ba\u8a8d\u63a2\u91dd\u5df2\u7d93\u62ac\u5347\uff0c\u4e26\u57f7\u884c QUERY_PROBE \u3002\u5982\u679c\u63a2\u91dd\u4fdd\u6301\u62ac\u5347\uff0c\u88dd\u7f6e\u6c92\u6709\u9032\u5165\u932f\u8aa4\u72c0\u614b\uff0c\u4e14\u7b2c\u4e00\u500b\u67e5\u8a62\u5831\u544a \"probe: open\"\uff0c\u800c\u7b2c\u4e8c\u500b\u67e5\u8a62\u5831\u544a \"probe:TRIGGERED\"\uff0c\u90a3\u9ebc\u5b83\u8868\u660e pin_up_reports_not_triggered \u61c9\u8a72\u5728Klipper\u914d\u7f6e\u6a94\u6848\u4e2d\u88ab\u8a2d\u5b9a\u70baFalse\u3002","title":"BL-Touch \u7684\u514b\u9686\uff083D-Touch\uff09"},{"location":"BLTouch.html#bl-touch-v3","text":"\u4e00\u4e9b BL-Touch v3.0 \u548cBL-Touch 3.1 \u88dd\u7f6e\u53ef\u80fd\u9700\u8981\u5728\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u914d\u7f6e probe_with_touch_mode \u3002 \u5982\u679cBL-TOUCH v3.0\u7684\u8a0a\u865f\u7dda\u9023\u7dda\u5230\u4e00\u500b\u9650\u4f4d\u5f15\u8173\uff08\u6709\u4e00\u500b\u566a\u97f3\u904e\u6ffe\u96fb\u5bb9\uff09\uff0c\u90a3\u9ebcBL-TOUCH v3.0\u53ef\u80fd\u7121\u6cd5\u5728\u6b78\u4f4d\u548c\u63a2\u6e2c\u671f\u9593\u6301\u7e8c\u767c\u9001\u8a0a\u865f\u3002\u5982\u679c \u521d\u6b21\u9664\u932f \u4e2d\u7684 QUERY_PROBE \u547d\u4ee4\u7e3d\u662f\u7522\u751f\u9810\u671f\u7684\u7d50\u679c\uff0c\u4f46\u5728G28/PROBE\u547d\u4ee4\u671f\u9593\uff0c\u5de5\u5177\u982d\u4e26\u4e0d\u7e3d\u662f\u505c\u6b62\uff0c\u90a3\u9ebc\u5c31\u8868\u660e\u6709\u9019\u500b\u554f\u984c\u3002\u4e00\u500b\u8b8a\u901a\u7684\u8fa6\u6cd5\u662f\u5728\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a probe_with_touch_mode:True \u3002 BL-TOUCH v3.1 \u53ef\u80fd\u6703\u5728\u5617\u8a66\u63a2\u6e2c\u6210\u529f\u540e\u932f\u8aa4\u5730\u9032\u5165\u932f\u8aa4\u72c0\u614b\u3002\u5176\u7665\u72c0\u662f BL-TOUCH v3.1 \u5728\u6210\u529f\u63a5\u89f8\u5217\u5370\u5e8a\u540e\uff0c\u5076\u723e\u6703\u6709\u71c8\u5149\u9583\u720d\uff0c\u6301\u7e8c\u5e7e\u79d2\u9418\u3002Klipper \u61c9\u8a72\u6703\u81ea\u52d5\u6e05\u9664\u9019\u500b\u932f\u8aa4\uff0c\u4e00\u822c\u4f86\u8aaa\u662f\u6c92\u6709\u554f\u984c\u7684\u3002\u7576\u7136\u4f60\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a probe_with_touch_mode \u4f86\u907f\u514d\u9019\u500b\u554f\u984c\u3002 \u6ce8\u610f\uff01\u7576 probe_with_touch_mode \u88ab\u8a2d\u5b9a\u70ba True \u6642\uff0c\u4e00\u4e9b \u514b\u9686\u88dd\u7f6e\u548cBL-Touch v2.0\uff08\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u6703\u964d\u4f4e\u7cbe\u5ea6\u3002\u5c07\u6b64\u8a2d\u5b9a\u70ba True \u4e5f\u6703\u589e\u52a0\u90e8\u7f72\u63a2\u91dd\u7684\u6642\u9593\u3002\u5982\u679c\u5728 \u514b\u9686 \u6216\u66f4\u65e9\u7684BL-Touch\u88dd\u7f6e\u4e0a\u914d\u7f6e\u9019\u500b\u503c\uff0c\u4e00\u5b9a\u8981\u5728\u8a2d\u5b9a\u9019\u500b\u503c\u4e4b\u524d\u548c\u4e4b\u5f8c\u6e2c\u8a66\u63a2\u91dd\u7684\u6e96\u78ba\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u9032\u884c\u6e2c\u8a66\uff09\u3002","title":"BL-Touch v3"},{"location":"BLTouch.html#_2","text":"\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cKlipper \u6703\u5728\u6bcf\u6b21\u63a2\u6e2c\u5617\u8a66\u958b\u59cb\u6642\u90e8\u7f72\u63a2\u91dd\uff0c\u7136\u5f8c\u5728\u4e4b\u5f8c\u6536\u8d77\u63a2\u91dd\u3002\u9019\u7a2e\u91cd\u8907\u90e8\u7f72\u548c\u6536\u8d77\u63a2\u91dd\u7684\u505a\u6cd5\u53ef\u80fd\u6703\u589e\u52a0\u6d89\u53ca\u8a31\u591a\u63a2\u91dd\u6e2c\u91cf\u7684\u6821\u6e96\u5e8f\u5217\u7684\u7e3d\u8017\u6642\u3002Klipper \u652f\u63f4\u5728\u9023\u7e8c\u7684\u63a2\u6e2c\u4e4b\u9593\u4e0d\u6536\u8d77\u63a2\u91dd\uff0c\u9019\u53ef\u4ee5\u6e1b\u5c11\u63a2\u6e2c\u7684\u7e3d\u8017\u6642\u3002\u53ef\u4ee5\u901a\u904e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u628a stow_on_each_sample \u914d\u7f6e\u70ba False \u4f86\u555f\u7528\u9019\u500b\u6a21\u5f0f\u3002 \u6ce8\u610f\uff01\u5c07 Stow_on_each_sample \u8a2d\u5b9a\u70ba False \u53ef\u80fd\u5c0e\u81f4 Klipper \u5728\u63a2\u91dd\u653e\u4e0b\u6642\u9032\u884c\u6c34\u5e73\u7684\u5217\u5370\u982d\u904b\u52d5\u3002\u5728\u5c07\u6b64\u503c\u8a2d\u5b9a\u70ba \"False\"\u4e4b\u524d\uff0c\u8acb\u78ba\u4fdd\u6240\u6709\u63a2\u6e2c\u64cd\u4f5c\u90fd\u6709\u8db3\u5920\u7684Z\u9593\u9699\u3002\u5982\u679c\u6c92\u6709\u8db3\u5920\u7684\u9593\u9699\uff0c\u90a3\u9ebc\u6c34\u5e73\u79fb\u52d5\u53ef\u80fd\u6703\u5c0e\u81f4\u63a2\u91dd\u5361\u5728\u969c\u7919\u7269\u4e0a\u4e26\u4e14\u5c0e\u81f4\u5370\u8868\u6a5f\u640d\u58de\u3002 \u6ce8\u610f\uff01\u7576\u914d\u7f6e stow_on_each_sample \u70baFalse\u6642\uff0c\u5efa\u8b70\u5c07 probe_with_touch_mode \u914d\u7f6e\u70ba True\u3002\u5982\u679c\u6c92\u6709\u8a2d\u5b9a probe_with_touch_mode \uff0c\u4e00\u4e9b\u514b\u9686\u7684\u88dd\u7f6e\u53ef\u80fd\u6aa2\u6e2c\u4e0d\u5230\u5f8c\u7e8c\u548c\u5217\u5370\u5e8a\u7684\u63a5\u89f8\u3002\u5728\u6240\u6709\u7684\u88dd\u7f6e\u4e0a\uff0c\u4f7f\u7528\u9019\u5169\u500b\u8a2d\u5b9a\u7684\u7d44\u5408\u53ef\u4ee5\u7c21\u5316\u88dd\u7f6e\u7684\u8a0a\u865f\u50b3\u905e\uff0c\u5f9e\u800c\u63d0\u9ad8\u6574\u9ad4\u7a69\u5b9a\u6027\u3002 \u4f46\u662f\u8acb\u6ce8\u610f\uff0c\u7576 probe_with_touch_mode \u8a2d\u5b9a\u70baTrue\u6642\uff0c\u4e00\u4e9b\u514b\u9686\u88dd\u7f6e\u548cBL-Touch v2.0\uff08\u4ee5\u53ca\u66f4\u65e9\uff09\u53ef\u80fd\u6703\u964d\u4f4e\u7cbe\u5ea6\u3002\u5728\u9019\u4e9b\u88dd\u7f6e\u4e0a\uff0c\u6700\u597d\u5728\u8a2d\u5b9a probe_with_touch_mode \u4e4b\u524d\u548c\u4e4b\u5f8c\u6e2c\u8a66\u63a2\u91dd\u7684\u6e96\u78ba\u6027\uff08\u4f7f\u7528 PROBE_ACCURACY \u547d\u4ee4\u4f86\u6e2c\u8a66\uff09\u3002","title":"\u7121\u6536\u8d77\u591a\u6b21\u63a2\u6e2c"},{"location":"BLTouch.html#bl-touch_3","text":"\u6309\u7167 \u63a2\u91dd\u6821\u6e96 \u6307\u5357\u4e2d\u7684\u6307\u793a\u4f86\u8a2d\u5b9ax_offset\u3001y_offset\u548cz_offset\u914d\u7f6e\u53c3\u6578\u3002 \u6700\u597d\u78ba\u8a8d Z \u8ef8\u504f\u79fb\u91cf\u63a5\u8fd1 1 mm\u3002\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u9ebc\u4f60\u53ef\u80fd\u5e0c\u671b\u5c07\u63a2\u982d\u5411\u4e0a\u6216\u5411\u4e0b\u79fb\u52d5\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002\u4f60\u9700\u8981\u8b93\u5b83\u5728\u5674\u5634\u78b0\u5230\u5e8a\u9762\u4e4b\u524d\u53ef\u4ee5\u5f88\u597d\u7684\u89f8\u767c\uff0c\u9019\u6a23\u53ef\u80fd\u51fa\u73fe\u7684\u6b98\u7559\u8017\u6750\u6216\u626d\u66f2\u7684\u5e8a\u9762\u5c31\u4e0d\u6703\u5f71\u97ff\u4efb\u4f55\u63a2\u6e2c\u52d5\u4f5c\u3002\u4f46\u8207\u6b64\u540c\u6642\uff0c\u6536\u56de\u7684\u4f4d\u7f6e\u6700\u597d\u5118\u53ef\u80fd\u9ad8\u65bc\u5674\u5634\uff0c\u4ee5\u907f\u514d\u5b83\u63a5\u89f8\u5230\u5217\u5370\u4ef6\u3002\u5982\u679c\u5c0d\u63a2\u91dd\u4f4d\u7f6e\u9032\u884c\u4e86\u8abf\u6574\uff0c\u9700\u8981\u5728\u8abf\u6574\u5f8c\u91cd\u65b0\u57f7\u884c\u63a2\u91dd\u6821\u6e96\u6b65\u9a5f\u3002","title":"\u6821\u6e96 BL-Touch \u7684\u504f\u79fb"},{"location":"BLTouch.html#bl-touch_4","text":"BL-Touch V3.0\u652f\u63f4\u8a2d\u5b9a 5V \u6216 OPEN-DRAIN \u8f38\u51fa\u6a21\u5f0f\uff0cBL-TOUCH V3.1\u4e5f\u652f\u63f4\uff0c\u4f46\u5b83\u4e5f\u53ef\u4ee5\u5728\u5176\u5167\u90e8 EEPROM \u4e2d\u5132\u5b58\u9019\u500b\u8a2d\u5b9a\u3002\u5982\u679c\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\u7684\u56fa\u5b9a 5V \u9ad8\u908f\u8f2f\u96fb\u5e73\uff0c\u4f60\u53ef\u4ee5\u628a\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848[bltouch]\u90e8\u5206\u7684 'set_output_mode' \u53c3\u6578\u8a2d\u5b9a\u70ba \"5V\"\u3002 \u53ea\u5728\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u7684\u8f38\u5165\u7dda\u8def\u53ef\u4ee5\u5bb9\u5fcd5V\u6642\u4f7f\u7528 5V \u6a21\u5f0f\u3002\u9019\u5c31\u662f\u70ba\u4ec0\u9ebc\u9019\u4e9b BL-Touch \u7248\u672c\u7684\u9810\u8a2d\u914d\u7f6e\u662fOPEN-DRAIN\u6a21\u5f0f\u3002\u4f60\u6709\u53ef\u80fd\u640d\u58de\u4f60\u7684\u63a7\u5236\u4e3b\u677f\u4e0a\u7684MCU \u56e0\u6b64\u3002\u5982\u679c\u4e00\u500b\u63a7\u5236\u4e3b\u677f\u9700\u8981 5V \u6a21\u5f0f\uff0c\u4e26\u4e14\u5b83\u7684\u8f38\u5165\u8a0a\u865f\u7dda\u662f 5V \u7684\uff0c\u4e26\u4e14\u5982\u679c \u4f60\u6709\u4e00\u500b BL-TOUCH Smart V3.0\uff0c\u4f60\u9700\u8981\u4f7f\u7528 'set_output_mode:5V' \u53c3\u6578\uff0c\u4ee5\u78ba\u4fdd\u6bcf\u6b21\u555f\u52d5\u6642\u7684\u61c9\u7528\u9019\u4e00\u8a2d\u5b9a\uff0c\u56e0\u70ba\u63a2\u91dd\u4e0d\u80fd\u8a18\u4f4f\u6240\u9700\u7684\u8a2d\u5b9a\u3002 \u5982\u679c\u4f60\u6709\u4e00\u500b BL-Touch Smart V3.1\uff0c\u4f60\u53ef\u4ee5\u9078\u64c7\u4f7f\u7528 'set_output_mode:5V \" \u6216\u8005\u901a\u904e\u624b\u52d5\u4f7f\u7528 \"BLTOUCH_STORE MODE=5V \"\u547d\u4ee4\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u53c3\u6578 \"set_output_mode: \"\u4f86\u5132\u5b58\u6a21\u5f0f\u3002 \u5982\u679c\u4f60\u6709\u4e00\u4e9b\u5176\u4ed6\u7684\u63a2\u91dd\u3002\u6709\u4e9b\u63a2\u91dd\u5728\u96fb\u8def\u677f\u4e0a\u6709\u4e00\u500b\u9700\u8981\u5207\u9664\u7684\u7dda\u8def\u6216\u8005\u9700\u8981\u8a2d\u5b9a\u7684\u4e00\u500b\u8df3\u7dda\uff0c\u4ee5\u4fbf\uff08\u6c38\u4e45\uff09\u8a2d\u5b9a\u8f38\u51fa\u6a21\u5f0f\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u5b8c\u5168\u7701\u7565 \"set_output_mode \"\u53c3\u6578\u3002 \u5982\u679c\u4f60\u6709\u4e00\u500b V3.1\uff0c\u4e0d\u8981\u81ea\u52d5\u6216\u91cd\u8907\u5132\u5b58\u8f38\u51fa\u6a21\u5f0f\uff0c\u4ee5\u907f\u514d\u78e8\u640d\u63a2\u91dd\u7684 EEPROM\u3002BLTouch \u7684 EEPROM\u53ef\u7528\u65bc\u7d04100.000\u6b21\u66f4\u65b0\u3002\u6bcf\u5929\u5132\u5b58100\u6b21\uff0c\u5728\u78e8\u640d\u4e4b\u524d\uff0c\u52a0\u8d77\u4f86\u5927\u7d04\u53ef\u4ee5\u57f7\u884c3\u5e74\u3002\u56e0\u6b64\uff0c\u5728 V3.1 \u4e2d\u5132\u5b58\u8f38\u51fa\u6a21\u5f0f\u88ab\u4f9b\u61c9\u5546\u8a2d\u8a08\u6210\u4e00\u500b\u8907\u96dc\u7684\u64cd\u4f5c\uff08\u51fa\u5ee0\u9810\u8a2d\u503c\u662f\u4e00\u500b safe OPEN DRAIN \u6a21\u5f0f\uff09\uff0c\u4e0d\u9069\u5408\u7531\u4efb\u4f55\u5207\u7247\u8edf\u9ad4\u3001\u5b8f\u6216\u5176\u4ed6\u6771\u897f\u91cd\u8907\u767c\u51fa\uff0c\u6700\u597d\u50c5\u5728\u9996\u6b21\u5c07\u63a2\u91dd\u65b0\u589e\u5230\u5230\u5370\u8868\u6a5f\u96fb\u5b50\u88dd\u7f6e\u6642\u4f7f\u7528\u3002","title":"BL-Touch \u8f38\u51fa\u6a21\u5f0f"},{"location":"Beaglebone.html","text":"Beaglebone \u00b6 \u672c\u6587\u4ef6\u63cf\u8ff0\u4e86\u5728 Beaglebone \u53ef\u7a0b\u5f0f\u8a2d\u8a08\u5be6\u6642\u55ae\u5143\u4e0a\u57f7\u884c Klipper \u7684\u904e\u7a0b\u3002 \u69cb\u5efa\u4e00\u500b\u64cd\u4f5c\u7cfb\u7d71\u6620\u8c61 \u00b6 \u9996\u5148\u5b89\u88dd Debian 9.9 2019-08-03 4GB SD IoT \u6620\u8c61\u3002\u53ef\u4ee5\u5f9emicro-SD\u5361\u6216\u5167\u5efa\u7684eMMC\u4e2d\u57f7\u884c\u8a72\u6620\u8c61\u3002\u5982\u679c\u4f7f\u7528eMMC\uff0c\u73fe\u5728\u9700\u8981\u6309\u7167\u4e0a\u8ff0\u93c8\u63a5\u7684\u8aaa\u660e\u5c07\u5176\u5b89\u88dd\u5230eMMC\u3002 \u7136\u5f8c ssh \u9032\u5165 Beaglebone \u6a5f\u5668\uff08 ssh debian@beaglebone -- \u5bc6\u78bc\u662f temppwd \uff09\uff0c\u901a\u904e\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88dd Klipper\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-beaglebone.sh \u5b89\u88dd Octoprint \u00b6 \u7136\u5f8c\u53ef\u4ee5\u5b89\u88dd Octoprint\uff1a git clone https://github.com/foosel/OctoPrint.git cd OctoPrint/ virtualenv venv ./venv/bin/python setup.py install \u548c\u8a2d\u5b9a Octoprint \u958b\u59cb\u555f\u52d5\uff1a sudo cp ~/OctoPrint/scripts/octoprint.init /etc/init.d/octoprint sudo chmod +x /etc/init.d/octoprint sudo cp ~/OctoPrint/scripts/octoprint.default /etc/default/octoprint sudo update-rc.d octoprint defaults \u5728\u914d\u7f6e Klipper \u4e4b\u524d\uff0c\u9700\u8981\u5148\u4fee\u6539OctoPrint\u7684 /etc/default/octoprint \u914d\u7f6e\u6a94\u6848\u3002\u628a OCTOPRINT_USER \u4f7f\u7528\u8005\u6539\u70ba debian \uff0c\u628a NICELEVEL \u6539\u70ba 0 \uff0c\u53d6\u6d88\u8a3b\u91cb BASEDIR \u3001 CONFIGFILE \u548c DAEMON \u7684\u8a2d\u5b9a\uff0c\u4e26\u628a\u5f15\u7528\u5f9e /home/pi/ \u6539\u70ba /home/debian/ \uff1a sudo nano /etc/default/octoprint \u7136\u5f8c\u555f\u52d5 Octoprint \u670d\u52d9\uff1a sudo systemctl start octoprint \u9700\u8981\u78ba\u5b9a\u53ef\u4ee5\u8a2a\u554f OctoPrint \u7db2\u8def\u4f3a\u670d\u5668 - \u5b83\u61c9\u8a72\u53ef\u4ee5\u901a\u904e\u9019\u500b\u93c8\u63a5\u8a2a\u554f\uff1a http://beaglebone:5000/ \u69cb\u5efa\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc \u00b6 \u8981\u7de8\u8b6f\u7684 Klipper \u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u9700\u8981\u5148\u5c07\u7de8\u8b6f\u914d\u7f6e\u8a2d\u70ba\u300cBeaglebone PRU\u300d\uff1a cd ~/klipper/ make menuconfig \u8981\u69cb\u5efa\u548c\u5b89\u88dd\u65b0\u7684\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u8acb\u57f7\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u9084\u9700\u8981\u7de8\u8b6f\u548c\u5b89\u88dd\u7528\u65bc Linux \u4e3b\u6a5f\u7a0b\u5e8f\u7684\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u3002\u518d\u6b21\u4fee\u6539\u7de8\u8b6f\u914d\u7f6e\u70ba\"Linux process\"\uff1a make menuconfig \u7136\u5f8c\u4e5f\u5b89\u88dd\u9019\u500b\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff1a sudo service klipper stop make flash sudo service klipper start \u5269\u9918\u7684\u914d\u7f6e \u00b6 \u6839\u64da \u5b89\u88dd\u6587\u4ef6 \u914d\u7f6e Klipper \u548c Octoprint \u4ee5\u5b8c\u6210\u5b89\u88dd\u3002 \u5728 Beaglebone \u4e0a\u5217\u5370 \u00b6 \u4e0d\u5e78\u7684\u662f\uff0cBeaglebone \u8655\u7406\u5668\u6709\u6642\u4e0d\u80fd\u6d41\u66a2\u5730\u57f7\u884c OctoPrint\u3002\u5728\u8907\u96dc\u7684\u5217\u5370\u4e2d\u6703\u51fa\u73fe\u5217\u5370\u505c\u6eef\uff08\u5370\u8868\u6a5f\u7684\u79fb\u52d5\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u767c\u9001\u7684\u79fb\u52d5\u547d\u4ee4\u5feb\uff09\u662f\u4e00\u500b\u5df2\u77e5\u554f\u984c\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u53ef\u4ee5\u5617\u8a66\u4f7f\u7528 \"virtual_sdcard\" \u529f\u80fd\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \uff09\uff0c\u76f4\u63a5\u5f9e Klipper \u5217\u5370\u3002","title":"Beaglebone"},{"location":"Beaglebone.html#beaglebone","text":"\u672c\u6587\u4ef6\u63cf\u8ff0\u4e86\u5728 Beaglebone \u53ef\u7a0b\u5f0f\u8a2d\u8a08\u5be6\u6642\u55ae\u5143\u4e0a\u57f7\u884c Klipper \u7684\u904e\u7a0b\u3002","title":"Beaglebone"},{"location":"Beaglebone.html#_1","text":"\u9996\u5148\u5b89\u88dd Debian 9.9 2019-08-03 4GB SD IoT \u6620\u8c61\u3002\u53ef\u4ee5\u5f9emicro-SD\u5361\u6216\u5167\u5efa\u7684eMMC\u4e2d\u57f7\u884c\u8a72\u6620\u8c61\u3002\u5982\u679c\u4f7f\u7528eMMC\uff0c\u73fe\u5728\u9700\u8981\u6309\u7167\u4e0a\u8ff0\u93c8\u63a5\u7684\u8aaa\u660e\u5c07\u5176\u5b89\u88dd\u5230eMMC\u3002 \u7136\u5f8c ssh \u9032\u5165 Beaglebone \u6a5f\u5668\uff08 ssh debian@beaglebone -- \u5bc6\u78bc\u662f temppwd \uff09\uff0c\u901a\u904e\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88dd Klipper\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-beaglebone.sh","title":"\u69cb\u5efa\u4e00\u500b\u64cd\u4f5c\u7cfb\u7d71\u6620\u8c61"},{"location":"Beaglebone.html#octoprint","text":"\u7136\u5f8c\u53ef\u4ee5\u5b89\u88dd Octoprint\uff1a git clone https://github.com/foosel/OctoPrint.git cd OctoPrint/ virtualenv venv ./venv/bin/python setup.py install \u548c\u8a2d\u5b9a Octoprint \u958b\u59cb\u555f\u52d5\uff1a sudo cp ~/OctoPrint/scripts/octoprint.init /etc/init.d/octoprint sudo chmod +x /etc/init.d/octoprint sudo cp ~/OctoPrint/scripts/octoprint.default /etc/default/octoprint sudo update-rc.d octoprint defaults \u5728\u914d\u7f6e Klipper \u4e4b\u524d\uff0c\u9700\u8981\u5148\u4fee\u6539OctoPrint\u7684 /etc/default/octoprint \u914d\u7f6e\u6a94\u6848\u3002\u628a OCTOPRINT_USER \u4f7f\u7528\u8005\u6539\u70ba debian \uff0c\u628a NICELEVEL \u6539\u70ba 0 \uff0c\u53d6\u6d88\u8a3b\u91cb BASEDIR \u3001 CONFIGFILE \u548c DAEMON \u7684\u8a2d\u5b9a\uff0c\u4e26\u628a\u5f15\u7528\u5f9e /home/pi/ \u6539\u70ba /home/debian/ \uff1a sudo nano /etc/default/octoprint \u7136\u5f8c\u555f\u52d5 Octoprint \u670d\u52d9\uff1a sudo systemctl start octoprint \u9700\u8981\u78ba\u5b9a\u53ef\u4ee5\u8a2a\u554f OctoPrint \u7db2\u8def\u4f3a\u670d\u5668 - \u5b83\u61c9\u8a72\u53ef\u4ee5\u901a\u904e\u9019\u500b\u93c8\u63a5\u8a2a\u554f\uff1a http://beaglebone:5000/","title":"\u5b89\u88dd Octoprint"},{"location":"Beaglebone.html#_2","text":"\u8981\u7de8\u8b6f\u7684 Klipper \u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u9700\u8981\u5148\u5c07\u7de8\u8b6f\u914d\u7f6e\u8a2d\u70ba\u300cBeaglebone PRU\u300d\uff1a cd ~/klipper/ make menuconfig \u8981\u69cb\u5efa\u548c\u5b89\u88dd\u65b0\u7684\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u8acb\u57f7\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u9084\u9700\u8981\u7de8\u8b6f\u548c\u5b89\u88dd\u7528\u65bc Linux \u4e3b\u6a5f\u7a0b\u5e8f\u7684\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u3002\u518d\u6b21\u4fee\u6539\u7de8\u8b6f\u914d\u7f6e\u70ba\"Linux process\"\uff1a make menuconfig \u7136\u5f8c\u4e5f\u5b89\u88dd\u9019\u500b\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff1a sudo service klipper stop make flash sudo service klipper start","title":"\u69cb\u5efa\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc"},{"location":"Beaglebone.html#_3","text":"\u6839\u64da \u5b89\u88dd\u6587\u4ef6 \u914d\u7f6e Klipper \u548c Octoprint \u4ee5\u5b8c\u6210\u5b89\u88dd\u3002","title":"\u5269\u9918\u7684\u914d\u7f6e"},{"location":"Beaglebone.html#beaglebone_1","text":"\u4e0d\u5e78\u7684\u662f\uff0cBeaglebone \u8655\u7406\u5668\u6709\u6642\u4e0d\u80fd\u6d41\u66a2\u5730\u57f7\u884c OctoPrint\u3002\u5728\u8907\u96dc\u7684\u5217\u5370\u4e2d\u6703\u51fa\u73fe\u5217\u5370\u505c\u6eef\uff08\u5370\u8868\u6a5f\u7684\u79fb\u52d5\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u767c\u9001\u7684\u79fb\u52d5\u547d\u4ee4\u5feb\uff09\u662f\u4e00\u500b\u5df2\u77e5\u554f\u984c\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u53ef\u4ee5\u5617\u8a66\u4f7f\u7528 \"virtual_sdcard\" \u529f\u80fd\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \uff09\uff0c\u76f4\u63a5\u5f9e Klipper \u5217\u5370\u3002","title":"\u5728 Beaglebone \u4e0a\u5217\u5370"},{"location":"Bed_Level.html","text":"\u5217\u5370\u5e8a\u8abf\u5e73 \u00b6 \u5217\u5370\u5e8a\u8abf\u5e73\uff08\u6709\u6642\u4e5f\u88ab\u7a31\u70ba \"bed tramming\"\uff09\u5c0d\u65bc\u7372\u5f97\u9ad8\u8cea\u91cf\u7684\u5217\u5370\u7d50\u679c\u81f3\u95dc\u91cd\u8981\u3002\u932f\u8aa4\"\u8abf\u5e73\"\u7684\u5217\u5370\u5e8a\u6703\u9020\u6210\u9644\u8457\u529b\u5dee\u3001\"\u7ff9\u66f2\"\uff0c\u4ee5\u53ca\u6574\u500b\u5217\u5370\u904e\u7a0b\u4e2d\u7684\u7d30\u5fae\u554f\u984c\u3002\u672c\u6587\u4ef6\u662f\u5728 Klipper \u4e2d\u9032\u884c\u8abf\u5e73\u7684\u6307\u5357\u3002 \u77ad\u89e3\u5217\u5370\u5e8a\u8abf\u5e73\u7684\u76ee\u6a19\u5f88\u91cd\u8981\u3002\u5982\u679c\u5370\u8868\u6a5f\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u88ab\u547d\u4ee4\u5230 X0 Y0 Z10 \u7684\u4f4d\u7f6e\uff0c\u90a3\u9ebc\u76ee\u6a19\u662f\u8b93\u5370\u8868\u6a5f\u7684\u5674\u5634\u8ddd\u96e2\u5217\u5370\u5e8a\u6b63\u597d10\u6beb\u7c73\u3002\u6b64\u5916\uff0c\u5982\u679c\u5370\u8868\u6a5f\u88ab\u547d\u4ee4\u5230 X50 Z10 \u7684\u4f4d\u7f6e\uff0c\u76ee\u6a19\u662f\u5728\u6574\u500b\u6c34\u5e73\u79fb\u52d5\u904e\u7a0b\u4e2d\uff0c\u5674\u5634\u8207\u5e8a\u9762\u59cb\u7d42\u4fdd\u630110\u6beb\u7c73\u7684\u6e96\u78ba\u8ddd\u96e2\u3002 \u7232\u4e86\u7372\u5f97\u826f\u597d\u7684\u5217\u5370\u8cea\u91cf\uff0c\u5370\u8868\u6a5f\u61c9\u9032\u884c\u6821\u6e96\uff0c\u4f7fZ\u8ef8\u8ddd\u96e2\u7684\u7cbe\u5ea6\u5728\u7d0425\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\u3002\u9019\u662f\u4e00\u500b\u5f88\u5c0f\u7684\u8ddd\u96e2\uff0c\u9060\u5c0f\u65bc\u5178\u578b\u4eba\u985e\u982d\u9aee\u7684\u5bec\u5ea6\u3002\u9019\u500b\u5c3a\u5ea6\u662f\u4e0d\u80fd \"\u7528\u773c\u775b \"\u4f86\u6e2c\u91cf\u7684\u3002\u5fae\u5999\u7684\u5f71\u97ff\uff08\u5982\u71b1\u81a8\u8139\uff09\u6703\u5f71\u97ff\u9019\u500b\u5c3a\u5ea6\u7684\u6e2c\u91cf\u3002\u7372\u5f97\u9ad8\u7cbe\u5ea6\u7684\u79d8\u8a23\u662f\u4f7f\u7528\u4e00\u500b\u53ef\u91cd\u8907\uff0c\u9ad8\u7cbe\u5ea6\uff0c\u4e26\u80fd\u5920\u5229\u7528\u5370\u8868\u6a5f\u81ea\u8eab\u904b\u52d5\u7cfb\u7d71\u7684\u8abf\u5e73\u65b9\u6cd5\u3002 \u9078\u64c7\u9069\u7576\u7684\u6821\u6e96\u6a5f\u5236 \u00b6 \u4e0d\u540c\u578b\u5225\u7684\u5370\u8868\u6a5f\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u4f86\u9032\u884c\u8abf\u5e73\uff0c\u4f46\u662f\u6240\u6709\u9019\u4e9b\u65b9\u6cd5\u6700\u7d42\u90fd\u53d6\u6c7a\u65bc\u300c\u7d19\u5f35\u6e2c\u8a66\u300c\uff08\u5982\u4e0b\u6240\u8ff0\uff09\u3002\u7279\u5b9a\u578b\u5225\u5370\u8868\u6a5f\u7684\u5be6\u969b\u8abf\u5e73\u904e\u7a0b\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u6709\u6240\u63cf\u8ff0\u3002 \u5728\u57f7\u884c\u4efb\u4f55\u6821\u6e96\u5de5\u5177\u524d\uff0c\u4e00\u5b9a\u8981\u57f7\u884c\u5728 \u6aa2\u67e5\u914d\u7f6e\u6587\u4ef6 \u4e2d \u63cf\u8ff0\u7684\u6aa2\u67e5\u6b65\u9a5f\u3002\u5728\u5217\u5370\u5e8a\u8abf\u5e73\u524d\u6709\u5fc5\u8981\u9a57\u8b49\u5370\u8868\u6a5f\u7684\u57fa\u672c\u904b\u52d5\u3002 \u5c0d\u65bc\u5e36\u6709\u300c\u81ea\u52d5 Z \u63a2\u91dd\u300d\u7684\u5370\u8868\u6a5f\uff0c\u8acb\u52d9\u5fc5\u6309\u7167 \u63a2\u91dd\u6821\u6e96 \u6587\u4ef6\u4e2d\u7684\u8aaa\u660e\u5148\u6821\u6e96\u63a2\u91dd\u3002\u5c0d\u65bc\u4e09\u89d2\u6d32\u7d50\u69cb\u7684\u5370\u8868\u6a5f\uff0c\u8acb\u53c3\u95b1 \u4e09\u89d2\u6d32\u6821\u6e96 \u6587\u4ef6\u3002\u5c0d\u65bc\u5e36\u6709\u5217\u5370\u5e8a\u8abf\u5e73\u87ba\u7d72\u548c\u50b3\u7d71 Z \u9650\u4f4d\u7684\u5370\u8868\u6a5f\uff0c\u8acb\u53c3\u95b1 \u624b\u52d5\u8abf\u5e73 \u6587\u4ef6\u3002 \u5728\u6821\u6e96\u904e\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u5c07\u5370\u8868\u6a5f\u7684Z position_min \u8a2d\u5b9a\u70ba\u4e00\u500b\u8ca0\u6578\uff08\u4f8b\u5982\uff0c position_min = -2 \uff09\u3002\u5373\u4f7f\u5728\u6821\u6e96\u7a0b\u5f0f\u4e2d\uff0c\u5370\u8868\u6a5f\u4e5f\u6703\u57f7\u884c\u908a\u754c\u6aa2\u67e5\u3002\u8a2d\u5b9a\u4e00\u500b\u8ca0\u6578\u5141\u8a31\u5370\u8868\u6a5f\u5728\u5217\u5370\u5e8a\u7684\u6a19\u7a31\u4f4d\u7f6e\u4ee5\u4e0b\u79fb\u52d5\uff0c\u9019\u53ef\u4ee5\u5e6b\u52a9\u78ba\u5b9a\u5be6\u969b\u5e8a\u9762\u4f4d\u7f6e\u3002 \u300cA4\u7d19\u6e2c\u8a66\u6cd5\u300d \u00b6 \u5e8a\u8abf\u5e73\u7684\u6838\u5fc3\u6821\u6e96\u6a5f\u5236\u662f\"\u585e\u7d19\u6e2c\u8a66\"\u3002\u5b83\u6d89\u53ca\u5728\u5217\u5370\u5e8a\u548c\u5674\u5634\u4e4b\u9593\u653e\u7f6e\u4e00\u5f35\u666e\u901a\u5217\u5370\u7d19\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u63a7\u5236\u5230\u4e0d\u540c\u7684Z\u9ad8\u5ea6\uff0c\u76f4\u5230\u5728\u4f86\u56de\u79fb\u52d5\u7d19\u5f35\u6642\u611f\u89ba\u5230\u9069\u91cf\u7684\u963b\u529b\u3002 \u5373\u4f7f\u4f60\u7684\u5370\u8868\u6a5f\u5e36\u6709\u81ea\u52d5Z\u63a2\u91dd\uff0c\u7406\u89e3\u585e\u7d19\u6e2c\u8a66\u4f9d\u7136\u5f88\u91cd\u8981\u3002\u7232\u4e86\u4fdd\u8b49\u63a2\u91dd\u7684\u6548\u679c\uff0c\u5b83\u7d93\u5e38\u6703\u9700\u8981\u6821\u6e96\u3002\u63a2\u91dd\u7684\u6821\u6e96\u6a5f\u5236\u4e5f\u4f9d\u8cf4\u585e\u7d19\u6e2c\u8a66\u3002 \u7232\u4e86\u9032\u884c\u585e\u7d19\u6e2c\u8a66\uff0c\u5148\u7528\u526a\u5200\u526a\u4e0b\u4e00\u5c0f\u584a\u9577\u65b9\u5f62\u7684\u7d19\u689d\uff08\u4f8b\u5982\uff0c5x3\u91d0\u7c73\uff09\u3002\u5217\u5370\u7d19\u7684\u539a\u5ea6\u4e00\u822c\u70ba100\u5fae\u7c73\uff080.100mm\uff09\u5de6\u53f3\u3002(\u7d19\u689d\u7684\u78ba\u5207\u5bec\u5ea6\u4e26\u4e0d\u91cd\u8981.\uff09 \u7d19\u5f35\u6e2c\u8a66\u7684\u7b2c\u4e00\u6b65\u662f\u6aa2\u67e5\u5370\u8868\u6a5f\u7684\u5674\u5634\u548c\u5217\u5370\u5e8a\u3002\u78ba\u4fdd\u5674\u5634\u548c\u5217\u5370\u5e8a\u9762\u4e0a\u6c92\u6709\u5851\u6599\uff08\u6216\u5176\u4ed6\u96dc\u7269\uff09\u3002 \u8acb\u4ed4\u7d30\u6aa2\u67e5\u5674\u5634\u548c\u5e8a\u9762\uff0c\u78ba\u4fdd\u6c92\u6709\u6b98\u7559\u5851\u6599\u5b58\u5728\uff01 \u5982\u679c\u7e3d\u662f\u5728\u4e00\u7a2e\u81a0\u5e36\u6216\u5e8a\u9762\u4e0a\u5217\u5370\uff0c\u53ef\u4ee5\u5728\u8a72\u81a0\u5e36\u6216\u5e8a\u9762\u4e0a\u76f4\u63a5\u9032\u884c\u585e\u7d19\u6e2c\u8a66\u3002\u8acb\u6ce8\u610f\uff0c\u81a0\u5e36\u672c\u8eab\u6709\u539a\u5ea6\uff0c\u4e0d\u540c\u7684\u81a0\u5e36\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u5e8a\u9762\uff09\u5c07\u5f71\u97ff Z \u7684\u6e2c\u91cf\u3002\u8acb\u78ba\u4fdd\u7528\u585e\u7d19\u6e2c\u8a66\u6e2c\u91cf\u6bcf\u4e00\u7a2e\u4f7f\u7528\u7684\u5e8a\u9762\u3002 \u5982\u679c\u5674\u5634\u4e0a\u6b98\u7559\u4e86\u5851\u6599\uff0c\u9700\u8981\u5148\u52a0\u71b1\u64e0\u51fa\u982d\u4e26\u7528\u91d1\u5c6c\u9477\u5b50\u628a\u9019\u4e9b\u5851\u6599\u53bb\u9664\u3002\u7b49\u5230\u64e0\u51fa\u6a5f\u5b8c\u5168\u51b7\u537b\u5230\u5ba4\u6eab\u5f8c\uff0c\u518d\u7e7c\u7e8c\u9032\u884c\u7d19\u5f35\u6e2c\u8a66\u3002\u7576\u5674\u5634\u6b63\u5728\u51b7\u537b\u6642\uff0c\u4f7f\u7528\u91d1\u5c6c\u9477\u5b50\u53bb\u9664\u4efb\u4f55\u53ef\u80fd\u6f0f\u51fa\u7684\u5851\u6599\u3002 \u53ea\u5728\u5674\u5634\u548c\u5217\u5370\u5e8a\u90fd\u8655\u65bc\u5ba4\u6eab\u7684\u60c5\u6cc1\u4e0b\u9032\u884c\u585e\u7d19\u6e2c\u8a66\uff01 \u7576\u5674\u5634\u88ab\u52a0\u71b1\u6642\uff0c\u5176\u4f4d\u7f6e\uff08\u76f8\u5c0d\u65bc\u5e8a\u9762\uff09\u6703\u56e0\u71b1\u81a8\u8139\u800c\u767c\u751f\u8b8a\u5316\u3002\u9019\u7a2e\u71b1\u81a8\u8139\u901a\u5e38\u5728100\u5fae\u7c73\u5de6\u53f3\uff0c\u5927\u7d04\u662f\u4e00\u5f35\u5178\u578b\u7684\u5217\u5370\u7d19\u7684\u539a\u5ea6\u3002\u71b1\u81a8\u8139\u7684\u78ba\u5207\u7a0b\u5ea6\u4e26\u4e0d\u95dc\u9375\uff0c\u6b63\u5982\u7d19\u5f35\u7684\u78ba\u5207\u539a\u5ea6\u4e26\u4e0d\u95dc\u9375\u4e00\u6a23\u3002\u5f9e\u5047\u8a2d\u4e8c\u8005\u76f8\u7b49\u958b\u59cb\uff08\u898b\u4e0b\u6587\u78ba\u5b9a\u4e8c\u8005\u5bec\u5ea6\u4e4b\u5dee\u7684\u65b9\u6cd5\uff09\u3002 \u7576\u76ee\u6a19\u662f\u5728\u52a0\u71b1\u6642\u6709\u4e00\u500b\u4e00\u81f4\u7684\u8ddd\u96e2\u6642\uff0c\u5728\u5ba4\u6eab\u4e0b\u6821\u6e96\u8ddd\u96e2\u53ef\u80fd\u807d\u8d77\u4f86\u5f88\u5947\u602a\u3002\u7136\u800c\uff0c\u5982\u679c\u5728\u5674\u5634\u52a0\u71b1\u6642\u9032\u884c\u6821\u6e96\uff0c\u5f80\u5f80\u6703\u6709\u5c11\u91cf\u7684\u7194\u878d\u5851\u6599\u6ef2\u5165\u7d19\u5f35\uff0c\u5f9e\u800c\u6539\u8b8a\u4e86\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u9019\u6703\u5f71\u97ff\u6821\u6e96\u7cbe\u5ea6\u3002\u5728\u5e8a\u6216\u5674\u5634\u71b1\u7684\u6642\u5019\u9032\u884c\u6821\u6e96\u4e5f\u6703\u5927\u5927\u589e\u52a0\u71d2\u50b7\u98a8\u96aa\u3002\u71b1\u81a8\u8139\u91cf\u662f\u7a69\u5b9a\u7684\uff0c\u6240\u4ee5\u5728\u6821\u6e96\u904e\u7a0b\u4e2d\u5f88\u5bb9\u6613\u88ab\u8003\u616e\u5230\u3002 \u4f7f\u7528\u81ea\u52d5\u5316\u5de5\u5177\u4f86\u78ba\u5b9a\u7cbe\u78ba\u7684 Z \u9ad8\u5ea6\uff01 Klipper \u6709\u5e7e\u500b\u8f14\u52a9\u6307\u4ee4\u78bc\uff08\u4f8b\u5982\uff0cMANUAL_PROBE\u3001Z_ENDSTOP_CALIBRATE\u3001PROBE_CALIBRATE \u6216 DELTA_CALIBRATE\uff09\u3002\u8acb\u53c3\u95b1 \u4e0a\u8ff0\u7ae0\u7bc0 \u4f86\u9078\u64c7\u5b83\u5011\u3002 \u5728OctoPrint\u7d42\u7aef\u8996\u7a97\u4e2d\u57f7\u884c\u9069\u7576\u7684\u547d\u4ee4\u3002\u8a72\u6307\u4ee4\u78bc\u5c07\u5728OctoPrint\u7d42\u7aef\u8f38\u51fa\u4e2d\u63d0\u793a\u4f7f\u7528\u8005\u4e92\u52d5\u3002\u4ee5\u4e0b\u662f\u4e00\u500b\u4f8b\u5b50\uff1a Recv: // Starting manual Z probe. Use TESTZ to adjust position. Recv: // Finish with ACCEPT or ABORT command. Recv: // Z position: ?????? --> 5.000 <-- ?????? \u5674\u5634\u7684\uff08\u6309\u7167\u5370\u8868\u6a5f\u76ee\u524d\u7684\u5b9a\u7fa9\u7684\uff09\u76ee\u524d\u9ad8\u5ea6\u986f\u793a\u5728\"--> <--\"\u4e4b\u9593\u3002\u53f3\u908a\u7684\u6578\u5b57\u662f\u525b\u525b\u5927\u65bc\u76ee\u524d\u9ad8\u5ea6\u7684\u6700\u5f8c\u4e00\u6b21\u63a2\u6e2c\u9ad8\u5ea6\uff0c\u5de6\u908a\u7684\u6578\u5b57\u662f\u5c0f\u65bc\u76ee\u524d\u9ad8\u5ea6\u7684\u6700\u5f8c\u4e00\u6b21\u63a2\u6e2c\u9ad8\u5ea6\uff08\u5982\u679c\u6c92\u6709\u5617\u8a66\uff0c\u5247??????\uff09\u3002 \u5c07\u7d19\u653e\u5728\u5674\u5634\u548c\u5e8a\u9762\u4e4b\u9593\u3002\u647a\u758a\u7d19\u5f35\u7684\u4e00\u89d2\u53ef\u4ee5\u8b93\u5b83\u66f4\u5bb9\u6613\u88ab\u6293\u5728\u624b\u88e1\u3002(\u4f86\u56de\u79fb\u52d5\u7d19\u5f35\u6642\uff0c\u5118\u91cf\u4e0d\u8981\u4e0b\u58d3\u5e8a\u9762\u3002\uff09 \u4f7f\u7528 TESTZ \u547d\u4ee4\u5c07\u5674\u5634\u5411\u7d19\u689d\u9760\u8fd1\u3002\u4f8b\u5982\uff1a TESTZ Z=-.1 TESTZ\u547d\u4ee4\u5c07\u76f8\u5c0d\u5674\u5634\u7684\u7576\u524d\u4f4d\u7f6e\u79fb\u52d5\u6307\u5b9a\u8ddd\u96e2\u3002(\u56e0\u6b64\uff0c Z=-.1 \u547d\u4ee4\u5674\u5634\u5411\u5e8a\u8eab\u9760\u8fd1 0.1mm\u3002\uff09\u5674\u5634\u505c\u6b62\u79fb\u52d5\u5f8c\uff0c\u4f86\u56de\u63a8\u52d5\u7d19\u5f35\uff0c\u6aa2\u67e5\u5674\u5634\u662f\u5426\u8207\u7d19\u5f35\u63a5\u89f8\uff0c\u4e26\u611f\u53d7\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u7e7c\u7e8c\u767c\u51fa TESTZ \u547d\u4ee4\uff0c\u76f4\u5230\u585e\u7d19\u6e2c\u8a66\u6642\u611f\u89ba\u5230\u5c11\u91cf\u7684\u6469\u64e6\u3002 \u5982\u679c\u767c\u73fe\u6469\u64e6\u529b\u592a\u5927\uff0c\u90a3\u9ebc\u53ef\u4ee5\u7528\u4e00\u500b\u6b63\u7684 Z \u503c\u5c07\u5674\u5634\u5411\u4e0a\u79fb\u52d5\uff0c\u6216\u8005\u7528 TESTZ Z=+ \u6216 TESTZ Z=- \u4f86\u4e8c\u5206\u4e0a\u4e00\u6b21\u4f4d\u7f6e\u548c\u76ee\u524d\u4f4d\u7f6e-\u4e5f\u5c31\u662f\u79fb\u52d5\u5230\u5169\u500b\u4f4d\u7f6e\u4e4b\u9593\u7684\u4e00\u534a\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5f9e TESTZ \u547d\u4ee4\u5f8c\u6536\u5230\u4ee5\u4e0b\u53cd\u994b\uff1a Recv: // Z position: 0.130 --> 0.230 <-- 0.280 \u7136\u5f8c TESTZ Z=- \u6703\u5c07\u5674\u5634\u79fb\u52d5\u5230 Z \u5ea7\u6a19 0.180 \uff080.130 \u548c 0.230\u4e4b\u9593\uff09\u3002\u9019\u500b\u529f\u80fd\u53ef\u4ee5\u5feb\u901f\u7684\u627e\u5230\u4e00\u81f4\u963b\u529b\u7684\u4f4d\u7f6e\u3002\u4e5f\u53ef\u4ee5\u7528 Z=++ \u548c Z=-- \u76f4\u63a5\u56de\u5230\u4e0a\u4e00\u6b21\u6e2c\u91cf\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5728\u4e0a\u9762\u53cd\u994b\u5f8c\u57f7\u884c TESTZ Z=-- \u547d\u4ee4\u6703\u5c07 Z \u5ea7\u6a19\u79fb\u52d5\u5230 0.130\u3002 \u611f\u53d7\u5230\u5c11\u91cf\u7684\u6469\u64e6\u5f8c\uff0c\u57f7\u884c ACCEPT \u547d\u4ee4\uff1a ACCEPT \u9019\u5c07\u63a5\u53d7\u7d66\u5b9a\u7684 Z \u9ad8\u5ea6\uff0c\u4e26\u7e7c\u7e8c\u4f7f\u7528\u7d66\u5b9a\u7684\u6821\u6e96\u5de5\u5177\u3002 \u78ba\u5207\u7684\u963b\u529b\u4e26\u4e0d\u91cd\u8981\uff0c\u5c31\u50cf\u71b1\u81a8\u8139\u91cf\u548c\u7d19\u5f35\u7684\u78ba\u5207\u5bec\u5ea6\u4e26\u4e0d\u91cd\u8981\u4e00\u6a23\u3002\u53ea\u9700\u8981\u6bcf\u6b21\u6e2c\u8a66\u6642\u5118\u91cf\u9054\u5230\u76f8\u540c\u7684\u963b\u529b\u5c31\u884c\u4e86\u3002 \u5982\u679c\u5728\u6e2c\u8a66\u904e\u7a0b\u4e2d\u51fa\u4e86\u554f\u984c\uff0c\u53ef\u4ee5\u4f7f\u7528 ABORT \u547d\u4ee4\u4f86\u9000\u51fa\u6821\u6e96\u5de5\u5177\u3002 \u78ba\u5b9a\u71b1\u81a8\u8139 \u00b6 \u5728\u6210\u529f\u9032\u884c\u5217\u5370\u5e8a\u8abf\u5e73\u5f8c\uff0c\u53ef\u4ee5\u7e7c\u7e8c\u8a08\u7b97\"\u71b1\u81a8\u8139\"\u3001\"\u7d19\u5f35\u539a\u5ea6\"\u548c\"\u7d19\u5f35\u6e2c\u8a66\u6642\u611f\u53d7\u5230\u7684\u6469\u64e6\u91cf\"\u7d9c\u5408\u5f71\u97ff\u7684\u7cbe\u78ba\u503c\u3002 \u9019\u7a2e\u578b\u5225\u7684\u8a08\u7b97\u901a\u5e38\u662f\u4e0d\u9700\u8981\u7684\uff0c\u56e0\u70ba\u5927\u591a\u6578\u4f7f\u7528\u8005\u767c\u73fe\u7c21\u55ae\u7684\"\u585e\u7d19\u6e2c\u8a66\"\u63d0\u4f9b\u4e86\u8db3\u5920\u597d\u7684\u7d50\u679c\u3002 \u6700\u7c21\u55ae\u7684\u8a08\u7b97\u65b9\u6cd5\u662f\u5217\u5370\u4e00\u500b\u56db\u9762\u90fd\u662f\u76f4\u58c1\u7684\u6e2c\u8a66\u7269\u9ad4\u3002\u53ef\u4ee5\u7528\u5728 docs/prints/square.stl \u4e2d\u627e\u5230\u7684\u5927\u578b\u7a7a\u5fc3\u65b9\u5f62\u3002\u5728\u5207\u7247\u6642\uff0c\u78ba\u4fdd\u5207\u7247\u8edf\u9ad4\u5728\u7b2c\u4e00\u5c64\u4f7f\u7528\u8207\u6240\u6709\u5f8c\u7e8c\u5c64\u76f8\u540c\u7684\u5c64\u9ad8\u548c\u64e0\u51fa\u5bec\u5ea6\u3002\u4f7f\u7528\u8f03\u9ad8\u7684\u5c64\u9ad8\uff08\u5c64\u9ad8\u61c9\u8a72\u662f\u5674\u5634\u76f4\u5f91\u768475%\u5de6\u53f3\uff09\uff0c\u4e0d\u8981\u4f7f\u7528\u88d9\u908a(skirt)\u6216\u7b4f(raft)\u3002 \u5217\u5370\u6e2c\u8a66\u5c0d\u8c61\uff0c\u7b49\u5f85\u5176\u81ea\u7136\u51b7\u537b\uff0c\u4e26\u5c07\u5176\u5f9e\u5217\u5370\u5e8a\u4e0a\u53d6\u4e0b\u3002\u6aa2\u67e5\u8a72\u7269\u9ad4\u7684\u6700\u4f4e\u5c64\u3002(\u53ef\u4ee5\u7528\u624b\u6307\u6216\u6307\u7532\u6cbf\u5e95\u5c64\u908a\u7de3\u5283\u4e00\u4e0b\u3002)\u5982\u679c\u767c\u73fe\u5e95\u5c64\u6cbf\u8457\u7269\u9ad4\u7684\u56db\u908a\u7565\u5fae\u51f8\u8d77\uff0c\u5247\u8868\u660e\u5674\u5634\u96e2\u5e8a\u9762\u504f\u8fd1\u3002\u53ef\u4ee5\u767c\u51fa SET_GCODE_OFFSET Z=+.010 \u547d\u4ee4\u4f86\u589e\u52a0\u9ad8\u5ea6\u3002\u5728\u672a\u4f86\u7684\u5217\u5370\u4e2d\uff0c\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u6cd5\u6aa2\u67e5\u9019\u7a2e\u6027\u72c0\uff0c\u4e26\u6839\u64da\u9700\u8981\u4f5c\u9032\u4e00\u6b65\u8abf\u6574\u3002\u9019\u7a2e\u578b\u5225\u7684\u8abf\u6574\u901a\u5e38\u662f\u4ee5 10 \u5fae\u7c73\uff080.010\u6beb\u7c73\uff09\u70ba\u55ae\u4f4d\u3002 \u5982\u679c\u9996\u5c64\u4e00\u76f4\u6bd4\u5f8c\u7e8c\u5c64\u7a84\uff0c\u90a3\u9ebc\u53ef\u4ee5\u4f7f\u7528 SET_GCODE_OFFSET \u547d\u4ee4\u9032\u884c\u8ca0\u7684 Z \u8abf\u6574\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u90a3\u9ebc\u53ef\u4ee5\u6e1b\u5c11 Z \u503c\uff0c\u76f4\u5230\u5e95\u5c64\u7684\u5370\u5237\u54c1\u51fa\u73fe\u4e00\u500b\u5c0f\u7684\u51f8\u8d77\uff0c\u7136\u5f8c\u518d\u589e\u52a0 Z \u503c\u76f4\u5230\u5b83\u6d88\u5931\u3002 \u61c9\u7528\u671f\u671b\u7684Z \u503c\u8abf\u6574\u7684\u6700\u7c21\u55ae\u65b9\u6cd5\u662f\u5efa\u7acb\u4e00\u500b START_PRINT G\u7a0b\u5f0f\u78bc\u5b8f\uff0c\u914d\u7f6e\u5207\u7247\u8edf\u9ad4\u5728\u5217\u5370\u958b\u59cb\u7a0b\u5f0f\u78bc\u4e2d\u547c\u53eb\u8a72\u5b8f\uff0c\u4f75\u7232\u8a72\u5b8f\u65b0\u589e SET_GCODE_OFFSET \u547d\u4ee4\u3002\u8a73\u60c5\u898b \u5207\u7247\u8edf\u9ad4 \u6587\u4ef6\u3002","title":"\u5217\u5370\u5e8a\u8abf\u5e73"},{"location":"Bed_Level.html#_1","text":"\u5217\u5370\u5e8a\u8abf\u5e73\uff08\u6709\u6642\u4e5f\u88ab\u7a31\u70ba \"bed tramming\"\uff09\u5c0d\u65bc\u7372\u5f97\u9ad8\u8cea\u91cf\u7684\u5217\u5370\u7d50\u679c\u81f3\u95dc\u91cd\u8981\u3002\u932f\u8aa4\"\u8abf\u5e73\"\u7684\u5217\u5370\u5e8a\u6703\u9020\u6210\u9644\u8457\u529b\u5dee\u3001\"\u7ff9\u66f2\"\uff0c\u4ee5\u53ca\u6574\u500b\u5217\u5370\u904e\u7a0b\u4e2d\u7684\u7d30\u5fae\u554f\u984c\u3002\u672c\u6587\u4ef6\u662f\u5728 Klipper \u4e2d\u9032\u884c\u8abf\u5e73\u7684\u6307\u5357\u3002 \u77ad\u89e3\u5217\u5370\u5e8a\u8abf\u5e73\u7684\u76ee\u6a19\u5f88\u91cd\u8981\u3002\u5982\u679c\u5370\u8868\u6a5f\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u88ab\u547d\u4ee4\u5230 X0 Y0 Z10 \u7684\u4f4d\u7f6e\uff0c\u90a3\u9ebc\u76ee\u6a19\u662f\u8b93\u5370\u8868\u6a5f\u7684\u5674\u5634\u8ddd\u96e2\u5217\u5370\u5e8a\u6b63\u597d10\u6beb\u7c73\u3002\u6b64\u5916\uff0c\u5982\u679c\u5370\u8868\u6a5f\u88ab\u547d\u4ee4\u5230 X50 Z10 \u7684\u4f4d\u7f6e\uff0c\u76ee\u6a19\u662f\u5728\u6574\u500b\u6c34\u5e73\u79fb\u52d5\u904e\u7a0b\u4e2d\uff0c\u5674\u5634\u8207\u5e8a\u9762\u59cb\u7d42\u4fdd\u630110\u6beb\u7c73\u7684\u6e96\u78ba\u8ddd\u96e2\u3002 \u7232\u4e86\u7372\u5f97\u826f\u597d\u7684\u5217\u5370\u8cea\u91cf\uff0c\u5370\u8868\u6a5f\u61c9\u9032\u884c\u6821\u6e96\uff0c\u4f7fZ\u8ef8\u8ddd\u96e2\u7684\u7cbe\u5ea6\u5728\u7d0425\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\u3002\u9019\u662f\u4e00\u500b\u5f88\u5c0f\u7684\u8ddd\u96e2\uff0c\u9060\u5c0f\u65bc\u5178\u578b\u4eba\u985e\u982d\u9aee\u7684\u5bec\u5ea6\u3002\u9019\u500b\u5c3a\u5ea6\u662f\u4e0d\u80fd \"\u7528\u773c\u775b \"\u4f86\u6e2c\u91cf\u7684\u3002\u5fae\u5999\u7684\u5f71\u97ff\uff08\u5982\u71b1\u81a8\u8139\uff09\u6703\u5f71\u97ff\u9019\u500b\u5c3a\u5ea6\u7684\u6e2c\u91cf\u3002\u7372\u5f97\u9ad8\u7cbe\u5ea6\u7684\u79d8\u8a23\u662f\u4f7f\u7528\u4e00\u500b\u53ef\u91cd\u8907\uff0c\u9ad8\u7cbe\u5ea6\uff0c\u4e26\u80fd\u5920\u5229\u7528\u5370\u8868\u6a5f\u81ea\u8eab\u904b\u52d5\u7cfb\u7d71\u7684\u8abf\u5e73\u65b9\u6cd5\u3002","title":"\u5217\u5370\u5e8a\u8abf\u5e73"},{"location":"Bed_Level.html#_2","text":"\u4e0d\u540c\u578b\u5225\u7684\u5370\u8868\u6a5f\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u4f86\u9032\u884c\u8abf\u5e73\uff0c\u4f46\u662f\u6240\u6709\u9019\u4e9b\u65b9\u6cd5\u6700\u7d42\u90fd\u53d6\u6c7a\u65bc\u300c\u7d19\u5f35\u6e2c\u8a66\u300c\uff08\u5982\u4e0b\u6240\u8ff0\uff09\u3002\u7279\u5b9a\u578b\u5225\u5370\u8868\u6a5f\u7684\u5be6\u969b\u8abf\u5e73\u904e\u7a0b\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u6709\u6240\u63cf\u8ff0\u3002 \u5728\u57f7\u884c\u4efb\u4f55\u6821\u6e96\u5de5\u5177\u524d\uff0c\u4e00\u5b9a\u8981\u57f7\u884c\u5728 \u6aa2\u67e5\u914d\u7f6e\u6587\u4ef6 \u4e2d \u63cf\u8ff0\u7684\u6aa2\u67e5\u6b65\u9a5f\u3002\u5728\u5217\u5370\u5e8a\u8abf\u5e73\u524d\u6709\u5fc5\u8981\u9a57\u8b49\u5370\u8868\u6a5f\u7684\u57fa\u672c\u904b\u52d5\u3002 \u5c0d\u65bc\u5e36\u6709\u300c\u81ea\u52d5 Z \u63a2\u91dd\u300d\u7684\u5370\u8868\u6a5f\uff0c\u8acb\u52d9\u5fc5\u6309\u7167 \u63a2\u91dd\u6821\u6e96 \u6587\u4ef6\u4e2d\u7684\u8aaa\u660e\u5148\u6821\u6e96\u63a2\u91dd\u3002\u5c0d\u65bc\u4e09\u89d2\u6d32\u7d50\u69cb\u7684\u5370\u8868\u6a5f\uff0c\u8acb\u53c3\u95b1 \u4e09\u89d2\u6d32\u6821\u6e96 \u6587\u4ef6\u3002\u5c0d\u65bc\u5e36\u6709\u5217\u5370\u5e8a\u8abf\u5e73\u87ba\u7d72\u548c\u50b3\u7d71 Z \u9650\u4f4d\u7684\u5370\u8868\u6a5f\uff0c\u8acb\u53c3\u95b1 \u624b\u52d5\u8abf\u5e73 \u6587\u4ef6\u3002 \u5728\u6821\u6e96\u904e\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u5c07\u5370\u8868\u6a5f\u7684Z position_min \u8a2d\u5b9a\u70ba\u4e00\u500b\u8ca0\u6578\uff08\u4f8b\u5982\uff0c position_min = -2 \uff09\u3002\u5373\u4f7f\u5728\u6821\u6e96\u7a0b\u5f0f\u4e2d\uff0c\u5370\u8868\u6a5f\u4e5f\u6703\u57f7\u884c\u908a\u754c\u6aa2\u67e5\u3002\u8a2d\u5b9a\u4e00\u500b\u8ca0\u6578\u5141\u8a31\u5370\u8868\u6a5f\u5728\u5217\u5370\u5e8a\u7684\u6a19\u7a31\u4f4d\u7f6e\u4ee5\u4e0b\u79fb\u52d5\uff0c\u9019\u53ef\u4ee5\u5e6b\u52a9\u78ba\u5b9a\u5be6\u969b\u5e8a\u9762\u4f4d\u7f6e\u3002","title":"\u9078\u64c7\u9069\u7576\u7684\u6821\u6e96\u6a5f\u5236"},{"location":"Bed_Level.html#a4","text":"\u5e8a\u8abf\u5e73\u7684\u6838\u5fc3\u6821\u6e96\u6a5f\u5236\u662f\"\u585e\u7d19\u6e2c\u8a66\"\u3002\u5b83\u6d89\u53ca\u5728\u5217\u5370\u5e8a\u548c\u5674\u5634\u4e4b\u9593\u653e\u7f6e\u4e00\u5f35\u666e\u901a\u5217\u5370\u7d19\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u63a7\u5236\u5230\u4e0d\u540c\u7684Z\u9ad8\u5ea6\uff0c\u76f4\u5230\u5728\u4f86\u56de\u79fb\u52d5\u7d19\u5f35\u6642\u611f\u89ba\u5230\u9069\u91cf\u7684\u963b\u529b\u3002 \u5373\u4f7f\u4f60\u7684\u5370\u8868\u6a5f\u5e36\u6709\u81ea\u52d5Z\u63a2\u91dd\uff0c\u7406\u89e3\u585e\u7d19\u6e2c\u8a66\u4f9d\u7136\u5f88\u91cd\u8981\u3002\u7232\u4e86\u4fdd\u8b49\u63a2\u91dd\u7684\u6548\u679c\uff0c\u5b83\u7d93\u5e38\u6703\u9700\u8981\u6821\u6e96\u3002\u63a2\u91dd\u7684\u6821\u6e96\u6a5f\u5236\u4e5f\u4f9d\u8cf4\u585e\u7d19\u6e2c\u8a66\u3002 \u7232\u4e86\u9032\u884c\u585e\u7d19\u6e2c\u8a66\uff0c\u5148\u7528\u526a\u5200\u526a\u4e0b\u4e00\u5c0f\u584a\u9577\u65b9\u5f62\u7684\u7d19\u689d\uff08\u4f8b\u5982\uff0c5x3\u91d0\u7c73\uff09\u3002\u5217\u5370\u7d19\u7684\u539a\u5ea6\u4e00\u822c\u70ba100\u5fae\u7c73\uff080.100mm\uff09\u5de6\u53f3\u3002(\u7d19\u689d\u7684\u78ba\u5207\u5bec\u5ea6\u4e26\u4e0d\u91cd\u8981.\uff09 \u7d19\u5f35\u6e2c\u8a66\u7684\u7b2c\u4e00\u6b65\u662f\u6aa2\u67e5\u5370\u8868\u6a5f\u7684\u5674\u5634\u548c\u5217\u5370\u5e8a\u3002\u78ba\u4fdd\u5674\u5634\u548c\u5217\u5370\u5e8a\u9762\u4e0a\u6c92\u6709\u5851\u6599\uff08\u6216\u5176\u4ed6\u96dc\u7269\uff09\u3002 \u8acb\u4ed4\u7d30\u6aa2\u67e5\u5674\u5634\u548c\u5e8a\u9762\uff0c\u78ba\u4fdd\u6c92\u6709\u6b98\u7559\u5851\u6599\u5b58\u5728\uff01 \u5982\u679c\u7e3d\u662f\u5728\u4e00\u7a2e\u81a0\u5e36\u6216\u5e8a\u9762\u4e0a\u5217\u5370\uff0c\u53ef\u4ee5\u5728\u8a72\u81a0\u5e36\u6216\u5e8a\u9762\u4e0a\u76f4\u63a5\u9032\u884c\u585e\u7d19\u6e2c\u8a66\u3002\u8acb\u6ce8\u610f\uff0c\u81a0\u5e36\u672c\u8eab\u6709\u539a\u5ea6\uff0c\u4e0d\u540c\u7684\u81a0\u5e36\uff08\u6216\u4efb\u4f55\u5176\u4ed6\u5e8a\u9762\uff09\u5c07\u5f71\u97ff Z \u7684\u6e2c\u91cf\u3002\u8acb\u78ba\u4fdd\u7528\u585e\u7d19\u6e2c\u8a66\u6e2c\u91cf\u6bcf\u4e00\u7a2e\u4f7f\u7528\u7684\u5e8a\u9762\u3002 \u5982\u679c\u5674\u5634\u4e0a\u6b98\u7559\u4e86\u5851\u6599\uff0c\u9700\u8981\u5148\u52a0\u71b1\u64e0\u51fa\u982d\u4e26\u7528\u91d1\u5c6c\u9477\u5b50\u628a\u9019\u4e9b\u5851\u6599\u53bb\u9664\u3002\u7b49\u5230\u64e0\u51fa\u6a5f\u5b8c\u5168\u51b7\u537b\u5230\u5ba4\u6eab\u5f8c\uff0c\u518d\u7e7c\u7e8c\u9032\u884c\u7d19\u5f35\u6e2c\u8a66\u3002\u7576\u5674\u5634\u6b63\u5728\u51b7\u537b\u6642\uff0c\u4f7f\u7528\u91d1\u5c6c\u9477\u5b50\u53bb\u9664\u4efb\u4f55\u53ef\u80fd\u6f0f\u51fa\u7684\u5851\u6599\u3002 \u53ea\u5728\u5674\u5634\u548c\u5217\u5370\u5e8a\u90fd\u8655\u65bc\u5ba4\u6eab\u7684\u60c5\u6cc1\u4e0b\u9032\u884c\u585e\u7d19\u6e2c\u8a66\uff01 \u7576\u5674\u5634\u88ab\u52a0\u71b1\u6642\uff0c\u5176\u4f4d\u7f6e\uff08\u76f8\u5c0d\u65bc\u5e8a\u9762\uff09\u6703\u56e0\u71b1\u81a8\u8139\u800c\u767c\u751f\u8b8a\u5316\u3002\u9019\u7a2e\u71b1\u81a8\u8139\u901a\u5e38\u5728100\u5fae\u7c73\u5de6\u53f3\uff0c\u5927\u7d04\u662f\u4e00\u5f35\u5178\u578b\u7684\u5217\u5370\u7d19\u7684\u539a\u5ea6\u3002\u71b1\u81a8\u8139\u7684\u78ba\u5207\u7a0b\u5ea6\u4e26\u4e0d\u95dc\u9375\uff0c\u6b63\u5982\u7d19\u5f35\u7684\u78ba\u5207\u539a\u5ea6\u4e26\u4e0d\u95dc\u9375\u4e00\u6a23\u3002\u5f9e\u5047\u8a2d\u4e8c\u8005\u76f8\u7b49\u958b\u59cb\uff08\u898b\u4e0b\u6587\u78ba\u5b9a\u4e8c\u8005\u5bec\u5ea6\u4e4b\u5dee\u7684\u65b9\u6cd5\uff09\u3002 \u7576\u76ee\u6a19\u662f\u5728\u52a0\u71b1\u6642\u6709\u4e00\u500b\u4e00\u81f4\u7684\u8ddd\u96e2\u6642\uff0c\u5728\u5ba4\u6eab\u4e0b\u6821\u6e96\u8ddd\u96e2\u53ef\u80fd\u807d\u8d77\u4f86\u5f88\u5947\u602a\u3002\u7136\u800c\uff0c\u5982\u679c\u5728\u5674\u5634\u52a0\u71b1\u6642\u9032\u884c\u6821\u6e96\uff0c\u5f80\u5f80\u6703\u6709\u5c11\u91cf\u7684\u7194\u878d\u5851\u6599\u6ef2\u5165\u7d19\u5f35\uff0c\u5f9e\u800c\u6539\u8b8a\u4e86\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u9019\u6703\u5f71\u97ff\u6821\u6e96\u7cbe\u5ea6\u3002\u5728\u5e8a\u6216\u5674\u5634\u71b1\u7684\u6642\u5019\u9032\u884c\u6821\u6e96\u4e5f\u6703\u5927\u5927\u589e\u52a0\u71d2\u50b7\u98a8\u96aa\u3002\u71b1\u81a8\u8139\u91cf\u662f\u7a69\u5b9a\u7684\uff0c\u6240\u4ee5\u5728\u6821\u6e96\u904e\u7a0b\u4e2d\u5f88\u5bb9\u6613\u88ab\u8003\u616e\u5230\u3002 \u4f7f\u7528\u81ea\u52d5\u5316\u5de5\u5177\u4f86\u78ba\u5b9a\u7cbe\u78ba\u7684 Z \u9ad8\u5ea6\uff01 Klipper \u6709\u5e7e\u500b\u8f14\u52a9\u6307\u4ee4\u78bc\uff08\u4f8b\u5982\uff0cMANUAL_PROBE\u3001Z_ENDSTOP_CALIBRATE\u3001PROBE_CALIBRATE \u6216 DELTA_CALIBRATE\uff09\u3002\u8acb\u53c3\u95b1 \u4e0a\u8ff0\u7ae0\u7bc0 \u4f86\u9078\u64c7\u5b83\u5011\u3002 \u5728OctoPrint\u7d42\u7aef\u8996\u7a97\u4e2d\u57f7\u884c\u9069\u7576\u7684\u547d\u4ee4\u3002\u8a72\u6307\u4ee4\u78bc\u5c07\u5728OctoPrint\u7d42\u7aef\u8f38\u51fa\u4e2d\u63d0\u793a\u4f7f\u7528\u8005\u4e92\u52d5\u3002\u4ee5\u4e0b\u662f\u4e00\u500b\u4f8b\u5b50\uff1a Recv: // Starting manual Z probe. Use TESTZ to adjust position. Recv: // Finish with ACCEPT or ABORT command. Recv: // Z position: ?????? --> 5.000 <-- ?????? \u5674\u5634\u7684\uff08\u6309\u7167\u5370\u8868\u6a5f\u76ee\u524d\u7684\u5b9a\u7fa9\u7684\uff09\u76ee\u524d\u9ad8\u5ea6\u986f\u793a\u5728\"--> <--\"\u4e4b\u9593\u3002\u53f3\u908a\u7684\u6578\u5b57\u662f\u525b\u525b\u5927\u65bc\u76ee\u524d\u9ad8\u5ea6\u7684\u6700\u5f8c\u4e00\u6b21\u63a2\u6e2c\u9ad8\u5ea6\uff0c\u5de6\u908a\u7684\u6578\u5b57\u662f\u5c0f\u65bc\u76ee\u524d\u9ad8\u5ea6\u7684\u6700\u5f8c\u4e00\u6b21\u63a2\u6e2c\u9ad8\u5ea6\uff08\u5982\u679c\u6c92\u6709\u5617\u8a66\uff0c\u5247??????\uff09\u3002 \u5c07\u7d19\u653e\u5728\u5674\u5634\u548c\u5e8a\u9762\u4e4b\u9593\u3002\u647a\u758a\u7d19\u5f35\u7684\u4e00\u89d2\u53ef\u4ee5\u8b93\u5b83\u66f4\u5bb9\u6613\u88ab\u6293\u5728\u624b\u88e1\u3002(\u4f86\u56de\u79fb\u52d5\u7d19\u5f35\u6642\uff0c\u5118\u91cf\u4e0d\u8981\u4e0b\u58d3\u5e8a\u9762\u3002\uff09 \u4f7f\u7528 TESTZ \u547d\u4ee4\u5c07\u5674\u5634\u5411\u7d19\u689d\u9760\u8fd1\u3002\u4f8b\u5982\uff1a TESTZ Z=-.1 TESTZ\u547d\u4ee4\u5c07\u76f8\u5c0d\u5674\u5634\u7684\u7576\u524d\u4f4d\u7f6e\u79fb\u52d5\u6307\u5b9a\u8ddd\u96e2\u3002(\u56e0\u6b64\uff0c Z=-.1 \u547d\u4ee4\u5674\u5634\u5411\u5e8a\u8eab\u9760\u8fd1 0.1mm\u3002\uff09\u5674\u5634\u505c\u6b62\u79fb\u52d5\u5f8c\uff0c\u4f86\u56de\u63a8\u52d5\u7d19\u5f35\uff0c\u6aa2\u67e5\u5674\u5634\u662f\u5426\u8207\u7d19\u5f35\u63a5\u89f8\uff0c\u4e26\u611f\u53d7\u6469\u64e6\u529b\u7684\u5927\u5c0f\u3002\u7e7c\u7e8c\u767c\u51fa TESTZ \u547d\u4ee4\uff0c\u76f4\u5230\u585e\u7d19\u6e2c\u8a66\u6642\u611f\u89ba\u5230\u5c11\u91cf\u7684\u6469\u64e6\u3002 \u5982\u679c\u767c\u73fe\u6469\u64e6\u529b\u592a\u5927\uff0c\u90a3\u9ebc\u53ef\u4ee5\u7528\u4e00\u500b\u6b63\u7684 Z \u503c\u5c07\u5674\u5634\u5411\u4e0a\u79fb\u52d5\uff0c\u6216\u8005\u7528 TESTZ Z=+ \u6216 TESTZ Z=- \u4f86\u4e8c\u5206\u4e0a\u4e00\u6b21\u4f4d\u7f6e\u548c\u76ee\u524d\u4f4d\u7f6e-\u4e5f\u5c31\u662f\u79fb\u52d5\u5230\u5169\u500b\u4f4d\u7f6e\u4e4b\u9593\u7684\u4e00\u534a\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5f9e TESTZ \u547d\u4ee4\u5f8c\u6536\u5230\u4ee5\u4e0b\u53cd\u994b\uff1a Recv: // Z position: 0.130 --> 0.230 <-- 0.280 \u7136\u5f8c TESTZ Z=- \u6703\u5c07\u5674\u5634\u79fb\u52d5\u5230 Z \u5ea7\u6a19 0.180 \uff080.130 \u548c 0.230\u4e4b\u9593\uff09\u3002\u9019\u500b\u529f\u80fd\u53ef\u4ee5\u5feb\u901f\u7684\u627e\u5230\u4e00\u81f4\u963b\u529b\u7684\u4f4d\u7f6e\u3002\u4e5f\u53ef\u4ee5\u7528 Z=++ \u548c Z=-- \u76f4\u63a5\u56de\u5230\u4e0a\u4e00\u6b21\u6e2c\u91cf\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u5728\u4e0a\u9762\u53cd\u994b\u5f8c\u57f7\u884c TESTZ Z=-- \u547d\u4ee4\u6703\u5c07 Z \u5ea7\u6a19\u79fb\u52d5\u5230 0.130\u3002 \u611f\u53d7\u5230\u5c11\u91cf\u7684\u6469\u64e6\u5f8c\uff0c\u57f7\u884c ACCEPT \u547d\u4ee4\uff1a ACCEPT \u9019\u5c07\u63a5\u53d7\u7d66\u5b9a\u7684 Z \u9ad8\u5ea6\uff0c\u4e26\u7e7c\u7e8c\u4f7f\u7528\u7d66\u5b9a\u7684\u6821\u6e96\u5de5\u5177\u3002 \u78ba\u5207\u7684\u963b\u529b\u4e26\u4e0d\u91cd\u8981\uff0c\u5c31\u50cf\u71b1\u81a8\u8139\u91cf\u548c\u7d19\u5f35\u7684\u78ba\u5207\u5bec\u5ea6\u4e26\u4e0d\u91cd\u8981\u4e00\u6a23\u3002\u53ea\u9700\u8981\u6bcf\u6b21\u6e2c\u8a66\u6642\u5118\u91cf\u9054\u5230\u76f8\u540c\u7684\u963b\u529b\u5c31\u884c\u4e86\u3002 \u5982\u679c\u5728\u6e2c\u8a66\u904e\u7a0b\u4e2d\u51fa\u4e86\u554f\u984c\uff0c\u53ef\u4ee5\u4f7f\u7528 ABORT \u547d\u4ee4\u4f86\u9000\u51fa\u6821\u6e96\u5de5\u5177\u3002","title":"\u300cA4\u7d19\u6e2c\u8a66\u6cd5\u300d"},{"location":"Bed_Level.html#_3","text":"\u5728\u6210\u529f\u9032\u884c\u5217\u5370\u5e8a\u8abf\u5e73\u5f8c\uff0c\u53ef\u4ee5\u7e7c\u7e8c\u8a08\u7b97\"\u71b1\u81a8\u8139\"\u3001\"\u7d19\u5f35\u539a\u5ea6\"\u548c\"\u7d19\u5f35\u6e2c\u8a66\u6642\u611f\u53d7\u5230\u7684\u6469\u64e6\u91cf\"\u7d9c\u5408\u5f71\u97ff\u7684\u7cbe\u78ba\u503c\u3002 \u9019\u7a2e\u578b\u5225\u7684\u8a08\u7b97\u901a\u5e38\u662f\u4e0d\u9700\u8981\u7684\uff0c\u56e0\u70ba\u5927\u591a\u6578\u4f7f\u7528\u8005\u767c\u73fe\u7c21\u55ae\u7684\"\u585e\u7d19\u6e2c\u8a66\"\u63d0\u4f9b\u4e86\u8db3\u5920\u597d\u7684\u7d50\u679c\u3002 \u6700\u7c21\u55ae\u7684\u8a08\u7b97\u65b9\u6cd5\u662f\u5217\u5370\u4e00\u500b\u56db\u9762\u90fd\u662f\u76f4\u58c1\u7684\u6e2c\u8a66\u7269\u9ad4\u3002\u53ef\u4ee5\u7528\u5728 docs/prints/square.stl \u4e2d\u627e\u5230\u7684\u5927\u578b\u7a7a\u5fc3\u65b9\u5f62\u3002\u5728\u5207\u7247\u6642\uff0c\u78ba\u4fdd\u5207\u7247\u8edf\u9ad4\u5728\u7b2c\u4e00\u5c64\u4f7f\u7528\u8207\u6240\u6709\u5f8c\u7e8c\u5c64\u76f8\u540c\u7684\u5c64\u9ad8\u548c\u64e0\u51fa\u5bec\u5ea6\u3002\u4f7f\u7528\u8f03\u9ad8\u7684\u5c64\u9ad8\uff08\u5c64\u9ad8\u61c9\u8a72\u662f\u5674\u5634\u76f4\u5f91\u768475%\u5de6\u53f3\uff09\uff0c\u4e0d\u8981\u4f7f\u7528\u88d9\u908a(skirt)\u6216\u7b4f(raft)\u3002 \u5217\u5370\u6e2c\u8a66\u5c0d\u8c61\uff0c\u7b49\u5f85\u5176\u81ea\u7136\u51b7\u537b\uff0c\u4e26\u5c07\u5176\u5f9e\u5217\u5370\u5e8a\u4e0a\u53d6\u4e0b\u3002\u6aa2\u67e5\u8a72\u7269\u9ad4\u7684\u6700\u4f4e\u5c64\u3002(\u53ef\u4ee5\u7528\u624b\u6307\u6216\u6307\u7532\u6cbf\u5e95\u5c64\u908a\u7de3\u5283\u4e00\u4e0b\u3002)\u5982\u679c\u767c\u73fe\u5e95\u5c64\u6cbf\u8457\u7269\u9ad4\u7684\u56db\u908a\u7565\u5fae\u51f8\u8d77\uff0c\u5247\u8868\u660e\u5674\u5634\u96e2\u5e8a\u9762\u504f\u8fd1\u3002\u53ef\u4ee5\u767c\u51fa SET_GCODE_OFFSET Z=+.010 \u547d\u4ee4\u4f86\u589e\u52a0\u9ad8\u5ea6\u3002\u5728\u672a\u4f86\u7684\u5217\u5370\u4e2d\uff0c\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u6cd5\u6aa2\u67e5\u9019\u7a2e\u6027\u72c0\uff0c\u4e26\u6839\u64da\u9700\u8981\u4f5c\u9032\u4e00\u6b65\u8abf\u6574\u3002\u9019\u7a2e\u578b\u5225\u7684\u8abf\u6574\u901a\u5e38\u662f\u4ee5 10 \u5fae\u7c73\uff080.010\u6beb\u7c73\uff09\u70ba\u55ae\u4f4d\u3002 \u5982\u679c\u9996\u5c64\u4e00\u76f4\u6bd4\u5f8c\u7e8c\u5c64\u7a84\uff0c\u90a3\u9ebc\u53ef\u4ee5\u4f7f\u7528 SET_GCODE_OFFSET \u547d\u4ee4\u9032\u884c\u8ca0\u7684 Z \u8abf\u6574\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u90a3\u9ebc\u53ef\u4ee5\u6e1b\u5c11 Z \u503c\uff0c\u76f4\u5230\u5e95\u5c64\u7684\u5370\u5237\u54c1\u51fa\u73fe\u4e00\u500b\u5c0f\u7684\u51f8\u8d77\uff0c\u7136\u5f8c\u518d\u589e\u52a0 Z \u503c\u76f4\u5230\u5b83\u6d88\u5931\u3002 \u61c9\u7528\u671f\u671b\u7684Z \u503c\u8abf\u6574\u7684\u6700\u7c21\u55ae\u65b9\u6cd5\u662f\u5efa\u7acb\u4e00\u500b START_PRINT G\u7a0b\u5f0f\u78bc\u5b8f\uff0c\u914d\u7f6e\u5207\u7247\u8edf\u9ad4\u5728\u5217\u5370\u958b\u59cb\u7a0b\u5f0f\u78bc\u4e2d\u547c\u53eb\u8a72\u5b8f\uff0c\u4f75\u7232\u8a72\u5b8f\u65b0\u589e SET_GCODE_OFFSET \u547d\u4ee4\u3002\u8a73\u60c5\u898b \u5207\u7247\u8edf\u9ad4 \u6587\u4ef6\u3002","title":"\u78ba\u5b9a\u71b1\u81a8\u8139"},{"location":"Bed_Mesh.html","text":"\u5e8a\u7db2 \u00b6 \u7db2\u5e8a \u5916\u639b\u53ef\u7528\u65bc\u88dc\u511f\u71b1\u5e8a\u8868\u9762\u7684\u4e0d\u898f\u5247\u6027\uff0c\u4ee5\u4fdd\u8b49\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u7372\u5f97\u66f4\u597d\u7684\u7b2c\u4e00\u5c64\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u57fa\u65bc\u8edf\u9ad4\u7684\u6821\u6b63\u9084\u4e0d\u80fd\u9054\u5230\u5b8c\u7f8e\u7684\u7a0b\u5ea6\uff0c\u5b83\u53ea\u80fd\u5118\u53ef\u80fd\u9054\u5230\u5e8a\u7684\u5f62\u72c0\u3002\u7db2\u5e8a \u4e5f\u7121\u6cd5\u88dc\u511f\u6a5f\u68b0\u548c\u96fb\u6c23\u5c0e\u81f4\u7684\u554f\u984c\u3002 \u5982\u679c\u6a5f\u5668\u6c92\u88dd\u597d\u7d50\u69cb\u6b6a\u4e86\u6216\u63a2\u91dd\u4e0d\u6e96\u78ba\uff0c\u5247 \u7db2\u5e8a \u6a21\u7d44\u5c07\u7121\u6cd5\u5f9e\u63a2\u6e2c\u904e\u7a0b\u4e2d\u7372\u5f97\u4ee4\u4eba\u6eff\u610f\u7684\u7d50\u679c\u3002 \u5728\u9032\u884c\u7db2\u683c\u6821\u6e96\u4e4b\u524d\uff0c\u9700\u8981\u5148\u6821\u6e96\u63a2\u91dd\u7684 Z \u504f\u79fb\u3002\u5982\u679c\u4f7f\u7528\u9650\u4f4d\u958b\u95dc\u9032\u884cZ\u8ef8\u5b9a\u4f4d\uff0c\u4e5f\u9700\u8981\u5c0d\u5176\u9032\u884c\u6821\u6e96\u3002\u8acb\u53c3\u95b1 \u63a2\u91dd\u6821\u6e96 \u548c \u624b\u52d5\u8abf\u5e73 \u4e2d\u7684 Z_ENDSTOP_CALIBRATE \u7372\u53d6\u66f4\u591a\u8cc7\u8a0a\u3002 \u57fa\u672c\u914d\u7f6e \u00b6 \u77e9\u5f62\u5e8a \u00b6 \u6b64\u793a\u4f8b\u5047\u5b9a\u5370\u8868\u6a5f\u5177\u6709 250 mm x 220 mm \u77e9\u5f62\u5e8a\u548c\u4e00\u500b x \u504f\u79fb\u70ba 24 mm\u548c y \u504f\u79fb\u70ba 5 mm\u7684\u63a2\u91dd\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 speed: 120 \u9810\u8a2d\u503c\uff1a50 \u63a2\u91dd\u5728\u5169\u500b\u9ede\u4e4b\u9593\u79fb\u52d5\u7684\u901f\u5ea6\u3002 horizontal_move_z: 5 \u9810\u8a2d\u503c\uff1a5 \u63a2\u91dd\u524d\u5f80\u4e0b\u4e00\u500b\u9ede\u4e4b\u524dZ\u9700\u8981\u62ac\u5347\u7684\u9ad8\u5ea6\u3002 mesh_min: 35,6 \uff08\u5fc5\u9808\u5b58\u5728\uff09 \u7b2c\u4e00\u500b\u63a2\u6e2c\u7684\u5ea7\u6a19\uff0c\u8ddd\u96e2\u539f\u9ede\u6700\u8fd1\u3002\u8a72\u5ea7\u6a19\u5c31\u662f\u63a2\u91dd\u6240\u5728\u7684\u4f4d\u7f6e\u3002 mesh_max: 240,198 \u5fc5\u9808\u914d\u7f6e \u8ddd\u96e2\u539f\u9ede\u6700\u9060\u7684\u63a2\u6e2c\u5ea7\u6a19\u3002 \u9019\u4e0d\u4e00\u5b9a\u662f\u6700\u5f8c\u4e00\u500b\u63a2\u6e2c\u9ede\uff0c\u56e0\u70ba\u63a2\u6e2c\u6703\u4ee5\u92f8\u9f52\u5f62\u7684\u65b9\u5f0f\u904b\u52d5\u3002 \u8207 mesh_min \u4e00\u6a23\uff0c\u9019\u500b\u5ea7\u6a19\u76f8\u5c0d\u65bc\u63a2\u91dd\u3002 probe_count: 5, 3 \u9810\u8a2d\u503c\uff1a3, 3 \u6bcf\u500b\u8ef8\u4e0a\u8981\u63a2\u6e2c\u7684\u9ede\u6578\uff0c\u6307\u5b9a\u70ba X, Y \u6574\u6578\u503c\u3002 \u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5c07\u6cbf X \u8ef8\u63a2\u6e2c 5 \u500b\u9ede\uff0c\u6cbf Y \u8ef8\u63a2\u6e2c 3 \u500b\u9ede\uff0c\u7e3d\u5171\u63a2\u6e2c 15 \u500b\u9ede\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u60f3\u8981\u4e00\u500b\u65b9\u5f62\u7db2\u683c\uff0c\u4f8b\u5982 3x3\uff0c\u53ef\u4ee5\u5c07\u6307\u5b9a\u5176\u70ba\u4e00\u500b\u6574\u6578\u503c\uff0c\u6bd4\u5982 probe_count: 3 \u3002 \u8acb\u6ce8\u610f\uff0c\u7db2\u683c\u9700\u8981\u6cbf\u6bcf\u500b\u8ef8\u7684\u6700\u5c0f probe_count \u70ba3\u3002 \u4e0b\u5716\u6f14\u793a\u77ad\u5982\u4f55\u4f7f\u7528 mesh_min \u3001 mesh_max \u548c probe_count \u9078\u9805\u4f86\u7522\u751f\u63a2\u6e2c\u9ede\u3002 \u7bad\u982d\u8868\u793a\u63a2\u6e2c\u904e\u7a0b\u7684\u904b\u52d5\u65b9\u5411\uff0c\u5f9e\u300cmesh_min\u300d\u958b\u59cb\u3002 \u5716\u4e2d\u6240\u793a\uff0c\u7576\u63a2\u91dd\u4f4d\u65bc\u300cmesh_min\u300d\u6642\uff0c\u5674\u5634\u5c07\u4f4d\u65bc (11, 1)\uff0c\u7576\u63a2\u91dd\u4f4d\u65bc\u300cmesh_max\u300d\u6642\uff0c\u5674\u5634\u5c07\u4f4d\u65bc (206, 193)\u3002 \u5713\u5f62\u5e8a \u00b6 \u672c\u793a\u4f8b\u5047\u8a2d\u5370\u8868\u6a5f\u914d\u5099\u7684\u5713\u5e8a\u534a\u5f91\u70ba 100 mm\u3002 \u6211\u5011\u5c07\u4f7f\u7528\u8207\u77e9\u5f62\u7db2\u5e8a\u793a\u4f8b\u76f8\u540c\u7684\u63a2\u91dd\u504f\u79fb\u4f86\u6f14\u793a\uff0cX \u504f\u79fb\u70ba 24 mm\uff0cY \u504f\u79fb\u70ba 5 mm\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_radius: 75 mesh_origin: 0, 0 round_probe_count: 5 mesh_radius: 75 \u5fc5\u9808\u914d\u7f6e \u63a2\u6e2c\u7db2\u683c\u7bc4\u570d\u7684\u534a\u5f91\uff08\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\uff09\uff0c\u76f8\u5c0d\u65bc mesh_origin \u3002 \u8acb\u6ce8\u610f\uff0c\u63a2\u91dd\u7684\u504f\u79fb\u6703\u9650\u5236\u7db2\u683c\u534a\u5f91\u7684\u5927\u5c0f\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u5927\u65bc 76 mm\u7684\u534a\u5f91\u6703\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u5370\u8868\u6a5f\u7684\u7bc4\u570d\u4e4b\u5916\u3002 mesh_origin: 0, 0 \u9810\u8a2d\u503c\uff1a0, 0 \u63a2\u6e2c\u7db2\u683c\u7684\u4e2d\u5fc3\u9ede\u3002 \u8a72\u5ea7\u6a19\u76f8\u5c0d\u65bc\u63a2\u91dd\u7684\u4f4d\u7f6e\u3002 \u96d6\u7136\u9810\u8a2d\u503c\u70ba 0,0\uff0c\u4f46\u5982\u679c\u5e0c\u671b\u63a2\u6e2c\u5e8a\u7684\u908a\u89d2\u53ef\u4ee5\u4fee\u6539\u8a72\u503c\u3002 \u8acb\u53c3\u95b1\u4e0b\u5716\u3002 round_probe_count: 5 \u9810\u8a2d\u503c\uff1a 5 \u9019\u662f\u4e00\u500b\u6574\u6578\u503c\uff0c\u7528\u65bc\u9650\u5236\u6cbf X \u8ef8\u548c Y \u8ef8\u7684\u6700\u5927\u63a2\u6e2c\u9ede\u6578\u3002 \u300c\u6700\u5927\u300d\u662f\u6307\u6cbf\u7db2\u683c\u539f\u9ede\u63a2\u6e2c\u7684\u9ede\u6578\u3002 \u8a72\u503c\u5fc5\u9808\u662f\u5947\u6578\uff0c\u56e0\u70ba\u9700\u8981\u63a2\u6e2c\u7db2\u683c\u7684\u4e2d\u5fc3\u3002 \u4e0b\u5716\u5c55\u793a\u77ad\u5982\u4f55\u7522\u751f\u63a2\u6e2c\u9ede\u3002 \u5982\u60a8\u6240\u898b\uff0c\u5c07 mesh_origin \u8a2d\u5b9a\u70ba (-10, 0) \u5141\u8a31\u6211\u5011\u6307\u5b9a\u66f4\u5927\u7684\u7db2\u683c\u534a\u5f91 85mm\u3002 \u9ad8\u7d1a\u914d\u7f6e \u00b6 \u4e0b\u9762\u8a73\u7d30\u89e3\u91cb\u4e86\u66f4\u9ad8\u7d1a\u7684\u914d\u7f6e\u9078\u9805\u3002 \u6bcf\u500b\u793a\u4f8b\u90fd\u5c07\u5efa\u7acb\u5728\u4e0a\u9762\u986f\u793a\u7684\u57fa\u672c\u77e9\u5f62\u5e8a\u914d\u7f6e\u4e4b\u4e0a\u3002 \u6bcf\u500b\u9ad8\u7d1a\u9078\u9805\u90fd\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u61c9\u7528\u65bc\u5713\u5e8a\u3002 \u7db2\u683c\u63d2\u503c \u00b6 \u96d6\u7136\u53ef\u4ee5\u4f7f\u7528\u7c21\u55ae\u7684\u96d9\u7dda\u6027\u63d2\u503c\u76f4\u63a5\u5c0d\u63a2\u6e2c\u7db2\u683c\u7684\u6578\u64da\u9032\u884c\u63a1\u6a23\u4ee5\u78ba\u5b9a\u63a2\u6e2c\u9ede\u4e4b\u9593\u7684 Z \u503c\uff0c\u4f46\u4f7f\u7528\u66f4\u9ad8\u7d1a\u7684\u63d2\u503c\u6f14\u7b97\u6cd5\u4f86\u63d2\u5165\u984d\u5916\u7684\u9ede\u4ee5\u589e\u52a0\u7db2\u683c\u5bc6\u5ea6\u901a\u5e38\u5f88\u6709\u7528\u3002 \u9019\u4e9b\u6f14\u7b97\u6cd5\u5411\u7db2\u683c\u65b0\u589e\u66f2\u7387\uff0c\u8a66\u5716\u6a21\u64ec\u5e8a\u7684\u6750\u6599\u5c6c\u6027\u3002 \u7db2\u5e8a\u63d0\u4f9b\u4e86\u62c9\u683c\u6717\u65e5\u548c\u96d9\u4e09\u6b21\u63d2\u503c\u4f86\u5be6\u73fe\u9019\u4e00\u9ede\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 mesh_pps: 2, 3 algorithm: bicubic bicubic_tension: 0.2 mesh_pps: 2,3 \u9810\u8a2d\u503c\uff1a2,2 mesh_pps \u9078\u9805\u662f\u6bcf\u6bb5\u7684\u7db2\u683c\u9ede\u6578\u7684\u7c21\u5beb\u3002 \u6b64\u9078\u9805\u6307\u5b9a\u6cbf x \u8ef8\u548c y \u8ef8\u70ba\u6bcf\u500b\u7dda\u6bb5\u63d2\u503c\u7684\u9ede\u6578\u3002 \u300c\u6bb5\u300d\u88ab\u8996\u70ba\u6bcf\u500b\u63a2\u6e2c\u9ede\u4e4b\u9593\u7684\u9593\u9694\u3002 \u8207 probe_count \u4e00\u6a23\uff0c mesh_pps \u53ef\u4ee5\u662f X, Y \u6574\u6578\u5c0d\uff0c\u4e5f\u53ef\u4ee5\u662f\u540c\u6642\u61c9\u7528\u65bc\u5169\u500b\u8ef8\u7684\u55ae\u500b\u6574\u6578\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6cbf X \u8ef8\u6709 4 \u500b\u7dda\u6bb5\uff0c\u6cbf Y \u8ef8\u6709 2 \u500b\u7dda\u6bb5\u3002 \u9019\u8a08\u7b97\u70ba\u6cbf X \u7684 8 \u500b\u63d2\u503c\u9ede\uff0c\u6cbf Y \u7684 6 \u500b\u63d2\u503c\u9ede\uff0c\u5f9e\u800c\u7522\u751f 13x8 \u7db2\u683c\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c mesh_pps \u8a2d\u5b9a\u70ba 0\uff0c\u5247\u7981\u7528\u7db2\u683c\u63d2\u503c\uff0c\u4e26\u4e14\u5c07\u76f4\u63a5\u5c0d\u63a2\u6e2c\u7db2\u683c\u9032\u884c\u63a1\u6a23\u3002 algorithm: lagrange \u9810\u8a2d\u503c\uff1alagrange \u7528\u65bc\u63d2\u5165\u7db2\u683c\u7684\u6f14\u7b97\u6cd5\u3002 \u53ef\u80fd\u662f lagrange or bicubic \u3002 \u62c9\u683c\u6717\u65e5\u63d2\u503c\u6700\u591a\u70ba 6 \u500b\u63a2\u6e2c\u9ede\uff0c\u56e0\u70ba\u5927\u91cf\u6a23\u672c\u5bb9\u6613\u767c\u751f\u632f\u76ea\u3002 \u96d9\u4e09\u6b21\u63d2\u503c\u8981\u6c42\u6cbf\u6bcf\u500b\u8ef8\u81f3\u5c11\u6709 4 \u500b\u63a2\u6e2c\u9ede\uff0c\u5982\u679c\u6307\u5b9a\u7684\u9ede\u5c11\u65bc 4 \u500b\uff0c\u5247\u5f37\u5236\u62c9\u683c\u6717\u65e5\u63a1\u6a23\u3002 \u5982\u679c mesh_pps \u8a2d\u5b9a\u70ba 0\uff0c\u5247\u8a72\u503c\u5c07\u88ab\u5ffd\u7565\uff0c\u56e0\u70ba\u6c92\u6709\u9032\u884c\u7db2\u683c\u63d2\u503c\u3002 bicubic_tension: 0.2 \u9810\u8a2d\u503c\uff1a0.2 \u96d9\u4e09\u6b21\u63d2\u503c\u7684\u5f35\u529b\u503c\u3002\u5982\u679c algorithm \u9078\u9805\u8a2d\u5b9a\u70ba\u96d9\u4e09\u6b21\uff0c\u5247\u53ef\u4ee5\u6307\u5b9a\u5f35\u529b\u503c\u3002 \u5f35\u529b\u8d8a\u9ad8\uff0c\u5167\u63d2\u7684\u659c\u7387\u8d8a\u5927\u3002 \u8abf\u6574\u6642\u8981\u5c0f\u5fc3\uff0c\u56e0\u70ba\u8f03\u9ad8\u7684\u503c\u4e5f\u6703\u7522\u751f\u66f4\u591a\u7684\u904e\u6c96\uff0c\u9019\u5c07\u5c0e\u81f4\u63d2\u503c\u9ad8\u65bc\u6216\u4f4e\u65bc\u63a2\u6e2c\u9ede\u3002 \u4e0b\u5716\u986f\u793a\u77ad\u5982\u4f55\u4f7f\u7528\u4e0a\u8ff0\u9078\u9805\u7522\u751f\u7db2\u683c\u63d2\u503c\u3002 \u79fb\u52d5\u62c6\u5206 \u00b6 \u5e8a\u7db2\u7684\u5de5\u4f5c\u539f\u7406\u662f\u6514\u622a G \u7a0b\u5f0f\u78bc\u79fb\u52d5\u547d\u4ee4\u4e26\u5c0d\u5176 Z \u5ea7\u6a19\u9032\u884c\u8b8a\u63db\u3002\u9577\u7684\u79fb\u52d5\u5fc5\u9808\u88ab\u5206\u5272\u6210\u8f03\u5c0f\u7684\u79fb\u52d5\u4ee5\u6b63\u78ba\u5730\u9075\u5faa\u5e8a\u7684\u5f62\u72c0\u3002\u4e0b\u9762\u7684\u9078\u9805\u53ef\u4ee5\u63a7\u5236\u5206\u5272\u7684\u884c\u70ba\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 move_check_distance: 5 split_delta_z: .025 move_check_distance: 5 \u9810\u8a2d\u503c\uff1a5 \u5728\u57f7\u884c\u62c6\u5206\u4e4b\u524d\u6aa2\u67e5 Z \u4e2d\u9700\u8981\u8b8a\u5316\u7684\u6700\u5c0f\u8ddd\u96e2\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6f14\u7b97\u6cd5\u5c07\u904d\u6b77\u8d85\u904e 5 \u6beb\u7c73\u7684\u79fb\u52d5\u3002 \u6bcf 5mm \u5c07\u67e5\u8a62\u4e00\u6b21\u7db2\u683c\u7684Z \uff0c\u4e26\u5c07\u5176\u8207\u524d\u4e00\u6b21\u79fb\u52d5\u7684 Z \u503c\u9032\u884c\u6bd4\u8f03\u3002 \u5982\u679c\u4e09\u89d2\u6d32\u6eff\u8db3 split_delta_z \u8a2d\u5b9a\u7684\u95be\u503c\uff0c\u5247\u79fb\u52d5\u5c07\u88ab\u62c6\u5206\u4e26\u7e7c\u7e8c\u904d\u6b77\u3002 \u91cd\u8907\u6b64\u904e\u7a0b\uff0c\u76f4\u5230\u5230\u9054\u79fb\u52d5\u7d50\u675f\u8655\uff0c\u5728\u6b64\u5c07\u61c9\u7528\u6700\u7d42\u8abf\u6574\u3002 \u6bd4 move_check_distance \u77ed\u7684\u79fb\u52d5\u5c07\u6b63\u78ba\u7684 Z \u8abf\u6574\u76f4\u63a5\u61c9\u7528\u65bc\u79fb\u52d5\uff0c\u7121\u9700\u904d\u6b77\u6216\u62c6\u5206\u3002 split_delta_z: .025 \u9810\u8a2d\u503c\uff1a.025 \u5982\u4e0a\u6240\u8ff0\uff0c\u9019\u662f\u89f8\u767c\u79fb\u52d5\u62c6\u5206\u6240\u9700\u7684\u6700\u5c0f\u504f\u5dee\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u4efb\u4f55\u504f\u5dee\u70ba +/- .025 mm\u7684 Z \u503c\u90fd\u5c07\u89f8\u767c\u62c6\u5206\u3002 \u4e00\u822c\u4f86\u8aaa\uff0c\u9019\u4e9b\u9078\u9805\u7684\u9810\u8a2d\u503c\u5c31\u8db3\u5920\u4e86\uff0c\u4f46\u4e8b\u5be6\u4e0a\uff0c move_check_distance \u7684\u9810\u8a2d\u503c 5mm \u53ef\u80fd\u6703\u6709\u9ede\u904e\u5ea6\u77ef\u6b63\u3002 \u6240\u4ee5\uff0c\u9ad8\u968e\u53ef\u80fd\u5e0c\u671b\u5617\u8a66\u4f7f\u7528\u9019\u500b\u9078\u9805\u4f86\u7372\u5f97\u64e0\u51fa\u6700\u4f73\u7684\u7b2c\u4e00\u5c64\u3002 \u7db2\u683c\u6de1\u51fa \u00b6 \u555f\u7528\u300c\u7db2\u683c\u6de1\u51fa\u300d\u540e\uff0cZ \u8ef8\u7684\u8abf\u6574\u5c07\u5728\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u7684\u8ddd\u96e2\u7bc4\u570d\u5167\u9010\u6b65\u6d88\u5931\u3002 \u9019\u662f\u901a\u904e\u5c0d\u5c64\u9ad8\u9032\u884c\u5c0f\u5e45\u8abf\u6574\u4f86\u5be6\u73fe\u7684\uff0c\u6839\u64da\u5e8a\u7684\u5f62\u72c0\u589e\u52a0\u6216\u6e1b\u5c11\u3002 \u7db2\u683c\u6de1\u51fa\u5b8c\u6210\u5f8c\uff0c\u4e0d\u518d\u4f7f\u7528 Z \u8abf\u6574\uff0c\u4f7f\u5217\u5370\u7684\u8868\u9762\u662f\u5e73\u5766\u7684\u800c\u4e0d\u662f\u5e8a\u5f4e\u66f2\u7684\u5f62\u72c0\u3002 \u7db2\u683c\u6de1\u51fa\u4e5f\u53ef\u80fd\u6703\u7522\u751f\u4e00\u4e9b\u4e0d\u826f\u8868\u73fe\uff0c\u5982\u679c\u7db2\u683c\u6de1\u51fa\u904e\u5feb\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u5217\u5370\u4ef6\u4e0a\u51fa\u73fe\u53ef\u898b\u7684\u7455\u75b5\uff08\u507d\u5f71\uff09\u3002 \u6b64\u5916\uff0c\u5982\u679c\u60a8\u7684\u5e8a\u660e\u986f\u8b8a\u5f62\uff0c\u7db2\u683c\u6de1\u51fa\u6703\u7e2e\u5c0f\u6216\u62c9\u4f38\u5217\u5370\u4ef6\u7684 Z \u9ad8\u5ea6\u3002 \u56e0\u6b64\uff0c\u9810\u8a2d\u60c5\u6cc1\u4e0b\u7981\u7528\u7db2\u683c\u6de1\u51fa\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 fade_start: 1 fade_end: 10 fade_target: 0 fade_start: 1 \u9810\u8a2d\u503c\uff1a1 \u958b\u59cb\u7db2\u683c\u6de1\u51fa\u7684\u503c\uff0c\u5728\u8a2d\u5b9a\u7684fade_start\u503c\u4e4b\u5f8c\u9010\u6b65\u505c\u6b62\u8abf\u6574Z\u7684\u9ad8\u5ea6\u3002 \u5efa\u8b70\u5728\u5217\u5370\u5e7e\u5c64\u4e4b\u5f8c\u518d\u958b\u59cb\u6de1\u51fa\u5c64\u9ad8\u3002 fade_end: 10 \u9810\u8a2d\u503c\uff1a0 \u7db2\u683c\u6de1\u51fa\u5b8c\u6210\u7684 Z \u9ad8\u5ea6\u3002 \u5982\u679c\u6b64\u503c\u4f4e\u65bc fade_start \uff0c\u5247\u7981\u7528\u7db2\u683c\u6de1\u51fa\u3002 \u8a72\u503c\u53ef\u4ee5\u6839\u64da\u5217\u5370\u8868\u9762\u7684\u5f4e\u66f2\u7a0b\u5ea6\u9032\u884c\u8abf\u6574\u3002 \u660e\u986f\u5f4e\u66f2\u7684\u8868\u9762\u61c9\u8a72\u5728\u5c07\u7db2\u683c\u6de1\u51fa\u7684\u8ddd\u96e2\u9577\u3002 \u63a5\u8fd1\u5e73\u5766\u7684\u8868\u9762\u53ef\u80fd\u80fd\u5920\u964d\u4f4e\u8a72\u503c\u4ee5\u66f4\u5feb\u5730\u9010\u6b65\u6dd8\u6c70\u3002 \u5982\u679c\u5c0d fade_start \u4f7f\u7528\u9810\u8a2d\u503c 1\uff0c\u5247 10mm \u662f\u4e00\u500b\u5408\u7406\u7684\u503c\u3002 fade_target: 0 \u9810\u8a2d\u503c\uff1a\u71b1\u5e8a\u7db2\u683c\u7684\u5e73\u5747Z\u503c fade_target \u662f\u5728\u7db2\u683c\u6de1\u51fa\u5b8c\u6210\u5f8c\u61c9\u7528\u65bc\u6574\u500b\u5e8a\u7684\u984d\u5916 Z \u504f\u79fb\u3002\u4e00 \u822c\u4f86\u8aaa\uff0c\u9019\u500b\u503c\u662f 0\uff0c\u4f46\u6709\u4e9b\u60c5\u6cc1\u4e0b\u5b83\u9700\u8981\u6539\u52d5\u3002 \u4f8b\u5982\uff0c\u60a8\u5728\u71b1\u5e8a\u7684\u6b78\u4f4d\u4f4d\u7f6e\u8207\u5e8a\u7684\u5e73\u5747\u63a2\u6e2c\u9ad8\u5ea6\u6709\u504f\u5dee\uff0c\u5b83\u6bd4\u5e8a\u7684\u5e73\u5747\u63a2\u6e2c\u9ad8\u5ea6\u4f4e 0.2 mm\u3002 \u5982\u679c fade_target \u70ba 0\uff0c\u6de1\u51fa\u6703\u5c07\u6574\u500b\u5e8a\u7684\u5217\u5370\u5e73\u5747\u7e2e\u5c0f 0.2 mm\u3002 \u901a\u904e\u5c07 fade_target \u8a2d\u5b9a\u70ba 0.2\uff0c\u6b78\u4f4d\u7684\u4f4d\u7f6e\u5c07\u64f4\u5927 0.2 \u6beb\u7c73\uff0c\u4f46\u5e8a\u7684\u5176\u9918\u90e8\u5206\u5c07\u5177\u6709\u6e96\u78ba\u7684\u5c3a\u5bf8\u3002 \u4e00\u822c\u4f86\u8aaa\uff0c\u6700\u597d\u4e0d\u8981\u4fee\u6539 fade_target \u800c\u4fee\u6b63\u6a5f\u5668\u672c\u8eab\u5c0e\u81f4\u7684\u8aa4\u5dee\uff0c\u4ee5\u4fbf\u4f7f\u7528\u7db2\u683c\u7684\u5e73\u5747\u9ad8\u5ea6\uff0c\u4f46\u662f\u5982\u679c\u60f3\u8981\u5728\u5e8a\u7684\u7279\u5b9a\u90e8\u5206\u5217\u5370\uff0c\u53ef\u80fd\u9700\u8981\u624b\u52d5\u8abf\u6574\u7db2\u683c\u6de1\u51fa\u3002 \u76f8\u5c0d\u53c3\u8003\u7d22\u5f15 \u00b6 \u5927\u90e8\u5206\u63a2\u91dd\u6aa2\u6e2c\u5230\u7684\u503c\u5bb9\u6613\u7522\u751f\u8aa4\u5dee\uff0c\u5373\uff1a\u7531\u6eab\u5ea6\u6216\u63a2\u6e2c\u4ecb\u8cea\u5e72\u64fe\u7522\u751f\u7684\u63a2\u6e2c\u8aa4\u5dee\u3002 \u9019\u52a0\u5927\u63a2\u91ddZ\u504f\u79fb\u7684\u770b\u8a08\u7b97\u96e3\u5ea6\uff0c\u5c24\u5176\u662f\u5728\u4e0d\u540c\u7684\u71b1\u5e8a\u6eab\u5ea6\u4e0b\u3002 \u56e0\u6b64\uff0c\u4e00\u4e9b\u5370\u8868\u6a5f\u4f7f\u7528\u9650\u4f4d\u958b\u95dc\u4f86\u6b78\u4f4d Z \u8ef8\uff0c\u4e26\u4f7f\u7528\u63a2\u91dd\u4f86\u6821\u6e96\u7db2\u683c\u3002 \u9019\u4e9b\u5370\u8868\u6a5f\u53ef\u4ee5\u5f9e\u914d\u7f6e\u4e2d\u7684\u76f8\u5c0d\u53c3\u8003\u7d22\u5f15\uff08relative_reference_index\uff09\u4e2d\u5c0b\u627e\u5e6b\u52a9\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 relative_reference_index: 7 relative_reference_index: 7 \u9810\u8a2d\u503c\uff1a\u7121\uff08\u7981\u7528\uff09 \u7522\u751f\u63a2\u6e2c\u9ede\u6642\uff0c\u70ba\u6bcf\u500b\u9ede\u5206\u914d\u4e00\u500b\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7db2\u5e8a\u8f38\u51fa\u6216\u5728 klippy.log \u4e2d\u67e5\u8a62\u6b64\u7d22\u5f15\uff08\u6709\u95dc\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1\u4e0b\u9762\u7684\u7db2\u5e8a G\u7a0b\u5f0f\u78bc\u90e8\u5206\uff09\u3002\u5982\u679c\u60a8\u70ba relative_reference_index \u9078\u9805\u5206\u914d\u4e86\u7d22\u5f15\uff0c\u5247\u5728\u8a72\u5ea7\u6a19\u8655\u63a2\u6e2c\u7684\u503c\u5c07\u66ff\u63db\u63a2\u91dd\u7684 Z\u504f\u79fb\u503c\u3002 \u9019\u5c07\u628a\u9019\u500b\u5ea7\u6a19\u4f5c\u70ba\u300c\u96f6\u9ad8\u5ea6\u300d\u7684\u53c3\u8003\u3002 \u4f7f\u7528\u76f8\u5c0d\u53c3\u8003\u6307\u6578\u6642\uff0c\u61c9\u9078\u64c7\u8ddd\u96e2\u5e8a\u8eab Z \u9650\u4f4d\u5668\u6821\u6e96\u9ede\u6700\u8fd1\u7684\u6307\u6578\u3002 \u8acb\u6ce8\u610f\uff0c\u5728\u7db2\u5e8a\u8f38\u51fa\u6216\u5728\u65e5\u8a8c\u4e2d\u67e5\u8a62\u7d22\u5f15\u6642\uff0c\u60a8\u61c9\u8a72\u4f7f\u7528\u300c\u63a2\u91dd\u300d\u6a19\u984c\u4e0b\u5217\u51fa\u7684\u5ea7\u6a19\u4f86\u67e5\u8a62\u6b63\u78ba\u7684\u7d22\u5f15\u3002 \u6545\u969c\u5340\u57df \u00b6 \u7531\u65bc\u7279\u5b9a\u4f4d\u7f6e\u7684\u300c\u6545\u969c\u300d\uff0c\u71b1\u5e8a\u7684\u67d0\u4e9b\u5340\u57df\u5728\u63a2\u6e2c\u6642\u53ef\u80fd\u6703\u5831\u544a\u4e0d\u6e96\u78ba\u7684\u7d50\u679c\u3002 \u6700\u597d\u7684\u4f8b\u5b50\u662f\u5e36\u6709\u7528\u5f48\u7c27\u92fc\u677f\u7684\u78c1\u9435\u71b1\u5e8a\u3002 \u9019\u4e9b\u78c1\u9435\u8655\u548c\u5468\u570d\u7684\u78c1\u5834\u53ef\u80fd\u5e72\u64fe\u63a2\u91dd\u89f8\u767c\u7684\u9ad8\u5ea6\uff0c\u5f9e\u800c\u5c0e\u81f4\u7db2\u683c\u7121\u6cd5\u6e96\u78ba\u8868\u793a\u9019\u4e9b\u4f4d\u7f6e\u7684\u8868\u9762\u3002 \u6ce8\u610f\uff1a\u4e0d\u8981\u8207\u63a2\u982d\u4f4d\u7f6e\u504f\u5dee\u5c0e\u81f4\u63a2\u6e2c\u7d50\u679c\u4e0d\u6e96\u78ba\u7684\u7d50\u679c\u6df7\u6dc6\u3002 \u53ef\u4ee5\u914d\u7f6e faulty_region \u9078\u9805\u4f86\u907f\u514d\u9019\u7a2e\u5f71\u97ff\u3002 \u5982\u679c\u7522\u751f\u7684\u9ede\u4f4d\u65bc\u6545\u969c\u5340\u57df\u5167\uff0c\u71b1\u5e8a\u7db2\u683c\u5c07\u5617\u8a66\u5728\u8a72\u5340\u57df\u7684\u908a\u754c\u8655\u63a2\u6e2c\u6700\u591a 4 \u500b\u9ede\u3002 \u9019\u4e9b\u63a2\u6e2c\u7684\u5e73\u5747\u503c\u5c07\u63d2\u5165\u7db2\u5e8a\u4e2d\u4f5c\u70ba\u7522\u751f\u7684 (X, Y) \u5ea7\u6a19\u8655\u7684 Z \u503c\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 faulty_region_1_min: 130.0, 0.0 faulty_region_1_max: 145.0, 40.0 faulty_region_2_min: 225.0, 0.0 faulty_region_2_max: 250.0, 25.0 faulty_region_3_min: 165.0, 95.0 faulty_region_3_max: 205.0, 110.0 faulty_region_4_min: 30.0, 170.0 faulty_region_4_max: 45.0, 210.0 faulty_region_{1...99}_min faulty_region_{1...99}_max \u9810\u8a2d\u503c\uff1aNone \uff08\u7121\uff09(disabled\uff08\u7981\u7528\uff09) \u6545\u969c\u5340\u57df\u7684\u5b9a\u7fa9\u65b9\u5f0f\u985e\u4f3c\u5e8a\u7db2\u672c\u8eab\uff0c\u5fc5\u9808\u70ba\u6bcf\u500b\u5340\u57df\u6307\u5b9a\u6700\u5c0f\u548c\u6700\u5927\uff08X, Y\uff09\u5ea7\u6a19\u3002\u4e00\u500b\u6545\u969c\u5340\u57df\u53ef\u4ee5\u5ef6\u4f38\u5230\u7db2\u683c\u4e4b\u5916\uff0c\u4f46\u662f\u7522\u751f\u7684\u66ff\u4ee3\u63a2\u6e2c\u9ede\u7e3d\u662f\u5728\u7db2\u683c\u7684\u908a\u754c\u5167\u3002\u5169\u500b\u5340\u57df\u4e0d\u53ef\u4ee5\u91cd\u758a\u3002 \u4e0b\u9762\u7684\u5716\u7247\u8aaa\u660e\u4e86\u7576\u4e00\u500b\u7522\u751f\u7684\u63a2\u6e2c\u9ede\u4f4d\u65bc\u4e00\u500b\u6545\u969c\u5340\u57df\u5167\u6642\uff0c\u5982\u4f55\u7522\u751f\u66ff\u4ee3\u63a2\u6e2c\u9ede\u3002\u6240\u986f\u793a\u7684\u5340\u57df\u8207\u4e0a\u8ff0\u6a23\u672c\u914d\u7f6e\u4e2d\u7684\u5340\u57df\u4e00\u81f4\u3002\u66ff\u4ee3\u9ede\u548c\u5b83\u5011\u7684\u5ea7\u6a19\u4ee5\u7da0\u8272\u6a19\u8b58\u3002 \u5e8a\u7db2 G\u7a0b\u5f0f\u78bc \u00b6 \u6821\u6e96 \u00b6 BED_MESH_CALIBRATE PROFILE=<\u540d\u7a31> METHOD=[manual | automatic] [<probe_parameter>=<\u503c>] [<mesh_parameter>=<\u503c>] \u9810\u8a2d\u914d\u7f6e\uff1adefault \u9810\u8a2d\u65b9\u6cd5\uff1a\u5982\u679c\u6aa2\u6e2c\u5230\u63a2\u91dd\u5247\u81ea\u52d5\uff0c\u5426\u5247\u624b\u52d5 \u555f\u52d5\u5e8a\u7db2\u6821\u6e96\u7684\u63a2\u6e2c\u7a0b\u5f0f\u3002 \u7db2\u683c\u5c07\u88ab\u5132\u5b58\u5230\u7531 PROFILE \u53c3\u6578\u6307\u5b9a\u7684\u914d\u7f6e\u4e2d\uff0c\u5982\u679c\u6c92\u6709\u6307\u5b9a\uff0c\u5247\u4f7f\u7528 default \u3002\u5982\u679c\u9078\u64c7\u4e86 METHOD=manual \uff0c\u90a3\u9ebc\u5c07\u9032\u884c\u624b\u52d5\u63a2\u6e2c\u3002\u5728\u81ea\u52d5\u548c\u624b\u52d5\u63a2\u6e2c\u4e4b\u9593\u5207\u63db\u6642\uff0c\u7522\u751f\u7684\u7db2\u683c\u9ede\u6703\u81ea\u52d5\u8abf\u6574\u3002 \u53ef\u4ee5\u901a\u904e\u6307\u5b9a\u7db2\u683c\u53c3\u6578\u4f86\u4fee\u6539\u63a2\u6e2c\u5340\u57df\u3002\u4ee5\u4e0b\u53c3\u6578\u53ef\u7528\uff1a \u77e9\u5f62\u5217\u5370\u5e8a\uff08\u7b1b\u5361\u723e Cartesian\uff09\uff1a MESH_MIN MESH_MAX PROBE_COUNT \u5713\u5f62\u5217\u5370\u5e8a\uff08\u4e09\u89d2\u6d32 delta\uff09\uff1a MESH_RADIUS MESH_ORIGIN ROUND_PROBE_COUNT \u5168\u90e8\u5217\u5370\u5e8a\uff1a RELATIVE_REFERNCE_INDEX ALGORITHM \u6709\u95dc\u5728\u7db2\u683c\u4e2d\u4f7f\u7528\u7684\u914d\u7f6e\u53c3\u6578\u8a73\u898b\u914d\u7f6e\u6587\u4ef6\u3002 \u914d\u7f6e \u00b6 BED_MESH_PROFILE SAVE=<\u540d\u7a31> LOAD=<\u540d\u7a31> REMOVE=<\u540d\u7a31> \u5728\u57f7\u884c BED_MESH_CALIBRATE \u540e\uff0c\u53ef\u4ee5\u5c07\u76ee\u524d\u7db2\u683c\u72c0\u614b\u5132\u5b58\u5230\u4e00\u500b\u547d\u540d\u7684\u914d\u7f6e\u4e2d\u3002\u9019\u6a23\u4e0d\u9700\u8981\u91cd\u65b0\u63a2\u6e2c\u5217\u5370\u5e8a\u5c31\u53ef\u4ee5\u8f09\u5165\u4e00\u500b\u7db2\u683c\u3002\u5728\u4f7f\u7528 BED_MESH_PROFILE SAVE=<\u540d\u7a31> \u5132\u5b58\u4e86\u4e00\u500b\u914d\u7f6e\u6a94\u6848\u540e\uff0c\u53ef\u4ee5\u57f7\u884c SAVE_CONFIG G\u7a0b\u5f0f\u78bc\u5c07\u914d\u7f6e\u5beb\u5165 printer.cfg\u3002 \u53ef\u4ee5\u901a\u904e\u57f7\u884c BED_MESH_PROFILE LOAD=<\u540d\u7a31> \u4f86\u8f09\u5165\u914d\u7f6e\u3002 \u8acb\u6ce8\u610f\uff0c\u6bcf\u6b21\u57f7\u884c BED_MESH_CALIBRATE \u540e\uff0c\u76ee\u524d\u72c0\u614b\u6703\u88ab\u5132\u5b58\u5230 default \u914d\u7f6e\u3002\u5982\u679c\u9019\u500b\u914d\u7f6e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b58\u5728\uff0c\u5b83\u6703\u5728 Klipper \u555f\u52d5\u6642\u81ea\u52d5\u8f09\u5165\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u9019\u7a2e\u884c\u70ba\uff0c\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u547d\u4ee4\u522a\u9664 default \u914d\u7f6e\uff1a BED_MESH_PROFILE REMOVE=default \u4efb\u4f55\u5176\u4ed6\u5132\u5b58\u7684\u914d\u7f6e\u4e5f\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u522a\u9664\uff0c\u7528\u4f60\u60f3\u522a\u9664\u7684\u914d\u7f6e\u540d\u7a31\u66ff\u63db default \u3002 \u8f38\u51fa \u00b6 BED_MESH_OUTPUT PGP=[0 | 1] \u5c07\u76ee\u524d\u7db2\u683c\u72c0\u614b\u8f38\u51fa\u5230\u7d42\u7aef\u3002\u8acb\u6ce8\u610f\uff0c\u8f38\u51fa\u7684\u662f\u7db2\u683c\u672c\u8eab PGP \u53c3\u6578\u662f\u300c\u5217\u5370\u7522\u751f\u7684\u9ede\u300d\u7684\u7c21\u5beb\u3002\u5982\u679c\u8a2d\u5b9a\u4e86 PGP=1 \uff0c\u7522\u751f\u7684\u63a2\u6e2c\u9ede\u5c07\u8f38\u51fa\u5230\u7d42\u7aef\uff1a // bed_mesh: generated points // Index | Tool Adjusted | Probe // 0 | (11.0, 1.0) | (35.0, 6.0) // 1 | (62.2, 1.0) | (86.2, 6.0) // 2 | (113.5, 1.0) | (137.5, 6.0) // 3 | (164.8, 1.0) | (188.8, 6.0) // 4 | (216.0, 1.0) | (240.0, 6.0) // 5 | (216.0, 97.0) | (240.0, 102.0) // 6 | (164.8, 97.0) | (188.8, 102.0) // 7 | (113.5, 97.0) | (137.5, 102.0) // 8 | (62.2, 97.0) | (86.2, 102.0) // 9 | (11.0, 97.0) | (35.0, 102.0) // 10 | (11.0, 193.0) | (35.0, 198.0) // 11 | (62.2, 193.0) | (86.2, 198.0) // 12 | (113.5, 193.0) | (137.5, 198.0) // 13 | (164.8, 193.0) | (188.8, 198.0) // 14 | (216.0, 193.0) | (240.0, 198.0) \"Tool Adjusted\"\uff08\u5de5\u5177\u8abf\u6574\uff09\u9ede\u6307\u6bcf\u500b\u9ede\u7684\u5674\u5634\u4f4d\u7f6e\uff0c\"Probe\"\uff08\u63a2\u91dd\uff09\u9ede\u6307\u63a2\u982d\u4f4d\u7f6e\u3002\u8acb\u6ce8\u610f\uff0c\u624b\u52d5\u63a2\u6e2c\u6642\"Probe\"\uff08\u63a2\u91dd\uff09\u9ede\u6642\u5c07\u540c\u6642\u6307\u5de5\u5177\u548c\u5674\u5634\u4f4d\u7f6e\u3002 \u6e05\u9664\u7db2\u683c\u72c0\u614b \u00b6 BED_MESH_CLEAR \u6b64 gcode \u53ef\u7528\u65bc\u6e05\u9664\u5167\u90e8\u7db2\u683c\u72c0\u614b\u3002 \u61c9\u7528X/Y\u504f\u79fb\u91cf \u00b6 BED_MESH_OFFSET [X=<value>] [Y=<value>] \u9019\u5c0d\u6709\u591a\u500b\u7368\u7acb\u64e0\u51fa\u982d\u7684\u5370\u8868\u6a5f\u5f88\u6709\u7528\uff0c\u56e0\u70ba\u504f\u79fb\u91cf\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u4fbf\u5728\u66f4\u63db\u5de5\u5177\u540e\u7522\u751f\u6b63\u78ba\u7684Z\u8abf\u6574\u3002\u61c9\u6307\u5b9a\u5b83\u5011\u76f8\u5c0d\u65bc\u4e3b\u64e0\u51fa\u982d\u7684\u504f\u79fb\u91cf\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u5982\u679c\u7b2c\u4e8c\u500b\u64e0\u51fa\u982d\u5b89\u88dd\u5728\u7b2c\u4e00\u500b\u64e0\u51fa\u982d\u7684\u53f3\u908a\uff0c\u61c9\u6307\u5b9a\u4e00\u500b\u6b63\u7684X\u504f\u79fb\u91cf\uff0c\u5982\u679c\u7b2c\u4e8c\u500b\u64e0\u51fa\u982d\u5b89\u88dd\u5728\u7b2c\u4e00\u500b\u64e0\u51fa\u982d\u7684 \"\u5f8c\u9762\"\uff0c\u61c9\u6307\u5b9a\u4e00\u500b\u6b63\u7684Y\u504f\u79fb\u91cf\u3002","title":"\u5e8a\u7db2"},{"location":"Bed_Mesh.html#_1","text":"\u7db2\u5e8a \u5916\u639b\u53ef\u7528\u65bc\u88dc\u511f\u71b1\u5e8a\u8868\u9762\u7684\u4e0d\u898f\u5247\u6027\uff0c\u4ee5\u4fdd\u8b49\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u7372\u5f97\u66f4\u597d\u7684\u7b2c\u4e00\u5c64\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u57fa\u65bc\u8edf\u9ad4\u7684\u6821\u6b63\u9084\u4e0d\u80fd\u9054\u5230\u5b8c\u7f8e\u7684\u7a0b\u5ea6\uff0c\u5b83\u53ea\u80fd\u5118\u53ef\u80fd\u9054\u5230\u5e8a\u7684\u5f62\u72c0\u3002\u7db2\u5e8a \u4e5f\u7121\u6cd5\u88dc\u511f\u6a5f\u68b0\u548c\u96fb\u6c23\u5c0e\u81f4\u7684\u554f\u984c\u3002 \u5982\u679c\u6a5f\u5668\u6c92\u88dd\u597d\u7d50\u69cb\u6b6a\u4e86\u6216\u63a2\u91dd\u4e0d\u6e96\u78ba\uff0c\u5247 \u7db2\u5e8a \u6a21\u7d44\u5c07\u7121\u6cd5\u5f9e\u63a2\u6e2c\u904e\u7a0b\u4e2d\u7372\u5f97\u4ee4\u4eba\u6eff\u610f\u7684\u7d50\u679c\u3002 \u5728\u9032\u884c\u7db2\u683c\u6821\u6e96\u4e4b\u524d\uff0c\u9700\u8981\u5148\u6821\u6e96\u63a2\u91dd\u7684 Z \u504f\u79fb\u3002\u5982\u679c\u4f7f\u7528\u9650\u4f4d\u958b\u95dc\u9032\u884cZ\u8ef8\u5b9a\u4f4d\uff0c\u4e5f\u9700\u8981\u5c0d\u5176\u9032\u884c\u6821\u6e96\u3002\u8acb\u53c3\u95b1 \u63a2\u91dd\u6821\u6e96 \u548c \u624b\u52d5\u8abf\u5e73 \u4e2d\u7684 Z_ENDSTOP_CALIBRATE \u7372\u53d6\u66f4\u591a\u8cc7\u8a0a\u3002","title":"\u5e8a\u7db2"},{"location":"Bed_Mesh.html#_2","text":"","title":"\u57fa\u672c\u914d\u7f6e"},{"location":"Bed_Mesh.html#_3","text":"\u6b64\u793a\u4f8b\u5047\u5b9a\u5370\u8868\u6a5f\u5177\u6709 250 mm x 220 mm \u77e9\u5f62\u5e8a\u548c\u4e00\u500b x \u504f\u79fb\u70ba 24 mm\u548c y \u504f\u79fb\u70ba 5 mm\u7684\u63a2\u91dd\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 speed: 120 \u9810\u8a2d\u503c\uff1a50 \u63a2\u91dd\u5728\u5169\u500b\u9ede\u4e4b\u9593\u79fb\u52d5\u7684\u901f\u5ea6\u3002 horizontal_move_z: 5 \u9810\u8a2d\u503c\uff1a5 \u63a2\u91dd\u524d\u5f80\u4e0b\u4e00\u500b\u9ede\u4e4b\u524dZ\u9700\u8981\u62ac\u5347\u7684\u9ad8\u5ea6\u3002 mesh_min: 35,6 \uff08\u5fc5\u9808\u5b58\u5728\uff09 \u7b2c\u4e00\u500b\u63a2\u6e2c\u7684\u5ea7\u6a19\uff0c\u8ddd\u96e2\u539f\u9ede\u6700\u8fd1\u3002\u8a72\u5ea7\u6a19\u5c31\u662f\u63a2\u91dd\u6240\u5728\u7684\u4f4d\u7f6e\u3002 mesh_max: 240,198 \u5fc5\u9808\u914d\u7f6e \u8ddd\u96e2\u539f\u9ede\u6700\u9060\u7684\u63a2\u6e2c\u5ea7\u6a19\u3002 \u9019\u4e0d\u4e00\u5b9a\u662f\u6700\u5f8c\u4e00\u500b\u63a2\u6e2c\u9ede\uff0c\u56e0\u70ba\u63a2\u6e2c\u6703\u4ee5\u92f8\u9f52\u5f62\u7684\u65b9\u5f0f\u904b\u52d5\u3002 \u8207 mesh_min \u4e00\u6a23\uff0c\u9019\u500b\u5ea7\u6a19\u76f8\u5c0d\u65bc\u63a2\u91dd\u3002 probe_count: 5, 3 \u9810\u8a2d\u503c\uff1a3, 3 \u6bcf\u500b\u8ef8\u4e0a\u8981\u63a2\u6e2c\u7684\u9ede\u6578\uff0c\u6307\u5b9a\u70ba X, Y \u6574\u6578\u503c\u3002 \u5728\u672c\u793a\u4f8b\u4e2d\uff0c\u5c07\u6cbf X \u8ef8\u63a2\u6e2c 5 \u500b\u9ede\uff0c\u6cbf Y \u8ef8\u63a2\u6e2c 3 \u500b\u9ede\uff0c\u7e3d\u5171\u63a2\u6e2c 15 \u500b\u9ede\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u60f3\u8981\u4e00\u500b\u65b9\u5f62\u7db2\u683c\uff0c\u4f8b\u5982 3x3\uff0c\u53ef\u4ee5\u5c07\u6307\u5b9a\u5176\u70ba\u4e00\u500b\u6574\u6578\u503c\uff0c\u6bd4\u5982 probe_count: 3 \u3002 \u8acb\u6ce8\u610f\uff0c\u7db2\u683c\u9700\u8981\u6cbf\u6bcf\u500b\u8ef8\u7684\u6700\u5c0f probe_count \u70ba3\u3002 \u4e0b\u5716\u6f14\u793a\u77ad\u5982\u4f55\u4f7f\u7528 mesh_min \u3001 mesh_max \u548c probe_count \u9078\u9805\u4f86\u7522\u751f\u63a2\u6e2c\u9ede\u3002 \u7bad\u982d\u8868\u793a\u63a2\u6e2c\u904e\u7a0b\u7684\u904b\u52d5\u65b9\u5411\uff0c\u5f9e\u300cmesh_min\u300d\u958b\u59cb\u3002 \u5716\u4e2d\u6240\u793a\uff0c\u7576\u63a2\u91dd\u4f4d\u65bc\u300cmesh_min\u300d\u6642\uff0c\u5674\u5634\u5c07\u4f4d\u65bc (11, 1)\uff0c\u7576\u63a2\u91dd\u4f4d\u65bc\u300cmesh_max\u300d\u6642\uff0c\u5674\u5634\u5c07\u4f4d\u65bc (206, 193)\u3002","title":"\u77e9\u5f62\u5e8a"},{"location":"Bed_Mesh.html#_4","text":"\u672c\u793a\u4f8b\u5047\u8a2d\u5370\u8868\u6a5f\u914d\u5099\u7684\u5713\u5e8a\u534a\u5f91\u70ba 100 mm\u3002 \u6211\u5011\u5c07\u4f7f\u7528\u8207\u77e9\u5f62\u7db2\u5e8a\u793a\u4f8b\u76f8\u540c\u7684\u63a2\u91dd\u504f\u79fb\u4f86\u6f14\u793a\uff0cX \u504f\u79fb\u70ba 24 mm\uff0cY \u504f\u79fb\u70ba 5 mm\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_radius: 75 mesh_origin: 0, 0 round_probe_count: 5 mesh_radius: 75 \u5fc5\u9808\u914d\u7f6e \u63a2\u6e2c\u7db2\u683c\u7bc4\u570d\u7684\u534a\u5f91\uff08\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\uff09\uff0c\u76f8\u5c0d\u65bc mesh_origin \u3002 \u8acb\u6ce8\u610f\uff0c\u63a2\u91dd\u7684\u504f\u79fb\u6703\u9650\u5236\u7db2\u683c\u534a\u5f91\u7684\u5927\u5c0f\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u5927\u65bc 76 mm\u7684\u534a\u5f91\u6703\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u5370\u8868\u6a5f\u7684\u7bc4\u570d\u4e4b\u5916\u3002 mesh_origin: 0, 0 \u9810\u8a2d\u503c\uff1a0, 0 \u63a2\u6e2c\u7db2\u683c\u7684\u4e2d\u5fc3\u9ede\u3002 \u8a72\u5ea7\u6a19\u76f8\u5c0d\u65bc\u63a2\u91dd\u7684\u4f4d\u7f6e\u3002 \u96d6\u7136\u9810\u8a2d\u503c\u70ba 0,0\uff0c\u4f46\u5982\u679c\u5e0c\u671b\u63a2\u6e2c\u5e8a\u7684\u908a\u89d2\u53ef\u4ee5\u4fee\u6539\u8a72\u503c\u3002 \u8acb\u53c3\u95b1\u4e0b\u5716\u3002 round_probe_count: 5 \u9810\u8a2d\u503c\uff1a 5 \u9019\u662f\u4e00\u500b\u6574\u6578\u503c\uff0c\u7528\u65bc\u9650\u5236\u6cbf X \u8ef8\u548c Y \u8ef8\u7684\u6700\u5927\u63a2\u6e2c\u9ede\u6578\u3002 \u300c\u6700\u5927\u300d\u662f\u6307\u6cbf\u7db2\u683c\u539f\u9ede\u63a2\u6e2c\u7684\u9ede\u6578\u3002 \u8a72\u503c\u5fc5\u9808\u662f\u5947\u6578\uff0c\u56e0\u70ba\u9700\u8981\u63a2\u6e2c\u7db2\u683c\u7684\u4e2d\u5fc3\u3002 \u4e0b\u5716\u5c55\u793a\u77ad\u5982\u4f55\u7522\u751f\u63a2\u6e2c\u9ede\u3002 \u5982\u60a8\u6240\u898b\uff0c\u5c07 mesh_origin \u8a2d\u5b9a\u70ba (-10, 0) \u5141\u8a31\u6211\u5011\u6307\u5b9a\u66f4\u5927\u7684\u7db2\u683c\u534a\u5f91 85mm\u3002","title":"\u5713\u5f62\u5e8a"},{"location":"Bed_Mesh.html#_5","text":"\u4e0b\u9762\u8a73\u7d30\u89e3\u91cb\u4e86\u66f4\u9ad8\u7d1a\u7684\u914d\u7f6e\u9078\u9805\u3002 \u6bcf\u500b\u793a\u4f8b\u90fd\u5c07\u5efa\u7acb\u5728\u4e0a\u9762\u986f\u793a\u7684\u57fa\u672c\u77e9\u5f62\u5e8a\u914d\u7f6e\u4e4b\u4e0a\u3002 \u6bcf\u500b\u9ad8\u7d1a\u9078\u9805\u90fd\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u61c9\u7528\u65bc\u5713\u5e8a\u3002","title":"\u9ad8\u7d1a\u914d\u7f6e"},{"location":"Bed_Mesh.html#_6","text":"\u96d6\u7136\u53ef\u4ee5\u4f7f\u7528\u7c21\u55ae\u7684\u96d9\u7dda\u6027\u63d2\u503c\u76f4\u63a5\u5c0d\u63a2\u6e2c\u7db2\u683c\u7684\u6578\u64da\u9032\u884c\u63a1\u6a23\u4ee5\u78ba\u5b9a\u63a2\u6e2c\u9ede\u4e4b\u9593\u7684 Z \u503c\uff0c\u4f46\u4f7f\u7528\u66f4\u9ad8\u7d1a\u7684\u63d2\u503c\u6f14\u7b97\u6cd5\u4f86\u63d2\u5165\u984d\u5916\u7684\u9ede\u4ee5\u589e\u52a0\u7db2\u683c\u5bc6\u5ea6\u901a\u5e38\u5f88\u6709\u7528\u3002 \u9019\u4e9b\u6f14\u7b97\u6cd5\u5411\u7db2\u683c\u65b0\u589e\u66f2\u7387\uff0c\u8a66\u5716\u6a21\u64ec\u5e8a\u7684\u6750\u6599\u5c6c\u6027\u3002 \u7db2\u5e8a\u63d0\u4f9b\u4e86\u62c9\u683c\u6717\u65e5\u548c\u96d9\u4e09\u6b21\u63d2\u503c\u4f86\u5be6\u73fe\u9019\u4e00\u9ede\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 mesh_pps: 2, 3 algorithm: bicubic bicubic_tension: 0.2 mesh_pps: 2,3 \u9810\u8a2d\u503c\uff1a2,2 mesh_pps \u9078\u9805\u662f\u6bcf\u6bb5\u7684\u7db2\u683c\u9ede\u6578\u7684\u7c21\u5beb\u3002 \u6b64\u9078\u9805\u6307\u5b9a\u6cbf x \u8ef8\u548c y \u8ef8\u70ba\u6bcf\u500b\u7dda\u6bb5\u63d2\u503c\u7684\u9ede\u6578\u3002 \u300c\u6bb5\u300d\u88ab\u8996\u70ba\u6bcf\u500b\u63a2\u6e2c\u9ede\u4e4b\u9593\u7684\u9593\u9694\u3002 \u8207 probe_count \u4e00\u6a23\uff0c mesh_pps \u53ef\u4ee5\u662f X, Y \u6574\u6578\u5c0d\uff0c\u4e5f\u53ef\u4ee5\u662f\u540c\u6642\u61c9\u7528\u65bc\u5169\u500b\u8ef8\u7684\u55ae\u500b\u6574\u6578\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6cbf X \u8ef8\u6709 4 \u500b\u7dda\u6bb5\uff0c\u6cbf Y \u8ef8\u6709 2 \u500b\u7dda\u6bb5\u3002 \u9019\u8a08\u7b97\u70ba\u6cbf X \u7684 8 \u500b\u63d2\u503c\u9ede\uff0c\u6cbf Y \u7684 6 \u500b\u63d2\u503c\u9ede\uff0c\u5f9e\u800c\u7522\u751f 13x8 \u7db2\u683c\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c mesh_pps \u8a2d\u5b9a\u70ba 0\uff0c\u5247\u7981\u7528\u7db2\u683c\u63d2\u503c\uff0c\u4e26\u4e14\u5c07\u76f4\u63a5\u5c0d\u63a2\u6e2c\u7db2\u683c\u9032\u884c\u63a1\u6a23\u3002 algorithm: lagrange \u9810\u8a2d\u503c\uff1alagrange \u7528\u65bc\u63d2\u5165\u7db2\u683c\u7684\u6f14\u7b97\u6cd5\u3002 \u53ef\u80fd\u662f lagrange or bicubic \u3002 \u62c9\u683c\u6717\u65e5\u63d2\u503c\u6700\u591a\u70ba 6 \u500b\u63a2\u6e2c\u9ede\uff0c\u56e0\u70ba\u5927\u91cf\u6a23\u672c\u5bb9\u6613\u767c\u751f\u632f\u76ea\u3002 \u96d9\u4e09\u6b21\u63d2\u503c\u8981\u6c42\u6cbf\u6bcf\u500b\u8ef8\u81f3\u5c11\u6709 4 \u500b\u63a2\u6e2c\u9ede\uff0c\u5982\u679c\u6307\u5b9a\u7684\u9ede\u5c11\u65bc 4 \u500b\uff0c\u5247\u5f37\u5236\u62c9\u683c\u6717\u65e5\u63a1\u6a23\u3002 \u5982\u679c mesh_pps \u8a2d\u5b9a\u70ba 0\uff0c\u5247\u8a72\u503c\u5c07\u88ab\u5ffd\u7565\uff0c\u56e0\u70ba\u6c92\u6709\u9032\u884c\u7db2\u683c\u63d2\u503c\u3002 bicubic_tension: 0.2 \u9810\u8a2d\u503c\uff1a0.2 \u96d9\u4e09\u6b21\u63d2\u503c\u7684\u5f35\u529b\u503c\u3002\u5982\u679c algorithm \u9078\u9805\u8a2d\u5b9a\u70ba\u96d9\u4e09\u6b21\uff0c\u5247\u53ef\u4ee5\u6307\u5b9a\u5f35\u529b\u503c\u3002 \u5f35\u529b\u8d8a\u9ad8\uff0c\u5167\u63d2\u7684\u659c\u7387\u8d8a\u5927\u3002 \u8abf\u6574\u6642\u8981\u5c0f\u5fc3\uff0c\u56e0\u70ba\u8f03\u9ad8\u7684\u503c\u4e5f\u6703\u7522\u751f\u66f4\u591a\u7684\u904e\u6c96\uff0c\u9019\u5c07\u5c0e\u81f4\u63d2\u503c\u9ad8\u65bc\u6216\u4f4e\u65bc\u63a2\u6e2c\u9ede\u3002 \u4e0b\u5716\u986f\u793a\u77ad\u5982\u4f55\u4f7f\u7528\u4e0a\u8ff0\u9078\u9805\u7522\u751f\u7db2\u683c\u63d2\u503c\u3002","title":"\u7db2\u683c\u63d2\u503c"},{"location":"Bed_Mesh.html#_7","text":"\u5e8a\u7db2\u7684\u5de5\u4f5c\u539f\u7406\u662f\u6514\u622a G \u7a0b\u5f0f\u78bc\u79fb\u52d5\u547d\u4ee4\u4e26\u5c0d\u5176 Z \u5ea7\u6a19\u9032\u884c\u8b8a\u63db\u3002\u9577\u7684\u79fb\u52d5\u5fc5\u9808\u88ab\u5206\u5272\u6210\u8f03\u5c0f\u7684\u79fb\u52d5\u4ee5\u6b63\u78ba\u5730\u9075\u5faa\u5e8a\u7684\u5f62\u72c0\u3002\u4e0b\u9762\u7684\u9078\u9805\u53ef\u4ee5\u63a7\u5236\u5206\u5272\u7684\u884c\u70ba\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 move_check_distance: 5 split_delta_z: .025 move_check_distance: 5 \u9810\u8a2d\u503c\uff1a5 \u5728\u57f7\u884c\u62c6\u5206\u4e4b\u524d\u6aa2\u67e5 Z \u4e2d\u9700\u8981\u8b8a\u5316\u7684\u6700\u5c0f\u8ddd\u96e2\u3002 \u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6f14\u7b97\u6cd5\u5c07\u904d\u6b77\u8d85\u904e 5 \u6beb\u7c73\u7684\u79fb\u52d5\u3002 \u6bcf 5mm \u5c07\u67e5\u8a62\u4e00\u6b21\u7db2\u683c\u7684Z \uff0c\u4e26\u5c07\u5176\u8207\u524d\u4e00\u6b21\u79fb\u52d5\u7684 Z \u503c\u9032\u884c\u6bd4\u8f03\u3002 \u5982\u679c\u4e09\u89d2\u6d32\u6eff\u8db3 split_delta_z \u8a2d\u5b9a\u7684\u95be\u503c\uff0c\u5247\u79fb\u52d5\u5c07\u88ab\u62c6\u5206\u4e26\u7e7c\u7e8c\u904d\u6b77\u3002 \u91cd\u8907\u6b64\u904e\u7a0b\uff0c\u76f4\u5230\u5230\u9054\u79fb\u52d5\u7d50\u675f\u8655\uff0c\u5728\u6b64\u5c07\u61c9\u7528\u6700\u7d42\u8abf\u6574\u3002 \u6bd4 move_check_distance \u77ed\u7684\u79fb\u52d5\u5c07\u6b63\u78ba\u7684 Z \u8abf\u6574\u76f4\u63a5\u61c9\u7528\u65bc\u79fb\u52d5\uff0c\u7121\u9700\u904d\u6b77\u6216\u62c6\u5206\u3002 split_delta_z: .025 \u9810\u8a2d\u503c\uff1a.025 \u5982\u4e0a\u6240\u8ff0\uff0c\u9019\u662f\u89f8\u767c\u79fb\u52d5\u62c6\u5206\u6240\u9700\u7684\u6700\u5c0f\u504f\u5dee\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u4efb\u4f55\u504f\u5dee\u70ba +/- .025 mm\u7684 Z \u503c\u90fd\u5c07\u89f8\u767c\u62c6\u5206\u3002 \u4e00\u822c\u4f86\u8aaa\uff0c\u9019\u4e9b\u9078\u9805\u7684\u9810\u8a2d\u503c\u5c31\u8db3\u5920\u4e86\uff0c\u4f46\u4e8b\u5be6\u4e0a\uff0c move_check_distance \u7684\u9810\u8a2d\u503c 5mm \u53ef\u80fd\u6703\u6709\u9ede\u904e\u5ea6\u77ef\u6b63\u3002 \u6240\u4ee5\uff0c\u9ad8\u968e\u53ef\u80fd\u5e0c\u671b\u5617\u8a66\u4f7f\u7528\u9019\u500b\u9078\u9805\u4f86\u7372\u5f97\u64e0\u51fa\u6700\u4f73\u7684\u7b2c\u4e00\u5c64\u3002","title":"\u79fb\u52d5\u62c6\u5206"},{"location":"Bed_Mesh.html#_8","text":"\u555f\u7528\u300c\u7db2\u683c\u6de1\u51fa\u300d\u540e\uff0cZ \u8ef8\u7684\u8abf\u6574\u5c07\u5728\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u7684\u8ddd\u96e2\u7bc4\u570d\u5167\u9010\u6b65\u6d88\u5931\u3002 \u9019\u662f\u901a\u904e\u5c0d\u5c64\u9ad8\u9032\u884c\u5c0f\u5e45\u8abf\u6574\u4f86\u5be6\u73fe\u7684\uff0c\u6839\u64da\u5e8a\u7684\u5f62\u72c0\u589e\u52a0\u6216\u6e1b\u5c11\u3002 \u7db2\u683c\u6de1\u51fa\u5b8c\u6210\u5f8c\uff0c\u4e0d\u518d\u4f7f\u7528 Z \u8abf\u6574\uff0c\u4f7f\u5217\u5370\u7684\u8868\u9762\u662f\u5e73\u5766\u7684\u800c\u4e0d\u662f\u5e8a\u5f4e\u66f2\u7684\u5f62\u72c0\u3002 \u7db2\u683c\u6de1\u51fa\u4e5f\u53ef\u80fd\u6703\u7522\u751f\u4e00\u4e9b\u4e0d\u826f\u8868\u73fe\uff0c\u5982\u679c\u7db2\u683c\u6de1\u51fa\u904e\u5feb\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u5217\u5370\u4ef6\u4e0a\u51fa\u73fe\u53ef\u898b\u7684\u7455\u75b5\uff08\u507d\u5f71\uff09\u3002 \u6b64\u5916\uff0c\u5982\u679c\u60a8\u7684\u5e8a\u660e\u986f\u8b8a\u5f62\uff0c\u7db2\u683c\u6de1\u51fa\u6703\u7e2e\u5c0f\u6216\u62c9\u4f38\u5217\u5370\u4ef6\u7684 Z \u9ad8\u5ea6\u3002 \u56e0\u6b64\uff0c\u9810\u8a2d\u60c5\u6cc1\u4e0b\u7981\u7528\u7db2\u683c\u6de1\u51fa\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 fade_start: 1 fade_end: 10 fade_target: 0 fade_start: 1 \u9810\u8a2d\u503c\uff1a1 \u958b\u59cb\u7db2\u683c\u6de1\u51fa\u7684\u503c\uff0c\u5728\u8a2d\u5b9a\u7684fade_start\u503c\u4e4b\u5f8c\u9010\u6b65\u505c\u6b62\u8abf\u6574Z\u7684\u9ad8\u5ea6\u3002 \u5efa\u8b70\u5728\u5217\u5370\u5e7e\u5c64\u4e4b\u5f8c\u518d\u958b\u59cb\u6de1\u51fa\u5c64\u9ad8\u3002 fade_end: 10 \u9810\u8a2d\u503c\uff1a0 \u7db2\u683c\u6de1\u51fa\u5b8c\u6210\u7684 Z \u9ad8\u5ea6\u3002 \u5982\u679c\u6b64\u503c\u4f4e\u65bc fade_start \uff0c\u5247\u7981\u7528\u7db2\u683c\u6de1\u51fa\u3002 \u8a72\u503c\u53ef\u4ee5\u6839\u64da\u5217\u5370\u8868\u9762\u7684\u5f4e\u66f2\u7a0b\u5ea6\u9032\u884c\u8abf\u6574\u3002 \u660e\u986f\u5f4e\u66f2\u7684\u8868\u9762\u61c9\u8a72\u5728\u5c07\u7db2\u683c\u6de1\u51fa\u7684\u8ddd\u96e2\u9577\u3002 \u63a5\u8fd1\u5e73\u5766\u7684\u8868\u9762\u53ef\u80fd\u80fd\u5920\u964d\u4f4e\u8a72\u503c\u4ee5\u66f4\u5feb\u5730\u9010\u6b65\u6dd8\u6c70\u3002 \u5982\u679c\u5c0d fade_start \u4f7f\u7528\u9810\u8a2d\u503c 1\uff0c\u5247 10mm \u662f\u4e00\u500b\u5408\u7406\u7684\u503c\u3002 fade_target: 0 \u9810\u8a2d\u503c\uff1a\u71b1\u5e8a\u7db2\u683c\u7684\u5e73\u5747Z\u503c fade_target \u662f\u5728\u7db2\u683c\u6de1\u51fa\u5b8c\u6210\u5f8c\u61c9\u7528\u65bc\u6574\u500b\u5e8a\u7684\u984d\u5916 Z \u504f\u79fb\u3002\u4e00 \u822c\u4f86\u8aaa\uff0c\u9019\u500b\u503c\u662f 0\uff0c\u4f46\u6709\u4e9b\u60c5\u6cc1\u4e0b\u5b83\u9700\u8981\u6539\u52d5\u3002 \u4f8b\u5982\uff0c\u60a8\u5728\u71b1\u5e8a\u7684\u6b78\u4f4d\u4f4d\u7f6e\u8207\u5e8a\u7684\u5e73\u5747\u63a2\u6e2c\u9ad8\u5ea6\u6709\u504f\u5dee\uff0c\u5b83\u6bd4\u5e8a\u7684\u5e73\u5747\u63a2\u6e2c\u9ad8\u5ea6\u4f4e 0.2 mm\u3002 \u5982\u679c fade_target \u70ba 0\uff0c\u6de1\u51fa\u6703\u5c07\u6574\u500b\u5e8a\u7684\u5217\u5370\u5e73\u5747\u7e2e\u5c0f 0.2 mm\u3002 \u901a\u904e\u5c07 fade_target \u8a2d\u5b9a\u70ba 0.2\uff0c\u6b78\u4f4d\u7684\u4f4d\u7f6e\u5c07\u64f4\u5927 0.2 \u6beb\u7c73\uff0c\u4f46\u5e8a\u7684\u5176\u9918\u90e8\u5206\u5c07\u5177\u6709\u6e96\u78ba\u7684\u5c3a\u5bf8\u3002 \u4e00\u822c\u4f86\u8aaa\uff0c\u6700\u597d\u4e0d\u8981\u4fee\u6539 fade_target \u800c\u4fee\u6b63\u6a5f\u5668\u672c\u8eab\u5c0e\u81f4\u7684\u8aa4\u5dee\uff0c\u4ee5\u4fbf\u4f7f\u7528\u7db2\u683c\u7684\u5e73\u5747\u9ad8\u5ea6\uff0c\u4f46\u662f\u5982\u679c\u60f3\u8981\u5728\u5e8a\u7684\u7279\u5b9a\u90e8\u5206\u5217\u5370\uff0c\u53ef\u80fd\u9700\u8981\u624b\u52d5\u8abf\u6574\u7db2\u683c\u6de1\u51fa\u3002","title":"\u7db2\u683c\u6de1\u51fa"},{"location":"Bed_Mesh.html#_9","text":"\u5927\u90e8\u5206\u63a2\u91dd\u6aa2\u6e2c\u5230\u7684\u503c\u5bb9\u6613\u7522\u751f\u8aa4\u5dee\uff0c\u5373\uff1a\u7531\u6eab\u5ea6\u6216\u63a2\u6e2c\u4ecb\u8cea\u5e72\u64fe\u7522\u751f\u7684\u63a2\u6e2c\u8aa4\u5dee\u3002 \u9019\u52a0\u5927\u63a2\u91ddZ\u504f\u79fb\u7684\u770b\u8a08\u7b97\u96e3\u5ea6\uff0c\u5c24\u5176\u662f\u5728\u4e0d\u540c\u7684\u71b1\u5e8a\u6eab\u5ea6\u4e0b\u3002 \u56e0\u6b64\uff0c\u4e00\u4e9b\u5370\u8868\u6a5f\u4f7f\u7528\u9650\u4f4d\u958b\u95dc\u4f86\u6b78\u4f4d Z \u8ef8\uff0c\u4e26\u4f7f\u7528\u63a2\u91dd\u4f86\u6821\u6e96\u7db2\u683c\u3002 \u9019\u4e9b\u5370\u8868\u6a5f\u53ef\u4ee5\u5f9e\u914d\u7f6e\u4e2d\u7684\u76f8\u5c0d\u53c3\u8003\u7d22\u5f15\uff08relative_reference_index\uff09\u4e2d\u5c0b\u627e\u5e6b\u52a9\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 relative_reference_index: 7 relative_reference_index: 7 \u9810\u8a2d\u503c\uff1a\u7121\uff08\u7981\u7528\uff09 \u7522\u751f\u63a2\u6e2c\u9ede\u6642\uff0c\u70ba\u6bcf\u500b\u9ede\u5206\u914d\u4e00\u500b\u7d22\u5f15\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u7db2\u5e8a\u8f38\u51fa\u6216\u5728 klippy.log \u4e2d\u67e5\u8a62\u6b64\u7d22\u5f15\uff08\u6709\u95dc\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1\u4e0b\u9762\u7684\u7db2\u5e8a G\u7a0b\u5f0f\u78bc\u90e8\u5206\uff09\u3002\u5982\u679c\u60a8\u70ba relative_reference_index \u9078\u9805\u5206\u914d\u4e86\u7d22\u5f15\uff0c\u5247\u5728\u8a72\u5ea7\u6a19\u8655\u63a2\u6e2c\u7684\u503c\u5c07\u66ff\u63db\u63a2\u91dd\u7684 Z\u504f\u79fb\u503c\u3002 \u9019\u5c07\u628a\u9019\u500b\u5ea7\u6a19\u4f5c\u70ba\u300c\u96f6\u9ad8\u5ea6\u300d\u7684\u53c3\u8003\u3002 \u4f7f\u7528\u76f8\u5c0d\u53c3\u8003\u6307\u6578\u6642\uff0c\u61c9\u9078\u64c7\u8ddd\u96e2\u5e8a\u8eab Z \u9650\u4f4d\u5668\u6821\u6e96\u9ede\u6700\u8fd1\u7684\u6307\u6578\u3002 \u8acb\u6ce8\u610f\uff0c\u5728\u7db2\u5e8a\u8f38\u51fa\u6216\u5728\u65e5\u8a8c\u4e2d\u67e5\u8a62\u7d22\u5f15\u6642\uff0c\u60a8\u61c9\u8a72\u4f7f\u7528\u300c\u63a2\u91dd\u300d\u6a19\u984c\u4e0b\u5217\u51fa\u7684\u5ea7\u6a19\u4f86\u67e5\u8a62\u6b63\u78ba\u7684\u7d22\u5f15\u3002","title":"\u76f8\u5c0d\u53c3\u8003\u7d22\u5f15"},{"location":"Bed_Mesh.html#_10","text":"\u7531\u65bc\u7279\u5b9a\u4f4d\u7f6e\u7684\u300c\u6545\u969c\u300d\uff0c\u71b1\u5e8a\u7684\u67d0\u4e9b\u5340\u57df\u5728\u63a2\u6e2c\u6642\u53ef\u80fd\u6703\u5831\u544a\u4e0d\u6e96\u78ba\u7684\u7d50\u679c\u3002 \u6700\u597d\u7684\u4f8b\u5b50\u662f\u5e36\u6709\u7528\u5f48\u7c27\u92fc\u677f\u7684\u78c1\u9435\u71b1\u5e8a\u3002 \u9019\u4e9b\u78c1\u9435\u8655\u548c\u5468\u570d\u7684\u78c1\u5834\u53ef\u80fd\u5e72\u64fe\u63a2\u91dd\u89f8\u767c\u7684\u9ad8\u5ea6\uff0c\u5f9e\u800c\u5c0e\u81f4\u7db2\u683c\u7121\u6cd5\u6e96\u78ba\u8868\u793a\u9019\u4e9b\u4f4d\u7f6e\u7684\u8868\u9762\u3002 \u6ce8\u610f\uff1a\u4e0d\u8981\u8207\u63a2\u982d\u4f4d\u7f6e\u504f\u5dee\u5c0e\u81f4\u63a2\u6e2c\u7d50\u679c\u4e0d\u6e96\u78ba\u7684\u7d50\u679c\u6df7\u6dc6\u3002 \u53ef\u4ee5\u914d\u7f6e faulty_region \u9078\u9805\u4f86\u907f\u514d\u9019\u7a2e\u5f71\u97ff\u3002 \u5982\u679c\u7522\u751f\u7684\u9ede\u4f4d\u65bc\u6545\u969c\u5340\u57df\u5167\uff0c\u71b1\u5e8a\u7db2\u683c\u5c07\u5617\u8a66\u5728\u8a72\u5340\u57df\u7684\u908a\u754c\u8655\u63a2\u6e2c\u6700\u591a 4 \u500b\u9ede\u3002 \u9019\u4e9b\u63a2\u6e2c\u7684\u5e73\u5747\u503c\u5c07\u63d2\u5165\u7db2\u5e8a\u4e2d\u4f5c\u70ba\u7522\u751f\u7684 (X, Y) \u5ea7\u6a19\u8655\u7684 Z \u503c\u3002 [bed_mesh] speed: 120 horizontal_move_z: 5 mesh_min: 35, 6 mesh_max: 240, 198 probe_count: 5, 3 faulty_region_1_min: 130.0, 0.0 faulty_region_1_max: 145.0, 40.0 faulty_region_2_min: 225.0, 0.0 faulty_region_2_max: 250.0, 25.0 faulty_region_3_min: 165.0, 95.0 faulty_region_3_max: 205.0, 110.0 faulty_region_4_min: 30.0, 170.0 faulty_region_4_max: 45.0, 210.0 faulty_region_{1...99}_min faulty_region_{1...99}_max \u9810\u8a2d\u503c\uff1aNone \uff08\u7121\uff09(disabled\uff08\u7981\u7528\uff09) \u6545\u969c\u5340\u57df\u7684\u5b9a\u7fa9\u65b9\u5f0f\u985e\u4f3c\u5e8a\u7db2\u672c\u8eab\uff0c\u5fc5\u9808\u70ba\u6bcf\u500b\u5340\u57df\u6307\u5b9a\u6700\u5c0f\u548c\u6700\u5927\uff08X, Y\uff09\u5ea7\u6a19\u3002\u4e00\u500b\u6545\u969c\u5340\u57df\u53ef\u4ee5\u5ef6\u4f38\u5230\u7db2\u683c\u4e4b\u5916\uff0c\u4f46\u662f\u7522\u751f\u7684\u66ff\u4ee3\u63a2\u6e2c\u9ede\u7e3d\u662f\u5728\u7db2\u683c\u7684\u908a\u754c\u5167\u3002\u5169\u500b\u5340\u57df\u4e0d\u53ef\u4ee5\u91cd\u758a\u3002 \u4e0b\u9762\u7684\u5716\u7247\u8aaa\u660e\u4e86\u7576\u4e00\u500b\u7522\u751f\u7684\u63a2\u6e2c\u9ede\u4f4d\u65bc\u4e00\u500b\u6545\u969c\u5340\u57df\u5167\u6642\uff0c\u5982\u4f55\u7522\u751f\u66ff\u4ee3\u63a2\u6e2c\u9ede\u3002\u6240\u986f\u793a\u7684\u5340\u57df\u8207\u4e0a\u8ff0\u6a23\u672c\u914d\u7f6e\u4e2d\u7684\u5340\u57df\u4e00\u81f4\u3002\u66ff\u4ee3\u9ede\u548c\u5b83\u5011\u7684\u5ea7\u6a19\u4ee5\u7da0\u8272\u6a19\u8b58\u3002","title":"\u6545\u969c\u5340\u57df"},{"location":"Bed_Mesh.html#g","text":"","title":"\u5e8a\u7db2 G\u7a0b\u5f0f\u78bc"},{"location":"Bed_Mesh.html#_11","text":"BED_MESH_CALIBRATE PROFILE=<\u540d\u7a31> METHOD=[manual | automatic] [<probe_parameter>=<\u503c>] [<mesh_parameter>=<\u503c>] \u9810\u8a2d\u914d\u7f6e\uff1adefault \u9810\u8a2d\u65b9\u6cd5\uff1a\u5982\u679c\u6aa2\u6e2c\u5230\u63a2\u91dd\u5247\u81ea\u52d5\uff0c\u5426\u5247\u624b\u52d5 \u555f\u52d5\u5e8a\u7db2\u6821\u6e96\u7684\u63a2\u6e2c\u7a0b\u5f0f\u3002 \u7db2\u683c\u5c07\u88ab\u5132\u5b58\u5230\u7531 PROFILE \u53c3\u6578\u6307\u5b9a\u7684\u914d\u7f6e\u4e2d\uff0c\u5982\u679c\u6c92\u6709\u6307\u5b9a\uff0c\u5247\u4f7f\u7528 default \u3002\u5982\u679c\u9078\u64c7\u4e86 METHOD=manual \uff0c\u90a3\u9ebc\u5c07\u9032\u884c\u624b\u52d5\u63a2\u6e2c\u3002\u5728\u81ea\u52d5\u548c\u624b\u52d5\u63a2\u6e2c\u4e4b\u9593\u5207\u63db\u6642\uff0c\u7522\u751f\u7684\u7db2\u683c\u9ede\u6703\u81ea\u52d5\u8abf\u6574\u3002 \u53ef\u4ee5\u901a\u904e\u6307\u5b9a\u7db2\u683c\u53c3\u6578\u4f86\u4fee\u6539\u63a2\u6e2c\u5340\u57df\u3002\u4ee5\u4e0b\u53c3\u6578\u53ef\u7528\uff1a \u77e9\u5f62\u5217\u5370\u5e8a\uff08\u7b1b\u5361\u723e Cartesian\uff09\uff1a MESH_MIN MESH_MAX PROBE_COUNT \u5713\u5f62\u5217\u5370\u5e8a\uff08\u4e09\u89d2\u6d32 delta\uff09\uff1a MESH_RADIUS MESH_ORIGIN ROUND_PROBE_COUNT \u5168\u90e8\u5217\u5370\u5e8a\uff1a RELATIVE_REFERNCE_INDEX ALGORITHM \u6709\u95dc\u5728\u7db2\u683c\u4e2d\u4f7f\u7528\u7684\u914d\u7f6e\u53c3\u6578\u8a73\u898b\u914d\u7f6e\u6587\u4ef6\u3002","title":"\u6821\u6e96"},{"location":"Bed_Mesh.html#_12","text":"BED_MESH_PROFILE SAVE=<\u540d\u7a31> LOAD=<\u540d\u7a31> REMOVE=<\u540d\u7a31> \u5728\u57f7\u884c BED_MESH_CALIBRATE \u540e\uff0c\u53ef\u4ee5\u5c07\u76ee\u524d\u7db2\u683c\u72c0\u614b\u5132\u5b58\u5230\u4e00\u500b\u547d\u540d\u7684\u914d\u7f6e\u4e2d\u3002\u9019\u6a23\u4e0d\u9700\u8981\u91cd\u65b0\u63a2\u6e2c\u5217\u5370\u5e8a\u5c31\u53ef\u4ee5\u8f09\u5165\u4e00\u500b\u7db2\u683c\u3002\u5728\u4f7f\u7528 BED_MESH_PROFILE SAVE=<\u540d\u7a31> \u5132\u5b58\u4e86\u4e00\u500b\u914d\u7f6e\u6a94\u6848\u540e\uff0c\u53ef\u4ee5\u57f7\u884c SAVE_CONFIG G\u7a0b\u5f0f\u78bc\u5c07\u914d\u7f6e\u5beb\u5165 printer.cfg\u3002 \u53ef\u4ee5\u901a\u904e\u57f7\u884c BED_MESH_PROFILE LOAD=<\u540d\u7a31> \u4f86\u8f09\u5165\u914d\u7f6e\u3002 \u8acb\u6ce8\u610f\uff0c\u6bcf\u6b21\u57f7\u884c BED_MESH_CALIBRATE \u540e\uff0c\u76ee\u524d\u72c0\u614b\u6703\u88ab\u5132\u5b58\u5230 default \u914d\u7f6e\u3002\u5982\u679c\u9019\u500b\u914d\u7f6e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b58\u5728\uff0c\u5b83\u6703\u5728 Klipper \u555f\u52d5\u6642\u81ea\u52d5\u8f09\u5165\u3002\u5982\u679c\u4e0d\u5e0c\u671b\u9019\u7a2e\u884c\u70ba\uff0c\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u547d\u4ee4\u522a\u9664 default \u914d\u7f6e\uff1a BED_MESH_PROFILE REMOVE=default \u4efb\u4f55\u5176\u4ed6\u5132\u5b58\u7684\u914d\u7f6e\u4e5f\u53ef\u4ee5\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u522a\u9664\uff0c\u7528\u4f60\u60f3\u522a\u9664\u7684\u914d\u7f6e\u540d\u7a31\u66ff\u63db default \u3002","title":"\u914d\u7f6e"},{"location":"Bed_Mesh.html#_13","text":"BED_MESH_OUTPUT PGP=[0 | 1] \u5c07\u76ee\u524d\u7db2\u683c\u72c0\u614b\u8f38\u51fa\u5230\u7d42\u7aef\u3002\u8acb\u6ce8\u610f\uff0c\u8f38\u51fa\u7684\u662f\u7db2\u683c\u672c\u8eab PGP \u53c3\u6578\u662f\u300c\u5217\u5370\u7522\u751f\u7684\u9ede\u300d\u7684\u7c21\u5beb\u3002\u5982\u679c\u8a2d\u5b9a\u4e86 PGP=1 \uff0c\u7522\u751f\u7684\u63a2\u6e2c\u9ede\u5c07\u8f38\u51fa\u5230\u7d42\u7aef\uff1a // bed_mesh: generated points // Index | Tool Adjusted | Probe // 0 | (11.0, 1.0) | (35.0, 6.0) // 1 | (62.2, 1.0) | (86.2, 6.0) // 2 | (113.5, 1.0) | (137.5, 6.0) // 3 | (164.8, 1.0) | (188.8, 6.0) // 4 | (216.0, 1.0) | (240.0, 6.0) // 5 | (216.0, 97.0) | (240.0, 102.0) // 6 | (164.8, 97.0) | (188.8, 102.0) // 7 | (113.5, 97.0) | (137.5, 102.0) // 8 | (62.2, 97.0) | (86.2, 102.0) // 9 | (11.0, 97.0) | (35.0, 102.0) // 10 | (11.0, 193.0) | (35.0, 198.0) // 11 | (62.2, 193.0) | (86.2, 198.0) // 12 | (113.5, 193.0) | (137.5, 198.0) // 13 | (164.8, 193.0) | (188.8, 198.0) // 14 | (216.0, 193.0) | (240.0, 198.0) \"Tool Adjusted\"\uff08\u5de5\u5177\u8abf\u6574\uff09\u9ede\u6307\u6bcf\u500b\u9ede\u7684\u5674\u5634\u4f4d\u7f6e\uff0c\"Probe\"\uff08\u63a2\u91dd\uff09\u9ede\u6307\u63a2\u982d\u4f4d\u7f6e\u3002\u8acb\u6ce8\u610f\uff0c\u624b\u52d5\u63a2\u6e2c\u6642\"Probe\"\uff08\u63a2\u91dd\uff09\u9ede\u6642\u5c07\u540c\u6642\u6307\u5de5\u5177\u548c\u5674\u5634\u4f4d\u7f6e\u3002","title":"\u8f38\u51fa"},{"location":"Bed_Mesh.html#_14","text":"BED_MESH_CLEAR \u6b64 gcode \u53ef\u7528\u65bc\u6e05\u9664\u5167\u90e8\u7db2\u683c\u72c0\u614b\u3002","title":"\u6e05\u9664\u7db2\u683c\u72c0\u614b"},{"location":"Bed_Mesh.html#xy","text":"BED_MESH_OFFSET [X=<value>] [Y=<value>] \u9019\u5c0d\u6709\u591a\u500b\u7368\u7acb\u64e0\u51fa\u982d\u7684\u5370\u8868\u6a5f\u5f88\u6709\u7528\uff0c\u56e0\u70ba\u504f\u79fb\u91cf\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u4fbf\u5728\u66f4\u63db\u5de5\u5177\u540e\u7522\u751f\u6b63\u78ba\u7684Z\u8abf\u6574\u3002\u61c9\u6307\u5b9a\u5b83\u5011\u76f8\u5c0d\u65bc\u4e3b\u64e0\u51fa\u982d\u7684\u504f\u79fb\u91cf\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u5982\u679c\u7b2c\u4e8c\u500b\u64e0\u51fa\u982d\u5b89\u88dd\u5728\u7b2c\u4e00\u500b\u64e0\u51fa\u982d\u7684\u53f3\u908a\uff0c\u61c9\u6307\u5b9a\u4e00\u500b\u6b63\u7684X\u504f\u79fb\u91cf\uff0c\u5982\u679c\u7b2c\u4e8c\u500b\u64e0\u51fa\u982d\u5b89\u88dd\u5728\u7b2c\u4e00\u500b\u64e0\u51fa\u982d\u7684 \"\u5f8c\u9762\"\uff0c\u61c9\u6307\u5b9a\u4e00\u500b\u6b63\u7684Y\u504f\u79fb\u91cf\u3002","title":"\u61c9\u7528X/Y\u504f\u79fb\u91cf"},{"location":"Benchmarks.html","text":"\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u9019\u500b\u6587\u4ef6\u89e3\u91cb\u4e86Klipper\u7684\u57fa\u6e96\u6e2c\u8a66\u3002 \u5fae\u63a7\u5236\u5668\uff08Micro-controller\uff09\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u672c\u7bc0\u63cf\u8ff0\u4e86\u7528\u65bc\u7522\u751f Klipper \u5fae\u63a7\u5236\u5668\u6b65\u9032\u7387\uff08step rate\uff09\u57fa\u6e96\u7684\u6a5f\u5236\u3002 \u57fa\u6e96\u7684\u4e3b\u8981\u76ee\u6a19\u662f\u63d0\u4f9b\u4e00\u500b\u4e00\u81f4\u7684\u6a5f\u5236\uff0c\u7528\u65bc\u6e2c\u91cf\u8edf\u9ad4\u4e2d\u7de8\u78bc\u66f4\u6539\u7684\u5f71\u97ff\u3002\u6b21\u8981\u76ee\u6a19\u662f\u63d0\u4f9b\u9ad8\u7d1a\u5225\u6307\u6a19\uff0c\u7528\u65bc\u6bd4\u8f03\u6676\u7247\u548c\u8edf\u4ef6\u5e73\u81fa\u4e4b\u9593\u7684\u6548\u80fd\u3002 \u6b65\u9032\u7387(stepping rate)\u57fa\u6e96\u662f\u7232\u4e86\u627e\u5230\u786c\u9ad4\u548c\u8edf\u9ad4\u53ef\u4ee5\u9054\u5230\u7684\u6700\u5927\u6b65\u9032\u7387\u3002\u9019\u500b\u57fa\u6e96\u6b65\u9032\u7387\u5728\u65e5\u5e38\u4f7f\u7528\u4e2d\u662f\u7121\u6cd5\u5be6\u73fe\u7684\uff0c\u56e0\u70baKlipper\u5728\u4efb\u4f55\u5be6\u969b\u4f7f\u7528\u4e2d\u90fd\u9700\u8981\u57f7\u884c\u5176\u4ed6\u4efb\u52d9\uff08\u4f8b\u5982\uff0cMCU/\u4e3b\u6a5f\u901a\u8a0a\u3001\u6eab\u5ea6\u8b80\u53d6\u3001\u9650\u4f4d\u6aa2\u67e5\uff09\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u57fa\u6e96\u6e2c\u8a66\u7684\u5f15\u8173\u88ab\u9078\u64c7\u7528\u65bc\u9583\u720d LED \u6216\u5176\u4ed6\u5b89\u5168\u5f15\u8173\u3002 \u5728\u57f7\u884c\u57fa\u6e96\u6e2c\u8a66\u4e4b\u524d\uff0c\u59cb\u7d42\u9a57\u8b49\u9a45\u52d5\u914d\u7f6e\u7684\u5f15\u8173\u662f\u5b89\u5168\u7684\u3002 \u4e0d\u5efa\u8b70\u5728\u57fa\u6e96\u6e2c\u8a66\u671f\u9593\u9a45\u52d5\u5be6\u969b\u7684\u6b65\u9032\u5668\u3002 \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u6e2c\u8a66\u662f\u4f7f\u7528console.py\u5de5\u5177\u9032\u884c\u7684\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u3002\u70ba\u7279\u5b9a\u7684\u786c\u4ef6\u5e73\u81fa\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff08\u898b\u4e0b\u6587\uff09\uff0c\u7136\u5f8c\u5c07\u4ee5\u4e0b\u5167\u5bb9\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230console.py\u7d42\u7aef\u8996\u7a97: SET start_clock {clock+freq} SET ticks 1000 reset_step_clock oid=0 clock={start_clock} set_next_step_dir oid=0 dir=0 queue_step oid=0 interval={ticks} count=60000 add=0 set_next_step_dir oid=0 dir=1 queue_step oid=0 interval=3000 count=1 add=0 reset_step_clock oid=1 clock={start_clock} set_next_step_dir oid=1 dir=0 queue_step oid=1 interval={ticks} count=60000 add=0 set_next_step_dir oid=1 dir=1 queue_step oid=1 interval=3000 count=1 add=0 reset_step_clock oid=2 clock={start_clock} set_next_step_dir oid=2 dir=0 queue_step oid=2 interval={ticks} count=60000 add=0 set_next_step_dir oid=2 dir=1 queue_step oid=2 interval=3000 count=1 add=0 \u4ee5\u4e0a\u6e2c\u8a66\u4e09\u500b\u6b65\u9032\u5668\u540c\u6642\u6b65\u9032\u3002\u5982\u679c\u57f7\u884c\u4e0a\u8ff0\u7a0b\u5f0f\u7684\u7d50\u679c\u662f \"\u91cd\u65b0\u5b89\u6392\u5b9a\u6642\u5668\u5728\u904e\u53bb \"\u6216 \"\u6b65\u9032\u5668\u5728\u904e\u53bb\u592a\u9060 \"\u7684\u932f\u8aa4\uff0c\u5247\u8868\u660e ticks \u53c3\u6578\u592a\u4f4e\uff08\u5b83\u5c0e\u81f4\u6b65\u9032\u901f\u5ea6\u592a\u5feb\uff09\u3002\u6211\u5011\u7684\u76ee\u6a19\u662f\u627e\u5230\u80fd\u5920\u53ef\u9760\u5730\u5c0e\u81f4\u6210\u529f\u5b8c\u6210\u6e2c\u8a66\u7684\u6700\u4f4e\u7684ticks\u53c3\u6578\u8a2d\u5b9a\u3002\u61c9\u8a72\u53ef\u4ee5\u5c07ticks\u53c3\u6578\u4e00\u5206\u70ba\u4e8c\uff0c\u76f4\u5230\u627e\u5230\u4e00\u500b\u7a69\u5b9a\u7684\u503c\u3002 \u5728\u5931\u6557\u7684\u60c5\u6cc1\u4e0b\uff0c\u53ef\u4ee5\u8907\u88fd\u548c\u8cbc\u4e0a\u4ee5\u4e0b\u5167\u5bb9\u4f86\u6e05\u9664\u932f\u8aa4\uff0c\u70ba\u4e0b\u4e00\u6b21\u6e2c\u8a66\u505a\u6e96\u5099\uff1a clear_shutdown \u7232\u4e86\u7372\u5f97\u55ae\u4e00\u6b65\u9032\u96fb\u6a5f\u7684\u57fa\u6e96\u6e2c\u8a66\uff0c\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u914d\u7f6e\u5e8f\u5217\uff0c\u4f46\u53ea\u5c07\u4e0a\u8ff0\u6e2c\u8a66\u7684\u7b2c\u4e00\u584a\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230 console.py \u8996\u7a97\u3002 \u7232\u4e86\u7522\u751f \u529f\u80fd \u6587\u4ef6\u4e2d\u7684\u57fa\u6e96\u6e2c\u8a66\u7d50\u679c\uff0c\u6bcf\u79d2\u7e3d\u6b65\u6578\u7684\u8a08\u7b97\u65b9\u6cd5\u662f\u5c07\u6d3b\u52d5\u6b65\u9032\u5668\u7684\u6578\u91cf\u8207\u6a19\u7a31 mcu \u983b\u7387\u76f8\u4e58\uff0c\u7136\u5f8c\u9664\u4ee5\u6700\u7d42\u7684 ticks \u53c3\u6578\u3002\u7d50\u679c\u56db\u6368\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u7684 K\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4e09\u500b\u6d3b\u52d5\u6b65\u9032\u5668\uff1a ECHO Test result is: {\"%.0fK\" % (3. * freq / ticks / 1000.)} \u57fa\u6e96\u7684\u57f7\u884c\u53c3\u6578\u5fc5\u9808\u548c TMC \u9a45\u52d5\u76f8\u5339\u914d\u3002\u5c0d\u65bc\u652f\u63f4 STEPPER_BOTH_EDGE=1 \u7684\u5fae\u63a7\u5236\u5668\uff08\u63a7\u5236\u6aaf\u555f\u52d5\u6642 MCU config \u884c\u4e2d\u6703\u5831\u544a\uff09\u4f7f\u7528 step_pulse_duration=0 \u548c invert_step=-1 \u4f86\u555f\u7528\u6b65\u9032\u8108\u885d\u7684\u5169\u908a\u4e0a\u7684\u512a\u5316\u3002\u5c0d\u65bc\u5176\u4ed6\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u5c0d\u61c9 100ns \u7684 step_pulse_duration \u3002 AVR\u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728AVR\u6676\u7247\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PA4 invert_step=0 step_pulse_ticks=32 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=0 step_pulse_ticks=32 config_stepper oid=2 step_pin=PC7 dir_pin=PC6 invert_step=0 step_pulse_ticks=32 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u8207 gcc \u7248\u672c avr-gcc \uff08GCC\uff09 5.4.0 \u300216Mhz \u548c 20Mhz \u6e2c\u8a66\u90fd\u4f7f\u7528\u4e86\u6309 atmega644p \u914d\u7f6e\u7684 simulavr \u57f7\u884c\uff08\u4ee5\u524d\u7684\u6e2c\u8a66\u5df2\u7d93\u78ba\u8a8d\u4e8616Mhz at90usb \u548c16Mhz atmega2560 \u7684\u5be6\u969b\u6548\u80fd\u8207 simulavr \u7d50\u679c\u76f8\u4f3c\uff09\u3002 avr ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 102 3\u500b\u6b65\u9032\u96fb\u6a5f 486 Arduino Due \u7684\u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u4ee5\u4e0b\u662f\u5728Due\u4e0a\u4f7f\u7528\u7684\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB27 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB26 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA21 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam3x8e ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 66 3\u500b\u6b65\u9032\u96fb\u6a5f 257 Duet Maestro \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728Duet Maestro\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC26 dir_pin=PC18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PC26 dir_pin=PA8 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PC26 dir_pin=PB4 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam4s8c ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 71 3\u500b\u6b65\u9032\u96fb\u6a5f 260 Duet Wifi \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728Duet Wifi\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PD6 dir_pin=PD11 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PD7 dir_pin=PD12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PD8 dir_pin=PD13 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c gcc \u7248\u672c 10.3.1 20210621\uff08\u767c\u4f48\u7248\uff09 (GNU Arm Embedded Toolchain 10.3-2021.07) \u3002 sam4e8e ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 48 3\u500b\u6b65\u9032\u96fb\u6a5f 215 Beaglebone PRU \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728PRU\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio0_23 dir_pin=gpio1_12 invert_step=0 step_pulse_ticks=20 config_stepper oid=1 step_pin=gpio1_15 dir_pin=gpio0_26 invert_step=0 step_pulse_ticks=20 config_stepper oid=2 step_pin=gpio0_22 dir_pin=gpio2_1 invert_step=0 step_pulse_ticks=20 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba pru-gcc (GCC) 8.0.0 20170530\uff08\u5be6\u9a57\u7248\uff09 \u3002 \u53ef\u7a0b\u5f0f\u8a2d\u8a08\u5be6\u6642\u55ae\u5143 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 231 3\u500b\u6b65\u9032\u96fb\u6a5f 847 STM32F042 \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728STM32F042\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA1 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB8 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f042 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 59 3\u500b\u6b65\u9032\u96fb\u6a5f 249 STM32F103 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728STM32F103\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC13 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA4 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f103 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 61 3\u500b\u6b65\u9032\u96fb\u6a5f 264 STM32F4 \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728STM32F4\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB2 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB3 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc\u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002STM32F407 \u7684\u7d50\u679c\u662f\u901a\u904e\u5728 STM32F446 \u4e0a\u57f7\u884c STM32F407 \u4e8c\u9032\u5236\u6a94\u6848\u5f97\u5230\u7684\uff08\u56e0\u6b64\u6642\u9418\u662f 168Mhz \uff09\u3002 stm32f446 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 46 3\u500b\u6b65\u9032\u96fb\u6a5f 205 stm32f407 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 46 3\u500b\u6b65\u9032\u96fb\u6a5f 205 STM32G0B1 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728 STM32G0B1 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB13 dir_pin=PB12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB10 dir_pin=PB2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB0 dir_pin=PC5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 247cd753 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32g0b1 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 58 3\u500b\u6b65\u9032\u96fb\u6a5f 243 LPC176x \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728LPC176x\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=P1.20 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=P1.21 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=P1.23 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u3002120Mhz LPC1769 \u7684\u7d50\u679c\u662f\u901a\u904e\u5c07 LPC1768 \u8d85\u983b\u5230 120Mhz \u800c\u7372\u5f97\u7684\u3002 lpc1768 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 52 3\u500b\u6b65\u9032\u96fb\u6a5f 222 lpc1769 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 51 3\u500b\u6b65\u9032\u96fb\u6a5f 222 SAMD21 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728SAMD21\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA27 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA17 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD21G18 \u5fae\u63a7\u5236\u5668\u4e0a\u3002 SAMD21 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 70 3\u500b\u6b65\u9032\u96fb\u6a5f 306 SAMD51 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u5728SAMD51\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA22 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA22 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA22 dir_pin=PA19 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u8207 gcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD51J19A \u5fae\u63a7\u5236\u5668\u4e0a\u57f7\u884c\u7684\u3002 SAMD51 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 39 3\u500b\u6b65\u9032\u96fb\u6a5f 191 1 stepper (200Mhz) 39 3 stepper (200Mhz) 181 RP2040 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 RP2040 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio25 dir_pin=gpio3 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=gpio26 dir_pin=gpio4 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=gpio27 dir_pin=gpio5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u5728 Raspberry Pi Pico \u677f\u4e0a\u4f7f\u7528 gcc \u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u548c\u63d0\u4ea4 59314d99 \u57f7\u884c\u3002 rp2040 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 5 3\u500b\u6b65\u9032\u96fb\u6a5f 22 Linux MCU \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u6a39\u8393\u6d3e\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio2 dir_pin=gpio3 invert_step=0 step_pulse_ticks=5 config_stepper oid=1 step_pin=gpio4 dir_pin=gpio5 invert_step=0 step_pulse_ticks=5 config_stepper oid=2 step_pin=gpio6 dir_pin=gpio17 invert_step=0 step_pulse_ticks=5 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u8207 gcc \u7248\u672c gcc \uff08Raspbian 8.3.0-6+rpi1\uff09 8.3.0 \u5728 Raspberry Pi 3 \uff08\u4fee\u8a02\u7248 a02082\uff09 \u4e0a\u57f7\u884c\u3002\u5728\u9019\u500b\u57fa\u6e96\u6e2c\u8a66\u4e2d\u5f88\u96e3\u7372\u5f97\u7a69\u5b9a\u7684\u7d50\u679c\u3002 Linux (RPi3) ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 160 3\u500b\u6b65\u9032\u96fb\u6a5f 380 Command dispatch \u57fa\u6e96\u6e2c\u8a66 \u00b6 \u547d\u4ee4\u6392\u7a0b\u57fa\u6e96\u6e2c\u8a66\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u8655\u7406\u591a\u5c11\u500b \"dummy\"\u547d\u4ee4\u3002\u5b83\u4e3b\u8981\u662f\u5c0d\u786c\u9ad4\u901a\u8a0a\u6a5f\u5236\u7684\u6e2c\u8a66\u3002\u8a72\u6e2c\u8a66\u4f7f\u7528console.py\u5de5\u5177\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u57f7\u884c\u3002\u4ee5\u4e0b\u662f\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230console.py\u7d42\u7aef\u8996\u7a97\u7684\u5167\u5bb9: DELAY {clock + 2*freq} get_uptime FLOOD 100000 0.0 debug_nop get_uptime \u7576\u6e2c\u8a66\u5b8c\u6210\u5f8c\uff0c\u78ba\u5b9a\u5169\u500b \"\u6b63\u5e38\u57f7\u884c\u6642\u9593 \"\u97ff\u61c9\u8cc7\u8a0a\u4e2d\u5831\u544a\u7684\u6642\u9418\u4e4b\u9593\u7684\u5dee\u7570\u3002\u7136\u5f8c\uff0c\u6bcf\u79d2\u9418\u7684\u7e3d\u547d\u4ee4\u6578\u662f 100000 * mcu_frequency / clock_diff \u3002 \u6ce8\u610f\uff0c\u9019\u500b\u6e2c\u8a66\u53ef\u80fd\u6703\u4f7fRaspberry Pi\u7684USB/CPU\u5bb9\u91cf\u9054\u5230\u98fd\u548c\u3002\u5982\u679c\u5728Raspberry Pi\u3001Beaglebone\u6216\u985e\u4f3c\u7684\u4e3b\u6a5f\u4e0a\u57f7\u884c\uff0c\u90a3\u9ebc\u8981\u589e\u52a0\u5ef6\u9072\uff08\u4f8b\u5982\uff0c DELAY {clock + 20*freq} get_uptime \uff09\u3002\u5728\u9069\u7528\u7684\u60c5\u6cc1\u4e0b\uff0c\u4e0b\u9762\u7684\u57fa\u6e96\u662f\u7528\u63a7\u5236\u6aaf.py\u5728\u684c\u9762\u985e\u6a5f\u5668\u4e0a\u57f7\u884c\uff0c\u88dd\u7f6e\u901a\u904e\u9ad8\u901f\u96c6\u7dda\u5668\u9023\u7dda\u3002 MCU Rate Build Build compiler stm32f042 (CAN) 18K c105adc8 arm-none-eabi-gcc (GNU Tools 7-2018-q3-update) 7.3.1 atmega2560 (\u5e8f\u5217\u532f\u6d41\u6392) 23K b161a69e avr-gcc (GCC) 4.8.1 sam3x8e (\u5e8f\u5217\u532f\u6d41\u6392) 23K b161a69e arm-none-eabi-gcc (Fedora 7.1.0-5.fc27) 7.1.0 at90usb1286 (USB) 75K 01d2183f avr-gcc (GCC) 5.4.0 samd21 (USB) 223K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 PRU\uff08\u5171\u4eab\u8a18\u61b6\u9ad4\uff09 260K c5968a08 pru-gcc (GCC) 8.0.0 20170530 (experimental) stm32f103 (USB) 355K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam3x8e (USB) 418K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1768 (USB) 534K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1769 (USB) 628K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam4s8c (USB) 650K 8d4a5c16 arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 samd51 (USB) 864K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 stm32f446 (USB) 870K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 rp2040 (USB) 873K c5667193 arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 Host \u57fa\u6e96\u6e2c\u8a66 \u00b6 \u53ef\u4ee5\u4f7f\u7528\u300c\u6279\u8655\u7406\u6a21\u5f0f\u300d\u8655\u7406\u6a5f\u5236\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u5728\u4e3b\u6a5f\u8edf\u9ad4\u4e0a\u57f7\u884c\u6642\u5e8f\u6e2c\u8a66\u3002\u9019\u901a\u5e38\u662f\u901a\u904e\u9078\u64c7\u4e00\u500b\u5927\u800c\u8907\u96dc\u7684 G \u7a0b\u5f0f\u78bc\u6a94\u6848\u4e26\u8a08\u6642\u4e3b\u6a5f\u8edf\u9ad4\u8655\u7406\u5b83\u6240\u9700\u7684\u6642\u9593\u4f86\u5b8c\u6210\u7684\u3002\u4f8b\u5982\uff1a time ~/klippy-env/bin/python ./klippy/klippy.py config/example-cartesian.cfg -i something_complex.gcode -o /dev/null -d out/klipper.dict","title":"\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#_1","text":"\u9019\u500b\u6587\u4ef6\u89e3\u91cb\u4e86Klipper\u7684\u57fa\u6e96\u6e2c\u8a66\u3002","title":"\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#micro-controller","text":"\u672c\u7bc0\u63cf\u8ff0\u4e86\u7528\u65bc\u7522\u751f Klipper \u5fae\u63a7\u5236\u5668\u6b65\u9032\u7387\uff08step rate\uff09\u57fa\u6e96\u7684\u6a5f\u5236\u3002 \u57fa\u6e96\u7684\u4e3b\u8981\u76ee\u6a19\u662f\u63d0\u4f9b\u4e00\u500b\u4e00\u81f4\u7684\u6a5f\u5236\uff0c\u7528\u65bc\u6e2c\u91cf\u8edf\u9ad4\u4e2d\u7de8\u78bc\u66f4\u6539\u7684\u5f71\u97ff\u3002\u6b21\u8981\u76ee\u6a19\u662f\u63d0\u4f9b\u9ad8\u7d1a\u5225\u6307\u6a19\uff0c\u7528\u65bc\u6bd4\u8f03\u6676\u7247\u548c\u8edf\u4ef6\u5e73\u81fa\u4e4b\u9593\u7684\u6548\u80fd\u3002 \u6b65\u9032\u7387(stepping rate)\u57fa\u6e96\u662f\u7232\u4e86\u627e\u5230\u786c\u9ad4\u548c\u8edf\u9ad4\u53ef\u4ee5\u9054\u5230\u7684\u6700\u5927\u6b65\u9032\u7387\u3002\u9019\u500b\u57fa\u6e96\u6b65\u9032\u7387\u5728\u65e5\u5e38\u4f7f\u7528\u4e2d\u662f\u7121\u6cd5\u5be6\u73fe\u7684\uff0c\u56e0\u70baKlipper\u5728\u4efb\u4f55\u5be6\u969b\u4f7f\u7528\u4e2d\u90fd\u9700\u8981\u57f7\u884c\u5176\u4ed6\u4efb\u52d9\uff08\u4f8b\u5982\uff0cMCU/\u4e3b\u6a5f\u901a\u8a0a\u3001\u6eab\u5ea6\u8b80\u53d6\u3001\u9650\u4f4d\u6aa2\u67e5\uff09\u3002 \u4e00\u822c\u800c\u8a00\uff0c\u57fa\u6e96\u6e2c\u8a66\u7684\u5f15\u8173\u88ab\u9078\u64c7\u7528\u65bc\u9583\u720d LED \u6216\u5176\u4ed6\u5b89\u5168\u5f15\u8173\u3002 \u5728\u57f7\u884c\u57fa\u6e96\u6e2c\u8a66\u4e4b\u524d\uff0c\u59cb\u7d42\u9a57\u8b49\u9a45\u52d5\u914d\u7f6e\u7684\u5f15\u8173\u662f\u5b89\u5168\u7684\u3002 \u4e0d\u5efa\u8b70\u5728\u57fa\u6e96\u6e2c\u8a66\u671f\u9593\u9a45\u52d5\u5be6\u969b\u7684\u6b65\u9032\u5668\u3002","title":"\u5fae\u63a7\u5236\u5668\uff08Micro-controller\uff09\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#_2","text":"\u6e2c\u8a66\u662f\u4f7f\u7528console.py\u5de5\u5177\u9032\u884c\u7684\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u3002\u70ba\u7279\u5b9a\u7684\u786c\u4ef6\u5e73\u81fa\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff08\u898b\u4e0b\u6587\uff09\uff0c\u7136\u5f8c\u5c07\u4ee5\u4e0b\u5167\u5bb9\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230console.py\u7d42\u7aef\u8996\u7a97: SET start_clock {clock+freq} SET ticks 1000 reset_step_clock oid=0 clock={start_clock} set_next_step_dir oid=0 dir=0 queue_step oid=0 interval={ticks} count=60000 add=0 set_next_step_dir oid=0 dir=1 queue_step oid=0 interval=3000 count=1 add=0 reset_step_clock oid=1 clock={start_clock} set_next_step_dir oid=1 dir=0 queue_step oid=1 interval={ticks} count=60000 add=0 set_next_step_dir oid=1 dir=1 queue_step oid=1 interval=3000 count=1 add=0 reset_step_clock oid=2 clock={start_clock} set_next_step_dir oid=2 dir=0 queue_step oid=2 interval={ticks} count=60000 add=0 set_next_step_dir oid=2 dir=1 queue_step oid=2 interval=3000 count=1 add=0 \u4ee5\u4e0a\u6e2c\u8a66\u4e09\u500b\u6b65\u9032\u5668\u540c\u6642\u6b65\u9032\u3002\u5982\u679c\u57f7\u884c\u4e0a\u8ff0\u7a0b\u5f0f\u7684\u7d50\u679c\u662f \"\u91cd\u65b0\u5b89\u6392\u5b9a\u6642\u5668\u5728\u904e\u53bb \"\u6216 \"\u6b65\u9032\u5668\u5728\u904e\u53bb\u592a\u9060 \"\u7684\u932f\u8aa4\uff0c\u5247\u8868\u660e ticks \u53c3\u6578\u592a\u4f4e\uff08\u5b83\u5c0e\u81f4\u6b65\u9032\u901f\u5ea6\u592a\u5feb\uff09\u3002\u6211\u5011\u7684\u76ee\u6a19\u662f\u627e\u5230\u80fd\u5920\u53ef\u9760\u5730\u5c0e\u81f4\u6210\u529f\u5b8c\u6210\u6e2c\u8a66\u7684\u6700\u4f4e\u7684ticks\u53c3\u6578\u8a2d\u5b9a\u3002\u61c9\u8a72\u53ef\u4ee5\u5c07ticks\u53c3\u6578\u4e00\u5206\u70ba\u4e8c\uff0c\u76f4\u5230\u627e\u5230\u4e00\u500b\u7a69\u5b9a\u7684\u503c\u3002 \u5728\u5931\u6557\u7684\u60c5\u6cc1\u4e0b\uff0c\u53ef\u4ee5\u8907\u88fd\u548c\u8cbc\u4e0a\u4ee5\u4e0b\u5167\u5bb9\u4f86\u6e05\u9664\u932f\u8aa4\uff0c\u70ba\u4e0b\u4e00\u6b21\u6e2c\u8a66\u505a\u6e96\u5099\uff1a clear_shutdown \u7232\u4e86\u7372\u5f97\u55ae\u4e00\u6b65\u9032\u96fb\u6a5f\u7684\u57fa\u6e96\u6e2c\u8a66\uff0c\u4f7f\u7528\u4e86\u76f8\u540c\u7684\u914d\u7f6e\u5e8f\u5217\uff0c\u4f46\u53ea\u5c07\u4e0a\u8ff0\u6e2c\u8a66\u7684\u7b2c\u4e00\u584a\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230 console.py \u8996\u7a97\u3002 \u7232\u4e86\u7522\u751f \u529f\u80fd \u6587\u4ef6\u4e2d\u7684\u57fa\u6e96\u6e2c\u8a66\u7d50\u679c\uff0c\u6bcf\u79d2\u7e3d\u6b65\u6578\u7684\u8a08\u7b97\u65b9\u6cd5\u662f\u5c07\u6d3b\u52d5\u6b65\u9032\u5668\u7684\u6578\u91cf\u8207\u6a19\u7a31 mcu \u983b\u7387\u76f8\u4e58\uff0c\u7136\u5f8c\u9664\u4ee5\u6700\u7d42\u7684 ticks \u53c3\u6578\u3002\u7d50\u679c\u56db\u6368\u4e94\u5165\u5230\u6700\u63a5\u8fd1\u7684 K\u3002\u4f8b\u5982\uff0c\u4f7f\u7528\u4e09\u500b\u6d3b\u52d5\u6b65\u9032\u5668\uff1a ECHO Test result is: {\"%.0fK\" % (3. * freq / ticks / 1000.)} \u57fa\u6e96\u7684\u57f7\u884c\u53c3\u6578\u5fc5\u9808\u548c TMC \u9a45\u52d5\u76f8\u5339\u914d\u3002\u5c0d\u65bc\u652f\u63f4 STEPPER_BOTH_EDGE=1 \u7684\u5fae\u63a7\u5236\u5668\uff08\u63a7\u5236\u6aaf\u555f\u52d5\u6642 MCU config \u884c\u4e2d\u6703\u5831\u544a\uff09\u4f7f\u7528 step_pulse_duration=0 \u548c invert_step=-1 \u4f86\u555f\u7528\u6b65\u9032\u8108\u885d\u7684\u5169\u908a\u4e0a\u7684\u512a\u5316\u3002\u5c0d\u65bc\u5176\u4ed6\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u5c0d\u61c9 100ns \u7684 step_pulse_duration \u3002","title":"\u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#avr","text":"\u5728AVR\u6676\u7247\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PA4 invert_step=0 step_pulse_ticks=32 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=0 step_pulse_ticks=32 config_stepper oid=2 step_pin=PC7 dir_pin=PC6 invert_step=0 step_pulse_ticks=32 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u8207 gcc \u7248\u672c avr-gcc \uff08GCC\uff09 5.4.0 \u300216Mhz \u548c 20Mhz \u6e2c\u8a66\u90fd\u4f7f\u7528\u4e86\u6309 atmega644p \u914d\u7f6e\u7684 simulavr \u57f7\u884c\uff08\u4ee5\u524d\u7684\u6e2c\u8a66\u5df2\u7d93\u78ba\u8a8d\u4e8616Mhz at90usb \u548c16Mhz atmega2560 \u7684\u5be6\u969b\u6548\u80fd\u8207 simulavr \u7d50\u679c\u76f8\u4f3c\uff09\u3002 avr ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 102 3\u500b\u6b65\u9032\u96fb\u6a5f 486","title":"AVR\u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#arduino-due","text":"\u4ee5\u4e0b\u662f\u5728Due\u4e0a\u4f7f\u7528\u7684\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB27 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB26 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA21 dir_pin=PC30 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam3x8e ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 66 3\u500b\u6b65\u9032\u96fb\u6a5f 257","title":"Arduino Due \u7684\u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#duet-maestro","text":"\u5728Duet Maestro\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC26 dir_pin=PC18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PC26 dir_pin=PA8 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PC26 dir_pin=PB4 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 sam4s8c ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 71 3\u500b\u6b65\u9032\u96fb\u6a5f 260","title":"Duet Maestro \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#duet-wifi","text":"\u5728Duet Wifi\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PD6 dir_pin=PD11 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PD7 dir_pin=PD12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PD8 dir_pin=PD13 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c gcc \u7248\u672c 10.3.1 20210621\uff08\u767c\u4f48\u7248\uff09 (GNU Arm Embedded Toolchain 10.3-2021.07) \u3002 sam4e8e ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 48 3\u500b\u6b65\u9032\u96fb\u6a5f 215","title":"Duet Wifi \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#beaglebone-pru","text":"\u5728PRU\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio0_23 dir_pin=gpio1_12 invert_step=0 step_pulse_ticks=20 config_stepper oid=1 step_pin=gpio1_15 dir_pin=gpio0_26 invert_step=0 step_pulse_ticks=20 config_stepper oid=2 step_pin=gpio0_22 dir_pin=gpio2_1 invert_step=0 step_pulse_ticks=20 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba pru-gcc (GCC) 8.0.0 20170530\uff08\u5be6\u9a57\u7248\uff09 \u3002 \u53ef\u7a0b\u5f0f\u8a2d\u8a08\u5be6\u6642\u55ae\u5143 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 231 3\u500b\u6b65\u9032\u96fb\u6a5f 847","title":"Beaglebone PRU \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#stm32f042","text":"\u5728STM32F042\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA1 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA3 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB8 dir_pin=PA2 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f042 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 59 3\u500b\u6b65\u9032\u96fb\u6a5f 249","title":"STM32F042 \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#stm32f103","text":"\u5728STM32F103\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PC13 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA4 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 59314d99 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32f103 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 61 3\u500b\u6b65\u9032\u96fb\u6a5f 264","title":"STM32F103 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#stm32f4","text":"\u5728STM32F4\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA5 dir_pin=PB5 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB2 dir_pin=PB6 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB3 dir_pin=PB7 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc\u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002STM32F407 \u7684\u7d50\u679c\u662f\u901a\u904e\u5728 STM32F446 \u4e0a\u57f7\u884c STM32F407 \u4e8c\u9032\u5236\u6a94\u6848\u5f97\u5230\u7684\uff08\u56e0\u6b64\u6642\u9418\u662f 168Mhz \uff09\u3002 stm32f446 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 46 3\u500b\u6b65\u9032\u96fb\u6a5f 205 stm32f407 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 46 3\u500b\u6b65\u9032\u96fb\u6a5f 205","title":"STM32F4 \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#stm32g0b1","text":"\u5728 STM32G0B1 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PB13 dir_pin=PB12 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB10 dir_pin=PB2 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PB0 dir_pin=PC5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u6e2c\u8a66\u6700\u5f8c\u5728\u63d0\u4ea4 247cd753 \u4e0a\u57f7\u884c\uff0cgcc \u7248\u672c\u70ba arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u3002 stm32g0b1 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 58 3\u500b\u6b65\u9032\u96fb\u6a5f 243","title":"STM32G0B1 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#lpc176x","text":"\u5728LPC176x\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=P1.20 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=P1.21 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=P1.23 dir_pin=P1.18 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u3002120Mhz LPC1769 \u7684\u7d50\u679c\u662f\u901a\u904e\u5c07 LPC1768 \u8d85\u983b\u5230 120Mhz \u800c\u7372\u5f97\u7684\u3002 lpc1768 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 52 3\u500b\u6b65\u9032\u96fb\u6a5f 222 lpc1769 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 51 3\u500b\u6b65\u9032\u96fb\u6a5f 222","title":"LPC176x \u6b65\u9032\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#samd21","text":"\u5728SAMD21\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA27 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PB3 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA17 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \uff0cgcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD21G18 \u5fae\u63a7\u5236\u5668\u4e0a\u3002 SAMD21 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 70 3\u500b\u6b65\u9032\u96fb\u6a5f 306","title":"SAMD21 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#samd51","text":"\u5728SAMD51\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=PA22 dir_pin=PA20 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=PA22 dir_pin=PA21 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=PA22 dir_pin=PA19 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u8207 gcc \u7248\u672c arm-none-eabi-gcc \uff08Fedora 10.2.0-4.fc34\uff09 10.2.0 \u5728 SAMD51J19A \u5fae\u63a7\u5236\u5668\u4e0a\u57f7\u884c\u7684\u3002 SAMD51 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 39 3\u500b\u6b65\u9032\u96fb\u6a5f 191 1 stepper (200Mhz) 39 3 stepper (200Mhz) 181","title":"SAMD51 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#rp2040","text":"RP2040 \u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio25 dir_pin=gpio3 invert_step=-1 step_pulse_ticks=0 config_stepper oid=1 step_pin=gpio26 dir_pin=gpio4 invert_step=-1 step_pulse_ticks=0 config_stepper oid=2 step_pin=gpio27 dir_pin=gpio5 invert_step=-1 step_pulse_ticks=0 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u5728 Raspberry Pi Pico \u677f\u4e0a\u4f7f\u7528 gcc \u7248\u672c arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0 \u548c\u63d0\u4ea4 59314d99 \u57f7\u884c\u3002 rp2040 ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 5 3\u500b\u6b65\u9032\u96fb\u6a5f 22","title":"RP2040 \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#linux-mcu","text":"\u6a39\u8393\u6d3e\u4e0a\u4f7f\u7528\u4ee5\u4e0b\u914d\u7f6e\u5e8f\u5217\uff1a allocate_oids count=3 config_stepper oid=0 step_pin=gpio2 dir_pin=gpio3 invert_step=0 step_pulse_ticks=5 config_stepper oid=1 step_pin=gpio4 dir_pin=gpio5 invert_step=0 step_pulse_ticks=5 config_stepper oid=2 step_pin=gpio6 dir_pin=gpio17 invert_step=0 step_pulse_ticks=5 finalize_config crc=0 \u8a72\u6e2c\u8a66\u6700\u5f8c\u4e00\u6b21\u57f7\u884c\u4f7f\u7528\u4e86\u63d0\u4ea4 59314d99 \u8207 gcc \u7248\u672c gcc \uff08Raspbian 8.3.0-6+rpi1\uff09 8.3.0 \u5728 Raspberry Pi 3 \uff08\u4fee\u8a02\u7248 a02082\uff09 \u4e0a\u57f7\u884c\u3002\u5728\u9019\u500b\u57fa\u6e96\u6e2c\u8a66\u4e2d\u5f88\u96e3\u7372\u5f97\u7a69\u5b9a\u7684\u7d50\u679c\u3002 Linux (RPi3) ticks 1\u500b\u6b65\u9032\u96fb\u6a5f 160 3\u500b\u6b65\u9032\u96fb\u6a5f 380","title":"Linux MCU \u6b65\u901f\u7387\u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#command-dispatch","text":"\u547d\u4ee4\u6392\u7a0b\u57fa\u6e96\u6e2c\u8a66\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u8655\u7406\u591a\u5c11\u500b \"dummy\"\u547d\u4ee4\u3002\u5b83\u4e3b\u8981\u662f\u5c0d\u786c\u9ad4\u901a\u8a0a\u6a5f\u5236\u7684\u6e2c\u8a66\u3002\u8a72\u6e2c\u8a66\u4f7f\u7528console.py\u5de5\u5177\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u57f7\u884c\u3002\u4ee5\u4e0b\u662f\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230console.py\u7d42\u7aef\u8996\u7a97\u7684\u5167\u5bb9: DELAY {clock + 2*freq} get_uptime FLOOD 100000 0.0 debug_nop get_uptime \u7576\u6e2c\u8a66\u5b8c\u6210\u5f8c\uff0c\u78ba\u5b9a\u5169\u500b \"\u6b63\u5e38\u57f7\u884c\u6642\u9593 \"\u97ff\u61c9\u8cc7\u8a0a\u4e2d\u5831\u544a\u7684\u6642\u9418\u4e4b\u9593\u7684\u5dee\u7570\u3002\u7136\u5f8c\uff0c\u6bcf\u79d2\u9418\u7684\u7e3d\u547d\u4ee4\u6578\u662f 100000 * mcu_frequency / clock_diff \u3002 \u6ce8\u610f\uff0c\u9019\u500b\u6e2c\u8a66\u53ef\u80fd\u6703\u4f7fRaspberry Pi\u7684USB/CPU\u5bb9\u91cf\u9054\u5230\u98fd\u548c\u3002\u5982\u679c\u5728Raspberry Pi\u3001Beaglebone\u6216\u985e\u4f3c\u7684\u4e3b\u6a5f\u4e0a\u57f7\u884c\uff0c\u90a3\u9ebc\u8981\u589e\u52a0\u5ef6\u9072\uff08\u4f8b\u5982\uff0c DELAY {clock + 20*freq} get_uptime \uff09\u3002\u5728\u9069\u7528\u7684\u60c5\u6cc1\u4e0b\uff0c\u4e0b\u9762\u7684\u57fa\u6e96\u662f\u7528\u63a7\u5236\u6aaf.py\u5728\u684c\u9762\u985e\u6a5f\u5668\u4e0a\u57f7\u884c\uff0c\u88dd\u7f6e\u901a\u904e\u9ad8\u901f\u96c6\u7dda\u5668\u9023\u7dda\u3002 MCU Rate Build Build compiler stm32f042 (CAN) 18K c105adc8 arm-none-eabi-gcc (GNU Tools 7-2018-q3-update) 7.3.1 atmega2560 (\u5e8f\u5217\u532f\u6d41\u6392) 23K b161a69e avr-gcc (GCC) 4.8.1 sam3x8e (\u5e8f\u5217\u532f\u6d41\u6392) 23K b161a69e arm-none-eabi-gcc (Fedora 7.1.0-5.fc27) 7.1.0 at90usb1286 (USB) 75K 01d2183f avr-gcc (GCC) 5.4.0 samd21 (USB) 223K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 PRU\uff08\u5171\u4eab\u8a18\u61b6\u9ad4\uff09 260K c5968a08 pru-gcc (GCC) 8.0.0 20170530 (experimental) stm32f103 (USB) 355K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam3x8e (USB) 418K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1768 (USB) 534K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 lpc1769 (USB) 628K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 sam4s8c (USB) 650K 8d4a5c16 arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 samd51 (USB) 864K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 stm32f446 (USB) 870K 01d2183f arm-none-eabi-gcc (Fedora 7.4.0-1.fc30) 7.4.0 rp2040 (USB) 873K c5667193 arm-none-eabi-gcc (Fedora 10.2.0-4.fc34) 10.2.0","title":"Command dispatch \u57fa\u6e96\u6e2c\u8a66"},{"location":"Benchmarks.html#host","text":"\u53ef\u4ee5\u4f7f\u7528\u300c\u6279\u8655\u7406\u6a21\u5f0f\u300d\u8655\u7406\u6a5f\u5236\uff08\u5728 \u4e2d\u63cf\u8ff0\uff09\u5728\u4e3b\u6a5f\u8edf\u9ad4\u4e0a\u57f7\u884c\u6642\u5e8f\u6e2c\u8a66\u3002\u9019\u901a\u5e38\u662f\u901a\u904e\u9078\u64c7\u4e00\u500b\u5927\u800c\u8907\u96dc\u7684 G \u7a0b\u5f0f\u78bc\u6a94\u6848\u4e26\u8a08\u6642\u4e3b\u6a5f\u8edf\u9ad4\u8655\u7406\u5b83\u6240\u9700\u7684\u6642\u9593\u4f86\u5b8c\u6210\u7684\u3002\u4f8b\u5982\uff1a time ~/klippy-env/bin/python ./klippy/klippy.py config/example-cartesian.cfg -i something_complex.gcode -o /dev/null -d out/klipper.dict","title":"Host \u57fa\u6e96\u6e2c\u8a66"},{"location":"Bootloaders.html","text":"\u5e95\u5c64\u8f09\u5165\u7a0b\u5f0f \u00b6 \u672c\u6587\u4ef6\u4ecb\u7d39Klipper\u652f\u63f4\u7684\u7528\u65bc\u5fae\u63a7\u5236\u5668\u7684\u5e95\u5c64\u8f09\u5165\u7a0b\u5f0f\uff08bootloader\uff09\u3002 \u8f09\u5165\u7a0b\u5f0f\u662f\u7b2c\u4e09\u65b9\u8edf\u9ad4\uff0c\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u96fb\u540e\u512a\u5148\u57f7\u884c\u3002\u8a72\u7a0b\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u7279\u6b8a\u786c\u9ad4\uff08\u5982\u71d2\u9304\u5668\uff09\u4e0b\u5c0d\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u9032\u884c\u5237\u5beb\uff08\u5982\u5beb\u5165Klipper\u7a0b\u5f0f\uff09\u3002\u7136\u800c\uff0c\u76ee\u524d\u9084\u6c92\u6709\u4e00\u5237\u5beb\u5fae\u63a7\u5236\u5668\u7684\u5de5\u696d\u6a19\u6e96\uff0c\u4e5f\u6c92\u6709\u4e00\u500b\u9069\u7528\u65bc\u6240\u6709\u5fae\u63a7\u5236\u5668\u7684\u6a19\u6e96\u8f09\u5165\u7a0b\u5f0f\u3002\u66f4\u9ebb\u7169\u7684\u662f\uff0c\u6bcf\u7a2e\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u9700\u8981\u4e0d\u540c\u7684\u6b65\u9a5f\u4ee5\u89f8\u767c\u5237\u5beb\u529f\u80fd\u3002 \u5982\u679c\u80fd\u7528\u67d0\u7a2e\u65b9\u5f0f\u5c07 bootloader \u5237\u5beb\u5230\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u8a72\u65b9\u5f0f\u901a\u5e38\u4e5f\u80fd\u5b8c\u6210\u7a0b\u5f0f\u5237\u5beb\u64cd\u4f5c\uff0c\u4f46\u662f\uff0c\u9019\u7a2e\u76f4\u63a5\u5237\u5beb\u53ef\u80fd\u6703\u5c07 bootloader \u8986\u84cb\u6389\u3002\u76f8\u5c0d\u5730\uff0cbootloader \u53ea\u5141\u8a31\u4f7f\u7528\u8005\u5237\u5beb\u61c9\u7528\u7a0b\u5f0f\u5340\u57df\u3002\u56e0\u6b64\uff0c\u5118\u53ef\u80fd\u4f7f\u7528 bootloader \u5b8c\u6210\u7a0b\u5f0f\u7684\u5237\u5beb\u3002 \u8a72\u6587\u4ef6\u5c07\u76e1\u53ef\u80fd\u4ecb\u7d39\u5e38\u898b\u7684bootloaders\uff0c\u5237\u5165bootloader\u6240\u9700\u7684\u6b65\u9a5f\u548c\u89f8\u767cbootloader\u9032\u884c\u7a0b\u5f0f\u5237\u5beb\u7684\u6d41\u7a0b\u3002\u8a72\u6587\u4ef6\u4ea6\u975e\u5b98\u65b9\u6307\u5f15\uff0c\u9019\u53ea\u662f\u5728Klipper\u958b\u767c\u4eba\u54e1\u4f7f\u7528\u904e\u7a0b\u4e2d\u6536\u96c6\u5230\u7684\u6709\u7528\u8cc7\u8a0a\u3002 AVR \u5fae\u63a7\u5236\u5668 \u00b6 \u7e3d\u9ad4\u4e0a\u4f86\u8aaa\uff0cArduino\u5c08\u6848\u662f8\u4f4dAtmel Atmega\u5fae\u63a7\u5236\u5668\u7684\u8f09\u5165\u7a0b\u5f0f\u548c\u5237\u5beb\u7a0b\u5f0f\u7684\u597d\u7684\u53c3\u8003\u3002\u7279\u5225\u662f\" boards.txt \"\u6a94\u6848\u3002 https://github.com/arduino/Arduino/blob/1.8.5/hardware/arduino/avr/boards.txt \u662f\u4e00\u500b\u6709\u7528\u7684\u53c3\u8003\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0cAVR \u6676\u7247\u9700\u8981\u4e00\u500b\u5916\u90e8\u786c\u9ad4\u5237\u5beb\u5de5\u5177\uff08\u5b83\u4f7f\u7528 SPI \u8207\u6676\u7247\u9032\u884c\u901a\u8a0a\uff09\u3002\u9019\u500b\u5de5\u5177\u53ef\u4ee5\u8cfc\u8cb7\uff08\u4f8b\u5982\uff0c\u5728\u7db2\u4e0a\u641c\u7d22 \"avr isp\"\u3001\"arduino isp \"\u6216 \"usb tiny isp\"\uff09\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\u53e6\u4e00\u500bArduino\u6216Raspberry Pi\u4f86\u5feb\u9583\u8a18\u61b6\u9ad4AVR\u8f09\u5165\u7a0b\u5f0f\uff08\u4f8b\u5982\uff0c\u5728\u7db2\u4e0a\u641c\u7d22 \"\u7528raspberry pi\u7a0b\u5f0f\u8a2d\u8a08AVR\"\uff09\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5728\u5047\u8a2d\u4f7f\u7528 \"AVR ISP Mk2 \"\u578b\u5225\u7684\u88dd\u7f6e\u7684\u60c5\u6cc1\u4e0b\u7de8\u5beb\u7684\u3002 \"avrdude \"\u7a0b\u5f0f\u662f\u6700\u5e38\u7528\u7684\u5de5\u5177\uff0c\u7528\u65bc\u5237\u5bebatmega\u6676\u7247\uff08\u5305\u62ec\u8f09\u5165\u7a0b\u5f0f\u5237\u5beb\u548c\u61c9\u7528\u7a0b\u5f0f\u5237\u5beb\uff09\u3002 Atmega2560 \u00b6 \u9019\u500b\u6676\u7247\u901a\u5e38\u51fa\u73fe\u5728 \"Arduino Mega\" \u4e2d\uff0c\u57283D\u5370\u8868\u6a5f\u4e3b\u677f\u4e2d\u4e5f\u5341\u5206\u666e\u904d\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/stk500v2/stk500boot_v2_mega2560.hex' avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xD8:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U flash:w:stk500boot_v2_mega2560.hex avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a avrdude -cwiring -patmega2560 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i Atmega1280 \u00b6 \u9019\u500b\u6676\u7247\u901a\u5e38\u51fa\u73fe\u5728\u65e9\u671f\u7248\u672c\u7684 \"Arduino Mega \"\u4e2d\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/atmega/ATmegaBOOT_168_atmega1280.hex' avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xF5:m -U hfuse:w:0xDA:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U flash:w:ATmegaBOOT_168_atmega1280.hex avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a avrdude -carduino -patmega1280 -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i Atmega1284p \u00b6 \u9019\u7a2e\u6676\u7247\u901a\u5e38\u51fa\u73fe\u5728 \"Melzi \"\u5f0f\u76843D\u5370\u8868\u6a5f\u4e3b\u677f\u4e0a\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/Lauszus/Sanguino/raw/1.0.2/bootloaders/optiboot/optiboot_atmega1284p.hex' avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xDE:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega1284p.hex avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i \u6ce8\u610f\uff0c\u4e00\u4e9b \"Melzi \"\u98a8\u683c\u7684\u677f\u5b50\u9810\u8f09\u4e86\u4e00\u500b\u4f7f\u752857600\u6ce2\u7279\u7387\u7684\u8f09\u5165\u7a0b\u5f0f\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u9019\u6a23\u7684\u6771\u897f\u4f86\u4ee3\u66ff\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i At90usb1286 \u00b6 \u672c\u6a94\u6848\u4e0d\u5305\u62ec\u5411At90usb1286\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u7684\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u5305\u62ec\u5411\u8a72\u88dd\u7f6e\u5237\u5beb\u4e00\u822c\u61c9\u7528\u3002 \u4f86\u81eapjrc.com\u7684Teensy++\u88dd\u7f6e\u5e36\u6709\u4e00\u500b\u5c08\u7528\u7684\u8f09\u5165\u7a0b\u5f0f\u3002\u5b83\u9700\u8981\u4e00\u500b\u4f86\u81ea https://github.com/PaulStoffregen/teensy_loader_cli \u7684\u5b9a\u88fd\u5237\u5beb\u5de5\u5177\u3002\u53ef\u4ee5\u7528\u9019\u500b\u5de5\u5177\u4f86\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u4f8b\u5982\uff1a teensy_loader_cli --mcu=at90usb1286 out/klipper.elf.hex -v Atmega168 \u00b6 atmega168\u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\u6709\u9650\u3002\u5982\u679c\u4f7f\u7528\u8f09\u5165\u7a0b\u5f0f\uff0c\u5efa\u8b70\u4f7f\u7528Optiboot bootloader\u3002\u8981\u5237\u5beb\u8a72\u8f09\u5165\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u9019\u500b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/optiboot/optiboot_atmega168.hex' avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0x04:m -U hfuse:w:0xDD:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega168.hex avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u901a\u904eOptiboot bootloader \u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a avrdude -carduino -patmega168 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i SAM3 \u5fae\u63a7\u5236\u5668 (Arduino Due) \u00b6 \u901a\u5e38\u5728 SAM 3 \u5fae\u63a7\u5236\u5668\u4e0a\u4e0d\u4f7f\u7528\u8f09\u5165\u7a0b\u5f0f\u3002\u6676\u7247\u81ea\u5e36\u4e00\u500b\u5141\u8a31\u5f9e3.3V \u4e32\u5217\u57e0\u6216\u5f9eUSB\u9032\u884c\u7a0b\u5f0f\u8a2d\u8a08\u7684ROM\u3002 \u7232\u4e86\u555f\u7528ROM\uff0c\u5c07\"erase\"\u5f15\u8173\u5728\u5fa9\u4f4d\u904e\u7a0b\u4e2d\u4fdd\u6301\u9ad8\u96fb\u5e73\uff0c\u9019\u5c07\u64e6\u9664\u5feb\u9583\u8a18\u61b6\u9ad4\u7684\u5167\u5bb9\uff0c\u4e26\u4f7fROM\u57f7\u884c\u3002\u5728Arduino Due\u4e0a\uff0c\u9019\u500b\u7a0b\u5f0f\u53ef\u4ee5\u901a\u904e\u5728 \"programming usb port\"\uff08\u7a0b\u5f0f\u8a2d\u8a08USB\u53e3\uff0c\u6700\u9760\u8fd1\u96fb\u6e90\u7684USB\u57e0\uff09\u4e0a\u8a2d\u5b9a1200\u7684\u6ce2\u7279\u7387\u4f86\u5b8c\u6210\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u7528\u4f86\u70baSAM3\u7a0b\u5f0f\u8a2d\u8a08\u3002\u5efa\u8b70\u4f7f\u75281.9\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a bossac -U -p /dev/ttyACM0 -a -e -w out/klipper.bin -v -b bossac -U -p /dev/ttyACM0 -R SAM4 \u5fae\u63a7\u5236\u5668 (Duet Wifi) \u00b6 \u901a\u5e38\u5728 SAM4 \u5fae\u63a7\u5236\u5668\u4e2d\u4e0d\u4f7f\u7528\u8f09\u5165\u7a0b\u5f0f\u3002\u6676\u7247\u81ea\u5e36\u4e00\u500b\u53ef\u4ee5\u5f9e 3.3V \u4e32\u5217\u57e0\u6216 USB \u9032\u884c\u7a0b\u5f0f\u8a2d\u8a08\u7684ROM\u3002 \u7232\u4e86\u555f\u7528ROM\uff0c\u5728\u5fa9\u4f4d\u904e\u7a0b\u4e2d\u8981\u5c07\"erase\"\u5f15\u8173\u4fdd\u6301\u70ba\u9ad8\u96fb\u5e73\uff0c\u9019\u5c07\u64e6\u9664\u5feb\u9583\u8a18\u61b6\u9ad4\u5167\u5bb9\uff0c\u4e26\u4f7fROM\u57f7\u884c\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u7528\u4f86\u70baSAM4\u7a0b\u5f0f\u8a2d\u8a08\u3002\u9700\u8981\u4f7f\u7528 1.8.0 \u6216\u66f4\u9ad8\u7684\u7248\u672c\u3002 \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a bossac --port=/dev/ttyACM0 -b -U -e -w -v -R out/klipper.bin SAMD21\u5fae\u63a7\u5236\u5668\uff08Arduino Zero\uff09 \u00b6 SAMD21 \u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u901a\u904e ARM \u5e8f\u5217\u7dda\u9664\u932f \uff08SWD\uff09 \u4ecb\u9762\u9032\u884c\u5237\u5beb\uff0c\u901a\u5e38\u9700\u8981\u4e00\u500b\u5c08\u7528\u7684 SWD \u786c\u9ad4\u8f49\u63db\u5668\u6216\u8005\u4f7f\u7528 \u5b89\u88dd\u4e86 OpenOCD \u7684 Raspberry Pi \u4f86\u5b8c\u6210\u3002 \u8981\u4f7f\u7528 OpenOCD \u5237\u5beb\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u6676\u7247\u914d\u7f6e\uff1a \u4f86\u6e90 [\u67e5\u8a62\u76ee\u6a19/at91samdXX.cfg] \u7372\u53d6\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f - \u4f8b\u5982\uff1a wget 'https://github.com/arduino/ArduinoCore-samd/raw/1.8.3/bootloaders/zero/samd21_sam_ba.bin' \u4f7f\u7528\u985e\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u4f86\u5237\u5beb\uff1a at91samd bootloader 0 program samd21_sam_ba.bin verify SAMD21\u4e0a\u6700\u5e38\u898b\u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u53ef\u4ee5\u5728 \"Arduino Zero \"\u4e0a\u627e\u5230\u3002\u5b83\u4f7f\u7528\u4e00\u500b 8KiB \u7684\u8f09\u5165\u7a0b\u5f0f\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\uff0c\u6309\u4e0b\u5fa9\u4f4d\u6309\u9215\u5169\u6b21\u5c31\u53ef\u4ee5\u9032\u5165\u3002\u8981\u5237\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x2000 -w out/klipper.bin -v -b -R \u76f8\u6bd4\u4e4b\u4e0b\uff0c\"Arduino M0 \"\u4f7f\u7528\u4e00\u500b 16KiB \u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff08\u7a0b\u5f0f\u5fc5\u9808\u7528 16KiB \u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002\u4f7f\u7528\u9019\u500b\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u4f86\u5237\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u8acb\u91cd\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u4e26\u5728\u555f\u52d5\u7684\u982d\u5e7e\u79d2\u9418\u5167\u57f7\u884c\u5237\u5beb\u547d\u4ee4--\u985e\u4f3c\u5982\u4e0b\u547d\u4ee4\uff1a avrdude -c stk500v2 -p atmega2560 -P /dev/ttyACM0 -u -Uflash:w:out/klipper.elf.hex:i SAMD51 \u5fae\u63a7\u5236\u5668(Adafruit Metro-M4\u53ca\u985e\u4f3c\u7684\u958b\u767c\u677f) \u00b6 \u548c SAMD21 \u4e00\u6a23\uff0cSAMD51 \u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u4e5f\u662f\u901a\u904e ARM \u5e8f\u5217\u7dda\u9664\u932f\uff08SWD\uff09\u4ecb\u9762\u5237\u5beb\u7684\u3002\u8981\u7528 \u57f7\u884c OpenOCD\u7684 Raspberry Pi \u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u6676\u7247\u914d\u7f6e\uff1a \u4f86\u6e90 [\u67e5\u8a62\u76ee\u6a19/atsame5x.cfg] \u7372\u5f97\u4e00\u500b\u8f09\u5165\u7a0b\u5f0f--\u5f88\u591a\u8f09\u5165\u7a0b\u5f0f\u53ef\u4ee5\u5f9e https://github.com/adafruit/uf2-samdx1/releases/latest \u7372\u5f97\u3002\u4f8b\u5982\uff1a wget 'https://github.com/adafruit/uf2-samdx1/releases/download/v3.7.0/bootloader-itsybitsy_m4-v3.7.0.bin' \u4f7f\u7528\u985e\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u4f86\u5237\u5beb\uff1a at91samd bootloader 0 program bootloader-itsybitsy_m4-v3.7.0.bin verify at91samd bootloader 16384 SAMD51 \u4f7f\u7528 16KiB \u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002\u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x4000 -w out/klipper.bin -v -b -R STM32F103 \u5fae\u63a7\u5236\u5668\uff08Blue Pill \u958b\u767c\u677f\uff09 \u00b6 The STM32F103 devices have a ROM that can flash a bootloader or application via 3.3V serial. Typically one would wire the PA10 (MCU Rx) and PA9 (MCU Tx) pins to a 3.3V UART adapter. To access the ROM, one should connect the \"boot 0\" pin to high and \"boot 1\" pin to low, and then reset the device. The \"stm32flash\" package can then be used to flash the device using something like: stm32flash -w out/klipper.bin -v -g 0 /dev/ttyAMA0 \u6ce8\u610f\uff0c\u5982\u679c\u4f7f\u7528\u6a39\u8393\u6d3e\u76843.3V\u4e32\u5217\u57e0\uff0cstm32flash\u5354\u8b70\u4f7f\u7528\u7684\u5e8f\u5217\u5947\u5076\u6821\u9a57\u6a21\u5f0f\uff0c\u6a39\u8393\u6d3e\u7684 \"mini UART \"\u4e26\u4e0d\u652f\u63f4\u3002\u95dc\u65bc\u5728\u6a39\u8393\u6d3e\u7684GPIO\u5f15\u8173\u4e0a\u555f\u7528\u5b8c\u6574\u7684UART\u7684\u7d30\u7bc0\uff0c\u898b https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts \u3002 \u5237\u5beb\u540e\uff0c\u5c07 \"boot 0 \"\u548c \"boot 1 \"\u90fd\u6062\u5fa9\u8a2d\u70ba\u4f4e\u96fb\u5e73\uff0c\u4ee5\u4fbf\u5728\u5fa9\u4f4d\u540e\u5f9e\u5feb\u9583\u8a18\u61b6\u9ad4\u555f\u52d5\u3002 \u5e36\u6709 stm32duino \u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u7684 STM32F103 \u00b6 \"stm32duino \"\u5c08\u6848\u6709\u4e00\u500bUSB\u529f\u80fd\u7684\u8f09\u5165\u7a0b\u5f0f-\u53c3\u898b\uff1a https://github.com/rogerclarkmelbourne/STM32duino-bootloader \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u53ef\u4ee5\u901a\u904e3.3V\u7684\u4e32\u5217\u57e0\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u4f86\u5237\u5beb\uff1a wget 'https://github.com/rogerclarkmelbourne/STM32duino-bootloader/raw/master/binaries/generic_boot20_pc13.bin' stm32flash -w generic_boot20_pc13.bin -v -g 0 /dev/ttyAMA0 \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u4f7f\u7528 8KiB \u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u7de8\u8b6f\uff09\u3002\u5237\u5beb\u61c9\u7528\u7a0b\u5f0f\u9700\u8981\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a dfu-util -d 1eaf:0003 -a 2 -R -D out/klipper.bin \u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u901a\u5e38\u53ea\u5728\u555f\u52d5\u540e\u7684\u4e00\u5c0f\u6bb5\u6642\u9593\u57f7\u884c\u3002\u5728\u8f38\u5165\u4ee5\u4e0a\u547d\u4ee4\u7684\u6642\u5019\uff0c\u9700\u8981\u78ba\u4fdd\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u9084\u5728\u57f7\u884c\uff08\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u57f7\u884c\u7684\u6642\u5019\u6703\u63a7\u5236\u677f\u4e0a\u7684led\u9583\u720d\uff09\u3002\u6b64\u5916\uff0c\u555f\u52d5\u540e\u5982\u679c\u8a2d\u5b9a\u300cboot 0\u300d\u5f15\u8173\u70ba\u4f4e\uff0c\u8a2d\u5b9a\u300cboot 1\u300d\u5f15\u8173\u70ba\u9ad8\u5247\u53ef\u4ee5\u4e00\u76f4\u505c\u7559\u5728\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u3002 \u5e36\u6709 HID \u8f09\u5165\u7a0b\u5f0f\u7684STM32F103 \u00b6 HID bootloader \u662f\u4e00\u500b\u7dca\u6e4a\u7684\u3001\u4e0d\u5305\u542b\u9a45\u52d5\u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff0c\u80fd\u5920\u901a\u904eUSB\u9032\u884c\u5237\u5beb\u3002\u6b64\u5916\uff0c\u9084\u6709\u4e00\u500b \u91dd\u5c0dSKR Mini E3 1.2\u69cb\u5efa\u7684\u5206\u652f \u3002 \u5c0d\u65bc\u5e38\u898b\u7684STM32F103\u677f\uff0c\u5982Blue Pill\uff0c\u548c stm32duino \u7ae0\u7bc0\u4e2d\u4e00\u6a23\uff0c\u53ef\u4ee5\u901a\u904e 3.3v \u5e8f\u5217\u7528stm32flash \u5237\u5beb\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff0c\u5c07\u6a94\u540d\u66ff\u63db\u70ba\u6240\u9700\u7684 hid\u8f09\u5165\u7a0b\u5f0f\u4e8c\u9032\u5236\u6a94\u6848\uff08\u4f8b\u5982Blue Pill \u4f7f\u7528\u7684 hid_generic_pc13.bin\uff09\u3002 SKR Mini E3\u7121\u6cd5\u4f7f\u7528stm32flash \uff0c\u56e0\u70baboot 0\u5f15\u8173\u88ab\u76f4\u63a5\u63a5\u5230GND\u4e14\u6c92\u6709\u8df3\u7dda\u65b7\u958b\u3002\u63a8\u85a6\u4f7f\u7528STLink V2\u901a\u904eSTM32Cubeprogrammer\u5237\u5beb\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u3002\u5982\u679c\u4f60\u6c92\u6709STLink \uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6676\u7247\u914d\u7f6e\u4f7f\u7528 \u6a39\u8393\u6d3e\u548cOpenOCD \u5237\u5beb\uff1a \u4f86\u6e90 [\u67e5\u8a62\u76ee\u6a19/stm32f1x.cfg] \u5982\u679c\u4f60\u9858\u610f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5099\u4efd\u76ee\u524d\u5feb\u9583\u8a18\u61b6\u9ad4\u4e0a\u7684\u7a0b\u5f0f\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u6642\u9593\u4f86\u5b8c\u6210\u5099\u4efd\uff1a flash read_bank 0 btt_skr_mini_e3_backup.bin \u6700\u5f8c\uff0c\u4f60\u53ef\u4ee5\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u5237\u5beb\u97cc\u9ad4\uff1a stm32f1x mass_erase 0 program hid_btt_skr_mini_e3.bin verify 0x08000000 \u6ce8\u610f\uff1a \u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u5148\u64e6\u9664\u6676\u7247\uff0c\u7136\u5f8c\u518d\u5beb\u5165\u8f09\u5165\u7a0b\u5f0f\u3002\u7121\u8ad6\u9078\u64c7\u54ea\u7a2e\u65b9\u6cd5\u5237\u5beb\uff0c\u90fd\u5efa\u8b70\u5728\u5237\u5beb\u524d\u64e6\u9664\u6676\u7247\u3002 \u5728\u7528\u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u5237\u5bebSKR Mini E3\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u77e5\u9053\u4e4b\u5f8c\u4f60\u5c07\u4e0d\u80fd\u518d\u901a\u904eSD\u5361\u66f4\u65b0\u97cc\u9ad4\u3002 You may need to hold down the reset button on the board while launching OpenOCD. It should display something like: Open On-Chip Debugger 0.10.0+dev-01204-gc60252ac-dirty (2020-04-27-16:00) Licensed under GNU GPL v2 For bug reports, read http://openocd.org/doc/doxygen/bugs.html DEPRECATED! use 'adapter speed' not 'adapter_khz' Info : BCM2835 GPIO JTAG/SWD bitbang driver Info : JTAG and SWD modes enabled Info : clock speed 40 kHz Info : SWD DPIDR 0x1ba01477 Info : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints Info : stm32f1x.cpu: external reset detected Info : starting gdb server for stm32f1x.cpu on 3333 Info : Listening on port 3333 for gdb connections \u4e4b\u5f8c\u53ef\u4ee5\u9b06\u958b\u5fa9\u4f4d\u6309\u9215\u3002 \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u9700\u89812KiB\u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee52KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002 hid-flash\u7a0b\u5f0f\u662f\u7528\u4f86\u4e0a\u50b3\u4e8c\u9032\u5236\u6a94\u6848\u5230\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u7684\u3002\u4f60\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88dd\u9019\u500b\u8edf\u9ad4\uff1a sudo apt install libusb-1.0 cd ~/klipper/lib/hidflash make \u5982\u679cbootloader\u6b63\u5728\u57f7\u884c\uff0c\u4f60\u53ef\u4ee5\u7528\u9019\u500b\u4f86\u5237\u5beb\uff1a ~/klipper/lib/hidflash/hid-flash ~/klipper/out/klipper.bin \u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 make flash \u4f86\u76f4\u63a5\u5237\u5bebklipper\uff1a make flash FLASH_DEVICE=1209:BEBA \u6216\u8005\uff0c\u5982\u679cklipper\u4e4b\u524d\u5df2\u7d93\u88ab\u5beb\u5165\u904e\uff1a make flash FLASH_DEVICE=/dev/ttyACM0 \u53ef\u80fd\u9700\u8981\u624b\u52d5\u9032\u5165\u8f09\u5165\u7a0b\u5f0f\uff0c\u9019\u53ef\u4ee5\u901a\u904e\u8a2d\u5b9a \"boot 0 \"\u7684\u4f4e\u96fb\u5e73\u548c \"boot 1 \"\u7684\u9ad8\u96fb\u5e73\u4f86\u5b8c\u6210\u3002\u5728SKR Mini E3\u4e0a\uff0c\"Boot 1 \"\u662f\u4e0d\u53ef\u7528\u7684\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u5beb\u5165\u904e\"hid_btt_skr_mini_e3.bin\"\uff0c\u53ef\u4ee5\u901a\u904e\u8a2d\u5b9aPA2\u7684\u4f4e\u96fb\u5e73\u4f86\u5b8c\u6210\u3002\u5728SKR Mini E3\u7684 \"PIN \"\u6a94\u6848\u4e2d\uff0c\u9019\u500b\u5f15\u8173\u5728TFT\u63d2\u5ea7\u4e0a\u88ab\u6a19\u8a18\u70ba \"TX0\"\u3002\u5728PA2\u65c1\u908a\u6709\u4e00\u500b\u63a5\u5730\u5f15\u8173\uff0c\u4f60\u53ef\u4ee5\u7528\u5b83\u4f86\u628aPA2\u62c9\u4f4e\u3002 STM32F103/STM32F072 with MSC bootloader \u00b6 The MSC bootloader is a driverless bootloader capable of flashing over USB. It is possible to flash the bootloader via 3.3v serial using stm32flash as noted in the stm32duino section above, substituting the file name for the desired MSC bootloader binary (ie: MSCboot-Bluepill.bin for the blue pill). For STM32F072 boards it is also possible to flash the bootloader over USB (via DFU) with something like: dfu-util -d 0483:df11 -a 0 -R -D MSCboot-STM32F072.bin -s0x08000000:leave This bootloader uses 8KiB or 16KiB of flash space, see description of the bootloader (the application must be compiled with with the corresponding starting address). The bootloader can be activated by pressing the reset button of the board twice. As soon as the bootloader is activated, the board appears as a USB flash drive onto which the klipper.bin file can be copied. STM32F103/STM32F0x2 with CanBoot bootloader \u00b6 The CanBoot bootloader provides an option for uploading Klipper firmware over the CANBUS. The bootloader itself is derived from Klipper's source code. Currently CanBoot supports the STM32F103, STM32F042, and STM32F072 models. It is recommended to use a ST-Link Programmer to flash CanBoot, however it should be possible to flash using stm32flash on STM32F103 devices, and dfu-util on STM32F042/STM32F072 devices. See the previous sections in this document for instructions on these flashing methods, substituting canboot.bin for the file name where appropriate. The CanBoot repo linked above provides instructions for building the bootloader. The first time CanBoot has been flashed it should detect that no application is present and enter the bootloader. If this doesn't occur it is possible to enter the bootloader by pressing the reset button twice in succession. The flash_can.py utility supplied in the lib/canboot folder may be used to upload Klipper firmware. The device UUID is necessary to flash. If you do not have a UUID it is possible to query nodes currently running the bootloader: python3 flash_can.py -q This will return UUIDs for all connected nodes not currently assigned a UUID. This should include all nodes currently in the bootloader. Once you have a UUID, you may upload firmware with following command: python3 flash_can.py -i can0 -f ~/klipper/out/klipper.bin -u aabbccddeeff Where aabbccddeeff is replaced by your UUID. Note that the -i and -f options may be omitted, they default to can0 and ~/klipper/out/klipper.bin respectively. When building Klipper for use with CanBoot, select the 8 KiB Bootloader option. STM32F4 \u5fae\u63a7\u5236\u5668 (SKR Pro 1.1) \u00b6 STM32F4\u5fae\u63a7\u5236\u5668\u914d\u5099\u4e86\u4e00\u500b\u5167\u5efa\u7684\u7cfb\u7d71\u8f09\u5165\u7a0b\u5f0f\uff0c\u80fd\u5920\u901a\u904eUSB\uff08\u901a\u904eDFU\uff09\u30013.3v\u4e32\u5217\u57e0\u548c\u5176\u4ed6\u5404\u7a2e\u65b9\u6cd5\u9032\u884c\u5237\u5beb\uff08\u66f4\u591a\u8cc7\u8a0a\u898bSTM\u6a94\u6848AN2606\uff09\u3002\u4e00\u4e9bSTM32F4\u677f\uff0c\u5982SKR Pro 1.1\uff0c\u4e0d\u80fd\u9032\u5165DFU\u8f09\u5165\u7a0b\u5f0f\u3002\u57fa\u65bcSTM32F405/407\u7684\u677f\u5b50\u53ef\u4ee5\u4f7f\u7528HID\u8f09\u5165\u7a0b\u5f0f\uff0c\u5982\u679c\u4f7f\u7528\u8005\u9858\u610f\u901a\u904eUSB\u5237\u5beb\u800c\u4e0d\u662f\u4f7f\u7528SD\u5361\u3002\u8acb\u6ce8\u610f\uff0c\u4f60\u53ef\u80fd\u9700\u91dd\u5c0d\u4f60\u7684\u677f\u5b50\u914d\u7f6e\u548c\u69cb\u5efa\u4e00\u500b\u7279\u5b9a\u7684\u7248\u672c\uff0c \u91dd\u5c0dSKR Pro 1.1\u7684\u69cb\u5efa\u53ef\u4ee5\u5728\u9019\u88e1\u627e\u5230 \u3002 \u9664\u975e\u4f60\u7684\u677f\u5b50\u6709DFU\u529f\u80fd\uff0c\u5426\u5247\u6700\u5bb9\u6613\u7684\u5beb\u5165\u65b9\u6cd5\u53ef\u80fd\u662f\u901a\u904e3.3v\u7684\u4e32\u5217\u57e0\uff0c\u9019\u8207 \u4f7f\u7528stm32flash\u5237\u5bebSTM32F103 \u7684\u6b65\u9a5f\u76f8\u540c\u3002\u4f8b\u5982\uff1a wget https://github.com/Arksine/STM32_HID_Bootloader/releases/download/v0.5-beta/hid_bootloader_SKR_PRO.bin stm32flash -w hid_bootloader_SKR_PRO.bin -v -g 0 /dev/ttyAMA0 \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u5728STM32F4\u4e0a\u9700\u898116Kib\u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002 \u8207STM32F1\u4e00\u6a23\uff0cSTM32F4\u4f7f\u7528hid-flash\u5de5\u5177\u4f86\u4e0a\u50b3\u4e8c\u9032\u5236\u6a94\u6848\u5230MCU\u3002\u95dc\u65bc\u5982\u4f55\u69cb\u5efa\u548c\u4f7f\u7528hid-flash\u7684\u7d30\u7bc0\uff0c\u8acb\u53c3\u898b\u4e0a\u9762\u7684\u8aaa\u660e\u3002 \u53ef\u80fd\u9700\u8981\u624b\u52d5\u9032\u5165\u8f09\u5165\u7a0b\u5f0f\uff0c\u9019\u53ef\u4ee5\u901a\u904e\u8a2d\u5b9a \"boot 0 \"\u70ba\u4f4e\u96fb\u5e73\uff0c\"boot 1 \"\u70ba\u9ad8\u96fb\u5e73\u4e26\u4e0a\u96fb\u4f86\u5b8c\u6210\u3002\u7a0b\u5f0f\u8a2d\u8a08\u5b8c\u6210\u5f8c\uff0c\u88dd\u7f6e\u65b7\u96fb\uff0c\u5c07 \"boot 1 \"\u91cd\u8a2d\u70ba\u4f4e\u96fb\u5e73\uff0c\u9019\u6a23\u61c9\u7528\u7a0b\u5f0f\u5c31\u6703\u88ab\u8f09\u5165\u3002 LPC176x\u5fae\u63a7\u5236\u5668\uff08Smoothieboards\uff09 \u00b6 \u672c\u6a94\u6848\u6c92\u6709\u63cf\u8ff0\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\u7684\u65b9\u6cd5--\u898b\uff1a http://smoothieware.org/flashing-the-bootloader \u4ee5\u7372\u5f97\u95dc\u65bc\u8a72\u4e3b\u984c\u7684\u9032\u4e00\u6b65\u8cc7\u8a0a\u3002 Smoothieboards\u901a\u5e38\u5e36\u6709\u4e00\u500b\u4f86\u81ea https://github.com/triffid/LPC17xx-DFU-Bootloader \u7684bootloader\u3002\u7576\u4f7f\u7528\u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u6642\uff0c\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\u3002\u7528\u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u5237\u5beb\u61c9\u7528\u7a0b\u5f0f\u7684\u6700\u7c21\u55ae\u65b9\u6cd5\u662f\u5c07\u61c9\u7528\u7a0b\u5f0f\u6a94\u6848\uff08\u4f8b\u5982 out/klipper.bin \uff09\u8907\u88fd\u5230SD\u5361\u4e0a\u4e00\u500b\u540d\u70ba firmware.bin \u7684\u6a94\u6848\uff0c\u7136\u5f8c\u7528\u8a72SD\u5361\u91cd\u65b0\u555f\u52d5\u5fae\u63a7\u5236\u5668\u3002 \u5728\u6a39\u8393\u6d3e\u4e0a\u57f7\u884cOpenOCD \u00b6 OpenOCD\u662f\u4e00\u500b\u8edf\u9ad4\u5305\uff0c\u53ef\u4ee5\u9032\u884c\u5e95\u5c64\u7684\u6676\u7247\u7a0b\u5f0f\u8a2d\u8a08\u548c\u9664\u932f\u3002\u5b83\u53ef\u4ee5\u4f7f\u7528\u6a39\u8393\u6d3e\u4e0a\u7684GPIO\u5f15\u8173\u8207\u5404\u7a2eARM\u6676\u7247\u901a\u8a0a\u3002 \u672c\u7bc0\u63cf\u8ff0\u77ad\u5982\u4f55\u5b89\u88dd\u548c\u555f\u52d5OpenOCD\u3002\u5b83\u4f86\u81ea\u65bc\u4ee5\u4e0b\u7684\u8aaa\u660e\uff1a https://learn.adafruit.com/programming-microcontrollers-using-openocd-on-raspberry-pi \u958b\u59cb\u4e0b\u8f09\u548c\u7de8\u8b6f\u8edf\u9ad4\uff08\u6bcf\u500b\u6b65\u9a5f\u53ef\u80fd\u9700\u8981\u6578\u5206\u9418\uff0c\"make \"\u6b65\u9a5f\u53ef\u80fd\u9700\u898130\u5206\u9418\u4ee5\u4e0a\uff09\uff1a sudo apt-get update sudo apt-get install autoconf libtool telnet mkdir ~/openocd cd ~/openocd/ git clone http://openocd.zylin.com/openocd cd openocd ./bootstrap ./configure --enable-sysfsgpio --enable-bcm2835gpio --prefix=/home/pi/openocd/install make make install \u914d\u7f6eOpenOCD \u00b6 \u5efa\u7acb\u4e00\u500bOpenOCD\u914d\u7f6e\u6a94\u6848\uff1a nano ~/openocd/openocd.cfg \u4f7f\u7528\u985e\u4f3c\u65bc\u4ee5\u4e0b\u7684\u914d\u7f6e\uff1a # Uses RPi pins: GPIO25 for SWDCLK, GPIO24 for SWDIO, GPIO18 for nRST source [find interface/raspberrypi2-native.cfg] bcm2835gpio_swd_nums 25 24 bcm2835gpio_srst_num 18 transport select swd # Use hardware reset wire for chip resets reset_config srst_only adapter_nsrst_delay 100 adapter_nsrst_assert_width 100 # Specify the chip type source [find target/atsame5x.cfg] # Set the adapter speed adapter_khz 40 # Connect to chip init targets reset halt \u5c07\u6a39\u8393\u6d3e\u8207\u76ee\u6a19\u6676\u7247\u76f8\u9023 \u00b6 \u5728\u63a5\u7dda\u4e4b\u524d\uff0c\u8acb\u95dc\u9589\u6a39\u8393\u6d3e\u548c\u76ee\u6a19\u6676\u7247\u7684\u96fb\u6e90! \u5728\u9023\u7dda\u5230\u6a39\u8393\u6d3e\u4e4b\u524d\uff0c\u8acb\u78ba\u8a8d\u76ee\u6a19\u6676\u7247\u4f7f\u75283.3V\u96fb\u58d3! \u5c07\u76ee\u6a19\u6676\u7247\u4e0a\u7684GND\u3001SWDCLK\u3001SWDIO\u548cRST\u5206\u5225\u9023\u7dda\u5230\u6a39\u8393\u6d3e\u4e0a\u7684GND\u3001GPIO25\u3001GPIO24\u548cGPIO18\u3002 \u7136\u5f8c\u7d66\u6a39\u8393\u6d3e\u4e0a\u96fb\uff0c\u518d\u7d66\u76ee\u6a19\u6676\u7247\u4f9b\u96fb\u3002 \u57f7\u884cOpenOCD \u00b6 \u57f7\u884cOpenOCD\uff1a cd ~/openocd/ sudo ~/openocd/install/bin/openocd -f ~/openocd/openocd.cfg \u4e0a\u8ff0\u64cd\u4f5c\u61c9\u8a72\u4f7fOpenOCD\u8f38\u51fa\u4e00\u4e9b\u6587\u5b57\u8cc7\u8a0a\uff0c\u7136\u5f8c\u7b49\u5f85\uff08\u5b83\u4e0d\u6703\u7acb\u5373\u8fd4\u56de\u5230Unix shell\u63d0\u793a\u7b26\uff09\u3002\u5982\u679cOpenOCD\u81ea\u5df1\u9000\u51fa\u6216\u7e7c\u7e8c\u8f38\u51fa\u6587\u5b57\u8cc7\u8a0a\uff0c\u90a3\u9ebc\u8acb\u4ed4\u7d30\u6aa2\u67e5\u63a5\u7dda\u3002 \u4e00\u65e6OpenOCD\u57f7\u884c\u7a69\u5b9a\uff0c\u5c31\u53ef\u4ee5\u901a\u904etelnet\u5411\u5b83\u767c\u9001\u547d\u4ee4\u3002\u6253\u958b\u53e6\u4e00\u500bssh\u6703\u8a71\uff0c\u57f7\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a telnet 127.0.0.1 4444 (\u53ef\u4ee5\u6309ctrl+]\u9000\u51fatelnet\uff0c\u7136\u5f8c\u57f7\u884c \"quit \"\u547d\u4ee4\u3002) OpenOCD\u548cgdb \u00b6 \u53ef\u4ee5\u4f7f\u7528OpenOCD\u548cgdb\u4f86\u9664\u932fKlipper\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5047\u8a2d\u662f\u5728\u81fa\u5f0f\u6a5f\u4e0a\u57f7\u884cgdb\u3002 \u5728OpenOCD\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\u52a0\u5165\u4ee5\u4e0b\u5167\u5bb9\uff1a bindto 0.0.0.0 gdb_port 44444 \u5728\u6a39\u8393\u6d3e\u4e0a\u91cd\u65b0\u555f\u52d5OpenOCD\uff0c\u7136\u5f8c\u5728\u81fa\u5f0f\u6a5f\u4e0a\u57f7\u884c\u4ee5\u4e0bUnix\u547d\u4ee4\uff1a cd /path/to/klipper/ gdb out/klipper.elf \u5728gdb\u4e2d\u57f7\u884c\uff1a target remote octopi:44444 (\u7528\u6a39\u8393\u6d3e\u7684\u4e3b\u6a5f\u540d\u66ff\u63db \"octopi\"\uff09\u4e00\u65e6gdb\u57f7\u884c\uff0c\u5c31\u53ef\u4ee5\u8a2d\u5b9a\u65b7\u9ede\u4e26\u6aa2\u67e5\u66ab\u5b58\u5668\u3002","title":"\u5e95\u5c64\u8f09\u5165\u7a0b\u5f0f"},{"location":"Bootloaders.html#_1","text":"\u672c\u6587\u4ef6\u4ecb\u7d39Klipper\u652f\u63f4\u7684\u7528\u65bc\u5fae\u63a7\u5236\u5668\u7684\u5e95\u5c64\u8f09\u5165\u7a0b\u5f0f\uff08bootloader\uff09\u3002 \u8f09\u5165\u7a0b\u5f0f\u662f\u7b2c\u4e09\u65b9\u8edf\u9ad4\uff0c\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u96fb\u540e\u512a\u5148\u57f7\u884c\u3002\u8a72\u7a0b\u5f0f\u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u7279\u6b8a\u786c\u9ad4\uff08\u5982\u71d2\u9304\u5668\uff09\u4e0b\u5c0d\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u9032\u884c\u5237\u5beb\uff08\u5982\u5beb\u5165Klipper\u7a0b\u5f0f\uff09\u3002\u7136\u800c\uff0c\u76ee\u524d\u9084\u6c92\u6709\u4e00\u5237\u5beb\u5fae\u63a7\u5236\u5668\u7684\u5de5\u696d\u6a19\u6e96\uff0c\u4e5f\u6c92\u6709\u4e00\u500b\u9069\u7528\u65bc\u6240\u6709\u5fae\u63a7\u5236\u5668\u7684\u6a19\u6e96\u8f09\u5165\u7a0b\u5f0f\u3002\u66f4\u9ebb\u7169\u7684\u662f\uff0c\u6bcf\u7a2e\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u9700\u8981\u4e0d\u540c\u7684\u6b65\u9a5f\u4ee5\u89f8\u767c\u5237\u5beb\u529f\u80fd\u3002 \u5982\u679c\u80fd\u7528\u67d0\u7a2e\u65b9\u5f0f\u5c07 bootloader \u5237\u5beb\u5230\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u7528\u8a72\u65b9\u5f0f\u901a\u5e38\u4e5f\u80fd\u5b8c\u6210\u7a0b\u5f0f\u5237\u5beb\u64cd\u4f5c\uff0c\u4f46\u662f\uff0c\u9019\u7a2e\u76f4\u63a5\u5237\u5beb\u53ef\u80fd\u6703\u5c07 bootloader \u8986\u84cb\u6389\u3002\u76f8\u5c0d\u5730\uff0cbootloader \u53ea\u5141\u8a31\u4f7f\u7528\u8005\u5237\u5beb\u61c9\u7528\u7a0b\u5f0f\u5340\u57df\u3002\u56e0\u6b64\uff0c\u5118\u53ef\u80fd\u4f7f\u7528 bootloader \u5b8c\u6210\u7a0b\u5f0f\u7684\u5237\u5beb\u3002 \u8a72\u6587\u4ef6\u5c07\u76e1\u53ef\u80fd\u4ecb\u7d39\u5e38\u898b\u7684bootloaders\uff0c\u5237\u5165bootloader\u6240\u9700\u7684\u6b65\u9a5f\u548c\u89f8\u767cbootloader\u9032\u884c\u7a0b\u5f0f\u5237\u5beb\u7684\u6d41\u7a0b\u3002\u8a72\u6587\u4ef6\u4ea6\u975e\u5b98\u65b9\u6307\u5f15\uff0c\u9019\u53ea\u662f\u5728Klipper\u958b\u767c\u4eba\u54e1\u4f7f\u7528\u904e\u7a0b\u4e2d\u6536\u96c6\u5230\u7684\u6709\u7528\u8cc7\u8a0a\u3002","title":"\u5e95\u5c64\u8f09\u5165\u7a0b\u5f0f"},{"location":"Bootloaders.html#avr","text":"\u7e3d\u9ad4\u4e0a\u4f86\u8aaa\uff0cArduino\u5c08\u6848\u662f8\u4f4dAtmel Atmega\u5fae\u63a7\u5236\u5668\u7684\u8f09\u5165\u7a0b\u5f0f\u548c\u5237\u5beb\u7a0b\u5f0f\u7684\u597d\u7684\u53c3\u8003\u3002\u7279\u5225\u662f\" boards.txt \"\u6a94\u6848\u3002 https://github.com/arduino/Arduino/blob/1.8.5/hardware/arduino/avr/boards.txt \u662f\u4e00\u500b\u6709\u7528\u7684\u53c3\u8003\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0cAVR \u6676\u7247\u9700\u8981\u4e00\u500b\u5916\u90e8\u786c\u9ad4\u5237\u5beb\u5de5\u5177\uff08\u5b83\u4f7f\u7528 SPI \u8207\u6676\u7247\u9032\u884c\u901a\u8a0a\uff09\u3002\u9019\u500b\u5de5\u5177\u53ef\u4ee5\u8cfc\u8cb7\uff08\u4f8b\u5982\uff0c\u5728\u7db2\u4e0a\u641c\u7d22 \"avr isp\"\u3001\"arduino isp \"\u6216 \"usb tiny isp\"\uff09\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\u53e6\u4e00\u500bArduino\u6216Raspberry Pi\u4f86\u5feb\u9583\u8a18\u61b6\u9ad4AVR\u8f09\u5165\u7a0b\u5f0f\uff08\u4f8b\u5982\uff0c\u5728\u7db2\u4e0a\u641c\u7d22 \"\u7528raspberry pi\u7a0b\u5f0f\u8a2d\u8a08AVR\"\uff09\u3002\u4e0b\u9762\u7684\u4f8b\u5b50\u662f\u5728\u5047\u8a2d\u4f7f\u7528 \"AVR ISP Mk2 \"\u578b\u5225\u7684\u88dd\u7f6e\u7684\u60c5\u6cc1\u4e0b\u7de8\u5beb\u7684\u3002 \"avrdude \"\u7a0b\u5f0f\u662f\u6700\u5e38\u7528\u7684\u5de5\u5177\uff0c\u7528\u65bc\u5237\u5bebatmega\u6676\u7247\uff08\u5305\u62ec\u8f09\u5165\u7a0b\u5f0f\u5237\u5beb\u548c\u61c9\u7528\u7a0b\u5f0f\u5237\u5beb\uff09\u3002","title":"AVR \u5fae\u63a7\u5236\u5668"},{"location":"Bootloaders.html#atmega2560","text":"\u9019\u500b\u6676\u7247\u901a\u5e38\u51fa\u73fe\u5728 \"Arduino Mega\" \u4e2d\uff0c\u57283D\u5370\u8868\u6a5f\u4e3b\u677f\u4e2d\u4e5f\u5341\u5206\u666e\u904d\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/stk500v2/stk500boot_v2_mega2560.hex' avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xD8:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U flash:w:stk500boot_v2_mega2560.hex avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a avrdude -cwiring -patmega2560 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega2560"},{"location":"Bootloaders.html#atmega1280","text":"\u9019\u500b\u6676\u7247\u901a\u5e38\u51fa\u73fe\u5728\u65e9\u671f\u7248\u672c\u7684 \"Arduino Mega \"\u4e2d\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/atmega/ATmegaBOOT_168_atmega1280.hex' avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xF5:m -U hfuse:w:0xDA:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U flash:w:ATmegaBOOT_168_atmega1280.hex avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a avrdude -carduino -patmega1280 -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega1280"},{"location":"Bootloaders.html#atmega1284p","text":"\u9019\u7a2e\u6676\u7247\u901a\u5e38\u51fa\u73fe\u5728 \"Melzi \"\u5f0f\u76843D\u5370\u8868\u6a5f\u4e3b\u677f\u4e0a\u3002 \u8981\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/Lauszus/Sanguino/raw/1.0.2/bootloaders/optiboot/optiboot_atmega1284p.hex' avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xDE:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega1284p.hex avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i \u6ce8\u610f\uff0c\u4e00\u4e9b \"Melzi \"\u98a8\u683c\u7684\u677f\u5b50\u9810\u8f09\u4e86\u4e00\u500b\u4f7f\u752857600\u6ce2\u7279\u7387\u7684\u8f09\u5165\u7a0b\u5f0f\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u9019\u6a23\u7684\u6771\u897f\u4f86\u4ee3\u66ff\uff1a avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega1284p"},{"location":"Bootloaders.html#at90usb1286","text":"\u672c\u6a94\u6848\u4e0d\u5305\u62ec\u5411At90usb1286\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u7684\u65b9\u6cd5\uff0c\u4e5f\u4e0d\u5305\u62ec\u5411\u8a72\u88dd\u7f6e\u5237\u5beb\u4e00\u822c\u61c9\u7528\u3002 \u4f86\u81eapjrc.com\u7684Teensy++\u88dd\u7f6e\u5e36\u6709\u4e00\u500b\u5c08\u7528\u7684\u8f09\u5165\u7a0b\u5f0f\u3002\u5b83\u9700\u8981\u4e00\u500b\u4f86\u81ea https://github.com/PaulStoffregen/teensy_loader_cli \u7684\u5b9a\u88fd\u5237\u5beb\u5de5\u5177\u3002\u53ef\u4ee5\u7528\u9019\u500b\u5de5\u5177\u4f86\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u4f8b\u5982\uff1a teensy_loader_cli --mcu=at90usb1286 out/klipper.elf.hex -v","title":"At90usb1286"},{"location":"Bootloaders.html#atmega168","text":"atmega168\u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\u6709\u9650\u3002\u5982\u679c\u4f7f\u7528\u8f09\u5165\u7a0b\u5f0f\uff0c\u5efa\u8b70\u4f7f\u7528Optiboot bootloader\u3002\u8981\u5237\u5beb\u8a72\u8f09\u5165\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u9019\u500b\u7684\u65b9\u6cd5\uff1a wget 'https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/optiboot/optiboot_atmega168.hex' avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0x04:m -U hfuse:w:0xDD:m -U lfuse:w:0xFF:m avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega168.hex avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m \u8981\u901a\u904eOptiboot bootloader \u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\uff1a avrdude -carduino -patmega168 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i","title":"Atmega168"},{"location":"Bootloaders.html#sam3-arduino-due","text":"\u901a\u5e38\u5728 SAM 3 \u5fae\u63a7\u5236\u5668\u4e0a\u4e0d\u4f7f\u7528\u8f09\u5165\u7a0b\u5f0f\u3002\u6676\u7247\u81ea\u5e36\u4e00\u500b\u5141\u8a31\u5f9e3.3V \u4e32\u5217\u57e0\u6216\u5f9eUSB\u9032\u884c\u7a0b\u5f0f\u8a2d\u8a08\u7684ROM\u3002 \u7232\u4e86\u555f\u7528ROM\uff0c\u5c07\"erase\"\u5f15\u8173\u5728\u5fa9\u4f4d\u904e\u7a0b\u4e2d\u4fdd\u6301\u9ad8\u96fb\u5e73\uff0c\u9019\u5c07\u64e6\u9664\u5feb\u9583\u8a18\u61b6\u9ad4\u7684\u5167\u5bb9\uff0c\u4e26\u4f7fROM\u57f7\u884c\u3002\u5728Arduino Due\u4e0a\uff0c\u9019\u500b\u7a0b\u5f0f\u53ef\u4ee5\u901a\u904e\u5728 \"programming usb port\"\uff08\u7a0b\u5f0f\u8a2d\u8a08USB\u53e3\uff0c\u6700\u9760\u8fd1\u96fb\u6e90\u7684USB\u57e0\uff09\u4e0a\u8a2d\u5b9a1200\u7684\u6ce2\u7279\u7387\u4f86\u5b8c\u6210\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u7528\u4f86\u70baSAM3\u7a0b\u5f0f\u8a2d\u8a08\u3002\u5efa\u8b70\u4f7f\u75281.9\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a bossac -U -p /dev/ttyACM0 -a -e -w out/klipper.bin -v -b bossac -U -p /dev/ttyACM0 -R","title":"SAM3 \u5fae\u63a7\u5236\u5668 (Arduino Due)"},{"location":"Bootloaders.html#sam4-duet-wifi","text":"\u901a\u5e38\u5728 SAM4 \u5fae\u63a7\u5236\u5668\u4e2d\u4e0d\u4f7f\u7528\u8f09\u5165\u7a0b\u5f0f\u3002\u6676\u7247\u81ea\u5e36\u4e00\u500b\u53ef\u4ee5\u5f9e 3.3V \u4e32\u5217\u57e0\u6216 USB \u9032\u884c\u7a0b\u5f0f\u8a2d\u8a08\u7684ROM\u3002 \u7232\u4e86\u555f\u7528ROM\uff0c\u5728\u5fa9\u4f4d\u904e\u7a0b\u4e2d\u8981\u5c07\"erase\"\u5f15\u8173\u4fdd\u6301\u70ba\u9ad8\u96fb\u5e73\uff0c\u9019\u5c07\u64e6\u9664\u5feb\u9583\u8a18\u61b6\u9ad4\u5167\u5bb9\uff0c\u4e26\u4f7fROM\u57f7\u884c\u3002 https://github.com/shumatech/BOSSA \u4e2d\u7684\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u7528\u4f86\u70baSAM4\u7a0b\u5f0f\u8a2d\u8a08\u3002\u9700\u8981\u4f7f\u7528 1.8.0 \u6216\u66f4\u9ad8\u7684\u7248\u672c\u3002 \u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\uff1a bossac --port=/dev/ttyACM0 -b -U -e -w -v -R out/klipper.bin","title":"SAM4 \u5fae\u63a7\u5236\u5668 (Duet Wifi)"},{"location":"Bootloaders.html#samd21arduino-zero","text":"SAMD21 \u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u901a\u904e ARM \u5e8f\u5217\u7dda\u9664\u932f \uff08SWD\uff09 \u4ecb\u9762\u9032\u884c\u5237\u5beb\uff0c\u901a\u5e38\u9700\u8981\u4e00\u500b\u5c08\u7528\u7684 SWD \u786c\u9ad4\u8f49\u63db\u5668\u6216\u8005\u4f7f\u7528 \u5b89\u88dd\u4e86 OpenOCD \u7684 Raspberry Pi \u4f86\u5b8c\u6210\u3002 \u8981\u4f7f\u7528 OpenOCD \u5237\u5beb\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u6676\u7247\u914d\u7f6e\uff1a \u4f86\u6e90 [\u67e5\u8a62\u76ee\u6a19/at91samdXX.cfg] \u7372\u53d6\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f - \u4f8b\u5982\uff1a wget 'https://github.com/arduino/ArduinoCore-samd/raw/1.8.3/bootloaders/zero/samd21_sam_ba.bin' \u4f7f\u7528\u985e\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u4f86\u5237\u5beb\uff1a at91samd bootloader 0 program samd21_sam_ba.bin verify SAMD21\u4e0a\u6700\u5e38\u898b\u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u53ef\u4ee5\u5728 \"Arduino Zero \"\u4e0a\u627e\u5230\u3002\u5b83\u4f7f\u7528\u4e00\u500b 8KiB \u7684\u8f09\u5165\u7a0b\u5f0f\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\uff0c\u6309\u4e0b\u5fa9\u4f4d\u6309\u9215\u5169\u6b21\u5c31\u53ef\u4ee5\u9032\u5165\u3002\u8981\u5237\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x2000 -w out/klipper.bin -v -b -R \u76f8\u6bd4\u4e4b\u4e0b\uff0c\"Arduino M0 \"\u4f7f\u7528\u4e00\u500b 16KiB \u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff08\u7a0b\u5f0f\u5fc5\u9808\u7528 16KiB \u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002\u4f7f\u7528\u9019\u500b\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u4f86\u5237\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u8acb\u91cd\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u4e26\u5728\u555f\u52d5\u7684\u982d\u5e7e\u79d2\u9418\u5167\u57f7\u884c\u5237\u5beb\u547d\u4ee4--\u985e\u4f3c\u5982\u4e0b\u547d\u4ee4\uff1a avrdude -c stk500v2 -p atmega2560 -P /dev/ttyACM0 -u -Uflash:w:out/klipper.elf.hex:i","title":"SAMD21\u5fae\u63a7\u5236\u5668\uff08Arduino Zero\uff09"},{"location":"Bootloaders.html#samd51-adafruit-metro-m4","text":"\u548c SAMD21 \u4e00\u6a23\uff0cSAMD51 \u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u4e5f\u662f\u901a\u904e ARM \u5e8f\u5217\u7dda\u9664\u932f\uff08SWD\uff09\u4ecb\u9762\u5237\u5beb\u7684\u3002\u8981\u7528 \u57f7\u884c OpenOCD\u7684 Raspberry Pi \u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u4ee5\u4e0b\u6676\u7247\u914d\u7f6e\uff1a \u4f86\u6e90 [\u67e5\u8a62\u76ee\u6a19/atsame5x.cfg] \u7372\u5f97\u4e00\u500b\u8f09\u5165\u7a0b\u5f0f--\u5f88\u591a\u8f09\u5165\u7a0b\u5f0f\u53ef\u4ee5\u5f9e https://github.com/adafruit/uf2-samdx1/releases/latest \u7372\u5f97\u3002\u4f8b\u5982\uff1a wget 'https://github.com/adafruit/uf2-samdx1/releases/download/v3.7.0/bootloader-itsybitsy_m4-v3.7.0.bin' \u4f7f\u7528\u985e\u4f3c\u4e0b\u9762\u7684 OpenOCD \u547d\u4ee4\u4f86\u5237\u5beb\uff1a at91samd bootloader 0 program bootloader-itsybitsy_m4-v3.7.0.bin verify at91samd bootloader 16384 SAMD51 \u4f7f\u7528 16KiB \u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002\u8981\u5237\u5beb\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u8acb\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\uff1a bossac -U -p /dev/ttyACM0 --offset=0x4000 -w out/klipper.bin -v -b -R","title":"SAMD51 \u5fae\u63a7\u5236\u5668(Adafruit Metro-M4\u53ca\u985e\u4f3c\u7684\u958b\u767c\u677f)"},{"location":"Bootloaders.html#stm32f103-blue-pill","text":"The STM32F103 devices have a ROM that can flash a bootloader or application via 3.3V serial. Typically one would wire the PA10 (MCU Rx) and PA9 (MCU Tx) pins to a 3.3V UART adapter. To access the ROM, one should connect the \"boot 0\" pin to high and \"boot 1\" pin to low, and then reset the device. The \"stm32flash\" package can then be used to flash the device using something like: stm32flash -w out/klipper.bin -v -g 0 /dev/ttyAMA0 \u6ce8\u610f\uff0c\u5982\u679c\u4f7f\u7528\u6a39\u8393\u6d3e\u76843.3V\u4e32\u5217\u57e0\uff0cstm32flash\u5354\u8b70\u4f7f\u7528\u7684\u5e8f\u5217\u5947\u5076\u6821\u9a57\u6a21\u5f0f\uff0c\u6a39\u8393\u6d3e\u7684 \"mini UART \"\u4e26\u4e0d\u652f\u63f4\u3002\u95dc\u65bc\u5728\u6a39\u8393\u6d3e\u7684GPIO\u5f15\u8173\u4e0a\u555f\u7528\u5b8c\u6574\u7684UART\u7684\u7d30\u7bc0\uff0c\u898b https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts \u3002 \u5237\u5beb\u540e\uff0c\u5c07 \"boot 0 \"\u548c \"boot 1 \"\u90fd\u6062\u5fa9\u8a2d\u70ba\u4f4e\u96fb\u5e73\uff0c\u4ee5\u4fbf\u5728\u5fa9\u4f4d\u540e\u5f9e\u5feb\u9583\u8a18\u61b6\u9ad4\u555f\u52d5\u3002","title":"STM32F103 \u5fae\u63a7\u5236\u5668\uff08Blue Pill \u958b\u767c\u677f\uff09"},{"location":"Bootloaders.html#stm32duino-stm32f103","text":"\"stm32duino \"\u5c08\u6848\u6709\u4e00\u500bUSB\u529f\u80fd\u7684\u8f09\u5165\u7a0b\u5f0f-\u53c3\u898b\uff1a https://github.com/rogerclarkmelbourne/STM32duino-bootloader \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u53ef\u4ee5\u901a\u904e3.3V\u7684\u4e32\u5217\u57e0\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u4f86\u5237\u5beb\uff1a wget 'https://github.com/rogerclarkmelbourne/STM32duino-bootloader/raw/master/binaries/generic_boot20_pc13.bin' stm32flash -w generic_boot20_pc13.bin -v -g 0 /dev/ttyAMA0 \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u4f7f\u7528 8KiB \u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee5 8KiB \u7684\u8d77\u59cb\u5730\u5740\u7de8\u8b6f\uff09\u3002\u5237\u5beb\u61c9\u7528\u7a0b\u5f0f\u9700\u8981\u4f7f\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a dfu-util -d 1eaf:0003 -a 2 -R -D out/klipper.bin \u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u901a\u5e38\u53ea\u5728\u555f\u52d5\u540e\u7684\u4e00\u5c0f\u6bb5\u6642\u9593\u57f7\u884c\u3002\u5728\u8f38\u5165\u4ee5\u4e0a\u547d\u4ee4\u7684\u6642\u5019\uff0c\u9700\u8981\u78ba\u4fdd\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u9084\u5728\u57f7\u884c\uff08\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u57f7\u884c\u7684\u6642\u5019\u6703\u63a7\u5236\u677f\u4e0a\u7684led\u9583\u720d\uff09\u3002\u6b64\u5916\uff0c\u555f\u52d5\u540e\u5982\u679c\u8a2d\u5b9a\u300cboot 0\u300d\u5f15\u8173\u70ba\u4f4e\uff0c\u8a2d\u5b9a\u300cboot 1\u300d\u5f15\u8173\u70ba\u9ad8\u5247\u53ef\u4ee5\u4e00\u76f4\u505c\u7559\u5728\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u3002","title":"\u5e36\u6709 stm32duino \u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u7684 STM32F103"},{"location":"Bootloaders.html#hid-stm32f103","text":"HID bootloader \u662f\u4e00\u500b\u7dca\u6e4a\u7684\u3001\u4e0d\u5305\u542b\u9a45\u52d5\u7684\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff0c\u80fd\u5920\u901a\u904eUSB\u9032\u884c\u5237\u5beb\u3002\u6b64\u5916\uff0c\u9084\u6709\u4e00\u500b \u91dd\u5c0dSKR Mini E3 1.2\u69cb\u5efa\u7684\u5206\u652f \u3002 \u5c0d\u65bc\u5e38\u898b\u7684STM32F103\u677f\uff0c\u5982Blue Pill\uff0c\u548c stm32duino \u7ae0\u7bc0\u4e2d\u4e00\u6a23\uff0c\u53ef\u4ee5\u901a\u904e 3.3v \u5e8f\u5217\u7528stm32flash \u5237\u5beb\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff0c\u5c07\u6a94\u540d\u66ff\u63db\u70ba\u6240\u9700\u7684 hid\u8f09\u5165\u7a0b\u5f0f\u4e8c\u9032\u5236\u6a94\u6848\uff08\u4f8b\u5982Blue Pill \u4f7f\u7528\u7684 hid_generic_pc13.bin\uff09\u3002 SKR Mini E3\u7121\u6cd5\u4f7f\u7528stm32flash \uff0c\u56e0\u70baboot 0\u5f15\u8173\u88ab\u76f4\u63a5\u63a5\u5230GND\u4e14\u6c92\u6709\u8df3\u7dda\u65b7\u958b\u3002\u63a8\u85a6\u4f7f\u7528STLink V2\u901a\u904eSTM32Cubeprogrammer\u5237\u5beb\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u3002\u5982\u679c\u4f60\u6c92\u6709STLink \uff0c\u4e5f\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6676\u7247\u914d\u7f6e\u4f7f\u7528 \u6a39\u8393\u6d3e\u548cOpenOCD \u5237\u5beb\uff1a \u4f86\u6e90 [\u67e5\u8a62\u76ee\u6a19/stm32f1x.cfg] \u5982\u679c\u4f60\u9858\u610f\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u5099\u4efd\u76ee\u524d\u5feb\u9583\u8a18\u61b6\u9ad4\u4e0a\u7684\u7a0b\u5f0f\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u53ef\u80fd\u9700\u8981\u4e00\u4e9b\u6642\u9593\u4f86\u5b8c\u6210\u5099\u4efd\uff1a flash read_bank 0 btt_skr_mini_e3_backup.bin \u6700\u5f8c\uff0c\u4f60\u53ef\u4ee5\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\u5237\u5beb\u97cc\u9ad4\uff1a stm32f1x mass_erase 0 program hid_btt_skr_mini_e3.bin verify 0x08000000 \u6ce8\u610f\uff1a \u4e0a\u9762\u7684\u4f8b\u5b50\u662f\u5148\u64e6\u9664\u6676\u7247\uff0c\u7136\u5f8c\u518d\u5beb\u5165\u8f09\u5165\u7a0b\u5f0f\u3002\u7121\u8ad6\u9078\u64c7\u54ea\u7a2e\u65b9\u6cd5\u5237\u5beb\uff0c\u90fd\u5efa\u8b70\u5728\u5237\u5beb\u524d\u64e6\u9664\u6676\u7247\u3002 \u5728\u7528\u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u5237\u5bebSKR Mini E3\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u77e5\u9053\u4e4b\u5f8c\u4f60\u5c07\u4e0d\u80fd\u518d\u901a\u904eSD\u5361\u66f4\u65b0\u97cc\u9ad4\u3002 You may need to hold down the reset button on the board while launching OpenOCD. It should display something like: Open On-Chip Debugger 0.10.0+dev-01204-gc60252ac-dirty (2020-04-27-16:00) Licensed under GNU GPL v2 For bug reports, read http://openocd.org/doc/doxygen/bugs.html DEPRECATED! use 'adapter speed' not 'adapter_khz' Info : BCM2835 GPIO JTAG/SWD bitbang driver Info : JTAG and SWD modes enabled Info : clock speed 40 kHz Info : SWD DPIDR 0x1ba01477 Info : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints Info : stm32f1x.cpu: external reset detected Info : starting gdb server for stm32f1x.cpu on 3333 Info : Listening on port 3333 for gdb connections \u4e4b\u5f8c\u53ef\u4ee5\u9b06\u958b\u5fa9\u4f4d\u6309\u9215\u3002 \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u9700\u89812KiB\u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee52KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002 hid-flash\u7a0b\u5f0f\u662f\u7528\u4f86\u4e0a\u50b3\u4e8c\u9032\u5236\u6a94\u6848\u5230\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u7684\u3002\u4f60\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88dd\u9019\u500b\u8edf\u9ad4\uff1a sudo apt install libusb-1.0 cd ~/klipper/lib/hidflash make \u5982\u679cbootloader\u6b63\u5728\u57f7\u884c\uff0c\u4f60\u53ef\u4ee5\u7528\u9019\u500b\u4f86\u5237\u5beb\uff1a ~/klipper/lib/hidflash/hid-flash ~/klipper/out/klipper.bin \u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 make flash \u4f86\u76f4\u63a5\u5237\u5bebklipper\uff1a make flash FLASH_DEVICE=1209:BEBA \u6216\u8005\uff0c\u5982\u679cklipper\u4e4b\u524d\u5df2\u7d93\u88ab\u5beb\u5165\u904e\uff1a make flash FLASH_DEVICE=/dev/ttyACM0 \u53ef\u80fd\u9700\u8981\u624b\u52d5\u9032\u5165\u8f09\u5165\u7a0b\u5f0f\uff0c\u9019\u53ef\u4ee5\u901a\u904e\u8a2d\u5b9a \"boot 0 \"\u7684\u4f4e\u96fb\u5e73\u548c \"boot 1 \"\u7684\u9ad8\u96fb\u5e73\u4f86\u5b8c\u6210\u3002\u5728SKR Mini E3\u4e0a\uff0c\"Boot 1 \"\u662f\u4e0d\u53ef\u7528\u7684\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u5beb\u5165\u904e\"hid_btt_skr_mini_e3.bin\"\uff0c\u53ef\u4ee5\u901a\u904e\u8a2d\u5b9aPA2\u7684\u4f4e\u96fb\u5e73\u4f86\u5b8c\u6210\u3002\u5728SKR Mini E3\u7684 \"PIN \"\u6a94\u6848\u4e2d\uff0c\u9019\u500b\u5f15\u8173\u5728TFT\u63d2\u5ea7\u4e0a\u88ab\u6a19\u8a18\u70ba \"TX0\"\u3002\u5728PA2\u65c1\u908a\u6709\u4e00\u500b\u63a5\u5730\u5f15\u8173\uff0c\u4f60\u53ef\u4ee5\u7528\u5b83\u4f86\u628aPA2\u62c9\u4f4e\u3002","title":"\u5e36\u6709 HID \u8f09\u5165\u7a0b\u5f0f\u7684STM32F103"},{"location":"Bootloaders.html#stm32f103stm32f072-with-msc-bootloader","text":"The MSC bootloader is a driverless bootloader capable of flashing over USB. It is possible to flash the bootloader via 3.3v serial using stm32flash as noted in the stm32duino section above, substituting the file name for the desired MSC bootloader binary (ie: MSCboot-Bluepill.bin for the blue pill). For STM32F072 boards it is also possible to flash the bootloader over USB (via DFU) with something like: dfu-util -d 0483:df11 -a 0 -R -D MSCboot-STM32F072.bin -s0x08000000:leave This bootloader uses 8KiB or 16KiB of flash space, see description of the bootloader (the application must be compiled with with the corresponding starting address). The bootloader can be activated by pressing the reset button of the board twice. As soon as the bootloader is activated, the board appears as a USB flash drive onto which the klipper.bin file can be copied.","title":"STM32F103/STM32F072 with MSC bootloader"},{"location":"Bootloaders.html#stm32f103stm32f0x2-with-canboot-bootloader","text":"The CanBoot bootloader provides an option for uploading Klipper firmware over the CANBUS. The bootloader itself is derived from Klipper's source code. Currently CanBoot supports the STM32F103, STM32F042, and STM32F072 models. It is recommended to use a ST-Link Programmer to flash CanBoot, however it should be possible to flash using stm32flash on STM32F103 devices, and dfu-util on STM32F042/STM32F072 devices. See the previous sections in this document for instructions on these flashing methods, substituting canboot.bin for the file name where appropriate. The CanBoot repo linked above provides instructions for building the bootloader. The first time CanBoot has been flashed it should detect that no application is present and enter the bootloader. If this doesn't occur it is possible to enter the bootloader by pressing the reset button twice in succession. The flash_can.py utility supplied in the lib/canboot folder may be used to upload Klipper firmware. The device UUID is necessary to flash. If you do not have a UUID it is possible to query nodes currently running the bootloader: python3 flash_can.py -q This will return UUIDs for all connected nodes not currently assigned a UUID. This should include all nodes currently in the bootloader. Once you have a UUID, you may upload firmware with following command: python3 flash_can.py -i can0 -f ~/klipper/out/klipper.bin -u aabbccddeeff Where aabbccddeeff is replaced by your UUID. Note that the -i and -f options may be omitted, they default to can0 and ~/klipper/out/klipper.bin respectively. When building Klipper for use with CanBoot, select the 8 KiB Bootloader option.","title":"STM32F103/STM32F0x2 with CanBoot bootloader"},{"location":"Bootloaders.html#stm32f4-skr-pro-11","text":"STM32F4\u5fae\u63a7\u5236\u5668\u914d\u5099\u4e86\u4e00\u500b\u5167\u5efa\u7684\u7cfb\u7d71\u8f09\u5165\u7a0b\u5f0f\uff0c\u80fd\u5920\u901a\u904eUSB\uff08\u901a\u904eDFU\uff09\u30013.3v\u4e32\u5217\u57e0\u548c\u5176\u4ed6\u5404\u7a2e\u65b9\u6cd5\u9032\u884c\u5237\u5beb\uff08\u66f4\u591a\u8cc7\u8a0a\u898bSTM\u6a94\u6848AN2606\uff09\u3002\u4e00\u4e9bSTM32F4\u677f\uff0c\u5982SKR Pro 1.1\uff0c\u4e0d\u80fd\u9032\u5165DFU\u8f09\u5165\u7a0b\u5f0f\u3002\u57fa\u65bcSTM32F405/407\u7684\u677f\u5b50\u53ef\u4ee5\u4f7f\u7528HID\u8f09\u5165\u7a0b\u5f0f\uff0c\u5982\u679c\u4f7f\u7528\u8005\u9858\u610f\u901a\u904eUSB\u5237\u5beb\u800c\u4e0d\u662f\u4f7f\u7528SD\u5361\u3002\u8acb\u6ce8\u610f\uff0c\u4f60\u53ef\u80fd\u9700\u91dd\u5c0d\u4f60\u7684\u677f\u5b50\u914d\u7f6e\u548c\u69cb\u5efa\u4e00\u500b\u7279\u5b9a\u7684\u7248\u672c\uff0c \u91dd\u5c0dSKR Pro 1.1\u7684\u69cb\u5efa\u53ef\u4ee5\u5728\u9019\u88e1\u627e\u5230 \u3002 \u9664\u975e\u4f60\u7684\u677f\u5b50\u6709DFU\u529f\u80fd\uff0c\u5426\u5247\u6700\u5bb9\u6613\u7684\u5beb\u5165\u65b9\u6cd5\u53ef\u80fd\u662f\u901a\u904e3.3v\u7684\u4e32\u5217\u57e0\uff0c\u9019\u8207 \u4f7f\u7528stm32flash\u5237\u5bebSTM32F103 \u7684\u6b65\u9a5f\u76f8\u540c\u3002\u4f8b\u5982\uff1a wget https://github.com/Arksine/STM32_HID_Bootloader/releases/download/v0.5-beta/hid_bootloader_SKR_PRO.bin stm32flash -w hid_bootloader_SKR_PRO.bin -v -g 0 /dev/ttyAMA0 \u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u5728STM32F4\u4e0a\u9700\u898116Kib\u7684\u5feb\u9583\u8a18\u61b6\u9ad4\u7a7a\u9593\uff08\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\uff09\u3002 \u8207STM32F1\u4e00\u6a23\uff0cSTM32F4\u4f7f\u7528hid-flash\u5de5\u5177\u4f86\u4e0a\u50b3\u4e8c\u9032\u5236\u6a94\u6848\u5230MCU\u3002\u95dc\u65bc\u5982\u4f55\u69cb\u5efa\u548c\u4f7f\u7528hid-flash\u7684\u7d30\u7bc0\uff0c\u8acb\u53c3\u898b\u4e0a\u9762\u7684\u8aaa\u660e\u3002 \u53ef\u80fd\u9700\u8981\u624b\u52d5\u9032\u5165\u8f09\u5165\u7a0b\u5f0f\uff0c\u9019\u53ef\u4ee5\u901a\u904e\u8a2d\u5b9a \"boot 0 \"\u70ba\u4f4e\u96fb\u5e73\uff0c\"boot 1 \"\u70ba\u9ad8\u96fb\u5e73\u4e26\u4e0a\u96fb\u4f86\u5b8c\u6210\u3002\u7a0b\u5f0f\u8a2d\u8a08\u5b8c\u6210\u5f8c\uff0c\u88dd\u7f6e\u65b7\u96fb\uff0c\u5c07 \"boot 1 \"\u91cd\u8a2d\u70ba\u4f4e\u96fb\u5e73\uff0c\u9019\u6a23\u61c9\u7528\u7a0b\u5f0f\u5c31\u6703\u88ab\u8f09\u5165\u3002","title":"STM32F4 \u5fae\u63a7\u5236\u5668 (SKR Pro 1.1)"},{"location":"Bootloaders.html#lpc176xsmoothieboards","text":"\u672c\u6a94\u6848\u6c92\u6709\u63cf\u8ff0\u5237\u5beb\u8f09\u5165\u7a0b\u5f0f\u672c\u8eab\u7684\u65b9\u6cd5--\u898b\uff1a http://smoothieware.org/flashing-the-bootloader \u4ee5\u7372\u5f97\u95dc\u65bc\u8a72\u4e3b\u984c\u7684\u9032\u4e00\u6b65\u8cc7\u8a0a\u3002 Smoothieboards\u901a\u5e38\u5e36\u6709\u4e00\u500b\u4f86\u81ea https://github.com/triffid/LPC17xx-DFU-Bootloader \u7684bootloader\u3002\u7576\u4f7f\u7528\u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u6642\uff0c\u61c9\u7528\u7a0b\u5f0f\u5fc5\u9808\u4ee516KiB\u7684\u8d77\u59cb\u5730\u5740\u9032\u884c\u7de8\u8b6f\u3002\u7528\u9019\u500b\u8f09\u5165\u7a0b\u5f0f\u5237\u5beb\u61c9\u7528\u7a0b\u5f0f\u7684\u6700\u7c21\u55ae\u65b9\u6cd5\u662f\u5c07\u61c9\u7528\u7a0b\u5f0f\u6a94\u6848\uff08\u4f8b\u5982 out/klipper.bin \uff09\u8907\u88fd\u5230SD\u5361\u4e0a\u4e00\u500b\u540d\u70ba firmware.bin \u7684\u6a94\u6848\uff0c\u7136\u5f8c\u7528\u8a72SD\u5361\u91cd\u65b0\u555f\u52d5\u5fae\u63a7\u5236\u5668\u3002","title":"LPC176x\u5fae\u63a7\u5236\u5668\uff08Smoothieboards\uff09"},{"location":"Bootloaders.html#openocd","text":"OpenOCD\u662f\u4e00\u500b\u8edf\u9ad4\u5305\uff0c\u53ef\u4ee5\u9032\u884c\u5e95\u5c64\u7684\u6676\u7247\u7a0b\u5f0f\u8a2d\u8a08\u548c\u9664\u932f\u3002\u5b83\u53ef\u4ee5\u4f7f\u7528\u6a39\u8393\u6d3e\u4e0a\u7684GPIO\u5f15\u8173\u8207\u5404\u7a2eARM\u6676\u7247\u901a\u8a0a\u3002 \u672c\u7bc0\u63cf\u8ff0\u77ad\u5982\u4f55\u5b89\u88dd\u548c\u555f\u52d5OpenOCD\u3002\u5b83\u4f86\u81ea\u65bc\u4ee5\u4e0b\u7684\u8aaa\u660e\uff1a https://learn.adafruit.com/programming-microcontrollers-using-openocd-on-raspberry-pi \u958b\u59cb\u4e0b\u8f09\u548c\u7de8\u8b6f\u8edf\u9ad4\uff08\u6bcf\u500b\u6b65\u9a5f\u53ef\u80fd\u9700\u8981\u6578\u5206\u9418\uff0c\"make \"\u6b65\u9a5f\u53ef\u80fd\u9700\u898130\u5206\u9418\u4ee5\u4e0a\uff09\uff1a sudo apt-get update sudo apt-get install autoconf libtool telnet mkdir ~/openocd cd ~/openocd/ git clone http://openocd.zylin.com/openocd cd openocd ./bootstrap ./configure --enable-sysfsgpio --enable-bcm2835gpio --prefix=/home/pi/openocd/install make make install","title":"\u5728\u6a39\u8393\u6d3e\u4e0a\u57f7\u884cOpenOCD"},{"location":"Bootloaders.html#openocd_1","text":"\u5efa\u7acb\u4e00\u500bOpenOCD\u914d\u7f6e\u6a94\u6848\uff1a nano ~/openocd/openocd.cfg \u4f7f\u7528\u985e\u4f3c\u65bc\u4ee5\u4e0b\u7684\u914d\u7f6e\uff1a # Uses RPi pins: GPIO25 for SWDCLK, GPIO24 for SWDIO, GPIO18 for nRST source [find interface/raspberrypi2-native.cfg] bcm2835gpio_swd_nums 25 24 bcm2835gpio_srst_num 18 transport select swd # Use hardware reset wire for chip resets reset_config srst_only adapter_nsrst_delay 100 adapter_nsrst_assert_width 100 # Specify the chip type source [find target/atsame5x.cfg] # Set the adapter speed adapter_khz 40 # Connect to chip init targets reset halt","title":"\u914d\u7f6eOpenOCD"},{"location":"Bootloaders.html#_2","text":"\u5728\u63a5\u7dda\u4e4b\u524d\uff0c\u8acb\u95dc\u9589\u6a39\u8393\u6d3e\u548c\u76ee\u6a19\u6676\u7247\u7684\u96fb\u6e90! \u5728\u9023\u7dda\u5230\u6a39\u8393\u6d3e\u4e4b\u524d\uff0c\u8acb\u78ba\u8a8d\u76ee\u6a19\u6676\u7247\u4f7f\u75283.3V\u96fb\u58d3! \u5c07\u76ee\u6a19\u6676\u7247\u4e0a\u7684GND\u3001SWDCLK\u3001SWDIO\u548cRST\u5206\u5225\u9023\u7dda\u5230\u6a39\u8393\u6d3e\u4e0a\u7684GND\u3001GPIO25\u3001GPIO24\u548cGPIO18\u3002 \u7136\u5f8c\u7d66\u6a39\u8393\u6d3e\u4e0a\u96fb\uff0c\u518d\u7d66\u76ee\u6a19\u6676\u7247\u4f9b\u96fb\u3002","title":"\u5c07\u6a39\u8393\u6d3e\u8207\u76ee\u6a19\u6676\u7247\u76f8\u9023"},{"location":"Bootloaders.html#openocd_2","text":"\u57f7\u884cOpenOCD\uff1a cd ~/openocd/ sudo ~/openocd/install/bin/openocd -f ~/openocd/openocd.cfg \u4e0a\u8ff0\u64cd\u4f5c\u61c9\u8a72\u4f7fOpenOCD\u8f38\u51fa\u4e00\u4e9b\u6587\u5b57\u8cc7\u8a0a\uff0c\u7136\u5f8c\u7b49\u5f85\uff08\u5b83\u4e0d\u6703\u7acb\u5373\u8fd4\u56de\u5230Unix shell\u63d0\u793a\u7b26\uff09\u3002\u5982\u679cOpenOCD\u81ea\u5df1\u9000\u51fa\u6216\u7e7c\u7e8c\u8f38\u51fa\u6587\u5b57\u8cc7\u8a0a\uff0c\u90a3\u9ebc\u8acb\u4ed4\u7d30\u6aa2\u67e5\u63a5\u7dda\u3002 \u4e00\u65e6OpenOCD\u57f7\u884c\u7a69\u5b9a\uff0c\u5c31\u53ef\u4ee5\u901a\u904etelnet\u5411\u5b83\u767c\u9001\u547d\u4ee4\u3002\u6253\u958b\u53e6\u4e00\u500bssh\u6703\u8a71\uff0c\u57f7\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a telnet 127.0.0.1 4444 (\u53ef\u4ee5\u6309ctrl+]\u9000\u51fatelnet\uff0c\u7136\u5f8c\u57f7\u884c \"quit \"\u547d\u4ee4\u3002)","title":"\u57f7\u884cOpenOCD"},{"location":"Bootloaders.html#openocdgdb","text":"\u53ef\u4ee5\u4f7f\u7528OpenOCD\u548cgdb\u4f86\u9664\u932fKlipper\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5047\u8a2d\u662f\u5728\u81fa\u5f0f\u6a5f\u4e0a\u57f7\u884cgdb\u3002 \u5728OpenOCD\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\u52a0\u5165\u4ee5\u4e0b\u5167\u5bb9\uff1a bindto 0.0.0.0 gdb_port 44444 \u5728\u6a39\u8393\u6d3e\u4e0a\u91cd\u65b0\u555f\u52d5OpenOCD\uff0c\u7136\u5f8c\u5728\u81fa\u5f0f\u6a5f\u4e0a\u57f7\u884c\u4ee5\u4e0bUnix\u547d\u4ee4\uff1a cd /path/to/klipper/ gdb out/klipper.elf \u5728gdb\u4e2d\u57f7\u884c\uff1a target remote octopi:44444 (\u7528\u6a39\u8393\u6d3e\u7684\u4e3b\u6a5f\u540d\u66ff\u63db \"octopi\"\uff09\u4e00\u65e6gdb\u57f7\u884c\uff0c\u5c31\u53ef\u4ee5\u8a2d\u5b9a\u65b7\u9ede\u4e26\u6aa2\u67e5\u66ab\u5b58\u5668\u3002","title":"OpenOCD\u548cgdb"},{"location":"CANBUS.html","text":"CAN \u532f\u6d41\u6392 \u00b6 \u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 Klipper \u7684 CAN \u532f\u6d41\u6392\u652f\u63f4\u3002 \u88dd\u7f6e\u786c\u9ad4 \u00b6 Klipper\u76ee\u524d\u53ea\u652f\u63f4 stm32 \u6676\u7247\u7684CAN\u3002\u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u6676\u7247\u5fc5\u9808\u652f\u63f4 CAN\uff0c\u800c\u4e14\u4f60\u4f7f\u7528\u7684\u4e3b\u677f\u5fc5\u9808\u6709 CAN \u6536\u767c\u5668\u3002 \u8981\u91dd\u5c0d CAN \u9032\u884c\u7de8\u8b6f\uff0c\u8acb\u57f7\u884c make menuconfig \u4e26\u9078\u64c7\"CAN Bus\"\u4f5c\u70ba\u901a\u8a0a\u4ecb\u9762\u3002\u6700\u5f8c\uff0c\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e26\u5c07\u5176\u5237\u5beb\u5230\u76ee\u6a19\u63a7\u5236\u7248\u4e0a\u3002 \u4e3b\u6a5f\u786c\u9ad4 \u00b6 \u7232\u4e86\u4f7f\u7528 CAN \u532f\u6d41\u6392\uff0c\u4e3b\u6a5f\u9700\u8981\u4e00\u500b\u9069\u914d\u5668\u3002\u76ee\u524d\u6709\u5169\u7a2e\u5e38\u898b\u7684\u9078\u64c7\uff1a \u4f7f\u7528 Waveshare Raspberry Pi CAN hat \u6216\u5176\u773e\u591a\u514b\u9686\u4e2d\u7684\u4e00\u500b\u3002 \u4f7f\u7528\u4e00\u500bUSB CAN\u9069\u914d\u5668\uff08\u4f8b\u5982 https://hacker-gadgets.com/product/cantact-usb-can-adapter/ \uff09\u3002\u6709\u8a31\u591a\u4e0d\u540c\u7684USB\u5230CAN\u9069\u914d\u5668\u2014\u7576\u9078\u64c7\u6642\uff0c\u6211\u5011\u5efa\u8b70\u9a57\u8b49\u5b83\u662f\u5426\u80fd\u57f7\u884c candlelight \u97cc\u9ad4 \u3002(\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u5011\u767c\u73fe\u4e00\u4e9bUSB\u9069\u914d\u5668\u57f7\u884c\u6709\u7f3a\u9677\u7684\u97cc\u9ad4\uff0c\u4e26\u88ab\u9396\u6b7b\uff0c\u6240\u4ee5\u5728\u8cfc\u8cb7\u524d\u8981\u9032\u884c\u8988\u5be6\u3002\uff09 \u9084\u9700\u8981\u5c07\u4e3b\u6a5f\u64cd\u4f5c\u7cfb\u7d71\u914d\u7f6e\u70ba\u4f7f\u7528\u9069\u914d\u5668\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u904e\u5efa\u7acb\u4e00\u500b\u540d\u70ba /etc/network/interfaces.d/can0 \u7684\u65b0\u6a94\u6848\u4f86\u5be6\u73fe\uff0c\u8a72\u6a94\u6848\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\uff1a auto can0 iface can0 can static bitrate 500000 up ifconfig $IFACE txqueuelen 128 \u6ce8\u610f\uff0c\"Raspberry Pi CAN hat\" \u9700\u8981\u984d\u5916 \u5c0d config.txt \u9032\u884c\u4fee\u6539 \u3002 \u7d42\u7aef\u96fb\u963b \u00b6 CAN\u532f\u6d41\u6392\u5728 CANH \u548c CANL \u5c0e\u7dda\u4e4b\u9593\u5fc5\u9808\u5169\u500b 120 \u6b50\u59c6\u7684\u96fb\u963b\u3002\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u532f\u6d41\u6392\u7684\u5169\u7aef\u5404\u6709\u4e00\u500b\u96fb\u963b\u3002 \u8acb\u6ce8\u610f\uff0c\u6709\u4e9b\u88dd\u7f6e\u6709\u4e00\u500b\u5167\u5efa\u7684120\u6b50\u59c6\u96fb\u963b\uff08\u4f8b\u5982\uff0c\"Waveshare Raspberry Pi CAN hat\"\u6709\u4e00\u500b\u96e3\u4ee5\u62c6\u9664\u7684\u8cbc\u7247\u96fb\u963b\uff09\u3002\u6709\u4e9b\u88dd\u7f6e\u6839\u672c\u4e0d\u5e36\u6709\u4e00\u500b\u96fb\u963b\u3002\u5176\u4ed6\u88dd\u7f6e\u6709\u4e00\u500b\u9078\u64c7\u96fb\u963b\u7684\u6a5f\u5236\uff08\u901a\u5e38\u662f\u4e00\u500b\u8df3\u7dda\uff09\u3002\u4e00\u5b9a\u8981\u6aa2\u67e5 CAN \u532f\u6d41\u6392\u4e0a\u6240\u6709\u88dd\u7f6e\u7684\u539f\u7406\u5716\uff0c\u4ee5\u78ba\u8a8d\u532f\u6d41\u6392\u4e0a\u6709\u5169\u500b\u800c\u4e14\u53ea\u6709\u5169\u500b120\u6b50\u59c6\u7684\u96fb\u963b\u3002 \u8981\u6e2c\u8a66\u96fb\u963b\u662f\u5426\u6b63\u78ba\uff0c\u5148\u5207\u65b7\u5370\u8868\u6a5f\u7684\u96fb\u6e90\uff0c\u4e26\u7528\u591a\u7528\u8868\u6aa2\u67e5 CANH \u548c CANL \u7dda\u4e4b\u9593\u7684\u963b\u503c\u2014\u5728\u6b63\u78ba\u63a5\u7dda\u7684 CAN \u532f\u6d41\u6392\u4e0a\uff0c\u5b83\u61c9\u8a72\u5831\u544a\u5927\u7d0460 \u6b50\u59c6\u3002 \u5c0b\u627e\u65b0\u5fae\u63a7\u5236\u5668\u7684 canbus_uuid \u00b6 CAN \u532f\u6d41\u6392\u4e0a\u7684\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u90fd\u6839\u64da\u7de8\u78bc\u5230\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5de5\u5ee0\u6676\u7247\u8b58\u5225\u7b26\u865f\u5206\u914d\u4e86\u4e00\u500b\u552f\u4e00\u7684 ID\u3002\u8981\u67e5\u8a62\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u88dd\u7f6e ID\uff0c\u8acb\u78ba\u4fdd\u786c\u9ad4\u5df2\u6b63\u78ba\u4f9b\u96fb\u548c\u63a5\u7dda\uff0c\u7136\u5f8c\u57f7\u884c\uff1a ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 \u5982\u679c\u6aa2\u6e2c\u5230\u672a\u521d\u59cb\u5316\u7684 CAN \u88dd\u7f6e\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5c07\u5831\u544a\u5982\u4e0b\u884c\uff1a Found canbus_uuid=11aa22bb33cc \u6bcf\u500b\u88dd\u7f6e\u5c07\u6709\u4e00\u500b\u7368\u7279\u7684\u8b58\u5225\u7b26\u865f\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c 11aa22bb33cc \u662f\u5fae\u63a7\u5236\u5668'\u7684\"canbus_uuid\" \u3002 \u6ce8\u610f\uff0c canbus_query.py \u5de5\u5177\u53ea\u6703\u53ea\u5831\u544a\u672a\u521d\u59cb\u5316\u7684\u88dd\u7f6e\u2014\u5982\u679cKlipper\uff08\u6216\u985e\u4f3c\u5de5\u5177\uff09\u5df2\u7d93\u914d\u7f6e\u4e86\u88dd\u7f6e\uff0c\u90a3\u9ebc\u5b83\u4e0d\u6703\u5728\u5217\u8868\u4e2d\u3002 \u914d\u7f6e Klipper \u00b6 \u66f4\u65b0Klipper\u7684 mcu \u914d\u7f6e \uff0c\u4ee5\u4f7f\u7528 CAN \u532f\u6d41\u6392\u8207\u88dd\u7f6e\u901a\u8a0a\u2014\u4f8b\u5982\uff1a [mcu my_can_mcu] canbus_uuid: 11aa22bb33cc USB to CAN bus bridge mode \u00b6 Some micro-controllers support selecting \"USB to CAN bus bridge\" mode during \"make menuconfig\". This mode may allow one to use a micro-controller as both a \"USB to CAN bus adapter\" and as a Klipper node. When Klipper uses this mode the micro-controller appears as a \"USB CAN bus adapter\" under Linux. The \"Klipper bridge mcu\" itself will appear as if was on this CAN bus - it can be identified via canbus_query.py and configured like other CAN bus Klipper nodes. It will appear alongside other devices that are actually on the CAN bus. Some important notes when using this mode: The \"bridge mcu\" is not actually on the CAN bus. Messages to and from it do not consume bandwidth on the CAN bus. The mcu can not be seen by other adapters that may be on the CAN bus. It is necessary to configure the can0 (or similar) interface in Linux in order to communicate with the bus. However, Linux CAN bus speed and CAN bus bit-timing options are ignored by Klipper. Currently, the CAN bus frequency is specified during \"make menuconfig\" and the bus speed specified in Linux is ignored. Whenever the \"bridge mcu\" is reset, Linux will disable the corresponding can0 interface. Generally, this may require running commands such as \"ip up\" to restart the interface. Thus, Klipper FIRMWARE_RESTART commands (or regular RESTART after a config change) may require restarting the can0 interface.","title":"CAN \u532f\u6d41\u6392"},{"location":"CANBUS.html#can","text":"\u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 Klipper \u7684 CAN \u532f\u6d41\u6392\u652f\u63f4\u3002","title":"CAN \u532f\u6d41\u6392"},{"location":"CANBUS.html#_1","text":"Klipper\u76ee\u524d\u53ea\u652f\u63f4 stm32 \u6676\u7247\u7684CAN\u3002\u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u6676\u7247\u5fc5\u9808\u652f\u63f4 CAN\uff0c\u800c\u4e14\u4f60\u4f7f\u7528\u7684\u4e3b\u677f\u5fc5\u9808\u6709 CAN \u6536\u767c\u5668\u3002 \u8981\u91dd\u5c0d CAN \u9032\u884c\u7de8\u8b6f\uff0c\u8acb\u57f7\u884c make menuconfig \u4e26\u9078\u64c7\"CAN Bus\"\u4f5c\u70ba\u901a\u8a0a\u4ecb\u9762\u3002\u6700\u5f8c\uff0c\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e26\u5c07\u5176\u5237\u5beb\u5230\u76ee\u6a19\u63a7\u5236\u7248\u4e0a\u3002","title":"\u88dd\u7f6e\u786c\u9ad4"},{"location":"CANBUS.html#_2","text":"\u7232\u4e86\u4f7f\u7528 CAN \u532f\u6d41\u6392\uff0c\u4e3b\u6a5f\u9700\u8981\u4e00\u500b\u9069\u914d\u5668\u3002\u76ee\u524d\u6709\u5169\u7a2e\u5e38\u898b\u7684\u9078\u64c7\uff1a \u4f7f\u7528 Waveshare Raspberry Pi CAN hat \u6216\u5176\u773e\u591a\u514b\u9686\u4e2d\u7684\u4e00\u500b\u3002 \u4f7f\u7528\u4e00\u500bUSB CAN\u9069\u914d\u5668\uff08\u4f8b\u5982 https://hacker-gadgets.com/product/cantact-usb-can-adapter/ \uff09\u3002\u6709\u8a31\u591a\u4e0d\u540c\u7684USB\u5230CAN\u9069\u914d\u5668\u2014\u7576\u9078\u64c7\u6642\uff0c\u6211\u5011\u5efa\u8b70\u9a57\u8b49\u5b83\u662f\u5426\u80fd\u57f7\u884c candlelight \u97cc\u9ad4 \u3002(\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u5011\u767c\u73fe\u4e00\u4e9bUSB\u9069\u914d\u5668\u57f7\u884c\u6709\u7f3a\u9677\u7684\u97cc\u9ad4\uff0c\u4e26\u88ab\u9396\u6b7b\uff0c\u6240\u4ee5\u5728\u8cfc\u8cb7\u524d\u8981\u9032\u884c\u8988\u5be6\u3002\uff09 \u9084\u9700\u8981\u5c07\u4e3b\u6a5f\u64cd\u4f5c\u7cfb\u7d71\u914d\u7f6e\u70ba\u4f7f\u7528\u9069\u914d\u5668\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u904e\u5efa\u7acb\u4e00\u500b\u540d\u70ba /etc/network/interfaces.d/can0 \u7684\u65b0\u6a94\u6848\u4f86\u5be6\u73fe\uff0c\u8a72\u6a94\u6848\u5305\u542b\u4ee5\u4e0b\u5167\u5bb9\uff1a auto can0 iface can0 can static bitrate 500000 up ifconfig $IFACE txqueuelen 128 \u6ce8\u610f\uff0c\"Raspberry Pi CAN hat\" \u9700\u8981\u984d\u5916 \u5c0d config.txt \u9032\u884c\u4fee\u6539 \u3002","title":"\u4e3b\u6a5f\u786c\u9ad4"},{"location":"CANBUS.html#_3","text":"CAN\u532f\u6d41\u6392\u5728 CANH \u548c CANL \u5c0e\u7dda\u4e4b\u9593\u5fc5\u9808\u5169\u500b 120 \u6b50\u59c6\u7684\u96fb\u963b\u3002\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u532f\u6d41\u6392\u7684\u5169\u7aef\u5404\u6709\u4e00\u500b\u96fb\u963b\u3002 \u8acb\u6ce8\u610f\uff0c\u6709\u4e9b\u88dd\u7f6e\u6709\u4e00\u500b\u5167\u5efa\u7684120\u6b50\u59c6\u96fb\u963b\uff08\u4f8b\u5982\uff0c\"Waveshare Raspberry Pi CAN hat\"\u6709\u4e00\u500b\u96e3\u4ee5\u62c6\u9664\u7684\u8cbc\u7247\u96fb\u963b\uff09\u3002\u6709\u4e9b\u88dd\u7f6e\u6839\u672c\u4e0d\u5e36\u6709\u4e00\u500b\u96fb\u963b\u3002\u5176\u4ed6\u88dd\u7f6e\u6709\u4e00\u500b\u9078\u64c7\u96fb\u963b\u7684\u6a5f\u5236\uff08\u901a\u5e38\u662f\u4e00\u500b\u8df3\u7dda\uff09\u3002\u4e00\u5b9a\u8981\u6aa2\u67e5 CAN \u532f\u6d41\u6392\u4e0a\u6240\u6709\u88dd\u7f6e\u7684\u539f\u7406\u5716\uff0c\u4ee5\u78ba\u8a8d\u532f\u6d41\u6392\u4e0a\u6709\u5169\u500b\u800c\u4e14\u53ea\u6709\u5169\u500b120\u6b50\u59c6\u7684\u96fb\u963b\u3002 \u8981\u6e2c\u8a66\u96fb\u963b\u662f\u5426\u6b63\u78ba\uff0c\u5148\u5207\u65b7\u5370\u8868\u6a5f\u7684\u96fb\u6e90\uff0c\u4e26\u7528\u591a\u7528\u8868\u6aa2\u67e5 CANH \u548c CANL \u7dda\u4e4b\u9593\u7684\u963b\u503c\u2014\u5728\u6b63\u78ba\u63a5\u7dda\u7684 CAN \u532f\u6d41\u6392\u4e0a\uff0c\u5b83\u61c9\u8a72\u5831\u544a\u5927\u7d0460 \u6b50\u59c6\u3002","title":"\u7d42\u7aef\u96fb\u963b"},{"location":"CANBUS.html#canbus_uuid","text":"CAN \u532f\u6d41\u6392\u4e0a\u7684\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u90fd\u6839\u64da\u7de8\u78bc\u5230\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5de5\u5ee0\u6676\u7247\u8b58\u5225\u7b26\u865f\u5206\u914d\u4e86\u4e00\u500b\u552f\u4e00\u7684 ID\u3002\u8981\u67e5\u8a62\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u88dd\u7f6e ID\uff0c\u8acb\u78ba\u4fdd\u786c\u9ad4\u5df2\u6b63\u78ba\u4f9b\u96fb\u548c\u63a5\u7dda\uff0c\u7136\u5f8c\u57f7\u884c\uff1a ~/klippy-env/bin/python ~/klipper/scripts/canbus_query.py can0 \u5982\u679c\u6aa2\u6e2c\u5230\u672a\u521d\u59cb\u5316\u7684 CAN \u88dd\u7f6e\uff0c\u4e0a\u8ff0\u547d\u4ee4\u5c07\u5831\u544a\u5982\u4e0b\u884c\uff1a Found canbus_uuid=11aa22bb33cc \u6bcf\u500b\u88dd\u7f6e\u5c07\u6709\u4e00\u500b\u7368\u7279\u7684\u8b58\u5225\u7b26\u865f\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c 11aa22bb33cc \u662f\u5fae\u63a7\u5236\u5668'\u7684\"canbus_uuid\" \u3002 \u6ce8\u610f\uff0c canbus_query.py \u5de5\u5177\u53ea\u6703\u53ea\u5831\u544a\u672a\u521d\u59cb\u5316\u7684\u88dd\u7f6e\u2014\u5982\u679cKlipper\uff08\u6216\u985e\u4f3c\u5de5\u5177\uff09\u5df2\u7d93\u914d\u7f6e\u4e86\u88dd\u7f6e\uff0c\u90a3\u9ebc\u5b83\u4e0d\u6703\u5728\u5217\u8868\u4e2d\u3002","title":"\u5c0b\u627e\u65b0\u5fae\u63a7\u5236\u5668\u7684 canbus_uuid"},{"location":"CANBUS.html#klipper","text":"\u66f4\u65b0Klipper\u7684 mcu \u914d\u7f6e \uff0c\u4ee5\u4f7f\u7528 CAN \u532f\u6d41\u6392\u8207\u88dd\u7f6e\u901a\u8a0a\u2014\u4f8b\u5982\uff1a [mcu my_can_mcu] canbus_uuid: 11aa22bb33cc","title":"\u914d\u7f6e Klipper"},{"location":"CANBUS.html#usb-to-can-bus-bridge-mode","text":"Some micro-controllers support selecting \"USB to CAN bus bridge\" mode during \"make menuconfig\". This mode may allow one to use a micro-controller as both a \"USB to CAN bus adapter\" and as a Klipper node. When Klipper uses this mode the micro-controller appears as a \"USB CAN bus adapter\" under Linux. The \"Klipper bridge mcu\" itself will appear as if was on this CAN bus - it can be identified via canbus_query.py and configured like other CAN bus Klipper nodes. It will appear alongside other devices that are actually on the CAN bus. Some important notes when using this mode: The \"bridge mcu\" is not actually on the CAN bus. Messages to and from it do not consume bandwidth on the CAN bus. The mcu can not be seen by other adapters that may be on the CAN bus. It is necessary to configure the can0 (or similar) interface in Linux in order to communicate with the bus. However, Linux CAN bus speed and CAN bus bit-timing options are ignored by Klipper. Currently, the CAN bus frequency is specified during \"make menuconfig\" and the bus speed specified in Linux is ignored. Whenever the \"bridge mcu\" is reset, Linux will disable the corresponding can0 interface. Generally, this may require running commands such as \"ip up\" to restart the interface. Thus, Klipper FIRMWARE_RESTART commands (or regular RESTART after a config change) may require restarting the can0 interface.","title":"USB to CAN bus bridge mode"},{"location":"CANBUS_protocol.html","text":"CANBUS \u5354\u8b70 \u00b6 \u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 Klipper \u901a\u904e CAN\u532f\u6d41\u6392 \u9032\u884c\u901a\u8a0a\u7684\u5354\u8b70\u3002\u53c3\u898b \u77ad\u89e3\u5982\u4f55\u5728 Klipper \u4e2d\u914d\u7f6e CAN \u532f\u6d41\u6392\u3002 \u5fae\u63a7\u5236\u5668 ID \u5206\u914d \u00b6 Klipper\u4f7f\u7528 CAN 2.0A \u6a19\u6e96\u5c3a\u5bf8\u7684 CAN \u532f\u6d41\u6392\u6578\u64da\u5305\uff0c\u5b83\u88ab\u9650\u5236\u57288\u500b\u6578\u64da\u4f4d\u5143\u7d44\u548c\u4e00\u500b11\u4f4d\u7684CAN\u532f\u6d41\u6392\u6a19\u8b58\u3002\u7232\u4e86\u4fdd\u8b49\u9ad8\u6548\u7684\u901a\u8a0a\uff0c\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u5728\u57f7\u884c\u6642\u88ab\u5206\u914d\u4e00\u500b\u552f\u4e00\u7684 1 \u4f4d\u5143\u7d44\u7684CAN\u532f\u6d41\u6392\u7bc0\u9ede ID\uff08 canbus_nodeid \uff09\u7528\u65bc\u4e00\u822c\u7684 Klipper \u547d\u4ee4\u548c\u97ff\u61c9\u901a\u8a0a\u3002\u5f9e\u4e3b\u6a5f\u5230\u5fae\u63a7\u5236\u5668\u7684 Klipper \u547d\u4ee4\u8cc7\u8a0a\u4f7f\u7528 canbus_nodeid * 2 + 256 \u7684CAN\u532f\u6d41\u6392 ID\uff0c\u800c\u5f9e\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u6a5f\u7684 Klipper \u97ff\u61c9\u8cc7\u8a0a\u4f7f\u7528 canbus_nodeid * 2 + 256 + 1 \u3002 \u6bcf\u500b\u5fae\u63a7\u5236\u5668\u51fa\u5ee0\u6642\u90fd\u6709\u4e00\u500b\u7528\u65bcID\u5206\u914d\u7684\u552f\u4e00\u7684\u6676\u7247\u8b58\u5225\u7b26\u865f\u3002\u9019\u500b\u8b58\u5225\u7b26\u865f\u53ef\u4ee5\u8d85\u904e\u4e00\u500b CAN \u6578\u64da\u5305\u7684\u9577\u5ea6\uff0c\u4e00\u500b\u96dc\u6e4a\u51fd\u5f0f\u6703\u7528\u51fa\u5ee0\u8b58\u5225\u7b26\u865f\u7522\u751f\u4e00\u500b\u552f\u4e00\u7684 6 \u4f4d\u5143\u7d44\u6a19\u8b58\uff08 canbus_uuid \uff09\u3002 \u7ba1\u7406\u8a0a\u606f \u00b6 \u7ba1\u7406\u8cc7\u8a0a\u7528\u65bc ID \u5206\u914d\u3002\u5f9e\u4e3b\u6a5f\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u7ba1\u7406\u8a0a\u606f\u4f7f\u7528CAN\u532f\u6d41\u6392\u7684 ID 0x3f0 \uff0c\u800c\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u8a0a\u606f\u4f7f\u7528CAN\u532f\u6d41\u6392\u7684 ID 0x3f1 \u3002\u6240\u6709\u7684\u5fae\u63a7\u5236\u5668\u90fd\u807d\u5f9eID 0x3f0 \u4e0a\u7684\u8a0a\u606f\uff1b\u9019\u500b ID \u53ef\u4ee5\u88ab\u8a8d\u70ba\u662f\u4e00\u500b\"\u5ee3\u64ad\u5730\u5740\"\u3002 CMD_QUERY_UNASSIGNED \u8a0a\u606f \u00b6 \u8a72\u547d\u4ee4\u67e5\u8a62\u6240\u6709\u5c1a\u672a\u88ab\u5206\u914d canbus_nodeid \u7684\u5fae\u63a7\u5236\u5668\u3002\u672a\u5206\u914d\u7684\u5fae\u63a7\u5236\u5668\u5c07\u4ee5 RESP_NEED_NODEID \u97ff\u61c9\u8a0a\u606f\u9032\u884c\u8ff4\u61c9\u3002 CMD_QUERY_UNASSIGNED \u8a0a\u606f\u683c\u5f0f\u662f\uff1a <1-byte message_id = 0x00> CMD_SET_NODEID \u8a0a\u606f \u00b6 \u9019\u500b\u547d\u4ee4\u6839\u64da\u5fae\u8655\u7406\u5668\u7d66\u5b9a\u7684 canbus_uuid \u7d66\u76f8\u61c9\u7684\u5fae\u8655\u7406\u5668\u5206\u914d\u4e00\u500b canbus_nodeid \u3002 CMD_SET_NODEID\u8a0a\u606f\u683c\u5f0f\u662f\uff1a <1\u4f4d\u5143\u7d44message_id = 0x01><6\u4f4d\u5143\u7d44canbus_uuid><1\u4f4d\u5143\u7d44canbus_nodeid> RESP_NEED_NODEID \u8a0a\u606f \u00b6 RESP_NEED_NODEID\u8a0a\u606f\u683c\u5f0f\u70ba\uff1a <1\u4f4d\u5143\u7d44message_id = 0x20><6\u4f4d\u5143\u7d44canbus_uuid> \u6578\u64da\u5305 \u00b6 \u901a\u904e CMD_SET_NODEID \u547d\u4ee4\u5206\u914d\u4e86\u7bc0\u9ede ID \u7684\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u767c\u9001\u548c\u63a5\u6536\u6578\u64da\u5305\u3002 \u5e36\u6709\u7bc0\u9ede\u63a5\u6536 CAN \u532f\u6d41\u6392ID\uff08 canbus_nodeid * 2 + 256 \uff09\u7684\u8a0a\u606f\u4e2d\u7684\u6578\u64da\u5305\u88ab\u7c21\u55ae\u5730\u65b0\u589e\u5230\u4e00\u500b\u7de9\u885d\u5340\uff0c\u7576\u4e00\u500b\u5b8c\u6574\u7684 mcu \u5354\u8b70\u8a0a\u606f \u88ab\u627e\u5230\u6642\uff0c\u5176\u5167\u5bb9\u6703\u88ab\u89e3\u6790\u548c\u8655\u7406\u3002\u6578\u64da\u88ab\u8996\u70ba\u4e00\u500b\u4f4d\u5143\u7d44\u6d41-- Klipper \u8a0a\u606f\u584a\u7684\u958b\u59cb\u4f4d\u7f6e\u8207CAN\u532f\u6d41\u6392\u6578\u64da\u5305\u7684\u958b\u59cb\u4f4d\u7f6e\u4e0d\u9700\u8981\u5c0d\u9f4a\u3002 \u985e\u4f3c\u5730\uff0cmcu \u5354\u8b70\u8a0a\u606f\u97ff\u61c9\u901a\u904e\u5c07\u8a0a\u606f\u6578\u64da\u63d2\u5165\u5230\u5177\u6709\u7bc0\u9ede\u767c\u9001 CAN \u532f\u6d41\u6392 ID \u7684\u4e00\u500b\u6216\u591a\u500b\u6578\u64da\u5305\uff08 canbus_nodeid * 2 + 256 + 1 \uff09\u4e26\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u3002","title":"CANBUS \u5354\u8b70"},{"location":"CANBUS_protocol.html#canbus","text":"\u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 Klipper \u901a\u904e CAN\u532f\u6d41\u6392 \u9032\u884c\u901a\u8a0a\u7684\u5354\u8b70\u3002\u53c3\u898b \u77ad\u89e3\u5982\u4f55\u5728 Klipper \u4e2d\u914d\u7f6e CAN \u532f\u6d41\u6392\u3002","title":"CANBUS \u5354\u8b70"},{"location":"CANBUS_protocol.html#id","text":"Klipper\u4f7f\u7528 CAN 2.0A \u6a19\u6e96\u5c3a\u5bf8\u7684 CAN \u532f\u6d41\u6392\u6578\u64da\u5305\uff0c\u5b83\u88ab\u9650\u5236\u57288\u500b\u6578\u64da\u4f4d\u5143\u7d44\u548c\u4e00\u500b11\u4f4d\u7684CAN\u532f\u6d41\u6392\u6a19\u8b58\u3002\u7232\u4e86\u4fdd\u8b49\u9ad8\u6548\u7684\u901a\u8a0a\uff0c\u6bcf\u500b\u5fae\u63a7\u5236\u5668\u5728\u57f7\u884c\u6642\u88ab\u5206\u914d\u4e00\u500b\u552f\u4e00\u7684 1 \u4f4d\u5143\u7d44\u7684CAN\u532f\u6d41\u6392\u7bc0\u9ede ID\uff08 canbus_nodeid \uff09\u7528\u65bc\u4e00\u822c\u7684 Klipper \u547d\u4ee4\u548c\u97ff\u61c9\u901a\u8a0a\u3002\u5f9e\u4e3b\u6a5f\u5230\u5fae\u63a7\u5236\u5668\u7684 Klipper \u547d\u4ee4\u8cc7\u8a0a\u4f7f\u7528 canbus_nodeid * 2 + 256 \u7684CAN\u532f\u6d41\u6392 ID\uff0c\u800c\u5f9e\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u6a5f\u7684 Klipper \u97ff\u61c9\u8cc7\u8a0a\u4f7f\u7528 canbus_nodeid * 2 + 256 + 1 \u3002 \u6bcf\u500b\u5fae\u63a7\u5236\u5668\u51fa\u5ee0\u6642\u90fd\u6709\u4e00\u500b\u7528\u65bcID\u5206\u914d\u7684\u552f\u4e00\u7684\u6676\u7247\u8b58\u5225\u7b26\u865f\u3002\u9019\u500b\u8b58\u5225\u7b26\u865f\u53ef\u4ee5\u8d85\u904e\u4e00\u500b CAN \u6578\u64da\u5305\u7684\u9577\u5ea6\uff0c\u4e00\u500b\u96dc\u6e4a\u51fd\u5f0f\u6703\u7528\u51fa\u5ee0\u8b58\u5225\u7b26\u865f\u7522\u751f\u4e00\u500b\u552f\u4e00\u7684 6 \u4f4d\u5143\u7d44\u6a19\u8b58\uff08 canbus_uuid \uff09\u3002","title":"\u5fae\u63a7\u5236\u5668 ID \u5206\u914d"},{"location":"CANBUS_protocol.html#_1","text":"\u7ba1\u7406\u8cc7\u8a0a\u7528\u65bc ID \u5206\u914d\u3002\u5f9e\u4e3b\u6a5f\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u7ba1\u7406\u8a0a\u606f\u4f7f\u7528CAN\u532f\u6d41\u6392\u7684 ID 0x3f0 \uff0c\u800c\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u8a0a\u606f\u4f7f\u7528CAN\u532f\u6d41\u6392\u7684 ID 0x3f1 \u3002\u6240\u6709\u7684\u5fae\u63a7\u5236\u5668\u90fd\u807d\u5f9eID 0x3f0 \u4e0a\u7684\u8a0a\u606f\uff1b\u9019\u500b ID \u53ef\u4ee5\u88ab\u8a8d\u70ba\u662f\u4e00\u500b\"\u5ee3\u64ad\u5730\u5740\"\u3002","title":"\u7ba1\u7406\u8a0a\u606f"},{"location":"CANBUS_protocol.html#cmd_query_unassigned","text":"\u8a72\u547d\u4ee4\u67e5\u8a62\u6240\u6709\u5c1a\u672a\u88ab\u5206\u914d canbus_nodeid \u7684\u5fae\u63a7\u5236\u5668\u3002\u672a\u5206\u914d\u7684\u5fae\u63a7\u5236\u5668\u5c07\u4ee5 RESP_NEED_NODEID \u97ff\u61c9\u8a0a\u606f\u9032\u884c\u8ff4\u61c9\u3002 CMD_QUERY_UNASSIGNED \u8a0a\u606f\u683c\u5f0f\u662f\uff1a <1-byte message_id = 0x00>","title":"CMD_QUERY_UNASSIGNED \u8a0a\u606f"},{"location":"CANBUS_protocol.html#cmd_set_nodeid","text":"\u9019\u500b\u547d\u4ee4\u6839\u64da\u5fae\u8655\u7406\u5668\u7d66\u5b9a\u7684 canbus_uuid \u7d66\u76f8\u61c9\u7684\u5fae\u8655\u7406\u5668\u5206\u914d\u4e00\u500b canbus_nodeid \u3002 CMD_SET_NODEID\u8a0a\u606f\u683c\u5f0f\u662f\uff1a <1\u4f4d\u5143\u7d44message_id = 0x01><6\u4f4d\u5143\u7d44canbus_uuid><1\u4f4d\u5143\u7d44canbus_nodeid>","title":"CMD_SET_NODEID \u8a0a\u606f"},{"location":"CANBUS_protocol.html#resp_need_nodeid","text":"RESP_NEED_NODEID\u8a0a\u606f\u683c\u5f0f\u70ba\uff1a <1\u4f4d\u5143\u7d44message_id = 0x20><6\u4f4d\u5143\u7d44canbus_uuid>","title":"RESP_NEED_NODEID \u8a0a\u606f"},{"location":"CANBUS_protocol.html#_2","text":"\u901a\u904e CMD_SET_NODEID \u547d\u4ee4\u5206\u914d\u4e86\u7bc0\u9ede ID \u7684\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u767c\u9001\u548c\u63a5\u6536\u6578\u64da\u5305\u3002 \u5e36\u6709\u7bc0\u9ede\u63a5\u6536 CAN \u532f\u6d41\u6392ID\uff08 canbus_nodeid * 2 + 256 \uff09\u7684\u8a0a\u606f\u4e2d\u7684\u6578\u64da\u5305\u88ab\u7c21\u55ae\u5730\u65b0\u589e\u5230\u4e00\u500b\u7de9\u885d\u5340\uff0c\u7576\u4e00\u500b\u5b8c\u6574\u7684 mcu \u5354\u8b70\u8a0a\u606f \u88ab\u627e\u5230\u6642\uff0c\u5176\u5167\u5bb9\u6703\u88ab\u89e3\u6790\u548c\u8655\u7406\u3002\u6578\u64da\u88ab\u8996\u70ba\u4e00\u500b\u4f4d\u5143\u7d44\u6d41-- Klipper \u8a0a\u606f\u584a\u7684\u958b\u59cb\u4f4d\u7f6e\u8207CAN\u532f\u6d41\u6392\u6578\u64da\u5305\u7684\u958b\u59cb\u4f4d\u7f6e\u4e0d\u9700\u8981\u5c0d\u9f4a\u3002 \u985e\u4f3c\u5730\uff0cmcu \u5354\u8b70\u8a0a\u606f\u97ff\u61c9\u901a\u904e\u5c07\u8a0a\u606f\u6578\u64da\u63d2\u5165\u5230\u5177\u6709\u7bc0\u9ede\u767c\u9001 CAN \u532f\u6d41\u6392 ID \u7684\u4e00\u500b\u6216\u591a\u500b\u6578\u64da\u5305\uff08 canbus_nodeid * 2 + 256 + 1 \uff09\u4e26\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u3002","title":"\u6578\u64da\u5305"},{"location":"CONTRIBUTING.html","text":"\u70ba Klipper \u505a\u8ca2\u737b \u00b6 \u611f\u8b1d\u60a8\u5c0dKlipper\u7684\u8ca2\u737b\uff01\u672c\u6587\u4ef6\u4ecb\u7d39\u5411 Klipper \u8ca2\u737b\u6539\u9032\u7684\u6d41\u7a0b\u3002 \u8acb\u53c3\u95b1 \u806f\u7e6b\u9801\u9762 \u4f86\u4e86\u89e3\u5831\u544a\u554f\u984c\u7684\u8cc7\u8a0a\u6216\u806f\u7e6b\u958b\u767c\u4eba\u54e1\u7684\u65b9\u6cd5\u3002 \u8ca2\u737b\u6d41\u7a0b\u6982\u8ff0 \u00b6 \u5c0dKlipper\u7684\u8ca2\u737b\u901a\u5e38\u9075\u5faa\u4e00\u500b\u9ad8\u6c34\u5e73\u7684\u6d41\u7a0b\uff1a \u7576\u63d0\u4ea4\u7684\u5167\u5bb9\u6e96\u5099\u597d\u9032\u884c\u5ee3\u6cdb\u7684\u90e8\u7f72\u6642\uff0c\u63d0\u4ea4\u8005\u8981\u5148\u5148\u5efa\u7acb\u4e00\u500b GitHub \u62c9\u53d6\u8acb\u6c42(Pull Request) \u3002 \u7576 \u5be9\u8988\u8005 \u53ef\u4ee5 \u5be9\u8988 \u63d0\u4ea4\u6642\uff0c\u4ed6\u5011\u5c07\u628a\u81ea\u5df1\u5206\u914d\u7d66 GitHub \u4e0a\u7684\u62c9\u53d6\u8acb\u6c42\u3002\u5be9\u8988\u7684\u76ee\u7684\u662f\u5c0b\u627e\u7f3a\u9677\u4e26\u6aa2\u67e5\u63d0\u4ea4\u662f\u5426\u9075\u5faa\u8a18\u9304\u5728\u6848\u7684\u6e96\u5247\u3002 \u5be9\u8988\u5b8c\u6210\u5f8c\uff0c\u5be9\u8988\u8005\u6703\u5728GitHub\u4e0a\"\u6279\u6e96\u5be9\u67e5\"\uff0c\u7136\u5f8c\u7531 \u7dad\u8b77\u8005 \u5c07\u4fee\u6539\u63d0\u4ea4\u5230Klipper\u7684master\u5206\u652f\u3002 \u5728\u6539\u9032Klipper\u6642\uff0c\u8acb\u8003\u616e\u5728 Klipper Discourse \u4e0a\u6253\u958b\uff08\u6216\u53c3\u8207\uff09\u4e00\u500b\u4e3b\u984c\u3002\u8ad6\u58c7\u4e0a\u6b63\u5728\u9032\u884c\u7684\u8a0e\u8ad6\u53ef\u4ee5\u63d0\u9ad8\u958b\u767c\u5de5\u4f5c\u7684\u53ef\u898b\u6027\uff0c\u4e26\u53ef\u80fd\u5438\u5f15\u5c0d\u6e2c\u8a66\u65b0\u5de5\u4f5c\u611f\u8208\u8da3\u7684\u5176\u4ed6\u4eba\u3002 \u5be9\u8988\u4e2d\u7684\u9810\u671f\u5167\u5bb9 \u00b6 \u5c0d Klipper \u7684\u8ca2\u737b\u5728\u5408\u4f75\u524d\u6703\u88ab\u5be9\u8988\u3002\u5be9\u8988\u904e\u7a0b\u7684\u4e3b\u8981\u76ee\u7684\u662f\u6aa2\u67e5\u7f3a\u9677\uff0c\u4e26\u6aa2\u67e5\u63d0\u4ea4\u7684\u5167\u5bb9\u662f\u5426\u7b26\u5408 Klipper \u6587\u4ef6\u4e2d\u898f\u5b9a\u7684\u6e96\u5247\u3002 \u6709\u8a31\u591a\u65b9\u6cd5\u53ef\u4ee5\u5be6\u73fe\u4e00\u500b\u529f\u80fd\uff1b\u5be9\u8988\u7684\u76ee\u7684\u4e0d\u662f\u5c0b\u627e\"\u6700\u4f73 \"\u7684\u5be6\u73fe\u3002\u5728\u53ef\u80fd\u7684\u60c5\u6cc1\u4e0b\uff0c\u5be9\u67e5\u8a0e\u8ad6\u6700\u597d\u662f\u96c6\u4e2d\u5728\u4e8b\u5be6\u548c\u6e2c\u8a66\u7d50\u679c\u4e0a\u3002 \u5927\u591a\u6578\u7684\u63d0\u4ea4\u90fd\u6703\u5f97\u5230\u81f3\u5c11\u4e00\u500b\u5be9\u8988\u3002\u6e96\u5099\u597d\u7372\u5f97\u53cd\u994b\uff0c\u63d0\u4f9b\u66f4\u591a\u7684\u7d30\u7bc0\uff0c\u4e26\u5728\u9700\u8981\u6642\u66f4\u65b0\u63d0\u4ea4\u7684\u7a0b\u5f0f\u78bc\u3002 \u5be9\u8988\u54e1\u901a\u5e38\u6703\u6aa2\u67e5\u9019\u4e9b\uff1a \u63d0\u4ea4\u662f\u5426\u6c92\u6709\u7f3a\u9677\uff0c\u662f\u5426\u6e96\u5099\u597d\u5ee3\u6cdb\u90e8\u7f72\uff1f\u63d0\u4ea4\u8005\u61c9\u5728\u63d0\u4ea4\u4e4b\u524d\u6e2c\u8a66\u5176\u66f4\u6539\u3002\u5be9\u8988\u54e1\u6703\u67e5\u8a62\u63d0\u4ea4\u4e2d\u7684\u932f\u8aa4\uff0c\u4f46\u901a\u5e38\u4e0d\u6703\u6e2c\u8a66\u63d0\u4ea4\u7684\u5be6\u969b\u5167\u5bb9\u3002\u63a5\u53d7\u7684\u63d0\u4ea4\u901a\u5e38\u6703\u5728\u88ab\u63a5\u53d7\u540e\u7684\u5e7e\u5468\u5167\u90e8\u7f72\u5230\u6578\u5343\u81fa\u5370\u8868\u6a5f\u3002\u56e0\u6b64\uff0c\u63d0\u4ea4\u7684\u8cea\u91cf\u6975\u70ba\u91cd\u8981\u3002 \u4e3b Klipper3d/klipper GitHub\u5009\u5eab\u4e0d\u63a5\u53d7\u5be6\u9a57\u6027\u7a0b\u5f0f\u78bc\u3002\u63d0\u4ea4\u8005\u61c9\u8a72\u5728\u4ed6\u5011\u81ea\u5df1\u7684\u5009\u5eab\u4e2d\u9032\u884c\u5be6\u9a57\u3001\u9664\u932f\u548c\u6e2c\u8a66\u3002 Klipper Discourse \u8ad6\u58c7\u53ef\u4ee5\u5e6b\u52a9\u4f60\u627e\u5230\u5176\u4ed6\u6709\u8208\u8da3\u7684\u958b\u767c\u8005\u548c\u53ef\u4ee5\u63d0\u4f9b\u771f\u5be6\u4e16\u754c\u53cd\u994b\u7684\u4f7f\u7528\u8005\uff0c\u6216\u8005\u8b93\u66f4\u591a\u4eba\u77ad\u89e3\u4f60\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u5fc5\u9808\u901a\u904e\u6240\u6709 \u8ff4\u6b78\u6e2c\u8a66\u7528\u4f8b \u3002 \u7a0b\u5f0f\u78bc\u63d0\u4ea4\u4e0d\u61c9\u5305\u542b\u904e\u591a\u7684\u9664\u932f\u7a0b\u5f0f\u78bc\u3001\u9664\u932f\u9078\u9805\uff0c\u4e5f\u4e0d\u61c9\u5305\u542b\u57f7\u884c\u6642\u9664\u932f\u65e5\u8a8c\u3002 \u7a0b\u5f0f\u78bc\u63d0\u4ea4\u4e2d\u7684\u8a3b\u91cb\u61c9\u5074\u91cd\u65bc\u589e\u5f37\u7a0b\u5f0f\u78bc\u7684\u53ef\u7dad\u8b77\u6027\u3002\u63d0\u4ea4\u4e0d\u61c9\u5305\u542b\"\u8a3b\u91cb\u6389\u7684\u7a0b\u5f0f\u78bc\"\uff0c\u4e0d\u61c9\u5305\u542b\u63cf\u8ff0\u904e\u53bb\u5be6\u73fe\u7684\u904e\u591a\u8a3b\u91cb\uff0c\u4e5f\u4e0d\u61c9\u5305\u542b\u904e\u591a\u7684\"\u5f85\u8fa6\u4e8b\u9805\"\u3002 \u5c0d\u6a94\u6848\u7684\u66f4\u65b0\u4e0d\u61c9\u8a72\u8072\u660e\u5b83\u5011\u662f\u4e00\u9805\u6b63\u5728\u9032\u884c\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u7684\u6a94\u6848\u662f\u5426\u70ba\u57f7\u884c\u771f\u5be6\u4e16\u754c\u4efb\u52d9\u7684\u771f\u5be6\u4e16\u754c\u4f7f\u7528\u8005\u63d0\u4f9b\u4e86 \"\u9ad8\u5ea6\u5f71\u97ff\"\u7684\u597d\u8655\uff1f\u5be9\u95b1\u4eba\u4ed5\u9700\u8981\u81f3\u5c11\u5728\u81ea\u5df1\u7684\u8166\u6d77\u4e2d\u78ba\u5b9a\u5927\u81f4\u7684\u201c\u76ee\u6a19\u53d7\u773e\u662f\u8ab0\u201d\u3001\u201c\u53d7\u773e\u898f\u6a21\u201d\u7684\u7c97\u7565\u5c3a\u5ea6\u3001\u4ed6\u5011\u5c07\u7372\u5f97\u7684\u201c\u597d\u8655\u201d\u3001\u201c\u597d\u8655\u662f\u5982\u4f55\u8861\u91cf\u7684\u201d\uff0c\u4ee5\u53ca\u201c\u9019\u4e9b\u6e2c\u91cf\u6e2c\u8a66\u7684\u7d50\u679c\u201d\u3002\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u9019\u5c0d\u65bc\u63d0\u4ea4\u8005\u548c\u5be9\u95b1\u8005\u4f86\u8aaa\u90fd\u662f\u986f\u800c\u6613\u898b\u7684\uff0c\u4e26\u4e14\u5728\u5be9\u95b1\u671f\u9593\u6c92\u6709\u660e\u78ba\u8aaa\u660e\u3002 \u5411 Klipper \u4e3b\u5206\u652f\u63d0\u4ea4\u7684\u5167\u5bb9\u9810\u8a08\u6703\u6709\u503c\u5f97\u6ce8\u610f\u7684\u76ee\u6a19\u53d7\u773e\u3002\u4f5c\u70ba\u4e00\u822c\u7684\u201c\u7d93\u9a57\u6cd5\u5247\u201d\uff0c\u63d0\u4ea4\u5167\u5bb9\u61c9\u91dd\u5c0d\u81f3\u5c11 100 \u500b\u771f\u5be6\u7528\u6236\u7684\u7528\u6236\u7fa4\u3002 If a reviewer asks for details on the \"benefit\" of a submission, please don't consider it criticism. Being able to understand the real-world benefits of a change is a natural part of a review. When discussing benefits it is preferable to discuss \"facts and measurements\". In general, reviewers are not looking for responses of the form \"someone may find option X useful\", nor are they looking for responses of the form \"this submission adds a feature that firmware X implements\". Instead, it is generally preferable to discuss details on how the quality improvement was measured and what were the results of those measurements - for example, \"tests on Acme X1000 printers show improved corners as seen in picture ...\", or for example \"print time of real-world object X on a Foomatic X900 printer went from 4 hours to 3.5 hours\". It is understood that testing of this type can take significant time and effort. Some of Klipper's most notable features took months of discussion, rework, testing, and documentation prior to being merged into the master branch. \u6240\u6709\u65b0\u6a21\u584a\u3001\u914d\u7f6e\u9078\u9805\u3001\u547d\u4ee4\u3001\u547d\u4ee4\u53c3\u6578\u548c\u6587\u6a94\u90fd\u61c9\u8a72\u5177\u6709\u201c\u9ad8\u5f71\u97ff\u201d\u3002\u6211\u5011\u4e0d\u60f3\u8b93\u7528\u6236\u8ca0\u64d4\u4ed6\u5011\u7121\u6cd5\u5408\u7406\u914d\u7f6e\u7684\u9078\u9805\uff0c\u4e5f\u4e0d\u60f3\u8b93\u4ed6\u5011\u8ca0\u64d4\u4e0d\u63d0\u4f9b\u986f\u8457\u597d\u8655\u7684\u9078\u9805\u3002 \u5be9\u95b1\u8005\u53ef\u80fd\u6703\u8981\u6c42\u6f84\u6e05\u7528\u6236\u5982\u4f55\u914d\u7f6e\u9078\u9805 - \u7406\u60f3\u7684\u56de\u5fa9\u5c07\u5305\u542b\u6709\u95dc\u904e\u7a0b\u7684\u8a73\u7d30\u4fe1\u606f - \u4f8b\u5982\uff0c\u201cMegaX500 \u7684\u7528\u6236\u9810\u8a08\u5c07\u9078\u9805 X \u8a2d\u7f6e\u70ba 99.3\uff0c\u800c Elite100Y \u7684\u7528\u6236\u9810\u8a08\u5c07\u4f7f\u7528\u7a0b\u5e8f\u6821\u6e96\u9078\u9805 X ...\"\u3002 \u5982\u679c\u9078\u9805\u7684\u76ee\u6a19\u662f\u4f7f\u4ee3\u78bc\u66f4\u52a0\u6a21\u584a\u5316\uff0c\u90a3\u9ebc\u66f4\u559c\u6b61\u4f7f\u7528\u4ee3\u78bc\u5e38\u91cf\u800c\u4e0d\u662f\u9762\u5411\u7528\u6236\u7684\u914d\u7f6e\u9078\u9805\u3002 \u65b0\u6a21\u584a\u3001\u65b0\u9078\u9805\u548c\u65b0\u53c3\u6578\u4e0d\u61c9\u63d0\u4f9b\u8207\u73fe\u6709\u6a21\u584a\u985e\u4f3c\u7684\u529f\u80fd - \u5982\u679c\u5dee\u7570\u662f\u4efb\u610f\u7684\uff0c\u5247\u6700\u597d\u5229\u7528\u73fe\u6709\u7cfb\u7d71\u6216\u91cd\u69cb\u73fe\u6709\u4ee3\u78bc\u3002 \u63d0\u4ea4\u7684\u7248\u6b0a\u662f\u5426\u6e05\u6670\u3001\u7121\u511f\u3001\u76f8\u5bb9\uff1f\u65b0\u7684 C \u6a94\u6848\u548c Python \u6a94\u6848\u61c9\u8a72\u6709\u4e00\u500b\u660e\u78ba\u7684\u7248\u6b0a\u8072\u660e\u3002\u8acb\u770b\u73fe\u6709\u6a94\u6848\u4ee5\u77ad\u89e3\u63a8\u85a6\u683c\u5f0f\u3002\u4e0d\u63a8\u85a6\u5728\u5c0d\u73fe\u6709\u6a94\u6848\u9032\u884c\u5c0f\u7684\u4fee\u6539\u6642\u5c0d\u8a72\u6a94\u6848\u9032\u884c\u7248\u6b0a\u8072\u660e\u3002 \u5f9e\u7b2c\u4e09\u65b9\u4f86\u6e90\u7372\u53d6\u7684\u7a0b\u5f0f\u78bc\u5fc5\u9808\u8207 Klipper \u7684\u8a31\u53ef\u8b49\uff08GNU GPLv3\uff09\u76f8\u5bb9\u3002\u5927\u578b\u7684\u7b2c\u4e09\u65b9\u7a0b\u5f0f\u78bc\u65b0\u589e\u61c9\u88ab\u65b0\u589e\u5230 lib/ \u76ee\u9304\u4e2d\uff08\u4e26\u9075\u5faa <../lib/README>\u4e2d\u63cf\u8ff0\u7684\u683c\u5f0f\uff09\u3002 \u63d0\u4ea4\u8005\u5fc5\u9808\u63d0\u4f9b\u4e00\u500b Signed-off-by \u884c \uff0c\u4f7f\u7528\u4ed6\u5011\u7684\u771f\u5be6\u5168\u540d\u3002\u5b83\u8868\u660e\u63d0\u4ea4\u8005\u540c\u610f \u958b\u767c\u8005\u6e90\u982d\u8b49\u66f8 \u3002 \u63d0\u4ea4\u7684\u6a94\u6848\u662f\u5426\u9075\u5faa Klipper \u6a94\u6848\u4e2d\u898f\u5b9a\u7684\u6e96\u5247\uff1f\u7279\u5225\u662f\uff0c\u7a0b\u5f0f\u78bc\u61c9\u9075\u5faa \u4e2d\u7684\u6e96\u5247\uff0c\u914d\u7f6e\u6a94\u6848\u61c9\u9075\u5faa \u4e2d\u7684\u6e96\u5247\u3002 Klipper \u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\u4ee5\u53cd\u6620\u65b0\u7684\u66f4\u6539\uff1f\u81f3\u5c11\uff0c\u53c3\u8003\u6a94\u6848\u5fc5\u9808\u96a8\u8457\u7a0b\u5f0f\u78bc\u7684\u76f8\u61c9\u8b8a\u5316\u800c\u66f4\u65b0\uff1a \u6240\u6709\u547d\u4ee4\u548c\u547d\u4ee4\u53c3\u6578\u5fc5\u9808\u5728 \u4e2d\u88ab\u63cf\u8ff0\u3002 \u6240\u6709\u9762\u5411\u7528\u6236\u7684\u6a21\u7d44\u53ca\u5176\u914d\u7f6e\u53c3\u6578\u5fc5\u9808\u5728 \u4e2d\u8a18\u9304\u3002 \u6240\u6709\u8f38\u51fa\u7684 \"\u72c0\u614b\u8b8a\u6578 \"\u5fc5\u9808\u5728 \u4e2d\u9032\u884c\u63cf\u8ff0\u3002 \u6240\u6709\u65b0\u7684 \"webhooks \"\u53ca\u5176\u53c3\u6578\u5fc5\u9808\u5728 \u4e2d\u63cf\u8ff0\u3002 \u4efb\u4f55\u5c0d\u547d\u4ee4\u6216\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\u5c0e\u81f4\u7121\u6cd5\u5411\u5f8c\u76f8\u5bb9\u7684\u6539\u8b8a\uff0c\u90fd\u5fc5\u9808\u5728 \u4e2d\u9032\u884c\u8aaa\u660e\u3002 \u65b0\u7684\u6a94\u6848\u61c9\u8a72\u88ab\u65b0\u589e\u5230 \u4e2d\uff0c\u4e26\u88ab\u65b0\u589e\u5230\u7db2\u7ad9\u7d22\u5f15 docs/_klipper3d/mkdocs.yml \u3002 \u63d0\u4ea4\u7684\u5167\u5bb9\u662f\u5426\u5b8c\u6574\uff0c\u6bcf\u6b21\u63d0\u4ea4\u53ea\u6d89\u53ca\u4e00\u500b\u4e3b\u984c\uff0c\u4e26\u4e14\u662f\u7368\u7acb\u7684\uff1f\u63d0\u4ea4\u8cc7\u8a0a\u61c9\u9075\u5faa \u9996\u9078\u683c\u5f0f \u3002 \u63d0\u4ea4\u7684\u5167\u5bb9\u4e0d\u80fd\u6709\u5408\u4f75\u885d\u7a81\u3002\u5c0d Klipper \u4e3b\u5206\u652f\u7684\u65b0\u65b0\u589e\u7e3d\u662f\u901a\u904e \"rebase \"\u6216 \"squash and rebase \"\u5b8c\u6210\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u63d0\u4ea4\u8005\u6c92\u6709\u5fc5\u8981\u5728\u6bcf\u6b21\u66f4\u65b0Klipper\u4e3b\u5eab\u7684\u6642\u5019\u91cd\u65b0\u5408\u4f75\u4ed6\u5011\u7684\u63d0\u4ea4\u3002\u7136\u800c\uff0c\u5982\u679c\u6709\u5408\u4f75\u885d\u7a81\uff0c\u5efa\u8b70\u63d0\u4ea4\u8005\u4f7f\u7528 git rebase \u4f86\u89e3\u6c7a\u885d\u7a81\u3002 \u6bcf\u4e00\u6b21\u63d0\u4ea4\u90fd\u61c9\u8a72\u89e3\u6c7a\u4e00\u500b\u9ad8\u5c64\u7684\u8b8a\u5316\u3002\u5927\u7684\u6539\u52d5\u61c9\u8a72\u88ab\u5206\u89e3\u6210\u591a\u500b\u7368\u7acb\u7684\u63d0\u4ea4\u3002\u6bcf\u500b\u63d0\u4ea4\u90fd\u61c9\u8a72 \"\u81ea\u6210\u4e00\u9ad4\"\uff0c\u9019\u6a23\u624d\u80fd\u8b93 git bisect \u548c git revert \u7b49\u5de5\u5177\u53ef\u9760\u5730\u5de5\u4f5c\u3002 \u7a7a\u683c\u7684\u4fee\u6539\u4e0d\u61c9\u8a72\u8207\u529f\u80fd\u4fee\u6539\u6df7\u5728\u4e00\u8d77\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u7121\u610f\u7fa9\u7684\u7a7a\u683c\u4fee\u6539\u662f\u4e0d\u88ab\u63a5\u53d7\u7684\uff0c\u9664\u975e\u662f\u4f86\u81ea\u88ab\u4fee\u6539\u7a0b\u5f0f\u78bc\u7684\u65e2\u5b9a \"\u6240\u6709\u8005\"\u3002 Klipper \u6c92\u6709\u5be6\u73fe\u56b4\u683c\u7684\u201c\u7de8\u78bc\u98a8\u683c\u6307\u5357\u201d\uff0c\u4f46\u5c0d\u73fe\u6709\u4ee3\u78bc\u7684\u4fee\u6539\u61c9\u8a72\u9075\u5faa\u73fe\u6709\u4ee3\u78bc\u7684\u9ad8\u7d1a\u4ee3\u78bc\u6d41\u3001\u4ee3\u78bc\u7e2e\u9032\u98a8\u683c\u548c\u683c\u5f0f\u3002\u65b0\u6a21\u584a\u548c\u7cfb\u7d71\u7684\u63d0\u4ea4\u5728\u7de8\u78bc\u98a8\u683c\u4e0a\u5177\u6709\u66f4\u5927\u7684\u9748\u6d3b\u6027\uff0c\u4f46\u65b0\u4ee3\u78bc\u6700\u597d\u9075\u5faa\u5167\u90e8\u4e00\u81f4\u7684\u98a8\u683c\u4e26\u901a\u5e38\u9075\u5faa\u884c\u696d\u7bc4\u570d\u7684\u7de8\u78bc\u898f\u7bc4\u3002 \u8a0e\u8ad6\u201c\u66f4\u597d\u7684\u5be6\u73fe\u201d\u4e0d\u662f\u5be9\u67e5\u7684\u76ee\u6a19\u3002\u4f46\u662f\uff0c\u5982\u679c\u5be9\u95b1\u8005\u96e3\u4ee5\u7406\u89e3\u63d0\u4ea4\u7684\u5be6\u65bd\uff0c\u90a3\u9ebc\u4ed6\u5011\u53ef\u80fd\u6703\u8981\u6c42\u9032\u884c\u66f4\u6539\u4ee5\u4f7f\u5be6\u65bd\u66f4\u52a0\u900f\u660e\u3002\u7279\u5225\u662f\uff0c\u5982\u679c\u5be9\u95b1\u8005\u7121\u6cd5\u8aaa\u670d\u81ea\u5df1\u63d0\u4ea4\u7684\u5167\u5bb9\u6c92\u6709\u7f3a\u9677\uff0c\u5247\u53ef\u80fd\u9700\u8981\u9032\u884c\u66f4\u6539\u3002 \u4f5c\u70ba\u5be9\u67e5\u7684\u4e00\u90e8\u5206\uff0c\u5be9\u67e5\u8005\u53ef\u4ee5\u70ba\u4e00\u500b\u4e3b\u984c\u5275\u5efa\u4e00\u500b\u5099\u7528\u7684\u62c9\u53d6\u8acb\u6c42\u3002\u9019\u6a23\u505a\u53ef\u4ee5\u907f\u514d\u5728\u6b21\u8981\u7a0b\u5e8f\u9805\u76ee\u4e0a\u904e\u5ea6\u201c\u4f86\u56de\u201d\uff0c\u5f9e\u800c\u7c21\u5316\u63d0\u4ea4\u904e\u7a0b\u3002\u4e5f\u53ef\u4ee5\u9019\u6a23\u505a\uff0c\u56e0\u70ba\u8a0e\u8ad6\u6fc0\u767c\u4e86\u5be9\u95b1\u8005\u69cb\u5efa\u66ff\u4ee3\u5be6\u73fe\u3002\u9019\u5169\u7a2e\u60c5\u6cc1\u90fd\u662f\u5be9\u67e5\u7684\u6b63\u5e38\u7d50\u679c\uff0c\u4e0d\u61c9\u88ab\u8996\u70ba\u5c0d\u539f\u59cb\u63d0\u4ea4\u7684\u6279\u8a55\u3002 \u5354\u52a9\u8a55\u8ad6 \u00b6 \u6211\u5011\u611f\u8b1d\u8a55\u8ad6\u65b9\u9762\u7684\u5e6b\u52a9\uff01\u7121\u9700\u6210\u70ba \u5217\u51fa\u7684\u5be9\u95b1\u8005 \u5373\u53ef\u9032\u884c\u5be9\u95b1\u3002\u9084\u9f13\u52f5 GitHub \u62c9\u53d6\u8acb\u6c42\u7684\u63d0\u4ea4\u8005\u5be9\u67e5\u4ed6\u5011\u81ea\u5df1\u7684\u63d0\u4ea4\u3002 \u70ba\u4e86\u5e6b\u52a9\u9032\u884c\u5be9\u6838\uff0c\u8acb\u6309\u7167 \u5be9\u6838\u4e2d\u7684\u9810\u671f\u5167\u5bb9 \u4e2d\u6982\u8ff0\u7684\u6b65\u9a5f\u4f86\u9a57\u8b49\u63d0\u4ea4\u3002\u5b8c\u6210\u5be9\u67e5\u5f8c\uff0c\u5728 GitHub \u62c9\u53d6\u8acb\u6c42\u4e2d\u6dfb\u52a0\u8a55\u8ad6\u4ee5\u53ca\u60a8\u7684\u767c\u73fe\u3002\u5982\u679c\u63d0\u4ea4\u901a\u904e\u4e86\u5be9\u6838\uff0c\u8acb\u5728\u8a55\u8ad6\u4e2d\u660e\u78ba\u8aaa\u660e - \u4f8b\u5982\u201c\u6211\u6839\u64da CONTRIBUTING \u6587\u6a94\u4e2d\u7684\u6b65\u9a5f\u5be9\u6838\u4e86\u6b64\u66f4\u6539\uff0c\u4e26\u4e14\u5c0d\u6211\u4f86\u8aaa\u4e00\u5207\u90fd\u5f88\u597d\u201d\u3002\u5982\u679c\u7121\u6cd5\u5b8c\u6210\u5be9\u67e5\u4e2d\u7684\u67d0\u4e9b\u6b65\u9a5f\uff0c\u8acb\u660e\u78ba\u8aaa\u660e\u54ea\u4e9b\u6b65\u9a5f\u5df2\u5be9\u67e5\uff0c\u54ea\u4e9b\u6b65\u9a5f\u672a\u5be9\u67e5 - \u4f8b\u5982\u201c\u6211\u6c92\u6709\u6aa2\u67e5\u4ee3\u78bc\u662f\u5426\u5b58\u5728\u7f3a\u9677\uff0c\u4f46\u6211\u5be9\u67e5\u4e86 CONTRIBUTING \u6587\u6a94\u4e2d\u7684\u6240\u6709\u5176\u4ed6\u5167\u5bb9\uff0c\u4e26\u4e14\u5b83\u770b\u8d77\u4f86\u4e0d\u932f\u201d\u3002 \u6211\u5011\u4e5f\u611f\u8b1d\u5c0d\u63d0\u4ea4\u7684\u6e2c\u8a66\u3002\u5982\u679c\u4ee3\u78bc\u5df2\u7d93\u904e\u6e2c\u8a66\uff0c\u8acb\u5728 GitHub \u62c9\u53d6\u8acb\u6c42\u4e2d\u6dfb\u52a0\u8a55\u8ad6\uff0c\u4e26\u9644\u4e0a\u60a8\u7684\u6e2c\u8a66\u7d50\u679c - \u6210\u529f\u6216\u5931\u6557\u3002\u8acb\u660e\u78ba\u8aaa\u660e\u4ee3\u78bc\u5df2\u7d93\u904e\u6e2c\u8a66\u548c\u7d50\u679c\u2014\u2014\u4f8b\u5982\u201c\u6211\u5728 Acme900Z \u6253\u5370\u6a5f\u4e0a\u7528\u82b1\u74f6\u6253\u5370\u6e2c\u8a66\u4e86\u9019\u6bb5\u4ee3\u78bc\uff0c\u7d50\u679c\u5f88\u597d\u201d\u3002 \u6aa2\u95b1\u4eba\u4ed5 \u00b6 \u4ee5\u4e0b\u70baKlipper\u6aa2\u95b1\u4eba\u4ed5: \u9805\u76ee\u540d\u7a31 GitHub Id \u8208\u8da3\u7bc4\u570d Dmitry Butyugin @dmbutyugin \u8f38\u5165\u6574\u5f62\u3001\u5171\u632f\u6e2c\u8a66\u3001\u904b\u52d5\u5b78 Eric Callahan @Arksine \u5217\u5370\u5e8a\u8abf\u5e73\u4e2d,MCU \u66f4\u65b0\u4e2d Kevin O'Connor @KevinOConnor \u6838\u5fc3\u904b\u52d5\u7cfb\u7d71\uff0c\u5fae\u63a7\u5236\u5668\u4ee3\u78bc Paul McGowan @mental405 \u914d\u7f6e\u6a94\u6848, \u6587\u4ef6 \u8acb\u4e0d\u8981\u201cping\u201d\u4efb\u4f55\u5be9\u95b1\u4eba\u4ed5\uff0c\u4e5f\u4e0d\u8981\u76f4\u63a5\u5411\u4ed6\u5011\u6295\u7a3f\u3002\u6240\u6709\u5be9\u95b1\u4eba\u4ed5\u90fd\u6703\u76e3\u63a7\u8ad6\u58c7\u548c PR\uff0c\u4e26\u6703\u5728\u6709\u6642\u9593\u6642\u9032\u884c\u5be9\u95b1\u3002 Klipper \u7684\u201c\u7dad\u8b77\u8005\u201d\u662f\uff1a \u9805\u76ee\u540d\u7a31 GitHub\u9805\u76ee\u540d\u7a31 Kevin O'Connor @KevinOConnor \u63d0\u4ea4\u6d88\u606f\u7684\u683c\u5f0f \u00b6 \u6bcf\u500b\u63d0\u4ea4\u90fd\u61c9\u8a72\u6709\u4e00\u500b\u985e\u4f3c\u65bc\u4ee5\u4e0b\u683c\u5f0f\u7684\u63d0\u4ea4\u6d88\u606f\uff1a \u6a21\u7d44\u540d: \u5927\u5beb\u3001\u7c21\u77ed\u7684\u6458\u8981\uff0850\u500b\u5b57\u5143\u6216\u66f4\u5c11\uff09 \u5728\u5fc5\u8981\u60c5\u6cc1\u4e0b\u63d0\u4f9b\u66f4\u8a73\u7d30\u7684\u89e3\u91cb\u6027\u6587\u5b57\u3002 \u5206\u5272\u884c\u70ba \u6bcf\u884c75\u5b57\u5143\u5de6\u53f3\u3002 \u5728\u67d0\u4e9b\u60c5\u666f\u4e0b\uff0c\u7b2c\u4e00\u884c\u88ab\u8996\u70ba \u96fb\u5b50\u90f5\u4ef6\u7684\u4e3b\u984c\uff0c\u5176\u9918\u7684\u90e8\u5206\u4f5c\u70ba\u4e3b\u9ad4\u3002 \u5728\u6458\u8981\u8207 \u4e3b\u9ad4\u4e4b\u9593\u7684\u5206\u9694\u7528\u7a7a\u884c\u81f3\u95dc\u91cd\u8981\uff08\u9664\u975e\u60a8\u5b8c\u5168\u5ffd\u7565\u4e86 \u4e3b\u9ad4\uff09\uff0c\u4e00\u4e9b\u5de5\u5177\u4f8b\u5982\u8b8a\u57fa(rebase)\u53ef\u80fd\u6703\u5728\u7121\u7a7a\u884c\u6642 \u6df7\u6dc6\u3002 \u53ef\u4ee5\u5728\u7a7a\u767d\u884c\u4e4b\u5f8c\u5beb\u66f4\u591a\u6bb5\u843d\u3002 Signed-off-by: \u59d3\u540d< myemail@example.org > \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c module \u61c9\u8a72\u662f\u5b58\u5132\u5eab\u4e2d\u6587\u4ef6\u6216\u76ee\u9304\u7684\u540d\u7a31\uff08\u6c92\u6709\u6587\u4ef6\u64f4\u5c55\u540d\uff09\u3002\u4f8b\u5982\uff0c clocksync\uff1a\u4fee\u5fa9\u9023\u63a5\u6642 pause() \u8abf\u7528\u4e2d\u7684\u62fc\u5beb\u932f\u8aa4 \u3002\u5728\u63d0\u4ea4\u6d88\u606f\u4e2d\u6307\u5b9a\u6a21\u584a\u540d\u7a31\u7684\u76ee\u7684\u662f\u5e6b\u52a9\u70ba\u63d0\u4ea4\u8a3b\u91cb\u63d0\u4f9b\u4e0a\u4e0b\u6587\u3002 \u5728\u6bcf\u500b\u63d0\u4ea4\u4e0a\u5fc5\u9808\u6709\u4e00\u500b \"Signed-off-by \"\u884c--\u5b83\u8b49\u660e\u4f60\u540c\u610f \u958b\u767c\u8005\u8d77\u6e90\u8b49\u66f8 \u3002\u5b83\u5fc5\u9808\u5305\u542b\u4f60\u7684\u771f\u5be6\u59d3\u540d\uff08\u5c0d\u4e0d\u8d77\uff0c\u6c92\u6709\u5047\u540d\u6216\u533f\u540d\u7684\u8ca2\u737b\uff09\u548c\u4e00\u500b\u53ef\u7528\u7684\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u3002 \u70ba Klipper \u7ffb\u8b6f\u505a\u51fa\u8ca2\u737b \u00b6 Klipper-translations Project is a project dedicated to translating Klipper to different languages. Weblate hosts all the Gettext strings for translating and reviewing. Locales can be displayed on klipper3d.org once they satisfy the following requirements: 75% \u7e3d\u8986\u84cb\u7387 All titles (H1) are translated \u5728klipper-translations \u4e2d\u63d0\u4f9b\u4e00\u500b\u66f4\u65b0\u5c0e\u822a\u5c64\u6b21\u7684 PR\u3002 \u7232\u4e86\u6e1b\u5c11\u7ffb\u8b6f\u7279\u5b9a\u9818\u57df\u8853\u8a9e\u7684\u7591\u60d1\uff0c\u4e26\u8b93\u66f4\u591a\u4eba\u77ad\u89e3\u6b63\u5728\u9032\u884c\u7684\u7ffb\u8b6f\uff0c\u4f60\u53ef\u4ee5\u63d0\u4ea4\u4e00\u500b\u4fee\u6539 Klipper-translations \u5c08\u6848 readme.md \u6a94\u6848\u7684PR\u3002\u4e00\u65e6\u7ffb\u8b6f\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5c0d Klipper \u5c08\u6848\u9032\u884c\u76f8\u61c9\u7684\u4fee\u6539\u3002 \u5982\u679c\u4e00\u500b\u5df2\u7d93\u5b58\u5728\u65bc Klipper \u7a0b\u5f0f\u78bc\u5eab\u4e2d\u7684\u7ffb\u8b6f\u4e0d\u518d\u7b26\u5408\u4e0a\u8ff0\u7684\u6aa2\u67e5\u6e05\u55ae\uff0c\u90a3\u9ebc\u5728\u4e00\u500b\u6708\u6c92\u6709\u66f4\u65b0\u540e\uff0c\u5b83\u5c07\u88ab\u6a19\u8a18\u70ba\u904e\u671f\u3002 Once the requirements are met, you need to: update klipper-tranlations repository active_translations Optional: add a manual-index.md file in klipper-translations repository's docs\\locals\\<lang> folder to replace the language specific index.md (generated index.md does not render correctly). Known Issues: Currently, there isn't a method for correctly translating pictures in the documentation It is impossible to translate titles in mkdocs.yml.","title":"\u70ba Klipper \u505a\u8ca2\u737b"},{"location":"CONTRIBUTING.html#klipper","text":"\u611f\u8b1d\u60a8\u5c0dKlipper\u7684\u8ca2\u737b\uff01\u672c\u6587\u4ef6\u4ecb\u7d39\u5411 Klipper \u8ca2\u737b\u6539\u9032\u7684\u6d41\u7a0b\u3002 \u8acb\u53c3\u95b1 \u806f\u7e6b\u9801\u9762 \u4f86\u4e86\u89e3\u5831\u544a\u554f\u984c\u7684\u8cc7\u8a0a\u6216\u806f\u7e6b\u958b\u767c\u4eba\u54e1\u7684\u65b9\u6cd5\u3002","title":"\u70ba Klipper \u505a\u8ca2\u737b"},{"location":"CONTRIBUTING.html#_1","text":"\u5c0dKlipper\u7684\u8ca2\u737b\u901a\u5e38\u9075\u5faa\u4e00\u500b\u9ad8\u6c34\u5e73\u7684\u6d41\u7a0b\uff1a \u7576\u63d0\u4ea4\u7684\u5167\u5bb9\u6e96\u5099\u597d\u9032\u884c\u5ee3\u6cdb\u7684\u90e8\u7f72\u6642\uff0c\u63d0\u4ea4\u8005\u8981\u5148\u5148\u5efa\u7acb\u4e00\u500b GitHub \u62c9\u53d6\u8acb\u6c42(Pull Request) \u3002 \u7576 \u5be9\u8988\u8005 \u53ef\u4ee5 \u5be9\u8988 \u63d0\u4ea4\u6642\uff0c\u4ed6\u5011\u5c07\u628a\u81ea\u5df1\u5206\u914d\u7d66 GitHub \u4e0a\u7684\u62c9\u53d6\u8acb\u6c42\u3002\u5be9\u8988\u7684\u76ee\u7684\u662f\u5c0b\u627e\u7f3a\u9677\u4e26\u6aa2\u67e5\u63d0\u4ea4\u662f\u5426\u9075\u5faa\u8a18\u9304\u5728\u6848\u7684\u6e96\u5247\u3002 \u5be9\u8988\u5b8c\u6210\u5f8c\uff0c\u5be9\u8988\u8005\u6703\u5728GitHub\u4e0a\"\u6279\u6e96\u5be9\u67e5\"\uff0c\u7136\u5f8c\u7531 \u7dad\u8b77\u8005 \u5c07\u4fee\u6539\u63d0\u4ea4\u5230Klipper\u7684master\u5206\u652f\u3002 \u5728\u6539\u9032Klipper\u6642\uff0c\u8acb\u8003\u616e\u5728 Klipper Discourse \u4e0a\u6253\u958b\uff08\u6216\u53c3\u8207\uff09\u4e00\u500b\u4e3b\u984c\u3002\u8ad6\u58c7\u4e0a\u6b63\u5728\u9032\u884c\u7684\u8a0e\u8ad6\u53ef\u4ee5\u63d0\u9ad8\u958b\u767c\u5de5\u4f5c\u7684\u53ef\u898b\u6027\uff0c\u4e26\u53ef\u80fd\u5438\u5f15\u5c0d\u6e2c\u8a66\u65b0\u5de5\u4f5c\u611f\u8208\u8da3\u7684\u5176\u4ed6\u4eba\u3002","title":"\u8ca2\u737b\u6d41\u7a0b\u6982\u8ff0"},{"location":"CONTRIBUTING.html#_2","text":"\u5c0d Klipper \u7684\u8ca2\u737b\u5728\u5408\u4f75\u524d\u6703\u88ab\u5be9\u8988\u3002\u5be9\u8988\u904e\u7a0b\u7684\u4e3b\u8981\u76ee\u7684\u662f\u6aa2\u67e5\u7f3a\u9677\uff0c\u4e26\u6aa2\u67e5\u63d0\u4ea4\u7684\u5167\u5bb9\u662f\u5426\u7b26\u5408 Klipper \u6587\u4ef6\u4e2d\u898f\u5b9a\u7684\u6e96\u5247\u3002 \u6709\u8a31\u591a\u65b9\u6cd5\u53ef\u4ee5\u5be6\u73fe\u4e00\u500b\u529f\u80fd\uff1b\u5be9\u8988\u7684\u76ee\u7684\u4e0d\u662f\u5c0b\u627e\"\u6700\u4f73 \"\u7684\u5be6\u73fe\u3002\u5728\u53ef\u80fd\u7684\u60c5\u6cc1\u4e0b\uff0c\u5be9\u67e5\u8a0e\u8ad6\u6700\u597d\u662f\u96c6\u4e2d\u5728\u4e8b\u5be6\u548c\u6e2c\u8a66\u7d50\u679c\u4e0a\u3002 \u5927\u591a\u6578\u7684\u63d0\u4ea4\u90fd\u6703\u5f97\u5230\u81f3\u5c11\u4e00\u500b\u5be9\u8988\u3002\u6e96\u5099\u597d\u7372\u5f97\u53cd\u994b\uff0c\u63d0\u4f9b\u66f4\u591a\u7684\u7d30\u7bc0\uff0c\u4e26\u5728\u9700\u8981\u6642\u66f4\u65b0\u63d0\u4ea4\u7684\u7a0b\u5f0f\u78bc\u3002 \u5be9\u8988\u54e1\u901a\u5e38\u6703\u6aa2\u67e5\u9019\u4e9b\uff1a \u63d0\u4ea4\u662f\u5426\u6c92\u6709\u7f3a\u9677\uff0c\u662f\u5426\u6e96\u5099\u597d\u5ee3\u6cdb\u90e8\u7f72\uff1f\u63d0\u4ea4\u8005\u61c9\u5728\u63d0\u4ea4\u4e4b\u524d\u6e2c\u8a66\u5176\u66f4\u6539\u3002\u5be9\u8988\u54e1\u6703\u67e5\u8a62\u63d0\u4ea4\u4e2d\u7684\u932f\u8aa4\uff0c\u4f46\u901a\u5e38\u4e0d\u6703\u6e2c\u8a66\u63d0\u4ea4\u7684\u5be6\u969b\u5167\u5bb9\u3002\u63a5\u53d7\u7684\u63d0\u4ea4\u901a\u5e38\u6703\u5728\u88ab\u63a5\u53d7\u540e\u7684\u5e7e\u5468\u5167\u90e8\u7f72\u5230\u6578\u5343\u81fa\u5370\u8868\u6a5f\u3002\u56e0\u6b64\uff0c\u63d0\u4ea4\u7684\u8cea\u91cf\u6975\u70ba\u91cd\u8981\u3002 \u4e3b Klipper3d/klipper GitHub\u5009\u5eab\u4e0d\u63a5\u53d7\u5be6\u9a57\u6027\u7a0b\u5f0f\u78bc\u3002\u63d0\u4ea4\u8005\u61c9\u8a72\u5728\u4ed6\u5011\u81ea\u5df1\u7684\u5009\u5eab\u4e2d\u9032\u884c\u5be6\u9a57\u3001\u9664\u932f\u548c\u6e2c\u8a66\u3002 Klipper Discourse \u8ad6\u58c7\u53ef\u4ee5\u5e6b\u52a9\u4f60\u627e\u5230\u5176\u4ed6\u6709\u8208\u8da3\u7684\u958b\u767c\u8005\u548c\u53ef\u4ee5\u63d0\u4f9b\u771f\u5be6\u4e16\u754c\u53cd\u994b\u7684\u4f7f\u7528\u8005\uff0c\u6216\u8005\u8b93\u66f4\u591a\u4eba\u77ad\u89e3\u4f60\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u5fc5\u9808\u901a\u904e\u6240\u6709 \u8ff4\u6b78\u6e2c\u8a66\u7528\u4f8b \u3002 \u7a0b\u5f0f\u78bc\u63d0\u4ea4\u4e0d\u61c9\u5305\u542b\u904e\u591a\u7684\u9664\u932f\u7a0b\u5f0f\u78bc\u3001\u9664\u932f\u9078\u9805\uff0c\u4e5f\u4e0d\u61c9\u5305\u542b\u57f7\u884c\u6642\u9664\u932f\u65e5\u8a8c\u3002 \u7a0b\u5f0f\u78bc\u63d0\u4ea4\u4e2d\u7684\u8a3b\u91cb\u61c9\u5074\u91cd\u65bc\u589e\u5f37\u7a0b\u5f0f\u78bc\u7684\u53ef\u7dad\u8b77\u6027\u3002\u63d0\u4ea4\u4e0d\u61c9\u5305\u542b\"\u8a3b\u91cb\u6389\u7684\u7a0b\u5f0f\u78bc\"\uff0c\u4e0d\u61c9\u5305\u542b\u63cf\u8ff0\u904e\u53bb\u5be6\u73fe\u7684\u904e\u591a\u8a3b\u91cb\uff0c\u4e5f\u4e0d\u61c9\u5305\u542b\u904e\u591a\u7684\"\u5f85\u8fa6\u4e8b\u9805\"\u3002 \u5c0d\u6a94\u6848\u7684\u66f4\u65b0\u4e0d\u61c9\u8a72\u8072\u660e\u5b83\u5011\u662f\u4e00\u9805\u6b63\u5728\u9032\u884c\u7684\u5de5\u4f5c\u3002 \u63d0\u4ea4\u7684\u6a94\u6848\u662f\u5426\u70ba\u57f7\u884c\u771f\u5be6\u4e16\u754c\u4efb\u52d9\u7684\u771f\u5be6\u4e16\u754c\u4f7f\u7528\u8005\u63d0\u4f9b\u4e86 \"\u9ad8\u5ea6\u5f71\u97ff\"\u7684\u597d\u8655\uff1f\u5be9\u95b1\u4eba\u4ed5\u9700\u8981\u81f3\u5c11\u5728\u81ea\u5df1\u7684\u8166\u6d77\u4e2d\u78ba\u5b9a\u5927\u81f4\u7684\u201c\u76ee\u6a19\u53d7\u773e\u662f\u8ab0\u201d\u3001\u201c\u53d7\u773e\u898f\u6a21\u201d\u7684\u7c97\u7565\u5c3a\u5ea6\u3001\u4ed6\u5011\u5c07\u7372\u5f97\u7684\u201c\u597d\u8655\u201d\u3001\u201c\u597d\u8655\u662f\u5982\u4f55\u8861\u91cf\u7684\u201d\uff0c\u4ee5\u53ca\u201c\u9019\u4e9b\u6e2c\u91cf\u6e2c\u8a66\u7684\u7d50\u679c\u201d\u3002\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0c\u9019\u5c0d\u65bc\u63d0\u4ea4\u8005\u548c\u5be9\u95b1\u8005\u4f86\u8aaa\u90fd\u662f\u986f\u800c\u6613\u898b\u7684\uff0c\u4e26\u4e14\u5728\u5be9\u95b1\u671f\u9593\u6c92\u6709\u660e\u78ba\u8aaa\u660e\u3002 \u5411 Klipper \u4e3b\u5206\u652f\u63d0\u4ea4\u7684\u5167\u5bb9\u9810\u8a08\u6703\u6709\u503c\u5f97\u6ce8\u610f\u7684\u76ee\u6a19\u53d7\u773e\u3002\u4f5c\u70ba\u4e00\u822c\u7684\u201c\u7d93\u9a57\u6cd5\u5247\u201d\uff0c\u63d0\u4ea4\u5167\u5bb9\u61c9\u91dd\u5c0d\u81f3\u5c11 100 \u500b\u771f\u5be6\u7528\u6236\u7684\u7528\u6236\u7fa4\u3002 If a reviewer asks for details on the \"benefit\" of a submission, please don't consider it criticism. Being able to understand the real-world benefits of a change is a natural part of a review. When discussing benefits it is preferable to discuss \"facts and measurements\". In general, reviewers are not looking for responses of the form \"someone may find option X useful\", nor are they looking for responses of the form \"this submission adds a feature that firmware X implements\". Instead, it is generally preferable to discuss details on how the quality improvement was measured and what were the results of those measurements - for example, \"tests on Acme X1000 printers show improved corners as seen in picture ...\", or for example \"print time of real-world object X on a Foomatic X900 printer went from 4 hours to 3.5 hours\". It is understood that testing of this type can take significant time and effort. Some of Klipper's most notable features took months of discussion, rework, testing, and documentation prior to being merged into the master branch. \u6240\u6709\u65b0\u6a21\u584a\u3001\u914d\u7f6e\u9078\u9805\u3001\u547d\u4ee4\u3001\u547d\u4ee4\u53c3\u6578\u548c\u6587\u6a94\u90fd\u61c9\u8a72\u5177\u6709\u201c\u9ad8\u5f71\u97ff\u201d\u3002\u6211\u5011\u4e0d\u60f3\u8b93\u7528\u6236\u8ca0\u64d4\u4ed6\u5011\u7121\u6cd5\u5408\u7406\u914d\u7f6e\u7684\u9078\u9805\uff0c\u4e5f\u4e0d\u60f3\u8b93\u4ed6\u5011\u8ca0\u64d4\u4e0d\u63d0\u4f9b\u986f\u8457\u597d\u8655\u7684\u9078\u9805\u3002 \u5be9\u95b1\u8005\u53ef\u80fd\u6703\u8981\u6c42\u6f84\u6e05\u7528\u6236\u5982\u4f55\u914d\u7f6e\u9078\u9805 - \u7406\u60f3\u7684\u56de\u5fa9\u5c07\u5305\u542b\u6709\u95dc\u904e\u7a0b\u7684\u8a73\u7d30\u4fe1\u606f - \u4f8b\u5982\uff0c\u201cMegaX500 \u7684\u7528\u6236\u9810\u8a08\u5c07\u9078\u9805 X \u8a2d\u7f6e\u70ba 99.3\uff0c\u800c Elite100Y \u7684\u7528\u6236\u9810\u8a08\u5c07\u4f7f\u7528\u7a0b\u5e8f\u6821\u6e96\u9078\u9805 X ...\"\u3002 \u5982\u679c\u9078\u9805\u7684\u76ee\u6a19\u662f\u4f7f\u4ee3\u78bc\u66f4\u52a0\u6a21\u584a\u5316\uff0c\u90a3\u9ebc\u66f4\u559c\u6b61\u4f7f\u7528\u4ee3\u78bc\u5e38\u91cf\u800c\u4e0d\u662f\u9762\u5411\u7528\u6236\u7684\u914d\u7f6e\u9078\u9805\u3002 \u65b0\u6a21\u584a\u3001\u65b0\u9078\u9805\u548c\u65b0\u53c3\u6578\u4e0d\u61c9\u63d0\u4f9b\u8207\u73fe\u6709\u6a21\u584a\u985e\u4f3c\u7684\u529f\u80fd - \u5982\u679c\u5dee\u7570\u662f\u4efb\u610f\u7684\uff0c\u5247\u6700\u597d\u5229\u7528\u73fe\u6709\u7cfb\u7d71\u6216\u91cd\u69cb\u73fe\u6709\u4ee3\u78bc\u3002 \u63d0\u4ea4\u7684\u7248\u6b0a\u662f\u5426\u6e05\u6670\u3001\u7121\u511f\u3001\u76f8\u5bb9\uff1f\u65b0\u7684 C \u6a94\u6848\u548c Python \u6a94\u6848\u61c9\u8a72\u6709\u4e00\u500b\u660e\u78ba\u7684\u7248\u6b0a\u8072\u660e\u3002\u8acb\u770b\u73fe\u6709\u6a94\u6848\u4ee5\u77ad\u89e3\u63a8\u85a6\u683c\u5f0f\u3002\u4e0d\u63a8\u85a6\u5728\u5c0d\u73fe\u6709\u6a94\u6848\u9032\u884c\u5c0f\u7684\u4fee\u6539\u6642\u5c0d\u8a72\u6a94\u6848\u9032\u884c\u7248\u6b0a\u8072\u660e\u3002 \u5f9e\u7b2c\u4e09\u65b9\u4f86\u6e90\u7372\u53d6\u7684\u7a0b\u5f0f\u78bc\u5fc5\u9808\u8207 Klipper \u7684\u8a31\u53ef\u8b49\uff08GNU GPLv3\uff09\u76f8\u5bb9\u3002\u5927\u578b\u7684\u7b2c\u4e09\u65b9\u7a0b\u5f0f\u78bc\u65b0\u589e\u61c9\u88ab\u65b0\u589e\u5230 lib/ \u76ee\u9304\u4e2d\uff08\u4e26\u9075\u5faa <../lib/README>\u4e2d\u63cf\u8ff0\u7684\u683c\u5f0f\uff09\u3002 \u63d0\u4ea4\u8005\u5fc5\u9808\u63d0\u4f9b\u4e00\u500b Signed-off-by \u884c \uff0c\u4f7f\u7528\u4ed6\u5011\u7684\u771f\u5be6\u5168\u540d\u3002\u5b83\u8868\u660e\u63d0\u4ea4\u8005\u540c\u610f \u958b\u767c\u8005\u6e90\u982d\u8b49\u66f8 \u3002 \u63d0\u4ea4\u7684\u6a94\u6848\u662f\u5426\u9075\u5faa Klipper \u6a94\u6848\u4e2d\u898f\u5b9a\u7684\u6e96\u5247\uff1f\u7279\u5225\u662f\uff0c\u7a0b\u5f0f\u78bc\u61c9\u9075\u5faa \u4e2d\u7684\u6e96\u5247\uff0c\u914d\u7f6e\u6a94\u6848\u61c9\u9075\u5faa \u4e2d\u7684\u6e96\u5247\u3002 Klipper \u6587\u4ef6\u662f\u5426\u5df2\u66f4\u65b0\u4ee5\u53cd\u6620\u65b0\u7684\u66f4\u6539\uff1f\u81f3\u5c11\uff0c\u53c3\u8003\u6a94\u6848\u5fc5\u9808\u96a8\u8457\u7a0b\u5f0f\u78bc\u7684\u76f8\u61c9\u8b8a\u5316\u800c\u66f4\u65b0\uff1a \u6240\u6709\u547d\u4ee4\u548c\u547d\u4ee4\u53c3\u6578\u5fc5\u9808\u5728 \u4e2d\u88ab\u63cf\u8ff0\u3002 \u6240\u6709\u9762\u5411\u7528\u6236\u7684\u6a21\u7d44\u53ca\u5176\u914d\u7f6e\u53c3\u6578\u5fc5\u9808\u5728 \u4e2d\u8a18\u9304\u3002 \u6240\u6709\u8f38\u51fa\u7684 \"\u72c0\u614b\u8b8a\u6578 \"\u5fc5\u9808\u5728 \u4e2d\u9032\u884c\u63cf\u8ff0\u3002 \u6240\u6709\u65b0\u7684 \"webhooks \"\u53ca\u5176\u53c3\u6578\u5fc5\u9808\u5728 \u4e2d\u63cf\u8ff0\u3002 \u4efb\u4f55\u5c0d\u547d\u4ee4\u6216\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\u5c0e\u81f4\u7121\u6cd5\u5411\u5f8c\u76f8\u5bb9\u7684\u6539\u8b8a\uff0c\u90fd\u5fc5\u9808\u5728 \u4e2d\u9032\u884c\u8aaa\u660e\u3002 \u65b0\u7684\u6a94\u6848\u61c9\u8a72\u88ab\u65b0\u589e\u5230 \u4e2d\uff0c\u4e26\u88ab\u65b0\u589e\u5230\u7db2\u7ad9\u7d22\u5f15 docs/_klipper3d/mkdocs.yml \u3002 \u63d0\u4ea4\u7684\u5167\u5bb9\u662f\u5426\u5b8c\u6574\uff0c\u6bcf\u6b21\u63d0\u4ea4\u53ea\u6d89\u53ca\u4e00\u500b\u4e3b\u984c\uff0c\u4e26\u4e14\u662f\u7368\u7acb\u7684\uff1f\u63d0\u4ea4\u8cc7\u8a0a\u61c9\u9075\u5faa \u9996\u9078\u683c\u5f0f \u3002 \u63d0\u4ea4\u7684\u5167\u5bb9\u4e0d\u80fd\u6709\u5408\u4f75\u885d\u7a81\u3002\u5c0d Klipper \u4e3b\u5206\u652f\u7684\u65b0\u65b0\u589e\u7e3d\u662f\u901a\u904e \"rebase \"\u6216 \"squash and rebase \"\u5b8c\u6210\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u63d0\u4ea4\u8005\u6c92\u6709\u5fc5\u8981\u5728\u6bcf\u6b21\u66f4\u65b0Klipper\u4e3b\u5eab\u7684\u6642\u5019\u91cd\u65b0\u5408\u4f75\u4ed6\u5011\u7684\u63d0\u4ea4\u3002\u7136\u800c\uff0c\u5982\u679c\u6709\u5408\u4f75\u885d\u7a81\uff0c\u5efa\u8b70\u63d0\u4ea4\u8005\u4f7f\u7528 git rebase \u4f86\u89e3\u6c7a\u885d\u7a81\u3002 \u6bcf\u4e00\u6b21\u63d0\u4ea4\u90fd\u61c9\u8a72\u89e3\u6c7a\u4e00\u500b\u9ad8\u5c64\u7684\u8b8a\u5316\u3002\u5927\u7684\u6539\u52d5\u61c9\u8a72\u88ab\u5206\u89e3\u6210\u591a\u500b\u7368\u7acb\u7684\u63d0\u4ea4\u3002\u6bcf\u500b\u63d0\u4ea4\u90fd\u61c9\u8a72 \"\u81ea\u6210\u4e00\u9ad4\"\uff0c\u9019\u6a23\u624d\u80fd\u8b93 git bisect \u548c git revert \u7b49\u5de5\u5177\u53ef\u9760\u5730\u5de5\u4f5c\u3002 \u7a7a\u683c\u7684\u4fee\u6539\u4e0d\u61c9\u8a72\u8207\u529f\u80fd\u4fee\u6539\u6df7\u5728\u4e00\u8d77\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u7121\u610f\u7fa9\u7684\u7a7a\u683c\u4fee\u6539\u662f\u4e0d\u88ab\u63a5\u53d7\u7684\uff0c\u9664\u975e\u662f\u4f86\u81ea\u88ab\u4fee\u6539\u7a0b\u5f0f\u78bc\u7684\u65e2\u5b9a \"\u6240\u6709\u8005\"\u3002 Klipper \u6c92\u6709\u5be6\u73fe\u56b4\u683c\u7684\u201c\u7de8\u78bc\u98a8\u683c\u6307\u5357\u201d\uff0c\u4f46\u5c0d\u73fe\u6709\u4ee3\u78bc\u7684\u4fee\u6539\u61c9\u8a72\u9075\u5faa\u73fe\u6709\u4ee3\u78bc\u7684\u9ad8\u7d1a\u4ee3\u78bc\u6d41\u3001\u4ee3\u78bc\u7e2e\u9032\u98a8\u683c\u548c\u683c\u5f0f\u3002\u65b0\u6a21\u584a\u548c\u7cfb\u7d71\u7684\u63d0\u4ea4\u5728\u7de8\u78bc\u98a8\u683c\u4e0a\u5177\u6709\u66f4\u5927\u7684\u9748\u6d3b\u6027\uff0c\u4f46\u65b0\u4ee3\u78bc\u6700\u597d\u9075\u5faa\u5167\u90e8\u4e00\u81f4\u7684\u98a8\u683c\u4e26\u901a\u5e38\u9075\u5faa\u884c\u696d\u7bc4\u570d\u7684\u7de8\u78bc\u898f\u7bc4\u3002 \u8a0e\u8ad6\u201c\u66f4\u597d\u7684\u5be6\u73fe\u201d\u4e0d\u662f\u5be9\u67e5\u7684\u76ee\u6a19\u3002\u4f46\u662f\uff0c\u5982\u679c\u5be9\u95b1\u8005\u96e3\u4ee5\u7406\u89e3\u63d0\u4ea4\u7684\u5be6\u65bd\uff0c\u90a3\u9ebc\u4ed6\u5011\u53ef\u80fd\u6703\u8981\u6c42\u9032\u884c\u66f4\u6539\u4ee5\u4f7f\u5be6\u65bd\u66f4\u52a0\u900f\u660e\u3002\u7279\u5225\u662f\uff0c\u5982\u679c\u5be9\u95b1\u8005\u7121\u6cd5\u8aaa\u670d\u81ea\u5df1\u63d0\u4ea4\u7684\u5167\u5bb9\u6c92\u6709\u7f3a\u9677\uff0c\u5247\u53ef\u80fd\u9700\u8981\u9032\u884c\u66f4\u6539\u3002 \u4f5c\u70ba\u5be9\u67e5\u7684\u4e00\u90e8\u5206\uff0c\u5be9\u67e5\u8005\u53ef\u4ee5\u70ba\u4e00\u500b\u4e3b\u984c\u5275\u5efa\u4e00\u500b\u5099\u7528\u7684\u62c9\u53d6\u8acb\u6c42\u3002\u9019\u6a23\u505a\u53ef\u4ee5\u907f\u514d\u5728\u6b21\u8981\u7a0b\u5e8f\u9805\u76ee\u4e0a\u904e\u5ea6\u201c\u4f86\u56de\u201d\uff0c\u5f9e\u800c\u7c21\u5316\u63d0\u4ea4\u904e\u7a0b\u3002\u4e5f\u53ef\u4ee5\u9019\u6a23\u505a\uff0c\u56e0\u70ba\u8a0e\u8ad6\u6fc0\u767c\u4e86\u5be9\u95b1\u8005\u69cb\u5efa\u66ff\u4ee3\u5be6\u73fe\u3002\u9019\u5169\u7a2e\u60c5\u6cc1\u90fd\u662f\u5be9\u67e5\u7684\u6b63\u5e38\u7d50\u679c\uff0c\u4e0d\u61c9\u88ab\u8996\u70ba\u5c0d\u539f\u59cb\u63d0\u4ea4\u7684\u6279\u8a55\u3002","title":"\u5be9\u8988\u4e2d\u7684\u9810\u671f\u5167\u5bb9"},{"location":"CONTRIBUTING.html#_3","text":"\u6211\u5011\u611f\u8b1d\u8a55\u8ad6\u65b9\u9762\u7684\u5e6b\u52a9\uff01\u7121\u9700\u6210\u70ba \u5217\u51fa\u7684\u5be9\u95b1\u8005 \u5373\u53ef\u9032\u884c\u5be9\u95b1\u3002\u9084\u9f13\u52f5 GitHub \u62c9\u53d6\u8acb\u6c42\u7684\u63d0\u4ea4\u8005\u5be9\u67e5\u4ed6\u5011\u81ea\u5df1\u7684\u63d0\u4ea4\u3002 \u70ba\u4e86\u5e6b\u52a9\u9032\u884c\u5be9\u6838\uff0c\u8acb\u6309\u7167 \u5be9\u6838\u4e2d\u7684\u9810\u671f\u5167\u5bb9 \u4e2d\u6982\u8ff0\u7684\u6b65\u9a5f\u4f86\u9a57\u8b49\u63d0\u4ea4\u3002\u5b8c\u6210\u5be9\u67e5\u5f8c\uff0c\u5728 GitHub \u62c9\u53d6\u8acb\u6c42\u4e2d\u6dfb\u52a0\u8a55\u8ad6\u4ee5\u53ca\u60a8\u7684\u767c\u73fe\u3002\u5982\u679c\u63d0\u4ea4\u901a\u904e\u4e86\u5be9\u6838\uff0c\u8acb\u5728\u8a55\u8ad6\u4e2d\u660e\u78ba\u8aaa\u660e - \u4f8b\u5982\u201c\u6211\u6839\u64da CONTRIBUTING \u6587\u6a94\u4e2d\u7684\u6b65\u9a5f\u5be9\u6838\u4e86\u6b64\u66f4\u6539\uff0c\u4e26\u4e14\u5c0d\u6211\u4f86\u8aaa\u4e00\u5207\u90fd\u5f88\u597d\u201d\u3002\u5982\u679c\u7121\u6cd5\u5b8c\u6210\u5be9\u67e5\u4e2d\u7684\u67d0\u4e9b\u6b65\u9a5f\uff0c\u8acb\u660e\u78ba\u8aaa\u660e\u54ea\u4e9b\u6b65\u9a5f\u5df2\u5be9\u67e5\uff0c\u54ea\u4e9b\u6b65\u9a5f\u672a\u5be9\u67e5 - \u4f8b\u5982\u201c\u6211\u6c92\u6709\u6aa2\u67e5\u4ee3\u78bc\u662f\u5426\u5b58\u5728\u7f3a\u9677\uff0c\u4f46\u6211\u5be9\u67e5\u4e86 CONTRIBUTING \u6587\u6a94\u4e2d\u7684\u6240\u6709\u5176\u4ed6\u5167\u5bb9\uff0c\u4e26\u4e14\u5b83\u770b\u8d77\u4f86\u4e0d\u932f\u201d\u3002 \u6211\u5011\u4e5f\u611f\u8b1d\u5c0d\u63d0\u4ea4\u7684\u6e2c\u8a66\u3002\u5982\u679c\u4ee3\u78bc\u5df2\u7d93\u904e\u6e2c\u8a66\uff0c\u8acb\u5728 GitHub \u62c9\u53d6\u8acb\u6c42\u4e2d\u6dfb\u52a0\u8a55\u8ad6\uff0c\u4e26\u9644\u4e0a\u60a8\u7684\u6e2c\u8a66\u7d50\u679c - \u6210\u529f\u6216\u5931\u6557\u3002\u8acb\u660e\u78ba\u8aaa\u660e\u4ee3\u78bc\u5df2\u7d93\u904e\u6e2c\u8a66\u548c\u7d50\u679c\u2014\u2014\u4f8b\u5982\u201c\u6211\u5728 Acme900Z \u6253\u5370\u6a5f\u4e0a\u7528\u82b1\u74f6\u6253\u5370\u6e2c\u8a66\u4e86\u9019\u6bb5\u4ee3\u78bc\uff0c\u7d50\u679c\u5f88\u597d\u201d\u3002","title":"\u5354\u52a9\u8a55\u8ad6"},{"location":"CONTRIBUTING.html#_4","text":"\u4ee5\u4e0b\u70baKlipper\u6aa2\u95b1\u4eba\u4ed5: \u9805\u76ee\u540d\u7a31 GitHub Id \u8208\u8da3\u7bc4\u570d Dmitry Butyugin @dmbutyugin \u8f38\u5165\u6574\u5f62\u3001\u5171\u632f\u6e2c\u8a66\u3001\u904b\u52d5\u5b78 Eric Callahan @Arksine \u5217\u5370\u5e8a\u8abf\u5e73\u4e2d,MCU \u66f4\u65b0\u4e2d Kevin O'Connor @KevinOConnor \u6838\u5fc3\u904b\u52d5\u7cfb\u7d71\uff0c\u5fae\u63a7\u5236\u5668\u4ee3\u78bc Paul McGowan @mental405 \u914d\u7f6e\u6a94\u6848, \u6587\u4ef6 \u8acb\u4e0d\u8981\u201cping\u201d\u4efb\u4f55\u5be9\u95b1\u4eba\u4ed5\uff0c\u4e5f\u4e0d\u8981\u76f4\u63a5\u5411\u4ed6\u5011\u6295\u7a3f\u3002\u6240\u6709\u5be9\u95b1\u4eba\u4ed5\u90fd\u6703\u76e3\u63a7\u8ad6\u58c7\u548c PR\uff0c\u4e26\u6703\u5728\u6709\u6642\u9593\u6642\u9032\u884c\u5be9\u95b1\u3002 Klipper \u7684\u201c\u7dad\u8b77\u8005\u201d\u662f\uff1a \u9805\u76ee\u540d\u7a31 GitHub\u9805\u76ee\u540d\u7a31 Kevin O'Connor @KevinOConnor","title":"\u6aa2\u95b1\u4eba\u4ed5"},{"location":"CONTRIBUTING.html#_5","text":"\u6bcf\u500b\u63d0\u4ea4\u90fd\u61c9\u8a72\u6709\u4e00\u500b\u985e\u4f3c\u65bc\u4ee5\u4e0b\u683c\u5f0f\u7684\u63d0\u4ea4\u6d88\u606f\uff1a \u6a21\u7d44\u540d: \u5927\u5beb\u3001\u7c21\u77ed\u7684\u6458\u8981\uff0850\u500b\u5b57\u5143\u6216\u66f4\u5c11\uff09 \u5728\u5fc5\u8981\u60c5\u6cc1\u4e0b\u63d0\u4f9b\u66f4\u8a73\u7d30\u7684\u89e3\u91cb\u6027\u6587\u5b57\u3002 \u5206\u5272\u884c\u70ba \u6bcf\u884c75\u5b57\u5143\u5de6\u53f3\u3002 \u5728\u67d0\u4e9b\u60c5\u666f\u4e0b\uff0c\u7b2c\u4e00\u884c\u88ab\u8996\u70ba \u96fb\u5b50\u90f5\u4ef6\u7684\u4e3b\u984c\uff0c\u5176\u9918\u7684\u90e8\u5206\u4f5c\u70ba\u4e3b\u9ad4\u3002 \u5728\u6458\u8981\u8207 \u4e3b\u9ad4\u4e4b\u9593\u7684\u5206\u9694\u7528\u7a7a\u884c\u81f3\u95dc\u91cd\u8981\uff08\u9664\u975e\u60a8\u5b8c\u5168\u5ffd\u7565\u4e86 \u4e3b\u9ad4\uff09\uff0c\u4e00\u4e9b\u5de5\u5177\u4f8b\u5982\u8b8a\u57fa(rebase)\u53ef\u80fd\u6703\u5728\u7121\u7a7a\u884c\u6642 \u6df7\u6dc6\u3002 \u53ef\u4ee5\u5728\u7a7a\u767d\u884c\u4e4b\u5f8c\u5beb\u66f4\u591a\u6bb5\u843d\u3002 Signed-off-by: \u59d3\u540d< myemail@example.org > \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c module \u61c9\u8a72\u662f\u5b58\u5132\u5eab\u4e2d\u6587\u4ef6\u6216\u76ee\u9304\u7684\u540d\u7a31\uff08\u6c92\u6709\u6587\u4ef6\u64f4\u5c55\u540d\uff09\u3002\u4f8b\u5982\uff0c clocksync\uff1a\u4fee\u5fa9\u9023\u63a5\u6642 pause() \u8abf\u7528\u4e2d\u7684\u62fc\u5beb\u932f\u8aa4 \u3002\u5728\u63d0\u4ea4\u6d88\u606f\u4e2d\u6307\u5b9a\u6a21\u584a\u540d\u7a31\u7684\u76ee\u7684\u662f\u5e6b\u52a9\u70ba\u63d0\u4ea4\u8a3b\u91cb\u63d0\u4f9b\u4e0a\u4e0b\u6587\u3002 \u5728\u6bcf\u500b\u63d0\u4ea4\u4e0a\u5fc5\u9808\u6709\u4e00\u500b \"Signed-off-by \"\u884c--\u5b83\u8b49\u660e\u4f60\u540c\u610f \u958b\u767c\u8005\u8d77\u6e90\u8b49\u66f8 \u3002\u5b83\u5fc5\u9808\u5305\u542b\u4f60\u7684\u771f\u5be6\u59d3\u540d\uff08\u5c0d\u4e0d\u8d77\uff0c\u6c92\u6709\u5047\u540d\u6216\u533f\u540d\u7684\u8ca2\u737b\uff09\u548c\u4e00\u500b\u53ef\u7528\u7684\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u3002","title":"\u63d0\u4ea4\u6d88\u606f\u7684\u683c\u5f0f"},{"location":"CONTRIBUTING.html#klipper_1","text":"Klipper-translations Project is a project dedicated to translating Klipper to different languages. Weblate hosts all the Gettext strings for translating and reviewing. Locales can be displayed on klipper3d.org once they satisfy the following requirements: 75% \u7e3d\u8986\u84cb\u7387 All titles (H1) are translated \u5728klipper-translations \u4e2d\u63d0\u4f9b\u4e00\u500b\u66f4\u65b0\u5c0e\u822a\u5c64\u6b21\u7684 PR\u3002 \u7232\u4e86\u6e1b\u5c11\u7ffb\u8b6f\u7279\u5b9a\u9818\u57df\u8853\u8a9e\u7684\u7591\u60d1\uff0c\u4e26\u8b93\u66f4\u591a\u4eba\u77ad\u89e3\u6b63\u5728\u9032\u884c\u7684\u7ffb\u8b6f\uff0c\u4f60\u53ef\u4ee5\u63d0\u4ea4\u4e00\u500b\u4fee\u6539 Klipper-translations \u5c08\u6848 readme.md \u6a94\u6848\u7684PR\u3002\u4e00\u65e6\u7ffb\u8b6f\u5b8c\u6210\uff0c\u4e5f\u53ef\u4ee5\u5c0d Klipper \u5c08\u6848\u9032\u884c\u76f8\u61c9\u7684\u4fee\u6539\u3002 \u5982\u679c\u4e00\u500b\u5df2\u7d93\u5b58\u5728\u65bc Klipper \u7a0b\u5f0f\u78bc\u5eab\u4e2d\u7684\u7ffb\u8b6f\u4e0d\u518d\u7b26\u5408\u4e0a\u8ff0\u7684\u6aa2\u67e5\u6e05\u55ae\uff0c\u90a3\u9ebc\u5728\u4e00\u500b\u6708\u6c92\u6709\u66f4\u65b0\u540e\uff0c\u5b83\u5c07\u88ab\u6a19\u8a18\u70ba\u904e\u671f\u3002 Once the requirements are met, you need to: update klipper-tranlations repository active_translations Optional: add a manual-index.md file in klipper-translations repository's docs\\locals\\<lang> folder to replace the language specific index.md (generated index.md does not render correctly). Known Issues: Currently, there isn't a method for correctly translating pictures in the documentation It is impossible to translate titles in mkdocs.yml.","title":"\u70ba Klipper \u7ffb\u8b6f\u505a\u51fa\u8ca2\u737b"},{"location":"Code_Overview.html","text":"\u7a0b\u5f0f\u78bc\u7e3d\u89bd \u00b6 \u672c\u6587\u4ef6\u5c07\u63cf\u8ff0Klipper\u7684\u7a0b\u5f0f\u78bc\u7e3d\u9ad4\u7d50\u69cb\u548c\u7a0b\u5f0f\u78bc\u6d41\u3002 \u8cc7\u6599\u593e\u7d50\u69cb \u00b6 src/ \u5305\u542b\u5fae\u63a7\u5236\u5668\u7684C\u539f\u59cb\u78bc\u3002\u5176\u4e2d src/atsam/ , src/atsamd/ , src/avr/ , src/linux/ , src/lpc176x/ , src/pru/ , and src/stm32/ \u70ba\u5c0d\u61c9\u5fae\u8655\u7406\u5668\u67b6\u69cb\u7684\u539f\u59cb\u78bc\u3002 src/simulator/ \u5305\u542b\u6709\u7528\u65bc\u4ea4\u53c9\u7de8\u8b6f\u3001\u6e2c\u8a66\u76ee\u6a19\u5fae\u8655\u7406\u5668\u7684\u7a0b\u5f0f\u78bc\u3002 src/generic/ \u70ba\u5c0d\u4e0d\u540c\u67b6\u69cb\u5747\u6709\u7528\u7684\u7a0b\u5f0f\u78bc\u3002\u7de8\u8b6f\"board/somefile.h\"\u6642\uff0c\u7de8\u8b6f\u5668\u6703\u512a\u5148\u4f7f\u7528 \u67b6\u69cb\u7279\u5b9a\u7684\u76ee\u9304 (\u5373src/avr/somefile.h)\u96a8\u5f8c\u627e\u5c0b\u901a\u7528\u76ee\u9304(\u5373 src/generic/somefile.h)\u3002 klippy/ \u76ee\u9304\u5305\u542b\u4e86\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u3002\u8edf\u9ad4\u5927\u90e8\u5206\u7531Python\u5be6\u73fe\uff0c\u540c\u6642 klippy/chelper/ \u76ee\u9304\u5305\u542b\u4e86\u7531C\u5be6\u73fe\u7684\u6709\u7528\u7a0b\u5f0f\u78bc\u3002 klippy/kinematics/ \u76ee\u9304\u5305\u542b\u6a5f\u68b0\u904b\u52d5\u5b78\u7684\u5be6\u73fe\u7a0b\u5f0f\u78bc\u3002 klippy/extras/ \u76ee\u9304\u5305\u542b\u4e86\u4e0a\u4f4d\u6a5f\u7684\u64f4\u5efa\u6a21\u7d44(\"modules\")\u3002 lib/ \u5305\u542b\u4e86\u69cb\u5efa\u5fc5\u9808\u7684\u7b2c\u4e09\u65b9\u5eab\u7a0b\u5f0f\u78bc\u3002 config/ \u5305\u542b\u4e86\u5370\u8868\u6a5f\u914d\u7f6e\u7684\u5be6\u4f8b\u6a94\u6848\u3002 scripts/ \u76ee\u9304\u5305\u542b\u4e86\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u6642\u6709\u7528\u7684\u6307\u4ee4\u78bc\u3002 test/ \u76ee\u9304\u5305\u542b\u4e86\u81ea\u52d5\u6e2c\u8a66\u793a\u4f8b\u3002 \u5728\u7de8\u8b6f\u904e\u7a0b\u91cd\uff0c\u7de8\u8b6f\u5668\u6703\u69cb\u5efa out/ \u76ee\u9304\u3002\u8a72\u76ee\u9304\u5305\u542b\u69cb\u5efa\u6642\u7684\u81e8\u6642\u6a94\u6848\u3002\u5c0d\u65bcAVR\u67b6\u69cb\uff0c\u7de8\u8b6f\u5668\u8f38\u51fa\u7684\u70ba out/klipper.elf.hex \uff0c\u800c\u5c0dARM\u67b6\u69cb\u5247\u70ba out/klipper.bin \u3002 \u5fae\u8655\u7406\u5668\u7684\u7a0b\u5f0f\u78bc\u6d41 \u00b6 \u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u78bc\u5f9e\u5c0d\u61c9\u67b6\u69cb\u7684\u7a0b\u5f0f\u78bc(\u5373 src/avr/main.c )\u958b\u59cb\u57f7\u884c\uff0c\u524d\u8ff0\u7a0b\u5f0f\u78bc\u6703\u6301\u7e8c\u547c\u53eb src/sched.c \u4e2d\u7684 sched_main() \u51fd\u5f0f\u3002sched_main() \u7a0b\u5f0f\u78bc\u6703\u5148\u57f7\u884c\u7d93 DECL_INIT() \u5b8f\u6a19\u8a3b\u7684\u6240\u6709\u51fd\u5f0f\u3002\u4e4b\u5f8c\u5b83\u5c07\u4e0d\u65b7\u91cd\u8907\u57f7\u884c\u7531 DECL_TASK() \u5b8f\u6240\u6a19\u8a3b\u7684\u51fd\u5f0f\u3002 \u5176\u4e2d\u4e00\u500b\u4e3b\u8981\u7684\u4efb\u52d9\u51fd\u5f0f\u70ba src/command.c \u4e2d\u7684command_dispatch()\u3002\u4e0a\u8ff0\u51fd\u5f0f\u7d93\u7531\u5fae\u8655\u7406\u5668\u7279\u5b9a\u7684 \u8f38\u5165/\u8f38\u51fa \u7a0b\u5f0f\u78bc\u547c\u53eb(\u5373 src/avr/serial.c , src/generic/serial_irq.c )\uff0c\u4e26\u57f7\u884c\u8f38\u5165\u6d41\u4e2d\u7684\u547d\u4ee4\u6240\u5c0d\u61c9\u7684\u547d\u4ee4\u51fd\u5f0f\u3002\u547d\u4ee4\u51fd\u5f0f\u901a\u904e DECL_COMMAND() \u5b8f\u9032\u884c\u5b9a\u7fa9 (\u8a73\u60c5\u53c3\u7167 \u5354\u8b70 \u6587\u4ef6)\u3002 Task, init, and command functions always run with interrupts enabled (however, they can temporarily disable interrupts if needed). These functions should avoid long pauses, delays, or do work that lasts a significant time. (Long delays in these \"task\" functions result in scheduling jitter for other \"tasks\" - delays over 100us may become noticeable, delays over 500us may result in command retransmissions, delays over 100ms may result in watchdog reboots.) These functions schedule work at specific times by scheduling timers. \u5b9a\u6642\u51fd\u5f0f\u901a\u904e\u547c\u53ebsched_add_timer() (\u5373 src/sched.c )\u65b9\u6cd5\u9032\u884c\u8a3b\u518a\u3002\u6392\u7a0b\u5668\u6703\u5728\u8a2d\u5b9a\u7684\u6642\u9593\u9ede\u5c0d\u8a3b\u518a\u7684\u51fd\u5f0f\u9032\u884c\u547c\u53eb\u3002\u5b9a\u6642\u5668\u4e2d\u65b7\u6703\u5728\u5fae\u8655\u7406\u5668\u67b6\u69cb\u7279\u5b9a\u7684\u521d\u59cb\u5316\u8655\u7406\u5668\u4e2d\u8655\u7406(\u4f8b\u5982 src/avr/timer.c )\uff0c\u8a72\u7a0b\u5f0f\u78bc\u6703\u547c\u53eb src/sched.c \u4e2d\u7684sched_timer_dispatch()\u3002\u901a\u904e\u5b9a\u6642\u5668\u4e2d\u65b7\u57f7\u884c\u8a3b\u518a\u7684\u5b9a\u6642\u51fd\u5f0f\u3002\u5b9a\u6642\u51fd\u5f0f\u7e3d\u5728\u4e2d\u65b7\u7981\u7528\u4e0b\u57f7\u884c\u3002\u5b9a\u6642\u51fd\u5f0f\u61c9\u7e3d\u80fd\u5728\u6578\u5fae\u79d2\u5167\u5b8c\u6210\u3002\u5728\u5b9a\u6642\u51fd\u5f0f\u7d50\u675f\u6642\uff0c\u8a72\u51fd\u5f0f\u53ef\u5c0d\u81ea\u8eab\u9032\u884c\u91cd\u65b0\u5b9a\u6642\u3002 \u5982\u679c\u4e8b\u4ef6\u4e2d\u62cb\u51fa\u932f\u8aa4\uff0c \u7a0b\u5f0f\u78bc\u53ef\u547c\u53ebshutdown()\uff08 src/sched.c \u4e2d\u7684sched_shutdown()\uff09\u3002\u547c\u53ebshutdown()\u6703\u5c0e\u81f4\u6240\u6709\u6a19\u8a18\u70baDECL_SHUTDOWN()\u5b8f\u7684\u51fd\u5f0f\u88ab\u57f7\u884c\u3002shutdown()\u7e3d\u662f\u5728\u7981\u7528\u4e2d\u65b7\u7684\u60c5\u6cc1\u4e0b\u57f7\u884c\u3002 \u5fae\u63a7\u5236\u5668\u7684\u5927\u90e8\u5206\u529f\u80fd\u6d89\u53ca\u5230\u901a\u7528\u8f38\u5165\u8f38\u51fa\u5f15\u8173\uff08GPIO\uff09\u7684\u64cd\u4f5c\u3002\u7232\u4e86\u5f9e\u9ad8\u7d1a\u4efb\u52d9\u7a0b\u5f0f\u78bc\u4e2d\u62bd\u50cf\u51fa\u7279\u5b9a\u67b6\u69cb\u5e95\u5c64\u7a0b\u5f0f\u78bc\uff0c\u6240\u6709\u7684GPIO\u4e8b\u4ef6\u90fd\u5728\u7279\u5b9a\u67b6\u69cb\u7684\u5305\u88dd\u5668\u4e2d\u5be6\u73fe\uff08\u5982\uff0c src/avr/gpio.c \uff09\u3002\u7a0b\u5f0f\u78bc\u4f7f\u7528gcc\u7684\"-flto -fwhole-program \"\u4f86\u512a\u5316\u7de8\u8b6f\uff0c\u4ee5\u5be6\u73fe\u884c\u5167\u51fd\u6578\u7684\u9ad8\u6548\u80fd\u4ea4\u53c9\u7de8\u8b6f\uff0c\u5927\u591a\u6578\u5fae\u5c0f\u7684GPIO\u64cd\u4f5c\u51fd\u5f0f\u5167\u806f\u5230\u5b83\u5011\u7684\u547c\u53eb\u5668\u4e2d\uff0c\u4f7f\u7528\u9019\u4e9bGPIO\u5c07\u6c92\u6709\u4efb\u4f55\u57f7\u884c\u6642\u6210\u672c\u3002 \u7a0b\u5f0f\u78bc\u7e3d\u89bd \u00b6 \u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\uff08klippy\uff09\u57f7\u884c\u5728\u5ec9\u50f9\u8a08\u7b97\u6a5f\uff08\u5982 \u6a39\u8393\u6d3e\uff09\u4e0a\uff0c\u914d\u642dmcu\u4f7f\u7528\u3002\u8a72\u7a0b\u5f0f\u7684\u4e3b\u8981\u7a0b\u5f0f\u8a9e\u8a00\u70baPython\uff0c\u540c\u6642\u90e8\u5206\u529f\u80fd\u901a\u904eCFFI\u5728C\u8a9e\u8a00\u4e0a\u5be6\u73fe\u3002 \u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u901a\u904e klippy/klippy.py \u521d\u59cb\u5316\u3002\u8a72\u6a94\u6848\u6703\u8b80\u53d6\u547d\u4ee4\u5217\u53c3\u6578\uff0c\u6253\u958b\u5370\u8868\u6a5f\u7684\u8a2d\u5b9a\u6a94\u6848\uff0c\u5be6\u4f8b\u5316\u5370\u8868\u6a5f\u7684\u4e3b\u8981\u6a21\u7d44\uff0c\u4e26\u555f\u7528\u4e32\u5217\u57e0\u901a\u8a0a\u3002G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u7684\u57f7\u884c\u5247\u901a\u904e klippy/gcode.py \u4e2d\u7684 process_commands() \u65b9\u6cd5\u5be6\u73fe\u3002\u6b64\u7a0b\u5f0f\u78bc\u5c07G\u7a0b\u5f0f\u78bc\u8f49\u5316\u70ba\u5370\u8868\u6a5f\u7684\u5c0d\u8c61\u547c\u53eb\uff0c\u5b83\u5c07\u983b\u7e41\u5730\u5c07G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u8f49\u5316\u70ba\u5fae\u63a7\u5236\u5668\u7684\u884c\u52d5\u6307\u4ee4\uff08\u901a\u904e\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e2d\u7684 DECL_COMMAND \u9032\u884c\u8072\u660e\uff09\u3002 Klippy\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u5305\u542b\u56db\u500b\u7a0b\u5e8f\u3002\u4e3b\u57f7\u884c\u7dd2\u7528\u65bc\u8655\u7406\u8f38\u5165\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002\u7b2c\u4e8c\u57f7\u884c\u7dd2\u901a\u904e\u4e32\u5217\u57e0\u5be6\u73fe\u5e95\u5c64IO\u7684\u8655\u7406\uff08\u7a0b\u5f0f\u78bc\u4f4d\u65bc klippy/chelper/serialqueue.c \u4ee5C\u8a9e\u8a00\u5be6\u73fe\uff09\u3002\u7b2c\u4e09\u57f7\u884c\u7dd2\u5247\u901a\u904ePython\u7a0b\u5f0f\u78bc\u8655\u7406\u5fae\u63a7\u5236\u5668\u8fd4\u56de\u7684\u8cc7\u8a0a\uff08\u53c3\u7167 klippy/serialhdl.py\uff09\u3002\u7b2c\u56db\u57f7\u884c\u7dd2\u5247\u8ca0\u8cac\u5c07Debug\u8cc7\u8a0a\u5beb\u5165\u5230\u65e5\u8a8c\u6a94\u6848(\u898b klippy/queuelogger.py )\uff0c\u7531\u6b64\uff0c\u5176\u4ed6\u57f7\u884c\u7dd2\u7684\u57f7\u884c\u5c07\u4e0d\u6703\u963b\u585e\u65e5\u8a8c\u7684\u5beb\u5165\u3002 \u5178\u578b\u904b\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u6d41 \u00b6 \u5178\u578b\u7684\u5370\u8868\u6a5f\u904b\u52d5\u59cb\u65bcklipper\u4e0a\u4f4d\u6a5f\u63a5\u6536\u5230\"G1\"\u547d\u4ee4\uff0c\u4e26\u5728\u5fae\u63a7\u5236\u5668\u767c\u51fa\u5c0d\u61c9\u7684\u6b65\u9032\u8108\u885d\u7d50\u675f\u3002\u672c\u7bc0\u5c07\u7c21\u8ff0\u5178\u578b\u904b\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u6d41\u3002 \u904b\u52d5\u5b78 \u6587\u4ef6\u5c07\u66f4\u70ba\u7d30\u7dfb\u7684\u63cf\u8ff0\u904b\u52d5\u7684\u6a5f\u68b0\u539f\u7406\u3002 \u79fb\u52d5\u547d\u4ee4\u7684\u8655\u7406\u59cb\u65bcgcode.py\uff0c\u8a72\u7a0b\u5f0f\u78bc\u5c07G\u7a0b\u5f0f\u78bc\u8f49\u5316\u70ba\u5167\u90e8\u547c\u53eb\u3002G1\u547d\u4ee4\u5c07\u547c\u53ebklippy/extras/gcode_move.py\u4e2d\u7684cmd_G1()\u51fd\u5f0f\u3002gcode_move.py\u4e2d\u7684\u7a0b\u5f0f\u78bc\u5c07\u8655\u7406 \u539f\u9ede\u8b8a\u63db\uff08G92\uff09\uff0c\u7d55\u5c0d\u5ea7\u6a19\u6a21\u5f0f\uff08G90\uff09\u548c\u55ae\u4f4d\u8b8a\u63db\uff08\u5982F6000=100mm/s\uff09\u3002\u4e00\u500b\u79fb\u52d5\u547d\u4ee4\u7684\u8655\u7406\u8def\u5f91\u70ba\uff1a _process_data() -> _process_commands() -> cmd_G1() \u3002\u6700\u7d42\u5c07\u547c\u53ebToolHead\u985e\u7684\u65b9\u6cd5\u5be6\u73fe\u79fb\u52d5 cmd_G1() -> ToolHead.move() \u3002 ToolHead\u985e\uff08\u4f4d\u65bctoolhead.py\uff09\u8655\u7406\u300c\u524d\u77bb\u300d\u884c\u70ba\u548c\u8a18\u9304\u5217\u5370\u7684\u6642\u9593\u9ede\u3002\u79fb\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u8def\u5f91\u70ba ToolHead.move() -> MoveQueue.add_move() -> MoveQueue.flush() -> Move.set_junction() -> ToolHead._process_moves() \u3002 ToolHead.move()\u5c07\u5efa\u7acb\u4e00\u500bMove()\u5c0d\u50cf\u5be6\u4f8b\uff0c\u5176\u4e2d\u5c07\u5305\u542b\u79fb\u52d5\u7684\u53c3\u6578\uff08\u5728\u7b1b\u5361\u723e\u7a7a\u9593\u4e2d\uff0c\u4e26\u9019\u4e9b\u53c3\u6578\u4ee5mm\u548cs\u70ba\u55ae\u4f4d\uff09\u3002 kinematics\u985e\u5c07\u6aa2\u67e5\u6bcf\u500b\u904b\u52d5\u547d\u4ee4\uff08 ToolHead.move() -> kin.check_move() \uff09\u3002\u5404\u7a2ekinematics\u985e\u5b58\u653e\u4e8e klippy/kinematics/ \u76ee\u9304\u3002check_move()\u80fd\u5728\u904b\u52d5\u547d\u4ee4\u4e0d\u5408\u7406\u6642\u62cb\u51fa\u932f\u8aa4\u3002\u5982\u679c check_move()\u6210\u529f\uff0c\u9019\u610f\u5473\u8457\u5370\u8868\u6a5f\u5fc5\u5b9a\u80fd\u5b8c\u6210\u904b\u52d5\u547d\u4ee4\u3002 MoveQueue.add_move()\u5c07\u4e00\u500bmove\u5be6\u4f8b\u65b0\u589e\u5230\u300c\u524d\u77bb\u300d\u4f47\u5217\u3002 MoveQueue.flush()\u5c07\u9032\u884c\u6bcf\u6b21\u904b\u52d5 \u8d77\u59cb\u548c\u7d50\u675f \u901f\u5ea6\u3002 Move.set_junction()\u5be6\u73fe\u79fb\u52d5\u7684\u300c\u68af\u5f62\u52a0\u6e1b\u901f\uff08trapezoid generator\uff09\u300d\u3002\u300c\u68af\u5f62\u52a0\u6e1b\u901f\u300d\u5c07\u6bcf\u6b21\u79fb\u52d5\u62c6\u5206\u70ba\u4e09\u90e8\u5206\uff1a\u6052\u52a0\u901f\u5ea6\u52a0\u901f\u968e\u6bb5\u3001\u6052\u901f\u5ea6\u968e\u6bb5\u3001\u6052\u52a0\u901f\u5ea6\u6e1b\u901f\u968e\u6bb5\u3002\u6240\u6709\u79fb\u52d5\u5747\u542b\u6709\u4e0a\u8ff0\u4e09\u500b\u968e\u6bb5\uff0c\u4f46\u55ae\u500b\u968e\u6bb5\u7684\u6301\u7e8c\u6642\u9593\u53ef\u80fd\u70ba0\u3002 \u7576ToolHead._process_moves()\u88ab\u547c\u53eb\u6642\uff0c\u4e00\u6b21\u79fb\u52d5\u7684\u6240\u6709\u8981\u7d20\u5747\u5df2\u5c31\u7dd2\u2014\u2014\u79fb\u52d5\u7684\u8d77\u59cb\u4f4d\u7f6e\u3001\u7d50\u675f\u4f4d\u7f6e\u3001\u52a0\u901f\u5ea6\u3001\u8d77\u59cb/\u5de1\u822a/\u7d50\u675f\u901f\u5ea6\u3001\u4ee5\u53ca\u8d77\u59cb/\u5de1\u822a/\u7d50\u675f\u7684\u8ddd\u96e2\u3002\u6240\u6709\u8cc7\u8a0a\u4ee5\u7b1b\u5361\u723e\u5ea7\u6a19\u7684\u5f62\u5f0f\u5132\u5b58\u5728Move()\u5be6\u4f8b\u4e2d\uff0c\u55ae\u4f4d\u70bamm\u548cs\u3002 Klipper\u4f7f\u7528 \u8fed\u4ee3\u6c42\u89e3 \u7684\u65b9\u5f0f\u7522\u751f\u6b65\u9032\u96fb\u6a5f\u7684\u6bcf\u6b65\u7684\u6642\u9577\u3002\u7232\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u6b65\u9032\u8108\u885d\u6642\u9593\u662f\u4ee5C\u8a9e\u8a00\u7a0b\u5f0f\u78bc\u7522\u751f\u3002\u4e00\u500b\u904b\u52d5\u5148\u7d93\u904e\u300c\u68af\u5f62\u904b\u52d5\u4f47\u5217\u5316\u300d \uff1a ToolHead._process_moves() -> trapq_append() (\u4f4d\u65bc klippy/chelper/trapq.c)\uff0c\u7136\u5f8c\u7522\u751f\u6b65\u9032\u6642\u9593 ToolHead._process_moves() -> ToolHead._update_move_time() -> MCU_Stepper.generate_steps() -> itersolve_generate_steps() -> itersolve_gen_steps_range() (\u4f4d\u65bc klippy/chelper/itersolve.c)\u3002\u8fed\u4ee3\u6c42\u89e3\u5668\u901a\u904e\u4e00\u500b\u6642\u9593-\u4f4d\u7f6e\u65b9\u7a0b\u8a08\u7b97\u51fa\u6b65\u9032\u6642\u9593\u3002\u6c42\u89e3\u6642\u901a\u904e\u300c\u5047\u5b9a\u300d\u6642\u9593\u9ede\uff0c\u4ee5\u6642\u9593-\u4f4d\u7f6e\u65b9\u7a0b\u8a08\u7b97\u51fa\u4e0b\u4e00\u6b65\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8a08\u7b97\u7d50\u679c\u8207\u5be6\u969b\u9700\u6c42\u7684\u4e0b\u4e00\u6b65\u4f4d\u7f6e\u4e00\u81f4\uff0c\u5047\u5b9a\u503c\u5c07\u7528\u65bc\u5be6\u969b\u904b\u52d5\uff1b\u5426\u5247\uff0c\u901a\u904e\u8a08\u7b97\u7d50\u679c\u5c0d\u300c\u5047\u5b9a\u6642\u9593\u300d\u9032\u884c\u4fee\u6b63\uff0c\u4e26\u9032\u884c\u4e0b\u4e00\u6b21\u8a66\u7b97\u3002\u9019\u7a2e\u53cd\u994b\u65b9\u5f0f\u6703\u4f7f\u8fed\u4ee3\u5feb\u901f\u6536\u6582\u3002\u904b\u52d5\u5b78\u6240\u4f7f\u7528\u7684\u6642\u9593-\u4f4d\u7f6e\u51fd\u5f0f\u4f4d\u65bc klippy/chelper/ \u76ee\u9304 (\u4f8b\u5982, kin_cart.c, kin_corexy.c, kin_delta.c, kin_extruder.c)\u3002 \u9700\u8981\u6ce8\u610f\uff0c\u64e0\u51fa\u6a5f\u6709\u7368\u7279\u7684\u904b\u52d5\u5b78\u6a21\u578b\uff0c\u4f7f\u7528 ToolHead._process_moves() -> PrinterExtruder.move() \u985e\u7e7c\u7e8c\u5be7\u8655\u7406\u3002\u5118\u7ba1\u64e0\u51fa\u6a5f\u4f7f\u7528\u4e86\u7368\u7acb\u7684Move()\u985e\uff0c\u7531\u65bcMove() \u5be6\u4f8b\u5305\u542b\u4e86\u5be6\u969b\u904b\u52d5\u7684\u6642\u9593\uff0c\u4e26\u4e14\u8108\u885d\u6642\u9593\u7684\u88dd\u7f6e\u662f\u5b9a\u6642\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u56e0\u6b64\u7531\u64e0\u51fa\u6a5f\u985e\u7522\u751f\u7684\u6b65\u9032\u904b\u52d5\u5c07\u8207\u5217\u5370\u982d\u7684\u904b\u52d5\u540c\u6b65\u3002 \u7576\u8fed\u4ee3\u8a08\u7b97\u5668\u8a08\u7b97\u51fa\u6b65\u9032\u6642\u9577\u540e\uff0c\u8a08\u7b97\u7d50\u679c\u5c07\u88ab\u7f6e\u65bc\u4e00\u500b\u9663\u5217\u4e2d\uff1a itersolve_gen_steps_range() -> stepcompress_append() (\u4f4d\u65bc klippy/chelper/stepcompress.c)\u3002\u9663\u5217(\u7d50\u69cb\u9ad4 stepcompress.queue)\u5132\u5b58\u6bcf\u4e00\u6b65\u5c0d\u61c9\u7684\u5fae\u8655\u7406\u5668\u6642\u9418\u8a08\u6578\u5668\u6642\u9593\u3002\u4e0a\u8ff0\u7684\u300c\u5fae\u8655\u7406\u5668\u8a08\u6578\u5668\u300d\u7684\u503c\u6307\u7684\u662f\u5fae\u8655\u7406\u5668\u786c\u9ad4\u4e0a\u7684\u8a08\u6578\u5668\u2014\u2014\u5176\u503c\u57fa\u65bc\u5fae\u8655\u7406\u5668\u6700\u5f8c\u4e00\u6b21\u4e0a\u96fb\u800c\u5b9a\u3002 \u63a5\u4e0b\u4f86\u91cd\u8981\u7684\u662f\uff0c\u5c0d\u6b65\u9032\u6578\u64da\u9032\u884c\u58d3\u7e2e\uff1a stepcompress_flush() -> compress_bisect_add() (\u4f4d\u65bc klippy/chelper/stepcompress.c)\u3002\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\u5c07\u57fa\u65bc\u524d\u8ff0\u7684 \u6b65\u9032\u6642\u9593\u5217\u8868 \u7522\u751f\u548c\u7de8\u78bc\u4e00\u7cfb\u5217\u7684\u5fae\u63a7\u5236\u5668\"queue_step\"\uff08\u4f47\u5217\u6b65\u9032\uff09\u547d\u4ee4\u3002\u9019\u4e9b\"queue_step\"\u547d\u4ee4\u5c07\u88ab\u4f47\u5217\u5316\uff0c\u512a\u5148\u8655\u7406\uff0c\u4f75\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e2d\uff08\u4e0a\u4f4d\u6a5f\u901a\u904e stepcompress.c:steppersync\uff1b\u4e0b\u4f4d\u6a5f\u901a\u904eserialqueue.c:serialqueue)\uff09\u3002 \u5728\u5fae\u63a7\u5236\u5668\uff0cqueue_step\u547d\u4ee4\u5c07\u7d93\u7531 src/command.c \u8655\u7406\u3002\u6539\u7a0b\u5f0f\u78bc\u5c07\u5c0d\u547d\u4ee4\u9032\u884c\u89e3\u91cb\uff0c\u4e26\u547c\u53eb command_queue_step() \u3002command_queue_step()\uff08\u4f4d\u65bcsrc/stepper.c\uff09\u5c07\u6bcf\u500bqueue_step\u547d\u4ee4\u7684\u53c3\u6578\u9644\u52a0\u5230\u5c0d\u61c9\u7684\u6b65\u9032\u4f47\u5217\u4e2d\u3002\u6b63\u5e38\u57f7\u884c\u4e0b\uff0c\u4e00\u300c\u6b65\u300d\u5c07\u5728\u5176\u57f7\u884c\u524d100ms\u88ab\u89e3\u91cb\u4e26\u52a0\u5165\u4f47\u5217\u3002\u6700\u5f8c\u901a\u904e stepper_event() \u7d50\u675f\u6b65\u9032\u4e8b\u4ef6\u7684\u7522\u751f\u3002\u8a72\u7a0b\u5f0f\u78bc\u6703\u57fa\u65bcqueue_step\u547d\u4ee4\u7684\u53c3\u6578\u7522\u751f\u6b65\u9032\u8108\u885d\uff0c\u4e26\u5b89\u6392\u4e0b\u4e00\u6b21\u6b65\u9032\u8108\u885d\u7522\u751f\u7684\u6642\u9593\u3002\u786c\u9ad4\u5b9a\u6642\u5668\u767c\u51fa\u4e2d\u65b7\uff0c\u5728\u8a2d\u5b9a\u7684\u4e8b\u4ef6\u547c\u53eb\u76f8\u61c9\u7684stepper_event\u3002queue_step\u547d\u4ee4\u7684\u53c3\u6578\u5305\u542b\u300c\u9593\u9694\u300d\u3001\u300c\u8a08\u6578\u300d\u3001\u300c\u589e\u91cf\u300d\u3002\u7e3d\u9ad4\u800c\u8a00\uff0cstepper_event()\u5c07\u57f7\u884c\u4e0b\u5217\u5167\u5bb9\uff0c\u300c\u8a18\u9304\u6642\u9593\u300d: do_step(); next_wake_time = last_wake_time + interval; interval += add; \u4e0a\u9762\u7684\u904b\u52d5\u904e\u7a0b\u770b\u4f3c\u5341\u5206\u8907\u96dc\u3002\u7136\u800c\uff0c\u771f\u6b63\u9700\u8981\u6ce8\u610f\u7684\u53ea\u6709ToolHead\uff08\u5217\u5370\u982d\uff09 \u548c kinematic \uff08\u904b\u52d5\u5b78\uff09\u985e\uff0c\u4e0a\u8ff0\u5169\u500b\u985e\u7684\u7a0b\u5f0f\u78bc\u78ba\u5b9a\u4e86\u904b\u52d5\u57f7\u884c\u548c\u5b9a\u6642\u3002\u5269\u4e0b\u7684\u7a0b\u5f0f\u78bc\u50c5\u7528\u65bc\u8655\u7406\u901a\u8a0a\u548c\u7ba1\u9053\u7684\u554f\u984c\u3002 \u65b0\u589e\u4e0a\u4f4d\u6a5f\u6a21\u7d44 \u00b6 Klippy\u4e0a\u4f4d\u6a5f\u7684\u4e3b\u7a0b\u5f0f\u80fd\u5c0d\u6a21\u7d44\u9032\u884c\u71b1\u8f09\u5165\u3002\u5982\u679c\u8a2d\u5b9a\u6a94\u6848\u4e2d\u51fa\u73fe\u4e86\u985e\u4f3c\"[my_module]\" \u7684\u6b04\u4f4d\u540d\uff0c\u7a0b\u5f0f\u6703\u81ea\u52d5\u5617\u8a66\u8f09\u5165 klippy/extras/my_module.py \u6a94\u6848\u5167\u7684\u6a21\u7d44\u3002Klipper\u63a8\u85a6\u4f7f\u7528\u4e0a\u8ff0\u65b9\u5f0f\u64f4\u5145\u5957\u4ef6Klipper\u529f\u80fd\u3002 \u65b0\u589e\u6a21\u7d44\u7684\u6700\u7c21\u55ae\u7684\u65b9\u5f0f\u662f\u53c3\u7167\u5df2\u6709\u7684\u6a21\u7d44 - \u4e0b\u9762\u5c07\u4ee5 klippy/extras/servo.py \u4f5c\u70ba\u4f8b\u5b50\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e9b\u6709\u7528\u7684\u8cc7\u8a0a\uff1a \u6a21\u7d44\u7684\u904b\u4f5c\u8d77\u59cb\u65bc\u6a21\u7d44\u7d1a\u5225\u7684 load_config() \u51fd\u5f0f\uff08\u91dd\u5c0d\u5f62\u5982 [my_module] \u7684\u914d\u7f6e\u584a\uff09\u6216 load_config_prefix() \uff08\u5c0d [my_module my_name] \u914d\u7f6e\u584a\uff09\u3002\u8a72\u65b9\u6cd5\u5c07\u63a5\u53d7\u4e00\u500b \"config\" \u5c0d\u8c61\u4e26\u5fc5\u9808\u8fd4\u56de\u4e00\u500b\u8207\u76ee\u6a19\u529f\u80fd\u76f8\u95dc\u7684\u65b0\"printer object\"\u3002 \u5728\u5efa\u7acb\u65b0\"printer object\"\u7684\u5be6\u4f8b\u6642\uff0c\u53ef\u4ee5\u4f7f\u7528\"config\"\u5c0d\u50cf\u8b80\u53d6\u914d\u7f6e\u6a94\u6848\u4e2d\u76f8\u61c9\u914d\u7f6e\u584a\u4e2d\u7684\u8cc7\u8a0a\u3002\u6b64\u6642\u53ef\u4f7f\u7528 config.get() \uff0c config.getfloat() \uff0c config.getint() \u7b49\u65b9\u6cd5\u3002\u61c9\u78ba\u4fdd\u6240\u9700\u7684\u53c3\u6578\u5728 \"printer object\" \u69cb\u5efa\u968e\u6bb5\u6642\u5b8c\u6210\u8b80\u53d6\u3002\u5982\u679c\u4f7f\u7528\u8005\u53c3\u6578\u6c92\u6709\u5728\u8a72\u968e\u6bb5\u5b8c\u6210\u8b80\u53d6\uff0c\u7a0b\u5f0f\u5c07\u8a8d\u70ba\u9019\u662f\u914d\u7f6e\u4e2d\u7684\u932f\u5b57\uff0c\u4e26\u62cb\u51fa\u7570\u5e38\u3002 \u4f7f\u7528 config.get_printer() \u65b9\u6cd5\u7372\u53d6\u4e3b\"printer\"\u985e\u7684\u5f15\u7528\u3002\u8a72\"printer\"\u985e\u5132\u5b58\u4e86\u6240\u6709\u5be6\u4f8b\u5316\u4e86\u7684\"printer objects\"\u7684\u5f15\u7528\u3002\u4f7f\u7528 printer.lookup_object() \u65b9\u6cd5\u7372\u53d6\u5176\u4ed6\"printer objects\"\u7684\u5f15\u7528\u3002\u5e7e\u4e4e\u5168\u90e8\u7684\u529f\u80fd\uff08\u5305\u62ec\u904b\u52d5\u63a7\u5236\u6a21\u7d44\uff09\u90fd\u5305\u88dd\u70ba\"printer objects\"\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7576\u4e00\u500b\u65b0\u6a21\u7d44\u5be6\u4f8b\u5316\u7684\u6642\u5019\uff0c\u4e26\u975e\u6240\u6709\u5176\u4ed6\u7684\"printer objects\"\u5747\u5df2\u5b8c\u6210\u5be6\u4f8b\u5316\u3002\u5176\u4e2d\"gcode\"\u548c\"pins\"\u6a21\u7d44\u7e3d\u662f\u53ef\u7528\uff0c\u4f46\u5c0d\u65bc\u5176\u4ed6\u6a21\u7d44\u6700\u597d\u63a8\u9072\u67e5\u8a62\u3002 \u5982\u679c\u7a0b\u5f0f\u78bc\u9700\u8981\u5728\u5176\u4ed6\"printer objects\"\u767c\u8d77\u4e8b\u4ef6\uff08event\uff09\u6642\u88ab\u547c\u53eb\uff0c\u53ef\u901a\u904e printer.register_event_handler() \u8a3b\u518a\u4e8b\u4ef6\u8655\u7406\u51fd\u5f0f\u3002\u6bcf\u500b\u4e8b\u4ef6\u7684\u540d\u7a31\u662f\u4e00\u500b\u5b57\u4e32\uff0c\u6309\u7167\u6163\u4f8b\uff0c\u5b83\u662f\u5f15\u767c\u8a72\u4e8b\u4ef6\u7684\u4e3b\u8981\u6e90\u6a21\u7d44\u7684\u540d\u7a31\uff0c\u4ee5\u53ca\u6b63\u5728\u767c\u751f\u7684\u52d5\u4f5c\u7684\u7c21\u77ed\u540d\u7a31\uff08\u4f8b\u5982\uff0c\"klippy:connect\"\uff09\u3002\u50b3\u905e\u7d66\u4e8b\u4ef6\u8655\u7406\u51fd\u5f0f\u7684\u53c3\u6578\u56e0\u8655\u7406\u51fd\u5f0f\u800c\u7570\uff08\u7570\u5e38\u8655\u7406\u548c\u57f7\u884c\u74b0\u5883\u4e5f\u662f\u5982\u6b64\uff09\u3002\u5e38\u898b\u7684\u5169\u7a2e\u8d77\u59cb\u4e8b\u4ef6\u70ba\uff1a klippy:connect - \u8a72\u4e8b\u4ef6\u5728\u6240\u6709 \"printer objects\" \u5be6\u4f8b\u5316\u540e\u767c\u8d77\u3002\u5b83\u901a\u5e38\u7528\u65bc\u67e5\u8a62\u5176\u4ed6\"printer objects\"\uff0c\u8988\u5be6\u914d\u7f6e\uff0c\u4e26\u8207mcu\u9032\u884c\u521d\u59cb\u63e1\u624b\u3002 klippy:ready - \u8a72\u4e8b\u4ef6\u5728\u6240\u6709connect\u8655\u7406\u7a0b\u5f0f\u6210\u529f\u5730\u5b8c\u6210\u5f8c\u767c\u8d77\u3002\u5b83\u610f\u5473\u8457\u5370\u8868\u6a5f\u8f49\u70ba\u7b49\u5f85\u5e38\u898f\u6307\u4ee4\u7684\u5f85\u547d\u72c0\u614b\u3002\u4e0d\u61c9\u5728\u8a72\u56de\u8abf\u51fd\u5f0f\u4e2d\u62cb\u51fa\u7570\u5e38\u3002 \u5982\u679c\u4f7f\u7528\u8005\u914d\u7f6e\u4e2d\u5b58\u5728\u932f\u8aa4\uff0c\u61c9\u5728 load_config() \u6216\u9023\u7dda\u4e8b\u4ef6\uff08connect event\uff09\u4e2d\u62cb\u51fa\u7570\u5e38\u3002\u4f7f\u7528 raise config.error(\"my error\") \u6216 raise printer.config_error(\"my error\") \u9032\u884c\u544a\u8b66\u3002 \u4f7f\u7528\"pins\"\u6a21\u7d44\u5c0d\u5fae\u63a7\u5236\u5668\u7684\u5f15\u8173\u9032\u884c\u5b9a\u7fa9\uff0c\u4f8b\u5982 printer.lookup_object(\"pins\").setup_pin(\"pwm\", config.get(\"my_pin\")) \u3002\u6b64\u5f8c\uff0c\u57f7\u884c\u6642\uff0c\u53ef\u901a\u904e\u8fd4\u56de\u7684\u5c0d\u8c61\u5c0d\u91dd\u8173\u9032\u884c\u63a7\u5236\u3002 \u5982\u679c\u5370\u8868\u6a5f\u5c0d\u50cf\u4e2d\u5b9a\u7fa9\u4e86 get_status() \u65b9\u6cd5\uff0c\u5247\u5728\u6a21\u7d44\u4e2d\u53ef\u4ee5\u901a\u904e \u5b8f \u6216 API\u670d\u52d9 \u8f38\u51fa \u72c0\u614b\u8cc7\u8a0a \u3002 get_status() \u5fc5\u9808\u8fd4\u56de\u4e00\u500bPython\u5b57\u5178\u5c0d\u8c61\uff0c\u5176\u9375\u9700\u8981\u70ba\u5b57\u4e32\uff0c\u800c\u503c\u61c9\u70ba\u6574\u5f62\u3001\u6d6e\u9ede\u6578\u3001\u5217\u8868\u3001\u5b57\u5178\u3001True\u3001False\u6216\u8005None\u3002\u5143\u7d44\uff08\u6216\u547d\u540d\u5143\u7d44\uff09\u4e5f\u53ef\u4ee5\u4f5c\u70ba\u503c\uff08\u5b83\u5011\u5728API\u670d\u52d9\u4e2d\u5c07\u88ab\u8996\u70ba\u5217\u8868\uff09\u3002\u5217\u8868\u548c\u5b57\u5178\u7684\u8f38\u51fa\u503c\u5fc5\u9808\u70ba\u300c\u4e0d\u53ef\u8b8a\u7684\uff08immutable\uff09\u300d\uff0c\u5373\u5728\u51fd\u5f0f\u5167\uff0c\u5982\u679c get_status() \u9700\u8981\u8f38\u51fa\u4e0a\u8ff0\u578b\u5225\u7684\u5be6\u4f8b\uff0c\u5247\u9700\u8981\u65b0\u5efa\u6216\u8005\u9032\u884c\u6df1\u5c64\u8907\u88fd\uff0c\u5426\u5247API\u670d\u52d9\u6703\u8b58\u5225\u51fa\u8f38\u51fa\u503c\u4e2d\u7684\u5167\u5bb9\u8b8a\u66f4\u3002 \u5982\u679c\u6a21\u7d44\u9700\u8981\u4f7f\u7528\u7cfb\u7d71\u6642\u9418\u6216\u5916\u90e8\u6a94\u6848\u63cf\u8ff0\u7b26\uff0c\u53ef\u901a\u904e printer.get_reactor() \u5c0d\u7372\u53d6\u5168\u57df\u6027\u4e8b\u4ef6\u53cd\u61c9\u5668\u9032\u884c\u8a2a\u554f\uff08event reactor\uff09\u3002\u901a\u904e\u8a72\u53cd\u61c9\u5668\u985e\u53ef\u4ee5\u90e8\u7f72\u5b9a\u6642\u5668\uff0c\u7b49\u5f85\u6a94\u6848\u63cf\u8ff0\u7b26\u8f38\u5165\uff0c\u6216\u8005\u300c\u639b\u8d77\u300d\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u3002 \u4e0d\u61c9\u4f7f\u7528\u5168\u57df\u6027\u8b8a\u6578\u3002\u5168\u90e8\u72c0\u614b\u91cf\u61c9\u5132\u5b58\u4e8e \"printer objects\"\uff0c\u4e26\u901a\u904e load_config() \u9032\u884c\u8a2a\u554f\u3002\u5426\u5247\uff0cRESTART\u547d\u4ee4\u7684\u884c\u70ba\u5c07\u7121\u6cd5\u9810\u6e2c\u3002\u540c\u6a23\uff0c\u4efb\u4f55\u5728\u57f7\u884c\u6642\u6253\u958b\u7684\u5916\u90e8\u6a94\u6848\uff08\u6216\u5957\u63a5\u5b57\uff09\uff0c\u61c9\u5728\"klippy:disconnect\"\u7684\u4e8b\u4ef6\u5167\u8a3b\u518a\u76f8\u61c9\u7684\u56de\u64a5\u51fd\u5f0f\u9032\u884c\u95dc\u9589\u3002 \u61c9\u907f\u514d\u8a2a\u554f\u5176\u4ed6\"printer objects\"\u79c1\u6709\u5c0d\u8c61\u5c6c\u6027\uff08\u6216\u547c\u53eb\u547d\u540d\u4ee5\u4e0b\u5283\u7dda\u958b\u59cb\u7684\u65b9\u6cd5\uff09\u3002\u9075\u5faa\u9019\u4e00\u65b9\u5f0f\u53ef\u65b9\u4fbf\u4e4b\u5f8c\u7684\u8b8a\u66f4\u3002 \u63a8\u85a6\u5728\u985e\u7684\u5de5\u5ee0\u51fd\u5f0f\u4e2d\u5c07\u6240\u6709\u6210\u54e1\u8b8a\u6578\u5be6\u4f8b\u5316\uff08\u5373\u907f\u514d\u4f7f\u7528Python\u7684\u52d5\u614b\u8b8a\u52d5\u6210\u54e1\u8b8a\u6578\u7684\u529f\u80fd\uff09\u3002 \u82e5\u4e00Python\u8b8a\u6578\u5b58\u653e\u6709\u4e00\u6d6e\u9ede\u6578\uff0c\u90a3\u9ebc\u5efa\u8b70\u8a72\u8b8a\u6578\u61c9\u7e3d\u8ce6\u4e88\u6d6e\u9ede\u578b\u5225\u7684\u91cf\uff0c\u4e26\u50c5\u4f7f\u7528\u6d6e\u9ede\u6578\u5e38\u91cf\u9032\u884c\u503c\u904b\u7b97\uff08\u4e26\u7d55\u4e0d\u4f7f\u7528\u6574\u5f62\u5e38\u6578\u9032\u884c\u904b\u7b97\uff09\u3002\u4f8b\u5982\uff0c\u61c9\u4f7f\u7528 self.speed = 1. \u800c\u975e self.speed = 1 \uff0c\u4e26\u4ee5 self.speed = 2. * x \u66ff\u4ee3 self.speed = 2 *x \u3002\u4e00\u81f4\u5730\u4f7f\u7528\u6d6e\u9ede\u503c\u53ef\u4ee5\u907f\u514dPython\u578b\u5225\u8f49\u63db\u4e2d\u96e3\u4ee5\u9664\u932f\u7684\u602a\u7570\u73fe\u8c61\u3002 \u82e5\u9700\u5411 klipper \u6bcd\u5206\u652f\u63d0\u4ea4\u6a21\u7d44\u7684\u7a0b\u5f0f\u78bc\uff0c\u8acb\u5728\u6a21\u7d44\u7a0b\u5f0f\u78bc\u7684\u982d\u90e8\u52a0\u5165\u7248\u6b0a\u8072\u660e\u3002\u8a73\u8acb\u53c3\u8003\u5df2\u6709\u6a21\u7d44\u7684\u683c\u5f0f\u3002 \u589e\u52a0\u65b0\u904b\u52d5\u5b78\u6a21\u578b \u00b6 \u672c\u7bc0\u5c07\u63d0\u4f9b\u70baKlipper\u589e\u52a0\u65b0\u904b\u52d5\u5b78\u6a21\u578b\u7684\u63d0\u793a\u3002\u9019\u9700\u8981\u5c0d\u76ee\u6a19\u904b\u52d5\u5b78\u65b9\u7a0b\u6709\u6df1\u5165\u7684\u77ad\u89e3\u3002\u9019\u540c\u6642\u9700\u8981\u4e00\u5b9a\u7684\u8edf\u4ef6\u958b\u767c\u6280\u5de7\u2014\u2014\u5118\u7ba1\u4eba\u5011\u61c9\u8a72\u53ea\u9700\u8981\u66f4\u65b0\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u3002 \u6b65\u9a5f\uff1a \u958b\u59cb\u61c9\u7814\u7a76 \" \u79fb\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u6d41 \" \u7ae0\u7bc0\u548c \u52d5\u529b\u5b78\u6587\u4ef6 . \u53c3\u8003\u4f4d\u65bcklippy/kinematics/\u76ee\u9304\u5df2\u6709\u7684\u904b\u52d5\u5b78\u985e\u3002\u52d5\u529b\u5b78\u985e\u65e8\u5728\u5c07\u4e00\u500b\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\u7684\u904b\u52d5\u8f49\u5316\u70ba\u5404\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u904b\u52d5\u3002\u5efa\u8b70\u8907\u88fd\u5df2\u6709\u7684\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5728\u5176\u57fa\u790e\u4e0a\u9032\u884c\u4fee\u6539\u3002 \u82e5\u9700\u8981\u7684\u904b\u52d5\u5b78\u65b9\u7a0b\u672a\u88abKlipper\u6db5\u84cb\uff0c\u5247\u61c9\u4f7f\u7528C\u8a9e\u8a00\u5be6\u73fe\u65b0\u52d5\u529b\u5b78\u9ad4\u7cfb\u4e2d\u5404\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u4f4d\u7f6e\u65b9\u7a0b\uff08\u898bklippy/chelper/\uff0c\u5982kin_cart.c, kin_corexy.c, and kin_delta.c\uff09\u3002\u4f4d\u7f6e\u65b9\u7a0b\u4e2d\u61c9\u547c\u53eb move_get_coord() \u4ee5\u5c07\u904b\u52d5\u7684\u6642\u9593\u9ede\uff08\u55ae\u4f4d \uff1a\u79d2\uff09\u8f49\u5316\u70ba\u5c0d\u61c9\u7684\u7b1b\u5361\u723e\u5ea7\u6a19\u4f4d\u7f6e\uff08\u55ae\u4f4d\uff1a\u6beb\u7c73\uff09\uff0c\u9032\u800c\u8a08\u7b97\u76ee\u6a19\u6b65\u9032\u96fb\u6a5f\u904b\u52d5\u76ee\u6a19\u4f4d\u7f6e\uff08\u55ae\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 \u5728\u65b0\u7684\u904b\u52d5\u5b78\u985e\u4e2d\u5be6\u73fe calc_position \u65b9\u6cd5\u3002\u8a72\u65b9\u6cd5\u5c07\u901a\u904e\u5404\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u4f4d\u7f6e\u8a08\u7b97\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e0b\u7684\u5217\u5370\u982d\u4f4d\u7f6e\uff1b\u540c\u6642\u8a72\u65b9\u6cd5\u901a\u5e38\u53ea\u5728\u56de\u96f6\u548cz\u63a2\u6e2c\u6642\u4f7f\u7528\uff0c\u56e0\u6b64\u7121\u9700\u904e\u5206\u8ffd\u6c42\u6548\u7387\u3002 \u4e4b\u5f8c\u5be6\u73fe check_move() , get_status() , get_steppers() , home() , set_position() \u65b9\u6cd5\u3002\u9019\u4e9b\u51fd\u5f0f\u7528\u65bc\u7279\u5b9a\u7684\u904b\u52d5\u5b78\u6aa2\u67e5\u3002\u5728\u958b\u767c\u7684\u521d\u671f\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5df2\u6709\u7a0b\u5f0f\u78bc\u3002 \u65b0\u589e\u6e2c\u8a66\u5be6\u4f8b\u3002\u5efa\u7acb\u4e00\u500bG\u7a0b\u5f0f\u78bc\u6a94\u6848\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u7cfb\u5217\u7684\u904b\u52d5\u547d\u4ee4\u7528\u65bc\u6e2c\u8a66\u65b0\u589e\u7684\u904b\u52d5\u5b78\u6a21\u578b\u3002 \u6309\u7167 \u9664\u932f\u6587\u4ef6 \u5c07\u8a72G\u7a0b\u5f0f\u78bc\u6a94\u6848\u8f49\u63db\u70ba\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u5728\u906d\u9047\u56f0\u96e3\u72c0\u6cc1\u548c\u6aa2\u67e5\u6578\u64da\u50b3\u905e\u76f8\u7576\u6709\u7528\u3002 \u79fb\u690d\u5230\u65b0\u7684\u5fae\u63a7\u5236\u5668 \u00b6 \u8a72\u7bc0\u5c07\u4ecb\u7d39\u5c07Klipper\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u79fb\u690d\u5230\u65b0\u67b6\u69cb\u6642\u7684\u4e00\u4e9b\u63d0\u793a\u3002\u8a72\u64cd\u4f5c\u5c07\u9700\u8981\u5c0d\u5d4c\u5165\u5f0f\u958b\u767c\u6709\u4e00\u5b9a\u7684\u8a8d\u8b58\u4e26\u61c9\u6709\u76ee\u6a19\u5fae\u63a7\u5236\u5668\u7684\u958b\u767c\u5e73\u81fa\u3002 \u6b65\u9a5f\uff1a \u9996\u5148\u61c9\u78ba\u5b9a\u79fb\u690d\u6240\u9700\u7684\u7b2c\u4e09\u65b9\u5eab\u3002\u5e38\u898b\u7684\u4f8b\u5b50\u70ba\u300cCMSIS\u300d\u5305\u88dd\u5668\u548c\u5ee0\u5546\u7684\u300cHAL\u300d\u5eab\u3002\u5168\u90e8\u7b2c\u4e09\u65b9\u7a0b\u5f0f\u78bc\u61c9\u9075\u5faa\u6216\u76f8\u5bb9GNU GPLv3\u5354\u8b70\u3002\u7b2c\u4e09\u65b9\u7a0b\u5f0f\u78bc\u61c9\u63d0\u4ea4\u5230Klipper\u7684/lib\u8cc7\u6599\u593e\u3002\u66f4\u65b0lib/README\u8a3b\u660e\u7b2c\u4e09\u65b9\u5eab\u7684\u7372\u53d6\u9014\u5f91\u548c\u66f4\u65b0\u6642\u9593\u3002\u63a8\u85a6\u4e0d\u6539\u8b8a\u5167\u5bb9\uff0c\u76f4\u63a5\u5c07\u7a0b\u5f0f\u78bc\u8907\u88fd\u5230Klipper\uff0c\u4f46\u5982\u679c\u9700\u8981\u9032\u884c\u8b8a\u66f4\uff0c\u61c9\u5c07\u6240\u505a\u7684\u4fee\u6539\u5217\u5728lib/README\u6a94\u6848\u4e2d\u3002 \u5728src/\u4e0b\u65b0\u5efa\u4e00\u500b\u65b0\u67b6\u69cb\u7684\u5b50\u76ee\u9304\uff0c\u4e26\u5efa\u7acb\u5c0d\u61c9\u7684\u521d\u59cbKconfig\u548cMakefile\u3002\u4ee5\u5df2\u6709\u7684\u67b6\u69cb\u4f5c\u70ba\u6a21\u7248\uff0c\u5176\u4e2dsrc/simulator\u7d66\u51fa\u4e86\u5fae\u63a7\u5236\u5668\u67b6\u69cb\u7684\u57fa\u672c\u9700\u6c42\u3002 \u9996\u8981\u4efb\u52d9\u662f\u5728\u76ee\u6a19\u5370\u8868\u6a5f\u4e3b\u677f\u4e0a\u5be6\u73fe\u901a\u8a0a\u3002\u9019\u662f\u589e\u52a0\u652f\u63f4\u4e2d\u6700\u96e3\u7684\u4e00\u6b65\uff0c\u5be6\u73fe\u8a72\u529f\u80fd\u540e\u4e00\u5207\u5c07\u95ca\u7136\u958b\u6717\u3002\u5728\u958b\u8352\u6642\uff0c\u4e00\u822c\u4f7f\u7528\u5e8f\u5217\u532f\u6d41\u6392\u9032\u884c\u958b\u767c\uff0c\u56e0\u70ba\u901a\u5e38\u5e8f\u5217\u532f\u6d41\u6392\u5df2\u65bc\u61c9\u7528\u548c\u63a7\u5236\u3002\u5728\u6b64\u968e\u6bb5\uff0c\u53ef\u5927\u91cf\u4f7f\u7528 src/generic/ \u76ee\u9304\u4e2d\u7684\u4e2d\u7684\u8f14\u52a9\u7a0b\u5f0f\u78bc\uff08\u53ef\u53c3\u8003 src/simulator/Makefile \u4e2d\u5982\u4f55\u5c07\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\u52a0\u5165\u69cb\u5efa\uff09\u3002\u540c\u6642\uff0c\u9700\u8981\u5728\u9019\u968e\u6bb5\u5b8c\u6210 timer_read_time() \u7684\u5b9a\u7fa9\uff08\u7528\u65bc\u7372\u53d6\u73fe\u6642\u7cfb\u7d71\u6642\u9418\uff09\uff0c\u4f46\u7121\u9700\u5b8c\u5168\u5be6\u73fe\u5b9a\u6642\u4e2d\u65b7\u529f\u80fd\u3002 \u4f9d\u7167 \u9664\u932f\u6587\u4ef6 \u719f\u6089console.py\u5de5\u5177\uff0c\u4e26\u4f7f\u7528\u8a72\u5de5\u5177\u8988\u5be6\u5fae\u63a7\u5236\u5668\u7684\u9023\u7dda\u3002\u8a72\u5de5\u5177\u5c07\u5e95\u5c64\u5fae\u63a7\u5236\u5668\u901a\u8a0a\u5354\u8b70\u8f49\u63db\u70ba\u53ef\u8b80\u5f62\u5f0f\u3002 \u589e\u52a0\u5c0d\u786c\u9ad4\u4e2d\u65b7\u7684\u5b9a\u6642\u5668\u6392\u7a0b\u7684\u652f\u63f4\u3002\u53c3\u898b Klipper commit 970831ee \uff0c\u4f5c\u70ba\u91dd\u5c0dLPC176x\u67b6\u69cb\u7684\u6b65\u9a5f1-5\u7684\u4f8b\u5b50\u3002 \u63d0\u4f9b\u57fa\u672c\u7684 GPIO \u8f38\u5165\u548c\u8f38\u51fa\u652f\u63f4\u3002\u53c3\u898b Klipper commit c78b9076 \u4f5c\u70ba\u4e00\u500b\u4f8b\u5b50\u3002 \u555f\u52d5\u5176\u4ed6\u5916\u570d\u88dd\u7f6e-\u53c3\u95b1Klipper\u63d0\u4ea4 65613aed \uff0c c812a40a \uff0c\u548c c381d03a \u7684\u4f8b\u5b50\u3002 \u5728config/\u76ee\u9304\u65b0\u5efa\u4e00\u500b\u914d\u7f6e\u4e8b\u4f8b\uff0c\u4e26\u4f7f\u7528Klipper.py\u7684\u4e3b\u7a0b\u5f0f\u9032\u884c\u8a2d\u5b9a\u3002 \u8003\u616e\u5728test/\u76ee\u9304\u52a0\u5165\u69cb\u5efa\u6e2c\u8a66\u7684\u4e8b\u4f8b\u3002 \u9084\u6709\u4e00\u4e9btips\uff1a \u907f\u514d\u4f7f\u7528\u300cC\u4f4d\u6bb5\u300d\uff08C bitfield\uff09\u8a2a\u554fIO\u66ab\u5b58\u5668\uff1b\u61c9\u4f7f\u7528\u76f4\u63a5\u5c0d32\u4f4d\u300116\u4f4d\u548c8\u4f4d\u7684\u6574\u6578\u8b80\u5beb\u4ee3\u66ff\u3002C\u8a9e\u8a00\u898f\u7bc4\u4e2d\u6c92\u6709\u5c0d\u4f4d\u6bb5\u64cd\u4f5c\u9032\u884c\u6e05\u6670\u5b9a\u7fa9\uff08\u4f8b\u5982\u7aef\u5e8f\u3001\u5b57\u4f48\u5c40\u7b49\uff09\uff0c\u4e14\u5728IO\u64cd\u4f5c\u6642\u4f7f\u7528C\u6bb5\u4f4d\u8b80\u5beb\uff0c\u5c07\u96e3\u4ee5\u78ba\u5b9a\u5177\u9ad4\u9032\u884c\u4e86\u4f55\u7a2eIO\u64cd\u4f5c\u3002 IO\u66ab\u5b58\u5668\u64cd\u4f5c\u6642\u61c9\u4f7f\u7528\u986f\u5f0f\u8ce6\u503c\uff0c\u907f\u514d\u4f7f\u7528\u300c\u8b80-\u6539-\u5beb\u300d\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u5982\u679c\u5728\u4e00\u500bIO\u66ab\u5b58\u5668\u4e2d\u66f4\u65b0\u4e00\u500b\u6b04\u4f4d\uff0c\u800c\u5176\u4ed6\u6b04\u4f4d\u7684\u503c\u662f\u5df2\u77e5\u7684\uff0c\u90a3\u9ebc\u6700\u597d\u662f\u986f\u5f0f\u5730\u5beb\u5165\u66ab\u5b58\u5668\u7684\u5168\u90e8\u5167\u5bb9\u3002\u986f\u5f0f\u5beb\u5165\u7522\u751f\u7684\u7a0b\u5f0f\u78bc\u66f4\u5c0f\uff0c\u66f4\u5feb\uff0c\u66f4\u5bb9\u6613\u9664\u932f\u3002 \u5ea7\u6a19\u7cfb\u8b8a\u63db \u00b6 \u5167\u90e8\u800c\u8a00\uff0cKlipper\u4f7f\u7528\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u8ffd\u8e64\u5217\u5370\u982d\u7684\u4f4d\u7f6e\uff0c\u5176\u5ea7\u6a19\u7cfb\u8a2d\u5b9a\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u5ea7\u6a19\u7cfb\u800c\u8b8a\u5316\u3002\u56e0\u6b64\uff0cKIlipper\u7684\u57f7\u884c\u5728\u7d55\u5927\u90e8\u5206\u60c5\u6cc1\u4e0b\u90fd\u4e0d\u6703\u8b8a\u63db\u5ea7\u6a19\u7cfb\u3002\u5982\u679c\u4f7f\u7528\u8005\u9032\u884c\u539f\u9ede\u7684\u8b8a\u63db\uff08\u5982\u57f7\u884c G92 \u547d\u4ee4\uff09\uff0cKlipper\u6703\u5c07\u5f8c\u7e8c\u547d\u4ee4\u8f49\u5316\u5230\u539f\u59cb\u5ea7\u6a19\u7cfb\u4e0a\u9032\u884c\u57f7\u884c\u3002 \u7136\u800c\uff0c\u5728\u90e8\u5206\u60c5\u6cc1\u4e0b\uff0c\u9700\u8981\u7372\u53d6\u5176\u4ed6\u5ea7\u6a19\u7cfb\u4e2d\u5217\u5370\u982d\u7684\u4f4d\u7f6e\u3002Klipper\u63d0\u4f9b\u6578\u7a2e\u5de5\u5177\u4ee5\u5be6\u73fe\u4e0a\u8ff0\u529f\u80fd\u3002\u57f7\u884cGET_POSITION\u53ef\u4ee5\u7372\u5f97\u4e0a\u8ff0\u6578\u64da\uff0c\u5982\uff1a Send: GET_POSITION Recv: // mcu: stepper_a:-2060 stepper_b:-1169 stepper_c:-1613 Recv: // stepper: stepper_a:457.254159 stepper_b:466.085669 stepper_c:465.382132 Recv: // kinematic: X:8.339144 Y:-3.131558 Z:233.347121 Recv: // toolhead: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode base: X:0.000000 Y:0.000000 Z:0.000000 E:0.000000 Recv: // gcode homing: X:0.000000 Y:0.000000 Z:0.000000 \u300c\u5fae\u63a7\u5236\u5668\u4f4d\u7f6e\u300d\uff08 stepper.get_mcu_position() \uff09\u662f\u5fae\u63a7\u5236\u5668\u6700\u5f8c\u4e00\u6b21\u91cd\u7f6e\u540e\u57f7\u884c\u7684\u300c\u6b63\u5411\u300d\u6b65\u6578\u7e3d\u6578 - \u300c\u8ca0\u5411\u300d\u6b65\u6578\u7e3d\u6578\u7684\u503c\u3002\u5982\u679c\u88dd\u7f6e\u8655\u65bc\u6a5f\u68b0\u904b\u52d5\u6642\uff0c\u8a72\u65b9\u6cd5\u5c07\u8fd4\u56de\u5305\u542b\u904b\u52d5\u7de9\u885d\u5340\u4e2d\u7684\u4f4d\u7f6e\u503c\uff0c\u4f46\u4e0d\u5305\u542b\u9810\u8a08\u4f47\u5217\u4e2d\u7684\u904b\u52d5\u503c\u3002 \u300c\u6b65\u9032\u96fb\u6a5f\u300d\u90e8\u5206\uff08 stepper.get_commanded_position() \uff09\u662f\u904b\u52d5\u5b78\u6a21\u578b\u4e2d\u8a18\u9304\u7684\u7279\u5b9a\u6b65\u9032\u96fb\u6a5f\u4f4d\u7f6e\u3002\u901a\u5e38\u662f\u5c0d\u61c9\u8ecc\u9053\u7684\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u4e2d\u7684position_endstop\u8a2d\u5b9a\u503c\u7684\u6ed1\u8eca\u4f4d\u7f6e\uff08\u55ae\u4f4d\u70ba\u6beb\u7c73\uff0c\u4f46\u90e8\u5206\u8a2d\u5b9a\u4e2d\u4f7f\u7528\u7684\u662f\u5f27\u5ea6\u55ae\u4f4d\u800c\u975e\u7dda\u6027\u55ae\u4f4d\uff09\u3002\u5982\u679c\u5728\u6a5f\u68b0\u904b\u52d5\u6642\u89f8\u767c\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\uff0c\u5247\u8fd4\u56de\u7684\u503c\u70ba\u5fae\u63a7\u5236\u5668\u4e2d\u5feb\u53d6\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9810\u8a08\u4f47\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9810\u8a08\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u547c\u53eb\u5b8c\u5168\u91cd\u65b0\u6574\u7406\u9810\u8a08\u4f47\u5217\u548c\u6b65\u9032\u8108\u885d\u7522\u751f\u7a0b\u5f0f\u78bc\u3002 \u904b\u52d5\u5b78\u4f4d\u7f6e\uff08 kin.cal_position() \uff09\u662f\u5728\u7b1b\u5361\u723e\u5ea7\u6a19\u4e0a\u7684\uff0c\u884d\u751f\u65bc\u6b65\u9032\u96fb\u6a5f\u4f4d\u7f6e\u7684\uff0c\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u4e2dposition_endstop\u503c\u7684\u4f4d\u7f6e\u3002\u7531\u65bc\u6b65\u9032\u96fb\u6a5f\u7684\u89e3\u6790\u5ea6\u539f\u56e0\uff0c\u9019\u53ef\u80fd\u8207\u8acb\u6c42\u7684\u7b1b\u5361\u723e\u5ea7\u6a19\u503c\u4e0d\u4e00\u81f4\u3002\u5982\u679c\u5728\u6a5f\u68b0\u904b\u52d5\u6642\u89f8\u767c\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\uff0c\u5247\u8fd4\u56de\u7684\u503c\u70ba\u5fae\u63a7\u5236\u5668\u4e2d\u5feb\u53d6\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9810\u8a08\u4f47\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9810\u8a08\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u547c\u53eb\u5b8c\u5168\u91cd\u65b0\u6574\u7406\u9810\u8a08\u4f47\u5217\u548c\u6b65\u9032\u8108\u885d\u7522\u751f\u7a0b\u5f0f\u78bc\u3002 \u5217\u5370\u982d\u4f4d\u7f6e\uff08 toolhead.get_position() \uff09\u662f\u6700\u5f8c\u7684\u904b\u52d5\u8acb\u6c42\u5c0d\u61c9\u7684\uff0c\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u9650\u4f4d\u4f4d\u7f6e\u7684\uff0c\u7b1b\u5361\u723e\u5ea7\u6a19\u4e0a\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u3002\u5982\u679c\u5728\u6a5f\u68b0\u904b\u52d5\u6642\u89f8\u767c\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\uff0c\u90a3\u9ebc\u8fd4\u56de\u503c\u6703\u4f9d\u64da\u8acb\u6c42\u904b\u52d5\u5e8f\u5217\u4e2d\u7684\u904b\u52d5\u7d42\u9ede\u7d66\u51fa\uff08\u5118\u7ba1buffer\u4e2d\u7684\u904b\u52d5\u9084\u6c92\u7531\u6b65\u9032\u96fb\u6a5f\u89f8\u767c\uff09\u3002 G\u7a0b\u5f0f\u78bc\u4f4d\u7f6e\u6642\u6700\u5f8c\u4e00\u6b21\u4f4d\u7f6e\u8acb\u6c42\u547d\u4ee4\uff08 G1 \u6216 G0 \uff09\u5c0d\u61c9\u7684\uff0c\u5728\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\u76f8\u5c0d\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u8a2d\u5b9a\u539f\u9ede\u7684\u76f8\u5c0d\u4f4d\u7f6e\u3002\u9019\u53ef\u80fd\u8207\u300c\u5217\u5370\u982d\u4f4d\u7f6e\u300d\u4e0d\u4e00\u81f4\uff0c\u9019\u662f\u56e0\u70baG\u7a0b\u5f0f\u78bc\u4fee\u6b63\u7684\u5f71\u97ff\uff08\u6bd4\u5982\u5e8a\u7db2\uff0c\u5e8a\u50be\u89d2\u4fee\u6b63\uff0c\u8abf\u5e73\u87ba\u6bcd\u4fee\u6b63\uff09\u3002\u9019\u4e5f\u6703\u56e0\u70baG\u7a0b\u5f0f\u78bc\u539f\u9ede\u8b8a\u66f4\uff08\u5982 G92 \uff0c SET_GCODE_OFFSET \uff0c M221 \uff09\u800c\u5c0e\u81f4\u8fd4\u56de\u503c\u8ddf\u6700\u5f8c\u4e00\u6b21 G1 \u547d\u4ee4\u8acb\u6c42\u7684\u4f4d\u7f6e\u4e0d\u4e00\u81f4\u3002 \uff2d114 \u547d\u4ee4\uff08 gcode_move.get_status()[\u300fgcode_position\u300f] \uff09\u6703\u8fd4\u56de\u73fe\u6642G\u7a0b\u5f0f\u78bc\u76f8\u5c0d\u65bc\u6b64\u6642\u7684G\u7a0b\u5f0f\u78bc\u539f\u9ede\u7684\u4f4d\u7f6e\u3002 G\u7a0b\u5f0f\u78bc\u57fa\u6e96\u662f\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u8a2d\u5b9a\u539f\u9ede\u7684\u76f8\u5c0d\u4f4d\u7f6e\u3002\u8af8\u5982 G92 \uff0c SET_GCODE_OFFSET \u548c M221 \u6703\u6539\u8b8a\u7684\u8fd4\u56de\u503c\u3002 G\u7a0b\u5f0f\u78bc\u56de\u96f6\u9ede\u662f\u5728 G28 \u547d\u4ee4\u57f7\u884c\u540eG\u7a0b\u5f0f\u78bc\u539f\u9ede\u3002\u540c\u6a23\uff0c\u8a72\u4f4d\u7f6e\u662f\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\uff0c\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u539f\u9ede\u7684\u4f4d\u7f6e\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u6703\u6539\u8b8a\u8a72\u503c\u3002 \u5b9a\u6642 \u00b6 \u8a72\u7bc0\u5c07\u63cf\u8ff0Klipper\u5982\u4f55\u8655\u7406\u6642\u9418\uff0c\u5b9a\u6642\u548c\u6642\u9593\u6233\u3002Klipper\u901a\u904e\u63d0\u524d\u5b89\u6392\u9700\u8981\u57f7\u884c\u7684\u884c\u70ba\u4e8b\u4ef6\u5f9e\u800c\u57f7\u884c\u52d5\u4f5c\u3002\u4f8b\u5982\uff0c\u8981\u555f\u52d5\u98a8\u6247\uff0c\u7a0b\u5f0f\u78bc\u9700\u8981\u5b89\u6392GPIO\u91dd\u8173\u5728100ms\u540e\u8b8a\u5316\u3002\u7a0b\u5f0f\u78bc\u7acb\u5373\u57f7\u884c\u52d5\u4f5c\u53cd\u800c\u662f\u7f55\u898b\u7684\u72c0\u6cc1\u3002\u56e0\u6b64\uff0cKlipper\u7684\u6b63\u78ba\u57f7\u884c\u96e2\u4e0d\u958b\u5c0d\u6642\u9593\u7684\u7cbe\u78ba\u8655\u7406\u3002 Klipper\u5167\u90e8\u4f7f\u7528\u4e09\u7a2e\u4e0d\u540c\u7684\u6642\u9593\uff1a \u7cfb\u7d71\u6642\u9593\uff08System time\uff09\u3002\u7cfb\u7d71\u6642\u9593\u4f7f\u7528\u7cfb\u7d71\u7684\u55ae\u8abf\u6642\u9418\u3002\u9019\u662f\u4e00\u500b\u4ee5\u79d2\u70ba\u55ae\u4f4d\u5132\u5b58\u7684\u6d6e\u9ede\u6578\uff0c\u5728\u7cfb\u7d71\u555f\u52d5\u540e\u958b\u59cb\u7d2f\u8a08\u3002\u7cfb\u7d71\u6642\u9418\u7684\u7528\u9014\u6709\u9650\uff0c\u901a\u5e38\u53ea\u6703\u5728\u8207\u64cd\u4f5c\u7cfb\u7d71\u9032\u884c\u4e92\u52d5\u6642\u4f7f\u7528\u3002\u5728\u4e0a\u4f4d\u6a5f\u4e2d\uff0c\u7cfb\u7d71\u6642\u9593\u5132\u5b58\u5728 eventtime \u6216 curtime \u8b8a\u6578\u4e2d\u3002 \u5217\u5370\u6642\u9593\uff08Print time\uff09\u3002\u5217\u5370\u6642\u9593\u6703\u8207\u4e3b\u5fae\u63a7\u5236\u5668\u6642\u9418\u540c\u6b65\uff08\u5728\u300c[MCU]\u300d\u8a2d\u5b9a\u6bb5\u4e2d\u5b9a\u7fa9\u7684\u5fae\u63a7\u5236\u5668\u3002\uff09\u9019\u662f\u4e00\u500b\u4ee5\u79d2\u70ba\u55ae\u4f4d\u5132\u5b58\u7684\u6d6e\u9ede\u6578\uff0c\u4e26\u5728\u4e3b\u5fae\u63a7\u5236\u6700\u5f8c\u4e00\u6b21\u555f\u52d5\u540e\u958b\u59cb\u5f9e0\u7d2f\u52a0\u3002\u901a\u904e\u4e58\u4ee5\u8a2d\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u983b\u7387\uff0c\u53ef\u4ee5\u7372\u5f97\u4e3b\u5fae\u63a7\u5236\u5668\u5167\u90e8\u786c\u9ad4\u6642\u9418\u503c\u3002\u4e0a\u5c64\u61c9\u7528\u53ef\u4ee5\u901a\u904e\u5217\u5370\u6642\u9593\u8a08\u7b97\u5e7e\u4e4e\u6240\u6709\u7269\u7406\u884c\u70ba\uff08\u6bd4\u5982\u5217\u5370\u982d\u904b\u52d5\uff0c\u52a0\u71b1\u5668\u8b8a\u52d5\u7b49\uff09\u3002\u5728\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u5217\u5370\u6642\u9593\u901a\u5e38\u5132\u5b58\u5728 print_time \u548c move_time \u8b8a\u6578\u4e2d\u3002 MCU\u6642\u9418\uff0c\u662f\u5404\u500b\u5fae\u63a7\u5236\u5167\u90e8\u7684\u786c\u9ad4\u6642\u9418\u7d2f\u52a0\u5668\u3002\u5b83\u662f\u57fa\u65bc\u5fae\u63a7\u5236\u5668\u8a2d\u5b9a\u983b\u7387\u70ba\u901f\u7387\u9032\u884c\u7d2f\u52a0\u7684\uff0c\u4ee5\u6574\u5f62\u5132\u5b58\u7684\u503c\u3002\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u5c07\u8edf\u9ad4\u5167\u90e8\u6642\u9593\u8f49\u63db\u70bamcu\u6642\u9593\u4e26\u5c07\u547d\u4ee4\u50b3\u8f38\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u5fae\u63a7\u5236\u7a0b\u5f0f\u78bc\u50c5\u5728\u6642\u9418\u8df3\u52d5\u6642\u66f4\u65b0\u548c\u8ffd\u8e64\u6642\u9593\u3002\u5728\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u6642\u9418\u503c\u4ee564\u4f4d\u6574\u5f62\u8a18\u9304\uff0c\u800c\u5fae\u63a7\u5236\u7a0b\u5f0f\u78bc\u5247\u4f7f\u752832\u4f4d\u6574\u5f62\u3002\u5728\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u6642\u9418\u901a\u5e38\u4ee5 clock \u6216 tick \u8b8a\u6578\u5132\u5b58\u3002 \u4e0d\u540c\u6642\u9418\u683c\u5f0f\u7684\u8f49\u63db\u4e3b\u8981\u5728 klipper/clocksync.py \u4e2d\u5be6\u73fe\u3002 \u5728\u6aa2\u67e5\u7a0b\u5f0f\u78bc\u6642\u9700\u8981\u6ce8\u610f\uff1a 32\u4f4d\u548c64\u4f4d\u6642\u9418\uff1a\u7232\u4e86\u964d\u4f4e\u983b\u5bec\u6d88\u8017\u548c\u63d0\u9ad8\u5fae\u63a7\u5236\u5668\u6548\u7387\uff0c\u5fae\u63a7\u5236\u5668\u6642\u9418\u4f7f\u752832\u4f4d\u6574\u5f62\u9032\u884c\u8ffd\u8e64\u3002\u5728\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e2d\u5c0d\u6bd4\u5169\u500b\u6642\u9418\u6642\uff0c\u61c9\u4fdd\u6301\u547c\u53eb time_is_before \u4ee5\u78ba\u5b9a\u6574\u5f62\u6642\u9418\u6c92\u6709\u51fa\u73fe\u6ea2\u51fa\u7684\u60c5\u6cc1\u3002\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u901a\u904e\u5c07\u5fae\u63a7\u5236\u5668\u6700\u5f8c\u4e00\u6b21\u8fd4\u56de\u7684\u6642\u9593\u6233\u7d2f\u52a0\u5230\u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u6642\u9418\u7684\u9ad8\u4f4d\u5730\u5740\u4e2d\uff0c\u4ee5\u5be6\u73fe32\u4f4d\u6642\u9418\u523064\u4f4d\u6642\u9418\u7684\u8f49\u63db\uff0c\u7531\u65bc\u4f86\u81ea\u5fae\u63a7\u5236\u5668\u7684\u8cc7\u8a0a\u4e0d\u53ef\u80fd\u4f86\u81ea2^31\u500b\u6642\u9593\u523b\u5ea6\u7684\u904e\u53bb\u6216\u672a\u4f86\uff0c\u56e0\u6b64\u6642\u9593\u8f49\u63db\u4e0d\u6703\u51fa\u73fe\u932f\u8aa4\u3002\u4e3b\u6a5f\u901a\u904e\u7c21\u55ae\u622a\u65b7\u9ad8\u4f4d\u4e2d\u7684\u503c\uff0c\u5be6\u73fe64\u4f4d\u523032\u4f4d\u7684\u8f49\u63db\u3002\u7232\u4e86\u78ba\u4fdd\u8f49\u63db\u6c92\u6709\u6b67\u7fa9\uff0c klippy/chelper/serialqueque.c \u7a0b\u5f0f\u78bc\u6703\u5feb\u53d6\u8cc7\u8a0a\u76f4\u5230\u7a0b\u5f0f\u78bc\u76ee\u6a19\u6642\u9593\u76842^31\u500b\u6642\u9593\u523b\u5ea6\u5167\u3002 \u8907\u6578\u5fae\u63a7\u5236\u5668\u7684\u60c5\u6cc1\uff1a\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u652f\u63f4\u55ae\u9ad4\u5370\u8868\u6a5f\u4f7f\u7528\u8907\u6578\u5fae\u63a7\u5236\u5668\u3002\u6b64\u6642\uff0c\u5404\u5fae\u63a7\u5236\u5668\u7684\u300c\u5fae\u63a7\u5236\u5668\u6642\u9418\u300d\u5c07\u88ab\u5206\u958b\u8a18\u9304\u3002clocksync.py\u8655\u7406\u5fae\u8655\u7406\u5668\u4e4b\u9593\u7684\u6642\u9593\u98c4\u8b8a\uff0c\u65b9\u6cd5\u5728\u300c\u5217\u5370\u6642\u9593\u300d\u548c\u300c\u5fae\u8655\u7406\u5668\u6642\u9593\u300d\u7684\u8f49\u63db\u65b9\u6cd5\u4e0a\u4fee\u6539\u5f97\u51fa\u3002\u5728\u6b21\u8981\u5fae\u8655\u7406\u4e0a\uff0c\u5fae\u8655\u7406\u5668\u983b\u7387\u88ab\u7528\u65bc\u4e0a\u8ff0\u8655\u7406\uff0c\u4e26\u901a\u904e\u6301\u7e8c\u6e2c\u91cf\u6f02\u8b8a\u5c0d\u6b21\u8981\u5fae\u63a7\u5236\u5668\u983b\u7387\u9032\u884c\u66f4\u65b0\u3002","title":"\u7a0b\u5f0f\u78bc\u7e3d\u89bd"},{"location":"Code_Overview.html#_1","text":"\u672c\u6587\u4ef6\u5c07\u63cf\u8ff0Klipper\u7684\u7a0b\u5f0f\u78bc\u7e3d\u9ad4\u7d50\u69cb\u548c\u7a0b\u5f0f\u78bc\u6d41\u3002","title":"\u7a0b\u5f0f\u78bc\u7e3d\u89bd"},{"location":"Code_Overview.html#_2","text":"src/ \u5305\u542b\u5fae\u63a7\u5236\u5668\u7684C\u539f\u59cb\u78bc\u3002\u5176\u4e2d src/atsam/ , src/atsamd/ , src/avr/ , src/linux/ , src/lpc176x/ , src/pru/ , and src/stm32/ \u70ba\u5c0d\u61c9\u5fae\u8655\u7406\u5668\u67b6\u69cb\u7684\u539f\u59cb\u78bc\u3002 src/simulator/ \u5305\u542b\u6709\u7528\u65bc\u4ea4\u53c9\u7de8\u8b6f\u3001\u6e2c\u8a66\u76ee\u6a19\u5fae\u8655\u7406\u5668\u7684\u7a0b\u5f0f\u78bc\u3002 src/generic/ \u70ba\u5c0d\u4e0d\u540c\u67b6\u69cb\u5747\u6709\u7528\u7684\u7a0b\u5f0f\u78bc\u3002\u7de8\u8b6f\"board/somefile.h\"\u6642\uff0c\u7de8\u8b6f\u5668\u6703\u512a\u5148\u4f7f\u7528 \u67b6\u69cb\u7279\u5b9a\u7684\u76ee\u9304 (\u5373src/avr/somefile.h)\u96a8\u5f8c\u627e\u5c0b\u901a\u7528\u76ee\u9304(\u5373 src/generic/somefile.h)\u3002 klippy/ \u76ee\u9304\u5305\u542b\u4e86\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u3002\u8edf\u9ad4\u5927\u90e8\u5206\u7531Python\u5be6\u73fe\uff0c\u540c\u6642 klippy/chelper/ \u76ee\u9304\u5305\u542b\u4e86\u7531C\u5be6\u73fe\u7684\u6709\u7528\u7a0b\u5f0f\u78bc\u3002 klippy/kinematics/ \u76ee\u9304\u5305\u542b\u6a5f\u68b0\u904b\u52d5\u5b78\u7684\u5be6\u73fe\u7a0b\u5f0f\u78bc\u3002 klippy/extras/ \u76ee\u9304\u5305\u542b\u4e86\u4e0a\u4f4d\u6a5f\u7684\u64f4\u5efa\u6a21\u7d44(\"modules\")\u3002 lib/ \u5305\u542b\u4e86\u69cb\u5efa\u5fc5\u9808\u7684\u7b2c\u4e09\u65b9\u5eab\u7a0b\u5f0f\u78bc\u3002 config/ \u5305\u542b\u4e86\u5370\u8868\u6a5f\u914d\u7f6e\u7684\u5be6\u4f8b\u6a94\u6848\u3002 scripts/ \u76ee\u9304\u5305\u542b\u4e86\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u6642\u6709\u7528\u7684\u6307\u4ee4\u78bc\u3002 test/ \u76ee\u9304\u5305\u542b\u4e86\u81ea\u52d5\u6e2c\u8a66\u793a\u4f8b\u3002 \u5728\u7de8\u8b6f\u904e\u7a0b\u91cd\uff0c\u7de8\u8b6f\u5668\u6703\u69cb\u5efa out/ \u76ee\u9304\u3002\u8a72\u76ee\u9304\u5305\u542b\u69cb\u5efa\u6642\u7684\u81e8\u6642\u6a94\u6848\u3002\u5c0d\u65bcAVR\u67b6\u69cb\uff0c\u7de8\u8b6f\u5668\u8f38\u51fa\u7684\u70ba out/klipper.elf.hex \uff0c\u800c\u5c0dARM\u67b6\u69cb\u5247\u70ba out/klipper.bin \u3002","title":"\u8cc7\u6599\u593e\u7d50\u69cb"},{"location":"Code_Overview.html#_3","text":"\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u78bc\u5f9e\u5c0d\u61c9\u67b6\u69cb\u7684\u7a0b\u5f0f\u78bc(\u5373 src/avr/main.c )\u958b\u59cb\u57f7\u884c\uff0c\u524d\u8ff0\u7a0b\u5f0f\u78bc\u6703\u6301\u7e8c\u547c\u53eb src/sched.c \u4e2d\u7684 sched_main() \u51fd\u5f0f\u3002sched_main() \u7a0b\u5f0f\u78bc\u6703\u5148\u57f7\u884c\u7d93 DECL_INIT() \u5b8f\u6a19\u8a3b\u7684\u6240\u6709\u51fd\u5f0f\u3002\u4e4b\u5f8c\u5b83\u5c07\u4e0d\u65b7\u91cd\u8907\u57f7\u884c\u7531 DECL_TASK() \u5b8f\u6240\u6a19\u8a3b\u7684\u51fd\u5f0f\u3002 \u5176\u4e2d\u4e00\u500b\u4e3b\u8981\u7684\u4efb\u52d9\u51fd\u5f0f\u70ba src/command.c \u4e2d\u7684command_dispatch()\u3002\u4e0a\u8ff0\u51fd\u5f0f\u7d93\u7531\u5fae\u8655\u7406\u5668\u7279\u5b9a\u7684 \u8f38\u5165/\u8f38\u51fa \u7a0b\u5f0f\u78bc\u547c\u53eb(\u5373 src/avr/serial.c , src/generic/serial_irq.c )\uff0c\u4e26\u57f7\u884c\u8f38\u5165\u6d41\u4e2d\u7684\u547d\u4ee4\u6240\u5c0d\u61c9\u7684\u547d\u4ee4\u51fd\u5f0f\u3002\u547d\u4ee4\u51fd\u5f0f\u901a\u904e DECL_COMMAND() \u5b8f\u9032\u884c\u5b9a\u7fa9 (\u8a73\u60c5\u53c3\u7167 \u5354\u8b70 \u6587\u4ef6)\u3002 Task, init, and command functions always run with interrupts enabled (however, they can temporarily disable interrupts if needed). These functions should avoid long pauses, delays, or do work that lasts a significant time. (Long delays in these \"task\" functions result in scheduling jitter for other \"tasks\" - delays over 100us may become noticeable, delays over 500us may result in command retransmissions, delays over 100ms may result in watchdog reboots.) These functions schedule work at specific times by scheduling timers. \u5b9a\u6642\u51fd\u5f0f\u901a\u904e\u547c\u53ebsched_add_timer() (\u5373 src/sched.c )\u65b9\u6cd5\u9032\u884c\u8a3b\u518a\u3002\u6392\u7a0b\u5668\u6703\u5728\u8a2d\u5b9a\u7684\u6642\u9593\u9ede\u5c0d\u8a3b\u518a\u7684\u51fd\u5f0f\u9032\u884c\u547c\u53eb\u3002\u5b9a\u6642\u5668\u4e2d\u65b7\u6703\u5728\u5fae\u8655\u7406\u5668\u67b6\u69cb\u7279\u5b9a\u7684\u521d\u59cb\u5316\u8655\u7406\u5668\u4e2d\u8655\u7406(\u4f8b\u5982 src/avr/timer.c )\uff0c\u8a72\u7a0b\u5f0f\u78bc\u6703\u547c\u53eb src/sched.c \u4e2d\u7684sched_timer_dispatch()\u3002\u901a\u904e\u5b9a\u6642\u5668\u4e2d\u65b7\u57f7\u884c\u8a3b\u518a\u7684\u5b9a\u6642\u51fd\u5f0f\u3002\u5b9a\u6642\u51fd\u5f0f\u7e3d\u5728\u4e2d\u65b7\u7981\u7528\u4e0b\u57f7\u884c\u3002\u5b9a\u6642\u51fd\u5f0f\u61c9\u7e3d\u80fd\u5728\u6578\u5fae\u79d2\u5167\u5b8c\u6210\u3002\u5728\u5b9a\u6642\u51fd\u5f0f\u7d50\u675f\u6642\uff0c\u8a72\u51fd\u5f0f\u53ef\u5c0d\u81ea\u8eab\u9032\u884c\u91cd\u65b0\u5b9a\u6642\u3002 \u5982\u679c\u4e8b\u4ef6\u4e2d\u62cb\u51fa\u932f\u8aa4\uff0c \u7a0b\u5f0f\u78bc\u53ef\u547c\u53ebshutdown()\uff08 src/sched.c \u4e2d\u7684sched_shutdown()\uff09\u3002\u547c\u53ebshutdown()\u6703\u5c0e\u81f4\u6240\u6709\u6a19\u8a18\u70baDECL_SHUTDOWN()\u5b8f\u7684\u51fd\u5f0f\u88ab\u57f7\u884c\u3002shutdown()\u7e3d\u662f\u5728\u7981\u7528\u4e2d\u65b7\u7684\u60c5\u6cc1\u4e0b\u57f7\u884c\u3002 \u5fae\u63a7\u5236\u5668\u7684\u5927\u90e8\u5206\u529f\u80fd\u6d89\u53ca\u5230\u901a\u7528\u8f38\u5165\u8f38\u51fa\u5f15\u8173\uff08GPIO\uff09\u7684\u64cd\u4f5c\u3002\u7232\u4e86\u5f9e\u9ad8\u7d1a\u4efb\u52d9\u7a0b\u5f0f\u78bc\u4e2d\u62bd\u50cf\u51fa\u7279\u5b9a\u67b6\u69cb\u5e95\u5c64\u7a0b\u5f0f\u78bc\uff0c\u6240\u6709\u7684GPIO\u4e8b\u4ef6\u90fd\u5728\u7279\u5b9a\u67b6\u69cb\u7684\u5305\u88dd\u5668\u4e2d\u5be6\u73fe\uff08\u5982\uff0c src/avr/gpio.c \uff09\u3002\u7a0b\u5f0f\u78bc\u4f7f\u7528gcc\u7684\"-flto -fwhole-program \"\u4f86\u512a\u5316\u7de8\u8b6f\uff0c\u4ee5\u5be6\u73fe\u884c\u5167\u51fd\u6578\u7684\u9ad8\u6548\u80fd\u4ea4\u53c9\u7de8\u8b6f\uff0c\u5927\u591a\u6578\u5fae\u5c0f\u7684GPIO\u64cd\u4f5c\u51fd\u5f0f\u5167\u806f\u5230\u5b83\u5011\u7684\u547c\u53eb\u5668\u4e2d\uff0c\u4f7f\u7528\u9019\u4e9bGPIO\u5c07\u6c92\u6709\u4efb\u4f55\u57f7\u884c\u6642\u6210\u672c\u3002","title":"\u5fae\u8655\u7406\u5668\u7684\u7a0b\u5f0f\u78bc\u6d41"},{"location":"Code_Overview.html#_4","text":"\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\uff08klippy\uff09\u57f7\u884c\u5728\u5ec9\u50f9\u8a08\u7b97\u6a5f\uff08\u5982 \u6a39\u8393\u6d3e\uff09\u4e0a\uff0c\u914d\u642dmcu\u4f7f\u7528\u3002\u8a72\u7a0b\u5f0f\u7684\u4e3b\u8981\u7a0b\u5f0f\u8a9e\u8a00\u70baPython\uff0c\u540c\u6642\u90e8\u5206\u529f\u80fd\u901a\u904eCFFI\u5728C\u8a9e\u8a00\u4e0a\u5be6\u73fe\u3002 \u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u901a\u904e klippy/klippy.py \u521d\u59cb\u5316\u3002\u8a72\u6a94\u6848\u6703\u8b80\u53d6\u547d\u4ee4\u5217\u53c3\u6578\uff0c\u6253\u958b\u5370\u8868\u6a5f\u7684\u8a2d\u5b9a\u6a94\u6848\uff0c\u5be6\u4f8b\u5316\u5370\u8868\u6a5f\u7684\u4e3b\u8981\u6a21\u7d44\uff0c\u4e26\u555f\u7528\u4e32\u5217\u57e0\u901a\u8a0a\u3002G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u7684\u57f7\u884c\u5247\u901a\u904e klippy/gcode.py \u4e2d\u7684 process_commands() \u65b9\u6cd5\u5be6\u73fe\u3002\u6b64\u7a0b\u5f0f\u78bc\u5c07G\u7a0b\u5f0f\u78bc\u8f49\u5316\u70ba\u5370\u8868\u6a5f\u7684\u5c0d\u8c61\u547c\u53eb\uff0c\u5b83\u5c07\u983b\u7e41\u5730\u5c07G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u8f49\u5316\u70ba\u5fae\u63a7\u5236\u5668\u7684\u884c\u52d5\u6307\u4ee4\uff08\u901a\u904e\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e2d\u7684 DECL_COMMAND \u9032\u884c\u8072\u660e\uff09\u3002 Klippy\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u5305\u542b\u56db\u500b\u7a0b\u5e8f\u3002\u4e3b\u57f7\u884c\u7dd2\u7528\u65bc\u8655\u7406\u8f38\u5165\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002\u7b2c\u4e8c\u57f7\u884c\u7dd2\u901a\u904e\u4e32\u5217\u57e0\u5be6\u73fe\u5e95\u5c64IO\u7684\u8655\u7406\uff08\u7a0b\u5f0f\u78bc\u4f4d\u65bc klippy/chelper/serialqueue.c \u4ee5C\u8a9e\u8a00\u5be6\u73fe\uff09\u3002\u7b2c\u4e09\u57f7\u884c\u7dd2\u5247\u901a\u904ePython\u7a0b\u5f0f\u78bc\u8655\u7406\u5fae\u63a7\u5236\u5668\u8fd4\u56de\u7684\u8cc7\u8a0a\uff08\u53c3\u7167 klippy/serialhdl.py\uff09\u3002\u7b2c\u56db\u57f7\u884c\u7dd2\u5247\u8ca0\u8cac\u5c07Debug\u8cc7\u8a0a\u5beb\u5165\u5230\u65e5\u8a8c\u6a94\u6848(\u898b klippy/queuelogger.py )\uff0c\u7531\u6b64\uff0c\u5176\u4ed6\u57f7\u884c\u7dd2\u7684\u57f7\u884c\u5c07\u4e0d\u6703\u963b\u585e\u65e5\u8a8c\u7684\u5beb\u5165\u3002","title":"\u7a0b\u5f0f\u78bc\u7e3d\u89bd"},{"location":"Code_Overview.html#_5","text":"\u5178\u578b\u7684\u5370\u8868\u6a5f\u904b\u52d5\u59cb\u65bcklipper\u4e0a\u4f4d\u6a5f\u63a5\u6536\u5230\"G1\"\u547d\u4ee4\uff0c\u4e26\u5728\u5fae\u63a7\u5236\u5668\u767c\u51fa\u5c0d\u61c9\u7684\u6b65\u9032\u8108\u885d\u7d50\u675f\u3002\u672c\u7bc0\u5c07\u7c21\u8ff0\u5178\u578b\u904b\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u6d41\u3002 \u904b\u52d5\u5b78 \u6587\u4ef6\u5c07\u66f4\u70ba\u7d30\u7dfb\u7684\u63cf\u8ff0\u904b\u52d5\u7684\u6a5f\u68b0\u539f\u7406\u3002 \u79fb\u52d5\u547d\u4ee4\u7684\u8655\u7406\u59cb\u65bcgcode.py\uff0c\u8a72\u7a0b\u5f0f\u78bc\u5c07G\u7a0b\u5f0f\u78bc\u8f49\u5316\u70ba\u5167\u90e8\u547c\u53eb\u3002G1\u547d\u4ee4\u5c07\u547c\u53ebklippy/extras/gcode_move.py\u4e2d\u7684cmd_G1()\u51fd\u5f0f\u3002gcode_move.py\u4e2d\u7684\u7a0b\u5f0f\u78bc\u5c07\u8655\u7406 \u539f\u9ede\u8b8a\u63db\uff08G92\uff09\uff0c\u7d55\u5c0d\u5ea7\u6a19\u6a21\u5f0f\uff08G90\uff09\u548c\u55ae\u4f4d\u8b8a\u63db\uff08\u5982F6000=100mm/s\uff09\u3002\u4e00\u500b\u79fb\u52d5\u547d\u4ee4\u7684\u8655\u7406\u8def\u5f91\u70ba\uff1a _process_data() -> _process_commands() -> cmd_G1() \u3002\u6700\u7d42\u5c07\u547c\u53ebToolHead\u985e\u7684\u65b9\u6cd5\u5be6\u73fe\u79fb\u52d5 cmd_G1() -> ToolHead.move() \u3002 ToolHead\u985e\uff08\u4f4d\u65bctoolhead.py\uff09\u8655\u7406\u300c\u524d\u77bb\u300d\u884c\u70ba\u548c\u8a18\u9304\u5217\u5370\u7684\u6642\u9593\u9ede\u3002\u79fb\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u8def\u5f91\u70ba ToolHead.move() -> MoveQueue.add_move() -> MoveQueue.flush() -> Move.set_junction() -> ToolHead._process_moves() \u3002 ToolHead.move()\u5c07\u5efa\u7acb\u4e00\u500bMove()\u5c0d\u50cf\u5be6\u4f8b\uff0c\u5176\u4e2d\u5c07\u5305\u542b\u79fb\u52d5\u7684\u53c3\u6578\uff08\u5728\u7b1b\u5361\u723e\u7a7a\u9593\u4e2d\uff0c\u4e26\u9019\u4e9b\u53c3\u6578\u4ee5mm\u548cs\u70ba\u55ae\u4f4d\uff09\u3002 kinematics\u985e\u5c07\u6aa2\u67e5\u6bcf\u500b\u904b\u52d5\u547d\u4ee4\uff08 ToolHead.move() -> kin.check_move() \uff09\u3002\u5404\u7a2ekinematics\u985e\u5b58\u653e\u4e8e klippy/kinematics/ \u76ee\u9304\u3002check_move()\u80fd\u5728\u904b\u52d5\u547d\u4ee4\u4e0d\u5408\u7406\u6642\u62cb\u51fa\u932f\u8aa4\u3002\u5982\u679c check_move()\u6210\u529f\uff0c\u9019\u610f\u5473\u8457\u5370\u8868\u6a5f\u5fc5\u5b9a\u80fd\u5b8c\u6210\u904b\u52d5\u547d\u4ee4\u3002 MoveQueue.add_move()\u5c07\u4e00\u500bmove\u5be6\u4f8b\u65b0\u589e\u5230\u300c\u524d\u77bb\u300d\u4f47\u5217\u3002 MoveQueue.flush()\u5c07\u9032\u884c\u6bcf\u6b21\u904b\u52d5 \u8d77\u59cb\u548c\u7d50\u675f \u901f\u5ea6\u3002 Move.set_junction()\u5be6\u73fe\u79fb\u52d5\u7684\u300c\u68af\u5f62\u52a0\u6e1b\u901f\uff08trapezoid generator\uff09\u300d\u3002\u300c\u68af\u5f62\u52a0\u6e1b\u901f\u300d\u5c07\u6bcf\u6b21\u79fb\u52d5\u62c6\u5206\u70ba\u4e09\u90e8\u5206\uff1a\u6052\u52a0\u901f\u5ea6\u52a0\u901f\u968e\u6bb5\u3001\u6052\u901f\u5ea6\u968e\u6bb5\u3001\u6052\u52a0\u901f\u5ea6\u6e1b\u901f\u968e\u6bb5\u3002\u6240\u6709\u79fb\u52d5\u5747\u542b\u6709\u4e0a\u8ff0\u4e09\u500b\u968e\u6bb5\uff0c\u4f46\u55ae\u500b\u968e\u6bb5\u7684\u6301\u7e8c\u6642\u9593\u53ef\u80fd\u70ba0\u3002 \u7576ToolHead._process_moves()\u88ab\u547c\u53eb\u6642\uff0c\u4e00\u6b21\u79fb\u52d5\u7684\u6240\u6709\u8981\u7d20\u5747\u5df2\u5c31\u7dd2\u2014\u2014\u79fb\u52d5\u7684\u8d77\u59cb\u4f4d\u7f6e\u3001\u7d50\u675f\u4f4d\u7f6e\u3001\u52a0\u901f\u5ea6\u3001\u8d77\u59cb/\u5de1\u822a/\u7d50\u675f\u901f\u5ea6\u3001\u4ee5\u53ca\u8d77\u59cb/\u5de1\u822a/\u7d50\u675f\u7684\u8ddd\u96e2\u3002\u6240\u6709\u8cc7\u8a0a\u4ee5\u7b1b\u5361\u723e\u5ea7\u6a19\u7684\u5f62\u5f0f\u5132\u5b58\u5728Move()\u5be6\u4f8b\u4e2d\uff0c\u55ae\u4f4d\u70bamm\u548cs\u3002 Klipper\u4f7f\u7528 \u8fed\u4ee3\u6c42\u89e3 \u7684\u65b9\u5f0f\u7522\u751f\u6b65\u9032\u96fb\u6a5f\u7684\u6bcf\u6b65\u7684\u6642\u9577\u3002\u7232\u4e86\u63d0\u9ad8\u6548\u7387\uff0c\u6b65\u9032\u8108\u885d\u6642\u9593\u662f\u4ee5C\u8a9e\u8a00\u7a0b\u5f0f\u78bc\u7522\u751f\u3002\u4e00\u500b\u904b\u52d5\u5148\u7d93\u904e\u300c\u68af\u5f62\u904b\u52d5\u4f47\u5217\u5316\u300d \uff1a ToolHead._process_moves() -> trapq_append() (\u4f4d\u65bc klippy/chelper/trapq.c)\uff0c\u7136\u5f8c\u7522\u751f\u6b65\u9032\u6642\u9593 ToolHead._process_moves() -> ToolHead._update_move_time() -> MCU_Stepper.generate_steps() -> itersolve_generate_steps() -> itersolve_gen_steps_range() (\u4f4d\u65bc klippy/chelper/itersolve.c)\u3002\u8fed\u4ee3\u6c42\u89e3\u5668\u901a\u904e\u4e00\u500b\u6642\u9593-\u4f4d\u7f6e\u65b9\u7a0b\u8a08\u7b97\u51fa\u6b65\u9032\u6642\u9593\u3002\u6c42\u89e3\u6642\u901a\u904e\u300c\u5047\u5b9a\u300d\u6642\u9593\u9ede\uff0c\u4ee5\u6642\u9593-\u4f4d\u7f6e\u65b9\u7a0b\u8a08\u7b97\u51fa\u4e0b\u4e00\u6b65\u7684\u4f4d\u7f6e\u3002\u5982\u679c\u8a08\u7b97\u7d50\u679c\u8207\u5be6\u969b\u9700\u6c42\u7684\u4e0b\u4e00\u6b65\u4f4d\u7f6e\u4e00\u81f4\uff0c\u5047\u5b9a\u503c\u5c07\u7528\u65bc\u5be6\u969b\u904b\u52d5\uff1b\u5426\u5247\uff0c\u901a\u904e\u8a08\u7b97\u7d50\u679c\u5c0d\u300c\u5047\u5b9a\u6642\u9593\u300d\u9032\u884c\u4fee\u6b63\uff0c\u4e26\u9032\u884c\u4e0b\u4e00\u6b21\u8a66\u7b97\u3002\u9019\u7a2e\u53cd\u994b\u65b9\u5f0f\u6703\u4f7f\u8fed\u4ee3\u5feb\u901f\u6536\u6582\u3002\u904b\u52d5\u5b78\u6240\u4f7f\u7528\u7684\u6642\u9593-\u4f4d\u7f6e\u51fd\u5f0f\u4f4d\u65bc klippy/chelper/ \u76ee\u9304 (\u4f8b\u5982, kin_cart.c, kin_corexy.c, kin_delta.c, kin_extruder.c)\u3002 \u9700\u8981\u6ce8\u610f\uff0c\u64e0\u51fa\u6a5f\u6709\u7368\u7279\u7684\u904b\u52d5\u5b78\u6a21\u578b\uff0c\u4f7f\u7528 ToolHead._process_moves() -> PrinterExtruder.move() \u985e\u7e7c\u7e8c\u5be7\u8655\u7406\u3002\u5118\u7ba1\u64e0\u51fa\u6a5f\u4f7f\u7528\u4e86\u7368\u7acb\u7684Move()\u985e\uff0c\u7531\u65bcMove() \u5be6\u4f8b\u5305\u542b\u4e86\u5be6\u969b\u904b\u52d5\u7684\u6642\u9593\uff0c\u4e26\u4e14\u8108\u885d\u6642\u9593\u7684\u88dd\u7f6e\u662f\u5b9a\u6642\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u56e0\u6b64\u7531\u64e0\u51fa\u6a5f\u985e\u7522\u751f\u7684\u6b65\u9032\u904b\u52d5\u5c07\u8207\u5217\u5370\u982d\u7684\u904b\u52d5\u540c\u6b65\u3002 \u7576\u8fed\u4ee3\u8a08\u7b97\u5668\u8a08\u7b97\u51fa\u6b65\u9032\u6642\u9577\u540e\uff0c\u8a08\u7b97\u7d50\u679c\u5c07\u88ab\u7f6e\u65bc\u4e00\u500b\u9663\u5217\u4e2d\uff1a itersolve_gen_steps_range() -> stepcompress_append() (\u4f4d\u65bc klippy/chelper/stepcompress.c)\u3002\u9663\u5217(\u7d50\u69cb\u9ad4 stepcompress.queue)\u5132\u5b58\u6bcf\u4e00\u6b65\u5c0d\u61c9\u7684\u5fae\u8655\u7406\u5668\u6642\u9418\u8a08\u6578\u5668\u6642\u9593\u3002\u4e0a\u8ff0\u7684\u300c\u5fae\u8655\u7406\u5668\u8a08\u6578\u5668\u300d\u7684\u503c\u6307\u7684\u662f\u5fae\u8655\u7406\u5668\u786c\u9ad4\u4e0a\u7684\u8a08\u6578\u5668\u2014\u2014\u5176\u503c\u57fa\u65bc\u5fae\u8655\u7406\u5668\u6700\u5f8c\u4e00\u6b21\u4e0a\u96fb\u800c\u5b9a\u3002 \u63a5\u4e0b\u4f86\u91cd\u8981\u7684\u662f\uff0c\u5c0d\u6b65\u9032\u6578\u64da\u9032\u884c\u58d3\u7e2e\uff1a stepcompress_flush() -> compress_bisect_add() (\u4f4d\u65bc klippy/chelper/stepcompress.c)\u3002\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\u5c07\u57fa\u65bc\u524d\u8ff0\u7684 \u6b65\u9032\u6642\u9593\u5217\u8868 \u7522\u751f\u548c\u7de8\u78bc\u4e00\u7cfb\u5217\u7684\u5fae\u63a7\u5236\u5668\"queue_step\"\uff08\u4f47\u5217\u6b65\u9032\uff09\u547d\u4ee4\u3002\u9019\u4e9b\"queue_step\"\u547d\u4ee4\u5c07\u88ab\u4f47\u5217\u5316\uff0c\u512a\u5148\u8655\u7406\uff0c\u4f75\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u4e2d\uff08\u4e0a\u4f4d\u6a5f\u901a\u904e stepcompress.c:steppersync\uff1b\u4e0b\u4f4d\u6a5f\u901a\u904eserialqueue.c:serialqueue)\uff09\u3002 \u5728\u5fae\u63a7\u5236\u5668\uff0cqueue_step\u547d\u4ee4\u5c07\u7d93\u7531 src/command.c \u8655\u7406\u3002\u6539\u7a0b\u5f0f\u78bc\u5c07\u5c0d\u547d\u4ee4\u9032\u884c\u89e3\u91cb\uff0c\u4e26\u547c\u53eb command_queue_step() \u3002command_queue_step()\uff08\u4f4d\u65bcsrc/stepper.c\uff09\u5c07\u6bcf\u500bqueue_step\u547d\u4ee4\u7684\u53c3\u6578\u9644\u52a0\u5230\u5c0d\u61c9\u7684\u6b65\u9032\u4f47\u5217\u4e2d\u3002\u6b63\u5e38\u57f7\u884c\u4e0b\uff0c\u4e00\u300c\u6b65\u300d\u5c07\u5728\u5176\u57f7\u884c\u524d100ms\u88ab\u89e3\u91cb\u4e26\u52a0\u5165\u4f47\u5217\u3002\u6700\u5f8c\u901a\u904e stepper_event() \u7d50\u675f\u6b65\u9032\u4e8b\u4ef6\u7684\u7522\u751f\u3002\u8a72\u7a0b\u5f0f\u78bc\u6703\u57fa\u65bcqueue_step\u547d\u4ee4\u7684\u53c3\u6578\u7522\u751f\u6b65\u9032\u8108\u885d\uff0c\u4e26\u5b89\u6392\u4e0b\u4e00\u6b21\u6b65\u9032\u8108\u885d\u7522\u751f\u7684\u6642\u9593\u3002\u786c\u9ad4\u5b9a\u6642\u5668\u767c\u51fa\u4e2d\u65b7\uff0c\u5728\u8a2d\u5b9a\u7684\u4e8b\u4ef6\u547c\u53eb\u76f8\u61c9\u7684stepper_event\u3002queue_step\u547d\u4ee4\u7684\u53c3\u6578\u5305\u542b\u300c\u9593\u9694\u300d\u3001\u300c\u8a08\u6578\u300d\u3001\u300c\u589e\u91cf\u300d\u3002\u7e3d\u9ad4\u800c\u8a00\uff0cstepper_event()\u5c07\u57f7\u884c\u4e0b\u5217\u5167\u5bb9\uff0c\u300c\u8a18\u9304\u6642\u9593\u300d: do_step(); next_wake_time = last_wake_time + interval; interval += add; \u4e0a\u9762\u7684\u904b\u52d5\u904e\u7a0b\u770b\u4f3c\u5341\u5206\u8907\u96dc\u3002\u7136\u800c\uff0c\u771f\u6b63\u9700\u8981\u6ce8\u610f\u7684\u53ea\u6709ToolHead\uff08\u5217\u5370\u982d\uff09 \u548c kinematic \uff08\u904b\u52d5\u5b78\uff09\u985e\uff0c\u4e0a\u8ff0\u5169\u500b\u985e\u7684\u7a0b\u5f0f\u78bc\u78ba\u5b9a\u4e86\u904b\u52d5\u57f7\u884c\u548c\u5b9a\u6642\u3002\u5269\u4e0b\u7684\u7a0b\u5f0f\u78bc\u50c5\u7528\u65bc\u8655\u7406\u901a\u8a0a\u548c\u7ba1\u9053\u7684\u554f\u984c\u3002","title":"\u5178\u578b\u904b\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u6d41"},{"location":"Code_Overview.html#_6","text":"Klippy\u4e0a\u4f4d\u6a5f\u7684\u4e3b\u7a0b\u5f0f\u80fd\u5c0d\u6a21\u7d44\u9032\u884c\u71b1\u8f09\u5165\u3002\u5982\u679c\u8a2d\u5b9a\u6a94\u6848\u4e2d\u51fa\u73fe\u4e86\u985e\u4f3c\"[my_module]\" \u7684\u6b04\u4f4d\u540d\uff0c\u7a0b\u5f0f\u6703\u81ea\u52d5\u5617\u8a66\u8f09\u5165 klippy/extras/my_module.py \u6a94\u6848\u5167\u7684\u6a21\u7d44\u3002Klipper\u63a8\u85a6\u4f7f\u7528\u4e0a\u8ff0\u65b9\u5f0f\u64f4\u5145\u5957\u4ef6Klipper\u529f\u80fd\u3002 \u65b0\u589e\u6a21\u7d44\u7684\u6700\u7c21\u55ae\u7684\u65b9\u5f0f\u662f\u53c3\u7167\u5df2\u6709\u7684\u6a21\u7d44 - \u4e0b\u9762\u5c07\u4ee5 klippy/extras/servo.py \u4f5c\u70ba\u4f8b\u5b50\u3002 \u4e0b\u9762\u662f\u53e6\u4e00\u4e9b\u6709\u7528\u7684\u8cc7\u8a0a\uff1a \u6a21\u7d44\u7684\u904b\u4f5c\u8d77\u59cb\u65bc\u6a21\u7d44\u7d1a\u5225\u7684 load_config() \u51fd\u5f0f\uff08\u91dd\u5c0d\u5f62\u5982 [my_module] \u7684\u914d\u7f6e\u584a\uff09\u6216 load_config_prefix() \uff08\u5c0d [my_module my_name] \u914d\u7f6e\u584a\uff09\u3002\u8a72\u65b9\u6cd5\u5c07\u63a5\u53d7\u4e00\u500b \"config\" \u5c0d\u8c61\u4e26\u5fc5\u9808\u8fd4\u56de\u4e00\u500b\u8207\u76ee\u6a19\u529f\u80fd\u76f8\u95dc\u7684\u65b0\"printer object\"\u3002 \u5728\u5efa\u7acb\u65b0\"printer object\"\u7684\u5be6\u4f8b\u6642\uff0c\u53ef\u4ee5\u4f7f\u7528\"config\"\u5c0d\u50cf\u8b80\u53d6\u914d\u7f6e\u6a94\u6848\u4e2d\u76f8\u61c9\u914d\u7f6e\u584a\u4e2d\u7684\u8cc7\u8a0a\u3002\u6b64\u6642\u53ef\u4f7f\u7528 config.get() \uff0c config.getfloat() \uff0c config.getint() \u7b49\u65b9\u6cd5\u3002\u61c9\u78ba\u4fdd\u6240\u9700\u7684\u53c3\u6578\u5728 \"printer object\" \u69cb\u5efa\u968e\u6bb5\u6642\u5b8c\u6210\u8b80\u53d6\u3002\u5982\u679c\u4f7f\u7528\u8005\u53c3\u6578\u6c92\u6709\u5728\u8a72\u968e\u6bb5\u5b8c\u6210\u8b80\u53d6\uff0c\u7a0b\u5f0f\u5c07\u8a8d\u70ba\u9019\u662f\u914d\u7f6e\u4e2d\u7684\u932f\u5b57\uff0c\u4e26\u62cb\u51fa\u7570\u5e38\u3002 \u4f7f\u7528 config.get_printer() \u65b9\u6cd5\u7372\u53d6\u4e3b\"printer\"\u985e\u7684\u5f15\u7528\u3002\u8a72\"printer\"\u985e\u5132\u5b58\u4e86\u6240\u6709\u5be6\u4f8b\u5316\u4e86\u7684\"printer objects\"\u7684\u5f15\u7528\u3002\u4f7f\u7528 printer.lookup_object() \u65b9\u6cd5\u7372\u53d6\u5176\u4ed6\"printer objects\"\u7684\u5f15\u7528\u3002\u5e7e\u4e4e\u5168\u90e8\u7684\u529f\u80fd\uff08\u5305\u62ec\u904b\u52d5\u63a7\u5236\u6a21\u7d44\uff09\u90fd\u5305\u88dd\u70ba\"printer objects\"\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7576\u4e00\u500b\u65b0\u6a21\u7d44\u5be6\u4f8b\u5316\u7684\u6642\u5019\uff0c\u4e26\u975e\u6240\u6709\u5176\u4ed6\u7684\"printer objects\"\u5747\u5df2\u5b8c\u6210\u5be6\u4f8b\u5316\u3002\u5176\u4e2d\"gcode\"\u548c\"pins\"\u6a21\u7d44\u7e3d\u662f\u53ef\u7528\uff0c\u4f46\u5c0d\u65bc\u5176\u4ed6\u6a21\u7d44\u6700\u597d\u63a8\u9072\u67e5\u8a62\u3002 \u5982\u679c\u7a0b\u5f0f\u78bc\u9700\u8981\u5728\u5176\u4ed6\"printer objects\"\u767c\u8d77\u4e8b\u4ef6\uff08event\uff09\u6642\u88ab\u547c\u53eb\uff0c\u53ef\u901a\u904e printer.register_event_handler() \u8a3b\u518a\u4e8b\u4ef6\u8655\u7406\u51fd\u5f0f\u3002\u6bcf\u500b\u4e8b\u4ef6\u7684\u540d\u7a31\u662f\u4e00\u500b\u5b57\u4e32\uff0c\u6309\u7167\u6163\u4f8b\uff0c\u5b83\u662f\u5f15\u767c\u8a72\u4e8b\u4ef6\u7684\u4e3b\u8981\u6e90\u6a21\u7d44\u7684\u540d\u7a31\uff0c\u4ee5\u53ca\u6b63\u5728\u767c\u751f\u7684\u52d5\u4f5c\u7684\u7c21\u77ed\u540d\u7a31\uff08\u4f8b\u5982\uff0c\"klippy:connect\"\uff09\u3002\u50b3\u905e\u7d66\u4e8b\u4ef6\u8655\u7406\u51fd\u5f0f\u7684\u53c3\u6578\u56e0\u8655\u7406\u51fd\u5f0f\u800c\u7570\uff08\u7570\u5e38\u8655\u7406\u548c\u57f7\u884c\u74b0\u5883\u4e5f\u662f\u5982\u6b64\uff09\u3002\u5e38\u898b\u7684\u5169\u7a2e\u8d77\u59cb\u4e8b\u4ef6\u70ba\uff1a klippy:connect - \u8a72\u4e8b\u4ef6\u5728\u6240\u6709 \"printer objects\" \u5be6\u4f8b\u5316\u540e\u767c\u8d77\u3002\u5b83\u901a\u5e38\u7528\u65bc\u67e5\u8a62\u5176\u4ed6\"printer objects\"\uff0c\u8988\u5be6\u914d\u7f6e\uff0c\u4e26\u8207mcu\u9032\u884c\u521d\u59cb\u63e1\u624b\u3002 klippy:ready - \u8a72\u4e8b\u4ef6\u5728\u6240\u6709connect\u8655\u7406\u7a0b\u5f0f\u6210\u529f\u5730\u5b8c\u6210\u5f8c\u767c\u8d77\u3002\u5b83\u610f\u5473\u8457\u5370\u8868\u6a5f\u8f49\u70ba\u7b49\u5f85\u5e38\u898f\u6307\u4ee4\u7684\u5f85\u547d\u72c0\u614b\u3002\u4e0d\u61c9\u5728\u8a72\u56de\u8abf\u51fd\u5f0f\u4e2d\u62cb\u51fa\u7570\u5e38\u3002 \u5982\u679c\u4f7f\u7528\u8005\u914d\u7f6e\u4e2d\u5b58\u5728\u932f\u8aa4\uff0c\u61c9\u5728 load_config() \u6216\u9023\u7dda\u4e8b\u4ef6\uff08connect event\uff09\u4e2d\u62cb\u51fa\u7570\u5e38\u3002\u4f7f\u7528 raise config.error(\"my error\") \u6216 raise printer.config_error(\"my error\") \u9032\u884c\u544a\u8b66\u3002 \u4f7f\u7528\"pins\"\u6a21\u7d44\u5c0d\u5fae\u63a7\u5236\u5668\u7684\u5f15\u8173\u9032\u884c\u5b9a\u7fa9\uff0c\u4f8b\u5982 printer.lookup_object(\"pins\").setup_pin(\"pwm\", config.get(\"my_pin\")) \u3002\u6b64\u5f8c\uff0c\u57f7\u884c\u6642\uff0c\u53ef\u901a\u904e\u8fd4\u56de\u7684\u5c0d\u8c61\u5c0d\u91dd\u8173\u9032\u884c\u63a7\u5236\u3002 \u5982\u679c\u5370\u8868\u6a5f\u5c0d\u50cf\u4e2d\u5b9a\u7fa9\u4e86 get_status() \u65b9\u6cd5\uff0c\u5247\u5728\u6a21\u7d44\u4e2d\u53ef\u4ee5\u901a\u904e \u5b8f \u6216 API\u670d\u52d9 \u8f38\u51fa \u72c0\u614b\u8cc7\u8a0a \u3002 get_status() \u5fc5\u9808\u8fd4\u56de\u4e00\u500bPython\u5b57\u5178\u5c0d\u8c61\uff0c\u5176\u9375\u9700\u8981\u70ba\u5b57\u4e32\uff0c\u800c\u503c\u61c9\u70ba\u6574\u5f62\u3001\u6d6e\u9ede\u6578\u3001\u5217\u8868\u3001\u5b57\u5178\u3001True\u3001False\u6216\u8005None\u3002\u5143\u7d44\uff08\u6216\u547d\u540d\u5143\u7d44\uff09\u4e5f\u53ef\u4ee5\u4f5c\u70ba\u503c\uff08\u5b83\u5011\u5728API\u670d\u52d9\u4e2d\u5c07\u88ab\u8996\u70ba\u5217\u8868\uff09\u3002\u5217\u8868\u548c\u5b57\u5178\u7684\u8f38\u51fa\u503c\u5fc5\u9808\u70ba\u300c\u4e0d\u53ef\u8b8a\u7684\uff08immutable\uff09\u300d\uff0c\u5373\u5728\u51fd\u5f0f\u5167\uff0c\u5982\u679c get_status() \u9700\u8981\u8f38\u51fa\u4e0a\u8ff0\u578b\u5225\u7684\u5be6\u4f8b\uff0c\u5247\u9700\u8981\u65b0\u5efa\u6216\u8005\u9032\u884c\u6df1\u5c64\u8907\u88fd\uff0c\u5426\u5247API\u670d\u52d9\u6703\u8b58\u5225\u51fa\u8f38\u51fa\u503c\u4e2d\u7684\u5167\u5bb9\u8b8a\u66f4\u3002 \u5982\u679c\u6a21\u7d44\u9700\u8981\u4f7f\u7528\u7cfb\u7d71\u6642\u9418\u6216\u5916\u90e8\u6a94\u6848\u63cf\u8ff0\u7b26\uff0c\u53ef\u901a\u904e printer.get_reactor() \u5c0d\u7372\u53d6\u5168\u57df\u6027\u4e8b\u4ef6\u53cd\u61c9\u5668\u9032\u884c\u8a2a\u554f\uff08event reactor\uff09\u3002\u901a\u904e\u8a72\u53cd\u61c9\u5668\u985e\u53ef\u4ee5\u90e8\u7f72\u5b9a\u6642\u5668\uff0c\u7b49\u5f85\u6a94\u6848\u63cf\u8ff0\u7b26\u8f38\u5165\uff0c\u6216\u8005\u300c\u639b\u8d77\u300d\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u3002 \u4e0d\u61c9\u4f7f\u7528\u5168\u57df\u6027\u8b8a\u6578\u3002\u5168\u90e8\u72c0\u614b\u91cf\u61c9\u5132\u5b58\u4e8e \"printer objects\"\uff0c\u4e26\u901a\u904e load_config() \u9032\u884c\u8a2a\u554f\u3002\u5426\u5247\uff0cRESTART\u547d\u4ee4\u7684\u884c\u70ba\u5c07\u7121\u6cd5\u9810\u6e2c\u3002\u540c\u6a23\uff0c\u4efb\u4f55\u5728\u57f7\u884c\u6642\u6253\u958b\u7684\u5916\u90e8\u6a94\u6848\uff08\u6216\u5957\u63a5\u5b57\uff09\uff0c\u61c9\u5728\"klippy:disconnect\"\u7684\u4e8b\u4ef6\u5167\u8a3b\u518a\u76f8\u61c9\u7684\u56de\u64a5\u51fd\u5f0f\u9032\u884c\u95dc\u9589\u3002 \u61c9\u907f\u514d\u8a2a\u554f\u5176\u4ed6\"printer objects\"\u79c1\u6709\u5c0d\u8c61\u5c6c\u6027\uff08\u6216\u547c\u53eb\u547d\u540d\u4ee5\u4e0b\u5283\u7dda\u958b\u59cb\u7684\u65b9\u6cd5\uff09\u3002\u9075\u5faa\u9019\u4e00\u65b9\u5f0f\u53ef\u65b9\u4fbf\u4e4b\u5f8c\u7684\u8b8a\u66f4\u3002 \u63a8\u85a6\u5728\u985e\u7684\u5de5\u5ee0\u51fd\u5f0f\u4e2d\u5c07\u6240\u6709\u6210\u54e1\u8b8a\u6578\u5be6\u4f8b\u5316\uff08\u5373\u907f\u514d\u4f7f\u7528Python\u7684\u52d5\u614b\u8b8a\u52d5\u6210\u54e1\u8b8a\u6578\u7684\u529f\u80fd\uff09\u3002 \u82e5\u4e00Python\u8b8a\u6578\u5b58\u653e\u6709\u4e00\u6d6e\u9ede\u6578\uff0c\u90a3\u9ebc\u5efa\u8b70\u8a72\u8b8a\u6578\u61c9\u7e3d\u8ce6\u4e88\u6d6e\u9ede\u578b\u5225\u7684\u91cf\uff0c\u4e26\u50c5\u4f7f\u7528\u6d6e\u9ede\u6578\u5e38\u91cf\u9032\u884c\u503c\u904b\u7b97\uff08\u4e26\u7d55\u4e0d\u4f7f\u7528\u6574\u5f62\u5e38\u6578\u9032\u884c\u904b\u7b97\uff09\u3002\u4f8b\u5982\uff0c\u61c9\u4f7f\u7528 self.speed = 1. \u800c\u975e self.speed = 1 \uff0c\u4e26\u4ee5 self.speed = 2. * x \u66ff\u4ee3 self.speed = 2 *x \u3002\u4e00\u81f4\u5730\u4f7f\u7528\u6d6e\u9ede\u503c\u53ef\u4ee5\u907f\u514dPython\u578b\u5225\u8f49\u63db\u4e2d\u96e3\u4ee5\u9664\u932f\u7684\u602a\u7570\u73fe\u8c61\u3002 \u82e5\u9700\u5411 klipper \u6bcd\u5206\u652f\u63d0\u4ea4\u6a21\u7d44\u7684\u7a0b\u5f0f\u78bc\uff0c\u8acb\u5728\u6a21\u7d44\u7a0b\u5f0f\u78bc\u7684\u982d\u90e8\u52a0\u5165\u7248\u6b0a\u8072\u660e\u3002\u8a73\u8acb\u53c3\u8003\u5df2\u6709\u6a21\u7d44\u7684\u683c\u5f0f\u3002","title":"\u65b0\u589e\u4e0a\u4f4d\u6a5f\u6a21\u7d44"},{"location":"Code_Overview.html#_7","text":"\u672c\u7bc0\u5c07\u63d0\u4f9b\u70baKlipper\u589e\u52a0\u65b0\u904b\u52d5\u5b78\u6a21\u578b\u7684\u63d0\u793a\u3002\u9019\u9700\u8981\u5c0d\u76ee\u6a19\u904b\u52d5\u5b78\u65b9\u7a0b\u6709\u6df1\u5165\u7684\u77ad\u89e3\u3002\u9019\u540c\u6642\u9700\u8981\u4e00\u5b9a\u7684\u8edf\u4ef6\u958b\u767c\u6280\u5de7\u2014\u2014\u5118\u7ba1\u4eba\u5011\u61c9\u8a72\u53ea\u9700\u8981\u66f4\u65b0\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u3002 \u6b65\u9a5f\uff1a \u958b\u59cb\u61c9\u7814\u7a76 \" \u79fb\u52d5\u547d\u4ee4\u7684\u7a0b\u5f0f\u78bc\u6d41 \" \u7ae0\u7bc0\u548c \u52d5\u529b\u5b78\u6587\u4ef6 . \u53c3\u8003\u4f4d\u65bcklippy/kinematics/\u76ee\u9304\u5df2\u6709\u7684\u904b\u52d5\u5b78\u985e\u3002\u52d5\u529b\u5b78\u985e\u65e8\u5728\u5c07\u4e00\u500b\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\u7684\u904b\u52d5\u8f49\u5316\u70ba\u5404\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u904b\u52d5\u3002\u5efa\u8b70\u8907\u88fd\u5df2\u6709\u7684\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5728\u5176\u57fa\u790e\u4e0a\u9032\u884c\u4fee\u6539\u3002 \u82e5\u9700\u8981\u7684\u904b\u52d5\u5b78\u65b9\u7a0b\u672a\u88abKlipper\u6db5\u84cb\uff0c\u5247\u61c9\u4f7f\u7528C\u8a9e\u8a00\u5be6\u73fe\u65b0\u52d5\u529b\u5b78\u9ad4\u7cfb\u4e2d\u5404\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u4f4d\u7f6e\u65b9\u7a0b\uff08\u898bklippy/chelper/\uff0c\u5982kin_cart.c, kin_corexy.c, and kin_delta.c\uff09\u3002\u4f4d\u7f6e\u65b9\u7a0b\u4e2d\u61c9\u547c\u53eb move_get_coord() \u4ee5\u5c07\u904b\u52d5\u7684\u6642\u9593\u9ede\uff08\u55ae\u4f4d \uff1a\u79d2\uff09\u8f49\u5316\u70ba\u5c0d\u61c9\u7684\u7b1b\u5361\u723e\u5ea7\u6a19\u4f4d\u7f6e\uff08\u55ae\u4f4d\uff1a\u6beb\u7c73\uff09\uff0c\u9032\u800c\u8a08\u7b97\u76ee\u6a19\u6b65\u9032\u96fb\u6a5f\u904b\u52d5\u76ee\u6a19\u4f4d\u7f6e\uff08\u55ae\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 \u5728\u65b0\u7684\u904b\u52d5\u5b78\u985e\u4e2d\u5be6\u73fe calc_position \u65b9\u6cd5\u3002\u8a72\u65b9\u6cd5\u5c07\u901a\u904e\u5404\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u4f4d\u7f6e\u8a08\u7b97\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e0b\u7684\u5217\u5370\u982d\u4f4d\u7f6e\uff1b\u540c\u6642\u8a72\u65b9\u6cd5\u901a\u5e38\u53ea\u5728\u56de\u96f6\u548cz\u63a2\u6e2c\u6642\u4f7f\u7528\uff0c\u56e0\u6b64\u7121\u9700\u904e\u5206\u8ffd\u6c42\u6548\u7387\u3002 \u4e4b\u5f8c\u5be6\u73fe check_move() , get_status() , get_steppers() , home() , set_position() \u65b9\u6cd5\u3002\u9019\u4e9b\u51fd\u5f0f\u7528\u65bc\u7279\u5b9a\u7684\u904b\u52d5\u5b78\u6aa2\u67e5\u3002\u5728\u958b\u767c\u7684\u521d\u671f\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5df2\u6709\u7a0b\u5f0f\u78bc\u3002 \u65b0\u589e\u6e2c\u8a66\u5be6\u4f8b\u3002\u5efa\u7acb\u4e00\u500bG\u7a0b\u5f0f\u78bc\u6a94\u6848\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u7cfb\u5217\u7684\u904b\u52d5\u547d\u4ee4\u7528\u65bc\u6e2c\u8a66\u65b0\u589e\u7684\u904b\u52d5\u5b78\u6a21\u578b\u3002 \u6309\u7167 \u9664\u932f\u6587\u4ef6 \u5c07\u8a72G\u7a0b\u5f0f\u78bc\u6a94\u6848\u8f49\u63db\u70ba\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u5728\u906d\u9047\u56f0\u96e3\u72c0\u6cc1\u548c\u6aa2\u67e5\u6578\u64da\u50b3\u905e\u76f8\u7576\u6709\u7528\u3002","title":"\u589e\u52a0\u65b0\u904b\u52d5\u5b78\u6a21\u578b"},{"location":"Code_Overview.html#_8","text":"\u8a72\u7bc0\u5c07\u4ecb\u7d39\u5c07Klipper\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u79fb\u690d\u5230\u65b0\u67b6\u69cb\u6642\u7684\u4e00\u4e9b\u63d0\u793a\u3002\u8a72\u64cd\u4f5c\u5c07\u9700\u8981\u5c0d\u5d4c\u5165\u5f0f\u958b\u767c\u6709\u4e00\u5b9a\u7684\u8a8d\u8b58\u4e26\u61c9\u6709\u76ee\u6a19\u5fae\u63a7\u5236\u5668\u7684\u958b\u767c\u5e73\u81fa\u3002 \u6b65\u9a5f\uff1a \u9996\u5148\u61c9\u78ba\u5b9a\u79fb\u690d\u6240\u9700\u7684\u7b2c\u4e09\u65b9\u5eab\u3002\u5e38\u898b\u7684\u4f8b\u5b50\u70ba\u300cCMSIS\u300d\u5305\u88dd\u5668\u548c\u5ee0\u5546\u7684\u300cHAL\u300d\u5eab\u3002\u5168\u90e8\u7b2c\u4e09\u65b9\u7a0b\u5f0f\u78bc\u61c9\u9075\u5faa\u6216\u76f8\u5bb9GNU GPLv3\u5354\u8b70\u3002\u7b2c\u4e09\u65b9\u7a0b\u5f0f\u78bc\u61c9\u63d0\u4ea4\u5230Klipper\u7684/lib\u8cc7\u6599\u593e\u3002\u66f4\u65b0lib/README\u8a3b\u660e\u7b2c\u4e09\u65b9\u5eab\u7684\u7372\u53d6\u9014\u5f91\u548c\u66f4\u65b0\u6642\u9593\u3002\u63a8\u85a6\u4e0d\u6539\u8b8a\u5167\u5bb9\uff0c\u76f4\u63a5\u5c07\u7a0b\u5f0f\u78bc\u8907\u88fd\u5230Klipper\uff0c\u4f46\u5982\u679c\u9700\u8981\u9032\u884c\u8b8a\u66f4\uff0c\u61c9\u5c07\u6240\u505a\u7684\u4fee\u6539\u5217\u5728lib/README\u6a94\u6848\u4e2d\u3002 \u5728src/\u4e0b\u65b0\u5efa\u4e00\u500b\u65b0\u67b6\u69cb\u7684\u5b50\u76ee\u9304\uff0c\u4e26\u5efa\u7acb\u5c0d\u61c9\u7684\u521d\u59cbKconfig\u548cMakefile\u3002\u4ee5\u5df2\u6709\u7684\u67b6\u69cb\u4f5c\u70ba\u6a21\u7248\uff0c\u5176\u4e2dsrc/simulator\u7d66\u51fa\u4e86\u5fae\u63a7\u5236\u5668\u67b6\u69cb\u7684\u57fa\u672c\u9700\u6c42\u3002 \u9996\u8981\u4efb\u52d9\u662f\u5728\u76ee\u6a19\u5370\u8868\u6a5f\u4e3b\u677f\u4e0a\u5be6\u73fe\u901a\u8a0a\u3002\u9019\u662f\u589e\u52a0\u652f\u63f4\u4e2d\u6700\u96e3\u7684\u4e00\u6b65\uff0c\u5be6\u73fe\u8a72\u529f\u80fd\u540e\u4e00\u5207\u5c07\u95ca\u7136\u958b\u6717\u3002\u5728\u958b\u8352\u6642\uff0c\u4e00\u822c\u4f7f\u7528\u5e8f\u5217\u532f\u6d41\u6392\u9032\u884c\u958b\u767c\uff0c\u56e0\u70ba\u901a\u5e38\u5e8f\u5217\u532f\u6d41\u6392\u5df2\u65bc\u61c9\u7528\u548c\u63a7\u5236\u3002\u5728\u6b64\u968e\u6bb5\uff0c\u53ef\u5927\u91cf\u4f7f\u7528 src/generic/ \u76ee\u9304\u4e2d\u7684\u4e2d\u7684\u8f14\u52a9\u7a0b\u5f0f\u78bc\uff08\u53ef\u53c3\u8003 src/simulator/Makefile \u4e2d\u5982\u4f55\u5c07\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\u52a0\u5165\u69cb\u5efa\uff09\u3002\u540c\u6642\uff0c\u9700\u8981\u5728\u9019\u968e\u6bb5\u5b8c\u6210 timer_read_time() \u7684\u5b9a\u7fa9\uff08\u7528\u65bc\u7372\u53d6\u73fe\u6642\u7cfb\u7d71\u6642\u9418\uff09\uff0c\u4f46\u7121\u9700\u5b8c\u5168\u5be6\u73fe\u5b9a\u6642\u4e2d\u65b7\u529f\u80fd\u3002 \u4f9d\u7167 \u9664\u932f\u6587\u4ef6 \u719f\u6089console.py\u5de5\u5177\uff0c\u4e26\u4f7f\u7528\u8a72\u5de5\u5177\u8988\u5be6\u5fae\u63a7\u5236\u5668\u7684\u9023\u7dda\u3002\u8a72\u5de5\u5177\u5c07\u5e95\u5c64\u5fae\u63a7\u5236\u5668\u901a\u8a0a\u5354\u8b70\u8f49\u63db\u70ba\u53ef\u8b80\u5f62\u5f0f\u3002 \u589e\u52a0\u5c0d\u786c\u9ad4\u4e2d\u65b7\u7684\u5b9a\u6642\u5668\u6392\u7a0b\u7684\u652f\u63f4\u3002\u53c3\u898b Klipper commit 970831ee \uff0c\u4f5c\u70ba\u91dd\u5c0dLPC176x\u67b6\u69cb\u7684\u6b65\u9a5f1-5\u7684\u4f8b\u5b50\u3002 \u63d0\u4f9b\u57fa\u672c\u7684 GPIO \u8f38\u5165\u548c\u8f38\u51fa\u652f\u63f4\u3002\u53c3\u898b Klipper commit c78b9076 \u4f5c\u70ba\u4e00\u500b\u4f8b\u5b50\u3002 \u555f\u52d5\u5176\u4ed6\u5916\u570d\u88dd\u7f6e-\u53c3\u95b1Klipper\u63d0\u4ea4 65613aed \uff0c c812a40a \uff0c\u548c c381d03a \u7684\u4f8b\u5b50\u3002 \u5728config/\u76ee\u9304\u65b0\u5efa\u4e00\u500b\u914d\u7f6e\u4e8b\u4f8b\uff0c\u4e26\u4f7f\u7528Klipper.py\u7684\u4e3b\u7a0b\u5f0f\u9032\u884c\u8a2d\u5b9a\u3002 \u8003\u616e\u5728test/\u76ee\u9304\u52a0\u5165\u69cb\u5efa\u6e2c\u8a66\u7684\u4e8b\u4f8b\u3002 \u9084\u6709\u4e00\u4e9btips\uff1a \u907f\u514d\u4f7f\u7528\u300cC\u4f4d\u6bb5\u300d\uff08C bitfield\uff09\u8a2a\u554fIO\u66ab\u5b58\u5668\uff1b\u61c9\u4f7f\u7528\u76f4\u63a5\u5c0d32\u4f4d\u300116\u4f4d\u548c8\u4f4d\u7684\u6574\u6578\u8b80\u5beb\u4ee3\u66ff\u3002C\u8a9e\u8a00\u898f\u7bc4\u4e2d\u6c92\u6709\u5c0d\u4f4d\u6bb5\u64cd\u4f5c\u9032\u884c\u6e05\u6670\u5b9a\u7fa9\uff08\u4f8b\u5982\u7aef\u5e8f\u3001\u5b57\u4f48\u5c40\u7b49\uff09\uff0c\u4e14\u5728IO\u64cd\u4f5c\u6642\u4f7f\u7528C\u6bb5\u4f4d\u8b80\u5beb\uff0c\u5c07\u96e3\u4ee5\u78ba\u5b9a\u5177\u9ad4\u9032\u884c\u4e86\u4f55\u7a2eIO\u64cd\u4f5c\u3002 IO\u66ab\u5b58\u5668\u64cd\u4f5c\u6642\u61c9\u4f7f\u7528\u986f\u5f0f\u8ce6\u503c\uff0c\u907f\u514d\u4f7f\u7528\u300c\u8b80-\u6539-\u5beb\u300d\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u5982\u679c\u5728\u4e00\u500bIO\u66ab\u5b58\u5668\u4e2d\u66f4\u65b0\u4e00\u500b\u6b04\u4f4d\uff0c\u800c\u5176\u4ed6\u6b04\u4f4d\u7684\u503c\u662f\u5df2\u77e5\u7684\uff0c\u90a3\u9ebc\u6700\u597d\u662f\u986f\u5f0f\u5730\u5beb\u5165\u66ab\u5b58\u5668\u7684\u5168\u90e8\u5167\u5bb9\u3002\u986f\u5f0f\u5beb\u5165\u7522\u751f\u7684\u7a0b\u5f0f\u78bc\u66f4\u5c0f\uff0c\u66f4\u5feb\uff0c\u66f4\u5bb9\u6613\u9664\u932f\u3002","title":"\u79fb\u690d\u5230\u65b0\u7684\u5fae\u63a7\u5236\u5668"},{"location":"Code_Overview.html#_9","text":"\u5167\u90e8\u800c\u8a00\uff0cKlipper\u4f7f\u7528\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u8ffd\u8e64\u5217\u5370\u982d\u7684\u4f4d\u7f6e\uff0c\u5176\u5ea7\u6a19\u7cfb\u8a2d\u5b9a\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u5ea7\u6a19\u7cfb\u800c\u8b8a\u5316\u3002\u56e0\u6b64\uff0cKIlipper\u7684\u57f7\u884c\u5728\u7d55\u5927\u90e8\u5206\u60c5\u6cc1\u4e0b\u90fd\u4e0d\u6703\u8b8a\u63db\u5ea7\u6a19\u7cfb\u3002\u5982\u679c\u4f7f\u7528\u8005\u9032\u884c\u539f\u9ede\u7684\u8b8a\u63db\uff08\u5982\u57f7\u884c G92 \u547d\u4ee4\uff09\uff0cKlipper\u6703\u5c07\u5f8c\u7e8c\u547d\u4ee4\u8f49\u5316\u5230\u539f\u59cb\u5ea7\u6a19\u7cfb\u4e0a\u9032\u884c\u57f7\u884c\u3002 \u7136\u800c\uff0c\u5728\u90e8\u5206\u60c5\u6cc1\u4e0b\uff0c\u9700\u8981\u7372\u53d6\u5176\u4ed6\u5ea7\u6a19\u7cfb\u4e2d\u5217\u5370\u982d\u7684\u4f4d\u7f6e\u3002Klipper\u63d0\u4f9b\u6578\u7a2e\u5de5\u5177\u4ee5\u5be6\u73fe\u4e0a\u8ff0\u529f\u80fd\u3002\u57f7\u884cGET_POSITION\u53ef\u4ee5\u7372\u5f97\u4e0a\u8ff0\u6578\u64da\uff0c\u5982\uff1a Send: GET_POSITION Recv: // mcu: stepper_a:-2060 stepper_b:-1169 stepper_c:-1613 Recv: // stepper: stepper_a:457.254159 stepper_b:466.085669 stepper_c:465.382132 Recv: // kinematic: X:8.339144 Y:-3.131558 Z:233.347121 Recv: // toolhead: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode: X:8.338078 Y:-3.123175 Z:233.347878 E:0.000000 Recv: // gcode base: X:0.000000 Y:0.000000 Z:0.000000 E:0.000000 Recv: // gcode homing: X:0.000000 Y:0.000000 Z:0.000000 \u300c\u5fae\u63a7\u5236\u5668\u4f4d\u7f6e\u300d\uff08 stepper.get_mcu_position() \uff09\u662f\u5fae\u63a7\u5236\u5668\u6700\u5f8c\u4e00\u6b21\u91cd\u7f6e\u540e\u57f7\u884c\u7684\u300c\u6b63\u5411\u300d\u6b65\u6578\u7e3d\u6578 - \u300c\u8ca0\u5411\u300d\u6b65\u6578\u7e3d\u6578\u7684\u503c\u3002\u5982\u679c\u88dd\u7f6e\u8655\u65bc\u6a5f\u68b0\u904b\u52d5\u6642\uff0c\u8a72\u65b9\u6cd5\u5c07\u8fd4\u56de\u5305\u542b\u904b\u52d5\u7de9\u885d\u5340\u4e2d\u7684\u4f4d\u7f6e\u503c\uff0c\u4f46\u4e0d\u5305\u542b\u9810\u8a08\u4f47\u5217\u4e2d\u7684\u904b\u52d5\u503c\u3002 \u300c\u6b65\u9032\u96fb\u6a5f\u300d\u90e8\u5206\uff08 stepper.get_commanded_position() \uff09\u662f\u904b\u52d5\u5b78\u6a21\u578b\u4e2d\u8a18\u9304\u7684\u7279\u5b9a\u6b65\u9032\u96fb\u6a5f\u4f4d\u7f6e\u3002\u901a\u5e38\u662f\u5c0d\u61c9\u8ecc\u9053\u7684\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u4e2d\u7684position_endstop\u8a2d\u5b9a\u503c\u7684\u6ed1\u8eca\u4f4d\u7f6e\uff08\u55ae\u4f4d\u70ba\u6beb\u7c73\uff0c\u4f46\u90e8\u5206\u8a2d\u5b9a\u4e2d\u4f7f\u7528\u7684\u662f\u5f27\u5ea6\u55ae\u4f4d\u800c\u975e\u7dda\u6027\u55ae\u4f4d\uff09\u3002\u5982\u679c\u5728\u6a5f\u68b0\u904b\u52d5\u6642\u89f8\u767c\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\uff0c\u5247\u8fd4\u56de\u7684\u503c\u70ba\u5fae\u63a7\u5236\u5668\u4e2d\u5feb\u53d6\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9810\u8a08\u4f47\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9810\u8a08\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u547c\u53eb\u5b8c\u5168\u91cd\u65b0\u6574\u7406\u9810\u8a08\u4f47\u5217\u548c\u6b65\u9032\u8108\u885d\u7522\u751f\u7a0b\u5f0f\u78bc\u3002 \u904b\u52d5\u5b78\u4f4d\u7f6e\uff08 kin.cal_position() \uff09\u662f\u5728\u7b1b\u5361\u723e\u5ea7\u6a19\u4e0a\u7684\uff0c\u884d\u751f\u65bc\u6b65\u9032\u96fb\u6a5f\u4f4d\u7f6e\u7684\uff0c\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u4e2dposition_endstop\u503c\u7684\u4f4d\u7f6e\u3002\u7531\u65bc\u6b65\u9032\u96fb\u6a5f\u7684\u89e3\u6790\u5ea6\u539f\u56e0\uff0c\u9019\u53ef\u80fd\u8207\u8acb\u6c42\u7684\u7b1b\u5361\u723e\u5ea7\u6a19\u503c\u4e0d\u4e00\u81f4\u3002\u5982\u679c\u5728\u6a5f\u68b0\u904b\u52d5\u6642\u89f8\u767c\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\uff0c\u5247\u8fd4\u56de\u7684\u503c\u70ba\u5fae\u63a7\u5236\u5668\u4e2d\u5feb\u53d6\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u5305\u542b\u9810\u8a08\u4f47\u5217\uff08look-ahead queue\uff09\u4e2d\u7684\u9810\u8a08\u4f4d\u7f6e\u3002\u53ef\u4f7f\u7528 toolhead.flush_step_generation() \u6216 toolhead.wati_moves() \u547c\u53eb\u5b8c\u5168\u91cd\u65b0\u6574\u7406\u9810\u8a08\u4f47\u5217\u548c\u6b65\u9032\u8108\u885d\u7522\u751f\u7a0b\u5f0f\u78bc\u3002 \u5217\u5370\u982d\u4f4d\u7f6e\uff08 toolhead.get_position() \uff09\u662f\u6700\u5f8c\u7684\u904b\u52d5\u8acb\u6c42\u5c0d\u61c9\u7684\uff0c\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u9650\u4f4d\u4f4d\u7f6e\u7684\uff0c\u7b1b\u5361\u723e\u5ea7\u6a19\u4e0a\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u3002\u5982\u679c\u5728\u6a5f\u68b0\u904b\u52d5\u6642\u89f8\u767c\u4e0a\u8ff0\u7a0b\u5f0f\u78bc\uff0c\u90a3\u9ebc\u8fd4\u56de\u503c\u6703\u4f9d\u64da\u8acb\u6c42\u904b\u52d5\u5e8f\u5217\u4e2d\u7684\u904b\u52d5\u7d42\u9ede\u7d66\u51fa\uff08\u5118\u7ba1buffer\u4e2d\u7684\u904b\u52d5\u9084\u6c92\u7531\u6b65\u9032\u96fb\u6a5f\u89f8\u767c\uff09\u3002 G\u7a0b\u5f0f\u78bc\u4f4d\u7f6e\u6642\u6700\u5f8c\u4e00\u6b21\u4f4d\u7f6e\u8acb\u6c42\u547d\u4ee4\uff08 G1 \u6216 G0 \uff09\u5c0d\u61c9\u7684\uff0c\u5728\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\u76f8\u5c0d\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u8a2d\u5b9a\u539f\u9ede\u7684\u76f8\u5c0d\u4f4d\u7f6e\u3002\u9019\u53ef\u80fd\u8207\u300c\u5217\u5370\u982d\u4f4d\u7f6e\u300d\u4e0d\u4e00\u81f4\uff0c\u9019\u662f\u56e0\u70baG\u7a0b\u5f0f\u78bc\u4fee\u6b63\u7684\u5f71\u97ff\uff08\u6bd4\u5982\u5e8a\u7db2\uff0c\u5e8a\u50be\u89d2\u4fee\u6b63\uff0c\u8abf\u5e73\u87ba\u6bcd\u4fee\u6b63\uff09\u3002\u9019\u4e5f\u6703\u56e0\u70baG\u7a0b\u5f0f\u78bc\u539f\u9ede\u8b8a\u66f4\uff08\u5982 G92 \uff0c SET_GCODE_OFFSET \uff0c M221 \uff09\u800c\u5c0e\u81f4\u8fd4\u56de\u503c\u8ddf\u6700\u5f8c\u4e00\u6b21 G1 \u547d\u4ee4\u8acb\u6c42\u7684\u4f4d\u7f6e\u4e0d\u4e00\u81f4\u3002 \uff2d114 \u547d\u4ee4\uff08 gcode_move.get_status()[\u300fgcode_position\u300f] \uff09\u6703\u8fd4\u56de\u73fe\u6642G\u7a0b\u5f0f\u78bc\u76f8\u5c0d\u65bc\u6b64\u6642\u7684G\u7a0b\u5f0f\u78bc\u539f\u9ede\u7684\u4f4d\u7f6e\u3002 G\u7a0b\u5f0f\u78bc\u57fa\u6e96\u662f\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u8a2d\u5b9a\u539f\u9ede\u7684\u76f8\u5c0d\u4f4d\u7f6e\u3002\u8af8\u5982 G92 \uff0c SET_GCODE_OFFSET \u548c M221 \u6703\u6539\u8b8a\u7684\u8fd4\u56de\u503c\u3002 G\u7a0b\u5f0f\u78bc\u56de\u96f6\u9ede\u662f\u5728 G28 \u547d\u4ee4\u57f7\u884c\u540eG\u7a0b\u5f0f\u78bc\u539f\u9ede\u3002\u540c\u6a23\uff0c\u8a72\u4f4d\u7f6e\u662f\u7b1b\u5361\u723e\u5ea7\u6a19\u7cfb\u4e2d\uff0c\u76f8\u5c0d\u65bc\u8a2d\u5b9a\u6a94\u6848\u539f\u9ede\u7684\u4f4d\u7f6e\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u6703\u6539\u8b8a\u8a72\u503c\u3002","title":"\u5ea7\u6a19\u7cfb\u8b8a\u63db"},{"location":"Code_Overview.html#_10","text":"\u8a72\u7bc0\u5c07\u63cf\u8ff0Klipper\u5982\u4f55\u8655\u7406\u6642\u9418\uff0c\u5b9a\u6642\u548c\u6642\u9593\u6233\u3002Klipper\u901a\u904e\u63d0\u524d\u5b89\u6392\u9700\u8981\u57f7\u884c\u7684\u884c\u70ba\u4e8b\u4ef6\u5f9e\u800c\u57f7\u884c\u52d5\u4f5c\u3002\u4f8b\u5982\uff0c\u8981\u555f\u52d5\u98a8\u6247\uff0c\u7a0b\u5f0f\u78bc\u9700\u8981\u5b89\u6392GPIO\u91dd\u8173\u5728100ms\u540e\u8b8a\u5316\u3002\u7a0b\u5f0f\u78bc\u7acb\u5373\u57f7\u884c\u52d5\u4f5c\u53cd\u800c\u662f\u7f55\u898b\u7684\u72c0\u6cc1\u3002\u56e0\u6b64\uff0cKlipper\u7684\u6b63\u78ba\u57f7\u884c\u96e2\u4e0d\u958b\u5c0d\u6642\u9593\u7684\u7cbe\u78ba\u8655\u7406\u3002 Klipper\u5167\u90e8\u4f7f\u7528\u4e09\u7a2e\u4e0d\u540c\u7684\u6642\u9593\uff1a \u7cfb\u7d71\u6642\u9593\uff08System time\uff09\u3002\u7cfb\u7d71\u6642\u9593\u4f7f\u7528\u7cfb\u7d71\u7684\u55ae\u8abf\u6642\u9418\u3002\u9019\u662f\u4e00\u500b\u4ee5\u79d2\u70ba\u55ae\u4f4d\u5132\u5b58\u7684\u6d6e\u9ede\u6578\uff0c\u5728\u7cfb\u7d71\u555f\u52d5\u540e\u958b\u59cb\u7d2f\u8a08\u3002\u7cfb\u7d71\u6642\u9418\u7684\u7528\u9014\u6709\u9650\uff0c\u901a\u5e38\u53ea\u6703\u5728\u8207\u64cd\u4f5c\u7cfb\u7d71\u9032\u884c\u4e92\u52d5\u6642\u4f7f\u7528\u3002\u5728\u4e0a\u4f4d\u6a5f\u4e2d\uff0c\u7cfb\u7d71\u6642\u9593\u5132\u5b58\u5728 eventtime \u6216 curtime \u8b8a\u6578\u4e2d\u3002 \u5217\u5370\u6642\u9593\uff08Print time\uff09\u3002\u5217\u5370\u6642\u9593\u6703\u8207\u4e3b\u5fae\u63a7\u5236\u5668\u6642\u9418\u540c\u6b65\uff08\u5728\u300c[MCU]\u300d\u8a2d\u5b9a\u6bb5\u4e2d\u5b9a\u7fa9\u7684\u5fae\u63a7\u5236\u5668\u3002\uff09\u9019\u662f\u4e00\u500b\u4ee5\u79d2\u70ba\u55ae\u4f4d\u5132\u5b58\u7684\u6d6e\u9ede\u6578\uff0c\u4e26\u5728\u4e3b\u5fae\u63a7\u5236\u6700\u5f8c\u4e00\u6b21\u555f\u52d5\u540e\u958b\u59cb\u5f9e0\u7d2f\u52a0\u3002\u901a\u904e\u4e58\u4ee5\u8a2d\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u983b\u7387\uff0c\u53ef\u4ee5\u7372\u5f97\u4e3b\u5fae\u63a7\u5236\u5668\u5167\u90e8\u786c\u9ad4\u6642\u9418\u503c\u3002\u4e0a\u5c64\u61c9\u7528\u53ef\u4ee5\u901a\u904e\u5217\u5370\u6642\u9593\u8a08\u7b97\u5e7e\u4e4e\u6240\u6709\u7269\u7406\u884c\u70ba\uff08\u6bd4\u5982\u5217\u5370\u982d\u904b\u52d5\uff0c\u52a0\u71b1\u5668\u8b8a\u52d5\u7b49\uff09\u3002\u5728\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u5217\u5370\u6642\u9593\u901a\u5e38\u5132\u5b58\u5728 print_time \u548c move_time \u8b8a\u6578\u4e2d\u3002 MCU\u6642\u9418\uff0c\u662f\u5404\u500b\u5fae\u63a7\u5236\u5167\u90e8\u7684\u786c\u9ad4\u6642\u9418\u7d2f\u52a0\u5668\u3002\u5b83\u662f\u57fa\u65bc\u5fae\u63a7\u5236\u5668\u8a2d\u5b9a\u983b\u7387\u70ba\u901f\u7387\u9032\u884c\u7d2f\u52a0\u7684\uff0c\u4ee5\u6574\u5f62\u5132\u5b58\u7684\u503c\u3002\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u5c07\u8edf\u9ad4\u5167\u90e8\u6642\u9593\u8f49\u63db\u70bamcu\u6642\u9593\u4e26\u5c07\u547d\u4ee4\u50b3\u8f38\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u5fae\u63a7\u5236\u7a0b\u5f0f\u78bc\u50c5\u5728\u6642\u9418\u8df3\u52d5\u6642\u66f4\u65b0\u548c\u8ffd\u8e64\u6642\u9593\u3002\u5728\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u6642\u9418\u503c\u4ee564\u4f4d\u6574\u5f62\u8a18\u9304\uff0c\u800c\u5fae\u63a7\u5236\u7a0b\u5f0f\u78bc\u5247\u4f7f\u752832\u4f4d\u6574\u5f62\u3002\u5728\u4e0a\u4f4d\u6a5f\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u6642\u9418\u901a\u5e38\u4ee5 clock \u6216 tick \u8b8a\u6578\u5132\u5b58\u3002 \u4e0d\u540c\u6642\u9418\u683c\u5f0f\u7684\u8f49\u63db\u4e3b\u8981\u5728 klipper/clocksync.py \u4e2d\u5be6\u73fe\u3002 \u5728\u6aa2\u67e5\u7a0b\u5f0f\u78bc\u6642\u9700\u8981\u6ce8\u610f\uff1a 32\u4f4d\u548c64\u4f4d\u6642\u9418\uff1a\u7232\u4e86\u964d\u4f4e\u983b\u5bec\u6d88\u8017\u548c\u63d0\u9ad8\u5fae\u63a7\u5236\u5668\u6548\u7387\uff0c\u5fae\u63a7\u5236\u5668\u6642\u9418\u4f7f\u752832\u4f4d\u6574\u5f62\u9032\u884c\u8ffd\u8e64\u3002\u5728\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e2d\u5c0d\u6bd4\u5169\u500b\u6642\u9418\u6642\uff0c\u61c9\u4fdd\u6301\u547c\u53eb time_is_before \u4ee5\u78ba\u5b9a\u6574\u5f62\u6642\u9418\u6c92\u6709\u51fa\u73fe\u6ea2\u51fa\u7684\u60c5\u6cc1\u3002\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u901a\u904e\u5c07\u5fae\u63a7\u5236\u5668\u6700\u5f8c\u4e00\u6b21\u8fd4\u56de\u7684\u6642\u9593\u6233\u7d2f\u52a0\u5230\u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u6642\u9418\u7684\u9ad8\u4f4d\u5730\u5740\u4e2d\uff0c\u4ee5\u5be6\u73fe32\u4f4d\u6642\u9418\u523064\u4f4d\u6642\u9418\u7684\u8f49\u63db\uff0c\u7531\u65bc\u4f86\u81ea\u5fae\u63a7\u5236\u5668\u7684\u8cc7\u8a0a\u4e0d\u53ef\u80fd\u4f86\u81ea2^31\u500b\u6642\u9593\u523b\u5ea6\u7684\u904e\u53bb\u6216\u672a\u4f86\uff0c\u56e0\u6b64\u6642\u9593\u8f49\u63db\u4e0d\u6703\u51fa\u73fe\u932f\u8aa4\u3002\u4e3b\u6a5f\u901a\u904e\u7c21\u55ae\u622a\u65b7\u9ad8\u4f4d\u4e2d\u7684\u503c\uff0c\u5be6\u73fe64\u4f4d\u523032\u4f4d\u7684\u8f49\u63db\u3002\u7232\u4e86\u78ba\u4fdd\u8f49\u63db\u6c92\u6709\u6b67\u7fa9\uff0c klippy/chelper/serialqueque.c \u7a0b\u5f0f\u78bc\u6703\u5feb\u53d6\u8cc7\u8a0a\u76f4\u5230\u7a0b\u5f0f\u78bc\u76ee\u6a19\u6642\u9593\u76842^31\u500b\u6642\u9593\u523b\u5ea6\u5167\u3002 \u8907\u6578\u5fae\u63a7\u5236\u5668\u7684\u60c5\u6cc1\uff1a\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u652f\u63f4\u55ae\u9ad4\u5370\u8868\u6a5f\u4f7f\u7528\u8907\u6578\u5fae\u63a7\u5236\u5668\u3002\u6b64\u6642\uff0c\u5404\u5fae\u63a7\u5236\u5668\u7684\u300c\u5fae\u63a7\u5236\u5668\u6642\u9418\u300d\u5c07\u88ab\u5206\u958b\u8a18\u9304\u3002clocksync.py\u8655\u7406\u5fae\u8655\u7406\u5668\u4e4b\u9593\u7684\u6642\u9593\u98c4\u8b8a\uff0c\u65b9\u6cd5\u5728\u300c\u5217\u5370\u6642\u9593\u300d\u548c\u300c\u5fae\u8655\u7406\u5668\u6642\u9593\u300d\u7684\u8f49\u63db\u65b9\u6cd5\u4e0a\u4fee\u6539\u5f97\u51fa\u3002\u5728\u6b21\u8981\u5fae\u8655\u7406\u4e0a\uff0c\u5fae\u8655\u7406\u5668\u983b\u7387\u88ab\u7528\u65bc\u4e0a\u8ff0\u8655\u7406\uff0c\u4e26\u901a\u904e\u6301\u7e8c\u6e2c\u91cf\u6f02\u8b8a\u5c0d\u6b21\u8981\u5fae\u63a7\u5236\u5668\u983b\u7387\u9032\u884c\u66f4\u65b0\u3002","title":"\u5b9a\u6642"},{"location":"Command_Templates.html","text":"\u547d\u4ee4\u6a21\u677f \u00b6 \u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 gcode_macro\uff08\u548c\u5176\u4ed6\u985e\u4f3c\uff09\u914d\u7f6e\u5206\u6bb5\u4e2d\u5be6\u73fe G-Code \u547d\u4ee4\u5e8f\u5217\u7684\u65b9\u6cd5\u3002 G \u7a0b\u5f0f\u78bc\u5b8f\u547d\u540d \u00b6 G-Code \u5b8f\u7684\u540d\u7a31\u5927\u5c0f\u5beb\u4e26\u4e0d\u91cd\u8981\u3002\u6bd4\u5982\uff0cMY_MACRO \u548c my_macro \u662f\u7b49\u6548\u7684\uff0c\u53ef\u4ee5\u7528\u5927\u5beb\u6216\u5c0f\u5beb\u4f86\u547c\u53eb\u3002\u5982\u679c\u5728\u5b8f\u7684\u540d\u7a31\u4e2d\u4f7f\u7528\u4efb\u4f55\u6578\u5b57\uff0c\u90a3\u9ebc\u5b83\u5011\u5fc5\u9808\u90fd\u5728\u540d\u7a31\u7684\u672b\u5c3e\uff08\u4f8b\u5982\uff0cTEST_MACRO25\u662f\u5408\u6cd5\u7684\uff0c\u4f46MACRO25_TEST3\u662f\u4e0d\u5408\u6cd5\u7684\uff09\u3002 \u914d\u7f6e\u4e2d G-Code\u7684\u683c\u5f0f \u00b6 \u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u4e00\u500b\u5b8f\u6642\u9700\u8981\u6ce8\u610f\u7e2e\u6392\u3002\u5728\u5b9a\u7fa9\u591a\u884c\u7684G\u7a0b\u5f0f\u78bc\u5e8f\u5217\u6642\u6bcf\u884c\u90fd\u8981\u6709\u9069\u7576\u7684\u7e2e\u6392\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 \u8acb\u6ce8\u610f\uff0c gcode: \u914d\u7f6e\u9078\u9805\u7e3d\u662f\u5f9e\u884c\u9996\u958b\u59cb\uff0c\u800c G-Code \u5b8f\u4e2d\u7684\u5f8c\u7e8c\u884c\u5f9e\u4e0d\u5f9e\u884c\u9996\u958b\u59cb\u3002 \u5411\u5b8f\u65b0\u589e\u63cf\u8ff0 \u00b6 \u53ef\u4ee5\u901a\u904e\u65b0\u589e description: \u548c\u7c21\u77ed\u7684\u63cf\u8ff0\u4f86\u5e6b\u52a9\u7406\u89e3\u8a72\u529f\u80fd\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\uff0c\u9810\u8a2d\u70ba\"G-Code macro\"\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] description: Blink my_led one time gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 \u7576\u60a8\u4f7f\u7528\u201cHELP\u201d\u547d\u4ee4\u6216\u81ea\u52d5\u5b8c\u6210\u529f\u80fd\u6642\uff0c\u7d42\u7aef\u5c07\u986f\u793a\u63cf\u8ff0\u3002 \u5132\u5b58/\u6062\u5fa9 G-Code \u79fb\u52d5\u7684\u72c0\u614b \u00b6 \u4e0d\u5e78\u7684\u662f\uff0cG-Code \u547d\u4ee4\u8a9e\u8a00\u5728\u4f7f\u7528\u4e0a\u6709\u4e9b\u96e3\u5ea6\u3002\u79fb\u52d5\u5de5\u5177\u982d\u7684\u6a19\u6e96\u6a5f\u5236\u662f\u901a\u904e G1 \u547d\u4ee4\uff08 G0 \u547d\u4ee4\u662f G1 \u7684\u5225\u540d\uff0c\u5b83\u5011\u4e92\u63db\u4f7f\u7528\uff09\u3002\u7136\u800c\uff0c\u9019\u500b\u547d\u4ee4\u4f9d\u8cf4\u65bc\u7531 M82 \u3001 M83 \u3001 G90 \u3001 G91 \u3001 G92 , \u4ee5\u53ca\u5148\u524d\u7684 G1 \u547d\u4ee4\u6240\u8a2d\u5b9a\u7684\"G-Code\u89e3\u6790\u72c0\u614b\"\u3002\u5728\u5efa\u7acb G-Code \u5b8f\u6642\uff0c\u6700\u597d\u5728\u767c\u51fa G1 \u547d\u4ee4\u4e4b\u524d\uff0c\u5148\u660e\u78ba G-Code \u89e3\u6790\u72c0\u614b\u3002(\u5426\u5247\uff0c G1 \u547d\u4ee4\u5c31\u6709\u53ef\u80fd\u63d0\u51fa\u4e00\u500b\u4e0d\u7b26\u5408\u9810\u671f\u7684\u8acb\u6c42\u3002\uff09 \u5be6\u73fe\u9019\u4e00\u76ee\u6a19\u7684\u5e38\u898b\u65b9\u6cd5\u662f\u5c07 G1 \u79fb\u52d5\u5305\u88dd\u5728 SAVE_GCODE_STATE \u3001 G91 \u548c RESTORE_GCODE_STATE \u4e2d\u3002\u4f8b\u5982\uff1a [gcode_macro MOVE_UP] gcode: SAVE_GCODE_STATE NAME=my_move_up_state G91 G1 Z10 F300 RESTORE_GCODE_STATE NAME=my_move_up_state G91 \u547d\u4ee4\u5c07 G-Code\u89e3\u6790\u72c0\u614b\u7f6e\u65bc\u201c\u76f8\u5c0d\u79fb\u52d5\u6a21\u5f0f\u201d\uff0c\u800c RESTORE_GCODE_STATE \u547d\u4ee4\u5c07\u72c0\u614b\u6062\u5fa9\u5230\u9032\u5165\u5de8\u96c6\u4e4b\u524d\u7684\u72c0\u614b\u3002\u78ba\u4fdd\u5728\u7b2c\u4e00\u500b\u201cG1\u201d\u547d\u4ee4\u4e0a\u6307\u5b9a\u4e00\u500b\u660e\u78ba\u7684\u901f\u5ea6\uff08\u901a\u904e\u201cF\u201d\u53c3\u6578\uff09\u3002 \u6a21\u677f\u64f4\u5145\u5957\u4ef6 \u00b6 gcode_macro gcode: \u914d\u7f6e\u90e8\u5206\u4f7f\u7528 Jinja2 \u6a21\u677f\u8a9e\u8a00\u9032\u884c\u8a55\u4f30\u3002\u53ef\u4ee5\u901a\u904e\u5c07\u8868\u9054\u5f0f\u5305\u88dd\u5728\u201c{}\u201d\u5b57\u7b26\u4e2d\u6216\u4f7f\u7528\u689d\u4ef6\u8a9e\u53e5\u5305\u88dd\u5728\u201c{% %}\u201d\u4e2d\u4f86\u5728\u904b\u884c\u6642\u8a55\u4f30\u8868\u9054\u5f0f\u3002\u6709\u95dc\u8a9e\u6cd5\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 Jinja2 \u6587\u6a94 . \u4e00\u500b\u66f4\u5fa9\u96dc\u7684\u5b8f\u793a\u4f8b\uff1a [gcode_macro clean_nozzle] gcode: {% set wipe_count = 8 %} SAVE_GCODE_STATE NAME=clean_nozzle_state G90 G0 Z15 F300 {% for wipe in range(wipe_count) %} {% for coordinate in [(275, 4),(235, 4)] %} G0 X{coordinate[0]} Y{coordinate[1] + 0.25 * wipe} Z9.7 F12000 {% endfor %} {% endfor %} RESTORE_GCODE_STATE NAME=clean_nozzle_state \u5b8f\u89c0\u53c3\u6578 \u00b6 \u5728\u8abf\u7528\u5de8\u96c6\u6642\u6aa2\u67e5\u50b3\u905e\u7d66\u5de8\u96c6\u7684\u53c3\u6578\u901a\u5e38\u5f88\u6709\u7528\u3002\u9019\u4e9b\u53c3\u6578\u53ef\u901a\u904e params \u507d\u8b8a\u6578\u7372\u5f97\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5de8\u96c6\uff1a [gcode_macro SET_PERCENT] gcode: M117 Now at { params.VALUE|float * 100 }% \u88ab\u8abf\u7528\u70ba\u201cSET_PERCENT VALUE=.2\u201d\uff0c\u5b83\u5c07\u8a55\u4f30\u70ba\u201cM117 Now at 20%\u201d\u3002\u8acb\u6ce8\u610f\uff0c\u5728\u5b8f\u4e2d\u6c42\u503c\u6642\uff0c\u53c3\u6578\u540d\u7a31\u59cb\u7d42\u70ba\u5927\u5beb\uff0c\u4e26\u4e14\u59cb\u7d42\u4f5c\u70ba\u5b57\u7b26\u4e32\u50b3\u905e\u3002\u5982\u679c\u57f7\u884c\u6578\u5b78\u904b\u7b97\uff0c\u5247\u5fc5\u9808\u5c07\u5b83\u5011\u986f\u5f0f\u8f49\u63db\u70ba\u6574\u6578\u6216\u6d6e\u9ede\u6578\u3002 \u901a\u5e38\u4f7f\u7528 Jinja2 set \u6307\u4ee4\u4f86\u4f7f\u7528\u9ed8\u8a8d\u53c3\u6578\u4e26\u5c07\u7d50\u679c\u5206\u914d\u7d66\u672c\u5730\u540d\u7a31\u3002\u4f8b\u5982\uff1a [gcode_macro SET_BED_TEMPERATURE] gcode: {% set bed_temp = params.TEMPERATURE|default(40)|float %} M140 S{bed_temp} \"rawparams\" \u8b8a\u6578 \u00b6 \u904b\u884c\u5de8\u96c6\u7684\u5b8c\u6574\u672a\u89e3\u6790\u53c3\u6578\u53ef\u4ee5\u901a\u904e rawparams \u507d\u8b8a\u6578\u8a2a\u554f\u3002 \u5982\u679c\u60a8\u60f3\u66f4\u6539\u67d0\u4e9b\u547d\u4ee4\uff08\u5982\u201cM117\u201d\uff09\u7684\u884c\u70ba\uff0c\u9019\u975e\u5e38\u6709\u7528\u3002\u4f8b\u5982\uff1a [gcode_macro M117] rename_existing: M117.1 gcode: {% if rawparams %} {% set escaped_msg = rawparams|replace('\"', '\\\\\"') %} SET_DISPLAY_TEXT MSG=\"{escaped_msg}\" RESPOND TYPE=command MSG=\"{escaped_msg}\" {% else %} SET_DISPLAY_TEXT {% endif %} \"printer\"\u8b8a\u6578 \u00b6 \u53ef\u4ee5\u901a\u904e printer \u507d\u8b8a\u6578\u6aa2\u67e5\uff08\u548c\u66f4\u6539\uff09\u6253\u5370\u6a5f\u7684\u7576\u524d\u72c0\u614b\u3002\u4f8b\u5982\uff1a [gcode_macro slow_fan] gcode: M106 S{ printer.fan.speed * 0.9 * 255} Status Reference \u6587\u6a94\u4e2d\u5b9a\u7fa9\u4e86\u53ef\u7528\u5b57\u6bb5\u3002 \u91cd\u8981\uff01\u9996\u5148\u5c0d\u5de8\u96c6\u9032\u884c\u6574\u9ad4\u8a55\u4f30\uff0c\u7136\u5f8c\u624d\u57f7\u884c\u7d50\u679c\u547d\u4ee4\u3002\u5982\u679c\u5b8f\u767c\u51fa\u66f4\u6539\u6253\u5370\u6a5f\u72c0\u614b\u7684\u547d\u4ee4\uff0c\u5247\u5728\u8a55\u4f30\u5b8f\u671f\u9593\u5c07\u770b\u4e0d\u5230\u8a72\u72c0\u614b\u66f4\u6539\u7684\u7d50\u679c\u3002\u7576\u5de8\u96c6\u751f\u6210\u8abf\u7528\u5176\u4ed6\u5de8\u96c6\u7684\u547d\u4ee4\u6642\uff0c\u9019\u4e5f\u53ef\u80fd\u5c0e\u81f4\u5fae\u5999\u7684\u884c\u70ba\uff0c\u56e0\u70ba\u88ab\u8abf\u7528\u7684\u5de8\u96c6\u5728\u8abf\u7528\u6642\u9032\u884c\u8a55\u4f30\uff08\u9019\u662f\u5728\u8abf\u7528\u5de8\u96c6\u7684\u6574\u500b\u8a55\u4f30\u4e4b\u5f8c\uff09\u3002 \u6309\u7167\u6163\u4f8b\uff0c\u7dca\u8ddf\u5728 printer \u5f8c\u9762\u7684\u540d\u7a31\u662f\u914d\u7f6e\u90e8\u5206\u7684\u540d\u7a31\u3002\u56e0\u6b64\uff0c\u4f8b\u5982\uff0c printer.fan \u6307\u7684\u662f\u7531 [fan] \u914d\u7f6e\u90e8\u5206\u5275\u5efa\u7684\u98a8\u6247\u5c0d\u8c61\u3002\u9019\u689d\u898f\u5247\u6709\u4e00\u4e9b\u4f8b\u5916\u2014\u2014\u7279\u5225\u662f gcode_move \u548c toolhead \u5c0d\u8c61\u3002\u5982\u679c\u914d\u7f6e\u90e8\u5206\u5305\u542b\u7a7a\u683c\uff0c\u5247\u53ef\u4ee5\u901a\u904e [ ] \u8a2a\u554f\u5668\u8a2a\u554f\u5b83 - \u4f8b\u5982\uff1a printer[\"generic_heater my_chamber_heater\"].temperature \u3002 \u8acb\u6ce8\u610f\uff0cJinja2 set \u6307\u4ee4\u53ef\u4ee5\u70ba printer \u5c64\u6b21\u7d50\u69cb\u4e2d\u7684\u5c0d\u8c61\u5206\u914d\u672c\u5730\u540d\u7a31\u3002\u9019\u53ef\u4ee5\u4f7f\u5b8f\u66f4\u5177\u53ef\u8b80\u6027\u4e26\u6e1b\u5c11\u9375\u5165\u3002\u4f8b\u5982\uff1a [gcode_macro QUERY_HTU21D] gcode: {% set sensor = printer[\"htu21d my_sensor\"] %} M117 Temp:{sensor.temperature} Humidity:{sensor.humidity} \u53ef\u7528\u64cd\u4f5c \u00b6 \u6709\u4e00\u4e9b\u53ef\u7528\u7684\u547d\u4ee4\u53ef\u4ee5\u6539\u8b8a\u6253\u5370\u6a5f\u7684\u72c0\u614b\u3002\u4f8b\u5982\uff0c { action_emergency_stop() } \u6703\u5c0e\u81f4\u6253\u5370\u6a5f\u9032\u5165\u95dc\u6a5f\u72c0\u614b\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u4e9b\u64cd\u4f5c\u662f\u5728\u8a55\u4f30\u5b8f\u6642\u57f7\u884c\u7684\uff0c\u9019\u53ef\u80fd\u662f\u57f7\u884c\u751f\u6210\u7684 G-Code\u547d\u4ee4\u4e4b\u524d\u7684\u5927\u91cf\u6642\u9593\u3002 \u53ef\u7528\u7684\u300c\u64cd\u4f5c\u300d\u547d\u4ee4\uff1a action_respond_info(msg) \uff1a\u5c07\u7d66\u5b9a\u7684 msg \u5beb\u5165/tmp/printer\u507d\u7d42\u7aef\u3002 msg \u7684\u6bcf\u4e00\u884c\u90fd\u6703\u4ee5\u201c//\u201d\u524d\u7db4\u767c\u9001\u3002 action_raise_error(msg) \uff1a\u4e2d\u6b62\u7576\u524d\u5de8\u96c6\uff08\u548c\u4efb\u4f55\u8abf\u7528\u5de8\u96c6\uff09\u4e26\u5c07\u7d66\u5b9a\u7684 msg \u5beb\u5165/tmp/printer\u507d\u7d42\u7aef\u3002 msg \u7684\u7b2c\u4e00\u884c\u5c07\u4f7f\u7528\u201c!!\u201d\u524d\u7db4\u767c\u9001\uff0c\u5f8c\u7e8c\u884c\u5c07\u4f7f\u7528\u201c//\u201d\u524d\u7db4\u3002 action_emergency_stop(msg) \uff1a\u5c07\u6253\u5370\u6a5f\u8f49\u63db\u70ba\u95dc\u6a5f\u72c0\u614b\u3002 msg \u53c3\u6578\u662f\u53ef\u9078\u7684\uff0c\u5b83\u53ef\u80fd\u6709\u52a9\u65bc\u63cf\u8ff0\u95dc\u9589\u7684\u539f\u56e0\u3002 action_call_remote_method(method_name) \uff1a\u8abf\u7528\u9060\u7a0b\u5ba2\u6236\u7aef\u8a3b\u518a\u7684\u65b9\u6cd5\u3002\u5982\u679c\u65b9\u6cd5\u63a1\u7528\u53c3\u6578\uff0c\u5247\u61c9\u901a\u904e\u95dc\u9375\u5b57\u53c3\u6578\u63d0\u4f9b\uff0c\u5373\uff1a action_call_remote_method(\"print_stuff\", my_arg=\"hello_world\") \u8b8a\u6578 \u00b6 SET_GCODE_VARIABLE \u547d\u4ee4\u53ef\u80fd\u6709\u52a9\u65bc\u5728\u5de8\u96c6\u8abf\u7528\u4e4b\u9593\u4fdd\u5b58\u72c0\u614b\u3002\u8b8a\u91cf\u540d\u4e0d\u80fd\u5305\u542b\u4efb\u4f55\u5927\u5beb\u5b57\u7b26\u3002\u4f8b\u5982\uff1a [gcode_macro start_probe] variable_bed_temp: 0 gcode: # Save target temperature to bed_temp variable SET_GCODE_VARIABLE MACRO=start_probe VARIABLE=bed_temp VALUE={printer.heater_bed.target} # Disable bed heater M140 # Perform probe PROBE # Call finish_probe macro at completion of probe finish_probe [gcode_macro finish_probe] gcode: # Restore temperature M140 S{printer[\"gcode_macro start_probe\"].bed_temp} \u4f7f\u7528 SET_GCODE_VARIABLE \u6642\uff0c\u8acb\u52d9\u5fc5\u8003\u616e\u5de8\u96c6\u8a55\u4f30\u548c\u547d\u4ee4\u57f7\u884c\u7684\u6642\u9593\u3002 \u5ef6\u9072 G-Code \u00b6 [delayed_gcode] \u914d\u7f6e\u9078\u9805\u53ef\u7528\u65bc\u57f7\u884c\u5ef6\u9072\u7684 G-Code \u5e8f\u5217\uff1a [delayed_gcode clear_display] gcode: M117 [gcode_macro load_filament] gcode: G91 G1 E50 G90 M400 M117 Load Complete! UPDATE_DELAYED_GCODE ID=clear_display DURATION=10 \u7576\u4e0a\u9762\u7684 load_filament \u5b8f\u57f7\u884c\u6642\uff0c\u5b83\u6703\u986f\u793a\u201c\u52a0\u8f09\u5b8c\u6210\uff01\u201d\u64e0\u58d3\u5b8c\u6210\u5f8c\u7684\u6d88\u606f\u3002 G-Code \u7684\u6700\u5f8c\u4e00\u884c\u555f\u7528\u4e86\u201cclear_display\u201ddelayed_gcode\uff0c\u8a2d\u7f6e\u70ba\u5728 10 \u79d2\u5167\u57f7\u884c\u3002 initial_duration \u914d\u7f6e\u9078\u9805\u53ef\u4ee5\u8a2d\u7f6e\u70ba\u5728\u6253\u5370\u6a5f\u555f\u52d5\u6642\u57f7\u884cdelayed_gcode\u3002\u7576\u6253\u5370\u6a5f\u9032\u5165\u201c\u5c31\u7dd2\u201d\u72c0\u614b\u6642\u958b\u59cb\u5012\u8a08\u6642\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u7684delayed_gcode\u5c07\u5728\u6253\u5370\u6a5f\u6e96\u5099\u597d5\u79d2\u5f8c\u57f7\u884c\uff0c\u7528\u201c\u6b61\u8fce\uff01\u201d\u521d\u59cb\u5316\u986f\u793a\u4fe1\u606f\uff1a [delayed_gcode welcome] initial_duration: 5. gcode: M117 Welcome! \u901a\u904e\u5728 G-Code \u9078\u9805\u4e2d\u81ea\u6211\u66f4\u65b0\uff0c\u5ef6\u9072\u7684 G-Code \u53ef\u80fd\u6703\u91cd\u8907\uff1a [delayed_gcode report_temp] initial_duration: 2. gcode: {action_respond_info(\"Extruder Temp: %.1f\" % (printer.extruder0.temperature))} UPDATE_DELAYED_GCODE ID=report_temp DURATION=2 \u4e0a\u9762\u7684delayed_gcode \u5c07\u6bcf2 \u79d2\u5411Octoprint \u767c\u9001\u201c// Extruder Temp: [ex0_temp]\u201d\u3002\u9019\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b G-Code \u53d6\u6d88\uff1a UPDATE_DELAYED_GCODE ID=report_temp DURATION=0 \u529f\u80fd\u8868\u7bc4\u672c \u00b6 \u5982\u679c\u555f\u7528\u4e86 display config section \uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 menu \u914d\u7f6e\u90e8\u5206\u81ea\u5b9a\u7fa9\u83dc\u55ae\u3002 \u83dc\u55ae\u6a21\u677f\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u53ea\u8b80\u5c6c\u6027\uff1a menu.width - \u5143\u7d20\u5bec\u5ea6\uff08\u986f\u793a\u5217\u6578\uff09 menu.ns - \u5143\u7d20\u547d\u540d\u7a7a\u9593 \"menu.event\" - \u89f8\u767c\u8173\u672c\u7684\u4e8b\u4ef6\u7684\u540d\u7a31 menu.input - \u8f38\u5165\u6578\u503c\uff0c\u50c5\u5728\u8f38\u5165\u8173\u672c\u4e0a\u4e0b\u6587\u4e2d\u53ef\u7528 \u9078\u55ae\u7bc4\u672c\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u64cd\u4f5c\uff1a menu.back(force, update) \uff1a\u5c07\u57f7\u884c\u83dc\u55ae\u8fd4\u56de\u547d\u4ee4\uff0c\u53ef\u9078\"\u662f/\u5426\"\u53c3\u6578 <force> \u548c <update> \u3002 \u7576 <force> \u8a2d\u7f6e\u70ba\"\u662f\"\u6642\uff0c\u5b83\u4e5f\u6703\u505c\u6b62\u7de8\u8f2f\u3002\u9ed8\u8a8d\u503c\u70ba\"\u5426\"\u3002 \u7576 <update> \u8a2d\u7f6e\u70ba \"\u5426\" \u6642\uff0c\u4e0d\u6703\u66f4\u65b0\u7236\u5bb9\u5668\u9805\u3002\u9ed8\u8a8d\u503c\u70ba\"\u662f\"\u3002 menu.exit(force) - \u5c07\u57f7\u884c\u83dc\u55ae\u9000\u51fa\u547d\u4ee4\uff0c\u53ef\u9078\"\u662f/\u5426\"\u53c3\u6578 <force> \u9ed8\u8a8d\u503c\u70ba \"\u5426\"\u3002 \u7576 <force> \u8a2d\u7f6e\u70ba\"\u662f\"\u6642\uff0c\u5b83\u4e5f\u6703\u505c\u6b62\u7de8\u8f2f\u3002\u9ed8\u8a8d\u503c\u70ba\"\u5426\"\u3002 \u5c07\u8b8a\u6578\u4fdd\u5b58\u5230\u78c1\u789f \u00b6 \u5982\u679c\u555f\u7528\u4e86 save_variables config section \uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 SAVE_VARIABLE VARIABLE=<name> VALUE=<value> \u5c07\u8b8a\u6578\u4fdd\u5b58\u5230\u78c1\u76e4\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u555f\u52d5\u6642\u4f7f\u7528\u5b83\u3002\u6240\u6709\u5b58\u5132\u7684\u8b8a\u6578\u90fd\u6703\u5728\u555f\u52d5\u6642\u52a0\u8f09\u5230 printer.save_variables.variables dict \u4e2d\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728G-Code \u5de8\u96c6\u4e2d\u4f7f\u7528\u3002\u70ba\u907f\u514d\u884c\u904e\u9577\uff0c\u60a8\u53ef\u4ee5\u5728\u5de8\u96c6\u9802\u90e8\u6dfb\u52a0\u4ee5\u4e0b\u5167\u5bb9\uff1a {% set svv = printer.save_variables.variables %} \u4f8b\u5982\uff0c\u5b83\u53ef\u7528\u65bc\u4fdd\u5b58 \u4e8c\u5165\u4e00\u51fa\u71b1\u982d\u7684\u72c0\u614b\uff0c\u4e26\u5728\u958b\u59cb\u6253\u5370\u6642\u78ba\u4fdd\u4f7f\u7528\u6d3b\u52d5\u7684\u64e0\u51fa\u6a5f\uff0c\u800c\u4e0d\u662f T0\uff1a [gcode_macro T1] gcode: ACTIVATE_EXTRUDER extruder=extruder1 SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder1\"' [gcode_macro T0] gcode: ACTIVATE_EXTRUDER extruder=extruder SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder\"' [gcode_macro START_GCODE] gcode: {% set svv = printer.save_variables.variables %} ACTIVATE_EXTRUDER extruder={svv.currentextruder}","title":"\u547d\u4ee4\u6a21\u677f"},{"location":"Command_Templates.html#_1","text":"\u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 gcode_macro\uff08\u548c\u5176\u4ed6\u985e\u4f3c\uff09\u914d\u7f6e\u5206\u6bb5\u4e2d\u5be6\u73fe G-Code \u547d\u4ee4\u5e8f\u5217\u7684\u65b9\u6cd5\u3002","title":"\u547d\u4ee4\u6a21\u677f"},{"location":"Command_Templates.html#g","text":"G-Code \u5b8f\u7684\u540d\u7a31\u5927\u5c0f\u5beb\u4e26\u4e0d\u91cd\u8981\u3002\u6bd4\u5982\uff0cMY_MACRO \u548c my_macro \u662f\u7b49\u6548\u7684\uff0c\u53ef\u4ee5\u7528\u5927\u5beb\u6216\u5c0f\u5beb\u4f86\u547c\u53eb\u3002\u5982\u679c\u5728\u5b8f\u7684\u540d\u7a31\u4e2d\u4f7f\u7528\u4efb\u4f55\u6578\u5b57\uff0c\u90a3\u9ebc\u5b83\u5011\u5fc5\u9808\u90fd\u5728\u540d\u7a31\u7684\u672b\u5c3e\uff08\u4f8b\u5982\uff0cTEST_MACRO25\u662f\u5408\u6cd5\u7684\uff0c\u4f46MACRO25_TEST3\u662f\u4e0d\u5408\u6cd5\u7684\uff09\u3002","title":"G \u7a0b\u5f0f\u78bc\u5b8f\u547d\u540d"},{"location":"Command_Templates.html#g-code","text":"\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u4e00\u500b\u5b8f\u6642\u9700\u8981\u6ce8\u610f\u7e2e\u6392\u3002\u5728\u5b9a\u7fa9\u591a\u884c\u7684G\u7a0b\u5f0f\u78bc\u5e8f\u5217\u6642\u6bcf\u884c\u90fd\u8981\u6709\u9069\u7576\u7684\u7e2e\u6392\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 \u8acb\u6ce8\u610f\uff0c gcode: \u914d\u7f6e\u9078\u9805\u7e3d\u662f\u5f9e\u884c\u9996\u958b\u59cb\uff0c\u800c G-Code \u5b8f\u4e2d\u7684\u5f8c\u7e8c\u884c\u5f9e\u4e0d\u5f9e\u884c\u9996\u958b\u59cb\u3002","title":"\u914d\u7f6e\u4e2d G-Code\u7684\u683c\u5f0f"},{"location":"Command_Templates.html#_2","text":"\u53ef\u4ee5\u901a\u904e\u65b0\u589e description: \u548c\u7c21\u77ed\u7684\u63cf\u8ff0\u4f86\u5e6b\u52a9\u7406\u89e3\u8a72\u529f\u80fd\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\uff0c\u9810\u8a2d\u70ba\"G-Code macro\"\u3002\u4f8b\u5982\uff1a [gcode_macro blink_led] description: Blink my_led one time gcode: SET_PIN PIN=my_led VALUE=1 G4 P2000 SET_PIN PIN=my_led VALUE=0 \u7576\u60a8\u4f7f\u7528\u201cHELP\u201d\u547d\u4ee4\u6216\u81ea\u52d5\u5b8c\u6210\u529f\u80fd\u6642\uff0c\u7d42\u7aef\u5c07\u986f\u793a\u63cf\u8ff0\u3002","title":"\u5411\u5b8f\u65b0\u589e\u63cf\u8ff0"},{"location":"Command_Templates.html#g-code_1","text":"\u4e0d\u5e78\u7684\u662f\uff0cG-Code \u547d\u4ee4\u8a9e\u8a00\u5728\u4f7f\u7528\u4e0a\u6709\u4e9b\u96e3\u5ea6\u3002\u79fb\u52d5\u5de5\u5177\u982d\u7684\u6a19\u6e96\u6a5f\u5236\u662f\u901a\u904e G1 \u547d\u4ee4\uff08 G0 \u547d\u4ee4\u662f G1 \u7684\u5225\u540d\uff0c\u5b83\u5011\u4e92\u63db\u4f7f\u7528\uff09\u3002\u7136\u800c\uff0c\u9019\u500b\u547d\u4ee4\u4f9d\u8cf4\u65bc\u7531 M82 \u3001 M83 \u3001 G90 \u3001 G91 \u3001 G92 , \u4ee5\u53ca\u5148\u524d\u7684 G1 \u547d\u4ee4\u6240\u8a2d\u5b9a\u7684\"G-Code\u89e3\u6790\u72c0\u614b\"\u3002\u5728\u5efa\u7acb G-Code \u5b8f\u6642\uff0c\u6700\u597d\u5728\u767c\u51fa G1 \u547d\u4ee4\u4e4b\u524d\uff0c\u5148\u660e\u78ba G-Code \u89e3\u6790\u72c0\u614b\u3002(\u5426\u5247\uff0c G1 \u547d\u4ee4\u5c31\u6709\u53ef\u80fd\u63d0\u51fa\u4e00\u500b\u4e0d\u7b26\u5408\u9810\u671f\u7684\u8acb\u6c42\u3002\uff09 \u5be6\u73fe\u9019\u4e00\u76ee\u6a19\u7684\u5e38\u898b\u65b9\u6cd5\u662f\u5c07 G1 \u79fb\u52d5\u5305\u88dd\u5728 SAVE_GCODE_STATE \u3001 G91 \u548c RESTORE_GCODE_STATE \u4e2d\u3002\u4f8b\u5982\uff1a [gcode_macro MOVE_UP] gcode: SAVE_GCODE_STATE NAME=my_move_up_state G91 G1 Z10 F300 RESTORE_GCODE_STATE NAME=my_move_up_state G91 \u547d\u4ee4\u5c07 G-Code\u89e3\u6790\u72c0\u614b\u7f6e\u65bc\u201c\u76f8\u5c0d\u79fb\u52d5\u6a21\u5f0f\u201d\uff0c\u800c RESTORE_GCODE_STATE \u547d\u4ee4\u5c07\u72c0\u614b\u6062\u5fa9\u5230\u9032\u5165\u5de8\u96c6\u4e4b\u524d\u7684\u72c0\u614b\u3002\u78ba\u4fdd\u5728\u7b2c\u4e00\u500b\u201cG1\u201d\u547d\u4ee4\u4e0a\u6307\u5b9a\u4e00\u500b\u660e\u78ba\u7684\u901f\u5ea6\uff08\u901a\u904e\u201cF\u201d\u53c3\u6578\uff09\u3002","title":"\u5132\u5b58/\u6062\u5fa9 G-Code \u79fb\u52d5\u7684\u72c0\u614b"},{"location":"Command_Templates.html#_3","text":"gcode_macro gcode: \u914d\u7f6e\u90e8\u5206\u4f7f\u7528 Jinja2 \u6a21\u677f\u8a9e\u8a00\u9032\u884c\u8a55\u4f30\u3002\u53ef\u4ee5\u901a\u904e\u5c07\u8868\u9054\u5f0f\u5305\u88dd\u5728\u201c{}\u201d\u5b57\u7b26\u4e2d\u6216\u4f7f\u7528\u689d\u4ef6\u8a9e\u53e5\u5305\u88dd\u5728\u201c{% %}\u201d\u4e2d\u4f86\u5728\u904b\u884c\u6642\u8a55\u4f30\u8868\u9054\u5f0f\u3002\u6709\u95dc\u8a9e\u6cd5\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 Jinja2 \u6587\u6a94 . \u4e00\u500b\u66f4\u5fa9\u96dc\u7684\u5b8f\u793a\u4f8b\uff1a [gcode_macro clean_nozzle] gcode: {% set wipe_count = 8 %} SAVE_GCODE_STATE NAME=clean_nozzle_state G90 G0 Z15 F300 {% for wipe in range(wipe_count) %} {% for coordinate in [(275, 4),(235, 4)] %} G0 X{coordinate[0]} Y{coordinate[1] + 0.25 * wipe} Z9.7 F12000 {% endfor %} {% endfor %} RESTORE_GCODE_STATE NAME=clean_nozzle_state","title":"\u6a21\u677f\u64f4\u5145\u5957\u4ef6"},{"location":"Command_Templates.html#_4","text":"\u5728\u8abf\u7528\u5de8\u96c6\u6642\u6aa2\u67e5\u50b3\u905e\u7d66\u5de8\u96c6\u7684\u53c3\u6578\u901a\u5e38\u5f88\u6709\u7528\u3002\u9019\u4e9b\u53c3\u6578\u53ef\u901a\u904e params \u507d\u8b8a\u6578\u7372\u5f97\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5de8\u96c6\uff1a [gcode_macro SET_PERCENT] gcode: M117 Now at { params.VALUE|float * 100 }% \u88ab\u8abf\u7528\u70ba\u201cSET_PERCENT VALUE=.2\u201d\uff0c\u5b83\u5c07\u8a55\u4f30\u70ba\u201cM117 Now at 20%\u201d\u3002\u8acb\u6ce8\u610f\uff0c\u5728\u5b8f\u4e2d\u6c42\u503c\u6642\uff0c\u53c3\u6578\u540d\u7a31\u59cb\u7d42\u70ba\u5927\u5beb\uff0c\u4e26\u4e14\u59cb\u7d42\u4f5c\u70ba\u5b57\u7b26\u4e32\u50b3\u905e\u3002\u5982\u679c\u57f7\u884c\u6578\u5b78\u904b\u7b97\uff0c\u5247\u5fc5\u9808\u5c07\u5b83\u5011\u986f\u5f0f\u8f49\u63db\u70ba\u6574\u6578\u6216\u6d6e\u9ede\u6578\u3002 \u901a\u5e38\u4f7f\u7528 Jinja2 set \u6307\u4ee4\u4f86\u4f7f\u7528\u9ed8\u8a8d\u53c3\u6578\u4e26\u5c07\u7d50\u679c\u5206\u914d\u7d66\u672c\u5730\u540d\u7a31\u3002\u4f8b\u5982\uff1a [gcode_macro SET_BED_TEMPERATURE] gcode: {% set bed_temp = params.TEMPERATURE|default(40)|float %} M140 S{bed_temp}","title":"\u5b8f\u89c0\u53c3\u6578"},{"location":"Command_Templates.html#rawparams","text":"\u904b\u884c\u5de8\u96c6\u7684\u5b8c\u6574\u672a\u89e3\u6790\u53c3\u6578\u53ef\u4ee5\u901a\u904e rawparams \u507d\u8b8a\u6578\u8a2a\u554f\u3002 \u5982\u679c\u60a8\u60f3\u66f4\u6539\u67d0\u4e9b\u547d\u4ee4\uff08\u5982\u201cM117\u201d\uff09\u7684\u884c\u70ba\uff0c\u9019\u975e\u5e38\u6709\u7528\u3002\u4f8b\u5982\uff1a [gcode_macro M117] rename_existing: M117.1 gcode: {% if rawparams %} {% set escaped_msg = rawparams|replace('\"', '\\\\\"') %} SET_DISPLAY_TEXT MSG=\"{escaped_msg}\" RESPOND TYPE=command MSG=\"{escaped_msg}\" {% else %} SET_DISPLAY_TEXT {% endif %}","title":"\"rawparams\" \u8b8a\u6578"},{"location":"Command_Templates.html#printer","text":"\u53ef\u4ee5\u901a\u904e printer \u507d\u8b8a\u6578\u6aa2\u67e5\uff08\u548c\u66f4\u6539\uff09\u6253\u5370\u6a5f\u7684\u7576\u524d\u72c0\u614b\u3002\u4f8b\u5982\uff1a [gcode_macro slow_fan] gcode: M106 S{ printer.fan.speed * 0.9 * 255} Status Reference \u6587\u6a94\u4e2d\u5b9a\u7fa9\u4e86\u53ef\u7528\u5b57\u6bb5\u3002 \u91cd\u8981\uff01\u9996\u5148\u5c0d\u5de8\u96c6\u9032\u884c\u6574\u9ad4\u8a55\u4f30\uff0c\u7136\u5f8c\u624d\u57f7\u884c\u7d50\u679c\u547d\u4ee4\u3002\u5982\u679c\u5b8f\u767c\u51fa\u66f4\u6539\u6253\u5370\u6a5f\u72c0\u614b\u7684\u547d\u4ee4\uff0c\u5247\u5728\u8a55\u4f30\u5b8f\u671f\u9593\u5c07\u770b\u4e0d\u5230\u8a72\u72c0\u614b\u66f4\u6539\u7684\u7d50\u679c\u3002\u7576\u5de8\u96c6\u751f\u6210\u8abf\u7528\u5176\u4ed6\u5de8\u96c6\u7684\u547d\u4ee4\u6642\uff0c\u9019\u4e5f\u53ef\u80fd\u5c0e\u81f4\u5fae\u5999\u7684\u884c\u70ba\uff0c\u56e0\u70ba\u88ab\u8abf\u7528\u7684\u5de8\u96c6\u5728\u8abf\u7528\u6642\u9032\u884c\u8a55\u4f30\uff08\u9019\u662f\u5728\u8abf\u7528\u5de8\u96c6\u7684\u6574\u500b\u8a55\u4f30\u4e4b\u5f8c\uff09\u3002 \u6309\u7167\u6163\u4f8b\uff0c\u7dca\u8ddf\u5728 printer \u5f8c\u9762\u7684\u540d\u7a31\u662f\u914d\u7f6e\u90e8\u5206\u7684\u540d\u7a31\u3002\u56e0\u6b64\uff0c\u4f8b\u5982\uff0c printer.fan \u6307\u7684\u662f\u7531 [fan] \u914d\u7f6e\u90e8\u5206\u5275\u5efa\u7684\u98a8\u6247\u5c0d\u8c61\u3002\u9019\u689d\u898f\u5247\u6709\u4e00\u4e9b\u4f8b\u5916\u2014\u2014\u7279\u5225\u662f gcode_move \u548c toolhead \u5c0d\u8c61\u3002\u5982\u679c\u914d\u7f6e\u90e8\u5206\u5305\u542b\u7a7a\u683c\uff0c\u5247\u53ef\u4ee5\u901a\u904e [ ] \u8a2a\u554f\u5668\u8a2a\u554f\u5b83 - \u4f8b\u5982\uff1a printer[\"generic_heater my_chamber_heater\"].temperature \u3002 \u8acb\u6ce8\u610f\uff0cJinja2 set \u6307\u4ee4\u53ef\u4ee5\u70ba printer \u5c64\u6b21\u7d50\u69cb\u4e2d\u7684\u5c0d\u8c61\u5206\u914d\u672c\u5730\u540d\u7a31\u3002\u9019\u53ef\u4ee5\u4f7f\u5b8f\u66f4\u5177\u53ef\u8b80\u6027\u4e26\u6e1b\u5c11\u9375\u5165\u3002\u4f8b\u5982\uff1a [gcode_macro QUERY_HTU21D] gcode: {% set sensor = printer[\"htu21d my_sensor\"] %} M117 Temp:{sensor.temperature} Humidity:{sensor.humidity}","title":"\"printer\"\u8b8a\u6578"},{"location":"Command_Templates.html#_5","text":"\u6709\u4e00\u4e9b\u53ef\u7528\u7684\u547d\u4ee4\u53ef\u4ee5\u6539\u8b8a\u6253\u5370\u6a5f\u7684\u72c0\u614b\u3002\u4f8b\u5982\uff0c { action_emergency_stop() } \u6703\u5c0e\u81f4\u6253\u5370\u6a5f\u9032\u5165\u95dc\u6a5f\u72c0\u614b\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u4e9b\u64cd\u4f5c\u662f\u5728\u8a55\u4f30\u5b8f\u6642\u57f7\u884c\u7684\uff0c\u9019\u53ef\u80fd\u662f\u57f7\u884c\u751f\u6210\u7684 G-Code\u547d\u4ee4\u4e4b\u524d\u7684\u5927\u91cf\u6642\u9593\u3002 \u53ef\u7528\u7684\u300c\u64cd\u4f5c\u300d\u547d\u4ee4\uff1a action_respond_info(msg) \uff1a\u5c07\u7d66\u5b9a\u7684 msg \u5beb\u5165/tmp/printer\u507d\u7d42\u7aef\u3002 msg \u7684\u6bcf\u4e00\u884c\u90fd\u6703\u4ee5\u201c//\u201d\u524d\u7db4\u767c\u9001\u3002 action_raise_error(msg) \uff1a\u4e2d\u6b62\u7576\u524d\u5de8\u96c6\uff08\u548c\u4efb\u4f55\u8abf\u7528\u5de8\u96c6\uff09\u4e26\u5c07\u7d66\u5b9a\u7684 msg \u5beb\u5165/tmp/printer\u507d\u7d42\u7aef\u3002 msg \u7684\u7b2c\u4e00\u884c\u5c07\u4f7f\u7528\u201c!!\u201d\u524d\u7db4\u767c\u9001\uff0c\u5f8c\u7e8c\u884c\u5c07\u4f7f\u7528\u201c//\u201d\u524d\u7db4\u3002 action_emergency_stop(msg) \uff1a\u5c07\u6253\u5370\u6a5f\u8f49\u63db\u70ba\u95dc\u6a5f\u72c0\u614b\u3002 msg \u53c3\u6578\u662f\u53ef\u9078\u7684\uff0c\u5b83\u53ef\u80fd\u6709\u52a9\u65bc\u63cf\u8ff0\u95dc\u9589\u7684\u539f\u56e0\u3002 action_call_remote_method(method_name) \uff1a\u8abf\u7528\u9060\u7a0b\u5ba2\u6236\u7aef\u8a3b\u518a\u7684\u65b9\u6cd5\u3002\u5982\u679c\u65b9\u6cd5\u63a1\u7528\u53c3\u6578\uff0c\u5247\u61c9\u901a\u904e\u95dc\u9375\u5b57\u53c3\u6578\u63d0\u4f9b\uff0c\u5373\uff1a action_call_remote_method(\"print_stuff\", my_arg=\"hello_world\")","title":"\u53ef\u7528\u64cd\u4f5c"},{"location":"Command_Templates.html#_6","text":"SET_GCODE_VARIABLE \u547d\u4ee4\u53ef\u80fd\u6709\u52a9\u65bc\u5728\u5de8\u96c6\u8abf\u7528\u4e4b\u9593\u4fdd\u5b58\u72c0\u614b\u3002\u8b8a\u91cf\u540d\u4e0d\u80fd\u5305\u542b\u4efb\u4f55\u5927\u5beb\u5b57\u7b26\u3002\u4f8b\u5982\uff1a [gcode_macro start_probe] variable_bed_temp: 0 gcode: # Save target temperature to bed_temp variable SET_GCODE_VARIABLE MACRO=start_probe VARIABLE=bed_temp VALUE={printer.heater_bed.target} # Disable bed heater M140 # Perform probe PROBE # Call finish_probe macro at completion of probe finish_probe [gcode_macro finish_probe] gcode: # Restore temperature M140 S{printer[\"gcode_macro start_probe\"].bed_temp} \u4f7f\u7528 SET_GCODE_VARIABLE \u6642\uff0c\u8acb\u52d9\u5fc5\u8003\u616e\u5de8\u96c6\u8a55\u4f30\u548c\u547d\u4ee4\u57f7\u884c\u7684\u6642\u9593\u3002","title":"\u8b8a\u6578"},{"location":"Command_Templates.html#g-code_2","text":"[delayed_gcode] \u914d\u7f6e\u9078\u9805\u53ef\u7528\u65bc\u57f7\u884c\u5ef6\u9072\u7684 G-Code \u5e8f\u5217\uff1a [delayed_gcode clear_display] gcode: M117 [gcode_macro load_filament] gcode: G91 G1 E50 G90 M400 M117 Load Complete! UPDATE_DELAYED_GCODE ID=clear_display DURATION=10 \u7576\u4e0a\u9762\u7684 load_filament \u5b8f\u57f7\u884c\u6642\uff0c\u5b83\u6703\u986f\u793a\u201c\u52a0\u8f09\u5b8c\u6210\uff01\u201d\u64e0\u58d3\u5b8c\u6210\u5f8c\u7684\u6d88\u606f\u3002 G-Code \u7684\u6700\u5f8c\u4e00\u884c\u555f\u7528\u4e86\u201cclear_display\u201ddelayed_gcode\uff0c\u8a2d\u7f6e\u70ba\u5728 10 \u79d2\u5167\u57f7\u884c\u3002 initial_duration \u914d\u7f6e\u9078\u9805\u53ef\u4ee5\u8a2d\u7f6e\u70ba\u5728\u6253\u5370\u6a5f\u555f\u52d5\u6642\u57f7\u884cdelayed_gcode\u3002\u7576\u6253\u5370\u6a5f\u9032\u5165\u201c\u5c31\u7dd2\u201d\u72c0\u614b\u6642\u958b\u59cb\u5012\u8a08\u6642\u3002\u4f8b\u5982\uff0c\u4e0b\u9762\u7684delayed_gcode\u5c07\u5728\u6253\u5370\u6a5f\u6e96\u5099\u597d5\u79d2\u5f8c\u57f7\u884c\uff0c\u7528\u201c\u6b61\u8fce\uff01\u201d\u521d\u59cb\u5316\u986f\u793a\u4fe1\u606f\uff1a [delayed_gcode welcome] initial_duration: 5. gcode: M117 Welcome! \u901a\u904e\u5728 G-Code \u9078\u9805\u4e2d\u81ea\u6211\u66f4\u65b0\uff0c\u5ef6\u9072\u7684 G-Code \u53ef\u80fd\u6703\u91cd\u8907\uff1a [delayed_gcode report_temp] initial_duration: 2. gcode: {action_respond_info(\"Extruder Temp: %.1f\" % (printer.extruder0.temperature))} UPDATE_DELAYED_GCODE ID=report_temp DURATION=2 \u4e0a\u9762\u7684delayed_gcode \u5c07\u6bcf2 \u79d2\u5411Octoprint \u767c\u9001\u201c// Extruder Temp: [ex0_temp]\u201d\u3002\u9019\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b G-Code \u53d6\u6d88\uff1a UPDATE_DELAYED_GCODE ID=report_temp DURATION=0","title":"\u5ef6\u9072 G-Code"},{"location":"Command_Templates.html#_7","text":"\u5982\u679c\u555f\u7528\u4e86 display config section \uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 menu \u914d\u7f6e\u90e8\u5206\u81ea\u5b9a\u7fa9\u83dc\u55ae\u3002 \u83dc\u55ae\u6a21\u677f\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u53ea\u8b80\u5c6c\u6027\uff1a menu.width - \u5143\u7d20\u5bec\u5ea6\uff08\u986f\u793a\u5217\u6578\uff09 menu.ns - \u5143\u7d20\u547d\u540d\u7a7a\u9593 \"menu.event\" - \u89f8\u767c\u8173\u672c\u7684\u4e8b\u4ef6\u7684\u540d\u7a31 menu.input - \u8f38\u5165\u6578\u503c\uff0c\u50c5\u5728\u8f38\u5165\u8173\u672c\u4e0a\u4e0b\u6587\u4e2d\u53ef\u7528 \u9078\u55ae\u7bc4\u672c\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u64cd\u4f5c\uff1a menu.back(force, update) \uff1a\u5c07\u57f7\u884c\u83dc\u55ae\u8fd4\u56de\u547d\u4ee4\uff0c\u53ef\u9078\"\u662f/\u5426\"\u53c3\u6578 <force> \u548c <update> \u3002 \u7576 <force> \u8a2d\u7f6e\u70ba\"\u662f\"\u6642\uff0c\u5b83\u4e5f\u6703\u505c\u6b62\u7de8\u8f2f\u3002\u9ed8\u8a8d\u503c\u70ba\"\u5426\"\u3002 \u7576 <update> \u8a2d\u7f6e\u70ba \"\u5426\" \u6642\uff0c\u4e0d\u6703\u66f4\u65b0\u7236\u5bb9\u5668\u9805\u3002\u9ed8\u8a8d\u503c\u70ba\"\u662f\"\u3002 menu.exit(force) - \u5c07\u57f7\u884c\u83dc\u55ae\u9000\u51fa\u547d\u4ee4\uff0c\u53ef\u9078\"\u662f/\u5426\"\u53c3\u6578 <force> \u9ed8\u8a8d\u503c\u70ba \"\u5426\"\u3002 \u7576 <force> \u8a2d\u7f6e\u70ba\"\u662f\"\u6642\uff0c\u5b83\u4e5f\u6703\u505c\u6b62\u7de8\u8f2f\u3002\u9ed8\u8a8d\u503c\u70ba\"\u5426\"\u3002","title":"\u529f\u80fd\u8868\u7bc4\u672c"},{"location":"Command_Templates.html#_8","text":"\u5982\u679c\u555f\u7528\u4e86 save_variables config section \uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 SAVE_VARIABLE VARIABLE=<name> VALUE=<value> \u5c07\u8b8a\u6578\u4fdd\u5b58\u5230\u78c1\u76e4\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u555f\u52d5\u6642\u4f7f\u7528\u5b83\u3002\u6240\u6709\u5b58\u5132\u7684\u8b8a\u6578\u90fd\u6703\u5728\u555f\u52d5\u6642\u52a0\u8f09\u5230 printer.save_variables.variables dict \u4e2d\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728G-Code \u5de8\u96c6\u4e2d\u4f7f\u7528\u3002\u70ba\u907f\u514d\u884c\u904e\u9577\uff0c\u60a8\u53ef\u4ee5\u5728\u5de8\u96c6\u9802\u90e8\u6dfb\u52a0\u4ee5\u4e0b\u5167\u5bb9\uff1a {% set svv = printer.save_variables.variables %} \u4f8b\u5982\uff0c\u5b83\u53ef\u7528\u65bc\u4fdd\u5b58 \u4e8c\u5165\u4e00\u51fa\u71b1\u982d\u7684\u72c0\u614b\uff0c\u4e26\u5728\u958b\u59cb\u6253\u5370\u6642\u78ba\u4fdd\u4f7f\u7528\u6d3b\u52d5\u7684\u64e0\u51fa\u6a5f\uff0c\u800c\u4e0d\u662f T0\uff1a [gcode_macro T1] gcode: ACTIVATE_EXTRUDER extruder=extruder1 SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder1\"' [gcode_macro T0] gcode: ACTIVATE_EXTRUDER extruder=extruder SAVE_VARIABLE VARIABLE=currentextruder VALUE='\"extruder\"' [gcode_macro START_GCODE] gcode: {% set svv = printer.save_variables.variables %} ACTIVATE_EXTRUDER extruder={svv.currentextruder}","title":"\u5c07\u8b8a\u6578\u4fdd\u5b58\u5230\u78c1\u789f"},{"location":"Config_Changes.html","text":"\u914d\u7f6e\u8b8a\u66f4 \u00b6 \u672c\u6587\u4ef6\u6db5\u84cb\u4e86\u8edf\u9ad4\u66f4\u65b0\u4e2d\u5c0d\u914d\u7f6e\u6a94\u6848\u4e0d\u5411\u540e\u76f8\u5bb9\u7684\u90e8\u5206\u3002\u5728\u5347\u7d1a Klipper \u6642\uff0c\u6700\u597d\u4e5f\u6aa2\u8996\u4e00\u4e0b\u9019\u4efd\u6587\u4ef6\u3002 \u672c\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u65e5\u671f\u90fd\u662f\u4e0d\u7cbe\u78ba\u7684\u3002 \u8b8a\u66f4 \u00b6 20220616: It was previously possible to flash an rp2040 in bootloader mode by running make flash FLASH_DEVICE=first . The equivalent command is now make flash FLASH_DEVICE=2e8a:0003 . 20220612: The rp2040 micro-controller now has a workaround for the \"rp2040-e5\" USB errata. This should make initial USB connections more reliable. However, it may result in a change in behavior for the gpio15 pin. It is unlikely the gpio15 behavior change will be noticeable. 20220407: The temperature_fan pid_integral_max config option has been removed (it was deprecated on 20210612). 20220407: The default color order for pca9632 LEDs is now \"RGBW\". Add an explicit color_order: RBGW setting to the pca9632 config section to obtain the previous behavior. 20220330: The format of the printer.neopixel.color_data status information for neopixel and dotstar modules has changed. The information is now stored as a list of color lists (instead of a list of dictionaries). See the status reference for details. 20220307: M73 will no longer set print progress to 0 if P is missing. 20220304: There is no longer a default for the extruder parameter of extruder_stepper config sections. If desired, specify extruder: extruder explicitly to associate the stepper motor with the \"extruder\" motion queue at startup. 20220210\uff1a SYNC_STEPPER_TO_EXTRUDER \u3001 SET_EXTRUDER_STEP_DISTANCE \u3001 extruder \u7684 shared_heater \u914d\u7f6e\u9078\u9805\u5df2\u68c4\u7528\u3002\u9019\u4e9b\u529f\u80fd\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u522a\u9664\u3002\u5c07 SET_EXTRUDER_STEP_DISTANCE \u66ff\u63db\u70ba SET_EXTRUDER_ROTATION_DISTANCE \uff0c SYNC_STEPPER_TO_EXTRUDER \u66ff\u63db\u70ba SYNC_EXTRUDER_MOTION \uff0c\u4f7f\u7528 shared_heater \u8207 extruder_stepper \u914d\u7f6e\u5206\u6bb5\u66ff\u63db extruder \u914d\u7f6e\u5206\u6bb5\uff0c\u4e26\u66f4\u65b0\u6240\u6709\u555f\u7528\u5b8f\u4ee5\u4f7f\u7528 SYNC_EXTRUDER_MOTION \u3002 20220116: \u8b8a\u66f4\u4e86tmc2130\u3001tmc2208\u3001tmc2209\u548ctmc2660\u7684 run_current \u8a08\u7b97\u7a0b\u5f0f\u78bc\u3002\u5c0d\u65bc\u4e00\u4e9b run_current \u8a2d\u5b9a\uff0c\u9a45\u52d5\u7a0b\u5f0f\u73fe\u5728\u7684\u914d\u7f6e\u7d50\u679c\u53ef\u80fd\u88ab\u548c\u539f\u4f86\u4e0d\u540c\u3002\u65b0\u7684\u914d\u7f6e\u61c9\u8a72\u66f4\u6e96\u78ba\uff0c\u4f46\u5b83\u53ef\u80fd\u5c0e\u81f4\u524d\u7684tmc\u9a45\u52d5\u8abf\u8ae7\u5931\u6548\u3002 20211230: \u9077\u79fb\u8f38\u5165\u6574\u5f62\u5668\u8abf\u6574\u6307\u4ee4\u78bc\uff08 scripts/calibrate_shaper.py \u548c scripts/graph_accelerometer.py \uff09\uff0c\u65b0\u6307\u4ee4\u78bc\u9810\u8a2d\u4f7f\u7528Python3\u3002\u56e0\u6b64\uff0c\u5fc5\u9808\u5b89\u88ddPython3\u7248\u672c\u7684\u67d0\u4e9b\u8edf\u9ad4\u5305\uff08\u4f8b\u5982\uff0c sudo apt install python3-numpy python3-matplotlib \uff09\u624d\u80fd\u7e7c\u7e8c\u4f7f\u7528\u9019\u4e9b\u6307\u4ee4\u78bc\u3002\u66f4\u591a\u7d30\u7bc0\uff0c\u8acb\u53c3\u8003 \u8edf\u9ad4\u5b89\u88dd \u3002\u53e6\u5916\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u901a\u904e\u5728\u63a7\u5236\u6aaf\u986f\u6027\u547c\u53ebPython2\u76f4\u8b6f\u5668\uff0c\u81e8\u6642\u5f37\u5236\u5728Python 2\u4e0b\u57f7\u884c\u9019\u4e9b\u6307\u4ee4\u78bc\uff1a python2 ~/klipper/scripts/calibrate_shaper.py ... 20211110: \u68c4\u7528\"NTC 100K beta 3950 \"\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u672a\u4f86\u6703\u522a\u9664\u9019\u500b\u611f\u6e2c\u5668\u3002\u5927\u591a\u6578\u4f7f\u7528\u8005\u6703\u767c\u73fe \"Generic 3950 \"\u6eab\u5ea6\u611f\u6e2c\u5668\u66f4\u6e96\u78ba\u3002\u8981\u7e7c\u7e8c\u4f7f\u7528\u820a\u7684\uff08\u901a\u5e38\u4e0d\u592a\u6e96\u78ba\uff09\u5b9a\u7fa9\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u81ea\u5b9a\u7fa9\u7684 thermistor \uff0c\u5176\u4e2d\u5305\u62ec temperature1: 25 \uff0c resistance1: 100000 \u548c beta: 3950 \u3002 20211104\uff1a\u522a\u9664\u4e86\"make menuconfig \"\u4e2d\u7684 \"step pulse duration \"\u9078\u9805\u3002\u73fe\u5728\u5728UART\u6216SPI\u6a21\u5f0f\u4e0b\u914d\u7f6e\u7684TMC\u9a45\u52d5\u5668\u7684\u9810\u8a2d\u6b65\u9577\u662f100ns\u3002\u5728 stepper config section \u4e2d\u7684\u589e\u52a0\u4e86\u4e00\u500b\u65b0\u7684 step_pulse_duration \u8a2d\u5b9a\uff0c\u6240\u6709\u9700\u8981\u81ea\u5b9a\u7fa9\u8108\u885d\u6301\u7e8c\u6642\u9593\u7684\u6b65\u9032\u9a45\u52d5\u5668\u90fd\u9700\u8981\u8a2d\u5b9a\u3002 20211102\uff1a\u522a\u9664\u4e86\u591a\u500b\u5ee2\u68c4\u7684\u529f\u80fd\u3002\u522a\u9664\u4e86\u6b65\u9032\u5668 step_distance \u9078\u9805\uff08\u5df2\u65bc20201222\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86 rpi_temperature \u611f\u6e2c\u5668\u5225\u540d\uff08\u5df2\u65bc20210219\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86mcu\u7684 pin_map \u9078\u9805\uff08\u5df2\u65bc20210325\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86gcode_macro default_parameter_<name> \u548c\u901a\u904e params \u507d\u8b8a\u6578\u4ee5\u5916\u7684\u5b8f\u8a2a\u554f\u547d\u4ee4\u53c3\u6578\uff08\u5df2\u65bc20210503\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86\u52a0\u71b1\u5668\u7684 pid_integral_max \u9078\u9805\uff08\u5df2\u65bc20210612\u5ee2\u68c4\uff09\u3002 20210929: Klipper v0.10.0\u767c\u4f48\u3002 20210903: \u52a0\u71b1\u5668\u7684\u9810\u8a2d smooth_time \u5df2\u6539\u70ba1\u79d2\uff08\u5f9e2\u79d2\uff09\u3002\u5c0d\u65bc\u5927\u591a\u6578\u5370\u8868\u6a5f\u4f86\u8aaa\uff0c\u9019\u5c07\u4f7f\u6eab\u5ea6\u63a7\u5236\u66f4\u52a0\u7a69\u5b9a\u3002 20210830: \u9810\u8a2d\u7684adxl345\u540d\u7a31\u73fe\u5728\u662f \"adxl345\"\u3002 ACCELEROMETER_MEASURE \u548c ACCELEROMETER_QUERY \u7684\u9810\u8a2dCHIP\u53c3\u6578\u73fe\u5728\u4e5f\u662f \"adxl345\"\u3002 20210830: adxl345 ACCELEROMETER_MEASURE\u547d\u4ee4\u4e0d\u518d\u652f\u63f4RATE\u53c3\u6578\u3002\u8981\u6539\u8b8a\u67e5\u8a62\u901f\u7387\uff0c\u8acb\u66f4\u65b0printer.cfg\u6a94\u6848\u4f75\u767c\u51faRESTART\u547d\u4ee4\u3002 20210821: printer.configfile.settings \u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u8a2d\u5b9a\u73fe\u5728\u5c07\u4ee5\u5217\u8868\u5f62\u5f0f\u5831\u544a\uff0c\u800c\u4e0d\u662f\u539f\u59cb\u5b57\u4e32\u3002\u5982\u679c\u9700\u8981\u539f\u59cb\u7684\u5b57\u4e32\uff0c\u8acb\u4f7f\u7528 printer.configfile.config \u4ee3\u66ff\u3002 20210819: \u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c G28 \u7684\u6b78\u96f6\u52d5\u4f5c\u53ef\u80fd\u5728\u67d0\u500b\u8d85\u51fa\u6709\u6548\u79fb\u52d5\u7bc4\u570d\u7684\u4f4d\u7f6e\u7d50\u675f\u3002\u5728\u5c11\u6578\u60c5\u6cc1\u4e0b\uff0c\u9019\u53ef\u80fd\u5c0e\u81f4\u6b78\u4f4d\u540e\u51fa\u73fe \"\u79fb\u52d5\u8d85\u51fa\u7bc4\u570d\uff08Move out of range\uff09\"\u7684\u932f\u8aa4\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u8acb\u6539\u8b8a\u4f60\u7684\u555f\u52d5\u6307\u4ee4\u78bc\uff0c\u5728\u6b78\u4f4d\u540e\u7acb\u5373\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u6709\u6548\u4f4d\u7f6e\u3002 20210814: atmega168\u548catmega328\u4e0a\u7684\u50c5\u6709\u6a21\u64ec\u7684\u507d\u5f15\u8173\u5df2\u7d93\u5f9ePE0/PE1\u6539\u540d\u70baPE2/PE3\u3002 20210720: controller_fan\u90e8\u5206\u73fe\u5728\u9810\u8a2d\u76e3\u63a7\u6240\u6709\u6b65\u9032\u96fb\u6a5f\uff08\u800c\u4e0d\u50c5\u50c5\u662f\u904b\u52d5\u578b\u6b65\u9032\u96fb\u6a5f\uff09\u3002\u5982\u679c\u9700\u8981\u4ee5\u524d\u7684\u884c\u70ba\uff0c\u8acb\u53c3\u8003 config reference \u4e2d\u7684 stepper \u914d\u7f6e\u9078\u9805\u3002 20210703: samd_sercom \u914d\u7f6e\u90e8\u5206\u73fe\u5728\u5fc5\u9808\u901a\u904e sercom \u9078\u9805\u6307\u5b9a\u5b83\u8981\u914d\u7f6e\u7684sercom\u532f\u6d41\u6392\u3002 20210612: \u52a0\u71b1\u5668(heater)\u548c\u6eab\u5ea6\u63a7\u5236\u98a8\u6247(temperature_fan)\u914d\u7f6e\u4e2d\u7684 pid_integral_max \u9078\u9805\u5df2\u88ab\u68c4\u7528\u3002\u8a72\u9078\u9805\u5c07\u5728\u672a\u4f86\u88ab\u79fb\u9664\u3002 20210503: The gcode_macro default_parameter_<name> config option is deprecated. Use the params pseudo-variable to access macro parameters. Other methods for accessing macro parameters will be removed in the near future. Most users can replace a default_parameter_NAME: VALUE config option with a line like the following in the start of the macro: {% set NAME = params.NAME|default(VALUE)|float %} . See the Command Templates document for examples. 20210430: SET_VELOCITY_LIMIT\uff08\u548cM204\uff09\u547d\u4ee4\u73fe\u5728\u53ef\u4ee5\u8a2d\u5b9a\u5927\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u6307\u5b9a\u503c\u7684\u901f\u5ea6(velocity)\u3001\u52a0\u901f\u5ea6(acceleration)\u548c\u8f49\u89d2\u96e2\u5fc3\u901f\u5ea6(square_corner_velocity)\u3002 20210325:\u914d\u7f6e\u4e2d\u7684 pin_map \u9078\u9805\u5df2\u88ab\u5ee2\u68c4\u3002\u4f7f\u7528 sample-aliases.cfg \u6a94\u6848\u5c07\u73fe\u6709\u7684\u5f15\u8173\u540d\u7ffb\u8b6f\u6210\u5be6\u969b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u7a31\u3002\u914d\u7f6e\u4e2d\u7684 pin_map \u9078\u9805\u5c07\u5728\u672a\u4f86\u88ab\u79fb\u9664\u3002 20210313\uff1aKlipper\u5c0dCAN\u532f\u6d41\u6392\u901a\u8a0a\u7684\u5fae\u63a7\u5236\u5668\u7684\u652f\u63f4\u767c\u751f\u4e86\u8b8a\u5316\u3002\u5982\u679c\u4f7f\u7528CAN\u532f\u6d41\u6392\uff0c\u5168\u90e8\u5fae\u63a7\u5236\u5668\u5fc5\u9808\u88ab\u91cd\u65b0\u5237\u5beb\u4e26\u66f4\u65b0 Klipper CAN \u532f\u6d41\u6392\u914d\u7f6e \u3002 20210310\uff1aTMC2660 \u9810\u8a2d driver_SFILT \u5f9e1 \u6539\u70ba 0\u3002 20210227\uff1a\u73fe\u5728\u6bcf\u7576\u555f\u7528 UART \u6216 SPI \u6a21\u5f0f\u7684 TMC \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u6d3b\u8e8d\u6642\uff0c\u6bcf\u79d2\u6703\u67e5\u8a62\u4e00\u6b21 - \u5982\u679c\u7121\u6cd5\u806f\u7e6b\u5230\u9a45\u52d5\u6216\u5982\u679c\u9a45\u52d5\u5831\u544a\u932f\u8aa4\uff0c\u5247 Klipper \u5c07\u904e\u6e21\u5230\u95dc\u9589\u72c0\u614b\u3002 20210219\uff1a rpi_temperature \u6a21\u7d44\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba temperature_host \u3002\u7528 sensor_type: temperature_host \u66ff\u63db\u5168\u90e8\u7684 sensor_type: rpi_temperature \u3002\u6eab\u5ea6\u6a94\u6848\u7684\u8def\u5f91\u53ef\u4ee5\u5728 sensor_path \u914d\u7f6e\u8b8a\u6578\u4e2d\u6307\u5b9a\u3002\u540d\u7a31\u300c rpi_temperature \u300d\u5df2\u88ab\u5ee2\u68c4\uff0c\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u6703\u88ab\u522a\u9664\u3002 20210201: TEST_RESONANCES \u547d\u4ee4\u73fe\u5728\u5c07\u7981\u7528\u4e4b\u524d\u555f\u7528\u7684\u8f38\u5165\u6574\u5f62\uff08\u4e26\u5728\u6e2c\u8a66\u5f8c\u91cd\u65b0\u555f\u7528\uff09\u3002\u5982\u679c\u9700\u8981\u8986\u84cb\u9019\u4e00\u884c\u70ba\u4e26\u4fdd\u6301\u8f38\u5165\u6574\u5f62\u5728\u6e2c\u8a66\u6642\u555f\u7528\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u4e2d\u50b3\u905e\u4e00\u500b\u9644\u52a0\u53c3\u6578 INPUT_SHAPING=1 \u3002 20210201\uff1a\u5982\u679c\u4e00\u500b\u52a0\u901f\u5ea6\u8a08\u6676\u7247\u5728printer.cfg\u7684\u76f8\u61c9 adxl345 \u5206\u6bb5\u88ab\u8ce6\u4e88\u4e86\u4e00\u500b\u540d\u7a31\uff0c ACCELEROMETER_MEASURE \u547d\u4ee4\u7684\u8f38\u51fa\u6a94\u6848\u73fe\u5728\u6703\u5305\u542b\u5b83\u7684\u540d\u7a31\u3002 20201222\uff1a\u6b65\u9032\u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 step_distance \u8a2d\u5b9a\u5df2\u88ab\u5ee2\u68c4\u3002\u5efa\u8b70\u66f4\u65b0\u914d\u7f6e\u4ee5\u4f7f\u7528 rotrot_distance \u8a2d\u5b9a\u3002\u5c0d step_distance \u7684\u652f\u63f4\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u79fb\u9664\u3002 20201218\uff1aendstop_phase \u6a21\u7d44\u4e2d\u7684 endstop_phase \u8a2d\u5b9a\u5df2\u88ab trigger_phase \u53d6\u4ee3\u3002\u5982\u679c\u4f7f\u7528\u76f8\u4f4d\u9650\u4f4d\u6a21\u7d44\uff0c\u5247\u9700\u8981\u8f49\u63db\u70ba rotation_distance \uff0c\u4e26\u901a\u904e\u57f7\u884c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u91cd\u65b0\u6821\u6e96\u4efb\u4f55\u76f8\u4f4d\u9650\u4f4d\u3002 20201218\uff1a\u65cb\u8f49\u4e09\u89d2\u6d32\u548c\u6975\u9ede\u5370\u8868\u6a5f\u73fe\u5728\u5fc5\u9808\u70ba\u65cb\u8f49\u6b65\u9032\u96fb\u6a5f\u6307\u5b9a gear_ratio \uff0c\u4e26\u4e14\u5b83\u5011\u53ef\u4ee5\u4e0d\u518d\u6307\u5b9a step_distance \u53c3\u6578\u3002\u6709\u95dc\u65b0 gear_ratio \u53c3\u6578\u7684\u683c\u5f0f\uff0c\u8acb\u53c3\u95b1 \u914d\u7f6e\u53c3\u8003 \u3002 20201213\uff1a\u7576\u4f7f\u7528\"probe:z_virtual_endstop\"\u6642\uff0c\u6307\u5b9a\u7684 Z \"position_endstop\"\u662f\u7121\u6548\u7684\u3002\u73fe\u5728\uff0c\u5982\u679c\u7528\"probe:z_virtual_endstop\"\u6307\u5b9a\u4e00\u500b Z \"position_endstop\"\uff0c\u5c07\u6703\u5831\u544a\u4e00\u500b\u932f\u8aa4\u3002\u522a\u9664 Z \u7684 \"position_endstop\"\u5b9a\u7fa9\u4ee5\u89e3\u6c7a\u9019\u500b\u932f\u8aa4\u3002 20201120: [board_pins] \u914d\u7f6e\u90e8\u5206\u73fe\u5728\u5728 mcu: \u53c3\u6578\u4e2d\u660e\u78ba\u6307\u5b9a\u4e86\u5c0d\u61c9MCU\u540d\u7a31\u3002\u5982\u679c\u4f7f\u7528\u8f14\u52a9MCU\u7684board_pins\uff0c\u5247\u5fc5\u9808\u66f4\u65b0\u914d\u7f6e\u4ee5\u6307\u5b9a\u8a72MCU\u540d\u7a31\u3002\u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u4ee5\u77ad\u89e3\u66f4\u591a\u7d30\u7bc0\u3002 20201112: \u7531 print_stats.print_duration \u63a7\u5236\u7684\u5831\u544a\u6642\u9593\u5df2\u7d93\u6539\u8b8a\u3002\u73fe\u5728\u4e0d\u5305\u62ec\u6aa2\u6e2c\u5230\u7684\u9996\u6b21\u64e0\u51fa\u4e4b\u524d\u7684\u6642\u9593\u3002 20201029: neopixel color_order_GRB \u914d\u7f6e\u5df2\u5f9e\u914d\u7f6e\u4e2d\u79fb\u9664\u3002\u5982\u679c\u9700\u8981\uff0c\u8acb\u66f4\u65b0\u914d\u7f6e\u6a94\u6848\uff0c\u5c07\u65b0\u7684 color_order \u9078\u9805\u8a2d\u5b9a\u70baRGB\u3001GRB\u3001RGBW\u6216GRBW\u3002 20201029: mcu\u914d\u7f6e\u90e8\u5206\u7684\u5e8f\u5217\u9078\u9805\u4e0d\u518d\u9810\u8a2d\u70ba /dev/ttyS0 \u3002\u5728\u6975\u5176\u7f55\u898b\u7684\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c /dev/ttyS0 \u662f\u6240\u9700\u7684\u4e32\u5217\u57e0\uff0c\u5fc5\u9808\u660e\u78ba\u6307\u5b9a\u5b83\u3002 20201020: Klipper v0.9.0\u767c\u4f48\u3002 20200902: \u4fee\u6b63\u4e86MAX31865\u8f49\u63db\u5668\u7684RTD\u96fb\u963b-\u6eab\u5ea6\u8a08\u7b97\u7121\u6cd5\u70ba\u4f4e\u7684\u932f\u8aa4\u3002\u5982\u679c\u4f60\u4f7f\u7528\u6b64\u6676\u7247\uff0c\u8acb\u91cd\u65b0\u6821\u6e96\u4f60\u7684\u5217\u5370\u6eab\u5ea6\u548cPID\u8a2d\u5b9a\u3002 20200816: G\u7a0b\u5f0f\u78bc\u5b8f printer.gcode \u5c0d\u50cf\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba printer.gcode_move \u3002\u522a\u9664\u4e86 printer.toolhead \u548c printer.gcode \u4e2d\u5e7e\u500b\u6c92\u6709\u6587\u4ef6\u7684\u8b8a\u6578\u3002\u53c3\u898b docs/Command_Templates.md \u4ee5\u7372\u5f97\u53ef\u7528\u7684\u6a21\u677f\u8b8a\u6578\u5217\u8868\u3002 20200816: gcode\u5b8f \"action_\"\u7cfb\u7d71\u5df2\u7d93\u6539\u8b8a\u3002\u8acb\u7528 action_emergency_stop() \u66ff\u63db\u6240\u6709 printer.gcode.action_emergency_stop() \uff0c\u7528 action_respond_info() \u66ff\u63db\u6240\u6709 printer.gcode.action_respond_info() \uff0c\u7528 action_raise_error() \u66ff\u63db\u6240\u6709 printer.gcode.action_respond_error() \u3002 20200809: \u83dc\u55ae\u7cfb\u7d71\u5df2\u88ab\u91cd\u5beb\u3002\u5982\u679c\u662f\u5b9a\u88fd\u83dc\u55ae\uff0c\u90a3\u9700\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u914d\u7f6e\u7d30\u7bc0\u898bconfig/example-menu.cfg\uff0c\u4f8b\u5b50\u898bklippy/extras/display/menu.cfg\u3002 20200731: virtual_sdcard \u5370\u8868\u6a5f\u5c0d\u50cf\u5831\u544a\u7684 progress \u5c6c\u6027\u7684\u884c\u70ba\u5df2\u7d93\u6539\u8b8a\u3002\u7576\u5217\u5370\u66ab\u505c\u6642\uff0c\u9032\u5ea6\u4e0d\u518d\u88ab\u91cd\u7f6e\u70ba0\u3002\u73fe\u5728\u5b83\u6703\u59cb\u7d42\u6839\u64da\u5df2\u8f09\u5165\u6a94\u6848\u7684\u8b80\u53d6\u4f4d\u7f6e\u4f86\u5831\u544a\u9032\u5ea6\uff0c\u5982\u679c\u76ee\u524d\u6c92\u6709\u8f09\u5165\u6a94\u6848\uff0c\u5247\u5831\u544a0\u3002 20200725: \u79fb\u9664\u4e86\u8235\u6a5f enable \u914d\u7f6e\u53c3\u6578\u548cSET_SERVO ENABLE \u53c3\u6578\u3002\u8acb\u66f4\u65b0\u6240\u6709\u5b8f\uff0c\u7528 SET_SERVO SERVO=my_servo WIDTH=0 \u4f86\u7981\u7528\u8235\u6a5f\u3002 20200608: LCD\u986f\u793a\u652f\u63f4\u90e8\u5206\u6539\u8b8a\u4e86\u4e00\u4e9b\u5167\u90e8 \"\u5b57\u5f62 \"\u7684\u540d\u7a31\u3002\u5982\u679c\u81ea\u5b9a\u7fa9\u4e86\u986f\u793a\u4f48\u5c40\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u5230\u6700\u65b0\u7684\u5b57\u5f62\u540d\u7a31\uff08\u898bklippy/extras/display/display.cfg\u4e2d\u7684\u53ef\u7528\u5b57\u5f62\u5217\u8868\uff09\u3002 20200606: \u6539\u8b8a\u4e86linux mcu\u4e0a\u7684\u5f15\u8173\u540d\u7a31\u3002\u73fe\u5728\u5f15\u8173\u7684\u540d\u7a31\u683c\u5f0f\u662f gpiochip<chipid>/gpio<gpio> \u3002\u5c0d\u65bcgpiochip0\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 gpio<gpio> \u7684\u7e2e\u5beb\u3002\u4f8b\u5982\uff0c\u4ee5\u524d\u540d\u5b57\u70ba P20'\uff0c\u73fe\u5728\u8b8a\u6210 gpio20'\u6216`gpiochip0/gpio20'\u3002 20200603\uff1a\u9810\u8a2d\u768416x4 LCD\u4f48\u5c40\u5c07\u4e0d\u518d\u986f\u793a\u5217\u5370\u7684\u9810\u8a08\u5269\u9918\u6642\u9593\u3002(\u53ea\u986f\u793a\u5df2\u7528\u6642\u9593\u3002)\u5982\u679c\u9700\u8981\u820a\u7684\u4f48\u5c40\uff0c\u53ef\u4ee5\u7528\u5b9a\u88fd\u83dc\u55ae\u986f\u793a\u8a72\u8cc7\u8a0a(\u8a73\u60c5\u898bconfig/example-extras.cfg\u4e2ddisplay_data\u7684\u63cf\u8ff0)\u3002 20200531: \u9810\u8a2d\u7684USB\u5ee0\u5546/\u7522\u54c1ID\u73fe\u5728\u662f0x1d50/0x614e\u3002\u9019\u500b\u65b0ID\u662f\u70baKlipper\u4fdd\u7559\u7684\uff08\u611f\u8b1dopenmoko\u5c08\u6848\uff09\u3002\u9019\u500b\u8b8a\u5316\u4e0d\u9700\u8981\u6539\u8b8a\u4efb\u4f55\u914d\u7f6e\uff0c\u4f46\u65b0\u7684ID\u53ef\u80fd\u6703\u51fa\u73fe\u5728\u7cfb\u7d71\u65e5\u8a8c\u4e2d\u3002 20200524\uff1a\u73fe\u5728tmc5160\u7684pwm_freq\u6b04\u4f4d\uff0c\u9810\u8a2d\u503c\u662f0\uff08\u800c\u4e0d\u662f1\uff09\u3002 20200425: gcode_macro\u547d\u4ee4\u6a21\u677f\u8b8a\u6578 printer.heater \u6539\u547d\u540d\u70ba printer.heaters \u3002 20200313: \u6539\u8b8a\u591a\u64e0\u51fa\u6a5f\u5370\u8868\u6a5f16x4\u87a2\u5e55\u7684\u9810\u8a2d\u6db2\u6676\u5c4f\u4f48\u5c40\u3002\u73fe\u5728\u9810\u8a2d\u662f\u55ae\u500b\u64e0\u51fa\u6a5f\u87a2\u5e55\u4f48\u5c40\uff0c\u7528\u65bc\u986f\u793a\u76ee\u524d\u6d3b\u52d5\u7684\u64e0\u51fa\u6a5f\u3002\u8981\u4f7f\u7528\u4ee5\u524d\u7684\u986f\u793a\u4f48\u5c40\uff0c\u8acb\u8a2d\u5b9aprinter.cfg\u6a94\u6848\u4e2d[display]\u90e8\u5206\u7684 \"display_group: _multiextruder_16x4\"\u3002 20200308\uff1a\u79fb\u9664\u4e86\u9810\u8a2d\u7684 __test \u83dc\u55ae\u9805\u3002\u5982\u679c\u914d\u7f6e\u6a94\u6848\u4e2d\u6709\u81ea\u5b9a\u7fa9\u7684\u83dc\u55ae\uff0c\u90a3\u9ebc\u8acb\u78ba\u4fdd\u522a\u9664\u6240\u6709\u5c0d\u9019\u500b __test \u83dc\u55ae\u9805\u7684\u5f15\u7528\u3002 20200308: \u79fb\u9664\u4e86\u83dc\u55ae\u4e2d\u7684 \"desk \"\u548c \"card \"\u9078\u9805\u3002\u8981\u5b9a\u88fdlcd\u87a2\u5e55\u7684\u4f48\u5c40\uff0c\u8acb\u4f7f\u7528\u65b0\u7684display_data\u914d\u7f6e\u90e8\u5206\uff08\u8a73\u898bconfig/example-extras.cfg\uff09\u3002 20200109: bed_mesh \u6a21\u7d44\u73fe\u5728\u5f15\u7528\u63a2\u91dd\u7684\u4f4d\u7f6e\u4f86\u9032\u884c\u7db2\u683c\u914d\u7f6e\u3002\u56e0\u6b64\uff0c\u4e00\u4e9b\u914d\u7f6e\u9078\u9805\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4ee5\u66f4\u6e96\u78ba\u5730\u53cd\u6620\u5176\u529f\u80fd\u3002\u5c0d\u65bc\u77e9\u5f62\u5e8a\uff0c min_point'\u548c max_point \u5206\u5225\u91cd\u65b0\u547d\u540d\u70ba mesh_min \u548c mesh_max \u3002\u5c0d\u65bc\u5713\u5f62\u5e8a\uff0c bed_radius \u91cd\u65b0\u547d\u540d\u70ba mesh_radius \u3002\u5c0d\u65bc\u5713\u5f62\u5e8a\uff0c\u9084\u589e\u52a0\u4e86\u4e00\u500b\u65b0\u7684 mesh_origin`\u9078\u9805\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u4e9b\u8b8a\u66f4\u8207\u4e4b\u524d\u5132\u5b58\u7684\u7db2\u683c\u914d\u7f6e\u6a94\u6848\u4e0d\u76f8\u5bb9\u3002\u5982\u679c\u6aa2\u6e2c\u5230\u4e00\u500b\u4e0d\u76f8\u5bb9\u7684\u914d\u7f6e\u6a94\u6848\uff0c\u6b64\u6a94\u6848\u6703\u88ab\u5ffd\u7565\u4e26\u88ab\u522a\u9664\u3002\u522a\u9664\u904e\u7a0b\u53ef\u4ee5\u901a\u904e\u767c\u51fa SAVE_CONFIG \u547d\u4ee4\u4f86\u5b8c\u6210\u3002\u4f7f\u7528\u8005\u5c07\u9700\u8981\u91cd\u65b0\u6821\u6e96\u6bcf\u500b\u5e8a\u7684\u7db2\u5e8a\u914d\u7f6e\u3002 20191218: \u986f\u793a\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u63f4 \"lcd_type: st7567\"\u3002\u8acb\u4f7f\u7528 \"uc1701 \"\u986f\u793a\u578b\u5225\u4ee3\u66ff\uff1a\u8a2d\u5b9a \"lcd_type: uc1701 \"\uff0c\u5c07 \"rs_pin: some_pin \"\u6539\u70ba \"rst_pin: some_pin\"\u3002\u53ef\u80fd\u9084\u9700\u8981\u589e\u52a0\u4e00\u500b \"contrast: 60\"\u7684\u914d\u7f6e\u8a2d\u5b9a\u3002 20191210\uff1a\u522a\u9664\u4e86\u5167\u5efa\u7684T0\u3001T1\u3001T2...\u547d\u4ee4\u3002\u79fb\u9664\u4e86\u64e0\u51fa\u6a5f activate_gcode \u548c deactivate_gcode \u914d\u7f6e\u9078\u9805\u3002\u5982\u679c\u9700\u8981\u9019\u4e9b\u547d\u4ee4\uff08\u548c\u6307\u4ee4\u78bc\uff09\uff0c\u8acb\u5b9a\u7fa9\u55ae\u7368\u7684[gcode_macro T0]\u98a8\u683c\u7684\u5b8f\uff0c\u547c\u53ebACTIVATE_EXTRUDER\u547d\u4ee4\u3002\u53c3\u898bconfig/sample-idex.cfg\u548csample-multi-extruder.cfg\u6a94\u6848\u4e2d\u7684\u4f8b\u5b50\u3002 20191210\uff1a\u79fb\u9664\u4e86\u5c0dM206\u547d\u4ee4\u7684\u652f\u63f4\u3002\u7528\u547c\u53ebSET_GCODE_OFFSET\u4f86\u4ee3\u66ff\u3002\u5982\u679c\u9700\u8981\u5c0dM206\u7684\u652f\u63f4\uff0c\u8acb\u65b0\u589e\u4e00\u500b[gcode_macro M206]\u914d\u7f6e\u90e8\u5206\uff0c\u547c\u53ebSET_GCODE_OFFSET\u3002(\u4f8b\u5982 \"SET_GCODE_OFFSET Z=-{params.Z}\"\u3002) 20191202\uff1a\u79fb\u9664\u4e86\u5c0d \"G4 \"\u547d\u4ee4\u4e2d\u7121\u6a19\u8a3b\u7684 \"S \"\u53c3\u6578\u7684\u652f\u63f4\u3002\u7528\u6a19\u6e96\u7684 \"P \"\u53c3\u6578\uff08\u4ee5\u6beb\u79d2\u70ba\u55ae\u4f4d\u7684\u5ef6\u9072\uff09\u53d6\u4ee3\u4efb\u4f55\u51fa\u73fe\u7684S\u3002 20191126\uff1a\u6539\u8b8a\u4e86\u90a3\u4e9b\u539f\u751fUSB\u652f\u63f4\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u7684USB\u540d\u7a31\u3002\u73fe\u5728\u9810\u8a2d\u4f7f\u7528\u552f\u4e00\u7684\u6676\u7247ID\uff08\u5982\u679c\u53ef\u7528\uff09\u3002\u5982\u679c \"MCU \"\u914d\u7f6e\u90e8\u5206\u4f7f\u7528\u4ee5\"/dev/serial/by-id/\"\u958b\u982d\u7684 \"\u4e32\u5217\u57e0 \"\u8a2d\u5b9a\uff0c\u90a3\u9ebc\u53ef\u80fd\u6709\u5fc5\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u5728ssh\u7d42\u7aef\u57f7\u884c \"ls /dev/serial/by-id/*\"\u4f86\u78ba\u5b9a\u65b0\u7684id\u3002 20191121\uff1a\u79fb\u9664\u4e86pressure_advance_lookahead_time\u53c3\u6578\u3002\u6aa2\u8996example.cfg\u4ee5\u77ad\u89e3\u66ff\u4ee3\u7684\u914d\u7f6e\u8a2d\u5b9a\u3002 20191112\uff1a\u5982\u679c\u6b65\u9032\u9a45\u52d5\u5668\u6c92\u6709\u5c08\u7528\u7684\u6b65\u9032\u96fb\u6a5f\u4f7f\u80fd\u5f15\u8173\uff0c\u90a3\u9ebc\u5c31\u6703\u81ea\u52d5\u555f\u7528tmc\u6b65\u9032\u9a45\u52d5\u5668\u7684\u865b\u64ec\u4f7f\u80fd\u529f\u80fd\u3002\u5f9e\u914d\u7f6e\u4e2d\u522a\u9664\u5c0dtmcXXXX:virtual_enable\u7684\u5f15\u7528\u3002\u79fb\u9664\u4e86\u5728\u6b65\u9032\u9a45\u52d5\u5668 enable_pin \u914d\u7f6e\u4e2d\u63a7\u5236\u591a\u500b\u5f15\u8173\u7684\u80fd\u529b\u3002\u5982\u679c\u9700\u8981\u63a7\u5236\u591a\u500b\u5f15\u8173\uff0c\u8acb\u4f7f\u7528multi_pin \u914d\u7f6e\u90e8\u5206\u3002 20191107\uff1a\u4e3b\u64e0\u51fa\u6a5f\u914d\u7f6e\u90e8\u5206\u5fc5\u9808\u6307\u5b9a\u70ba \"extruder\"\uff0c\u4e0d\u5f97\u518d\u6307\u5b9a\u70ba \"extruder0\"\u3002\u67e5\u8a62\u64e0\u51fa\u6a5f\u72c0\u614b\u7684Gcode\u547d\u4ee4\u6a21\u677f\u73fe\u5728\u53ef\u4ee5\u901a\u904e\"{printer.extruder}\"\u8a2a\u554f\u3002 20191021: Klipper v0.8.0\u767c\u4f48 20191003: [safe_z_homing] \u4e2d\u7684 move_to_previous \u9078\u9805\u73fe\u5728\u9810\u8a2d\u70ba False\u3002(\u572820190918\u5e74\u4e4b\u524d\uff0c\u5b83\u5be6\u969b\u4e0a\u662fFalse\u3002) 20190918: [safe_z_homing]\u4e2d\u7684 zhop \u9078\u9805\u7e3d\u662f\u5728Z\u8ef8\u6b78\u4f4d\u5b8c\u6210\u5f8c\u91cd\u65b0\u61c9\u7528\u3002\u9019\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u8005\u66f4\u65b0\u57fa\u65bc\u6b64\u6a21\u7d44\u7684\u81ea\u5b9a\u7fa9\u6307\u4ee4\u78bc\u3002 20190806: SET_NEOPIXEL \u547d\u4ee4\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba SET_LED\u3002 20190726\uff1a\u66f4\u6539\u4e86mcp4728\u7684\u6578\u6a21\u8f49\u63db\u7a0b\u5f0f\u78bc\u3002\u9810\u8a2d\u7684i2c_address\u73fe\u5728\u662f0x60\uff0c\u96fb\u58d3\u53c3\u8003\u73fe\u5728\u662f\u76f8\u5c0d\u65bcmcp4728\u7684\u5167\u90e82.048V\u53c3\u8003\u6e90\u3002 20190710: \u522a\u9664\u4e86[firmware_retract]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684z_hop\u9078\u9805\u3002\u7531\u65bc\u5c0dz_hop\u7684\u652f\u63f4\u4e0d\u5b8c\u6574\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u5e7e\u500b\u5e38\u898b\u5207\u7247\u8edf\u9ad4\u7684\u7570\u5e38\u884c\u70ba\u3002 20190710\uff1a\u6539\u8b8a\u4e86PROBE_ACCURACY\u547d\u4ee4\u7684\u53ef\u9078\u53c3\u6578\u3002\u5982\u679c\u5b8f\u6216\u6307\u4ee4\u78bc\u4f7f\u7528\u4e86\u8a72\u547d\u4ee4\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u3002 20190628\uff1a\u79fb\u9664\u4e86[skew_correction]\u90e8\u5206\u6240\u6709\u7684\u914d\u7f6e\u9078\u9805\u3002\u73fe\u5728\uff0c\u5c0dskew_correction\u7684\u914d\u7f6e\u662f\u901a\u904eSET_SKEW gcode\u5b8c\u6210\u7684\u3002\u63a8\u85a6\u4f7f\u7528\u65b9\u6cd5\u8acb\u53c3\u898b \u50be\u659c\u6821\u6b63 \u3002 20190607: gcode_macro \u7684 \"variable_X \"\u53c3\u6578\uff08\u4ee5\u53ca SET_GCODE_VARIABLE \u7684 VALUE \u53c3\u6578\uff09\u73fe\u5728\u88ab\u89e3\u6790\u70ba Python \u5b57\u5143\u3002\u5982\u679c\u4e00\u500b\u503c\u9700\u8981\u5206\u914d\u6210\u5b57\u4e32\u578b\uff0c\u90a3\u9ebc\u7528\u5f15\u865f\u5305\u88f9\u8a72\u503c\u4ee5\u78ba\u4fdd\u5b83\u88ab\u89e3\u6790\u70ba\u4e00\u500b\u5b57\u4e32\u3002 20190606: samples\"\u3001\"samples_result \"\u548c \"samples_retract_dist \"\u914d\u7f6e\u9078\u9805\u5df2\u88ab\u79fb\u81f3 \"probe \"\u914d\u7f6e\u90e8\u5206\u3002\u5728 \"delta_calibrate\"\u3001\"bed_tilt\"\u3001\"bed_mesh\"\u3001\"screw_tilt_adjust\"\u3001\"z_tilt \"\u6216 \"quad_gantry_level \"\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u63f4\u9019\u4e9b\u9078\u9805\u3002 20190528\uff1agcode_macro\u6a21\u677f\u8a55\u4f30\u4e2d\u7684\u7279\u6b8a \"status \"\u8b8a\u6578\u5df2\u66f4\u540d\u70ba \"printer\"\u3002 20190520: SET_GCODE_OFFSET\u547d\u4ee4\u5df2\u7d93\u6539\u8b8a\uff0c\u8acb\u76f8\u61c9\u5730\u66f4\u65b0G\u7a0b\u5f0f\u78bc\u5b8f\u3002\u8a72\u547d\u4ee4\u5c07\u4e0d\u518d\u628a\u8981\u6c42\u7684\u504f\u79fb\u91cf\u61c9\u7528\u65bc\u4e0b\u4e00\u500bG1\u547d\u4ee4\u3002\u820a\u7684\u884c\u70ba\u53ef\u4ee5\u901a\u904e\u4f7f\u7528\u65b0\u7684 \"MOVE=1 \"\u53c3\u6578\u4f86\u8fd1\u4f3c\u5be6\u73fe\u3002 20190404\uff1aPython\u4e3b\u6a5f\u8edf\u9ad4\u5305\u5df2\u7d93\u66f4\u65b0\u3002\u4f7f\u7528\u8005\u9700\u8981\u91cd\u65b0\u57f7\u884c~/klipper/scripts/install-octopi.sh\u6307\u4ee4\u78bc\uff08\u5982\u679c\u4e0d\u4f7f\u7528\u6a19\u6e96\u7684OctoPi\u5b89\u88dd\uff0c\u5247\u9700\u8981\u5347\u7d1aPython\u7684\u4f9d\u8cf4\u95dc\u4fc2\uff09\u3002 20190404\uff1a\u73fe\u5728i2c_bus\u548cspi_bus\u53c3\u6578\uff08\u5728\u5404\u500b\u914d\u7f6e\u90e8\u5206\uff09\u63a1\u7528\u532f\u6d41\u6392\u540d\u7a31\u800c\u4e0d\u662f\u6578\u5b57\u3002 20190404\uff1a\u8b8a\u66f4\u4e86sx1509\u7684\u914d\u7f6e\u53c3\u6578\u3002'address' \u53c3\u6578\u6539\u540d\u70ba 'i2c_address'\u4e14\u5fc5\u9808\u88ab\u6307\u5b9a\u70ba\u5341\u9032\u5236\u6578\u5b57\u3002\u4ee5\u524d\u4f7f\u7528\u7684\u662f0x3E\uff0c\u73fe\u5728\u5247\u752862\u3002 20190328\uff1a\u73fe\u5728[temperature_fan]\u914d\u7f6e\u4e2d\u7684min_speed\u503c\u5c07\u88ab\u4f7f\u7528\uff0c\u5728PID\u6a21\u5f0f\u4e0b\uff0c\u98a8\u6247\u5c07\u59cb\u7d42\u4ee5\u9019\u500b\u901f\u5ea6\u6216\u66f4\u9ad8\u7684\u901f\u5ea6\u8f49\u52d5\u3002 20190322: [tmc2660] \u914d\u7f6e\u90e8\u5206\u4e2d \"driver_HEND \"\u7684\u9810\u8a2d\u503c\u5f9e6\u6539\u70ba3\u3002\"driver_VSENSE \"\u6b04\u4f4d\u88ab\u522a\u9664\uff08\u5f9erun_current\u4e2d\u81ea\u52d5\u8a08\u7b97\u7684\uff09\u3002 20190310\uff1a\u73fe\u5728[controller_fan]\u914d\u7f6e\u90e8\u5206\u7e3d\u662f\u5305\u542b\u4e00\u500b\u540d\u5b57\uff08\u4f8b\u5982[controller_fan my_controller_fan]\uff09\u3002 20190308\uff1a[tmc2130]\u548c[tmc2208]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684 \"driver_BLANK_TIME_SELECT \"\u6b04\u4f4d\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba \"driver_TBL\"\u3002 20190308\uff1a\u8b8a\u66f4\u4e86[tmc2660]\u914d\u7f6e\u90e8\u5206\u3002\u73fe\u5728\u5fc5\u9808\u63d0\u4f9b\u4e00\u500b\u65b0\u7684sense_resistor\u914d\u7f6e\u53c3\u6578\u3002\u8b8a\u66f4\u4e86\u5e7e\u500bdriver_XXX\u53c3\u6578\u7684\u542b\u7fa9\u3002 20190228: SAMD21\u677f\u4e0a\u7684SPI\u6216I2C\u73fe\u5728\u5fc5\u9808\u901a\u904e[samd_sercom]\u914d\u7f6e\u90e8\u5206\u6307\u5b9a\u532f\u6d41\u6392\u5f15\u8173\u3002 20190224: bed_shape\u9078\u9805\u5df2\u5f9ebed_mesh\u4e2d\u79fb\u9664\u3002\u534a\u5f91\uff08radius\uff09\u9078\u9805\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70babed_radius\u3002\u5982\u679c\u4f7f\u7528\u5713\u5f62\u5e8a\uff0c\u9700\u8981\u63d0\u4f9bbed_radius\u548cround_probe_count\u9078\u9805\u3002 20190107\uff1a\u8b8a\u66f4\u4e86mcp4451\u914d\u7f6e\u90e8\u5206\u7684i2c_address\u53c3\u6578\u3002\u9019\u662fSmoothieboards\u4e0a\u7684\u4e00\u500b\u5e38\u898f\u8a2d\u5b9a\u3002\u65b0\u503c\u662f\u820a\u503c\u7684\u4e00\u534a\uff0888\u61c9\u6539\u70ba44\uff0c\u800c90\u61c9\u6539\u70ba45\uff09\u3002 20181220: Klipper v0.7.0\u767c\u4f48","title":"\u914d\u7f6e\u8b8a\u66f4"},{"location":"Config_Changes.html#_1","text":"\u672c\u6587\u4ef6\u6db5\u84cb\u4e86\u8edf\u9ad4\u66f4\u65b0\u4e2d\u5c0d\u914d\u7f6e\u6a94\u6848\u4e0d\u5411\u540e\u76f8\u5bb9\u7684\u90e8\u5206\u3002\u5728\u5347\u7d1a Klipper \u6642\uff0c\u6700\u597d\u4e5f\u6aa2\u8996\u4e00\u4e0b\u9019\u4efd\u6587\u4ef6\u3002 \u672c\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u65e5\u671f\u90fd\u662f\u4e0d\u7cbe\u78ba\u7684\u3002","title":"\u914d\u7f6e\u8b8a\u66f4"},{"location":"Config_Changes.html#_2","text":"20220616: It was previously possible to flash an rp2040 in bootloader mode by running make flash FLASH_DEVICE=first . The equivalent command is now make flash FLASH_DEVICE=2e8a:0003 . 20220612: The rp2040 micro-controller now has a workaround for the \"rp2040-e5\" USB errata. This should make initial USB connections more reliable. However, it may result in a change in behavior for the gpio15 pin. It is unlikely the gpio15 behavior change will be noticeable. 20220407: The temperature_fan pid_integral_max config option has been removed (it was deprecated on 20210612). 20220407: The default color order for pca9632 LEDs is now \"RGBW\". Add an explicit color_order: RBGW setting to the pca9632 config section to obtain the previous behavior. 20220330: The format of the printer.neopixel.color_data status information for neopixel and dotstar modules has changed. The information is now stored as a list of color lists (instead of a list of dictionaries). See the status reference for details. 20220307: M73 will no longer set print progress to 0 if P is missing. 20220304: There is no longer a default for the extruder parameter of extruder_stepper config sections. If desired, specify extruder: extruder explicitly to associate the stepper motor with the \"extruder\" motion queue at startup. 20220210\uff1a SYNC_STEPPER_TO_EXTRUDER \u3001 SET_EXTRUDER_STEP_DISTANCE \u3001 extruder \u7684 shared_heater \u914d\u7f6e\u9078\u9805\u5df2\u68c4\u7528\u3002\u9019\u4e9b\u529f\u80fd\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u522a\u9664\u3002\u5c07 SET_EXTRUDER_STEP_DISTANCE \u66ff\u63db\u70ba SET_EXTRUDER_ROTATION_DISTANCE \uff0c SYNC_STEPPER_TO_EXTRUDER \u66ff\u63db\u70ba SYNC_EXTRUDER_MOTION \uff0c\u4f7f\u7528 shared_heater \u8207 extruder_stepper \u914d\u7f6e\u5206\u6bb5\u66ff\u63db extruder \u914d\u7f6e\u5206\u6bb5\uff0c\u4e26\u66f4\u65b0\u6240\u6709\u555f\u7528\u5b8f\u4ee5\u4f7f\u7528 SYNC_EXTRUDER_MOTION \u3002 20220116: \u8b8a\u66f4\u4e86tmc2130\u3001tmc2208\u3001tmc2209\u548ctmc2660\u7684 run_current \u8a08\u7b97\u7a0b\u5f0f\u78bc\u3002\u5c0d\u65bc\u4e00\u4e9b run_current \u8a2d\u5b9a\uff0c\u9a45\u52d5\u7a0b\u5f0f\u73fe\u5728\u7684\u914d\u7f6e\u7d50\u679c\u53ef\u80fd\u88ab\u548c\u539f\u4f86\u4e0d\u540c\u3002\u65b0\u7684\u914d\u7f6e\u61c9\u8a72\u66f4\u6e96\u78ba\uff0c\u4f46\u5b83\u53ef\u80fd\u5c0e\u81f4\u524d\u7684tmc\u9a45\u52d5\u8abf\u8ae7\u5931\u6548\u3002 20211230: \u9077\u79fb\u8f38\u5165\u6574\u5f62\u5668\u8abf\u6574\u6307\u4ee4\u78bc\uff08 scripts/calibrate_shaper.py \u548c scripts/graph_accelerometer.py \uff09\uff0c\u65b0\u6307\u4ee4\u78bc\u9810\u8a2d\u4f7f\u7528Python3\u3002\u56e0\u6b64\uff0c\u5fc5\u9808\u5b89\u88ddPython3\u7248\u672c\u7684\u67d0\u4e9b\u8edf\u9ad4\u5305\uff08\u4f8b\u5982\uff0c sudo apt install python3-numpy python3-matplotlib \uff09\u624d\u80fd\u7e7c\u7e8c\u4f7f\u7528\u9019\u4e9b\u6307\u4ee4\u78bc\u3002\u66f4\u591a\u7d30\u7bc0\uff0c\u8acb\u53c3\u8003 \u8edf\u9ad4\u5b89\u88dd \u3002\u53e6\u5916\uff0c\u4f7f\u7528\u8005\u53ef\u4ee5\u901a\u904e\u5728\u63a7\u5236\u6aaf\u986f\u6027\u547c\u53ebPython2\u76f4\u8b6f\u5668\uff0c\u81e8\u6642\u5f37\u5236\u5728Python 2\u4e0b\u57f7\u884c\u9019\u4e9b\u6307\u4ee4\u78bc\uff1a python2 ~/klipper/scripts/calibrate_shaper.py ... 20211110: \u68c4\u7528\"NTC 100K beta 3950 \"\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u672a\u4f86\u6703\u522a\u9664\u9019\u500b\u611f\u6e2c\u5668\u3002\u5927\u591a\u6578\u4f7f\u7528\u8005\u6703\u767c\u73fe \"Generic 3950 \"\u6eab\u5ea6\u611f\u6e2c\u5668\u66f4\u6e96\u78ba\u3002\u8981\u7e7c\u7e8c\u4f7f\u7528\u820a\u7684\uff08\u901a\u5e38\u4e0d\u592a\u6e96\u78ba\uff09\u5b9a\u7fa9\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u81ea\u5b9a\u7fa9\u7684 thermistor \uff0c\u5176\u4e2d\u5305\u62ec temperature1: 25 \uff0c resistance1: 100000 \u548c beta: 3950 \u3002 20211104\uff1a\u522a\u9664\u4e86\"make menuconfig \"\u4e2d\u7684 \"step pulse duration \"\u9078\u9805\u3002\u73fe\u5728\u5728UART\u6216SPI\u6a21\u5f0f\u4e0b\u914d\u7f6e\u7684TMC\u9a45\u52d5\u5668\u7684\u9810\u8a2d\u6b65\u9577\u662f100ns\u3002\u5728 stepper config section \u4e2d\u7684\u589e\u52a0\u4e86\u4e00\u500b\u65b0\u7684 step_pulse_duration \u8a2d\u5b9a\uff0c\u6240\u6709\u9700\u8981\u81ea\u5b9a\u7fa9\u8108\u885d\u6301\u7e8c\u6642\u9593\u7684\u6b65\u9032\u9a45\u52d5\u5668\u90fd\u9700\u8981\u8a2d\u5b9a\u3002 20211102\uff1a\u522a\u9664\u4e86\u591a\u500b\u5ee2\u68c4\u7684\u529f\u80fd\u3002\u522a\u9664\u4e86\u6b65\u9032\u5668 step_distance \u9078\u9805\uff08\u5df2\u65bc20201222\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86 rpi_temperature \u611f\u6e2c\u5668\u5225\u540d\uff08\u5df2\u65bc20210219\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86mcu\u7684 pin_map \u9078\u9805\uff08\u5df2\u65bc20210325\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86gcode_macro default_parameter_<name> \u548c\u901a\u904e params \u507d\u8b8a\u6578\u4ee5\u5916\u7684\u5b8f\u8a2a\u554f\u547d\u4ee4\u53c3\u6578\uff08\u5df2\u65bc20210503\u5ee2\u68c4\uff09\u3002\u522a\u9664\u4e86\u52a0\u71b1\u5668\u7684 pid_integral_max \u9078\u9805\uff08\u5df2\u65bc20210612\u5ee2\u68c4\uff09\u3002 20210929: Klipper v0.10.0\u767c\u4f48\u3002 20210903: \u52a0\u71b1\u5668\u7684\u9810\u8a2d smooth_time \u5df2\u6539\u70ba1\u79d2\uff08\u5f9e2\u79d2\uff09\u3002\u5c0d\u65bc\u5927\u591a\u6578\u5370\u8868\u6a5f\u4f86\u8aaa\uff0c\u9019\u5c07\u4f7f\u6eab\u5ea6\u63a7\u5236\u66f4\u52a0\u7a69\u5b9a\u3002 20210830: \u9810\u8a2d\u7684adxl345\u540d\u7a31\u73fe\u5728\u662f \"adxl345\"\u3002 ACCELEROMETER_MEASURE \u548c ACCELEROMETER_QUERY \u7684\u9810\u8a2dCHIP\u53c3\u6578\u73fe\u5728\u4e5f\u662f \"adxl345\"\u3002 20210830: adxl345 ACCELEROMETER_MEASURE\u547d\u4ee4\u4e0d\u518d\u652f\u63f4RATE\u53c3\u6578\u3002\u8981\u6539\u8b8a\u67e5\u8a62\u901f\u7387\uff0c\u8acb\u66f4\u65b0printer.cfg\u6a94\u6848\u4f75\u767c\u51faRESTART\u547d\u4ee4\u3002 20210821: printer.configfile.settings \u4e2d\u7684\u4e00\u4e9b\u914d\u7f6e\u8a2d\u5b9a\u73fe\u5728\u5c07\u4ee5\u5217\u8868\u5f62\u5f0f\u5831\u544a\uff0c\u800c\u4e0d\u662f\u539f\u59cb\u5b57\u4e32\u3002\u5982\u679c\u9700\u8981\u539f\u59cb\u7684\u5b57\u4e32\uff0c\u8acb\u4f7f\u7528 printer.configfile.config \u4ee3\u66ff\u3002 20210819: \u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c G28 \u7684\u6b78\u96f6\u52d5\u4f5c\u53ef\u80fd\u5728\u67d0\u500b\u8d85\u51fa\u6709\u6548\u79fb\u52d5\u7bc4\u570d\u7684\u4f4d\u7f6e\u7d50\u675f\u3002\u5728\u5c11\u6578\u60c5\u6cc1\u4e0b\uff0c\u9019\u53ef\u80fd\u5c0e\u81f4\u6b78\u4f4d\u540e\u51fa\u73fe \"\u79fb\u52d5\u8d85\u51fa\u7bc4\u570d\uff08Move out of range\uff09\"\u7684\u932f\u8aa4\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u8acb\u6539\u8b8a\u4f60\u7684\u555f\u52d5\u6307\u4ee4\u78bc\uff0c\u5728\u6b78\u4f4d\u540e\u7acb\u5373\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u6709\u6548\u4f4d\u7f6e\u3002 20210814: atmega168\u548catmega328\u4e0a\u7684\u50c5\u6709\u6a21\u64ec\u7684\u507d\u5f15\u8173\u5df2\u7d93\u5f9ePE0/PE1\u6539\u540d\u70baPE2/PE3\u3002 20210720: controller_fan\u90e8\u5206\u73fe\u5728\u9810\u8a2d\u76e3\u63a7\u6240\u6709\u6b65\u9032\u96fb\u6a5f\uff08\u800c\u4e0d\u50c5\u50c5\u662f\u904b\u52d5\u578b\u6b65\u9032\u96fb\u6a5f\uff09\u3002\u5982\u679c\u9700\u8981\u4ee5\u524d\u7684\u884c\u70ba\uff0c\u8acb\u53c3\u8003 config reference \u4e2d\u7684 stepper \u914d\u7f6e\u9078\u9805\u3002 20210703: samd_sercom \u914d\u7f6e\u90e8\u5206\u73fe\u5728\u5fc5\u9808\u901a\u904e sercom \u9078\u9805\u6307\u5b9a\u5b83\u8981\u914d\u7f6e\u7684sercom\u532f\u6d41\u6392\u3002 20210612: \u52a0\u71b1\u5668(heater)\u548c\u6eab\u5ea6\u63a7\u5236\u98a8\u6247(temperature_fan)\u914d\u7f6e\u4e2d\u7684 pid_integral_max \u9078\u9805\u5df2\u88ab\u68c4\u7528\u3002\u8a72\u9078\u9805\u5c07\u5728\u672a\u4f86\u88ab\u79fb\u9664\u3002 20210503: The gcode_macro default_parameter_<name> config option is deprecated. Use the params pseudo-variable to access macro parameters. Other methods for accessing macro parameters will be removed in the near future. Most users can replace a default_parameter_NAME: VALUE config option with a line like the following in the start of the macro: {% set NAME = params.NAME|default(VALUE)|float %} . See the Command Templates document for examples. 20210430: SET_VELOCITY_LIMIT\uff08\u548cM204\uff09\u547d\u4ee4\u73fe\u5728\u53ef\u4ee5\u8a2d\u5b9a\u5927\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u6307\u5b9a\u503c\u7684\u901f\u5ea6(velocity)\u3001\u52a0\u901f\u5ea6(acceleration)\u548c\u8f49\u89d2\u96e2\u5fc3\u901f\u5ea6(square_corner_velocity)\u3002 20210325:\u914d\u7f6e\u4e2d\u7684 pin_map \u9078\u9805\u5df2\u88ab\u5ee2\u68c4\u3002\u4f7f\u7528 sample-aliases.cfg \u6a94\u6848\u5c07\u73fe\u6709\u7684\u5f15\u8173\u540d\u7ffb\u8b6f\u6210\u5be6\u969b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u7a31\u3002\u914d\u7f6e\u4e2d\u7684 pin_map \u9078\u9805\u5c07\u5728\u672a\u4f86\u88ab\u79fb\u9664\u3002 20210313\uff1aKlipper\u5c0dCAN\u532f\u6d41\u6392\u901a\u8a0a\u7684\u5fae\u63a7\u5236\u5668\u7684\u652f\u63f4\u767c\u751f\u4e86\u8b8a\u5316\u3002\u5982\u679c\u4f7f\u7528CAN\u532f\u6d41\u6392\uff0c\u5168\u90e8\u5fae\u63a7\u5236\u5668\u5fc5\u9808\u88ab\u91cd\u65b0\u5237\u5beb\u4e26\u66f4\u65b0 Klipper CAN \u532f\u6d41\u6392\u914d\u7f6e \u3002 20210310\uff1aTMC2660 \u9810\u8a2d driver_SFILT \u5f9e1 \u6539\u70ba 0\u3002 20210227\uff1a\u73fe\u5728\u6bcf\u7576\u555f\u7528 UART \u6216 SPI \u6a21\u5f0f\u7684 TMC \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u6d3b\u8e8d\u6642\uff0c\u6bcf\u79d2\u6703\u67e5\u8a62\u4e00\u6b21 - \u5982\u679c\u7121\u6cd5\u806f\u7e6b\u5230\u9a45\u52d5\u6216\u5982\u679c\u9a45\u52d5\u5831\u544a\u932f\u8aa4\uff0c\u5247 Klipper \u5c07\u904e\u6e21\u5230\u95dc\u9589\u72c0\u614b\u3002 20210219\uff1a rpi_temperature \u6a21\u7d44\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba temperature_host \u3002\u7528 sensor_type: temperature_host \u66ff\u63db\u5168\u90e8\u7684 sensor_type: rpi_temperature \u3002\u6eab\u5ea6\u6a94\u6848\u7684\u8def\u5f91\u53ef\u4ee5\u5728 sensor_path \u914d\u7f6e\u8b8a\u6578\u4e2d\u6307\u5b9a\u3002\u540d\u7a31\u300c rpi_temperature \u300d\u5df2\u88ab\u5ee2\u68c4\uff0c\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u6703\u88ab\u522a\u9664\u3002 20210201: TEST_RESONANCES \u547d\u4ee4\u73fe\u5728\u5c07\u7981\u7528\u4e4b\u524d\u555f\u7528\u7684\u8f38\u5165\u6574\u5f62\uff08\u4e26\u5728\u6e2c\u8a66\u5f8c\u91cd\u65b0\u555f\u7528\uff09\u3002\u5982\u679c\u9700\u8981\u8986\u84cb\u9019\u4e00\u884c\u70ba\u4e26\u4fdd\u6301\u8f38\u5165\u6574\u5f62\u5728\u6e2c\u8a66\u6642\u555f\u7528\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u4e2d\u50b3\u905e\u4e00\u500b\u9644\u52a0\u53c3\u6578 INPUT_SHAPING=1 \u3002 20210201\uff1a\u5982\u679c\u4e00\u500b\u52a0\u901f\u5ea6\u8a08\u6676\u7247\u5728printer.cfg\u7684\u76f8\u61c9 adxl345 \u5206\u6bb5\u88ab\u8ce6\u4e88\u4e86\u4e00\u500b\u540d\u7a31\uff0c ACCELEROMETER_MEASURE \u547d\u4ee4\u7684\u8f38\u51fa\u6a94\u6848\u73fe\u5728\u6703\u5305\u542b\u5b83\u7684\u540d\u7a31\u3002 20201222\uff1a\u6b65\u9032\u914d\u7f6e\u5206\u6bb5\u4e2d\u7684 step_distance \u8a2d\u5b9a\u5df2\u88ab\u5ee2\u68c4\u3002\u5efa\u8b70\u66f4\u65b0\u914d\u7f6e\u4ee5\u4f7f\u7528 rotrot_distance \u8a2d\u5b9a\u3002\u5c0d step_distance \u7684\u652f\u63f4\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u79fb\u9664\u3002 20201218\uff1aendstop_phase \u6a21\u7d44\u4e2d\u7684 endstop_phase \u8a2d\u5b9a\u5df2\u88ab trigger_phase \u53d6\u4ee3\u3002\u5982\u679c\u4f7f\u7528\u76f8\u4f4d\u9650\u4f4d\u6a21\u7d44\uff0c\u5247\u9700\u8981\u8f49\u63db\u70ba rotation_distance \uff0c\u4e26\u901a\u904e\u57f7\u884c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u91cd\u65b0\u6821\u6e96\u4efb\u4f55\u76f8\u4f4d\u9650\u4f4d\u3002 20201218\uff1a\u65cb\u8f49\u4e09\u89d2\u6d32\u548c\u6975\u9ede\u5370\u8868\u6a5f\u73fe\u5728\u5fc5\u9808\u70ba\u65cb\u8f49\u6b65\u9032\u96fb\u6a5f\u6307\u5b9a gear_ratio \uff0c\u4e26\u4e14\u5b83\u5011\u53ef\u4ee5\u4e0d\u518d\u6307\u5b9a step_distance \u53c3\u6578\u3002\u6709\u95dc\u65b0 gear_ratio \u53c3\u6578\u7684\u683c\u5f0f\uff0c\u8acb\u53c3\u95b1 \u914d\u7f6e\u53c3\u8003 \u3002 20201213\uff1a\u7576\u4f7f\u7528\"probe:z_virtual_endstop\"\u6642\uff0c\u6307\u5b9a\u7684 Z \"position_endstop\"\u662f\u7121\u6548\u7684\u3002\u73fe\u5728\uff0c\u5982\u679c\u7528\"probe:z_virtual_endstop\"\u6307\u5b9a\u4e00\u500b Z \"position_endstop\"\uff0c\u5c07\u6703\u5831\u544a\u4e00\u500b\u932f\u8aa4\u3002\u522a\u9664 Z \u7684 \"position_endstop\"\u5b9a\u7fa9\u4ee5\u89e3\u6c7a\u9019\u500b\u932f\u8aa4\u3002 20201120: [board_pins] \u914d\u7f6e\u90e8\u5206\u73fe\u5728\u5728 mcu: \u53c3\u6578\u4e2d\u660e\u78ba\u6307\u5b9a\u4e86\u5c0d\u61c9MCU\u540d\u7a31\u3002\u5982\u679c\u4f7f\u7528\u8f14\u52a9MCU\u7684board_pins\uff0c\u5247\u5fc5\u9808\u66f4\u65b0\u914d\u7f6e\u4ee5\u6307\u5b9a\u8a72MCU\u540d\u7a31\u3002\u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u4ee5\u77ad\u89e3\u66f4\u591a\u7d30\u7bc0\u3002 20201112: \u7531 print_stats.print_duration \u63a7\u5236\u7684\u5831\u544a\u6642\u9593\u5df2\u7d93\u6539\u8b8a\u3002\u73fe\u5728\u4e0d\u5305\u62ec\u6aa2\u6e2c\u5230\u7684\u9996\u6b21\u64e0\u51fa\u4e4b\u524d\u7684\u6642\u9593\u3002 20201029: neopixel color_order_GRB \u914d\u7f6e\u5df2\u5f9e\u914d\u7f6e\u4e2d\u79fb\u9664\u3002\u5982\u679c\u9700\u8981\uff0c\u8acb\u66f4\u65b0\u914d\u7f6e\u6a94\u6848\uff0c\u5c07\u65b0\u7684 color_order \u9078\u9805\u8a2d\u5b9a\u70baRGB\u3001GRB\u3001RGBW\u6216GRBW\u3002 20201029: mcu\u914d\u7f6e\u90e8\u5206\u7684\u5e8f\u5217\u9078\u9805\u4e0d\u518d\u9810\u8a2d\u70ba /dev/ttyS0 \u3002\u5728\u6975\u5176\u7f55\u898b\u7684\u60c5\u6cc1\u4e0b\uff0c\u5982\u679c /dev/ttyS0 \u662f\u6240\u9700\u7684\u4e32\u5217\u57e0\uff0c\u5fc5\u9808\u660e\u78ba\u6307\u5b9a\u5b83\u3002 20201020: Klipper v0.9.0\u767c\u4f48\u3002 20200902: \u4fee\u6b63\u4e86MAX31865\u8f49\u63db\u5668\u7684RTD\u96fb\u963b-\u6eab\u5ea6\u8a08\u7b97\u7121\u6cd5\u70ba\u4f4e\u7684\u932f\u8aa4\u3002\u5982\u679c\u4f60\u4f7f\u7528\u6b64\u6676\u7247\uff0c\u8acb\u91cd\u65b0\u6821\u6e96\u4f60\u7684\u5217\u5370\u6eab\u5ea6\u548cPID\u8a2d\u5b9a\u3002 20200816: G\u7a0b\u5f0f\u78bc\u5b8f printer.gcode \u5c0d\u50cf\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba printer.gcode_move \u3002\u522a\u9664\u4e86 printer.toolhead \u548c printer.gcode \u4e2d\u5e7e\u500b\u6c92\u6709\u6587\u4ef6\u7684\u8b8a\u6578\u3002\u53c3\u898b docs/Command_Templates.md \u4ee5\u7372\u5f97\u53ef\u7528\u7684\u6a21\u677f\u8b8a\u6578\u5217\u8868\u3002 20200816: gcode\u5b8f \"action_\"\u7cfb\u7d71\u5df2\u7d93\u6539\u8b8a\u3002\u8acb\u7528 action_emergency_stop() \u66ff\u63db\u6240\u6709 printer.gcode.action_emergency_stop() \uff0c\u7528 action_respond_info() \u66ff\u63db\u6240\u6709 printer.gcode.action_respond_info() \uff0c\u7528 action_raise_error() \u66ff\u63db\u6240\u6709 printer.gcode.action_respond_error() \u3002 20200809: \u83dc\u55ae\u7cfb\u7d71\u5df2\u88ab\u91cd\u5beb\u3002\u5982\u679c\u662f\u5b9a\u88fd\u83dc\u55ae\uff0c\u90a3\u9700\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u914d\u7f6e\u7d30\u7bc0\u898bconfig/example-menu.cfg\uff0c\u4f8b\u5b50\u898bklippy/extras/display/menu.cfg\u3002 20200731: virtual_sdcard \u5370\u8868\u6a5f\u5c0d\u50cf\u5831\u544a\u7684 progress \u5c6c\u6027\u7684\u884c\u70ba\u5df2\u7d93\u6539\u8b8a\u3002\u7576\u5217\u5370\u66ab\u505c\u6642\uff0c\u9032\u5ea6\u4e0d\u518d\u88ab\u91cd\u7f6e\u70ba0\u3002\u73fe\u5728\u5b83\u6703\u59cb\u7d42\u6839\u64da\u5df2\u8f09\u5165\u6a94\u6848\u7684\u8b80\u53d6\u4f4d\u7f6e\u4f86\u5831\u544a\u9032\u5ea6\uff0c\u5982\u679c\u76ee\u524d\u6c92\u6709\u8f09\u5165\u6a94\u6848\uff0c\u5247\u5831\u544a0\u3002 20200725: \u79fb\u9664\u4e86\u8235\u6a5f enable \u914d\u7f6e\u53c3\u6578\u548cSET_SERVO ENABLE \u53c3\u6578\u3002\u8acb\u66f4\u65b0\u6240\u6709\u5b8f\uff0c\u7528 SET_SERVO SERVO=my_servo WIDTH=0 \u4f86\u7981\u7528\u8235\u6a5f\u3002 20200608: LCD\u986f\u793a\u652f\u63f4\u90e8\u5206\u6539\u8b8a\u4e86\u4e00\u4e9b\u5167\u90e8 \"\u5b57\u5f62 \"\u7684\u540d\u7a31\u3002\u5982\u679c\u81ea\u5b9a\u7fa9\u4e86\u986f\u793a\u4f48\u5c40\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u5230\u6700\u65b0\u7684\u5b57\u5f62\u540d\u7a31\uff08\u898bklippy/extras/display/display.cfg\u4e2d\u7684\u53ef\u7528\u5b57\u5f62\u5217\u8868\uff09\u3002 20200606: \u6539\u8b8a\u4e86linux mcu\u4e0a\u7684\u5f15\u8173\u540d\u7a31\u3002\u73fe\u5728\u5f15\u8173\u7684\u540d\u7a31\u683c\u5f0f\u662f gpiochip<chipid>/gpio<gpio> \u3002\u5c0d\u65bcgpiochip0\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 gpio<gpio> \u7684\u7e2e\u5beb\u3002\u4f8b\u5982\uff0c\u4ee5\u524d\u540d\u5b57\u70ba P20'\uff0c\u73fe\u5728\u8b8a\u6210 gpio20'\u6216`gpiochip0/gpio20'\u3002 20200603\uff1a\u9810\u8a2d\u768416x4 LCD\u4f48\u5c40\u5c07\u4e0d\u518d\u986f\u793a\u5217\u5370\u7684\u9810\u8a08\u5269\u9918\u6642\u9593\u3002(\u53ea\u986f\u793a\u5df2\u7528\u6642\u9593\u3002)\u5982\u679c\u9700\u8981\u820a\u7684\u4f48\u5c40\uff0c\u53ef\u4ee5\u7528\u5b9a\u88fd\u83dc\u55ae\u986f\u793a\u8a72\u8cc7\u8a0a(\u8a73\u60c5\u898bconfig/example-extras.cfg\u4e2ddisplay_data\u7684\u63cf\u8ff0)\u3002 20200531: \u9810\u8a2d\u7684USB\u5ee0\u5546/\u7522\u54c1ID\u73fe\u5728\u662f0x1d50/0x614e\u3002\u9019\u500b\u65b0ID\u662f\u70baKlipper\u4fdd\u7559\u7684\uff08\u611f\u8b1dopenmoko\u5c08\u6848\uff09\u3002\u9019\u500b\u8b8a\u5316\u4e0d\u9700\u8981\u6539\u8b8a\u4efb\u4f55\u914d\u7f6e\uff0c\u4f46\u65b0\u7684ID\u53ef\u80fd\u6703\u51fa\u73fe\u5728\u7cfb\u7d71\u65e5\u8a8c\u4e2d\u3002 20200524\uff1a\u73fe\u5728tmc5160\u7684pwm_freq\u6b04\u4f4d\uff0c\u9810\u8a2d\u503c\u662f0\uff08\u800c\u4e0d\u662f1\uff09\u3002 20200425: gcode_macro\u547d\u4ee4\u6a21\u677f\u8b8a\u6578 printer.heater \u6539\u547d\u540d\u70ba printer.heaters \u3002 20200313: \u6539\u8b8a\u591a\u64e0\u51fa\u6a5f\u5370\u8868\u6a5f16x4\u87a2\u5e55\u7684\u9810\u8a2d\u6db2\u6676\u5c4f\u4f48\u5c40\u3002\u73fe\u5728\u9810\u8a2d\u662f\u55ae\u500b\u64e0\u51fa\u6a5f\u87a2\u5e55\u4f48\u5c40\uff0c\u7528\u65bc\u986f\u793a\u76ee\u524d\u6d3b\u52d5\u7684\u64e0\u51fa\u6a5f\u3002\u8981\u4f7f\u7528\u4ee5\u524d\u7684\u986f\u793a\u4f48\u5c40\uff0c\u8acb\u8a2d\u5b9aprinter.cfg\u6a94\u6848\u4e2d[display]\u90e8\u5206\u7684 \"display_group: _multiextruder_16x4\"\u3002 20200308\uff1a\u79fb\u9664\u4e86\u9810\u8a2d\u7684 __test \u83dc\u55ae\u9805\u3002\u5982\u679c\u914d\u7f6e\u6a94\u6848\u4e2d\u6709\u81ea\u5b9a\u7fa9\u7684\u83dc\u55ae\uff0c\u90a3\u9ebc\u8acb\u78ba\u4fdd\u522a\u9664\u6240\u6709\u5c0d\u9019\u500b __test \u83dc\u55ae\u9805\u7684\u5f15\u7528\u3002 20200308: \u79fb\u9664\u4e86\u83dc\u55ae\u4e2d\u7684 \"desk \"\u548c \"card \"\u9078\u9805\u3002\u8981\u5b9a\u88fdlcd\u87a2\u5e55\u7684\u4f48\u5c40\uff0c\u8acb\u4f7f\u7528\u65b0\u7684display_data\u914d\u7f6e\u90e8\u5206\uff08\u8a73\u898bconfig/example-extras.cfg\uff09\u3002 20200109: bed_mesh \u6a21\u7d44\u73fe\u5728\u5f15\u7528\u63a2\u91dd\u7684\u4f4d\u7f6e\u4f86\u9032\u884c\u7db2\u683c\u914d\u7f6e\u3002\u56e0\u6b64\uff0c\u4e00\u4e9b\u914d\u7f6e\u9078\u9805\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u4ee5\u66f4\u6e96\u78ba\u5730\u53cd\u6620\u5176\u529f\u80fd\u3002\u5c0d\u65bc\u77e9\u5f62\u5e8a\uff0c min_point'\u548c max_point \u5206\u5225\u91cd\u65b0\u547d\u540d\u70ba mesh_min \u548c mesh_max \u3002\u5c0d\u65bc\u5713\u5f62\u5e8a\uff0c bed_radius \u91cd\u65b0\u547d\u540d\u70ba mesh_radius \u3002\u5c0d\u65bc\u5713\u5f62\u5e8a\uff0c\u9084\u589e\u52a0\u4e86\u4e00\u500b\u65b0\u7684 mesh_origin`\u9078\u9805\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u4e9b\u8b8a\u66f4\u8207\u4e4b\u524d\u5132\u5b58\u7684\u7db2\u683c\u914d\u7f6e\u6a94\u6848\u4e0d\u76f8\u5bb9\u3002\u5982\u679c\u6aa2\u6e2c\u5230\u4e00\u500b\u4e0d\u76f8\u5bb9\u7684\u914d\u7f6e\u6a94\u6848\uff0c\u6b64\u6a94\u6848\u6703\u88ab\u5ffd\u7565\u4e26\u88ab\u522a\u9664\u3002\u522a\u9664\u904e\u7a0b\u53ef\u4ee5\u901a\u904e\u767c\u51fa SAVE_CONFIG \u547d\u4ee4\u4f86\u5b8c\u6210\u3002\u4f7f\u7528\u8005\u5c07\u9700\u8981\u91cd\u65b0\u6821\u6e96\u6bcf\u500b\u5e8a\u7684\u7db2\u5e8a\u914d\u7f6e\u3002 20191218: \u986f\u793a\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u63f4 \"lcd_type: st7567\"\u3002\u8acb\u4f7f\u7528 \"uc1701 \"\u986f\u793a\u578b\u5225\u4ee3\u66ff\uff1a\u8a2d\u5b9a \"lcd_type: uc1701 \"\uff0c\u5c07 \"rs_pin: some_pin \"\u6539\u70ba \"rst_pin: some_pin\"\u3002\u53ef\u80fd\u9084\u9700\u8981\u589e\u52a0\u4e00\u500b \"contrast: 60\"\u7684\u914d\u7f6e\u8a2d\u5b9a\u3002 20191210\uff1a\u522a\u9664\u4e86\u5167\u5efa\u7684T0\u3001T1\u3001T2...\u547d\u4ee4\u3002\u79fb\u9664\u4e86\u64e0\u51fa\u6a5f activate_gcode \u548c deactivate_gcode \u914d\u7f6e\u9078\u9805\u3002\u5982\u679c\u9700\u8981\u9019\u4e9b\u547d\u4ee4\uff08\u548c\u6307\u4ee4\u78bc\uff09\uff0c\u8acb\u5b9a\u7fa9\u55ae\u7368\u7684[gcode_macro T0]\u98a8\u683c\u7684\u5b8f\uff0c\u547c\u53ebACTIVATE_EXTRUDER\u547d\u4ee4\u3002\u53c3\u898bconfig/sample-idex.cfg\u548csample-multi-extruder.cfg\u6a94\u6848\u4e2d\u7684\u4f8b\u5b50\u3002 20191210\uff1a\u79fb\u9664\u4e86\u5c0dM206\u547d\u4ee4\u7684\u652f\u63f4\u3002\u7528\u547c\u53ebSET_GCODE_OFFSET\u4f86\u4ee3\u66ff\u3002\u5982\u679c\u9700\u8981\u5c0dM206\u7684\u652f\u63f4\uff0c\u8acb\u65b0\u589e\u4e00\u500b[gcode_macro M206]\u914d\u7f6e\u90e8\u5206\uff0c\u547c\u53ebSET_GCODE_OFFSET\u3002(\u4f8b\u5982 \"SET_GCODE_OFFSET Z=-{params.Z}\"\u3002) 20191202\uff1a\u79fb\u9664\u4e86\u5c0d \"G4 \"\u547d\u4ee4\u4e2d\u7121\u6a19\u8a3b\u7684 \"S \"\u53c3\u6578\u7684\u652f\u63f4\u3002\u7528\u6a19\u6e96\u7684 \"P \"\u53c3\u6578\uff08\u4ee5\u6beb\u79d2\u70ba\u55ae\u4f4d\u7684\u5ef6\u9072\uff09\u53d6\u4ee3\u4efb\u4f55\u51fa\u73fe\u7684S\u3002 20191126\uff1a\u6539\u8b8a\u4e86\u90a3\u4e9b\u539f\u751fUSB\u652f\u63f4\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u7684USB\u540d\u7a31\u3002\u73fe\u5728\u9810\u8a2d\u4f7f\u7528\u552f\u4e00\u7684\u6676\u7247ID\uff08\u5982\u679c\u53ef\u7528\uff09\u3002\u5982\u679c \"MCU \"\u914d\u7f6e\u90e8\u5206\u4f7f\u7528\u4ee5\"/dev/serial/by-id/\"\u958b\u982d\u7684 \"\u4e32\u5217\u57e0 \"\u8a2d\u5b9a\uff0c\u90a3\u9ebc\u53ef\u80fd\u6709\u5fc5\u8981\u66f4\u65b0\u914d\u7f6e\u3002\u5728ssh\u7d42\u7aef\u57f7\u884c \"ls /dev/serial/by-id/*\"\u4f86\u78ba\u5b9a\u65b0\u7684id\u3002 20191121\uff1a\u79fb\u9664\u4e86pressure_advance_lookahead_time\u53c3\u6578\u3002\u6aa2\u8996example.cfg\u4ee5\u77ad\u89e3\u66ff\u4ee3\u7684\u914d\u7f6e\u8a2d\u5b9a\u3002 20191112\uff1a\u5982\u679c\u6b65\u9032\u9a45\u52d5\u5668\u6c92\u6709\u5c08\u7528\u7684\u6b65\u9032\u96fb\u6a5f\u4f7f\u80fd\u5f15\u8173\uff0c\u90a3\u9ebc\u5c31\u6703\u81ea\u52d5\u555f\u7528tmc\u6b65\u9032\u9a45\u52d5\u5668\u7684\u865b\u64ec\u4f7f\u80fd\u529f\u80fd\u3002\u5f9e\u914d\u7f6e\u4e2d\u522a\u9664\u5c0dtmcXXXX:virtual_enable\u7684\u5f15\u7528\u3002\u79fb\u9664\u4e86\u5728\u6b65\u9032\u9a45\u52d5\u5668 enable_pin \u914d\u7f6e\u4e2d\u63a7\u5236\u591a\u500b\u5f15\u8173\u7684\u80fd\u529b\u3002\u5982\u679c\u9700\u8981\u63a7\u5236\u591a\u500b\u5f15\u8173\uff0c\u8acb\u4f7f\u7528multi_pin \u914d\u7f6e\u90e8\u5206\u3002 20191107\uff1a\u4e3b\u64e0\u51fa\u6a5f\u914d\u7f6e\u90e8\u5206\u5fc5\u9808\u6307\u5b9a\u70ba \"extruder\"\uff0c\u4e0d\u5f97\u518d\u6307\u5b9a\u70ba \"extruder0\"\u3002\u67e5\u8a62\u64e0\u51fa\u6a5f\u72c0\u614b\u7684Gcode\u547d\u4ee4\u6a21\u677f\u73fe\u5728\u53ef\u4ee5\u901a\u904e\"{printer.extruder}\"\u8a2a\u554f\u3002 20191021: Klipper v0.8.0\u767c\u4f48 20191003: [safe_z_homing] \u4e2d\u7684 move_to_previous \u9078\u9805\u73fe\u5728\u9810\u8a2d\u70ba False\u3002(\u572820190918\u5e74\u4e4b\u524d\uff0c\u5b83\u5be6\u969b\u4e0a\u662fFalse\u3002) 20190918: [safe_z_homing]\u4e2d\u7684 zhop \u9078\u9805\u7e3d\u662f\u5728Z\u8ef8\u6b78\u4f4d\u5b8c\u6210\u5f8c\u91cd\u65b0\u61c9\u7528\u3002\u9019\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u8005\u66f4\u65b0\u57fa\u65bc\u6b64\u6a21\u7d44\u7684\u81ea\u5b9a\u7fa9\u6307\u4ee4\u78bc\u3002 20190806: SET_NEOPIXEL \u547d\u4ee4\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba SET_LED\u3002 20190726\uff1a\u66f4\u6539\u4e86mcp4728\u7684\u6578\u6a21\u8f49\u63db\u7a0b\u5f0f\u78bc\u3002\u9810\u8a2d\u7684i2c_address\u73fe\u5728\u662f0x60\uff0c\u96fb\u58d3\u53c3\u8003\u73fe\u5728\u662f\u76f8\u5c0d\u65bcmcp4728\u7684\u5167\u90e82.048V\u53c3\u8003\u6e90\u3002 20190710: \u522a\u9664\u4e86[firmware_retract]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684z_hop\u9078\u9805\u3002\u7531\u65bc\u5c0dz_hop\u7684\u652f\u63f4\u4e0d\u5b8c\u6574\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u5e7e\u500b\u5e38\u898b\u5207\u7247\u8edf\u9ad4\u7684\u7570\u5e38\u884c\u70ba\u3002 20190710\uff1a\u6539\u8b8a\u4e86PROBE_ACCURACY\u547d\u4ee4\u7684\u53ef\u9078\u53c3\u6578\u3002\u5982\u679c\u5b8f\u6216\u6307\u4ee4\u78bc\u4f7f\u7528\u4e86\u8a72\u547d\u4ee4\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u3002 20190628\uff1a\u79fb\u9664\u4e86[skew_correction]\u90e8\u5206\u6240\u6709\u7684\u914d\u7f6e\u9078\u9805\u3002\u73fe\u5728\uff0c\u5c0dskew_correction\u7684\u914d\u7f6e\u662f\u901a\u904eSET_SKEW gcode\u5b8c\u6210\u7684\u3002\u63a8\u85a6\u4f7f\u7528\u65b9\u6cd5\u8acb\u53c3\u898b \u50be\u659c\u6821\u6b63 \u3002 20190607: gcode_macro \u7684 \"variable_X \"\u53c3\u6578\uff08\u4ee5\u53ca SET_GCODE_VARIABLE \u7684 VALUE \u53c3\u6578\uff09\u73fe\u5728\u88ab\u89e3\u6790\u70ba Python \u5b57\u5143\u3002\u5982\u679c\u4e00\u500b\u503c\u9700\u8981\u5206\u914d\u6210\u5b57\u4e32\u578b\uff0c\u90a3\u9ebc\u7528\u5f15\u865f\u5305\u88f9\u8a72\u503c\u4ee5\u78ba\u4fdd\u5b83\u88ab\u89e3\u6790\u70ba\u4e00\u500b\u5b57\u4e32\u3002 20190606: samples\"\u3001\"samples_result \"\u548c \"samples_retract_dist \"\u914d\u7f6e\u9078\u9805\u5df2\u88ab\u79fb\u81f3 \"probe \"\u914d\u7f6e\u90e8\u5206\u3002\u5728 \"delta_calibrate\"\u3001\"bed_tilt\"\u3001\"bed_mesh\"\u3001\"screw_tilt_adjust\"\u3001\"z_tilt \"\u6216 \"quad_gantry_level \"\u914d\u7f6e\u90e8\u5206\u4e0d\u518d\u652f\u63f4\u9019\u4e9b\u9078\u9805\u3002 20190528\uff1agcode_macro\u6a21\u677f\u8a55\u4f30\u4e2d\u7684\u7279\u6b8a \"status \"\u8b8a\u6578\u5df2\u66f4\u540d\u70ba \"printer\"\u3002 20190520: SET_GCODE_OFFSET\u547d\u4ee4\u5df2\u7d93\u6539\u8b8a\uff0c\u8acb\u76f8\u61c9\u5730\u66f4\u65b0G\u7a0b\u5f0f\u78bc\u5b8f\u3002\u8a72\u547d\u4ee4\u5c07\u4e0d\u518d\u628a\u8981\u6c42\u7684\u504f\u79fb\u91cf\u61c9\u7528\u65bc\u4e0b\u4e00\u500bG1\u547d\u4ee4\u3002\u820a\u7684\u884c\u70ba\u53ef\u4ee5\u901a\u904e\u4f7f\u7528\u65b0\u7684 \"MOVE=1 \"\u53c3\u6578\u4f86\u8fd1\u4f3c\u5be6\u73fe\u3002 20190404\uff1aPython\u4e3b\u6a5f\u8edf\u9ad4\u5305\u5df2\u7d93\u66f4\u65b0\u3002\u4f7f\u7528\u8005\u9700\u8981\u91cd\u65b0\u57f7\u884c~/klipper/scripts/install-octopi.sh\u6307\u4ee4\u78bc\uff08\u5982\u679c\u4e0d\u4f7f\u7528\u6a19\u6e96\u7684OctoPi\u5b89\u88dd\uff0c\u5247\u9700\u8981\u5347\u7d1aPython\u7684\u4f9d\u8cf4\u95dc\u4fc2\uff09\u3002 20190404\uff1a\u73fe\u5728i2c_bus\u548cspi_bus\u53c3\u6578\uff08\u5728\u5404\u500b\u914d\u7f6e\u90e8\u5206\uff09\u63a1\u7528\u532f\u6d41\u6392\u540d\u7a31\u800c\u4e0d\u662f\u6578\u5b57\u3002 20190404\uff1a\u8b8a\u66f4\u4e86sx1509\u7684\u914d\u7f6e\u53c3\u6578\u3002'address' \u53c3\u6578\u6539\u540d\u70ba 'i2c_address'\u4e14\u5fc5\u9808\u88ab\u6307\u5b9a\u70ba\u5341\u9032\u5236\u6578\u5b57\u3002\u4ee5\u524d\u4f7f\u7528\u7684\u662f0x3E\uff0c\u73fe\u5728\u5247\u752862\u3002 20190328\uff1a\u73fe\u5728[temperature_fan]\u914d\u7f6e\u4e2d\u7684min_speed\u503c\u5c07\u88ab\u4f7f\u7528\uff0c\u5728PID\u6a21\u5f0f\u4e0b\uff0c\u98a8\u6247\u5c07\u59cb\u7d42\u4ee5\u9019\u500b\u901f\u5ea6\u6216\u66f4\u9ad8\u7684\u901f\u5ea6\u8f49\u52d5\u3002 20190322: [tmc2660] \u914d\u7f6e\u90e8\u5206\u4e2d \"driver_HEND \"\u7684\u9810\u8a2d\u503c\u5f9e6\u6539\u70ba3\u3002\"driver_VSENSE \"\u6b04\u4f4d\u88ab\u522a\u9664\uff08\u5f9erun_current\u4e2d\u81ea\u52d5\u8a08\u7b97\u7684\uff09\u3002 20190310\uff1a\u73fe\u5728[controller_fan]\u914d\u7f6e\u90e8\u5206\u7e3d\u662f\u5305\u542b\u4e00\u500b\u540d\u5b57\uff08\u4f8b\u5982[controller_fan my_controller_fan]\uff09\u3002 20190308\uff1a[tmc2130]\u548c[tmc2208]\u914d\u7f6e\u90e8\u5206\u4e2d\u7684 \"driver_BLANK_TIME_SELECT \"\u6b04\u4f4d\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70ba \"driver_TBL\"\u3002 20190308\uff1a\u8b8a\u66f4\u4e86[tmc2660]\u914d\u7f6e\u90e8\u5206\u3002\u73fe\u5728\u5fc5\u9808\u63d0\u4f9b\u4e00\u500b\u65b0\u7684sense_resistor\u914d\u7f6e\u53c3\u6578\u3002\u8b8a\u66f4\u4e86\u5e7e\u500bdriver_XXX\u53c3\u6578\u7684\u542b\u7fa9\u3002 20190228: SAMD21\u677f\u4e0a\u7684SPI\u6216I2C\u73fe\u5728\u5fc5\u9808\u901a\u904e[samd_sercom]\u914d\u7f6e\u90e8\u5206\u6307\u5b9a\u532f\u6d41\u6392\u5f15\u8173\u3002 20190224: bed_shape\u9078\u9805\u5df2\u5f9ebed_mesh\u4e2d\u79fb\u9664\u3002\u534a\u5f91\uff08radius\uff09\u9078\u9805\u5df2\u88ab\u91cd\u65b0\u547d\u540d\u70babed_radius\u3002\u5982\u679c\u4f7f\u7528\u5713\u5f62\u5e8a\uff0c\u9700\u8981\u63d0\u4f9bbed_radius\u548cround_probe_count\u9078\u9805\u3002 20190107\uff1a\u8b8a\u66f4\u4e86mcp4451\u914d\u7f6e\u90e8\u5206\u7684i2c_address\u53c3\u6578\u3002\u9019\u662fSmoothieboards\u4e0a\u7684\u4e00\u500b\u5e38\u898f\u8a2d\u5b9a\u3002\u65b0\u503c\u662f\u820a\u503c\u7684\u4e00\u534a\uff0888\u61c9\u6539\u70ba44\uff0c\u800c90\u61c9\u6539\u70ba45\uff09\u3002 20181220: Klipper v0.7.0\u767c\u4f48","title":"\u8b8a\u66f4"},{"location":"Config_Reference.html","text":"\u914d\u7f6e\u53c3\u8003 \u00b6 \u672c\u6587\u4ef6\u662f Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u53ef\u7528\u914d\u7f6e\u5206\u6bb5\u7684\u53c3\u8003\u3002 \u672c\u6587\u4ef6\u4e2d\u7684\u63cf\u8ff0\u5df2\u7d93\u683c\u5f0f\u5316\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5c07\u5b83\u5011\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u3002 \u898b installation document \u6709\u95dc\u8a2d\u5b9a Klipper \u548c\u9078\u64c7\u521d\u59cb\u914d\u7f6e\u6a94\u6848\u7684\u8cc7\u8a0a\u3002 \u5fae\u63a7\u5236\u5668\u914d\u7f6e \u00b6 \u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u5b57\u7684\u683c\u5f0f \u00b6 \u8a31\u591a\u914d\u7f6e\u9078\u9805\u9700\u8981\u5fae\u63a7\u5236\u5668\u5f15\u8173\u7684\u540d\u7a31\u3002Klipper \u4f7f\u7528\u4e86\u9019\u4e9b\u5f15\u8173\u7684\u786c\u9ad4\u540d\u7a31 - \u4f8b\u5982 PA4 \u3002 \u5728 \u5f15\u8173\u540d\u7a31\u524d\u52a0 ! \u4f86\u8868\u793a\u76f8\u53cd\u7684\u96fb\u6975\u6975\u6027\uff08 \u4f8b\u5982\u89f8\u767c\u689d\u4ef6\u6642\u4f4e\u96fb\u5e73\u800c\u4e0d\u662f\u9ad8\u96fb\u5e73\uff09\u3002 \u5728\u5f15\u8173\u540d\u7a31\u524d\u9762\u52a0 ^ \uff0c\u4ee5\u6307\u793a\u8a72\u5f15\u8173\u555f\u7528\u786c\u9ad4\u4e0a\u62c9\u96fb\u963b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u652f\u63f4\u4e0b\u62c9\u96fb\u963b\u5668\uff0c\u90a3\u9ebc\u8f38\u5165\u5f15\u8173\u4e5f\u53ef\u4ee5\u5728\u524d\u9762\u52a0\u4e0a ~ \u3002 \u6ce8\u610f\uff0c\u67d0\u4e9b\u914d\u7f6e\u90e8\u5206\u53ef\u80fd\u6703\u300c\u5efa\u7acb\u300d\u984d\u5916\u7684\u5f15\u8173\u3002 \u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u5b9a\u7fa9\u5f15\u8173\u7684\u914d\u7f6e\u90e8\u5206\u5fc5\u9808\u5728\u4f7f\u7528\u9019\u4e9b\u5f15\u8173\u7684\u4efb\u4f55\u90e8\u5206\u4e4b\u524d\u5217\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u3002 [MCU] \u00b6 \u4e3b\u5fae\u63a7\u5236\u5668\u7684\u914d\u7f6e\u3002 [mcu] serial: # \u9023\u63a5MCU\u7684\u4e32\u53e3\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff08\u6216\u8005\u5982\u679c\u5b83 # \u66f4\u6539\uff09\u67e5\u770b\u201c\u6211\u7684\u4e32\u53e3\u5728\u54ea\u88e1\uff1f\u201d\u5e38\u898b\u554f\u984c\u89e3\u7b54\u90e8\u5206\u3002 # \u4f7f\u7528\u4e32\u53e3\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #baud: 250000 # \u8981\u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002\u9ed8\u8a8d\u503c\u70ba 250000\u3002 #canbus_uuid: # \u5982\u679c\u4f7f\u7528\u9023\u63a5\u5230 CAN \u7e3d\u7dda\u7684\u8a2d\u5099\uff0c\u5247\u8a2d\u7f6e\u552f\u4e00 # \u8981\u9023\u63a5\u7684\u82af\u7247\u6a19\u8b58\u7b26\u3002\u4f7f\u7528\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u503c # CAN \u7e3d\u7dda\u9032\u884c\u901a\u8a0a\u3002 #canbus_interface\uff1a # \u5982\u679c\u4f7f\u7528\u9023\u63a5\u5230 CAN \u7e3d\u7dda\u7684\u8a2d\u5099\uff0c\u90a3\u9ebc\u9019\u5c07\u8a2d\u7f6e CAN # \u8981\u4f7f\u7528\u7684\u7db2\u7d61\u63a5\u53e3\u3002\u9ed8\u8a8d\u503c\u70ba\u201ccan0\u201d\u3002 #restart_method\uff1a # \u9019\u63a7\u5236\u4e3b\u6a5f\u5c07\u7528\u65bc\u91cd\u7f6e\u7684\u6a5f\u5236 #\u5fae\u63a7\u5236\u5668\u3002\u9078\u64c7\u662f'arduino'\uff0c'cheetah'\uff0c'rpi_usb'\uff0c # \u548c\u201c\u547d\u4ee4\u201d\u3002 'arduino' \u65b9\u6cd5\uff08\u5207\u63db DTR\uff09\u5728 # Arduino \u677f\u548c\u514b\u9686\u3002 \u201c\u7375\u8c79\u201d\u65b9\u6cd5\u662f\u4e00\u7a2e\u7279\u6b8a\u7684\u65b9\u6cd5 # \u4e00\u4e9b Fysetc Cheetah \u677f\u9700\u8981\u7684\u65b9\u6cd5\u3002 'rpi_usb' \u65b9\u6cd5 # \u5728\u5e36\u6709\u5fae\u63a7\u5236\u5668\u4f9b\u96fb\u7684 Raspberry Pi \u677f\u4e0a\u5f88\u6709\u7528 # over USB - \u5b83\u6703\u66ab\u6642\u7981\u7528\u6240\u6709 USB \u7aef\u53e3\u7684\u96fb\u6e90\u4ee5 # \u5b8c\u6210\u5fae\u63a7\u5236\u5668\u5fa9\u4f4d\u3002 \u201c\u547d\u4ee4\u201d\u65b9\u6cd5\u6d89\u53ca # \u5411\u5fae\u63a7\u5236\u5668\u767c\u9001\u4e00\u500b Klipper \u547d\u4ee4\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5 # \u91cd\u7f6e\u81ea\u5df1\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u9ed8\u8a8d\u70ba\u201carduino\u201d # \u901a\u904e\u4e32\u884c\u7aef\u53e3\u9032\u884c\u901a\u4fe1\uff0c\u5426\u5247\u70ba\u201c\u547d\u4ee4\u201d\u3002 \u984d\u5916\u7684mcu [mcu my_extra_mcu] \u00b6 \u984d\u5916\u7684\u5fae\u63a7\u5236\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u300cmcu\u300d\u5b57\u9996\u7684\u90e8\u5206\uff09\u3002 \u984d\u5916\u7684\u5fae\u63a7\u5236\u5668\u5f15\u5165\u4e86\u984d\u5916\u7684\u5f15\u8173\uff0c\u9019\u4e9b\u5f15\u8173\u53ef\u4ee5\u914d\u7f6e\u70ba\u52a0\u71b1\u5668\u3001\u6b65\u9032\u5668\u3001\u98a8\u6247\u7b49\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5f15\u5165\u4e86\u300c[mcu extra_mcu]\u300d\u90e8\u5206\uff0c\u90a3\u9ebc\u8af8\u5982\u300cextra_mcu:ar9\u300d\u4e4b\u985e\u7684\u5f15\u8173\u5c31\u53ef\u4ee5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528 \uff0c\u5728\u914d\u7f6e\u4e2d\uff08\u5176\u4e2d\u300car9\u300d\u662f\u7d66\u5b9a mcu \u4e0a\u7684\u786c\u9ad4\u5f15\u8173\u540d\u7a31\u6216\u5225\u540d\uff09\u3002 [mcu my_extra_mcu] # \u8acb\u53c3\u95b1\"mcu\"\u5206\u6bb5\u7684\u914d\u7f6e\u53c3\u6578\u3002 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u00b6 [printer] \u00b6 \u5370\u8868\u6a5f\u63a7\u5236\u7684\u9ad8\u7d1a\u8a2d\u5b9a\u90e8\u5206\u3002 [printer] kinematics: # The type of printer in use. This option may be one of: cartesian, # corexy, corexz, hybrid_corexy, hybrid_corexz, rotary_delta, delta, # polar, winch, or none. This # parameter must be specified. max_velocity: # Maximum velocity (in mm/s) of the toolhead (relative to the # print). This parameter must be specified. max_accel: # Maximum acceleration (in mm/s^2) of the toolhead (relative to the # print). This parameter must be specified. #max_accel_to_decel: # A pseudo acceleration (in mm/s^2) controlling how fast the # toolhead may go from acceleration to deceleration. It is used to # reduce the top speed of short zig-zag moves (and thus reduce # printer vibration from these moves). The default is half of # max_accel. #square_corner_velocity: 5.0 # The maximum velocity (in mm/s) that the toolhead may travel a 90 # degree corner at. A non-zero value can reduce changes in extruder # flow rates by enabling instantaneous velocity changes of the # toolhead during cornering. This value configures the internal # centripetal velocity cornering algorithm; corners with angles # larger than 90 degrees will have a higher cornering velocity while # corners with angles less than 90 degrees will have a lower # cornering velocity. If this is set to zero then the toolhead will # decelerate to zero at each corner. The default is 5mm/s. [stepper] \u00b6 \u6b65\u9032\u96fb\u6a5f\u5b9a\u7fa9\u3002 \u4e0d\u540c\u7684\u5370\u8868\u6a5f\u578b\u5225\uff08\u7531 [\u5217\u5370] \u914d\u7f6e\u90e8\u5206\u4e2d\u7684\u300c\u6a5f\u578b\u300d\u9078\u9805\u6307\u5b9a\uff09\u6b65\u9032\u5668\u9700\u8981\u5b9a\u7fa9\u4e0d\u540c\u7684\u540d\u7a31\uff08\u4f8b\u5982\uff0c stepper_x \u8207 stepper_a \uff09\u3002 \u4ee5\u4e0b\u662f\u5e38\u898b\u7684\u6b65\u9032\u5668\u5b9a\u7fa9\u3002 \u6709\u95dc\u8a08\u7b97 rotation_distance \u53c3\u6578\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 rotation distance document \u3002\u6709\u95dc\u4f7f\u7528\u591a\u500b\u5fae\u63a7\u5236\u5668\u9032\u884c\u6b78\u4f4d\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u898b Multi-MCU homing \u6587\u6a94\u3002 [stepper_x] step_pin: # Step GPIO pin (triggered high). This parameter must be provided. dir_pin: # Direction GPIO pin (high indicates positive direction). This # parameter must be provided. enable_pin: # Enable pin (default is enable high; use ! to indicate enable # low). If this parameter is not provided then the stepper motor # driver must always be enabled. rotation_distance: # Distance (in mm) that the axis travels with one full rotation of # the stepper motor (or final gear if gear_ratio is specified). # This parameter must be provided. microsteps: # The number of microsteps the stepper motor driver uses. This # parameter must be provided. #full_steps_per_rotation: 200 # The number of full steps for one rotation of the stepper motor. # Set this to 200 for a 1.8 degree stepper motor or set to 400 for a # 0.9 degree motor. The default is 200. #gear_ratio: # The gear ratio if the stepper motor is connected to the axis via a # gearbox. For example, one may specify \"5:1\" if a 5 to 1 gearbox is # in use. If the axis has multiple gearboxes one may specify a comma # separated list of gear ratios (for example, \"57:11, 2:1\"). If a # gear_ratio is specified then rotation_distance specifies the # distance the axis travels for one full rotation of the final gear. # The default is to not use a gear ratio. #step_pulse_duration: # The minimum time between the step pulse signal edge and the # following \"unstep\" signal edge. This is also used to set the # minimum time between a step pulse and a direction change signal. # The default is 0.000000100 (100ns) for TMC steppers that are # configured in UART or SPI mode, and the default is 0.000002 (which # is 2us) for all other steppers. endstop_pin: # Endstop switch detection pin. If this endstop pin is on a # different mcu than the stepper motor then it enables \"multi-mcu # homing\". This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #position_min: 0 # Minimum valid distance (in mm) the user may command the stepper to # move to. The default is 0mm. position_endstop: # Location of the endstop (in mm). This parameter must be provided # for the X, Y, and Z steppers on cartesian style printers. position_max: # Maximum valid distance (in mm) the user may command the stepper to # move to. This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #homing_speed: 5.0 # Maximum velocity (in mm/s) of the stepper when homing. The default # is 5mm/s. #homing_retract_dist: 5.0 # Distance to backoff (in mm) before homing a second time during # homing. Set this to zero to disable the second home. The default # is 5mm. #homing_retract_speed: # Speed to use on the retract move after homing in case this should # be different from the homing speed, which is the default for this # parameter #second_homing_speed: # Velocity (in mm/s) of the stepper when performing the second home. # The default is homing_speed/2. #homing_positive_dir: # If true, homing will cause the stepper to move in a positive # direction (away from zero); if false, home towards zero. It is # better to use the default than to specify this parameter. The # default is true if position_endstop is near position_max and false # if near position_min. \u7b1b\u5361\u723e\u6a5f\u578b \u00b6 \u6709\u95dc\u793a\u4f8bXYZ\u6a5f\u578b\u914d\u7f6e\u6a94\u6848\uff0c\u8acb\u53c3\u95b1 example-cartesian.cfg \u3002 \u6b64\u8655\u63cf\u8ff0\u7684\u53c3\u6578\u53ea\u9069\u7528\u65bc\u7b1b\u5361\u723e\u5370\u8868\u6a5f\uff0c\u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u904b\u52d5\u8a2d\u5b9a \u3002 [printer] kinematics: cartesian max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the stepper controlling # the X axis in a cartesian robot. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis in a cartesian robot. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis in a cartesian robot. [stepper_z] \u7dda\u6027\u4e09\u89d2\u6d32\u6a5f\u578b \u00b6 \u6709\u95dc\u793a\u4f8b\u7dda\u6027\u4e09\u89d2\u6d32\u6a5f\u578b\u914d\u7f6e\u6a94\u6848\uff0c\u8acb\u53c3\u95b1 example-delta.cfg \u3002 \u6709\u95dc\u6821\u6e96\u7684\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 delta calibrate guide \u3002 \u6b64\u8655\u50c5\u63cf\u8ff0\u4e86\u7dda\u6027\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u7279\u5b9a\u53c3\u6578 - \u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u904b\u52d5\u8a2d\u5b9a \u3002 [printer] kinematics: delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. Setting this may be useful if the printer can reach higher # acceleration on XY moves than Z moves (eg, when using input shaper). # The default is to use max_accel for max_z_accel. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. delta_radius: # Radius (in mm) of the horizontal circle formed by the three linear # axis towers. This parameter may also be calculated as: # delta_radius = smooth_rod_offset - effector_offset - carriage_offset # This parameter must be provided. #print_radius: # The radius (in mm) of valid toolhead XY coordinates. One may use # this setting to customize the range checking of toolhead moves. If # a large value is specified here then it may be possible to command # the toolhead into a collision with a tower. The default is to use # delta_radius for print_radius (which would normally prevent a # tower collision). # The stepper_a section describes the stepper controlling the front # left tower (at 210 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all towers. [stepper_a] position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. arm_length: # Length (in mm) of the diagonal rod that connects this tower to the # print head. This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the tower is # at. The default is 210 for stepper_a, 330 for stepper_b, and 90 # for stepper_c. # The stepper_b section describes the stepper controlling the front # right tower (at 330 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the rear # tower (at 90 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the tower endstop positions and # angles. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. CoreXY \u6a5f\u578b \u00b6 \u6709\u95dc corexy\uff08\u53ca H-BOT\uff09\u6a5f\u578b\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-corexy.cfg \u3002 \u9019\u88e1\u53ea\u63cf\u8ff0\u4e86 CoreXY \u5370\u8868\u6a5f\u7279\u6709\u7684\u53c3\u6578 -- \u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u898b\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Y movement. [stepper_x] # The stepper_y section is used to describe the Y axis as well as the # stepper controlling the X-Y movement. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z] CoreX \u6a5f\u578b \u00b6 \u6709\u95dc corexz \u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-corexz.cfg \u3002 \u6b64\u8655\u63cf\u8ff0\u7684\u53c3\u6578\u53ea\u9069\u7528\u65bc\u7b1b\u5361\u723e\u5370\u8868\u6a5f\u2014\u6709\u95dc\u5168\u90e8\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the Z axis as well as the # stepper controlling the X-Z movement. [stepper_z] \u6df7\u5408\u578b CoreXY \u6a5f\u578b \u00b6 \u6709\u95dc\u793a\u4f8b\u6df7\u5408 corexy \u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\uff0c\u8acb\u53c3\u898b example-hybrid-corexy.cfg \u3002 \u9019\u7a2e\u6a5f\u578b\u4e5f\u7a31\u70ba Markforged \u6a5f\u578b\u3002 \u6b64\u8655\u50c5\u63cf\u8ff0\u4e86\u7dda\u6027\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u7279\u5b9a\u53c3\u6578\u2014\u6709\u95dc\u5168\u90e8\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: hybrid_corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Y movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z] \u6df7\u5408\u578b CoreXZ \u6a5f\u578b \u00b6 \u6709\u95dc\u793a\u4f8b\u6df7\u5408 corexz \u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\uff0c\u8acb\u53c3\u898b example-hybrid-corexz.cfg \u3002 \u9019\u7a2e\u6a5f\u578b\u4e5f\u7a31\u70ba Markforged \u6a5f\u578b\u3002 \u6b64\u8655\u50c5\u63cf\u8ff0\u4e86\u7dda\u6027\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u7279\u5b9a\u53c3\u6578\u2014\u6709\u95dc\u5168\u90e8\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: hybrid_corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z] Polar\u6a5f\u578b \u00b6 \u6709\u95dcPolar\u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-polar.cfg \u3002 \u9019\u88e1\u53ea\u63cf\u8ff0\u4e86\u6975\u5730\u5370\u8868\u6a5f\u7279\u6709\u7684\u53c3\u6578\u2014\u5168\u90e8\u53ef\u7528\u7684\u53c3\u6578\u8acb\u898b \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 POLAR \u6a5f\u578b\u652f\u63f4\u9084\u5728\u9032\u884c\u4e2d\u3002\u5df2\u77e5\u5728 0\u30010 \u4f4d\u7f6e\u9644\u8fd1\u79fb\u52d5\u7121\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002 [printer] kinematics: polar max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_bed section is used to describe the stepper controlling # the bed. [stepper_bed] gear_ratio: # A gear_ratio must be specified and rotation_distance may not be # specified. For example, if the bed has an 80 toothed pulley driven # by a stepper with a 16 toothed pulley then one would specify a # gear ratio of \"80:16\". This parameter must be provided. # The stepper_arm section is used to describe the stepper controlling # the carriage on the arm. [stepper_arm] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z] \u65cb\u8f49\u4e09\u89d2\u6d32\u6a5f\u578b \u00b6 \u6709\u95dc\u65cb\u8f49\u4e09\u89d2\u6d32\u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-rotary-delta.cfg \u3002 \u6b64\u8655\u50c5\u4ecb\u7d39\u7279\u5b9a\u65bc\u65cb\u8f49\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u53c3\u6578\u2014\u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 \u65cb\u8f49\u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u8a2d\u5b9a\u9084\u5728\u9032\u884c\u4e2d\u3002\u6b78\u4f4d\u79fb\u52d5\u53ef\u80fd\u6703\u8d85\u6642\uff0c\u4e26\u4e14\u67d0\u4e9b\u908a\u754c\u6aa2\u67e5\u672a\u5be6\u65bd\u3002 [printer] kinematics: rotary_delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. shoulder_radius: # Radius (in mm) of the horizontal circle formed by the three # shoulder joints, minus the radius of the circle formed by the # effector joints. This parameter may also be calculated as: # shoulder_radius = (delta_f - delta_e) / sqrt(12) # This parameter must be provided. shoulder_height: # Distance (in mm) of the shoulder joints from the bed, minus the # effector toolhead height. This parameter must be provided. # The stepper_a section describes the stepper controlling the rear # right arm (at 30 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all arms. [stepper_a] gear_ratio: # A gear_ratio must be specified and rotation_distance may not be # specified. For example, if the arm has an 80 toothed pulley driven # by a pulley with 16 teeth, which is in turn connected to a 60 # toothed pulley driven by a stepper with a 16 toothed pulley, then # one would specify a gear ratio of \"80:16, 60:16\". This parameter # must be provided. position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. upper_arm_length: # Length (in mm) of the arm connecting the \"shoulder joint\" to the # \"elbow joint\". This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. lower_arm_length: # Length (in mm) of the arm connecting the \"elbow joint\" to the # \"effector joint\". This parameter must be provided for stepper_a; # for stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the arm is at. # The default is 30 for stepper_a, 150 for stepper_b, and 270 for # stepper_c. # The stepper_b section describes the stepper controlling the rear # left arm (at 150 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the front # arm (at 270 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the shoulder endstop positions. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. \u7e9c\u7e69\u7d5e\u76e4\u6a5f\u578b \u00b6 \u8acb\u53c3\u95b1 example-winch.cfg \u4ee5\u7372\u53d6\u793a\u4f8b\u96fb\u7e9c\u7d5e\u76e4\u904b\u52d5\u5b78\u914d\u7f6e\u6587\u4ef6\u3002 \u9019\u88e1\u53ea\u63cf\u8ff0\u4e86\u7e9c\u7e69\u9278\u76e4\u5f0f\u5370\u8868\u6a5f\u7279\u6709\u7684\u53c3\u6578 \u2014 \u5168\u90e8\u53ef\u7528\u7684\u53c3\u6578\u898b \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 CABLE WINCH\u652f\u63f4\u662f\u5be6\u9a57\u6027\u7684\u3002\u672a\u5728\u96fb\u7e9c\u7d5e\u76e4\u904b\u52d5\u5b78\u4e0a\u5be6\u73fe\u6b78\u4f4d\u3002\u70ba\u4e86\u4f7f\u6253\u5370\u6a5f\u6b78\u4f4d\uff0c\u624b\u52d5\u767c\u9001\u79fb\u52d5\u547d\u4ee4\uff0c\u76f4\u5230\u5de5\u5177\u982d\u4f4d\u65bc 0\u30010\u30010 \u8655\uff0c\u7136\u5f8c\u767c\u51fa\u201cG28\u201d\u547d\u4ee4\u3002 [printer] kinematics: winch # The stepper_a section describes the stepper connected to the first # cable winch. A minimum of 3 and a maximum of 26 cable winches may be # defined (stepper_a to stepper_z) though it is common to define 4. [stepper_a] rotation_distance: # The rotation_distance is the nominal distance (in mm) the toolhead # moves towards the cable winch for each full rotation of the # stepper motor. This parameter must be provided. anchor_x: anchor_y: anchor_z: # The X, Y, and Z position of the cable winch in cartesian space. # These parameters must be provided. \u7121\u6a5f\u578b \u00b6 \u53ef\u4ee5\u5b9a\u7fa9\u7279\u6b8a\u7684 \"none\" \u6a5f\u578b\u4f86\u7981\u7528 Klipper \u4e2d\u7684\u6a5f\u578b\u652f\u63f4\u3002\u53ef\u4ee5\u7528\u65bc\u63a7\u5236\u4e0d\u662f 3D \u5370\u8868\u6a5f\u7684\u88dd\u7f6e\u6216\u9664\u932f\u3002 [printer] kinematics: none max_velocity: 1 max_accel: 1 # The max_velocity and max_accel parameters must be defined. The # values are not used for \"none\" kinematics. \u901a\u7528\u64e0\u51fa\u6a5f\u548c\u71b1\u5e8a\u652f\u63f4 \u00b6 [extruder] \u00b6 The extruder section is used to describe the heater parameters for the nozzle hotend along with the stepper controlling the extruder. See the command reference for additional information. See the pressure advance guide for information on tuning pressure advance. [extruder] step_pin: dir_pin: enable_pin: microsteps: rotation_distance: #full_steps_per_rotation: #gear_ratio: # See the \"stepper\" section for a description of the above # parameters. If none of the above parameters are specified then no # stepper will be associated with the nozzle hotend (though a # SYNC_EXTRUDER_MOTION command may associate one at run-time). nozzle_diameter: # Diameter of the nozzle orifice (in mm). This parameter must be # provided. filament_diameter: # The nominal diameter of the raw filament (in mm) as it enters the # extruder. This parameter must be provided. #max_extrude_cross_section: # Maximum area (in mm^2) of an extrusion cross section (eg, # extrusion width multiplied by layer height). This setting prevents # excessive amounts of extrusion during relatively small XY moves. # If a move requests an extrusion rate that would exceed this value # it will cause an error to be returned. The default is: 4.0 * # nozzle_diameter^2 #instantaneous_corner_velocity: 1.000 # The maximum instantaneous velocity change (in mm/s) of the # extruder during the junction of two moves. The default is 1mm/s. #max_extrude_only_distance: 50.0 # Maximum length (in mm of raw filament) that a retraction or # extrude-only move may have. If a retraction or extrude-only move # requests a distance greater than this value it will cause an error # to be returned. The default is 50mm. #max_extrude_only_velocity: #max_extrude_only_accel: # Maximum velocity (in mm/s) and acceleration (in mm/s^2) of the # extruder motor for retractions and extrude-only moves. These # settings do not have any impact on normal printing moves. If not # specified then they are calculated to match the limit an XY # printing move with a cross section of 4.0*nozzle_diameter^2 would # have. #pressure_advance: 0.0 # The amount of raw filament to push into the extruder during # extruder acceleration. An equal amount of filament is retracted # during deceleration. It is measured in millimeters per # millimeter/second. The default is 0, which disables pressure # advance. #pressure_advance_smooth_time: 0.040 # A time range (in seconds) to use when calculating the average # extruder velocity for pressure advance. A larger value results in # smoother extruder movements. This parameter may not exceed 200ms. # This setting only applies if pressure_advance is non-zero. The # default is 0.040 (40 milliseconds). # # The remaining variables describe the extruder heater. heater_pin: # PWM output pin controlling the heater. This parameter must be # provided. #max_power: 1.0 # The maximum power (expressed as a value from 0.0 to 1.0) that the # heater_pin may be set to. The value 1.0 allows the pin to be set # fully enabled for extended periods, while a value of 0.5 would # allow the pin to be enabled for no more than half the time. This # setting may be used to limit the total power output (over extended # periods) to the heater. The default is 1.0. sensor_type: # Type of sensor - common thermistors are \"EPCOS 100K B57560G104F\", # \"ATC Semitec 104GT-2\", \"ATC Semitec 104NT-4-R025H42G\", \"Generic # 3950\",\"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", and \"TDK NTCG104LH104JT1\". See the # \"Temperature sensors\" section for other sensors. This parameter # must be provided. sensor_pin: # Analog input pin connected to the sensor. This parameter must be # provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # This parameter is only valid when the sensor is a thermistor. The # default is 4700 ohms. #smooth_time: 1.0 # A time value (in seconds) over which temperature measurements will # be smoothed to reduce the impact of measurement noise. The default # is 1 seconds. control: # Control algorithm (either pid or watermark). This parameter must # be provided. pid_Kp: pid_Ki: pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # heater_pwm = (Kp*error + Ki*integral(error) - Kd*derivative(error)) / 255 # Where \"error\" is \"requested_temperature - measured_temperature\" # and \"heater_pwm\" is the requested heating rate with 0.0 being full # off and 1.0 being full on. Consider using the PID_CALIBRATE # command to obtain these parameters. The pid_Kp, pid_Ki, and pid_Kd # parameters must be provided for PID heaters. #max_delta: 2.0 # On 'watermark' controlled heaters this is the number of degrees in # Celsius above the target temperature before disabling the heater # as well as the number of degrees below the target before # re-enabling the heater. The default is 2 degrees Celsius. #pwm_cycle_time: 0.100 # Time in seconds for each software PWM cycle of the heater. It is # not recommended to set this unless there is an electrical # requirement to switch the heater faster than 10 times a second. # The default is 0.100 seconds. #min_extrude_temp: 170 # The minimum temperature (in Celsius) at which extruder move # commands may be issued. The default is 170 Celsius. min_temp: max_temp: # The maximum range of valid temperatures (in Celsius) that the # heater must remain within. This controls a safety feature # implemented in the micro-controller code - should the measured # temperature ever fall outside this range then the micro-controller # will go into a shutdown state. This check can help detect some # heater and sensor hardware failures. Set this range just wide # enough so that reasonable temperatures do not result in an error. # These parameters must be provided. [heater_bed] \u00b6 heat_bed \u90e8\u5206\u63cf\u8ff0\u4e86\u4e00\u500b\u52a0\u71b1\u5e8a\u3002\u5b83\u4f7f\u7528\u8207\u201c\u64e0\u51fa\u6a5f\u201d\u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u76f8\u540c\u7684\u52a0\u71b1\u5668\u8a2d\u7f6e\u3002 [heater_bed] heater_pin: sensor_type: sensor_pin: control: min_temp: max_temp: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cextruder\u300d\u914d\u7f6e\u5206\u6bb5\u3002 \u5217\u5370\u5e8a\u8abf\u5e73\u652f\u63f4 \u00b6 [bed_mesh] \u00b6 \u7db2\u5e8a\u8abf\u5e73\u3002\u5b9a\u7fa9\u4e00\u500b bed_mesh \u914d\u7f6e\u5206\u6bb5\u4f86\u555f\u7528\u57fa\u65bc\u63a2\u6e2c\u9ede\u7522\u751f\u7db2\u683c\u7684 Z \u8ef8\u504f\u79fb\u79fb\u52d5\u8b8a\u63db\u3002\u7576\u4f7f\u7528\u63a2\u91dd\u6b78\u4f4d Z \u8ef8\u6642\uff0c\u5efa\u8b70\u901a\u904e printer.cfg \u4e2d\u5b9a\u7fa9\u4e00\u500b safe_z_home \u5206\u6bb5\u4f7f Z \u8ef8\u6b78\u4f4d\u5728\u5217\u5370\u5340\u57df\u7684\u4e2d\u5fc3\u57f7\u884c\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u5e8a\u7db2\u683c\u6307\u5357 \u548c \u547d\u4ee4\u53c3\u8003 \u3002 \u8996\u89ba\u5316\u793a\u4f8b\uff1a rectangular bed, probe_count = 3, 3: x---x---x (max_point) | x---x---x | (min_point) x---x---x round bed, round_probe_count = 5, bed_radius = r: x (0, r) end / x---x---x \\ (-r, 0) x---x---x---x---x (r, 0) \\ x---x---x / x (0, -r) start [bed_mesh] #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #mesh_radius: # Defines the radius of the mesh to probe for round beds. Note that # the radius is relative to the coordinate specified by the # mesh_origin option. This parameter must be provided for round beds # and omitted for rectangular beds. #mesh_origin: # Defines the center X, Y coordinate of the mesh for round beds. This # coordinate is relative to the probe's location. It may be useful # to adjust the mesh_origin in an effort to maximize the size of the # mesh radius. Default is 0, 0. This parameter must be omitted for # rectangular beds. #mesh_min: # Defines the minimum X, Y coordinate of the mesh for rectangular # beds. This coordinate is relative to the probe's location. This # will be the first point probed, nearest to the origin. This # parameter must be provided for rectangular beds. #mesh_max: # Defines the maximum X, Y coordinate of the mesh for rectangular # beds. Adheres to the same principle as mesh_min, however this will # be the furthest point probed from the bed's origin. This parameter # must be provided for rectangular beds. #probe_count: 3, 3 # For rectangular beds, this is a comma separate pair of integer # values X, Y defining the number of points to probe along each # axis. A single value is also valid, in which case that value will # be applied to both axes. Default is 3, 3. #round_probe_count: 5 # For round beds, this integer value defines the maximum number of # points to probe along each axis. This value must be an odd number. # Default is 5. #fade_start: 1.0 # The gcode z position in which to start phasing out z-adjustment # when fade is enabled. Default is 1.0. #fade_end: 0.0 # The gcode z position in which phasing out completes. When set to a # value below fade_start, fade is disabled. It should be noted that # fade may add unwanted scaling along the z-axis of a print. If a # user wishes to enable fade, a value of 10.0 is recommended. # Default is 0.0, which disables fade. #fade_target: # The z position in which fade should converge. When this value is # set to a non-zero value it must be within the range of z-values in # the mesh. Users that wish to converge to the z homing position # should set this to 0. Default is the average z value of the mesh. #split_delta_z: .025 # The amount of Z difference (in mm) along a move that will trigger # a split. Default is .025. #move_check_distance: 5.0 # The distance (in mm) along a move to check for split_delta_z. # This is also the minimum length that a move can be split. Default # is 5.0. #mesh_pps: 2, 2 # A comma separated pair of integers X, Y defining the number of # points per segment to interpolate in the mesh along each axis. A # \"segment\" can be defined as the space between each probed point. # The user may enter a single value which will be applied to both # axes. Default is 2, 2. #algorithm: lagrange # The interpolation algorithm to use. May be either \"lagrange\" or # \"bicubic\". This option will not affect 3x3 grids, which are forced # to use lagrange sampling. Default is lagrange. #bicubic_tension: .2 # When using the bicubic algorithm the tension parameter above may # be applied to change the amount of slope interpolated. Larger # numbers will increase the amount of slope, which results in more # curvature in the mesh. Default is .2. #relative_reference_index: # A point index in the mesh to reference all z values to. Enabling # this parameter produces a mesh relative to the probed z position # at the provided index. #faulty_region_1_min: #faulty_region_1_max: # Optional points that define a faulty region. See docs/Bed_Mesh.md # for details on faulty regions. Up to 99 faulty regions may be added. # By default no faulty regions are set. [bed_tilt] \u00b6 \u5217\u5370\u5e8a\u50be\u659c\u88dc\u511f\u3002\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b bed_tilt \u914d\u7f6e\u5206\u6bb5\u4f86\u555f\u7528\u79fb\u52d5\u8b8a\u63db\u50be\u659c\u5217\u5370\u5e8a\u88dc\u511f\u3002\u8acb\u6ce8\u610f\uff0cbed_mesh \u548c bed_tilt \u4e0d\u76f8\u5bb9\uff1a\u5169\u8005\u7121\u6cd5\u540c\u6642\u88ab\u5b9a\u7fa9\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [bed_tilt] #x_adjust: 0 # The amount to add to each move's Z height for each mm on the X # axis. The default is 0. #y_adjust: 0 # The amount to add to each move's Z height for each mm on the Y # axis. The default is 0. #z_adjust: 0 # The amount to add to the Z height when the nozzle is nominally at # 0, 0. The default is 0. # The remaining parameters control a BED_TILT_CALIBRATE extended # g-code command that may be used to calibrate appropriate x and y # adjustment parameters. #points: # A list of X, Y coordinates (one per line; subsequent lines # indented) that should be probed during a BED_TILT_CALIBRATE # command. Specify coordinates of the nozzle and be sure the probe # is above the bed at the given nozzle coordinates. The default is # to not enable the command. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. [bed_screws] \u00b6 \u5e6b\u52a9\u8abf\u6574\u5e8a\u8abf\u5e73\u87ba\u7d72\u7684\u5de5\u5177\u3002\u53ef\u4ee5\u5b9a\u7fa9 [bed_screws] \u914d\u7f6e\u90e8\u5206\u4ee5\u555f\u7528 BED_SCREWS_ADJUST G-Code \u547d\u4ee4\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 leveling guide \u548c command reference \u3002 [bed_screws] #screw1: # The X, Y coordinate of the first bed leveling screw. This is a # position to command the nozzle to that is directly above the bed # screw (or as close as possible while still being above the bed). # This parameter must be provided. #screw1_name: # An arbitrary name for the given screw. This name is displayed when # the helper script runs. The default is to use a name based upon # the screw XY location. #screw1_fine_adjust: # An X, Y coordinate to command the nozzle to so that one can fine # tune the bed leveling screw. The default is to not perform fine # adjustments on the bed screw. #screw2: #screw2_name: #screw2_fine_adjust: #... # Additional bed leveling screws. At least three screws must be # defined. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # when moving from one screw location to the next. The default is 5. #probe_height: 0 # The height of the probe (in mm) after adjusting for the thermal # expansion of bed and nozzle. The default is zero. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #probe_speed: 5 # The speed (in mm/s) when moving from a horizontal_move_z position # to a probe_height position. The default is 5. [screws_tilt_adjust] \u00b6 \u4f7f\u7528 Z \u63a2\u982d\u5e6b\u52a9\u8abf\u6574\u5e8a\u87ba\u7d72\u50be\u659c\u5ea6\u7684\u5de5\u5177\u3002\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b screw_tilt_adjust \u914d\u7f6e\u90e8\u5206\u4f86\u555f\u7528 SCREWS_TILT_CALCULATE G-Code \u547d\u4ee4\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 leveling guide \u548c command reference \u3002 [screws_tilt_adjust] #screw1: # The (X, Y) coordinate of the first bed leveling screw. This is a # position to command the nozzle to so that the probe is directly # above the bed screw (or as close as possible while still being # above the bed). This is the base screw used in calculations. This # parameter must be provided. #screw1_name: # An arbitrary name for the given screw. This name is displayed when # the helper script runs. The default is to use a name based upon # the screw XY location. #screw2: #screw2_name: #... # Additional bed leveling screws. At least two screws must be # defined. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #screw_thread: CW-M3 # The type of screw used for bed level, M3, M4 or M5 and the # direction of the knob used to level the bed, clockwise decrease # counter-clockwise decrease. # Accepted values: CW-M3, CCW-M3, CW-M4, CCW-M4, CW-M5, CCW-M5. # Default value is CW-M3, most printers use an M3 screw and # turning the knob clockwise decrease distance. [z_tilt] \u00b6 \u591a Z \u6b65\u9032\u50be\u659c\u8abf\u6574\u3002\u6b64\u529f\u80fd\u53ef\u4ee5\u7368\u7acb\u8abf\u6574\u591a\u500b z \u6b65\u9032\u5668\uff08\u8acb\u53c3\u95b1\u201cstepper_z1\u201d\u90e8\u5206\uff09\u4ee5\u8abf\u6574\u50be\u659c\u3002\u5982\u679c\u6b64\u90e8\u5206\u5b58\u5728\uff0c\u5247 Z_TILT_ADJUST \u64f4\u5c55 G-Code \u547d\u4ee4 \u8b8a\u5f97\u53ef\u7528\u3002 [z_tilt] #z_positions: # A list of X, Y coordinates (one per line; subsequent lines # indented) describing the location of each bed \"pivot point\". The # \"pivot point\" is the point where the bed attaches to the given Z # stepper. It is described using nozzle coordinates (the X, Y position # of the nozzle if it could move directly above the point). The # first entry corresponds to stepper_z, the second to stepper_z1, # the third to stepper_z2, etc. This parameter must be provided. #points: # A list of X, Y coordinates (one per line; subsequent lines # indented) that should be probed during a Z_TILT_ADJUST command. # Specify coordinates of the nozzle and be sure the probe is above # the bed at the given nozzle coordinates. This parameter must be # provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance. Note the smallest unit of # change here would be a single step. However if you are probing # more points than steppers then you will likely have a fixed # minimum value for the range of probed points which you can learn # by observing command output. [quad_gantry_level] \u00b6 \u4f7f\u7528 4 \u500b\u7368\u7acb\u63a7\u5236\u7684 Z \u96fb\u6a5f\u79fb\u52d5\u9f8d\u9580\u8abf\u5e73\u3002\u4fee\u6b63\u79fb\u52d5\u9f8d\u9580\u4e0a\u7684\u96d9\u66f2\u62cb\u7269\u7dda\u6548\u61c9\uff08\u85af\u7247\uff09\uff0c\u66f4\u52a0\u9748\u6d3b\u3002\u8b66\u544a\uff1a\u5728\u79fb\u52d5\u5e8a\u4e0a\u4f7f\u7528\u5b83\u53ef\u80fd\u6703\u5c0e\u81f4\u4e0d\u826f\u7d50\u679c\u3002\u5982\u679c\u6b64\u90e8\u5206\u5b58\u5728\uff0c\u5247 QUAD_GANTRY_LEVEL \u64f4\u5c55 G \u4ee3\u78bc\u547d\u4ee4\u53ef\u7528\u3002\u6b64\u4f8b\u7a0b\u5047\u5b9a\u4ee5\u4e0b Z \u96fb\u6a5f\u914d\u7f6e\uff1a ---------------- |Z1 Z2| | --------- | | | | | | | | | | x-------- | |Z Z3| ---------------- \u5176\u4e2d X \u662f\u5e8a\u4e0a\u76840\u30010\u9ede [quad_gantry_level] #gantry_corners: # A newline separated list of X, Y coordinates describing the two # opposing corners of the gantry. The first entry corresponds to Z, # the second to Z2. This parameter must be provided. #points: # A newline separated list of four X, Y points that should be probed # during a QUAD_GANTRY_LEVEL command. Order of the locations is # important, and should correspond to Z, Z1, Z2, and Z3 location in # order. This parameter must be provided. For maximum accuracy, # ensure your probe offsets are configured. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #max_adjust: 4 # Safety limit if an adjustment greater than this value is requested # quad_gantry_level will abort. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance. [skew_correction] \u00b6 \u6253\u5370\u6a5f\u6b6a\u659c\u6821\u6b63\u3002\u53ef\u4ee5\u4f7f\u7528\u8edf\u4ef6\u7cfe\u6b63\u6253\u5370\u6a5f\u5728 3 \u500b\u5e73\u9762 xy\u3001xz\u3001yz \u4e0a\u7684\u6b6a\u659c\u3002\u9019\u662f\u901a\u904e\u6cbf\u5e73\u9762\u6253\u5370\u6821\u6e96\u6a21\u578b\u4e26\u6e2c\u91cf\u4e09\u500b\u9577\u5ea6\u4f86\u5b8c\u6210\u7684\u3002\u7531\u65bc\u6b6a\u659c\u6821\u6b63\u7684\u6027\u8cea\uff0c\u9019\u4e9b\u9577\u5ea6\u662f\u901a\u904e gcode \u8a2d\u7f6e\u7684\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 Skew Correction \u548c Command Reference \u3002 [skew_correction] \u81ea\u5b9a\u7fa9\u6b78\u96f6 \u00b6 [safe_z_home] \u00b6 \u5b89\u5168 Z \u6b78\u4f4d\u3002\u53ef\u4ee5\u4f7f\u7528\u9019\u7a2e\u6a5f\u5236\u5c07 Z \u8ef8\u6b78\u4f4d\u5230\u7279\u5b9a\u7684 X\u3001Y \u5750\u6a19\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5de5\u5177\u982d\u5fc5\u9808\u5728 Z \u53ef\u4ee5\u6b78\u4f4d\u4e4b\u524d\u79fb\u52d5\u5230\u5e8a\u7684\u4e2d\u5fc3\uff0c\u9019\u5f88\u6709\u7528\u3002 [safe_z_home] home_xy_position: # A X, Y coordinate (e.g. 100, 100) where the Z homing should be # performed. This parameter must be provided. #speed: 50.0 # Speed at which the toolhead is moved to the safe Z home # coordinate. The default is 50 mm/s #z_hop: # Distance (in mm) to lift the Z axis prior to homing. This is # applied to any homing command, even if it doesn't home the Z axis. # If the Z axis is already homed and the current Z position is less # than z_hop, then this will lift the head to a height of z_hop. If # the Z axis is not already homed the head is lifted by z_hop. # The default is to not implement Z hop. #z_hop_speed: 15.0 # Speed (in mm/s) at which the Z axis is lifted prior to homing. The # default is 15 mm/s. #move_to_previous: False # When set to True, the X and Y axes are reset to their previous # positions after Z axis homing. The default is False. [homing_override] \u00b6 \u6b78\u4f4d\u8986\u5beb\u3002\u53ef\u4ee5\u4f7f\u7528\u9019\u7a2e\u6a5f\u5236\u4f86\u57f7\u884c\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u4f86\u66ff\u4ee3\u5e38\u898f\u7684G28\u3002\u901a\u5e38\u7528\u65bc\u9700\u8981\u7279\u5b9a\u904e\u7a0b\u624d\u80fd\u5c07\u6a5f\u5668\u6b78\u96f6\u7684\u5370\u8868\u6a5f\u3002 [homing_override] gcode\uff1a # \u8986\u84cb\u5e38\u898f G28 \u547d\u4ee4\u7684 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u5e8f\u5217\u3002 # G \u7a0b\u5f0f\u78bc\u683c\u5f0f\u8acb\u53c3\u95b1 docs/Command_Templates.md\u3002\u5982\u679c # G28 \u5305\u542b\u5728\u6b64\u547d\u4ee4\u5217\u8868\u4e2d\uff0c\u5e38\u898f\u7248\u672c\u7684G28\u6703\u88ab\u547c\u53eb\u4e26\u9032 # \u884c\u5370\u8868\u6a5f\u7684\u6b63\u5e38\u6b78\u4f4d\u904e\u7a0b\u3002\u6b64\u8655\u5217\u51fa\u7684\u547d\u4ee4\u5fc5\u9808\u6b78\u4f4d\u6240 # \u6709\u8ef8\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #axes: xyz # \u8981\u8986\u84cb\u7684\u8ef8\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5c07\u5176\u8a2d\u5b9a\u70ba\"z\"\uff0c\u5247\u8986\u84cb\u6307\u4ee4\u78bc\u5c07 # \u50c5\u5728 z \u8ef8\u88ab\u6b78\u4f4d\u6642\u57f7\u884c\uff08\u4f8b\u5982\uff0c\u901a\u904e\"G28\" \u6216 \"G28 Z0\" # \u547d\u4ee4\uff09\u3002\u8acb\u6ce8\u610f\uff0c\u8986\u84cb\u6307\u4ee4\u78bc\u4ecd\u7136\u9700\u8981\u6b78\u4f4d\u6240\u6709\u8ef8\u3002 # \u9810\u8a2d\u503c\u70ba\"xyz\"\uff0c\u8986\u84cb\u5168\u90e8\u6240\u6709 G28 \u547d\u4ee4\u3002 #set_position_x\uff1a #set_position_y\uff1a #set_position_z\uff1a # \u5982\u679c\u6307\u5b9a\uff0c\u5370\u8868\u6a5f\u5c07\u5047\u5b9a\u8ef8\u5728\u57f7\u884c\u4e0a\u8ff0 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u5e8f\u5217 # \u4e4b\u524d\u7684\u4f4d\u7f6e\u3002\u8a72\u8a2d\u5b9a\u6703\u7981\u7528\u76f8\u61c9\u8ef8\u7684\u6b78\u4f4d\u6aa2\u67e5\u3002\u5728\u5217\u5370 # \u982d\u5fc5\u9808\u5728\u57f7\u884c\u5e38\u898f G28 \u6a5f\u5236\u524d\u79fb\u52d5\u76f8\u61c9\u7684\u8ef8\u6642\u6709\u7528\u3002 # \u9810\u8a2d\u4e0d\u5047\u5b9a\u8ef8\u7684\u4f4d\u7f6e\u3002 [endstop_phase] \u00b6 \u6b65\u9032\u76f8\u4f4d\u8abf\u6574\u64cb\u584a\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u4f7f\u7528\u201cendstop_phase\u201d\u524d\u7db4\u5b9a\u7fa9\u914d\u7f6e\u90e8\u5206\uff0c\u5f8c\u8ddf\u76f8\u61c9\u6b65\u9032\u5668\u914d\u7f6e\u90e8\u5206\u7684\u540d\u7a31\uff08\u4f8b\u5982\uff0c\u201c[endstop_phase stepper_z]\u201d\uff09\u3002\u6b64\u529f\u80fd\u53ef\u4ee5\u63d0\u9ad8\u9650\u4f4d\u958b\u95dc\u7684\u6e96\u78ba\u6027\u3002\u6dfb\u52a0\u4e00\u500b\u7c21\u55ae\u7684\u201c[endstop_phase]\u201d\u8072\u660e\u4ee5\u555f\u7528 ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 endstop phases guide \u548c command reference \u3002 [endstop_phase stepper_z] #endstop_accuracy: # \u8a2d\u5b9a\u9810\u671f\u7684\u9650\u4f4d\u7cbe\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\uff09\u3002 \u4ee3\u8868\u4e86\u76f8\u4f4d\u53ef\u80fd # \u89f8\u767c\u7684\u6700\u5927\u8aa4\u5dee\u8ddd\u96e2\uff08\u6bd4\u5982\uff0c\u4e00\u500b\u53ef\u80fd\u6703\u63d0\u65e9 100um \u89f8\u767c\u6216\u5ef6\u9072 # 100um \u89f8\u767c\u7684\u9650\u4f4d\u9700\u8981\u5c07\u8a72\u503c\u8a2d\u70ba 0.200,\u4e5f\u5c31\u662f 200um\uff09\u3002 # \u9810\u8a2d\u70ba 4*rotation_distance/full_steps_per_rotation\u3002 #trigger_phase: # \u8a72\u53c3\u6578\u5b9a\u7fa9\u4e86\u76f8\u4f4d\u89f8\u767c\u6642\u9810\u671f\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u76f8\u4f4d\u3002\u9019\u901a\u5e38\u662f\u5169 # \u500b\u7531\u6b63\u659c\u69d3\u7b26\u865f\u5206\u9694\u7684\u6574\u6578 - \u76f8\u4f4d\u548c\u7e3d\u76f8\u4f4d\u6578\uff08\u4f8b\u5982 \"7/64\"\uff09\u3002 # \u53ea\u6709\u7576\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5728 mcu \u91cd\u7f6e\u6642\u4e5f\u6703\u91cd\u7f6e\u624d\u9700\u8981\u8a72\u53c3\u6578\u3002 # \u5982\u679c\u6c92\u6709\u5b9a\u7fa9\uff0c\u6b65\u9032\u76f8\u4f4d\u6703\u5728\u7b2c\u4e00\u6b21\u6b78\u4f4d\u6642\u6aa2\u6e2c\u4e26\u88ab\u7528\u65bc\u5f8c\u7e8c\u6b78\u4f4d\u3002 #endstop_align_zero: False # \u5982\u679c\u662f True \u5247\u5370\u8868\u6a5f\u7684 position_endstop \u76f8\u61c9\u8ef8\u7684\u96f6\u9ede\u4f4d\u7f6e\u662f\u6b65\u9032 # \u96fb\u6a5f\u7684\u4e00\u500b\u5168\u6b65\u4f4d\u7f6e\u3002(\u5728Z\u8ef8\u4e0a\uff0c\u5982\u679c\u5217\u5370\u5c64\u9ad8\u662f\u5168\u6b65\u7684\u500d\u6578\uff0c\u6bcf # \u5c64\u90fd\u6703\u5728\u5168\u6b65\u4e0a\u3002\uff09 # \u9810\u8a2d\u70ba False\u3002 G \u7a0b\u5f0f\u78bc\u5b8f\u548c\u4e8b\u4ef6 \u00b6 [gcode_macro] \u00b6 G-Code\u5b8f\uff08\"gcode_macro\"\u5b57\u9996\u5b9a\u7fa9\u7684G-Code \u5b8f\u5206\u6bb5\u6c92\u6709\u6578\u91cf\u9650\u5236\uff09\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u53c3\u898b \u547d\u4ee4\u6a21\u677f\u6307\u5357 \u3002 [gcode_macro \u547d\u4ee4] \u3002 #gcode: # \u4e00\u500b\u66ff\u4ee3\"\u547d\u4ee4\" \u57f7\u884c\u7684 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u7684\u5217\u8868\u3002\u8acb\u770b # docs/Command_Templates.md \u77ad\u89e3\u652f\u63f4\u7684 G \u7a0b\u5f0f\u78bc\u683c\u5f0f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #variable_<\u540d\u7a31>: # \u53ef\u4ee5\u6307\u5b9a\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\"\u8b8a\u6578_\"\u5b57\u9996\u7684\u8a2d\u5b9a\u3002 # \u5b9a\u7fa9\u7684\u8b8a\u6578\u540d\u5c07\u88ab\u8ce6\u4e88\u7d66\u5b9a\u7684\u503c\uff08\u4e26\u88ab\u89e3\u6790\u70ba\u4f5c\u70ba\u4e00\u500b # Python Literal\uff09\uff0c\u4e26\u5728\u5b8f\u64f4\u5145\u5957\u4ef6\u6642\u53ef\u7528\u3002 # \u4f8b\u5982\uff0c\u4e00\u500b\u5e36\u6709\"variable_fan_speed = 75\"\u7684 G-Code \u547d\u4ee4\u7684 # G \u7a0b\u5f0f\u78bc\u5217\u8868\u4e2d\u53ef\u4ee5\u5305\u542b\"M106 S{ fan_speed * 255 }\"\u3002\u8b8a\u6578 # \u53ef\u4ee5\u5728\u57f7\u884c\u6642\u4f7f\u7528 SET_GCODE_VARIABLE \u547d\u4ee4\u9032\u884c\u4fee\u6539 # \uff08\u8a73\u898bdocs/Command_Templates.md\uff09\u3002\u8b8a\u6578\u540d\u7a31 # \u4e0d\u80fd\u4f7f\u7528\u5927\u5beb\u5b57\u6bcd\u3002 #rename_existing: # \u9019\u500b\u9078\u9805\u5c07\u5c0e\u81f4\u5b8f\u8986\u84cb\u4e00\u500b\u73fe\u6709\u7684 G-Code \u547d\u4ee4\uff0c\u4e26\u901a\u904e # \u9019\u88e1\u63d0\u4f9b\u7684\u540d\u7a31\u5f15\u7528\u8a72\u547d\u4ee4\u7684\u5148\u524d\u5b9a\u7fa9\u3002\u8986\u84cb\u547d\u4ee4\u6642\u61c9\u6ce8 # \u610f\uff0c\u56e0\u70ba\u5b83\u53ef\u80fd\u6703\u5c0e\u81f4\u8907\u96dc\u548c\u610f\u5916\u7684\u932f\u8aa4\u3002 # \u9810\u8a2d\u4e0d\u8986\u84cb\u73fe\u6709\u7684 G-Code \u547d\u4ee4\u3002 #description: G-Code macro # \u5728 HELP \u547d\u4ee4\u6216\u81ea\u52d5\u5b8c\u6210\u4e2d\u4f7f\u7528\u7684\u7c21\u55ae\u63cf\u8ff0\u3002 # \u9810\u8a2d\u70ba\"G-Code macro\"\u3002 [delayed_gcode] \u00b6 \u5728\u8a2d\u5b9a\u7684\u5ef6\u9072\u4e0a\u57f7\u884c G-Codee\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 command template guide \u548c command reference \u3002 [delayed_gcode my_delayed_gcode]\u3002 gcode: # \u7576\u5ef6\u9072\u6642\u9593\u7d50\u675f\u540e\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u5217\u8868\u3002\u652f\u63f4G\u7a0b\u5f0f\u78bc\u6a21\u677f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 #initial_duration:0.0 # \u521d\u59cb\u5ef6\u9072\u7684\u6301\u7e8c\u6642\u9593(\u4ee5\u79d2\u70ba\u55ae\u4f4d)\u3002\u5982\u679c\u8a2d\u5b9a\u70ba\u4e00\u500b # \u975e\u96f6\u503c\uff0cdelayed_gcode \u5c07\u5728\u5370\u8868\u6a5f\u9032\u5165 \"\u5c31\u7dd2 \"\u72c0\u614b\u540e\u6307\u5b9a # \u79d2\u6578\u540e\u57f7\u884c\u3002\u53ef\u80fd\u5c0d\u521d\u59cb\u5316\u7a0b\u5f0f\u6216\u91cd\u8907\u7684 delayed_gcode \u6709 # \u7528\u3002\u5982\u679c\u8a2d\u5b9a\u70ba 0\uff0cdelayed_gcode \u5c07\u5728\u555f\u52d5\u6642\u4e0d\u57f7\u884c\u3002 # \u9810\u8a2d\u70ba0\u3002 [save_variables] \u00b6 \u652f\u6301\u5c07\u8b8a\u91cf\u4fdd\u5b58\u5230\u78c1\u76e4\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u555f\u52d5\u6642\u4fdd\u7559\u5b83\u5011\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 [command templates]](Command_Templates.md#save-variables-to-disk) \u548c G-Code reference \u3002 [save_variables] filename: # \u5fc5\u9808\u63d0\u4f9b\u4e00\u500b\u53ef\u4ee5\u7528\u4f86\u5132\u5b58\u53c3\u6578\u5230\u78c1\u789f\u7684\u6a94\u540d\u3002 # \u4f8b\u5982 . ~/variables.cfg [idle_timeout] \u00b6 \u9592\u7f6e\u8d85\u6642\u3002\u9810\u8a2d\u555f\u7528\u9592\u7f6e\u8d85\u6642 - \u65b0\u589e\u986f\u5f0f idle_timeout \u914d\u7f6e\u5206\u6bb5\u4ee5\u66f4\u6539\u9810\u8a2d\u8a2d\u5b9a\u3002 [idle_timeout] #gcode: # \u5728\u7a7a\u9591\u8d85\u6642\u6642\u57f7\u884c\u7684\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u3002G-Code \u683c\u5f0f\u8acb\u898b # docs/Command_Templates.md\u3002 # \u9810\u8a2d\u57f7\u884c \"TURN_OFF_HEATERS\" \u548c \"M84\"\u3002 #timeout: 600 # \u5728\u57f7\u884c\u4ee5\u4e0a G-Code \u524d\u7b49\u5f85\u7684\u7a7a\u9591\u6642\u9593\uff08\u4ee5\u79d2\u70ba\u55ae\u4f4d\uff09 # \u9810\u8a2d\u70ba 600 \u79d2\u3002 \u53ef\u9078\u7684 G-Code \u7279\u6027 \u00b6 [virtual_sdcard] \u00b6 \u5982\u679c\u4e3b\u6a5f\u7684\u901f\u5ea6\u4e0d\u8db3\u4ee5\u5f88\u597d\u5730\u57f7\u884c OctoPrint\uff0c\u865b\u64ec SD \u5361\u53ef\u80fd\u6709\u5e6b\u52a9\u3002\u5b83\u5141\u8a31 Klipper \u4e3b\u6a5f\u8edf\u9ad4\u4f7f\u7528\u6a19\u6e96\u7684 SD \u5361G\u7a0b\u5f0f\u78bc\u547d\u4ee4\uff08\u4f8b\u5982\uff0cM24\uff09\u76f4\u63a5\u5217\u5370\u5132\u5b58\u5728\u4e3b\u6a5f\u76ee\u9304\u4e2d\u7684 gcode \u6a94\u6848\u3002 [virtual_sdcard] path: # The path of the local directory on the host machine to look for # g-code files. This is a read-only directory (sdcard file writes # are not supported). One may point this to OctoPrint's upload # directory (generally ~/.octoprint/uploads/ ). This parameter must # be provided. #on_error_gcode: # A list of G-Code commands to execute when an error is reported. [sdcard_loop] \u00b6 \u4e00\u4e9b\u5177\u6709\u968e\u6bb5\u6e05\u9664\u529f\u80fd\u7684\u6253\u5370\u6a5f\uff0c\u4f8b\u5982\u90e8\u4ef6\u5f48\u51fa\u5668\u6216\u5e36\u5f0f\u6253\u5370\u6a5f\uff0c\u53ef\u4ee5\u5728 sdcard \u6587\u4ef6\u7684\u5faa\u74b0\u90e8\u5206\u4e2d\u627e\u5230\u7528\u9014\u3002 \uff08\u4f8b\u5982\uff0c\u4e00\u904d\u53c8\u4e00\u904d\u5730\u6253\u5370\u76f8\u540c\u7684\u96f6\u4ef6\uff0c\u6216\u91cd\u8907\u96f6\u4ef6\u7684\u4e00\u90e8\u5206\u4ee5\u7372\u5f97\u934a\u6216\u5176\u4ed6\u91cd\u8907\u5716\u6848\uff09\u3002 \u6709\u95dc\u652f\u6301\u7684\u547d\u4ee4\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002\u8acb\u53c3\u95b1 sample-macros.cfg \u6587\u4ef6\u4e86\u89e3 Marlin \u517c\u5bb9\u7684 M808 G-Code\u78bc\u3002 [sdcard_loop] [force_move] \u00b6 \u652f\u6301\u624b\u52d5\u79fb\u52d5\u6b65\u9032\u96fb\u6a5f\u9032\u884c\u8a3a\u65b7\u3002\u8acb\u6ce8\u610f\uff0c\u4f7f\u7528\u6b64\u529f\u80fd\u53ef\u80fd\u6703\u4f7f\u6253\u5370\u6a5f\u8655\u65bc\u7121\u6548\u72c0\u614b - \u6709\u95dc\u91cd\u8981\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [force_move] #enable_force_move: False # \u8a2d\u5b9a\u70batrue\u4f86\u555f\u7528 FORCE_MOVE \u548c SET_KINEMATIC_POSITION \u64f4\u5145\u5957\u4ef6 # G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002 # \u9810\u8a2d\u70bafalse\u3002 [pause_resume] \u00b6 \u652f\u6301\u4f4d\u7f6e\u6355\u7372\u548c\u6062\u5fa9\u7684\u66ab\u505c/\u6062\u5fa9\u529f\u80fd\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [pause_resume] #recover_velocity: 50. # \u7576\u6355\u6349/\u6062\u5fa9\u529f\u80fd\u88ab\u555f\u7528\u6642\uff0c\u8fd4\u56de\u5230\u6355\u7372\u7684\u4f4d\u7f6e\u7684\u901f\u5ea6(\u55ae\u4f4d\uff1a\u6beb\u7c73/\u79d2)\u3002 # \u9810\u8a2d\u70ba50.0 mm/s\u3002 [firmware_retraction] \u00b6 \u56fa\u4ef6\u5370\u7d72\u56de\u62bd\u3002\u9019\u555f\u7528\u4e86\u7531\u8a31\u591a\u5207\u7247\u5668\u767c\u51fa\u7684 G10\uff08\u56de\u62bd\uff09\u548c G11\uff08\u53d6\u6d88\u56de\u62bd\uff09GCODE \u547d\u4ee4\u3002\u4e0b\u9762\u7684\u53c3\u6578\u63d0\u4f9b\u4e86\u555f\u52d5\u9ed8\u8a8d\u503c\uff0c\u5118\u7ba1\u53ef\u4ee5\u901a\u904e SET_RETRACTION \u547d\u4ee4 ) \u8abf\u6574\u9019\u4e9b\u503c\uff0c\u5f9e\u800c\u5141\u8a31\u6bcf\u71c8\u7d72\u8a2d\u7f6e\u548c\u904b\u884c\u6642\u9593\u8abf\u6574\u3002 [firmware_retraction] #retract_length: 0 # \u7576 G10 \u88ab\u57f7\u884c\u6642\u56de\u62bd\u7684\u9577\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\uff09 # \u548c\u7576 G11 \u88ab\u57f7\u884c\u6642\u9000\u56de\u7684\u9577\u5ea6\uff08\u4f46\u540c\u6642\u4e5f\u5305\u62ec # \u4ee5\u4e0b\u7684unretract_extra_length\uff09\u3002 # \u9810\u8a2d\u70ba0\u6beb\u7c73\u3002 #retract_speed: 20 # \u56de\u62bd\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73\u6bcf\u79d2(mm/s)\u70ba\u55ae\u4f4d\u3002\u9810\u8a2d\u70ba\u6bcf\u79d220\u6beb\u7c73\u3002 #unretract_extra_length: 0 # \u9000\u56de\u6642\u589e\u52a0*\u984d\u5916*\u9577\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\uff09\u7684\u8017\u6750\u3002 #unretract_speed: 10 # \u9000\u56de\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\u3002 # \u9810\u8a2d\u70ba\u6bcf\u79d210\u6beb\u7c73 [gcode_arcs] \u00b6 \u652f\u6301 G-Code arc (G2/G3) \u547d\u4ee4\u3002 [gcode_arcs] #resolution: 1.0 # \u4e00\u689d\u5f27\u7dda\u5c07\u88ab\u5206\u5272\u6210\u82e5\u5e72\u6bb5\u3002\u6bcf\u6bb5\u7684\u9577\u5ea6\u5c07 # \u7b49\u65bc\u4e0a\u9762\u8a2d\u5b9a\u7684\u89e3\u6790\u5ea6\uff08mm\uff09\u3002\u66f4\u4f4e\u7684\u503c\u6703\u7522\u751f\u4e00\u500b # \u66f4\u7d30\u81a9\u7684\u5f27\u7dda\uff0c\u4f46\u4e5f\u6703\u9700\u8981\u6a5f\u5668\u9032\u884c\u66f4\u591a\u904b\u7b97\u3002\u5c0f\u65bc # \u914d\u7f6e\u503c\u7684\u66f2\u7dda\u6703\u88ab\u8996\u70ba\u76f4\u7dda\u3002 # \u9810\u8a2d\u70ba1\u6beb\u7c73\u3002 [respond] \u00b6 \u555f\u7528\u201cM118\u201d\u548c\u201cRESPOND\u201d\u64f4\u5c55 commands \u3002 [respond] #default_type: echo # \u8a2d\u7f6e\u201cM118\u201d\u548c\u201cRESPOND\u201d\u8f38\u51fa\u7684\u9ed8\u8a8d\u524d\u7db4\u70ba # \u4ee5\u4e0b\u7684\u4e00\u9805 # echo: \"echo: \" (This is the default) # command: \"// \" # error: \"!! \" #default_prefix: echo: # \u76f4\u63a5\u8a2d\u7f6e\u9ed8\u8a8d\u524d\u7db4\u3002\u5982\u679c\u5b58\u5728\uff0c\u8a72\u503c\u5c07 # \u8986\u84cb\u201cdefault_type\u201d\u3002 [exclude_object] \u00b6 Enables support to exclude or cancel individual objects during the printing process. See the exclude objects guide and command reference for additional information. See the sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro. [exclude_object] \u5171\u632f\u88dc\u511f \u00b6 [input_shaper] \u00b6 \u555f\u7528 resonance compensation \u3002\u53e6\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [input_shaper] #shaper_freq_x: 0 # \u8f38\u5165\u6574\u5f62\u5668\u7684 X \u8ef8\u983b\u7387(Hz)\u3002\u901a\u5e38\u9019\u662f\u5e0c\u671b\u88ab\u8f38\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # X \u8ef8\u5171\u632f\u983b\u7387\u3002\u5c0d\u65bc\u66f4\u5fa9\u96dc\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f38\u5165 # \u6574\u5f62\u5668\uff0c\u8a2d\u5b9a\u9019\u500b\u53c3\u6578\u53ef\u80fd\u9700\u8981\u8003\u616e\u5176\u4ed6\u7279\u6027\u3002 # \u9810\u8a2d\u503c\u662f0\uff0c\u7981\u7528 X \u8ef8\u8f38\u5165\u6574\u5f62\u3002 #shaper_freq_y: 0 # \u8f38\u5165\u6574\u5f62\u5668\u7684 Y \u8ef8\u983b\u7387(Hz)\u3002\u901a\u5e38\u9019\u662f\u5e0c\u671b\u88ab\u8f38\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # Y \u8ef8\u5171\u632f\u983b\u7387\u3002\u5c0d\u65bc\u66f4\u5fa9\u96dc\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f38\u5165 # \u6574\u5f62\u5668\uff0c\u8a2d\u5b9a\u9019\u500b\u53c3\u6578\u53ef\u80fd\u9700\u8981\u8003\u616e\u5176\u4ed6\u7279\u6027\u3002 # \u9810\u8a2d\u503c\u662f0\uff0c\u7981\u7528 Y \u8ef8\u8f38\u5165\u6574\u5f62\u3002 #shaper_type: mzv # \u7528\u65bc X \u548c Y \u8ef8\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002\u652f\u63f4\u7684\u8f38\u5165\u6574\u5f62\u5668\u6709 zv\u3001mzv\u3001 # zvd\u3001ei\u30012hump_ei \u548c 3hump_ei\u3002 # \u9810\u8a2d\u70ba mzv \u8f38\u5165\u6574\u5f62\u5668\u3002 #shaper_type_x: #shaper_type_y: # \u5982\u679c\u6c92\u6709\u8a2d\u5b9a shaper_type\uff0c\u53ef\u4ee5\u7528\u9019\u5169\u500b\u53c3\u6578\u4f86\u55ae\u7368\u914d\u7f6e X # \u548c Y \u8ef8\u7684 \u8f38\u5165\u6574\u5f62\u5668\u3002 # \u8a72\u53c3\u6578\u652f\u63f4\u5168\u90e8shaper_type \u652f\u63f4\u7684\u9078\u9805\u3002 #damping_ratio_x: 0.1 #damping_ratio_y: 0.1 # X \u548c Y \u8ef8\u7684\u5171\u632f\u6291\u5236\u6bd4\u4f8b\uff0c\u53ef\u4ee5\u7528\u4f86\u6539\u5584\u632f\u52d5\u6291\u5236\u6548\u679c\u3002 # \u9810\u8a2d\u503c\u662f 0.1\uff0c\u9069\u7528\u65bc\u5927\u591a\u6578\u5370\u8868\u6a5f\u3002 # \u5927\u591a\u6578\u60c5\u6cc1\u4e0b\u4e0d\u9700\u8981\u8abf\u6574\u9019\u500b\u503c\u3002 [adxl345] \u00b6 \u652f\u6301 ADXL345 \u52a0\u901f\u5ea6\u8a08\u3002\u9019\u7a2e\u652f\u6301\u5141\u8a31\u4eba\u5011\u5f9e\u50b3\u611f\u5668\u67e5\u8a62\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u503c\u3002\u9019\u5c07\u555f\u7528 ACCELEROMETER_MEASURE \u547d\u4ee4\uff08\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 G-Codes \uff09\u3002\u9ed8\u8a8d\u82af\u7247\u540d\u7a31\u662f\u201cdefault\u201d\uff0c\u4f46\u53ef\u4ee5\u6307\u5b9a\u4e00\u500b\u660e\u78ba\u7684\u540d\u7a31\uff08\u4f8b\u5982\uff0c[adxl345 my_chip_name]\uff09\u3002 [adxl345] cs_pin: # \u611f\u6e2c\u5668\u7684 SPI \u555f\u7528\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #spi_speed: 5000000 # \u8207\u6676\u7247\u901a\u8a0a\u6642\u4f7f\u7528\u7684SPI\u901f\u5ea6(hz)\u3002 # \u9810\u8a2d\u70ba5000000\u3002 #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u53c3\u898b\"\u5e38\u898b\u7684SPI\u8a2d\u5b9a\"\u7ae0\u7bc0\uff0c\u4ee5\u77ad\u89e3\u5c0d\u4e0a\u8ff0\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #axes_map: x, y, z # \u5370\u8868\u6a5f\u7684X\u3001Y\u548cZ\u8ef8\u7684\u52a0\u901f\u5ea6\u8a08\u8ef8\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8a08\u7684\u5b89\u88dd\u65b9\u5411\u8207\u5370\u8868\u6a5f\u7684\u65b9\u5411\u4e0d\u4e00\u81f4\uff0c # \u53ef\u80fd\u9700\u8981\u4fee\u6539\u8a72\u8a2d\u5b9a\u3002 # \u4f8b\u5982\uff0c\u53ef\u4ee5\u5c07\u5176\u8a2d\u5b9a\u70ba\"y, x, z\"\u4f86\u4ea4\u63dbX\u548cY\u8ef8\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8a08\u65b9\u5411\u662f\u76f8\u53cd\u7684\uff0c\u53ef\u80fd\u9700\u8981\u53cd\u8f49\u76f8\u61c9\u8ef8 # \uff08\u4f8b\u5982\uff0c\"x, z, -y\"\uff09\u3002 # \u9810\u8a2d\u662f\"x, y, z\"\u3002 #rate: 3200 # ADXL345\u7684\u8f38\u51fa\u6578\u64da\u901f\u7387\u3002ADXL345\u652f\u63f4\u4ee5\u4e0b\u6578\u64da\u901f\u7387\u3002 # 3200\u30011600\u3001800\u3001400\u3001200\u3001100\u300150\u548c25\u3002\u8acb\u6ce8\u610f\uff0c\u4e0d\u5efa\u8b70 # \u5c07\u6b64\u901f\u7387\u5f9e\u9810\u8a2d\u76843200\u6539\u70ba\u4f4e\u65bc800\u7684\u901f\u7387\uff0c\u9019\u5c07\u5927\u5927\u5f71\u97ff # \u5171\u632f\u6e2c\u91cf\u7684\u8cea\u91cf\u3002 [mpu9250] \u00b6 Support for mpu9250 and mpu6050 accelerometers (one may define any number of sections with an \"mpu9250\" prefix). [mpu9250 my_accelerometer] #i2c_address: # Default is 104 (0x68). #i2c_mcu: #i2c_bus: #i2c_speed: 400000 # See the \"common I2C settings\" section for a description of the # above parameters. The default \"i2c_speed\" is 400000. #axes_map: x, y, z # See the \"adxl345\" section for information on this parameter. [resonance_tester] \u00b6 \u652f\u6301\u5171\u632f\u6e2c\u8a66\u548c\u81ea\u52d5\u8f38\u5165\u6574\u5f62\u5668\u6821\u6e96\u3002\u70ba\u4e86\u4f7f\u7528\u8a72\u6a21\u584a\u7684\u5927\u90e8\u5206\u529f\u80fd\uff0c\u5fc5\u9808\u5b89\u88dd\u984d\u5916\u7684\u8edf\u4ef6\u4f9d\u8cf4\u9805\uff1b\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u6e2c\u91cf\u5171\u632f \u548c \u547d\u4ee4\u53c3\u8003 \u3002\u6709\u95dc max_smoothing \u53c3\u6578\u53ca\u5176\u4f7f\u7528\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1\u6e2c\u91cf\u5171\u632f\u6307\u5357\u7684 Max Smoothing \u90e8\u5206\u3002 [resonance_tester] #probe_points: # A list of X, Y, Z coordinates of points (one point per line) to test # resonances at. At least one point is required. Make sure that all # points with some safety margin in XY plane (~a few centimeters) # are reachable by the toolhead. #accel_chip: # A name of the accelerometer chip to use for measurements. If # adxl345 chip was defined without an explicit name, this parameter # can simply reference it as \"accel_chip: adxl345\", otherwise an # explicit name must be supplied as well, e.g. \"accel_chip: adxl345 # my_chip_name\". Either this, or the next two parameters must be # set. #accel_chip_x: #accel_chip_y: # Names of the accelerometer chips to use for measurements for each # of the axis. Can be useful, for instance, on bed slinger printer, # if two separate accelerometers are mounted on the bed (for Y axis) # and on the toolhead (for X axis). These parameters have the same # format as 'accel_chip' parameter. Only 'accel_chip' or these two # parameters must be provided. #max_smoothing: # Maximum input shaper smoothing to allow for each axis during shaper # auto-calibration (with 'SHAPER_CALIBRATE' command). By default no # maximum smoothing is specified. Refer to Measuring_Resonances guide # for more details on using this feature. #min_freq: 5 # Minimum frequency to test for resonances. The default is 5 Hz. #max_freq: 133.33 # Maximum frequency to test for resonances. The default is 133.33 Hz. #accel_per_hz: 75 # This parameter is used to determine which acceleration to use to # test a specific frequency: accel = accel_per_hz * freq. Higher the # value, the higher is the energy of the oscillations. Can be set to # a lower than the default value if the resonances get too strong on # the printer. However, lower values make measurements of # high-frequency resonances less precise. The default value is 75 # (mm/sec). #hz_per_sec: 1 # Determines the speed of the test. When testing all frequencies in # range [min_freq, max_freq], each second the frequency increases by # hz_per_sec. Small values make the test slow, and the large values # will decrease the precision of the test. The default value is 1.0 # (Hz/sec == sec^-2). \u914d\u7f6e\u6a94\u6848\u52a9\u624b \u00b6 [board_pins] \u00b6 \u63a7\u5236\u677f\u5f15\u8173\u5225\u540d\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709 \"board_pins \"\u5b57\u9996\u7684\u5206\u6bb5\uff09\u3002\u7528\u5b83\u4f86\u5b9a\u7fa9\u5fae\u63a7\u5236\u5668\u4e0a\u7684\u5f15\u8173\u7684\u5225\u540d\u3002 [board_pins my_aliases]\u3002 mcu: mcu # \u4e00\u500b\u53ef\u4ee5\u4f7f\u7528\u5225\u540d\u7684\u9017\u865f\u5206\u9694\u7684\u5fae\u63a7\u5236\u5668\u5217\u8868\u3002 # \u9810\u8a2d\u5c07\u5225\u540d\u61c9\u7528\u65bc\u4e3b \"mcu\"\u3002 aliases: aliases_<name>: # \u70ba\u7d66\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u5efa\u7acb\u7684\u4e00\u500b\u4ee5\u9017\u865f\u5206\u9694\u7684 \"name=value \" # \u5225\u540d\u5217\u8868\u3002\u4f8b\u5982\uff0c\"EXP1_1=PE6\" \u5c07\u5efa\u7acb\u4e00\u500b\u7528\u65bc \"PE6 \"\u5f15 # \u8173\u7684\"EXP1_1 \"\u5225\u540d\u3002\u7136\u800c\uff0c\u5982\u679c \"\u503c \" \u88ab\u5305\u62ec\u5728 \"<>\"\u4e2d\uff0c # \u5247 \"name \"\u5c07\u88ab\u5efa\u7acb\u70ba\u4e00\u500b\u4fdd\u7559\u91dd\u8173\uff08\u4f8b\u5982\uff0c\"EXP1_9=<GND>\" # \u5c07\u4fdd\u7559 \"EXP1_9\"\uff09\u3002\u53ef\u4ee5\u6307\u5b9a\u4efb\u4f55\u6578\u91cf\u4ee5 \"aliases_\"\u958b\u982d\u7684\u5206\u6bb5\u3002 [include] \u00b6 \u5f15\u5165\u6a94\u6848\u652f\u63f4\u3002\u53ef\u4ee5\u5728\u4e3b\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u5f15\u7528\u984d\u5916\u7684\u914d\u7f6e\u6a94\u6848\u3002\u652f\u63f4\u842c\u7528\u5b57\u5143\uff08\u4f8b\u5982\uff0c configs/*.cfg \uff09\u3002 [include my_other_config.cfg] [duplicate_pin_override] \u00b6 \u8a72\u5de5\u5177\u5141\u8a31\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u591a\u6b21\u5b9a\u7fa9\u55ae\u500b\u5fae\u63a7\u5236\u5668\u5f15\u8173\uff0c\u800c\u7121\u9700\u9032\u884c\u6b63\u5e38\u7684\u932f\u8aa4\u6aa2\u67e5\u3002\u9019\u7528\u65bc\u8a3a\u65b7\u548c\u8abf\u8a66\u76ee\u7684\u3002\u5982\u679c Klipper \u652f\u6301\u591a\u6b21\u4f7f\u7528\u76f8\u540c\u7684\u5f15\u8173\uff0c\u5247\u4e0d\u9700\u8981\u6b64\u90e8\u5206\uff0c\u4e26\u4e14\u4f7f\u7528\u6b64\u8986\u84cb\u53ef\u80fd\u6703\u5c0e\u81f4\u6df7\u6dc6\u548c\u610f\u5916\u7d50\u679c\u3002 [duplicate_pin_override] pins: # \u4e00\u500b\u9017\u865f\u5206\u9694\u7684\u5f15\u8173\u5217\u8868\uff0c\u5141\u8a31\u5176\u4e2d\u7684\u5f15\u8173\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u88ab\u591a\u6b21\u4f7f\u7528\u800c\u4e0d\u89f8\u767c\u932f\u8aa4\u6aa2\u67e5\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 \u5217\u5370\u5e8a\u63a2\u6e2c\u786c\u9ad4 \u00b6 [probe] \u00b6 Z \u9ad8\u5ea6\u63a2\u982d\u3002\u53ef\u4ee5\u5b9a\u7fa9\u6b64\u90e8\u5206\u4ee5\u555f\u7528 Z \u9ad8\u5ea6\u63a2\u6e2c\u786c\u4ef6\u3002\u555f\u7528\u6b64\u90e8\u5206\u5f8c\uff0cPROBE \u548c QUERY_PROBE \u64f4\u5c55 g-code commands \u8b8a\u5f97\u53ef\u7528\u3002\u6b64\u5916\uff0c\u8acb\u53c3\u95b1 \u63a2\u982d\u6821\u6e96\u6307\u5357 \u3002\u63a2\u6e2c\u90e8\u5206\u9084\u5275\u5efa\u4e00\u500b\u865b\u64ec\u7684\u201cprobe:z_virtual_endstop\u201d\u5f15\u8173\u3002\u53ef\u4ee5\u5c07 stepper_z endstop_pin \u8a2d\u7f6e\u70ba\u7b1b\u5361\u723e\u5f0f\u6253\u5370\u6a5f\u4e0a\u7684\u6b64\u865b\u64ec\u5f15\u8173\uff0c\u8a72\u6253\u5370\u6a5f\u4f7f\u7528\u63a2\u91dd\u4ee3\u66ff z \u7d42\u9ede\u3002\u5982\u679c\u4f7f\u7528\u201cprobe:z_virtual_endstop\u201d\uff0c\u5247\u4e0d\u8981\u5728 stepper_z \u914d\u7f6e\u90e8\u5206\u5b9a\u7fa9 position_endstop\u3002 [probe] pin: # Probe detection pin. If the pin is on a different microcontroller # than the Z steppers then it enables \"multi-mcu homing\". This # parameter must be provided. #deactivate_on_each_sample: True # This determines if Klipper should execute deactivation gcode # between each probe attempt when performing a multiple probe # sequence. The default is True. #x_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # x-axis. The default is 0. #y_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # y-axis. The default is 0. z_offset: # The distance (in mm) between the bed and the nozzle when the probe # triggers. This parameter must be provided. #speed: 5.0 # Speed (in mm/s) of the Z axis when probing. The default is 5mm/s. #samples: 1 # The number of times to probe each point. The probed z-values will # be averaged. The default is to probe 1 time. #sample_retract_dist: 2.0 # The distance (in mm) to lift the toolhead between each sample (if # sampling more than once). The default is 2mm. #lift_speed: # Speed (in mm/s) of the Z axis when lifting the probe between # samples. The default is to use the same value as the 'speed' # parameter. #samples_result: average # The calculation method when sampling more than once - either # \"median\" or \"average\". The default is average. #samples_tolerance: 0.100 # The maximum Z distance (in mm) that a sample may differ from other # samples. If this tolerance is exceeded then either an error is # reported or the attempt is restarted (see # samples_tolerance_retries). The default is 0.100mm. #samples_tolerance_retries: 0 # The number of times to retry if a sample is found that exceeds # samples_tolerance. On a retry, all current samples are discarded # and the probe attempt is restarted. If a valid set of samples are # not obtained in the given number of retries then an error is # reported. The default is zero which causes an error to be reported # on the first sample that exceeds samples_tolerance. #activate_gcode: # A list of G-Code commands to execute prior to each probe attempt. # See docs/Command_Templates.md for G-Code format. This may be # useful if the probe needs to be activated in some way. Do not # issue any commands here that move the toolhead (eg, G1). The # default is to not run any special G-Code commands on activation. #deactivate_gcode: # A list of G-Code commands to execute after each probe attempt # completes. See docs/Command_Templates.md for G-Code format. Do not # issue any commands here that move the toolhead. The default is to # not run any special G-Code commands on deactivation. [bltouch] \u00b6 BLTouch \u63a2\u91dd\u3002\u53ef\u4ee5\u5b9a\u7fa9\u9019\u500b\u5206\u6bb5\uff08\u800c\u4e0d\u662f\u63a2\u91dd\uff08probe\uff09\u5206\u6bb5\uff09\u4f86\u555f\u7528 BLTouch \u63a2\u91dd\u3002\u66f4\u591a\u8cc7\u8a0a\u898b BL-Touch \u6307\u5357 \u548c \u547d\u4ee4\u53c3\u8003 \u3002\u4e00\u500b\u865b\u64ec\u7684 \"probe:z_virtual_endstop \"\u5f15\u8173\u4e5f\u6703\u88ab\u540c\u6642\u5efa\u7acb\uff08\u8a73\u898b \"probe \"\u7ae0\u7bc0\uff09\u3002 [bltouch] sensor_pin: # Pin connected to the BLTouch sensor pin. Most BLTouch devices # require a pullup on the sensor pin (prefix the pin name with \"^\"). # This parameter must be provided. control_pin: # Pin connected to the BLTouch control pin. This parameter must be # provided. #pin_move_time: 0.680 # The amount of time (in seconds) to wait for the BLTouch pin to # move up or down. The default is 0.680 seconds. #stow_on_each_sample: True # This determines if Klipper should command the pin to move up # between each probe attempt when performing a multiple probe # sequence. Read the directions in docs/BLTouch.md before setting # this to False. The default is True. #probe_with_touch_mode: False # If this is set to True then Klipper will probe with the device in # \"touch_mode\". The default is False (probing in \"pin_down\" mode). #pin_up_reports_not_triggered: True # Set if the BLTouch consistently reports the probe in a \"not # triggered\" state after a successful \"pin_up\" command. This should # be True for all genuine BLTouch devices. Read the directions in # docs/BLTouch.md before setting this to False. The default is True. #pin_up_touch_mode_reports_triggered: True # Set if the BLTouch consistently reports a \"triggered\" state after # the commands \"pin_up\" followed by \"touch_mode\". This should be # True for all genuine BLTouch devices. Read the directions in # docs/BLTouch.md before setting this to False. The default is True. #set_output_mode: # Request a specific sensor pin output mode on the BLTouch V3.0 (and # later). This setting should not be used on other types of probes. # Set to \"5V\" to request a sensor pin output of 5 Volts (only use if # the controller board needs 5V mode and is 5V tolerant on its input # signal line). Set to \"OD\" to request the sensor pin output use # open drain mode. The default is to not request an output mode. #x_offset: #y_offset: #z_offset: #speed: #lift_speed: #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: # See the \"probe\" section for information on these parameters. [smart_effector] \u00b6 The \"Smart Effector\" from Duet3d implements a Z probe using a force sensor. One may define this section instead of [probe] to enable the Smart Effector specific features. This also enables runtime commands to adjust the parameters of the Smart Effector at run time. [smart_effector] pin: # Pin connected to the Smart Effector Z Probe output pin (pin 5). Note that # pullup resistor on the board is generally not required. However, if the # output pin is connected to the board pin with a pullup resistor, that # resistor must be high value (e.g. 10K Ohm or more). Some boards have a low # value pullup resistor on the Z probe input, which will likely result in an # always-triggered probe state. In this case, connect the Smart Effector to # a different pin on the board. This parameter is required. #control_pin: # Pin connected to the Smart Effector control input pin (pin 7). If provided, # Smart Effector sensitivity programming commands become available. #probe_accel: # If set, limits the acceleration of the probing moves (in mm/sec^2). # A sudden large acceleration at the beginning of the probing move may # cause spurious probe triggering, especially if the hotend is heavy. # To prevent that, it may be necessary to reduce the acceleration of # the probing moves via this parameter. #recovery_time: 0.4 # A delay between the travel moves and the probing moves in seconds. A fast # travel move prior to probing may result in a spurious probe triggering. # This may cause 'Probe triggered prior to movement' errors if no delay # is set. Value 0 disables the recovery delay. # Default value is 0.4. #x_offset: #y_offset: # Should be left unset (or set to 0). z_offset: # Trigger height of the probe. Start with -0.1 (mm), and adjust later using # `PROBE_CALIBRATE` command. This parameter must be provided. #speed: # Speed (in mm/s) of the Z axis when probing. It is recommended to start # with the probing speed of 20 mm/s and adjust it as necessary to improve # the accuracy and repeatability of the probe triggering. #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: #activate_gcode: #deactivate_gcode: #deactivate_on_each_sample: # See the \"probe\" section for more information on the parameters above. \u984d\u5916\u7684\u6b65\u9032\u96fb\u6a5f\u548c\u64e0\u51fa\u6a5f \u00b6 [stepper_z1] \u00b6 \u591a\u6b65\u9032\u8ef8\u3002\u5728XYZ\u6a5f\u578b\u6253\u5370\u6a5f\u4e0a\uff0c\u63a7\u5236\u7d66\u5b9a\u8ef8\u7684\u6b65\u9032\u5668\u53ef\u80fd\u5177\u6709\u984d\u5916\u7684\u914d\u7f6e\u584a\uff0c\u9019\u4e9b\u914d\u7f6e\u584a\u5b9a\u7fa9\u4e86\u61c9\u8a72\u8207\u4e3b\u6b65\u9032\u5668\u4e00\u8d77\u6b65\u9032\u7684\u6b65\u9032\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u5f9e 1 \u958b\u59cb\u7684\u6578\u5b57\u5f8c\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff08\u4f8b\u5982\uff0c\u201cstepper_z1\u201d\u3001\u201cstepper_z2\u201d\u7b49\uff09\u3002 [stepper_z1] #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u4e0a\u8ff0\u53c3\u6578\u7684\u5b9a\u7fa9\u898b\u201c\u6b65\u9032\u5668\u201d\u90e8\u5206\u3002 #endstop_pin: # \u5982\u679c\u70ba\u9644\u52a0\u6b65\u9032\u5668\u5b9a\u7fa9\u4e86 endstop_pin\uff0c\u5247 # stepper \u5c07\u8fd4\u56de\u76f4\u5230 endstop \u88ab\u89f8\u767c\u3002\u5426\u5247\uff0c\u8a72 # \u6b65\u9032\u5668\u5c07\u8fd4\u56de\u539f\u4f4d\uff0c\u76f4\u5230\u4e3b\u6b65\u9032\u5668\u4e0a\u7684 endstop \u70ba # \u8ef8\u88ab\u89f8\u767c\u3002 [extruder1] \u00b6 \u5728\u4e00\u500b\u591a\u64e0\u51fa\u6a5f\u7684\u5370\u8868\u6a5f\u4e2d\uff0c\u70ba\u6bcf\u500b\u984d\u5916\u7684\u64e0\u51fa\u6a5f\u65b0\u589e\u4e00\u500b\u984d\u5916\u64e0\u51fa\u6a5f\u5206\u6bb5\u3002\u984d\u5916\u64e0\u51fa\u6a5f\u5206\u6bb5\u61c9\u88ab\u547d\u540d\u70ba\"extruder1\"\u3001\"extruder2\"\u3001\"extruder3\"\uff0c\u4ee5\u6b64\u985e\u63a8\u3002\u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u53c3\u898b\"extruder\"\u7ae0\u7bc0\u3002 \u6709\u95dc\u793a\u4f8b\u914d\u7f6e\uff0c\u8acb\u53c3\u898b sample-multi-extruder.cfg \u3002 [extruder1] #step_pin: #dir_pin: #... # \u6709\u95dc\u53ef\u7528\u7684\u6b65\u9032\u5668\u548c\u52a0\u71b1\u5668\uff0c\u8acb\u53c3\u95b1\u201c\u64e0\u51fa\u6a5f\u201d\u90e8\u5206 \uff03 \u53c3\u6578\u3002 #shared_heater: # \u6b64\u9078\u9805\u5df2\u68c4\u7528\uff0c\u4e0d\u61c9\u518d\u6307\u5b9a\u3002 [dual_carriage] \u00b6 \u652f\u6301\u5728\u55ae\u8ef8\u4e0a\u5177\u6709\u96d9\u6258\u67b6\u7684XYZ\u6a5f\u578b\u6253\u5370\u6a5f\u3002\u6d3b\u52d5\u6258\u67b6\u901a\u904e SET_DUAL_CARRIAGE \u64f4\u5c55 G-Code\u8a2d\u7f6e\u3002 \u201cSET_DUAL_CARRIAGE CARRIAGE=1\u201d\u547d\u4ee4\u5c07\u6fc0\u6d3b\u672c\u7bc0\u4e2d\u5b9a\u7fa9\u7684\u6258\u67b6\uff08CARRIAGE=0 \u5c07\u6fc0\u6d3b\u8fd4\u56de\u5230\u4e3b\u6258\u67b6\uff09\u3002\u96d9\u6258\u67b6\u652f\u6301\u901a\u5e38\u8207\u984d\u5916\u7684\u64e0\u51fa\u6a5f\u7d50\u5408\u4f7f\u7528 - SET_DUAL_CARRIAGE \u547d\u4ee4\u901a\u5e38\u8207 ACTIVATE_EXTRUDER \u547d\u4ee4\u540c\u6642\u8abf\u7528\u3002\u8acb\u52d9\u5fc5\u5728\u505c\u7528\u671f\u9593\u505c\u653e\u6258\u67b6\u3002 \u6709\u95dc\u793a\u4f8b\u914d\u7f6e\uff0c\u8acb\u53c3\u95b1 sample-idex.cfg \u3002 [dual_carriage] axis: # \u984d\u5916\u6ed1\u8eca\u6240\u5728\u7684\u8ef8\uff08x\u6216\u8005y\uff09\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: #endstop_pin: #position_endstop: #position_min: #position_max: # \u4ee5\u4e0a\u53c3\u6578\u7684\u5b9a\u7fa9\u8acb\u67e5\u95b1\u300cstepper\u300d\u5206\u6bb5\u3002 [extruder_stepper] \u00b6 \u652f\u6301\u8207\u64e0\u51fa\u6a5f\u904b\u52d5\u540c\u6b65\u7684\u9644\u52a0\u6b65\u9032\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cextruder_stepper\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 \u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [extruder_stepper my_extra_stepper] extruder: # The extruder this stepper is synchronized to. If this is set to an # empty string then the stepper will not be synchronized to an # extruder. This parameter must be provided. #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # See the \"stepper\" section for the definition of the above # parameters. [manual_stepper] \u00b6 \u624b\u52d5\u6b65\u9032\u5668\uff08\u53ef\u4ee5\u4f7f\u7528\u201cmanual_stepper\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u9019\u4e9b\u662f\u7531 MANUAL_STEPPER g-code \u547d\u4ee4\u63a7\u5236\u7684\u6b65\u9032\u5668\u3002\u4f8b\u5982\uff1a\u201cMANUAL_STEPPER STEPPER=my_stepper MOVE=10 SPEED=5\u201d\u3002\u6709\u95dc MANUAL_STEPPER \u547d\u4ee4\u7684\u8aaa\u660e\uff0c\u8acb\u53c3\u898b G-Codes \u6587\u4ef6\u3002\u6b65\u9032\u5668\u672a\u9023\u63a5\u5230\u6b63\u5e38\u7684\u6253\u5370\u6a5f\u904b\u52d5\u5b78\u3002 [manual_stepper my_stepper]\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u6709\u95dc\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u8acb\u898b\"stepper\"\u5206\u6bb5\u3002 #velocity: # \u8a2d\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u9810\u8a2d\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s\uff09\u3002\u9019\u500b\u503c\u6703\u5728 MANUAL_STEPPER # \u547d\u4ee4\u6c92\u6709\u6307\u5b9a\u4e00\u500b SPEED \u53c3\u6578\u6642\u6703\u88ab\u4f7f\u7528\u3002 # \u9810\u8a2d\u70ba 5 mm/s\u3002 #accel: # \u8a2d\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u9810\u8a2d\u52a0\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s^2\uff09\u3002\u8a2d\u5b9a\u52a0\u901f\u5ea6\u70ba\u96f6\u5c07\u5c0e\u81f4 # \u6c92\u6709\u52a0\u901f\u5ea6\u3002\u9019\u500b\u503c\u6703\u5728 MANUAL_STEPPER \u547d\u4ee4\u6c92\u6709\u6307\u5b9a ACCEL \u53c3\u6578\u6642 # \u6703\u88ab\u4f7f\u7528\u3002 # \u9810\u8a2d\u70ba 0\u3002 #endstop_pin: # \u9650\u4f4d\u958b\u95dc\u6aa2\u6e2c\u5f15\u8173\u3002\u5982\u679c\u5b9a\u7fa9\u4e86\u9019\u500b\u53c3\u6578\uff0c\u53ef\u4ee5\u901a\u904e\u5728 MANUAL_STEPPER # \u904b\u52d5\u547d\u4ee4\u4e2d\u65b0\u589e\u4e00\u500b STOP_ON_ENDSTOP \u53c3\u6578\u4f86\u57f7\u884c \"\u6b78\u4f4d\u52d5\u4f5c\" \u3002 \u81ea\u5b9a\u7fa9\u52a0\u71b1\u5668\u548c\u611f\u6e2c\u5668 \u00b6 [verify_heater] \u00b6 \u52a0\u71b1\u5668\u548c\u6eab\u5ea6\u611f\u6e2c\u5668\u9a57\u8b49\u3002\u9810\u8a2d\u5728\u5370\u8868\u6a5f\u4e0a\u6bcf\u500b\u914d\u7f6e\u7684\u52a0\u71b1\u5668\u4e0a\u555f\u7528\u52a0\u71b1\u5668\u9a57\u8b49\u3002\u4f7f\u7528 verify_heater \u5206\u6bb5\u4f86\u8986\u84cb\u9810\u8a2d\u8a2d\u5b9a\u3002 [verify_heater heater_config_name] #max_error: 120 # The maximum \"cumulative temperature error\" before raising an # error. Smaller values result in stricter checking and larger # values allow for more time before an error is reported. # Specifically, the temperature is inspected once a second and if it # is close to the target temperature then an internal \"error # counter\" is reset; otherwise, if the temperature is below the # target range then the counter is increased by the amount the # reported temperature differs from that range. Should the counter # exceed this \"max_error\" then an error is raised. The default is # 120. #check_gain_time: # This controls heater verification during initial heating. Smaller # values result in stricter checking and larger values allow for # more time before an error is reported. Specifically, during # initial heating, as long as the heater increases in temperature # within this time frame (specified in seconds) then the internal # \"error counter\" is reset. The default is 20 seconds for extruders # and 60 seconds for heater_bed. #hysteresis: 5 # The maximum temperature difference (in Celsius) to a target # temperature that is considered in range of the target. This # controls the max_error range check. It is rare to customize this # value. The default is 5. #heating_gain: 2 # The minimum temperature (in Celsius) that the heater must increase # by during the check_gain_time check. It is rare to customize this # value. The default is 2. [homing_heaters] \u00b6 \u5728\u6b78\u4f4d\u6216\u63a2\u6e2c\u8ef8\u6642\u7981\u7528\u52a0\u71b1\u5668\u7684\u5de5\u5177\u3002 [homing_heaters] #steppers: # \u6703\u4f7f\u52a0\u71b1\u5668\u88ab\u7981\u7528\u7684\u6b65\u9032\u96fb\u6a5f\u9017\u865f\u5206\u9694\u5217\u8868\u3002 # \u9810\u8a2d\u5728\u6b78\u96f6\u548c\u63a2\u6e2c\u6642\u7981\u7528\u5168\u90e8\u52a0\u71b1\u5668\u3002 # \u4f8b\u5982\uff1astepper_z #heaters: # \u6b78\u96f6\u548c\u63a2\u6e2c\u6642\u6703\u88ab\u7981\u7528\u7684\u52a0\u71b1\u5668\u7684\u9017\u865f\u5206\u9694\u5217\u8868\u3002 # \u9810\u8a2d\u7981\u7528\u5168\u90e8\u52a0\u71b1\u5668\u3002 # \u4f8b\u5982\uff1aextruder, heater_bed [thermistor] \u00b6 \u81ea\u5b9a\u7fa9\u71b1\u654f\u96fb\u963b\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u300c\u71b1\u654f\u96fb\u963b\u300d\u5b57\u9996\u7684\u5206\u6bb5\uff09\u3002\u53ef\u4ee5\u5728\u52a0\u71b1\u5668\u914d\u7f6e\u5206\u6bb5\u7684 sensor_type \u6b04\u4f4d\u4e2d\u4f7f\u7528\u81ea\u5b9a\u7fa9\u71b1\u654f\u96fb\u963b\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u7fa9\u4e86\u300c[thermistor my_thermistor]\u300d\u5206\u6bb5\uff0c\u90a3\u9ebc\u5728\u5b9a\u7fa9\u52a0\u71b1\u5668\u6642\u53ef\u4ee5\u4f7f\u7528\u300csensor_type: my_thermistor\u300d\u3002\uff09\u78ba\u4fdd\u5c07\u71b1\u654f\u96fb\u963b\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [thermistor my_thermistor] #temperature1: #resistance1: #temperature2: #resistance2: #temperature3: #resistance3: # Three resistance measurements (in Ohms) at the given temperatures # (in Celsius). The three measurements will be used to calculate the # Steinhart-Hart coefficients for the thermistor. These parameters # must be provided when using Steinhart-Hart to define the # thermistor. #beta: # Alternatively, one may define temperature1, resistance1, and beta # to define the thermistor parameters. This parameter must be # provided when using \"beta\" to define the thermistor. [adc_temperature] \u00b6 \u81ea\u5b9a\u7fa9 ADC \u6eab\u5ea6\u611f\u6e2c\u5668\uff08\u53ef\u4ee5\u4f7f\u7528 \u300cadc_temperature\u300d \u5b57\u9996\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5206\u6bb5\uff09\u3002\u9019\u5141\u8a31\u5b9a\u7fa9\u4e00\u500b\u81ea\u5b9a\u7fa9\u6eab\u5ea6\u611f\u6e2c\u5668\uff0c\u8a72\u611f\u6e2c\u5668\u6e2c\u91cf\u4e00\u500b\u6a21\u6578\u8f49\u63db\u5668 (ADC) \u5f15\u8173\u4e0a\u7684\u96fb\u58d3\uff0c\u4e26\u5728\u4e00\u7d44\u914d\u7f6e\u7684\u6eab\u5ea6/\u96fb\u58d3\uff08\u6216\u6eab\u5ea6/\u96fb\u963b\uff09\u6e2c\u91cf\u503c\u4e4b\u9593\u4f7f\u7528\u7dda\u6027\u63d2\u503c\u4f86\u78ba\u5b9a\u6eab\u5ea6\u3002\u8a2d\u5b9a\u7684\u611f\u6e2c\u5668\u53ef\u88ab\u7528\u4f5c\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u7684 sensor_type\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u7fa9\u4e86 \u300c[adc_temperature my_sensor]\u300d \u5206\u6bb5\uff0c\u5247\u5728\u5b9a\u7fa9\u52a0\u71b1\u5668\u6642\u53ef\u4ee5\u4f7f\u7528 \u300csensor_type: my_sensor\u300d \u3002\uff09\u78ba\u4fdd\u5c07\u611f\u6e2c\u5668\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [adc_temperature my_sensor] #temperature1: #voltage1: #temperature2: #voltage2: #... # \u4e00\u7d44\u7528\u4f5c\u6eab\u5ea6\u8f49\u63db\u7684\u53c3\u8003\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\uff09\u548c\u96fb\u58d3\uff08\u4ee5 # \u4f0f\u7279\u70ba\u55ae\u4f4d\uff09\u3002\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e5f\u53ef\u4ee5\u6307\u5b9a # adc_voltage \u548c voltage_offset \u53c3\u6578\u4f86\u5b9a\u7fa9 ADC \u96fb\u58d3\uff08\u8a73\u898b\u300c\u5e38\u7528\u6eab\u5ea6 # \u653e\u5927\u5668\u300d\u7ae0\u7bc0\uff09\u3002\u81f3\u5c11\u8981\u63d0\u4f9b\u5169\u500b\u6e2c\u91cf\u9ede\u3002 #temperature1: #resistance1: #temperature2: #resistance2: #... # \u4f5c\u70ba\u66ff\u4ee3\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u7d44\u7528\u4f5c\u6eab\u5ea6\u8f49\u63db\u7684\u53c3\u8003\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba # \u55ae\u4f4d\uff09\u548c\u963b\u503c\uff08\u4ee5\u6b50\u59c6\u70ba\u55ae\u4f4d\uff09\u3002\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e5f # \u53ef\u4ee5\u6307\u5b9a\u4e00\u500b pullup_resistor \u53c3\u6578\uff08\u8a73\u898b\u300c\u64e0\u51fa\u6a5f\u300d\u7ae0\u7bc0\uff09\u3002\u81f3\u5c11\u8981 # \u63d0\u4f9b\u5169\u500b\u6e2c\u91cf\u9ede\u3002 [heater_generic] \u00b6 \u901a\u7528\u52a0\u71b1\u5668\uff08\u53ef\u4ee5\u4f7f\u7528\u201cheater_generic\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u9019\u4e9b\u52a0\u71b1\u5668\u7684\u884c\u70ba\u985e\u4f3c\u65bc\u6a19\u6e96\u52a0\u71b1\u5668\uff08\u64e0\u51fa\u6a5f\u3001\u52a0\u71b1\u5e8a\uff09\u3002\u4f7f\u7528 SET_HEATER_TEMPERATURE \u547d\u4ee4\uff08\u8a73\u898b G-Codes \uff09\u8a2d\u7f6e\u76ee\u6a19\u6eab\u5ea6\u3002 [heater_generic my_generic_heater] #gcode_id: # \u4f7f\u7528M105\u67e5\u8a62\u6eab\u5ea6\u6642\u4f7f\u7528\u7684ID\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #heater_pin: #max_power: #sensor_type: #sensor_pin: #smooth_time: #control: #pid_Kp: #pid_Ki: #pid_Kd: #pwm_cycle_time: #min_temp: #max_temp: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cextruder\u300d\u5206\u6bb5\u3002 [temperature_sensor] \u00b6 \u901a\u7528\u6eab\u5ea6\u611f\u6e2c\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u901a\u7528\u6eab\u5ea6\u611f\u6e2c\u5668\uff09\u3002\u901a\u904e M105 \u547d\u4ee4\u67e5\u8a62\u6eab\u5ea6\u3002 [temperature_sensor my_sensor] #sensor_type: #sensor_pin: #min_temp: #max_temp: # See the \"extruder\" section for the definition of the above # parameters. #gcode_id: # See the \"heater_generic\" section for the definition of this # parameter. \u6eab\u5ea6\u50b3\u611f\u5668 \u00b6 Klipper \u5305\u62ec\u8a31\u591a\u578b\u5225\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\u7684\u5b9a\u7fa9\u3002\u9019\u4e9b\u611f\u6e2c\u5668\u53ef\u4ee5\u5728\u4efb\u4f55\u9700\u8981\u6eab\u5ea6\u611f\u6e2c\u5668\u7684\u914d\u7f6e\u5206\u6bb5\u4e2d\u4f7f\u7528\uff08\u4f8b\u5982 [extruder] \u6216 [heated_bed] \u5206\u6bb5\uff09\u3002 \u5e38\u898b\u71b1\u654f\u96fb\u963b \u00b6 \u5e38\u898b\u7684\u71b1\u654f\u96fb\u963b\u3002\u5728\u4f7f\u7528\u9019\u4e9b\u611f\u6e2c\u5668\u4e4b\u4e00\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c3\u6578\u3002 sensor_type: # One of \"EPCOS 100K B57560G104F\", \"ATC Semitec 104GT-2\", # \"ATC Semitec 104NT-4-R025H42G\", \"Generic 3950\", # \"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", or \"TDK NTCG104LH104JT1\" sensor_pin: # Analog input pin connected to the thermistor. This parameter must # be provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # The default is 4700 ohms. #inline_resistor: 0 # The resistance (in ohms) of an extra (not heat varying) resistor # that is placed inline with the thermistor. It is rare to set this. # The default is 0 ohms. \u5e38\u898b\u6eab\u5ea6\u653e\u5927\u5668 \u00b6 \u5e38\u898b\u6eab\u5ea6\u653e\u5927\u5668\u3002\u5728\u4f7f\u7528\u9019\u4e9b\u611f\u6e2c\u5668\u4e4b\u4e00\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c3\u6578\u3002 sensor_type: # \u201cPT100 INA826\u201d\u3001\u201cAD595\u201d\u3001\u201cAD597\u201d\u3001\u201cAD8494\u201d\u3001\u201cAD8495\u201d\u4e4b\u4e00\uff0c #\u201cAD8496\u201d \u6216\u201cAD8497\u201d\u3002 sensor_pin: # \u6a21\u64ec\u8f38\u5165\u5f15\u8173\u9023\u63a5\u5230\u50b3\u611f\u5668\u3002\u8a72\u53c3\u6578\u5fc5\u9808\u662f \uff03 \u8a2d\u5b9a\u3002 #adc_voltage: 5.0 # ADC \u6bd4\u8f03\u96fb\u58d3\uff08\u4ee5\u4f0f\u7279\u70ba\u55ae\u4f4d\uff09\u3002\u9ed8\u8a8d\u503c\u70ba 5 \u4f0f\u3002 #voltage_offset: 0 # ADC \u96fb\u58d3\u504f\u79fb\uff08\u4ee5\u4f0f\u7279\u70ba\u55ae\u4f4d\uff09\u3002\u9ed8\u8a8d\u503c\u70ba 0\u3002 \u76f4\u63a5\u9023\u7dda\u7684 PT1000 \u611f\u6e2c\u5668 \u00b6 \u76f4\u63a5\u9023\u7dda\u5230\u63a7\u5236\u677f\u7684 PT1000 \u611f\u6e2c\u5668\u3002\u4ee5\u4e0b\u53c3\u6578\u53ef\u7528\u65bc\u4f7f\u7528\u9019\u4e9b\u611f\u6e2c\u5668\u4e4b\u4e00\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u3002 sensor_type: PT1000 sensor_pin: # \u6a21\u64ec\u8f38\u5165\u5f15\u8173\u9023\u63a5\u5230\u50b3\u611f\u5668\u3002\u8a72\u53c3\u6578\u5fc5\u9808\u662f \uff03 \u8a2d\u5b9a\u3002 #pullup_resistor: 4700 # \u9023\u63a5\u5230\u50b3\u611f\u5668\u7684\u4e0a\u62c9\u96fb\u963b\uff08\u4ee5\u6b50\u59c6\u70ba\u55ae\u4f4d\uff09\u3002\u9019 # \u9ed8\u8a8d\u70ba 4700 \u6b50\u59c6\u3002 MAXxxxxx \u6eab\u5ea6\u611f\u6e2c\u5668 \u00b6 MAXxxxxx \u5e8f\u5217\u5916\u8a2d\u4ecb\u9762\uff08SPI\uff09\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u4ee5\u4e0b\u53c3\u6578\u5728\u4f7f\u7528\u8a72\u578b\u5225\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u53ef\u7528\u3002 sensor_type: # One of \"MAX6675\", \"MAX31855\", \"MAX31856\", or \"MAX31865\". sensor_pin: # The chip select line for the sensor chip. This parameter must be # provided. #spi_speed: 4000000 # The SPI speed (in hz) to use when communicating with the chip. # The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #tc_type: K #tc_use_50Hz_filter: False #tc_averaging_count: 1 # The above parameters control the sensor parameters of MAX31856 # chips. The defaults for each parameter are next to the parameter # name in the above list. #rtd_nominal_r: 100 #rtd_reference_r: 430 #rtd_num_of_wires: 2 #rtd_use_50Hz_filter: False # The above parameters control the sensor parameters of MAX31865 # chips. The defaults for each parameter are next to the parameter # name in the above list. BMP280/BME280/BME680 \u6eab\u5ea6\u611f\u6e2c\u5668 \u00b6 BMP280/BME280/BME680 \u5169\u7dda\u4ecb\u9762 (I2C) \u74b0\u5883\u611f\u6e2c\u5668\u3002\u6ce8\u610f\uff0c\u9019\u4e9b\u611f\u6e2c\u5668\u4e0d\u9069\u7528\u4e8e\u64e0\u51fa\u6a5f\u548c\u52a0\u71b1\u5e8a\u3002\u5b83\u5011\u53ef\u4ee5\u7528\u65bc\u76e3\u6e2c\u74b0\u5883\u6eab\u5ea6 (C)\u3001\u58d3\u529b (hPa)\u3001\u76f8\u5c0d\u6fd5\u5ea6\u4ee5\u53ca\u6c23\u9ad4\u6c34\u5e73\uff08\u50c5\u5728BME680\u4e0a\uff09\u3002\u8acb\u53c3\u95b1 sample-macros.cfg \u4ee5\u7372\u53d6\u53ef\u7528\u65bc\u5831\u544a\u58d3\u529b\u548c\u6fd5\u5ea6\u4ee5\u53ca\u6eab\u5ea6\u7684gcode_macro\u3002 sensor_type: BME280 #i2c_address: # Default is 118 (0x76). Some BME280 sensors have an address of 119 # (0x77). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. HTU21D \u611f\u6e2c\u5668 \u00b6 HTU21D \u7cfb\u5217\u96d9\u7dda\u4ecb\u9762\uff08I2C\uff09\u74b0\u5883\u611f\u6e2c\u5668\u3002\u6ce8\u610f\uff0c\u9019\u7a2e\u611f\u6e2c\u5668\u4e0d\u9069\u7528\u4e8e\u64e0\u51fa\u6a5f\u548c\u52a0\u71b1\u5e8a\uff0c\u5b83\u5011\u53ef\u4ee5\u7528\u65bc\u76e3\u6e2c\u74b0\u5883\u6eab\u5ea6\uff08C\uff09\u548c\u76f8\u5c0d\u6fd5\u5ea6\u3002\u53c3\u898b sample-macros.cfg \u4e2d\u53ef\u4ee5\u5831\u544a\u6eab\u5ea6\u548c\u6fd5\u5ea6\u7684 gcode_macro\u3002 sensor_type: # Must be \"HTU21D\" , \"SI7013\", \"SI7020\", \"SI7021\" or \"SHT21\" #i2c_address: # Default is 64 (0x40). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #htu21d_hold_master: # If the sensor can hold the I2C buf while reading. If True no other # bus communication can be performed while reading is in progress. # Default is False. #htu21d_resolution: # The resolution of temperature and humidity reading. # Valid values are: # 'TEMP14_HUM12' -> 14bit for Temp and 12bit for humidity # 'TEMP13_HUM10' -> 13bit for Temp and 10bit for humidity # 'TEMP12_HUM08' -> 12bit for Temp and 08bit for humidity # 'TEMP11_HUM11' -> 11bit for Temp and 11bit for humidity # Default is: \"TEMP11_HUM11\" #htu21d_report_time: # Interval in seconds between readings. Default is 30 LM75 \u6eab\u5ea6\u611f\u6e2c\u5668 \u00b6 LM75/LM75A \u5169\u7dda (I2C) \u9023\u63a5\u7684\u6eab\u5ea6\u50b3\u611f\u5668\u3002\u9019\u4e9b\u50b3\u611f\u5668\u7684\u7bc4\u570d\u70ba -55~125 C\uff0c\u56e0\u6b64\u53ef\u7528\u65bc\u4f8b\u5982\u5ba4\u6eab\u5ea6\u76e3\u6e2c\u3002\u5b83\u5011\u9084\u53ef\u4ee5\u7528\u4f5c\u7c21\u55ae\u7684\u98a8\u6247/\u52a0\u71b1\u5668\u63a7\u5236\u5668\u3002 sensor_type: LM75 #i2c_address: # Default is 72 (0x48). Normal range is 72-79 (0x48-0x4F) and the 3 # low bits of the address are configured via pins on the chip # (usually with jumpers or hard wired). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #lm75_report_time: # Interval in seconds between readings. Default is 0.8, with minimum # 0.5. \u5fae\u63a7\u5236\u5668\u7684\u5167\u5efa\u6eab\u5ea6\u611f\u6e2c\u5668 \u00b6 atsam\u3001atsamd \u548c stm32 \u5fae\u63a7\u5236\u5668\u5305\u542b\u4e00\u500b\u5167\u90e8\u6eab\u5ea6\u50b3\u611f\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u201ctemperature_mcu\u201d\u50b3\u611f\u5668\u4f86\u76e3\u63a7\u9019\u4e9b\u6eab\u5ea6\u3002 sensor_type: temperature_mcu #sensor_mcu: mcu # The micro-controller to read from. The default is \"mcu\". #sensor_temperature1: #sensor_adc1: # Specify the above two parameters (a temperature in Celsius and an # ADC value as a float between 0.0 and 1.0) to calibrate the # micro-controller temperature. This may improve the reported # temperature accuracy on some chips. A typical way to obtain this # calibration information is to completely remove power from the # printer for a few hours (to ensure it is at the ambient # temperature), then power it up and use the QUERY_ADC command to # obtain an ADC measurement. Use some other temperature sensor on # the printer to find the corresponding ambient temperature. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification. #sensor_temperature2: #sensor_adc2: # If sensor_temperature1/sensor_adc1 is specified then one may also # specify sensor_temperature2/sensor_adc2 calibration data. Doing so # may provide calibrated \"temperature slope\" information. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification. \u4e3b\u6a5f\u6eab\u5ea6\u611f\u6e2c\u5668 \u00b6 \u904b\u884c\u4e3b\u6a5f\u8edf\u4ef6\u7684\u6a5f\u5668\uff08\u4f8b\u5982 Raspberry Pi\uff09\u7684\u6eab\u5ea6\u3002 sensor_type: temperature_host #sensor_path: # The path to temperature system file. The default is # \"/sys/class/thermal/thermal_zone0/temp\" which is the temperature # system file on a Raspberry Pi computer. DS18B20 \u6eab\u5ea6\u611f\u6e2c\u5668 \u00b6 DS18B20 \u662f\u4e00\u500b\u55ae\u532f\u6d41\u6392 (1-wire (w1)) \u6578\u503c\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u6ce8\u610f\uff0c\u9019\u500b\u611f\u6e2c\u5668\u4e0d\u662f\u88ab\u8a2d\u8a08\u7528\u65bc\u71b1\u7aef\u6216\u71b1\u5e8a\uff0c \u800c\u662f\u7528\u65bc\u76e3\u6e2c\u74b0\u5883\u6eab\u5ea6(C)\u3002\u9019\u4e9b\u611f\u6e2c\u5668\u6700\u9ad8\u91cf\u7a0b\u662f125 C\uff0c\u56e0\u6b64\u53ef\u7528\u65bc\u4f8b\u5982\u7bb1\u9ad4\u6eab\u5ea6\u76e3\u6e2c\u3002\u5b83\u5011\u4e5f\u53ef\u4ee5\u88ab\u7576\u4f5c\u7c21\u55ae\u7684\u98a8\u6247/\u52a0\u71b1\u5668\u63a7\u5236\u5668\u3002DS18B20 \u611f\u6e2c\u5668\u50c5\u5728\u300c\u4e3b\u6a5f mcu\u300d\u4e0a\u652f\u63f4\uff0c\u4f8b\u5982\u6a39\u8393\u6d3e\u3002w1-gpio Linux \u5167\u6838\u6a21\u7d44\u5fc5\u9808\u88ab\u5b89\u88dd\u3002 sensor_type: DS18B20 serial_no: # Each 1-wire device has a unique serial number used to identify the device, # usually in the format 28-031674b175ff. This parameter must be provided. # Attached 1-wire devices can be listed using the following Linux command: # ls /sys/bus/w1/devices/ #ds18_report_time: # Interval in seconds between readings. Default is 3.0, with a minimum of 1.0 #sensor_mcu: # The micro-controller to read from. Must be the host_mcu \u98a8\u6247 \u00b6 [fan] \u00b6 \u5217\u5370\u51b7\u537b\u98a8\u6247\u3002 [fan] pin: # \u63a7\u5236\u98a8\u6247\u7684\u8f38\u51fa\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #max_power: 1.0 # \u5f15\u8173\u5141\u8a31\u88ab\u8a2d\u5b9a\u7684\u6700\u5927\u5360\u7a7a\u6bd4\uff08\u57280.0\u548c1.0\u4e4b\u9593\uff09\u3002 # 1.0 \u5141\u8a31\u5f15\u8173\u88ab\u9577\u6642\u9593\u5b8c\u5168\u555f\u7528\uff0c\u800c0.5\u6703\u53ea\u5141\u8a31\u5f15\u8173\u53ea\u5728\u4e00\u534a\u7684\u6642\u9593\u88e1 # \u88ab\u555f\u7528\u3002\u9019\u500b\u8a2d\u5b9a\u53ef\u4ee5\u9650\u5236\u98a8\u6247\u7684\u6700\u5927\u529f\u7387\uff08\u5e73\u5747\u529f\u7387\uff09\u3002\u5982\u679c\u9019\u500b\u503c # \u5c0f\u65bc 1.0 \u5247\u98a8\u901f\u8acb\u6c42\u6703\u88ab\u7e2e\u653e\u5230 0 \u548c max_power \u4e4b\u9593\uff08\u4f8b\u5982\uff0c\u5982\u679c # max_power \u662f 0.9\uff0c\u8acb\u6c42 80% \u98a8\u901f\u901f\u5ea6\u6703\u4f7f\u98a8\u6247\u529f\u7387\u8a2d\u70ba72%\uff09\u3002 # \u9810\u8a2d\u70ba1.0\u3002 #shutdown_speed: 0 # \u5728\u5fae\u63a7\u5236\u5668\u9032\u5165\u932f\u8aa4\u72c0\u614b\u6642\u671f\u671b\u7684\uff08\u4e00\u500b\u57280.0\u548c1.0\u4e4b\u9593\u7684\u503c\uff09 # \u98a8\u6247\u901f\u5ea6\u3002 # \u9810\u8a2d\u70ba 0\u3002 #cycle_time: 0.010 # The amount of time (in seconds) for each PWM power cycle to the # fan. It is recommended this be 10 milliseconds or greater when # using software based PWM. The default is 0.010 seconds. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. Most fans # do not work well with hardware PWM, so it is not recommended to # enable this unless there is an electrical requirement to switch at # very high speeds. When using hardware PWM the actual cycle time is # constrained by the implementation and may be significantly # different than the requested cycle_time. The default is False. #kick_start_time: 0.100 # Time (in seconds) to run the fan at full speed when either first # enabling or increasing it by more than 50% (helps get the fan # spinning). The default is 0.100 seconds. #off_below: 0.0 # The minimum input speed which will power the fan (expressed as a # value from 0.0 to 1.0). When a speed lower than off_below is # requested the fan will instead be turned off. This setting may be # used to prevent fan stalls and to ensure kick starts are # effective. The default is 0.0. # # This setting should be recalibrated whenever max_power is adjusted. # To calibrate this setting, start with off_below set to 0.0 and the # fan spinning. Gradually lower the fan speed to determine the lowest # input speed which reliably drives the fan without stalls. Set # off_below to the duty cycle corresponding to this value (for # example, 12% -> 0.12) or slightly higher. #tachometer_pin: # Tachometer input pin for monitoring fan speed. A pullup is generally # required. This parameter is optional. #tachometer_ppr: 2 # When tachometer_pin is specified, this is the number of pulses per # revolution of the tachometer signal. For a BLDC fan this is # normally half the number of poles. The default is 2. #tachometer_poll_interval: 0.0015 # When tachometer_pin is specified, this is the polling period of the # tachometer pin, in seconds. The default is 0.0015, which is fast # enough for fans below 10000 RPM at 2 PPR. This must be smaller than # 30/(tachometer_ppr*rpm), with some margin, where rpm is the # maximum speed (in RPM) of the fan. [heater_fan] \u00b6 \u52a0\u71b1\u5668\u51b7\u537b\u98a8\u6247\uff08\u53ef\u4ee5\u7528\"heater_fan\"\u5b57\u9996\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5206\u6bb5\uff09\u3002\"\u52a0\u71b1\u5668\u98a8\u6247\"\u662f\u4e00\u7a2e\u7576\u5176\u95dc\u806f\u7684\u52a0\u71b1\u5668\u6d3b\u8e8d\u6642\u6703\u555f\u7528\u7684\u98a8\u6247\u3002\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cheater_fan shutdown_speed \u7b49\u65bc max_power\u3002 [heater_fan my_nozzle_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cfan\u300d\u7ae0\u7bc0\u3002 #heater: extruder # \u8a72\u98a8\u6247\u95dc\u806f\u7684\u52a0\u71b1\u5668\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4e00\u500b\u9017\u865f\u5206\u9694\u7684 # \u52a0\u71b1\u5668\u5217\u8868\uff0c\u5247\u98a8\u6247\u5c07\u6703\u5728\u4efb\u4e00\u52a0\u71b1\u5668\u88ab\u555f\u7528\u6642\u555f\u52d5\u3002 # \u9810\u8a2d\u70ba\"extruder\"\u3002 #heater_temp: 50.0 # \u98a8\u6247\u53ef\u4ee5\u88ab\u7981\u7528\u7684\u6700\u9ad8\u52a0\u71b1\u5668\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\uff09\u3002\u52a0\u71b1\u5668 # \u5fc5\u9808\u88ab\u964d\u4f4e\u5230\u8a72\u6eab\u5ea6\u4ee5\u4e0b\u98a8\u6247\u624d\u6703\u88ab\u7981\u7528\u3002 # \u9810\u8a2d\u70ba 50 \u651d\u6c0f\u5ea6\u3002 #fan_speed: 1.0 # \u7576\u76f8\u95dc\u806f\u7684\u52a0\u71b1\u5668\u6d3b\u8e8d\u6642\u8a72\u98a8\u6247\u7684\u901f\u5ea6\uff08\u57280.0\u548c1.0\u4e4b\u9593\uff09\u3002 # \u9810\u8a2d\u70ba 1.0 [controller_fan] \u00b6 \u63a7\u5236\u5668\u51b7\u537b\u98a8\u6247\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u5e36\u6709\"controller_fan\"\u5b57\u9996\u7684\u5206\u6bb5\uff09\u3002\"\u63a7\u5236\u5668\u98a8\u6247\"(Controller fan)\u662f\u4e00\u500b\u53ea\u8981\u95dc\u806f\u7684\u52a0\u71b1\u5668\u6216\u6b65\u9032\u9a45\u52d5\u7a0b\u5f0f\u8655\u65bc\u6d3b\u52d5\u72c0\u614b\u5c31\u6703\u555f\u52d5\u7684\u98a8\u6247\u3002\u98a8\u6247\u6703\u5728\u7a7a\u9591\u8d85\u6642(idle_timeout)\u540e\u505c\u6b62\uff0c\u4ee5\u78ba\u4fdd\u88ab\u76e3\u8996\u5143\u4ef6\u4e0d\u518d\u6d3b\u8e8d\u540e\u4e0d\u6703\u904e\u71b1\u3002 [controller_fan my_controller_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c3\u6578\u8acb\u898b\u300c\u98a8\u6247\u300d(fan)\u5206\u6bb5\u3002 #fan_speed: 1.0 # \u7576\u4e00\u500b\u52a0\u71b1\u5668\u6216\u6b65\u9032\u96fb\u6a5f\u6d3b\u8e8d\u6642\u7684\u98a8\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u500b0.0\u52301.0 # \u7684\u6578\u503c\u8868\u793a\uff09\u3002 # \u9810\u8a2d\u70ba 1.0\u3002 #idle_timeout: # \u5728\u6b65\u9032\u96fb\u6a5f\u6216\u52a0\u71b1\u5668\u4e0d\u518d\u6d3b\u8e8d\u540e\u98a8\u6247\u6301\u7e8c\u57f7\u884c\u7684\u6642\u9593\uff08\u4ee5\u79d2 # \u70ba\u55ae\u4f4d\uff09\u3002 # \u9810\u8a2d\u70ba 30\u79d2\u3002 #idle_speed: # \u7576\u4e00\u500b\u52a0\u71b1\u5668\u6216\u6b65\u9032\u96fb\u6a5f\u4e0d\u518d\u6d3b\u8e8d\uff0c\u4f46\u6c92\u6709\u9054\u5230\u7a7a\u9591\u8d85\u6642( # idle_timeout)\u6642\u7684\u98a8\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u500b0.0\u52301.0\u7684\u6578\u503c\u8868\u793a\uff09\u3002 # \u9810\u8a2d\u70ba fan_speed\u3002 #heater: #stepper: # \u8207\u9019\u500b\u98a8\u6247\u95dc\u806f\u7684\u52a0\u71b1\u5668/\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\u3002\u5982\u679c\u63d0 # \u4f9b\u4e00\u500b\u9017\u865f\u5206\u9694\u7684\u52a0\u71b1\u5668/\u6b65\u9032\u9a45\u52d5\u540d\u7a31\uff0c\u4efb\u610f\u4e00\u500b\u5217\u8868\u4e2d # \u7684\u88dd\u7f6e\u555f\u7528\u6642\u98a8\u6247\u5c07\u6703\u555f\u52d5\u3002 # \u9810\u8a2d\u52a0\u71b1\u5668\u662f\u300c\u64e0\u51fa\u6a5f\u300d\uff08extruder)\uff0c\u9810\u8a2d\u6b65\u9032\u9a45\u52d5\u662f\u5168\u90e8\u6b65\u9032\u9a45\u52d5\u3002 [temperature_fan] \u00b6 \u6eab\u5ea6\u89f8\u767c\u7684\u51b7\u537b\u98a8\u6247\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201ctemperature_fan\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 \u201c\u6eab\u5ea6\u98a8\u6247\u201d\u662f\u4e00\u7a2e\u98a8\u6247\uff0c\u53ea\u8981\u5176\u95dc\u806f\u7684\u50b3\u611f\u5668\u9ad8\u65bc\u8a2d\u5b9a\u6eab\u5ea6\uff0c\u5c31\u6703\u555f\u7528\u8a72\u98a8\u6247\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0ctemperature_fan \u7684 shutdown_speed \u7b49\u65bc max_power\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 command reference \u3002 [temperature_fan my_temp_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # See the \"fan\" section for a description of the above parameters. #sensor_type: #sensor_pin: #control: #max_delta: #min_temp: #max_temp: # See the \"extruder\" section for a description of the above parameters. #pid_Kp: #pid_Ki: #pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # fan_pwm = max_power - (Kp*e + Ki*integral(e) - Kd*derivative(e)) / 255 # Where \"e\" is \"target_temperature - measured_temperature\" and # \"fan_pwm\" is the requested fan rate with 0.0 being full off and # 1.0 being full on. The pid_Kp, pid_Ki, and pid_Kd parameters must # be provided when the PID control algorithm is enabled. #pid_deriv_time: 2.0 # A time value (in seconds) over which temperature measurements will # be smoothed when using the PID control algorithm. This may reduce # the impact of measurement noise. The default is 2 seconds. #target_temp: 40.0 # A temperature (in Celsius) that will be the target temperature. # The default is 40 degrees. #max_speed: 1.0 # The fan speed (expressed as a value from 0.0 to 1.0) that the fan # will be set to when the sensor temperature exceeds the set value. # The default is 1.0. #min_speed: 0.3 # The minimum fan speed (expressed as a value from 0.0 to 1.0) that # the fan will be set to for PID temperature fans. # The default is 0.3. #gcode_id: # If set, the temperature will be reported in M105 queries using the # given id. The default is to not report the temperature via M105. [fan_generic] \u00b6 \u624b\u52d5\u63a7\u5236\u7684\u98a8\u6247\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cfan_generic\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002\u624b\u52d5\u63a7\u5236\u98a8\u6247\u7684\u901f\u5ea6\u4f7f\u7528 SET_FAN_SPEED gcode \u547d\u4ee4 \u8a2d\u7f6e\u3002 [fan_generic extruder_partfan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c3\u6578\u4ecb\u7d39\u8acb\u898b\u300cfan\u300d\uff08\u98a8\u6247\uff09\u7ae0\u7bc0\u3002 LEDs \u00b6 [led] \u00b6 Support for LEDs (and LED strips) controlled via micro-controller PWM pins (one may define any number of sections with an \"led\" prefix). See the command reference for more information. [led my_led] #red_pin: #green_pin: #blue_pin: #white_pin: # The pin controlling the given LED color. At least one of the above # parameters must be provided. #cycle_time: 0.010 # The amount of time (in seconds) per PWM cycle. It is recommended # this be 10 milliseconds or greater when using software based PWM. # The default is 0.010 seconds. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. When # using hardware PWM the actual cycle time is constrained by the # implementation and may be significantly different than the # requested cycle_time. The default is False. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # Sets the initial LED color. Each value should be between 0.0 and # 1.0. The default for each color is 0. [neopixel] \u00b6 Neopixel (aka WS2812) LED support (one may define any number of sections with a \"neopixel\" prefix). See the command reference for more information. Note that the linux mcu implementation does not currently support directly connected neopixels. The current design using the Linux kernel interface does not allow this scenario because the kernel GPIO interface is not fast enough to provide the required pulse rates. [neopixel my_neopixel] pin: # The pin connected to the neopixel. This parameter must be # provided. #chain_count: # The number of Neopixel chips that are \"daisy chained\" to the # provided pin. The default is 1 (which indicates only a single # Neopixel is connected to the pin). #color_order: GRB # Set the pixel order required by the LED hardware (using a string # containing the letters R, G, B, W with W optional). Alternatively, # this may be a comma separated list of pixel orders - one for each # LED in the chain. The default is GRB. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters. [dotstar] \u00b6 Dotstar (aka APA102) LED support (one may define any number of sections with a \"dotstar\" prefix). See the command reference for more information. [dotstar my_dotstar] data_pin: # The pin connected to the data line of the dotstar. This parameter # must be provided. clock_pin: # The pin connected to the clock line of the dotstar. This parameter # must be provided. #chain_count: # See the \"neopixel\" section for information on this parameter. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 # See the \"led\" section for information on these parameters. [pca9533] \u00b6 PCA9533 LED\u652f\u63f4\u3002PCA9533 \u5728 mightyboard\u4e0a\u51fa\u73fe\u3002 [pca9533 my_pca9533] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. Use 98 for # the PCA9533/1, 99 for the PCA9533/2. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters. [pca9632] \u00b6 PCA9632 LED support. The PCA9632 is used on the FlashForge Dreamer. [pca9632 my_pca9632] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. This may be # 96, 97, 98, or 99. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #scl_pin: #sda_pin: # Alternatively, if the pca9632 is not connected to a hardware I2C # bus, then one may specify the \"clock\" (scl_pin) and \"data\" # (sda_pin) pins. The default is to use hardware I2C. #color_order: RGBW # Set the pixel order of the LED (using a string containing the # letters R, G, B, W). The default is RGBW. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters. Additional servos, buttons, and other pins \u00b6 [servo] \u00b6 \u4f3a\u670d\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201c\u4f3a\u670d\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002\u53ef\u4ee5\u4f7f\u7528 SET_SERVO g-code command \u63a7\u5236\u8235\u6a5f\u3002\u4f8b\u5982\uff1aSET_SERVO SERVO=my_servo ANGLE=180 [servo my_servo] pin: # PWM output pin controlling the servo. This parameter must be # provided. #maximum_servo_angle: 180 # The maximum angle (in degrees) that this servo can be set to. The # default is 180 degrees. #minimum_pulse_width: 0.001 # The minimum pulse width time (in seconds). This should correspond # with an angle of 0 degrees. The default is 0.001 seconds. #maximum_pulse_width: 0.002 # The maximum pulse width time (in seconds). This should correspond # with an angle of maximum_servo_angle. The default is 0.002 # seconds. #initial_angle: # Initial angle (in degrees) to set the servo to. The default is to # not send any signal at startup. #initial_pulse_width: # Initial pulse width time (in seconds) to set the servo to. (This # is only valid if initial_angle is not set.) The default is to not # send any signal at startup. [gcode_button] \u00b6 \u5728\u4e00\u500b\u6309\u9215\u88ab\u6309\u4e0b\u6216\u653e\u958b\uff08\u6216\u7576\u4e00\u500b\u5f15\u8173\u72c0\u614b\u767c\u751f\u8b8a\u5316\u6642\uff09\u6642\u57f7\u884cG\u7a0b\u5f0f\u78bc\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 QUERY_BUTTON button=my_gcode_button \u4f86\u67e5\u8a62\u6309\u9215\u7684\u72c0\u614b\u3002 [gcode_button my_gcode_button] pin: # \u9023\u7dda\u5230\u6309\u9215\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #analog_range: # \u5169\u500b\u9017\u865f\u5206\u9694\u7684\u963b\u503c(\u55ae\u4f4d\uff1a\u6b50\u59c6)\uff0c\u6307\u5b9a\u4e86\u6309\u9215\u7684\u6700\u5c0f\u548c\u6700\u5927\u96fb\u963b\u3002 # \u5982\u679c\u63d0\u4f9b\u4e86 analog_range \uff0c\u5fc5\u9808\u4f7f\u7528\u4e00\u500b\u6a21\u64ec\u529f\u80fd\u7684\u5f15\u8173\u3002\u9810\u8a2d # \u60c5\u6cc1\u4e0b\u70ba\u6309\u9215\u4f7f\u7528\u6578\u5b57GPIO\u3002 # analog_pullup_resistor: # \u7576\u5b9a\u7fa9 analog_range \u6642\u7684\u4e0a\u62c9\u96fb\u963b(\u6b50\u59c6)\u3002\u9810\u8a2d\u70ba4700\u6b50\u59c6\u3002 #press_gcode: # \u7576\u6309\u9215\u88ab\u6309\u4e0b\u6642\u8981\u57f7\u884c\u7684 G-Code \u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u63f4G-Code\u6a21\u677f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #release_gcode: # \u7576\u6309\u9215\u88ab\u91cb\u653e\u6642\u8981\u57f7\u884c\u7684G-Code\u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u63f4G-Code\u6a21\u677f\u3002 # \u9810\u8a2d\u5728\u6309\u9215\u91cb\u653e\u6642\u4e0d\u57f7\u884c\u4efb\u4f55\u547d\u4ee4\u3002 [output_pin] \u00b6 \u904b\u884c\u6642\u53ef\u914d\u7f6e\u7684\u8f38\u51fa\u5f15\u8173\uff08\u53ef\u4ee5\u4f7f\u7528\u201coutput_pin\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u6b64\u8655\u914d\u7f6e\u7684\u5f15\u8173\u5c07\u8a2d\u7f6e\u70ba\u8f38\u51fa\u5f15\u8173\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728\u904b\u884c\u6642\u4f7f\u7528\u201cSET_PIN PIN=my_pin VALUE=.1\u201d\u985e\u578b\u64f4\u5c55 g-code commands \u4fee\u6539\u5b83\u5011\u3002 [output_pin my_pin] pin: # The pin to configure as an output. This parameter must be # provided. #pwm: False # Set if the output pin should be capable of pulse-width-modulation. # If this is true, the value fields should be between 0 and 1; if it # is false the value fields should be either 0 or 1. The default is # False. #static_value: # If this is set, then the pin is assigned to this value at startup # and the pin can not be changed during runtime. A static pin uses # slightly less ram in the micro-controller. The default is to use # runtime configuration of pins. #value: # The value to initially set the pin to during MCU configuration. # The default is 0 (for low voltage). #shutdown_value: # The value to set the pin to on an MCU shutdown event. The default # is 0 (for low voltage). #maximum_mcu_duration: # The maximum duration a non-shutdown value may be driven by the MCU # without an acknowledge from the host. # If host can not keep up with an update, the MCU will shutdown # and set all pins to their respective shutdown values. # Default: 0 (disabled) # Usual values are around 5 seconds. #cycle_time: 0.100 # The amount of time (in seconds) per PWM cycle. It is recommended # this be 10 milliseconds or greater when using software based PWM. # The default is 0.100 seconds for pwm pins. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. When # using hardware PWM the actual cycle time is constrained by the # implementation and may be significantly different than the # requested cycle_time. The default is False. #scale: # This parameter can be used to alter how the 'value' and # 'shutdown_value' parameters are interpreted for pwm pins. If # provided, then the 'value' parameter should be between 0.0 and # 'scale'. This may be useful when configuring a PWM pin that # controls a stepper voltage reference. The 'scale' can be set to # the equivalent stepper amperage if the PWM were fully enabled, and # then the 'value' parameter can be specified using the desired # amperage for the stepper. The default is to not scale the 'value' # parameter. [static_digital_output] \u00b6 \u975c\u614b\u914d\u7f6e\u7684\u6578\u5b57\u8f38\u51fa\u5f15\u8173\uff08\u53ef\u4ee5\u4f7f\u7528\u201cstatic_digital_output\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u6b64\u8655\u914d\u7f6e\u7684\u5f15\u8173\u5c07\u5728 MCU \u914d\u7f6e\u671f\u9593\u8a2d\u7f6e\u70ba GPIO \u8f38\u51fa\u3002\u5b83\u5011\u4e0d\u80fd\u5728\u904b\u884c\u6642\u66f4\u6539\u3002 [static_digital_output my_output_pins] pins: # A comma separated list of pins to be set as GPIO output pins. The # pin will be set to a high level unless the pin name is prefaced # with \"!\". This parameter must be provided. [multi_pin] \u00b6 \u591a\u500b\u5f15\u8173\u8f38\u51fa\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cmulti_pin\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 multi_pin \u8f38\u51fa\u6703\u5275\u5efa\u4e00\u500b\u5167\u90e8\u5f15\u8173\u5225\u540d\uff0c\u6bcf\u6b21\u8a2d\u7f6e\u5225\u540d\u5f15\u8173\u6642\u53ef\u4ee5\u4fee\u6539\u591a\u500b\u8f38\u51fa\u5f15\u8173\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b\u5305\u542b\u5169\u500b\u5f15\u8173\u7684\u201c[multi_pin my_fan]\u201d\u5c0d\u8c61\uff0c\u7136\u5f8c\u5728\u201c[fan]\u201d\u90e8\u5206\u8a2d\u7f6e\u201cpin=multi_pin:my_fan\u201d\u2014\u2014\u5728\u6bcf\u6b21\u98a8\u6247\u66f4\u6539\u6642\uff0c\u5169\u500b\u8f38\u51fa\u5f15\u8173\u90fd\u6703\u66f4\u65b0\u3002\u9019\u4e9b\u5225\u540d\u53ef\u80fd\u4e0d\u9069\u7528\u65bc\u6b65\u9032\u96fb\u6a5f\u5f15\u8173\u3002 [multi_pin my_multi_pin] pins: # \u8207\u6b64\u5225\u540d\u95dc\u806f\u7684\u5f15\u8173\u7684\u9017\u865f\u5206\u9694\u5217\u8868\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 TMC \u6b65\u9032\u9a45\u52d5\u5668\u914d\u7f6e \u00b6 \u5728 UART/SPI \u6a21\u5f0f\u4e0b\u914d\u7f6e Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u3002\u5176\u4ed6\u4fe1\u606f\u5728 TMC Drivers guide \u548c command reference \u4e2d\u3002 [tmc2130] \u00b6 \u901a\u904e SPI \u532f\u6d41\u6392\u914d\u7f6e TMC2130 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709\u300ctmc2130\u300d\u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2130 stepper_x]\u300d\uff09\u3002 [tmc2130 stepper_x] cs_pin: # The pin corresponding to the TMC2130 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 0 #driver_TBL: 1 #driver_TOFF: 4 #driver_HEND: 7 #driver_HSTRT: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 4 #driver_PWM_AMPL: 128 #driver_SGT: 0 # Set the given register during the configuration of the TMC2130 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC2130 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc2130_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing. [tmc2208] \u00b6 \u901a\u904e\u55ae\u7dda UART \u914d\u7f6e TMC2208\uff08\u6216 TMC2224\uff09\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc2208\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2208 stepper_x]\u300d\uff09\u3002 [tmc2208 stepper_x] uart_pin: # The pin connected to the TMC2208 PDN_UART line. This parameter # must be provided. #tx_pin: # If using separate receive and transmit lines to communicate with # the driver then set uart_pin to the receive pin and tx_pin to the # transmit pin. The default is to use uart_pin for both reading and # writing. #select_pins: # A comma separated list of pins to set prior to accessing the # tmc2208 UART. This may be useful for configuring an analog mux for # UART communication. The default is to not configure any pins. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 # Set the given register during the configuration of the TMC2208 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. [tmc2209] \u00b6 \u901a\u904e\u55ae\u7dda UART \u914d\u7f6e TMC2209 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc2209\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2209 stepper_x]\u300d\uff09\u3002 [tmc2209 stepper_x] uart_pin: #tx_pin: #select_pins: #interpolate: True run_current: #hold_current: #sense_resistor: 0.110 #stealthchop_threshold: 0 # See the \"tmc2208\" section for the definition of these parameters. #uart_address: # The address of the TMC2209 chip for UART messages (an integer # between 0 and 3). This is typically used when multiple TMC2209 # chips are connected to the same UART pin. The default is zero. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 #driver_SGTHRS: 0 # Set the given register during the configuration of the TMC2209 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag_pin: # The micro-controller pin attached to the DIAG line of the TMC2209 # chip. The pin is normally prefaced with \"^\" to enable a pullup. # Setting this creates a \"tmc2209_stepper_x:virtual_endstop\" virtual # pin which may be used as the stepper's endstop_pin. Doing this # enables \"sensorless homing\". (Be sure to also set driver_SGTHRS to # an appropriate sensitivity value.) The default is to not enable # sensorless homing. [tmc2660] \u00b6 \u901a\u904e SPI \u532f\u6d41\u6392\u914d\u7f6e TMC2660 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc 2660\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2660 stepper_x]\u300d\uff09\u3002 [tmc2660 stepper_x] cs_pin: # The pin corresponding to the TMC2660 chip select line. This pin # will be set to low at the start of SPI messages and set to high # after the message transfer completes. This parameter must be # provided. #spi_speed: 4000000 # SPI bus frequency used to communicate with the TMC2660 stepper # driver. The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This only works if microsteps # is set to 16. Interpolation does introduce a small systemic # positional deviation - see TMC_Drivers.md for details. The default # is True. run_current: # The amount of current (in amps RMS) used by the driver during # stepper movement. This parameter must be provided. #sense_resistor: # The resistance (in ohms) of the motor sense resistor. This # parameter must be provided. #idle_current_percent: 100 # The percentage of the run_current the stepper driver will be # lowered to when the idle timeout expires (you need to set up the # timeout using a [idle_timeout] config section). The current will # be raised again once the stepper has to move again. Make sure to # set this to a high enough value such that the steppers do not lose # their position. There is also small delay until the current is # raised again, so take this into account when commanding fast moves # while the stepper is idling. The default is 100 (no reduction). #driver_TBL: 2 #driver_RNDTF: 0 #driver_HDEC: 0 #driver_CHM: 0 #driver_HEND: 3 #driver_HSTRT: 3 #driver_TOFF: 4 #driver_SEIMIN: 0 #driver_SEDN: 0 #driver_SEMAX: 0 #driver_SEUP: 0 #driver_SEMIN: 0 #driver_SFILT: 0 #driver_SGT: 0 #driver_SLPH: 0 #driver_SLPL: 0 #driver_DISS2G: 0 #driver_TS2G: 3 # Set the given parameter during the configuration of the TMC2660 # chip. This may be used to set custom driver parameters. The # defaults for each parameter are next to the parameter name in the # list above. See the TMC2660 datasheet about what each parameter # does and what the restrictions on parameter combinations are. Be # especially aware of the CHOPCONF register, where setting CHM to # either zero or one will lead to layout changes (the first bit of # HDEC) is interpreted as the MSB of HSTRT in this case). [tmc5160] \u00b6 \u901a\u904e SPI \u532f\u6d41\u6392\u914d\u7f6e TMC5160 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc5160\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc5160 stepper_x]\u300d\uff09\u3002 [tmc5160 stepper_x] cs_pin: # The pin corresponding to the TMC5160 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.075 # The resistance (in ohms) of the motor sense resistor. The default # is 0.075 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 6 #driver_TPOWERDOWN: 10 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 2 #driver_HSTRT: 5 #driver_FD3: 0 #driver_TPFD: 4 #driver_CHM: 0 #driver_VHIGHFS: 0 #driver_VHIGHCHM: 0 #driver_DISS2G: 0 #driver_DISS2VS: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_AUTOGRAD: True #driver_PWM_FREQ: 0 #driver_FREEWHEEL: 0 #driver_PWM_GRAD: 0 #driver_PWM_OFS: 30 #driver_PWM_REG: 4 #driver_PWM_LIM: 12 #driver_SGT: 0 #driver_SEMIN: 0 #driver_SEUP: 0 #driver_SEMAX: 0 #driver_SEDN: 0 #driver_SEIMIN: 0 #driver_SFILT: 0 # Set the given register during the configuration of the TMC5160 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC5160 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc5160_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing. \u904b\u884c\u6642\u6b65\u9032\u96fb\u6a5f\u96fb\u6d41\u914d\u7f6e \u00b6 [ad5206] \u00b6 \u901a\u904e SPI \u7e3d\u7dda\u9023\u63a5\u7684\u975c\u614b\u914d\u7f6e AD5206 \u6578\u5b57\u96fb\u4f4d\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cad5206\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 [ad5206 my_digipot] enable_pin: # \u5c0d\u61c9AD5206 \u6676\u7247\u9078\u64c7(chip select)\u7dda\u8def\u7684\u5f15\u8173\u3002\u9019\u500b\u5f15\u8173\u5c07 # \u5728 SPI \u8a0a\u606f\u958b\u59cb\u6642\u62c9\u4f4e\uff0c\u4e26\u5728\u8a0a\u606f\u7d50\u675f\u540e\u62c9\u9ad8\u3002\u5fc5\u9808\u63d0\u4f9b # \u9019\u500b\u53c3\u6578\u3002 #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4ee5\u4e0a\u53c3\u6578\u7684\u5b9a\u7fa9\u8acb\u6aa2\u8996 \"\u5e38\u898f SPI \u8a2d\u5b9a\" \u7ae0\u7bc0 #channel_1: #channel_2: #channel_3: #channel_4: #channel_5: #channel_6: # \u8a2d\u5b9aAD5206\u901a\u9053\u7684\u975c\u614b\u503c\u3002\u901a\u5e38\u57280.0\u548c1.0\u4e4b\u9593\uff0c1.0\u70ba\u6700\u9ad8 # \u96fb\u963b\uff0c\u800c0.0\u70ba\u6700\u4f4e\u96fb\u963b\u3002\u7136\u800c\uff0c\u9019\u500b\u7bc4\u570d\u4e5f\u53ef\u4ee5\u88ab \u300escale\u300f \u53c3 # \u6578\u914d\u7f6e\u3002\uff08\u898b\u4e0b\u6587\uff09\u5982\u679c\u4e00\u500b\u901a\u9053\u6c92\u6709\u53c3\u6578\u5247\u5b83\u4e0d\u6703\u88ab\u914d\u7f6e\u3002 #scale: # \u9019\u500b\u53c3\u6578\u53ef\u4ee5\u7528\u4f86\u4fee\u6539 \u300echannel_x\u300f \u53c3\u6578\u7684\u5b9a\u7fa9\u3002\u5982\u88ab\u63d0\u4f9b\uff0c # \u5247 \u300echannel_x\u300f \u7684\u7bc4\u570d\u6703\u5728 0.0 \u548c \u300escale\u300f \u4e4b\u9593\u3002\u5728 AD5206 \u88ab\u4f5c # \u70ba\u6b65\u9032\u96fb\u6a5f\u53c3\u8003\u96fb\u58d3\u6642\u53ef\u80fd\u5f88\u6709\u5e6b\u52a9\u3002\u7576AD5206\u5728\u6700\u9ad8\u96fb\u963b\u6642 # \u300escale\u300f \u53ef\u4ee5\u88ab\u8a2d\u5b9a\u70ba\u6b65\u9032\u96fb\u6a5f\u7684\u96fb\u6d41\uff0c \u7136\u5f8c \u300echannel_x\u300f \u53c3\u6578\u53ef # \u4ee5\u8a2d\u5b9a\u70ba\u6b65\u9032\u96fb\u6a5f\u7684\u671f\u671b\u96fb\u6d41\u5b89\u57f9\u3002\u9810\u8a2d\u70ba\u4e0d\u5c0d 'channel_x' \u53c3 # \u6578\u9032\u884c\u7e2e\u653e\u3002 [mcp4451] \u00b6 \u901a\u904e I2C \u7e3d\u7dda\u9023\u63a5\u7684\u975c\u614b\u914d\u7f6e MCP4451 \u6578\u5b57\u96fb\u4f4d\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cmcp4451\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 [mcp4451 my_digipot] i2c_address: # The i2c address that the chip is using on the i2c bus. This # parameter must be provided. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #wiper_0: #wiper_1: #wiper_2: #wiper_3: # The value to statically set the given MCP4451 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # If a wiper is not specified then it is left unconfigured. #scale: # This parameter can be used to alter how the 'wiper_x' parameters # are interpreted. If provided, then the 'wiper_x' parameters should # be between 0.0 and 'scale'. This may be useful when the MCP4451 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4451 were at its highest # resistance, and then the 'wiper_x' parameters can be specified # using the desired amperage value for the stepper. The default is # to not scale the 'wiper_x' parameters. [mcp4728] \u00b6 \u901a\u904e I2C \u7e3d\u7dda\u9023\u63a5\u7684\u975c\u614b\u914d\u7f6e\u7684 MCP4728 \u6578\u6a21\u8f49\u63db\u5668\uff08\u53ef\u4ee5\u4f7f\u7528\u201cmcp4728\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002 [mcp4728 my_dac] #i2c_address: 96 # The i2c address that the chip is using on the i2c bus. The default # is 96. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #channel_a: #channel_b: #channel_c: #channel_d: # The value to statically set the given MCP4728 channel to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest voltage (2.048V) and 0.0 being the lowest voltage. # However, the range may be changed with the 'scale' parameter (see # below). If a channel is not specified then it is left # unconfigured. #scale: # This parameter can be used to alter how the 'channel_x' parameters # are interpreted. If provided, then the 'channel_x' parameters # should be between 0.0 and 'scale'. This may be useful when the # MCP4728 is used to set stepper voltage references. The 'scale' can # be set to the equivalent stepper amperage if the MCP4728 were at # its highest voltage (2.048V), and then the 'channel_x' parameters # can be specified using the desired amperage value for the # stepper. The default is to not scale the 'channel_x' parameters. [mcp4018] \u00b6 \u975c\u614b\u914d\u7f6e\u7684 MCP4018 \u6578\u5b57\u96fb\u4f4d\u5668\u901a\u904e\u5169\u500b gpio\u201cbit banging\u201d\u5f15\u8173\u9023\u63a5\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cmcp4018\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 [mcp4018 my_digipot] scl_pin: # SCL \"\u6642\u9418\"\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 sda_pin: # SCL \"\u6578\u64da\"\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 wiper: # The value to statically set the given MCP4018 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # This parameter must be provided. #scale: # This parameter can be used to alter how the 'wiper' parameter is # interpreted. If provided, then the 'wiper' parameter should be # between 0.0 and 'scale'. This may be useful when the MCP4018 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4018 is at its highest # resistance, and then the 'wiper' parameter can be specified using # the desired amperage value for the stepper. The default is to not # scale the 'wiper' parameter. \u986f\u793a\u5c4f\u652f\u63f4 \u00b6 [display] \u00b6 \u652f\u6301\u9023\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684\u986f\u793a\u5c4f\u3002 [display] lcd_type: # \u4f7f\u7528\u7684 LCD \u6676\u7247\u578b\u5225\u3002\u9019\u53ef\u4ee5\u662f\u300chd44780\u300d\u3001\u300chd44780_spi\u300d\u3001 # \u300cst7920\u300d\u3001\u300cemulated_st7920\u300d\u3001\u300cuc1701\u300d\u3001\u300cssd1306\u300d\u3001\u6216\u300csh1106\u300d\u3002 # \u6709\u95dc\u4e0d\u540c\u7684LCD\u6676\u7247\u578b\u5225\u548c\u5b83\u5011\u7279\u6709\u7684\u53c3\u6578\uff0c\u8acb\u6aa2\u8996\u4e0b\u9762\u7684\u986f\u793a\u5c4f\u5206\u6bb5\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #display_group: # \u986f\u793a\u5728\u9019\u500b\u986f\u793a\u5c4f\u4e0a\u7684 display_data \u7d44\u3002\u5b83\u6c7a\u5b9a\u4e86\u9019\u500b\u87a2\u5e55\u986f\u793a # \u7684\u5167\u5bb9\uff08\u8a73\u898b\u300cdisplay_data\u300d\u5206\u6bb5\uff09\u3002 # hd44780 \u9810\u8a2d\u4f7f\u7528 _default_20x4\uff0c\u5176\u4ed6\u986f\u793a\u5c4f\u5247\u9810\u8a2d\u4f7f\u7528 _default_16x4\u3002 #menu_timeout: # \u83dc\u55ae\u8d85\u6642\u6642\u9593\u3002\u5728\u4e0d\u6d3b\u8e8d\u7d66\u5b9a\u6642\u9593\u540e\u5c07\u6703\u9000\u51fa\u83dc\u55ae\u6216\u5728 autorun \u555f\u7528\u6642 # \u56de\u5230\u6839\u83dc\u55ae\u3002 # \u9810\u8a2d\u70ba 0 \u79d2\uff08\u7981\u7528\uff09\u3002 #menu_root: # \u5728\u4e3b\u87a2\u5e55\u6309\u4e0b\u7de8\u78bc\u5668\u6642\u986f\u793a\u7684\u4e3b\u83dc\u55ae\u6bb5\u540d\u7a31\u3002 # \u9810\u8a2d\u70ba __main\uff0c\u9019\u6703\u986f\u793a\u5728 klippy/extras/display/menu.cfg\u4e2d\u5b9a\u7fa9\u7684\u4e3b\u83dc\u55ae\u3002 #menu_reverse_navigation: # \u555f\u7528\u6642\u53cd\u8f49\u4e0a\u6efe\u52d5\u548c\u4e0b\u6efe\u52d5\u3002 # \u9810\u8a2d\u70baFalse\u3002\u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\u3002 #encoder_pins: # \u9023\u7dda\u5230\u7de8\u78bc\u5668\u7684\u5f15\u8173\u3002\u4f7f\u7528\u7de8\u78bc\u5668\u6642\u5fc5\u9808\u63d0\u4f9b\u5169\u500b\u5f15\u8173\u3002 # \u4f7f\u7528\u83dc\u55ae\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #encoder_steps_per_detent: # \u7de8\u78bc\u5668\u5728\u6bcf\u4e00\u500b\u51f9\u9677\u8655\uff08\"click\"\uff09\u767c\u51fa\u591a\u5c11\u6b65\u3002\u5982\u679c\u7de8\u78bc\u5668\u9700\u8981\u8f49\u904e\u5169\u500b\u51f9 # \u9677\u624d\u80fd\u5728\u689d\u76ee\u4e4b\u9593\u79fb\u52d5\uff0c\u6216\u8005\u8f49\u904e\u4e00\u500b\u51f9\u75d5\u6703\u5728\u5169\u500b\u8a5e\u689d\u4e4b\u9593\u79fb\u52d5/\u8df3\u904e # \u4e00\u500b\u8a5e\u689d\uff0c\u53ef\u4ee5\u5617\u8a66\u6539\u8b8a\u9019\u500b\u503c\u3002 # \u5141\u8a31\u7684\u503c\u662f2 \uff08\u534a\u6b65\uff09\u6216 4\uff08\u5168\u6b65\uff09\u3002 # \u9810\u8a2d\u70ba 4\u3002 #click_pin: # \u9023\u7dda\u5230 \"enter\" \u6309\u9215\u6216\u7de8\u78bc\u5668\u6309\u58d3\u7684\u5f15\u8173\u3002 # \u4f7f\u7528\u83dc\u55ae\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_click_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #back_pin: # \u9023\u7dda\u5230\u300cback\u300d\u6309\u9215\u7684\u5f15\u8173\u3002\u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\uff0c\u83dc\u55ae\u4e0d\u9700\u8981\u9019\u500b\u6309\u9215\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_back_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #up_pin: # \u9023\u7dda\u5230\u300cup\u300d\u6309\u9215\u7684\u5f15\u8173\u3002\u5728\u4e0d\u4f7f\u7528\u7de8\u78bc\u5668\u6642\u4f7f\u7528\u83dc\u55ae\u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_up_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #down_pin: # \u9023\u7dda\u5230\u300cdown\u300d\u6309\u9215\u7684\u5f15\u8173\u3002 \u5728\u4e0d\u4f7f\u7528\u7de8\u78bc\u5668\u6642\u4f7f\u7528\u83dc\u55ae\u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_down_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #kill_pin: # \u9023\u7dda\u5230\u300ckill\u300d\u6309\u9215\u7684\u5f15\u8173\u3002 \u9019\u500b\u6309\u9215\u5c07\u6703\u89f8\u767c\u7dca\u6025\u505c\u6b62\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_kill_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #analog_pullup_resistor: 4700 # \u9023\u7dda\u5230\u6a21\u64ec\u6309\u9215\u7684\u62c9\u9ad8\u96fb\u963b\u963b\u503c(ohms) # \u9810\u8a2d\u70ba 4700 ohms\u3002 #analog_range_click_pin: # 'enter'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_back_pin: # 'back'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_up_pin: # 'up'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_down_pin: # 'down'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_kill_pin: # 'kill'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 hd44780\u986f\u793a\u5c4f \u00b6 \u6709\u95dc\u914d\u7f6e hd44780 \u986f\u793a\u5c4f\uff08\u5728\"RepRapDiscount 2004 Smart Controller\"\u578b\u5225\u986f\u793a\u5c4f\u4e2d\u53ef\u4ee5\u627e\u5230\uff09\u7684\u8cc7\u8a0a\u3002 [display] lcd_type: hd44780 # \u5c0d\u65bchd44780\u986f\u793a\u5c4f\uff0c\u586b\u5beb \"hd44780\"\u3002 rs_pin: e_pin: d4_pin: d5_pin: d6_pin: d7_pin: # \u9023\u7dda\u5230hd44780 \u985eLCD\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u4e9b\u53c3\u6578 #hd44780_protocol_init: True # \u5728\u4e00\u500b hd44780 \u986f\u793a\u5c4f\u4e0a\u57f7\u884c 8-bit/4-bit \u5354\u8b70\u521d\u59cb\u5316\u3002\u5c0d\u65bc\u6240\u6709 # \u6b63\u7248\u7684 hd44780 \u88dd\u7f6e\uff0c\u9019\u662f\u5fc5\u9808\u7684\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e9b\u514b\u9686\u7684\u88dd\u7f6e\u4e0a # \u53ef\u80fd\u9700\u8981\u7981\u7528\u3002 # \u9810\u8a2d\u70baTrue\uff08\u555f\u7528\uff09\u3002 #line_length: # \u8a2d\u5b9a hd44780 \u985eLCD \u6bcf\u884c\u986f\u793a\u7684\u5b57\u5143\u6578\u3002\u53ef\u80fd\u7684\u6578\u503c\u670920\uff08\u9810\u8a2d\uff09 # \u548c16\u3002\u884c\u6578\u88ab\u9396\u5b9a\u70ba4\u884c\u3002 ... hd44780_spi\u986f\u793a\u5c4f \u00b6 \u6709\u95dc\u914d\u7f6e hd44780_spi \u986f\u793a\u5c4f\u7684\u8cc7\u8a0a - \u901a\u904e\u786c\u9ad4\"\u79fb\u4f4d\u66ab\u5b58\u5668\"\uff08\u7528\u65bc\u57fa\u65bc mightyboard \u7684\u5370\u8868\u6a5f\uff09\u63a7\u5236\u768420x04\u986f\u793a\u5c4f\u3002 [display] lcd_type: hd44780_spi # \u5c0d\u65bchd44780_spi \u986f\u793a\u5c4f\uff0c\u8a2d\u5b9a\u70ba\u300chd44780_spi\u300d\u3002 latch_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u63a7\u5236\u986f\u793a\u5c4f\u7684\u79fb\u4f4d\u66ab\u5b58\u5668\u7684\u5f15\u8173\u3002\u7531\u65bc\u4f4d\u79fb\u66ab\u5b58\u5668\u6c92\u6709 MISO \u5f15 # \u8173\uff0c\u4f46\u662f\u8edf\u9ad4 SPI \u5be6\u73fe\u9700\u8981\u9019\u500b\u5f15\u8173\u88ab\u914d\u7f6e\uff0c # spi_software_miso_pin \u9700\u8981\u88ab\u8a2d\u5b9a\u70ba\u4e00\u500b\u5370\u8868\u6a5f\u4e3b\u677f\u4e0a\u672a\u88ab\u4f7f # \u7528\u7684\u5f15\u8173\u3002 #hd44780_protocol_init: True # \u5728 hd44780 \u986f\u793a\u5c4f\u4e0a\u57f7\u884c 8-bit/4-bit \u5354\u8b70\u521d\u59cb\u5316\u3002\u6b63\u7248\u7684 # hd44780 \u88dd\u7f6e\u5fc5\u9808\u57f7\u884c\u6b64\u64cd\u4f5c\uff0c\u4f46\u662f\u67d0\u4e9b\u514b\u9686\u88dd\u7f6e\u4e0a\u53ef\u80fd\u9700\u8981 # \u7981\u7528\u3002 # \u9810\u8a2d\u70baTrue\uff08\u555f\u7528\uff09\u3002 #line_length: # \u8a2d\u5b9a\u4e00\u500b hd44780 \u985e LCD \u6bcf\u884c\u986f\u793a\u7684\u5b57\u5143\u6578\u91cf\u3002\u53ef\u80fd\u7684\u503c\u70ba20 # \uff08\u9810\u8a2d\uff09\u548c 16\u3002\u884c\u6578\u56fa\u5b9a\u70ba4\u3002 ... st7920 \u986f\u793a\u5c4f \u00b6 \u6709\u95dc\u914d\u7f6e st7920 \u985e\u986f\u793a\u5c4f\u7684\u8cc7\u8a0a\uff08\u53ef\u7528\u65bc \"RepRapDiscount 12864 Full Graphic Smart Controller\" \u578b\u5225\u7684\u986f\u793a\u5c4f\uff09\u3002 [display] lcd_type: st7920 # \u70bast7920\u986f\u793a\u5c4f\u8a2d\u5b9a\u70ba \"st7920\"\u3002 cs_pin: sclk_pin: sid_pin: # \u9023\u7dda\u5230 st7920 \u985eLCD\u7684\u5f15\u8173\u3002 # \u9019\u4e9b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 ... emulated_st7920\uff08\u6a21\u64ecST7920\uff09\u986f\u793a\u5c4f \u00b6 \u6709\u95dc\u914d\u7f6e\u6a21\u64ec st7920 \u986f\u793a\u5c4f\u7684\u8cc7\u8a0a \u2014\u5b83\u53ef\u4ee5\u5728\u4e00\u4e9b\"2.4 \u5bf8\u89f8\u63a7\u5f0f\u87a2\u5e55\"\u548c\u5176\u4ed6\u985e\u4f3c\u88dd\u7f6e\u4e2d\u627e\u5230\u3002 [display] lcd_type: emulated_st7920 # \u5c0d\u65bc emulated_st7920 \u986f\u793a\u5c4f\uff0c\u8a2d\u5b9a\u70ba\"emulated_st7920\"\u3002 en_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u9023\u7dda\u5230 emulated_st7920 \u985eLCD\u7684\u5f15\u8173\u3002 en_pin \u5c0d\u61c9 # st7920 \u985eLCD\u7684 cs_pin\u3002spi_software_sclk_pin \u5c0d\u61c9 sclk_pin\uff0c # \u9084\u6709 spi_software_mosi_pin \u5c0d\u61c9 sid_pin\u3002\u7531\u65bc\u8edf\u9ad4SPI\u5be6\u73fe # \u7684\u65b9\u5f0f\uff0c\u96d6\u7136 ST7920 \u4e0d\u4f7f\u7528 MISO \u5f15\u8173\uff0c \u4f9d\u820a\u9700\u8981\u5c07 # spi_software_miso_pin\u8a2d\u70ba\u4e00\u500b\u5370\u8868\u6a5f\u63a7\u5236\u677f\u4e0a\u4e00\u500b\u6c92\u6709\u88ab # \u4f7f\u7528\u7684\u5f15\u8173\u3002 ... uc1701\u986f\u793a\u5c4f \u00b6 \u6709\u95dc\u914d\u7f6e uc1701 \u986f\u793a\u5c4f\u7684\u8cc7\u8a0a\uff08\u7528\u65bc\u300cMKS Mini 12864\u300d\u578b\u986f\u793a\u5c4f\uff09\u3002 [display] lcd_type: uc1701 # uc1701 \u986f\u793a\u5c4f\u61c9\u8a2d\u70ba\"uc1701\"\u3002 cs_pin: a0_pin: # \u9023\u7dda\u5230 uc1701 \u985eLCD\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u4e9b\u53c3\u6578\u3002 #rst_pin: # \u9023\u7dda\u5230 LCD \"rst\" \u7684\u5f15\u8173\u3002 \u5982\u679c\u6c92\u6709\u5b9a\u7fa9\uff0c\u5247\u786c\u9ad4\u5fc5\u9808\u5728LCD # \u76f8\u61c9\u7684\u7dda\u8def\u4e0a\u5e36\u4e00\u500bLCD\u5f15\u8173\u3002 #contrast: # \u986f\u793a\u5c4f\u7684\u5c0d\u6bd4\u5ea6\u3002\u5fc5\u9808\u57280\u548c63\u4e4b\u9593\u3002 # \u9810\u8a2d\u70ba40\u3002 ... ssd1306 \u548c sh1106 \u986f\u793a\u5c4f \u00b6 ssd1306 \u548c sh1106 \u986f\u793a\u5c4f\u7684\u914d\u7f6e\u8cc7\u8a0a. [display] lcd_type: # \u5c0d\u65bc\u7d66\u5b9a\u7684\u986f\u793a\u5c4f\u578b\u5225\uff0c\u8a2d\u5b9a\u70ba \u300cssd1306\" \u6216 \"sh1106\"\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u9023\u7dda\u5230I2C\u532f\u6d41\u6392\u7684\u986f\u793a\u5c4f\u7684\u53ef\u9078\u53c3\u6578\uff0c \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u901a # \u7528 I2C \u8a2d\u5b9a\u7ae0\u7bc0\u3002 #cs_pin: #dc_pin: #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4f7f\u75284\u7dda SPI \u6a21\u5f0f\u6642\u9023\u7dda\u5230 lcd \u7684\u5f15\u8173\u3002\u4ee5 \"spi_\" \u958b\u982d\u7684 # \u53c3\u6578\u8a73\u898b \u300c\u901a\u7528 SPI \u8a2d\u5b9a\u300d \u7ae0\u7bc0\u3002 # \u986f\u793a\u5c4f\u9810\u8a2d\u4f7f\u7528 I2C \u6a21\u5f0f #reset_pin: # \u53ef\u4ee5\u6307\u5b9a\u4e00\u500b\u986f\u793a\u5c4f\u4e0a\u7684\u91cd\u7f6e\u5f15\u8173\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u786c\u9ad4 # \u5fc5\u9808\u5728\u76f8\u61c9\u7684 lcd \u7dda\u8def\u4e0a\u6709\u4e00\u500b\u62c9\u9ad8\u96fb\u963b\u3002 #contrast: # \u53ef\u8a2d\u5b9a\u7684\u5c0d\u6bd4\u5ea6\u3002 # \u6578\u503c\u5fc5\u9808\u5728 0 \u548c 256 \u4e4b\u9593\uff0c\u9810\u8a2d\u70ba 239\u3002 #vcomh: 0 # \u8a2d\u5b9a\u986f\u793a\u5c4f\u7684 Vcomh \u503c\u3002\u9019\u500b\u503c\u8207\u4e00\u4e9bOLED\u986f\u793a\u5c4f\u7684 # \u6a21\u7cca\u6548\u679c\u6709\u95dc\u3002\u9019\u500b\u6578\u503c\u53ef\u4ee5\u5728 0 \u548c 63 \u4e4b\u9593\u3002 # \u9810\u8a2d\u70ba0\u3002 #invert: False # TRUE \u53ef\u4ee5\u5728\u4e00\u4e9bOLED\u986f\u793a\u5c4f\u4e0a\u53cd\u8f49\u756b\u7d20 # \u9810\u8a2d\u70ba False\u3002 #x_offset: 0 # \u8a2d\u5b9a\u5728 SH1106 \u986f\u793a\u5c4f\u4e0a\u7684\u6c34\u5e73\u504f\u79fb\u3002 # \u9810\u8a2d\u70ba0\u3002 ... [display_data] \u00b6 \u652f\u6301\u5728\u6db2\u6676\u5c4f\u4e0a\u986f\u793a\u81ea\u5b9a\u7fa9\u6578\u64da\u3002\u53ef\u4ee5\u5728\u9019\u4e9b\u7d44\u4e0b\u5275\u5efa\u4efb\u610f\u6578\u91cf\u7684\u986f\u793a\u7d44\u548c\u4efb\u610f\u6578\u91cf\u7684\u6578\u64da\u9805\u3002\u5982\u679c [display] \u90e8\u5206\u4e2d\u7684 display_group \u9078\u9805\u8a2d\u7f6e\u70ba\u7d66\u5b9a\u7d44\u540d\u7a31\uff0c\u5247\u986f\u793a\u5c07\u986f\u793a\u7d66\u5b9a\u7d44\u7684\u6240\u6709\u6578\u64da\u9805\u3002 \u4e00\u5957 \u9810\u8a2d\u986f\u793a\u7d44 \u5c07\u88ab\u81ea\u52d5\u5efa\u7acb\u3002\u901a\u904e\u8986\u84cb\u5370\u8868\u6a5f\u7684 printer.cfg \u4e3b\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u9810\u8a2d\u503c\u53ef\u4ee5\u66ff\u63db\u6216\u64f4\u5145\u5957\u4ef6\u9019\u4e9b display_data \u9805\u3002 [display_data my_group_name my_data_name] position: # \u7528\u65bc\u986f\u793a\u8cc7\u8a0a\u7684\u87a2\u5e55\u4f4d\u7f6e\uff0c\u7531\u9017\u865f\u5206\u9694\u884c\u8207\u5217\u8868\u793a\u3002 # \u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 text: # \u5728\u6307\u5b9a\u4f4d\u7f6e\u986f\u793a\u7684\u6587\u5b57\u3002\u672c\u6b04\u4f4d\u5fc5\u9808\u7528\u547d\u4ee4\u6a23\u677f\u9032\u884c\u8a55\u4f30\u3002 # \uff08\u6aa2\u8996 docs/Command_Templates.md\uff09\u3002 # \u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 [display_template] \u00b6 Display data text \"macros\" (one may define any number of sections with a display_template prefix). See the command templates document for information on template evaluation. This feature allows one to reduce repetitive definitions in display_data sections. One may use the builtin render() function in display_data sections to evaluate a template. For example, if one were to define [display_template my_template] then one could use { render('my_template') } in a display_data section. This feature can also be used for continuous LED updates using the SET_LED_TEMPLATE command. [display_template my_template_name] #param_<name>: # One may specify any number of options with a \"param_\" prefix. The # given name will be assigned the given value (parsed as a Python # literal) and will be available during macro expansion. If the # parameter is passed in the call to render() then that value will # be used during macro expansion. For example, a config with # \"param_speed = 75\" might have a caller with # \"render('my_template_name', param_speed=80)\". Parameter names may # not use upper case characters. text: # The text to return when the this template is rendered. This field # is evaluated using command templates (see # docs/Command_Templates.md). This parameter must be provided. [display_glyph] \u00b6 \u5728\u652f\u63f4\u81ea\u5b9a\u7fa9\u5b57\u5f62\u7684\u986f\u793a\u5c4f\u4e0a\u986f\u793a\u4e00\u500b\u81ea\u5b9a\u7fa9\u5b57\u5f62\u3002\u7d66\u5b9a\u7684\u540d\u7a31\u5c07\u88ab\u5206\u914d\u7d66\u7d66\u5b9a\u7684\u986f\u793a\u6578\u64da\uff0c\u7136\u5f8c\u53ef\u4ee5\u5728\u986f\u793a\u6a21\u677f\u4e2d\u901a\u904e\u7528\u300c\u6ce2\u6d6a\u5f62\uff08\uff5e\uff09\u300d\u7b26\u865f\u5305\u570d\u7684\u540d\u7a31\u4f86\u5f15\u7528\uff0c\u5373 ~my_display_glyph~ \u6709\u95dc\u4e00\u4e9b\u793a\u4f8b\uff0c\u8acb\u53c3\u95b1 sample-glyphs.cfg \u3002 [display_glyph my_display_glyph] #data: # \u88ab\u5132\u5b58\u70ba16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\uff081\u4f4d\u4ee3\u88681\u500b\u756b\u7d20\uff09\u7684\u986f\u793a\u6578\u64da\u3002\u300c.\u300d\u662f\u4e00\u500b # \u7a7a\u767d\u7684\u756b\u7d20\uff0c\u800c\u300e*\u300f\u662f\u4e00\u500b\u958b\u555f\u7684\u756b\u7d20\uff08\u4f8b\u5982\uff0c\"****************\" # \u53ef\u4ee5\u7528\u4f86\u986f\u793a\u4e00\u689d\u6a6b\u5411\u7684\u5be6\u7dda\u3002\u9664\u6b64\u4ee5\u5916\uff0c\u4e5f\u53ef\u4ee5\u7528\u300c0\u300d\u4f5c\u70ba\u7a7a # \u767d\u7684\u756b\u7d20\uff0c\u800c\u300e1\u300f\u4f5c\u70ba\u958b\u555f\u7684\u756b\u7d20\u3002\u9700\u8981\u5c07\u6bcf\u500b\u986f\u793a\u7684\u884c\u653e\u5230\u914d\u7f6e\u6a94\u6848 # \u4e2d\u7368\u7acb\u7684\u4e00\u884c\u3002\u6bcf\u500b\u5b57\u5f62\u90fd\u5fc5\u9808\u5305\u542b\u4e14\u50c5\u5305\u542b 16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\u3002 # \u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\u3002 #hd44780_data: # \u7528\u65bc 20x4 hd44780 \u986f\u793a\u5c4f\u7684\u5b57\u5f62\u3002\u5b57\u5f62\u5fc5\u9808\u5305\u542b\u4e14\u50c5\u5305\u542b 8 \u884c\uff0c # \u6bcf\u884c 5 \u4f4d\u3002 # \u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\u3002 #hd44780_slot: # \u7528\u65bc\u5132\u5b58\u5b57\u5f62\u7684 hd44780 \u786c\u9ad4\u7d22\u5f15\uff080..7\uff09\u3002\u5982\u679c\u591a\u500b\u7368\u7279\u7684\u5716\u7247\u4f7f\u7528 # \u4e86\u76f8\u540c\u7684\u7d22\u5f15\u4f4d\u7f6e\uff0c\u9700\u8981\u4fdd\u8b49\u5728\u4efb\u4f55\u87a2\u5e55\u4e0a\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u500b\u5716\u7247\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 hd44780_data \uff0c\u5247\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 [display my_extra_display] \u00b6 \u5982\u679c\u5982\u4e0a\u6240\u793a\u5728 printer.cfg \u4e2d\u5b9a\u7fa9\u4e86\u4e3b\u8981\u7684 [display] \u5206\u6bb5\uff0c\u9084\u53ef\u4ee5\u5b9a\u7fa9\u591a\u500b\u8f14\u52a9\u986f\u793a\u5c4f\u3002\u6ce8\u610f\uff0c\u8f14\u52a9\u986f\u793a\u5c4f\u76ee\u524d\u4e0d\u652f\u63f4\u83dc\u55ae\u529f\u80fd\uff0c\u56e0\u6b64\u5b83\u5011\u4e0d\u652f\u63f4\u300cmenu\u300d\u9078\u9805\u6216\u6309\u9215\u914d\u7f6e\u3002 [display my_extra_display] \u3002 # \u53ef\u7528\u53c3\u6578\u53c3\u898b \"\u986f\u793a \"\u5206\u6bb5\u3002 [menu] \u00b6 \u53ef\u81ea\u5b9a\u7fa9\u6db2\u6676\u986f\u793a\u5c4f\u83dc\u55ae\u3002 \u4e00\u5957 \u9810\u8a2d\u83dc\u55ae \u5c07\u88ab\u81ea\u52d5\u5efa\u7acb\u3002\u901a\u904e\u8986\u84cb printer.cfg \u4e3b\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u9810\u8a2d\u503c\u53ef\u4ee5\u66ff\u63db\u6216\u64f4\u5145\u5957\u4ef6\u8a72\u83dc\u55ae\u3002 \u6709\u95dc\u6a21\u677f\u5448\u73fe\u671f\u9593\u53ef\u7528\u7684\u83dc\u55ae\u5c6c\u6027\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 command template document \u3002 # \u6240\u6709\u7684\u83dc\u55ae\u914d\u7f6e\u5206\u6bb5\u90fd\u6709\u7684\u901a\u7528\u53c3\u6578\u3002 #[menu __some_list __some_name] #type: disabled # \u6c38\u4e45\u7981\u7528\u9019\u500b\u83dc\u55ae\u5143\u7d20\uff0c\u552f\u4e00\u9700\u8981\u7684\u5c6c\u6027\u662f \"\u578b\u5225\"\u3002 # \u5141\u8a31\u4f60\u7c21\u55ae\u554a\u7684\u7981\u7528/\u96b1\u85cf\u73fe\u6709\u7684\u83dc\u55ae\u5c08\u6848\u3002 #[menu some_name] #type: # command\uff08\u547d\u4ee4\uff09, input\uff08\u8f38\u5165\uff09, list\uff08\u5217\u8868\uff09, text\uff08\u6587\u5b57\uff09\u4e4b\u4e00\uff1a # command - \u53ef\u4ee5\u89f8\u767c\u5404\u7a2e\u6307\u4ee4\u78bc\u7684\u57fa\u672c\u83dc\u55ae\u5143\u7d20\u3002 # input - \u985e\u4f3c \u300ccommand\u300d \u4f46\u662f\u53ef\u4ee5\u4fee\u6539\u6578\u503c\u3002 # \u9ede\u9078\u4f86\u9032\u5165/\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002 # list - \u9019\u5141\u8a31\u83dc\u55ae\u9805\u88ab\u7d44\u7e54\u6210\u4e00\u500b\u53ef\u6efe\u52d5\u7684\u5217\u8868\u3002\u901a\u904e\u5efa\u7acb\u7531 \"some_list\" # \u958b\u982d\u7684\u83dc\u55ae\u914d\u7f6e - \u4f8b\u5982\uff1a[menu some_list some_item_in_the_list] # vsdlist - \u548c\u300clist\u300d\u4e00\u6a23\uff0c\u4f46\u662f\u6703\u81ea\u52d5\u5f9e\u865b\u64ecSD\u5361\u4e2d\u65b0\u589e\u6a94\u6848\u3002 # \uff08\u5c07\u5728\u672a\u4f86\u88ab\u79fb\u9664\uff09 #name: # \u83dc\u55ae\u9805\u7684\u540d\u7a31 - \u88ab\u8996\u70ba\u6a21\u677f #enable: # \u8996\u70ba True \u6216 False \u7684\u6a21\u677f\u3002 #index: # \u5c08\u6848\u63d2\u5165\u5230\u5217\u8868\u7684\u4f4d\u7f6e\u3002 # \u9810\u8a2d\u65b0\u589e\u5230\u7d50\u5c3e\u3002 #[menu some_list] #type: list #name: #enable: # \u898b\u4e0a\u6587\u5c0d\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #[menu some_list some_command] #type: command #name: #enable: # \u898b\u4e0a\u6587\u5c0d\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #gcode: # \u9ede\u9078\u6309\u9215\u6216\u9577\u6309\u6642\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u6307\u4ee4\u78bc\u3002\u88ab\u8996\u70ba\u6a21\u677f\u3002 #[menu some_list some_input] #type: input #name: #enable: # \u898b\u4e0a\u6587\u5c0d\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #input: # \u7528\u65bc\u4fee\u6539\u7684\u521d\u59cb\u6578\u503c - \u88ab\u8996\u70ba\u6a21\u677f\u3002 # \u7d50\u679c\u5fc5\u9808\u70ba\u6d6e\u9ede\u6578\u3002 #input_min: # \u7bc4\u570d\u7684\u6700\u5c0f\u503c - \u88ab\u8996\u70ba\u6a21\u677f\u3002\u9810\u8a2d-99999\u3002 #input_max: # \u7bc4\u570d\u7684\u6700\u5927\u503c - \u88ab\u8996\u70ba\u6a21\u677f\u3002 \u9810\u8a2d-99999\u3002 #input_step: # \u4fee\u6539\u7684\u6b65\u9577 - \u5fc5\u9808\u662f\u4e00\u500b\u6b63\u6574\u6578\u6216\u6d6e\u9ede\u6578\u3002\u5b83\u6709\u5167\u5efa\u5feb\u9032 # \u6b65\u9577\u3002\u7576\"(input_max - input_min) / # input_step > 100\" \u6642\uff0c\u5feb\u9032\u6b65\u9577\u662f 10 * input_step\uff0c \u5426\u5247 # \u6b65\u9577\u548c input_step \u76f8\u540c\u3002 #realtime: # \u6b64\u5c6c\u6027\u63a5\u53d7\u975c\u614b\u5e03\u723e\u503c\u3002 \u5728\u555f\u7528\u6642\uff0cG\u7a0b\u5f0f\u78bc\u6307\u4ee4\u78bc\u5c07\u6703\u5728\u6bcf # \u6b21\u6578\u503c\u8b8a\u5316\u6642\u57f7\u884c\u3002 # \u9810\u8a2d\u70baFalse\uff08\u5426\uff09\u3002 #gcode: # \u9ede\u9078\u6309\u9215\u3001\u9577\u6309\u6216\u6578\u503c\u8b8a\u5316\u6642\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u6307\u4ee4\u78bc\u3002 # \u88ab\u8996\u70ba\u6a21\u677f\u3002\u9ede\u9078\u6309\u9215\u6703\u9032\u5165\u6216\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002 \u8017\u6750\u611f\u6e2c\u5668 \u00b6 [filament_switch_sensor] \u00b6 \u8017\u6750\u958b\u95dc\u611f\u6e2c\u5668\u3002\u652f\u63f4\u4f7f\u7528\u958b\u95dc\u611f\u6e2c\u5668\uff08\u5982\u9650\u4f4d\u958b\u95dc\uff09\u9032\u884c\u8017\u6750\u63d2\u5165\u548c\u8017\u76e1\u6aa2\u6e2c\u3002 \u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [filament_switch_sensor my_sensor]\u3002 #pause_on_runout: True # \u7576\u8a2d\u5b9a\u70ba \"True \"\u6642\uff0c\u6703\u5728\u6aa2\u6e2c\u5230\u8017\u76e1\u540e\u7acb\u5373\u66ab\u505c\u5370\u8868\u6a5f\u3002 # \u8acb\u6ce8\u610f, \u5982\u679c pause_on_runout \u70ba False \u4e26\u4e14\u6c92\u6709\u5b9a\u7fa9\u3002 # runout_gcode\u7684\u8a71, \u8017\u76e1\u6aa2\u6e2c\u5c07\u88ab\u7981\u7528\u3002 # \u9810\u8a2d\u70ba True\u3002 #runout_gcode: # \u5728\u6aa2\u6e2c\u5230\u8017\u6750\u8017\u76e1\u5f8c\u6703\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u5217\u8868\u3002 # \u6709\u95dcG-Code \u683c\u5f0f\u8acb\u898b docs/Command_Templates.md\u3002 # \u5982\u679c pause_on_runout \u88ab\u8a2d\u5b9a\u70ba True\uff0c\u9019\u500bG-Code\u5c07\u5728 # \u66ab\u505c\u540e\u57f7\u884c\u3002 # \u9810\u8a2d\u60c5\u6cc1\u662f\u4e0d\u57f7\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\u3002 #insert_gcode: # \u5728\u6aa2\u6e2c\u5230\u8017\u6750\u63d2\u5165\u5f8c\u6703\u57f7\u884c\u7684 G-Code \u547d\u4ee4\u5217\u8868\u3002 # \u95dc\u65bcG\u7a0b\u5f0f\u78bc\u683c\u5f0f\uff0c\u8acb\u53c3\u898b docs/Command_Templates.md\u3002 # \u9810\u8a2d\u4e0d\u57f7\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\uff0c\u9019\u5c07\u7981\u7528\u8017\u6750\u63d2\u5165\u6aa2\u6e2c\u3002 #event_delay: 3.0 # \u4e8b\u4ef6\u4e4b\u9593\u7684\u6700\u5c0f\u5ef6\u9072\u6642\u9593\uff08\u79d2\uff09\u3002 # \u5728\u9019\u500b\u6642\u9593\u6bb5\u5167\u89f8\u767c\u7684\u4e8b\u4ef6\u5c07\u88ab\u9ed8\u8a31\u5ffd\u7565\u3002 # \u9810\u8a2d\u70ba3\u79d2\u3002 #pause_delay: 0.5 # \u66ab\u505c\u547d\u4ee4\u548c\u57f7\u884c runout_gcode \u4e4b\u9593\u7684\u5ef6\u9072\u6642\u9593, \u55ae\u4f4d\u662f\u79d2\u3002 # \u5982\u679c\u5728OctoPrint\u7684\u60c5\u6cc1\u4e0b\uff0c\u589e\u52a0\u9019\u500b\u5ef6\u9072\u53ef\u80fd\u6539\u5584\u66ab # \u505c\u7684\u53ef\u9760\u6027\u3002\u5982\u679cOctoPrint\u8868\u73fe\u51fa\u5947\u602a\u7684\u66ab\u505c\u884c\u70ba\uff0c # \u8003\u616e\u589e\u52a0\u9019\u500b\u5ef6\u9072\u3002 # \u9810\u8a2d\u70ba0.5\u79d2\u3002 #switch_pin: # \u9023\u7dda\u5230\u6aa2\u6e2c\u958b\u95dc\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 [filament_motion_sensor] \u00b6 \u8017\u6750\u79fb\u52d5\u611f\u6e2c\u5668\u3002\u4f7f\u7528\u4e00\u500b\u5728\u8017\u6750\u901a\u904e\u611f\u6e2c\u5668\u6642\u8f38\u51fa\u5f15\u8173\u72c0\u614b\u6703\u767c\u751f\u8b8a\u5316\u4f86\u6aa2\u6e2c\u8017\u6750\u63d2\u5165\u548c\u8017\u76e1\u3002 \u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [filament_motion_sensor my_sensor] detection_length: 7.0 # \u89f8\u767c\u611f\u6e2c\u5668 switch_pin \u5f15\u8173\u72c0\u614b\u8b8a\u5316\u7684\u6700\u5c0f\u8ddd\u96e2\u3002 # \u9810\u8a2d\u70ba 7 mm\u3002 extruder: # \u8a72\u611f\u6e2c\u5668\u76f8\u95dc\u806f\u7684\u64e0\u51fa\u6a5f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 switch_pin: #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cfilament_switch_sensor\u300d\u7ae0\u7bc0\u3002 [tsl1401cl_filament_width_sensor] \u00b6 \u57fa\u65bc TSLl401CL \u7684\u5370\u7d72\u5bec\u5ea6\u50b3\u611f\u5668\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 guide \u3002 [tsl1401cl_filament_width_sensor] #pin: #default_nominal_filament_diameter: 1.75 # (mm) # Maximum allowed filament diameter difference as mm. #max_difference: 0.2 # The distance from sensor to the melting chamber as mm. #measurement_delay: 100 [hall_filament_width_sensor] \u00b6 \u970d\u723e\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\uff08\u8a73\u898b \u970d\u723e\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668 \uff09\u3002 [hall_filament_width_sensor] adc1: adc2: # \u9023\u7dda\u5230\u611f\u6e2c\u5668\u7684\u6a21\u64ec\u8f38\u5165\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u4e9b\u53c3\u6578\u3002 #cal_dia1: 1.50 #cal_dia2: 2.00 # \u611f\u6e2c\u5668\u7684\u6821\u6e96\u503c\uff08\u55ae\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 # \u9810\u8a2d cal_dia1 \u70ba1.50\uff0ccal_dia2 \u70ba 2.00\u3002 #raw_dia1: 9500 #raw_dia2: 10500 # \u611f\u6e2c\u5668\u7684\u539f\u59cb\u6821\u6e96\u503c\u3002\u9810\u8a2draw_dial1 \u70ba 9500 # \u800c raw_dia2 \u70ba 10500\u3002 #default_nominal_filament_diameter: 1.75 # \u6a19\u7a31\u8017\u6750\u76f4\u5f91\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #max_difference: 0.200 # \u5141\u8a31\u7684\u8017\u6750\u6700\u5927\u76f4\u5f91\u5dee\u7570\uff0c\u55ae\u4f4d\u662f\u6beb\u7c73\uff08mm\uff09\u3002 # \u5982\u679c\u8017\u6750\u6a19\u7a31\u76f4\u5f91\u548c\u611f\u6e2c\u5668\u8f38\u51fa\u4e4b\u9593\u7684\u5dee\u7570 # \u8d85\u904e\u6b63\u8ca0 max_difference\uff0c\u64e0\u51fa\u500d\u6578\u5c07\u88ab\u8a2d\u56de # \u5230100%\u3002 # \u9810\u8a2d\u70ba0.200\u3002 #measurement_delay: 70 # \u5f9e\u611f\u6e2c\u5668\u5230\u7194\u8154/\u71b1\u7aef\u7684\u8ddd\u96e2\uff0c\u55ae\u4f4d\u662f\u6beb\u7c73 (mm)\u3002 # \u611f\u6e2c\u5668\u548c\u71b1\u7aef\u4e4b\u9593\u7684\u8017\u6750\u5c07\u88ab\u8996\u70ba\u6a19\u7a31\u76f4\u5f91\u3002\u4e3b\u6a5f # \u6a21\u7d44\u63a1\u7528\u5148\u9032\u5148\u51fa\u7684\u908f\u8f2f\u5de5\u4f5c\u3002\u5b83\u5c07\u6bcf\u500b\u611f\u6e2c\u5668\u7684\u503c\u548c # \u4f4d\u7f6e\u5728\u4e00\u500b\u9663\u5217\u4e2d\uff0c\u4e26\u6703\u5728\u6b63\u78ba\u7684\u4f4d\u7f6e\u4f7f\u7528\u611f\u6e2c\u5668\u503c\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 #enable:False # \u611f\u6e2c\u5668\u5728\u958b\u6a5f\u540e\u555f\u7528\u6216\u7981\u7528\u3002 # \u9810\u8a2d\u662f False\u3002 #measurement_interval: 10 # \u611f\u6e2c\u5668\u8b80\u6578\u4e4b\u9593\u7684\u8fd1\u4f3c\u8ddd\u96e2(mm)\u3002 # \u9810\u8a2d\u70ba10mm\u3002 #logging:False # \u8f38\u51fa\u76f4\u5f91\u5230\u7d42\u7aef\u548c klipper.log\uff0c\u53ef\u4ee5\u901a\u904e\u547d\u4ee4\u555f\u7528\u6216\u7981\u7528\u3002 #min_diameter: 1.0 # \u89f8\u767c\u865b\u64ec filament_switch_sensor \u7684\u6700\u5c0f\u76f4\u5f91\u3002 #use_current_dia_while_delay: False # \u5728\u672a\u88ab\u6e2c\u91cf\u7684 measurement_delay \u90e8\u5206\u8017\u6750\u4f7f\u7528\u76ee\u524d\u8017\u6750 # \u611f\u6e2c\u5668\u5831\u544a\u7684\u76f4\u5f91\u800c\u4e0d\u662f\u6a19\u7a31\u76f4\u5f91\u3002 #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u95dc\u65bc\u4e0a\u8ff0\u53c3\u6578\u7684\u63cf\u8ff0\u8acb\u53c3\u898b\"filament_switch_sensor\"\u7ae0\u7bc0\u3002 \u63a7\u5236\u677f\u7279\u5b9a\u786c\u9ad4\u652f\u63f4 \u00b6 [sx1509] \u00b6 \u5c07\u4e00\u500b SX1509 I2C \u914d\u7f6e\u70ba GPIO \u64f4\u5145\u5957\u4ef6\u5668\u3002\u7531\u65bc I2C \u901a\u8a0a\u672c\u8eab\u7684\u5ef6\u9072\uff0c\u4e0d\u61c9\u5c07 SX1509 \u5f15\u8173\u7528\u4f5c\u6b65\u9032\u96fb\u6a5f\u7684 enable \uff08\u555f\u7528)\u3001step\uff08\u6b65\u9032\uff09\u6216 dir \uff08\u65b9\u5411\uff09\u5f15\u8173\u6216\u4efb\u4f55\u5176\u4ed6\u9700\u8981\u5feb\u901f bit-banging\uff08\u4f4d\u62c6\u88c2\uff09\u7684\u5f15\u8173\u3002\u5b83\u5011\u6700\u9069\u5408\u7528\u4f5c\u975c\u614b\u6216G\u7a0b\u5f0f\u78bc\u63a7\u5236\u7684\u6578\u5b57\u8f38\u51fa\u6216\u786c\u9ad4 pwm \u5f15\u8173\uff0c\u4f8b\u5982\u98a8\u6247\u3002\u53ef\u4ee5\u4f7f\u7528\u300csx1509\u300d\u5b57\u9996\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5206\u6bb5\u3002\u6bcf\u500b\u64f4\u5145\u5957\u4ef6\u5668\u63d0\u4f9b\u53ef\u7528\u65bc\u5370\u8868\u6a5f\u914d\u7f6e\u7684\u4e00\u7d44 16 \u500b\u5f15\u8173\uff08sx1509_my_sx1509:PIN_0 \u5230 sx1509_my_sx1509:PIN_15\uff09\u3002 \u6709\u95dc\u793a\u4f8b\uff0c\u8acb\u53c3\u898b generic-duet2-duex.cfg \u6587\u4ef6\u3002 [sx1509 my_sx1509] i2c_\u5730\u5740\uff1a # \u6b64\u64f4\u5c55\u5668\u4f7f\u7528\u7684 I2C \u5730\u5740\u3002\u53d6\u6c7a\u65bc\u786c\u4ef6 # \u8df3\u7dda \u9019\u662f\u4ee5\u4e0b\u5730\u5740\u4e4b\u4e00\uff1a62 63 112 # 113. \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #i2c_mcu: #i2c_bus\uff1a #i2c_speed: # \u8acb\u53c3\u95b1\u201c\u5e38\u7528 I2C \u8a2d\u7f6e\u201d\u90e8\u5206\u4e86\u89e3 # \u4ee5\u4e0a\u53c3\u6578\u3002 #i2c_bus\uff1a # \u5982\u679c\u4f60\u7684\u5fae\u63a7\u5236\u5668\u7684 I2C \u5be6\u73fe\u652f\u6301 # \u591a\u500b I2C \u7e3d\u7dda\uff0c\u60a8\u53ef\u4ee5\u5728\u6b64\u8655\u6307\u5b9a\u7e3d\u7dda\u540d\u7a31\u3002\u9019 # \u9ed8\u8a8d\u662f\u4f7f\u7528\u9ed8\u8a8d\u7684\u5fae\u63a7\u5236\u5668 i2c \u7e3d\u7dda\u3002 [samd_sercom] \u00b6 SAMD SERCOM \u914d\u7f6e\u4ee5\u6307\u5b9a\u5728\u7d66\u5b9a SERCOM \u4e0a\u4f7f\u7528\u54ea\u4e9b\u5f15\u8173\u3002\u53ef\u4ee5\u4f7f\u7528\u201csamd_sercom\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\u3002\u5728\u5c07\u6bcf\u500b SERCOM \u7528\u4f5c SPI \u6216 I2C \u5916\u8a2d\u4e4b\u524d\uff0c\u5fc5\u9808\u5c0d\u5176\u9032\u884c\u914d\u7f6e\u3002\u5c07\u6b64\u914d\u7f6e\u90e8\u5206\u653e\u5728\u4f7f\u7528 SPI \u6216 I2C \u7e3d\u7dda\u7684\u4efb\u4f55\u5176\u4ed6\u90e8\u5206\u4e4b\u4e0a\u3002 [samd_sercom my_sercom] sercom: # The name of the sercom bus to configure in the micro-controller. # Available names are \"sercom0\", \"sercom1\", etc.. This parameter # must be provided. tx_pin: # MOSI pin for SPI communication, or SDA (data) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided. #rx_pin: # MISO pin for SPI communication. This pin is not used for I2C # communication (I2C uses tx_pin for both sending and receiving). # The pin must have a valid pinmux configuration for the given # SERCOM peripheral. This parameter is optional. clk_pin: # CLK pin for SPI communication, or SCL (clock) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided. [adc_scaled] \u00b6 Duet 2 Maestro \u901a\u904evref\u548cvssa\u8b80\u6578\u9032\u884c\u6a21\u64ec\u7e2e\u653e\u3002\u5b9a\u7fa9\u4e00\u500badc_scaled\u5206\u6bb5\u4f86\u555f\u7528\u6839\u64da\u677f\u8f09vref\u548cvssa\u76e3\u8996\u5f15\u8173\u8abf\u7bc0\u7684\u865b\u64ecadc\u5f15\u8173\uff08\u4f8b\u5982\u300cmy_name:PB0\"\uff09\u3002\u865b\u64ec\u5f15\u8173\u5fc5\u9808\u5148\u88abDuet 2 Maestro \u901a\u904evref\u548cvssa\u8b80\u6578\u9032\u884c\u6a21\u64ec\u7e2e\u653e\u3002\u5b9a\u7fa9\u4e00\u500badc_scaled\u5206\u6bb5\u4f86\u555f\u7528\u6839\u64da\u677f\u8f09vref\u548cvssa\u76e3\u8996\u5f15\u8173\u8abf\u7bc0\u7684\u865b\u64ecadc\u5f15\u8173\uff08\u4f8b\u5982\u300cmy_name:PB0\"\uff09\u3002\u865b\u64ec\u5f15\u8173\u5fc5\u9808\u5148\u88ab\u5b9a\u7fa9\u624d\u80fd\u7528\u5728\u5176\u4ed6\u914d\u7f6e\u5206\u6bb5\u4e2d\u3002 \u6709\u95dc\u793a\u4f8b\uff0c\u8acb\u53c3\u898b generic-duet2-maestro.cfg \u6587\u4ef6\u3002 [adc_scaled my_name] vref_pin: # \u7528\u65bc\u76e3\u6e2c VREF \u7684 ADC \u5f15\u8173\u3002\u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 vssa_pin: # \u7528\u65bc\u76e3\u6e2c VSSA \u7684 ADC \u5f15\u8173\u3002\u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 #smooth_time: 2.0 # \u4e00\u500b\u6642\u9593\u53c3\u6578\uff08\u4ee5\u79d2\u70ba\u8a08\uff09\u5340\u9593\u7528\u65bc\u5e73\u6ed1 VREF \u548c # VSSA \u6e2c\u91cf\u4f86\u6e1b\u5c11\u6e2c\u91cf\u7684\u5e72\u64fe\u3002\u9810\u8a2d\u70ba2\u79d2\u3002 [replicape] \u00b6 \u526f\u672c\u652f\u6301 - \u6709\u95dc\u793a\u4f8b\uff0c\u8acb\u53c3\u898b beaglebone guide \u548c generic-replicape.cfg \u6587\u4ef6\u3002 # The \"replicape\" config section adds \"replicape:stepper_x_enable\" # virtual stepper enable pins (for steppers X, Y, Z, E, and H) and # \"replicape:power_x\" PWM output pins (for hotbed, e, h, fan0, fan1, # fan2, and fan3) that may then be used elsewhere in the config file. [replicape] revision: # The replicape hardware revision. Currently only revision \"B3\" is # supported. This parameter must be provided. #enable_pin: !gpio0_20 # The replicape global enable pin. The default is !gpio0_20 (aka # P9_41). host_mcu: # The name of the mcu config section that communicates with the # Klipper \"linux process\" mcu instance. This parameter must be # provided. #standstill_power_down: False # This parameter controls the CFG6_ENN line on all stepper # motors. True sets the enable lines to \"open\". The default is # False. #stepper_x_microstep_mode: #stepper_y_microstep_mode: #stepper_z_microstep_mode: #stepper_e_microstep_mode: #stepper_h_microstep_mode: # This parameter controls the CFG1 and CFG2 pins of the given # stepper motor driver. Available options are: disable, 1, 2, # spread2, 4, 16, spread4, spread16, stealth4, and stealth16. The # default is disable. #stepper_x_current: #stepper_y_current: #stepper_z_current: #stepper_e_current: #stepper_h_current: # The configured maximum current (in Amps) of the stepper motor # driver. This parameter must be provided if the stepper is not in a # disable mode. #stepper_x_chopper_off_time_high: #stepper_y_chopper_off_time_high: #stepper_z_chopper_off_time_high: #stepper_e_chopper_off_time_high: #stepper_h_chopper_off_time_high: # This parameter controls the CFG0 pin of the stepper motor driver # (True sets CFG0 high, False sets it low). The default is False. #stepper_x_chopper_hysteresis_high: #stepper_y_chopper_hysteresis_high: #stepper_z_chopper_hysteresis_high: #stepper_e_chopper_hysteresis_high: #stepper_h_chopper_hysteresis_high: # This parameter controls the CFG4 pin of the stepper motor driver # (True sets CFG4 high, False sets it low). The default is False. #stepper_x_chopper_blank_time_high: #stepper_y_chopper_blank_time_high: #stepper_z_chopper_blank_time_high: #stepper_e_chopper_blank_time_high: #stepper_h_chopper_blank_time_high: # This parameter controls the CFG5 pin of the stepper motor driver # (True sets CFG5 high, False sets it low). The default is True. \u5176\u4ed6\u81ea\u5b9a\u7fa9\u6a21\u7d44 \u00b6 [palette2] \u00b6 Palette 2 \u591a\u6750\u6599\u652f\u63f4 - \u63d0\u4f9b\u66f4\u7dca\u5bc6\u7684\u6574\u5408\uff0c\u652f\u63f4\u8655\u65bc\u9023\u7dda\u6a21\u5f0f\u7684 Palette 2 \u88dd\u7f6e\u3002 \u6b64\u6a21\u584a\u9084\u9700\u8981 [virtual_sdcard] \u548c [pause_resume] \u624d\u80fd\u7372\u5f97\u5b8c\u6574\u529f\u80fd\u3002 \u4e0d\u8981\u548c Octoprint \u7684 Palette 2\u5916\u639b\u4e00\u8d77\u4f7f\u7528\u9019\u500b\u6a21\u7d44\uff0c\u56e0\u70ba\u5b83\u5011\u6703\u767c\u751f\u885d\u7a81\uff0c\u9020\u6210\u521d\u59cb\u5316\u548c\u5217\u5370\u5931\u6557\u3002 \u5982\u679c\u4f7f\u7528 OctoPrint \u4e26\u901a\u904e\u4e32\u5217\u57e0\u6d41\u5f0f\u50b3\u8f38 G-Code\uff0c\u800c\u4e0d\u901a\u904e virtual_sd \u5217\u5370\uff0c\u5c07 * \u8a2d\u5b9a>\u5e8f\u5217\u9023\u7dda>\u97cc\u9ad4\u548c\u5354\u8b70 * \u4e2d\u7684\u300c\u66ab\u505c\u547d\u4ee4\u300d \u8a2d\u5b9a\u70ba M1 \u548c M0 \u53ef\u4ee5\u907f\u514d\u5728\u958b\u59cb\u5217\u5370\u6642\u9700\u8981\u5728Palette 2 \u4e0a\u9078\u64c7\u958b\u59cb\u5217\u5370\u4e26\u5728 OctoPrint \u4e2d\u53d6\u6d88\u66ab\u505c\u3002 [palette2] serial: # \u9023\u7dda\u5230 Palette 2 \u7684\u4e32\u5217\u57e0\u3002 #baud: 115200 # \u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002 # \u9810\u8a2d\u70ba115200\u3002 #feedrate_splice: 0.8 # \u878d\u63a5\u6642\u7684\u7d66\u9032\u7387 # \u9810\u8a2d\u70ba0.8\u3002 #feedrate_normal: 1.0 # \u4e0d\u5728\u878d\u63a5\u6642\u7684\u7d66\u9032\u7387 1.0 #auto_load_speed: 2 # \u81ea\u52d5\u63db\u6599\u6642\u7684\u7d66\u8fd1\u7387 # \u9810\u8a2d 2 (mm/s) #auto_cancel_variation: 0.1 # # \u7576 ping \u503c\u8b8a\u5316\u9ad8\u65bc\u6b64\u95be\u503c\u6642\u81ea\u52d5\u53d6\u6d88\u5217\u5370 [angle] \u00b6 Magnetic hall angle sensor support for reading stepper motor angle shaft measurements using a1333, as5047d, or tle5012b SPI chips. The measurements are available via the API Server and motion analysis tool . See the G-Code reference for available commands. [angle my_angle_sensor] sensor_type: # The type of the magnetic hall sensor chip. Available choices are # \"a1333\", \"as5047d\", and \"tle5012b\". This parameter must be # specified. #sample_period: 0.000400 # The query period (in seconds) to use during measurements. The # default is 0.000400 (which is 2500 samples per second). #stepper: # The name of the stepper that the angle sensor is attached to (eg, # \"stepper_x\"). Setting this value enables an angle calibration # tool. To use this feature, the Python \"numpy\" package must be # installed. The default is to not enable angle calibration for the # angle sensor. cs_pin: # The SPI enable pin for the sensor. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. \u901a\u7528\u532f\u6d41\u6392\u53c3\u6578 \u00b6 \u5e38\u898b SPI \u8a2d\u5b9a \u00b6 \u4ee5\u4e0b\u53c3\u6578\u901a\u5e38\u9069\u7528\u65bc\u4f7f\u7528 SPI \u7e3d\u7dda\u7684\u8a2d\u5099\u3002 #spi_speed: # The SPI speed (in hz) to use when communicating with the device. # The default depends on the type of device. #spi_bus: # If the micro-controller supports multiple SPI busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # Specify the above parameters to use \"software based SPI\". This # mode does not require micro-controller hardware support (typically # any general purpose pins may be used). The default is to not use # \"software spi\". \u901a\u7528 I2C \u8a2d\u5b9a \u00b6 \u4ee5\u4e0b\u53c3\u6578\u901a\u5e38\u9069\u7528\u65bc\u4f7f\u7528 I2C \u7e3d\u7dda\u7684\u8a2d\u5099\u3002 Note that Klipper's current micro-controller support for i2c is generally not tolerant to line noise. Unexpected errors on the i2c wires may result in Klipper raising a run-time error. Klipper's support for error recovery varies between each micro-controller type. It is generally recommended to only use i2c devices that are on the same printed circuit board as the micro-controller. Most Klipper micro-controller implementations only support an i2c_speed of 100000. The Klipper \"linux\" micro-controller supports a 400000 speed, but it must be set in the operating system and the i2c_speed parameter is otherwise ignored. The Klipper \"rp2040\" micro-controller supports a rate of 400000 via the i2c_speed parameter. All other Klipper micro-controllers use a 100000 rate and ignore the i2c_speed parameter. #i2c_address: # The i2c address of the device. This must specified as a decimal # number (not in hex). The default depends on the type of device. #i2c_mcu: # The name of the micro-controller that the chip is connected to. # The default is \"mcu\". #i2c_bus: # If the micro-controller supports multiple I2C busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #i2c_speed: # The I2C speed (in Hz) to use when communicating with the device. # The Klipper implementation on most micro-controllers is hard-coded # to 100000 and changing this value has no effect. The default is # 100000.","title":"\u914d\u7f6e\u53c3\u8003"},{"location":"Config_Reference.html#_1","text":"\u672c\u6587\u4ef6\u662f Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u53ef\u7528\u914d\u7f6e\u5206\u6bb5\u7684\u53c3\u8003\u3002 \u672c\u6587\u4ef6\u4e2d\u7684\u63cf\u8ff0\u5df2\u7d93\u683c\u5f0f\u5316\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5c07\u5b83\u5011\u526a\u4e0b\u4e26\u8cbc\u4e0a\u5230\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u3002 \u898b installation document \u6709\u95dc\u8a2d\u5b9a Klipper \u548c\u9078\u64c7\u521d\u59cb\u914d\u7f6e\u6a94\u6848\u7684\u8cc7\u8a0a\u3002","title":"\u914d\u7f6e\u53c3\u8003"},{"location":"Config_Reference.html#_2","text":"","title":"\u5fae\u63a7\u5236\u5668\u914d\u7f6e"},{"location":"Config_Reference.html#_3","text":"\u8a31\u591a\u914d\u7f6e\u9078\u9805\u9700\u8981\u5fae\u63a7\u5236\u5668\u5f15\u8173\u7684\u540d\u7a31\u3002Klipper \u4f7f\u7528\u4e86\u9019\u4e9b\u5f15\u8173\u7684\u786c\u9ad4\u540d\u7a31 - \u4f8b\u5982 PA4 \u3002 \u5728 \u5f15\u8173\u540d\u7a31\u524d\u52a0 ! \u4f86\u8868\u793a\u76f8\u53cd\u7684\u96fb\u6975\u6975\u6027\uff08 \u4f8b\u5982\u89f8\u767c\u689d\u4ef6\u6642\u4f4e\u96fb\u5e73\u800c\u4e0d\u662f\u9ad8\u96fb\u5e73\uff09\u3002 \u5728\u5f15\u8173\u540d\u7a31\u524d\u9762\u52a0 ^ \uff0c\u4ee5\u6307\u793a\u8a72\u5f15\u8173\u555f\u7528\u786c\u9ad4\u4e0a\u62c9\u96fb\u963b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u652f\u63f4\u4e0b\u62c9\u96fb\u963b\u5668\uff0c\u90a3\u9ebc\u8f38\u5165\u5f15\u8173\u4e5f\u53ef\u4ee5\u5728\u524d\u9762\u52a0\u4e0a ~ \u3002 \u6ce8\u610f\uff0c\u67d0\u4e9b\u914d\u7f6e\u90e8\u5206\u53ef\u80fd\u6703\u300c\u5efa\u7acb\u300d\u984d\u5916\u7684\u5f15\u8173\u3002 \u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u5b9a\u7fa9\u5f15\u8173\u7684\u914d\u7f6e\u90e8\u5206\u5fc5\u9808\u5728\u4f7f\u7528\u9019\u4e9b\u5f15\u8173\u7684\u4efb\u4f55\u90e8\u5206\u4e4b\u524d\u5217\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u3002","title":"\u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u5b57\u7684\u683c\u5f0f"},{"location":"Config_Reference.html#mcu","text":"\u4e3b\u5fae\u63a7\u5236\u5668\u7684\u914d\u7f6e\u3002 [mcu] serial: # \u9023\u63a5MCU\u7684\u4e32\u53e3\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff08\u6216\u8005\u5982\u679c\u5b83 # \u66f4\u6539\uff09\u67e5\u770b\u201c\u6211\u7684\u4e32\u53e3\u5728\u54ea\u88e1\uff1f\u201d\u5e38\u898b\u554f\u984c\u89e3\u7b54\u90e8\u5206\u3002 # \u4f7f\u7528\u4e32\u53e3\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #baud: 250000 # \u8981\u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002\u9ed8\u8a8d\u503c\u70ba 250000\u3002 #canbus_uuid: # \u5982\u679c\u4f7f\u7528\u9023\u63a5\u5230 CAN \u7e3d\u7dda\u7684\u8a2d\u5099\uff0c\u5247\u8a2d\u7f6e\u552f\u4e00 # \u8981\u9023\u63a5\u7684\u82af\u7247\u6a19\u8b58\u7b26\u3002\u4f7f\u7528\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u503c # CAN \u7e3d\u7dda\u9032\u884c\u901a\u8a0a\u3002 #canbus_interface\uff1a # \u5982\u679c\u4f7f\u7528\u9023\u63a5\u5230 CAN \u7e3d\u7dda\u7684\u8a2d\u5099\uff0c\u90a3\u9ebc\u9019\u5c07\u8a2d\u7f6e CAN # \u8981\u4f7f\u7528\u7684\u7db2\u7d61\u63a5\u53e3\u3002\u9ed8\u8a8d\u503c\u70ba\u201ccan0\u201d\u3002 #restart_method\uff1a # \u9019\u63a7\u5236\u4e3b\u6a5f\u5c07\u7528\u65bc\u91cd\u7f6e\u7684\u6a5f\u5236 #\u5fae\u63a7\u5236\u5668\u3002\u9078\u64c7\u662f'arduino'\uff0c'cheetah'\uff0c'rpi_usb'\uff0c # \u548c\u201c\u547d\u4ee4\u201d\u3002 'arduino' \u65b9\u6cd5\uff08\u5207\u63db DTR\uff09\u5728 # Arduino \u677f\u548c\u514b\u9686\u3002 \u201c\u7375\u8c79\u201d\u65b9\u6cd5\u662f\u4e00\u7a2e\u7279\u6b8a\u7684\u65b9\u6cd5 # \u4e00\u4e9b Fysetc Cheetah \u677f\u9700\u8981\u7684\u65b9\u6cd5\u3002 'rpi_usb' \u65b9\u6cd5 # \u5728\u5e36\u6709\u5fae\u63a7\u5236\u5668\u4f9b\u96fb\u7684 Raspberry Pi \u677f\u4e0a\u5f88\u6709\u7528 # over USB - \u5b83\u6703\u66ab\u6642\u7981\u7528\u6240\u6709 USB \u7aef\u53e3\u7684\u96fb\u6e90\u4ee5 # \u5b8c\u6210\u5fae\u63a7\u5236\u5668\u5fa9\u4f4d\u3002 \u201c\u547d\u4ee4\u201d\u65b9\u6cd5\u6d89\u53ca # \u5411\u5fae\u63a7\u5236\u5668\u767c\u9001\u4e00\u500b Klipper \u547d\u4ee4\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5 # \u91cd\u7f6e\u81ea\u5df1\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u9ed8\u8a8d\u70ba\u201carduino\u201d # \u901a\u904e\u4e32\u884c\u7aef\u53e3\u9032\u884c\u901a\u4fe1\uff0c\u5426\u5247\u70ba\u201c\u547d\u4ee4\u201d\u3002","title":"[MCU]"},{"location":"Config_Reference.html#mcu-mcu-my_extra_mcu","text":"\u984d\u5916\u7684\u5fae\u63a7\u5236\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u300cmcu\u300d\u5b57\u9996\u7684\u90e8\u5206\uff09\u3002 \u984d\u5916\u7684\u5fae\u63a7\u5236\u5668\u5f15\u5165\u4e86\u984d\u5916\u7684\u5f15\u8173\uff0c\u9019\u4e9b\u5f15\u8173\u53ef\u4ee5\u914d\u7f6e\u70ba\u52a0\u71b1\u5668\u3001\u6b65\u9032\u5668\u3001\u98a8\u6247\u7b49\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5f15\u5165\u4e86\u300c[mcu extra_mcu]\u300d\u90e8\u5206\uff0c\u90a3\u9ebc\u8af8\u5982\u300cextra_mcu:ar9\u300d\u4e4b\u985e\u7684\u5f15\u8173\u5c31\u53ef\u4ee5\u5728\u5176\u4ed6\u5730\u65b9\u4f7f\u7528 \uff0c\u5728\u914d\u7f6e\u4e2d\uff08\u5176\u4e2d\u300car9\u300d\u662f\u7d66\u5b9a mcu \u4e0a\u7684\u786c\u9ad4\u5f15\u8173\u540d\u7a31\u6216\u5225\u540d\uff09\u3002 [mcu my_extra_mcu] # \u8acb\u53c3\u95b1\"mcu\"\u5206\u6bb5\u7684\u914d\u7f6e\u53c3\u6578\u3002","title":"\u984d\u5916\u7684mcu [mcu my_extra_mcu]"},{"location":"Config_Reference.html#_4","text":"","title":"\u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a"},{"location":"Config_Reference.html#printer","text":"\u5370\u8868\u6a5f\u63a7\u5236\u7684\u9ad8\u7d1a\u8a2d\u5b9a\u90e8\u5206\u3002 [printer] kinematics: # The type of printer in use. This option may be one of: cartesian, # corexy, corexz, hybrid_corexy, hybrid_corexz, rotary_delta, delta, # polar, winch, or none. This # parameter must be specified. max_velocity: # Maximum velocity (in mm/s) of the toolhead (relative to the # print). This parameter must be specified. max_accel: # Maximum acceleration (in mm/s^2) of the toolhead (relative to the # print). This parameter must be specified. #max_accel_to_decel: # A pseudo acceleration (in mm/s^2) controlling how fast the # toolhead may go from acceleration to deceleration. It is used to # reduce the top speed of short zig-zag moves (and thus reduce # printer vibration from these moves). The default is half of # max_accel. #square_corner_velocity: 5.0 # The maximum velocity (in mm/s) that the toolhead may travel a 90 # degree corner at. A non-zero value can reduce changes in extruder # flow rates by enabling instantaneous velocity changes of the # toolhead during cornering. This value configures the internal # centripetal velocity cornering algorithm; corners with angles # larger than 90 degrees will have a higher cornering velocity while # corners with angles less than 90 degrees will have a lower # cornering velocity. If this is set to zero then the toolhead will # decelerate to zero at each corner. The default is 5mm/s.","title":"[printer]"},{"location":"Config_Reference.html#stepper","text":"\u6b65\u9032\u96fb\u6a5f\u5b9a\u7fa9\u3002 \u4e0d\u540c\u7684\u5370\u8868\u6a5f\u578b\u5225\uff08\u7531 [\u5217\u5370] \u914d\u7f6e\u90e8\u5206\u4e2d\u7684\u300c\u6a5f\u578b\u300d\u9078\u9805\u6307\u5b9a\uff09\u6b65\u9032\u5668\u9700\u8981\u5b9a\u7fa9\u4e0d\u540c\u7684\u540d\u7a31\uff08\u4f8b\u5982\uff0c stepper_x \u8207 stepper_a \uff09\u3002 \u4ee5\u4e0b\u662f\u5e38\u898b\u7684\u6b65\u9032\u5668\u5b9a\u7fa9\u3002 \u6709\u95dc\u8a08\u7b97 rotation_distance \u53c3\u6578\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 rotation distance document \u3002\u6709\u95dc\u4f7f\u7528\u591a\u500b\u5fae\u63a7\u5236\u5668\u9032\u884c\u6b78\u4f4d\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u898b Multi-MCU homing \u6587\u6a94\u3002 [stepper_x] step_pin: # Step GPIO pin (triggered high). This parameter must be provided. dir_pin: # Direction GPIO pin (high indicates positive direction). This # parameter must be provided. enable_pin: # Enable pin (default is enable high; use ! to indicate enable # low). If this parameter is not provided then the stepper motor # driver must always be enabled. rotation_distance: # Distance (in mm) that the axis travels with one full rotation of # the stepper motor (or final gear if gear_ratio is specified). # This parameter must be provided. microsteps: # The number of microsteps the stepper motor driver uses. This # parameter must be provided. #full_steps_per_rotation: 200 # The number of full steps for one rotation of the stepper motor. # Set this to 200 for a 1.8 degree stepper motor or set to 400 for a # 0.9 degree motor. The default is 200. #gear_ratio: # The gear ratio if the stepper motor is connected to the axis via a # gearbox. For example, one may specify \"5:1\" if a 5 to 1 gearbox is # in use. If the axis has multiple gearboxes one may specify a comma # separated list of gear ratios (for example, \"57:11, 2:1\"). If a # gear_ratio is specified then rotation_distance specifies the # distance the axis travels for one full rotation of the final gear. # The default is to not use a gear ratio. #step_pulse_duration: # The minimum time between the step pulse signal edge and the # following \"unstep\" signal edge. This is also used to set the # minimum time between a step pulse and a direction change signal. # The default is 0.000000100 (100ns) for TMC steppers that are # configured in UART or SPI mode, and the default is 0.000002 (which # is 2us) for all other steppers. endstop_pin: # Endstop switch detection pin. If this endstop pin is on a # different mcu than the stepper motor then it enables \"multi-mcu # homing\". This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #position_min: 0 # Minimum valid distance (in mm) the user may command the stepper to # move to. The default is 0mm. position_endstop: # Location of the endstop (in mm). This parameter must be provided # for the X, Y, and Z steppers on cartesian style printers. position_max: # Maximum valid distance (in mm) the user may command the stepper to # move to. This parameter must be provided for the X, Y, and Z # steppers on cartesian style printers. #homing_speed: 5.0 # Maximum velocity (in mm/s) of the stepper when homing. The default # is 5mm/s. #homing_retract_dist: 5.0 # Distance to backoff (in mm) before homing a second time during # homing. Set this to zero to disable the second home. The default # is 5mm. #homing_retract_speed: # Speed to use on the retract move after homing in case this should # be different from the homing speed, which is the default for this # parameter #second_homing_speed: # Velocity (in mm/s) of the stepper when performing the second home. # The default is homing_speed/2. #homing_positive_dir: # If true, homing will cause the stepper to move in a positive # direction (away from zero); if false, home towards zero. It is # better to use the default than to specify this parameter. The # default is true if position_endstop is near position_max and false # if near position_min.","title":"[stepper]"},{"location":"Config_Reference.html#_5","text":"\u6709\u95dc\u793a\u4f8bXYZ\u6a5f\u578b\u914d\u7f6e\u6a94\u6848\uff0c\u8acb\u53c3\u95b1 example-cartesian.cfg \u3002 \u6b64\u8655\u63cf\u8ff0\u7684\u53c3\u6578\u53ea\u9069\u7528\u65bc\u7b1b\u5361\u723e\u5370\u8868\u6a5f\uff0c\u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u904b\u52d5\u8a2d\u5b9a \u3002 [printer] kinematics: cartesian max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the stepper controlling # the X axis in a cartesian robot. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis in a cartesian robot. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis in a cartesian robot. [stepper_z]","title":"\u7b1b\u5361\u723e\u6a5f\u578b"},{"location":"Config_Reference.html#_6","text":"\u6709\u95dc\u793a\u4f8b\u7dda\u6027\u4e09\u89d2\u6d32\u6a5f\u578b\u914d\u7f6e\u6a94\u6848\uff0c\u8acb\u53c3\u95b1 example-delta.cfg \u3002 \u6709\u95dc\u6821\u6e96\u7684\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 delta calibrate guide \u3002 \u6b64\u8655\u50c5\u63cf\u8ff0\u4e86\u7dda\u6027\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u7279\u5b9a\u53c3\u6578 - \u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u904b\u52d5\u8a2d\u5b9a \u3002 [printer] kinematics: delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. Setting this may be useful if the printer can reach higher # acceleration on XY moves than Z moves (eg, when using input shaper). # The default is to use max_accel for max_z_accel. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. delta_radius: # Radius (in mm) of the horizontal circle formed by the three linear # axis towers. This parameter may also be calculated as: # delta_radius = smooth_rod_offset - effector_offset - carriage_offset # This parameter must be provided. #print_radius: # The radius (in mm) of valid toolhead XY coordinates. One may use # this setting to customize the range checking of toolhead moves. If # a large value is specified here then it may be possible to command # the toolhead into a collision with a tower. The default is to use # delta_radius for print_radius (which would normally prevent a # tower collision). # The stepper_a section describes the stepper controlling the front # left tower (at 210 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all towers. [stepper_a] position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. arm_length: # Length (in mm) of the diagonal rod that connects this tower to the # print head. This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the tower is # at. The default is 210 for stepper_a, 330 for stepper_b, and 90 # for stepper_c. # The stepper_b section describes the stepper controlling the front # right tower (at 330 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the rear # tower (at 90 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the tower endstop positions and # angles. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5.","title":"\u7dda\u6027\u4e09\u89d2\u6d32\u6a5f\u578b"},{"location":"Config_Reference.html#corexy","text":"\u6709\u95dc corexy\uff08\u53ca H-BOT\uff09\u6a5f\u578b\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-corexy.cfg \u3002 \u9019\u88e1\u53ea\u63cf\u8ff0\u4e86 CoreXY \u5370\u8868\u6a5f\u7279\u6709\u7684\u53c3\u6578 -- \u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u898b\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Y movement. [stepper_x] # The stepper_y section is used to describe the Y axis as well as the # stepper controlling the X-Y movement. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z]","title":"CoreXY \u6a5f\u578b"},{"location":"Config_Reference.html#corex","text":"\u6709\u95dc corexz \u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-corexz.cfg \u3002 \u6b64\u8655\u63cf\u8ff0\u7684\u53c3\u6578\u53ea\u9069\u7528\u65bc\u7b1b\u5361\u723e\u5370\u8868\u6a5f\u2014\u6709\u95dc\u5168\u90e8\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X+Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the Z axis as well as the # stepper controlling the X-Z movement. [stepper_z]","title":"CoreX \u6a5f\u578b"},{"location":"Config_Reference.html#corexy_1","text":"\u6709\u95dc\u793a\u4f8b\u6df7\u5408 corexy \u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\uff0c\u8acb\u53c3\u898b example-hybrid-corexy.cfg \u3002 \u9019\u7a2e\u6a5f\u578b\u4e5f\u7a31\u70ba Markforged \u6a5f\u578b\u3002 \u6b64\u8655\u50c5\u63cf\u8ff0\u4e86\u7dda\u6027\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u7279\u5b9a\u53c3\u6578\u2014\u6709\u95dc\u5168\u90e8\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: hybrid_corexy max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Y movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z]","title":"\u6df7\u5408\u578b CoreXY \u6a5f\u578b"},{"location":"Config_Reference.html#corexz","text":"\u6709\u95dc\u793a\u4f8b\u6df7\u5408 corexz \u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\uff0c\u8acb\u53c3\u898b example-hybrid-corexz.cfg \u3002 \u9019\u7a2e\u6a5f\u578b\u4e5f\u7a31\u70ba Markforged \u6a5f\u578b\u3002 \u6b64\u8655\u50c5\u63cf\u8ff0\u4e86\u7dda\u6027\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u7279\u5b9a\u53c3\u6578\u2014\u6709\u95dc\u5168\u90e8\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 [printer] kinematics: hybrid_corexz max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. The default is to use max_velocity for max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. The default is to use max_accel for max_z_accel. # The stepper_x section is used to describe the X axis as well as the # stepper controlling the X-Z movement. [stepper_x] # The stepper_y section is used to describe the stepper controlling # the Y axis. [stepper_y] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z]","title":"\u6df7\u5408\u578b CoreXZ \u6a5f\u578b"},{"location":"Config_Reference.html#polar","text":"\u6709\u95dcPolar\u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-polar.cfg \u3002 \u9019\u88e1\u53ea\u63cf\u8ff0\u4e86\u6975\u5730\u5370\u8868\u6a5f\u7279\u6709\u7684\u53c3\u6578\u2014\u5168\u90e8\u53ef\u7528\u7684\u53c3\u6578\u8acb\u898b \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 POLAR \u6a5f\u578b\u652f\u63f4\u9084\u5728\u9032\u884c\u4e2d\u3002\u5df2\u77e5\u5728 0\u30010 \u4f4d\u7f6e\u9644\u8fd1\u79fb\u52d5\u7121\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002 [printer] kinematics: polar max_z_velocity: # This sets the maximum velocity (in mm/s) of movement along the z # axis. This setting can be used to restrict the maximum speed of # the z stepper motor. The default is to use max_velocity for # max_z_velocity. max_z_accel: # This sets the maximum acceleration (in mm/s^2) of movement along # the z axis. It limits the acceleration of the z stepper motor. The # default is to use max_accel for max_z_accel. # The stepper_bed section is used to describe the stepper controlling # the bed. [stepper_bed] gear_ratio: # A gear_ratio must be specified and rotation_distance may not be # specified. For example, if the bed has an 80 toothed pulley driven # by a stepper with a 16 toothed pulley then one would specify a # gear ratio of \"80:16\". This parameter must be provided. # The stepper_arm section is used to describe the stepper controlling # the carriage on the arm. [stepper_arm] # The stepper_z section is used to describe the stepper controlling # the Z axis. [stepper_z]","title":"Polar\u6a5f\u578b"},{"location":"Config_Reference.html#_7","text":"\u6709\u95dc\u65cb\u8f49\u4e09\u89d2\u6d32\u6a5f\u578b\u914d\u7f6e\u6587\u4ef6\u7684\u793a\u4f8b\uff0c\u8acb\u53c3\u898b example-rotary-delta.cfg \u3002 \u6b64\u8655\u50c5\u4ecb\u7d39\u7279\u5b9a\u65bc\u65cb\u8f49\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u53c3\u6578\u2014\u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u8acb\u53c3\u95b1 \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 \u65cb\u8f49\u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u8a2d\u5b9a\u9084\u5728\u9032\u884c\u4e2d\u3002\u6b78\u4f4d\u79fb\u52d5\u53ef\u80fd\u6703\u8d85\u6642\uff0c\u4e26\u4e14\u67d0\u4e9b\u908a\u754c\u6aa2\u67e5\u672a\u5be6\u65bd\u3002 [printer] kinematics: rotary_delta max_z_velocity: # For delta printers this limits the maximum velocity (in mm/s) of # moves with z axis movement. This setting can be used to reduce the # maximum speed of up/down moves (which require a higher step rate # than other moves on a delta printer). The default is to use # max_velocity for max_z_velocity. #minimum_z_position: 0 # The minimum Z position that the user may command the head to move # to. The default is 0. shoulder_radius: # Radius (in mm) of the horizontal circle formed by the three # shoulder joints, minus the radius of the circle formed by the # effector joints. This parameter may also be calculated as: # shoulder_radius = (delta_f - delta_e) / sqrt(12) # This parameter must be provided. shoulder_height: # Distance (in mm) of the shoulder joints from the bed, minus the # effector toolhead height. This parameter must be provided. # The stepper_a section describes the stepper controlling the rear # right arm (at 30 degrees). This section also controls the homing # parameters (homing_speed, homing_retract_dist) for all arms. [stepper_a] gear_ratio: # A gear_ratio must be specified and rotation_distance may not be # specified. For example, if the arm has an 80 toothed pulley driven # by a pulley with 16 teeth, which is in turn connected to a 60 # toothed pulley driven by a stepper with a 16 toothed pulley, then # one would specify a gear ratio of \"80:16, 60:16\". This parameter # must be provided. position_endstop: # Distance (in mm) between the nozzle and the bed when the nozzle is # in the center of the build area and the endstop triggers. This # parameter must be provided for stepper_a; for stepper_b and # stepper_c this parameter defaults to the value specified for # stepper_a. upper_arm_length: # Length (in mm) of the arm connecting the \"shoulder joint\" to the # \"elbow joint\". This parameter must be provided for stepper_a; for # stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. lower_arm_length: # Length (in mm) of the arm connecting the \"elbow joint\" to the # \"effector joint\". This parameter must be provided for stepper_a; # for stepper_b and stepper_c this parameter defaults to the value # specified for stepper_a. #angle: # This option specifies the angle (in degrees) that the arm is at. # The default is 30 for stepper_a, 150 for stepper_b, and 270 for # stepper_c. # The stepper_b section describes the stepper controlling the rear # left arm (at 150 degrees). [stepper_b] # The stepper_c section describes the stepper controlling the front # arm (at 270 degrees). [stepper_c] # The delta_calibrate section enables a DELTA_CALIBRATE extended # g-code command that can calibrate the shoulder endstop positions. [delta_calibrate] radius: # Radius (in mm) of the area that may be probed. This is the radius # of nozzle coordinates to be probed; if using an automatic probe # with an XY offset then choose a radius small enough so that the # probe always fits over the bed. This parameter must be provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5.","title":"\u65cb\u8f49\u4e09\u89d2\u6d32\u6a5f\u578b"},{"location":"Config_Reference.html#_8","text":"\u8acb\u53c3\u95b1 example-winch.cfg \u4ee5\u7372\u53d6\u793a\u4f8b\u96fb\u7e9c\u7d5e\u76e4\u904b\u52d5\u5b78\u914d\u7f6e\u6587\u4ef6\u3002 \u9019\u88e1\u53ea\u63cf\u8ff0\u4e86\u7e9c\u7e69\u9278\u76e4\u5f0f\u5370\u8868\u6a5f\u7279\u6709\u7684\u53c3\u6578 \u2014 \u5168\u90e8\u53ef\u7528\u7684\u53c3\u6578\u898b \u5e38\u7528\u7684\u6a5f\u578b\u8a2d\u5b9a \u3002 CABLE WINCH\u652f\u63f4\u662f\u5be6\u9a57\u6027\u7684\u3002\u672a\u5728\u96fb\u7e9c\u7d5e\u76e4\u904b\u52d5\u5b78\u4e0a\u5be6\u73fe\u6b78\u4f4d\u3002\u70ba\u4e86\u4f7f\u6253\u5370\u6a5f\u6b78\u4f4d\uff0c\u624b\u52d5\u767c\u9001\u79fb\u52d5\u547d\u4ee4\uff0c\u76f4\u5230\u5de5\u5177\u982d\u4f4d\u65bc 0\u30010\u30010 \u8655\uff0c\u7136\u5f8c\u767c\u51fa\u201cG28\u201d\u547d\u4ee4\u3002 [printer] kinematics: winch # The stepper_a section describes the stepper connected to the first # cable winch. A minimum of 3 and a maximum of 26 cable winches may be # defined (stepper_a to stepper_z) though it is common to define 4. [stepper_a] rotation_distance: # The rotation_distance is the nominal distance (in mm) the toolhead # moves towards the cable winch for each full rotation of the # stepper motor. This parameter must be provided. anchor_x: anchor_y: anchor_z: # The X, Y, and Z position of the cable winch in cartesian space. # These parameters must be provided.","title":"\u7e9c\u7e69\u7d5e\u76e4\u6a5f\u578b"},{"location":"Config_Reference.html#_9","text":"\u53ef\u4ee5\u5b9a\u7fa9\u7279\u6b8a\u7684 \"none\" \u6a5f\u578b\u4f86\u7981\u7528 Klipper \u4e2d\u7684\u6a5f\u578b\u652f\u63f4\u3002\u53ef\u4ee5\u7528\u65bc\u63a7\u5236\u4e0d\u662f 3D \u5370\u8868\u6a5f\u7684\u88dd\u7f6e\u6216\u9664\u932f\u3002 [printer] kinematics: none max_velocity: 1 max_accel: 1 # The max_velocity and max_accel parameters must be defined. The # values are not used for \"none\" kinematics.","title":"\u7121\u6a5f\u578b"},{"location":"Config_Reference.html#_10","text":"","title":"\u901a\u7528\u64e0\u51fa\u6a5f\u548c\u71b1\u5e8a\u652f\u63f4"},{"location":"Config_Reference.html#extruder","text":"The extruder section is used to describe the heater parameters for the nozzle hotend along with the stepper controlling the extruder. See the command reference for additional information. See the pressure advance guide for information on tuning pressure advance. [extruder] step_pin: dir_pin: enable_pin: microsteps: rotation_distance: #full_steps_per_rotation: #gear_ratio: # See the \"stepper\" section for a description of the above # parameters. If none of the above parameters are specified then no # stepper will be associated with the nozzle hotend (though a # SYNC_EXTRUDER_MOTION command may associate one at run-time). nozzle_diameter: # Diameter of the nozzle orifice (in mm). This parameter must be # provided. filament_diameter: # The nominal diameter of the raw filament (in mm) as it enters the # extruder. This parameter must be provided. #max_extrude_cross_section: # Maximum area (in mm^2) of an extrusion cross section (eg, # extrusion width multiplied by layer height). This setting prevents # excessive amounts of extrusion during relatively small XY moves. # If a move requests an extrusion rate that would exceed this value # it will cause an error to be returned. The default is: 4.0 * # nozzle_diameter^2 #instantaneous_corner_velocity: 1.000 # The maximum instantaneous velocity change (in mm/s) of the # extruder during the junction of two moves. The default is 1mm/s. #max_extrude_only_distance: 50.0 # Maximum length (in mm of raw filament) that a retraction or # extrude-only move may have. If a retraction or extrude-only move # requests a distance greater than this value it will cause an error # to be returned. The default is 50mm. #max_extrude_only_velocity: #max_extrude_only_accel: # Maximum velocity (in mm/s) and acceleration (in mm/s^2) of the # extruder motor for retractions and extrude-only moves. These # settings do not have any impact on normal printing moves. If not # specified then they are calculated to match the limit an XY # printing move with a cross section of 4.0*nozzle_diameter^2 would # have. #pressure_advance: 0.0 # The amount of raw filament to push into the extruder during # extruder acceleration. An equal amount of filament is retracted # during deceleration. It is measured in millimeters per # millimeter/second. The default is 0, which disables pressure # advance. #pressure_advance_smooth_time: 0.040 # A time range (in seconds) to use when calculating the average # extruder velocity for pressure advance. A larger value results in # smoother extruder movements. This parameter may not exceed 200ms. # This setting only applies if pressure_advance is non-zero. The # default is 0.040 (40 milliseconds). # # The remaining variables describe the extruder heater. heater_pin: # PWM output pin controlling the heater. This parameter must be # provided. #max_power: 1.0 # The maximum power (expressed as a value from 0.0 to 1.0) that the # heater_pin may be set to. The value 1.0 allows the pin to be set # fully enabled for extended periods, while a value of 0.5 would # allow the pin to be enabled for no more than half the time. This # setting may be used to limit the total power output (over extended # periods) to the heater. The default is 1.0. sensor_type: # Type of sensor - common thermistors are \"EPCOS 100K B57560G104F\", # \"ATC Semitec 104GT-2\", \"ATC Semitec 104NT-4-R025H42G\", \"Generic # 3950\",\"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", and \"TDK NTCG104LH104JT1\". See the # \"Temperature sensors\" section for other sensors. This parameter # must be provided. sensor_pin: # Analog input pin connected to the sensor. This parameter must be # provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # This parameter is only valid when the sensor is a thermistor. The # default is 4700 ohms. #smooth_time: 1.0 # A time value (in seconds) over which temperature measurements will # be smoothed to reduce the impact of measurement noise. The default # is 1 seconds. control: # Control algorithm (either pid or watermark). This parameter must # be provided. pid_Kp: pid_Ki: pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # heater_pwm = (Kp*error + Ki*integral(error) - Kd*derivative(error)) / 255 # Where \"error\" is \"requested_temperature - measured_temperature\" # and \"heater_pwm\" is the requested heating rate with 0.0 being full # off and 1.0 being full on. Consider using the PID_CALIBRATE # command to obtain these parameters. The pid_Kp, pid_Ki, and pid_Kd # parameters must be provided for PID heaters. #max_delta: 2.0 # On 'watermark' controlled heaters this is the number of degrees in # Celsius above the target temperature before disabling the heater # as well as the number of degrees below the target before # re-enabling the heater. The default is 2 degrees Celsius. #pwm_cycle_time: 0.100 # Time in seconds for each software PWM cycle of the heater. It is # not recommended to set this unless there is an electrical # requirement to switch the heater faster than 10 times a second. # The default is 0.100 seconds. #min_extrude_temp: 170 # The minimum temperature (in Celsius) at which extruder move # commands may be issued. The default is 170 Celsius. min_temp: max_temp: # The maximum range of valid temperatures (in Celsius) that the # heater must remain within. This controls a safety feature # implemented in the micro-controller code - should the measured # temperature ever fall outside this range then the micro-controller # will go into a shutdown state. This check can help detect some # heater and sensor hardware failures. Set this range just wide # enough so that reasonable temperatures do not result in an error. # These parameters must be provided.","title":"[extruder]"},{"location":"Config_Reference.html#heater_bed","text":"heat_bed \u90e8\u5206\u63cf\u8ff0\u4e86\u4e00\u500b\u52a0\u71b1\u5e8a\u3002\u5b83\u4f7f\u7528\u8207\u201c\u64e0\u51fa\u6a5f\u201d\u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u76f8\u540c\u7684\u52a0\u71b1\u5668\u8a2d\u7f6e\u3002 [heater_bed] heater_pin: sensor_type: sensor_pin: control: min_temp: max_temp: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cextruder\u300d\u914d\u7f6e\u5206\u6bb5\u3002","title":"[heater_bed]"},{"location":"Config_Reference.html#_11","text":"","title":"\u5217\u5370\u5e8a\u8abf\u5e73\u652f\u63f4"},{"location":"Config_Reference.html#bed_mesh","text":"\u7db2\u5e8a\u8abf\u5e73\u3002\u5b9a\u7fa9\u4e00\u500b bed_mesh \u914d\u7f6e\u5206\u6bb5\u4f86\u555f\u7528\u57fa\u65bc\u63a2\u6e2c\u9ede\u7522\u751f\u7db2\u683c\u7684 Z \u8ef8\u504f\u79fb\u79fb\u52d5\u8b8a\u63db\u3002\u7576\u4f7f\u7528\u63a2\u91dd\u6b78\u4f4d Z \u8ef8\u6642\uff0c\u5efa\u8b70\u901a\u904e printer.cfg \u4e2d\u5b9a\u7fa9\u4e00\u500b safe_z_home \u5206\u6bb5\u4f7f Z \u8ef8\u6b78\u4f4d\u5728\u5217\u5370\u5340\u57df\u7684\u4e2d\u5fc3\u57f7\u884c\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u5e8a\u7db2\u683c\u6307\u5357 \u548c \u547d\u4ee4\u53c3\u8003 \u3002 \u8996\u89ba\u5316\u793a\u4f8b\uff1a rectangular bed, probe_count = 3, 3: x---x---x (max_point) | x---x---x | (min_point) x---x---x round bed, round_probe_count = 5, bed_radius = r: x (0, r) end / x---x---x \\ (-r, 0) x---x---x---x---x (r, 0) \\ x---x---x / x (0, -r) start [bed_mesh] #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #mesh_radius: # Defines the radius of the mesh to probe for round beds. Note that # the radius is relative to the coordinate specified by the # mesh_origin option. This parameter must be provided for round beds # and omitted for rectangular beds. #mesh_origin: # Defines the center X, Y coordinate of the mesh for round beds. This # coordinate is relative to the probe's location. It may be useful # to adjust the mesh_origin in an effort to maximize the size of the # mesh radius. Default is 0, 0. This parameter must be omitted for # rectangular beds. #mesh_min: # Defines the minimum X, Y coordinate of the mesh for rectangular # beds. This coordinate is relative to the probe's location. This # will be the first point probed, nearest to the origin. This # parameter must be provided for rectangular beds. #mesh_max: # Defines the maximum X, Y coordinate of the mesh for rectangular # beds. Adheres to the same principle as mesh_min, however this will # be the furthest point probed from the bed's origin. This parameter # must be provided for rectangular beds. #probe_count: 3, 3 # For rectangular beds, this is a comma separate pair of integer # values X, Y defining the number of points to probe along each # axis. A single value is also valid, in which case that value will # be applied to both axes. Default is 3, 3. #round_probe_count: 5 # For round beds, this integer value defines the maximum number of # points to probe along each axis. This value must be an odd number. # Default is 5. #fade_start: 1.0 # The gcode z position in which to start phasing out z-adjustment # when fade is enabled. Default is 1.0. #fade_end: 0.0 # The gcode z position in which phasing out completes. When set to a # value below fade_start, fade is disabled. It should be noted that # fade may add unwanted scaling along the z-axis of a print. If a # user wishes to enable fade, a value of 10.0 is recommended. # Default is 0.0, which disables fade. #fade_target: # The z position in which fade should converge. When this value is # set to a non-zero value it must be within the range of z-values in # the mesh. Users that wish to converge to the z homing position # should set this to 0. Default is the average z value of the mesh. #split_delta_z: .025 # The amount of Z difference (in mm) along a move that will trigger # a split. Default is .025. #move_check_distance: 5.0 # The distance (in mm) along a move to check for split_delta_z. # This is also the minimum length that a move can be split. Default # is 5.0. #mesh_pps: 2, 2 # A comma separated pair of integers X, Y defining the number of # points per segment to interpolate in the mesh along each axis. A # \"segment\" can be defined as the space between each probed point. # The user may enter a single value which will be applied to both # axes. Default is 2, 2. #algorithm: lagrange # The interpolation algorithm to use. May be either \"lagrange\" or # \"bicubic\". This option will not affect 3x3 grids, which are forced # to use lagrange sampling. Default is lagrange. #bicubic_tension: .2 # When using the bicubic algorithm the tension parameter above may # be applied to change the amount of slope interpolated. Larger # numbers will increase the amount of slope, which results in more # curvature in the mesh. Default is .2. #relative_reference_index: # A point index in the mesh to reference all z values to. Enabling # this parameter produces a mesh relative to the probed z position # at the provided index. #faulty_region_1_min: #faulty_region_1_max: # Optional points that define a faulty region. See docs/Bed_Mesh.md # for details on faulty regions. Up to 99 faulty regions may be added. # By default no faulty regions are set.","title":"[bed_mesh]"},{"location":"Config_Reference.html#bed_tilt","text":"\u5217\u5370\u5e8a\u50be\u659c\u88dc\u511f\u3002\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b bed_tilt \u914d\u7f6e\u5206\u6bb5\u4f86\u555f\u7528\u79fb\u52d5\u8b8a\u63db\u50be\u659c\u5217\u5370\u5e8a\u88dc\u511f\u3002\u8acb\u6ce8\u610f\uff0cbed_mesh \u548c bed_tilt \u4e0d\u76f8\u5bb9\uff1a\u5169\u8005\u7121\u6cd5\u540c\u6642\u88ab\u5b9a\u7fa9\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [bed_tilt] #x_adjust: 0 # The amount to add to each move's Z height for each mm on the X # axis. The default is 0. #y_adjust: 0 # The amount to add to each move's Z height for each mm on the Y # axis. The default is 0. #z_adjust: 0 # The amount to add to the Z height when the nozzle is nominally at # 0, 0. The default is 0. # The remaining parameters control a BED_TILT_CALIBRATE extended # g-code command that may be used to calibrate appropriate x and y # adjustment parameters. #points: # A list of X, Y coordinates (one per line; subsequent lines # indented) that should be probed during a BED_TILT_CALIBRATE # command. Specify coordinates of the nozzle and be sure the probe # is above the bed at the given nozzle coordinates. The default is # to not enable the command. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5.","title":"[bed_tilt]"},{"location":"Config_Reference.html#bed_screws","text":"\u5e6b\u52a9\u8abf\u6574\u5e8a\u8abf\u5e73\u87ba\u7d72\u7684\u5de5\u5177\u3002\u53ef\u4ee5\u5b9a\u7fa9 [bed_screws] \u914d\u7f6e\u90e8\u5206\u4ee5\u555f\u7528 BED_SCREWS_ADJUST G-Code \u547d\u4ee4\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 leveling guide \u548c command reference \u3002 [bed_screws] #screw1: # The X, Y coordinate of the first bed leveling screw. This is a # position to command the nozzle to that is directly above the bed # screw (or as close as possible while still being above the bed). # This parameter must be provided. #screw1_name: # An arbitrary name for the given screw. This name is displayed when # the helper script runs. The default is to use a name based upon # the screw XY location. #screw1_fine_adjust: # An X, Y coordinate to command the nozzle to so that one can fine # tune the bed leveling screw. The default is to not perform fine # adjustments on the bed screw. #screw2: #screw2_name: #screw2_fine_adjust: #... # Additional bed leveling screws. At least three screws must be # defined. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # when moving from one screw location to the next. The default is 5. #probe_height: 0 # The height of the probe (in mm) after adjusting for the thermal # expansion of bed and nozzle. The default is zero. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #probe_speed: 5 # The speed (in mm/s) when moving from a horizontal_move_z position # to a probe_height position. The default is 5.","title":"[bed_screws]"},{"location":"Config_Reference.html#screws_tilt_adjust","text":"\u4f7f\u7528 Z \u63a2\u982d\u5e6b\u52a9\u8abf\u6574\u5e8a\u87ba\u7d72\u50be\u659c\u5ea6\u7684\u5de5\u5177\u3002\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b screw_tilt_adjust \u914d\u7f6e\u90e8\u5206\u4f86\u555f\u7528 SCREWS_TILT_CALCULATE G-Code \u547d\u4ee4\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 leveling guide \u548c command reference \u3002 [screws_tilt_adjust] #screw1: # The (X, Y) coordinate of the first bed leveling screw. This is a # position to command the nozzle to so that the probe is directly # above the bed screw (or as close as possible while still being # above the bed). This is the base screw used in calculations. This # parameter must be provided. #screw1_name: # An arbitrary name for the given screw. This name is displayed when # the helper script runs. The default is to use a name based upon # the screw XY location. #screw2: #screw2_name: #... # Additional bed leveling screws. At least two screws must be # defined. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #screw_thread: CW-M3 # The type of screw used for bed level, M3, M4 or M5 and the # direction of the knob used to level the bed, clockwise decrease # counter-clockwise decrease. # Accepted values: CW-M3, CCW-M3, CW-M4, CCW-M4, CW-M5, CCW-M5. # Default value is CW-M3, most printers use an M3 screw and # turning the knob clockwise decrease distance.","title":"[screws_tilt_adjust]"},{"location":"Config_Reference.html#z_tilt","text":"\u591a Z \u6b65\u9032\u50be\u659c\u8abf\u6574\u3002\u6b64\u529f\u80fd\u53ef\u4ee5\u7368\u7acb\u8abf\u6574\u591a\u500b z \u6b65\u9032\u5668\uff08\u8acb\u53c3\u95b1\u201cstepper_z1\u201d\u90e8\u5206\uff09\u4ee5\u8abf\u6574\u50be\u659c\u3002\u5982\u679c\u6b64\u90e8\u5206\u5b58\u5728\uff0c\u5247 Z_TILT_ADJUST \u64f4\u5c55 G-Code \u547d\u4ee4 \u8b8a\u5f97\u53ef\u7528\u3002 [z_tilt] #z_positions: # A list of X, Y coordinates (one per line; subsequent lines # indented) describing the location of each bed \"pivot point\". The # \"pivot point\" is the point where the bed attaches to the given Z # stepper. It is described using nozzle coordinates (the X, Y position # of the nozzle if it could move directly above the point). The # first entry corresponds to stepper_z, the second to stepper_z1, # the third to stepper_z2, etc. This parameter must be provided. #points: # A list of X, Y coordinates (one per line; subsequent lines # indented) that should be probed during a Z_TILT_ADJUST command. # Specify coordinates of the nozzle and be sure the probe is above # the bed at the given nozzle coordinates. This parameter must be # provided. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance. Note the smallest unit of # change here would be a single step. However if you are probing # more points than steppers then you will likely have a fixed # minimum value for the range of probed points which you can learn # by observing command output.","title":"[z_tilt]"},{"location":"Config_Reference.html#quad_gantry_level","text":"\u4f7f\u7528 4 \u500b\u7368\u7acb\u63a7\u5236\u7684 Z \u96fb\u6a5f\u79fb\u52d5\u9f8d\u9580\u8abf\u5e73\u3002\u4fee\u6b63\u79fb\u52d5\u9f8d\u9580\u4e0a\u7684\u96d9\u66f2\u62cb\u7269\u7dda\u6548\u61c9\uff08\u85af\u7247\uff09\uff0c\u66f4\u52a0\u9748\u6d3b\u3002\u8b66\u544a\uff1a\u5728\u79fb\u52d5\u5e8a\u4e0a\u4f7f\u7528\u5b83\u53ef\u80fd\u6703\u5c0e\u81f4\u4e0d\u826f\u7d50\u679c\u3002\u5982\u679c\u6b64\u90e8\u5206\u5b58\u5728\uff0c\u5247 QUAD_GANTRY_LEVEL \u64f4\u5c55 G \u4ee3\u78bc\u547d\u4ee4\u53ef\u7528\u3002\u6b64\u4f8b\u7a0b\u5047\u5b9a\u4ee5\u4e0b Z \u96fb\u6a5f\u914d\u7f6e\uff1a ---------------- |Z1 Z2| | --------- | | | | | | | | | | x-------- | |Z Z3| ---------------- \u5176\u4e2d X \u662f\u5e8a\u4e0a\u76840\u30010\u9ede [quad_gantry_level] #gantry_corners: # A newline separated list of X, Y coordinates describing the two # opposing corners of the gantry. The first entry corresponds to Z, # the second to Z2. This parameter must be provided. #points: # A newline separated list of four X, Y points that should be probed # during a QUAD_GANTRY_LEVEL command. Order of the locations is # important, and should correspond to Z, Z1, Z2, and Z3 location in # order. This parameter must be provided. For maximum accuracy, # ensure your probe offsets are configured. #speed: 50 # The speed (in mm/s) of non-probing moves during the calibration. # The default is 50. #horizontal_move_z: 5 # The height (in mm) that the head should be commanded to move to # just prior to starting a probe operation. The default is 5. #max_adjust: 4 # Safety limit if an adjustment greater than this value is requested # quad_gantry_level will abort. #retries: 0 # Number of times to retry if the probed points aren't within # tolerance. #retry_tolerance: 0 # If retries are enabled then retry if largest and smallest probed # points differ more than retry_tolerance.","title":"[quad_gantry_level]"},{"location":"Config_Reference.html#skew_correction","text":"\u6253\u5370\u6a5f\u6b6a\u659c\u6821\u6b63\u3002\u53ef\u4ee5\u4f7f\u7528\u8edf\u4ef6\u7cfe\u6b63\u6253\u5370\u6a5f\u5728 3 \u500b\u5e73\u9762 xy\u3001xz\u3001yz \u4e0a\u7684\u6b6a\u659c\u3002\u9019\u662f\u901a\u904e\u6cbf\u5e73\u9762\u6253\u5370\u6821\u6e96\u6a21\u578b\u4e26\u6e2c\u91cf\u4e09\u500b\u9577\u5ea6\u4f86\u5b8c\u6210\u7684\u3002\u7531\u65bc\u6b6a\u659c\u6821\u6b63\u7684\u6027\u8cea\uff0c\u9019\u4e9b\u9577\u5ea6\u662f\u901a\u904e gcode \u8a2d\u7f6e\u7684\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 Skew Correction \u548c Command Reference \u3002 [skew_correction]","title":"[skew_correction]"},{"location":"Config_Reference.html#_12","text":"","title":"\u81ea\u5b9a\u7fa9\u6b78\u96f6"},{"location":"Config_Reference.html#safe_z_home","text":"\u5b89\u5168 Z \u6b78\u4f4d\u3002\u53ef\u4ee5\u4f7f\u7528\u9019\u7a2e\u6a5f\u5236\u5c07 Z \u8ef8\u6b78\u4f4d\u5230\u7279\u5b9a\u7684 X\u3001Y \u5750\u6a19\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5de5\u5177\u982d\u5fc5\u9808\u5728 Z \u53ef\u4ee5\u6b78\u4f4d\u4e4b\u524d\u79fb\u52d5\u5230\u5e8a\u7684\u4e2d\u5fc3\uff0c\u9019\u5f88\u6709\u7528\u3002 [safe_z_home] home_xy_position: # A X, Y coordinate (e.g. 100, 100) where the Z homing should be # performed. This parameter must be provided. #speed: 50.0 # Speed at which the toolhead is moved to the safe Z home # coordinate. The default is 50 mm/s #z_hop: # Distance (in mm) to lift the Z axis prior to homing. This is # applied to any homing command, even if it doesn't home the Z axis. # If the Z axis is already homed and the current Z position is less # than z_hop, then this will lift the head to a height of z_hop. If # the Z axis is not already homed the head is lifted by z_hop. # The default is to not implement Z hop. #z_hop_speed: 15.0 # Speed (in mm/s) at which the Z axis is lifted prior to homing. The # default is 15 mm/s. #move_to_previous: False # When set to True, the X and Y axes are reset to their previous # positions after Z axis homing. The default is False.","title":"[safe_z_home]"},{"location":"Config_Reference.html#homing_override","text":"\u6b78\u4f4d\u8986\u5beb\u3002\u53ef\u4ee5\u4f7f\u7528\u9019\u7a2e\u6a5f\u5236\u4f86\u57f7\u884c\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u4f86\u66ff\u4ee3\u5e38\u898f\u7684G28\u3002\u901a\u5e38\u7528\u65bc\u9700\u8981\u7279\u5b9a\u904e\u7a0b\u624d\u80fd\u5c07\u6a5f\u5668\u6b78\u96f6\u7684\u5370\u8868\u6a5f\u3002 [homing_override] gcode\uff1a # \u8986\u84cb\u5e38\u898f G28 \u547d\u4ee4\u7684 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u5e8f\u5217\u3002 # G \u7a0b\u5f0f\u78bc\u683c\u5f0f\u8acb\u53c3\u95b1 docs/Command_Templates.md\u3002\u5982\u679c # G28 \u5305\u542b\u5728\u6b64\u547d\u4ee4\u5217\u8868\u4e2d\uff0c\u5e38\u898f\u7248\u672c\u7684G28\u6703\u88ab\u547c\u53eb\u4e26\u9032 # \u884c\u5370\u8868\u6a5f\u7684\u6b63\u5e38\u6b78\u4f4d\u904e\u7a0b\u3002\u6b64\u8655\u5217\u51fa\u7684\u547d\u4ee4\u5fc5\u9808\u6b78\u4f4d\u6240 # \u6709\u8ef8\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #axes: xyz # \u8981\u8986\u84cb\u7684\u8ef8\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5c07\u5176\u8a2d\u5b9a\u70ba\"z\"\uff0c\u5247\u8986\u84cb\u6307\u4ee4\u78bc\u5c07 # \u50c5\u5728 z \u8ef8\u88ab\u6b78\u4f4d\u6642\u57f7\u884c\uff08\u4f8b\u5982\uff0c\u901a\u904e\"G28\" \u6216 \"G28 Z0\" # \u547d\u4ee4\uff09\u3002\u8acb\u6ce8\u610f\uff0c\u8986\u84cb\u6307\u4ee4\u78bc\u4ecd\u7136\u9700\u8981\u6b78\u4f4d\u6240\u6709\u8ef8\u3002 # \u9810\u8a2d\u503c\u70ba\"xyz\"\uff0c\u8986\u84cb\u5168\u90e8\u6240\u6709 G28 \u547d\u4ee4\u3002 #set_position_x\uff1a #set_position_y\uff1a #set_position_z\uff1a # \u5982\u679c\u6307\u5b9a\uff0c\u5370\u8868\u6a5f\u5c07\u5047\u5b9a\u8ef8\u5728\u57f7\u884c\u4e0a\u8ff0 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u5e8f\u5217 # \u4e4b\u524d\u7684\u4f4d\u7f6e\u3002\u8a72\u8a2d\u5b9a\u6703\u7981\u7528\u76f8\u61c9\u8ef8\u7684\u6b78\u4f4d\u6aa2\u67e5\u3002\u5728\u5217\u5370 # \u982d\u5fc5\u9808\u5728\u57f7\u884c\u5e38\u898f G28 \u6a5f\u5236\u524d\u79fb\u52d5\u76f8\u61c9\u7684\u8ef8\u6642\u6709\u7528\u3002 # \u9810\u8a2d\u4e0d\u5047\u5b9a\u8ef8\u7684\u4f4d\u7f6e\u3002","title":"[homing_override]"},{"location":"Config_Reference.html#endstop_phase","text":"\u6b65\u9032\u76f8\u4f4d\u8abf\u6574\u64cb\u584a\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u4f7f\u7528\u201cendstop_phase\u201d\u524d\u7db4\u5b9a\u7fa9\u914d\u7f6e\u90e8\u5206\uff0c\u5f8c\u8ddf\u76f8\u61c9\u6b65\u9032\u5668\u914d\u7f6e\u90e8\u5206\u7684\u540d\u7a31\uff08\u4f8b\u5982\uff0c\u201c[endstop_phase stepper_z]\u201d\uff09\u3002\u6b64\u529f\u80fd\u53ef\u4ee5\u63d0\u9ad8\u9650\u4f4d\u958b\u95dc\u7684\u6e96\u78ba\u6027\u3002\u6dfb\u52a0\u4e00\u500b\u7c21\u55ae\u7684\u201c[endstop_phase]\u201d\u8072\u660e\u4ee5\u555f\u7528 ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 endstop phases guide \u548c command reference \u3002 [endstop_phase stepper_z] #endstop_accuracy: # \u8a2d\u5b9a\u9810\u671f\u7684\u9650\u4f4d\u7cbe\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\uff09\u3002 \u4ee3\u8868\u4e86\u76f8\u4f4d\u53ef\u80fd # \u89f8\u767c\u7684\u6700\u5927\u8aa4\u5dee\u8ddd\u96e2\uff08\u6bd4\u5982\uff0c\u4e00\u500b\u53ef\u80fd\u6703\u63d0\u65e9 100um \u89f8\u767c\u6216\u5ef6\u9072 # 100um \u89f8\u767c\u7684\u9650\u4f4d\u9700\u8981\u5c07\u8a72\u503c\u8a2d\u70ba 0.200,\u4e5f\u5c31\u662f 200um\uff09\u3002 # \u9810\u8a2d\u70ba 4*rotation_distance/full_steps_per_rotation\u3002 #trigger_phase: # \u8a72\u53c3\u6578\u5b9a\u7fa9\u4e86\u76f8\u4f4d\u89f8\u767c\u6642\u9810\u671f\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u76f8\u4f4d\u3002\u9019\u901a\u5e38\u662f\u5169 # \u500b\u7531\u6b63\u659c\u69d3\u7b26\u865f\u5206\u9694\u7684\u6574\u6578 - \u76f8\u4f4d\u548c\u7e3d\u76f8\u4f4d\u6578\uff08\u4f8b\u5982 \"7/64\"\uff09\u3002 # \u53ea\u6709\u7576\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5728 mcu \u91cd\u7f6e\u6642\u4e5f\u6703\u91cd\u7f6e\u624d\u9700\u8981\u8a72\u53c3\u6578\u3002 # \u5982\u679c\u6c92\u6709\u5b9a\u7fa9\uff0c\u6b65\u9032\u76f8\u4f4d\u6703\u5728\u7b2c\u4e00\u6b21\u6b78\u4f4d\u6642\u6aa2\u6e2c\u4e26\u88ab\u7528\u65bc\u5f8c\u7e8c\u6b78\u4f4d\u3002 #endstop_align_zero: False # \u5982\u679c\u662f True \u5247\u5370\u8868\u6a5f\u7684 position_endstop \u76f8\u61c9\u8ef8\u7684\u96f6\u9ede\u4f4d\u7f6e\u662f\u6b65\u9032 # \u96fb\u6a5f\u7684\u4e00\u500b\u5168\u6b65\u4f4d\u7f6e\u3002(\u5728Z\u8ef8\u4e0a\uff0c\u5982\u679c\u5217\u5370\u5c64\u9ad8\u662f\u5168\u6b65\u7684\u500d\u6578\uff0c\u6bcf # \u5c64\u90fd\u6703\u5728\u5168\u6b65\u4e0a\u3002\uff09 # \u9810\u8a2d\u70ba False\u3002","title":"[endstop_phase]"},{"location":"Config_Reference.html#g","text":"","title":"G \u7a0b\u5f0f\u78bc\u5b8f\u548c\u4e8b\u4ef6"},{"location":"Config_Reference.html#gcode_macro","text":"G-Code\u5b8f\uff08\"gcode_macro\"\u5b57\u9996\u5b9a\u7fa9\u7684G-Code \u5b8f\u5206\u6bb5\u6c92\u6709\u6578\u91cf\u9650\u5236\uff09\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u53c3\u898b \u547d\u4ee4\u6a21\u677f\u6307\u5357 \u3002 [gcode_macro \u547d\u4ee4] \u3002 #gcode: # \u4e00\u500b\u66ff\u4ee3\"\u547d\u4ee4\" \u57f7\u884c\u7684 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u7684\u5217\u8868\u3002\u8acb\u770b # docs/Command_Templates.md \u77ad\u89e3\u652f\u63f4\u7684 G \u7a0b\u5f0f\u78bc\u683c\u5f0f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #variable_<\u540d\u7a31>: # \u53ef\u4ee5\u6307\u5b9a\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\"\u8b8a\u6578_\"\u5b57\u9996\u7684\u8a2d\u5b9a\u3002 # \u5b9a\u7fa9\u7684\u8b8a\u6578\u540d\u5c07\u88ab\u8ce6\u4e88\u7d66\u5b9a\u7684\u503c\uff08\u4e26\u88ab\u89e3\u6790\u70ba\u4f5c\u70ba\u4e00\u500b # Python Literal\uff09\uff0c\u4e26\u5728\u5b8f\u64f4\u5145\u5957\u4ef6\u6642\u53ef\u7528\u3002 # \u4f8b\u5982\uff0c\u4e00\u500b\u5e36\u6709\"variable_fan_speed = 75\"\u7684 G-Code \u547d\u4ee4\u7684 # G \u7a0b\u5f0f\u78bc\u5217\u8868\u4e2d\u53ef\u4ee5\u5305\u542b\"M106 S{ fan_speed * 255 }\"\u3002\u8b8a\u6578 # \u53ef\u4ee5\u5728\u57f7\u884c\u6642\u4f7f\u7528 SET_GCODE_VARIABLE \u547d\u4ee4\u9032\u884c\u4fee\u6539 # \uff08\u8a73\u898bdocs/Command_Templates.md\uff09\u3002\u8b8a\u6578\u540d\u7a31 # \u4e0d\u80fd\u4f7f\u7528\u5927\u5beb\u5b57\u6bcd\u3002 #rename_existing: # \u9019\u500b\u9078\u9805\u5c07\u5c0e\u81f4\u5b8f\u8986\u84cb\u4e00\u500b\u73fe\u6709\u7684 G-Code \u547d\u4ee4\uff0c\u4e26\u901a\u904e # \u9019\u88e1\u63d0\u4f9b\u7684\u540d\u7a31\u5f15\u7528\u8a72\u547d\u4ee4\u7684\u5148\u524d\u5b9a\u7fa9\u3002\u8986\u84cb\u547d\u4ee4\u6642\u61c9\u6ce8 # \u610f\uff0c\u56e0\u70ba\u5b83\u53ef\u80fd\u6703\u5c0e\u81f4\u8907\u96dc\u548c\u610f\u5916\u7684\u932f\u8aa4\u3002 # \u9810\u8a2d\u4e0d\u8986\u84cb\u73fe\u6709\u7684 G-Code \u547d\u4ee4\u3002 #description: G-Code macro # \u5728 HELP \u547d\u4ee4\u6216\u81ea\u52d5\u5b8c\u6210\u4e2d\u4f7f\u7528\u7684\u7c21\u55ae\u63cf\u8ff0\u3002 # \u9810\u8a2d\u70ba\"G-Code macro\"\u3002","title":"[gcode_macro]"},{"location":"Config_Reference.html#delayed_gcode","text":"\u5728\u8a2d\u5b9a\u7684\u5ef6\u9072\u4e0a\u57f7\u884c G-Codee\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 command template guide \u548c command reference \u3002 [delayed_gcode my_delayed_gcode]\u3002 gcode: # \u7576\u5ef6\u9072\u6642\u9593\u7d50\u675f\u540e\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u5217\u8868\u3002\u652f\u63f4G\u7a0b\u5f0f\u78bc\u6a21\u677f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 #initial_duration:0.0 # \u521d\u59cb\u5ef6\u9072\u7684\u6301\u7e8c\u6642\u9593(\u4ee5\u79d2\u70ba\u55ae\u4f4d)\u3002\u5982\u679c\u8a2d\u5b9a\u70ba\u4e00\u500b # \u975e\u96f6\u503c\uff0cdelayed_gcode \u5c07\u5728\u5370\u8868\u6a5f\u9032\u5165 \"\u5c31\u7dd2 \"\u72c0\u614b\u540e\u6307\u5b9a # \u79d2\u6578\u540e\u57f7\u884c\u3002\u53ef\u80fd\u5c0d\u521d\u59cb\u5316\u7a0b\u5f0f\u6216\u91cd\u8907\u7684 delayed_gcode \u6709 # \u7528\u3002\u5982\u679c\u8a2d\u5b9a\u70ba 0\uff0cdelayed_gcode \u5c07\u5728\u555f\u52d5\u6642\u4e0d\u57f7\u884c\u3002 # \u9810\u8a2d\u70ba0\u3002","title":"[delayed_gcode]"},{"location":"Config_Reference.html#save_variables","text":"\u652f\u6301\u5c07\u8b8a\u91cf\u4fdd\u5b58\u5230\u78c1\u76e4\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u555f\u52d5\u6642\u4fdd\u7559\u5b83\u5011\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 [command templates]](Command_Templates.md#save-variables-to-disk) \u548c G-Code reference \u3002 [save_variables] filename: # \u5fc5\u9808\u63d0\u4f9b\u4e00\u500b\u53ef\u4ee5\u7528\u4f86\u5132\u5b58\u53c3\u6578\u5230\u78c1\u789f\u7684\u6a94\u540d\u3002 # \u4f8b\u5982 . ~/variables.cfg","title":"[save_variables]"},{"location":"Config_Reference.html#idle_timeout","text":"\u9592\u7f6e\u8d85\u6642\u3002\u9810\u8a2d\u555f\u7528\u9592\u7f6e\u8d85\u6642 - \u65b0\u589e\u986f\u5f0f idle_timeout \u914d\u7f6e\u5206\u6bb5\u4ee5\u66f4\u6539\u9810\u8a2d\u8a2d\u5b9a\u3002 [idle_timeout] #gcode: # \u5728\u7a7a\u9591\u8d85\u6642\u6642\u57f7\u884c\u7684\u4e00\u7cfb\u5217 G-Code \u547d\u4ee4\u3002G-Code \u683c\u5f0f\u8acb\u898b # docs/Command_Templates.md\u3002 # \u9810\u8a2d\u57f7\u884c \"TURN_OFF_HEATERS\" \u548c \"M84\"\u3002 #timeout: 600 # \u5728\u57f7\u884c\u4ee5\u4e0a G-Code \u524d\u7b49\u5f85\u7684\u7a7a\u9591\u6642\u9593\uff08\u4ee5\u79d2\u70ba\u55ae\u4f4d\uff09 # \u9810\u8a2d\u70ba 600 \u79d2\u3002","title":"[idle_timeout]"},{"location":"Config_Reference.html#g-code","text":"","title":"\u53ef\u9078\u7684 G-Code \u7279\u6027"},{"location":"Config_Reference.html#virtual_sdcard","text":"\u5982\u679c\u4e3b\u6a5f\u7684\u901f\u5ea6\u4e0d\u8db3\u4ee5\u5f88\u597d\u5730\u57f7\u884c OctoPrint\uff0c\u865b\u64ec SD \u5361\u53ef\u80fd\u6709\u5e6b\u52a9\u3002\u5b83\u5141\u8a31 Klipper \u4e3b\u6a5f\u8edf\u9ad4\u4f7f\u7528\u6a19\u6e96\u7684 SD \u5361G\u7a0b\u5f0f\u78bc\u547d\u4ee4\uff08\u4f8b\u5982\uff0cM24\uff09\u76f4\u63a5\u5217\u5370\u5132\u5b58\u5728\u4e3b\u6a5f\u76ee\u9304\u4e2d\u7684 gcode \u6a94\u6848\u3002 [virtual_sdcard] path: # The path of the local directory on the host machine to look for # g-code files. This is a read-only directory (sdcard file writes # are not supported). One may point this to OctoPrint's upload # directory (generally ~/.octoprint/uploads/ ). This parameter must # be provided. #on_error_gcode: # A list of G-Code commands to execute when an error is reported.","title":"[virtual_sdcard]"},{"location":"Config_Reference.html#sdcard_loop","text":"\u4e00\u4e9b\u5177\u6709\u968e\u6bb5\u6e05\u9664\u529f\u80fd\u7684\u6253\u5370\u6a5f\uff0c\u4f8b\u5982\u90e8\u4ef6\u5f48\u51fa\u5668\u6216\u5e36\u5f0f\u6253\u5370\u6a5f\uff0c\u53ef\u4ee5\u5728 sdcard \u6587\u4ef6\u7684\u5faa\u74b0\u90e8\u5206\u4e2d\u627e\u5230\u7528\u9014\u3002 \uff08\u4f8b\u5982\uff0c\u4e00\u904d\u53c8\u4e00\u904d\u5730\u6253\u5370\u76f8\u540c\u7684\u96f6\u4ef6\uff0c\u6216\u91cd\u8907\u96f6\u4ef6\u7684\u4e00\u90e8\u5206\u4ee5\u7372\u5f97\u934a\u6216\u5176\u4ed6\u91cd\u8907\u5716\u6848\uff09\u3002 \u6709\u95dc\u652f\u6301\u7684\u547d\u4ee4\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002\u8acb\u53c3\u95b1 sample-macros.cfg \u6587\u4ef6\u4e86\u89e3 Marlin \u517c\u5bb9\u7684 M808 G-Code\u78bc\u3002 [sdcard_loop]","title":"[sdcard_loop]"},{"location":"Config_Reference.html#force_move","text":"\u652f\u6301\u624b\u52d5\u79fb\u52d5\u6b65\u9032\u96fb\u6a5f\u9032\u884c\u8a3a\u65b7\u3002\u8acb\u6ce8\u610f\uff0c\u4f7f\u7528\u6b64\u529f\u80fd\u53ef\u80fd\u6703\u4f7f\u6253\u5370\u6a5f\u8655\u65bc\u7121\u6548\u72c0\u614b - \u6709\u95dc\u91cd\u8981\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [force_move] #enable_force_move: False # \u8a2d\u5b9a\u70batrue\u4f86\u555f\u7528 FORCE_MOVE \u548c SET_KINEMATIC_POSITION \u64f4\u5145\u5957\u4ef6 # G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002 # \u9810\u8a2d\u70bafalse\u3002","title":"[force_move]"},{"location":"Config_Reference.html#pause_resume","text":"\u652f\u6301\u4f4d\u7f6e\u6355\u7372\u548c\u6062\u5fa9\u7684\u66ab\u505c/\u6062\u5fa9\u529f\u80fd\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [pause_resume] #recover_velocity: 50. # \u7576\u6355\u6349/\u6062\u5fa9\u529f\u80fd\u88ab\u555f\u7528\u6642\uff0c\u8fd4\u56de\u5230\u6355\u7372\u7684\u4f4d\u7f6e\u7684\u901f\u5ea6(\u55ae\u4f4d\uff1a\u6beb\u7c73/\u79d2)\u3002 # \u9810\u8a2d\u70ba50.0 mm/s\u3002","title":"[pause_resume]"},{"location":"Config_Reference.html#firmware_retraction","text":"\u56fa\u4ef6\u5370\u7d72\u56de\u62bd\u3002\u9019\u555f\u7528\u4e86\u7531\u8a31\u591a\u5207\u7247\u5668\u767c\u51fa\u7684 G10\uff08\u56de\u62bd\uff09\u548c G11\uff08\u53d6\u6d88\u56de\u62bd\uff09GCODE \u547d\u4ee4\u3002\u4e0b\u9762\u7684\u53c3\u6578\u63d0\u4f9b\u4e86\u555f\u52d5\u9ed8\u8a8d\u503c\uff0c\u5118\u7ba1\u53ef\u4ee5\u901a\u904e SET_RETRACTION \u547d\u4ee4 ) \u8abf\u6574\u9019\u4e9b\u503c\uff0c\u5f9e\u800c\u5141\u8a31\u6bcf\u71c8\u7d72\u8a2d\u7f6e\u548c\u904b\u884c\u6642\u9593\u8abf\u6574\u3002 [firmware_retraction] #retract_length: 0 # \u7576 G10 \u88ab\u57f7\u884c\u6642\u56de\u62bd\u7684\u9577\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\uff09 # \u548c\u7576 G11 \u88ab\u57f7\u884c\u6642\u9000\u56de\u7684\u9577\u5ea6\uff08\u4f46\u540c\u6642\u4e5f\u5305\u62ec # \u4ee5\u4e0b\u7684unretract_extra_length\uff09\u3002 # \u9810\u8a2d\u70ba0\u6beb\u7c73\u3002 #retract_speed: 20 # \u56de\u62bd\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73\u6bcf\u79d2(mm/s)\u70ba\u55ae\u4f4d\u3002\u9810\u8a2d\u70ba\u6bcf\u79d220\u6beb\u7c73\u3002 #unretract_extra_length: 0 # \u9000\u56de\u6642\u589e\u52a0*\u984d\u5916*\u9577\u5ea6\uff08\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\uff09\u7684\u8017\u6750\u3002 #unretract_speed: 10 # \u9000\u56de\u901f\u5ea6\uff0c\u4ee5\u6beb\u7c73(mm)\u70ba\u55ae\u4f4d\u3002 # \u9810\u8a2d\u70ba\u6bcf\u79d210\u6beb\u7c73","title":"[firmware_retraction]"},{"location":"Config_Reference.html#gcode_arcs","text":"\u652f\u6301 G-Code arc (G2/G3) \u547d\u4ee4\u3002 [gcode_arcs] #resolution: 1.0 # \u4e00\u689d\u5f27\u7dda\u5c07\u88ab\u5206\u5272\u6210\u82e5\u5e72\u6bb5\u3002\u6bcf\u6bb5\u7684\u9577\u5ea6\u5c07 # \u7b49\u65bc\u4e0a\u9762\u8a2d\u5b9a\u7684\u89e3\u6790\u5ea6\uff08mm\uff09\u3002\u66f4\u4f4e\u7684\u503c\u6703\u7522\u751f\u4e00\u500b # \u66f4\u7d30\u81a9\u7684\u5f27\u7dda\uff0c\u4f46\u4e5f\u6703\u9700\u8981\u6a5f\u5668\u9032\u884c\u66f4\u591a\u904b\u7b97\u3002\u5c0f\u65bc # \u914d\u7f6e\u503c\u7684\u66f2\u7dda\u6703\u88ab\u8996\u70ba\u76f4\u7dda\u3002 # \u9810\u8a2d\u70ba1\u6beb\u7c73\u3002","title":"[gcode_arcs]"},{"location":"Config_Reference.html#respond","text":"\u555f\u7528\u201cM118\u201d\u548c\u201cRESPOND\u201d\u64f4\u5c55 commands \u3002 [respond] #default_type: echo # \u8a2d\u7f6e\u201cM118\u201d\u548c\u201cRESPOND\u201d\u8f38\u51fa\u7684\u9ed8\u8a8d\u524d\u7db4\u70ba # \u4ee5\u4e0b\u7684\u4e00\u9805 # echo: \"echo: \" (This is the default) # command: \"// \" # error: \"!! \" #default_prefix: echo: # \u76f4\u63a5\u8a2d\u7f6e\u9ed8\u8a8d\u524d\u7db4\u3002\u5982\u679c\u5b58\u5728\uff0c\u8a72\u503c\u5c07 # \u8986\u84cb\u201cdefault_type\u201d\u3002","title":"[respond]"},{"location":"Config_Reference.html#exclude_object","text":"Enables support to exclude or cancel individual objects during the printing process. See the exclude objects guide and command reference for additional information. See the sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro. [exclude_object]","title":"[exclude_object]"},{"location":"Config_Reference.html#_13","text":"","title":"\u5171\u632f\u88dc\u511f"},{"location":"Config_Reference.html#input_shaper","text":"\u555f\u7528 resonance compensation \u3002\u53e6\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [input_shaper] #shaper_freq_x: 0 # \u8f38\u5165\u6574\u5f62\u5668\u7684 X \u8ef8\u983b\u7387(Hz)\u3002\u901a\u5e38\u9019\u662f\u5e0c\u671b\u88ab\u8f38\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # X \u8ef8\u5171\u632f\u983b\u7387\u3002\u5c0d\u65bc\u66f4\u5fa9\u96dc\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f38\u5165 # \u6574\u5f62\u5668\uff0c\u8a2d\u5b9a\u9019\u500b\u53c3\u6578\u53ef\u80fd\u9700\u8981\u8003\u616e\u5176\u4ed6\u7279\u6027\u3002 # \u9810\u8a2d\u503c\u662f0\uff0c\u7981\u7528 X \u8ef8\u8f38\u5165\u6574\u5f62\u3002 #shaper_freq_y: 0 # \u8f38\u5165\u6574\u5f62\u5668\u7684 Y \u8ef8\u983b\u7387(Hz)\u3002\u901a\u5e38\u9019\u662f\u5e0c\u671b\u88ab\u8f38\u5165\u6574\u5f62\u5668\u6d88\u9664\u7684 # Y \u8ef8\u5171\u632f\u983b\u7387\u3002\u5c0d\u65bc\u66f4\u5fa9\u96dc\u7684\u6574\u5f62\u5668\uff0c\u4f8b\u59822- \u548c 3-hump EI \u8f38\u5165 # \u6574\u5f62\u5668\uff0c\u8a2d\u5b9a\u9019\u500b\u53c3\u6578\u53ef\u80fd\u9700\u8981\u8003\u616e\u5176\u4ed6\u7279\u6027\u3002 # \u9810\u8a2d\u503c\u662f0\uff0c\u7981\u7528 Y \u8ef8\u8f38\u5165\u6574\u5f62\u3002 #shaper_type: mzv # \u7528\u65bc X \u548c Y \u8ef8\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002\u652f\u63f4\u7684\u8f38\u5165\u6574\u5f62\u5668\u6709 zv\u3001mzv\u3001 # zvd\u3001ei\u30012hump_ei \u548c 3hump_ei\u3002 # \u9810\u8a2d\u70ba mzv \u8f38\u5165\u6574\u5f62\u5668\u3002 #shaper_type_x: #shaper_type_y: # \u5982\u679c\u6c92\u6709\u8a2d\u5b9a shaper_type\uff0c\u53ef\u4ee5\u7528\u9019\u5169\u500b\u53c3\u6578\u4f86\u55ae\u7368\u914d\u7f6e X # \u548c Y \u8ef8\u7684 \u8f38\u5165\u6574\u5f62\u5668\u3002 # \u8a72\u53c3\u6578\u652f\u63f4\u5168\u90e8shaper_type \u652f\u63f4\u7684\u9078\u9805\u3002 #damping_ratio_x: 0.1 #damping_ratio_y: 0.1 # X \u548c Y \u8ef8\u7684\u5171\u632f\u6291\u5236\u6bd4\u4f8b\uff0c\u53ef\u4ee5\u7528\u4f86\u6539\u5584\u632f\u52d5\u6291\u5236\u6548\u679c\u3002 # \u9810\u8a2d\u503c\u662f 0.1\uff0c\u9069\u7528\u65bc\u5927\u591a\u6578\u5370\u8868\u6a5f\u3002 # \u5927\u591a\u6578\u60c5\u6cc1\u4e0b\u4e0d\u9700\u8981\u8abf\u6574\u9019\u500b\u503c\u3002","title":"[input_shaper]"},{"location":"Config_Reference.html#adxl345","text":"\u652f\u6301 ADXL345 \u52a0\u901f\u5ea6\u8a08\u3002\u9019\u7a2e\u652f\u6301\u5141\u8a31\u4eba\u5011\u5f9e\u50b3\u611f\u5668\u67e5\u8a62\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u503c\u3002\u9019\u5c07\u555f\u7528 ACCELEROMETER_MEASURE \u547d\u4ee4\uff08\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 G-Codes \uff09\u3002\u9ed8\u8a8d\u82af\u7247\u540d\u7a31\u662f\u201cdefault\u201d\uff0c\u4f46\u53ef\u4ee5\u6307\u5b9a\u4e00\u500b\u660e\u78ba\u7684\u540d\u7a31\uff08\u4f8b\u5982\uff0c[adxl345 my_chip_name]\uff09\u3002 [adxl345] cs_pin: # \u611f\u6e2c\u5668\u7684 SPI \u555f\u7528\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #spi_speed: 5000000 # \u8207\u6676\u7247\u901a\u8a0a\u6642\u4f7f\u7528\u7684SPI\u901f\u5ea6(hz)\u3002 # \u9810\u8a2d\u70ba5000000\u3002 #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u53c3\u898b\"\u5e38\u898b\u7684SPI\u8a2d\u5b9a\"\u7ae0\u7bc0\uff0c\u4ee5\u77ad\u89e3\u5c0d\u4e0a\u8ff0\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #axes_map: x, y, z # \u5370\u8868\u6a5f\u7684X\u3001Y\u548cZ\u8ef8\u7684\u52a0\u901f\u5ea6\u8a08\u8ef8\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8a08\u7684\u5b89\u88dd\u65b9\u5411\u8207\u5370\u8868\u6a5f\u7684\u65b9\u5411\u4e0d\u4e00\u81f4\uff0c # \u53ef\u80fd\u9700\u8981\u4fee\u6539\u8a72\u8a2d\u5b9a\u3002 # \u4f8b\u5982\uff0c\u53ef\u4ee5\u5c07\u5176\u8a2d\u5b9a\u70ba\"y, x, z\"\u4f86\u4ea4\u63dbX\u548cY\u8ef8\u3002 # \u5982\u679c\u52a0\u901f\u5ea6\u8a08\u65b9\u5411\u662f\u76f8\u53cd\u7684\uff0c\u53ef\u80fd\u9700\u8981\u53cd\u8f49\u76f8\u61c9\u8ef8 # \uff08\u4f8b\u5982\uff0c\"x, z, -y\"\uff09\u3002 # \u9810\u8a2d\u662f\"x, y, z\"\u3002 #rate: 3200 # ADXL345\u7684\u8f38\u51fa\u6578\u64da\u901f\u7387\u3002ADXL345\u652f\u63f4\u4ee5\u4e0b\u6578\u64da\u901f\u7387\u3002 # 3200\u30011600\u3001800\u3001400\u3001200\u3001100\u300150\u548c25\u3002\u8acb\u6ce8\u610f\uff0c\u4e0d\u5efa\u8b70 # \u5c07\u6b64\u901f\u7387\u5f9e\u9810\u8a2d\u76843200\u6539\u70ba\u4f4e\u65bc800\u7684\u901f\u7387\uff0c\u9019\u5c07\u5927\u5927\u5f71\u97ff # \u5171\u632f\u6e2c\u91cf\u7684\u8cea\u91cf\u3002","title":"[adxl345]"},{"location":"Config_Reference.html#mpu9250","text":"Support for mpu9250 and mpu6050 accelerometers (one may define any number of sections with an \"mpu9250\" prefix). [mpu9250 my_accelerometer] #i2c_address: # Default is 104 (0x68). #i2c_mcu: #i2c_bus: #i2c_speed: 400000 # See the \"common I2C settings\" section for a description of the # above parameters. The default \"i2c_speed\" is 400000. #axes_map: x, y, z # See the \"adxl345\" section for information on this parameter.","title":"[mpu9250]"},{"location":"Config_Reference.html#resonance_tester","text":"\u652f\u6301\u5171\u632f\u6e2c\u8a66\u548c\u81ea\u52d5\u8f38\u5165\u6574\u5f62\u5668\u6821\u6e96\u3002\u70ba\u4e86\u4f7f\u7528\u8a72\u6a21\u584a\u7684\u5927\u90e8\u5206\u529f\u80fd\uff0c\u5fc5\u9808\u5b89\u88dd\u984d\u5916\u7684\u8edf\u4ef6\u4f9d\u8cf4\u9805\uff1b\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u6e2c\u91cf\u5171\u632f \u548c \u547d\u4ee4\u53c3\u8003 \u3002\u6709\u95dc max_smoothing \u53c3\u6578\u53ca\u5176\u4f7f\u7528\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1\u6e2c\u91cf\u5171\u632f\u6307\u5357\u7684 Max Smoothing \u90e8\u5206\u3002 [resonance_tester] #probe_points: # A list of X, Y, Z coordinates of points (one point per line) to test # resonances at. At least one point is required. Make sure that all # points with some safety margin in XY plane (~a few centimeters) # are reachable by the toolhead. #accel_chip: # A name of the accelerometer chip to use for measurements. If # adxl345 chip was defined without an explicit name, this parameter # can simply reference it as \"accel_chip: adxl345\", otherwise an # explicit name must be supplied as well, e.g. \"accel_chip: adxl345 # my_chip_name\". Either this, or the next two parameters must be # set. #accel_chip_x: #accel_chip_y: # Names of the accelerometer chips to use for measurements for each # of the axis. Can be useful, for instance, on bed slinger printer, # if two separate accelerometers are mounted on the bed (for Y axis) # and on the toolhead (for X axis). These parameters have the same # format as 'accel_chip' parameter. Only 'accel_chip' or these two # parameters must be provided. #max_smoothing: # Maximum input shaper smoothing to allow for each axis during shaper # auto-calibration (with 'SHAPER_CALIBRATE' command). By default no # maximum smoothing is specified. Refer to Measuring_Resonances guide # for more details on using this feature. #min_freq: 5 # Minimum frequency to test for resonances. The default is 5 Hz. #max_freq: 133.33 # Maximum frequency to test for resonances. The default is 133.33 Hz. #accel_per_hz: 75 # This parameter is used to determine which acceleration to use to # test a specific frequency: accel = accel_per_hz * freq. Higher the # value, the higher is the energy of the oscillations. Can be set to # a lower than the default value if the resonances get too strong on # the printer. However, lower values make measurements of # high-frequency resonances less precise. The default value is 75 # (mm/sec). #hz_per_sec: 1 # Determines the speed of the test. When testing all frequencies in # range [min_freq, max_freq], each second the frequency increases by # hz_per_sec. Small values make the test slow, and the large values # will decrease the precision of the test. The default value is 1.0 # (Hz/sec == sec^-2).","title":"[resonance_tester]"},{"location":"Config_Reference.html#_14","text":"","title":"\u914d\u7f6e\u6a94\u6848\u52a9\u624b"},{"location":"Config_Reference.html#board_pins","text":"\u63a7\u5236\u677f\u5f15\u8173\u5225\u540d\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709 \"board_pins \"\u5b57\u9996\u7684\u5206\u6bb5\uff09\u3002\u7528\u5b83\u4f86\u5b9a\u7fa9\u5fae\u63a7\u5236\u5668\u4e0a\u7684\u5f15\u8173\u7684\u5225\u540d\u3002 [board_pins my_aliases]\u3002 mcu: mcu # \u4e00\u500b\u53ef\u4ee5\u4f7f\u7528\u5225\u540d\u7684\u9017\u865f\u5206\u9694\u7684\u5fae\u63a7\u5236\u5668\u5217\u8868\u3002 # \u9810\u8a2d\u5c07\u5225\u540d\u61c9\u7528\u65bc\u4e3b \"mcu\"\u3002 aliases: aliases_<name>: # \u70ba\u7d66\u5b9a\u7684\u5fae\u63a7\u5236\u5668\u5efa\u7acb\u7684\u4e00\u500b\u4ee5\u9017\u865f\u5206\u9694\u7684 \"name=value \" # \u5225\u540d\u5217\u8868\u3002\u4f8b\u5982\uff0c\"EXP1_1=PE6\" \u5c07\u5efa\u7acb\u4e00\u500b\u7528\u65bc \"PE6 \"\u5f15 # \u8173\u7684\"EXP1_1 \"\u5225\u540d\u3002\u7136\u800c\uff0c\u5982\u679c \"\u503c \" \u88ab\u5305\u62ec\u5728 \"<>\"\u4e2d\uff0c # \u5247 \"name \"\u5c07\u88ab\u5efa\u7acb\u70ba\u4e00\u500b\u4fdd\u7559\u91dd\u8173\uff08\u4f8b\u5982\uff0c\"EXP1_9=<GND>\" # \u5c07\u4fdd\u7559 \"EXP1_9\"\uff09\u3002\u53ef\u4ee5\u6307\u5b9a\u4efb\u4f55\u6578\u91cf\u4ee5 \"aliases_\"\u958b\u982d\u7684\u5206\u6bb5\u3002","title":"[board_pins]"},{"location":"Config_Reference.html#include","text":"\u5f15\u5165\u6a94\u6848\u652f\u63f4\u3002\u53ef\u4ee5\u5728\u4e3b\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u5f15\u7528\u984d\u5916\u7684\u914d\u7f6e\u6a94\u6848\u3002\u652f\u63f4\u842c\u7528\u5b57\u5143\uff08\u4f8b\u5982\uff0c configs/*.cfg \uff09\u3002 [include my_other_config.cfg]","title":"[include]"},{"location":"Config_Reference.html#duplicate_pin_override","text":"\u8a72\u5de5\u5177\u5141\u8a31\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u591a\u6b21\u5b9a\u7fa9\u55ae\u500b\u5fae\u63a7\u5236\u5668\u5f15\u8173\uff0c\u800c\u7121\u9700\u9032\u884c\u6b63\u5e38\u7684\u932f\u8aa4\u6aa2\u67e5\u3002\u9019\u7528\u65bc\u8a3a\u65b7\u548c\u8abf\u8a66\u76ee\u7684\u3002\u5982\u679c Klipper \u652f\u6301\u591a\u6b21\u4f7f\u7528\u76f8\u540c\u7684\u5f15\u8173\uff0c\u5247\u4e0d\u9700\u8981\u6b64\u90e8\u5206\uff0c\u4e26\u4e14\u4f7f\u7528\u6b64\u8986\u84cb\u53ef\u80fd\u6703\u5c0e\u81f4\u6df7\u6dc6\u548c\u610f\u5916\u7d50\u679c\u3002 [duplicate_pin_override] pins: # \u4e00\u500b\u9017\u865f\u5206\u9694\u7684\u5f15\u8173\u5217\u8868\uff0c\u5141\u8a31\u5176\u4e2d\u7684\u5f15\u8173\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u88ab\u591a\u6b21\u4f7f\u7528\u800c\u4e0d\u89f8\u767c\u932f\u8aa4\u6aa2\u67e5\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002","title":"[duplicate_pin_override]"},{"location":"Config_Reference.html#_15","text":"","title":"\u5217\u5370\u5e8a\u63a2\u6e2c\u786c\u9ad4"},{"location":"Config_Reference.html#probe","text":"Z \u9ad8\u5ea6\u63a2\u982d\u3002\u53ef\u4ee5\u5b9a\u7fa9\u6b64\u90e8\u5206\u4ee5\u555f\u7528 Z \u9ad8\u5ea6\u63a2\u6e2c\u786c\u4ef6\u3002\u555f\u7528\u6b64\u90e8\u5206\u5f8c\uff0cPROBE \u548c QUERY_PROBE \u64f4\u5c55 g-code commands \u8b8a\u5f97\u53ef\u7528\u3002\u6b64\u5916\uff0c\u8acb\u53c3\u95b1 \u63a2\u982d\u6821\u6e96\u6307\u5357 \u3002\u63a2\u6e2c\u90e8\u5206\u9084\u5275\u5efa\u4e00\u500b\u865b\u64ec\u7684\u201cprobe:z_virtual_endstop\u201d\u5f15\u8173\u3002\u53ef\u4ee5\u5c07 stepper_z endstop_pin \u8a2d\u7f6e\u70ba\u7b1b\u5361\u723e\u5f0f\u6253\u5370\u6a5f\u4e0a\u7684\u6b64\u865b\u64ec\u5f15\u8173\uff0c\u8a72\u6253\u5370\u6a5f\u4f7f\u7528\u63a2\u91dd\u4ee3\u66ff z \u7d42\u9ede\u3002\u5982\u679c\u4f7f\u7528\u201cprobe:z_virtual_endstop\u201d\uff0c\u5247\u4e0d\u8981\u5728 stepper_z \u914d\u7f6e\u90e8\u5206\u5b9a\u7fa9 position_endstop\u3002 [probe] pin: # Probe detection pin. If the pin is on a different microcontroller # than the Z steppers then it enables \"multi-mcu homing\". This # parameter must be provided. #deactivate_on_each_sample: True # This determines if Klipper should execute deactivation gcode # between each probe attempt when performing a multiple probe # sequence. The default is True. #x_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # x-axis. The default is 0. #y_offset: 0.0 # The distance (in mm) between the probe and the nozzle along the # y-axis. The default is 0. z_offset: # The distance (in mm) between the bed and the nozzle when the probe # triggers. This parameter must be provided. #speed: 5.0 # Speed (in mm/s) of the Z axis when probing. The default is 5mm/s. #samples: 1 # The number of times to probe each point. The probed z-values will # be averaged. The default is to probe 1 time. #sample_retract_dist: 2.0 # The distance (in mm) to lift the toolhead between each sample (if # sampling more than once). The default is 2mm. #lift_speed: # Speed (in mm/s) of the Z axis when lifting the probe between # samples. The default is to use the same value as the 'speed' # parameter. #samples_result: average # The calculation method when sampling more than once - either # \"median\" or \"average\". The default is average. #samples_tolerance: 0.100 # The maximum Z distance (in mm) that a sample may differ from other # samples. If this tolerance is exceeded then either an error is # reported or the attempt is restarted (see # samples_tolerance_retries). The default is 0.100mm. #samples_tolerance_retries: 0 # The number of times to retry if a sample is found that exceeds # samples_tolerance. On a retry, all current samples are discarded # and the probe attempt is restarted. If a valid set of samples are # not obtained in the given number of retries then an error is # reported. The default is zero which causes an error to be reported # on the first sample that exceeds samples_tolerance. #activate_gcode: # A list of G-Code commands to execute prior to each probe attempt. # See docs/Command_Templates.md for G-Code format. This may be # useful if the probe needs to be activated in some way. Do not # issue any commands here that move the toolhead (eg, G1). The # default is to not run any special G-Code commands on activation. #deactivate_gcode: # A list of G-Code commands to execute after each probe attempt # completes. See docs/Command_Templates.md for G-Code format. Do not # issue any commands here that move the toolhead. The default is to # not run any special G-Code commands on deactivation.","title":"[probe]"},{"location":"Config_Reference.html#bltouch","text":"BLTouch \u63a2\u91dd\u3002\u53ef\u4ee5\u5b9a\u7fa9\u9019\u500b\u5206\u6bb5\uff08\u800c\u4e0d\u662f\u63a2\u91dd\uff08probe\uff09\u5206\u6bb5\uff09\u4f86\u555f\u7528 BLTouch \u63a2\u91dd\u3002\u66f4\u591a\u8cc7\u8a0a\u898b BL-Touch \u6307\u5357 \u548c \u547d\u4ee4\u53c3\u8003 \u3002\u4e00\u500b\u865b\u64ec\u7684 \"probe:z_virtual_endstop \"\u5f15\u8173\u4e5f\u6703\u88ab\u540c\u6642\u5efa\u7acb\uff08\u8a73\u898b \"probe \"\u7ae0\u7bc0\uff09\u3002 [bltouch] sensor_pin: # Pin connected to the BLTouch sensor pin. Most BLTouch devices # require a pullup on the sensor pin (prefix the pin name with \"^\"). # This parameter must be provided. control_pin: # Pin connected to the BLTouch control pin. This parameter must be # provided. #pin_move_time: 0.680 # The amount of time (in seconds) to wait for the BLTouch pin to # move up or down. The default is 0.680 seconds. #stow_on_each_sample: True # This determines if Klipper should command the pin to move up # between each probe attempt when performing a multiple probe # sequence. Read the directions in docs/BLTouch.md before setting # this to False. The default is True. #probe_with_touch_mode: False # If this is set to True then Klipper will probe with the device in # \"touch_mode\". The default is False (probing in \"pin_down\" mode). #pin_up_reports_not_triggered: True # Set if the BLTouch consistently reports the probe in a \"not # triggered\" state after a successful \"pin_up\" command. This should # be True for all genuine BLTouch devices. Read the directions in # docs/BLTouch.md before setting this to False. The default is True. #pin_up_touch_mode_reports_triggered: True # Set if the BLTouch consistently reports a \"triggered\" state after # the commands \"pin_up\" followed by \"touch_mode\". This should be # True for all genuine BLTouch devices. Read the directions in # docs/BLTouch.md before setting this to False. The default is True. #set_output_mode: # Request a specific sensor pin output mode on the BLTouch V3.0 (and # later). This setting should not be used on other types of probes. # Set to \"5V\" to request a sensor pin output of 5 Volts (only use if # the controller board needs 5V mode and is 5V tolerant on its input # signal line). Set to \"OD\" to request the sensor pin output use # open drain mode. The default is to not request an output mode. #x_offset: #y_offset: #z_offset: #speed: #lift_speed: #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: # See the \"probe\" section for information on these parameters.","title":"[bltouch]"},{"location":"Config_Reference.html#smart_effector","text":"The \"Smart Effector\" from Duet3d implements a Z probe using a force sensor. One may define this section instead of [probe] to enable the Smart Effector specific features. This also enables runtime commands to adjust the parameters of the Smart Effector at run time. [smart_effector] pin: # Pin connected to the Smart Effector Z Probe output pin (pin 5). Note that # pullup resistor on the board is generally not required. However, if the # output pin is connected to the board pin with a pullup resistor, that # resistor must be high value (e.g. 10K Ohm or more). Some boards have a low # value pullup resistor on the Z probe input, which will likely result in an # always-triggered probe state. In this case, connect the Smart Effector to # a different pin on the board. This parameter is required. #control_pin: # Pin connected to the Smart Effector control input pin (pin 7). If provided, # Smart Effector sensitivity programming commands become available. #probe_accel: # If set, limits the acceleration of the probing moves (in mm/sec^2). # A sudden large acceleration at the beginning of the probing move may # cause spurious probe triggering, especially if the hotend is heavy. # To prevent that, it may be necessary to reduce the acceleration of # the probing moves via this parameter. #recovery_time: 0.4 # A delay between the travel moves and the probing moves in seconds. A fast # travel move prior to probing may result in a spurious probe triggering. # This may cause 'Probe triggered prior to movement' errors if no delay # is set. Value 0 disables the recovery delay. # Default value is 0.4. #x_offset: #y_offset: # Should be left unset (or set to 0). z_offset: # Trigger height of the probe. Start with -0.1 (mm), and adjust later using # `PROBE_CALIBRATE` command. This parameter must be provided. #speed: # Speed (in mm/s) of the Z axis when probing. It is recommended to start # with the probing speed of 20 mm/s and adjust it as necessary to improve # the accuracy and repeatability of the probe triggering. #samples: #sample_retract_dist: #samples_result: #samples_tolerance: #samples_tolerance_retries: #activate_gcode: #deactivate_gcode: #deactivate_on_each_sample: # See the \"probe\" section for more information on the parameters above.","title":"[smart_effector]"},{"location":"Config_Reference.html#_16","text":"","title":"\u984d\u5916\u7684\u6b65\u9032\u96fb\u6a5f\u548c\u64e0\u51fa\u6a5f"},{"location":"Config_Reference.html#stepper_z1","text":"\u591a\u6b65\u9032\u8ef8\u3002\u5728XYZ\u6a5f\u578b\u6253\u5370\u6a5f\u4e0a\uff0c\u63a7\u5236\u7d66\u5b9a\u8ef8\u7684\u6b65\u9032\u5668\u53ef\u80fd\u5177\u6709\u984d\u5916\u7684\u914d\u7f6e\u584a\uff0c\u9019\u4e9b\u914d\u7f6e\u584a\u5b9a\u7fa9\u4e86\u61c9\u8a72\u8207\u4e3b\u6b65\u9032\u5668\u4e00\u8d77\u6b65\u9032\u7684\u6b65\u9032\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u5f9e 1 \u958b\u59cb\u7684\u6578\u5b57\u5f8c\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff08\u4f8b\u5982\uff0c\u201cstepper_z1\u201d\u3001\u201cstepper_z2\u201d\u7b49\uff09\u3002 [stepper_z1] #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u4e0a\u8ff0\u53c3\u6578\u7684\u5b9a\u7fa9\u898b\u201c\u6b65\u9032\u5668\u201d\u90e8\u5206\u3002 #endstop_pin: # \u5982\u679c\u70ba\u9644\u52a0\u6b65\u9032\u5668\u5b9a\u7fa9\u4e86 endstop_pin\uff0c\u5247 # stepper \u5c07\u8fd4\u56de\u76f4\u5230 endstop \u88ab\u89f8\u767c\u3002\u5426\u5247\uff0c\u8a72 # \u6b65\u9032\u5668\u5c07\u8fd4\u56de\u539f\u4f4d\uff0c\u76f4\u5230\u4e3b\u6b65\u9032\u5668\u4e0a\u7684 endstop \u70ba # \u8ef8\u88ab\u89f8\u767c\u3002","title":"[stepper_z1]"},{"location":"Config_Reference.html#extruder1","text":"\u5728\u4e00\u500b\u591a\u64e0\u51fa\u6a5f\u7684\u5370\u8868\u6a5f\u4e2d\uff0c\u70ba\u6bcf\u500b\u984d\u5916\u7684\u64e0\u51fa\u6a5f\u65b0\u589e\u4e00\u500b\u984d\u5916\u64e0\u51fa\u6a5f\u5206\u6bb5\u3002\u984d\u5916\u64e0\u51fa\u6a5f\u5206\u6bb5\u61c9\u88ab\u547d\u540d\u70ba\"extruder1\"\u3001\"extruder2\"\u3001\"extruder3\"\uff0c\u4ee5\u6b64\u985e\u63a8\u3002\u6709\u95dc\u53ef\u7528\u53c3\u6578\uff0c\u53c3\u898b\"extruder\"\u7ae0\u7bc0\u3002 \u6709\u95dc\u793a\u4f8b\u914d\u7f6e\uff0c\u8acb\u53c3\u898b sample-multi-extruder.cfg \u3002 [extruder1] #step_pin: #dir_pin: #... # \u6709\u95dc\u53ef\u7528\u7684\u6b65\u9032\u5668\u548c\u52a0\u71b1\u5668\uff0c\u8acb\u53c3\u95b1\u201c\u64e0\u51fa\u6a5f\u201d\u90e8\u5206 \uff03 \u53c3\u6578\u3002 #shared_heater: # \u6b64\u9078\u9805\u5df2\u68c4\u7528\uff0c\u4e0d\u61c9\u518d\u6307\u5b9a\u3002","title":"[extruder1]"},{"location":"Config_Reference.html#dual_carriage","text":"\u652f\u6301\u5728\u55ae\u8ef8\u4e0a\u5177\u6709\u96d9\u6258\u67b6\u7684XYZ\u6a5f\u578b\u6253\u5370\u6a5f\u3002\u6d3b\u52d5\u6258\u67b6\u901a\u904e SET_DUAL_CARRIAGE \u64f4\u5c55 G-Code\u8a2d\u7f6e\u3002 \u201cSET_DUAL_CARRIAGE CARRIAGE=1\u201d\u547d\u4ee4\u5c07\u6fc0\u6d3b\u672c\u7bc0\u4e2d\u5b9a\u7fa9\u7684\u6258\u67b6\uff08CARRIAGE=0 \u5c07\u6fc0\u6d3b\u8fd4\u56de\u5230\u4e3b\u6258\u67b6\uff09\u3002\u96d9\u6258\u67b6\u652f\u6301\u901a\u5e38\u8207\u984d\u5916\u7684\u64e0\u51fa\u6a5f\u7d50\u5408\u4f7f\u7528 - SET_DUAL_CARRIAGE \u547d\u4ee4\u901a\u5e38\u8207 ACTIVATE_EXTRUDER \u547d\u4ee4\u540c\u6642\u8abf\u7528\u3002\u8acb\u52d9\u5fc5\u5728\u505c\u7528\u671f\u9593\u505c\u653e\u6258\u67b6\u3002 \u6709\u95dc\u793a\u4f8b\u914d\u7f6e\uff0c\u8acb\u53c3\u95b1 sample-idex.cfg \u3002 [dual_carriage] axis: # \u984d\u5916\u6ed1\u8eca\u6240\u5728\u7684\u8ef8\uff08x\u6216\u8005y\uff09\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: #endstop_pin: #position_endstop: #position_min: #position_max: # \u4ee5\u4e0a\u53c3\u6578\u7684\u5b9a\u7fa9\u8acb\u67e5\u95b1\u300cstepper\u300d\u5206\u6bb5\u3002","title":"[dual_carriage]"},{"location":"Config_Reference.html#extruder_stepper","text":"\u652f\u6301\u8207\u64e0\u51fa\u6a5f\u904b\u52d5\u540c\u6b65\u7684\u9644\u52a0\u6b65\u9032\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cextruder_stepper\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 \u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [extruder_stepper my_extra_stepper] extruder: # The extruder this stepper is synchronized to. If this is set to an # empty string then the stepper will not be synchronized to an # extruder. This parameter must be provided. #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # See the \"stepper\" section for the definition of the above # parameters.","title":"[extruder_stepper]"},{"location":"Config_Reference.html#manual_stepper","text":"\u624b\u52d5\u6b65\u9032\u5668\uff08\u53ef\u4ee5\u4f7f\u7528\u201cmanual_stepper\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u9019\u4e9b\u662f\u7531 MANUAL_STEPPER g-code \u547d\u4ee4\u63a7\u5236\u7684\u6b65\u9032\u5668\u3002\u4f8b\u5982\uff1a\u201cMANUAL_STEPPER STEPPER=my_stepper MOVE=10 SPEED=5\u201d\u3002\u6709\u95dc MANUAL_STEPPER \u547d\u4ee4\u7684\u8aaa\u660e\uff0c\u8acb\u53c3\u898b G-Codes \u6587\u4ef6\u3002\u6b65\u9032\u5668\u672a\u9023\u63a5\u5230\u6b63\u5e38\u7684\u6253\u5370\u6a5f\u904b\u52d5\u5b78\u3002 [manual_stepper my_stepper]\u3002 #step_pin: #dir_pin: #enable_pin: #microsteps: #rotation_distance: # \u6709\u95dc\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u8acb\u898b\"stepper\"\u5206\u6bb5\u3002 #velocity: # \u8a2d\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u9810\u8a2d\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s\uff09\u3002\u9019\u500b\u503c\u6703\u5728 MANUAL_STEPPER # \u547d\u4ee4\u6c92\u6709\u6307\u5b9a\u4e00\u500b SPEED \u53c3\u6578\u6642\u6703\u88ab\u4f7f\u7528\u3002 # \u9810\u8a2d\u70ba 5 mm/s\u3002 #accel: # \u8a2d\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u9810\u8a2d\u52a0\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s^2\uff09\u3002\u8a2d\u5b9a\u52a0\u901f\u5ea6\u70ba\u96f6\u5c07\u5c0e\u81f4 # \u6c92\u6709\u52a0\u901f\u5ea6\u3002\u9019\u500b\u503c\u6703\u5728 MANUAL_STEPPER \u547d\u4ee4\u6c92\u6709\u6307\u5b9a ACCEL \u53c3\u6578\u6642 # \u6703\u88ab\u4f7f\u7528\u3002 # \u9810\u8a2d\u70ba 0\u3002 #endstop_pin: # \u9650\u4f4d\u958b\u95dc\u6aa2\u6e2c\u5f15\u8173\u3002\u5982\u679c\u5b9a\u7fa9\u4e86\u9019\u500b\u53c3\u6578\uff0c\u53ef\u4ee5\u901a\u904e\u5728 MANUAL_STEPPER # \u904b\u52d5\u547d\u4ee4\u4e2d\u65b0\u589e\u4e00\u500b STOP_ON_ENDSTOP \u53c3\u6578\u4f86\u57f7\u884c \"\u6b78\u4f4d\u52d5\u4f5c\" \u3002","title":"[manual_stepper]"},{"location":"Config_Reference.html#_17","text":"","title":"\u81ea\u5b9a\u7fa9\u52a0\u71b1\u5668\u548c\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#verify_heater","text":"\u52a0\u71b1\u5668\u548c\u6eab\u5ea6\u611f\u6e2c\u5668\u9a57\u8b49\u3002\u9810\u8a2d\u5728\u5370\u8868\u6a5f\u4e0a\u6bcf\u500b\u914d\u7f6e\u7684\u52a0\u71b1\u5668\u4e0a\u555f\u7528\u52a0\u71b1\u5668\u9a57\u8b49\u3002\u4f7f\u7528 verify_heater \u5206\u6bb5\u4f86\u8986\u84cb\u9810\u8a2d\u8a2d\u5b9a\u3002 [verify_heater heater_config_name] #max_error: 120 # The maximum \"cumulative temperature error\" before raising an # error. Smaller values result in stricter checking and larger # values allow for more time before an error is reported. # Specifically, the temperature is inspected once a second and if it # is close to the target temperature then an internal \"error # counter\" is reset; otherwise, if the temperature is below the # target range then the counter is increased by the amount the # reported temperature differs from that range. Should the counter # exceed this \"max_error\" then an error is raised. The default is # 120. #check_gain_time: # This controls heater verification during initial heating. Smaller # values result in stricter checking and larger values allow for # more time before an error is reported. Specifically, during # initial heating, as long as the heater increases in temperature # within this time frame (specified in seconds) then the internal # \"error counter\" is reset. The default is 20 seconds for extruders # and 60 seconds for heater_bed. #hysteresis: 5 # The maximum temperature difference (in Celsius) to a target # temperature that is considered in range of the target. This # controls the max_error range check. It is rare to customize this # value. The default is 5. #heating_gain: 2 # The minimum temperature (in Celsius) that the heater must increase # by during the check_gain_time check. It is rare to customize this # value. The default is 2.","title":"[verify_heater]"},{"location":"Config_Reference.html#homing_heaters","text":"\u5728\u6b78\u4f4d\u6216\u63a2\u6e2c\u8ef8\u6642\u7981\u7528\u52a0\u71b1\u5668\u7684\u5de5\u5177\u3002 [homing_heaters] #steppers: # \u6703\u4f7f\u52a0\u71b1\u5668\u88ab\u7981\u7528\u7684\u6b65\u9032\u96fb\u6a5f\u9017\u865f\u5206\u9694\u5217\u8868\u3002 # \u9810\u8a2d\u5728\u6b78\u96f6\u548c\u63a2\u6e2c\u6642\u7981\u7528\u5168\u90e8\u52a0\u71b1\u5668\u3002 # \u4f8b\u5982\uff1astepper_z #heaters: # \u6b78\u96f6\u548c\u63a2\u6e2c\u6642\u6703\u88ab\u7981\u7528\u7684\u52a0\u71b1\u5668\u7684\u9017\u865f\u5206\u9694\u5217\u8868\u3002 # \u9810\u8a2d\u7981\u7528\u5168\u90e8\u52a0\u71b1\u5668\u3002 # \u4f8b\u5982\uff1aextruder, heater_bed","title":"[homing_heaters]"},{"location":"Config_Reference.html#thermistor","text":"\u81ea\u5b9a\u7fa9\u71b1\u654f\u96fb\u963b\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u300c\u71b1\u654f\u96fb\u963b\u300d\u5b57\u9996\u7684\u5206\u6bb5\uff09\u3002\u53ef\u4ee5\u5728\u52a0\u71b1\u5668\u914d\u7f6e\u5206\u6bb5\u7684 sensor_type \u6b04\u4f4d\u4e2d\u4f7f\u7528\u81ea\u5b9a\u7fa9\u71b1\u654f\u96fb\u963b\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u7fa9\u4e86\u300c[thermistor my_thermistor]\u300d\u5206\u6bb5\uff0c\u90a3\u9ebc\u5728\u5b9a\u7fa9\u52a0\u71b1\u5668\u6642\u53ef\u4ee5\u4f7f\u7528\u300csensor_type: my_thermistor\u300d\u3002\uff09\u78ba\u4fdd\u5c07\u71b1\u654f\u96fb\u963b\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [thermistor my_thermistor] #temperature1: #resistance1: #temperature2: #resistance2: #temperature3: #resistance3: # Three resistance measurements (in Ohms) at the given temperatures # (in Celsius). The three measurements will be used to calculate the # Steinhart-Hart coefficients for the thermistor. These parameters # must be provided when using Steinhart-Hart to define the # thermistor. #beta: # Alternatively, one may define temperature1, resistance1, and beta # to define the thermistor parameters. This parameter must be # provided when using \"beta\" to define the thermistor.","title":"[thermistor]"},{"location":"Config_Reference.html#adc_temperature","text":"\u81ea\u5b9a\u7fa9 ADC \u6eab\u5ea6\u611f\u6e2c\u5668\uff08\u53ef\u4ee5\u4f7f\u7528 \u300cadc_temperature\u300d \u5b57\u9996\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5206\u6bb5\uff09\u3002\u9019\u5141\u8a31\u5b9a\u7fa9\u4e00\u500b\u81ea\u5b9a\u7fa9\u6eab\u5ea6\u611f\u6e2c\u5668\uff0c\u8a72\u611f\u6e2c\u5668\u6e2c\u91cf\u4e00\u500b\u6a21\u6578\u8f49\u63db\u5668 (ADC) \u5f15\u8173\u4e0a\u7684\u96fb\u58d3\uff0c\u4e26\u5728\u4e00\u7d44\u914d\u7f6e\u7684\u6eab\u5ea6/\u96fb\u58d3\uff08\u6216\u6eab\u5ea6/\u96fb\u963b\uff09\u6e2c\u91cf\u503c\u4e4b\u9593\u4f7f\u7528\u7dda\u6027\u63d2\u503c\u4f86\u78ba\u5b9a\u6eab\u5ea6\u3002\u8a2d\u5b9a\u7684\u611f\u6e2c\u5668\u53ef\u88ab\u7528\u4f5c\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u7684 sensor_type\u3002 \uff08\u4f8b\u5982\uff0c\u5982\u679c\u5b9a\u7fa9\u4e86 \u300c[adc_temperature my_sensor]\u300d \u5206\u6bb5\uff0c\u5247\u5728\u5b9a\u7fa9\u52a0\u71b1\u5668\u6642\u53ef\u4ee5\u4f7f\u7528 \u300csensor_type: my_sensor\u300d \u3002\uff09\u78ba\u4fdd\u5c07\u611f\u6e2c\u5668\u5206\u6bb5\u653e\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u7b2c\u4e00\u6b21\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u7684\u4e0a\u65b9\u3002 [adc_temperature my_sensor] #temperature1: #voltage1: #temperature2: #voltage2: #... # \u4e00\u7d44\u7528\u4f5c\u6eab\u5ea6\u8f49\u63db\u7684\u53c3\u8003\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\uff09\u548c\u96fb\u58d3\uff08\u4ee5 # \u4f0f\u7279\u70ba\u55ae\u4f4d\uff09\u3002\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e5f\u53ef\u4ee5\u6307\u5b9a # adc_voltage \u548c voltage_offset \u53c3\u6578\u4f86\u5b9a\u7fa9 ADC \u96fb\u58d3\uff08\u8a73\u898b\u300c\u5e38\u7528\u6eab\u5ea6 # \u653e\u5927\u5668\u300d\u7ae0\u7bc0\uff09\u3002\u81f3\u5c11\u8981\u63d0\u4f9b\u5169\u500b\u6e2c\u91cf\u9ede\u3002 #temperature1: #resistance1: #temperature2: #resistance2: #... # \u4f5c\u70ba\u66ff\u4ee3\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e00\u7d44\u7528\u4f5c\u6eab\u5ea6\u8f49\u63db\u7684\u53c3\u8003\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba # \u55ae\u4f4d\uff09\u548c\u963b\u503c\uff08\u4ee5\u6b50\u59c6\u70ba\u55ae\u4f4d\uff09\u3002\u4f7f\u7528\u9019\u500b\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e5f # \u53ef\u4ee5\u6307\u5b9a\u4e00\u500b pullup_resistor \u53c3\u6578\uff08\u8a73\u898b\u300c\u64e0\u51fa\u6a5f\u300d\u7ae0\u7bc0\uff09\u3002\u81f3\u5c11\u8981 # \u63d0\u4f9b\u5169\u500b\u6e2c\u91cf\u9ede\u3002","title":"[adc_temperature]"},{"location":"Config_Reference.html#heater_generic","text":"\u901a\u7528\u52a0\u71b1\u5668\uff08\u53ef\u4ee5\u4f7f\u7528\u201cheater_generic\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u9019\u4e9b\u52a0\u71b1\u5668\u7684\u884c\u70ba\u985e\u4f3c\u65bc\u6a19\u6e96\u52a0\u71b1\u5668\uff08\u64e0\u51fa\u6a5f\u3001\u52a0\u71b1\u5e8a\uff09\u3002\u4f7f\u7528 SET_HEATER_TEMPERATURE \u547d\u4ee4\uff08\u8a73\u898b G-Codes \uff09\u8a2d\u7f6e\u76ee\u6a19\u6eab\u5ea6\u3002 [heater_generic my_generic_heater] #gcode_id: # \u4f7f\u7528M105\u67e5\u8a62\u6eab\u5ea6\u6642\u4f7f\u7528\u7684ID\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #heater_pin: #max_power: #sensor_type: #sensor_pin: #smooth_time: #control: #pid_Kp: #pid_Ki: #pid_Kd: #pwm_cycle_time: #min_temp: #max_temp: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cextruder\u300d\u5206\u6bb5\u3002","title":"[heater_generic]"},{"location":"Config_Reference.html#temperature_sensor","text":"\u901a\u7528\u6eab\u5ea6\u611f\u6e2c\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u901a\u7528\u6eab\u5ea6\u611f\u6e2c\u5668\uff09\u3002\u901a\u904e M105 \u547d\u4ee4\u67e5\u8a62\u6eab\u5ea6\u3002 [temperature_sensor my_sensor] #sensor_type: #sensor_pin: #min_temp: #max_temp: # See the \"extruder\" section for the definition of the above # parameters. #gcode_id: # See the \"heater_generic\" section for the definition of this # parameter.","title":"[temperature_sensor]"},{"location":"Config_Reference.html#_18","text":"Klipper \u5305\u62ec\u8a31\u591a\u578b\u5225\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\u7684\u5b9a\u7fa9\u3002\u9019\u4e9b\u611f\u6e2c\u5668\u53ef\u4ee5\u5728\u4efb\u4f55\u9700\u8981\u6eab\u5ea6\u611f\u6e2c\u5668\u7684\u914d\u7f6e\u5206\u6bb5\u4e2d\u4f7f\u7528\uff08\u4f8b\u5982 [extruder] \u6216 [heated_bed] \u5206\u6bb5\uff09\u3002","title":"\u6eab\u5ea6\u50b3\u611f\u5668"},{"location":"Config_Reference.html#_19","text":"\u5e38\u898b\u7684\u71b1\u654f\u96fb\u963b\u3002\u5728\u4f7f\u7528\u9019\u4e9b\u611f\u6e2c\u5668\u4e4b\u4e00\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c3\u6578\u3002 sensor_type: # One of \"EPCOS 100K B57560G104F\", \"ATC Semitec 104GT-2\", # \"ATC Semitec 104NT-4-R025H42G\", \"Generic 3950\", # \"Honeywell 100K 135-104LAG-J01\", \"NTC 100K MGB18-104F39050L32\", # \"SliceEngineering 450\", or \"TDK NTCG104LH104JT1\" sensor_pin: # Analog input pin connected to the thermistor. This parameter must # be provided. #pullup_resistor: 4700 # The resistance (in ohms) of the pullup attached to the thermistor. # The default is 4700 ohms. #inline_resistor: 0 # The resistance (in ohms) of an extra (not heat varying) resistor # that is placed inline with the thermistor. It is rare to set this. # The default is 0 ohms.","title":"\u5e38\u898b\u71b1\u654f\u96fb\u963b"},{"location":"Config_Reference.html#_20","text":"\u5e38\u898b\u6eab\u5ea6\u653e\u5927\u5668\u3002\u5728\u4f7f\u7528\u9019\u4e9b\u611f\u6e2c\u5668\u4e4b\u4e00\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u53c3\u6578\u3002 sensor_type: # \u201cPT100 INA826\u201d\u3001\u201cAD595\u201d\u3001\u201cAD597\u201d\u3001\u201cAD8494\u201d\u3001\u201cAD8495\u201d\u4e4b\u4e00\uff0c #\u201cAD8496\u201d \u6216\u201cAD8497\u201d\u3002 sensor_pin: # \u6a21\u64ec\u8f38\u5165\u5f15\u8173\u9023\u63a5\u5230\u50b3\u611f\u5668\u3002\u8a72\u53c3\u6578\u5fc5\u9808\u662f \uff03 \u8a2d\u5b9a\u3002 #adc_voltage: 5.0 # ADC \u6bd4\u8f03\u96fb\u58d3\uff08\u4ee5\u4f0f\u7279\u70ba\u55ae\u4f4d\uff09\u3002\u9ed8\u8a8d\u503c\u70ba 5 \u4f0f\u3002 #voltage_offset: 0 # ADC \u96fb\u58d3\u504f\u79fb\uff08\u4ee5\u4f0f\u7279\u70ba\u55ae\u4f4d\uff09\u3002\u9ed8\u8a8d\u503c\u70ba 0\u3002","title":"\u5e38\u898b\u6eab\u5ea6\u653e\u5927\u5668"},{"location":"Config_Reference.html#pt1000","text":"\u76f4\u63a5\u9023\u7dda\u5230\u63a7\u5236\u677f\u7684 PT1000 \u611f\u6e2c\u5668\u3002\u4ee5\u4e0b\u53c3\u6578\u53ef\u7528\u65bc\u4f7f\u7528\u9019\u4e9b\u611f\u6e2c\u5668\u4e4b\u4e00\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u3002 sensor_type: PT1000 sensor_pin: # \u6a21\u64ec\u8f38\u5165\u5f15\u8173\u9023\u63a5\u5230\u50b3\u611f\u5668\u3002\u8a72\u53c3\u6578\u5fc5\u9808\u662f \uff03 \u8a2d\u5b9a\u3002 #pullup_resistor: 4700 # \u9023\u63a5\u5230\u50b3\u611f\u5668\u7684\u4e0a\u62c9\u96fb\u963b\uff08\u4ee5\u6b50\u59c6\u70ba\u55ae\u4f4d\uff09\u3002\u9019 # \u9ed8\u8a8d\u70ba 4700 \u6b50\u59c6\u3002","title":"\u76f4\u63a5\u9023\u7dda\u7684 PT1000 \u611f\u6e2c\u5668"},{"location":"Config_Reference.html#maxxxxxx","text":"MAXxxxxx \u5e8f\u5217\u5916\u8a2d\u4ecb\u9762\uff08SPI\uff09\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u4ee5\u4e0b\u53c3\u6578\u5728\u4f7f\u7528\u8a72\u578b\u5225\u611f\u6e2c\u5668\u7684\u52a0\u71b1\u5668\u5206\u6bb5\u4e2d\u53ef\u7528\u3002 sensor_type: # One of \"MAX6675\", \"MAX31855\", \"MAX31856\", or \"MAX31865\". sensor_pin: # The chip select line for the sensor chip. This parameter must be # provided. #spi_speed: 4000000 # The SPI speed (in hz) to use when communicating with the chip. # The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #tc_type: K #tc_use_50Hz_filter: False #tc_averaging_count: 1 # The above parameters control the sensor parameters of MAX31856 # chips. The defaults for each parameter are next to the parameter # name in the above list. #rtd_nominal_r: 100 #rtd_reference_r: 430 #rtd_num_of_wires: 2 #rtd_use_50Hz_filter: False # The above parameters control the sensor parameters of MAX31865 # chips. The defaults for each parameter are next to the parameter # name in the above list.","title":"MAXxxxxx \u6eab\u5ea6\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#bmp280bme280bme680","text":"BMP280/BME280/BME680 \u5169\u7dda\u4ecb\u9762 (I2C) \u74b0\u5883\u611f\u6e2c\u5668\u3002\u6ce8\u610f\uff0c\u9019\u4e9b\u611f\u6e2c\u5668\u4e0d\u9069\u7528\u4e8e\u64e0\u51fa\u6a5f\u548c\u52a0\u71b1\u5e8a\u3002\u5b83\u5011\u53ef\u4ee5\u7528\u65bc\u76e3\u6e2c\u74b0\u5883\u6eab\u5ea6 (C)\u3001\u58d3\u529b (hPa)\u3001\u76f8\u5c0d\u6fd5\u5ea6\u4ee5\u53ca\u6c23\u9ad4\u6c34\u5e73\uff08\u50c5\u5728BME680\u4e0a\uff09\u3002\u8acb\u53c3\u95b1 sample-macros.cfg \u4ee5\u7372\u53d6\u53ef\u7528\u65bc\u5831\u544a\u58d3\u529b\u548c\u6fd5\u5ea6\u4ee5\u53ca\u6eab\u5ea6\u7684gcode_macro\u3002 sensor_type: BME280 #i2c_address: # Default is 118 (0x76). Some BME280 sensors have an address of 119 # (0x77). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters.","title":"BMP280/BME280/BME680 \u6eab\u5ea6\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#htu21d","text":"HTU21D \u7cfb\u5217\u96d9\u7dda\u4ecb\u9762\uff08I2C\uff09\u74b0\u5883\u611f\u6e2c\u5668\u3002\u6ce8\u610f\uff0c\u9019\u7a2e\u611f\u6e2c\u5668\u4e0d\u9069\u7528\u4e8e\u64e0\u51fa\u6a5f\u548c\u52a0\u71b1\u5e8a\uff0c\u5b83\u5011\u53ef\u4ee5\u7528\u65bc\u76e3\u6e2c\u74b0\u5883\u6eab\u5ea6\uff08C\uff09\u548c\u76f8\u5c0d\u6fd5\u5ea6\u3002\u53c3\u898b sample-macros.cfg \u4e2d\u53ef\u4ee5\u5831\u544a\u6eab\u5ea6\u548c\u6fd5\u5ea6\u7684 gcode_macro\u3002 sensor_type: # Must be \"HTU21D\" , \"SI7013\", \"SI7020\", \"SI7021\" or \"SHT21\" #i2c_address: # Default is 64 (0x40). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #htu21d_hold_master: # If the sensor can hold the I2C buf while reading. If True no other # bus communication can be performed while reading is in progress. # Default is False. #htu21d_resolution: # The resolution of temperature and humidity reading. # Valid values are: # 'TEMP14_HUM12' -> 14bit for Temp and 12bit for humidity # 'TEMP13_HUM10' -> 13bit for Temp and 10bit for humidity # 'TEMP12_HUM08' -> 12bit for Temp and 08bit for humidity # 'TEMP11_HUM11' -> 11bit for Temp and 11bit for humidity # Default is: \"TEMP11_HUM11\" #htu21d_report_time: # Interval in seconds between readings. Default is 30","title":"HTU21D \u611f\u6e2c\u5668"},{"location":"Config_Reference.html#lm75","text":"LM75/LM75A \u5169\u7dda (I2C) \u9023\u63a5\u7684\u6eab\u5ea6\u50b3\u611f\u5668\u3002\u9019\u4e9b\u50b3\u611f\u5668\u7684\u7bc4\u570d\u70ba -55~125 C\uff0c\u56e0\u6b64\u53ef\u7528\u65bc\u4f8b\u5982\u5ba4\u6eab\u5ea6\u76e3\u6e2c\u3002\u5b83\u5011\u9084\u53ef\u4ee5\u7528\u4f5c\u7c21\u55ae\u7684\u98a8\u6247/\u52a0\u71b1\u5668\u63a7\u5236\u5668\u3002 sensor_type: LM75 #i2c_address: # Default is 72 (0x48). Normal range is 72-79 (0x48-0x4F) and the 3 # low bits of the address are configured via pins on the chip # (usually with jumpers or hard wired). #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #lm75_report_time: # Interval in seconds between readings. Default is 0.8, with minimum # 0.5.","title":"LM75 \u6eab\u5ea6\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#_21","text":"atsam\u3001atsamd \u548c stm32 \u5fae\u63a7\u5236\u5668\u5305\u542b\u4e00\u500b\u5167\u90e8\u6eab\u5ea6\u50b3\u611f\u5668\u3002\u53ef\u4ee5\u4f7f\u7528\u201ctemperature_mcu\u201d\u50b3\u611f\u5668\u4f86\u76e3\u63a7\u9019\u4e9b\u6eab\u5ea6\u3002 sensor_type: temperature_mcu #sensor_mcu: mcu # The micro-controller to read from. The default is \"mcu\". #sensor_temperature1: #sensor_adc1: # Specify the above two parameters (a temperature in Celsius and an # ADC value as a float between 0.0 and 1.0) to calibrate the # micro-controller temperature. This may improve the reported # temperature accuracy on some chips. A typical way to obtain this # calibration information is to completely remove power from the # printer for a few hours (to ensure it is at the ambient # temperature), then power it up and use the QUERY_ADC command to # obtain an ADC measurement. Use some other temperature sensor on # the printer to find the corresponding ambient temperature. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification. #sensor_temperature2: #sensor_adc2: # If sensor_temperature1/sensor_adc1 is specified then one may also # specify sensor_temperature2/sensor_adc2 calibration data. Doing so # may provide calibrated \"temperature slope\" information. The # default is to use the factory calibration data on the # micro-controller (if applicable) or the nominal values from the # micro-controller specification.","title":"\u5fae\u63a7\u5236\u5668\u7684\u5167\u5efa\u6eab\u5ea6\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#_22","text":"\u904b\u884c\u4e3b\u6a5f\u8edf\u4ef6\u7684\u6a5f\u5668\uff08\u4f8b\u5982 Raspberry Pi\uff09\u7684\u6eab\u5ea6\u3002 sensor_type: temperature_host #sensor_path: # The path to temperature system file. The default is # \"/sys/class/thermal/thermal_zone0/temp\" which is the temperature # system file on a Raspberry Pi computer.","title":"\u4e3b\u6a5f\u6eab\u5ea6\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#ds18b20","text":"DS18B20 \u662f\u4e00\u500b\u55ae\u532f\u6d41\u6392 (1-wire (w1)) \u6578\u503c\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u6ce8\u610f\uff0c\u9019\u500b\u611f\u6e2c\u5668\u4e0d\u662f\u88ab\u8a2d\u8a08\u7528\u65bc\u71b1\u7aef\u6216\u71b1\u5e8a\uff0c \u800c\u662f\u7528\u65bc\u76e3\u6e2c\u74b0\u5883\u6eab\u5ea6(C)\u3002\u9019\u4e9b\u611f\u6e2c\u5668\u6700\u9ad8\u91cf\u7a0b\u662f125 C\uff0c\u56e0\u6b64\u53ef\u7528\u65bc\u4f8b\u5982\u7bb1\u9ad4\u6eab\u5ea6\u76e3\u6e2c\u3002\u5b83\u5011\u4e5f\u53ef\u4ee5\u88ab\u7576\u4f5c\u7c21\u55ae\u7684\u98a8\u6247/\u52a0\u71b1\u5668\u63a7\u5236\u5668\u3002DS18B20 \u611f\u6e2c\u5668\u50c5\u5728\u300c\u4e3b\u6a5f mcu\u300d\u4e0a\u652f\u63f4\uff0c\u4f8b\u5982\u6a39\u8393\u6d3e\u3002w1-gpio Linux \u5167\u6838\u6a21\u7d44\u5fc5\u9808\u88ab\u5b89\u88dd\u3002 sensor_type: DS18B20 serial_no: # Each 1-wire device has a unique serial number used to identify the device, # usually in the format 28-031674b175ff. This parameter must be provided. # Attached 1-wire devices can be listed using the following Linux command: # ls /sys/bus/w1/devices/ #ds18_report_time: # Interval in seconds between readings. Default is 3.0, with a minimum of 1.0 #sensor_mcu: # The micro-controller to read from. Must be the host_mcu","title":"DS18B20 \u6eab\u5ea6\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#_23","text":"","title":"\u98a8\u6247"},{"location":"Config_Reference.html#fan","text":"\u5217\u5370\u51b7\u537b\u98a8\u6247\u3002 [fan] pin: # \u63a7\u5236\u98a8\u6247\u7684\u8f38\u51fa\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #max_power: 1.0 # \u5f15\u8173\u5141\u8a31\u88ab\u8a2d\u5b9a\u7684\u6700\u5927\u5360\u7a7a\u6bd4\uff08\u57280.0\u548c1.0\u4e4b\u9593\uff09\u3002 # 1.0 \u5141\u8a31\u5f15\u8173\u88ab\u9577\u6642\u9593\u5b8c\u5168\u555f\u7528\uff0c\u800c0.5\u6703\u53ea\u5141\u8a31\u5f15\u8173\u53ea\u5728\u4e00\u534a\u7684\u6642\u9593\u88e1 # \u88ab\u555f\u7528\u3002\u9019\u500b\u8a2d\u5b9a\u53ef\u4ee5\u9650\u5236\u98a8\u6247\u7684\u6700\u5927\u529f\u7387\uff08\u5e73\u5747\u529f\u7387\uff09\u3002\u5982\u679c\u9019\u500b\u503c # \u5c0f\u65bc 1.0 \u5247\u98a8\u901f\u8acb\u6c42\u6703\u88ab\u7e2e\u653e\u5230 0 \u548c max_power \u4e4b\u9593\uff08\u4f8b\u5982\uff0c\u5982\u679c # max_power \u662f 0.9\uff0c\u8acb\u6c42 80% \u98a8\u901f\u901f\u5ea6\u6703\u4f7f\u98a8\u6247\u529f\u7387\u8a2d\u70ba72%\uff09\u3002 # \u9810\u8a2d\u70ba1.0\u3002 #shutdown_speed: 0 # \u5728\u5fae\u63a7\u5236\u5668\u9032\u5165\u932f\u8aa4\u72c0\u614b\u6642\u671f\u671b\u7684\uff08\u4e00\u500b\u57280.0\u548c1.0\u4e4b\u9593\u7684\u503c\uff09 # \u98a8\u6247\u901f\u5ea6\u3002 # \u9810\u8a2d\u70ba 0\u3002 #cycle_time: 0.010 # The amount of time (in seconds) for each PWM power cycle to the # fan. It is recommended this be 10 milliseconds or greater when # using software based PWM. The default is 0.010 seconds. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. Most fans # do not work well with hardware PWM, so it is not recommended to # enable this unless there is an electrical requirement to switch at # very high speeds. When using hardware PWM the actual cycle time is # constrained by the implementation and may be significantly # different than the requested cycle_time. The default is False. #kick_start_time: 0.100 # Time (in seconds) to run the fan at full speed when either first # enabling or increasing it by more than 50% (helps get the fan # spinning). The default is 0.100 seconds. #off_below: 0.0 # The minimum input speed which will power the fan (expressed as a # value from 0.0 to 1.0). When a speed lower than off_below is # requested the fan will instead be turned off. This setting may be # used to prevent fan stalls and to ensure kick starts are # effective. The default is 0.0. # # This setting should be recalibrated whenever max_power is adjusted. # To calibrate this setting, start with off_below set to 0.0 and the # fan spinning. Gradually lower the fan speed to determine the lowest # input speed which reliably drives the fan without stalls. Set # off_below to the duty cycle corresponding to this value (for # example, 12% -> 0.12) or slightly higher. #tachometer_pin: # Tachometer input pin for monitoring fan speed. A pullup is generally # required. This parameter is optional. #tachometer_ppr: 2 # When tachometer_pin is specified, this is the number of pulses per # revolution of the tachometer signal. For a BLDC fan this is # normally half the number of poles. The default is 2. #tachometer_poll_interval: 0.0015 # When tachometer_pin is specified, this is the polling period of the # tachometer pin, in seconds. The default is 0.0015, which is fast # enough for fans below 10000 RPM at 2 PPR. This must be smaller than # 30/(tachometer_ppr*rpm), with some margin, where rpm is the # maximum speed (in RPM) of the fan.","title":"[fan]"},{"location":"Config_Reference.html#heater_fan","text":"\u52a0\u71b1\u5668\u51b7\u537b\u98a8\u6247\uff08\u53ef\u4ee5\u7528\"heater_fan\"\u5b57\u9996\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5206\u6bb5\uff09\u3002\"\u52a0\u71b1\u5668\u98a8\u6247\"\u662f\u4e00\u7a2e\u7576\u5176\u95dc\u806f\u7684\u52a0\u71b1\u5668\u6d3b\u8e8d\u6642\u6703\u555f\u7528\u7684\u98a8\u6247\u3002\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cheater_fan shutdown_speed \u7b49\u65bc max_power\u3002 [heater_fan my_nozzle_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cfan\u300d\u7ae0\u7bc0\u3002 #heater: extruder # \u8a72\u98a8\u6247\u95dc\u806f\u7684\u52a0\u71b1\u5668\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4e00\u500b\u9017\u865f\u5206\u9694\u7684 # \u52a0\u71b1\u5668\u5217\u8868\uff0c\u5247\u98a8\u6247\u5c07\u6703\u5728\u4efb\u4e00\u52a0\u71b1\u5668\u88ab\u555f\u7528\u6642\u555f\u52d5\u3002 # \u9810\u8a2d\u70ba\"extruder\"\u3002 #heater_temp: 50.0 # \u98a8\u6247\u53ef\u4ee5\u88ab\u7981\u7528\u7684\u6700\u9ad8\u52a0\u71b1\u5668\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\uff09\u3002\u52a0\u71b1\u5668 # \u5fc5\u9808\u88ab\u964d\u4f4e\u5230\u8a72\u6eab\u5ea6\u4ee5\u4e0b\u98a8\u6247\u624d\u6703\u88ab\u7981\u7528\u3002 # \u9810\u8a2d\u70ba 50 \u651d\u6c0f\u5ea6\u3002 #fan_speed: 1.0 # \u7576\u76f8\u95dc\u806f\u7684\u52a0\u71b1\u5668\u6d3b\u8e8d\u6642\u8a72\u98a8\u6247\u7684\u901f\u5ea6\uff08\u57280.0\u548c1.0\u4e4b\u9593\uff09\u3002 # \u9810\u8a2d\u70ba 1.0","title":"[heater_fan]"},{"location":"Config_Reference.html#controller_fan","text":"\u63a7\u5236\u5668\u51b7\u537b\u98a8\u6247\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u5e36\u6709\"controller_fan\"\u5b57\u9996\u7684\u5206\u6bb5\uff09\u3002\"\u63a7\u5236\u5668\u98a8\u6247\"(Controller fan)\u662f\u4e00\u500b\u53ea\u8981\u95dc\u806f\u7684\u52a0\u71b1\u5668\u6216\u6b65\u9032\u9a45\u52d5\u7a0b\u5f0f\u8655\u65bc\u6d3b\u52d5\u72c0\u614b\u5c31\u6703\u555f\u52d5\u7684\u98a8\u6247\u3002\u98a8\u6247\u6703\u5728\u7a7a\u9591\u8d85\u6642(idle_timeout)\u540e\u505c\u6b62\uff0c\u4ee5\u78ba\u4fdd\u88ab\u76e3\u8996\u5143\u4ef6\u4e0d\u518d\u6d3b\u8e8d\u540e\u4e0d\u6703\u904e\u71b1\u3002 [controller_fan my_controller_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c3\u6578\u8acb\u898b\u300c\u98a8\u6247\u300d(fan)\u5206\u6bb5\u3002 #fan_speed: 1.0 # \u7576\u4e00\u500b\u52a0\u71b1\u5668\u6216\u6b65\u9032\u96fb\u6a5f\u6d3b\u8e8d\u6642\u7684\u98a8\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u500b0.0\u52301.0 # \u7684\u6578\u503c\u8868\u793a\uff09\u3002 # \u9810\u8a2d\u70ba 1.0\u3002 #idle_timeout: # \u5728\u6b65\u9032\u96fb\u6a5f\u6216\u52a0\u71b1\u5668\u4e0d\u518d\u6d3b\u8e8d\u540e\u98a8\u6247\u6301\u7e8c\u57f7\u884c\u7684\u6642\u9593\uff08\u4ee5\u79d2 # \u70ba\u55ae\u4f4d\uff09\u3002 # \u9810\u8a2d\u70ba 30\u79d2\u3002 #idle_speed: # \u7576\u4e00\u500b\u52a0\u71b1\u5668\u6216\u6b65\u9032\u96fb\u6a5f\u4e0d\u518d\u6d3b\u8e8d\uff0c\u4f46\u6c92\u6709\u9054\u5230\u7a7a\u9591\u8d85\u6642( # idle_timeout)\u6642\u7684\u98a8\u6247\u901f\u5ea6\uff08\u4ee5\u4e00\u500b0.0\u52301.0\u7684\u6578\u503c\u8868\u793a\uff09\u3002 # \u9810\u8a2d\u70ba fan_speed\u3002 #heater: #stepper: # \u8207\u9019\u500b\u98a8\u6247\u95dc\u806f\u7684\u52a0\u71b1\u5668/\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\u3002\u5982\u679c\u63d0 # \u4f9b\u4e00\u500b\u9017\u865f\u5206\u9694\u7684\u52a0\u71b1\u5668/\u6b65\u9032\u9a45\u52d5\u540d\u7a31\uff0c\u4efb\u610f\u4e00\u500b\u5217\u8868\u4e2d # \u7684\u88dd\u7f6e\u555f\u7528\u6642\u98a8\u6247\u5c07\u6703\u555f\u52d5\u3002 # \u9810\u8a2d\u52a0\u71b1\u5668\u662f\u300c\u64e0\u51fa\u6a5f\u300d\uff08extruder)\uff0c\u9810\u8a2d\u6b65\u9032\u9a45\u52d5\u662f\u5168\u90e8\u6b65\u9032\u9a45\u52d5\u3002","title":"[controller_fan]"},{"location":"Config_Reference.html#temperature_fan","text":"\u6eab\u5ea6\u89f8\u767c\u7684\u51b7\u537b\u98a8\u6247\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201ctemperature_fan\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 \u201c\u6eab\u5ea6\u98a8\u6247\u201d\u662f\u4e00\u7a2e\u98a8\u6247\uff0c\u53ea\u8981\u5176\u95dc\u806f\u7684\u50b3\u611f\u5668\u9ad8\u65bc\u8a2d\u5b9a\u6eab\u5ea6\uff0c\u5c31\u6703\u555f\u7528\u8a72\u98a8\u6247\u3002\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0ctemperature_fan \u7684 shutdown_speed \u7b49\u65bc max_power\u3002 \u6709\u95dc\u66f4\u591a\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 command reference \u3002 [temperature_fan my_temp_fan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # See the \"fan\" section for a description of the above parameters. #sensor_type: #sensor_pin: #control: #max_delta: #min_temp: #max_temp: # See the \"extruder\" section for a description of the above parameters. #pid_Kp: #pid_Ki: #pid_Kd: # The proportional (pid_Kp), integral (pid_Ki), and derivative # (pid_Kd) settings for the PID feedback control system. Klipper # evaluates the PID settings with the following general formula: # fan_pwm = max_power - (Kp*e + Ki*integral(e) - Kd*derivative(e)) / 255 # Where \"e\" is \"target_temperature - measured_temperature\" and # \"fan_pwm\" is the requested fan rate with 0.0 being full off and # 1.0 being full on. The pid_Kp, pid_Ki, and pid_Kd parameters must # be provided when the PID control algorithm is enabled. #pid_deriv_time: 2.0 # A time value (in seconds) over which temperature measurements will # be smoothed when using the PID control algorithm. This may reduce # the impact of measurement noise. The default is 2 seconds. #target_temp: 40.0 # A temperature (in Celsius) that will be the target temperature. # The default is 40 degrees. #max_speed: 1.0 # The fan speed (expressed as a value from 0.0 to 1.0) that the fan # will be set to when the sensor temperature exceeds the set value. # The default is 1.0. #min_speed: 0.3 # The minimum fan speed (expressed as a value from 0.0 to 1.0) that # the fan will be set to for PID temperature fans. # The default is 0.3. #gcode_id: # If set, the temperature will be reported in M105 queries using the # given id. The default is to not report the temperature via M105.","title":"[temperature_fan]"},{"location":"Config_Reference.html#fan_generic","text":"\u624b\u52d5\u63a7\u5236\u7684\u98a8\u6247\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cfan_generic\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002\u624b\u52d5\u63a7\u5236\u98a8\u6247\u7684\u901f\u5ea6\u4f7f\u7528 SET_FAN_SPEED gcode \u547d\u4ee4 \u8a2d\u7f6e\u3002 [fan_generic extruder_partfan] #pin: #max_power: #shutdown_speed: #cycle_time: #hardware_pwm: #kick_start_time: #off_below: #tachometer_pin: #tachometer_ppr: #tachometer_poll_interval: # \u4ee5\u4e0a\u53c3\u6578\u4ecb\u7d39\u8acb\u898b\u300cfan\u300d\uff08\u98a8\u6247\uff09\u7ae0\u7bc0\u3002","title":"[fan_generic]"},{"location":"Config_Reference.html#leds","text":"","title":"LEDs"},{"location":"Config_Reference.html#led","text":"Support for LEDs (and LED strips) controlled via micro-controller PWM pins (one may define any number of sections with an \"led\" prefix). See the command reference for more information. [led my_led] #red_pin: #green_pin: #blue_pin: #white_pin: # The pin controlling the given LED color. At least one of the above # parameters must be provided. #cycle_time: 0.010 # The amount of time (in seconds) per PWM cycle. It is recommended # this be 10 milliseconds or greater when using software based PWM. # The default is 0.010 seconds. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. When # using hardware PWM the actual cycle time is constrained by the # implementation and may be significantly different than the # requested cycle_time. The default is False. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # Sets the initial LED color. Each value should be between 0.0 and # 1.0. The default for each color is 0.","title":"[led]"},{"location":"Config_Reference.html#neopixel","text":"Neopixel (aka WS2812) LED support (one may define any number of sections with a \"neopixel\" prefix). See the command reference for more information. Note that the linux mcu implementation does not currently support directly connected neopixels. The current design using the Linux kernel interface does not allow this scenario because the kernel GPIO interface is not fast enough to provide the required pulse rates. [neopixel my_neopixel] pin: # The pin connected to the neopixel. This parameter must be # provided. #chain_count: # The number of Neopixel chips that are \"daisy chained\" to the # provided pin. The default is 1 (which indicates only a single # Neopixel is connected to the pin). #color_order: GRB # Set the pixel order required by the LED hardware (using a string # containing the letters R, G, B, W with W optional). Alternatively, # this may be a comma separated list of pixel orders - one for each # LED in the chain. The default is GRB. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters.","title":"[neopixel]"},{"location":"Config_Reference.html#dotstar","text":"Dotstar (aka APA102) LED support (one may define any number of sections with a \"dotstar\" prefix). See the command reference for more information. [dotstar my_dotstar] data_pin: # The pin connected to the data line of the dotstar. This parameter # must be provided. clock_pin: # The pin connected to the clock line of the dotstar. This parameter # must be provided. #chain_count: # See the \"neopixel\" section for information on this parameter. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 # See the \"led\" section for information on these parameters.","title":"[dotstar]"},{"location":"Config_Reference.html#pca9533","text":"PCA9533 LED\u652f\u63f4\u3002PCA9533 \u5728 mightyboard\u4e0a\u51fa\u73fe\u3002 [pca9533 my_pca9533] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. Use 98 for # the PCA9533/1, 99 for the PCA9533/2. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters.","title":"[pca9533]"},{"location":"Config_Reference.html#pca9632","text":"PCA9632 LED support. The PCA9632 is used on the FlashForge Dreamer. [pca9632 my_pca9632] #i2c_address: 98 # The i2c address that the chip is using on the i2c bus. This may be # 96, 97, 98, or 99. The default is 98. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #scl_pin: #sda_pin: # Alternatively, if the pca9632 is not connected to a hardware I2C # bus, then one may specify the \"clock\" (scl_pin) and \"data\" # (sda_pin) pins. The default is to use hardware I2C. #color_order: RGBW # Set the pixel order of the LED (using a string containing the # letters R, G, B, W). The default is RGBW. #initial_RED: 0.0 #initial_GREEN: 0.0 #initial_BLUE: 0.0 #initial_WHITE: 0.0 # See the \"led\" section for information on these parameters.","title":"[pca9632]"},{"location":"Config_Reference.html#additional-servos-buttons-and-other-pins","text":"","title":"Additional servos, buttons, and other pins"},{"location":"Config_Reference.html#servo","text":"\u4f3a\u670d\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201c\u4f3a\u670d\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002\u53ef\u4ee5\u4f7f\u7528 SET_SERVO g-code command \u63a7\u5236\u8235\u6a5f\u3002\u4f8b\u5982\uff1aSET_SERVO SERVO=my_servo ANGLE=180 [servo my_servo] pin: # PWM output pin controlling the servo. This parameter must be # provided. #maximum_servo_angle: 180 # The maximum angle (in degrees) that this servo can be set to. The # default is 180 degrees. #minimum_pulse_width: 0.001 # The minimum pulse width time (in seconds). This should correspond # with an angle of 0 degrees. The default is 0.001 seconds. #maximum_pulse_width: 0.002 # The maximum pulse width time (in seconds). This should correspond # with an angle of maximum_servo_angle. The default is 0.002 # seconds. #initial_angle: # Initial angle (in degrees) to set the servo to. The default is to # not send any signal at startup. #initial_pulse_width: # Initial pulse width time (in seconds) to set the servo to. (This # is only valid if initial_angle is not set.) The default is to not # send any signal at startup.","title":"[servo]"},{"location":"Config_Reference.html#gcode_button","text":"\u5728\u4e00\u500b\u6309\u9215\u88ab\u6309\u4e0b\u6216\u653e\u958b\uff08\u6216\u7576\u4e00\u500b\u5f15\u8173\u72c0\u614b\u767c\u751f\u8b8a\u5316\u6642\uff09\u6642\u57f7\u884cG\u7a0b\u5f0f\u78bc\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 QUERY_BUTTON button=my_gcode_button \u4f86\u67e5\u8a62\u6309\u9215\u7684\u72c0\u614b\u3002 [gcode_button my_gcode_button] pin: # \u9023\u7dda\u5230\u6309\u9215\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #analog_range: # \u5169\u500b\u9017\u865f\u5206\u9694\u7684\u963b\u503c(\u55ae\u4f4d\uff1a\u6b50\u59c6)\uff0c\u6307\u5b9a\u4e86\u6309\u9215\u7684\u6700\u5c0f\u548c\u6700\u5927\u96fb\u963b\u3002 # \u5982\u679c\u63d0\u4f9b\u4e86 analog_range \uff0c\u5fc5\u9808\u4f7f\u7528\u4e00\u500b\u6a21\u64ec\u529f\u80fd\u7684\u5f15\u8173\u3002\u9810\u8a2d # \u60c5\u6cc1\u4e0b\u70ba\u6309\u9215\u4f7f\u7528\u6578\u5b57GPIO\u3002 # analog_pullup_resistor: # \u7576\u5b9a\u7fa9 analog_range \u6642\u7684\u4e0a\u62c9\u96fb\u963b(\u6b50\u59c6)\u3002\u9810\u8a2d\u70ba4700\u6b50\u59c6\u3002 #press_gcode: # \u7576\u6309\u9215\u88ab\u6309\u4e0b\u6642\u8981\u57f7\u884c\u7684 G-Code \u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u63f4G-Code\u6a21\u677f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #release_gcode: # \u7576\u6309\u9215\u88ab\u91cb\u653e\u6642\u8981\u57f7\u884c\u7684G-Code\u547d\u4ee4\u5e8f\u5217\uff0c\u652f\u63f4G-Code\u6a21\u677f\u3002 # \u9810\u8a2d\u5728\u6309\u9215\u91cb\u653e\u6642\u4e0d\u57f7\u884c\u4efb\u4f55\u547d\u4ee4\u3002","title":"[gcode_button]"},{"location":"Config_Reference.html#output_pin","text":"\u904b\u884c\u6642\u53ef\u914d\u7f6e\u7684\u8f38\u51fa\u5f15\u8173\uff08\u53ef\u4ee5\u4f7f\u7528\u201coutput_pin\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u6b64\u8655\u914d\u7f6e\u7684\u5f15\u8173\u5c07\u8a2d\u7f6e\u70ba\u8f38\u51fa\u5f15\u8173\uff0c\u4e26\u4e14\u53ef\u4ee5\u5728\u904b\u884c\u6642\u4f7f\u7528\u201cSET_PIN PIN=my_pin VALUE=.1\u201d\u985e\u578b\u64f4\u5c55 g-code commands \u4fee\u6539\u5b83\u5011\u3002 [output_pin my_pin] pin: # The pin to configure as an output. This parameter must be # provided. #pwm: False # Set if the output pin should be capable of pulse-width-modulation. # If this is true, the value fields should be between 0 and 1; if it # is false the value fields should be either 0 or 1. The default is # False. #static_value: # If this is set, then the pin is assigned to this value at startup # and the pin can not be changed during runtime. A static pin uses # slightly less ram in the micro-controller. The default is to use # runtime configuration of pins. #value: # The value to initially set the pin to during MCU configuration. # The default is 0 (for low voltage). #shutdown_value: # The value to set the pin to on an MCU shutdown event. The default # is 0 (for low voltage). #maximum_mcu_duration: # The maximum duration a non-shutdown value may be driven by the MCU # without an acknowledge from the host. # If host can not keep up with an update, the MCU will shutdown # and set all pins to their respective shutdown values. # Default: 0 (disabled) # Usual values are around 5 seconds. #cycle_time: 0.100 # The amount of time (in seconds) per PWM cycle. It is recommended # this be 10 milliseconds or greater when using software based PWM. # The default is 0.100 seconds for pwm pins. #hardware_pwm: False # Enable this to use hardware PWM instead of software PWM. When # using hardware PWM the actual cycle time is constrained by the # implementation and may be significantly different than the # requested cycle_time. The default is False. #scale: # This parameter can be used to alter how the 'value' and # 'shutdown_value' parameters are interpreted for pwm pins. If # provided, then the 'value' parameter should be between 0.0 and # 'scale'. This may be useful when configuring a PWM pin that # controls a stepper voltage reference. The 'scale' can be set to # the equivalent stepper amperage if the PWM were fully enabled, and # then the 'value' parameter can be specified using the desired # amperage for the stepper. The default is to not scale the 'value' # parameter.","title":"[output_pin]"},{"location":"Config_Reference.html#static_digital_output","text":"\u975c\u614b\u914d\u7f6e\u7684\u6578\u5b57\u8f38\u51fa\u5f15\u8173\uff08\u53ef\u4ee5\u4f7f\u7528\u201cstatic_digital_output\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002\u6b64\u8655\u914d\u7f6e\u7684\u5f15\u8173\u5c07\u5728 MCU \u914d\u7f6e\u671f\u9593\u8a2d\u7f6e\u70ba GPIO \u8f38\u51fa\u3002\u5b83\u5011\u4e0d\u80fd\u5728\u904b\u884c\u6642\u66f4\u6539\u3002 [static_digital_output my_output_pins] pins: # A comma separated list of pins to be set as GPIO output pins. The # pin will be set to a high level unless the pin name is prefaced # with \"!\". This parameter must be provided.","title":"[static_digital_output]"},{"location":"Config_Reference.html#multi_pin","text":"\u591a\u500b\u5f15\u8173\u8f38\u51fa\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cmulti_pin\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 multi_pin \u8f38\u51fa\u6703\u5275\u5efa\u4e00\u500b\u5167\u90e8\u5f15\u8173\u5225\u540d\uff0c\u6bcf\u6b21\u8a2d\u7f6e\u5225\u540d\u5f15\u8173\u6642\u53ef\u4ee5\u4fee\u6539\u591a\u500b\u8f38\u51fa\u5f15\u8173\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5b9a\u7fa9\u4e00\u500b\u5305\u542b\u5169\u500b\u5f15\u8173\u7684\u201c[multi_pin my_fan]\u201d\u5c0d\u8c61\uff0c\u7136\u5f8c\u5728\u201c[fan]\u201d\u90e8\u5206\u8a2d\u7f6e\u201cpin=multi_pin:my_fan\u201d\u2014\u2014\u5728\u6bcf\u6b21\u98a8\u6247\u66f4\u6539\u6642\uff0c\u5169\u500b\u8f38\u51fa\u5f15\u8173\u90fd\u6703\u66f4\u65b0\u3002\u9019\u4e9b\u5225\u540d\u53ef\u80fd\u4e0d\u9069\u7528\u65bc\u6b65\u9032\u96fb\u6a5f\u5f15\u8173\u3002 [multi_pin my_multi_pin] pins: # \u8207\u6b64\u5225\u540d\u95dc\u806f\u7684\u5f15\u8173\u7684\u9017\u865f\u5206\u9694\u5217\u8868\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002","title":"[multi_pin]"},{"location":"Config_Reference.html#tmc","text":"\u5728 UART/SPI \u6a21\u5f0f\u4e0b\u914d\u7f6e Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u3002\u5176\u4ed6\u4fe1\u606f\u5728 TMC Drivers guide \u548c command reference \u4e2d\u3002","title":"TMC \u6b65\u9032\u9a45\u52d5\u5668\u914d\u7f6e"},{"location":"Config_Reference.html#tmc2130","text":"\u901a\u904e SPI \u532f\u6d41\u6392\u914d\u7f6e TMC2130 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709\u300ctmc2130\u300d\u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2130 stepper_x]\u300d\uff09\u3002 [tmc2130 stepper_x] cs_pin: # The pin corresponding to the TMC2130 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 0 #driver_TBL: 1 #driver_TOFF: 4 #driver_HEND: 7 #driver_HSTRT: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 4 #driver_PWM_AMPL: 128 #driver_SGT: 0 # Set the given register during the configuration of the TMC2130 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC2130 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc2130_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing.","title":"[tmc2130]"},{"location":"Config_Reference.html#tmc2208","text":"\u901a\u904e\u55ae\u7dda UART \u914d\u7f6e TMC2208\uff08\u6216 TMC2224\uff09\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc2208\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2208 stepper_x]\u300d\uff09\u3002 [tmc2208 stepper_x] uart_pin: # The pin connected to the TMC2208 PDN_UART line. This parameter # must be provided. #tx_pin: # If using separate receive and transmit lines to communicate with # the driver then set uart_pin to the receive pin and tx_pin to the # transmit pin. The default is to use uart_pin for both reading and # writing. #select_pins: # A comma separated list of pins to set prior to accessing the # tmc2208 UART. This may be useful for configuring an analog mux for # UART communication. The default is to not configure any pins. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This interpolation does # introduce a small systemic positional deviation - see # TMC_Drivers.md for details. The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.110 # The resistance (in ohms) of the motor sense resistor. The default # is 0.110 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 # Set the given register during the configuration of the TMC2208 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list.","title":"[tmc2208]"},{"location":"Config_Reference.html#tmc2209","text":"\u901a\u904e\u55ae\u7dda UART \u914d\u7f6e TMC2209 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc2209\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2209 stepper_x]\u300d\uff09\u3002 [tmc2209 stepper_x] uart_pin: #tx_pin: #select_pins: #interpolate: True run_current: #hold_current: #sense_resistor: 0.110 #stealthchop_threshold: 0 # See the \"tmc2208\" section for the definition of these parameters. #uart_address: # The address of the TMC2209 chip for UART messages (an integer # between 0 and 3). This is typically used when multiple TMC2209 # chips are connected to the same UART pin. The default is zero. #driver_IHOLDDELAY: 8 #driver_TPOWERDOWN: 20 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 0 #driver_HSTRT: 5 #driver_PWM_AUTOGRAD: True #driver_PWM_AUTOSCALE: True #driver_PWM_LIM: 12 #driver_PWM_REG: 8 #driver_PWM_FREQ: 1 #driver_PWM_GRAD: 14 #driver_PWM_OFS: 36 #driver_SGTHRS: 0 # Set the given register during the configuration of the TMC2209 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag_pin: # The micro-controller pin attached to the DIAG line of the TMC2209 # chip. The pin is normally prefaced with \"^\" to enable a pullup. # Setting this creates a \"tmc2209_stepper_x:virtual_endstop\" virtual # pin which may be used as the stepper's endstop_pin. Doing this # enables \"sensorless homing\". (Be sure to also set driver_SGTHRS to # an appropriate sensitivity value.) The default is to not enable # sensorless homing.","title":"[tmc2209]"},{"location":"Config_Reference.html#tmc2660","text":"\u901a\u904e SPI \u532f\u6d41\u6392\u914d\u7f6e TMC2660 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc 2660\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc2660 stepper_x]\u300d\uff09\u3002 [tmc2660 stepper_x] cs_pin: # The pin corresponding to the TMC2660 chip select line. This pin # will be set to low at the start of SPI messages and set to high # after the message transfer completes. This parameter must be # provided. #spi_speed: 4000000 # SPI bus frequency used to communicate with the TMC2660 stepper # driver. The default is 4000000. #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). This only works if microsteps # is set to 16. Interpolation does introduce a small systemic # positional deviation - see TMC_Drivers.md for details. The default # is True. run_current: # The amount of current (in amps RMS) used by the driver during # stepper movement. This parameter must be provided. #sense_resistor: # The resistance (in ohms) of the motor sense resistor. This # parameter must be provided. #idle_current_percent: 100 # The percentage of the run_current the stepper driver will be # lowered to when the idle timeout expires (you need to set up the # timeout using a [idle_timeout] config section). The current will # be raised again once the stepper has to move again. Make sure to # set this to a high enough value such that the steppers do not lose # their position. There is also small delay until the current is # raised again, so take this into account when commanding fast moves # while the stepper is idling. The default is 100 (no reduction). #driver_TBL: 2 #driver_RNDTF: 0 #driver_HDEC: 0 #driver_CHM: 0 #driver_HEND: 3 #driver_HSTRT: 3 #driver_TOFF: 4 #driver_SEIMIN: 0 #driver_SEDN: 0 #driver_SEMAX: 0 #driver_SEUP: 0 #driver_SEMIN: 0 #driver_SFILT: 0 #driver_SGT: 0 #driver_SLPH: 0 #driver_SLPL: 0 #driver_DISS2G: 0 #driver_TS2G: 3 # Set the given parameter during the configuration of the TMC2660 # chip. This may be used to set custom driver parameters. The # defaults for each parameter are next to the parameter name in the # list above. See the TMC2660 datasheet about what each parameter # does and what the restrictions on parameter combinations are. Be # especially aware of the CHOPCONF register, where setting CHM to # either zero or one will lead to layout changes (the first bit of # HDEC) is interpreted as the MSB of HSTRT in this case).","title":"[tmc2660]"},{"location":"Config_Reference.html#tmc5160","text":"\u901a\u904e SPI \u532f\u6d41\u6392\u914d\u7f6e TMC5160 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u8acb\u5b9a\u7fa9\u4e00\u500b\u5e36\u6709 \u300ctmc5160\u300d \u5b57\u9996\u4e26\u5f8c\u8ddf\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u5206\u6bb5\u76f8\u61c9\u540d\u7a31\u7684\u914d\u7f6e\u5206\u6bb5\uff08\u4f8b\u5982\uff0c\u300c[tmc5160 stepper_x]\u300d\uff09\u3002 [tmc5160 stepper_x] cs_pin: # The pin corresponding to the TMC5160 chip select line. This pin # will be set to low at the start of SPI messages and raised to high # after the message completes. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters. #chain_position: #chain_length: # These parameters configure an SPI daisy chain. The two parameters # define the stepper position in the chain and the total chain length. # Position 1 corresponds to the stepper that connects to the MOSI signal. # The default is to not use an SPI daisy chain. #interpolate: True # If true, enable step interpolation (the driver will internally # step at a rate of 256 micro-steps). The default is True. run_current: # The amount of current (in amps RMS) to configure the driver to use # during stepper movement. This parameter must be provided. #hold_current: # The amount of current (in amps RMS) to configure the driver to use # when the stepper is not moving. Setting a hold_current is not # recommended (see TMC_Drivers.md for details). The default is to # not reduce the current. #sense_resistor: 0.075 # The resistance (in ohms) of the motor sense resistor. The default # is 0.075 ohms. #stealthchop_threshold: 0 # The velocity (in mm/s) to set the \"stealthChop\" threshold to. When # set, \"stealthChop\" mode will be enabled if the stepper motor # velocity is below this value. The default is 0, which disables # \"stealthChop\" mode. #driver_IHOLDDELAY: 6 #driver_TPOWERDOWN: 10 #driver_TBL: 2 #driver_TOFF: 3 #driver_HEND: 2 #driver_HSTRT: 5 #driver_FD3: 0 #driver_TPFD: 4 #driver_CHM: 0 #driver_VHIGHFS: 0 #driver_VHIGHCHM: 0 #driver_DISS2G: 0 #driver_DISS2VS: 0 #driver_PWM_AUTOSCALE: True #driver_PWM_AUTOGRAD: True #driver_PWM_FREQ: 0 #driver_FREEWHEEL: 0 #driver_PWM_GRAD: 0 #driver_PWM_OFS: 30 #driver_PWM_REG: 4 #driver_PWM_LIM: 12 #driver_SGT: 0 #driver_SEMIN: 0 #driver_SEUP: 0 #driver_SEMAX: 0 #driver_SEDN: 0 #driver_SEIMIN: 0 #driver_SFILT: 0 # Set the given register during the configuration of the TMC5160 # chip. This may be used to set custom motor parameters. The # defaults for each parameter are next to the parameter name in the # above list. #diag0_pin: #diag1_pin: # The micro-controller pin attached to one of the DIAG lines of the # TMC5160 chip. Only a single diag pin should be specified. The pin # is \"active low\" and is thus normally prefaced with \"^!\". Setting # this creates a \"tmc5160_stepper_x:virtual_endstop\" virtual pin # which may be used as the stepper's endstop_pin. Doing this enables # \"sensorless homing\". (Be sure to also set driver_SGT to an # appropriate sensitivity value.) The default is to not enable # sensorless homing.","title":"[tmc5160]"},{"location":"Config_Reference.html#_24","text":"","title":"\u904b\u884c\u6642\u6b65\u9032\u96fb\u6a5f\u96fb\u6d41\u914d\u7f6e"},{"location":"Config_Reference.html#ad5206","text":"\u901a\u904e SPI \u7e3d\u7dda\u9023\u63a5\u7684\u975c\u614b\u914d\u7f6e AD5206 \u6578\u5b57\u96fb\u4f4d\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cad5206\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 [ad5206 my_digipot] enable_pin: # \u5c0d\u61c9AD5206 \u6676\u7247\u9078\u64c7(chip select)\u7dda\u8def\u7684\u5f15\u8173\u3002\u9019\u500b\u5f15\u8173\u5c07 # \u5728 SPI \u8a0a\u606f\u958b\u59cb\u6642\u62c9\u4f4e\uff0c\u4e26\u5728\u8a0a\u606f\u7d50\u675f\u540e\u62c9\u9ad8\u3002\u5fc5\u9808\u63d0\u4f9b # \u9019\u500b\u53c3\u6578\u3002 #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4ee5\u4e0a\u53c3\u6578\u7684\u5b9a\u7fa9\u8acb\u6aa2\u8996 \"\u5e38\u898f SPI \u8a2d\u5b9a\" \u7ae0\u7bc0 #channel_1: #channel_2: #channel_3: #channel_4: #channel_5: #channel_6: # \u8a2d\u5b9aAD5206\u901a\u9053\u7684\u975c\u614b\u503c\u3002\u901a\u5e38\u57280.0\u548c1.0\u4e4b\u9593\uff0c1.0\u70ba\u6700\u9ad8 # \u96fb\u963b\uff0c\u800c0.0\u70ba\u6700\u4f4e\u96fb\u963b\u3002\u7136\u800c\uff0c\u9019\u500b\u7bc4\u570d\u4e5f\u53ef\u4ee5\u88ab \u300escale\u300f \u53c3 # \u6578\u914d\u7f6e\u3002\uff08\u898b\u4e0b\u6587\uff09\u5982\u679c\u4e00\u500b\u901a\u9053\u6c92\u6709\u53c3\u6578\u5247\u5b83\u4e0d\u6703\u88ab\u914d\u7f6e\u3002 #scale: # \u9019\u500b\u53c3\u6578\u53ef\u4ee5\u7528\u4f86\u4fee\u6539 \u300echannel_x\u300f \u53c3\u6578\u7684\u5b9a\u7fa9\u3002\u5982\u88ab\u63d0\u4f9b\uff0c # \u5247 \u300echannel_x\u300f \u7684\u7bc4\u570d\u6703\u5728 0.0 \u548c \u300escale\u300f \u4e4b\u9593\u3002\u5728 AD5206 \u88ab\u4f5c # \u70ba\u6b65\u9032\u96fb\u6a5f\u53c3\u8003\u96fb\u58d3\u6642\u53ef\u80fd\u5f88\u6709\u5e6b\u52a9\u3002\u7576AD5206\u5728\u6700\u9ad8\u96fb\u963b\u6642 # \u300escale\u300f \u53ef\u4ee5\u88ab\u8a2d\u5b9a\u70ba\u6b65\u9032\u96fb\u6a5f\u7684\u96fb\u6d41\uff0c \u7136\u5f8c \u300echannel_x\u300f \u53c3\u6578\u53ef # \u4ee5\u8a2d\u5b9a\u70ba\u6b65\u9032\u96fb\u6a5f\u7684\u671f\u671b\u96fb\u6d41\u5b89\u57f9\u3002\u9810\u8a2d\u70ba\u4e0d\u5c0d 'channel_x' \u53c3 # \u6578\u9032\u884c\u7e2e\u653e\u3002","title":"[ad5206]"},{"location":"Config_Reference.html#mcp4451","text":"\u901a\u904e I2C \u7e3d\u7dda\u9023\u63a5\u7684\u975c\u614b\u914d\u7f6e MCP4451 \u6578\u5b57\u96fb\u4f4d\u5668\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cmcp4451\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 [mcp4451 my_digipot] i2c_address: # The i2c address that the chip is using on the i2c bus. This # parameter must be provided. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #wiper_0: #wiper_1: #wiper_2: #wiper_3: # The value to statically set the given MCP4451 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # If a wiper is not specified then it is left unconfigured. #scale: # This parameter can be used to alter how the 'wiper_x' parameters # are interpreted. If provided, then the 'wiper_x' parameters should # be between 0.0 and 'scale'. This may be useful when the MCP4451 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4451 were at its highest # resistance, and then the 'wiper_x' parameters can be specified # using the desired amperage value for the stepper. The default is # to not scale the 'wiper_x' parameters.","title":"[mcp4451]"},{"location":"Config_Reference.html#mcp4728","text":"\u901a\u904e I2C \u7e3d\u7dda\u9023\u63a5\u7684\u975c\u614b\u914d\u7f6e\u7684 MCP4728 \u6578\u6a21\u8f49\u63db\u5668\uff08\u53ef\u4ee5\u4f7f\u7528\u201cmcp4728\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\uff09\u3002 [mcp4728 my_dac] #i2c_address: 96 # The i2c address that the chip is using on the i2c bus. The default # is 96. #i2c_mcu: #i2c_bus: #i2c_speed: # See the \"common I2C settings\" section for a description of the # above parameters. #channel_a: #channel_b: #channel_c: #channel_d: # The value to statically set the given MCP4728 channel to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest voltage (2.048V) and 0.0 being the lowest voltage. # However, the range may be changed with the 'scale' parameter (see # below). If a channel is not specified then it is left # unconfigured. #scale: # This parameter can be used to alter how the 'channel_x' parameters # are interpreted. If provided, then the 'channel_x' parameters # should be between 0.0 and 'scale'. This may be useful when the # MCP4728 is used to set stepper voltage references. The 'scale' can # be set to the equivalent stepper amperage if the MCP4728 were at # its highest voltage (2.048V), and then the 'channel_x' parameters # can be specified using the desired amperage value for the # stepper. The default is to not scale the 'channel_x' parameters.","title":"[mcp4728]"},{"location":"Config_Reference.html#mcp4018","text":"\u975c\u614b\u914d\u7f6e\u7684 MCP4018 \u6578\u5b57\u96fb\u4f4d\u5668\u901a\u904e\u5169\u500b gpio\u201cbit banging\u201d\u5f15\u8173\u9023\u63a5\uff08\u53ef\u4ee5\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5e36\u6709\u201cmcp4018\u201d\u524d\u7db4\u7684\u90e8\u5206\uff09\u3002 [mcp4018 my_digipot] scl_pin: # SCL \"\u6642\u9418\"\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 sda_pin: # SCL \"\u6578\u64da\"\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 wiper: # The value to statically set the given MCP4018 \"wiper\" to. This is # typically set to a number between 0.0 and 1.0 with 1.0 being the # highest resistance and 0.0 being the lowest resistance. However, # the range may be changed with the 'scale' parameter (see below). # This parameter must be provided. #scale: # This parameter can be used to alter how the 'wiper' parameter is # interpreted. If provided, then the 'wiper' parameter should be # between 0.0 and 'scale'. This may be useful when the MCP4018 is # used to set stepper voltage references. The 'scale' can be set to # the equivalent stepper amperage if the MCP4018 is at its highest # resistance, and then the 'wiper' parameter can be specified using # the desired amperage value for the stepper. The default is to not # scale the 'wiper' parameter.","title":"[mcp4018]"},{"location":"Config_Reference.html#_25","text":"","title":"\u986f\u793a\u5c4f\u652f\u63f4"},{"location":"Config_Reference.html#display","text":"\u652f\u6301\u9023\u63a5\u5230\u5fae\u63a7\u5236\u5668\u7684\u986f\u793a\u5c4f\u3002 [display] lcd_type: # \u4f7f\u7528\u7684 LCD \u6676\u7247\u578b\u5225\u3002\u9019\u53ef\u4ee5\u662f\u300chd44780\u300d\u3001\u300chd44780_spi\u300d\u3001 # \u300cst7920\u300d\u3001\u300cemulated_st7920\u300d\u3001\u300cuc1701\u300d\u3001\u300cssd1306\u300d\u3001\u6216\u300csh1106\u300d\u3002 # \u6709\u95dc\u4e0d\u540c\u7684LCD\u6676\u7247\u578b\u5225\u548c\u5b83\u5011\u7279\u6709\u7684\u53c3\u6578\uff0c\u8acb\u6aa2\u8996\u4e0b\u9762\u7684\u986f\u793a\u5c4f\u5206\u6bb5\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #display_group: # \u986f\u793a\u5728\u9019\u500b\u986f\u793a\u5c4f\u4e0a\u7684 display_data \u7d44\u3002\u5b83\u6c7a\u5b9a\u4e86\u9019\u500b\u87a2\u5e55\u986f\u793a # \u7684\u5167\u5bb9\uff08\u8a73\u898b\u300cdisplay_data\u300d\u5206\u6bb5\uff09\u3002 # hd44780 \u9810\u8a2d\u4f7f\u7528 _default_20x4\uff0c\u5176\u4ed6\u986f\u793a\u5c4f\u5247\u9810\u8a2d\u4f7f\u7528 _default_16x4\u3002 #menu_timeout: # \u83dc\u55ae\u8d85\u6642\u6642\u9593\u3002\u5728\u4e0d\u6d3b\u8e8d\u7d66\u5b9a\u6642\u9593\u540e\u5c07\u6703\u9000\u51fa\u83dc\u55ae\u6216\u5728 autorun \u555f\u7528\u6642 # \u56de\u5230\u6839\u83dc\u55ae\u3002 # \u9810\u8a2d\u70ba 0 \u79d2\uff08\u7981\u7528\uff09\u3002 #menu_root: # \u5728\u4e3b\u87a2\u5e55\u6309\u4e0b\u7de8\u78bc\u5668\u6642\u986f\u793a\u7684\u4e3b\u83dc\u55ae\u6bb5\u540d\u7a31\u3002 # \u9810\u8a2d\u70ba __main\uff0c\u9019\u6703\u986f\u793a\u5728 klippy/extras/display/menu.cfg\u4e2d\u5b9a\u7fa9\u7684\u4e3b\u83dc\u55ae\u3002 #menu_reverse_navigation: # \u555f\u7528\u6642\u53cd\u8f49\u4e0a\u6efe\u52d5\u548c\u4e0b\u6efe\u52d5\u3002 # \u9810\u8a2d\u70baFalse\u3002\u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\u3002 #encoder_pins: # \u9023\u7dda\u5230\u7de8\u78bc\u5668\u7684\u5f15\u8173\u3002\u4f7f\u7528\u7de8\u78bc\u5668\u6642\u5fc5\u9808\u63d0\u4f9b\u5169\u500b\u5f15\u8173\u3002 # \u4f7f\u7528\u83dc\u55ae\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #encoder_steps_per_detent: # \u7de8\u78bc\u5668\u5728\u6bcf\u4e00\u500b\u51f9\u9677\u8655\uff08\"click\"\uff09\u767c\u51fa\u591a\u5c11\u6b65\u3002\u5982\u679c\u7de8\u78bc\u5668\u9700\u8981\u8f49\u904e\u5169\u500b\u51f9 # \u9677\u624d\u80fd\u5728\u689d\u76ee\u4e4b\u9593\u79fb\u52d5\uff0c\u6216\u8005\u8f49\u904e\u4e00\u500b\u51f9\u75d5\u6703\u5728\u5169\u500b\u8a5e\u689d\u4e4b\u9593\u79fb\u52d5/\u8df3\u904e # \u4e00\u500b\u8a5e\u689d\uff0c\u53ef\u4ee5\u5617\u8a66\u6539\u8b8a\u9019\u500b\u503c\u3002 # \u5141\u8a31\u7684\u503c\u662f2 \uff08\u534a\u6b65\uff09\u6216 4\uff08\u5168\u6b65\uff09\u3002 # \u9810\u8a2d\u70ba 4\u3002 #click_pin: # \u9023\u7dda\u5230 \"enter\" \u6309\u9215\u6216\u7de8\u78bc\u5668\u6309\u58d3\u7684\u5f15\u8173\u3002 # \u4f7f\u7528\u83dc\u55ae\u6642\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_click_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #back_pin: # \u9023\u7dda\u5230\u300cback\u300d\u6309\u9215\u7684\u5f15\u8173\u3002\u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\uff0c\u83dc\u55ae\u4e0d\u9700\u8981\u9019\u500b\u6309\u9215\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_back_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #up_pin: # \u9023\u7dda\u5230\u300cup\u300d\u6309\u9215\u7684\u5f15\u8173\u3002\u5728\u4e0d\u4f7f\u7528\u7de8\u78bc\u5668\u6642\u4f7f\u7528\u83dc\u55ae\u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_up_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #down_pin: # \u9023\u7dda\u5230\u300cdown\u300d\u6309\u9215\u7684\u5f15\u8173\u3002 \u5728\u4e0d\u4f7f\u7528\u7de8\u78bc\u5668\u6642\u4f7f\u7528\u83dc\u55ae\u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_down_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #kill_pin: # \u9023\u7dda\u5230\u300ckill\u300d\u6309\u9215\u7684\u5f15\u8173\u3002 \u9019\u500b\u6309\u9215\u5c07\u6703\u89f8\u767c\u7dca\u6025\u505c\u6b62\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 \u300canalog_range_kill_pin\u300d\u914d\u7f6e\u53c3\u6578\uff0c\u5247\u9019\u500b\u53c3\u6578\u7684\u5f15\u8173\u9700\u8981 # \u662f\u6a21\u64ec\u5f15\u8173\u3002 #analog_pullup_resistor: 4700 # \u9023\u7dda\u5230\u6a21\u64ec\u6309\u9215\u7684\u62c9\u9ad8\u96fb\u963b\u963b\u503c(ohms) # \u9810\u8a2d\u70ba 4700 ohms\u3002 #analog_range_click_pin: # 'enter'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_back_pin: # 'back'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_up_pin: # 'up'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_down_pin: # 'down'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002 #analog_range_kill_pin: # 'kill'\u6309\u9215\u7684\u963b\u503c\u7bc4\u570d\u3002 # \u5728\u4f7f\u7528\u6a21\u64ec\u6309\u9215\u6642\u5fc5\u9808\u63d0\u4f9b\u7531\u9017\u865f\u5206\u9694\u6700\u5c0f\u548c\u6700\u5927\u503c\u3002","title":"[display]"},{"location":"Config_Reference.html#hd44780","text":"\u6709\u95dc\u914d\u7f6e hd44780 \u986f\u793a\u5c4f\uff08\u5728\"RepRapDiscount 2004 Smart Controller\"\u578b\u5225\u986f\u793a\u5c4f\u4e2d\u53ef\u4ee5\u627e\u5230\uff09\u7684\u8cc7\u8a0a\u3002 [display] lcd_type: hd44780 # \u5c0d\u65bchd44780\u986f\u793a\u5c4f\uff0c\u586b\u5beb \"hd44780\"\u3002 rs_pin: e_pin: d4_pin: d5_pin: d6_pin: d7_pin: # \u9023\u7dda\u5230hd44780 \u985eLCD\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u4e9b\u53c3\u6578 #hd44780_protocol_init: True # \u5728\u4e00\u500b hd44780 \u986f\u793a\u5c4f\u4e0a\u57f7\u884c 8-bit/4-bit \u5354\u8b70\u521d\u59cb\u5316\u3002\u5c0d\u65bc\u6240\u6709 # \u6b63\u7248\u7684 hd44780 \u88dd\u7f6e\uff0c\u9019\u662f\u5fc5\u9808\u7684\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e9b\u514b\u9686\u7684\u88dd\u7f6e\u4e0a # \u53ef\u80fd\u9700\u8981\u7981\u7528\u3002 # \u9810\u8a2d\u70baTrue\uff08\u555f\u7528\uff09\u3002 #line_length: # \u8a2d\u5b9a hd44780 \u985eLCD \u6bcf\u884c\u986f\u793a\u7684\u5b57\u5143\u6578\u3002\u53ef\u80fd\u7684\u6578\u503c\u670920\uff08\u9810\u8a2d\uff09 # \u548c16\u3002\u884c\u6578\u88ab\u9396\u5b9a\u70ba4\u884c\u3002 ...","title":"hd44780\u986f\u793a\u5c4f"},{"location":"Config_Reference.html#hd44780_spi","text":"\u6709\u95dc\u914d\u7f6e hd44780_spi \u986f\u793a\u5c4f\u7684\u8cc7\u8a0a - \u901a\u904e\u786c\u9ad4\"\u79fb\u4f4d\u66ab\u5b58\u5668\"\uff08\u7528\u65bc\u57fa\u65bc mightyboard \u7684\u5370\u8868\u6a5f\uff09\u63a7\u5236\u768420x04\u986f\u793a\u5c4f\u3002 [display] lcd_type: hd44780_spi # \u5c0d\u65bchd44780_spi \u986f\u793a\u5c4f\uff0c\u8a2d\u5b9a\u70ba\u300chd44780_spi\u300d\u3002 latch_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u63a7\u5236\u986f\u793a\u5c4f\u7684\u79fb\u4f4d\u66ab\u5b58\u5668\u7684\u5f15\u8173\u3002\u7531\u65bc\u4f4d\u79fb\u66ab\u5b58\u5668\u6c92\u6709 MISO \u5f15 # \u8173\uff0c\u4f46\u662f\u8edf\u9ad4 SPI \u5be6\u73fe\u9700\u8981\u9019\u500b\u5f15\u8173\u88ab\u914d\u7f6e\uff0c # spi_software_miso_pin \u9700\u8981\u88ab\u8a2d\u5b9a\u70ba\u4e00\u500b\u5370\u8868\u6a5f\u4e3b\u677f\u4e0a\u672a\u88ab\u4f7f # \u7528\u7684\u5f15\u8173\u3002 #hd44780_protocol_init: True # \u5728 hd44780 \u986f\u793a\u5c4f\u4e0a\u57f7\u884c 8-bit/4-bit \u5354\u8b70\u521d\u59cb\u5316\u3002\u6b63\u7248\u7684 # hd44780 \u88dd\u7f6e\u5fc5\u9808\u57f7\u884c\u6b64\u64cd\u4f5c\uff0c\u4f46\u662f\u67d0\u4e9b\u514b\u9686\u88dd\u7f6e\u4e0a\u53ef\u80fd\u9700\u8981 # \u7981\u7528\u3002 # \u9810\u8a2d\u70baTrue\uff08\u555f\u7528\uff09\u3002 #line_length: # \u8a2d\u5b9a\u4e00\u500b hd44780 \u985e LCD \u6bcf\u884c\u986f\u793a\u7684\u5b57\u5143\u6578\u91cf\u3002\u53ef\u80fd\u7684\u503c\u70ba20 # \uff08\u9810\u8a2d\uff09\u548c 16\u3002\u884c\u6578\u56fa\u5b9a\u70ba4\u3002 ...","title":"hd44780_spi\u986f\u793a\u5c4f"},{"location":"Config_Reference.html#st7920","text":"\u6709\u95dc\u914d\u7f6e st7920 \u985e\u986f\u793a\u5c4f\u7684\u8cc7\u8a0a\uff08\u53ef\u7528\u65bc \"RepRapDiscount 12864 Full Graphic Smart Controller\" \u578b\u5225\u7684\u986f\u793a\u5c4f\uff09\u3002 [display] lcd_type: st7920 # \u70bast7920\u986f\u793a\u5c4f\u8a2d\u5b9a\u70ba \"st7920\"\u3002 cs_pin: sclk_pin: sid_pin: # \u9023\u7dda\u5230 st7920 \u985eLCD\u7684\u5f15\u8173\u3002 # \u9019\u4e9b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 ...","title":"st7920 \u986f\u793a\u5c4f"},{"location":"Config_Reference.html#emulated_st7920st7920","text":"\u6709\u95dc\u914d\u7f6e\u6a21\u64ec st7920 \u986f\u793a\u5c4f\u7684\u8cc7\u8a0a \u2014\u5b83\u53ef\u4ee5\u5728\u4e00\u4e9b\"2.4 \u5bf8\u89f8\u63a7\u5f0f\u87a2\u5e55\"\u548c\u5176\u4ed6\u985e\u4f3c\u88dd\u7f6e\u4e2d\u627e\u5230\u3002 [display] lcd_type: emulated_st7920 # \u5c0d\u65bc emulated_st7920 \u986f\u793a\u5c4f\uff0c\u8a2d\u5b9a\u70ba\"emulated_st7920\"\u3002 en_pin: spi_software_sclk_pin: spi_software_mosi_pin: spi_software_miso_pin: # \u9023\u7dda\u5230 emulated_st7920 \u985eLCD\u7684\u5f15\u8173\u3002 en_pin \u5c0d\u61c9 # st7920 \u985eLCD\u7684 cs_pin\u3002spi_software_sclk_pin \u5c0d\u61c9 sclk_pin\uff0c # \u9084\u6709 spi_software_mosi_pin \u5c0d\u61c9 sid_pin\u3002\u7531\u65bc\u8edf\u9ad4SPI\u5be6\u73fe # \u7684\u65b9\u5f0f\uff0c\u96d6\u7136 ST7920 \u4e0d\u4f7f\u7528 MISO \u5f15\u8173\uff0c \u4f9d\u820a\u9700\u8981\u5c07 # spi_software_miso_pin\u8a2d\u70ba\u4e00\u500b\u5370\u8868\u6a5f\u63a7\u5236\u677f\u4e0a\u4e00\u500b\u6c92\u6709\u88ab # \u4f7f\u7528\u7684\u5f15\u8173\u3002 ...","title":"emulated_st7920\uff08\u6a21\u64ecST7920\uff09\u986f\u793a\u5c4f"},{"location":"Config_Reference.html#uc1701","text":"\u6709\u95dc\u914d\u7f6e uc1701 \u986f\u793a\u5c4f\u7684\u8cc7\u8a0a\uff08\u7528\u65bc\u300cMKS Mini 12864\u300d\u578b\u986f\u793a\u5c4f\uff09\u3002 [display] lcd_type: uc1701 # uc1701 \u986f\u793a\u5c4f\u61c9\u8a2d\u70ba\"uc1701\"\u3002 cs_pin: a0_pin: # \u9023\u7dda\u5230 uc1701 \u985eLCD\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u4e9b\u53c3\u6578\u3002 #rst_pin: # \u9023\u7dda\u5230 LCD \"rst\" \u7684\u5f15\u8173\u3002 \u5982\u679c\u6c92\u6709\u5b9a\u7fa9\uff0c\u5247\u786c\u9ad4\u5fc5\u9808\u5728LCD # \u76f8\u61c9\u7684\u7dda\u8def\u4e0a\u5e36\u4e00\u500bLCD\u5f15\u8173\u3002 #contrast: # \u986f\u793a\u5c4f\u7684\u5c0d\u6bd4\u5ea6\u3002\u5fc5\u9808\u57280\u548c63\u4e4b\u9593\u3002 # \u9810\u8a2d\u70ba40\u3002 ...","title":"uc1701\u986f\u793a\u5c4f"},{"location":"Config_Reference.html#ssd1306-sh1106","text":"ssd1306 \u548c sh1106 \u986f\u793a\u5c4f\u7684\u914d\u7f6e\u8cc7\u8a0a. [display] lcd_type: # \u5c0d\u65bc\u7d66\u5b9a\u7684\u986f\u793a\u5c4f\u578b\u5225\uff0c\u8a2d\u5b9a\u70ba \u300cssd1306\" \u6216 \"sh1106\"\u3002 #i2c_mcu: #i2c_bus: #i2c_speed: # \u9023\u7dda\u5230I2C\u532f\u6d41\u6392\u7684\u986f\u793a\u5c4f\u7684\u53ef\u9078\u53c3\u6578\uff0c \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u901a # \u7528 I2C \u8a2d\u5b9a\u7ae0\u7bc0\u3002 #cs_pin: #dc_pin: #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # \u4f7f\u75284\u7dda SPI \u6a21\u5f0f\u6642\u9023\u7dda\u5230 lcd \u7684\u5f15\u8173\u3002\u4ee5 \"spi_\" \u958b\u982d\u7684 # \u53c3\u6578\u8a73\u898b \u300c\u901a\u7528 SPI \u8a2d\u5b9a\u300d \u7ae0\u7bc0\u3002 # \u986f\u793a\u5c4f\u9810\u8a2d\u4f7f\u7528 I2C \u6a21\u5f0f #reset_pin: # \u53ef\u4ee5\u6307\u5b9a\u4e00\u500b\u986f\u793a\u5c4f\u4e0a\u7684\u91cd\u7f6e\u5f15\u8173\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\uff0c\u786c\u9ad4 # \u5fc5\u9808\u5728\u76f8\u61c9\u7684 lcd \u7dda\u8def\u4e0a\u6709\u4e00\u500b\u62c9\u9ad8\u96fb\u963b\u3002 #contrast: # \u53ef\u8a2d\u5b9a\u7684\u5c0d\u6bd4\u5ea6\u3002 # \u6578\u503c\u5fc5\u9808\u5728 0 \u548c 256 \u4e4b\u9593\uff0c\u9810\u8a2d\u70ba 239\u3002 #vcomh: 0 # \u8a2d\u5b9a\u986f\u793a\u5c4f\u7684 Vcomh \u503c\u3002\u9019\u500b\u503c\u8207\u4e00\u4e9bOLED\u986f\u793a\u5c4f\u7684 # \u6a21\u7cca\u6548\u679c\u6709\u95dc\u3002\u9019\u500b\u6578\u503c\u53ef\u4ee5\u5728 0 \u548c 63 \u4e4b\u9593\u3002 # \u9810\u8a2d\u70ba0\u3002 #invert: False # TRUE \u53ef\u4ee5\u5728\u4e00\u4e9bOLED\u986f\u793a\u5c4f\u4e0a\u53cd\u8f49\u756b\u7d20 # \u9810\u8a2d\u70ba False\u3002 #x_offset: 0 # \u8a2d\u5b9a\u5728 SH1106 \u986f\u793a\u5c4f\u4e0a\u7684\u6c34\u5e73\u504f\u79fb\u3002 # \u9810\u8a2d\u70ba0\u3002 ...","title":"ssd1306 \u548c sh1106 \u986f\u793a\u5c4f"},{"location":"Config_Reference.html#display_data","text":"\u652f\u6301\u5728\u6db2\u6676\u5c4f\u4e0a\u986f\u793a\u81ea\u5b9a\u7fa9\u6578\u64da\u3002\u53ef\u4ee5\u5728\u9019\u4e9b\u7d44\u4e0b\u5275\u5efa\u4efb\u610f\u6578\u91cf\u7684\u986f\u793a\u7d44\u548c\u4efb\u610f\u6578\u91cf\u7684\u6578\u64da\u9805\u3002\u5982\u679c [display] \u90e8\u5206\u4e2d\u7684 display_group \u9078\u9805\u8a2d\u7f6e\u70ba\u7d66\u5b9a\u7d44\u540d\u7a31\uff0c\u5247\u986f\u793a\u5c07\u986f\u793a\u7d66\u5b9a\u7d44\u7684\u6240\u6709\u6578\u64da\u9805\u3002 \u4e00\u5957 \u9810\u8a2d\u986f\u793a\u7d44 \u5c07\u88ab\u81ea\u52d5\u5efa\u7acb\u3002\u901a\u904e\u8986\u84cb\u5370\u8868\u6a5f\u7684 printer.cfg \u4e3b\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u9810\u8a2d\u503c\u53ef\u4ee5\u66ff\u63db\u6216\u64f4\u5145\u5957\u4ef6\u9019\u4e9b display_data \u9805\u3002 [display_data my_group_name my_data_name] position: # \u7528\u65bc\u986f\u793a\u8cc7\u8a0a\u7684\u87a2\u5e55\u4f4d\u7f6e\uff0c\u7531\u9017\u865f\u5206\u9694\u884c\u8207\u5217\u8868\u793a\u3002 # \u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 text: # \u5728\u6307\u5b9a\u4f4d\u7f6e\u986f\u793a\u7684\u6587\u5b57\u3002\u672c\u6b04\u4f4d\u5fc5\u9808\u7528\u547d\u4ee4\u6a23\u677f\u9032\u884c\u8a55\u4f30\u3002 # \uff08\u6aa2\u8996 docs/Command_Templates.md\uff09\u3002 # \u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002","title":"[display_data]"},{"location":"Config_Reference.html#display_template","text":"Display data text \"macros\" (one may define any number of sections with a display_template prefix). See the command templates document for information on template evaluation. This feature allows one to reduce repetitive definitions in display_data sections. One may use the builtin render() function in display_data sections to evaluate a template. For example, if one were to define [display_template my_template] then one could use { render('my_template') } in a display_data section. This feature can also be used for continuous LED updates using the SET_LED_TEMPLATE command. [display_template my_template_name] #param_<name>: # One may specify any number of options with a \"param_\" prefix. The # given name will be assigned the given value (parsed as a Python # literal) and will be available during macro expansion. If the # parameter is passed in the call to render() then that value will # be used during macro expansion. For example, a config with # \"param_speed = 75\" might have a caller with # \"render('my_template_name', param_speed=80)\". Parameter names may # not use upper case characters. text: # The text to return when the this template is rendered. This field # is evaluated using command templates (see # docs/Command_Templates.md). This parameter must be provided.","title":"[display_template]"},{"location":"Config_Reference.html#display_glyph","text":"\u5728\u652f\u63f4\u81ea\u5b9a\u7fa9\u5b57\u5f62\u7684\u986f\u793a\u5c4f\u4e0a\u986f\u793a\u4e00\u500b\u81ea\u5b9a\u7fa9\u5b57\u5f62\u3002\u7d66\u5b9a\u7684\u540d\u7a31\u5c07\u88ab\u5206\u914d\u7d66\u7d66\u5b9a\u7684\u986f\u793a\u6578\u64da\uff0c\u7136\u5f8c\u53ef\u4ee5\u5728\u986f\u793a\u6a21\u677f\u4e2d\u901a\u904e\u7528\u300c\u6ce2\u6d6a\u5f62\uff08\uff5e\uff09\u300d\u7b26\u865f\u5305\u570d\u7684\u540d\u7a31\u4f86\u5f15\u7528\uff0c\u5373 ~my_display_glyph~ \u6709\u95dc\u4e00\u4e9b\u793a\u4f8b\uff0c\u8acb\u53c3\u95b1 sample-glyphs.cfg \u3002 [display_glyph my_display_glyph] #data: # \u88ab\u5132\u5b58\u70ba16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\uff081\u4f4d\u4ee3\u88681\u500b\u756b\u7d20\uff09\u7684\u986f\u793a\u6578\u64da\u3002\u300c.\u300d\u662f\u4e00\u500b # \u7a7a\u767d\u7684\u756b\u7d20\uff0c\u800c\u300e*\u300f\u662f\u4e00\u500b\u958b\u555f\u7684\u756b\u7d20\uff08\u4f8b\u5982\uff0c\"****************\" # \u53ef\u4ee5\u7528\u4f86\u986f\u793a\u4e00\u689d\u6a6b\u5411\u7684\u5be6\u7dda\u3002\u9664\u6b64\u4ee5\u5916\uff0c\u4e5f\u53ef\u4ee5\u7528\u300c0\u300d\u4f5c\u70ba\u7a7a # \u767d\u7684\u756b\u7d20\uff0c\u800c\u300e1\u300f\u4f5c\u70ba\u958b\u555f\u7684\u756b\u7d20\u3002\u9700\u8981\u5c07\u6bcf\u500b\u986f\u793a\u7684\u884c\u653e\u5230\u914d\u7f6e\u6a94\u6848 # \u4e2d\u7368\u7acb\u7684\u4e00\u884c\u3002\u6bcf\u500b\u5b57\u5f62\u90fd\u5fc5\u9808\u5305\u542b\u4e14\u50c5\u5305\u542b 16 \u884c\uff0c\u6bcf\u884c 16 \u4f4d\u3002 # \u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\u3002 #hd44780_data: # \u7528\u65bc 20x4 hd44780 \u986f\u793a\u5c4f\u7684\u5b57\u5f62\u3002\u5b57\u5f62\u5fc5\u9808\u5305\u542b\u4e14\u50c5\u5305\u542b 8 \u884c\uff0c # \u6bcf\u884c 5 \u4f4d\u3002 # \u9019\u662f\u4e00\u500b\u53ef\u9078\u53c3\u6578\u3002 #hd44780_slot: # \u7528\u65bc\u5132\u5b58\u5b57\u5f62\u7684 hd44780 \u786c\u9ad4\u7d22\u5f15\uff080..7\uff09\u3002\u5982\u679c\u591a\u500b\u7368\u7279\u7684\u5716\u7247\u4f7f\u7528 # \u4e86\u76f8\u540c\u7684\u7d22\u5f15\u4f4d\u7f6e\uff0c\u9700\u8981\u4fdd\u8b49\u5728\u4efb\u4f55\u87a2\u5e55\u4e0a\u53ea\u4f7f\u7528\u5176\u4e2d\u4e00\u500b\u5716\u7247\u3002 # \u5982\u679c\u5b9a\u7fa9\u4e86 hd44780_data \uff0c\u5247\u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002","title":"[display_glyph]"},{"location":"Config_Reference.html#display-my_extra_display","text":"\u5982\u679c\u5982\u4e0a\u6240\u793a\u5728 printer.cfg \u4e2d\u5b9a\u7fa9\u4e86\u4e3b\u8981\u7684 [display] \u5206\u6bb5\uff0c\u9084\u53ef\u4ee5\u5b9a\u7fa9\u591a\u500b\u8f14\u52a9\u986f\u793a\u5c4f\u3002\u6ce8\u610f\uff0c\u8f14\u52a9\u986f\u793a\u5c4f\u76ee\u524d\u4e0d\u652f\u63f4\u83dc\u55ae\u529f\u80fd\uff0c\u56e0\u6b64\u5b83\u5011\u4e0d\u652f\u63f4\u300cmenu\u300d\u9078\u9805\u6216\u6309\u9215\u914d\u7f6e\u3002 [display my_extra_display] \u3002 # \u53ef\u7528\u53c3\u6578\u53c3\u898b \"\u986f\u793a \"\u5206\u6bb5\u3002","title":"[display my_extra_display]"},{"location":"Config_Reference.html#menu","text":"\u53ef\u81ea\u5b9a\u7fa9\u6db2\u6676\u986f\u793a\u5c4f\u83dc\u55ae\u3002 \u4e00\u5957 \u9810\u8a2d\u83dc\u55ae \u5c07\u88ab\u81ea\u52d5\u5efa\u7acb\u3002\u901a\u904e\u8986\u84cb printer.cfg \u4e3b\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u9810\u8a2d\u503c\u53ef\u4ee5\u66ff\u63db\u6216\u64f4\u5145\u5957\u4ef6\u8a72\u83dc\u55ae\u3002 \u6709\u95dc\u6a21\u677f\u5448\u73fe\u671f\u9593\u53ef\u7528\u7684\u83dc\u55ae\u5c6c\u6027\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 command template document \u3002 # \u6240\u6709\u7684\u83dc\u55ae\u914d\u7f6e\u5206\u6bb5\u90fd\u6709\u7684\u901a\u7528\u53c3\u6578\u3002 #[menu __some_list __some_name] #type: disabled # \u6c38\u4e45\u7981\u7528\u9019\u500b\u83dc\u55ae\u5143\u7d20\uff0c\u552f\u4e00\u9700\u8981\u7684\u5c6c\u6027\u662f \"\u578b\u5225\"\u3002 # \u5141\u8a31\u4f60\u7c21\u55ae\u554a\u7684\u7981\u7528/\u96b1\u85cf\u73fe\u6709\u7684\u83dc\u55ae\u5c08\u6848\u3002 #[menu some_name] #type: # command\uff08\u547d\u4ee4\uff09, input\uff08\u8f38\u5165\uff09, list\uff08\u5217\u8868\uff09, text\uff08\u6587\u5b57\uff09\u4e4b\u4e00\uff1a # command - \u53ef\u4ee5\u89f8\u767c\u5404\u7a2e\u6307\u4ee4\u78bc\u7684\u57fa\u672c\u83dc\u55ae\u5143\u7d20\u3002 # input - \u985e\u4f3c \u300ccommand\u300d \u4f46\u662f\u53ef\u4ee5\u4fee\u6539\u6578\u503c\u3002 # \u9ede\u9078\u4f86\u9032\u5165/\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002 # list - \u9019\u5141\u8a31\u83dc\u55ae\u9805\u88ab\u7d44\u7e54\u6210\u4e00\u500b\u53ef\u6efe\u52d5\u7684\u5217\u8868\u3002\u901a\u904e\u5efa\u7acb\u7531 \"some_list\" # \u958b\u982d\u7684\u83dc\u55ae\u914d\u7f6e - \u4f8b\u5982\uff1a[menu some_list some_item_in_the_list] # vsdlist - \u548c\u300clist\u300d\u4e00\u6a23\uff0c\u4f46\u662f\u6703\u81ea\u52d5\u5f9e\u865b\u64ecSD\u5361\u4e2d\u65b0\u589e\u6a94\u6848\u3002 # \uff08\u5c07\u5728\u672a\u4f86\u88ab\u79fb\u9664\uff09 #name: # \u83dc\u55ae\u9805\u7684\u540d\u7a31 - \u88ab\u8996\u70ba\u6a21\u677f #enable: # \u8996\u70ba True \u6216 False \u7684\u6a21\u677f\u3002 #index: # \u5c08\u6848\u63d2\u5165\u5230\u5217\u8868\u7684\u4f4d\u7f6e\u3002 # \u9810\u8a2d\u65b0\u589e\u5230\u7d50\u5c3e\u3002 #[menu some_list] #type: list #name: #enable: # \u898b\u4e0a\u6587\u5c0d\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #[menu some_list some_command] #type: command #name: #enable: # \u898b\u4e0a\u6587\u5c0d\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #gcode: # \u9ede\u9078\u6309\u9215\u6216\u9577\u6309\u6642\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u6307\u4ee4\u78bc\u3002\u88ab\u8996\u70ba\u6a21\u677f\u3002 #[menu some_list some_input] #type: input #name: #enable: # \u898b\u4e0a\u6587\u5c0d\u9019\u4e9b\u53c3\u6578\u7684\u63cf\u8ff0\u3002 #input: # \u7528\u65bc\u4fee\u6539\u7684\u521d\u59cb\u6578\u503c - \u88ab\u8996\u70ba\u6a21\u677f\u3002 # \u7d50\u679c\u5fc5\u9808\u70ba\u6d6e\u9ede\u6578\u3002 #input_min: # \u7bc4\u570d\u7684\u6700\u5c0f\u503c - \u88ab\u8996\u70ba\u6a21\u677f\u3002\u9810\u8a2d-99999\u3002 #input_max: # \u7bc4\u570d\u7684\u6700\u5927\u503c - \u88ab\u8996\u70ba\u6a21\u677f\u3002 \u9810\u8a2d-99999\u3002 #input_step: # \u4fee\u6539\u7684\u6b65\u9577 - \u5fc5\u9808\u662f\u4e00\u500b\u6b63\u6574\u6578\u6216\u6d6e\u9ede\u6578\u3002\u5b83\u6709\u5167\u5efa\u5feb\u9032 # \u6b65\u9577\u3002\u7576\"(input_max - input_min) / # input_step > 100\" \u6642\uff0c\u5feb\u9032\u6b65\u9577\u662f 10 * input_step\uff0c \u5426\u5247 # \u6b65\u9577\u548c input_step \u76f8\u540c\u3002 #realtime: # \u6b64\u5c6c\u6027\u63a5\u53d7\u975c\u614b\u5e03\u723e\u503c\u3002 \u5728\u555f\u7528\u6642\uff0cG\u7a0b\u5f0f\u78bc\u6307\u4ee4\u78bc\u5c07\u6703\u5728\u6bcf # \u6b21\u6578\u503c\u8b8a\u5316\u6642\u57f7\u884c\u3002 # \u9810\u8a2d\u70baFalse\uff08\u5426\uff09\u3002 #gcode: # \u9ede\u9078\u6309\u9215\u3001\u9577\u6309\u6216\u6578\u503c\u8b8a\u5316\u6642\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u6307\u4ee4\u78bc\u3002 # \u88ab\u8996\u70ba\u6a21\u677f\u3002\u9ede\u9078\u6309\u9215\u6703\u9032\u5165\u6216\u9000\u51fa\u4fee\u6539\u6a21\u5f0f\u3002","title":"[menu]"},{"location":"Config_Reference.html#_26","text":"","title":"\u8017\u6750\u611f\u6e2c\u5668"},{"location":"Config_Reference.html#filament_switch_sensor","text":"\u8017\u6750\u958b\u95dc\u611f\u6e2c\u5668\u3002\u652f\u63f4\u4f7f\u7528\u958b\u95dc\u611f\u6e2c\u5668\uff08\u5982\u9650\u4f4d\u958b\u95dc\uff09\u9032\u884c\u8017\u6750\u63d2\u5165\u548c\u8017\u76e1\u6aa2\u6e2c\u3002 \u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [filament_switch_sensor my_sensor]\u3002 #pause_on_runout: True # \u7576\u8a2d\u5b9a\u70ba \"True \"\u6642\uff0c\u6703\u5728\u6aa2\u6e2c\u5230\u8017\u76e1\u540e\u7acb\u5373\u66ab\u505c\u5370\u8868\u6a5f\u3002 # \u8acb\u6ce8\u610f, \u5982\u679c pause_on_runout \u70ba False \u4e26\u4e14\u6c92\u6709\u5b9a\u7fa9\u3002 # runout_gcode\u7684\u8a71, \u8017\u76e1\u6aa2\u6e2c\u5c07\u88ab\u7981\u7528\u3002 # \u9810\u8a2d\u70ba True\u3002 #runout_gcode: # \u5728\u6aa2\u6e2c\u5230\u8017\u6750\u8017\u76e1\u5f8c\u6703\u57f7\u884c\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u5217\u8868\u3002 # \u6709\u95dcG-Code \u683c\u5f0f\u8acb\u898b docs/Command_Templates.md\u3002 # \u5982\u679c pause_on_runout \u88ab\u8a2d\u5b9a\u70ba True\uff0c\u9019\u500bG-Code\u5c07\u5728 # \u66ab\u505c\u540e\u57f7\u884c\u3002 # \u9810\u8a2d\u60c5\u6cc1\u662f\u4e0d\u57f7\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\u3002 #insert_gcode: # \u5728\u6aa2\u6e2c\u5230\u8017\u6750\u63d2\u5165\u5f8c\u6703\u57f7\u884c\u7684 G-Code \u547d\u4ee4\u5217\u8868\u3002 # \u95dc\u65bcG\u7a0b\u5f0f\u78bc\u683c\u5f0f\uff0c\u8acb\u53c3\u898b docs/Command_Templates.md\u3002 # \u9810\u8a2d\u4e0d\u57f7\u884c\u4efb\u4f55 G-Code \u547d\u4ee4\uff0c\u9019\u5c07\u7981\u7528\u8017\u6750\u63d2\u5165\u6aa2\u6e2c\u3002 #event_delay: 3.0 # \u4e8b\u4ef6\u4e4b\u9593\u7684\u6700\u5c0f\u5ef6\u9072\u6642\u9593\uff08\u79d2\uff09\u3002 # \u5728\u9019\u500b\u6642\u9593\u6bb5\u5167\u89f8\u767c\u7684\u4e8b\u4ef6\u5c07\u88ab\u9ed8\u8a31\u5ffd\u7565\u3002 # \u9810\u8a2d\u70ba3\u79d2\u3002 #pause_delay: 0.5 # \u66ab\u505c\u547d\u4ee4\u548c\u57f7\u884c runout_gcode \u4e4b\u9593\u7684\u5ef6\u9072\u6642\u9593, \u55ae\u4f4d\u662f\u79d2\u3002 # \u5982\u679c\u5728OctoPrint\u7684\u60c5\u6cc1\u4e0b\uff0c\u589e\u52a0\u9019\u500b\u5ef6\u9072\u53ef\u80fd\u6539\u5584\u66ab # \u505c\u7684\u53ef\u9760\u6027\u3002\u5982\u679cOctoPrint\u8868\u73fe\u51fa\u5947\u602a\u7684\u66ab\u505c\u884c\u70ba\uff0c # \u8003\u616e\u589e\u52a0\u9019\u500b\u5ef6\u9072\u3002 # \u9810\u8a2d\u70ba0.5\u79d2\u3002 #switch_pin: # \u9023\u7dda\u5230\u6aa2\u6e2c\u958b\u95dc\u7684\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002","title":"[filament_switch_sensor]"},{"location":"Config_Reference.html#filament_motion_sensor","text":"\u8017\u6750\u79fb\u52d5\u611f\u6e2c\u5668\u3002\u4f7f\u7528\u4e00\u500b\u5728\u8017\u6750\u901a\u904e\u611f\u6e2c\u5668\u6642\u8f38\u51fa\u5f15\u8173\u72c0\u614b\u6703\u767c\u751f\u8b8a\u5316\u4f86\u6aa2\u6e2c\u8017\u6750\u63d2\u5165\u548c\u8017\u76e1\u3002 \u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u547d\u4ee4\u53c3\u8003 \u3002 [filament_motion_sensor my_sensor] detection_length: 7.0 # \u89f8\u767c\u611f\u6e2c\u5668 switch_pin \u5f15\u8173\u72c0\u614b\u8b8a\u5316\u7684\u6700\u5c0f\u8ddd\u96e2\u3002 # \u9810\u8a2d\u70ba 7 mm\u3002 extruder: # \u8a72\u611f\u6e2c\u5668\u76f8\u95dc\u806f\u7684\u64e0\u51fa\u6a5f\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 switch_pin: #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u4ee5\u4e0a\u53c3\u6578\u8a73\u898b\u300cfilament_switch_sensor\u300d\u7ae0\u7bc0\u3002","title":"[filament_motion_sensor]"},{"location":"Config_Reference.html#tsl1401cl_filament_width_sensor","text":"\u57fa\u65bc TSLl401CL \u7684\u5370\u7d72\u5bec\u5ea6\u50b3\u611f\u5668\u3002\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 guide \u3002 [tsl1401cl_filament_width_sensor] #pin: #default_nominal_filament_diameter: 1.75 # (mm) # Maximum allowed filament diameter difference as mm. #max_difference: 0.2 # The distance from sensor to the melting chamber as mm. #measurement_delay: 100","title":"[tsl1401cl_filament_width_sensor]"},{"location":"Config_Reference.html#hall_filament_width_sensor","text":"\u970d\u723e\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\uff08\u8a73\u898b \u970d\u723e\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668 \uff09\u3002 [hall_filament_width_sensor] adc1: adc2: # \u9023\u7dda\u5230\u611f\u6e2c\u5668\u7684\u6a21\u64ec\u8f38\u5165\u5f15\u8173\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u4e9b\u53c3\u6578\u3002 #cal_dia1: 1.50 #cal_dia2: 2.00 # \u611f\u6e2c\u5668\u7684\u6821\u6e96\u503c\uff08\u55ae\u4f4d\uff1a\u6beb\u7c73\uff09\u3002 # \u9810\u8a2d cal_dia1 \u70ba1.50\uff0ccal_dia2 \u70ba 2.00\u3002 #raw_dia1: 9500 #raw_dia2: 10500 # \u611f\u6e2c\u5668\u7684\u539f\u59cb\u6821\u6e96\u503c\u3002\u9810\u8a2draw_dial1 \u70ba 9500 # \u800c raw_dia2 \u70ba 10500\u3002 #default_nominal_filament_diameter: 1.75 # \u6a19\u7a31\u8017\u6750\u76f4\u5f91\u3002 # \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #max_difference: 0.200 # \u5141\u8a31\u7684\u8017\u6750\u6700\u5927\u76f4\u5f91\u5dee\u7570\uff0c\u55ae\u4f4d\u662f\u6beb\u7c73\uff08mm\uff09\u3002 # \u5982\u679c\u8017\u6750\u6a19\u7a31\u76f4\u5f91\u548c\u611f\u6e2c\u5668\u8f38\u51fa\u4e4b\u9593\u7684\u5dee\u7570 # \u8d85\u904e\u6b63\u8ca0 max_difference\uff0c\u64e0\u51fa\u500d\u6578\u5c07\u88ab\u8a2d\u56de # \u5230100%\u3002 # \u9810\u8a2d\u70ba0.200\u3002 #measurement_delay: 70 # \u5f9e\u611f\u6e2c\u5668\u5230\u7194\u8154/\u71b1\u7aef\u7684\u8ddd\u96e2\uff0c\u55ae\u4f4d\u662f\u6beb\u7c73 (mm)\u3002 # \u611f\u6e2c\u5668\u548c\u71b1\u7aef\u4e4b\u9593\u7684\u8017\u6750\u5c07\u88ab\u8996\u70ba\u6a19\u7a31\u76f4\u5f91\u3002\u4e3b\u6a5f # \u6a21\u7d44\u63a1\u7528\u5148\u9032\u5148\u51fa\u7684\u908f\u8f2f\u5de5\u4f5c\u3002\u5b83\u5c07\u6bcf\u500b\u611f\u6e2c\u5668\u7684\u503c\u548c # \u4f4d\u7f6e\u5728\u4e00\u500b\u9663\u5217\u4e2d\uff0c\u4e26\u6703\u5728\u6b63\u78ba\u7684\u4f4d\u7f6e\u4f7f\u7528\u611f\u6e2c\u5668\u503c\u3002 # \u5fc5\u9808\u63d0\u4f9b\u9019\u500b\u53c3\u6578\u3002 #enable:False # \u611f\u6e2c\u5668\u5728\u958b\u6a5f\u540e\u555f\u7528\u6216\u7981\u7528\u3002 # \u9810\u8a2d\u662f False\u3002 #measurement_interval: 10 # \u611f\u6e2c\u5668\u8b80\u6578\u4e4b\u9593\u7684\u8fd1\u4f3c\u8ddd\u96e2(mm)\u3002 # \u9810\u8a2d\u70ba10mm\u3002 #logging:False # \u8f38\u51fa\u76f4\u5f91\u5230\u7d42\u7aef\u548c klipper.log\uff0c\u53ef\u4ee5\u901a\u904e\u547d\u4ee4\u555f\u7528\u6216\u7981\u7528\u3002 #min_diameter: 1.0 # \u89f8\u767c\u865b\u64ec filament_switch_sensor \u7684\u6700\u5c0f\u76f4\u5f91\u3002 #use_current_dia_while_delay: False # \u5728\u672a\u88ab\u6e2c\u91cf\u7684 measurement_delay \u90e8\u5206\u8017\u6750\u4f7f\u7528\u76ee\u524d\u8017\u6750 # \u611f\u6e2c\u5668\u5831\u544a\u7684\u76f4\u5f91\u800c\u4e0d\u662f\u6a19\u7a31\u76f4\u5f91\u3002 #pause_on_runout: #runout_gcode: #insert_gcode: #event_delay: #pause_delay: # \u95dc\u65bc\u4e0a\u8ff0\u53c3\u6578\u7684\u63cf\u8ff0\u8acb\u53c3\u898b\"filament_switch_sensor\"\u7ae0\u7bc0\u3002","title":"[hall_filament_width_sensor]"},{"location":"Config_Reference.html#_27","text":"","title":"\u63a7\u5236\u677f\u7279\u5b9a\u786c\u9ad4\u652f\u63f4"},{"location":"Config_Reference.html#sx1509","text":"\u5c07\u4e00\u500b SX1509 I2C \u914d\u7f6e\u70ba GPIO \u64f4\u5145\u5957\u4ef6\u5668\u3002\u7531\u65bc I2C \u901a\u8a0a\u672c\u8eab\u7684\u5ef6\u9072\uff0c\u4e0d\u61c9\u5c07 SX1509 \u5f15\u8173\u7528\u4f5c\u6b65\u9032\u96fb\u6a5f\u7684 enable \uff08\u555f\u7528)\u3001step\uff08\u6b65\u9032\uff09\u6216 dir \uff08\u65b9\u5411\uff09\u5f15\u8173\u6216\u4efb\u4f55\u5176\u4ed6\u9700\u8981\u5feb\u901f bit-banging\uff08\u4f4d\u62c6\u88c2\uff09\u7684\u5f15\u8173\u3002\u5b83\u5011\u6700\u9069\u5408\u7528\u4f5c\u975c\u614b\u6216G\u7a0b\u5f0f\u78bc\u63a7\u5236\u7684\u6578\u5b57\u8f38\u51fa\u6216\u786c\u9ad4 pwm \u5f15\u8173\uff0c\u4f8b\u5982\u98a8\u6247\u3002\u53ef\u4ee5\u4f7f\u7528\u300csx1509\u300d\u5b57\u9996\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u5206\u6bb5\u3002\u6bcf\u500b\u64f4\u5145\u5957\u4ef6\u5668\u63d0\u4f9b\u53ef\u7528\u65bc\u5370\u8868\u6a5f\u914d\u7f6e\u7684\u4e00\u7d44 16 \u500b\u5f15\u8173\uff08sx1509_my_sx1509:PIN_0 \u5230 sx1509_my_sx1509:PIN_15\uff09\u3002 \u6709\u95dc\u793a\u4f8b\uff0c\u8acb\u53c3\u898b generic-duet2-duex.cfg \u6587\u4ef6\u3002 [sx1509 my_sx1509] i2c_\u5730\u5740\uff1a # \u6b64\u64f4\u5c55\u5668\u4f7f\u7528\u7684 I2C \u5730\u5740\u3002\u53d6\u6c7a\u65bc\u786c\u4ef6 # \u8df3\u7dda \u9019\u662f\u4ee5\u4e0b\u5730\u5740\u4e4b\u4e00\uff1a62 63 112 # 113. \u5fc5\u9808\u63d0\u4f9b\u6b64\u53c3\u6578\u3002 #i2c_mcu: #i2c_bus\uff1a #i2c_speed: # \u8acb\u53c3\u95b1\u201c\u5e38\u7528 I2C \u8a2d\u7f6e\u201d\u90e8\u5206\u4e86\u89e3 # \u4ee5\u4e0a\u53c3\u6578\u3002 #i2c_bus\uff1a # \u5982\u679c\u4f60\u7684\u5fae\u63a7\u5236\u5668\u7684 I2C \u5be6\u73fe\u652f\u6301 # \u591a\u500b I2C \u7e3d\u7dda\uff0c\u60a8\u53ef\u4ee5\u5728\u6b64\u8655\u6307\u5b9a\u7e3d\u7dda\u540d\u7a31\u3002\u9019 # \u9ed8\u8a8d\u662f\u4f7f\u7528\u9ed8\u8a8d\u7684\u5fae\u63a7\u5236\u5668 i2c \u7e3d\u7dda\u3002","title":"[sx1509]"},{"location":"Config_Reference.html#samd_sercom","text":"SAMD SERCOM \u914d\u7f6e\u4ee5\u6307\u5b9a\u5728\u7d66\u5b9a SERCOM \u4e0a\u4f7f\u7528\u54ea\u4e9b\u5f15\u8173\u3002\u53ef\u4ee5\u4f7f\u7528\u201csamd_sercom\u201d\u524d\u7db4\u5b9a\u7fa9\u4efb\u610f\u6578\u91cf\u7684\u90e8\u5206\u3002\u5728\u5c07\u6bcf\u500b SERCOM \u7528\u4f5c SPI \u6216 I2C \u5916\u8a2d\u4e4b\u524d\uff0c\u5fc5\u9808\u5c0d\u5176\u9032\u884c\u914d\u7f6e\u3002\u5c07\u6b64\u914d\u7f6e\u90e8\u5206\u653e\u5728\u4f7f\u7528 SPI \u6216 I2C \u7e3d\u7dda\u7684\u4efb\u4f55\u5176\u4ed6\u90e8\u5206\u4e4b\u4e0a\u3002 [samd_sercom my_sercom] sercom: # The name of the sercom bus to configure in the micro-controller. # Available names are \"sercom0\", \"sercom1\", etc.. This parameter # must be provided. tx_pin: # MOSI pin for SPI communication, or SDA (data) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided. #rx_pin: # MISO pin for SPI communication. This pin is not used for I2C # communication (I2C uses tx_pin for both sending and receiving). # The pin must have a valid pinmux configuration for the given # SERCOM peripheral. This parameter is optional. clk_pin: # CLK pin for SPI communication, or SCL (clock) pin for I2C # communication. The pin must have a valid pinmux configuration # for the given SERCOM peripheral. This parameter must be provided.","title":"[samd_sercom]"},{"location":"Config_Reference.html#adc_scaled","text":"Duet 2 Maestro \u901a\u904evref\u548cvssa\u8b80\u6578\u9032\u884c\u6a21\u64ec\u7e2e\u653e\u3002\u5b9a\u7fa9\u4e00\u500badc_scaled\u5206\u6bb5\u4f86\u555f\u7528\u6839\u64da\u677f\u8f09vref\u548cvssa\u76e3\u8996\u5f15\u8173\u8abf\u7bc0\u7684\u865b\u64ecadc\u5f15\u8173\uff08\u4f8b\u5982\u300cmy_name:PB0\"\uff09\u3002\u865b\u64ec\u5f15\u8173\u5fc5\u9808\u5148\u88abDuet 2 Maestro \u901a\u904evref\u548cvssa\u8b80\u6578\u9032\u884c\u6a21\u64ec\u7e2e\u653e\u3002\u5b9a\u7fa9\u4e00\u500badc_scaled\u5206\u6bb5\u4f86\u555f\u7528\u6839\u64da\u677f\u8f09vref\u548cvssa\u76e3\u8996\u5f15\u8173\u8abf\u7bc0\u7684\u865b\u64ecadc\u5f15\u8173\uff08\u4f8b\u5982\u300cmy_name:PB0\"\uff09\u3002\u865b\u64ec\u5f15\u8173\u5fc5\u9808\u5148\u88ab\u5b9a\u7fa9\u624d\u80fd\u7528\u5728\u5176\u4ed6\u914d\u7f6e\u5206\u6bb5\u4e2d\u3002 \u6709\u95dc\u793a\u4f8b\uff0c\u8acb\u53c3\u898b generic-duet2-maestro.cfg \u6587\u4ef6\u3002 [adc_scaled my_name] vref_pin: # \u7528\u65bc\u76e3\u6e2c VREF \u7684 ADC \u5f15\u8173\u3002\u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 vssa_pin: # \u7528\u65bc\u76e3\u6e2c VSSA \u7684 ADC \u5f15\u8173\u3002\u9019\u500b\u53c3\u6578\u5fc5\u9808\u88ab\u63d0\u4f9b\u3002 #smooth_time: 2.0 # \u4e00\u500b\u6642\u9593\u53c3\u6578\uff08\u4ee5\u79d2\u70ba\u8a08\uff09\u5340\u9593\u7528\u65bc\u5e73\u6ed1 VREF \u548c # VSSA \u6e2c\u91cf\u4f86\u6e1b\u5c11\u6e2c\u91cf\u7684\u5e72\u64fe\u3002\u9810\u8a2d\u70ba2\u79d2\u3002","title":"[adc_scaled]"},{"location":"Config_Reference.html#replicape","text":"\u526f\u672c\u652f\u6301 - \u6709\u95dc\u793a\u4f8b\uff0c\u8acb\u53c3\u898b beaglebone guide \u548c generic-replicape.cfg \u6587\u4ef6\u3002 # The \"replicape\" config section adds \"replicape:stepper_x_enable\" # virtual stepper enable pins (for steppers X, Y, Z, E, and H) and # \"replicape:power_x\" PWM output pins (for hotbed, e, h, fan0, fan1, # fan2, and fan3) that may then be used elsewhere in the config file. [replicape] revision: # The replicape hardware revision. Currently only revision \"B3\" is # supported. This parameter must be provided. #enable_pin: !gpio0_20 # The replicape global enable pin. The default is !gpio0_20 (aka # P9_41). host_mcu: # The name of the mcu config section that communicates with the # Klipper \"linux process\" mcu instance. This parameter must be # provided. #standstill_power_down: False # This parameter controls the CFG6_ENN line on all stepper # motors. True sets the enable lines to \"open\". The default is # False. #stepper_x_microstep_mode: #stepper_y_microstep_mode: #stepper_z_microstep_mode: #stepper_e_microstep_mode: #stepper_h_microstep_mode: # This parameter controls the CFG1 and CFG2 pins of the given # stepper motor driver. Available options are: disable, 1, 2, # spread2, 4, 16, spread4, spread16, stealth4, and stealth16. The # default is disable. #stepper_x_current: #stepper_y_current: #stepper_z_current: #stepper_e_current: #stepper_h_current: # The configured maximum current (in Amps) of the stepper motor # driver. This parameter must be provided if the stepper is not in a # disable mode. #stepper_x_chopper_off_time_high: #stepper_y_chopper_off_time_high: #stepper_z_chopper_off_time_high: #stepper_e_chopper_off_time_high: #stepper_h_chopper_off_time_high: # This parameter controls the CFG0 pin of the stepper motor driver # (True sets CFG0 high, False sets it low). The default is False. #stepper_x_chopper_hysteresis_high: #stepper_y_chopper_hysteresis_high: #stepper_z_chopper_hysteresis_high: #stepper_e_chopper_hysteresis_high: #stepper_h_chopper_hysteresis_high: # This parameter controls the CFG4 pin of the stepper motor driver # (True sets CFG4 high, False sets it low). The default is False. #stepper_x_chopper_blank_time_high: #stepper_y_chopper_blank_time_high: #stepper_z_chopper_blank_time_high: #stepper_e_chopper_blank_time_high: #stepper_h_chopper_blank_time_high: # This parameter controls the CFG5 pin of the stepper motor driver # (True sets CFG5 high, False sets it low). The default is True.","title":"[replicape]"},{"location":"Config_Reference.html#_28","text":"","title":"\u5176\u4ed6\u81ea\u5b9a\u7fa9\u6a21\u7d44"},{"location":"Config_Reference.html#palette2","text":"Palette 2 \u591a\u6750\u6599\u652f\u63f4 - \u63d0\u4f9b\u66f4\u7dca\u5bc6\u7684\u6574\u5408\uff0c\u652f\u63f4\u8655\u65bc\u9023\u7dda\u6a21\u5f0f\u7684 Palette 2 \u88dd\u7f6e\u3002 \u6b64\u6a21\u584a\u9084\u9700\u8981 [virtual_sdcard] \u548c [pause_resume] \u624d\u80fd\u7372\u5f97\u5b8c\u6574\u529f\u80fd\u3002 \u4e0d\u8981\u548c Octoprint \u7684 Palette 2\u5916\u639b\u4e00\u8d77\u4f7f\u7528\u9019\u500b\u6a21\u7d44\uff0c\u56e0\u70ba\u5b83\u5011\u6703\u767c\u751f\u885d\u7a81\uff0c\u9020\u6210\u521d\u59cb\u5316\u548c\u5217\u5370\u5931\u6557\u3002 \u5982\u679c\u4f7f\u7528 OctoPrint \u4e26\u901a\u904e\u4e32\u5217\u57e0\u6d41\u5f0f\u50b3\u8f38 G-Code\uff0c\u800c\u4e0d\u901a\u904e virtual_sd \u5217\u5370\uff0c\u5c07 * \u8a2d\u5b9a>\u5e8f\u5217\u9023\u7dda>\u97cc\u9ad4\u548c\u5354\u8b70 * \u4e2d\u7684\u300c\u66ab\u505c\u547d\u4ee4\u300d \u8a2d\u5b9a\u70ba M1 \u548c M0 \u53ef\u4ee5\u907f\u514d\u5728\u958b\u59cb\u5217\u5370\u6642\u9700\u8981\u5728Palette 2 \u4e0a\u9078\u64c7\u958b\u59cb\u5217\u5370\u4e26\u5728 OctoPrint \u4e2d\u53d6\u6d88\u66ab\u505c\u3002 [palette2] serial: # \u9023\u7dda\u5230 Palette 2 \u7684\u4e32\u5217\u57e0\u3002 #baud: 115200 # \u4f7f\u7528\u7684\u6ce2\u7279\u7387\u3002 # \u9810\u8a2d\u70ba115200\u3002 #feedrate_splice: 0.8 # \u878d\u63a5\u6642\u7684\u7d66\u9032\u7387 # \u9810\u8a2d\u70ba0.8\u3002 #feedrate_normal: 1.0 # \u4e0d\u5728\u878d\u63a5\u6642\u7684\u7d66\u9032\u7387 1.0 #auto_load_speed: 2 # \u81ea\u52d5\u63db\u6599\u6642\u7684\u7d66\u8fd1\u7387 # \u9810\u8a2d 2 (mm/s) #auto_cancel_variation: 0.1 # # \u7576 ping \u503c\u8b8a\u5316\u9ad8\u65bc\u6b64\u95be\u503c\u6642\u81ea\u52d5\u53d6\u6d88\u5217\u5370","title":"[palette2]"},{"location":"Config_Reference.html#angle","text":"Magnetic hall angle sensor support for reading stepper motor angle shaft measurements using a1333, as5047d, or tle5012b SPI chips. The measurements are available via the API Server and motion analysis tool . See the G-Code reference for available commands. [angle my_angle_sensor] sensor_type: # The type of the magnetic hall sensor chip. Available choices are # \"a1333\", \"as5047d\", and \"tle5012b\". This parameter must be # specified. #sample_period: 0.000400 # The query period (in seconds) to use during measurements. The # default is 0.000400 (which is 2500 samples per second). #stepper: # The name of the stepper that the angle sensor is attached to (eg, # \"stepper_x\"). Setting this value enables an angle calibration # tool. To use this feature, the Python \"numpy\" package must be # installed. The default is to not enable angle calibration for the # angle sensor. cs_pin: # The SPI enable pin for the sensor. This parameter must be provided. #spi_speed: #spi_bus: #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # See the \"common SPI settings\" section for a description of the # above parameters.","title":"[angle]"},{"location":"Config_Reference.html#_29","text":"","title":"\u901a\u7528\u532f\u6d41\u6392\u53c3\u6578"},{"location":"Config_Reference.html#spi","text":"\u4ee5\u4e0b\u53c3\u6578\u901a\u5e38\u9069\u7528\u65bc\u4f7f\u7528 SPI \u7e3d\u7dda\u7684\u8a2d\u5099\u3002 #spi_speed: # The SPI speed (in hz) to use when communicating with the device. # The default depends on the type of device. #spi_bus: # If the micro-controller supports multiple SPI busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #spi_software_sclk_pin: #spi_software_mosi_pin: #spi_software_miso_pin: # Specify the above parameters to use \"software based SPI\". This # mode does not require micro-controller hardware support (typically # any general purpose pins may be used). The default is to not use # \"software spi\".","title":"\u5e38\u898b SPI \u8a2d\u5b9a"},{"location":"Config_Reference.html#i2c","text":"\u4ee5\u4e0b\u53c3\u6578\u901a\u5e38\u9069\u7528\u65bc\u4f7f\u7528 I2C \u7e3d\u7dda\u7684\u8a2d\u5099\u3002 Note that Klipper's current micro-controller support for i2c is generally not tolerant to line noise. Unexpected errors on the i2c wires may result in Klipper raising a run-time error. Klipper's support for error recovery varies between each micro-controller type. It is generally recommended to only use i2c devices that are on the same printed circuit board as the micro-controller. Most Klipper micro-controller implementations only support an i2c_speed of 100000. The Klipper \"linux\" micro-controller supports a 400000 speed, but it must be set in the operating system and the i2c_speed parameter is otherwise ignored. The Klipper \"rp2040\" micro-controller supports a rate of 400000 via the i2c_speed parameter. All other Klipper micro-controllers use a 100000 rate and ignore the i2c_speed parameter. #i2c_address: # The i2c address of the device. This must specified as a decimal # number (not in hex). The default depends on the type of device. #i2c_mcu: # The name of the micro-controller that the chip is connected to. # The default is \"mcu\". #i2c_bus: # If the micro-controller supports multiple I2C busses then one may # specify the micro-controller bus name here. The default depends on # the type of micro-controller. #i2c_speed: # The I2C speed (in Hz) to use when communicating with the device. # The Klipper implementation on most micro-controllers is hard-coded # to 100000 and changing this value has no effect. The default is # 100000.","title":"\u901a\u7528 I2C \u8a2d\u5b9a"},{"location":"Config_checks.html","text":"\u914d\u7f6e\u6aa2\u67e5 \u00b6 \u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5e6b\u52a9\u9a57\u8b49 Klipper printer.cfg \u6a94\u6848\u4e2d\u7684\u5f15\u8173\u8a2d\u5b9a\u7684\u6b65\u9a5f\u3002\u63a8\u85a6\u5728\u5b8c\u6210 \u5b89\u88dd\u6587\u4ef6 \u4e2d\u7684\u6b65\u9a5f\u540e\u57f7\u884c\u672c\u6587\u4ef6\u4e2d\u7684\u6b65\u9a5f\u3002 \u5728\u57f7\u884c\u6b64\u6307\u5357\u7684\u904e\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539 Klipper \u7684\u914d\u7f6e\u6a94\u6848\u3002\u8acb\u52d9\u5fc5\u5728\u6bcf\u6b21\u4fee\u6539\u914d\u7f6e\u6a94\u6848\u540e\u767c\u9001 RESTART \u547d\u4ee4\uff0c\u4ee5\u78ba\u4fdd\u4fee\u6539\u6210\u529f\u751f\u6548\uff08\u5728 Octoprint \u7d42\u7aef\u6a19\u7c64\u4e2d\u8f38\u5165 \"RESTART\"\uff08\u91cd\u555f\uff09\uff0c\u7136\u5f8c\u9ede\u9078 \"Send\"\uff08\u767c\u9001\uff09\uff09\u3002\u5728\u6bcf\u6b21\u91cd\u555f\u4e4b\u5f8c\u6700\u597d\u518d\u767c\u51fa\u4e00\u6b21 STATUS \uff08\u72c0\u614b\uff09\u547d\u4ee4\uff0c\u4ee5\u9a57\u8b49\u914d\u7f6e\u6a94\u6848\u662f\u5426\u6210\u529f\u8f09\u5165\u3002 \u9a57\u8b49\u6eab\u5ea6 \u00b6 \u9996\u5148\u9a57\u8b49\u6eab\u5ea6\u662f\u5426\u88ab\u6b63\u78ba\u7684\u5831\u544a\u3002\u5c0e\u822a\u5230 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u3002 \u78ba\u8a8d\u5674\u5634\u548c\u71b1\u5e8a\uff08\u5982\u679c\u9069\u7528\uff09\u7684\u6eab\u5ea6\u5408\u7406\u4e14\u4e0d\u5728\u4e0a\u5347\u3002\u5982\u679c\u6eab\u5ea6\u6b63\u5728\u4e0a\u5347\uff0c\u8acb\u7acb\u5373\u65b7\u958b\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u3002\u5982\u679c\u6eab\u5ea6\u986f\u793a\u4e0d\u6e96\u78ba\uff0c\u8acb\u6aa2\u67e5\u71b1\u7aef\u548c/\u6216\u71b1\u5e8a\u7684 \u300csensor_type\u300d \u548c \u300csensor_pin\u300d \u8a2d\u5b9a\u3002 \u9a57\u8b49 M112 \u00b6 \u5c0e\u822a\u5230 Octoprint \u7d42\u7aef\u9078\u9805\u5361\u4e26\u901a\u904e\u7d42\u7aef\u767c\u9001 M112 \u547d\u4ee4\u3002\u8a72\u547d\u4ee4\u6703\u4f7f Klipper \u9032\u5165\u95dc\u9589\u72c0\u614b\uff0c\u4e26\u5c0e\u81f4 Octoprint \u8207 Klipper \u65b7\u958b\u93c8\u63a5\u3002\u627e\u5230\u9023\u7dda\u677f\u584a\u55ae\u64ca \"Connect\"\uff08\u9023\u7dda\uff09\u4ee5\u91cd\u65b0\u9023\u7dda\u5230 Klipper\u3002\u7136\u5f8c\u5728 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u4e2d\u9a57\u8b49\u6eab\u5ea6\u662f\u5426\u6301\u7e8c\u66f4\u65b0\u548c\u5347\u9ad8\u3002\u5982\u679c\u6eab\u5ea6\u5347\u9ad8\uff0c\u8acb\u7acb\u5373\u65b7\u958b\u5370\u8868\u6a5f\u96fb\u6e90\u3002 M112 \u547d\u4ee4\u6703\u4f7f Klipper \u9032\u5165 \"shutdown\"\uff08\u95dc\u9589\uff09\u72c0\u614b\u3002\u8981\u9000\u51fa\u9019\u4e00\u72c0\u614b\uff0c\u8acb\u5728 Octoprint \u7d42\u7aef\u9078\u9805\u5361\u4e2d\u767c\u51fa FIRMWARE_RESTART \u547d\u4ee4\u3002 \u9a57\u8b49\u52a0\u71b1\u5668 \u00b6 \u5c0e\u822a\u5230 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u4e2d\u7684\u300cTool\u300d\uff08\u5de5\u5177\uff09\u6eab\u5ea6\u6846\uff0c\u8f38\u5165 50 \u4e26\u6309\u4e0b\u56de\u8eca\u3002 \u5716\u4e2d\u7684\u64e0\u51fa\u982d\u6eab\u5ea6\u61c9\u958b\u59cb\u5347\u9ad8\uff08\u5728\u7d04 30 \u79d2\u5de6\u53f3\u7684\u6642\u9593\u5167\uff09\u3002 \u7136\u5f8c\u5728\u5de5\u5177\u6eab\u5ea6\u7684\u4e0b\u62c9\u6846\u4e2d\u9078\u64c7\u300coff\u300d\uff08\u95dc\u9589\uff09\u3002 \u5e7e\u5206\u9418\u540e\uff0c\u6eab\u5ea6\u61c9\u958b\u59cb\u6062\u5fa9\u5230\u5176\u521d\u59cb\u5ba4\u6eab\u503c\u3002 \u5982\u679c\u6eab\u5ea6\u6c92\u6709\u4e0a\u5347\uff0c\u9700\u8981\u6aa2\u67e5\u914d\u7f6e\u4e2d\u7684\u300cheater_pin\u300d\u8a2d\u5b9a\u662f\u5426\u6b63\u78ba\u3002 \u5982\u679c\u5370\u8868\u6a5f\u5e36\u6709\u71b1\u5e8a\uff0c\u5247\u7528\u71b1\u5e8a\u91cd\u8907\u4e0a\u8ff0\u6e2c\u8a66\u3002 \u9a57\u8b49\u6b65\u9032\u96fb\u6a5f enable\uff08\u555f\u7528\uff09\u5f15\u8173 \u00b6 \u9a57\u8b49\u6240\u6709\u5370\u8868\u6a5f\u8ef8\u90fd\u53ef\u4ee5\u7528\u624b\u81ea\u7531\u79fb\u52d5\uff08\u6b65\u9032\u96fb\u6a5f\u5df2\u7981\u7528\uff09\u3002 \u5982\u679c\u6c92\u6709\uff0c\u8acb\u767c\u51fa M84 \u547d\u4ee4\u7981\u7528\u96fb\u6a5f\u3002 \u5982\u679c\u4efb\u4f55\u8ef8\u4ecd\u7136\u7121\u6cd5\u81ea\u7531\u79fb\u52d5\uff0c\u9700\u8981\u6aa2\u67e5\u8a72\u8ef8\u7684\u6b65\u9032\u9a45\u52d5\u300cenable_pin\u300d\uff08\u4f7f\u80fd\u5f15\u8173\uff09\u914d\u7f6e\u3002 \u5728\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u4e0a\uff0c\u96fb\u6a5f\u4f7f\u80fd\u5f15\u8173\u70ba\u300c\u4f4e\u96fb\u5e73\u6709\u6548\u300d\uff0c\u56e0\u6b64\u4f7f\u80fd\u5f15\u8173\u5728pin\u4e4b\u524d\u61c9\u5e36\u6709\u300c\uff01\u300d \uff08\u4f8b\u5982\uff0c\u300cenable_pin: !ar38\u300d\uff09\u3002 \u9a57\u8b49\u9650\u4f4d\u958b\u95dc \u00b6 \u624b\u52d5\u79fb\u52d5\u6240\u6709\u5370\u8868\u6a5f\u8ef8\uff0c\u4f7f\u5b83\u5011\u90fd\u4e0d\u8207\u9650\u4f4d\u5668\u63a5\u89f8\u3002 \u901a\u904e Octoprint \u7d42\u7aef\u767c\u9001 QUERY_ENDSTOPS \u547d\u4ee4\u3002 \u5b83\u61c9\u8a72\u4ee5\u6240\u6709\u914d\u7f6e\u7684\u9650\u4f4d\u7684\u7576\u524d\u72c0\u614b\u505a\u51fa\u97ff\u61c9\uff0c\u4e26\u4e14\u5b83\u5011\u90fd\u61c9\u8a72\u5831\u544a\u300copen\u300d\uff08\u672a\u89f8\u767c\uff09\u72c0\u614b\u3002 \u624b\u52d5\u89f8\u767c\u6bcf\u500b\u9650\u4f4d\u5668\u7684\u540c\u6642\u91cd\u65b0\u57f7\u884c QUERY_ENDSTOPS \u547d\u4ee4\u3002\u76f8\u61c9\u7684\u9650\u4f4d\u61c9\u8a72\u88ab QUERY_ENDSTOPS \u5831\u544a\u70ba\u300cTRIGGERED\u300d\u3002 \u5982\u679c\u9650\u4f4d\u72c0\u614b\u662f\u76f8\u53cd\u7684\uff08\u89f8\u767c\u6642\u5831\u544a\u300copen\u300d\uff0c\u53cd\u4e4b\u4ea6\u7136\uff09\uff0c\u5247\u65b0\u589e\u300c\uff01\u300d \u5230\u5f15\u8173\u5b9a\u7fa9\uff08\u4f8b\u5982\uff0c\u300cendstop_pin: ^!ar3\u300d\uff09\uff0c\u5982\u679c\u5b58\u5728\u300c\uff01\u300d\u5c31\u5c07\u4e4b\u522a\u9664\u3002 \u5982\u679c\u9650\u4f4d\u72c0\u614b\u6839\u672c\u6c92\u6709\u8b8a\u5316\uff0c\u5247\u901a\u5e38\u8868\u793a\u9650\u4f4d\u5668\u9023\u7dda\u5230\u4e0d\u540c\u7684\u5f15\u8173\u3002 \u4f46\u662f\uff0c\u5b83\u4e5f\u53ef\u80fd\u8868\u793a\u9700\u8981\u66f4\u6539\u5f15\u8173\u7684\u4e0a\u62c9\u8a2d\u5b9a\uff08endstop_pin \u540d\u7a31\u958b\u982d\u7684\u300c^\u300d - \u5927\u591a\u6578\u5370\u8868\u6a5f\u9700\u8981\u4f7f\u7528\u4e0a\u62c9\u96fb\u963b\u4e26\u4e14\u61c9\u8a72\u5b58\u5728\u300c^\u300d\uff09\u3002 \u9a57\u8b49\u6b65\u9032\u96fb\u6a5f \u00b6 \u4f7f\u7528 STEPPER_BUZZ \u547d\u4ee4\u9a57\u8b49\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u9023\u901a\u6027\u3002 \u9996\u5148\u5c07\u8981\u9a57\u8b49\u7684\u8ef8\u624b\u52d5\u632a\u5230\u5230\u4e2d\u9593\u9ede\uff0c\u7136\u5f8c\u57f7\u884c STEPPER_BUZZ STEPPER=stepper_x \u3002 STEPPER_BUZZ \u547d\u4ee4\u5c07\u4f7fX\u8ef8\u5411\u6b63\u65b9\u5411\u79fb\u52d5\u4e00\u6beb\u7c73\uff0c\u518d\u8fd4\u56de\u5230\u5176\u8d77\u59cb\u4f4d\u7f6e\u3002 \uff08\u5982\u679c\u5728 position_endstop=0 \u8655\u5b9a\u7fa9\u4e86\u9650\u4f4d\u7684\u4f4d\u7f6e\uff0c\u5247\u5728\u6bcf\u6b21\u904b\u52d5\u958b\u59cb\u6642\uff0c\u6b65\u9032\u5668\u5c07\u9060\u96e2\u9650\u4f4d\u3002\uff09\u5b83\u5c07\u57f7\u884c\u9019\u500b\u52d5\u4f5c\u5341\u6b21\u3002 \u5982\u679c\u6b65\u9032\u96fb\u6a5f\u6839\u672c\u4e0d\u52d5\uff0c\u5247\u9700\u8981\u9a57\u8b49\u6b65\u9032\u9a45\u52d5\u7684\u300cenable_pin\u300d\u548c\u300cstep_pin\u300d\u8a2d\u5b9a\u3002 \u5982\u679c\u6b65\u9032\u96fb\u6a5f\u79fb\u52d5\u4f46\u6c92\u6709\u8fd4\u56de\u5176\u539f\u59cb\u4f4d\u7f6e\uff0c\u5247\u9700\u8981\u9a57\u8b49\u300cdir_pin\u300d\u8a2d\u5b9a\u3002 \u5982\u679c\u6b65\u9032\u96fb\u6a5f\u7684\u632f\u76ea\u65b9\u5411\u4e0d\u6b63\u78ba\uff0c\u5247\u901a\u5e38\u8868\u793a\u9700\u8981\u53cd\u8f49\u9a45\u52d5\u7684\u300cdir_pin\u300d\u3002 \u5373\u901a\u904e\u65b0\u589e\u300c!\u300d \u5230\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u300cdir_pin\u300d\u8a2d\u5b9a\u4f86\u5b8c\u6210\uff08\u5982\u679c\u5df2\u7d93\u5b58\u5728\"!\"\uff0c\u5247\u5c07\u5176\u522a\u9664\uff09\u3002 \u5982\u679c\u96fb\u6a5f\u79fb\u52d5\u660e\u986f\u5927\u65bc\u6216\u5c0f\u65bc\u4e00\u6beb\u7c73\uff0c\u5247\u9700\u8981\u9a57\u8b49\u300crotation_distance\u300d\u8a2d\u5b9a\u3002 \u5c0d\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u57f7\u884c\u4e0a\u8ff0\u6e2c\u8a66\u3002 \uff08\u5c07 STEPPER_BUZZ \u547d\u4ee4\u7684 STEPPER \u53c3\u6578\u8a2d\u5b9a\u70ba\u8981\u6e2c\u8a66\u7684\u914d\u7f6e\u90e8\u5206\u7684\u540d\u7a31\u3002\uff09\u5982\u679c\u64e0\u51fa\u6a5f\u4e2d\u6c92\u6709\u8017\u6750\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 STEPPER_BUZZ \u9a57\u8b49\u64e0\u51fa\u6a5f\u96fb\u6a5f\u7684\u63a5\u7dda\uff08\u4f7f\u7528 STEPPER=extruder\uff09\u3002 \u5426\u5247\uff0c\u6700\u597d\u55ae\u7368\u6e2c\u8a66\u64e0\u51fa\u6a5f\u96fb\u6a5f\uff08\u53c3\u898b\u4e0b\u4e00\u7bc0\uff09\u3002 \u5728\u9a57\u8b49\u5b8c\u6240\u6709\u9650\u4f4d\u5668\u548c\u6240\u6709\u6b65\u9032\u96fb\u6a5f\u540e\uff0c\u61c9\u6e2c\u8a66\u6b78\u4f4d\u6a5f\u5236\u3002 \u767c\u51fa G28 \u547d\u4ee4\u4ee5\u6b78\u4f4d\u6240\u6709\u8ef8\u3002 \u5982\u679c\u5370\u8868\u6a5f\u4e0d\u80fd\u6b63\u5e38\u6b78\u4f4d\uff0c\u8acb\u65b7\u958b\u5370\u8868\u6a5f\u96fb\u6e90\u3002 \u7136\u5f8c\uff0c\u91cd\u65b0\u57f7\u884c\u9650\u4f4d\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u9a57\u8b49\u6d41\u7a0b\u3002 \u9a57\u8b49\u64e0\u51fa\u6a5f\u96fb\u6a5f \u00b6 \u8981\u6e2c\u8a66\u64e0\u51fa\u6a5f\u96fb\u6a5f\uff0c\u5fc5\u9808\u5148\u5c07\u71b1\u7aef\u52a0\u71b1\u5230\u5217\u5370\u6eab\u5ea6\u3002\u5c0e\u822a\u5230 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u4e26\u5728\u6eab\u5ea6\u4e0b\u62c9\u6846\u4e2d\u9078\u64c7\u76ee\u6a19\u6eab\u5ea6\uff08\u6216\u624b\u52d5\u8f38\u5165\u9069\u7576\u7684\u6eab\u5ea6\uff09\u3002\u7b49\u5f85\u5370\u8868\u6a5f\u9054\u5230\u76ee\u6a19\u6eab\u5ea6\uff0c\u7136\u5f8c\u627e\u5230 Octoprint \u63a7\u5236\u9078\u9805\u5361\u4e26\u55ae\u64ca\u300cExtrude\u300d\uff08\u64e0\u51fa\uff09\u6309\u9215\u3002 \u78ba\u8a8d\u64e0\u51fa\u6a5f\u96fb\u6a5f\u4ee5\u6b63\u78ba\u7684\u65b9\u5411\u8f49\u52d5\u3002 \u5982\u679c\u6c92\u6709\uff0c\u8acb\u53c3\u95b1\u4e0a\u4e00\u7bc0\u4e2d\u7684\u6545\u969c\u6392\u9664\u63d0\u793a\uff0c\u4ee5\u78ba\u8a8d\u64e0\u51fa\u6a5f\u7684\u300cenable_pin\u300d\u3001\u300cstep_pin\u300d\u548c\u300cdir_pin\u300d\u8a2d\u5b9a\u3002 \u6821\u6e96 PID \u8a2d\u5b9a \u00b6 Klipper\u652f\u63f4\u64e0\u51fa\u6a5f\u548c\u71b1\u5e8a\u52a0\u71b1\u5668\u7684 PID\u63a7\u5236 \u3002\u7232\u4e86\u4f7f\u7528\u9019\u7a2e\u63a7\u5236\u6a5f\u5236\uff0c\u5fc5\u9808\u5c0d\u6bcf\u81fa\u5370\u8868\u6a5f\u7684 PID \u53c3\u6578\u9032\u884c\u6821\u6e96\uff08\u5728\u5176\u4ed6\u97cc\u9ad4\u6216\u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u4e2d\u627e\u5230\u7684 PID \u8a2d\u5b9a\u5f80\u5f80\u6548\u679c\u4e0d\u4f73\uff09\u3002 \u8981\u6821\u6e96\u64e0\u51fa\u6a5f\uff0c\u8acb\u627e\u5230 OctoPrint \u7d42\u7aef\u9078\u9805\u5361\u4e26\u57f7\u884c PID_CALIBRATE \u547d\u4ee4\u3002 \u4f8b\u5982\uff1a PID_CALIBRATE HEATER=extruder TARGET=170 \u8abf\u6574\u6e2c\u8a66\u5b8c\u6210\u5f8c\uff0c\u57f7\u884c SAVE_CONFIG \u4ee5\u5132\u5b58\u65b0PID\u8a2d\u5b9a\u5230printer.cfg\u6a94\u6848\u3002 \u5982\u679c\u5370\u8868\u6a5f\u6709\u52a0\u71b1\u5e8a\uff0c\u4e26\u4e14\u652f\u63f4PWM\uff08\u8108\u5bec\u8abf\u88fd\uff09\u9a45\u52d5\uff0c\u90a3\u9ebc\u5efa\u8b70\u5c0d\u52a0\u71b1\u5e8a\u4f7f\u7528PID\u63a7\u5236\u3002 \uff08\u7576\u4f7f\u7528 PID \u6f14\u7b97\u6cd5\u63a7\u5236\u5e8a\u52a0\u71b1\u5668\u6642\uff0c\u5b83\u53ef\u80fd\u6bcf\u79d2\u6253\u958b\u548c\u95dc\u9589\u5341\u6b21\uff0c\u9019\u53ef\u80fd\u4e0d\u9069\u7528\u4e8e\u4f7f\u7528\u6a5f\u68b0\u958b\u95dc\u7684\u52a0\u71b1\u5668\u3002\uff09\u4e00\u822c\u7684\u71b1\u5e8a PID \u6821\u6e96\u547d\u4ee4\u662f\uff1a PID_CALIBRATE HEATER=heater_bed TARGET= 60 \u4e0b\u4e00\u6b65 \u00b6 \u672c\u6307\u5357\u65e8\u5728\u5e6b\u52a9\u5c0d Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u5f15\u8173\u8a2d\u5b9a\u9032\u884c\u57fa\u672c\u9a57\u8b49\u3002 \u8acb\u52d9\u5fc5\u95b1\u8b80 \u5e8a\u4f4d\u8abf\u5e73 \u6307\u5357\u3002 \u53e6\u8acb\u53c3\u95b1 Slicers \u6587\u4ef6\uff0c\u77ad\u89e3\u6709\u95dc\u4f7f\u7528 Klipper \u914d\u7f6e\u5207\u7247\u5668\u7684\u8cc7\u8a0a\u3002 \u5728\u9a57\u8b49\u57fa\u672c\u5217\u5370\u5de5\u4f5c\u540e\uff0c\u6700\u597d\u8003\u616e\u6821\u6e96 \u58d3\u529b\u63d0\u524d \u3002 \u53ef\u80fd\u9700\u8981\u57f7\u884c\u5176\u4ed6\u578b\u5225\u7684\u8a73\u7d30\u5370\u8868\u6a5f\u6821\u6e96 - \u7db2\u8def\u4e0a\u63d0\u4f9b\u4e86\u8a31\u591a\u6307\u5357\u4f86\u5e6b\u52a9\u89e3\u6c7a\u6b64\u554f\u984c\uff08\u4f8b\u5982\uff0c\u5728\u7db2\u8def\u4e0a\u641c\u7d22\u300c3d \u5370\u8868\u6a5f\u6821\u6e96\u300d\uff09\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u9047\u5230\u7a31\u70ba\u632f\u9234\u7684\u6548\u679c\uff0c\u60a8\u53ef\u4ee5\u5617\u8a66\u9075\u5faa \u5171\u632f\u88dc\u511f \u8abf\u8ae7\u6307\u5357\u3002","title":"\u914d\u7f6e\u6aa2\u67e5"},{"location":"Config_checks.html#_1","text":"\u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u5e6b\u52a9\u9a57\u8b49 Klipper printer.cfg \u6a94\u6848\u4e2d\u7684\u5f15\u8173\u8a2d\u5b9a\u7684\u6b65\u9a5f\u3002\u63a8\u85a6\u5728\u5b8c\u6210 \u5b89\u88dd\u6587\u4ef6 \u4e2d\u7684\u6b65\u9a5f\u540e\u57f7\u884c\u672c\u6587\u4ef6\u4e2d\u7684\u6b65\u9a5f\u3002 \u5728\u57f7\u884c\u6b64\u6307\u5357\u7684\u904e\u7a0b\u4e2d\uff0c\u53ef\u80fd\u9700\u8981\u4fee\u6539 Klipper \u7684\u914d\u7f6e\u6a94\u6848\u3002\u8acb\u52d9\u5fc5\u5728\u6bcf\u6b21\u4fee\u6539\u914d\u7f6e\u6a94\u6848\u540e\u767c\u9001 RESTART \u547d\u4ee4\uff0c\u4ee5\u78ba\u4fdd\u4fee\u6539\u6210\u529f\u751f\u6548\uff08\u5728 Octoprint \u7d42\u7aef\u6a19\u7c64\u4e2d\u8f38\u5165 \"RESTART\"\uff08\u91cd\u555f\uff09\uff0c\u7136\u5f8c\u9ede\u9078 \"Send\"\uff08\u767c\u9001\uff09\uff09\u3002\u5728\u6bcf\u6b21\u91cd\u555f\u4e4b\u5f8c\u6700\u597d\u518d\u767c\u51fa\u4e00\u6b21 STATUS \uff08\u72c0\u614b\uff09\u547d\u4ee4\uff0c\u4ee5\u9a57\u8b49\u914d\u7f6e\u6a94\u6848\u662f\u5426\u6210\u529f\u8f09\u5165\u3002","title":"\u914d\u7f6e\u6aa2\u67e5"},{"location":"Config_checks.html#_2","text":"\u9996\u5148\u9a57\u8b49\u6eab\u5ea6\u662f\u5426\u88ab\u6b63\u78ba\u7684\u5831\u544a\u3002\u5c0e\u822a\u5230 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u3002 \u78ba\u8a8d\u5674\u5634\u548c\u71b1\u5e8a\uff08\u5982\u679c\u9069\u7528\uff09\u7684\u6eab\u5ea6\u5408\u7406\u4e14\u4e0d\u5728\u4e0a\u5347\u3002\u5982\u679c\u6eab\u5ea6\u6b63\u5728\u4e0a\u5347\uff0c\u8acb\u7acb\u5373\u65b7\u958b\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u3002\u5982\u679c\u6eab\u5ea6\u986f\u793a\u4e0d\u6e96\u78ba\uff0c\u8acb\u6aa2\u67e5\u71b1\u7aef\u548c/\u6216\u71b1\u5e8a\u7684 \u300csensor_type\u300d \u548c \u300csensor_pin\u300d \u8a2d\u5b9a\u3002","title":"\u9a57\u8b49\u6eab\u5ea6"},{"location":"Config_checks.html#m112","text":"\u5c0e\u822a\u5230 Octoprint \u7d42\u7aef\u9078\u9805\u5361\u4e26\u901a\u904e\u7d42\u7aef\u767c\u9001 M112 \u547d\u4ee4\u3002\u8a72\u547d\u4ee4\u6703\u4f7f Klipper \u9032\u5165\u95dc\u9589\u72c0\u614b\uff0c\u4e26\u5c0e\u81f4 Octoprint \u8207 Klipper \u65b7\u958b\u93c8\u63a5\u3002\u627e\u5230\u9023\u7dda\u677f\u584a\u55ae\u64ca \"Connect\"\uff08\u9023\u7dda\uff09\u4ee5\u91cd\u65b0\u9023\u7dda\u5230 Klipper\u3002\u7136\u5f8c\u5728 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u4e2d\u9a57\u8b49\u6eab\u5ea6\u662f\u5426\u6301\u7e8c\u66f4\u65b0\u548c\u5347\u9ad8\u3002\u5982\u679c\u6eab\u5ea6\u5347\u9ad8\uff0c\u8acb\u7acb\u5373\u65b7\u958b\u5370\u8868\u6a5f\u96fb\u6e90\u3002 M112 \u547d\u4ee4\u6703\u4f7f Klipper \u9032\u5165 \"shutdown\"\uff08\u95dc\u9589\uff09\u72c0\u614b\u3002\u8981\u9000\u51fa\u9019\u4e00\u72c0\u614b\uff0c\u8acb\u5728 Octoprint \u7d42\u7aef\u9078\u9805\u5361\u4e2d\u767c\u51fa FIRMWARE_RESTART \u547d\u4ee4\u3002","title":"\u9a57\u8b49 M112"},{"location":"Config_checks.html#_3","text":"\u5c0e\u822a\u5230 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u4e2d\u7684\u300cTool\u300d\uff08\u5de5\u5177\uff09\u6eab\u5ea6\u6846\uff0c\u8f38\u5165 50 \u4e26\u6309\u4e0b\u56de\u8eca\u3002 \u5716\u4e2d\u7684\u64e0\u51fa\u982d\u6eab\u5ea6\u61c9\u958b\u59cb\u5347\u9ad8\uff08\u5728\u7d04 30 \u79d2\u5de6\u53f3\u7684\u6642\u9593\u5167\uff09\u3002 \u7136\u5f8c\u5728\u5de5\u5177\u6eab\u5ea6\u7684\u4e0b\u62c9\u6846\u4e2d\u9078\u64c7\u300coff\u300d\uff08\u95dc\u9589\uff09\u3002 \u5e7e\u5206\u9418\u540e\uff0c\u6eab\u5ea6\u61c9\u958b\u59cb\u6062\u5fa9\u5230\u5176\u521d\u59cb\u5ba4\u6eab\u503c\u3002 \u5982\u679c\u6eab\u5ea6\u6c92\u6709\u4e0a\u5347\uff0c\u9700\u8981\u6aa2\u67e5\u914d\u7f6e\u4e2d\u7684\u300cheater_pin\u300d\u8a2d\u5b9a\u662f\u5426\u6b63\u78ba\u3002 \u5982\u679c\u5370\u8868\u6a5f\u5e36\u6709\u71b1\u5e8a\uff0c\u5247\u7528\u71b1\u5e8a\u91cd\u8907\u4e0a\u8ff0\u6e2c\u8a66\u3002","title":"\u9a57\u8b49\u52a0\u71b1\u5668"},{"location":"Config_checks.html#enable","text":"\u9a57\u8b49\u6240\u6709\u5370\u8868\u6a5f\u8ef8\u90fd\u53ef\u4ee5\u7528\u624b\u81ea\u7531\u79fb\u52d5\uff08\u6b65\u9032\u96fb\u6a5f\u5df2\u7981\u7528\uff09\u3002 \u5982\u679c\u6c92\u6709\uff0c\u8acb\u767c\u51fa M84 \u547d\u4ee4\u7981\u7528\u96fb\u6a5f\u3002 \u5982\u679c\u4efb\u4f55\u8ef8\u4ecd\u7136\u7121\u6cd5\u81ea\u7531\u79fb\u52d5\uff0c\u9700\u8981\u6aa2\u67e5\u8a72\u8ef8\u7684\u6b65\u9032\u9a45\u52d5\u300cenable_pin\u300d\uff08\u4f7f\u80fd\u5f15\u8173\uff09\u914d\u7f6e\u3002 \u5728\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u4e0a\uff0c\u96fb\u6a5f\u4f7f\u80fd\u5f15\u8173\u70ba\u300c\u4f4e\u96fb\u5e73\u6709\u6548\u300d\uff0c\u56e0\u6b64\u4f7f\u80fd\u5f15\u8173\u5728pin\u4e4b\u524d\u61c9\u5e36\u6709\u300c\uff01\u300d \uff08\u4f8b\u5982\uff0c\u300cenable_pin: !ar38\u300d\uff09\u3002","title":"\u9a57\u8b49\u6b65\u9032\u96fb\u6a5f enable\uff08\u555f\u7528\uff09\u5f15\u8173"},{"location":"Config_checks.html#_4","text":"\u624b\u52d5\u79fb\u52d5\u6240\u6709\u5370\u8868\u6a5f\u8ef8\uff0c\u4f7f\u5b83\u5011\u90fd\u4e0d\u8207\u9650\u4f4d\u5668\u63a5\u89f8\u3002 \u901a\u904e Octoprint \u7d42\u7aef\u767c\u9001 QUERY_ENDSTOPS \u547d\u4ee4\u3002 \u5b83\u61c9\u8a72\u4ee5\u6240\u6709\u914d\u7f6e\u7684\u9650\u4f4d\u7684\u7576\u524d\u72c0\u614b\u505a\u51fa\u97ff\u61c9\uff0c\u4e26\u4e14\u5b83\u5011\u90fd\u61c9\u8a72\u5831\u544a\u300copen\u300d\uff08\u672a\u89f8\u767c\uff09\u72c0\u614b\u3002 \u624b\u52d5\u89f8\u767c\u6bcf\u500b\u9650\u4f4d\u5668\u7684\u540c\u6642\u91cd\u65b0\u57f7\u884c QUERY_ENDSTOPS \u547d\u4ee4\u3002\u76f8\u61c9\u7684\u9650\u4f4d\u61c9\u8a72\u88ab QUERY_ENDSTOPS \u5831\u544a\u70ba\u300cTRIGGERED\u300d\u3002 \u5982\u679c\u9650\u4f4d\u72c0\u614b\u662f\u76f8\u53cd\u7684\uff08\u89f8\u767c\u6642\u5831\u544a\u300copen\u300d\uff0c\u53cd\u4e4b\u4ea6\u7136\uff09\uff0c\u5247\u65b0\u589e\u300c\uff01\u300d \u5230\u5f15\u8173\u5b9a\u7fa9\uff08\u4f8b\u5982\uff0c\u300cendstop_pin: ^!ar3\u300d\uff09\uff0c\u5982\u679c\u5b58\u5728\u300c\uff01\u300d\u5c31\u5c07\u4e4b\u522a\u9664\u3002 \u5982\u679c\u9650\u4f4d\u72c0\u614b\u6839\u672c\u6c92\u6709\u8b8a\u5316\uff0c\u5247\u901a\u5e38\u8868\u793a\u9650\u4f4d\u5668\u9023\u7dda\u5230\u4e0d\u540c\u7684\u5f15\u8173\u3002 \u4f46\u662f\uff0c\u5b83\u4e5f\u53ef\u80fd\u8868\u793a\u9700\u8981\u66f4\u6539\u5f15\u8173\u7684\u4e0a\u62c9\u8a2d\u5b9a\uff08endstop_pin \u540d\u7a31\u958b\u982d\u7684\u300c^\u300d - \u5927\u591a\u6578\u5370\u8868\u6a5f\u9700\u8981\u4f7f\u7528\u4e0a\u62c9\u96fb\u963b\u4e26\u4e14\u61c9\u8a72\u5b58\u5728\u300c^\u300d\uff09\u3002","title":"\u9a57\u8b49\u9650\u4f4d\u958b\u95dc"},{"location":"Config_checks.html#_5","text":"\u4f7f\u7528 STEPPER_BUZZ \u547d\u4ee4\u9a57\u8b49\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u9023\u901a\u6027\u3002 \u9996\u5148\u5c07\u8981\u9a57\u8b49\u7684\u8ef8\u624b\u52d5\u632a\u5230\u5230\u4e2d\u9593\u9ede\uff0c\u7136\u5f8c\u57f7\u884c STEPPER_BUZZ STEPPER=stepper_x \u3002 STEPPER_BUZZ \u547d\u4ee4\u5c07\u4f7fX\u8ef8\u5411\u6b63\u65b9\u5411\u79fb\u52d5\u4e00\u6beb\u7c73\uff0c\u518d\u8fd4\u56de\u5230\u5176\u8d77\u59cb\u4f4d\u7f6e\u3002 \uff08\u5982\u679c\u5728 position_endstop=0 \u8655\u5b9a\u7fa9\u4e86\u9650\u4f4d\u7684\u4f4d\u7f6e\uff0c\u5247\u5728\u6bcf\u6b21\u904b\u52d5\u958b\u59cb\u6642\uff0c\u6b65\u9032\u5668\u5c07\u9060\u96e2\u9650\u4f4d\u3002\uff09\u5b83\u5c07\u57f7\u884c\u9019\u500b\u52d5\u4f5c\u5341\u6b21\u3002 \u5982\u679c\u6b65\u9032\u96fb\u6a5f\u6839\u672c\u4e0d\u52d5\uff0c\u5247\u9700\u8981\u9a57\u8b49\u6b65\u9032\u9a45\u52d5\u7684\u300cenable_pin\u300d\u548c\u300cstep_pin\u300d\u8a2d\u5b9a\u3002 \u5982\u679c\u6b65\u9032\u96fb\u6a5f\u79fb\u52d5\u4f46\u6c92\u6709\u8fd4\u56de\u5176\u539f\u59cb\u4f4d\u7f6e\uff0c\u5247\u9700\u8981\u9a57\u8b49\u300cdir_pin\u300d\u8a2d\u5b9a\u3002 \u5982\u679c\u6b65\u9032\u96fb\u6a5f\u7684\u632f\u76ea\u65b9\u5411\u4e0d\u6b63\u78ba\uff0c\u5247\u901a\u5e38\u8868\u793a\u9700\u8981\u53cd\u8f49\u9a45\u52d5\u7684\u300cdir_pin\u300d\u3002 \u5373\u901a\u904e\u65b0\u589e\u300c!\u300d \u5230\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u300cdir_pin\u300d\u8a2d\u5b9a\u4f86\u5b8c\u6210\uff08\u5982\u679c\u5df2\u7d93\u5b58\u5728\"!\"\uff0c\u5247\u5c07\u5176\u522a\u9664\uff09\u3002 \u5982\u679c\u96fb\u6a5f\u79fb\u52d5\u660e\u986f\u5927\u65bc\u6216\u5c0f\u65bc\u4e00\u6beb\u7c73\uff0c\u5247\u9700\u8981\u9a57\u8b49\u300crotation_distance\u300d\u8a2d\u5b9a\u3002 \u5c0d\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u57f7\u884c\u4e0a\u8ff0\u6e2c\u8a66\u3002 \uff08\u5c07 STEPPER_BUZZ \u547d\u4ee4\u7684 STEPPER \u53c3\u6578\u8a2d\u5b9a\u70ba\u8981\u6e2c\u8a66\u7684\u914d\u7f6e\u90e8\u5206\u7684\u540d\u7a31\u3002\uff09\u5982\u679c\u64e0\u51fa\u6a5f\u4e2d\u6c92\u6709\u8017\u6750\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 STEPPER_BUZZ \u9a57\u8b49\u64e0\u51fa\u6a5f\u96fb\u6a5f\u7684\u63a5\u7dda\uff08\u4f7f\u7528 STEPPER=extruder\uff09\u3002 \u5426\u5247\uff0c\u6700\u597d\u55ae\u7368\u6e2c\u8a66\u64e0\u51fa\u6a5f\u96fb\u6a5f\uff08\u53c3\u898b\u4e0b\u4e00\u7bc0\uff09\u3002 \u5728\u9a57\u8b49\u5b8c\u6240\u6709\u9650\u4f4d\u5668\u548c\u6240\u6709\u6b65\u9032\u96fb\u6a5f\u540e\uff0c\u61c9\u6e2c\u8a66\u6b78\u4f4d\u6a5f\u5236\u3002 \u767c\u51fa G28 \u547d\u4ee4\u4ee5\u6b78\u4f4d\u6240\u6709\u8ef8\u3002 \u5982\u679c\u5370\u8868\u6a5f\u4e0d\u80fd\u6b63\u5e38\u6b78\u4f4d\uff0c\u8acb\u65b7\u958b\u5370\u8868\u6a5f\u96fb\u6e90\u3002 \u7136\u5f8c\uff0c\u91cd\u65b0\u57f7\u884c\u9650\u4f4d\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u9a57\u8b49\u6d41\u7a0b\u3002","title":"\u9a57\u8b49\u6b65\u9032\u96fb\u6a5f"},{"location":"Config_checks.html#_6","text":"\u8981\u6e2c\u8a66\u64e0\u51fa\u6a5f\u96fb\u6a5f\uff0c\u5fc5\u9808\u5148\u5c07\u71b1\u7aef\u52a0\u71b1\u5230\u5217\u5370\u6eab\u5ea6\u3002\u5c0e\u822a\u5230 Octoprint \u6eab\u5ea6\u9078\u9805\u5361\u4e26\u5728\u6eab\u5ea6\u4e0b\u62c9\u6846\u4e2d\u9078\u64c7\u76ee\u6a19\u6eab\u5ea6\uff08\u6216\u624b\u52d5\u8f38\u5165\u9069\u7576\u7684\u6eab\u5ea6\uff09\u3002\u7b49\u5f85\u5370\u8868\u6a5f\u9054\u5230\u76ee\u6a19\u6eab\u5ea6\uff0c\u7136\u5f8c\u627e\u5230 Octoprint \u63a7\u5236\u9078\u9805\u5361\u4e26\u55ae\u64ca\u300cExtrude\u300d\uff08\u64e0\u51fa\uff09\u6309\u9215\u3002 \u78ba\u8a8d\u64e0\u51fa\u6a5f\u96fb\u6a5f\u4ee5\u6b63\u78ba\u7684\u65b9\u5411\u8f49\u52d5\u3002 \u5982\u679c\u6c92\u6709\uff0c\u8acb\u53c3\u95b1\u4e0a\u4e00\u7bc0\u4e2d\u7684\u6545\u969c\u6392\u9664\u63d0\u793a\uff0c\u4ee5\u78ba\u8a8d\u64e0\u51fa\u6a5f\u7684\u300cenable_pin\u300d\u3001\u300cstep_pin\u300d\u548c\u300cdir_pin\u300d\u8a2d\u5b9a\u3002","title":"\u9a57\u8b49\u64e0\u51fa\u6a5f\u96fb\u6a5f"},{"location":"Config_checks.html#pid","text":"Klipper\u652f\u63f4\u64e0\u51fa\u6a5f\u548c\u71b1\u5e8a\u52a0\u71b1\u5668\u7684 PID\u63a7\u5236 \u3002\u7232\u4e86\u4f7f\u7528\u9019\u7a2e\u63a7\u5236\u6a5f\u5236\uff0c\u5fc5\u9808\u5c0d\u6bcf\u81fa\u5370\u8868\u6a5f\u7684 PID \u53c3\u6578\u9032\u884c\u6821\u6e96\uff08\u5728\u5176\u4ed6\u97cc\u9ad4\u6216\u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u4e2d\u627e\u5230\u7684 PID \u8a2d\u5b9a\u5f80\u5f80\u6548\u679c\u4e0d\u4f73\uff09\u3002 \u8981\u6821\u6e96\u64e0\u51fa\u6a5f\uff0c\u8acb\u627e\u5230 OctoPrint \u7d42\u7aef\u9078\u9805\u5361\u4e26\u57f7\u884c PID_CALIBRATE \u547d\u4ee4\u3002 \u4f8b\u5982\uff1a PID_CALIBRATE HEATER=extruder TARGET=170 \u8abf\u6574\u6e2c\u8a66\u5b8c\u6210\u5f8c\uff0c\u57f7\u884c SAVE_CONFIG \u4ee5\u5132\u5b58\u65b0PID\u8a2d\u5b9a\u5230printer.cfg\u6a94\u6848\u3002 \u5982\u679c\u5370\u8868\u6a5f\u6709\u52a0\u71b1\u5e8a\uff0c\u4e26\u4e14\u652f\u63f4PWM\uff08\u8108\u5bec\u8abf\u88fd\uff09\u9a45\u52d5\uff0c\u90a3\u9ebc\u5efa\u8b70\u5c0d\u52a0\u71b1\u5e8a\u4f7f\u7528PID\u63a7\u5236\u3002 \uff08\u7576\u4f7f\u7528 PID \u6f14\u7b97\u6cd5\u63a7\u5236\u5e8a\u52a0\u71b1\u5668\u6642\uff0c\u5b83\u53ef\u80fd\u6bcf\u79d2\u6253\u958b\u548c\u95dc\u9589\u5341\u6b21\uff0c\u9019\u53ef\u80fd\u4e0d\u9069\u7528\u4e8e\u4f7f\u7528\u6a5f\u68b0\u958b\u95dc\u7684\u52a0\u71b1\u5668\u3002\uff09\u4e00\u822c\u7684\u71b1\u5e8a PID \u6821\u6e96\u547d\u4ee4\u662f\uff1a PID_CALIBRATE HEATER=heater_bed TARGET= 60","title":"\u6821\u6e96 PID \u8a2d\u5b9a"},{"location":"Config_checks.html#_7","text":"\u672c\u6307\u5357\u65e8\u5728\u5e6b\u52a9\u5c0d Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u5f15\u8173\u8a2d\u5b9a\u9032\u884c\u57fa\u672c\u9a57\u8b49\u3002 \u8acb\u52d9\u5fc5\u95b1\u8b80 \u5e8a\u4f4d\u8abf\u5e73 \u6307\u5357\u3002 \u53e6\u8acb\u53c3\u95b1 Slicers \u6587\u4ef6\uff0c\u77ad\u89e3\u6709\u95dc\u4f7f\u7528 Klipper \u914d\u7f6e\u5207\u7247\u5668\u7684\u8cc7\u8a0a\u3002 \u5728\u9a57\u8b49\u57fa\u672c\u5217\u5370\u5de5\u4f5c\u540e\uff0c\u6700\u597d\u8003\u616e\u6821\u6e96 \u58d3\u529b\u63d0\u524d \u3002 \u53ef\u80fd\u9700\u8981\u57f7\u884c\u5176\u4ed6\u578b\u5225\u7684\u8a73\u7d30\u5370\u8868\u6a5f\u6821\u6e96 - \u7db2\u8def\u4e0a\u63d0\u4f9b\u4e86\u8a31\u591a\u6307\u5357\u4f86\u5e6b\u52a9\u89e3\u6c7a\u6b64\u554f\u984c\uff08\u4f8b\u5982\uff0c\u5728\u7db2\u8def\u4e0a\u641c\u7d22\u300c3d \u5370\u8868\u6a5f\u6821\u6e96\u300d\uff09\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u9047\u5230\u7a31\u70ba\u632f\u9234\u7684\u6548\u679c\uff0c\u60a8\u53ef\u4ee5\u5617\u8a66\u9075\u5faa \u5171\u632f\u88dc\u511f \u8abf\u8ae7\u6307\u5357\u3002","title":"\u4e0b\u4e00\u6b65"},{"location":"Contact.html","text":"\u806f\u7e6b\u65b9\u5f0f \u00b6 \u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u95dc\u65bc Klipper \u7684\u806f\u7e6b\u8cc7\u8a0a\u3002 \u793e\u5340\u8ad6\u58c7 Discord \u804a\u5929 \u6211\u6709\u4e00\u500b\u95dc\u65bc Klipper \u7684\u554f\u984c \u6211\u6709\u4e00\u500b\u529f\u80fd\u8acb\u6c42 \u6211\u9700\u8981\u5e6b\u52a9\uff01\u5b83\u70b8\u4e86\uff01 \u6211\u5728 Klipper \u4e2d\u767c\u73fe\u4e86\u4e00\u500b\u7f3a\u9677 \u6211\u6b63\u5728\u9032\u884c\u6211\u60f3\u7d0d\u5165 Klipper \u7684\u4fee\u6539 \u793e\u5340\u8ad6\u58c7 \u00b6 \u6709\u4e00\u500b\u7528\u4f86\u8a0e\u8ad6 Klipper \u7684 Klipper \u793e\u5340 Discourse \u4f3a\u670d\u5668 \u3002 Discord \u804a\u5929 \u00b6 \u6211\u5011\u6709\u4e00\u500b\u7528\u4f86\u8a0e\u8ad6Klipper\u7684Discord\u4f3a\u670d\u5668\uff0c\u5b83\u7684\u9080\u8acb\u93c8\u63a5\u662f https://discord.klipper3d.org \u3002 \u9019\u500b\u4f3a\u670d\u5668\u662f\u7531 Klipper \u611b\u597d\u8005\u793e\u5340\u57f7\u884c\uff0c\u81f4\u529b\u65bc\u8a0e\u8ad6 Klipper\u3002\u5b83\u5141\u8a31\u9032\u884c\u4f7f\u7528\u8005\u9593\u7684\u5be6\u6642\u804a\u5929\u3002 \u6211\u6709\u4e00\u500b\u95dc\u65bc Klipper \u7684\u554f\u984c \u00b6 \u6211\u5011\u6536\u5230\u7684\u8a31\u591a\u554f\u984c\u5728 Klipper \u6587\u4ef6 \u4e2d\u5df2\u7d93\u6709\u4e86\u7b54\u6848\u3002\u8acb\u52d9\u5fc5\u95b1\u8b80\u8a72\u6587\u4ef6\u4e26\u9075\u5faa\u5176\u4e2d\u63d0\u4f9b\u7684\u6307\u793a\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u5340\u8ad6\u58c7 \u4e2d\u641c\u7d22\u985e\u4f3c\u7684\u554f\u984c\u3002 \u5982\u679c\u4f60\u6709\u8208\u8da3\u8207\u5176\u4ed6 Klipper \u4f7f\u7528\u8005\u5206\u4eab\u4f60\u7684\u77e5\u8b58\u548c\u7d93\u9a57\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u5340\u8ad6\u58c7 \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u9019\u5169\u500b\u793e\u5340\u90fd\u662f Klipper \u4f7f\u7528\u8005\u9593\u8a0e\u8ad6 Klipper \u7684\u5730\u65b9\u3002 \u6211\u5011\u7d93\u5e38\u6536\u5230\u8a31\u591a\u4e26\u4e0d\u91dd\u5c0d Klipper \u7684\u5e38\u898f3D\u5217\u5370\u7591\u554f\u3002\u5982\u679c\u4f60\u6709\u5e38\u898f\u7684\u7591\u554f\u6216\u9047\u5230\u4e86\u5e38\u898f\u7684\u5217\u5370\u554f\u984c\uff0c\u90a3\u9ebc\u4f60\u53ef\u80fd\u6703\u5728\u4e00\u822c\u76843D\u5217\u5370\u8ad6\u58c7\u6216\u5c08\u9580\u91dd\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u786c\u9ad4\u7684\u8ad6\u58c7\u4e0a\u5f97\u5230\u66f4\u597d\u7684\u7b54\u6848\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u5efa\u7acb\u8b70\u984c\u4f86\u63d0\u554f\u3002 \u6211\u6709\u4e00\u500b\u529f\u80fd\u8acb\u6c42 \u00b6 \u6240\u6709\u7684\u65b0\u529f\u80fd\u90fd\u9700\u8981\u6709\u611f\u8208\u8da3\u4e26\u80fd\u5920\u5be6\u73fe\u9019\u4e9b\u529f\u80fd\u7684\u4eba\u3002\u5982\u679c\u4f60\u60f3\u5e6b\u52a9\u5be6\u73fe\u6216\u6e2c\u8a66\u4e00\u500b\u65b0\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u5728 Klipper \u793e\u5340\u8ad6\u58c7 \u4e2d\u641c\u7d22\u6b63\u5728\u9032\u884c\u7684\u958b\u767c\u7a0b\u5e8f\u3002\u9084\u6709 Klipper Discord \u804a\u5929\u5ba4 \u4f9b\u5408\u4f5c\u8005\u4e4b\u9593\u8a0e\u8ad6\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u5efa\u7acb\u8b70\u984c\u4f86\u8acb\u6c42\u529f\u80fd\u3002 \u6211\u9700\u8981\u5e6b\u52a9\uff01\u5b83\u70b8\u4e86\uff01 \u00b6 \u4e0d\u5e78\u7684\u662f\uff0c\u6211\u5011\u6536\u5230\u7684\u5e6b\u52a9\u8acb\u6c42\u5f80\u5f80\u6bd4\u6211\u5011\u80fd\u5920\u56de\u7b54\u7684\u8981\u591a\u3002\u6211\u5011\u767c\u73fe\u5927\u591a\u6578\u554f\u984c\u5831\u544a\u7684\u6839\u672c\u539f\u56e0\u90fd\u662f\uff1a \u7d30\u5fae\u7684\u786c\u9ad4\u554f\u984c\u6216 \u672a\u9075\u5faa Klipper \u6587\u4ef6\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u6b65\u9a5f\u3002 \u5982\u679c\u60a8\u9047\u5230\u4e86\u554f\u984c\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4ed4\u7d30\u95b1\u8b80 Klipper \u6587\u4ef6 \u4e26\u518d\u6b21\u6aa2\u67e5\u662f\u5426\u9075\u5faa\u4e86\u6240\u6709\u6b65\u9a5f\u3002 \u5982\u679c\u4f60\u9047\u5230\u4e86\u5217\u5370\u554f\u984c\uff0c\u6211\u5011\u5efa\u8b70\u4ed4\u7d30\u6aa2\u67e5\u5370\u8868\u6a5f\u7684\u786c\u9ad4\uff08\u6240\u6709\u63a5\u982d\u3001\u96fb\u7dda\u3001\u87ba\u7d72\u7b49\uff09\uff0c\u78ba\u8a8d\u6c92\u6709\u4efb\u4f55\u7570\u5e38\u3002\u6211\u5011\u767c\u73fe\u5927\u591a\u6578\u5217\u5370\u554f\u984c\u90fd\u8207 Klipper \u8edf\u9ad4\u7121\u95dc\u3002\u5982\u679c\u4f60\u78ba\u5be6\u767c\u73fe\u4e86\u5370\u8868\u6a5f\u786c\u9ad4\u7684\u554f\u984c\uff0c\u5728\u4e00\u822c\u76843D\u5217\u5370\u8ad6\u58c7\u6216\u5c08\u9580\u91dd\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u786c\u9ad4\u7684\u8ad6\u58c7\u4e0a\u641c\u7d22\u901a\u5e38\u53ef\u4ee5\u5f97\u5230\u66f4\u597d\u7684\u7b54\u8986\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u5340\u8ad6\u58c7 \u4e2d\u67e5\u8a62\u985e\u4f3c\u7684\u554f\u984c\u3002 \u5982\u679c\u4f60\u6709\u8208\u8da3\u8207\u5176\u4ed6 Klipper \u4f7f\u7528\u8005\u5206\u4eab\u4f60\u7684\u77e5\u8b58\u548c\u7d93\u9a57\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u5340\u8ad6\u58c7 \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u9019\u5169\u500b\u793e\u5340\u90fd\u662f Klipper \u4f7f\u7528\u8005\u9593\u8a0e\u8ad6 Klipper \u7684\u5730\u65b9\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u5efa\u7acb\u8b70\u984c\u4f86\u6c42\u52a9\u3002 \u6211\u5728 Klipper \u8edf\u9ad4\u4e2d\u8a3a\u65b7\u51fa\u4e86\u4e00\u500b\u7f3a\u9677 \u00b6 Klipper \u662f\u4e00\u500b\u958b\u6e90\u5c08\u6848\uff0c\u6211\u5011\u8aa0\u646f\u7684\u611f\u8b1d\u8ca2\u737b\u8005\u5011\u5728\u8edf\u9ad4\u4e2d\u8a3a\u65b7\u51fa\u932f\u8aa4\u3002 \u4fee\u5fa9bug\u9700\u8981\u63d0\u4f9b\u4e00\u4e9b\u91cd\u8981\u7684\u8cc7\u8a0a\u3002\u8acb\u9075\u5faa\u4ee5\u4e0b\u6b65\u9a5f\uff1a \u9996\u5148\u8981\u78ba\u5b9a\u9019\u500b\u932f\u8aa4\u662f\u5728 Klipper \u8edf\u9ad4\u4e2d\u3002\u5982\u679c\u4f60\u5728\u60f3 \"\u6211\u6709\u4e00\u500b\u554f\u984c\uff0c\u6211\u7121\u6cd5\u627e\u51fa\u539f\u56e0\uff0c\u56e0\u6b64\u9019\u662f\u4e00\u500bKlipper\u7684\u932f\u8aa4\"\uff0c\u90a3\u9ebc \u4e0d\u8981 \u5efa\u7acb\u4e00\u500b Github \u8b70\u984c\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u6709\u8208\u8da3\u4e14\u6709\u80fd\u529b\u7684\u4eba\u9700\u8981\u5148\u627e\u5230\u554f\u984c\u7684\u6839\u6e90\u3002\u5982\u679c\u4f60\u60f3\u5206\u4eab\u4f60\u7684\u7814\u7a76\u7d50\u679c\u6216\u6aa2\u67e5\u5176\u4ed6\u4f7f\u7528\u8005\u662f\u5426\u9047\u5230\u985e\u4f3c\u7684\u554f\u984c\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u641c\u7d22 Klipper \u793e\u5340\u8ad6\u58c7 \u3002 \u8acb\u78ba\u4fdd\u60a8\u6b63\u5728\u57f7\u884c https://github.com/Klipper3d/klipper \u7684\u672a\u4fee\u6539\u7a0b\u5f0f\u78bc\u3002\u5982\u679c\u7a0b\u5f0f\u78bc\u5df2\u88ab\u4fee\u6539\u6216\u5f9e\u5176\u4ed6\u4f86\u6e90\u7372\u5f97\uff0c\u5247\u60a8\u9700\u8981\u5728\u5831\u544a\u554f\u984c\u4e4b\u524d\u5148\u5728 https://github.com/Klipper3d/klipper \u7372\u53d6\u7684\u672a\u4fee\u6539\u7684\u7a0b\u5f0f\u78bc\u4e0a\u91cd\u73fe\u554f\u984c\u3002 \u5982\u679c\u53ef\u80fd\u7684\u8a71\uff0c\u5728\u4e0d\u671f\u671b\u7684\u4e8b\u4ef6\u767c\u751f\u540e\uff0c\u7acb\u5373\u5728 OctoPrint \u7d42\u7aef\u8996\u7a97\u57f7\u884c\u4e00\u500b M112 \u547d\u4ee4\u3002\u9019\u5c07\u4f7f Klipper \u9032\u5165 \"\u95dc\u9589\"(shutdown)\u72c0\u614b\uff0c\u4e26\u5728\u65e5\u8a8c\u6a94\u6848\u4e2d\u5beb\u5165\u984d\u5916\u7684\u9664\u932f\u8cc7\u8a0a\u3002 \u7372\u53d6\u4e8b\u4ef6\u767c\u9001\u6642\u7684 Klipper \u65e5\u8a8c\u6a94\u6848\u3002\u8a72\u65e5\u8a8c\u6a94\u6848\u5df2\u88ab\u8a2d\u8a08\u7528\u4f86\u7d66 Klipper \u958b\u767c\u4eba\u54e1\u63d0\u4f9b\u95dc\u65bc\u8edf\u9ad4\u53ca\u5176\u57f7\u884c\u74b0\u5883\u7684\u5e38\u898b\u554f\u984c\uff08\u8edf\u9ad4\u7248\u672c\u3001\u786c\u9ad4\u578b\u5225\u3001\u914d\u7f6e\u3001\u4e8b\u4ef6\u6642\u9593\u548c\u6578\u767e\u500b\u5176\u4ed6\u554f\u984c\uff09\u3002 Klipper \u65e5\u8a8c\u6a94\u6848\u4f4d\u65bc Klipper \"\u4e3b\u6a5f\"\uff08\u6a39\u8393\u6d3e\uff09\u7684 /tmp/klippy.log \u6a94\u6848\u4e2d\u3002 \u4f60\u9700\u8981\u7528\u300cscp\u300d\u6216\u300csftp\u300d\u7a0b\u5f0f\u5c07\u6b64\u65e5\u8a8c\u6a94\u6848\u8907\u88fd\u5230\u60a8\u7684\u8a08\u7b97\u6a5f\u3002 \u300cscp\u300d\u7a0b\u5f0f\u662f Linux \u548c MacOS \u7cfb\u7d71\u7684\u6a19\u6e96\u914d\u7f6e\u3002\u5176\u4ed6\u7cfb\u7d71\u4e5f\u901a\u5e38\u6709\u53ef\u7528\u7684 scp \u5be6\u7528\u7a0b\u5f0f\uff08\u4f8b\u5982 WinSCP\uff09\u3002\u5982\u679c\u4f7f\u7528\u5716\u5f62\u754c\u9762\u7684 scp \u7a0b\u5f0f\u7121\u6cd5\u76f4\u63a5\u8907\u88fd /tmp/klippy.log \uff0c\u53ef\u4ee5\u5617\u8a66\u91cd\u8907\u9ede\u9078 .. \u6216\u8005 parent folder \uff08\u7236\u8cc7\u6599\u593e\uff09\u76f4\u5230\u9032\u5165\u6839\u76ee\u9304\uff0c\u518d\u9ede\u9078 tmp \u8cc7\u6599\u593e\uff0c\u7136\u5f8c\u9078\u64c7 klippy.log \u6a94\u6848\u3002 \u5c07\u65e5\u8a8c\u6a94\u6848\u8907\u88fd\u5230\u4f60\u7684\u96fb\u8166\uff0c\u4ee5\u4fbf\u5c07\u5176\u4e0a\u50b3\u5230\u554f\u984c\u5831\u544a\u4e2d\u3002 \u4e0d\u8981\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fee\u6539\u65e5\u8a8c\u6a94\u6848\uff1b\u4e0d\u8981\u53ea\u63d0\u4f9b\u65e5\u8a8c\u7684\u7247\u6bb5\u3002\u53ea\u6709\u5b8c\u6574\u7684\u672a\u4fee\u6539\u7684\u65e5\u8a8c\u6a94\u6848\u624d\u80fd\u5920\u63d0\u4f9b\u5fc5\u8981\u7684\u8cc7\u8a0a\u3002 \u5982\u679c\u65e5\u8a8c\u6a94\u6848\u975e\u5e38\u5927\uff08\u4f8b\u5982\uff0c\u5927\u65bc2MB\uff09\uff0c\u90a3\u9ebc\u53ef\u80fd\u9700\u8981\u7528 zip \u6216 gzip \u4f86\u58d3\u7e2e\u65e5\u8a8c\u3002 \u5728 https://github.com/Klipper3d/klipper/issues \u958b\u4e00\u500b\u65b0\u7684GitHub\u8b70\u984c\uff0c\u4e26\u5c0d\u554f\u984c\u9032\u884c\u6e05\u6670\u7684\u63cf\u8ff0\u3002Klipper \u958b\u767c\u8005\u9700\u8981\u4e86\u89e3\u4f60\u63a1\u53d6\u4e86\u54ea\u4e9b\u6b65\u9a5f\uff0c\u671f\u671b\u7684\u7d50\u679c\u662f\u4ec0\u9ebc\uff0c\u4ee5\u53ca\u5be6\u969b\u767c\u751f\u4e86\u4ec0\u9ebc\u7d50\u679c\u3002Klipper \u7684\u65e5\u8a8c\u6a94\u6848 \u5fc5\u9808\u88ab\u65b0\u589e\u5230\u8b70\u984c\u9644\u4ef6 \uff1a \u6211\u6b63\u5728\u9032\u884c\u4e00\u4e9b\u6211\u60f3\u65b0\u589e\u5230 Klipper \u4e2d\u7684\u6539\u9032 \u00b6 Klipper \u662f\u958b\u6e90\u8edf\u9ad4\uff0c\u6211\u5011\u975e\u5e38\u611f\u8b1d\u65b0\u7684\u8ca2\u737b\u3002 \u65b0\u7684\u8ca2\u737b\uff08\u5305\u62ec\u7a0b\u5f0f\u78bc\u548c\u6587\u4ef6\uff09\u9700\u8981\u901a\u904e\u62c9\u53d6\u8acb\u6c42(PR)\u63d0\u4ea4\u3002\u91cd\u8981\u8cc7\u8a0a\u8acb\u53c3\u898b \u8ca2\u737b\u6587\u4ef6 \u3002 \u6709\u5e7e\u500b \u958b\u767c\u4eba\u54e1\u6587\u4ef6 \u3002\u5982\u679c\u4f60\u5c0d\u7a0b\u5f0f\u78bc\u6709\u7591\u554f\uff0c\u90a3\u9ebc\u4f60\u4e5f\u53ef\u4ee5\u5728 Klipper\u793e\u5340\u8ad6\u58c7 \u6216 Klipper\u793e\u5340 Discord \u4e0a\u63d0\u554f\u3002\u5982\u679c\u4f60\u60f3\u63d0\u4f9b\u4f60\u76ee\u524d\u7684\u9032\u5c55\u60c5\u6cc1\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u5728 Github \u4e0a\u958b\u4e00\u500b\u554f\u984c\uff0c\u5beb\u4e0a\u4f60\u7684\u7a0b\u5f0f\u78bc\u7684\u4f4d\u7f6e\uff0c\u4fee\u6539\u7684\u6982\u8ff0\uff0c\u4ee5\u53ca\u5c0d\u5176\u76ee\u524d\u72c0\u614b\u7684\u63cf\u8ff0\u3002","title":"\u806f\u7e6b\u65b9\u5f0f"},{"location":"Contact.html#_1","text":"\u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u95dc\u65bc Klipper \u7684\u806f\u7e6b\u8cc7\u8a0a\u3002 \u793e\u5340\u8ad6\u58c7 Discord \u804a\u5929 \u6211\u6709\u4e00\u500b\u95dc\u65bc Klipper \u7684\u554f\u984c \u6211\u6709\u4e00\u500b\u529f\u80fd\u8acb\u6c42 \u6211\u9700\u8981\u5e6b\u52a9\uff01\u5b83\u70b8\u4e86\uff01 \u6211\u5728 Klipper \u4e2d\u767c\u73fe\u4e86\u4e00\u500b\u7f3a\u9677 \u6211\u6b63\u5728\u9032\u884c\u6211\u60f3\u7d0d\u5165 Klipper \u7684\u4fee\u6539","title":"\u806f\u7e6b\u65b9\u5f0f"},{"location":"Contact.html#_2","text":"\u6709\u4e00\u500b\u7528\u4f86\u8a0e\u8ad6 Klipper \u7684 Klipper \u793e\u5340 Discourse \u4f3a\u670d\u5668 \u3002","title":"\u793e\u5340\u8ad6\u58c7"},{"location":"Contact.html#discord","text":"\u6211\u5011\u6709\u4e00\u500b\u7528\u4f86\u8a0e\u8ad6Klipper\u7684Discord\u4f3a\u670d\u5668\uff0c\u5b83\u7684\u9080\u8acb\u93c8\u63a5\u662f https://discord.klipper3d.org \u3002 \u9019\u500b\u4f3a\u670d\u5668\u662f\u7531 Klipper \u611b\u597d\u8005\u793e\u5340\u57f7\u884c\uff0c\u81f4\u529b\u65bc\u8a0e\u8ad6 Klipper\u3002\u5b83\u5141\u8a31\u9032\u884c\u4f7f\u7528\u8005\u9593\u7684\u5be6\u6642\u804a\u5929\u3002","title":"Discord \u804a\u5929"},{"location":"Contact.html#klipper","text":"\u6211\u5011\u6536\u5230\u7684\u8a31\u591a\u554f\u984c\u5728 Klipper \u6587\u4ef6 \u4e2d\u5df2\u7d93\u6709\u4e86\u7b54\u6848\u3002\u8acb\u52d9\u5fc5\u95b1\u8b80\u8a72\u6587\u4ef6\u4e26\u9075\u5faa\u5176\u4e2d\u63d0\u4f9b\u7684\u6307\u793a\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u5340\u8ad6\u58c7 \u4e2d\u641c\u7d22\u985e\u4f3c\u7684\u554f\u984c\u3002 \u5982\u679c\u4f60\u6709\u8208\u8da3\u8207\u5176\u4ed6 Klipper \u4f7f\u7528\u8005\u5206\u4eab\u4f60\u7684\u77e5\u8b58\u548c\u7d93\u9a57\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u5340\u8ad6\u58c7 \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u9019\u5169\u500b\u793e\u5340\u90fd\u662f Klipper \u4f7f\u7528\u8005\u9593\u8a0e\u8ad6 Klipper \u7684\u5730\u65b9\u3002 \u6211\u5011\u7d93\u5e38\u6536\u5230\u8a31\u591a\u4e26\u4e0d\u91dd\u5c0d Klipper \u7684\u5e38\u898f3D\u5217\u5370\u7591\u554f\u3002\u5982\u679c\u4f60\u6709\u5e38\u898f\u7684\u7591\u554f\u6216\u9047\u5230\u4e86\u5e38\u898f\u7684\u5217\u5370\u554f\u984c\uff0c\u90a3\u9ebc\u4f60\u53ef\u80fd\u6703\u5728\u4e00\u822c\u76843D\u5217\u5370\u8ad6\u58c7\u6216\u5c08\u9580\u91dd\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u786c\u9ad4\u7684\u8ad6\u58c7\u4e0a\u5f97\u5230\u66f4\u597d\u7684\u7b54\u6848\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u5efa\u7acb\u8b70\u984c\u4f86\u63d0\u554f\u3002","title":"\u6211\u6709\u4e00\u500b\u95dc\u65bc Klipper \u7684\u554f\u984c"},{"location":"Contact.html#_3","text":"\u6240\u6709\u7684\u65b0\u529f\u80fd\u90fd\u9700\u8981\u6709\u611f\u8208\u8da3\u4e26\u80fd\u5920\u5be6\u73fe\u9019\u4e9b\u529f\u80fd\u7684\u4eba\u3002\u5982\u679c\u4f60\u60f3\u5e6b\u52a9\u5be6\u73fe\u6216\u6e2c\u8a66\u4e00\u500b\u65b0\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u5728 Klipper \u793e\u5340\u8ad6\u58c7 \u4e2d\u641c\u7d22\u6b63\u5728\u9032\u884c\u7684\u958b\u767c\u7a0b\u5e8f\u3002\u9084\u6709 Klipper Discord \u804a\u5929\u5ba4 \u4f9b\u5408\u4f5c\u8005\u4e4b\u9593\u8a0e\u8ad6\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u5efa\u7acb\u8b70\u984c\u4f86\u8acb\u6c42\u529f\u80fd\u3002","title":"\u6211\u6709\u4e00\u500b\u529f\u80fd\u8acb\u6c42"},{"location":"Contact.html#_4","text":"\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u5011\u6536\u5230\u7684\u5e6b\u52a9\u8acb\u6c42\u5f80\u5f80\u6bd4\u6211\u5011\u80fd\u5920\u56de\u7b54\u7684\u8981\u591a\u3002\u6211\u5011\u767c\u73fe\u5927\u591a\u6578\u554f\u984c\u5831\u544a\u7684\u6839\u672c\u539f\u56e0\u90fd\u662f\uff1a \u7d30\u5fae\u7684\u786c\u9ad4\u554f\u984c\u6216 \u672a\u9075\u5faa Klipper \u6587\u4ef6\u4e2d\u63cf\u8ff0\u7684\u6240\u6709\u6b65\u9a5f\u3002 \u5982\u679c\u60a8\u9047\u5230\u4e86\u554f\u984c\uff0c\u6211\u5011\u5efa\u8b70\u60a8\u4ed4\u7d30\u95b1\u8b80 Klipper \u6587\u4ef6 \u4e26\u518d\u6b21\u6aa2\u67e5\u662f\u5426\u9075\u5faa\u4e86\u6240\u6709\u6b65\u9a5f\u3002 \u5982\u679c\u4f60\u9047\u5230\u4e86\u5217\u5370\u554f\u984c\uff0c\u6211\u5011\u5efa\u8b70\u4ed4\u7d30\u6aa2\u67e5\u5370\u8868\u6a5f\u7684\u786c\u9ad4\uff08\u6240\u6709\u63a5\u982d\u3001\u96fb\u7dda\u3001\u87ba\u7d72\u7b49\uff09\uff0c\u78ba\u8a8d\u6c92\u6709\u4efb\u4f55\u7570\u5e38\u3002\u6211\u5011\u767c\u73fe\u5927\u591a\u6578\u5217\u5370\u554f\u984c\u90fd\u8207 Klipper \u8edf\u9ad4\u7121\u95dc\u3002\u5982\u679c\u4f60\u78ba\u5be6\u767c\u73fe\u4e86\u5370\u8868\u6a5f\u786c\u9ad4\u7684\u554f\u984c\uff0c\u5728\u4e00\u822c\u76843D\u5217\u5370\u8ad6\u58c7\u6216\u5c08\u9580\u91dd\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u786c\u9ad4\u7684\u8ad6\u58c7\u4e0a\u641c\u7d22\u901a\u5e38\u53ef\u4ee5\u5f97\u5230\u66f4\u597d\u7684\u7b54\u8986\u3002 \u4e5f\u53ef\u4ee5\u5728 Klipper \u793e\u5340\u8ad6\u58c7 \u4e2d\u67e5\u8a62\u985e\u4f3c\u7684\u554f\u984c\u3002 \u5982\u679c\u4f60\u6709\u8208\u8da3\u8207\u5176\u4ed6 Klipper \u4f7f\u7528\u8005\u5206\u4eab\u4f60\u7684\u77e5\u8b58\u548c\u7d93\u9a57\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u52a0\u5165 Klipper \u793e\u5340\u8ad6\u58c7 \u6216 Klipper Discord \u804a\u5929\u5ba4 \u3002\u9019\u5169\u500b\u793e\u5340\u90fd\u662f Klipper \u4f7f\u7528\u8005\u9593\u8a0e\u8ad6 Klipper \u7684\u5730\u65b9\u3002 \u4e0d\u8981\u5728 Klipper \u7684 Github \u4e0a\u5efa\u7acb\u8b70\u984c\u4f86\u6c42\u52a9\u3002","title":"\u6211\u9700\u8981\u5e6b\u52a9\uff01\u5b83\u70b8\u4e86\uff01"},{"location":"Contact.html#klipper_1","text":"Klipper \u662f\u4e00\u500b\u958b\u6e90\u5c08\u6848\uff0c\u6211\u5011\u8aa0\u646f\u7684\u611f\u8b1d\u8ca2\u737b\u8005\u5011\u5728\u8edf\u9ad4\u4e2d\u8a3a\u65b7\u51fa\u932f\u8aa4\u3002 \u4fee\u5fa9bug\u9700\u8981\u63d0\u4f9b\u4e00\u4e9b\u91cd\u8981\u7684\u8cc7\u8a0a\u3002\u8acb\u9075\u5faa\u4ee5\u4e0b\u6b65\u9a5f\uff1a \u9996\u5148\u8981\u78ba\u5b9a\u9019\u500b\u932f\u8aa4\u662f\u5728 Klipper \u8edf\u9ad4\u4e2d\u3002\u5982\u679c\u4f60\u5728\u60f3 \"\u6211\u6709\u4e00\u500b\u554f\u984c\uff0c\u6211\u7121\u6cd5\u627e\u51fa\u539f\u56e0\uff0c\u56e0\u6b64\u9019\u662f\u4e00\u500bKlipper\u7684\u932f\u8aa4\"\uff0c\u90a3\u9ebc \u4e0d\u8981 \u5efa\u7acb\u4e00\u500b Github \u8b70\u984c\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u6709\u8208\u8da3\u4e14\u6709\u80fd\u529b\u7684\u4eba\u9700\u8981\u5148\u627e\u5230\u554f\u984c\u7684\u6839\u6e90\u3002\u5982\u679c\u4f60\u60f3\u5206\u4eab\u4f60\u7684\u7814\u7a76\u7d50\u679c\u6216\u6aa2\u67e5\u5176\u4ed6\u4f7f\u7528\u8005\u662f\u5426\u9047\u5230\u985e\u4f3c\u7684\u554f\u984c\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u641c\u7d22 Klipper \u793e\u5340\u8ad6\u58c7 \u3002 \u8acb\u78ba\u4fdd\u60a8\u6b63\u5728\u57f7\u884c https://github.com/Klipper3d/klipper \u7684\u672a\u4fee\u6539\u7a0b\u5f0f\u78bc\u3002\u5982\u679c\u7a0b\u5f0f\u78bc\u5df2\u88ab\u4fee\u6539\u6216\u5f9e\u5176\u4ed6\u4f86\u6e90\u7372\u5f97\uff0c\u5247\u60a8\u9700\u8981\u5728\u5831\u544a\u554f\u984c\u4e4b\u524d\u5148\u5728 https://github.com/Klipper3d/klipper \u7372\u53d6\u7684\u672a\u4fee\u6539\u7684\u7a0b\u5f0f\u78bc\u4e0a\u91cd\u73fe\u554f\u984c\u3002 \u5982\u679c\u53ef\u80fd\u7684\u8a71\uff0c\u5728\u4e0d\u671f\u671b\u7684\u4e8b\u4ef6\u767c\u751f\u540e\uff0c\u7acb\u5373\u5728 OctoPrint \u7d42\u7aef\u8996\u7a97\u57f7\u884c\u4e00\u500b M112 \u547d\u4ee4\u3002\u9019\u5c07\u4f7f Klipper \u9032\u5165 \"\u95dc\u9589\"(shutdown)\u72c0\u614b\uff0c\u4e26\u5728\u65e5\u8a8c\u6a94\u6848\u4e2d\u5beb\u5165\u984d\u5916\u7684\u9664\u932f\u8cc7\u8a0a\u3002 \u7372\u53d6\u4e8b\u4ef6\u767c\u9001\u6642\u7684 Klipper \u65e5\u8a8c\u6a94\u6848\u3002\u8a72\u65e5\u8a8c\u6a94\u6848\u5df2\u88ab\u8a2d\u8a08\u7528\u4f86\u7d66 Klipper \u958b\u767c\u4eba\u54e1\u63d0\u4f9b\u95dc\u65bc\u8edf\u9ad4\u53ca\u5176\u57f7\u884c\u74b0\u5883\u7684\u5e38\u898b\u554f\u984c\uff08\u8edf\u9ad4\u7248\u672c\u3001\u786c\u9ad4\u578b\u5225\u3001\u914d\u7f6e\u3001\u4e8b\u4ef6\u6642\u9593\u548c\u6578\u767e\u500b\u5176\u4ed6\u554f\u984c\uff09\u3002 Klipper \u65e5\u8a8c\u6a94\u6848\u4f4d\u65bc Klipper \"\u4e3b\u6a5f\"\uff08\u6a39\u8393\u6d3e\uff09\u7684 /tmp/klippy.log \u6a94\u6848\u4e2d\u3002 \u4f60\u9700\u8981\u7528\u300cscp\u300d\u6216\u300csftp\u300d\u7a0b\u5f0f\u5c07\u6b64\u65e5\u8a8c\u6a94\u6848\u8907\u88fd\u5230\u60a8\u7684\u8a08\u7b97\u6a5f\u3002 \u300cscp\u300d\u7a0b\u5f0f\u662f Linux \u548c MacOS \u7cfb\u7d71\u7684\u6a19\u6e96\u914d\u7f6e\u3002\u5176\u4ed6\u7cfb\u7d71\u4e5f\u901a\u5e38\u6709\u53ef\u7528\u7684 scp \u5be6\u7528\u7a0b\u5f0f\uff08\u4f8b\u5982 WinSCP\uff09\u3002\u5982\u679c\u4f7f\u7528\u5716\u5f62\u754c\u9762\u7684 scp \u7a0b\u5f0f\u7121\u6cd5\u76f4\u63a5\u8907\u88fd /tmp/klippy.log \uff0c\u53ef\u4ee5\u5617\u8a66\u91cd\u8907\u9ede\u9078 .. \u6216\u8005 parent folder \uff08\u7236\u8cc7\u6599\u593e\uff09\u76f4\u5230\u9032\u5165\u6839\u76ee\u9304\uff0c\u518d\u9ede\u9078 tmp \u8cc7\u6599\u593e\uff0c\u7136\u5f8c\u9078\u64c7 klippy.log \u6a94\u6848\u3002 \u5c07\u65e5\u8a8c\u6a94\u6848\u8907\u88fd\u5230\u4f60\u7684\u96fb\u8166\uff0c\u4ee5\u4fbf\u5c07\u5176\u4e0a\u50b3\u5230\u554f\u984c\u5831\u544a\u4e2d\u3002 \u4e0d\u8981\u4ee5\u4efb\u4f55\u65b9\u5f0f\u4fee\u6539\u65e5\u8a8c\u6a94\u6848\uff1b\u4e0d\u8981\u53ea\u63d0\u4f9b\u65e5\u8a8c\u7684\u7247\u6bb5\u3002\u53ea\u6709\u5b8c\u6574\u7684\u672a\u4fee\u6539\u7684\u65e5\u8a8c\u6a94\u6848\u624d\u80fd\u5920\u63d0\u4f9b\u5fc5\u8981\u7684\u8cc7\u8a0a\u3002 \u5982\u679c\u65e5\u8a8c\u6a94\u6848\u975e\u5e38\u5927\uff08\u4f8b\u5982\uff0c\u5927\u65bc2MB\uff09\uff0c\u90a3\u9ebc\u53ef\u80fd\u9700\u8981\u7528 zip \u6216 gzip \u4f86\u58d3\u7e2e\u65e5\u8a8c\u3002 \u5728 https://github.com/Klipper3d/klipper/issues \u958b\u4e00\u500b\u65b0\u7684GitHub\u8b70\u984c\uff0c\u4e26\u5c0d\u554f\u984c\u9032\u884c\u6e05\u6670\u7684\u63cf\u8ff0\u3002Klipper \u958b\u767c\u8005\u9700\u8981\u4e86\u89e3\u4f60\u63a1\u53d6\u4e86\u54ea\u4e9b\u6b65\u9a5f\uff0c\u671f\u671b\u7684\u7d50\u679c\u662f\u4ec0\u9ebc\uff0c\u4ee5\u53ca\u5be6\u969b\u767c\u751f\u4e86\u4ec0\u9ebc\u7d50\u679c\u3002Klipper \u7684\u65e5\u8a8c\u6a94\u6848 \u5fc5\u9808\u88ab\u65b0\u589e\u5230\u8b70\u984c\u9644\u4ef6 \uff1a","title":"\u6211\u5728 Klipper \u8edf\u9ad4\u4e2d\u8a3a\u65b7\u51fa\u4e86\u4e00\u500b\u7f3a\u9677"},{"location":"Contact.html#klipper_2","text":"Klipper \u662f\u958b\u6e90\u8edf\u9ad4\uff0c\u6211\u5011\u975e\u5e38\u611f\u8b1d\u65b0\u7684\u8ca2\u737b\u3002 \u65b0\u7684\u8ca2\u737b\uff08\u5305\u62ec\u7a0b\u5f0f\u78bc\u548c\u6587\u4ef6\uff09\u9700\u8981\u901a\u904e\u62c9\u53d6\u8acb\u6c42(PR)\u63d0\u4ea4\u3002\u91cd\u8981\u8cc7\u8a0a\u8acb\u53c3\u898b \u8ca2\u737b\u6587\u4ef6 \u3002 \u6709\u5e7e\u500b \u958b\u767c\u4eba\u54e1\u6587\u4ef6 \u3002\u5982\u679c\u4f60\u5c0d\u7a0b\u5f0f\u78bc\u6709\u7591\u554f\uff0c\u90a3\u9ebc\u4f60\u4e5f\u53ef\u4ee5\u5728 Klipper\u793e\u5340\u8ad6\u58c7 \u6216 Klipper\u793e\u5340 Discord \u4e0a\u63d0\u554f\u3002\u5982\u679c\u4f60\u60f3\u63d0\u4f9b\u4f60\u76ee\u524d\u7684\u9032\u5c55\u60c5\u6cc1\uff0c\u90a3\u9ebc\u4f60\u53ef\u4ee5\u5728 Github \u4e0a\u958b\u4e00\u500b\u554f\u984c\uff0c\u5beb\u4e0a\u4f60\u7684\u7a0b\u5f0f\u78bc\u7684\u4f4d\u7f6e\uff0c\u4fee\u6539\u7684\u6982\u8ff0\uff0c\u4ee5\u53ca\u5c0d\u5176\u76ee\u524d\u72c0\u614b\u7684\u63cf\u8ff0\u3002","title":"\u6211\u6b63\u5728\u9032\u884c\u4e00\u4e9b\u6211\u60f3\u65b0\u589e\u5230 Klipper \u4e2d\u7684\u6539\u9032"},{"location":"Debugging.html","text":"\u9664\u932f \u00b6 \u672c\u6587\u4ef6\u63cf\u8ff0\u4e86\u4e00\u4e9b Klipper \u9664\u932f\u5de5\u5177\u3002 \u57f7\u884c regression \u6e2c\u8a66 \u00b6 \u4e3b\u8981\u7684 Klipper GitHub \u5b58\u5132\u5eab\u4f7f\u7528\"github actions\"\u4f86\u904b\u884c\u4e00\u7cfb\u5217\u56de\u6b78\u6e2c\u8a66\u3002\u5728\u672c\u5730\u904b\u884c\u5176\u4e2d\u4e00\u4e9b\u6e2c\u8a66\u53ef\u80fd\u5f88\u6709\u7528\u3002 \u6e90\u4ee3\u78bc\"whitespace check\"\u53ef\u4ee5\u904b\u884c\uff1a ./scripts/check_whitespace.sh Klippy regression\u6e2c\u8a66\u5957\u4ef6\u9700\u8981\u4f86\u81ea\u8a31\u591a\u5e73\u53f0\u7684\"data dictionaries\"\u3002\u7372\u53d6\u5b83\u5011\u7684\u6700\u7c21\u55ae\u65b9\u6cd5\u662f \u5f9e github \u4e0b\u8f09\u5b83\u5011 \u3002\u4e0b\u8f09\"data dictionaries\"\u5f8c\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u904b\u884cregression\u5957\u4ef6\uff1a tar xfz klipper-dict-20??????.tar.gz ~/klippy-env/bin/python ~/klipper/scripts/test_klippy.py -d dict/ ~/klipper/test/klippy/*.test \u624b\u52d5\u5411\u5fae\u63a7\u5236\u5668\u767c\u9001\u547d\u4ee4 \u00b6 \u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u4e3b\u6a5fklippy.py\u7a0b\u5e8f\u6703\u88ab\u7528\u4f86\u5c07gcode\u547d\u4ee4\u7ffb\u8b6f\u6210Klipper\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u7136\u800c\uff0c\u4e5f\u53ef\u4ee5\u624b\u52d5\u767c\u9001\u9019\u4e9bMCU\u547d\u4ee4\uff08Klipper\u539f\u59cb\u78bc\u4e2d\u6a19\u6709DECL_COMMAND()\u5b8f\u7684\u51fd\u5f0f\uff09\u3002\u8981\u505a\u5230\u9019\u4e00\u9ede\uff0c\u8acb\u57f7\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py /tmp/pseudoserial \u8acb\u53c3\u95b1\u8a72\u5de5\u5177\u4e2d\u7684\"HELP\"\u547d\u4ee4\uff0c\u4ee5\u7372\u5f97\u6709\u95dc\u5176\u529f\u80fd\u7684\u66f4\u591a\u8cc7\u8a0a\u3002 \u4e00\u4e9b\u547d\u4ee4\u5217\u9078\u9805\u662f\u53ef\u7528\u7684\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u57f7\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py --help \u5c07G-Code\u6a94\u6848\u8f49\u63db\u70ba\u5fae\u63a7\u5236\u5668\u547d\u4ee4 \u00b6 Klippy \u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u5728\u6279\u8655\u7406\u6a21\u5f0f\u4e0b\u57f7\u884c\u4e26\u7522\u751fG\u7a0b\u5f0f\u78bc\u6a94\u6848\u76f8\u61c9\u7684\u4f4e\u968e\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u9019\u4e9b\u4f4e\u968e\u547d\u4ee4\u53ef\u4ee5\u5e6b\u52a9\u77ad\u89e3\u4f4e\u968e\u786c\u9ad4\u7684\u64cd\u4f5c\u548c\u5728\u4fee\u6539\u7a0b\u5f0f\u78bc\u540e\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u7684\u5dee\u7570\u3002 \u8981\u5728\u6279\u8655\u7406\u6a21\u5f0f\u4e0b\u57f7\u884c Klippy\uff0c\u9700\u8981\u9996\u5148\u7522\u751f\u5fae\u63a7\u5236\u5668\u7684\"\u6578\u64da\u5b57\u5178\"\u3002\u901a\u904e\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4f86\u7372\u5f97 out/klipper.dict \u6a94\u6848\uff1a make menuconfig make \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c\u53ef\u4ee5\u5728\u6279\u8655\u7406\u6a21\u5f0f\u4e0b\u57f7\u884c Klipper\uff08\u8acb\u53c3\u95b1 \u5b89\u88dd \u4ee5\u77ad\u89e3\u69cb\u5efa Python \u865b\u64ec\u74b0\u5883(venv)\u548c printer.cfg \u6a94\u6848\u6240\u9700\u7684\u6b65\u9a5f\uff09\uff1a ~/klippy-env/bin/python ./klippy/klippy.py ~/printer.cfg -i test.gcode -o test.serial -v -d out/klipper.dict \u4ee5\u4e0a\u547d\u4ee4\u5c07\u7522\u751f\u4e00\u500b\u5305\u542b\u4e8c\u9032\u5236\u5e8f\u5217\u8f38\u51fa\u7684 test.serial \u6a94\u6848\u3002\u8a72\u6a94\u6848\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\u7ffb\u8b6f\u6210\u53ef\u8b80\u6587\u5b57\uff1a ~/klippy-env/bin/python ./klippy/parsedump.py out/klipper.dict test.serial > test.txt \u7522\u751f\u7684\u6a94\u6848 test.txt \u5305\u542b\u53ef\u8b80\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u5217\u8868\u3002 \u7232\u4e86\u4f7f\u6279\u8655\u7406\u6a21\u5f0f\u6b63\u5e38\u57f7\u884c\uff0c\u4e00\u4e9b\u97ff\u61c9\u548c\u8acb\u6c42\u547d\u4ee4\u88ab\u7981\u7528\u4e86\u3002\u56e0\u6b64\uff0c\u5be6\u969b\u547d\u4ee4\u548c\u4e0a\u8ff0\u8f38\u51fa\u4e4b\u9593\u6703\u6709\u4e00\u4e9b\u5dee\u7570\u3002\u7522\u751f\u7684\u6578\u64da\u53ef\u4ee5\u7528\u65bc\u6e2c\u8a66\u548c\u6aa2\u67e5\uff0c\u4f46\u662f\u5b83\u4e0d\u80fd\u88ab\u9aee\u9001\u5230\u771f\u6b63\u7684\u5fae\u63a7\u5236\u5668\u3002 \u52d5\u4f5c\u5206\u6790\u548c\u6578\u64da\u8a18\u9304 \u00b6 Klipper \u652f\u6301\u8a18\u9304\u5176\u5167\u90e8\u904b\u52d5\u6b77\u53f2\uff0c\u4ee5\u5f8c\u53ef\u4ee5\u5c0d\u5176\u9032\u884c\u5206\u6790\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u5fc5\u9808\u5728\u555f\u7528 API \u670d\u52d9\u5668 \u7684\u60c5\u6cc1\u4e0b\u555f\u52d5 Klipper\u3002 \u4f7f\u7528 data_logger.py \u5de5\u5177\u555f\u7528\u6578\u64da\u8a18\u9304\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/motan/data_logger.py /tmp/klippy_uds mylog \u6b64\u547d\u4ee4\u5c07\u9023\u63a5\u5230 Klipper API \u670d\u52d9\u5668\uff0c\u8a02\u95b1\u72c0\u614b\u548c\u904b\u52d5\u4fe1\u606f\uff0c\u4e26\u8a18\u9304\u7d50\u679c\u3002\u751f\u6210\u5169\u500b\u6587\u4ef6 - \u4e00\u500b\u58d3\u7e2e\u6578\u64da\u6587\u4ef6\u548c\u4e00\u500b\u7d22\u5f15\u6587\u4ef6\uff08\u4f8b\u5982\uff0c mylog.json.gz \u548c mylog.index.gz \uff09\u3002\u958b\u59cb\u8a18\u9304\u5f8c\uff0c\u53ef\u4ee5\u5b8c\u6210\u6253\u5370\u548c\u5176\u4ed6\u64cd\u4f5c - \u8a18\u9304\u5c07\u5728\u5f8c\u53f0\u7e7c\u7e8c\u3002\u5b8c\u6210\u8a18\u9304\u5f8c\uff0c\u9ede\u64ca\u201cctrl-c\u201d\u9000\u51fa\u201cdata_logger.py\u201d\u5de5\u5177\u3002 \u53ef\u4ee5\u4f7f\u7528 motan_graph.py \u5de5\u5177\u8b80\u53d6\u751f\u6210\u7684\u6587\u4ef6\u4e26\u7e6a\u88fd\u5716\u5f62\u3002\u8981\u5728 Raspberry Pi \u4e0a\u751f\u6210\u5716\u5f62\uff0c\u9700\u8981\u4e00\u6b65\u5b89\u88dd\u201cmatplotlib\u201d\u5305\uff1a sudo apt-get update sudo apt-get install python-matplotlib \u4f46\u662f\uff0c\u5c07\u6578\u64da\u6587\u4ef6\u8207 scripts/motan/ \u76ee\u9304\u4e2d\u7684 Python \u4ee3\u78bc\u4e00\u8d77\u5fa9\u88fd\u5230\u684c\u9eb5\u985e\u6a5f\u5668\u53ef\u80fd\u66f4\u65b9\u4fbf\u3002\u904b\u52d5\u5206\u6790\u8173\u672c\u61c9\u8a72\u5728\u4efb\u4f55\u5b89\u88dd\u4e86\u6700\u65b0\u7248\u672c\u7684 Python \u548c Matplotlib \u7684\u6a5f\u5668\u4e0a\u904b\u884c\u3002 \u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u751f\u6210\u5716\u5f62\uff1a ~/klipper/scripts/motan/motan_graph.py mylog -o mygraph.png \u53ef\u4ee5\u4f7f\u7528 -g \u9078\u9805\u4f86\u6307\u5b9a\u8981\u7e6a\u88fd\u7684\u6578\u64da\u96c6\uff08\u5b83\u9700\u8981\u4e00\u500b\u5305\u542b\u5217\u8868\u5217\u8868\u7684 Python \u6587\u5b57\uff09\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)\"], [\"trapq(toolhead,accel)\"]]' \u53ef\u4ee5\u4f7f\u7528 -l \u9078\u9805\u627e\u5230\u53ef\u7528\u6578\u64da\u96c6\u7684\u5217\u8868 - \u4f8b\u5982\uff1a ~/klipper/scripts/motan/motan_graph.py -l \u4e5f\u53ef\u4ee5\u70ba\u6bcf\u500b\u6578\u64da\u96c6\u6307\u5b9a matplotlib \u7e6a\u5716\u9078\u9805\uff1a ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)?color=red&alpha=0.4\"]]' \u8a31\u591a matplotlib \u9078\u9805\u53ef\u7528\uff1b\u4e00\u4e9b\u4f8b\u5b50\u662f\"color\", \"label\", \"alpha\", and \"linestyle\"\u3002 motan_graph.py \u5de5\u5177\u652f\u6301\u5176\u4ed6\u5e7e\u500b\u547d\u4ee4\u884c\u9078\u9805 - \u4f7f\u7528 --help \u9078\u9805\u67e5\u770b\u5217\u8868\u3002\u67e5\u770b/\u4fee\u6539 motan_graph.py \u8173\u672c\u672c\u8eab\u4e5f\u53ef\u80fd\u5f88\u65b9\u4fbf\u3002 data_logger.py \u5de5\u4ff1\u751f\u6210\u7684\u539f\u59cb\u6578\u64da\u65e5\u8a8c\u9075\u5faa API \u670d\u52d9\u5668 \u4e2d\u63cf\u8ff0\u7684\u683c\u5f0f\u3002\u4f7f\u7528 Unix \u547d\u4ee4\u6aa2\u67e5\u6578\u64da\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u5982\u4e0b\u6240\u793a\uff1a gunzip < mylog.json.gz | tr '\\03' '\\n' | less \u7522\u751f\u8ca0\u8f09\u5716 \u00b6 Klippy\u65e5\u8a8c\u6a94\u6848\uff08/tmp/klippy.log\uff09\u5132\u5b58\u4e86\u95dc\u65bc\u983b\u5bec\u3001\u5fae\u63a7\u5236\u5668\u8ca0\u8f09\u548c\u4e3b\u6a5f\u7de9\u885d\u5340\u8ca0\u8f09\u7684\u7d71\u8a08\u6578\u64da\u3002\u5728\u5217\u5370\u4e4b\u5f8c\uff0c\u7e6a\u88fd\u9019\u4e9b\u7d71\u8a08\u6578\u5b57\u53ef\u80fd\u6703\u5f88\u6709\u7528\u3002 \u7232\u4e86\u7522\u751f\u5716\u5f62\uff0c\u6709\u5fc5\u8981\u5b89\u88dd\"matplotlib\"\u5305\uff1a sudo apt-get update sudo apt-get install python-matplotlib \u7136\u5f8c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u7522\u751f\u5716\u5f62\uff1a ~/klipper/scripts/graphstats.py /tmp/klippy.log -o loadgraph.png \u7136\u5f8c\u7d50\u679c\u53ef\u4ee5\u901a\u904e loadgraph.png \u6aa2\u8996\u3002 \u53ef\u4ee5\u7522\u751f\u4e0d\u540c\u7684\u5716\u8868\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u57f7\u884c\uff1a ~/klipper/scripts/graphstats.py --help \u5f9eklippy.log\u6a94\u6848\u4e2d\u63d0\u53d6\u8cc7\u8a0a \u00b6 Klippy\u7684\u65e5\u8a8c\u6a94\u6848\uff08/tmp/klippy.log\uff09\u4e5f\u5305\u542b\u9664\u932f\u8cc7\u8a0a\u3002\u6709\u4e00\u500blogextract.py\u6307\u4ee4\u78bc\uff0c\u5728\u5206\u6790\u5fae\u63a7\u5236\u5668\u505c\u6a5f\u6216\u985e\u4f3c\u554f\u984c\u6642\u53ef\u80fd\u5f88\u6709\u7528\u3002\u5b83\u901a\u5e38\u662f\u9019\u6a23\u57f7\u884c\u7684\uff1a mkdir work_directory cd work_directory cp /tmp/klippy.log . ~/klipper/scripts/logextract.py ./klippy.log \u8a72\u8173\u672c\u5c07\u63d0\u53d6\u6253\u5370\u6a5f\u914d\u7f6e\u6587\u4ef6\u4e26\u5c07\u63d0\u53d6 MCU \u95dc\u6a5f\u4fe1\u606f\u3002\u4f86\u81ea MCU \u95dc\u9589\uff08\u5982\u679c\u5b58\u5728\uff09\u7684\u4fe1\u606f\u8f49\u5132\u5c07\u6309\u6642\u9593\u6233\u91cd\u65b0\u6392\u5e8f\uff0c\u4ee5\u5e6b\u52a9\u8a3a\u65b7\u56e0\u679c\u5834\u666f\u3002 \u7528 simulavr \u6e2c\u8a66 \u00b6 simulavr \u5de5\u5177\u4f7f\u4eba\u5011\u53ef\u4ee5\u6a21\u64ecAtmel ATmega\u5fae\u63a7\u5236\u5668\u3002\u672c\u7bc0\u63cf\u8ff0\u77ad\u5982\u4f55\u901a\u904esimulavr\u57f7\u884c\u6e2c\u8a66gcode\u6a94\u6848\u3002\u5efa\u8b70\u5728\u81fa\u5f0f\u6a5f\uff08\u800c\u4e0d\u662fRaspberry Pi\uff09\u4e0a\u57f7\u884c\u9019\u500b\u5de5\u5177\uff0c\u56e0\u70ba\u5b83\u9700\u8981\u5927\u91cf\u7684cpu\u4f86\u6709\u6548\u57f7\u884c\u3002 \u8981\u4f7f\u7528 simulavr\uff0c\u8acb\u4e0b\u8f09 simulavr \u5305\u4e26\u4f7f\u7528 python \u652f\u6301\u9032\u884c\u7de8\u8b6f\u3002\u8acb\u6ce8\u610f\uff0c\u69cb\u5efa\u7cfb\u7d71\u53ef\u80fd\u9700\u8981\u5b89\u88dd\u4e00\u4e9b\u5305\uff08\u4f8b\u5982 swig\uff09\u624d\u80fd\u69cb\u5efa python \u6a21\u584a\u3002 git clone git://git.savannah.nongnu.org/simulavr.git cd simulavr make python make build \u78ba\u4fdd\u5728\u4e0a\u8ff0\u7de8\u8b6f\u5f8c\u5b58\u5728 ./build/pysimulavr/_pysimulavr.*.so \u4e4b\u985e\u7684\u6587\u4ef6\uff1a ls ./build/pysimulavr/_pysimulavr.*.so \u6b64\u547d\u4ee4\u61c9\u5831\u544a\u7279\u5b9a\u6587\u4ef6\uff08\u4f8b\u5982 ./build/pysimulavr/_pysimulavr.cpython-39-x86_64-linux-gnu.so \uff09\u800c\u4e0d\u662f\u932f\u8aa4\u3002 \u5982\u679c\u60a8\u5728\u57fa\u65bc Debian \u7684\u7cfb\u7d71\uff08Debian\u3001Ubuntu \u7b49\uff09\u4e0a\uff0c\u60a8\u53ef\u4ee5\u5b89\u88dd\u4ee5\u4e0b\u8edf\u4ef6\u5305\u4e26\u751f\u6210 *.deb \u6587\u4ef6\u4ee5\u5728\u7cfb\u7d71\u7bc4\u570d\u5167\u5b89\u88dd simulavr\uff1a sudo apt update sudo apt install g++ make cmake swig rst2pdf help2man texinfo make cfgclean python debian sudo dpkg -i build/debian/python3-simulavr*.deb \u8981\u7de8\u8b6fKlipper\u4ee5\u4fbf\u5728simulavr\u4e2d\u4f7f\u7528\uff0c\u8acb\u57f7\u884c\uff1a cd /path/to/klipper make menuconfig and compile the micro-controller software for an AVR atmega644p and select SIMULAVR software emulation support. Then one can compile Klipper (run make ) and then start the simulation with: PYTHONPATH=/path/to/simulavr/build/pysimulavr/ ./scripts/avrsim.py out/klipper.elf \u6ce8\u610f\uff0c\u5982\u679c\u4f60\u5df2\u7d93\u5b89\u88dd\u4e86python3-simulavr system-wide\uff0c\u4f60\u4e0d\u9700\u8981\u8a2d\u7f6e PYTHONPATH \uff0c\u4e26\u4e14\u53ef\u4ee5\u7c21\u55ae\u5730\u904b\u884c\u6a21\u64ec\u5668 ./scripts/avrsim.py out/klipper.elf \u7136\u5f8c\uff0c\u5728\u53e6\u4e00\u500b\u8996\u7a97\u4e2d\u57f7\u884csimulavr\uff0c\u53ef\u4ee5\u57f7\u884c\u4ee5\u4e0b\u5167\u5bb9\uff0c\u5f9e\u4e00\u500b\u6a94\u6848\uff08\u4f8b\u5982\uff0c\"test.gcode\"\uff09\u4e2d\u8b80\u53d6gcode\uff0c\u7528Klippy\u8655\u7406\u5b83\uff0c\u4e26\u5c07\u5176\u767c\u9001\u5230simulavr\u4e2d\u57f7\u884c\u7684Klipper\uff08\u95dc\u65bc\u5efa\u7acbpython\u865b\u64ec\u74b0\u5883\u7684\u5fc5\u8981\u6b65\u9a5f\uff0c\u898b \u5b89\u88dd \uff09: ~/klippy-env/bin/python ./klippy/klippy.py config/generic-simulavr.cfg -i test.gcode -v \u5728gtkwave\u4e2d\u4f7f\u7528simulavr \u00b6 simulavr\u7684\u4e00\u500b\u6709\u7528\u7684\u529f\u80fd\u662f\u5b83\u80fd\u5920\u5efa\u7acb\u5177\u6709\u6e96\u78ba\u4e8b\u4ef6\u6642\u9593\u7684\u8a0a\u865f\u6ce2\u7522\u751f\u6a94\u6848\u3002\u8981\u505a\u5230\u9019\u4e00\u9ede\uff0c\u8acb\u6309\u7167\u4e0a\u9762\u7684\u6307\u793a\uff0c\u5728\u547d\u4ee4\u5217\u57f7\u884cavrsim.py\u8acb\u4f7f\u7528\uff1a PYTHONPATH=/path/to/simulavr/src/python/ ./scripts/avrsim.py out/klipper.elf -t PORTA.PORT,PORTC.PORT \u4ee5\u4e0a\u5c07\u5efa\u7acb\u4e00\u500b\u6a94\u6848 avrsim.vcd \uff0c\u5176\u4e2d\u5305\u62ecPORTA\u548cPORTB\u4e0a\u7684GPIO\u7684\u6bcf\u500b\u8b8a\u5316\u8cc7\u8a0a\u3002\u7136\u5f8c\u53ef\u4ee5\u7528gtkwave\u4f86\u6aa2\u8996\uff1a gtkwave avrsim.vcd","title":"\u9664\u932f"},{"location":"Debugging.html#_1","text":"\u672c\u6587\u4ef6\u63cf\u8ff0\u4e86\u4e00\u4e9b Klipper \u9664\u932f\u5de5\u5177\u3002","title":"\u9664\u932f"},{"location":"Debugging.html#regression","text":"\u4e3b\u8981\u7684 Klipper GitHub \u5b58\u5132\u5eab\u4f7f\u7528\"github actions\"\u4f86\u904b\u884c\u4e00\u7cfb\u5217\u56de\u6b78\u6e2c\u8a66\u3002\u5728\u672c\u5730\u904b\u884c\u5176\u4e2d\u4e00\u4e9b\u6e2c\u8a66\u53ef\u80fd\u5f88\u6709\u7528\u3002 \u6e90\u4ee3\u78bc\"whitespace check\"\u53ef\u4ee5\u904b\u884c\uff1a ./scripts/check_whitespace.sh Klippy regression\u6e2c\u8a66\u5957\u4ef6\u9700\u8981\u4f86\u81ea\u8a31\u591a\u5e73\u53f0\u7684\"data dictionaries\"\u3002\u7372\u53d6\u5b83\u5011\u7684\u6700\u7c21\u55ae\u65b9\u6cd5\u662f \u5f9e github \u4e0b\u8f09\u5b83\u5011 \u3002\u4e0b\u8f09\"data dictionaries\"\u5f8c\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u904b\u884cregression\u5957\u4ef6\uff1a tar xfz klipper-dict-20??????.tar.gz ~/klippy-env/bin/python ~/klipper/scripts/test_klippy.py -d dict/ ~/klipper/test/klippy/*.test","title":"\u57f7\u884c regression \u6e2c\u8a66"},{"location":"Debugging.html#_2","text":"\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u4e3b\u6a5fklippy.py\u7a0b\u5e8f\u6703\u88ab\u7528\u4f86\u5c07gcode\u547d\u4ee4\u7ffb\u8b6f\u6210Klipper\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u7136\u800c\uff0c\u4e5f\u53ef\u4ee5\u624b\u52d5\u767c\u9001\u9019\u4e9bMCU\u547d\u4ee4\uff08Klipper\u539f\u59cb\u78bc\u4e2d\u6a19\u6709DECL_COMMAND()\u5b8f\u7684\u51fd\u5f0f\uff09\u3002\u8981\u505a\u5230\u9019\u4e00\u9ede\uff0c\u8acb\u57f7\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py /tmp/pseudoserial \u8acb\u53c3\u95b1\u8a72\u5de5\u5177\u4e2d\u7684\"HELP\"\u547d\u4ee4\uff0c\u4ee5\u7372\u5f97\u6709\u95dc\u5176\u529f\u80fd\u7684\u66f4\u591a\u8cc7\u8a0a\u3002 \u4e00\u4e9b\u547d\u4ee4\u5217\u9078\u9805\u662f\u53ef\u7528\u7684\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u57f7\u884c\uff1a ~/klippy-env/bin/python ./klippy/console.py --help","title":"\u624b\u52d5\u5411\u5fae\u63a7\u5236\u5668\u767c\u9001\u547d\u4ee4"},{"location":"Debugging.html#g-code","text":"Klippy \u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u5728\u6279\u8655\u7406\u6a21\u5f0f\u4e0b\u57f7\u884c\u4e26\u7522\u751fG\u7a0b\u5f0f\u78bc\u6a94\u6848\u76f8\u61c9\u7684\u4f4e\u968e\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u3002\u9019\u4e9b\u4f4e\u968e\u547d\u4ee4\u53ef\u4ee5\u5e6b\u52a9\u77ad\u89e3\u4f4e\u968e\u786c\u9ad4\u7684\u64cd\u4f5c\u548c\u5728\u4fee\u6539\u7a0b\u5f0f\u78bc\u540e\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u7684\u5dee\u7570\u3002 \u8981\u5728\u6279\u8655\u7406\u6a21\u5f0f\u4e0b\u57f7\u884c Klippy\uff0c\u9700\u8981\u9996\u5148\u7522\u751f\u5fae\u63a7\u5236\u5668\u7684\"\u6578\u64da\u5b57\u5178\"\u3002\u901a\u904e\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4f86\u7372\u5f97 out/klipper.dict \u6a94\u6848\uff1a make menuconfig make \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c\u53ef\u4ee5\u5728\u6279\u8655\u7406\u6a21\u5f0f\u4e0b\u57f7\u884c Klipper\uff08\u8acb\u53c3\u95b1 \u5b89\u88dd \u4ee5\u77ad\u89e3\u69cb\u5efa Python \u865b\u64ec\u74b0\u5883(venv)\u548c printer.cfg \u6a94\u6848\u6240\u9700\u7684\u6b65\u9a5f\uff09\uff1a ~/klippy-env/bin/python ./klippy/klippy.py ~/printer.cfg -i test.gcode -o test.serial -v -d out/klipper.dict \u4ee5\u4e0a\u547d\u4ee4\u5c07\u7522\u751f\u4e00\u500b\u5305\u542b\u4e8c\u9032\u5236\u5e8f\u5217\u8f38\u51fa\u7684 test.serial \u6a94\u6848\u3002\u8a72\u6a94\u6848\u53ef\u4ee5\u7528\u4ee5\u4e0b\u65b9\u6cd5\u7ffb\u8b6f\u6210\u53ef\u8b80\u6587\u5b57\uff1a ~/klippy-env/bin/python ./klippy/parsedump.py out/klipper.dict test.serial > test.txt \u7522\u751f\u7684\u6a94\u6848 test.txt \u5305\u542b\u53ef\u8b80\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u5217\u8868\u3002 \u7232\u4e86\u4f7f\u6279\u8655\u7406\u6a21\u5f0f\u6b63\u5e38\u57f7\u884c\uff0c\u4e00\u4e9b\u97ff\u61c9\u548c\u8acb\u6c42\u547d\u4ee4\u88ab\u7981\u7528\u4e86\u3002\u56e0\u6b64\uff0c\u5be6\u969b\u547d\u4ee4\u548c\u4e0a\u8ff0\u8f38\u51fa\u4e4b\u9593\u6703\u6709\u4e00\u4e9b\u5dee\u7570\u3002\u7522\u751f\u7684\u6578\u64da\u53ef\u4ee5\u7528\u65bc\u6e2c\u8a66\u548c\u6aa2\u67e5\uff0c\u4f46\u662f\u5b83\u4e0d\u80fd\u88ab\u9aee\u9001\u5230\u771f\u6b63\u7684\u5fae\u63a7\u5236\u5668\u3002","title":"\u5c07G-Code\u6a94\u6848\u8f49\u63db\u70ba\u5fae\u63a7\u5236\u5668\u547d\u4ee4"},{"location":"Debugging.html#_3","text":"Klipper \u652f\u6301\u8a18\u9304\u5176\u5167\u90e8\u904b\u52d5\u6b77\u53f2\uff0c\u4ee5\u5f8c\u53ef\u4ee5\u5c0d\u5176\u9032\u884c\u5206\u6790\u3002\u8981\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u5fc5\u9808\u5728\u555f\u7528 API \u670d\u52d9\u5668 \u7684\u60c5\u6cc1\u4e0b\u555f\u52d5 Klipper\u3002 \u4f7f\u7528 data_logger.py \u5de5\u5177\u555f\u7528\u6578\u64da\u8a18\u9304\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/motan/data_logger.py /tmp/klippy_uds mylog \u6b64\u547d\u4ee4\u5c07\u9023\u63a5\u5230 Klipper API \u670d\u52d9\u5668\uff0c\u8a02\u95b1\u72c0\u614b\u548c\u904b\u52d5\u4fe1\u606f\uff0c\u4e26\u8a18\u9304\u7d50\u679c\u3002\u751f\u6210\u5169\u500b\u6587\u4ef6 - \u4e00\u500b\u58d3\u7e2e\u6578\u64da\u6587\u4ef6\u548c\u4e00\u500b\u7d22\u5f15\u6587\u4ef6\uff08\u4f8b\u5982\uff0c mylog.json.gz \u548c mylog.index.gz \uff09\u3002\u958b\u59cb\u8a18\u9304\u5f8c\uff0c\u53ef\u4ee5\u5b8c\u6210\u6253\u5370\u548c\u5176\u4ed6\u64cd\u4f5c - \u8a18\u9304\u5c07\u5728\u5f8c\u53f0\u7e7c\u7e8c\u3002\u5b8c\u6210\u8a18\u9304\u5f8c\uff0c\u9ede\u64ca\u201cctrl-c\u201d\u9000\u51fa\u201cdata_logger.py\u201d\u5de5\u5177\u3002 \u53ef\u4ee5\u4f7f\u7528 motan_graph.py \u5de5\u5177\u8b80\u53d6\u751f\u6210\u7684\u6587\u4ef6\u4e26\u7e6a\u88fd\u5716\u5f62\u3002\u8981\u5728 Raspberry Pi \u4e0a\u751f\u6210\u5716\u5f62\uff0c\u9700\u8981\u4e00\u6b65\u5b89\u88dd\u201cmatplotlib\u201d\u5305\uff1a sudo apt-get update sudo apt-get install python-matplotlib \u4f46\u662f\uff0c\u5c07\u6578\u64da\u6587\u4ef6\u8207 scripts/motan/ \u76ee\u9304\u4e2d\u7684 Python \u4ee3\u78bc\u4e00\u8d77\u5fa9\u88fd\u5230\u684c\u9eb5\u985e\u6a5f\u5668\u53ef\u80fd\u66f4\u65b9\u4fbf\u3002\u904b\u52d5\u5206\u6790\u8173\u672c\u61c9\u8a72\u5728\u4efb\u4f55\u5b89\u88dd\u4e86\u6700\u65b0\u7248\u672c\u7684 Python \u548c Matplotlib \u7684\u6a5f\u5668\u4e0a\u904b\u884c\u3002 \u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u751f\u6210\u5716\u5f62\uff1a ~/klipper/scripts/motan/motan_graph.py mylog -o mygraph.png \u53ef\u4ee5\u4f7f\u7528 -g \u9078\u9805\u4f86\u6307\u5b9a\u8981\u7e6a\u88fd\u7684\u6578\u64da\u96c6\uff08\u5b83\u9700\u8981\u4e00\u500b\u5305\u542b\u5217\u8868\u5217\u8868\u7684 Python \u6587\u5b57\uff09\u3002\u4f8b\u5982\uff1a ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)\"], [\"trapq(toolhead,accel)\"]]' \u53ef\u4ee5\u4f7f\u7528 -l \u9078\u9805\u627e\u5230\u53ef\u7528\u6578\u64da\u96c6\u7684\u5217\u8868 - \u4f8b\u5982\uff1a ~/klipper/scripts/motan/motan_graph.py -l \u4e5f\u53ef\u4ee5\u70ba\u6bcf\u500b\u6578\u64da\u96c6\u6307\u5b9a matplotlib \u7e6a\u5716\u9078\u9805\uff1a ~/klipper/scripts/motan/motan_graph.py mylog -g '[[\"trapq(toolhead,velocity)?color=red&alpha=0.4\"]]' \u8a31\u591a matplotlib \u9078\u9805\u53ef\u7528\uff1b\u4e00\u4e9b\u4f8b\u5b50\u662f\"color\", \"label\", \"alpha\", and \"linestyle\"\u3002 motan_graph.py \u5de5\u5177\u652f\u6301\u5176\u4ed6\u5e7e\u500b\u547d\u4ee4\u884c\u9078\u9805 - \u4f7f\u7528 --help \u9078\u9805\u67e5\u770b\u5217\u8868\u3002\u67e5\u770b/\u4fee\u6539 motan_graph.py \u8173\u672c\u672c\u8eab\u4e5f\u53ef\u80fd\u5f88\u65b9\u4fbf\u3002 data_logger.py \u5de5\u4ff1\u751f\u6210\u7684\u539f\u59cb\u6578\u64da\u65e5\u8a8c\u9075\u5faa API \u670d\u52d9\u5668 \u4e2d\u63cf\u8ff0\u7684\u683c\u5f0f\u3002\u4f7f\u7528 Unix \u547d\u4ee4\u6aa2\u67e5\u6578\u64da\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u5982\u4e0b\u6240\u793a\uff1a gunzip < mylog.json.gz | tr '\\03' '\\n' | less","title":"\u52d5\u4f5c\u5206\u6790\u548c\u6578\u64da\u8a18\u9304"},{"location":"Debugging.html#_4","text":"Klippy\u65e5\u8a8c\u6a94\u6848\uff08/tmp/klippy.log\uff09\u5132\u5b58\u4e86\u95dc\u65bc\u983b\u5bec\u3001\u5fae\u63a7\u5236\u5668\u8ca0\u8f09\u548c\u4e3b\u6a5f\u7de9\u885d\u5340\u8ca0\u8f09\u7684\u7d71\u8a08\u6578\u64da\u3002\u5728\u5217\u5370\u4e4b\u5f8c\uff0c\u7e6a\u88fd\u9019\u4e9b\u7d71\u8a08\u6578\u5b57\u53ef\u80fd\u6703\u5f88\u6709\u7528\u3002 \u7232\u4e86\u7522\u751f\u5716\u5f62\uff0c\u6709\u5fc5\u8981\u5b89\u88dd\"matplotlib\"\u5305\uff1a sudo apt-get update sudo apt-get install python-matplotlib \u7136\u5f8c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u7522\u751f\u5716\u5f62\uff1a ~/klipper/scripts/graphstats.py /tmp/klippy.log -o loadgraph.png \u7136\u5f8c\u7d50\u679c\u53ef\u4ee5\u901a\u904e loadgraph.png \u6aa2\u8996\u3002 \u53ef\u4ee5\u7522\u751f\u4e0d\u540c\u7684\u5716\u8868\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u57f7\u884c\uff1a ~/klipper/scripts/graphstats.py --help","title":"\u7522\u751f\u8ca0\u8f09\u5716"},{"location":"Debugging.html#klippylog","text":"Klippy\u7684\u65e5\u8a8c\u6a94\u6848\uff08/tmp/klippy.log\uff09\u4e5f\u5305\u542b\u9664\u932f\u8cc7\u8a0a\u3002\u6709\u4e00\u500blogextract.py\u6307\u4ee4\u78bc\uff0c\u5728\u5206\u6790\u5fae\u63a7\u5236\u5668\u505c\u6a5f\u6216\u985e\u4f3c\u554f\u984c\u6642\u53ef\u80fd\u5f88\u6709\u7528\u3002\u5b83\u901a\u5e38\u662f\u9019\u6a23\u57f7\u884c\u7684\uff1a mkdir work_directory cd work_directory cp /tmp/klippy.log . ~/klipper/scripts/logextract.py ./klippy.log \u8a72\u8173\u672c\u5c07\u63d0\u53d6\u6253\u5370\u6a5f\u914d\u7f6e\u6587\u4ef6\u4e26\u5c07\u63d0\u53d6 MCU \u95dc\u6a5f\u4fe1\u606f\u3002\u4f86\u81ea MCU \u95dc\u9589\uff08\u5982\u679c\u5b58\u5728\uff09\u7684\u4fe1\u606f\u8f49\u5132\u5c07\u6309\u6642\u9593\u6233\u91cd\u65b0\u6392\u5e8f\uff0c\u4ee5\u5e6b\u52a9\u8a3a\u65b7\u56e0\u679c\u5834\u666f\u3002","title":"\u5f9eklippy.log\u6a94\u6848\u4e2d\u63d0\u53d6\u8cc7\u8a0a"},{"location":"Debugging.html#simulavr","text":"simulavr \u5de5\u5177\u4f7f\u4eba\u5011\u53ef\u4ee5\u6a21\u64ecAtmel ATmega\u5fae\u63a7\u5236\u5668\u3002\u672c\u7bc0\u63cf\u8ff0\u77ad\u5982\u4f55\u901a\u904esimulavr\u57f7\u884c\u6e2c\u8a66gcode\u6a94\u6848\u3002\u5efa\u8b70\u5728\u81fa\u5f0f\u6a5f\uff08\u800c\u4e0d\u662fRaspberry Pi\uff09\u4e0a\u57f7\u884c\u9019\u500b\u5de5\u5177\uff0c\u56e0\u70ba\u5b83\u9700\u8981\u5927\u91cf\u7684cpu\u4f86\u6709\u6548\u57f7\u884c\u3002 \u8981\u4f7f\u7528 simulavr\uff0c\u8acb\u4e0b\u8f09 simulavr \u5305\u4e26\u4f7f\u7528 python \u652f\u6301\u9032\u884c\u7de8\u8b6f\u3002\u8acb\u6ce8\u610f\uff0c\u69cb\u5efa\u7cfb\u7d71\u53ef\u80fd\u9700\u8981\u5b89\u88dd\u4e00\u4e9b\u5305\uff08\u4f8b\u5982 swig\uff09\u624d\u80fd\u69cb\u5efa python \u6a21\u584a\u3002 git clone git://git.savannah.nongnu.org/simulavr.git cd simulavr make python make build \u78ba\u4fdd\u5728\u4e0a\u8ff0\u7de8\u8b6f\u5f8c\u5b58\u5728 ./build/pysimulavr/_pysimulavr.*.so \u4e4b\u985e\u7684\u6587\u4ef6\uff1a ls ./build/pysimulavr/_pysimulavr.*.so \u6b64\u547d\u4ee4\u61c9\u5831\u544a\u7279\u5b9a\u6587\u4ef6\uff08\u4f8b\u5982 ./build/pysimulavr/_pysimulavr.cpython-39-x86_64-linux-gnu.so \uff09\u800c\u4e0d\u662f\u932f\u8aa4\u3002 \u5982\u679c\u60a8\u5728\u57fa\u65bc Debian \u7684\u7cfb\u7d71\uff08Debian\u3001Ubuntu \u7b49\uff09\u4e0a\uff0c\u60a8\u53ef\u4ee5\u5b89\u88dd\u4ee5\u4e0b\u8edf\u4ef6\u5305\u4e26\u751f\u6210 *.deb \u6587\u4ef6\u4ee5\u5728\u7cfb\u7d71\u7bc4\u570d\u5167\u5b89\u88dd simulavr\uff1a sudo apt update sudo apt install g++ make cmake swig rst2pdf help2man texinfo make cfgclean python debian sudo dpkg -i build/debian/python3-simulavr*.deb \u8981\u7de8\u8b6fKlipper\u4ee5\u4fbf\u5728simulavr\u4e2d\u4f7f\u7528\uff0c\u8acb\u57f7\u884c\uff1a cd /path/to/klipper make menuconfig and compile the micro-controller software for an AVR atmega644p and select SIMULAVR software emulation support. Then one can compile Klipper (run make ) and then start the simulation with: PYTHONPATH=/path/to/simulavr/build/pysimulavr/ ./scripts/avrsim.py out/klipper.elf \u6ce8\u610f\uff0c\u5982\u679c\u4f60\u5df2\u7d93\u5b89\u88dd\u4e86python3-simulavr system-wide\uff0c\u4f60\u4e0d\u9700\u8981\u8a2d\u7f6e PYTHONPATH \uff0c\u4e26\u4e14\u53ef\u4ee5\u7c21\u55ae\u5730\u904b\u884c\u6a21\u64ec\u5668 ./scripts/avrsim.py out/klipper.elf \u7136\u5f8c\uff0c\u5728\u53e6\u4e00\u500b\u8996\u7a97\u4e2d\u57f7\u884csimulavr\uff0c\u53ef\u4ee5\u57f7\u884c\u4ee5\u4e0b\u5167\u5bb9\uff0c\u5f9e\u4e00\u500b\u6a94\u6848\uff08\u4f8b\u5982\uff0c\"test.gcode\"\uff09\u4e2d\u8b80\u53d6gcode\uff0c\u7528Klippy\u8655\u7406\u5b83\uff0c\u4e26\u5c07\u5176\u767c\u9001\u5230simulavr\u4e2d\u57f7\u884c\u7684Klipper\uff08\u95dc\u65bc\u5efa\u7acbpython\u865b\u64ec\u74b0\u5883\u7684\u5fc5\u8981\u6b65\u9a5f\uff0c\u898b \u5b89\u88dd \uff09: ~/klippy-env/bin/python ./klippy/klippy.py config/generic-simulavr.cfg -i test.gcode -v","title":"\u7528 simulavr \u6e2c\u8a66"},{"location":"Debugging.html#gtkwavesimulavr","text":"simulavr\u7684\u4e00\u500b\u6709\u7528\u7684\u529f\u80fd\u662f\u5b83\u80fd\u5920\u5efa\u7acb\u5177\u6709\u6e96\u78ba\u4e8b\u4ef6\u6642\u9593\u7684\u8a0a\u865f\u6ce2\u7522\u751f\u6a94\u6848\u3002\u8981\u505a\u5230\u9019\u4e00\u9ede\uff0c\u8acb\u6309\u7167\u4e0a\u9762\u7684\u6307\u793a\uff0c\u5728\u547d\u4ee4\u5217\u57f7\u884cavrsim.py\u8acb\u4f7f\u7528\uff1a PYTHONPATH=/path/to/simulavr/src/python/ ./scripts/avrsim.py out/klipper.elf -t PORTA.PORT,PORTC.PORT \u4ee5\u4e0a\u5c07\u5efa\u7acb\u4e00\u500b\u6a94\u6848 avrsim.vcd \uff0c\u5176\u4e2d\u5305\u62ecPORTA\u548cPORTB\u4e0a\u7684GPIO\u7684\u6bcf\u500b\u8b8a\u5316\u8cc7\u8a0a\u3002\u7136\u5f8c\u53ef\u4ee5\u7528gtkwave\u4f86\u6aa2\u8996\uff1a gtkwave avrsim.vcd","title":"\u5728gtkwave\u4e2d\u4f7f\u7528simulavr"},{"location":"Delta_Calibrate.html","text":"\u4e09\u89d2\u6821\u6b63 \u00b6 \u672c\u6587\u5c07\u4ecb\u7d39\u5728Klipper\u4e2d\u5c0d\u300c\u4e09\u89d2\u6d32\u300d\u904b\u52d5\u6a21\u5f0f\u7684\u5370\u8868\u6a5f\u9032\u884c\u81ea\u52d5\u6821\u6e96\u7684\u64cd\u4f5c\u3002 \u4e09\u89d2\u6d32\u6821\u6e96\u5305\u542b\u78ba\u5b9a\u67f1\u9650\u4f4d\u958b\u95dc\u4f4d\u7f6e\uff08tower endstop positions\uff09\uff0c\u67f1\u593e\u89d2\uff08 tower angles\uff09\uff0c\u4e09\u89d2\u534a\u5f91\uff08delta radius\uff09\u548c\u61f8\u81c2\u9577\u5ea6\u56db\u500b\u53c3\u6578\uff08delta arm lengths\uff09\u3002\u4e0a\u8ff0\u53c3\u6578\u5c07\u7528\u65bc\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u904b\u52d5\u63a7\u5236\u3002\u7136\u800c\uff0c\u7531\u65bc\u6bcf\u500b\u7684\u5f71\u97ff\u4e26\u975e\u986f\u800c\u6613\u898b\u6216\u5176\u5f71\u97ff\u5177\u6709\u975e\u7dda\u6027\uff0c\u56e0\u6b64\u96e3\u4ee5\u901a\u904e\u624b\u5de5\u6821\u6b63\u3002\u76f8\u5c0d\u800c\u8a00\uff0c\u8edf\u9ad4\u6821\u6b63\u5728\u6578\u5206\u9418\u7684\u6642\u9593\u540e\u5c31\u53ef\u4ee5\u9054\u5230\u6975\u4f73\u7684\u6548\u679c\u3002\u81ea\u52d5\u6821\u6b63\u7121\u9700\u589e\u52a0\u63a2\u91dd\u3002 \u6b78\u6839\u5230\u5e95\uff0c\u4e09\u89d2\u6d32\u6821\u6e96\u4f9d\u8cf4\u65bc\u5404\u67f1\u7684\u9650\u4f4d\u958b\u95dc\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\uff0c\u5247\u53ef\u8003\u616e\u4f7f\u7528 \u7121\u9650\u4f4d\u529f\u80fd \u4ee5\u63d0\u9ad8\u6aa2\u6e2c\u7684\u6e96\u78ba\u5ea6\u3002 \u81ea\u52d5\u6821\u6e96 vs \u624b\u52d5\u6821\u6e96 \u00b6 Klipper\u652f\u63f4\u4f7f\u7528\u624b\u52d5\u63a2\u9ad8\u6216\u81ea\u52d5z\u63a2\u91dd\u7684\u65b9\u6cd5\u9032\u884c\u4e09\u89d2\u6d32\u53c3\u6578\u6821\u6e96\u3002 \u5e02\u9762\u4e0a\u773e\u591a\u7684\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u9644\u5e36\u4e86\u81ea\u52d5Z\u63a2\u91dd\uff0c\u4f46\u9019\u4e9b\u63a2\u91dd\u7684\u7cbe\u5ea6\u4e0d\u8db3\u3002\u7279\u5225\u5c0d\u65bc\u4e09\u89d2\u6d32\uff0c\u81c2\u9577\u7684\u7d30\u5fae\u5dee\u7570\u6703\u5c0e\u81f4\u6548\u61c9\u5668\u50be\u659c\uff0c\u5c0e\u81f4\u5217\u5370\u6548\u679c\u4e00\u584c\u7cca\u5857\u3002\u5982\u679c\u4f7f\u7528\u81ea\u52d5\u63a2\u91dd\uff0c\u5247\u5148\u9032\u884c \u63a2\u91dd\u6821\u6e96 \uff0c\u7136\u5f8c\u6aa2\u67e5 \u63a2\u91dd\u4f4d\u7f6e\u6f02\u79fb \u3002\u5982\u679c\u63a2\u91dd\u7684\u504f\u5dee\u5927\u65bc25\u5fae\u7c73\uff080.025mm\uff09\uff0c\u5247\u61c9\u4f7f\u7528\u624b\u52d5\u63a2\u9ad8\u3002\u624b\u52d5\u63a2\u9ad8\u53ea\u9700\u8981\u6578\u5206\u9418\u7684\u6642\u9593\uff0c\u4e26\u80fd\u6452\u68c4\u63a2\u91dd\u5e36\u4f86\u7684\u8aa4\u5dee\u3002 \u5982\u679c\u4f7f\u7528\u7684\u63a2\u91dd\u662f\u5b89\u88dd\u5728\u5674\u5634\u7684\u4e00\u5074\uff08\u5373\uff0c\u63a2\u91dd\u5c0d\u5674\u5634\u5b58\u5728xy\u504f\u79fb\uff09\uff0c\u9700\u6ce8\u610f\u5728\u9032\u884c\u904e\u4e09\u89d2\u6d32\u6821\u6e96\u4e4b\u5f8c\u6703\u4f7f\u63a2\u91dd\u6821\u6e96\u7684\u7d50\u679c\u7121\u6548\u3002\u8a72\u578b\u5225\u7684\u63a2\u91dd\u4e26\u4e0d\u9069\u7528\u65bc\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\uff08\u56e0\u70ba\u6548\u61c9\u5668\u50be\u659c\u6703\u5dee\u751f\u63a2\u91dd\u4f4d\u7f6e\u6f02\u79fb\uff09\u3002\u5982\u679c\u4ecd\u4f7f\u7528\u4e0a\u8ff0\u7684\u63a2\u91dd\uff0c\u5247\u9700\u5728\u4e09\u89d2\u6d32\u6821\u6e96\u6821\u6e96\u540e\u518d\u9032\u884c\u4e00\u6b21\u63a2\u91dd\u6821\u6e96\u3002 \u7c21\u55ae\u4e09\u89d2\u6d32\u6821\u6e96 \u00b6 \u901a\u904eDELTA_CALIBRATE \u547d\u4ee4\u53ef\u4ee5\u5728Klipper\u4e2d\u9032\u884c\u7c21\u55ae\u4e09\u89d2\u6d32\u6821\u6e96\u3002\u8a72\u547d\u4ee4\u6703\u5c0d\u71b1\u5e8a\u4e0a\u76847\u500b\u4e0d\u540c\u7684\u4f4d\u7f6e\u9032\u884c\u63a2\u9ad8\uff0c\u4e26\u8a08\u7b97\u9664\u67f1\u593e\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f91\u3002 \u8981\u9032\u884c\u6821\u6e96\uff0c\u9700\u8981\u5148\u63d0\u4f9b\u67f1\u593e\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f91\u7684\u521d\u59cb\u503c\uff0c\u9019\u4e9b\u503c\u61c9\u8207\u5be6\u969b\u503c\u53ea\u6709\u5e7e\u6beb\u7c73\u7684\u504f\u5dee\u3002\u5927\u591a\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u5957\u4ef6\u6703\u63d0\u4f9b\u9019\u4e9b\u503c\uff0c\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8f38\u5165\u9019\u4e9b\u503c\u4f5c\u70ba\u521d\u59cb\u914d\u7f6e\uff0c\u7136\u5f8c\u6309\u7167\u4e0b\u8ff0\u6b65\u9a5f\u57f7\u884cDELTA_CALIBRATE \u3002\u5982\u679c\u7121\u6cd5\u627e\u5230\u521d\u59cb\u503c\uff0c\u5247\u53ef\u4ee5\u901a\u904e\u641c\u7d22 \u4e09\u89d2\u6d32\u6821\u6e96 \u6559\u7a0b\uff0c\u4f5c\u70ba\u6e2c\u91cf\u7684\u4f9d\u64da\u3002 \u6821\u6e96\u671f\u9593\uff0c\u5370\u8868\u6a5f\u9700\u8981\u5c0d\u71b1\u5e8a\u5916\u7684\u5e95\u677f\u9032\u884c\u63a2\u9ad8\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u904e\u4fee\u6539\u8a2d\u5b9a\u4e2d\u7684 minimum_z_position=-5 \u4ee5\u5be6\u73fe\u5e8a\u5916\u63a2\u9ad8\u3002\uff08\u6821\u6e96\u540e\u53ef\u4ee5\u5728\u8a2d\u5b9a\u4e2d\u79fb\u9664\u8a72\u9805\u3002\uff09 \u63a2\u9ad8\u7684\u65b9\u5f0f\u6709\u5169\u7a2e\uff1a\u624b\u52d5\u63a2\u9ad8( DELTA_CALIBRATE METHOD=manual )\u548c\u81ea\u52d5\u63a2\u9ad8( DELTA_CALIBRATE )\u3002\u624b\u52d5\u63a2\u9ad8\u6a21\u5f0f\u4e0b\uff0c\u5217\u5370\u982d\u5c07\u6703\u79fb\u8fd1\u71b1\u5e8a\uff0c\u7136\u5f8c\u7b49\u5019\u4f7f\u7528\u8005\u4f7f\u7528 \"\u7d19\u6e2c\u6cd5\" \u6e2c\u91cf\u7279\u5b9a\u4f4d\u7f6e\u4e0a\u7684\u5674\u5634\u548c\u71b1\u5e8a\u7684\u4e4b\u9593\u7684\u504f\u5dee\u503c\u3002 \u9032\u884c\u7c21\u55ae\u6821\u6e96\uff0c\u8acb\u78ba\u4fdd\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u4e86[delta_calibrate]\uff0c\u7136\u5f8c\u57f7\u884c\u5de5\u5177\uff1a G28 DELTA_CALIBRATE METHOD=manual \u5728\u6e2c\u91cf\u4e867\u500b\u9ede\uff0c\u4e26\u8a08\u7b97\u5f97\u51fa\u65b0\u4e09\u89d2\u6d32\u53c3\u6578\u540e\uff0c\u57f7\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u4f86\u5132\u5b58\u53c3\u6578\uff1a SAVE_CONFIG \u7c21\u55ae\u6821\u6e96\u7372\u5f97\u7684\u53c3\u6578\uff0c\u5176\u6e96\u78ba\u6027\u53ef\u4ee5\u6eff\u8db3\u65e5\u5e38\u5217\u5370\u7684\u9700\u6c42\u3002\u5c0d\u65bc\u65b0\u5370\u8868\u6a5f\uff0c\u53ef\u4ee5\u5617\u8a66\u5217\u5370\u5e7e\u500b\u7c21\u55ae\u6a21\u578b\uff0c\u78ba\u5b9a\u529f\u80fd\u6b63\u5e38\u3002 \u9032\u968e\u4e09\u89d2\u6d32\u6821\u6e96 \u00b6 \u7c21\u55ae\u4e09\u89d2\u6d32\u6821\u6e96\u7372\u5f97\u7684\u4e09\u89d2\u6d32\u53c3\u6578\u53ef\u4ee5\u5f88\u597d\u5730\u4fee\u6b63\u5674\u5634\u8ddd\u96e2\u4e4b\u985e\u554f\u984c\u3002\u7136\u800c\uff0c\u8a72\u6a21\u5f0f\u4e0d\u80fd\u6821\u6e96X\uff0cY\u8ef8\u4e0a\u7684\u6e96\u78ba\u5ea6\u3002\u800c\u9032\u968e\u4e09\u89d2\u6d32\u6821\u6e96\u5247\u662f\u91dd\u5c0d\u7dad\u5ea6\u6e96\u78ba\u6027\u5730\u554f\u984c\u3002 \u6821\u6e96\u6d41\u7a0b\u9700\u8981\u5217\u5370\u4e00\u500b\u6e2c\u8a66\u6a21\u578b\u4e26\u7528\u904a\u6a19\u5361\u5c3a\u6e2c\u91cf\u6a21\u578b\u7684\u5c3a\u5bf8\u3002 Prior to running an enhanced delta calibration one must run the basic delta calibration (via the DELTA_CALIBRATE command) and save the results (via the SAVE_CONFIG command). Make sure there hasn't been any notable change to the printer configuration nor hardware since last performing a basic delta calibration (if unsure, rerun the basic delta calibration , including SAVE_CONFIG, just prior to printing the test object described below.) \u7528\u5207\u7247\u5668\u5c0d docs/prints/calibrate_size.stl \u7684\u6a21\u578b\u9032\u884c\u5207\u7247\uff0c\u7522\u751fG-Code\u3002\u901f\u5ea6\u8a2d\u5b9a\u4f7f\u7528\u4f4e\u901f\uff08\u4f8b\u5982 40mm/s\uff09\u3002\u5982\u53ef\u80fd\u4f7f\u7528\u525b\u6027\u5851\u6599\uff08\u5982PLA\uff09\u3002\u6a21\u578b\u7684\u5916\u5f91\u70ba140mm\u3002\u5982\u679c\u5c3a\u5bf8\u592a\u5927\u5247\u6309\u7167\u71b1\u5e8a\u5927\u5c0f\u9032\u884c\u7e2e\u5c0f\uff08\u4f46\u61c9\u6ce8\u610fX\u548cY\u61c9\u6309\u6bd4\u4f8b\u9032\u884c\u7e2e\u653e\uff09\u3002\u5982\u679c\u5370\u8868\u6a5f\u7684\u71b1\u5e8a\u8db3\u5920\u5927\uff0c\u4e5f\u53ef\u4ee5\u653e\u5927\u8a72\u6a21\u578b\u3002\u5927\u5c3a\u5bf8\u53ef\u4ee5\u63d0\u9ad8\u6e2c\u91cf\u7684\u6e96\u78ba\u6027\uff0c\u4f46\u662f\u6a21\u578b\u7684\u5e8a\u9644\u8457\u5c0d\u6e2c\u91cf\u6e96\u78ba\u6027\u5f71\u97ff\u66f4\u5927\u3002 \u5217\u5370\u6e2c\u8a66\u6a21\u578b\u4e26\u7b49\u5f85\u5176\u5b8c\u5168\u51b7\u537b\u3002\u5370\u8868\u6a5f\u8a2d\u5b9a\u548c\u6821\u6e96\u6a21\u578b\u5fc5\u9808\u4e00\u4e00\u5c0d\u61c9\uff08\u5373\uff0c\u5728\u5217\u5370\u6821\u6e96\u6a21\u578b\u540e\uff0c\u4e0d\u8981\u518d\u9032\u884cDELTA_CALIBRATE\u6216\u4fee\u6539\u5370\u8868\u6a5f\u53c3\u6578\uff0c\u5426\u5247\u6a21\u578b\u6e2c\u91cf\u7121\u6548\uff09\uff0c\u518d\u57f7\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u3002 \u5982\u53ef\u80fd\uff0c\u5728\u6a21\u578b\u9ecf\u8457\u5728\u5e8a\u4e0a\u9032\u884c\u6e2c\u91cf\uff0c\u4f46\u82e5\u6a21\u578b\u812b\u96e2\u71b1\u5e8a\u4e5f\u6c92\u6709\u95dc\u4fc2\u2014\u2014\u9019\u6b65\u9a5f\u53ea\u662f\u7232\u4e86\u6e1b\u5c11\u6a21\u578b\u7684\u5f4e\u66f2\u3002 \u9996\u5148\u6e2c\u91cf\u4e2d\u5fc3\u67f1\u5230\u5370\u6709\u300cA\u300d\u6a19\u8a8c\u7684\u67f1\u7684\u8ddd\u96e2\uff08\u5373\u4e2d\u5fc3\u5230A\u67f1\u65b9\u5411\u7684\u8ddd\u96e2\uff09\u3002 \u4e4b\u5f8c\uff0c\u6309\u7167\u9006\u6642\u91dd\u65b9\u5411\u9010\u4e00\u6e2c\u91cf\u4e2d\u5fc3\u67f1\u5230\u908a\u6cbf\u67f1\u7684\u8ddd\u96e2\uff08\u4e2d\u5fc3\u5230C\u6a19\u7c64\u67f1\u7684\u8ddd\u96e2\uff0c\u4e2d\u5fc3\u5230B\u6a19\u7c64\u67f1\u7684\u8ddd\u96e2\u7b49\uff09\u3002 \u4ee5 \u9017\u865f\u5206\u9694\u7684\u6d6e\u9ede\u6578 \u7684\u5f62\u5f0f\u5c07\u6578\u64da\u8f38\u5165\u5230Klipper\uff1a DELTA_ANALYZE CENTER_DISTS=<a_dist>,<far_c_dist>,<b_dist>,<far_a_dist>,<c_dist>,<far_b_dist> \u6578\u64da\u4e4b\u9593\u4e0d\u8981\u63d2\u5165 \u7a7a\u683c \u3002 \u4e4b\u5f8c\u6e2c\u91cfA\u67f1\u548cC\u67f1\u4e4b\u9593\u7684\u8ddd\u96e2\u3002 \u4e4b\u5f8c\u6e2c\u91cfC\u67f1\u548cB\u67f1\uff0c\u4ee5\u53caB\u67f1\u548cA\u67f1\u4e4b\u9593\u7684\u8ddd\u96e2\u7b49\u3002 \u5c07\u53c3\u6578\u8f38\u5165\u5230Klipper\uff1a DELTA_ANALYZE OUTER_DISTS=<a_to_far_c>,<far_c_to_b>,<b_to_far_a>,<far_a_to_c>,<c_to_far_b>,<far_b_to_a> \u6b64\u6642\u53ef\u4ee5\u62c6\u9664\u5e8a\u4e0a\u7684\u6a21\u578b\u3002\u6700\u5f8c\u8981\u6e2c\u91cf\u7684\u662f\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6e2c\u91cf\u4e2d\u5fc3\u67f1\u5728A\u67f1\u65b9\u5411\u4e0a\uff0cB\u67f1\u65b9\u5411\u4e0a\u4ee5\u53caC\u67f1\u65b9\u5411\u4e0a\u7684\u5c3a\u5bf8\u3002 \u5c07\u7d50\u679c\u8f38\u5165Klipper\uff1a DELTA_ANALYZE CENTER_PILLAR_WIDTHS=<a>,<b>,<c> \u7136\u5f8c\u5074\u5411\u5916\u5074\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6e2c\u91cfA\u67f1\u671d\u5411C\u67f1\u5167\u5074\u7684\u9762\u4e4b\u9593\u7684\u5c3a\u5bf8\uff08\u898b\u4e0b\u5716\uff09\u3002 \u4e4b\u5f8c\u9006\u6642\u91dd\u9010\u4e00\u6e2c\u91cf\u5916\u5247\u67f1\u5b50\u7684\u5c3a\u5bf8\uff08\u6e2c\u91cfC\u67f1\u671d\u5411B\u67f1\u5167\u5074\u7684\u9762\u4e4b\u9593\u7684\u5c3a\u5bf8\uff0c\u6e2c\u91cfB\u67f1\u671d\u5411A\u67f1\u5167\u5074\u7684\u9762\u4e4b\u9593\u7684\u5c3a\u5bf8\u7b49\uff09\u3002 \u4e26\u5c07\u53c3\u6578\u8f38\u5165Klipper\uff1a DELTA_ANALYZE OUTER_PILLAR_WIDTHS=<a>,<far_c>,<b>,<far_a>,<c>,<far_b> \u5982\u679c\u6a21\u578b\u7d93\u904e\u4e86\u7e2e\u653e\uff0c\u5247\u8f38\u5165\u5207\u7247\u6642\u4f7f\u7528\u7684\u7e2e\u653e\u4fc2\u6578\uff1a DELTA_ANALYZE SCALE=1.0 \uff08\u8f38\u5165\u4fc2\u65782.0\u5247\u6a21\u578b\u88ab\u653e\u5927\u4e00\u500d\uff0c\u8f38\u5165\u4fc2\u65780.5\u5247\u6a21\u578b\u88ab\u7e2e\u5c0f\u81f3\u4e00\u534a\u3002\uff09 \u6700\u5f8c\u8f38\u5165\u4e0b\u5217\u9762\u547d\u4ee4\u9032\u884c\u4e09\u89d2\u6821\u6e96\uff1a DELTA_ANALYZE CALIBRATE=extended \u8a72\u547d\u4ee4\u5c07\u9032\u884c\u6578\u5206\u9418\u7684\u8a08\u7b97\u3002\u8a08\u7b97\u5c07\u7d66\u51fa\u4e09\u89d2\u6d32\u53c3\u6578\uff08\u4e09\u89d2\u534a\u5f91\uff0c\u67f1\u593e\u89d2\uff0c\u9650\u4f4d\u4f4d\u7f6e\uff0c\u81c2\u9577\uff09\u3002\u4e4b\u5f8c\u4f7f\u7528SAVE_CONFIG \u5132\u5b58\u4e26\u61c9\u7528\u7d50\u679c\uff1a SAVE_CONFIG SAVE_CONFIG \u6703\u5132\u5b58\u8a08\u7b97\u4e26\u66f4\u65b0\u540e\u7684\u4e09\u89d2\u53c3\u6578\u3002\u4e4b\u5f8c\u7684DELTA_CALIBRATE \u547d\u4ee4\u4e5f\u6703\u7d66\u4e88\u9032\u968e\u8a08\u7b97\u7684\u7d50\u679c\u3002\u8acb\u52ff\u5728SAVE_CONFIG \u91cd\u65b0\u8f38\u5165\u539f\u59cb\u6e2c\u91cf\u6578\u64da\uff0c\u56e0\u70ba\u6b64\u6642\u539f\u59cb\u6e2c\u91cf\u6578\u64da\u5df2\u4e0d\u6703\u61c9\u7528\u81f3\u4e09\u89d2\u53c3\u6578\u4e0a\u3002 \u984d\u5916\u8981\u9ede \u00b6 \u5982\u679c\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u5c3a\u5bf8\u76f8\u7576\u6e96\u78ba\uff0c\u5247\u5169\u67f1\u9593\u7684\u8ddd\u96e2\u61c9\u8a72\u572874mm\u9644\u8fd1\uff0c\u4e26\u5404\u500b\u67f1\u5b50\u7684\u5c3a\u5bf8\u61c9\u70ba9mm\uff08\u5373\u76ee\u6a19\u70ba\u67f1\u5b50\u9762\u5411\u53e6\u4e00\u67f1\u5b50\u7684\u4e00\u5074\u5230\u6240\u5411\u67f1\u5b50\u7684\u7d71\u4e00\u9762\u7684\u8ddd\u96e2\u70ba65mm\uff09\u3002\u5982\u679c\u5c3a\u5bf8\u4e0d\u6e96\u78ba\uff0c\u5247\u53ef\u4ee5\u901a\u904eDELTA_ANALYZE \uff0c\u57fa\u65bc\u4e4b\u524dDELTA_CALIBRATE \u7372\u5f97\u7684\u9ad8\u5ea6\u6e2c\u91cf\u6578\u64da\u548c\u8ddd\u96e2\u6e2c\u91cf\u6578\u64da\u7522\u751f\u65b0\u7684\u4e09\u89d2\u53c3\u6578\u3002 DELTA_ANALYZE \u7684\u7d50\u679c\u53ef\u80fd\u4e0d\u7b26\u5408\u908f\u8f2f\u3002\u6bd4\u5982\uff0c\u5b83\u8a08\u7b97\u51fa\u7684\u81c2\u9577\u53ef\u80fd\u4e8e\u5370\u8868\u6a5f\u7684\u5be6\u969b\u81c2\u9577\u4e0d\u7b26\u3002\u5118\u7ba1\u5982\u6b64\uff0c\u6e2c\u8a66\u7d50\u679c\u8868\u660e DELTA_ANALYZE \u7e3d\u80fd\u7d66\u51fa\u51fa\u8272\u7684\u5217\u5370\u7d50\u679c\u3002\u63a8\u6e2c\u9019\u662f\u56e0\u70ba\u8a08\u7b97\u4e09\u89d2\u53c3\u6578\u7684\u6642\u5019\u5c07\u5176\u4ed6\u672a\u77e5\u7684\u5f71\u97ff\u53c3\u6578\u4e5f\u7d0d\u5165\u5230\u8a08\u7b97\u8003\u616e\u3002\u4f8b\u5982\uff0c\u81c2\u9577\u7684\u7d30\u5fae\u5dee\u7570\u6703\u4f7f\u6548\u61c9\u5668\u50be\u659c\uff0c\u800c\u901a\u904e\u8abf\u7bc0\u81c2\u9577\u7684\u8a08\u7b97\u57fa\u6e96\u53ef\u4ee5\u88dc\u511f\u9019\u7a2e\u5dee\u7570\u3002 \u5728\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u4e0a\u4f7f\u7528\u5e8a\u7db2 \u00b6 \u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u4e0a\u4e5f\u80fd\u4f7f\u7528 \u5e8a\u7db2 \u3002\u4f46\u662f\u61c9\u5728\u958b\u555f\u5e8a\u7db2\u4e4b\u524d\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u4e09\u89d2\u6821\u6e96\u3002\u5728\u672a\u6821\u6e96\u7684\u5370\u8868\u6a5f\u4e0a\u4f7f\u7528\u5e8a\u7db2\u6703\u5f97\u51fa\u5947\u602a\u7684\u7d50\u679c\u3002 \u6ce8\u610f\u9032\u884c\u4e09\u89d2\u6821\u6b63\u6703\u4f7f\u4e4b\u524d\u7372\u5f97\u7684\u5e8a\u7db2\u6578\u64da\u7121\u6548\u3002\u61c9\u5728\u9032\u884c\u4e09\u89d2\u6821\u6b63\u5f8c\u91cd\u65b0\u57f7\u884cBED_MESH_CALIBRATE\u3002","title":"\u4e09\u89d2\u6821\u6b63"},{"location":"Delta_Calibrate.html#_1","text":"\u672c\u6587\u5c07\u4ecb\u7d39\u5728Klipper\u4e2d\u5c0d\u300c\u4e09\u89d2\u6d32\u300d\u904b\u52d5\u6a21\u5f0f\u7684\u5370\u8868\u6a5f\u9032\u884c\u81ea\u52d5\u6821\u6e96\u7684\u64cd\u4f5c\u3002 \u4e09\u89d2\u6d32\u6821\u6e96\u5305\u542b\u78ba\u5b9a\u67f1\u9650\u4f4d\u958b\u95dc\u4f4d\u7f6e\uff08tower endstop positions\uff09\uff0c\u67f1\u593e\u89d2\uff08 tower angles\uff09\uff0c\u4e09\u89d2\u534a\u5f91\uff08delta radius\uff09\u548c\u61f8\u81c2\u9577\u5ea6\u56db\u500b\u53c3\u6578\uff08delta arm lengths\uff09\u3002\u4e0a\u8ff0\u53c3\u6578\u5c07\u7528\u65bc\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u904b\u52d5\u63a7\u5236\u3002\u7136\u800c\uff0c\u7531\u65bc\u6bcf\u500b\u7684\u5f71\u97ff\u4e26\u975e\u986f\u800c\u6613\u898b\u6216\u5176\u5f71\u97ff\u5177\u6709\u975e\u7dda\u6027\uff0c\u56e0\u6b64\u96e3\u4ee5\u901a\u904e\u624b\u5de5\u6821\u6b63\u3002\u76f8\u5c0d\u800c\u8a00\uff0c\u8edf\u9ad4\u6821\u6b63\u5728\u6578\u5206\u9418\u7684\u6642\u9593\u540e\u5c31\u53ef\u4ee5\u9054\u5230\u6975\u4f73\u7684\u6548\u679c\u3002\u81ea\u52d5\u6821\u6b63\u7121\u9700\u589e\u52a0\u63a2\u91dd\u3002 \u6b78\u6839\u5230\u5e95\uff0c\u4e09\u89d2\u6d32\u6821\u6e96\u4f9d\u8cf4\u65bc\u5404\u67f1\u7684\u9650\u4f4d\u958b\u95dc\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\uff0c\u5247\u53ef\u8003\u616e\u4f7f\u7528 \u7121\u9650\u4f4d\u529f\u80fd \u4ee5\u63d0\u9ad8\u6aa2\u6e2c\u7684\u6e96\u78ba\u5ea6\u3002","title":"\u4e09\u89d2\u6821\u6b63"},{"location":"Delta_Calibrate.html#vs","text":"Klipper\u652f\u63f4\u4f7f\u7528\u624b\u52d5\u63a2\u9ad8\u6216\u81ea\u52d5z\u63a2\u91dd\u7684\u65b9\u6cd5\u9032\u884c\u4e09\u89d2\u6d32\u53c3\u6578\u6821\u6e96\u3002 \u5e02\u9762\u4e0a\u773e\u591a\u7684\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u9644\u5e36\u4e86\u81ea\u52d5Z\u63a2\u91dd\uff0c\u4f46\u9019\u4e9b\u63a2\u91dd\u7684\u7cbe\u5ea6\u4e0d\u8db3\u3002\u7279\u5225\u5c0d\u65bc\u4e09\u89d2\u6d32\uff0c\u81c2\u9577\u7684\u7d30\u5fae\u5dee\u7570\u6703\u5c0e\u81f4\u6548\u61c9\u5668\u50be\u659c\uff0c\u5c0e\u81f4\u5217\u5370\u6548\u679c\u4e00\u584c\u7cca\u5857\u3002\u5982\u679c\u4f7f\u7528\u81ea\u52d5\u63a2\u91dd\uff0c\u5247\u5148\u9032\u884c \u63a2\u91dd\u6821\u6e96 \uff0c\u7136\u5f8c\u6aa2\u67e5 \u63a2\u91dd\u4f4d\u7f6e\u6f02\u79fb \u3002\u5982\u679c\u63a2\u91dd\u7684\u504f\u5dee\u5927\u65bc25\u5fae\u7c73\uff080.025mm\uff09\uff0c\u5247\u61c9\u4f7f\u7528\u624b\u52d5\u63a2\u9ad8\u3002\u624b\u52d5\u63a2\u9ad8\u53ea\u9700\u8981\u6578\u5206\u9418\u7684\u6642\u9593\uff0c\u4e26\u80fd\u6452\u68c4\u63a2\u91dd\u5e36\u4f86\u7684\u8aa4\u5dee\u3002 \u5982\u679c\u4f7f\u7528\u7684\u63a2\u91dd\u662f\u5b89\u88dd\u5728\u5674\u5634\u7684\u4e00\u5074\uff08\u5373\uff0c\u63a2\u91dd\u5c0d\u5674\u5634\u5b58\u5728xy\u504f\u79fb\uff09\uff0c\u9700\u6ce8\u610f\u5728\u9032\u884c\u904e\u4e09\u89d2\u6d32\u6821\u6e96\u4e4b\u5f8c\u6703\u4f7f\u63a2\u91dd\u6821\u6e96\u7684\u7d50\u679c\u7121\u6548\u3002\u8a72\u578b\u5225\u7684\u63a2\u91dd\u4e26\u4e0d\u9069\u7528\u65bc\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\uff08\u56e0\u70ba\u6548\u61c9\u5668\u50be\u659c\u6703\u5dee\u751f\u63a2\u91dd\u4f4d\u7f6e\u6f02\u79fb\uff09\u3002\u5982\u679c\u4ecd\u4f7f\u7528\u4e0a\u8ff0\u7684\u63a2\u91dd\uff0c\u5247\u9700\u5728\u4e09\u89d2\u6d32\u6821\u6e96\u6821\u6e96\u540e\u518d\u9032\u884c\u4e00\u6b21\u63a2\u91dd\u6821\u6e96\u3002","title":"\u81ea\u52d5\u6821\u6e96 vs \u624b\u52d5\u6821\u6e96"},{"location":"Delta_Calibrate.html#_2","text":"\u901a\u904eDELTA_CALIBRATE \u547d\u4ee4\u53ef\u4ee5\u5728Klipper\u4e2d\u9032\u884c\u7c21\u55ae\u4e09\u89d2\u6d32\u6821\u6e96\u3002\u8a72\u547d\u4ee4\u6703\u5c0d\u71b1\u5e8a\u4e0a\u76847\u500b\u4e0d\u540c\u7684\u4f4d\u7f6e\u9032\u884c\u63a2\u9ad8\uff0c\u4e26\u8a08\u7b97\u9664\u67f1\u593e\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f91\u3002 \u8981\u9032\u884c\u6821\u6e96\uff0c\u9700\u8981\u5148\u63d0\u4f9b\u67f1\u593e\u89d2\uff0c\u67f1\u9650\u4f4d\u4f4d\u7f6e\u548c\u4e09\u89d2\u534a\u5f91\u7684\u521d\u59cb\u503c\uff0c\u9019\u4e9b\u503c\u61c9\u8207\u5be6\u969b\u503c\u53ea\u6709\u5e7e\u6beb\u7c73\u7684\u504f\u5dee\u3002\u5927\u591a\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u5957\u4ef6\u6703\u63d0\u4f9b\u9019\u4e9b\u503c\uff0c\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8f38\u5165\u9019\u4e9b\u503c\u4f5c\u70ba\u521d\u59cb\u914d\u7f6e\uff0c\u7136\u5f8c\u6309\u7167\u4e0b\u8ff0\u6b65\u9a5f\u57f7\u884cDELTA_CALIBRATE \u3002\u5982\u679c\u7121\u6cd5\u627e\u5230\u521d\u59cb\u503c\uff0c\u5247\u53ef\u4ee5\u901a\u904e\u641c\u7d22 \u4e09\u89d2\u6d32\u6821\u6e96 \u6559\u7a0b\uff0c\u4f5c\u70ba\u6e2c\u91cf\u7684\u4f9d\u64da\u3002 \u6821\u6e96\u671f\u9593\uff0c\u5370\u8868\u6a5f\u9700\u8981\u5c0d\u71b1\u5e8a\u5916\u7684\u5e95\u677f\u9032\u884c\u63a2\u9ad8\u3002\u901a\u5e38\u53ef\u4ee5\u901a\u904e\u4fee\u6539\u8a2d\u5b9a\u4e2d\u7684 minimum_z_position=-5 \u4ee5\u5be6\u73fe\u5e8a\u5916\u63a2\u9ad8\u3002\uff08\u6821\u6e96\u540e\u53ef\u4ee5\u5728\u8a2d\u5b9a\u4e2d\u79fb\u9664\u8a72\u9805\u3002\uff09 \u63a2\u9ad8\u7684\u65b9\u5f0f\u6709\u5169\u7a2e\uff1a\u624b\u52d5\u63a2\u9ad8( DELTA_CALIBRATE METHOD=manual )\u548c\u81ea\u52d5\u63a2\u9ad8( DELTA_CALIBRATE )\u3002\u624b\u52d5\u63a2\u9ad8\u6a21\u5f0f\u4e0b\uff0c\u5217\u5370\u982d\u5c07\u6703\u79fb\u8fd1\u71b1\u5e8a\uff0c\u7136\u5f8c\u7b49\u5019\u4f7f\u7528\u8005\u4f7f\u7528 \"\u7d19\u6e2c\u6cd5\" \u6e2c\u91cf\u7279\u5b9a\u4f4d\u7f6e\u4e0a\u7684\u5674\u5634\u548c\u71b1\u5e8a\u7684\u4e4b\u9593\u7684\u504f\u5dee\u503c\u3002 \u9032\u884c\u7c21\u55ae\u6821\u6e96\uff0c\u8acb\u78ba\u4fdd\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u4e86[delta_calibrate]\uff0c\u7136\u5f8c\u57f7\u884c\u5de5\u5177\uff1a G28 DELTA_CALIBRATE METHOD=manual \u5728\u6e2c\u91cf\u4e867\u500b\u9ede\uff0c\u4e26\u8a08\u7b97\u5f97\u51fa\u65b0\u4e09\u89d2\u6d32\u53c3\u6578\u540e\uff0c\u57f7\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u4f86\u5132\u5b58\u53c3\u6578\uff1a SAVE_CONFIG \u7c21\u55ae\u6821\u6e96\u7372\u5f97\u7684\u53c3\u6578\uff0c\u5176\u6e96\u78ba\u6027\u53ef\u4ee5\u6eff\u8db3\u65e5\u5e38\u5217\u5370\u7684\u9700\u6c42\u3002\u5c0d\u65bc\u65b0\u5370\u8868\u6a5f\uff0c\u53ef\u4ee5\u5617\u8a66\u5217\u5370\u5e7e\u500b\u7c21\u55ae\u6a21\u578b\uff0c\u78ba\u5b9a\u529f\u80fd\u6b63\u5e38\u3002","title":"\u7c21\u55ae\u4e09\u89d2\u6d32\u6821\u6e96"},{"location":"Delta_Calibrate.html#_3","text":"\u7c21\u55ae\u4e09\u89d2\u6d32\u6821\u6e96\u7372\u5f97\u7684\u4e09\u89d2\u6d32\u53c3\u6578\u53ef\u4ee5\u5f88\u597d\u5730\u4fee\u6b63\u5674\u5634\u8ddd\u96e2\u4e4b\u985e\u554f\u984c\u3002\u7136\u800c\uff0c\u8a72\u6a21\u5f0f\u4e0d\u80fd\u6821\u6e96X\uff0cY\u8ef8\u4e0a\u7684\u6e96\u78ba\u5ea6\u3002\u800c\u9032\u968e\u4e09\u89d2\u6d32\u6821\u6e96\u5247\u662f\u91dd\u5c0d\u7dad\u5ea6\u6e96\u78ba\u6027\u5730\u554f\u984c\u3002 \u6821\u6e96\u6d41\u7a0b\u9700\u8981\u5217\u5370\u4e00\u500b\u6e2c\u8a66\u6a21\u578b\u4e26\u7528\u904a\u6a19\u5361\u5c3a\u6e2c\u91cf\u6a21\u578b\u7684\u5c3a\u5bf8\u3002 Prior to running an enhanced delta calibration one must run the basic delta calibration (via the DELTA_CALIBRATE command) and save the results (via the SAVE_CONFIG command). Make sure there hasn't been any notable change to the printer configuration nor hardware since last performing a basic delta calibration (if unsure, rerun the basic delta calibration , including SAVE_CONFIG, just prior to printing the test object described below.) \u7528\u5207\u7247\u5668\u5c0d docs/prints/calibrate_size.stl \u7684\u6a21\u578b\u9032\u884c\u5207\u7247\uff0c\u7522\u751fG-Code\u3002\u901f\u5ea6\u8a2d\u5b9a\u4f7f\u7528\u4f4e\u901f\uff08\u4f8b\u5982 40mm/s\uff09\u3002\u5982\u53ef\u80fd\u4f7f\u7528\u525b\u6027\u5851\u6599\uff08\u5982PLA\uff09\u3002\u6a21\u578b\u7684\u5916\u5f91\u70ba140mm\u3002\u5982\u679c\u5c3a\u5bf8\u592a\u5927\u5247\u6309\u7167\u71b1\u5e8a\u5927\u5c0f\u9032\u884c\u7e2e\u5c0f\uff08\u4f46\u61c9\u6ce8\u610fX\u548cY\u61c9\u6309\u6bd4\u4f8b\u9032\u884c\u7e2e\u653e\uff09\u3002\u5982\u679c\u5370\u8868\u6a5f\u7684\u71b1\u5e8a\u8db3\u5920\u5927\uff0c\u4e5f\u53ef\u4ee5\u653e\u5927\u8a72\u6a21\u578b\u3002\u5927\u5c3a\u5bf8\u53ef\u4ee5\u63d0\u9ad8\u6e2c\u91cf\u7684\u6e96\u78ba\u6027\uff0c\u4f46\u662f\u6a21\u578b\u7684\u5e8a\u9644\u8457\u5c0d\u6e2c\u91cf\u6e96\u78ba\u6027\u5f71\u97ff\u66f4\u5927\u3002 \u5217\u5370\u6e2c\u8a66\u6a21\u578b\u4e26\u7b49\u5f85\u5176\u5b8c\u5168\u51b7\u537b\u3002\u5370\u8868\u6a5f\u8a2d\u5b9a\u548c\u6821\u6e96\u6a21\u578b\u5fc5\u9808\u4e00\u4e00\u5c0d\u61c9\uff08\u5373\uff0c\u5728\u5217\u5370\u6821\u6e96\u6a21\u578b\u540e\uff0c\u4e0d\u8981\u518d\u9032\u884cDELTA_CALIBRATE\u6216\u4fee\u6539\u5370\u8868\u6a5f\u53c3\u6578\uff0c\u5426\u5247\u6a21\u578b\u6e2c\u91cf\u7121\u6548\uff09\uff0c\u518d\u57f7\u884c\u4e0b\u9762\u7684\u547d\u4ee4\u3002 \u5982\u53ef\u80fd\uff0c\u5728\u6a21\u578b\u9ecf\u8457\u5728\u5e8a\u4e0a\u9032\u884c\u6e2c\u91cf\uff0c\u4f46\u82e5\u6a21\u578b\u812b\u96e2\u71b1\u5e8a\u4e5f\u6c92\u6709\u95dc\u4fc2\u2014\u2014\u9019\u6b65\u9a5f\u53ea\u662f\u7232\u4e86\u6e1b\u5c11\u6a21\u578b\u7684\u5f4e\u66f2\u3002 \u9996\u5148\u6e2c\u91cf\u4e2d\u5fc3\u67f1\u5230\u5370\u6709\u300cA\u300d\u6a19\u8a8c\u7684\u67f1\u7684\u8ddd\u96e2\uff08\u5373\u4e2d\u5fc3\u5230A\u67f1\u65b9\u5411\u7684\u8ddd\u96e2\uff09\u3002 \u4e4b\u5f8c\uff0c\u6309\u7167\u9006\u6642\u91dd\u65b9\u5411\u9010\u4e00\u6e2c\u91cf\u4e2d\u5fc3\u67f1\u5230\u908a\u6cbf\u67f1\u7684\u8ddd\u96e2\uff08\u4e2d\u5fc3\u5230C\u6a19\u7c64\u67f1\u7684\u8ddd\u96e2\uff0c\u4e2d\u5fc3\u5230B\u6a19\u7c64\u67f1\u7684\u8ddd\u96e2\u7b49\uff09\u3002 \u4ee5 \u9017\u865f\u5206\u9694\u7684\u6d6e\u9ede\u6578 \u7684\u5f62\u5f0f\u5c07\u6578\u64da\u8f38\u5165\u5230Klipper\uff1a DELTA_ANALYZE CENTER_DISTS=<a_dist>,<far_c_dist>,<b_dist>,<far_a_dist>,<c_dist>,<far_b_dist> \u6578\u64da\u4e4b\u9593\u4e0d\u8981\u63d2\u5165 \u7a7a\u683c \u3002 \u4e4b\u5f8c\u6e2c\u91cfA\u67f1\u548cC\u67f1\u4e4b\u9593\u7684\u8ddd\u96e2\u3002 \u4e4b\u5f8c\u6e2c\u91cfC\u67f1\u548cB\u67f1\uff0c\u4ee5\u53caB\u67f1\u548cA\u67f1\u4e4b\u9593\u7684\u8ddd\u96e2\u7b49\u3002 \u5c07\u53c3\u6578\u8f38\u5165\u5230Klipper\uff1a DELTA_ANALYZE OUTER_DISTS=<a_to_far_c>,<far_c_to_b>,<b_to_far_a>,<far_a_to_c>,<c_to_far_b>,<far_b_to_a> \u6b64\u6642\u53ef\u4ee5\u62c6\u9664\u5e8a\u4e0a\u7684\u6a21\u578b\u3002\u6700\u5f8c\u8981\u6e2c\u91cf\u7684\u662f\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6e2c\u91cf\u4e2d\u5fc3\u67f1\u5728A\u67f1\u65b9\u5411\u4e0a\uff0cB\u67f1\u65b9\u5411\u4e0a\u4ee5\u53caC\u67f1\u65b9\u5411\u4e0a\u7684\u5c3a\u5bf8\u3002 \u5c07\u7d50\u679c\u8f38\u5165Klipper\uff1a DELTA_ANALYZE CENTER_PILLAR_WIDTHS=<a>,<b>,<c> \u7136\u5f8c\u5074\u5411\u5916\u5074\u67f1\u5b50\u7684\u5c3a\u5bf8\u3002\u9996\u5148\u6e2c\u91cfA\u67f1\u671d\u5411C\u67f1\u5167\u5074\u7684\u9762\u4e4b\u9593\u7684\u5c3a\u5bf8\uff08\u898b\u4e0b\u5716\uff09\u3002 \u4e4b\u5f8c\u9006\u6642\u91dd\u9010\u4e00\u6e2c\u91cf\u5916\u5247\u67f1\u5b50\u7684\u5c3a\u5bf8\uff08\u6e2c\u91cfC\u67f1\u671d\u5411B\u67f1\u5167\u5074\u7684\u9762\u4e4b\u9593\u7684\u5c3a\u5bf8\uff0c\u6e2c\u91cfB\u67f1\u671d\u5411A\u67f1\u5167\u5074\u7684\u9762\u4e4b\u9593\u7684\u5c3a\u5bf8\u7b49\uff09\u3002 \u4e26\u5c07\u53c3\u6578\u8f38\u5165Klipper\uff1a DELTA_ANALYZE OUTER_PILLAR_WIDTHS=<a>,<far_c>,<b>,<far_a>,<c>,<far_b> \u5982\u679c\u6a21\u578b\u7d93\u904e\u4e86\u7e2e\u653e\uff0c\u5247\u8f38\u5165\u5207\u7247\u6642\u4f7f\u7528\u7684\u7e2e\u653e\u4fc2\u6578\uff1a DELTA_ANALYZE SCALE=1.0 \uff08\u8f38\u5165\u4fc2\u65782.0\u5247\u6a21\u578b\u88ab\u653e\u5927\u4e00\u500d\uff0c\u8f38\u5165\u4fc2\u65780.5\u5247\u6a21\u578b\u88ab\u7e2e\u5c0f\u81f3\u4e00\u534a\u3002\uff09 \u6700\u5f8c\u8f38\u5165\u4e0b\u5217\u9762\u547d\u4ee4\u9032\u884c\u4e09\u89d2\u6821\u6e96\uff1a DELTA_ANALYZE CALIBRATE=extended \u8a72\u547d\u4ee4\u5c07\u9032\u884c\u6578\u5206\u9418\u7684\u8a08\u7b97\u3002\u8a08\u7b97\u5c07\u7d66\u51fa\u4e09\u89d2\u6d32\u53c3\u6578\uff08\u4e09\u89d2\u534a\u5f91\uff0c\u67f1\u593e\u89d2\uff0c\u9650\u4f4d\u4f4d\u7f6e\uff0c\u81c2\u9577\uff09\u3002\u4e4b\u5f8c\u4f7f\u7528SAVE_CONFIG \u5132\u5b58\u4e26\u61c9\u7528\u7d50\u679c\uff1a SAVE_CONFIG SAVE_CONFIG \u6703\u5132\u5b58\u8a08\u7b97\u4e26\u66f4\u65b0\u540e\u7684\u4e09\u89d2\u53c3\u6578\u3002\u4e4b\u5f8c\u7684DELTA_CALIBRATE \u547d\u4ee4\u4e5f\u6703\u7d66\u4e88\u9032\u968e\u8a08\u7b97\u7684\u7d50\u679c\u3002\u8acb\u52ff\u5728SAVE_CONFIG \u91cd\u65b0\u8f38\u5165\u539f\u59cb\u6e2c\u91cf\u6578\u64da\uff0c\u56e0\u70ba\u6b64\u6642\u539f\u59cb\u6e2c\u91cf\u6578\u64da\u5df2\u4e0d\u6703\u61c9\u7528\u81f3\u4e09\u89d2\u53c3\u6578\u4e0a\u3002","title":"\u9032\u968e\u4e09\u89d2\u6d32\u6821\u6e96"},{"location":"Delta_Calibrate.html#_4","text":"\u5982\u679c\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u7684\u5c3a\u5bf8\u76f8\u7576\u6e96\u78ba\uff0c\u5247\u5169\u67f1\u9593\u7684\u8ddd\u96e2\u61c9\u8a72\u572874mm\u9644\u8fd1\uff0c\u4e26\u5404\u500b\u67f1\u5b50\u7684\u5c3a\u5bf8\u61c9\u70ba9mm\uff08\u5373\u76ee\u6a19\u70ba\u67f1\u5b50\u9762\u5411\u53e6\u4e00\u67f1\u5b50\u7684\u4e00\u5074\u5230\u6240\u5411\u67f1\u5b50\u7684\u7d71\u4e00\u9762\u7684\u8ddd\u96e2\u70ba65mm\uff09\u3002\u5982\u679c\u5c3a\u5bf8\u4e0d\u6e96\u78ba\uff0c\u5247\u53ef\u4ee5\u901a\u904eDELTA_ANALYZE \uff0c\u57fa\u65bc\u4e4b\u524dDELTA_CALIBRATE \u7372\u5f97\u7684\u9ad8\u5ea6\u6e2c\u91cf\u6578\u64da\u548c\u8ddd\u96e2\u6e2c\u91cf\u6578\u64da\u7522\u751f\u65b0\u7684\u4e09\u89d2\u53c3\u6578\u3002 DELTA_ANALYZE \u7684\u7d50\u679c\u53ef\u80fd\u4e0d\u7b26\u5408\u908f\u8f2f\u3002\u6bd4\u5982\uff0c\u5b83\u8a08\u7b97\u51fa\u7684\u81c2\u9577\u53ef\u80fd\u4e8e\u5370\u8868\u6a5f\u7684\u5be6\u969b\u81c2\u9577\u4e0d\u7b26\u3002\u5118\u7ba1\u5982\u6b64\uff0c\u6e2c\u8a66\u7d50\u679c\u8868\u660e DELTA_ANALYZE \u7e3d\u80fd\u7d66\u51fa\u51fa\u8272\u7684\u5217\u5370\u7d50\u679c\u3002\u63a8\u6e2c\u9019\u662f\u56e0\u70ba\u8a08\u7b97\u4e09\u89d2\u53c3\u6578\u7684\u6642\u5019\u5c07\u5176\u4ed6\u672a\u77e5\u7684\u5f71\u97ff\u53c3\u6578\u4e5f\u7d0d\u5165\u5230\u8a08\u7b97\u8003\u616e\u3002\u4f8b\u5982\uff0c\u81c2\u9577\u7684\u7d30\u5fae\u5dee\u7570\u6703\u4f7f\u6548\u61c9\u5668\u50be\u659c\uff0c\u800c\u901a\u904e\u8abf\u7bc0\u81c2\u9577\u7684\u8a08\u7b97\u57fa\u6e96\u53ef\u4ee5\u88dc\u511f\u9019\u7a2e\u5dee\u7570\u3002","title":"\u984d\u5916\u8981\u9ede"},{"location":"Delta_Calibrate.html#_5","text":"\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u4e0a\u4e5f\u80fd\u4f7f\u7528 \u5e8a\u7db2 \u3002\u4f46\u662f\u61c9\u5728\u958b\u555f\u5e8a\u7db2\u4e4b\u524d\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u4e09\u89d2\u6821\u6e96\u3002\u5728\u672a\u6821\u6e96\u7684\u5370\u8868\u6a5f\u4e0a\u4f7f\u7528\u5e8a\u7db2\u6703\u5f97\u51fa\u5947\u602a\u7684\u7d50\u679c\u3002 \u6ce8\u610f\u9032\u884c\u4e09\u89d2\u6821\u6b63\u6703\u4f7f\u4e4b\u524d\u7372\u5f97\u7684\u5e8a\u7db2\u6578\u64da\u7121\u6548\u3002\u61c9\u5728\u9032\u884c\u4e09\u89d2\u6821\u6b63\u5f8c\u91cd\u65b0\u57f7\u884cBED_MESH_CALIBRATE\u3002","title":"\u5728\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u4e0a\u4f7f\u7528\u5e8a\u7db2"},{"location":"Endstop_Phase.html","text":"\u9650\u4f4d\u76f8\u4f4d \u00b6 \u8a72\u6587\u4ef6\u4ecb\u7d39\u4e86Klipper\u7684\u6b65\u9032\u96fb\u6a5f\u76f8\u614b\u6821\u6e96\u9650\u4f4d\u4f4d\u7f6e\u7684\u529f\u80fd\uff08\u4e0b\u7a31\uff1a\u76f8\u614b\u4fee\u6b63\uff09\u3002\u8a72\u529f\u80fd\u53ef\u4ee5\u589e\u5f37\u50b3\u7d71\u9650\u4f4d\u958b\u95dc\u7684\u6e96\u78ba\u6027\u3002\u4f7f\u7528\u5e36\u6709\u57f7\u884c\u671f\u9593\u8a2d\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\uff0c\u5982Trinamic\uff0c\u53ef\u767c\u63ee\u8a72\u529f\u80fd\u7684\u6700\u5927\u4f5c\u7528\u3002 \u5178\u578b\u7684\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u5728100\u5fae\u7c73\u5de6\u53f3\u3002\uff08\u6bcf\u6b21\u6b78\u96f6\u6642\uff0c\u9650\u4f4d\u89f8\u767c\u7684\u4f4d\u7f6e\u53ef\u6df1\u53ef\u6dfa\u3002\uff09\u5118\u7ba1\u8a72\u8aa4\u5dee\u5f88\u5c0f\uff0c\u4f46\u5b83\u78ba\u6642\u6703\u5f71\u97ff\u5217\u5370\u6548\u679c\u3002\u5c0d\u65bc\u6a21\u578b\u7684\u9996\u5c64\u5217\u5370\u800c\u8a00\uff0c\u8a72\u7cbe\u5ea6\u6703\u6709\u660e\u986f\u7684\u5f71\u97ff\u3002\u76f8\u5c0d\u5730\uff0c\u6b65\u9032\u96fb\u6a5f\u7684\u904b\u52d5\u7cbe\u5ea6\u986f\u7136\u66f4\u9ad8\u3002 \u76f8\u4f4d\u4fee\u6b63\u529f\u80fd\u53ef\u4ee5\u5229\u7528\u6b65\u9032\u96fb\u6a5f\u7684\u7cbe\u5ea6\u63d0\u9ad8\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u3002 \u6b65\u9032\u96fb\u6a5f\u901a\u904e\u4e00\u7cfb\u5217\u7684\u76f8\u4f4d\u5faa\u74b0\u904b\u52d5\uff0c\u76f4\u5230\u5b8c\u6210\u56db\u500b \"\u5168\u6b65\"\u3002\u4f8b\u5982\uff0c\u4e00\u500b\u4f7f\u752816\u5fae\u6b65\u7684\u6b65\u9032\u96fb\u6a5f\uff0c\u300c\u5168\u6b65\u300d\u670964\u500b\u76f8\u4f4d\uff0c\u904b\u52d5\u6642\u6703\u901a\u904e0, 1, 2, ... 61, 62, 63, 0, 1, 2...\u7684\u76f8\u4f4d\u5faa\u74b0\u3002\u6700\u91cd\u8981\u7684\u662f\uff0c\u7576\u6b65\u9032\u96fb\u6a5f\u8655\u65bc\u7dda\u6027\u8ecc\u9053\u4e0a\u7684\u7279\u5b9a\u4f4d\u7f6e\u6642\uff0c\u5b83\u61c9\u59cb\u7d42\u8655\u65bc\u540c\u4e00\u6b65\u9032\u76f8\u4f4d\u3002\u56e0\u6b64\uff0c\u7576\u6ed1\u8eca\u89f8\u767c\u9650\u4f4d\u958b\u95dc\u6642\uff0c\u63a7\u5236\u8a72\u6ed1\u8eca\u7684\u6b65\u9032\u96fb\u6a5f\u61c9\u59cb\u7d42\u8655\u65bc\u540c\u4e00\u76f8\u4f4d\u3002Klipper\u7684\u9650\u4f4d\u76f8\u4f4d\u7cfb\u7d71\u5c07\u6b65\u9032\u76f8\u4f4d\u8207\u9650\u4f4d\u958b\u95dc\u89f8\u767c\u76f8\u7d50\u5408\uff0c\u4ee5\u63d0\u9ad8\u6b78\u96f6\u7684\u6e96\u78ba\u5b9a\u3002 \u4f7f\u7528\u8a72\u529f\u80fd\u9700\u8981\u78ba\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u76f8\u4f4d\u3002\u5982\u679c\u4f7f\u7528 TMC2130, TMC2208, TMC2224 \u6216 TMC2660 \uff0c\u4e26\u8a2d\u5b9a\u70ba \u57f7\u884c\u6642\u8a2d\u5b9a\u6a21\u5f0f\uff08\u5373\uff0c\u4e0d\u4f7f\u7528\u7368\u7acb\uff08stand-alone\uff09\u6a21\u5f0f\uff09\uff0cKlipper\u53ef\u4ee5\u901a\u904e\u8a2a\u554f\u5b83\u5011\u7372\u5f97\u76f8\u4f4d\u8cc7\u8a0a\u3002\uff08\u4f7f\u7528\u50b3\u7d71\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\uff0c\u5728\u53ef\u4ee5\u53ef\u9760\u5730\u91cd\u7f6e\u9a45\u52d5\u5730\u60c5\u6cc1\u4e0b\uff0c\u4e5f\u80fd\u5920\u5be6\u73fe\u76f8\u614b\u6aa2\u6e2c\u529f\u80fd\u3002\uff09 \u6821\u6e96\u9650\u4f4d\u76f8\u4f4d \u00b6 \u5728\u4f7f\u7528Trinamic\u9a45\u52d5 \u4e26 \u4f7f\u7528\u4e86\u57f7\u884c\u6642\u8a2d\u5b9a\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528ENDSTOP_PHASE_CALIBRATE\u547d\u4ee4\u9032\u884c\u76f8\u4f4d\u4fee\u6b63\u3002\u9996\u5148\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u52a0\u5165\u4e0b\u5217\u8a2d\u5b9a\uff1a [endstop_phase] \u4e4b\u5f8c\uff0c\u4f9d\u6b21\u57f7\u884cRESTART \uff0c\u57f7\u884c G28 \u548c ENDSTOP_PHASE_CALIBRATE \u3002\u5b8c\u6210\u5f8c\uff0c\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u4e00\u500b\u65b0\u4f4d\u7f6e\uff0c\u518d\u57f7\u884c G28 \u3002\u91cd\u8907\u6578\u6b21\uff0c\u78ba\u4fdd\u6bcf\u6b21\u5217\u5370\u982d\u5728\u4e0d\u540c\u5730\u4f4d\u7f6e\u57f7\u884c G28 \u3002\u6700\u5c11\u61c9\u91cd\u8907\u4e0a\u8ff0\u79fb\u52d5- G28 \u64cd\u4f5c5\u6b21\u3002 \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u6703\u7d66\u51fa\u76f8\u540c\u6216\u9032\u884c\u7684\u6b65\u9032\u96fb\u6a5f\u76f8\u4f4d\u503c\u3002\u8a72\u503c\u53ef\u4ee5\u8f38\u5165\u5230\u914d\u7f6e\u6a94\u6848\u4e2d\uff0c\u4e4b\u5f8cG28\u547d\u4ee4\u57f7\u884c\u4f7f\u6703\u53c3\u8003\u8a72\u76f8\u4f4d\u6578\u64da\u3002\uff08\u6b64\u5f8c\uff0c\u5373\u4f7f\u9650\u4f4d\u958b\u95dc\u904e\u65e9\u6216\u904e\u665a\u89f8\u767c\uff0cKlipper\u5728\u6b78\u96f6\u6642\u6703\u7372\u5f97\u8abf\u6574\u5230\u76f8\u540c\u7684\u76f8\u4f4d\u3002\uff09 \u8981\u5132\u5b58\u7279\u5b9a\u96fb\u6a5f\u7684\u76f8\u4f4d\u4fee\u6b63\u8cc7\u8a0a\uff0c\u53ef\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a ENDSTOP_PHASE_CALIBRATE STEPPER=stepper_z \u53c3\u7167\u4e0a\u8ff0\u547d\u4ee4\uff0c\u6211\u5011\u53ef\u4ee5\u5132\u5b58\u60f3\u8981\u7684\u6b65\u9032\u96fb\u6a5f\u8cc7\u8a0a\u3002\u901a\u5e38\uff0cstepper_z\u6703\u7528\u65bc\u9f8d\u9580\u5f0f\u6216CoreXY\u5f0f\u5370\u8868\u6a5f\uff0c\u800cstepper_a\u3001stepper_b\u548cstepper_c\u5247\u7528\u65bc\u4e09\u89d2\u6d32\u3002\u6700\u5f8c\u57f7\u884c\u4e0b\u9762\u6578\u64da\u5132\u5b58\u914d\u7f6e\u6a94\u6848\uff1a SAVE_CONFIG \u984d\u5916\u8981\u9ede \u00b6 \u8a72\u529f\u80fd\u5728\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u548c\u4f7f\u7528Z\u9650\u4f4d\u7684\u9f8d\u9580/CoreXY\u5370\u8868\u6a5f\u4e0a\u6700\u70ba\u9069\u7528\u3002\u8a72\u529f\u80fd\u4e5f\u53ef\u4ee5\u7528\u5728\u9f8d\u9580\u5f0f\u5370\u8868\u6a5f\u7684X\u3001Y\u8ef8\u4e0a\uff0c\u4f46\uff0c\u7531\u65bcX\u3001Y\u8ef8\u7684\u9650\u4f4d\u504f\u5dee\u4e0d\u6703\u5c0d\u5217\u5370\u8cea\u91cf\u6709\u592a\u5927\u5f71\u97ff\uff0c\u56e0\u6b64\u91cd\u8981\u6027\u7565\u905c\u65bcZ\u9650\u4f4d\u3002\u8a72\u529f\u80fd \u4e0d\u9069\u7528 \u4e8eCoreXY\u5370\u8868\u6a5f\u7684X\uff0cY\u8ef8\u3002\uff08\u56e0\u70baXY\u4f4d\u7f6e\u4e26\u975e\u55ae\u500b\u6b65\u9032\u96fb\u6a5f\u6c7a\u5b9a\u3002\uff09\u8a72\u529f\u80fd\u4e5f \u4e0d\u9069\u7528 \u4e8e\u9069\u7528\u63a2\u91ddZ\u9650\u4f4d\u7684\u5370\u8868\u6a5f\uff08\u56e0\u70ba\u6b65\u9032\u96fb\u6a5f\u76f8\u4f4d\u50c5\u5728\u56fa\u5b9a\u7dda\u6027\u4f4d\u7f6e\u7684\u9650\u4f4d\u4e0a\u6709\u6548\u3002\uff09 \u5728\u9650\u4f4d\u958b\u95dc\u6821\u6e96\u540e\uff0c\u5982\u679c\u79fb\u52d5\u904e\u9650\u4f4d\u958b\u95dc\uff0c\u5247\u9700\u8981\u91cd\u65b0\u6821\u6e96\u76f8\u4f4d\u3002\u6b64\u6642\u61c9\u522a\u9664\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u6821\u6e96\u503c\uff0c\u7136\u5f8c\u91cd\u65b0\u57f7\u884c\u76f8\u4f4d\u4fee\u6b63\u3002 \u70ba\u4f7f\u7528\u4e0a\u8ff0\u529f\u80fd\uff0c\u9650\u4f4d\u958b\u95dc\u5fc5\u7684\u504f\u5dee\u503c\u9700\u4f4e\u65bc\u7279\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u5169\u500d\u300c\u5168\u6b65\u9577\u300d\u7684\u8ddd\u96e2\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6b65\u9032\u96fb\u6a5f\u4f7f\u752816\u5fae\u6b65\uff0c\u6b64\u6642\u6bcf\u500b\u5fae\u6b65\u7684\u9577\u5ea6\u70ba0.005mm\uff0c\u5247\u9650\u4f4d\u958b\u95dc\u7684\u5206\u8fa8\u80fd\u529b\u61c9\u4f4e\u65bc0.160mm\u3002\u5982\u679c\u7cfb\u7d71\u53cd\u994b\"Endstop stepper_z incorrect phase\"\uff08stepper_z\u76f8\u4f4d\u8207\u9650\u4f4d\u958b\u95dc\u4e0d\u4e00\u81f4\uff09\u932f\u8aa4\u8cc7\u8a0a\uff0c\u5247\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u592a\u5dee\u3002\u5982\u679c\u91cd\u65b0\u6821\u6e96\u672a\u80fd\u6d88\u9664\u5831\u8b66\uff0c\u5247\u9700\u8981\u505c\u7528\u76f8\u4f4d\u6821\u6e96\u529f\u80fd\u3002 \u5982\u679c\u5370\u8868\u6a5f\u4f7f\u7528\u7684\u662f\u5f9e\u50b3\u7d71\u7684\u6b65\u9032\u96fb\u6a5f\u63a7\u5236Z\u8ef8\uff08\u5982\u9f8d\u9580\u6216CoreXY\uff09\uff0c\u540c\u6642\u4f7f\u7528\u4e86\u50b3\u7d71\u7684\u87ba\u6bcd\u8abf\u5e73\u7684\u8a71\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u76f8\u614b\u4fee\u6b63\u529f\u80fd\u5c07\u5217\u5370\u7684\u6bcf\u4e00\u5c64\u7684\u908a\u754c\u8a2d\u5b9a\u5230\u4e00\u500b\u300c\u5168\u6b65\u300d\u4e0a\u3002\u8981\u4f7f\u7528\u9019\u500b\u529f\u80fd\u5247\u9700\u8981\u5728\u5207\u7247\u5668\u4e0a\u5c07\u5c64\u9ad8\u8a2d\u5b9a\u70ba\u300c\u5168\u6b65\u300d\u7684\u6574\u500d\u6578\uff0c\u7136\u5f8c\u5728\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684endstop_phase \u7247\u6bb5\u4e2d\u589e\u52a0endstop_align_zero\u9078\u9805\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \uff09\uff0c\u7136\u5f8c\u901a\u904e\u8abf\u5e73\u87ba\u6bcd\u8abf\u5e73\u3002 \u8a72\u7cfb\u7d71\u4e5f\u6709\u53ef\u80fd\u7528\u65bc\u50b3\u7d71(\u975eTrinamic)\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5 \u3002\u7136\u800c\uff0c\u9019\u9700\u8981\u6bcf\u6b21\u5fae\u63a7\u5236\u5668\u5fa9\u4f4d\u6642\uff0c\u5c0d\u61c9\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u4e5f\u540c\u6642\u5fa9\u4f4d\u3002\uff08\u5982\u679c\u5169\u8005\u80fd\u5be6\u73fe\u540c\u6642\u5fa9\u4f4d\u7684\u8a71\uff0cKlipper\u80fd\u5920\u901a\u904e\u8a18\u9304\u6b65\u9032\u7684\u7e3d\u79fb\u52d5\u6b65\u6578\u4f86\u78ba\u5b9a\u5176\u76f8\u4f4d\u3002\uff09\u76ee\u524d\uff0c\u80fd\u5920\u53ef\u9760\u5730\u5b8c\u6210\u5fae\u63a7\u5236\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5730\u540c\u6642\u5fa9\u4f4d\u5730\u65b9\u5f0f\u662f\uff0c\u9019\u5169\u8005\u50c5\u901a\u904eUSB\u4f9b\u96fb\u4e26USB\u96fb\u6e90\u901a\u904e\u57f7\u884c\u6709Klipper\u7684\u6a39\u8393\u6d3e\u63d0\u4f9b\u3002\u6b64\u6642\u53ef\u4ee5\u5728\u914d\u7f6e\u7684MCU\u7ae0\u7bc0\u4e2d\u65b0\u589e \"restart_method: rpi_usb\"\uff0c\u8a72\u9078\u9805\u5c07\u5b89\u6392\u5fae\u63a7\u5236\u5668\u59cb\u7d42\u901a\u904eUSB\u96fb\u6e90\u5fa9\u4f4d\uff0c\u5728\u50c5\u4f7f\u7528USB\u4f9b\u96fb\u6642\uff0c\u9019\u5c07\u5b89\u6392\u5fae\u63a7\u5236\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u4e00\u8d77\u88ab\u8907\u4f4d\u3002\u4f7f\u7528\u9019\u7a2e\u65b9\u5f0f\u6642\uff0c\u9700\u8981\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u624b\u52d5\u8a2d\u5b9a\"trigger_phase\"\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \uff09\u3002","title":"\u9650\u4f4d\u76f8\u4f4d"},{"location":"Endstop_Phase.html#_1","text":"\u8a72\u6587\u4ef6\u4ecb\u7d39\u4e86Klipper\u7684\u6b65\u9032\u96fb\u6a5f\u76f8\u614b\u6821\u6e96\u9650\u4f4d\u4f4d\u7f6e\u7684\u529f\u80fd\uff08\u4e0b\u7a31\uff1a\u76f8\u614b\u4fee\u6b63\uff09\u3002\u8a72\u529f\u80fd\u53ef\u4ee5\u589e\u5f37\u50b3\u7d71\u9650\u4f4d\u958b\u95dc\u7684\u6e96\u78ba\u6027\u3002\u4f7f\u7528\u5e36\u6709\u57f7\u884c\u671f\u9593\u8a2d\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\uff0c\u5982Trinamic\uff0c\u53ef\u767c\u63ee\u8a72\u529f\u80fd\u7684\u6700\u5927\u4f5c\u7528\u3002 \u5178\u578b\u7684\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u5728100\u5fae\u7c73\u5de6\u53f3\u3002\uff08\u6bcf\u6b21\u6b78\u96f6\u6642\uff0c\u9650\u4f4d\u89f8\u767c\u7684\u4f4d\u7f6e\u53ef\u6df1\u53ef\u6dfa\u3002\uff09\u5118\u7ba1\u8a72\u8aa4\u5dee\u5f88\u5c0f\uff0c\u4f46\u5b83\u78ba\u6642\u6703\u5f71\u97ff\u5217\u5370\u6548\u679c\u3002\u5c0d\u65bc\u6a21\u578b\u7684\u9996\u5c64\u5217\u5370\u800c\u8a00\uff0c\u8a72\u7cbe\u5ea6\u6703\u6709\u660e\u986f\u7684\u5f71\u97ff\u3002\u76f8\u5c0d\u5730\uff0c\u6b65\u9032\u96fb\u6a5f\u7684\u904b\u52d5\u7cbe\u5ea6\u986f\u7136\u66f4\u9ad8\u3002 \u76f8\u4f4d\u4fee\u6b63\u529f\u80fd\u53ef\u4ee5\u5229\u7528\u6b65\u9032\u96fb\u6a5f\u7684\u7cbe\u5ea6\u63d0\u9ad8\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u3002 \u6b65\u9032\u96fb\u6a5f\u901a\u904e\u4e00\u7cfb\u5217\u7684\u76f8\u4f4d\u5faa\u74b0\u904b\u52d5\uff0c\u76f4\u5230\u5b8c\u6210\u56db\u500b \"\u5168\u6b65\"\u3002\u4f8b\u5982\uff0c\u4e00\u500b\u4f7f\u752816\u5fae\u6b65\u7684\u6b65\u9032\u96fb\u6a5f\uff0c\u300c\u5168\u6b65\u300d\u670964\u500b\u76f8\u4f4d\uff0c\u904b\u52d5\u6642\u6703\u901a\u904e0, 1, 2, ... 61, 62, 63, 0, 1, 2...\u7684\u76f8\u4f4d\u5faa\u74b0\u3002\u6700\u91cd\u8981\u7684\u662f\uff0c\u7576\u6b65\u9032\u96fb\u6a5f\u8655\u65bc\u7dda\u6027\u8ecc\u9053\u4e0a\u7684\u7279\u5b9a\u4f4d\u7f6e\u6642\uff0c\u5b83\u61c9\u59cb\u7d42\u8655\u65bc\u540c\u4e00\u6b65\u9032\u76f8\u4f4d\u3002\u56e0\u6b64\uff0c\u7576\u6ed1\u8eca\u89f8\u767c\u9650\u4f4d\u958b\u95dc\u6642\uff0c\u63a7\u5236\u8a72\u6ed1\u8eca\u7684\u6b65\u9032\u96fb\u6a5f\u61c9\u59cb\u7d42\u8655\u65bc\u540c\u4e00\u76f8\u4f4d\u3002Klipper\u7684\u9650\u4f4d\u76f8\u4f4d\u7cfb\u7d71\u5c07\u6b65\u9032\u76f8\u4f4d\u8207\u9650\u4f4d\u958b\u95dc\u89f8\u767c\u76f8\u7d50\u5408\uff0c\u4ee5\u63d0\u9ad8\u6b78\u96f6\u7684\u6e96\u78ba\u5b9a\u3002 \u4f7f\u7528\u8a72\u529f\u80fd\u9700\u8981\u78ba\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u76f8\u4f4d\u3002\u5982\u679c\u4f7f\u7528 TMC2130, TMC2208, TMC2224 \u6216 TMC2660 \uff0c\u4e26\u8a2d\u5b9a\u70ba \u57f7\u884c\u6642\u8a2d\u5b9a\u6a21\u5f0f\uff08\u5373\uff0c\u4e0d\u4f7f\u7528\u7368\u7acb\uff08stand-alone\uff09\u6a21\u5f0f\uff09\uff0cKlipper\u53ef\u4ee5\u901a\u904e\u8a2a\u554f\u5b83\u5011\u7372\u5f97\u76f8\u4f4d\u8cc7\u8a0a\u3002\uff08\u4f7f\u7528\u50b3\u7d71\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\uff0c\u5728\u53ef\u4ee5\u53ef\u9760\u5730\u91cd\u7f6e\u9a45\u52d5\u5730\u60c5\u6cc1\u4e0b\uff0c\u4e5f\u80fd\u5920\u5be6\u73fe\u76f8\u614b\u6aa2\u6e2c\u529f\u80fd\u3002\uff09","title":"\u9650\u4f4d\u76f8\u4f4d"},{"location":"Endstop_Phase.html#_2","text":"\u5728\u4f7f\u7528Trinamic\u9a45\u52d5 \u4e26 \u4f7f\u7528\u4e86\u57f7\u884c\u6642\u8a2d\u5b9a\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528ENDSTOP_PHASE_CALIBRATE\u547d\u4ee4\u9032\u884c\u76f8\u4f4d\u4fee\u6b63\u3002\u9996\u5148\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u52a0\u5165\u4e0b\u5217\u8a2d\u5b9a\uff1a [endstop_phase] \u4e4b\u5f8c\uff0c\u4f9d\u6b21\u57f7\u884cRESTART \uff0c\u57f7\u884c G28 \u548c ENDSTOP_PHASE_CALIBRATE \u3002\u5b8c\u6210\u5f8c\uff0c\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u4e00\u500b\u65b0\u4f4d\u7f6e\uff0c\u518d\u57f7\u884c G28 \u3002\u91cd\u8907\u6578\u6b21\uff0c\u78ba\u4fdd\u6bcf\u6b21\u5217\u5370\u982d\u5728\u4e0d\u540c\u5730\u4f4d\u7f6e\u57f7\u884c G28 \u3002\u6700\u5c11\u61c9\u91cd\u8907\u4e0a\u8ff0\u79fb\u52d5- G28 \u64cd\u4f5c5\u6b21\u3002 \u5b8c\u6210\u4e0a\u8ff0\u64cd\u4f5c\u540e\uff0c ENDSTOP_PHASE_CALIBRATE \u547d\u4ee4\u6703\u7d66\u51fa\u76f8\u540c\u6216\u9032\u884c\u7684\u6b65\u9032\u96fb\u6a5f\u76f8\u4f4d\u503c\u3002\u8a72\u503c\u53ef\u4ee5\u8f38\u5165\u5230\u914d\u7f6e\u6a94\u6848\u4e2d\uff0c\u4e4b\u5f8cG28\u547d\u4ee4\u57f7\u884c\u4f7f\u6703\u53c3\u8003\u8a72\u76f8\u4f4d\u6578\u64da\u3002\uff08\u6b64\u5f8c\uff0c\u5373\u4f7f\u9650\u4f4d\u958b\u95dc\u904e\u65e9\u6216\u904e\u665a\u89f8\u767c\uff0cKlipper\u5728\u6b78\u96f6\u6642\u6703\u7372\u5f97\u8abf\u6574\u5230\u76f8\u540c\u7684\u76f8\u4f4d\u3002\uff09 \u8981\u5132\u5b58\u7279\u5b9a\u96fb\u6a5f\u7684\u76f8\u4f4d\u4fee\u6b63\u8cc7\u8a0a\uff0c\u53ef\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a ENDSTOP_PHASE_CALIBRATE STEPPER=stepper_z \u53c3\u7167\u4e0a\u8ff0\u547d\u4ee4\uff0c\u6211\u5011\u53ef\u4ee5\u5132\u5b58\u60f3\u8981\u7684\u6b65\u9032\u96fb\u6a5f\u8cc7\u8a0a\u3002\u901a\u5e38\uff0cstepper_z\u6703\u7528\u65bc\u9f8d\u9580\u5f0f\u6216CoreXY\u5f0f\u5370\u8868\u6a5f\uff0c\u800cstepper_a\u3001stepper_b\u548cstepper_c\u5247\u7528\u65bc\u4e09\u89d2\u6d32\u3002\u6700\u5f8c\u57f7\u884c\u4e0b\u9762\u6578\u64da\u5132\u5b58\u914d\u7f6e\u6a94\u6848\uff1a SAVE_CONFIG","title":"\u6821\u6e96\u9650\u4f4d\u76f8\u4f4d"},{"location":"Endstop_Phase.html#_3","text":"\u8a72\u529f\u80fd\u5728\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u548c\u4f7f\u7528Z\u9650\u4f4d\u7684\u9f8d\u9580/CoreXY\u5370\u8868\u6a5f\u4e0a\u6700\u70ba\u9069\u7528\u3002\u8a72\u529f\u80fd\u4e5f\u53ef\u4ee5\u7528\u5728\u9f8d\u9580\u5f0f\u5370\u8868\u6a5f\u7684X\u3001Y\u8ef8\u4e0a\uff0c\u4f46\uff0c\u7531\u65bcX\u3001Y\u8ef8\u7684\u9650\u4f4d\u504f\u5dee\u4e0d\u6703\u5c0d\u5217\u5370\u8cea\u91cf\u6709\u592a\u5927\u5f71\u97ff\uff0c\u56e0\u6b64\u91cd\u8981\u6027\u7565\u905c\u65bcZ\u9650\u4f4d\u3002\u8a72\u529f\u80fd \u4e0d\u9069\u7528 \u4e8eCoreXY\u5370\u8868\u6a5f\u7684X\uff0cY\u8ef8\u3002\uff08\u56e0\u70baXY\u4f4d\u7f6e\u4e26\u975e\u55ae\u500b\u6b65\u9032\u96fb\u6a5f\u6c7a\u5b9a\u3002\uff09\u8a72\u529f\u80fd\u4e5f \u4e0d\u9069\u7528 \u4e8e\u9069\u7528\u63a2\u91ddZ\u9650\u4f4d\u7684\u5370\u8868\u6a5f\uff08\u56e0\u70ba\u6b65\u9032\u96fb\u6a5f\u76f8\u4f4d\u50c5\u5728\u56fa\u5b9a\u7dda\u6027\u4f4d\u7f6e\u7684\u9650\u4f4d\u4e0a\u6709\u6548\u3002\uff09 \u5728\u9650\u4f4d\u958b\u95dc\u6821\u6e96\u540e\uff0c\u5982\u679c\u79fb\u52d5\u904e\u9650\u4f4d\u958b\u95dc\uff0c\u5247\u9700\u8981\u91cd\u65b0\u6821\u6e96\u76f8\u4f4d\u3002\u6b64\u6642\u61c9\u522a\u9664\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684\u6821\u6e96\u503c\uff0c\u7136\u5f8c\u91cd\u65b0\u57f7\u884c\u76f8\u4f4d\u4fee\u6b63\u3002 \u70ba\u4f7f\u7528\u4e0a\u8ff0\u529f\u80fd\uff0c\u9650\u4f4d\u958b\u95dc\u5fc5\u7684\u504f\u5dee\u503c\u9700\u4f4e\u65bc\u7279\u5b9a\u6b65\u9032\u96fb\u6a5f\u7684\u5169\u500d\u300c\u5168\u6b65\u9577\u300d\u7684\u8ddd\u96e2\u3002\u56e0\u6b64\uff0c\u5982\u679c\u6b65\u9032\u96fb\u6a5f\u4f7f\u752816\u5fae\u6b65\uff0c\u6b64\u6642\u6bcf\u500b\u5fae\u6b65\u7684\u9577\u5ea6\u70ba0.005mm\uff0c\u5247\u9650\u4f4d\u958b\u95dc\u7684\u5206\u8fa8\u80fd\u529b\u61c9\u4f4e\u65bc0.160mm\u3002\u5982\u679c\u7cfb\u7d71\u53cd\u994b\"Endstop stepper_z incorrect phase\"\uff08stepper_z\u76f8\u4f4d\u8207\u9650\u4f4d\u958b\u95dc\u4e0d\u4e00\u81f4\uff09\u932f\u8aa4\u8cc7\u8a0a\uff0c\u5247\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u592a\u5dee\u3002\u5982\u679c\u91cd\u65b0\u6821\u6e96\u672a\u80fd\u6d88\u9664\u5831\u8b66\uff0c\u5247\u9700\u8981\u505c\u7528\u76f8\u4f4d\u6821\u6e96\u529f\u80fd\u3002 \u5982\u679c\u5370\u8868\u6a5f\u4f7f\u7528\u7684\u662f\u5f9e\u50b3\u7d71\u7684\u6b65\u9032\u96fb\u6a5f\u63a7\u5236Z\u8ef8\uff08\u5982\u9f8d\u9580\u6216CoreXY\uff09\uff0c\u540c\u6642\u4f7f\u7528\u4e86\u50b3\u7d71\u7684\u87ba\u6bcd\u8abf\u5e73\u7684\u8a71\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u76f8\u614b\u4fee\u6b63\u529f\u80fd\u5c07\u5217\u5370\u7684\u6bcf\u4e00\u5c64\u7684\u908a\u754c\u8a2d\u5b9a\u5230\u4e00\u500b\u300c\u5168\u6b65\u300d\u4e0a\u3002\u8981\u4f7f\u7528\u9019\u500b\u529f\u80fd\u5247\u9700\u8981\u5728\u5207\u7247\u5668\u4e0a\u5c07\u5c64\u9ad8\u8a2d\u5b9a\u70ba\u300c\u5168\u6b65\u300d\u7684\u6574\u500d\u6578\uff0c\u7136\u5f8c\u5728\u8a2d\u5b9a\u6a94\u6848\u4e2d\u7684endstop_phase \u7247\u6bb5\u4e2d\u589e\u52a0endstop_align_zero\u9078\u9805\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \uff09\uff0c\u7136\u5f8c\u901a\u904e\u8abf\u5e73\u87ba\u6bcd\u8abf\u5e73\u3002 \u8a72\u7cfb\u7d71\u4e5f\u6709\u53ef\u80fd\u7528\u65bc\u50b3\u7d71(\u975eTrinamic)\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5 \u3002\u7136\u800c\uff0c\u9019\u9700\u8981\u6bcf\u6b21\u5fae\u63a7\u5236\u5668\u5fa9\u4f4d\u6642\uff0c\u5c0d\u61c9\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u4e5f\u540c\u6642\u5fa9\u4f4d\u3002\uff08\u5982\u679c\u5169\u8005\u80fd\u5be6\u73fe\u540c\u6642\u5fa9\u4f4d\u7684\u8a71\uff0cKlipper\u80fd\u5920\u901a\u904e\u8a18\u9304\u6b65\u9032\u7684\u7e3d\u79fb\u52d5\u6b65\u6578\u4f86\u78ba\u5b9a\u5176\u76f8\u4f4d\u3002\uff09\u76ee\u524d\uff0c\u80fd\u5920\u53ef\u9760\u5730\u5b8c\u6210\u5fae\u63a7\u5236\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5730\u540c\u6642\u5fa9\u4f4d\u5730\u65b9\u5f0f\u662f\uff0c\u9019\u5169\u8005\u50c5\u901a\u904eUSB\u4f9b\u96fb\u4e26USB\u96fb\u6e90\u901a\u904e\u57f7\u884c\u6709Klipper\u7684\u6a39\u8393\u6d3e\u63d0\u4f9b\u3002\u6b64\u6642\u53ef\u4ee5\u5728\u914d\u7f6e\u7684MCU\u7ae0\u7bc0\u4e2d\u65b0\u589e \"restart_method: rpi_usb\"\uff0c\u8a72\u9078\u9805\u5c07\u5b89\u6392\u5fae\u63a7\u5236\u5668\u59cb\u7d42\u901a\u904eUSB\u96fb\u6e90\u5fa9\u4f4d\uff0c\u5728\u50c5\u4f7f\u7528USB\u4f9b\u96fb\u6642\uff0c\u9019\u5c07\u5b89\u6392\u5fae\u63a7\u5236\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u4e00\u8d77\u88ab\u8907\u4f4d\u3002\u4f7f\u7528\u9019\u7a2e\u65b9\u5f0f\u6642\uff0c\u9700\u8981\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u624b\u52d5\u8a2d\u5b9a\"trigger_phase\"\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \uff09\u3002","title":"\u984d\u5916\u8981\u9ede"},{"location":"Example_Configs.html","text":"\u914d\u7f6e\u793a\u4f8b \u00b6 \u672c\u6587\u4ef6\u5305\u542b\u5411 Klipper Github \u5009\u5eab\uff08\u4f4d\u65bc config directory \uff09\u8ca2\u737b Klipper \u914d\u7f6e\u793a\u4f8b\u7684\u6307\u5357\u3002 \u8acb\u6ce8\u610f Klipper Community Discourse server \u4e5f\u53ef\u4ee5\u7528\u4f86\u5c0b\u627e\u548c\u5206\u4eab\u914d\u7f6e\u6a94\u6848\u3002 \u6e96\u5247 \u00b6 Select the appropriate config filename prefix: printer \u5b57\u9996\u7528\u65bc\u4e3b\u6d41\u88fd\u9020\u5546\u51fa\u552e\u7684\u5370\u8868\u6a5f\u3002 generic \u5b57\u9996\u7528\u65bc\u901a\u75283D\u5370\u8868\u6a5f\u4e3b\u677f\u3002 kit \u7684\u5b57\u9996\u7528\u65bc\u6309\u7167\u516c\u958b\u898f\u7bc4\u7d44\u88dd\u76843D\u5370\u8868\u6a5f\uff08\u4f8b\u5982Voron V2.4\uff09\u3002\u9019\u4e9b \"\u5957\u4ef6 \"\u5370\u8868\u6a5f\u901a\u5e38\u8207\u666e\u901a\u7684\u5370\u8868\u6a5f\u4e0d\u540c\u5728\u5b83\u5011\u901a\u5e38\u4e0d\u88ab\u88fd\u9020\u5546\u92b7\u552e\u3002 sample \u5b57\u9996\u7528\u65bc\u53ef\u4ee5\u88ab\u8907\u5236\u5230\u4e3b\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u914d\u7f6e \"\u7247\u6bb5\"\u3002 example \u5b57\u9996\u662f\u7528\u4f86\u63cf\u8ff0\u5370\u8868\u6a5f\u904b\u52d5\u5b78\u3002\u9019\u7a2e\u578b\u5225\u7684\u914d\u7f6e\u901a\u5e38\u53ea\u8207\u65b0\u578b\u5225\u7684\u5370\u8868\u6a5f\u904b\u52d5\u5b78\u7684\u7a0b\u5f0f\u78bc\u4e00\u8d77\u65b0\u589e\u3002 All configuration files must end in a .cfg suffix. The printer config files must end in a year followed by .cfg (eg, -2019.cfg ). In this case, the year is an approximate year the given printer was sold. Do not use spaces or special characters in the config filename. The filename should contain only characters A-Z , a-z , 0-9 , - , and . . printer , generic , \u548c kit \u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u5fc5\u9808\u4fdd\u8b49 Klipper \u80fd\u5920\u6b63\u5e38\u555f\u52d5\u800c\u4e0d\u51fa\u932f\u3002\u9019\u4e9b\u914d\u7f6e\u6a94\u6848\u61c9\u8a72\u88ab\u65b0\u589e\u5230 test/klippy/printers.test \u8ff4\u6b78\u6e2c\u8a66\u7528\u4f8b\u4e2d\u3002\u5c07\u65b0\u7684\u914d\u7f6e\u6a94\u6848\u65b0\u589e\u5230\u8a72\u6e2c\u8a66\u7528\u4f8b\u7684\u9069\u7576\u90e8\u5206\uff0c\u4e26\u6309\u8a72\u90e8\u5206\u7684\u5b57\u6bcd\u9806\u5e8f\u6392\u5217\u3002 \u8a72\u914d\u7f6e\u793a\u4f8b\u61c9\u8a72\u662f\u5370\u8868\u6a5f\u7684 \"stock \"\u914d\u7f6e\u3002(\u5728klipper\u7684\u5009\u5eab\u4e2d\u6709\u592a\u591a\u5b9a\u88fd\u7684\u914d\u7f6e\u3002)\u540c\u6a23\u5730\uff0c\u6211\u5011\u53ea\u70ba\u5177\u6709\u4e3b\u6d41\u6d41\u884c\u6027\u7684\u5370\u8868\u6a5f\u3001\u5957\u4ef6\u548c\u677f\u5b50\u65b0\u589e\u914d\u7f6e\u6a94\u6848\u7684\u4f8b\u5b50\uff08\u81f3\u5c11\u61c9\u8a72\u6709100\u500b\u6b63\u5728\u4f7f\u7528\u4e2d\uff09\u3002\u8003\u616e\u4f7f\u7528 Klipper Community Discourse server \u9032\u884c\u5176\u4ed6\u914d\u7f6e\u3002 Only specify those devices present on the given printer or board. Do not specify settings specific to your particular setup. For generic config files, only those devices on the mainboard should be described. For example, it would not make sense to add a display config section to a \"generic\" config as there is no way to know if the board will be attached to that type of display. If the board has a specific hardware port to facilitate an optional peripheral (eg, a bltouch port) then one can add a \"commented out\" config section for the given device. \u4e0d\u8981\u5728\u914d\u7f6e\u793a\u4f8b\u4e2d\u6307\u5b9a pressure_advance \uff0c\u56e0\u70ba\u8a72\u503c\u662f\u91dd\u5c0d\u8017\u6750\u7684\uff0c\u800c\u4e0d\u662f\u5370\u8868\u6a5f\u786c\u9ad4\u3002\u540c\u6a23\uff0c\u4e0d\u8981\u6307\u5b9a max_extrude_only_velocity \u6216 max_extrude_only_accel \u8a2d\u5b9a\u3002 \u4e0d\u8981\u6307\u5b9a\u4e00\u500b\u5305\u542b\u4e3b\u6a5f\u8def\u5f91\u6216\u4e3b\u6a5f\u786c\u9ad4\u7684\u914d\u7f6e\u90e8\u5206\u3002\u4f8b\u5982\uff0c\u4e0d\u8981\u6307\u5b9a [virtual_sdcard] \u6216 [temperature_host] \u914d\u7f6e\u90e8\u5206\u3002 \u53ea\u70ba\u5229\u7528\u7279\u5b9a\u5370\u8868\u6a5f\u529f\u80fd\uff0c\u6216\u7279\u5b9a\u5370\u8868\u6a5f\u914d\u7f6e\u7684\u5207\u7247\u8edf\u9ad4\u901a\u5e38\u767c\u51fa\u7684G\u7a0b\u5f0f\u78bc\u5b9a\u7fa9\u5b8f\u3002 Where possible, it is best to use the same wording, phrasing, indentation, and section ordering as the existing config files. The top of each config file should list the type of micro-controller the user should select during \"make menuconfig\". It should also have a reference to \"docs/Config_Reference.md\". \u4e0d\u8981\u5c07\u6b04\u4f4d\u6587\u4ef6\u8907\u88fd\u5230\u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u4e2d\u3002\uff08\u9019\u6a23\u505a\u6703\u9020\u6210\u7dad\u8b77\u65b9\u9762\u7684\u8ca0\u64d4\uff0c\u56e0\u70ba\u5c0d\u6587\u4ef6\u7684\u66f4\u65b0\u9700\u8981\u5728\u5f88\u591a\u5730\u65b9\u9032\u884c\u4fee\u6539\u3002\uff09 \u914d\u7f6e\u6a94\u6848\u7684\u4f8b\u5b50\u4e0d\u61c9\u5305\u542b \"SAVE_CONFIG \"\u90e8\u5206\u3002\u5982\u679c\u6709\u5fc5\u8981\uff0c\u628aSAVE_CONFIG\u90e8\u5206\u7684\u76f8\u95dc\u6b04\u4f4d\u8907\u88fd\u5230\u4e3b\u914d\u7f6e\u5340\u7684\u9069\u7576\u90e8\u5206\u3002 \u4f7f\u7528 field: value \u7684\u8a9e\u6cd5\uff0c\u800c\u4e0d\u8981\u4f7f\u7528 field=value \u3002 When adding an extruder rotation_distance it is preferable to specify a gear_ratio if the extruder has a gearing mechanism. We expect the rotation_distance in the example configs to correlate with the circumference of the hobbed gear in the extruder - it is normally in the range of 20 to 35mm. When specifying a gear_ratio it is preferable to specify the actual gears on the mechanism (eg, prefer gear_ratio: 80:20 over gear_ratio: 4:1 ). See the rotation distance document for more information. \u907f\u514d\u5b9a\u7fa9\u90a3\u4e9b\u88ab\u8a2d\u5b9a\u70ba\u9810\u8a2d\u503c\u7684\u6b04\u4f4d\u503c\u3002\u4f8b\u5982\uff0c\u4e0d\u61c9\u8a72\u6307\u5b9a min_extrude_temp: 170 \uff0c\u56e0\u70ba\u9019\u5df2\u7d93\u662f\u9810\u8a2d\u503c\u3002 \u5728\u53ef\u80fd\u7684\u60c5\u6cc1\u4e0b\uff0c\u884c\u6578\u4e0d\u61c9\u8d85\u904e80\u5217\u3002 \u907f\u514d\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u65b0\u589e\u6b78\u5c6c\u6216\u4fee\u8a02\u8cc7\u8a0a\u3002\u4f8b\u5982\uff0c\u907f\u514d\u65b0\u589e\u985e\u4f3c \"\u6b64\u6a94\u6848\u7531......\u5efa\u7acb \"\u7684\u884c\u3002\uff09\u5c07\u6b78\u5c6c\u548c\u4fee\u6539\u6b77\u53f2\u653e\u5728git\u63d0\u4ea4\u8cc7\u8a0a\u4e2d\u3002 Do not use any deprecated features in the example config file. \u4e0d\u8981\u5728\u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u4e2d\u7981\u7528\u9810\u8a2d\u5b89\u5168\u7cfb\u7d71\u3002\u4f8b\u5982\uff0c\u4e00\u500b\u914d\u7f6e\u4e0d\u61c9\u8a72\u6307\u5b9a\u4e00\u500b\u81ea\u5b9a\u7fa9\u7684 max_extrude_cross_section \u3002\u4e0d\u8981\u555f\u7528\u9664\u932f\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u4e0d\u61c9\u8a72\u6709\u4e00\u500b force_move \u914d\u7f6e\u90e8\u5206\u3002 All known boards that Klipper supports can use the default serial baud rate of 250000. Do not recommend a different baud rate in an example config file. \u901a\u904e\u5efa\u7acbgithub \"pull request \"\u4f86\u63d0\u4ea4\u914d\u7f6e\u6a94\u6848\u793a\u4f8b\u3002\u4e5f\u8acb\u9075\u5faa contribution document \u4e2d\u7684\u6307\u793a\u3002","title":"\u914d\u7f6e\u793a\u4f8b"},{"location":"Example_Configs.html#_1","text":"\u672c\u6587\u4ef6\u5305\u542b\u5411 Klipper Github \u5009\u5eab\uff08\u4f4d\u65bc config directory \uff09\u8ca2\u737b Klipper \u914d\u7f6e\u793a\u4f8b\u7684\u6307\u5357\u3002 \u8acb\u6ce8\u610f Klipper Community Discourse server \u4e5f\u53ef\u4ee5\u7528\u4f86\u5c0b\u627e\u548c\u5206\u4eab\u914d\u7f6e\u6a94\u6848\u3002","title":"\u914d\u7f6e\u793a\u4f8b"},{"location":"Example_Configs.html#_2","text":"Select the appropriate config filename prefix: printer \u5b57\u9996\u7528\u65bc\u4e3b\u6d41\u88fd\u9020\u5546\u51fa\u552e\u7684\u5370\u8868\u6a5f\u3002 generic \u5b57\u9996\u7528\u65bc\u901a\u75283D\u5370\u8868\u6a5f\u4e3b\u677f\u3002 kit \u7684\u5b57\u9996\u7528\u65bc\u6309\u7167\u516c\u958b\u898f\u7bc4\u7d44\u88dd\u76843D\u5370\u8868\u6a5f\uff08\u4f8b\u5982Voron V2.4\uff09\u3002\u9019\u4e9b \"\u5957\u4ef6 \"\u5370\u8868\u6a5f\u901a\u5e38\u8207\u666e\u901a\u7684\u5370\u8868\u6a5f\u4e0d\u540c\u5728\u5b83\u5011\u901a\u5e38\u4e0d\u88ab\u88fd\u9020\u5546\u92b7\u552e\u3002 sample \u5b57\u9996\u7528\u65bc\u53ef\u4ee5\u88ab\u8907\u5236\u5230\u4e3b\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u914d\u7f6e \"\u7247\u6bb5\"\u3002 example \u5b57\u9996\u662f\u7528\u4f86\u63cf\u8ff0\u5370\u8868\u6a5f\u904b\u52d5\u5b78\u3002\u9019\u7a2e\u578b\u5225\u7684\u914d\u7f6e\u901a\u5e38\u53ea\u8207\u65b0\u578b\u5225\u7684\u5370\u8868\u6a5f\u904b\u52d5\u5b78\u7684\u7a0b\u5f0f\u78bc\u4e00\u8d77\u65b0\u589e\u3002 All configuration files must end in a .cfg suffix. The printer config files must end in a year followed by .cfg (eg, -2019.cfg ). In this case, the year is an approximate year the given printer was sold. Do not use spaces or special characters in the config filename. The filename should contain only characters A-Z , a-z , 0-9 , - , and . . printer , generic , \u548c kit \u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u5fc5\u9808\u4fdd\u8b49 Klipper \u80fd\u5920\u6b63\u5e38\u555f\u52d5\u800c\u4e0d\u51fa\u932f\u3002\u9019\u4e9b\u914d\u7f6e\u6a94\u6848\u61c9\u8a72\u88ab\u65b0\u589e\u5230 test/klippy/printers.test \u8ff4\u6b78\u6e2c\u8a66\u7528\u4f8b\u4e2d\u3002\u5c07\u65b0\u7684\u914d\u7f6e\u6a94\u6848\u65b0\u589e\u5230\u8a72\u6e2c\u8a66\u7528\u4f8b\u7684\u9069\u7576\u90e8\u5206\uff0c\u4e26\u6309\u8a72\u90e8\u5206\u7684\u5b57\u6bcd\u9806\u5e8f\u6392\u5217\u3002 \u8a72\u914d\u7f6e\u793a\u4f8b\u61c9\u8a72\u662f\u5370\u8868\u6a5f\u7684 \"stock \"\u914d\u7f6e\u3002(\u5728klipper\u7684\u5009\u5eab\u4e2d\u6709\u592a\u591a\u5b9a\u88fd\u7684\u914d\u7f6e\u3002)\u540c\u6a23\u5730\uff0c\u6211\u5011\u53ea\u70ba\u5177\u6709\u4e3b\u6d41\u6d41\u884c\u6027\u7684\u5370\u8868\u6a5f\u3001\u5957\u4ef6\u548c\u677f\u5b50\u65b0\u589e\u914d\u7f6e\u6a94\u6848\u7684\u4f8b\u5b50\uff08\u81f3\u5c11\u61c9\u8a72\u6709100\u500b\u6b63\u5728\u4f7f\u7528\u4e2d\uff09\u3002\u8003\u616e\u4f7f\u7528 Klipper Community Discourse server \u9032\u884c\u5176\u4ed6\u914d\u7f6e\u3002 Only specify those devices present on the given printer or board. Do not specify settings specific to your particular setup. For generic config files, only those devices on the mainboard should be described. For example, it would not make sense to add a display config section to a \"generic\" config as there is no way to know if the board will be attached to that type of display. If the board has a specific hardware port to facilitate an optional peripheral (eg, a bltouch port) then one can add a \"commented out\" config section for the given device. \u4e0d\u8981\u5728\u914d\u7f6e\u793a\u4f8b\u4e2d\u6307\u5b9a pressure_advance \uff0c\u56e0\u70ba\u8a72\u503c\u662f\u91dd\u5c0d\u8017\u6750\u7684\uff0c\u800c\u4e0d\u662f\u5370\u8868\u6a5f\u786c\u9ad4\u3002\u540c\u6a23\uff0c\u4e0d\u8981\u6307\u5b9a max_extrude_only_velocity \u6216 max_extrude_only_accel \u8a2d\u5b9a\u3002 \u4e0d\u8981\u6307\u5b9a\u4e00\u500b\u5305\u542b\u4e3b\u6a5f\u8def\u5f91\u6216\u4e3b\u6a5f\u786c\u9ad4\u7684\u914d\u7f6e\u90e8\u5206\u3002\u4f8b\u5982\uff0c\u4e0d\u8981\u6307\u5b9a [virtual_sdcard] \u6216 [temperature_host] \u914d\u7f6e\u90e8\u5206\u3002 \u53ea\u70ba\u5229\u7528\u7279\u5b9a\u5370\u8868\u6a5f\u529f\u80fd\uff0c\u6216\u7279\u5b9a\u5370\u8868\u6a5f\u914d\u7f6e\u7684\u5207\u7247\u8edf\u9ad4\u901a\u5e38\u767c\u51fa\u7684G\u7a0b\u5f0f\u78bc\u5b9a\u7fa9\u5b8f\u3002 Where possible, it is best to use the same wording, phrasing, indentation, and section ordering as the existing config files. The top of each config file should list the type of micro-controller the user should select during \"make menuconfig\". It should also have a reference to \"docs/Config_Reference.md\". \u4e0d\u8981\u5c07\u6b04\u4f4d\u6587\u4ef6\u8907\u88fd\u5230\u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u4e2d\u3002\uff08\u9019\u6a23\u505a\u6703\u9020\u6210\u7dad\u8b77\u65b9\u9762\u7684\u8ca0\u64d4\uff0c\u56e0\u70ba\u5c0d\u6587\u4ef6\u7684\u66f4\u65b0\u9700\u8981\u5728\u5f88\u591a\u5730\u65b9\u9032\u884c\u4fee\u6539\u3002\uff09 \u914d\u7f6e\u6a94\u6848\u7684\u4f8b\u5b50\u4e0d\u61c9\u5305\u542b \"SAVE_CONFIG \"\u90e8\u5206\u3002\u5982\u679c\u6709\u5fc5\u8981\uff0c\u628aSAVE_CONFIG\u90e8\u5206\u7684\u76f8\u95dc\u6b04\u4f4d\u8907\u88fd\u5230\u4e3b\u914d\u7f6e\u5340\u7684\u9069\u7576\u90e8\u5206\u3002 \u4f7f\u7528 field: value \u7684\u8a9e\u6cd5\uff0c\u800c\u4e0d\u8981\u4f7f\u7528 field=value \u3002 When adding an extruder rotation_distance it is preferable to specify a gear_ratio if the extruder has a gearing mechanism. We expect the rotation_distance in the example configs to correlate with the circumference of the hobbed gear in the extruder - it is normally in the range of 20 to 35mm. When specifying a gear_ratio it is preferable to specify the actual gears on the mechanism (eg, prefer gear_ratio: 80:20 over gear_ratio: 4:1 ). See the rotation distance document for more information. \u907f\u514d\u5b9a\u7fa9\u90a3\u4e9b\u88ab\u8a2d\u5b9a\u70ba\u9810\u8a2d\u503c\u7684\u6b04\u4f4d\u503c\u3002\u4f8b\u5982\uff0c\u4e0d\u61c9\u8a72\u6307\u5b9a min_extrude_temp: 170 \uff0c\u56e0\u70ba\u9019\u5df2\u7d93\u662f\u9810\u8a2d\u503c\u3002 \u5728\u53ef\u80fd\u7684\u60c5\u6cc1\u4e0b\uff0c\u884c\u6578\u4e0d\u61c9\u8d85\u904e80\u5217\u3002 \u907f\u514d\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u65b0\u589e\u6b78\u5c6c\u6216\u4fee\u8a02\u8cc7\u8a0a\u3002\u4f8b\u5982\uff0c\u907f\u514d\u65b0\u589e\u985e\u4f3c \"\u6b64\u6a94\u6848\u7531......\u5efa\u7acb \"\u7684\u884c\u3002\uff09\u5c07\u6b78\u5c6c\u548c\u4fee\u6539\u6b77\u53f2\u653e\u5728git\u63d0\u4ea4\u8cc7\u8a0a\u4e2d\u3002 Do not use any deprecated features in the example config file. \u4e0d\u8981\u5728\u793a\u4f8b\u914d\u7f6e\u6a94\u6848\u4e2d\u7981\u7528\u9810\u8a2d\u5b89\u5168\u7cfb\u7d71\u3002\u4f8b\u5982\uff0c\u4e00\u500b\u914d\u7f6e\u4e0d\u61c9\u8a72\u6307\u5b9a\u4e00\u500b\u81ea\u5b9a\u7fa9\u7684 max_extrude_cross_section \u3002\u4e0d\u8981\u555f\u7528\u9664\u932f\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u4e0d\u61c9\u8a72\u6709\u4e00\u500b force_move \u914d\u7f6e\u90e8\u5206\u3002 All known boards that Klipper supports can use the default serial baud rate of 250000. Do not recommend a different baud rate in an example config file. \u901a\u904e\u5efa\u7acbgithub \"pull request \"\u4f86\u63d0\u4ea4\u914d\u7f6e\u6a94\u6848\u793a\u4f8b\u3002\u4e5f\u8acb\u9075\u5faa contribution document \u4e2d\u7684\u6307\u793a\u3002","title":"\u6e96\u5247"},{"location":"Exclude_Object.html","text":"Exclude Objects \u00b6 The [exclude_object] module allows Klipper to exclude objects while a print is in progress. To enable this feature include an exclude_object config section (also see the command reference and sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro.) Unlike other 3D printer firmware options, a printer running Klipper utilizes a suite of components and users have many options to choose from. Therefore, in order to provide a a consistent user experience, the [exclude_object] module will establish a contract or API of sorts. The contract covers the contents of the gcode file, how the internal state of the module is controlled, and how that state is provided to clients. Workflow Overview \u00b6 A typical workflow for printing a file might look like this: Slicing is completed and the file is uploaded for printing. During the upload, the file is processed and [exclude_object] markers are added to the file. Alternately, slicers may be configured to prepare object exclusion markers natively, or in it's own pre-processing step. When printing starts, Klipper will reset the [exclude_object] status . When Klipper processes the EXCLUDE_OBJECT_DEFINE block, it will update the status with the known objects and pass it on to clients. The client may use that information to present a UI to the user so that progress can be tracked. Klipper will update the status to include the currently printing object which the client can use for display purposes. If the user requests that an object be cancelled, the client will issue an EXCLUDE_OBJECT NAME=<name> command to Klipper. When Klipper process the command, it will add the object to the list of excluded objects and update the status for the client. The client will receive the updated status from Klipper and can use that information to reflect the object's status in the UI. When printing finishes, the [exclude_object] status will continue to be available until another action resets it. The GCode File \u00b6 The specialized gcode processing needed to support excluding objects does not fit into Klipper's core design goals. Therefore, this module requires that the file is processed before being sent to Klipper for printing. Using a post-process script in the slicer or having middleware process the file on upload are two possibilities for preparing the file for Klipper. A reference post-processing script is available both as an executable and a python library, see cancelobject-preprocessor . Object Definitions \u00b6 The EXCLUDE_OBJECT_DEFINE command is used to provide a summary of each object in the gcode file to be printed. Provides a summary of an object in the file. Objects don't need to be defined in order to be referenced by other commands. The primary purpose of this command is to provide information to the UI without needing to parse the entire gcode file. Object definitions are named, to allow users to easily select an object to be excluded, and additional metadata may be provided to allow for graphical cancellation displays. Currently defined metadata includes a CENTER X,Y coordinate, and a POLYGON list of X,Y points representing a minimal outline of the object. This could be a simple bounding box, or a complicated hull for showing more detailed visualizations of the printed objects. Especially when gcode files include multiple parts with overlapping bounding regions, center points become hard to visually distinguish. POLYGONS must be a json-compatible array of point [X,Y] tuples without whitespace. Additional parameters will be saved as strings in the object definition and provided in status updates. EXCLUDE_OBJECT_DEFINE NAME=calibration_pyramid CENTER=50,50 POLYGON=[[40,40],[50,60],[60,40]] All available G-Code commands are documented in the G-Code Reference Status Information \u00b6 The state of this module is provided to clients by the exclude_object status . The status is reset when: The Klipper firmware is restarted. There is a reset of the [virtual_sdcard] . Notably, this is reset by Klipper at the start of a print. When an EXCLUDE_OBJECT_DEFINE RESET=1 command is issued. The list of defined objects is represented in the exclude_object.objects status field. In a well defined gcode file, this will be done with EXCLUDE_OBJECT_DEFINE commands at the beginning of the file. This will provide clients with object names and coordinates so the UI can provide a graphical representation of the objects if desired. As the print progresses, the exclude_object.current_object status field will be updated as Klipper processes EXCLUDE_OBJECT_START and EXCLUDE_OBJECT_END commands. The current_object field will be set even if the object has been excluded. Undefined objects marked with a EXCLUDE_OBJECT_START will be added to the known objects to assist in UI hinting, without any additional metadata. As EXCLUDE_OBJECT commands are issued, the list of excluded objects is provided in the exclude_object.excluded_objects array. Since Klipper looks ahead to process upcoming gcode, there may be a delay between when the command is issued and when the status is updated.","title":"Exclude Objects"},{"location":"Exclude_Object.html#exclude-objects","text":"The [exclude_object] module allows Klipper to exclude objects while a print is in progress. To enable this feature include an exclude_object config section (also see the command reference and sample-macros.cfg file for a Marlin/RepRapFirmware compatible M486 G-Code macro.) Unlike other 3D printer firmware options, a printer running Klipper utilizes a suite of components and users have many options to choose from. Therefore, in order to provide a a consistent user experience, the [exclude_object] module will establish a contract or API of sorts. The contract covers the contents of the gcode file, how the internal state of the module is controlled, and how that state is provided to clients.","title":"Exclude Objects"},{"location":"Exclude_Object.html#workflow-overview","text":"A typical workflow for printing a file might look like this: Slicing is completed and the file is uploaded for printing. During the upload, the file is processed and [exclude_object] markers are added to the file. Alternately, slicers may be configured to prepare object exclusion markers natively, or in it's own pre-processing step. When printing starts, Klipper will reset the [exclude_object] status . When Klipper processes the EXCLUDE_OBJECT_DEFINE block, it will update the status with the known objects and pass it on to clients. The client may use that information to present a UI to the user so that progress can be tracked. Klipper will update the status to include the currently printing object which the client can use for display purposes. If the user requests that an object be cancelled, the client will issue an EXCLUDE_OBJECT NAME=<name> command to Klipper. When Klipper process the command, it will add the object to the list of excluded objects and update the status for the client. The client will receive the updated status from Klipper and can use that information to reflect the object's status in the UI. When printing finishes, the [exclude_object] status will continue to be available until another action resets it.","title":"Workflow Overview"},{"location":"Exclude_Object.html#the-gcode-file","text":"The specialized gcode processing needed to support excluding objects does not fit into Klipper's core design goals. Therefore, this module requires that the file is processed before being sent to Klipper for printing. Using a post-process script in the slicer or having middleware process the file on upload are two possibilities for preparing the file for Klipper. A reference post-processing script is available both as an executable and a python library, see cancelobject-preprocessor .","title":"The GCode File"},{"location":"Exclude_Object.html#object-definitions","text":"The EXCLUDE_OBJECT_DEFINE command is used to provide a summary of each object in the gcode file to be printed. Provides a summary of an object in the file. Objects don't need to be defined in order to be referenced by other commands. The primary purpose of this command is to provide information to the UI without needing to parse the entire gcode file. Object definitions are named, to allow users to easily select an object to be excluded, and additional metadata may be provided to allow for graphical cancellation displays. Currently defined metadata includes a CENTER X,Y coordinate, and a POLYGON list of X,Y points representing a minimal outline of the object. This could be a simple bounding box, or a complicated hull for showing more detailed visualizations of the printed objects. Especially when gcode files include multiple parts with overlapping bounding regions, center points become hard to visually distinguish. POLYGONS must be a json-compatible array of point [X,Y] tuples without whitespace. Additional parameters will be saved as strings in the object definition and provided in status updates. EXCLUDE_OBJECT_DEFINE NAME=calibration_pyramid CENTER=50,50 POLYGON=[[40,40],[50,60],[60,40]] All available G-Code commands are documented in the G-Code Reference","title":"Object Definitions"},{"location":"Exclude_Object.html#status-information","text":"The state of this module is provided to clients by the exclude_object status . The status is reset when: The Klipper firmware is restarted. There is a reset of the [virtual_sdcard] . Notably, this is reset by Klipper at the start of a print. When an EXCLUDE_OBJECT_DEFINE RESET=1 command is issued. The list of defined objects is represented in the exclude_object.objects status field. In a well defined gcode file, this will be done with EXCLUDE_OBJECT_DEFINE commands at the beginning of the file. This will provide clients with object names and coordinates so the UI can provide a graphical representation of the objects if desired. As the print progresses, the exclude_object.current_object status field will be updated as Klipper processes EXCLUDE_OBJECT_START and EXCLUDE_OBJECT_END commands. The current_object field will be set even if the object has been excluded. Undefined objects marked with a EXCLUDE_OBJECT_START will be added to the known objects to assist in UI hinting, without any additional metadata. As EXCLUDE_OBJECT commands are issued, the list of excluded objects is provided in the exclude_object.excluded_objects array. Since Klipper looks ahead to process upcoming gcode, there may be a delay between when the command is issued and when the status is updated.","title":"Status Information"},{"location":"FAQ.html","text":"\u5e38\u898b\u554f\u984c \u00b6 \u6211\u5982\u4f55\u5411\u5c08\u6848\u6350\u6b3e\uff1f \u00b6 \u8b1d\u8b1d\u3002Kevin\u6709\u4e00\u500bPATREON\u9801\u9762\uff0c\u5730\u5740\u662f\uff1a https://www.patreon.com/koconnor \u5982\u4f55\u8a08\u7b97 rotation_distance \u914d\u7f6e\u53c3\u6578\uff1f \u00b6 \u53c3\u898b \u65cb\u8f49\u8ddd\u96e2\u6587\u4ef6 \u3002 \u6211\u7684\u4e32\u5217\u57e0\u5728\u54ea\u88e1\u627e\uff1f \u00b6 \u67e5\u8a62 USB \u4e32\u5217\u57e0\u7684\u4e00\u822c\u65b9\u6cd5\u662f\u5f9e\u4e3b\u6a5f\u4e0a\u7684 ssh \u7d42\u7aef\u57f7\u884c ls /dev/serial/by-id/* \u3002 \u5b83\u53ef\u80fd\u6703\u7522\u751f\u985e\u4f3c\u65bc\u4ee5\u4e0b\u5167\u5bb9\u7684\u8f38\u51fa\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u627e\u5230\u7684\u540d\u7a31\u662f\u7a69\u5b9a\u7684\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u4f7f\u7528\u5b83\uff0c\u540c\u6642\u53ef\u7528\u65bc\u5237\u5beb\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u78bc\u3002 \u4f8b\u5982\uff0c\u4e00\u500b flash \u547d\u4ee4\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u66f4\u65b0\u540e\u7684\u914d\u7f6e\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u8acb\u52d9\u5fc5\u5f9e\u4e0a\u9762\u57f7\u884c\u7684\u300cls\u300d\u547d\u4ee4\u4e2d\u8907\u88fd\u4e26\u8cbc\u4e0a\u540d\u7a31\uff0c\u56e0\u70ba\u6bcf\u500b\u5370\u8868\u6a5f\u7684\u540d\u7a31\u90fd\u4e0d\u540c\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u591a\u500b\u5fae\u63a7\u5236\u5668\u4e26\u4e14\u5b83\u5011\u6c92\u6709\u552f\u4e00\u7684 ID\uff08\u5728\u5e36\u6709 CH340 USB \u6676\u7247\u7684\u677f\u4e0a\u5f88\u5e38\u898b\uff09\uff0c\u90a3\u9ebc\u8acb\u6309\u7167\u4e0a\u9762\u7684\u8aaa\u660e\u4f7f\u7528\u547d\u4ee4 ls /dev/serial/by-path/* \u4ee3\u66ff\u3002 \u7576\u5fae\u63a7\u5236\u5668\u91cd\u65b0\u555f\u52d5\u88dd\u7f6e\u66f4\u6539\u70ba/dev/ttyUSB1 \u00b6 \u6309\u7167\u300c \u6211\u7684\u4e32\u5217\u57e0\u5728\u54ea\u88e1\u627e\uff1f \u300d\u90e8\u5206\u4e2d\u7684\u8aaa\u660e\u4f86\u9632\u6b62\u9019\u7a2e\u60c5\u6cc1\u767c\u751f\u3002 \u300cmake flash\u300d\u547d\u4ee4\u4e0d\u8d77\u4f5c\u7528 \u00b6 \u8a72\u7a0b\u5f0f\u78bc\u5617\u8a66\u4f7f\u7528\u6bcf\u500b\u5e73\u81fa\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u4f86\u5237\u5beb\u88dd\u7f6e\u3002 \u4e0d\u5e78\u7684\u662f\uff0c\u5237\u5beb\u65b9\u6cd5\u5b58\u5728\u5f88\u591a\u5dee\u7570\uff0c\u56e0\u6b64\u300cmake flash\u300d\u547d\u4ee4\u53ef\u80fd\u4e0d\u9069\u7528\u4e8e\u6240\u6709\u4e3b\u677f\u3002 \u5982\u679c\u60a8\u9047\u5230\u9593\u6b47\u6027\u6545\u969c\u6216\u60a8\u78ba\u5be6\u6709\u6a19\u6e96\u8a2d\u5b9a\uff0c\u8acb\u4ed4\u7d30\u6aa2\u67e5\u5237\u5beb\u6642 Klipper \u662f\u5426\u672a\u57f7\u884c\uff08sudo service klipper stop\uff09\uff0c\u78ba\u4fdd OctoPrint \u672a\u5617\u8a66\u76f4\u63a5\u9023\u7dda\u5230\u88dd\u7f6e\uff08\u6253\u958b \u7db2\u9801\u4e2d\u7684\u9023\u7dda\u9078\u9805\u5361\uff0c\u5982\u679c\u4e32\u5217\u57e0\u8a2d\u5b9a\u70ba\u88dd\u7f6e\uff0c\u5247\u55ae\u64ca\u65b7\u958b\u9023\u7dda\uff09\uff0c\u4e26\u78ba\u4fdd\u70ba\u60a8\u7684\u96fb\u8def\u677f\u6b63\u78ba\u8a2d\u5b9a\u4e86 FLASH_DEVICE\uff08\u8acb\u53c3\u95b1 \u4e0a\u9762\u7684\u554f\u984c \uff09\u3002 \u4f46\u662f\uff0c\u5982\u679c\u300cmake flash\u300d\u5c0d\u60a8\u7684\u96fb\u8def\u677f\u4e0d\u8d77\u4f5c\u7528\uff0c\u90a3\u9ebc\u60a8\u5c07\u9700\u8981\u624b\u52d5\u5237\u5beb\u3002 \u6aa2\u8996 config directory \u4e2d\u662f\u5426\u6709\u4e00\u500b\u914d\u7f6e\u6a94\u6848\uff0c\u88e1\u9762\u6709\u5237\u6a5f\u7684\u5177\u9ad4\u8aaa\u660e\u3002 \u6b64\u5916\uff0c\u8acb\u6aa2\u8996\u96fb\u8def\u677f\u88fd\u9020\u5546\u7684\u6587\u4ef6\uff0c\u770b\u770b\u5b83\u662f\u5426\u63cf\u8ff0\u77ad\u5982\u4f55\u5237\u5beb\u88dd\u7f6e\u3002 \u6700\u5f8c\uff0c\u53ef\u4ee5\u4f7f\u7528\u8af8\u5982\u300cavrdude\u300d\u6216\u300cbossac\u300d\u4e4b\u985e\u7684\u5de5\u5177\u624b\u52d5\u5237\u5beb\u88dd\u7f6e\u2014\u2014\u6709\u95dc\u66f4\u591a\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 \u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u6587\u4ef6 \u3002 \u5982\u4f55\u66f4\u6539\u5e8f\u5217\u6ce2\u7279\u7387\uff1f \u00b6 Klipper\u7684\u63a8\u85a6\u6ce2\u7279\u7387\u662f 250000\u3002\u9019\u500b\u6ce2\u7279\u7387\u5728 Klipper \u652f\u63f4\u7684\u6240\u6709\u5fae\u63a7\u5236\u5668\u677f\u4e0a\u90fd\u5f88\u597d\u7528\u3002\u5982\u679c\u4f60\u767c\u73fe\u7db2\u4e0a\u7684\u6307\u5357\u63a8\u85a6\u4e86\u4e00\u500b\u4e0d\u540c\u7684\u6ce2\u7279\u7387\uff0c\u90a3\u9ebc\u8acb\u5ffd\u7565\u9019\u90e8\u5206\u6307\u5357\uff0c\u7e7c\u7e8c\u4f7f\u7528\u9810\u8a2d\u503c 250000\u3002 \u5982\u679c\u4f60\u9084\u662f\u60f3\u6539\u8b8a\u6ce2\u7279\u7387\uff0c\u90a3\u9ebc\u9700\u8981\u91cd\u65b0\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u70ba\u65b0\u7684\u6ce2\u7279\u7387\uff08\u5728 make menuconfig \u904e\u7a0b\u4e2d\uff09\uff0c\u7136\u5f8c\u5c07\u66f4\u65b0\u7684\u7a0b\u5f0f\u78bc\u7de8\u8b6f\u4e26\u5237\u5beb\u5230\u5fae\u63a7\u5236\u5668\u4e2d\u3002Klipper \u7684 printer.cfg \u6a94\u6848\u4e5f\u9700\u8981\u66f4\u65b0\u4ee5\u5339\u914d\u8a72\u6ce2\u7279\u7387\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \u3002\u4f8b\u5982\uff1a [mcu] baud: 250000 OctoPrint \u7db2\u9801\u4e0a\u986f\u793a\u7684\u6ce2\u7279\u7387\u5c0d\u5167\u90e8 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u6c92\u6709\u5f71\u97ff\u3002\u4f7f\u7528 Klipper \u6642\uff0c\u59cb\u7d42\u5c07 OctoPrint \u7684\u6ce2\u7279\u7387\u8a2d\u5b9a\u70ba250000\u3002 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u8207\u5fae\u63a7\u5236\u5668\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u7684\u6ce2\u7279\u7387\u7121\u95dc\u3002\u6709\u95dc\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u7684\u984d\u5916\u8cc7\u8a0a\u8acb\u53c3\u95b1 \u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u6587\u4ef6 \u3002 \u6211\u53ef\u4ee5\u5728 Raspberry Pi 3 \u4ee5\u5916\u7684\u5176\u4ed6\u88dd\u7f6e\u4e0a\u57f7\u884c Klipper \u55ce\uff1f \u00b6 \u63a8\u85a6\u7684\u786c\u9ad4\u662f Raspberry Pi 2\u3001Raspberry Pi 3 \u6216 Raspberry Pi 4\u3002 Klipper \u53ef\u4ee5\u5728 Raspberry Pi 1\u548cRaspberry Pi Zero\u4e0a\u57f7\u884c\uff0c\u4f46\u9019\u4e9b\u677f\u5b50\u6c92\u6709\u8db3\u5920\u7684\u8655\u7406\u80fd\u529b\u4f86\u57f7\u884c OctoPrint\u3002\u5728\u9019\u4e9b\u8f03\u6162\u7684\u6a5f\u5668\u4e0a\u76f4\u63a5\u5f9e OctoPrint \u5217\u5370\u6642\uff0c\u7d93\u5e38\u6703\u51fa\u73fe\u5217\u5370\u505c\u6eef\u3002(\u5370\u8868\u6a5f\u7684\u79fb\u52d5\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u767c\u9001\u79fb\u52d5\u547d\u4ee4\u7684\u901f\u5ea6\u5feb\u3002)\u5982\u679c\u4f60\u5e0c\u671b\u5728\u9019\u4e9b\u8f03\u6162\u7684\u677f\u5b50\u4e0a\u57f7\u884c\uff0c\u8acb\u8003\u616e\u5728\u5217\u5370\u6642\u4f7f\u7528 \"virtual_sdcard \"\u529f\u80fd(\u8a73\u60c5\u8acb\u53c3\u898b \u914d\u7f6e\u53c3\u8003 )\u3002 \u8981\u5728Beaglebone\u4e0a\u57f7\u884c\uff0c\u8acb\u53c3\u95b1 Beaglebone\u7279\u5225\u5b89\u88dd\u8aaa\u660e \u3002 Klipper \u53ef\u4ee5\u5728\u5176\u4ed6\u8a08\u7b97\u6a5f\u4e0a\u57f7\u884c\u3002Klipper \u4e3b\u6a5f\u8edf\u9ad4\u53ea\u9700\u8981\u5728Linux\uff08\u6216\u985e\u4f3c\uff09\u7cfb\u7d71\u7684\u8a08\u7b97\u6a5f\u4e0a\u57f7\u884c Python\u3002\u7136\u800c\uff0c\u5982\u679c\u4f60\u60f3\u5728\u5176\u4ed6\u8a08\u7b97\u6a5f\u4e0a\u57f7\u884c\u5b83\uff0c\u4f60\u5c07\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8b58\u4f86\u5b89\u88dd\u8a72\u8a08\u7b97\u6a5f\u4e0a\u7cfb\u7d71\u7684\u4f9d\u8cf4\u5305\u3002\u53c3\u898b install-octopi.sh \u6307\u4ee4\u78bc\uff0c\u4ee5\u9032\u4e00\u6b65\u77ad\u89e3\u5fc5\u8981\u7684 Linux \u5b89\u88dd\u65b9\u6cd5\u3002 \u5982\u679c\u4f60\u60f3\u5728\u4f4e\u7aef\u8655\u7406\u5668\u4e0a\u57f7\u884c Klipper \u4e3b\u6a5f\u8edf\u9ad4\uff0c\u8acb\u6ce8\u610f\uff0c\u4f60\u81f3\u5c11\u9700\u8981\u4e00\u81fa\u5177\u6709 \"\u96d9\u7cbe\u5ea6\u6d6e\u9ede \"\u904b\u7b97\u786c\u9ad4\u7684\u8a08\u7b97\u6a5f\u3002 \u5982\u679c\u4f60\u60f3\u5728\u5171\u4eab\u7684\u901a\u7528\u8a08\u7b97\u6a5f\u6216\u4f3a\u670d\u5668\u4e0a\u57f7\u884c Klipper \u4e3b\u6a5f\u7a0b\u5f0f\uff0c\u8acb\u6ce8\u610f Klipper \u6709\u4e00\u4e9b\u5be6\u6642\u6392\u7a0b\u8981\u6c42\u3002\u5982\u679c\u5728\u5217\u5370\u904e\u7a0b\u4e2d\uff0c\u4e3b\u6a5f\u4e5f\u5728\u57f7\u884c\u5bc6\u96c6\u578b\u7684\u901a\u7528\u8a08\u7b97\u4efb\u52d9\uff08\u5982\u786c\u789f\u788e\u7247\u6574\u7406\u30013D\u6e32\u67d3\u3001\u5927\u91cfswapping \uff08\u865b\u64ec\u8a18\u61b6\u9ad4\u4ea4\u63db\uff09\u7b49\uff09\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4 Klipper \u5831\u544a\u5217\u5370\u932f\u8aa4\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u4f60\u6c92\u6709\u4f7f\u7528 OctoPi \u6620\u8c61\uff0c\u4e00\u4e9bLinux\u767c\u884c\u7248\u555f\u7528\u4e86\u4e00\u500b \"ModemManager\"\uff08\u6216\u985e\u4f3c\u7684\uff09\u8edf\u9ad4\u5305\uff0c\u5b83\u5e72\u64fe\u5e8f\u5217\u901a\u8a0a\u3002(\u9019\u53ef\u80fd\u5c0e\u81f4 Klipper \u5831\u544a\u770b\u4f3c\u96a8\u6a5f\u7684 \"\u8207MCU\u5931\u53bb\u901a\u8a0a \"\u932f\u8aa4\uff09\u3002\u5982\u679c\u4f60\u5728\u9019\u4e9b\u767c\u884c\u7248\u4e0a\u5b89\u88ddKlipper\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7981\u7528\u8a72\u8edf\u9ad4\u5305\u3002 \u6211\u53ef\u4ee5\u5728\u540c\u4e00\u81fa\u4e3b\u6a5f\u4e0a\u57f7\u884c\u591a\u500b Klipper \u5be6\u4f8b\u55ce\uff1f \u00b6 \u53ef\u4ee5\u57f7\u884c Klipper \u4e3b\u6a5f\u8edf\u9ad4\u7684\u591a\u500b\u5be6\u4f8b\uff0c\u4f46\u9019\u6a23\u505a\u9700\u8981\u4e00\u5b9a\u7684 Linux \u77e5\u8b58\u3002 Klipper \u5b89\u88dd\u6307\u4ee4\u78bc\u6700\u7d42\u6703\u5c0e\u81f4\u57f7\u884c\u4ee5\u4e0b Unix \u547d\u4ee4\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -l /tmp/klippy.log \u53ea\u8981\u6bcf\u500b\u5be6\u4f8b\u90fd\u6709\u81ea\u5df1\u7684\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u3001\u81ea\u5df1\u7684\u65e5\u8a8c\u6a94\u6848\u548c\u81ea\u5df1\u7684\u507d tty\uff0c\u5c31\u53ef\u4ee5\u57f7\u884c\u4e0a\u8ff0\u547d\u4ee4\u7684\u591a\u500b\u5be6\u4f8b\u3002 \u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer2.cfg -l /tmp/klippy2.log -I /tmp/printer2 \u5982\u679c\u4f60\u9078\u64c7\u9019\u6a23\u505a\uff0c\u4f60\u5c07\u9700\u8981\u5be6\u73fe\u5fc5\u8981\u7684\u555f\u52d5\u3001\u505c\u6b62\u548c\u5b89\u88dd\u6307\u4ee4\u78bc\u3002 install-octopi.sh \u548c klipper-start.sh \u6307\u4ee4\u78bc\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4f8b\u5b50\u3002 \u6211\u5fc5\u9808\u4f7f\u7528 OctoPrint \u55ce\uff1f \u00b6 Klipper \u4e0d\u4f9d\u8cf4 OctoPrint\u3002\u5176\u4ed6\u8edf\u9ad4\u4e5f\u53ef\u4ee5\u5411 Klipper \u767c\u9001\u547d\u4ee4\uff0c\u4f46\u9019\u6a23\u505a\u53ef\u80fd\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8b58\u3002 Klipper \u901a\u904e \u300c/tmp/printer\u300d \u6a94\u6848\u5efa\u7acb\u4e86\u4e00\u500b\u300c\u865b\u64ec\u4e32\u5217\u57e0\u300d\uff0c\u8a72\u6a94\u6848\u6a21\u64ec\u4e86\u4e00\u500b\u6a19\u6e96\u76843D\u5370\u8868\u6a5f\u4e32\u5217\u57e0\u3002\u7406\u8ad6\u4e0a\u4efb\u4f55\u80fd\u914d\u7f6e\u4e26\u4f7f\u7528 \u300c/tmp/printer\u300d \u4f5c\u70ba\u5370\u8868\u6a5f\u4e32\u5217\u57e0\u7684\u8edf\u9ad4\u90fd\u53ef\u4ee5\u8207Klipper\u4e00\u8d77\u5de5\u4f5c\u3002 \u70ba\u4ec0\u9ebc\u5728\u6b78\u4f4d\u5370\u8868\u6a5f\u4e4b\u524d\u6211\u4e0d\u80fd\u79fb\u52d5\u6b65\u9032\u5668\uff1f \u00b6 \u7a0b\u5f0f\u78bc\u9019\u6a23\u505a\u662f\u7232\u4e86\u6e1b\u5c11\u610f\u5916\u5c07\u982d\u649e\u5230\u5e8a\u6216\u58bb\u58c1\u7684\u6a5f\u6703\u3002 \u5370\u8868\u6a5f\u6b78\u4f4d\u540e\uff0c\u8edf\u9ad4\u6703\u5617\u8a66\u9a57\u8b49\u6bcf\u500b\u79fb\u52d5\u662f\u5426\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684 position_min/max \u7bc4\u570d\u5167\u3002 \u5982\u679c\u96fb\u6a5f\u88ab\u7981\u7528\uff08\u901a\u904e M84 \u6216 M18 \u547d\u4ee4\uff09\uff0c\u90a3\u9ebc\u96fb\u6a5f\u5c07\u9700\u8981\u5728\u904b\u52d5\u524d\u518d\u6b21\u6b78\u4f4d\u3002 \u5982\u679c\u60a8\u60f3\u5728\u901a\u904e OctoPrint \u53d6\u6d88\u5217\u5370\u540e\u79fb\u52d5\u5217\u5370\u982d\uff0c\u8acb\u8003\u616e\u66f4\u6539 OctoPrint \u53d6\u6d88\u9806\u5e8f\u4f86\u70ba\u60a8\u57f7\u884c\u6b64\u64cd\u4f5c\u3002 \u5b83\u662f\u901a\u904e Web \u700f\u89bd\u5668\u5728 OctoPrint \u4e2d\u914d\u7f6e\u7684\uff1a\u8a2d\u5b9a-> GCODE \u6307\u4ee4\u78bc \u5982\u679c\u60a8\u60f3\u5728\u5217\u5370\u5b8c\u6210\u5f8c\u79fb\u52d5\u982d\u90e8\uff0c\u8acb\u8003\u616e\u5c07\u6240\u9700\u7684\u79fb\u52d5\u65b0\u589e\u5230\u5207\u7247\u6a5f\u7684\u300c\u81ea\u5b9a\u7fa9 g \u7a0b\u5f0f\u78bc\u300d\u90e8\u5206\u3002 \u5982\u679c\u5370\u8868\u6a5f\u6b78\u4f4d\u904e\u7a0b\u4e2d\u9700\u8981\u4e00\u4e9b\u984d\u5916\u7684\u79fb\u52d5\uff08\u6216\u8005\u6839\u672c\u4e0a\u6c92\u6709\u6b78\u4f4d\u904b\u52d5\uff09\uff0c\u90a3\u9ebc\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9safe_z_home\u6216 homing_override\u5206\u6bb5\u3002\u5982\u679c\u4f60\u9700\u8981\u70ba\u8a3a\u65b7\u6216\u9664\u932f\u76ee\u7684\u79fb\u52d5\u4e00\u500b\u6b65\u9032\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u65b0\u589e\u4e00\u500b force_move \u5206\u6bb5\u3002\u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u4ee5\u77ad\u89e3\u95dc\u65bc\u9019\u4e9b\u9078\u9805\u7684\u8a73\u60c5\u3002 \u70ba\u4ec0\u9ebc Z position_endstop \u5728\u9810\u8a2d\u914d\u7f6e\u4e2d\u8a2d\u5b9a\u70ba 0.5\uff1f \u00b6 \u5c0d\u65bc\u7b1b\u5361\u723e\u5f0f\u5370\u8868\u6a5f\uff0cZ position_endstop \u5b9a\u7fa9\u4e86\u7576\u9650\u4f4d\u89f8\u767c\u6642\u5674\u5634\u96e2\u5e8a\u7684\u8ddd\u96e2\u3002\u5982\u679c\u53ef\u80fd\u7684\u8a71\uff0c\u5efa\u8b70\u4f7f\u7528 Z-max \u9650\u4f4d\u4f7f\u6b78\u4f4d\u6642\u5217\u5370\u982d\u9060\u96e2\u5e8a\uff08\u56e0\u70ba\u9019\u53ef\u4ee5\u6e1b\u5c11\u78b0\u649e\u7684\u767c\u751f\uff09\u3002\u5982\u679c\u5fc5\u9808\u671d\u5411\u5e8a\u6b78\u4f4d\uff0c\u90a3\u9ebc\u5efa\u8b70\u5c07\u9650\u4f4d\u56fa\u5b9a\u5728\u5674\u5634\u8ddd\u96e2\u5e8a\u9084\u6709\u4e00\u5c0f\u6bb5\u8ddd\u96e2\u6642\u89f8\u767c\u3002\u9019\u6a23\uff0c\u7576\u6b78\u4f4d Z \u8ef8\u6642\uff0c\u5674\u5634\u6703\u5728\u63a5\u89f8\u5e8a\u4e4b\u524d\u505c\u6b62\u3002\u6709\u95dc\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 \u5217\u5370\u5e8a\u8abf\u5e73\u6587\u4ef6 \u3002 \u6211\u5f9e Marlin \u8f49\u63db\u4e86\u6211\u7684\u914d\u7f6e\u4e26\u4e14 X/Y \u8ef8\u5de5\u4f5c\u6b63\u5e38\uff0c\u4f46\u662f\u5728\u6b78\u4f4d Z \u8ef8\u6642\u6211\u53ea\u807d\u5230\u523a\u8033\u7684\u566a\u97f3\u4e14\u5370\u8868\u6a5f\u4e0d\u52d5 \u00b6 \u9577\u8a71\u77ed\u8aaa\uff1a\u9996\u5148\uff0c\u8acb\u78ba\u4fdd\u60a8\u5df2\u6309\u7167 \u914d\u7f6e\u6aa2\u67e5\u6587\u4ef6 \u4e2d\u63cf\u8ff0\u7684\u6b65\u9a5f\u9a57\u8b49\u4e86\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u3002\u5982\u679c\u554f\u984c\u4ecd\u7136\u5b58\u5728\uff0c\u8acb\u5617\u8a66\u964d\u4f4e\u5370\u8868\u6a5f\u914d\u7f6e\u4e2d\u7684 max_z_velocity \u8a2d\u5b9a\u3002 \u5177\u9ad4\u539f\u7406\uff1a\u5728\u5be6\u8e10\u4e2d\uff0cMarlin \u901a\u5e38\u53ea\u80fd\u4ee5\u6bcf\u79d2 10000 \u6b65\u5de6\u53f3\u7684\u901f\u5ea6\u767c\u9001\u6b65\u9032\u3002\u5982\u679c\u8981\u6c42\u5b83\u4ee5\u9700\u8981\u66f4\u9ad8\u7684\u6b65\u9032\u7387\u7684\u901f\u5ea6\u79fb\u52d5\uff0c\u90a3\u9ebc Marlin \u6703\u76e1\u53ef\u80fd\u5feb\u5730\u6b65\u9032\u3002Klipper \u80fd\u5920\u5be6\u73fe\u66f4\u9ad8\u7684\u6b65\u9032\u7387\uff0c\u4f46\u6b65\u9032\u96fb\u6a5f\u53ef\u80fd\u6c92\u6709\u8db3\u5920\u7684\u626d\u77e9\u4ee5\u66f4\u9ad8\u7684\u901f\u5ea6\u79fb\u52d5\u3002\u56e0\u6b64\uff0c\u5c0d\u65bc\u4e00\u500b\u5177\u6709\u9ad8\u50b3\u52d5\u6bd4\u6216\u9ad8\u5fae\u6b65\u8a2d\u5b9a\u7684 Z \u8ef8\uff0c\u5be6\u969b\u7684\u6700\u5927\u901f\u5ea6\u53ef\u80fd\u5c0f\u65bc Marlin \u4e2d\u914d\u7f6e\u7684\u503c\u3002 \u6211\u7684 TMC \u96fb\u6a5f\u9a45\u52d5\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u95dc\u9589\u4e86 \u00b6 \u5982\u679c\u5728\u300c\u7368\u7acb\u6a21\u5f0f\u300d\u4e2d\u4f7f\u7528 TMC2208\uff08\u6216 TMC2224\uff09\u9a45\u52d5\uff0c\u90a3\u9ebc\u8acb\u78ba\u4fdd\u60a8\u6b63\u5728\u4f7f\u7528 \u6700\u65b0\u7248\u672c\u7684 Klipper \u30022020\u5e743\u6708\u4e2d\u65ec\uff0cKlipper \u4e2d\u4fee\u5fa9\u4e86 TMC2208 \u300cStealthChop\u300d \u9a45\u52d5\u7684\u554f\u984c\u3002 \u6211\u4e0d\u65b7\u6536\u5230\u96a8\u6a5f\u7684\"\u8207MCU\u5931\u53bb\u901a\u8a0a\"\u932f\u8aa4 \u00b6 \u9019\u901a\u5e38\u662f\u7531\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684 USB \u9023\u7dda\u4e2d\u786c\u9ad4\u932f\u8aa4\u5f15\u8d77\u7684\u3002\u6ce8\u610f\u9019\u4e9b\u554f\u984c\uff1a \u5728\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u61c9\u8a72\u4f7f\u7528\u9ad8\u8cea\u91cfUSB\u7dda\uff0c\u4e26\u78ba\u4fdd\u63d2\u982d\u7262\u56fa\u3002 \u5982\u679c\u4f7f\u7528\u6a39\u8393\u6d3e\uff0c\u8acb\u70ba\u6a39\u8393\u6d3e\u4f7f\u7528 \u512a\u8cea\u96fb\u6e90 \uff0c\u4e26\u4f7f\u7528 \u512a\u8ceaUSB\u96fb\u7e9c \u5c07\u8a72\u96fb\u6e90\u8207Pi\u9023\u7dda\u3002\u5982\u679c\u4f60\u5f9eOctoPrint\u5f97\u5230 \"\u96fb\u58d3\u4e0d\u8db3 \"\u7684\u8b66\u544a\uff0c\u9019\u4e5f\u8207\u96fb\u6e90\u6709\u95dc\uff0c\u5fc5\u9808\u89e3\u6c7a\u3002 \u8acb\u78ba\u4fdd\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u6c92\u6709\u904e\u8f09\u3002(\u5fae\u63a7\u5236\u5668 USB \u6676\u7247\u7684\u96fb\u58d3\u6ce2\u52d5\u53ef\u80fd\u6703\u5c0e\u81f4\u8a72\u6676\u7247\u6b20\u58d3\u5fa9\u4f4d\u3002) \u78ba\u8a8d\u6b65\u9032\u96fb\u6a5f\u3001\u52a0\u71b1\u5668\u548c\u5176\u4ed6\u5370\u8868\u6a5f\u96fb\u7dda\u6c92\u6709\u88ab\u58d3\u58de\u6216\u78e8\u640d\u3002\uff08\u5370\u8868\u6a5f\u79fb\u52d5\u6642\u53ef\u80fd\u5c0d\u6545\u969c\u7684\u96fb\u7dda\u65bd\u52a0\u58d3\u529b\uff0c\u5c0e\u81f4\u5176\u5931\u53bb\u63a5\u89f8\u3001\u77ed\u66ab\u77ed\u8def\u6216\u7522\u751f\u904e\u591a\u7684\u566a\u97f3\u3002\uff09 \u6709\u5831\u544a\u7a31\uff0c\u7576\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u548c\u4e3b\u6a5f\u76845V\u96fb\u6e90\u6df7\u5408\u6642\uff0cUSB\u566a\u97f3\u5f88\u5927\u3002(\u5982\u679c\u4f60\u767c\u73fe\u7576\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u6253\u958b\u6216USB\u96fb\u7e9c\u63d2\u5165\u6642\uff0c\u5fae\u63a7\u5236\u5668\u6703\u901a\u96fb\uff0c\u90a3\u9ebc\u9019\u8868\u660e5V\u96fb\u6e90\u88ab\u6df7\u7528\u4e86\uff09\u3002\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u5176\u53ea\u4f7f\u7528\u4e00\u500b\u96fb\u6e90\u53ef\u80fd\u6703\u6709\u5e6b\u52a9\u3002(\u53e6\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u4e3b\u677f\u4e0d\u80fd\u914d\u7f6e\u5176\u4f9b\u96fb\u4f86\u6e90\uff0c\u4e5f\u53ef\u4ee5\u4fee\u6539USB\u96fb\u7e9c\uff0c\u4f7f\u5176\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u4e0d\u5171\u4eab5V\u96fb\u6e90\u3002\uff09 \u6211\u7684\u6a39\u8393\u6d3e\u5728\u5217\u5370\u6642\u4e0d\u65b7\u91cd\u555f \u00b6 \u9019\u5f88\u53ef\u80fd\u662f\u7531\u65bc\u96fb\u58d3\u6ce2\u52d5\u5f15\u8d77\u7684\u3002\u8acb\u9075\u5faa \"\u8207MCU\u5931\u53bb\u901a\u8a0a\" \u932f\u8aa4\u540c\u6a23\u7684\u6545\u969c\u6392\u9664\u6b65\u9a5f\u3002 \u7576\u8a2d\u5b9a restart_method=command \u6642\uff0c AVR \u88dd\u7f6e\u5728\u91cd\u555f\u6642\u5c31\u6703\u5b95\u6a5f \u00b6 \u4e00\u4e9b\u820a\u7248\u672c\u7684AVR\u8f09\u5165\u7a0b\u5f0f\u5728\u770b\u9580\u72d7\u4e8b\u4ef6\u8655\u7406\u65b9\u9762\u6709\u4e00\u500b\u5df2\u77e5\u7684\u932f\u8aa4\u3002\u9019\u901a\u5e38\u8868\u73fe\u5728printer.cfg\u6a94\u6848\u4e2d\u7684restart_method\u8a2d\u5b9a\u70ba \"command\"\u7684\u6642\u5019\u3002\u7576\u9019\u500b\u932f\u8aa4\u767c\u751f\u6642\uff0cAVR\u88dd\u7f6e\u6703\u5b95\u6a5f\u76f4\u5230\u96fb\u6e90\u88ab\u79fb\u9664\u4e26\u91cd\u65b0\u4e0a\u96fb\uff08\u96fb\u6e90\u6216\u72c0\u614bLED\u4e5f\u53ef\u80fd\u4e0d\u505c\u7684\u9583\u720d\u76f4\u5230\u65b7\u96fb\uff09\u3002 \u89e3\u6c7a\u8fa6\u6cd5\u662f\u4f7f\u7528 \"command \"\u4ee5\u5916\u7684\u91cd\u555f\u65b9\u6cd5\uff0c\u6216\u8005\u5728AVR\u88dd\u7f6e\u4e0a\u5237\u5beb\u4e00\u500b\u65b0\u7684\u8f09\u5165\u7a0b\u5f0f\u3002\u5237\u5beb\u4e00\u500b\u65b0\u7684\u8f09\u5165\u7a0b\u5f0f\u662f\u4e00\u500b\u4e00\u6b21\u6027\u7684\u6b65\u9a5f\uff0c\u901a\u5e38\u9700\u8981\u4e00\u500b\u5916\u90e8\u7a0b\u5f0f\u8a2d\u8a08\u5668--\u66f4\u591a\u7d30\u7bc0\u8acb\u53c3\u898b Bootloaders \u3002 \u5982\u679c Raspberry Pi \u5d29\u6f70\u4e86\uff0c\u52a0\u71b1\u5668\u6703\u4e00\u76f4\u52a0\u71b1\u55ce\uff1f \u00b6 Klipper \u7684\u8a2d\u8a08\u9632\u6b62\u4e86\u9019\u7a2e\u60c5\u6cc1\u3002\u4e00\u65e6\u4e3b\u6a5f\u555f\u7528\u4e86\u4e00\u500b\u52a0\u71b1\u5668\uff0c\u4e3b\u6a5f\u8edf\u9ad4\u9700\u8981\u6bcf 5 \u79d2\u9418\u78ba\u8a8d\u4e00\u6b21\u555f\u7528\u72c0\u614b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u6c92\u6709\u6536\u5230\u6bcf 5 \u79d2\u7684\u78ba\u8a8d\uff0c\u5b83\u5c31\u6703\u9032\u5165\"\u95dc\u9589\"\u72c0\u614b\uff0c\u8a72\u72c0\u614b\u6703\u95dc\u9589\u6240\u6709\u52a0\u71b1\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u3002 \u8a73\u60c5\u8acb\u898b MCU \u547d\u4ee4 \u6587\u4ef6\u4e2d\u7684 \"config_digital_out\" \u547d\u4ee4\u3002 \u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5728\u555f\u52d5\u6642\u70ba\u6bcf\u500b\u52a0\u71b1\u5668\u914d\u7f6e\u4e86\u6700\u4f4e\u548c\u6700\u9ad8\u6eab\u5ea6\u7bc4\u570d\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \u4e2d\u7684min_temp\u548cmax_temp\u53c3\u6578\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u6aa2\u6e2c\u5230\u6eab\u5ea6\u8d85\u51fa\u4e86\u8a72\u7bc4\u570d\uff0c\u90a3\u9ebc\u5b83\u4e5f\u5c07\u9032\u5165 \"\u95dc\u6a5f \"\u72c0\u614b\u3002 \u53e6\u5916\uff0c\u4e3b\u6a5f\u8edf\u9ad4\u9084\u5be6\u73fe\u4e86\u6aa2\u67e5\u52a0\u71b1\u5668\u548c\u6eab\u5ea6\u611f\u6e2c\u5668\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u7684\u7a0b\u5f0f\u78bc\u3002\u8a73\u60c5\u898b \u914d\u7f6e\u53c3\u8003 \u3002 \u5982\u4f55\u5c07 Marlin \u5f15\u8173\u7de8\u865f\u8f49\u63db\u70ba Klipper \u5f15\u8173\u540d\u7a31\uff1f \u00b6 \u7c21\u8981\u56de\u7b54\uff1a\u5728 sample-aliases.cfg \u6a94\u6848\u4e2d\u6709\u4e00\u500b\u5c0d\u6620\u3002\u4f7f\u7528\u8a72\u6a94\u6848\u4f5c\u70ba\u6307\u5f15\u4f86\u5c0b\u627e\u5be6\u969b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u7a31\u3002(\u4e5f\u53ef\u4ee5\u5c07\u76f8\u95dc\u7684 board_pins \u914d\u7f6e\u90e8\u5206\u8907\u88fd\u5230\u4f60\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\uff0c\u5728\u4f60\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528\u5225\u540d\uff0c\u4f46\u6700\u597d\u662f\u7ffb\u8b6f\u4e26\u4f7f\u7528\u5be6\u969b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u7a31\u3002) \u8acb\u6ce8\u610f\uff0csample-aliases.cfg\u6a94\u6848\u4f7f\u7528\u4ee5 \"ar \"\u958b\u982d\u7684\u5f15\u8173\u540d\u7a31\u66ff\u63db \"D\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u8173 D23 \u662fKlipper\u5225\u540d ar23 \uff09\u548c\u4ee5 \"analog \"\u958b\u982d\u7684\u5f15\u8173\u540d\u7a31\u66ff\u63db \"A\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u8173 A14 \u662fKlipper\u5225\u540d analog14 \uff09\u3002 \u8a73\u7d30\u7b54\u6848\uff1aKlipper\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u7fa9\u7684\u6a19\u6e96\u5f15\u8173\u540d\u7a31\u3002\u5728 Atmega \u6676\u7247\u4e0a\uff0c\u9019\u4e9b\u786c\u9ad4\u5f15\u8173\u7684\u540d\u7a31\u985e\u4f3c\u65bc PA4 \u3001 PC7 \u6216 PD2 \u3002 \u5f88\u4e45\u4ee5\u524d\uff0cArduino\u5c08\u6848\u6c7a\u5b9a\u907f\u514d\u4f7f\u7528\u6a19\u6e96\u7684\u786c\u9ad4\u540d\u7a31\uff0c\u800c\u63a1\u7528\u4ed6\u5011\u81ea\u5df1\u7684\u57fa\u65bc\u905e\u589e\u6578\u5b57\u7684\u5f15\u8173\u540d\u7a31--\u9019\u4e9bArduino\u540d\u7a31\u4e00\u822c\u770b\u8d77\u4f86\u50cf D23 \u6216 A14 \u3002\u9019\u662f\u4e00\u500b\u4e0d\u5e78\u7684\u9078\u64c7\uff0c\u5c0e\u81f4\u4e86\u5927\u91cf\u7684\u6df7\u4e82\u3002\u7279\u5225\u662fArduino\u7684\u5f15\u8173\u865f\u78bc\u7d93\u5e38\u4e0d\u80fd\u8f49\u63db\u70ba\u76f8\u540c\u7684\u786c\u9ad4\u540d\u7a31\u3002\u4f8b\u5982\uff0c D21 \u5728\u4e00\u500b\u5e38\u898b\u7684Arduino\u677f\u4e0a\u662f PD0 \uff0c\u4f46\u5728\u53e6\u4e00\u500b\u5e38\u898b\u7684Arduino\u677f\u4e0a\u662f PC7 \u3002 \u7232\u4e86\u907f\u514d\u9019\u7a2e\u6df7\u6dc6\uff0cKlipper \u6838\u5fc3\u7a0b\u5f0f\u78bc\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u7fa9\u7684\u6a19\u6e96\u5f15\u8173\u540d\u7a31\u3002 \u6211\u5fc5\u9808\u5c07\u88dd\u7f6e\u9023\u7dda\u5230\u7279\u5b9a\u578b\u5225\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u55ce\uff1f \u00b6 \u9019\u53d6\u6c7a\u65bc\u88dd\u7f6e\u548c\u5f15\u8173\u7684\u578b\u5225\uff1a ADC \u5f15\u8173\uff08\u6216\u6a21\u64ec\u5f15\u8173\uff09\uff1a\u71b1\u654f\u96fb\u963b\u548c\u985e\u4f3c\u7684\u300c\u6a21\u64ec\u300d\u611f\u6e2c\u5668\u5fc5\u9808\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u5177\u6709\u300c\u6a21\u64ec\u300d\u6216\u300cADC\u300d\u529f\u80fd\u7684\u5f15\u8173\u3002\u5982\u679c\u60a8\u5728 Klipper \u4e0a\u70ba\u4e00\u500b\u6a21\u64ec\u611f\u6e2c\u5668\u914d\u7f6e\u70ba\u4f7f\u7528\u4e0d\u5177\u5099\u6a21\u64ec\u529f\u80fd\u7684\u5f15\u8173\uff0cKlipper \u5c07\u5831\u544a\u300cNot a valid ADC pin\u300d\u932f\u8aa4\u3002 PWM\u5f15\u8173\uff08\u6216\u5b9a\u6642\u5668\u5f15\u8173\uff09\u3002Klipper\u9810\u8a2d\u4e0d\u5728\u4efb\u4f55\u88dd\u7f6e\u4e0a\u4f7f\u7528\u786c\u9ad4PWM\u3002\u56e0\u6b64\uff0c\u4e00\u822c\u4f86\u8aaa\uff0c\u53ef\u4ee5\u5c07\u71b1\u7aef\u3001\u98a8\u6247\u548c\u985e\u4f3c\u7684\u88dd\u7f6e\u9023\u7dda\u5230\u4efb\u4f55\u7684\u901a\u7528IO\u5f15\u8173\u3002\u7136\u800c\uff0c\u98a8\u6247\u548coutput_pin\u88dd\u7f6e\u53ef\u4ee5\u9078\u64c7\u914d\u7f6e\u70ba\u4f7f\u7528 hardware_pwm: True \uff0c\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u5fae\u63a7\u5236\u5668\u5728\u9019\u500b\u5f15\u8173\u4e0a\u5fc5\u9808\u652f\u63f4\u786c\u9ad4PWM\uff08\u5426\u5247\uff0cKlipper\u5c07\u5831\u544a \"\u4e0d\u662f\u6709\u6548\u7684PWM\u5f15\u8173 \"\u932f\u8aa4\uff09\u3002 IRQ\u5f15\u8173\uff08\u6216\u4e2d\u65b7\u5f15\u8173\uff09\u3002Klipper\u4e0d\u4f7f\u7528IO\u5f15\u8173\u4e0a\u7684\u786c\u9ad4\u4e2d\u65b7\uff0c\u6240\u4ee5\u6c92\u6709\u5fc5\u8981\u5c07\u88dd\u7f6e\u9023\u7dda\u5230\u9019\u4e9b\u5fae\u63a7\u5236\u5668\u5f15\u8173\u4e0a\u3002 SPI \u5f15\u8173\uff1a\u4f7f\u7528\u786c\u9ad4 SPI \u6642\uff0c\u9700\u8981\u5c07\u5f15\u8173\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u7684 SPI \u5f15\u8173\u3002\u4f46\u662f\uff0c\u5927\u591a\u6578\u88dd\u7f6e\u90fd\u53ef\u4ee5\u914d\u7f6e\u70ba\u4f7f\u7528\u300c\u8edf\u9ad4 SPI\u300d\uff0c\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u901a\u7528 IO \u5f15\u8173\u3002 I2C \u5f15\u8173\uff1a\u4f7f\u7528 I2C \u6642\uff0c\u5fc5\u9808\u5c07\u5f15\u8173\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u652f\u63f4 I2C \u7684\u5f15\u8173\u3002 \u5176\u4ed6\u88dd\u7f6e\u53ef\u4ee5\u9023\u7dda\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u8173\u3002\u4f8b\u5982\uff0c\u6b65\u9032\u96fb\u6a5f\u3001\u52a0\u71b1\u5668\u3001\u98a8\u6247\u3001Z\u63a2\u982d\u3001\u8235\u6a5f\u3001LED\u3001\u901a\u7528\u7684hd44780/st7920\u6db2\u6676\u986f\u793a\u5668\u548cTrinamic UART\u63a7\u5236\u7dda\u90fd\u53ef\u4ee5\u9023\u7dda\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u8173\u3002 \u5982\u4f55\u53d6\u6d88 M109/M190 \"\u7b49\u5f85\u9054\u5230\u76ee\u6a19\u6eab\u5ea6\"\u7684\u8acb\u6c42\uff1f \u00b6 \u5c0e\u822a\u5230OctoPrint\u7d42\u7aef\u6a19\u7c64\u9801\uff0c\u5728\u7d42\u7aef\u6846\u4e2d\u8f38\u5165M112\u547d\u4ee4\u3002M112\u547d\u4ee4\u5c07\u4f7fKlipper\u9032\u5165 \"\u95dc\u6a5f \"\u72c0\u614b\uff0c\u5b83\u5c07\u4f7fOctoPrint\u5f9eKlipper\u65b7\u958b\u3002\u5c0e\u822a\u5230OctoPrint\u9023\u7dda\u5340\uff0c\u9ede\u9078 \"\u9023\u7dda\"\uff0c\u4f7fOctoPrint\u91cd\u65b0\u9023\u7dda\u3002\u5c0e\u822a\u56de\u5230\u7d42\u7aef\u6a19\u7c64\u9801\uff0c\u8f38\u5165FIRMWARE_RESTART\u547d\u4ee4\u4ee5\u6e05\u9664Klipper\u7684\u932f\u8aa4\u72c0\u614b\u3002\u5b8c\u6210\u9019\u4e00\u7cfb\u5217\u64cd\u4f5c\u5c07\u53d6\u6d88\u5148\u524d\u7684\u52a0\u71b1\u8acb\u6c42\uff0c\u53ef\u4ee5\u958b\u59cb\u65b0\u7684\u5217\u5370\u3002 \u600e\u9ebc\u6aa2\u67e5\u5370\u8868\u6a5f\u662f\u5426\u767c\u751f\u4e86\u4e1f\u6b65? \u00b6 \u5728\u67d0\u7a2e\u7a0b\u5ea6\u4e0a\uff0c\u662f\u7684\u3002\u5c07\u5370\u8868\u6a5f\u6b78\u4f4d\uff0c\u767c\u51fa GET_POSITION \u547d\u4ee4\uff0c\u57f7\u884c\u5217\u5370\uff0c\u518d\u6b21\u6b78\u4f4d\uff0c\u518d\u767c\u51fa GET_POSITION \u3002\u7136\u5f8c\u6bd4\u8f03 mcu: \u884c\u4e2d\u7684\u503c\u3002 \u9019\u53ef\u80fd\u6709\u52a9\u65bc\u8abf\u6574\u6b65\u9032\u96fb\u6a5f\u96fb\u6d41\u3001\u52a0\u901f\u5ea6\u548c\u901f\u5ea6\u7b49\u8a2d\u5b9a\uff0c\u800c\u4e0d\u9700\u8981\u5be6\u969b\u5217\u5370\u6771\u897f\u548c\u6d6a\u8cbb\u6750\u6599\uff1a\u53ea\u8981\u5728 GET_POSITION \u547d\u4ee4\u4e4b\u9593\u57f7\u884c\u4e00\u4e9b\u9ad8\u901f\u79fb\u52d5\u3002 \u8acb\u6ce8\u610f\uff0c\u9650\u4f4d\u958b\u95dc\u672c\u8eab\u7684\u89f8\u767c\u4f4d\u7f6e\u7565\u6709\u4e0d\u540c\uff0c\u6240\u4ee5\u5c0e\u81f4\u9650\u4f4d\u958b\u95dc\u89f8\u767c\u7d50\u679c\u53ef\u80fd\u6709\u5e7e\u500b\u5fae\u6b65\u7684\u8aa4\u5dee\u3002\u6b65\u9032\u96fb\u6a5f\u672c\u8eab\u53ea\u80fd\u4ee54\u500b\u6574\u6b65\u70ba\u589e\u91cf\u640d\u5931\u6b65\u6578\u3002(\u56e0\u6b64\uff0c\u5982\u679c\u4f7f\u752816\u500b\u5fae\u6b65\uff0c\u90a3\u9ebc\u6b65\u9032\u5668\u96fb\u6a5f\u4e0a\u7684\u5931\u6b65\u5c07\u5c0e\u81f4 \"MCU: \"\u6b65\u9032\u8a08\u6578\u5668\u504f\u96e264\u5fae\u6b65\u7684\u500d\u6578\u3002\uff09 \u70ba\u4ec0\u9ebc Klipper \u6703\u5831\u932f\uff1f\u6211\u6536\u4e86\u4e00\u76e4\u9762\u689d\uff08\u6211\u53c8\u6253\u5ee2\u4e86\uff09\uff01 \u00b6 \u7c21\u77ed\u7684\u56de\u7b54\uff1a\u6211\u5011\u60f3\u77e5\u9053\u5370\u8868\u6a5f\u662f\u5426\u6aa2\u6e2c\u5230\u554f\u984c\uff0c\u9019\u6a23\u5c31\u53ef\u4ee5\u89e3\u6c7a\u6f5b\u5728\u7684\u554f\u984c\uff0c\u5c31\u53ef\u4ee5\u7372\u5f97\u9ad8\u8cea\u91cf\u7684\u5217\u5370\u4ef6\u3002\u6211\u5011\u7d55\u5c0d\u4e0d\u5e0c\u671b\u5370\u8868\u6a5f\u9ed8\u9ed8\u5730\u751f\u7522\u4f4e\u8cea\u91cf\u7684\u5217\u5370\u4ef6\u3002 \u8a73\u7d30\u7b54\u6848\uff1aKlipper\u88ab\u8a2d\u8a08\u6210\u80fd\u5920\u81ea\u52d5\u89e3\u6c7a\u8a31\u591a\u77ac\u6642\u554f\u984c\u3002\u4f8b\u5982\uff0c\u5b83\u81ea\u52d5\u6aa2\u6e2c\u5230\u901a\u8a0a\u932f\u8aa4\uff0c\u4e26\u6703\u91cd\u65b0\u50b3\u8f38\uff1b\u5b83\u63d0\u524d\u5b89\u6392\u884c\u52d5\uff0c\u4e26\u5728\u591a\u5c64\u7de9\u885d\u547d\u4ee4\uff0c\u4ee5\u4fbf\u5373\u4f7f\u6709\u9593\u6b47\u6027\u5e72\u64fe\u4e5f\u80fd\u7cbe\u78ba\u63a7\u5236\u6642\u5e8f\u3002\u7136\u800c\uff0c\u5982\u679c\u8edf\u9ad4\u6aa2\u6e2c\u5230\u5b83\u7121\u6cd5\u6062\u5fa9\u7684\u932f\u8aa4\uff0c\u6216\u8005\u5b83\u88ab\u547d\u4ee4\u63a1\u53d6\u7121\u6548\u7684\u884c\u52d5\uff0c\u6216\u8005\u5b83\u6aa2\u6e2c\u5230\u5b83\u7121\u6cd5\u57f7\u884c\u5176\u88ab\u547d\u4ee4\u7684\u4efb\u52d9\uff0c\u90a3\u9ebcKlipper\u5c07\u5831\u544a\u932f\u8aa4\u3002\u5728\u9019\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u7522\u751f\u4f4e\u8cea\u91cf\u5370\u5237\u4ef6\uff08\u6216\u66f4\u7cdf\uff09\u7684\u98a8\u96aa\u5f88\u5927\u3002\u6211\u5011\u5e0c\u671b\u901a\u904e\u63d0\u9192\u4f7f\u7528\u8005\uff0c\u4f7f\u4ed6\u5011\u6709\u80fd\u529b\u89e3\u6c7a\u6f5b\u5728\u7684\u554f\u984c\uff0c\u63d0\u9ad8\u5217\u5370\u7684\u6574\u9ad4\u8cea\u91cf\u3002 \u6709\u4e00\u4e9b\u76f8\u95dc\u7684\u554f\u984c\u3002\u70ba\u4ec0\u9ebcKlipper\u4e0d\u66ab\u505c\u5217\u5370\uff1f\u70ba\u4ec0\u9ebc\u4e0d\u5148\u8b66\u544a\uff1f\u70ba\u4ec0\u9ebc\u4e0d\u5728\u5217\u5370\u524d\u6aa2\u67e5\u932f\u8aa4\uff1f\u70ba\u4ec0\u9ebc\u4e0d\u5ffd\u7565\u4f7f\u7528\u8005\u8f38\u5165\u7684\u547d\u4ee4\u4e2d\u7684\u932f\u8aa4\uff1f\u7b49\u7b49\uff1f\u76ee\u524d\uff0cKlipper\u4f7f\u7528G-Code\u5354\u8b70\u8b80\u53d6\u547d\u4ee4\uff0c\u4e0d\u5e78\u7684\u662f\uff0cG-Code\u547d\u4ee4\u5354\u8b70\u4e0d\u5920\u9748\u6d3b\uff0c\u5c0e\u81f4\u73fe\u5728\u4e26\u4e0d\u80fd\u4f7f\u7528\u9019\u4e9b\u66ff\u4ee3\u65b9\u6848\u3002\u958b\u767c\u8005\u5c0d\u6539\u5584\u7570\u5e38\u4e8b\u4ef6\u4e2d\u7684\u4f7f\u7528\u8005\u9ad4\u9a57\u5f88\u611f\u8208\u8da3\uff0c\u4f46\u9810\u8a08\u9019\u5c07\u9700\u8981\u5927\u91cf\u7684\u5e95\u5c64\u5de5\u4f5c\uff08\u5305\u62ec\u5f9eG-Code\u7684\u9077\u79fb\u5230\u5225\u7684\u65b9\u5f0f\uff09\u3002 \u6211\u600e\u6a23\u624d\u80fd\u5347\u7d1a\u5230\u6700\u65b0\u7684\u8edf\u9ad4\uff1f \u00b6 \u5347\u7d1a\u8edf\u9ad4\u7684\u7b2c\u4e00\u6b65\u662f\u6aa2\u8996\u6700\u65b0\u7684 \u914d\u7f6e\u8b8a\u66f4 \u6a94\u6848\u3002\u4f5c\u70ba\u8edf\u9ad4\u5347\u7d1a\u7684\u4e00\u90e8\u5206\uff0c\u5076\u723e\u6709\u6642\u5019\u8edf\u9ad4\u6703\u6709\u4e00\u4e9b\u8b8a\u5316\u9700\u8981\u4f7f\u7528\u8005\u66f4\u65b0\u4ed6\u5011\u7684\u8a2d\u5b9a\u3002\u5728\u5347\u7d1a\u524d\u6700\u597d\u6aa2\u8996\u8a72\u6a94\u6848\u3002 \u7576\u6e96\u5099\u5347\u7d1a\u6642\uff0c\u4e00\u822c\u7684\u65b9\u6cd5\u662fssh\u9032\u5165\u6a39\u8393\u6d3e\u4e26\u57f7\u884c\uff1a cd ~/klipper git pull ~/klipper/scripts/install-octopi.sh \u7136\u5f8c\u53ef\u4ee5\u91cd\u65b0\u7de8\u8b6f\u548c\u5237\u5beb\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u78bc\u3002\u4f8b\u5982\uff1a make menuconfig make clean make sudo service klipper stop make flash FLASH_DEVICE=/dev/ttyACM0 sudo service klipper start \u7136\u800c\uff0c\u901a\u5e38\u662f\u96bb\u6709\u4e3b\u6a5f\u8edf\u9ad4\u767c\u751f\u8b8a\u5316\u3002\u9019\u6642\u53ef\u4ee5\u53ea\u66f4\u65b0\u548c\u91cd\u65b0\u555f\u52d5\u4e3b\u6a5f\u8edf\u9ad4\uff1a cd ~/klipper git pull sudo service klipper restart \u5982\u679c\u5728\u4f7f\u7528\u9019\u500b\u5feb\u901f\u65b9\u5f0f\u540e\uff0c\u8edf\u9ad4\u8b66\u544a\u8aaa\u9700\u8981\u91cd\u65b0\u5237\u5beb\u5fae\u63a7\u5236\u5668\u6216\u51fa\u73fe\u5176\u4ed6\u4e0d\u5e38\u898b\u7684\u932f\u8aa4\uff0c\u90a3\u9ebc\u8acb\u6309\u7167\u4e0a\u9762\u6240\u8ff0\u7684\u5b8c\u6574\u5347\u7d1a\u6b65\u9a5f\u9032\u884c\u3002 \u5982\u679c\u4efb\u4f55\u932f\u8aa4\u6301\u7e8c\u5b58\u5728\uff0c\u90a3\u9ebc\u8acb\u4ed4\u7d30\u6aa2\u67e5 config changes \u6a94\u6848\uff0c\u56e0\u70ba\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5370\u8868\u6a5f\u914d\u7f6e\u3002 \u8acb\u6ce8\u610f\uff0cRESTART\u548cFIRMWARE_RESTART g-code\u547d\u4ee4\u4e0d\u6703\u8f09\u5165\u65b0\u7684\u8edf\u9ad4--\u9700\u8981\u4f7f\u7528\u4e0a\u8ff0 \"sudo service klipper restart \"\u548c \"make flash \"\u547d\u4ee4\u624d\u80fd\u4f7f\u8edf\u9ad4\u8b8a\u5316\u751f\u6548\u3002 \u5982\u4f55\u89e3\u9664\u5b89\u88ddKlipper\uff1f \u00b6 \u5728\u97cc\u9ad4\u7aef\uff0c\u6c92\u6709\u4ec0\u9ebc\u7279\u5225\u9700\u8981\u505a\u7684\u3002\u53ea\u8981\u5237\u5beb\u65b0\u97cc\u9ad4\u5c31\u53ef\u4ee5\u4e86\u3002 \u5728\u6a39\u8393\u6d3e\u4e0a\uff0c\u89e3\u9664\u5b89\u88dd\u6307\u4ee4\u78bc\u5728\u9019\u88e1 scripts/klipper-uninstall.sh \u3002\u4f8b\u5982\uff1a sudo ~/klipper/scripts/klipper-uninstall.sh rm -rf ~/klippy-env ~/klipper","title":"\u5e38\u898b\u554f\u984c"},{"location":"FAQ.html#_1","text":"","title":"\u5e38\u898b\u554f\u984c"},{"location":"FAQ.html#_2","text":"\u8b1d\u8b1d\u3002Kevin\u6709\u4e00\u500bPATREON\u9801\u9762\uff0c\u5730\u5740\u662f\uff1a https://www.patreon.com/koconnor","title":"\u6211\u5982\u4f55\u5411\u5c08\u6848\u6350\u6b3e\uff1f"},{"location":"FAQ.html#rotation_distance","text":"\u53c3\u898b \u65cb\u8f49\u8ddd\u96e2\u6587\u4ef6 \u3002","title":"\u5982\u4f55\u8a08\u7b97 rotation_distance \u914d\u7f6e\u53c3\u6578\uff1f"},{"location":"FAQ.html#_3","text":"\u67e5\u8a62 USB \u4e32\u5217\u57e0\u7684\u4e00\u822c\u65b9\u6cd5\u662f\u5f9e\u4e3b\u6a5f\u4e0a\u7684 ssh \u7d42\u7aef\u57f7\u884c ls /dev/serial/by-id/* \u3002 \u5b83\u53ef\u80fd\u6703\u7522\u751f\u985e\u4f3c\u65bc\u4ee5\u4e0b\u5167\u5bb9\u7684\u8f38\u51fa\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u5728\u4e0a\u8ff0\u547d\u4ee4\u4e2d\u627e\u5230\u7684\u540d\u7a31\u662f\u7a69\u5b9a\u7684\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u4f7f\u7528\u5b83\uff0c\u540c\u6642\u53ef\u7528\u65bc\u5237\u5beb\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u78bc\u3002 \u4f8b\u5982\uff0c\u4e00\u500b flash \u547d\u4ee4\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u66f4\u65b0\u540e\u7684\u914d\u7f6e\u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u8acb\u52d9\u5fc5\u5f9e\u4e0a\u9762\u57f7\u884c\u7684\u300cls\u300d\u547d\u4ee4\u4e2d\u8907\u88fd\u4e26\u8cbc\u4e0a\u540d\u7a31\uff0c\u56e0\u70ba\u6bcf\u500b\u5370\u8868\u6a5f\u7684\u540d\u7a31\u90fd\u4e0d\u540c\u3002 \u5982\u679c\u60a8\u4f7f\u7528\u591a\u500b\u5fae\u63a7\u5236\u5668\u4e26\u4e14\u5b83\u5011\u6c92\u6709\u552f\u4e00\u7684 ID\uff08\u5728\u5e36\u6709 CH340 USB \u6676\u7247\u7684\u677f\u4e0a\u5f88\u5e38\u898b\uff09\uff0c\u90a3\u9ebc\u8acb\u6309\u7167\u4e0a\u9762\u7684\u8aaa\u660e\u4f7f\u7528\u547d\u4ee4 ls /dev/serial/by-path/* \u4ee3\u66ff\u3002","title":"\u6211\u7684\u4e32\u5217\u57e0\u5728\u54ea\u88e1\u627e\uff1f"},{"location":"FAQ.html#devttyusb1","text":"\u6309\u7167\u300c \u6211\u7684\u4e32\u5217\u57e0\u5728\u54ea\u88e1\u627e\uff1f \u300d\u90e8\u5206\u4e2d\u7684\u8aaa\u660e\u4f86\u9632\u6b62\u9019\u7a2e\u60c5\u6cc1\u767c\u751f\u3002","title":"\u7576\u5fae\u63a7\u5236\u5668\u91cd\u65b0\u555f\u52d5\u88dd\u7f6e\u66f4\u6539\u70ba/dev/ttyUSB1"},{"location":"FAQ.html#make-flash","text":"\u8a72\u7a0b\u5f0f\u78bc\u5617\u8a66\u4f7f\u7528\u6bcf\u500b\u5e73\u81fa\u6700\u5e38\u7528\u7684\u65b9\u6cd5\u4f86\u5237\u5beb\u88dd\u7f6e\u3002 \u4e0d\u5e78\u7684\u662f\uff0c\u5237\u5beb\u65b9\u6cd5\u5b58\u5728\u5f88\u591a\u5dee\u7570\uff0c\u56e0\u6b64\u300cmake flash\u300d\u547d\u4ee4\u53ef\u80fd\u4e0d\u9069\u7528\u4e8e\u6240\u6709\u4e3b\u677f\u3002 \u5982\u679c\u60a8\u9047\u5230\u9593\u6b47\u6027\u6545\u969c\u6216\u60a8\u78ba\u5be6\u6709\u6a19\u6e96\u8a2d\u5b9a\uff0c\u8acb\u4ed4\u7d30\u6aa2\u67e5\u5237\u5beb\u6642 Klipper \u662f\u5426\u672a\u57f7\u884c\uff08sudo service klipper stop\uff09\uff0c\u78ba\u4fdd OctoPrint \u672a\u5617\u8a66\u76f4\u63a5\u9023\u7dda\u5230\u88dd\u7f6e\uff08\u6253\u958b \u7db2\u9801\u4e2d\u7684\u9023\u7dda\u9078\u9805\u5361\uff0c\u5982\u679c\u4e32\u5217\u57e0\u8a2d\u5b9a\u70ba\u88dd\u7f6e\uff0c\u5247\u55ae\u64ca\u65b7\u958b\u9023\u7dda\uff09\uff0c\u4e26\u78ba\u4fdd\u70ba\u60a8\u7684\u96fb\u8def\u677f\u6b63\u78ba\u8a2d\u5b9a\u4e86 FLASH_DEVICE\uff08\u8acb\u53c3\u95b1 \u4e0a\u9762\u7684\u554f\u984c \uff09\u3002 \u4f46\u662f\uff0c\u5982\u679c\u300cmake flash\u300d\u5c0d\u60a8\u7684\u96fb\u8def\u677f\u4e0d\u8d77\u4f5c\u7528\uff0c\u90a3\u9ebc\u60a8\u5c07\u9700\u8981\u624b\u52d5\u5237\u5beb\u3002 \u6aa2\u8996 config directory \u4e2d\u662f\u5426\u6709\u4e00\u500b\u914d\u7f6e\u6a94\u6848\uff0c\u88e1\u9762\u6709\u5237\u6a5f\u7684\u5177\u9ad4\u8aaa\u660e\u3002 \u6b64\u5916\uff0c\u8acb\u6aa2\u8996\u96fb\u8def\u677f\u88fd\u9020\u5546\u7684\u6587\u4ef6\uff0c\u770b\u770b\u5b83\u662f\u5426\u63cf\u8ff0\u77ad\u5982\u4f55\u5237\u5beb\u88dd\u7f6e\u3002 \u6700\u5f8c\uff0c\u53ef\u4ee5\u4f7f\u7528\u8af8\u5982\u300cavrdude\u300d\u6216\u300cbossac\u300d\u4e4b\u985e\u7684\u5de5\u5177\u624b\u52d5\u5237\u5beb\u88dd\u7f6e\u2014\u2014\u6709\u95dc\u66f4\u591a\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 \u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u6587\u4ef6 \u3002","title":"\u300cmake flash\u300d\u547d\u4ee4\u4e0d\u8d77\u4f5c\u7528"},{"location":"FAQ.html#_4","text":"Klipper\u7684\u63a8\u85a6\u6ce2\u7279\u7387\u662f 250000\u3002\u9019\u500b\u6ce2\u7279\u7387\u5728 Klipper \u652f\u63f4\u7684\u6240\u6709\u5fae\u63a7\u5236\u5668\u677f\u4e0a\u90fd\u5f88\u597d\u7528\u3002\u5982\u679c\u4f60\u767c\u73fe\u7db2\u4e0a\u7684\u6307\u5357\u63a8\u85a6\u4e86\u4e00\u500b\u4e0d\u540c\u7684\u6ce2\u7279\u7387\uff0c\u90a3\u9ebc\u8acb\u5ffd\u7565\u9019\u90e8\u5206\u6307\u5357\uff0c\u7e7c\u7e8c\u4f7f\u7528\u9810\u8a2d\u503c 250000\u3002 \u5982\u679c\u4f60\u9084\u662f\u60f3\u6539\u8b8a\u6ce2\u7279\u7387\uff0c\u90a3\u9ebc\u9700\u8981\u91cd\u65b0\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u70ba\u65b0\u7684\u6ce2\u7279\u7387\uff08\u5728 make menuconfig \u904e\u7a0b\u4e2d\uff09\uff0c\u7136\u5f8c\u5c07\u66f4\u65b0\u7684\u7a0b\u5f0f\u78bc\u7de8\u8b6f\u4e26\u5237\u5beb\u5230\u5fae\u63a7\u5236\u5668\u4e2d\u3002Klipper \u7684 printer.cfg \u6a94\u6848\u4e5f\u9700\u8981\u66f4\u65b0\u4ee5\u5339\u914d\u8a72\u6ce2\u7279\u7387\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \u3002\u4f8b\u5982\uff1a [mcu] baud: 250000 OctoPrint \u7db2\u9801\u4e0a\u986f\u793a\u7684\u6ce2\u7279\u7387\u5c0d\u5167\u90e8 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u6c92\u6709\u5f71\u97ff\u3002\u4f7f\u7528 Klipper \u6642\uff0c\u59cb\u7d42\u5c07 OctoPrint \u7684\u6ce2\u7279\u7387\u8a2d\u5b9a\u70ba250000\u3002 Klipper \u5fae\u63a7\u5236\u5668\u7684\u6ce2\u7279\u7387\u8207\u5fae\u63a7\u5236\u5668\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u7684\u6ce2\u7279\u7387\u7121\u95dc\u3002\u6709\u95dc\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u7684\u984d\u5916\u8cc7\u8a0a\u8acb\u53c3\u95b1 \u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u6587\u4ef6 \u3002","title":"\u5982\u4f55\u66f4\u6539\u5e8f\u5217\u6ce2\u7279\u7387\uff1f"},{"location":"FAQ.html#raspberry-pi-3-klipper","text":"\u63a8\u85a6\u7684\u786c\u9ad4\u662f Raspberry Pi 2\u3001Raspberry Pi 3 \u6216 Raspberry Pi 4\u3002 Klipper \u53ef\u4ee5\u5728 Raspberry Pi 1\u548cRaspberry Pi Zero\u4e0a\u57f7\u884c\uff0c\u4f46\u9019\u4e9b\u677f\u5b50\u6c92\u6709\u8db3\u5920\u7684\u8655\u7406\u80fd\u529b\u4f86\u57f7\u884c OctoPrint\u3002\u5728\u9019\u4e9b\u8f03\u6162\u7684\u6a5f\u5668\u4e0a\u76f4\u63a5\u5f9e OctoPrint \u5217\u5370\u6642\uff0c\u7d93\u5e38\u6703\u51fa\u73fe\u5217\u5370\u505c\u6eef\u3002(\u5370\u8868\u6a5f\u7684\u79fb\u52d5\u901f\u5ea6\u53ef\u80fd\u6bd4 OctoPrint \u767c\u9001\u79fb\u52d5\u547d\u4ee4\u7684\u901f\u5ea6\u5feb\u3002)\u5982\u679c\u4f60\u5e0c\u671b\u5728\u9019\u4e9b\u8f03\u6162\u7684\u677f\u5b50\u4e0a\u57f7\u884c\uff0c\u8acb\u8003\u616e\u5728\u5217\u5370\u6642\u4f7f\u7528 \"virtual_sdcard \"\u529f\u80fd(\u8a73\u60c5\u8acb\u53c3\u898b \u914d\u7f6e\u53c3\u8003 )\u3002 \u8981\u5728Beaglebone\u4e0a\u57f7\u884c\uff0c\u8acb\u53c3\u95b1 Beaglebone\u7279\u5225\u5b89\u88dd\u8aaa\u660e \u3002 Klipper \u53ef\u4ee5\u5728\u5176\u4ed6\u8a08\u7b97\u6a5f\u4e0a\u57f7\u884c\u3002Klipper \u4e3b\u6a5f\u8edf\u9ad4\u53ea\u9700\u8981\u5728Linux\uff08\u6216\u985e\u4f3c\uff09\u7cfb\u7d71\u7684\u8a08\u7b97\u6a5f\u4e0a\u57f7\u884c Python\u3002\u7136\u800c\uff0c\u5982\u679c\u4f60\u60f3\u5728\u5176\u4ed6\u8a08\u7b97\u6a5f\u4e0a\u57f7\u884c\u5b83\uff0c\u4f60\u5c07\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8b58\u4f86\u5b89\u88dd\u8a72\u8a08\u7b97\u6a5f\u4e0a\u7cfb\u7d71\u7684\u4f9d\u8cf4\u5305\u3002\u53c3\u898b install-octopi.sh \u6307\u4ee4\u78bc\uff0c\u4ee5\u9032\u4e00\u6b65\u77ad\u89e3\u5fc5\u8981\u7684 Linux \u5b89\u88dd\u65b9\u6cd5\u3002 \u5982\u679c\u4f60\u60f3\u5728\u4f4e\u7aef\u8655\u7406\u5668\u4e0a\u57f7\u884c Klipper \u4e3b\u6a5f\u8edf\u9ad4\uff0c\u8acb\u6ce8\u610f\uff0c\u4f60\u81f3\u5c11\u9700\u8981\u4e00\u81fa\u5177\u6709 \"\u96d9\u7cbe\u5ea6\u6d6e\u9ede \"\u904b\u7b97\u786c\u9ad4\u7684\u8a08\u7b97\u6a5f\u3002 \u5982\u679c\u4f60\u60f3\u5728\u5171\u4eab\u7684\u901a\u7528\u8a08\u7b97\u6a5f\u6216\u4f3a\u670d\u5668\u4e0a\u57f7\u884c Klipper \u4e3b\u6a5f\u7a0b\u5f0f\uff0c\u8acb\u6ce8\u610f Klipper \u6709\u4e00\u4e9b\u5be6\u6642\u6392\u7a0b\u8981\u6c42\u3002\u5982\u679c\u5728\u5217\u5370\u904e\u7a0b\u4e2d\uff0c\u4e3b\u6a5f\u4e5f\u5728\u57f7\u884c\u5bc6\u96c6\u578b\u7684\u901a\u7528\u8a08\u7b97\u4efb\u52d9\uff08\u5982\u786c\u789f\u788e\u7247\u6574\u7406\u30013D\u6e32\u67d3\u3001\u5927\u91cfswapping \uff08\u865b\u64ec\u8a18\u61b6\u9ad4\u4ea4\u63db\uff09\u7b49\uff09\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4 Klipper \u5831\u544a\u5217\u5370\u932f\u8aa4\u3002 \u6ce8\u610f\uff1a\u5982\u679c\u4f60\u6c92\u6709\u4f7f\u7528 OctoPi \u6620\u8c61\uff0c\u4e00\u4e9bLinux\u767c\u884c\u7248\u555f\u7528\u4e86\u4e00\u500b \"ModemManager\"\uff08\u6216\u985e\u4f3c\u7684\uff09\u8edf\u9ad4\u5305\uff0c\u5b83\u5e72\u64fe\u5e8f\u5217\u901a\u8a0a\u3002(\u9019\u53ef\u80fd\u5c0e\u81f4 Klipper \u5831\u544a\u770b\u4f3c\u96a8\u6a5f\u7684 \"\u8207MCU\u5931\u53bb\u901a\u8a0a \"\u932f\u8aa4\uff09\u3002\u5982\u679c\u4f60\u5728\u9019\u4e9b\u767c\u884c\u7248\u4e0a\u5b89\u88ddKlipper\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u7981\u7528\u8a72\u8edf\u9ad4\u5305\u3002","title":"\u6211\u53ef\u4ee5\u5728 Raspberry Pi 3 \u4ee5\u5916\u7684\u5176\u4ed6\u88dd\u7f6e\u4e0a\u57f7\u884c Klipper \u55ce\uff1f"},{"location":"FAQ.html#klipper","text":"\u53ef\u4ee5\u57f7\u884c Klipper \u4e3b\u6a5f\u8edf\u9ad4\u7684\u591a\u500b\u5be6\u4f8b\uff0c\u4f46\u9019\u6a23\u505a\u9700\u8981\u4e00\u5b9a\u7684 Linux \u77e5\u8b58\u3002 Klipper \u5b89\u88dd\u6307\u4ee4\u78bc\u6700\u7d42\u6703\u5c0e\u81f4\u57f7\u884c\u4ee5\u4e0b Unix \u547d\u4ee4\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer.cfg -l /tmp/klippy.log \u53ea\u8981\u6bcf\u500b\u5be6\u4f8b\u90fd\u6709\u81ea\u5df1\u7684\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u3001\u81ea\u5df1\u7684\u65e5\u8a8c\u6a94\u6848\u548c\u81ea\u5df1\u7684\u507d tty\uff0c\u5c31\u53ef\u4ee5\u57f7\u884c\u4e0a\u8ff0\u547d\u4ee4\u7684\u591a\u500b\u5be6\u4f8b\u3002 \u4f8b\u5982\uff1a ~/klippy-env/bin/python ~/klipper/klippy/klippy.py ~/printer2.cfg -l /tmp/klippy2.log -I /tmp/printer2 \u5982\u679c\u4f60\u9078\u64c7\u9019\u6a23\u505a\uff0c\u4f60\u5c07\u9700\u8981\u5be6\u73fe\u5fc5\u8981\u7684\u555f\u52d5\u3001\u505c\u6b62\u548c\u5b89\u88dd\u6307\u4ee4\u78bc\u3002 install-octopi.sh \u548c klipper-start.sh \u6307\u4ee4\u78bc\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4f8b\u5b50\u3002","title":"\u6211\u53ef\u4ee5\u5728\u540c\u4e00\u81fa\u4e3b\u6a5f\u4e0a\u57f7\u884c\u591a\u500b Klipper \u5be6\u4f8b\u55ce\uff1f"},{"location":"FAQ.html#octoprint","text":"Klipper \u4e0d\u4f9d\u8cf4 OctoPrint\u3002\u5176\u4ed6\u8edf\u9ad4\u4e5f\u53ef\u4ee5\u5411 Klipper \u767c\u9001\u547d\u4ee4\uff0c\u4f46\u9019\u6a23\u505a\u53ef\u80fd\u9700\u8981\u4e00\u4e9b Linux \u7ba1\u7406\u77e5\u8b58\u3002 Klipper \u901a\u904e \u300c/tmp/printer\u300d \u6a94\u6848\u5efa\u7acb\u4e86\u4e00\u500b\u300c\u865b\u64ec\u4e32\u5217\u57e0\u300d\uff0c\u8a72\u6a94\u6848\u6a21\u64ec\u4e86\u4e00\u500b\u6a19\u6e96\u76843D\u5370\u8868\u6a5f\u4e32\u5217\u57e0\u3002\u7406\u8ad6\u4e0a\u4efb\u4f55\u80fd\u914d\u7f6e\u4e26\u4f7f\u7528 \u300c/tmp/printer\u300d \u4f5c\u70ba\u5370\u8868\u6a5f\u4e32\u5217\u57e0\u7684\u8edf\u9ad4\u90fd\u53ef\u4ee5\u8207Klipper\u4e00\u8d77\u5de5\u4f5c\u3002","title":"\u6211\u5fc5\u9808\u4f7f\u7528 OctoPrint \u55ce\uff1f"},{"location":"FAQ.html#_5","text":"\u7a0b\u5f0f\u78bc\u9019\u6a23\u505a\u662f\u7232\u4e86\u6e1b\u5c11\u610f\u5916\u5c07\u982d\u649e\u5230\u5e8a\u6216\u58bb\u58c1\u7684\u6a5f\u6703\u3002 \u5370\u8868\u6a5f\u6b78\u4f4d\u540e\uff0c\u8edf\u9ad4\u6703\u5617\u8a66\u9a57\u8b49\u6bcf\u500b\u79fb\u52d5\u662f\u5426\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684 position_min/max \u7bc4\u570d\u5167\u3002 \u5982\u679c\u96fb\u6a5f\u88ab\u7981\u7528\uff08\u901a\u904e M84 \u6216 M18 \u547d\u4ee4\uff09\uff0c\u90a3\u9ebc\u96fb\u6a5f\u5c07\u9700\u8981\u5728\u904b\u52d5\u524d\u518d\u6b21\u6b78\u4f4d\u3002 \u5982\u679c\u60a8\u60f3\u5728\u901a\u904e OctoPrint \u53d6\u6d88\u5217\u5370\u540e\u79fb\u52d5\u5217\u5370\u982d\uff0c\u8acb\u8003\u616e\u66f4\u6539 OctoPrint \u53d6\u6d88\u9806\u5e8f\u4f86\u70ba\u60a8\u57f7\u884c\u6b64\u64cd\u4f5c\u3002 \u5b83\u662f\u901a\u904e Web \u700f\u89bd\u5668\u5728 OctoPrint \u4e2d\u914d\u7f6e\u7684\uff1a\u8a2d\u5b9a-> GCODE \u6307\u4ee4\u78bc \u5982\u679c\u60a8\u60f3\u5728\u5217\u5370\u5b8c\u6210\u5f8c\u79fb\u52d5\u982d\u90e8\uff0c\u8acb\u8003\u616e\u5c07\u6240\u9700\u7684\u79fb\u52d5\u65b0\u589e\u5230\u5207\u7247\u6a5f\u7684\u300c\u81ea\u5b9a\u7fa9 g \u7a0b\u5f0f\u78bc\u300d\u90e8\u5206\u3002 \u5982\u679c\u5370\u8868\u6a5f\u6b78\u4f4d\u904e\u7a0b\u4e2d\u9700\u8981\u4e00\u4e9b\u984d\u5916\u7684\u79fb\u52d5\uff08\u6216\u8005\u6839\u672c\u4e0a\u6c92\u6709\u6b78\u4f4d\u904b\u52d5\uff09\uff0c\u90a3\u9ebc\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9safe_z_home\u6216 homing_override\u5206\u6bb5\u3002\u5982\u679c\u4f60\u9700\u8981\u70ba\u8a3a\u65b7\u6216\u9664\u932f\u76ee\u7684\u79fb\u52d5\u4e00\u500b\u6b65\u9032\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u65b0\u589e\u4e00\u500b force_move \u5206\u6bb5\u3002\u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u4ee5\u77ad\u89e3\u95dc\u65bc\u9019\u4e9b\u9078\u9805\u7684\u8a73\u60c5\u3002","title":"\u70ba\u4ec0\u9ebc\u5728\u6b78\u4f4d\u5370\u8868\u6a5f\u4e4b\u524d\u6211\u4e0d\u80fd\u79fb\u52d5\u6b65\u9032\u5668\uff1f"},{"location":"FAQ.html#z-position_endstop-05","text":"\u5c0d\u65bc\u7b1b\u5361\u723e\u5f0f\u5370\u8868\u6a5f\uff0cZ position_endstop \u5b9a\u7fa9\u4e86\u7576\u9650\u4f4d\u89f8\u767c\u6642\u5674\u5634\u96e2\u5e8a\u7684\u8ddd\u96e2\u3002\u5982\u679c\u53ef\u80fd\u7684\u8a71\uff0c\u5efa\u8b70\u4f7f\u7528 Z-max \u9650\u4f4d\u4f7f\u6b78\u4f4d\u6642\u5217\u5370\u982d\u9060\u96e2\u5e8a\uff08\u56e0\u70ba\u9019\u53ef\u4ee5\u6e1b\u5c11\u78b0\u649e\u7684\u767c\u751f\uff09\u3002\u5982\u679c\u5fc5\u9808\u671d\u5411\u5e8a\u6b78\u4f4d\uff0c\u90a3\u9ebc\u5efa\u8b70\u5c07\u9650\u4f4d\u56fa\u5b9a\u5728\u5674\u5634\u8ddd\u96e2\u5e8a\u9084\u6709\u4e00\u5c0f\u6bb5\u8ddd\u96e2\u6642\u89f8\u767c\u3002\u9019\u6a23\uff0c\u7576\u6b78\u4f4d Z \u8ef8\u6642\uff0c\u5674\u5634\u6703\u5728\u63a5\u89f8\u5e8a\u4e4b\u524d\u505c\u6b62\u3002\u6709\u95dc\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 \u5217\u5370\u5e8a\u8abf\u5e73\u6587\u4ef6 \u3002","title":"\u70ba\u4ec0\u9ebc Z position_endstop \u5728\u9810\u8a2d\u914d\u7f6e\u4e2d\u8a2d\u5b9a\u70ba 0.5\uff1f"},{"location":"FAQ.html#marlin-xy-z","text":"\u9577\u8a71\u77ed\u8aaa\uff1a\u9996\u5148\uff0c\u8acb\u78ba\u4fdd\u60a8\u5df2\u6309\u7167 \u914d\u7f6e\u6aa2\u67e5\u6587\u4ef6 \u4e2d\u63cf\u8ff0\u7684\u6b65\u9a5f\u9a57\u8b49\u4e86\u6b65\u9032\u9a45\u52d5\u914d\u7f6e\u3002\u5982\u679c\u554f\u984c\u4ecd\u7136\u5b58\u5728\uff0c\u8acb\u5617\u8a66\u964d\u4f4e\u5370\u8868\u6a5f\u914d\u7f6e\u4e2d\u7684 max_z_velocity \u8a2d\u5b9a\u3002 \u5177\u9ad4\u539f\u7406\uff1a\u5728\u5be6\u8e10\u4e2d\uff0cMarlin \u901a\u5e38\u53ea\u80fd\u4ee5\u6bcf\u79d2 10000 \u6b65\u5de6\u53f3\u7684\u901f\u5ea6\u767c\u9001\u6b65\u9032\u3002\u5982\u679c\u8981\u6c42\u5b83\u4ee5\u9700\u8981\u66f4\u9ad8\u7684\u6b65\u9032\u7387\u7684\u901f\u5ea6\u79fb\u52d5\uff0c\u90a3\u9ebc Marlin \u6703\u76e1\u53ef\u80fd\u5feb\u5730\u6b65\u9032\u3002Klipper \u80fd\u5920\u5be6\u73fe\u66f4\u9ad8\u7684\u6b65\u9032\u7387\uff0c\u4f46\u6b65\u9032\u96fb\u6a5f\u53ef\u80fd\u6c92\u6709\u8db3\u5920\u7684\u626d\u77e9\u4ee5\u66f4\u9ad8\u7684\u901f\u5ea6\u79fb\u52d5\u3002\u56e0\u6b64\uff0c\u5c0d\u65bc\u4e00\u500b\u5177\u6709\u9ad8\u50b3\u52d5\u6bd4\u6216\u9ad8\u5fae\u6b65\u8a2d\u5b9a\u7684 Z \u8ef8\uff0c\u5be6\u969b\u7684\u6700\u5927\u901f\u5ea6\u53ef\u80fd\u5c0f\u65bc Marlin \u4e2d\u914d\u7f6e\u7684\u503c\u3002","title":"\u6211\u5f9e Marlin \u8f49\u63db\u4e86\u6211\u7684\u914d\u7f6e\u4e26\u4e14 X/Y \u8ef8\u5de5\u4f5c\u6b63\u5e38\uff0c\u4f46\u662f\u5728\u6b78\u4f4d Z \u8ef8\u6642\u6211\u53ea\u807d\u5230\u523a\u8033\u7684\u566a\u97f3\u4e14\u5370\u8868\u6a5f\u4e0d\u52d5"},{"location":"FAQ.html#tmc","text":"\u5982\u679c\u5728\u300c\u7368\u7acb\u6a21\u5f0f\u300d\u4e2d\u4f7f\u7528 TMC2208\uff08\u6216 TMC2224\uff09\u9a45\u52d5\uff0c\u90a3\u9ebc\u8acb\u78ba\u4fdd\u60a8\u6b63\u5728\u4f7f\u7528 \u6700\u65b0\u7248\u672c\u7684 Klipper \u30022020\u5e743\u6708\u4e2d\u65ec\uff0cKlipper \u4e2d\u4fee\u5fa9\u4e86 TMC2208 \u300cStealthChop\u300d \u9a45\u52d5\u7684\u554f\u984c\u3002","title":"\u6211\u7684 TMC \u96fb\u6a5f\u9a45\u52d5\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u95dc\u9589\u4e86"},{"location":"FAQ.html#mcu","text":"\u9019\u901a\u5e38\u662f\u7531\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684 USB \u9023\u7dda\u4e2d\u786c\u9ad4\u932f\u8aa4\u5f15\u8d77\u7684\u3002\u6ce8\u610f\u9019\u4e9b\u554f\u984c\uff1a \u5728\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u61c9\u8a72\u4f7f\u7528\u9ad8\u8cea\u91cfUSB\u7dda\uff0c\u4e26\u78ba\u4fdd\u63d2\u982d\u7262\u56fa\u3002 \u5982\u679c\u4f7f\u7528\u6a39\u8393\u6d3e\uff0c\u8acb\u70ba\u6a39\u8393\u6d3e\u4f7f\u7528 \u512a\u8cea\u96fb\u6e90 \uff0c\u4e26\u4f7f\u7528 \u512a\u8ceaUSB\u96fb\u7e9c \u5c07\u8a72\u96fb\u6e90\u8207Pi\u9023\u7dda\u3002\u5982\u679c\u4f60\u5f9eOctoPrint\u5f97\u5230 \"\u96fb\u58d3\u4e0d\u8db3 \"\u7684\u8b66\u544a\uff0c\u9019\u4e5f\u8207\u96fb\u6e90\u6709\u95dc\uff0c\u5fc5\u9808\u89e3\u6c7a\u3002 \u8acb\u78ba\u4fdd\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u6c92\u6709\u904e\u8f09\u3002(\u5fae\u63a7\u5236\u5668 USB \u6676\u7247\u7684\u96fb\u58d3\u6ce2\u52d5\u53ef\u80fd\u6703\u5c0e\u81f4\u8a72\u6676\u7247\u6b20\u58d3\u5fa9\u4f4d\u3002) \u78ba\u8a8d\u6b65\u9032\u96fb\u6a5f\u3001\u52a0\u71b1\u5668\u548c\u5176\u4ed6\u5370\u8868\u6a5f\u96fb\u7dda\u6c92\u6709\u88ab\u58d3\u58de\u6216\u78e8\u640d\u3002\uff08\u5370\u8868\u6a5f\u79fb\u52d5\u6642\u53ef\u80fd\u5c0d\u6545\u969c\u7684\u96fb\u7dda\u65bd\u52a0\u58d3\u529b\uff0c\u5c0e\u81f4\u5176\u5931\u53bb\u63a5\u89f8\u3001\u77ed\u66ab\u77ed\u8def\u6216\u7522\u751f\u904e\u591a\u7684\u566a\u97f3\u3002\uff09 \u6709\u5831\u544a\u7a31\uff0c\u7576\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u548c\u4e3b\u6a5f\u76845V\u96fb\u6e90\u6df7\u5408\u6642\uff0cUSB\u566a\u97f3\u5f88\u5927\u3002(\u5982\u679c\u4f60\u767c\u73fe\u7576\u5370\u8868\u6a5f\u7684\u96fb\u6e90\u6253\u958b\u6216USB\u96fb\u7e9c\u63d2\u5165\u6642\uff0c\u5fae\u63a7\u5236\u5668\u6703\u901a\u96fb\uff0c\u90a3\u9ebc\u9019\u8868\u660e5V\u96fb\u6e90\u88ab\u6df7\u7528\u4e86\uff09\u3002\u914d\u7f6e\u5fae\u63a7\u5236\u5668\uff0c\u4f7f\u5176\u53ea\u4f7f\u7528\u4e00\u500b\u96fb\u6e90\u53ef\u80fd\u6703\u6709\u5e6b\u52a9\u3002(\u53e6\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u4e3b\u677f\u4e0d\u80fd\u914d\u7f6e\u5176\u4f9b\u96fb\u4f86\u6e90\uff0c\u4e5f\u53ef\u4ee5\u4fee\u6539USB\u96fb\u7e9c\uff0c\u4f7f\u5176\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u4e0d\u5171\u4eab5V\u96fb\u6e90\u3002\uff09","title":"\u6211\u4e0d\u65b7\u6536\u5230\u96a8\u6a5f\u7684\"\u8207MCU\u5931\u53bb\u901a\u8a0a\"\u932f\u8aa4"},{"location":"FAQ.html#_6","text":"\u9019\u5f88\u53ef\u80fd\u662f\u7531\u65bc\u96fb\u58d3\u6ce2\u52d5\u5f15\u8d77\u7684\u3002\u8acb\u9075\u5faa \"\u8207MCU\u5931\u53bb\u901a\u8a0a\" \u932f\u8aa4\u540c\u6a23\u7684\u6545\u969c\u6392\u9664\u6b65\u9a5f\u3002","title":"\u6211\u7684\u6a39\u8393\u6d3e\u5728\u5217\u5370\u6642\u4e0d\u65b7\u91cd\u555f"},{"location":"FAQ.html#restart_methodcommand-avr","text":"\u4e00\u4e9b\u820a\u7248\u672c\u7684AVR\u8f09\u5165\u7a0b\u5f0f\u5728\u770b\u9580\u72d7\u4e8b\u4ef6\u8655\u7406\u65b9\u9762\u6709\u4e00\u500b\u5df2\u77e5\u7684\u932f\u8aa4\u3002\u9019\u901a\u5e38\u8868\u73fe\u5728printer.cfg\u6a94\u6848\u4e2d\u7684restart_method\u8a2d\u5b9a\u70ba \"command\"\u7684\u6642\u5019\u3002\u7576\u9019\u500b\u932f\u8aa4\u767c\u751f\u6642\uff0cAVR\u88dd\u7f6e\u6703\u5b95\u6a5f\u76f4\u5230\u96fb\u6e90\u88ab\u79fb\u9664\u4e26\u91cd\u65b0\u4e0a\u96fb\uff08\u96fb\u6e90\u6216\u72c0\u614bLED\u4e5f\u53ef\u80fd\u4e0d\u505c\u7684\u9583\u720d\u76f4\u5230\u65b7\u96fb\uff09\u3002 \u89e3\u6c7a\u8fa6\u6cd5\u662f\u4f7f\u7528 \"command \"\u4ee5\u5916\u7684\u91cd\u555f\u65b9\u6cd5\uff0c\u6216\u8005\u5728AVR\u88dd\u7f6e\u4e0a\u5237\u5beb\u4e00\u500b\u65b0\u7684\u8f09\u5165\u7a0b\u5f0f\u3002\u5237\u5beb\u4e00\u500b\u65b0\u7684\u8f09\u5165\u7a0b\u5f0f\u662f\u4e00\u500b\u4e00\u6b21\u6027\u7684\u6b65\u9a5f\uff0c\u901a\u5e38\u9700\u8981\u4e00\u500b\u5916\u90e8\u7a0b\u5f0f\u8a2d\u8a08\u5668--\u66f4\u591a\u7d30\u7bc0\u8acb\u53c3\u898b Bootloaders \u3002","title":"\u7576\u8a2d\u5b9arestart_method=command\u6642\uff0c AVR \u88dd\u7f6e\u5728\u91cd\u555f\u6642\u5c31\u6703\u5b95\u6a5f"},{"location":"FAQ.html#raspberry-pi","text":"Klipper \u7684\u8a2d\u8a08\u9632\u6b62\u4e86\u9019\u7a2e\u60c5\u6cc1\u3002\u4e00\u65e6\u4e3b\u6a5f\u555f\u7528\u4e86\u4e00\u500b\u52a0\u71b1\u5668\uff0c\u4e3b\u6a5f\u8edf\u9ad4\u9700\u8981\u6bcf 5 \u79d2\u9418\u78ba\u8a8d\u4e00\u6b21\u555f\u7528\u72c0\u614b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u6c92\u6709\u6536\u5230\u6bcf 5 \u79d2\u7684\u78ba\u8a8d\uff0c\u5b83\u5c31\u6703\u9032\u5165\"\u95dc\u9589\"\u72c0\u614b\uff0c\u8a72\u72c0\u614b\u6703\u95dc\u9589\u6240\u6709\u52a0\u71b1\u5668\u548c\u6b65\u9032\u96fb\u6a5f\u3002 \u8a73\u60c5\u8acb\u898b MCU \u547d\u4ee4 \u6587\u4ef6\u4e2d\u7684 \"config_digital_out\" \u547d\u4ee4\u3002 \u6b64\u5916\uff0c\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5728\u555f\u52d5\u6642\u70ba\u6bcf\u500b\u52a0\u71b1\u5668\u914d\u7f6e\u4e86\u6700\u4f4e\u548c\u6700\u9ad8\u6eab\u5ea6\u7bc4\u570d\uff08\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \u4e2d\u7684min_temp\u548cmax_temp\u53c3\u6578\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u6aa2\u6e2c\u5230\u6eab\u5ea6\u8d85\u51fa\u4e86\u8a72\u7bc4\u570d\uff0c\u90a3\u9ebc\u5b83\u4e5f\u5c07\u9032\u5165 \"\u95dc\u6a5f \"\u72c0\u614b\u3002 \u53e6\u5916\uff0c\u4e3b\u6a5f\u8edf\u9ad4\u9084\u5be6\u73fe\u4e86\u6aa2\u67e5\u52a0\u71b1\u5668\u548c\u6eab\u5ea6\u611f\u6e2c\u5668\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u7684\u7a0b\u5f0f\u78bc\u3002\u8a73\u60c5\u898b \u914d\u7f6e\u53c3\u8003 \u3002","title":"\u5982\u679c Raspberry Pi \u5d29\u6f70\u4e86\uff0c\u52a0\u71b1\u5668\u6703\u4e00\u76f4\u52a0\u71b1\u55ce\uff1f"},{"location":"FAQ.html#marlin-klipper","text":"\u7c21\u8981\u56de\u7b54\uff1a\u5728 sample-aliases.cfg \u6a94\u6848\u4e2d\u6709\u4e00\u500b\u5c0d\u6620\u3002\u4f7f\u7528\u8a72\u6a94\u6848\u4f5c\u70ba\u6307\u5f15\u4f86\u5c0b\u627e\u5be6\u969b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u7a31\u3002(\u4e5f\u53ef\u4ee5\u5c07\u76f8\u95dc\u7684 board_pins \u914d\u7f6e\u90e8\u5206\u8907\u88fd\u5230\u4f60\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\uff0c\u5728\u4f60\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528\u5225\u540d\uff0c\u4f46\u6700\u597d\u662f\u7ffb\u8b6f\u4e26\u4f7f\u7528\u5be6\u969b\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u540d\u7a31\u3002) \u8acb\u6ce8\u610f\uff0csample-aliases.cfg\u6a94\u6848\u4f7f\u7528\u4ee5 \"ar \"\u958b\u982d\u7684\u5f15\u8173\u540d\u7a31\u66ff\u63db \"D\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u8173 D23 \u662fKlipper\u5225\u540d ar23 \uff09\u548c\u4ee5 \"analog \"\u958b\u982d\u7684\u5f15\u8173\u540d\u7a31\u66ff\u63db \"A\"\uff08\u4f8b\u5982\uff0cArduino\u5f15\u8173 A14 \u662fKlipper\u5225\u540d analog14 \uff09\u3002 \u8a73\u7d30\u7b54\u6848\uff1aKlipper\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u7fa9\u7684\u6a19\u6e96\u5f15\u8173\u540d\u7a31\u3002\u5728 Atmega \u6676\u7247\u4e0a\uff0c\u9019\u4e9b\u786c\u9ad4\u5f15\u8173\u7684\u540d\u7a31\u985e\u4f3c\u65bc PA4 \u3001 PC7 \u6216 PD2 \u3002 \u5f88\u4e45\u4ee5\u524d\uff0cArduino\u5c08\u6848\u6c7a\u5b9a\u907f\u514d\u4f7f\u7528\u6a19\u6e96\u7684\u786c\u9ad4\u540d\u7a31\uff0c\u800c\u63a1\u7528\u4ed6\u5011\u81ea\u5df1\u7684\u57fa\u65bc\u905e\u589e\u6578\u5b57\u7684\u5f15\u8173\u540d\u7a31--\u9019\u4e9bArduino\u540d\u7a31\u4e00\u822c\u770b\u8d77\u4f86\u50cf D23 \u6216 A14 \u3002\u9019\u662f\u4e00\u500b\u4e0d\u5e78\u7684\u9078\u64c7\uff0c\u5c0e\u81f4\u4e86\u5927\u91cf\u7684\u6df7\u4e82\u3002\u7279\u5225\u662fArduino\u7684\u5f15\u8173\u865f\u78bc\u7d93\u5e38\u4e0d\u80fd\u8f49\u63db\u70ba\u76f8\u540c\u7684\u786c\u9ad4\u540d\u7a31\u3002\u4f8b\u5982\uff0c D21 \u5728\u4e00\u500b\u5e38\u898b\u7684Arduino\u677f\u4e0a\u662f PD0 \uff0c\u4f46\u5728\u53e6\u4e00\u500b\u5e38\u898b\u7684Arduino\u677f\u4e0a\u662f PC7 \u3002 \u7232\u4e86\u907f\u514d\u9019\u7a2e\u6df7\u6dc6\uff0cKlipper \u6838\u5fc3\u7a0b\u5f0f\u78bc\u4f7f\u7528\u5fae\u63a7\u5236\u5668\u5b9a\u7fa9\u7684\u6a19\u6e96\u5f15\u8173\u540d\u7a31\u3002","title":"\u5982\u4f55\u5c07 Marlin \u5f15\u8173\u7de8\u865f\u8f49\u63db\u70ba Klipper \u5f15\u8173\u540d\u7a31\uff1f"},{"location":"FAQ.html#_7","text":"\u9019\u53d6\u6c7a\u65bc\u88dd\u7f6e\u548c\u5f15\u8173\u7684\u578b\u5225\uff1a ADC \u5f15\u8173\uff08\u6216\u6a21\u64ec\u5f15\u8173\uff09\uff1a\u71b1\u654f\u96fb\u963b\u548c\u985e\u4f3c\u7684\u300c\u6a21\u64ec\u300d\u611f\u6e2c\u5668\u5fc5\u9808\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u4e0a\u5177\u6709\u300c\u6a21\u64ec\u300d\u6216\u300cADC\u300d\u529f\u80fd\u7684\u5f15\u8173\u3002\u5982\u679c\u60a8\u5728 Klipper \u4e0a\u70ba\u4e00\u500b\u6a21\u64ec\u611f\u6e2c\u5668\u914d\u7f6e\u70ba\u4f7f\u7528\u4e0d\u5177\u5099\u6a21\u64ec\u529f\u80fd\u7684\u5f15\u8173\uff0cKlipper \u5c07\u5831\u544a\u300cNot a valid ADC pin\u300d\u932f\u8aa4\u3002 PWM\u5f15\u8173\uff08\u6216\u5b9a\u6642\u5668\u5f15\u8173\uff09\u3002Klipper\u9810\u8a2d\u4e0d\u5728\u4efb\u4f55\u88dd\u7f6e\u4e0a\u4f7f\u7528\u786c\u9ad4PWM\u3002\u56e0\u6b64\uff0c\u4e00\u822c\u4f86\u8aaa\uff0c\u53ef\u4ee5\u5c07\u71b1\u7aef\u3001\u98a8\u6247\u548c\u985e\u4f3c\u7684\u88dd\u7f6e\u9023\u7dda\u5230\u4efb\u4f55\u7684\u901a\u7528IO\u5f15\u8173\u3002\u7136\u800c\uff0c\u98a8\u6247\u548coutput_pin\u88dd\u7f6e\u53ef\u4ee5\u9078\u64c7\u914d\u7f6e\u70ba\u4f7f\u7528 hardware_pwm: True \uff0c\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u5fae\u63a7\u5236\u5668\u5728\u9019\u500b\u5f15\u8173\u4e0a\u5fc5\u9808\u652f\u63f4\u786c\u9ad4PWM\uff08\u5426\u5247\uff0cKlipper\u5c07\u5831\u544a \"\u4e0d\u662f\u6709\u6548\u7684PWM\u5f15\u8173 \"\u932f\u8aa4\uff09\u3002 IRQ\u5f15\u8173\uff08\u6216\u4e2d\u65b7\u5f15\u8173\uff09\u3002Klipper\u4e0d\u4f7f\u7528IO\u5f15\u8173\u4e0a\u7684\u786c\u9ad4\u4e2d\u65b7\uff0c\u6240\u4ee5\u6c92\u6709\u5fc5\u8981\u5c07\u88dd\u7f6e\u9023\u7dda\u5230\u9019\u4e9b\u5fae\u63a7\u5236\u5668\u5f15\u8173\u4e0a\u3002 SPI \u5f15\u8173\uff1a\u4f7f\u7528\u786c\u9ad4 SPI \u6642\uff0c\u9700\u8981\u5c07\u5f15\u8173\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u7684 SPI \u5f15\u8173\u3002\u4f46\u662f\uff0c\u5927\u591a\u6578\u88dd\u7f6e\u90fd\u53ef\u4ee5\u914d\u7f6e\u70ba\u4f7f\u7528\u300c\u8edf\u9ad4 SPI\u300d\uff0c\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u901a\u7528 IO \u5f15\u8173\u3002 I2C \u5f15\u8173\uff1a\u4f7f\u7528 I2C \u6642\uff0c\u5fc5\u9808\u5c07\u5f15\u8173\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u652f\u63f4 I2C \u7684\u5f15\u8173\u3002 \u5176\u4ed6\u88dd\u7f6e\u53ef\u4ee5\u9023\u7dda\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u8173\u3002\u4f8b\u5982\uff0c\u6b65\u9032\u96fb\u6a5f\u3001\u52a0\u71b1\u5668\u3001\u98a8\u6247\u3001Z\u63a2\u982d\u3001\u8235\u6a5f\u3001LED\u3001\u901a\u7528\u7684hd44780/st7920\u6db2\u6676\u986f\u793a\u5668\u548cTrinamic UART\u63a7\u5236\u7dda\u90fd\u53ef\u4ee5\u9023\u7dda\u5230\u4efb\u4f55\u901a\u7528\u7684IO\u5f15\u8173\u3002","title":"\u6211\u5fc5\u9808\u5c07\u88dd\u7f6e\u9023\u7dda\u5230\u7279\u5b9a\u578b\u5225\u7684\u5fae\u63a7\u5236\u5668\u5f15\u8173\u55ce\uff1f"},{"location":"FAQ.html#m109m190","text":"\u5c0e\u822a\u5230OctoPrint\u7d42\u7aef\u6a19\u7c64\u9801\uff0c\u5728\u7d42\u7aef\u6846\u4e2d\u8f38\u5165M112\u547d\u4ee4\u3002M112\u547d\u4ee4\u5c07\u4f7fKlipper\u9032\u5165 \"\u95dc\u6a5f \"\u72c0\u614b\uff0c\u5b83\u5c07\u4f7fOctoPrint\u5f9eKlipper\u65b7\u958b\u3002\u5c0e\u822a\u5230OctoPrint\u9023\u7dda\u5340\uff0c\u9ede\u9078 \"\u9023\u7dda\"\uff0c\u4f7fOctoPrint\u91cd\u65b0\u9023\u7dda\u3002\u5c0e\u822a\u56de\u5230\u7d42\u7aef\u6a19\u7c64\u9801\uff0c\u8f38\u5165FIRMWARE_RESTART\u547d\u4ee4\u4ee5\u6e05\u9664Klipper\u7684\u932f\u8aa4\u72c0\u614b\u3002\u5b8c\u6210\u9019\u4e00\u7cfb\u5217\u64cd\u4f5c\u5c07\u53d6\u6d88\u5148\u524d\u7684\u52a0\u71b1\u8acb\u6c42\uff0c\u53ef\u4ee5\u958b\u59cb\u65b0\u7684\u5217\u5370\u3002","title":"\u5982\u4f55\u53d6\u6d88 M109/M190 \"\u7b49\u5f85\u9054\u5230\u76ee\u6a19\u6eab\u5ea6\"\u7684\u8acb\u6c42\uff1f"},{"location":"FAQ.html#_8","text":"\u5728\u67d0\u7a2e\u7a0b\u5ea6\u4e0a\uff0c\u662f\u7684\u3002\u5c07\u5370\u8868\u6a5f\u6b78\u4f4d\uff0c\u767c\u51fa GET_POSITION \u547d\u4ee4\uff0c\u57f7\u884c\u5217\u5370\uff0c\u518d\u6b21\u6b78\u4f4d\uff0c\u518d\u767c\u51fa GET_POSITION \u3002\u7136\u5f8c\u6bd4\u8f03 mcu: \u884c\u4e2d\u7684\u503c\u3002 \u9019\u53ef\u80fd\u6709\u52a9\u65bc\u8abf\u6574\u6b65\u9032\u96fb\u6a5f\u96fb\u6d41\u3001\u52a0\u901f\u5ea6\u548c\u901f\u5ea6\u7b49\u8a2d\u5b9a\uff0c\u800c\u4e0d\u9700\u8981\u5be6\u969b\u5217\u5370\u6771\u897f\u548c\u6d6a\u8cbb\u6750\u6599\uff1a\u53ea\u8981\u5728 GET_POSITION \u547d\u4ee4\u4e4b\u9593\u57f7\u884c\u4e00\u4e9b\u9ad8\u901f\u79fb\u52d5\u3002 \u8acb\u6ce8\u610f\uff0c\u9650\u4f4d\u958b\u95dc\u672c\u8eab\u7684\u89f8\u767c\u4f4d\u7f6e\u7565\u6709\u4e0d\u540c\uff0c\u6240\u4ee5\u5c0e\u81f4\u9650\u4f4d\u958b\u95dc\u89f8\u767c\u7d50\u679c\u53ef\u80fd\u6709\u5e7e\u500b\u5fae\u6b65\u7684\u8aa4\u5dee\u3002\u6b65\u9032\u96fb\u6a5f\u672c\u8eab\u53ea\u80fd\u4ee54\u500b\u6574\u6b65\u70ba\u589e\u91cf\u640d\u5931\u6b65\u6578\u3002(\u56e0\u6b64\uff0c\u5982\u679c\u4f7f\u752816\u500b\u5fae\u6b65\uff0c\u90a3\u9ebc\u6b65\u9032\u5668\u96fb\u6a5f\u4e0a\u7684\u5931\u6b65\u5c07\u5c0e\u81f4 \"MCU: \"\u6b65\u9032\u8a08\u6578\u5668\u504f\u96e264\u5fae\u6b65\u7684\u500d\u6578\u3002\uff09","title":"\u600e\u9ebc\u6aa2\u67e5\u5370\u8868\u6a5f\u662f\u5426\u767c\u751f\u4e86\u4e1f\u6b65?"},{"location":"FAQ.html#klipper_1","text":"\u7c21\u77ed\u7684\u56de\u7b54\uff1a\u6211\u5011\u60f3\u77e5\u9053\u5370\u8868\u6a5f\u662f\u5426\u6aa2\u6e2c\u5230\u554f\u984c\uff0c\u9019\u6a23\u5c31\u53ef\u4ee5\u89e3\u6c7a\u6f5b\u5728\u7684\u554f\u984c\uff0c\u5c31\u53ef\u4ee5\u7372\u5f97\u9ad8\u8cea\u91cf\u7684\u5217\u5370\u4ef6\u3002\u6211\u5011\u7d55\u5c0d\u4e0d\u5e0c\u671b\u5370\u8868\u6a5f\u9ed8\u9ed8\u5730\u751f\u7522\u4f4e\u8cea\u91cf\u7684\u5217\u5370\u4ef6\u3002 \u8a73\u7d30\u7b54\u6848\uff1aKlipper\u88ab\u8a2d\u8a08\u6210\u80fd\u5920\u81ea\u52d5\u89e3\u6c7a\u8a31\u591a\u77ac\u6642\u554f\u984c\u3002\u4f8b\u5982\uff0c\u5b83\u81ea\u52d5\u6aa2\u6e2c\u5230\u901a\u8a0a\u932f\u8aa4\uff0c\u4e26\u6703\u91cd\u65b0\u50b3\u8f38\uff1b\u5b83\u63d0\u524d\u5b89\u6392\u884c\u52d5\uff0c\u4e26\u5728\u591a\u5c64\u7de9\u885d\u547d\u4ee4\uff0c\u4ee5\u4fbf\u5373\u4f7f\u6709\u9593\u6b47\u6027\u5e72\u64fe\u4e5f\u80fd\u7cbe\u78ba\u63a7\u5236\u6642\u5e8f\u3002\u7136\u800c\uff0c\u5982\u679c\u8edf\u9ad4\u6aa2\u6e2c\u5230\u5b83\u7121\u6cd5\u6062\u5fa9\u7684\u932f\u8aa4\uff0c\u6216\u8005\u5b83\u88ab\u547d\u4ee4\u63a1\u53d6\u7121\u6548\u7684\u884c\u52d5\uff0c\u6216\u8005\u5b83\u6aa2\u6e2c\u5230\u5b83\u7121\u6cd5\u57f7\u884c\u5176\u88ab\u547d\u4ee4\u7684\u4efb\u52d9\uff0c\u90a3\u9ebcKlipper\u5c07\u5831\u544a\u932f\u8aa4\u3002\u5728\u9019\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u7522\u751f\u4f4e\u8cea\u91cf\u5370\u5237\u4ef6\uff08\u6216\u66f4\u7cdf\uff09\u7684\u98a8\u96aa\u5f88\u5927\u3002\u6211\u5011\u5e0c\u671b\u901a\u904e\u63d0\u9192\u4f7f\u7528\u8005\uff0c\u4f7f\u4ed6\u5011\u6709\u80fd\u529b\u89e3\u6c7a\u6f5b\u5728\u7684\u554f\u984c\uff0c\u63d0\u9ad8\u5217\u5370\u7684\u6574\u9ad4\u8cea\u91cf\u3002 \u6709\u4e00\u4e9b\u76f8\u95dc\u7684\u554f\u984c\u3002\u70ba\u4ec0\u9ebcKlipper\u4e0d\u66ab\u505c\u5217\u5370\uff1f\u70ba\u4ec0\u9ebc\u4e0d\u5148\u8b66\u544a\uff1f\u70ba\u4ec0\u9ebc\u4e0d\u5728\u5217\u5370\u524d\u6aa2\u67e5\u932f\u8aa4\uff1f\u70ba\u4ec0\u9ebc\u4e0d\u5ffd\u7565\u4f7f\u7528\u8005\u8f38\u5165\u7684\u547d\u4ee4\u4e2d\u7684\u932f\u8aa4\uff1f\u7b49\u7b49\uff1f\u76ee\u524d\uff0cKlipper\u4f7f\u7528G-Code\u5354\u8b70\u8b80\u53d6\u547d\u4ee4\uff0c\u4e0d\u5e78\u7684\u662f\uff0cG-Code\u547d\u4ee4\u5354\u8b70\u4e0d\u5920\u9748\u6d3b\uff0c\u5c0e\u81f4\u73fe\u5728\u4e26\u4e0d\u80fd\u4f7f\u7528\u9019\u4e9b\u66ff\u4ee3\u65b9\u6848\u3002\u958b\u767c\u8005\u5c0d\u6539\u5584\u7570\u5e38\u4e8b\u4ef6\u4e2d\u7684\u4f7f\u7528\u8005\u9ad4\u9a57\u5f88\u611f\u8208\u8da3\uff0c\u4f46\u9810\u8a08\u9019\u5c07\u9700\u8981\u5927\u91cf\u7684\u5e95\u5c64\u5de5\u4f5c\uff08\u5305\u62ec\u5f9eG-Code\u7684\u9077\u79fb\u5230\u5225\u7684\u65b9\u5f0f\uff09\u3002","title":"\u70ba\u4ec0\u9ebc Klipper \u6703\u5831\u932f\uff1f\u6211\u6536\u4e86\u4e00\u76e4\u9762\u689d\uff08\u6211\u53c8\u6253\u5ee2\u4e86\uff09\uff01"},{"location":"FAQ.html#_9","text":"\u5347\u7d1a\u8edf\u9ad4\u7684\u7b2c\u4e00\u6b65\u662f\u6aa2\u8996\u6700\u65b0\u7684 \u914d\u7f6e\u8b8a\u66f4 \u6a94\u6848\u3002\u4f5c\u70ba\u8edf\u9ad4\u5347\u7d1a\u7684\u4e00\u90e8\u5206\uff0c\u5076\u723e\u6709\u6642\u5019\u8edf\u9ad4\u6703\u6709\u4e00\u4e9b\u8b8a\u5316\u9700\u8981\u4f7f\u7528\u8005\u66f4\u65b0\u4ed6\u5011\u7684\u8a2d\u5b9a\u3002\u5728\u5347\u7d1a\u524d\u6700\u597d\u6aa2\u8996\u8a72\u6a94\u6848\u3002 \u7576\u6e96\u5099\u5347\u7d1a\u6642\uff0c\u4e00\u822c\u7684\u65b9\u6cd5\u662fssh\u9032\u5165\u6a39\u8393\u6d3e\u4e26\u57f7\u884c\uff1a cd ~/klipper git pull ~/klipper/scripts/install-octopi.sh \u7136\u5f8c\u53ef\u4ee5\u91cd\u65b0\u7de8\u8b6f\u548c\u5237\u5beb\u5fae\u63a7\u5236\u5668\u7684\u7a0b\u5f0f\u78bc\u3002\u4f8b\u5982\uff1a make menuconfig make clean make sudo service klipper stop make flash FLASH_DEVICE=/dev/ttyACM0 sudo service klipper start \u7136\u800c\uff0c\u901a\u5e38\u662f\u96bb\u6709\u4e3b\u6a5f\u8edf\u9ad4\u767c\u751f\u8b8a\u5316\u3002\u9019\u6642\u53ef\u4ee5\u53ea\u66f4\u65b0\u548c\u91cd\u65b0\u555f\u52d5\u4e3b\u6a5f\u8edf\u9ad4\uff1a cd ~/klipper git pull sudo service klipper restart \u5982\u679c\u5728\u4f7f\u7528\u9019\u500b\u5feb\u901f\u65b9\u5f0f\u540e\uff0c\u8edf\u9ad4\u8b66\u544a\u8aaa\u9700\u8981\u91cd\u65b0\u5237\u5beb\u5fae\u63a7\u5236\u5668\u6216\u51fa\u73fe\u5176\u4ed6\u4e0d\u5e38\u898b\u7684\u932f\u8aa4\uff0c\u90a3\u9ebc\u8acb\u6309\u7167\u4e0a\u9762\u6240\u8ff0\u7684\u5b8c\u6574\u5347\u7d1a\u6b65\u9a5f\u9032\u884c\u3002 \u5982\u679c\u4efb\u4f55\u932f\u8aa4\u6301\u7e8c\u5b58\u5728\uff0c\u90a3\u9ebc\u8acb\u4ed4\u7d30\u6aa2\u67e5 config changes \u6a94\u6848\uff0c\u56e0\u70ba\u53ef\u80fd\u9700\u8981\u4fee\u6539\u5370\u8868\u6a5f\u914d\u7f6e\u3002 \u8acb\u6ce8\u610f\uff0cRESTART\u548cFIRMWARE_RESTART g-code\u547d\u4ee4\u4e0d\u6703\u8f09\u5165\u65b0\u7684\u8edf\u9ad4--\u9700\u8981\u4f7f\u7528\u4e0a\u8ff0 \"sudo service klipper restart \"\u548c \"make flash \"\u547d\u4ee4\u624d\u80fd\u4f7f\u8edf\u9ad4\u8b8a\u5316\u751f\u6548\u3002","title":"\u6211\u600e\u6a23\u624d\u80fd\u5347\u7d1a\u5230\u6700\u65b0\u7684\u8edf\u9ad4\uff1f"},{"location":"FAQ.html#klipper_2","text":"\u5728\u97cc\u9ad4\u7aef\uff0c\u6c92\u6709\u4ec0\u9ebc\u7279\u5225\u9700\u8981\u505a\u7684\u3002\u53ea\u8981\u5237\u5beb\u65b0\u97cc\u9ad4\u5c31\u53ef\u4ee5\u4e86\u3002 \u5728\u6a39\u8393\u6d3e\u4e0a\uff0c\u89e3\u9664\u5b89\u88dd\u6307\u4ee4\u78bc\u5728\u9019\u88e1 scripts/klipper-uninstall.sh \u3002\u4f8b\u5982\uff1a sudo ~/klipper/scripts/klipper-uninstall.sh rm -rf ~/klippy-env ~/klipper","title":"\u5982\u4f55\u89e3\u9664\u5b89\u88ddKlipper\uff1f"},{"location":"Features.html","text":"\u529f\u80fd \u00b6 Klipper \u6709\u5e7e\u500b\u5f15\u4eba\u6ce8\u76ee\u7684\u529f\u80fd\uff1a \u9ad8\u7cbe\u5ea6\u6b65\u9032\u904b\u52d5\u3002Klipper\u4f7f\u7528\u4e00\u500b\u61c9\u7528\u8655\u7406\u5668\uff08\u4f8b\u5982\u4f4e\u6210\u672c\u7684\u6a39\u8393\u6d3e\uff09\u4f86\u8a08\u7b97\u5370\u8868\u6a5f\u904b\u52d5\u3002\u61c9\u7528\u8655\u7406\u5668\u6c7a\u5b9a\u4f55\u6642\u5c0d\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u767c\u51fa\u6b65\u9032\u8a0a\u865f\uff0c\u58d3\u7e2e\u9019\u4e9b\u4e8b\u4ef6\uff0c\u4e26\u5c07\u5b83\u5011\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u3002\u5fae\u8655\u7406\u5668\u5c07\u6703\u628a\u6bcf\u500b\u4e8b\u4ef6\u6309\u8acb\u6c42\u6642\u9593\u57f7\u884c\u3002\u6bcf\u4e00\u500b\u6b65\u9032\u4e8b\u4ef6\u88ab\u4ee525\u6beb\u79d2\u6216\u66f4\u9ad8\u7684\u7cbe\u5ea6\u5b89\u6392\u3002\u8edf\u9ad4\u4e0d\u9032\u884c\u904b\u52d5\u4f30\u8a08\uff0c\u4f8b\u5982 Bresenham\u6f14\u7b97\u6cd5\uff0c\u800c\u662f\u901a\u904e\u52a0\u901f\u5ea6\u8207\u6a5f\u68b0\u904b\u52d5\u7269\u7406\u8a08\u7b97\u7cbe\u78ba\u7684\u6b65\u9032\u6642\u9593\u3002\u66f4\u7cbe\u6e96\u7684\u6b65\u9032\u96fb\u6a5f\u904b\u52d5\u610f\u5473\u8457\u5370\u8868\u6a5f\u66f4\u5b89\u975c\u548c\u7a69\u5b9a\u7684\u57f7\u884c\u3002 \u540c\u985e\u9805\u76ee\u4e2d\u6700\u4f73\u7684\u6548\u80fd\u3002 Klipper \u80fd\u5920\u5728\u65b0\u820a\u5fae\u63a7\u5236\u5668\u4e0a\u5be6\u73fe\u9ad8\u6b65\u9032\u901f\u7387\u3002\u5373\u4f7f\u662f\u820a\u7684 8 \u4f4d\u5fae\u63a7\u5236\u5668\u4e5f\u53ef\u4ee5\u767c\u9001\u8d85\u904e\u6bcf\u79d2 175K \u6b65\u7684\u901f\u7387\u3002\u5728\u8f03\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u6bcf\u79d2\u6578\u767e\u842c\u6b65\u4e5f\u53ef\u4ee5\u5be6\u73fe\u3002\u66f4\u9ad8\u7684\u6b65\u9032\u901f\u7387\u53ef\u4ee5\u5be6\u73fe\u66f4\u9ad8\u7684\u5217\u5370\u901f\u5ea6\u3002\u6b65\u9032\u4e8b\u4ef6\u8a08\u6642\u5373\u4f7f\u5728\u9ad8\u901f\u4e0b\u4e5f\u80fd\u4fdd\u6301\u7cbe\u78ba\uff0c\u63d0\u9ad8\u4e86\u6574\u9ad4\u7a69\u5b9a\u6027\u3002 Klipper \u652f\u63f4\u5e36\u6709\u591a\u500b\u5fae\u63a7\u5236\u5668\u7684\u5370\u8868\u6a5f\u3002\u4f8b\u5982\uff0c\u4e00\u500b\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u88ab\u7528\u4f86\u63a7\u5236\u64e0\u51fa\u6a5f\uff0c\u800c\u53e6\u4e00\u500b\u7528\u4f86\u63a7\u5236\u52a0\u71b1\u5668\uff0c\u4e26\u4f7f\u7528\u7b2c\u4e09\u500b\u4f86\u63a7\u5236\u5176\u4ed6\u7684\u5370\u8868\u6a5f\u5143\u4ef6\u3002Klipper \u4e3b\u6a5f\u7a0b\u5f0f\u5be6\u73fe\u4e86\u6642\u9418\u540c\u6b65\uff0c\u89e3\u6c7a\u4e86\u5fae\u8655\u7406\u5668\u4e4b\u9593\u7684\u6642\u9418\u6f02\u79fb\u3002 \u555f\u7528\u591a\u500b\u63a7\u5236\u5668\u53ea\u9700\u8981\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u65b0\u589e\u5e7e\u884c\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u7a0b\u5f0f\u78bc\u3002 \u901a\u904e\u7c21\u55ae\u7684\u914d\u7f6e\u6a94\u6848\u9032\u884c\u914d\u7f6e\u3002\u4fee\u6539\u8a2d\u5b9a\u4e0d\u9700\u8981\u91cd\u65b0\u5237\u5beb\u5fae\u63a7\u5236\u5668\u3002Klipper \u7684\u6240\u6709\u914d\u7f6e\u90fd\u88ab\u5132\u5b58\u5728\u4e00\u500b\u6613\u7de8\u8f2f\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\uff0c\u5927\u5927\u6e1b\u5c11\u4e86\u914d\u7f6e\u8207\u7dad\u8b77\u786c\u9ad4\u7684\u96e3\u5ea6\u3002 Klipper \u652f\u63f4\u300c\u5e73\u6ed1\u63d0\u524d\u58d3\u529b\u300d--\u4e00\u7a2e\u8003\u616e\u4e86\u64e0\u51fa\u6a5f\u5167\u58d3\u529b\u5f71\u97ff\u7684\u6a5f\u5236\u3002\u9019\u9805\u6280\u8853\u53ef\u4ee5\u6e1b\u5c11\u5674\u5634\u6ea2\u6599\u4e26\u6539\u5584\u8f49\u89d2\u7684\u5217\u5370\u8cea\u91cf\u3002Klipper \u7684\u5be6\u73fe\u4e0d\u6703\u5f15\u5165\u77ac\u9593\u64e0\u51fa\u6a5f\u901f\u5ea6\u8b8a\u5316\uff0c\u6539\u5584\u4e86\u6574\u9ad4\u7a69\u5b9a\u6027\u548c\u7a69\u5065\u6027\u3002 \u652f\u63f4\u4f7f\u7528\u300c\u8f38\u5165\u6574\u5f62\u300d\u4f86\u6e1b\u5c11\u632f\u52d5\u5c0d\u5217\u5370\u8cea\u91cf\u7684\u5f71\u97ff\u3002\u9019\u9805\u529f\u80fd\u53ef\u4ee5\u6e1b\u5c11\u6216\u6d88\u9664\u5217\u5370\u4ef6\u7684\u300c\u632f\u7d0b(ringing)\u300d\uff08\u53c8\u540d\u300cghosting\u300d\uff0c\u300cechoing\u300d\uff0c\u6216\u300crippling\u300d\uff09\u3002\u5728\u4e00\u4e9b\u60c5\u6cc1\u4e0b\u5b83\u53ef\u4ee5\u5728\u4fdd\u6301\u5217\u5370\u8cea\u91cf\u7684\u540c\u6642\u63d0\u9ad8\u5217\u5370\u901f\u5ea6\u3002 Klipper \u4f7f\u7528\u300c\u8fed\u4ee3\u6c42\u89e3\u5668\u300d\u5f9e\u7c21\u55ae\u7684\u904b\u52d5\u5b78\u65b9\u7a0b\u4e2d\u8a08\u7b97\u7cbe\u6e96\u7684\u6b65\u9032\u6642\u9593\u3002\u9019\u964d\u4f4e\u4e86\u79fb\u690dKlipper\u5230\u65b0\u7684\u6a5f\u68b0\u7d50\u69cb\u7684\u96e3\u5ea6\u4e26\u4fdd\u8b49\u4e86\u7cbe\u78ba\u7684\u6b65\u9032\u8a08\u6642\uff08\u800c\u4e0d\u9700\u8981\u300c\u7dda\u6bb5\u5316\u300d\uff09\u3002 \u6613\u79fb\u690d\u7684\u7a0b\u5f0f\u78bc\u3002Klipper \u53ef\u4ee5\u5728 ARM\uff0cAVR\uff0c\u548cPRU\u67b6\u69cb\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u57f7\u884c\u3002\u73fe\u6709\u7684\u300creprap\u300d\u985e\u5370\u8868\u6a5f\u4e0d\u9700\u8981\u6539\u52d5\u4efb\u4f55\u786c\u9ad4\u5c31\u53ef\u4ee5\u57f7\u884c Klipper\uff0c\u53ea\u9700\u8981\u52a0\u4e00\u500b\u6a39\u8393\u6d3e\u3002Klipper \u7684\u5167\u90e8\u7a0b\u5f0f\u78bc\u7d50\u69cb\u4f7f\u5b83\u80fd\u5920\u88ab\u7c21\u55ae\u7684\u79fb\u690d\u5230\u5176\u4ed6\u67b6\u69cb\u3002 \u7c21\u6f54\u7684\u7a0b\u5f0f\u78bc\u3002\u5927\u90e8\u5206 Klipper \u7a0b\u5f0f\u78bc\u4f7f\u7528\u4e00\u500b\u6975\u9ad8\u7d1a\u7a0b\u5f0f\u8a9e\u8a00\uff08Python\uff09\uff0c\u9019\u5305\u62ec\u4e86\u904b\u52d5\u6f14\u7b97\u6cd5\uff0cG\u7a0b\u5f0f\u78bc\u89e3\u6790\uff0c\u52a0\u71b1\uff0c\u6eab\u5ea6\u611f\u6e2c\u5668\u6f14\u7b97\u6cd5\u548c\u5176\u4ed6\uff0c\u964d\u4f4e\u4e86\u958b\u767c\u65b0\u529f\u80fd\u7684\u96e3\u5ea6\u3002 \u81ea\u5b9a\u7fa9\u53ef\u7a0b\u5f0f\u8a2d\u8a08\u6307\u4ee4\u78bc\u3002\u53ef\u4ee5\u5728\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u65b0\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\uff08\u800c\u4e0d\u9700\u8981\u4fee\u6539\u4efb\u4f55\u7a0b\u5f0f\u78bc\uff09\u3002\u9019\u4e9b\u547d\u4ee4\u90fd\u662f\u53ef\u7a0b\u5f0f\u8a2d\u8a08\u7684\uff0c\u53ef\u4ee5\u80fd\u6839\u64da\u5370\u8868\u6a5f\u7684\u72c0\u614b\u505a\u51fa\u4e0d\u540c\u7684\u97ff\u61c9\u3002 \u5167\u5efaAPI\u4f3a\u670d\u5668\u3002\u9664\u4e86\u6a19\u6e96G\u7a0b\u5f0f\u78bc\u4ecb\u9762\uff0cKlipper\u4e5f\u652f\u63f4\u5bccJSON API\u3002\u4f7f\u7a0b\u5f0f\u8a2d\u8a08\u5e2b\u80fd\u7de8\u5beb\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u7cbe\u7d30\u63a7\u5236\u7684\u5916\u63a5\u7a0b\u5f0f\u3002 \u5176\u4ed6\u529f\u80fd \u00b6 Klipper \u652f\u63f4\u8a31\u591a\u6a19\u6e96\u7684 3d \u5370\u8868\u6a5f\u529f\u80fd\uff1a \u76f8\u5bb9Octoprint\u3002\u9019\u4f7f\u5f97\u5370\u8868\u6a5f\u53ef\u4ee5\u901a\u904e\u666e\u901a\u700f\u89bd\u5668\u4f86\u63a7\u5236\u3002\u57f7\u884cKlipper\u7684\u6a39\u8393\u6d3e\u53ef\u4ee5\u540c\u6642\u7528\u4f86\u57f7\u884cOctoprint\u3002 \u6a19\u6e96 G \u7a0b\u5f0f\u78bc\u652f\u63f4\u3002\u652f\u63f4\u7531\u5e38\u898b\u300c\u5207\u7247\u8edf\u9ad4\u300d\uff08SuperSlicer\u3001Cura\u3001PrusaSlicer \u7b49\uff09\u7522\u751f\u7684\u901a\u7528 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002 \u652f\u63f4\u591a\u64e0\u51fa\u6a5f\u3002\u5305\u62ec\u5c0d\u5171\u4eab\u71b1\u7aef\u7684\u64e0\u51fa\u6a5f\uff08\u591a\u9032\u4e00\u51fa\uff09\u548c\u591a\u982d\uff08IDEX\uff09\u7684\u652f\u63f4\u3002 \u652f\u63f4\u7b1b\u5361\u723e\u3001\u4e09\u89d2\u6d32\u3001CoreXY\u3001CoreXZ\u3001\u6df7\u5408CoreXY\u3001\u6df7\u5408CoreXZ\u3001\u65cb\u8f49\u4e09\u89d2\u6d32\u3001\u6975\u5ea7\u6a19\u548c\u7e9c\u7e69\u9278\u76e4\u5f0f\u5370\u8868\u6a5f\u3002 \u81ea\u52d5\u5e8a\u9762\u5e73\u6574\u652f\u63f4\u3002Klipper\u53ef\u4ee5\u88ab\u914d\u7f6e\u70ba\u57fa\u672c\u7684\u5e8a\u8eab\u50be\u659c\u6aa2\u6e2c\u6216\u7db2\u5e8a\u8abf\u5e73\u3002\u5982\u679c\u5e8a\u92ea\u4f7f\u7528\u591a\u500bZ\u6b65\u9032\u5668\uff0c\u90a3\u9ebcKlipper\u4e5f\u53ef\u4ee5\u901a\u904e\u7368\u7acb\u64cd\u7e31Z\u6b65\u9032\u5668\u4f86\u8abf\u5e73\u3002\u652f\u63f4\u5927\u591a\u6578Z\u9ad8\u5ea6\u63a2\u982d\uff0c\u5305\u62ecBL-Touch\u63a2\u982d\u548c\u4f3a\u670d\u555f\u7528\u7684\u63a2\u982d\u3002 \u652f\u63f4\u81ea\u52d5delta\u6821\u6e96\u3002\u6821\u6e96\u5de5\u5177\u53ef\u4ee5\u9032\u884c\u57fa\u672c\u7684\u9ad8\u5ea6\u6821\u6e96\uff0c\u4ee5\u53ca\u589e\u5f37\u7684X\u548cY\u5c3a\u5bf8\u6821\u6e96\u3002\u6821\u6e96\u53ef\u4ee5\u7528Z\u578b\u9ad8\u5ea6\u63a2\u982d\u6216\u901a\u904e\u624b\u52d5\u63a2\u6e2c\u4f86\u5b8c\u6210\u3002 \u652f\u63f4\u5e38\u898b\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\uff08\u4f8b\u5982\uff0c\u5e38\u898b\u7684\u71b1\u654f\u96fb\u963b\u3001AD595\u3001AD597\u3001AD849x\u3001PT100\u3001PT1000\u3001MAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001BME280\u3001HTU21D\u3001DS18B20\u548cLM75\uff09\u3002\u9084\u53ef\u4ee5\u914d\u7f6e\u81ea\u5b9a\u7fa9\u71b1\u654f\u96fb\u963b\u548c\u81ea\u5b9a\u7fa9\u6a21\u64ec\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u9084\u53ef\u4ee5\u76e3\u6e2c\u5fae\u63a7\u5236\u5668\u548c Raspberry Pi \u5167\u90e8\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\u3002 \u9810\u8a2d\u555f\u7528\u57fa\u672c\u52a0\u71b1\u5668\u4fdd\u8b77\u3002 \u652f\u63f4\u6a19\u6e96\u98a8\u6247\u3001\u5674\u5634\u98a8\u6247\u548c\u6eab\u63a7\u98a8\u6247\u3002\u4e0d\u9700\u8981\u5728\u5370\u8868\u6a5f\u9591\u7f6e\u6642\u4fdd\u6301\u98a8\u6247\u904b\u8f49\u3002\u53ef\u4ee5\u5728\u5e36\u6709\u8f49\u901f\u9336\u7684\u98a8\u6247\u4e0a\u76e3\u6e2c\u98a8\u6247\u901f\u5ea6\u3002 \u652f\u63f4TMC2130\u3001TMC2208/TMC2224\u3001TMC2209\u3001TMC2660\u548cTMC5160\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7684\u57f7\u884c\u6642\u914d\u7f6e\u3002\u9084\u652f\u63f4\u901a\u904eAD5206\u3001MCP4451\u3001MCP4728\u3001MCP4018\u548cPWM\u5f15\u8173\u5c0d\u50b3\u7d71\u6b65\u9032\u9a45\u52d5\u5668\u9032\u884c\u96fb\u6d41\u63a7\u5236\u3002 \u652f\u63f4\u76f4\u63a5\u9023\u7dda\u5230\u5370\u8868\u6a5f\u7684\u666e\u901aLCD\u986f\u793a\u5668\u3002\u9084\u63d0\u4f9b\u4e86\u4e00\u500b\u9810\u8a2d\u7684\u83dc\u55ae\u3002\u986f\u793a\u5668\u548c\u83dc\u55ae\u7684\u5167\u5bb9\u53ef\u4ee5\u901a\u904e\u914d\u7f6e\u6a94\u6848\u5b8c\u5168\u5b9a\u88fd\u3002 \u6052\u5b9a\u52a0\u901f\u548c\u300clook-ahead\u300d\uff08\u524d\u77bb\uff09\u652f\u63f4\u3002\u6240\u6709\u5370\u8868\u6a5f\u79fb\u52d5\u5c07\u5f9e\u975c\u6b62\u9010\u6f38\u52a0\u901f\u5230\u5de1\u822a\u901f\u5ea6\uff0c\u7136\u5f8c\u6e1b\u901f\u56de\u5230\u975c\u6b62\u3002\u5c0d\u50b3\u5165\u7684 G \u7a0b\u5f0f\u78bc\u79fb\u52d5\u547d\u4ee4\u6d41\u9032\u884c\u6392\u968a\u548c\u5206\u6790 - \u5c07\u512a\u5316\u985e\u4f3c\u65b9\u5411\u4e0a\u7684\u79fb\u52d5\u4e4b\u9593\u7684\u52a0\u901f\u5ea6\uff0c\u4ee5\u6e1b\u5c11\u5217\u5370\u505c\u9813\u4e26\u6539\u5584\u6574\u9ad4\u5217\u5370\u6642\u9593\u3002 Klipper \u5be6\u73fe\u4e86\u4e00\u7a2e\u300c\u6b65\u9032\u76f8\u4f4d\u9650\u4f4d\u300d\u6f14\u7b97\u6cd5\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5178\u578b\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u8abf\u6574\u5f97\u7576\uff0c\u5b83\u53ef\u4ee5\u63d0\u9ad8\u5217\u5370\u4ef6\u9996\u5c64\u548c\u5217\u5370\u5e8a\u7684\u9644\u8457\u529b\u3002 \u652f\u63f4\u5217\u5370\u7d72\u5b58\u5728\u611f\u6e2c\u5668\u3001\u5217\u5370\u7d72\u904b\u52d5\u611f\u6e2c\u5668\u548c\u5217\u5370\u7d72\u5bec\u5ea6\u611f\u6e2c\u5668\u3002 \u652f\u63f4\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u548c\u8a18\u9304\u52a0\u901f\u5ea6\u3002 \u652f\u63f4\u9650\u5236\u77ed\u8ddd\u96e2\u300c\u4e4b\u300d\u5b57\u5f62\u79fb\u52d5\u7684\u6700\u9ad8\u901f\u5ea6\uff0c\u4ee5\u6e1b\u5c11\u5370\u8868\u6a5f\u7684\u632f\u52d5\u548c\u566a\u97f3\u3002\u66f4\u591a\u8cc7\u8a0a\u898b \u904b\u52d5\u5b78 \u6587\u4ef6\u3002 \u8a31\u591a\u5e38\u898b\u7684\u5370\u8868\u6a5f\u90fd\u6709\u6a23\u672c\u914d\u7f6e\u6a94\u6848\u3002\u6aa2\u8996 \u914d\u7f6e\u8cc7\u6599\u593e \u4e2d\u7684\u5217\u8868\u3002 \u8981\u958b\u59cb\u4f7f\u7528Klipper\uff0c\u8acb\u95b1\u8b80 \u5b89\u88dd \u6307\u5357\u3002 \u6b65\u901f\u57fa\u6e96\u6e2c\u8a66 \u00b6 \u4e0b\u9762\u662f\u6b65\u9032\u6548\u80fd\u6e2c\u8a66\u7684\u7d50\u679c\u3002\u986f\u793a\u7684\u6578\u5b57\u4ee3\u8868\u4e86\u5fae\u63a7\u5236\u5668\u4e0a\u6bcf\u79d2\u7684\u7e3d\u6b65\u6578\u3002 \u5fae\u63a7\u5236\u5668 1\u500b\u6d3b\u8e8d\u6b65\u9032\u96fb\u6a5f 3\u500b\u6b65\u9032\u5668\u6d3b\u8e8d 16Mhz AVR 157K 99K 20Mhz AVR 196K 123K SAMD21 686K 471K STM32F042 814K 578K Beaglebone \u53ef\u7a0b\u5f0f\u8a2d\u8a08\u5be6\u6642\u55ae\u5143 866K 708K STM32G0B1 1103K 790K STM32F103 1180K 818K SAM3X8E 1273K 981K SAM4S8C 1690K 1385K LPC1768 1923K 1351K LPC1769 2353K 1622K RP2040 2400K 1636K SAM4E8E 2500K 1674K SAMD51 3077K 1885K STM32F407 3652K 2459K STM32F446 3913K 2634K If unsure of the micro-controller on a particular board, find the appropriate config file , and look for the micro-controller name in the comments at the top of that file. \u95dc\u65bc\u57fa\u6e96\u6e2c\u8a66\u7684\u66f4\u591a\u8a73\u7d30\u8cc7\u8a0a\u53ef\u5728 \u57fa\u6e96\u6e2c\u8a66\u6587\u4ef6 \u4e2d\u627e\u5230\u3002","title":"\u529f\u80fd"},{"location":"Features.html#_1","text":"Klipper \u6709\u5e7e\u500b\u5f15\u4eba\u6ce8\u76ee\u7684\u529f\u80fd\uff1a \u9ad8\u7cbe\u5ea6\u6b65\u9032\u904b\u52d5\u3002Klipper\u4f7f\u7528\u4e00\u500b\u61c9\u7528\u8655\u7406\u5668\uff08\u4f8b\u5982\u4f4e\u6210\u672c\u7684\u6a39\u8393\u6d3e\uff09\u4f86\u8a08\u7b97\u5370\u8868\u6a5f\u904b\u52d5\u3002\u61c9\u7528\u8655\u7406\u5668\u6c7a\u5b9a\u4f55\u6642\u5c0d\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u767c\u51fa\u6b65\u9032\u8a0a\u865f\uff0c\u58d3\u7e2e\u9019\u4e9b\u4e8b\u4ef6\uff0c\u4e26\u5c07\u5b83\u5011\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u3002\u5fae\u8655\u7406\u5668\u5c07\u6703\u628a\u6bcf\u500b\u4e8b\u4ef6\u6309\u8acb\u6c42\u6642\u9593\u57f7\u884c\u3002\u6bcf\u4e00\u500b\u6b65\u9032\u4e8b\u4ef6\u88ab\u4ee525\u6beb\u79d2\u6216\u66f4\u9ad8\u7684\u7cbe\u5ea6\u5b89\u6392\u3002\u8edf\u9ad4\u4e0d\u9032\u884c\u904b\u52d5\u4f30\u8a08\uff0c\u4f8b\u5982 Bresenham\u6f14\u7b97\u6cd5\uff0c\u800c\u662f\u901a\u904e\u52a0\u901f\u5ea6\u8207\u6a5f\u68b0\u904b\u52d5\u7269\u7406\u8a08\u7b97\u7cbe\u78ba\u7684\u6b65\u9032\u6642\u9593\u3002\u66f4\u7cbe\u6e96\u7684\u6b65\u9032\u96fb\u6a5f\u904b\u52d5\u610f\u5473\u8457\u5370\u8868\u6a5f\u66f4\u5b89\u975c\u548c\u7a69\u5b9a\u7684\u57f7\u884c\u3002 \u540c\u985e\u9805\u76ee\u4e2d\u6700\u4f73\u7684\u6548\u80fd\u3002 Klipper \u80fd\u5920\u5728\u65b0\u820a\u5fae\u63a7\u5236\u5668\u4e0a\u5be6\u73fe\u9ad8\u6b65\u9032\u901f\u7387\u3002\u5373\u4f7f\u662f\u820a\u7684 8 \u4f4d\u5fae\u63a7\u5236\u5668\u4e5f\u53ef\u4ee5\u767c\u9001\u8d85\u904e\u6bcf\u79d2 175K \u6b65\u7684\u901f\u7387\u3002\u5728\u8f03\u65b0\u7684\u5fae\u63a7\u5236\u5668\u4e0a\uff0c\u6bcf\u79d2\u6578\u767e\u842c\u6b65\u4e5f\u53ef\u4ee5\u5be6\u73fe\u3002\u66f4\u9ad8\u7684\u6b65\u9032\u901f\u7387\u53ef\u4ee5\u5be6\u73fe\u66f4\u9ad8\u7684\u5217\u5370\u901f\u5ea6\u3002\u6b65\u9032\u4e8b\u4ef6\u8a08\u6642\u5373\u4f7f\u5728\u9ad8\u901f\u4e0b\u4e5f\u80fd\u4fdd\u6301\u7cbe\u78ba\uff0c\u63d0\u9ad8\u4e86\u6574\u9ad4\u7a69\u5b9a\u6027\u3002 Klipper \u652f\u63f4\u5e36\u6709\u591a\u500b\u5fae\u63a7\u5236\u5668\u7684\u5370\u8868\u6a5f\u3002\u4f8b\u5982\uff0c\u4e00\u500b\u5fae\u63a7\u5236\u5668\u53ef\u4ee5\u88ab\u7528\u4f86\u63a7\u5236\u64e0\u51fa\u6a5f\uff0c\u800c\u53e6\u4e00\u500b\u7528\u4f86\u63a7\u5236\u52a0\u71b1\u5668\uff0c\u4e26\u4f7f\u7528\u7b2c\u4e09\u500b\u4f86\u63a7\u5236\u5176\u4ed6\u7684\u5370\u8868\u6a5f\u5143\u4ef6\u3002Klipper \u4e3b\u6a5f\u7a0b\u5f0f\u5be6\u73fe\u4e86\u6642\u9418\u540c\u6b65\uff0c\u89e3\u6c7a\u4e86\u5fae\u8655\u7406\u5668\u4e4b\u9593\u7684\u6642\u9418\u6f02\u79fb\u3002 \u555f\u7528\u591a\u500b\u63a7\u5236\u5668\u53ea\u9700\u8981\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u65b0\u589e\u5e7e\u884c\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u7a0b\u5f0f\u78bc\u3002 \u901a\u904e\u7c21\u55ae\u7684\u914d\u7f6e\u6a94\u6848\u9032\u884c\u914d\u7f6e\u3002\u4fee\u6539\u8a2d\u5b9a\u4e0d\u9700\u8981\u91cd\u65b0\u5237\u5beb\u5fae\u63a7\u5236\u5668\u3002Klipper \u7684\u6240\u6709\u914d\u7f6e\u90fd\u88ab\u5132\u5b58\u5728\u4e00\u500b\u6613\u7de8\u8f2f\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\uff0c\u5927\u5927\u6e1b\u5c11\u4e86\u914d\u7f6e\u8207\u7dad\u8b77\u786c\u9ad4\u7684\u96e3\u5ea6\u3002 Klipper \u652f\u63f4\u300c\u5e73\u6ed1\u63d0\u524d\u58d3\u529b\u300d--\u4e00\u7a2e\u8003\u616e\u4e86\u64e0\u51fa\u6a5f\u5167\u58d3\u529b\u5f71\u97ff\u7684\u6a5f\u5236\u3002\u9019\u9805\u6280\u8853\u53ef\u4ee5\u6e1b\u5c11\u5674\u5634\u6ea2\u6599\u4e26\u6539\u5584\u8f49\u89d2\u7684\u5217\u5370\u8cea\u91cf\u3002Klipper \u7684\u5be6\u73fe\u4e0d\u6703\u5f15\u5165\u77ac\u9593\u64e0\u51fa\u6a5f\u901f\u5ea6\u8b8a\u5316\uff0c\u6539\u5584\u4e86\u6574\u9ad4\u7a69\u5b9a\u6027\u548c\u7a69\u5065\u6027\u3002 \u652f\u63f4\u4f7f\u7528\u300c\u8f38\u5165\u6574\u5f62\u300d\u4f86\u6e1b\u5c11\u632f\u52d5\u5c0d\u5217\u5370\u8cea\u91cf\u7684\u5f71\u97ff\u3002\u9019\u9805\u529f\u80fd\u53ef\u4ee5\u6e1b\u5c11\u6216\u6d88\u9664\u5217\u5370\u4ef6\u7684\u300c\u632f\u7d0b(ringing)\u300d\uff08\u53c8\u540d\u300cghosting\u300d\uff0c\u300cechoing\u300d\uff0c\u6216\u300crippling\u300d\uff09\u3002\u5728\u4e00\u4e9b\u60c5\u6cc1\u4e0b\u5b83\u53ef\u4ee5\u5728\u4fdd\u6301\u5217\u5370\u8cea\u91cf\u7684\u540c\u6642\u63d0\u9ad8\u5217\u5370\u901f\u5ea6\u3002 Klipper \u4f7f\u7528\u300c\u8fed\u4ee3\u6c42\u89e3\u5668\u300d\u5f9e\u7c21\u55ae\u7684\u904b\u52d5\u5b78\u65b9\u7a0b\u4e2d\u8a08\u7b97\u7cbe\u6e96\u7684\u6b65\u9032\u6642\u9593\u3002\u9019\u964d\u4f4e\u4e86\u79fb\u690dKlipper\u5230\u65b0\u7684\u6a5f\u68b0\u7d50\u69cb\u7684\u96e3\u5ea6\u4e26\u4fdd\u8b49\u4e86\u7cbe\u78ba\u7684\u6b65\u9032\u8a08\u6642\uff08\u800c\u4e0d\u9700\u8981\u300c\u7dda\u6bb5\u5316\u300d\uff09\u3002 \u6613\u79fb\u690d\u7684\u7a0b\u5f0f\u78bc\u3002Klipper \u53ef\u4ee5\u5728 ARM\uff0cAVR\uff0c\u548cPRU\u67b6\u69cb\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u57f7\u884c\u3002\u73fe\u6709\u7684\u300creprap\u300d\u985e\u5370\u8868\u6a5f\u4e0d\u9700\u8981\u6539\u52d5\u4efb\u4f55\u786c\u9ad4\u5c31\u53ef\u4ee5\u57f7\u884c Klipper\uff0c\u53ea\u9700\u8981\u52a0\u4e00\u500b\u6a39\u8393\u6d3e\u3002Klipper \u7684\u5167\u90e8\u7a0b\u5f0f\u78bc\u7d50\u69cb\u4f7f\u5b83\u80fd\u5920\u88ab\u7c21\u55ae\u7684\u79fb\u690d\u5230\u5176\u4ed6\u67b6\u69cb\u3002 \u7c21\u6f54\u7684\u7a0b\u5f0f\u78bc\u3002\u5927\u90e8\u5206 Klipper \u7a0b\u5f0f\u78bc\u4f7f\u7528\u4e00\u500b\u6975\u9ad8\u7d1a\u7a0b\u5f0f\u8a9e\u8a00\uff08Python\uff09\uff0c\u9019\u5305\u62ec\u4e86\u904b\u52d5\u6f14\u7b97\u6cd5\uff0cG\u7a0b\u5f0f\u78bc\u89e3\u6790\uff0c\u52a0\u71b1\uff0c\u6eab\u5ea6\u611f\u6e2c\u5668\u6f14\u7b97\u6cd5\u548c\u5176\u4ed6\uff0c\u964d\u4f4e\u4e86\u958b\u767c\u65b0\u529f\u80fd\u7684\u96e3\u5ea6\u3002 \u81ea\u5b9a\u7fa9\u53ef\u7a0b\u5f0f\u8a2d\u8a08\u6307\u4ee4\u78bc\u3002\u53ef\u4ee5\u5728\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u65b0\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\uff08\u800c\u4e0d\u9700\u8981\u4fee\u6539\u4efb\u4f55\u7a0b\u5f0f\u78bc\uff09\u3002\u9019\u4e9b\u547d\u4ee4\u90fd\u662f\u53ef\u7a0b\u5f0f\u8a2d\u8a08\u7684\uff0c\u53ef\u4ee5\u80fd\u6839\u64da\u5370\u8868\u6a5f\u7684\u72c0\u614b\u505a\u51fa\u4e0d\u540c\u7684\u97ff\u61c9\u3002 \u5167\u5efaAPI\u4f3a\u670d\u5668\u3002\u9664\u4e86\u6a19\u6e96G\u7a0b\u5f0f\u78bc\u4ecb\u9762\uff0cKlipper\u4e5f\u652f\u63f4\u5bccJSON API\u3002\u4f7f\u7a0b\u5f0f\u8a2d\u8a08\u5e2b\u80fd\u7de8\u5beb\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u7cbe\u7d30\u63a7\u5236\u7684\u5916\u63a5\u7a0b\u5f0f\u3002","title":"\u529f\u80fd"},{"location":"Features.html#_2","text":"Klipper \u652f\u63f4\u8a31\u591a\u6a19\u6e96\u7684 3d \u5370\u8868\u6a5f\u529f\u80fd\uff1a \u76f8\u5bb9Octoprint\u3002\u9019\u4f7f\u5f97\u5370\u8868\u6a5f\u53ef\u4ee5\u901a\u904e\u666e\u901a\u700f\u89bd\u5668\u4f86\u63a7\u5236\u3002\u57f7\u884cKlipper\u7684\u6a39\u8393\u6d3e\u53ef\u4ee5\u540c\u6642\u7528\u4f86\u57f7\u884cOctoprint\u3002 \u6a19\u6e96 G \u7a0b\u5f0f\u78bc\u652f\u63f4\u3002\u652f\u63f4\u7531\u5e38\u898b\u300c\u5207\u7247\u8edf\u9ad4\u300d\uff08SuperSlicer\u3001Cura\u3001PrusaSlicer \u7b49\uff09\u7522\u751f\u7684\u901a\u7528 G \u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002 \u652f\u63f4\u591a\u64e0\u51fa\u6a5f\u3002\u5305\u62ec\u5c0d\u5171\u4eab\u71b1\u7aef\u7684\u64e0\u51fa\u6a5f\uff08\u591a\u9032\u4e00\u51fa\uff09\u548c\u591a\u982d\uff08IDEX\uff09\u7684\u652f\u63f4\u3002 \u652f\u63f4\u7b1b\u5361\u723e\u3001\u4e09\u89d2\u6d32\u3001CoreXY\u3001CoreXZ\u3001\u6df7\u5408CoreXY\u3001\u6df7\u5408CoreXZ\u3001\u65cb\u8f49\u4e09\u89d2\u6d32\u3001\u6975\u5ea7\u6a19\u548c\u7e9c\u7e69\u9278\u76e4\u5f0f\u5370\u8868\u6a5f\u3002 \u81ea\u52d5\u5e8a\u9762\u5e73\u6574\u652f\u63f4\u3002Klipper\u53ef\u4ee5\u88ab\u914d\u7f6e\u70ba\u57fa\u672c\u7684\u5e8a\u8eab\u50be\u659c\u6aa2\u6e2c\u6216\u7db2\u5e8a\u8abf\u5e73\u3002\u5982\u679c\u5e8a\u92ea\u4f7f\u7528\u591a\u500bZ\u6b65\u9032\u5668\uff0c\u90a3\u9ebcKlipper\u4e5f\u53ef\u4ee5\u901a\u904e\u7368\u7acb\u64cd\u7e31Z\u6b65\u9032\u5668\u4f86\u8abf\u5e73\u3002\u652f\u63f4\u5927\u591a\u6578Z\u9ad8\u5ea6\u63a2\u982d\uff0c\u5305\u62ecBL-Touch\u63a2\u982d\u548c\u4f3a\u670d\u555f\u7528\u7684\u63a2\u982d\u3002 \u652f\u63f4\u81ea\u52d5delta\u6821\u6e96\u3002\u6821\u6e96\u5de5\u5177\u53ef\u4ee5\u9032\u884c\u57fa\u672c\u7684\u9ad8\u5ea6\u6821\u6e96\uff0c\u4ee5\u53ca\u589e\u5f37\u7684X\u548cY\u5c3a\u5bf8\u6821\u6e96\u3002\u6821\u6e96\u53ef\u4ee5\u7528Z\u578b\u9ad8\u5ea6\u63a2\u982d\u6216\u901a\u904e\u624b\u52d5\u63a2\u6e2c\u4f86\u5b8c\u6210\u3002 \u652f\u63f4\u5e38\u898b\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\uff08\u4f8b\u5982\uff0c\u5e38\u898b\u7684\u71b1\u654f\u96fb\u963b\u3001AD595\u3001AD597\u3001AD849x\u3001PT100\u3001PT1000\u3001MAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001BME280\u3001HTU21D\u3001DS18B20\u548cLM75\uff09\u3002\u9084\u53ef\u4ee5\u914d\u7f6e\u81ea\u5b9a\u7fa9\u71b1\u654f\u96fb\u963b\u548c\u81ea\u5b9a\u7fa9\u6a21\u64ec\u6eab\u5ea6\u611f\u6e2c\u5668\u3002\u9084\u53ef\u4ee5\u76e3\u6e2c\u5fae\u63a7\u5236\u5668\u548c Raspberry Pi \u5167\u90e8\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\u3002 \u9810\u8a2d\u555f\u7528\u57fa\u672c\u52a0\u71b1\u5668\u4fdd\u8b77\u3002 \u652f\u63f4\u6a19\u6e96\u98a8\u6247\u3001\u5674\u5634\u98a8\u6247\u548c\u6eab\u63a7\u98a8\u6247\u3002\u4e0d\u9700\u8981\u5728\u5370\u8868\u6a5f\u9591\u7f6e\u6642\u4fdd\u6301\u98a8\u6247\u904b\u8f49\u3002\u53ef\u4ee5\u5728\u5e36\u6709\u8f49\u901f\u9336\u7684\u98a8\u6247\u4e0a\u76e3\u6e2c\u98a8\u6247\u901f\u5ea6\u3002 \u652f\u63f4TMC2130\u3001TMC2208/TMC2224\u3001TMC2209\u3001TMC2660\u548cTMC5160\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7684\u57f7\u884c\u6642\u914d\u7f6e\u3002\u9084\u652f\u63f4\u901a\u904eAD5206\u3001MCP4451\u3001MCP4728\u3001MCP4018\u548cPWM\u5f15\u8173\u5c0d\u50b3\u7d71\u6b65\u9032\u9a45\u52d5\u5668\u9032\u884c\u96fb\u6d41\u63a7\u5236\u3002 \u652f\u63f4\u76f4\u63a5\u9023\u7dda\u5230\u5370\u8868\u6a5f\u7684\u666e\u901aLCD\u986f\u793a\u5668\u3002\u9084\u63d0\u4f9b\u4e86\u4e00\u500b\u9810\u8a2d\u7684\u83dc\u55ae\u3002\u986f\u793a\u5668\u548c\u83dc\u55ae\u7684\u5167\u5bb9\u53ef\u4ee5\u901a\u904e\u914d\u7f6e\u6a94\u6848\u5b8c\u5168\u5b9a\u88fd\u3002 \u6052\u5b9a\u52a0\u901f\u548c\u300clook-ahead\u300d\uff08\u524d\u77bb\uff09\u652f\u63f4\u3002\u6240\u6709\u5370\u8868\u6a5f\u79fb\u52d5\u5c07\u5f9e\u975c\u6b62\u9010\u6f38\u52a0\u901f\u5230\u5de1\u822a\u901f\u5ea6\uff0c\u7136\u5f8c\u6e1b\u901f\u56de\u5230\u975c\u6b62\u3002\u5c0d\u50b3\u5165\u7684 G \u7a0b\u5f0f\u78bc\u79fb\u52d5\u547d\u4ee4\u6d41\u9032\u884c\u6392\u968a\u548c\u5206\u6790 - \u5c07\u512a\u5316\u985e\u4f3c\u65b9\u5411\u4e0a\u7684\u79fb\u52d5\u4e4b\u9593\u7684\u52a0\u901f\u5ea6\uff0c\u4ee5\u6e1b\u5c11\u5217\u5370\u505c\u9813\u4e26\u6539\u5584\u6574\u9ad4\u5217\u5370\u6642\u9593\u3002 Klipper \u5be6\u73fe\u4e86\u4e00\u7a2e\u300c\u6b65\u9032\u76f8\u4f4d\u9650\u4f4d\u300d\u6f14\u7b97\u6cd5\uff0c\u53ef\u4ee5\u63d0\u9ad8\u5178\u578b\u9650\u4f4d\u958b\u95dc\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u8abf\u6574\u5f97\u7576\uff0c\u5b83\u53ef\u4ee5\u63d0\u9ad8\u5217\u5370\u4ef6\u9996\u5c64\u548c\u5217\u5370\u5e8a\u7684\u9644\u8457\u529b\u3002 \u652f\u63f4\u5217\u5370\u7d72\u5b58\u5728\u611f\u6e2c\u5668\u3001\u5217\u5370\u7d72\u904b\u52d5\u611f\u6e2c\u5668\u548c\u5217\u5370\u7d72\u5bec\u5ea6\u611f\u6e2c\u5668\u3002 \u652f\u63f4\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u548c\u8a18\u9304\u52a0\u901f\u5ea6\u3002 \u652f\u63f4\u9650\u5236\u77ed\u8ddd\u96e2\u300c\u4e4b\u300d\u5b57\u5f62\u79fb\u52d5\u7684\u6700\u9ad8\u901f\u5ea6\uff0c\u4ee5\u6e1b\u5c11\u5370\u8868\u6a5f\u7684\u632f\u52d5\u548c\u566a\u97f3\u3002\u66f4\u591a\u8cc7\u8a0a\u898b \u904b\u52d5\u5b78 \u6587\u4ef6\u3002 \u8a31\u591a\u5e38\u898b\u7684\u5370\u8868\u6a5f\u90fd\u6709\u6a23\u672c\u914d\u7f6e\u6a94\u6848\u3002\u6aa2\u8996 \u914d\u7f6e\u8cc7\u6599\u593e \u4e2d\u7684\u5217\u8868\u3002 \u8981\u958b\u59cb\u4f7f\u7528Klipper\uff0c\u8acb\u95b1\u8b80 \u5b89\u88dd \u6307\u5357\u3002","title":"\u5176\u4ed6\u529f\u80fd"},{"location":"Features.html#_3","text":"\u4e0b\u9762\u662f\u6b65\u9032\u6548\u80fd\u6e2c\u8a66\u7684\u7d50\u679c\u3002\u986f\u793a\u7684\u6578\u5b57\u4ee3\u8868\u4e86\u5fae\u63a7\u5236\u5668\u4e0a\u6bcf\u79d2\u7684\u7e3d\u6b65\u6578\u3002 \u5fae\u63a7\u5236\u5668 1\u500b\u6d3b\u8e8d\u6b65\u9032\u96fb\u6a5f 3\u500b\u6b65\u9032\u5668\u6d3b\u8e8d 16Mhz AVR 157K 99K 20Mhz AVR 196K 123K SAMD21 686K 471K STM32F042 814K 578K Beaglebone \u53ef\u7a0b\u5f0f\u8a2d\u8a08\u5be6\u6642\u55ae\u5143 866K 708K STM32G0B1 1103K 790K STM32F103 1180K 818K SAM3X8E 1273K 981K SAM4S8C 1690K 1385K LPC1768 1923K 1351K LPC1769 2353K 1622K RP2040 2400K 1636K SAM4E8E 2500K 1674K SAMD51 3077K 1885K STM32F407 3652K 2459K STM32F446 3913K 2634K If unsure of the micro-controller on a particular board, find the appropriate config file , and look for the micro-controller name in the comments at the top of that file. \u95dc\u65bc\u57fa\u6e96\u6e2c\u8a66\u7684\u66f4\u591a\u8a73\u7d30\u8cc7\u8a0a\u53ef\u5728 \u57fa\u6e96\u6e2c\u8a66\u6587\u4ef6 \u4e2d\u627e\u5230\u3002","title":"\u6b65\u901f\u57fa\u6e96\u6e2c\u8a66"},{"location":"G-Codes.html","text":"G-Codes \u00b6 \u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 Klipper \u652f\u63f4\u7684\u547d\u4ee4\u3002\u9019\u4e9b\u547d\u4ee4\u53ef\u4ee5\u8f38\u5165\u5230 OctoPrint \u7d42\u7aef\u4e2d\u3002 G\u7a0b\u5f0f\u78bc\u547d\u4ee4 \u00b6 Klipper\u652f\u63f4\u4ee5\u4e0b\u6a19\u6e96\u7684G-Code\u547d\u4ee4\uff1a \u79fb\u52d5 (G0 or G1): G1 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] \u505c\u7559\u6642\u9593\uff1a G4 P<milliseconds> \u8fd4\u56de\u539f\u9ede\uff1a G28 [X] [Y] [Z] \u95dc\u9589\u6b65\u9032\u96fb\u6a5f\uff1a M18 \u6216 M84 \u7b49\u5f85\u76ee\u524d\u79fb\u52d5\u5b8c\u6210\uff1a M400 \u4f7f\u7528\u7d55\u5c0d/\u76f8\u5c0d\u64e0\u51fa\u8ddd\u96e2\uff1a M82 \uff0c M83 \u4f7f\u7528\u7d55\u5c0d/\u76f8\u5c0d\u5ea7\u6a19\uff1a G90 , G91 \u8a2d\u5b9a\u5ea7\u6a19\uff1a G92 [X<\u5ea7\u6a19>] [Y<\u5ea7\u6a19>] [Z<\u5ea7\u6a19>] [E<\u5ea7\u6a19>] \u8a2d\u5b9a\u901f\u5ea6\u56e0\u5b50\u8986\u5beb\u767e\u5206\u6bd4\uff1a M220 S<\u767e\u5206\u6bd4> \u8a2d\u5b9a\u64e0\u58d3\u56e0\u5b50\u8986\u84cb\u767e\u5206\u6bd4\uff1a M221 S<percent> \u8a2d\u5b9a\u52a0\u901f\u5ea6\uff1a M204 S<value> \u6216 M204 P<value> T<value> \u6ce8\u610f\uff1a\u5982\u679c\u6c92\u6709\u6307\u5b9aS\uff0c\u540c\u6642\u6307\u5b9a\u4e86P\u548cT\uff0c\u90a3\u9ebc\u52a0\u901f\u5ea6\u5c07\u88ab\u8a2d\u5b9a\u70baP\u548cT\u4e2d\u7684\u6700\u5c0f\u503c\u3002 \u7372\u53d6\u64e0\u51fa\u6a5f\u6eab\u5ea6\uff1a M105 \u8a2d\u5b9a\u64e0\u51fa\u6a5f\u6eab\u5ea6\uff1a M104 [T<index>] [S<temperature>] \u8a2d\u5b9a\u64e0\u51fa\u6a5f\u6eab\u5ea6\u4e26\u7b49\u5f85\uff1a M109 [T<index>] S<temperature> \u6ce8\u610f\uff1aM109\u7e3d\u662f\u7b49\u5f85\u6eab\u5ea6\u7a69\u5b9a\u5728\u8acb\u6c42\u7684\u6578\u503c\u4e0a \u8a2d\u5b9a\u71b1\u5e8a\u6eab\u5ea6\uff1a M140 [S<temperature>] \u8a2d\u5b9a\u71b1\u5e8a\u6eab\u5ea6\u4e26\u4e14\u7b49\u5f85\uff1a M190 S<temperature> \u6ce8\u610f\uff1aM190\u7e3d\u662f\u7b49\u5f85\u6eab\u5ea6\u7a69\u5b9a\u5728\u8acb\u6c42\u7684\u6578\u503c\u4e0a \u8a2d\u5b9a\u98a8\u6247\u901f\u5ea6\uff1a M106 S<value> \u505c\u6b62\u98a8\u6247\uff1a M107 \u7dca\u6025\u505c\u6b62\uff1a M112 \u7372\u53d6\u76ee\u524d\u4f4d\u7f6e\uff1a M114 \u7372\u53d6\u97cc\u9ad4\u7248\u672c\uff1a M115 \u6709\u95dc\u4e0a\u8ff0\u547d\u4ee4\u7684\u66f4\u591a\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 RepRap G-Code documentation Klipper's goal is to support the G-Code commands produced by common 3rd party software (eg, OctoPrint, Printrun, Slic3r, Cura, etc.) in their standard configurations. It is not a goal to support every possible G-Code command. Instead, Klipper prefers human readable \"extended G-Code commands\" . Similarly, the G-Code terminal output is only intended to be human readable - see the API Server document if controlling Klipper from external software. \u5982\u679c\u4e00\u500b\u4eba\u9700\u8981\u4e00\u500b\u4e0d\u592a\u5e38\u898b\u7684G-Code\u547d\u4ee4\uff0c\u90a3\u9ebc\u53ef\u4ee5\u7528\u4e00\u500b\u81ea\u5b9a\u7fa9\u7684 gcode_macro config section \u4f86\u5be6\u73fe\u5b83\u3002\u4f8b\u5982\uff0c\u6211\u5011\u53ef\u4ee5\u7528\u9019\u500b\u4f86\u5be6\u73fe\u3002 G12 , G29 , G30 , G31 , M42 , M80 , M81 , T1 \uff0cetc. \u5176\u4ed6\u547d\u4ee4 \u00b6 Klipper\u4f7f\u7528 \"extended\" \u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u4f86\u9032\u884c\u4e00\u822c\u7684\u914d\u7f6e\u548c\u72c0\u614b\u3002\u9019\u4e9b\u64f4\u5145\u5957\u4ef6\u547d\u4ee4\u90fd\u9075\u5faa\u4e00\u500b\u985e\u4f3c\u7684\u683c\u5f0f--\u5b83\u5011\u4ee5\u4e00\u500b\u547d\u4ee4\u540d\u958b\u59cb\uff0c\u5f8c\u9762\u53ef\u80fd\u6709\u4e00\u500b\u6216\u591a\u500b\u53c3\u6578\u3002\u6bd4\u5982\u8aaa\uff1a SET_SERVO SERVO=myservo ANGLE=5.3 \u3002\u5728\u672c\u6a94\u6848\u4e2d\uff0c\u547d\u4ee4\u548c\u53c3\u6578\u4ee5\u5927\u5beb\u5b57\u6bcd\u986f\u793a\uff0c\u4f46\u5b83\u5011\u4e0d\u5206\u5927\u5c0f\u5beb\u3002(\u6240\u4ee5\uff0c\"SET_SERVO \"\u548c \"set_servo \"\u90fd\u662f\u57f7\u884c\u540c\u4e00\u500b\u547d\u4ee4\uff09 This section is organized by Klipper module name, which generally follows the section names specified in the printer configuration file . Note that some modules are automatically loaded. [adxl345] \u00b6 \u7576 adxl345\u914d\u7f6e\u5206\u6bb5 \u88ab\u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528. ACCELEROMETER_MEASURE \u00b6 ACCELEROMETER_MEASURE [CHIP=<config_name>] [NAME=<value>] \u3002\u4ee5\u8981\u6c42\u7684\u6bcf\u79d2\u63a1\u6a23\u6578\u555f\u52d5\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aCHIP\uff0c\u5247\u9810\u8a2d\u70ba \"adxl345\"\u3002\u8a72\u547d\u4ee4\u4ee5\u555f\u52d5-\u505c\u6b62\u6a21\u5f0f\u5de5\u4f5c\uff1a\u7b2c\u4e00\u6b21\u57f7\u884c\u6642\uff0c\u5b83\u958b\u59cb\u6e2c\u91cf\uff0c\u4e0b\u6b21\u57f7\u884c\u6642\u505c\u6b62\u6e2c\u91cf\u3002\u6e2c\u91cf\u7d50\u679c\u88ab\u5beb\u5165\u4e00\u500b\u540d\u70ba /tmp/adxl345-<chip>-<name>\u7684\u6a94\u6848\u4e2d\u3002csv \uff0c\u5176\u4e2d <chip> \u662f\u52a0\u901f\u5ea6\u8a08\u6676\u7247\u7684\u540d\u7a31\uff08 my_chip_name \u4f86\u81ea [adxl345 my_chip_name] \uff09\uff0c <name> \u662f\u53ef\u9078NAME\u53c3\u6578\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aNAME\uff0c\u5247\u9810\u8a2d\u70ba\u76ee\u524d\u6642\u9593\uff0c\u683c\u5f0f\u70ba \"YYYMMDD_HHMMSS\"\u3002\u5982\u679c\u52a0\u901f\u5ea6\u8a08\u5728\u5176\u914d\u7f6e\u90e8\u5206\u6c92\u6709\u540d\u7a31\uff08\u53ea\u662f [adxl345] \uff09\uff0c\u90a3\u9ebc <chip > \u90e8\u5206\u7684\u540d\u7a31\u5c31\u4e0d\u6703\u7522\u751f\u3002 ACCELEROMETER_QUERY \u00b6 ACCELEROMETER_QUERY [CHIP=<config_name>] [RATE=<value>] : \u67e5\u8a62\u52a0\u901f\u5ea6\u8a08\u7684\u7576\u524d\u503c\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\u6676\u7247\uff0c\u5247\u9810\u8a2d\u70ba \"adxl345\"\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aRATE\uff0c\u5247\u4f7f\u7528\u9810\u8a2d\u503c\u3002\u8a72\u547d\u4ee4\u5c0d\u65bc\u6e2c\u8a66\u8207ADXL345\u52a0\u901f\u5ea6\u8a08\u7684\u9023\u7dda\u975e\u5e38\u6709\u7528\uff1a\u8fd4\u56de\u7684\u6578\u503c\u4e4b\u4e00\u61c9\u8a72\u662f\u81ea\u7531\u843d\u9ad4\u52a0\u901f\u5ea6\uff08+/-\u6676\u7247\u7684\u4e00\u4e9b\u566a\u8072\uff09\u3002 ACCELEROMETER_DEBUG_READ \u00b6 ACCELEROMETER_DEBUG_READ [CHIP=<\u914d\u7f6e\u540d>] REG=<\u66ab\u5b58\u5668> \uff1a\u67e5\u8a62ADXL345\u7684\u66ab\u5b58\u5668\"REG\"\uff08\u4f8b\u598244\u62160x2C\uff09\u3002\u53ef\u4ee5\u7528\u65bcdebug\u3002 ACCELEROMETER_DEBUG_WRITE \u00b6 ACCELEROMETER_DEBUG_WRITE [CHIP=<\u914d\u7f6e\u540d>] REG=<\u66ab\u5b58\u5668> VAL=<\u503c> \uff1a\u5c07\u539f\u59cb\u7684\"\u503c\"\u5beb\u9032\u66ab\u5b58\u5668\"\u66ab\u5b58\u5668\"\u3002\"\u503c\"\u548c\"\u66ab\u5b58\u5668\"\u90fd\u53ef\u4ee5\u662f\u4e00\u500b\u5341\u9032\u5236\u6216\u5341\u516d\u9032\u5236\u7684\u6574\u6578\u3002\u8acb\u8b39\u614e\u4f7f\u7528\uff0c\u4e26\u53c3\u8003 ADXL345 \u6578\u64da\u624b\u518a\u3002 [angle] \u00b6 The following commands are available when an angle config section is enabled. ANGLE_CALIBRATE \u00b6 ANGLE_CALIBRATE CHIP=<chip_name> : Perform angle calibration on the given sensor (there must be an [angle chip_name] config section that has specified a stepper parameter). IMPORTANT - this tool will command the stepper motor to move without checking the normal kinematic boundary limits. Ideally the motor should be disconnected from any printer carriage before performing calibration. If the stepper can not be disconnected from the printer, make sure the carriage is near the center of its rail before starting calibration. (The stepper motor may move forwards or backwards two full rotations during this test.) After completing this test use the SAVE_CONFIG command to save the calibration data to the config file. In order to use this tool the Python \"numpy\" package must be installed (see the measuring resonance document for more information). ANGLE_DEBUG_READ \u00b6 ANGLE_DEBUG_READ CHIP=<config_name> REG=<register> : Queries sensor register \"register\" (e.g. 44 or 0x2C). Can be useful for debugging purposes. This is only available for tle5012b chips. ANGLE_DEBUG_WRITE \u00b6 ANGLE_DEBUG_WRITE CHIP=<config_name> REG=<register> VAL=<value> : Writes raw \"value\" into register \"register\". Both \"value\" and \"register\" can be a decimal or a hexadecimal integer. Use with care, and refer to sensor data sheet for the reference. This is only available for tle5012b chips. [bed_mesh] \u00b6 \u7576\u555f\u7528 bed_mesh config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 bed mesh guide \uff09\u3002 BED_MESH_CALIBRATE \u00b6 BED_MESH_CALIBRATE [METHOD=manual] [<probe_parameter>=<value>] [<mesh_parameter>=<value>] : \u6b64\u547d\u4ee4\u4f7f\u7528\u901a\u904e\u914d\u7f6e\u53c3\u6578\u6307\u5b9a\u4e26\u7522\u751f\u7684\u63a2\u6e2c\u9ede\u63a2\u6e2c\u5217\u5370\u5e8a\u3002\u5728\u63a2\u6e2c\u540e\uff0c\u4e00\u500b\u7db2\u683c\u5c07\u88ab\u7522\u751f\uff0cz \u8ef8\u79fb\u52d5\u5c07\u6839\u64da\u7db2\u683c\u8abf\u6574\u3002\u6709\u95dc\u53ef\u9078\u63a2\u6e2c\u53c3\u6578\uff0c\u8acb\u898b PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9a METHOD=manual \uff0c\u5247\u6703\u555f\u52d5\u624b\u52d5\u63a2\u6e2c\u5de5\u5177 - \u6709\u95dc\u6b64\u5de5\u5177\u6d3b\u8e8d\u6642\u53ef\u7528\u7684\u984d\u5916\u547d\u4ee4\uff0c\u8a73\u898b MANUAL_PROBE \u547d\u4ee4\u3002 BED_MESH_OUTPUT \u00b6 BED_MESH_OUTPUT PGP=[<0:1>] \uff1a\u8a72\u547d\u4ee4\u5c07\u76ee\u524d\u63a2\u6e2c\u5230\u7684 Z \u503c\u548c\u76ee\u524d\u7db2\u683c\u7684\u503c\u8f38\u51fa\u5230\u7d42\u7aef\u3002\u5982\u679c\u6307\u5b9a PGP=1\uff0c\u5247\u5c07bed_mesh\u7522\u751f\u7684X\u3001Y\u5ea7\u6a19\uff0c\u4ee5\u53ca\u5b83\u5011\u95dc\u806f\u7684\u6307\u6578\uff0c\u8f38\u51fa\u5230\u7d42\u7aef\u3002 BED_MESH_MAP \u00b6 BED_MESH_MAP \uff1a\u985e\u4f3c BED_MESH_OUTPUT\uff0c\u9019\u500b\u547d\u4ee4\u5728\u7d42\u7aef\u4e2d\u986f\u793a\u7db2\u683c\u7684\u7576\u524d\u72c0\u614b\u3002\u5b83\u4e0d\u4ee5\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\u5217\u5370\uff0c\u800c\u662f\u88ab\u5e8f\u5217\u5316\u70ba json \u683c\u5f0f\u3002\u9019\u5141\u8a31 Octoprint \u5916\u639b\u6355\u7372\u6578\u64da\u4e26\u7522\u751f\u63cf\u7e6a\u5217\u5370\u5e8a\u8868\u9762\u7684\u9ad8\u5ea6\u5716\u3002 BED_MESH_CLEAR \u00b6 BED_MESH_CLEAR \uff1a\u6b64\u547d\u4ee4\u6e05\u9664\u5e8a\u7db2\u4e26\u79fb\u9664\u6240\u6709 z \u8abf\u6574\u3002\u5efa\u8b70\u628a\u5b83\u653e\u5728\u4f60\u7684 end-gcode \uff08\u7d50\u675fG\u7a0b\u5f0f\u78bc\uff09\u4e2d\u3002 BED_MESH_PROFILE \u00b6 BED_MESH_PROFILE LOAD=<\u540d\u7a31> SAVE=<\u540d\u7a31> REMOVE=<\u540d\u7a31> \uff1a\u6b64\u547d\u4ee4\u63d0\u4f9b\u4e86\u7db2\u5e8a\u914d\u7f6e\u7ba1\u7406\u529f\u80fd\u3002LOAD \u5c07\u5f9e\u8207\u6240\u63d0\u4f9b\u7684\u540d\u7a31\u76f8\u7b26\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\u6062\u5fa9\u7db2\u683c\u72c0\u614b\u3002SAVE \u5c07\u6703\u628a\u76ee\u524d\u7684\u7db2\u683c\u72c0\u614b\u5132\u5b58\u5230\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u76f8\u7b26\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\u3002REMOVE\uff08\u79fb\u9664\uff09\u5c07\u5f9e\u6c38\u7e8c\u6027\u8a18\u61b6\u9ad4\u4e2d\u522a\u9664\u8207\u6240\u63d0\u4f9b\u540d\u7a31\u76f8\u7b26\u7684\u914d\u7f6e\u6a94\u6848\u3002\u8acb\u6ce8\u610f\uff0c\u5728 SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u9808\u767c\u9001SAVE_CONFIG G\u7a0b\u5f0f\u78bc\uff0c\u4ee5\u5132\u5b58\u8b8a\u66f4\u5230\u6c38\u7e8c\u6027\u8a18\u61b6\u9ad4\u3002 BED_MESH_OFFSET \u00b6 BED_MESH_OFFSET [X=<value>] [Y=<value>] \u3002\u5c07X\u548c/\u6216Y\u7684\u504f\u79fb\u91cf\u61c9\u7528\u65bc\u7db2\u683c\u67e5\u8a62\u3002\u9019\u5c0d\u5177\u6709\u591a\u500b\u7368\u7acb\u64e0\u51fa\u982d\u7684\u5370\u8868\u6a5f\u5f88\u6709\u7528\uff0c\u56e0\u70ba\u504f\u79fb\u91cf\u5c0d\u5207\u63db\u5de5\u5177\u982d\u540e\u7522\u751f\u6b63\u78ba\u7684 Z \u503c\u8abf\u6574\u662f\u81f3\u95dc\u91cd\u8981\u7684\u3002 [bed_screws] \u00b6 \u7576\u555f\u7528 bed_screws config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 manual level guide \uff09\u3002 BED_SCREWS_ADJUST \u00b6 BED_SCREWS_ADJUST \uff1a\u8a72\u547d\u4ee4\u5c07\u547c\u53eb\u5217\u5370\u5e8a\u87ba\u7d72\u8abf\u6574\u5de5\u5177\u3002\u5b83\u5c07\u547d\u4ee4\u5674\u5634\u79fb\u52d5\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\uff08\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\uff09\uff0c\u4e26\u5141\u8a31\u5c0d\u5217\u5370\u5e8a\u87ba\u7d72\u9032\u884c\u624b\u52d5\u8abf\u6574\uff0c\u4f7f\u5217\u5370\u5e8a\u8207\u5674\u5634\u7684\u8ddd\u96e2\u4fdd\u6301\u4e0d\u8b8a\u3002 [bed_tilt] \u00b6 \u7576\u555f\u7528 bed_tilt config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 BED_TILT_CALIBRATE \u00b6 BED_TILT_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u8a72\u547d\u4ee4\u5c07\u63a2\u6e2c\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u9ede\uff0c\u7136\u5f8c\u5efa\u8b70\u66f4\u65b0X\u548cY\u7684\u50be\u659c\u8abf\u6574\u3002\u6709\u95dc\u53ef\u9078\u63a2\u6e2c\u53c3\u6578\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898bPROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u9ebc\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u5c31\u6703\u88ab\u555f\u7528 - \u95dc\u65bc\u8a72\u5de5\u5177\u555f\u7528\u6642\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\uff0c\u8acb\u53c3\u898b\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002 [bltouch] \u00b6 \u7576\u555f\u7528 bltouch config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 BL-Touch guide \uff09\u3002 BLTOUCH_DEBUG \u00b6 BLTOUCH_DEBUG COMMAND=<\u547d\u4ee4> \uff1a\u5411BLTouch\u767c\u9001\u4e00\u500b\u6307\u5b9a\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u7528\u65bc\u9664\u932f\u3002\u53ef\u7528\u7684\u547d\u4ee4\u6709\uff1a pin_down \u3001 touch_mode \u3001 pin_up \u3001 self_test \u548c reset \u3002BL-TOUCH V3.0 \u6216 V3.1 \u4e5f\u53ef\u80fd\u652f\u63f4 set_5V_output_mode \u3001 set_OD_output_mode \u548c output_mode_store \u547d\u4ee4\u3002 BLTOUCH_STORE \u00b6 BLTOUCH_STORE MODE=<output_mode> :\u9019\u5c07\u5728BLTouch V3.1\u7684EEPROM\u4e2d\u5132\u5b58\u4e00\u500b\u8f38\u51fa\u6a21\u5f0f \u53ef\u7528\u7684\u8f38\u51fa\u6a21\u5f0f\u6709 5V , OD [configfile] \u00b6 \u6a21\u7d44configfile\u5df2\u81ea\u52d5\u8f09\u5165. SAVE_CONFIG \u00b6 SAVE_CONFIG \uff1a\u8a72\u547d\u4ee4\u5c07\u8986\u84cb\u5370\u8868\u6a5f\u7684\u4e3b\u914d\u7f6e\u6a94\u6848\uff0c\u4e26\u91cd\u65b0\u555f\u52d5\u4e3b\u6a5f\u8edf\u9ad4\u3002\u8a72\u547d\u4ee4\u8207\u5176\u4ed6\u6821\u6e96\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u65bc\u5132\u5b58\u6821\u6e96\u6e2c\u8a66\u7684\u7d50\u679c\u3002 [delayed_gcode] \u00b6 \u5982\u679c\u555f\u7528\u4e86 delayed_gcode config section \uff0c\u5247\u555f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff08\u53e6\u8acb\u53c3\u95b1 template guide \uff09\u3002 UPDATE_DELAYED_GCODE \u00b6 UPDATE_DELAYED_GCODE [ID=<\u540d\u7a31>] [DURATION=<\u79d2>] \uff1a\u66f4\u65b0\u76ee\u6a19 [delayed_gcode] \u7684\u5ef6\u9072\u4e26\u555f\u52d5G\u7a0b\u5f0f\u78bc\u57f7\u884c\u7684\u8a08\u6642\u5668\u3002\u70ba0\u7684\u503c\u6703\u53d6\u6d88\u6e96\u5099\u57f7\u884c\u7684\u5ef6\u9072G\u7a0b\u5f0f\u78bc\u3002 [delta_calibrate] \u00b6 \u7576\u555f\u7528 delta_calibrate config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u898b delta calibrate guide \uff09\u3002 DELTA_CALIBRATE \u00b6 DELTA_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u9019\u689d\u547d\u4ee4\u5c07\u63a2\u6e2c\u5e8a\u8eab\u7684\u4e03\u500b\u9ede\uff0c\u4e26\u5efa\u8b70\u66f4\u65b0\u9650\u4f4d\u4f4d\u7f6e\u3001\u5854\u67b6\u89d2\u5ea6\u548c\u534a\u5f91\u3002\u6709\u95dc\u53ef\u9078\u63a2\u6e2c\u53c3\u6578\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898bPROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u9ebc\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u5c07\u88ab\u555f\u7528 - \u95dc\u65bc\u8a72\u5de5\u5177\u555f\u7528\u6642\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898b\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002 DELTA_ANALYZE \u00b6 DELTA_ANALYZE :\u9019\u500b\u547d\u4ee4\u5728\u589e\u5f37\u7684delta\u6821\u6e96\u904e\u7a0b\u4e2d\u4f7f\u7528\u3002\u8a73\u60c5\u898b Delta Calibrate \u3002 [display] \u00b6 \u7576\u555f\u7528 display config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 SET_DISPLAY_GROUP \u00b6 SET_DISPLAY_GROUP [DISPLAY=<display>] GROUP=<group> :\u8a2d\u5b9a\u4e00\u500blcd\u986f\u793a\u5668\u7684\u6d3b\u52d5\u986f\u793a\u7d44\u3002\u9019\u5141\u8a31\u5728\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u591a\u500b\u986f\u793a\u6578\u64da\u7d44\uff0c\u4f8b\u5982 [display_data <group> <elementname>] \u4e26\u4f7f\u7528\u9019\u500b\u64f4\u5145\u5957\u4ef6\u7684gcode\u547d\u4ee4\u5728\u5b83\u5011\u4e4b\u9593\u5207\u63db\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aDISPLAY\uff0c\u5247\u9810\u8a2d\u70ba \"display\"\uff08\u4e3b\u986f\u793a\uff09\u3002 [display_status] \u00b6 \u5982\u679c\u555f\u7528\u4e86 display config section \uff0c\u5247\u6703\u81ea\u52d5\u8f09\u5165 display_status \u6a21\u584a\u3002\u5b83\u63d0\u4f9b\u4ee5\u4e0b\u6a19\u6e96 G-Code\u547d\u4ee4\uff1a \u986f\u793a\u8cc7\u8a0a\uff1a M117 <message> \u8a2d\u5b9a\u69cb\u5efa\u767e\u5206\u6bd4\uff1a M73 P<percent> Also provided is the following extended G-Code command: SET_DISPLAY_TEXT MSG=<message> : Performs the equivalent of M117, setting the supplied MSG as the current display message. If MSG is omitted the display will be cleared. [dual_carriage] \u00b6 \u7576\u555f\u7528 dual_carriage config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 SET_DUAL_CARRIAGE \u00b6 SET_DUAL_CARRIAGE CARRIAGE=[0|1] :\u8a72\u547d\u4ee4\u5c07\u8a2d\u5b9a\u6d3b\u52d5\u7684\u6ed1\u584a\u3002\u5b83\u901a\u5e38\u662f\u5728\u4e00\u500b\u591a\u64e0\u51fa\u6a5f\u914d\u7f6e\u4e2d\u5f9e activate_gcode\u548cdeactivate_gcode\u6b04\u4f4d\u547c\u53eb\u3002 [endstop_phase] \u00b6 \u7576\u555f\u7528 endstop_phase config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 endstop phase guide \uff09\u3002 ENDSTOP_PHASE_CALIBRATE \u00b6 ENDSTOP_PHASE_CALIBRATE [STEPPER=<config_name>] \u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9bSTEPPER\u53c3\u6578\uff0c\u90a3\u9ebc\u8a72\u547d\u4ee4\u5c07\u5831\u544a\u5728\u904e\u53bb\u7684\u6b78\u4f4d\u64cd\u4f5c\u4e2d\u5c0d\u7aef\u505c\u6b65\u9032\u76f8\u7684\u7d71\u8a08\u3002\u7576\u63d0\u4f9bSTEPPER\u53c3\u6578\u6642\uff0c\u5b83\u6703\u5b89\u6392\u5c07\u7d66\u5b9a\u7684\u7d42\u9ede\u7ad9\u76f8\u4f4d\u8a2d\u5b9a\u5beb\u5165\u914d\u7f6e\u6a94\u6848\u4e2d\uff08\u8207SAVE_CONFIG\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff09\u3002 [exclude_object] \u00b6 The following commands are available when an exclude_object config section is enabled (also see the exclude object guide ): EXCLUDE_OBJECT \u00b6 EXCLUDE_OBJECT [NAME=object_name] [CURRENT=1] [RESET=1] : With no parameters, this will return a list of all currently excluded objects. When the NAME parameter is given, the named object will be excluded from printing. When the CURRENT parameter is given, the current object will be excluded from printing. When the RESET parameter is given, the list of excluded objects will be cleared. Additionally including NAME will only reset the named object. This can cause print failures, if layers were already skipped. EXCLUDE_OBJECT_DEFINE \u00b6 EXCLUDE_OBJECT_DEFINE [NAME=object_name [CENTER=X,Y] [POLYGON=[[x,y],...]] [RESET=1] [JSON=1] : Provides a summary of an object in the file. With no parameters provided, this will list the defined objects known to Klipper. Returns a list of strings, unless the JSON parameter is given, when it will return object details in json format. When the NAME parameter is included, this defines an object to be excluded. NAME : This parameter is required. It is the identifier used by other commands in this module. CENTER : An X,Y coordinate for the object. POLYGON : An array of X,Y coordinates that provide an outline for the object. When the RESET parameter is provided, all defined objects will be cleared, and the [exclude_object] module will be reset. EXCLUDE_OBJECT_START \u00b6 EXCLUDE_OBJECT_START NAME=object_name : This command takes a NAME parameter and denotes the start of the gcode for an object on the current layer. EXCLUDE_OBJECT_END \u00b6 EXCLUDE_OBJECT_END [NAME=object_name] : Denotes the end of the object's gcode for the layer. It is paired with EXCLUDE_OBJECT_START . A NAME parameter is optional, and will only warn when the provided name does not match the current object. [extruder] \u00b6 \u5982\u679c\u555f\u7528\u4e86 extruder config section \uff0c\u5247\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a ACTIVATE_EXTRUDER \u00b6 ACTIVATE_EXTRUDER EXTRUDER=<config_name> : In a printer with multiple extruder config sections, this command changes the active hotend. SET_PRESSURE_ADVANCE \u00b6 SET_PRESSURE_ADVANCE [EXTRUDER=<config_name>] [ADVANCE=<pressure_advance>] [SMOOTH_TIME=<pressure_advance_smooth_time>] : Set pressure advance parameters of an extruder stepper (as defined in an extruder or extruder_stepper config section). If EXTRUDER is not specified, it defaults to the stepper defined in the active hotend. SET_EXTRUDER_ROTATION_DISTANCE \u00b6 SET_EXTRUDER_ROTATION_DISTANCE EXTRUDER=<config_name> [DISTANCE=<distance>] : Set a new value for the provided extruder stepper's \"rotation distance\" (as defined in an extruder or extruder_stepper config section). If the rotation distance is a negative number then the stepper motion will be inverted (relative to the stepper direction specified in the config file). Changed settings are not retained on Klipper reset. Use with caution as small changes can result in excessive pressure between extruder and hotend. Do proper calibration with filament before use. If 'DISTANCE' value is not provided then this command will return the current rotation distance. SYNC_EXTRUDER_MOTION \u00b6 SYNC_EXTRUDER_MOTION EXTRUDER=<name> MOTION_QUEUE=<name> : This command will cause the stepper specified by EXTRUDER (as defined in an extruder or extruder_stepper config section) to become synchronized to the movement of an extruder specified by MOTION_QUEUE (as defined in an extruder config section). If MOTION_QUEUE is an empty string then the stepper will be desynchronized from all extruder movement. SET_EXTRUDER_STEP_DISTANCE \u00b6 \u6b64\u547d\u4ee4\u5df2\u68c4\u7528\uff0c\u4e26\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u522a\u9664\u3002 SYNC_STEPPER_TO_EXTRUDER \u00b6 \u6b64\u547d\u4ee4\u5df2\u68c4\u7528\uff0c\u4e26\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u522a\u9664\u3002 [fan_generic] \u00b6 \u7576\u555f\u7528 fan_generic config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 SET_FAN_SPEED \u00b6 SET_FAN_SPEED FAN=config_name SPEED=<\u901f\u5ea6> \u8a72\u547d\u4ee4\u8a2d\u5b9a\u98a8\u6247\u7684\u901f\u5ea6\u3002\"\u901f\u5ea6\" \u5fc5\u9808\u57280.0\u52301.0\u4e4b\u9593\u3002 [filament_switch_sensor] \u00b6 \u7576\u555f\u7528 filament_switch_sensor \u6216 filament_motion_sensor \u914d\u7f6e\u90e8\u5206\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 QUERY_FILAMENT_SENSOR \u00b6 QUERY_FILAMENT_SENSOR SENSOR=<\u611f\u6e2c\u5668\u540d> \uff1a\u67e5\u8a62\u8017\u6750\u611f\u6e2c\u5668\u7684\u7576\u524d\u72c0\u614b\u3002\u5728\u7d42\u7aef\u4e2d\u986f\u793a\u7684\u6578\u64da\u5c07\u53d6\u6c7a\u65bc\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u7684\u611f\u6e2c\u5668\u578b\u5225\u3002 SET_FILAMENT_SENSOR \u00b6 SET_FILAMENT_SENSOR SENSOR=<sensor_name> ENABLE=[0|1] \uff1a\u8a2d\u5b9a\u71c8\u7d72\u611f\u6e2c\u5668\u7684\u958b/\u95dc\u3002\u5982\u679c ENABLE \u8a2d\u5b9a\u70ba 0\uff0c\u8017\u6750\u611f\u6e2c\u5668\u5c07\u88ab\u7981\u7528\uff0c\u5982\u679c\u8a2d\u5b9a\u70ba 1\u662f\u555f\u7528\u3002 [firmware_retraction] \u00b6 \u7576\u555f\u7528 firmware_retraction config section \u6642\uff0c\u4ee5\u4e0b\u6a19\u6e96 G-Code\u547d\u4ee4\u53ef\u7528\u3002\u9019\u4e9b\u547d\u4ee4\u5141\u8a31\u60a8\u5229\u7528\u8a31\u591a\u5207\u7247\u6a5f\u4e2d\u53ef\u7528\u7684\u56fa\u4ef6\u56de\u7e2e\u529f\u80fd\uff0c\u4ee5\u6e1b\u5c11\u5f9e\u6253\u5370\u4ef6\u7684\u4e00\u500b\u90e8\u5206\u5230\u53e6\u4e00\u90e8\u5206\u7684\u975e\u64e0\u51fa\u79fb\u52d5\u671f\u9593\u7684\u62c9\u7d72\u3002\u9069\u7576\u914d\u7f6e\u58d3\u529b\u63d0\u524d\u53ef\u6e1b\u5c11\u6240\u9700\u7684\u56de\u7e2e\u9577\u5ea6\u3002 G10 \uff1a\u4f7f\u7528\u76ee\u524d\u914d\u7f6e\u7684\u53c3\u6578\u56de\u62bd\u64e0\u51fa\u6a5f\u3002 G11 \uff1a\u4e0d\u4f7f\u7528\u76ee\u524d\u914d\u7f6e\u7684\u53c3\u6578\u56de\u62bd\u64e0\u51fa\u6a5f\u3002 \u9084\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u984d\u5916\u547d\u4ee4. SET_RETRACTION \u00b6 SET_RETRACTION [RETRACT_LENGTH=<\u6beb\u7c73>] [RETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] [UNRETRACT_EXTRA_LENGTH=<\u6beb\u7c73>] [UNRETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] \uff1a\u8abf\u6574\u97cc\u9ad4\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c3\u6578\u3002RETRACT_LENGTH \u6c7a\u5b9a\u56de\u62bd\u548c\u56de\u586b\u7684\u8017\u6750\u9577\u5ea6\u3002\u56de\u62bd\u7684\u901f\u5ea6\u901a\u904e RETRACT_SPEED \u8abf\u6574\uff0c\u901a\u5e38\u8a2d\u5b9a\u5f97\u6bd4\u8f03\u9ad8\u3002\u56de\u586b\u7684\u901f\u5ea6\u901a\u904e UNRETRACT_SPEED \u8abf\u6574\uff0c\u96d6\u7136\u7d93\u5e38\u6bd4RETRACT_SPEED \u4f4e\uff0c\u4f46\u4e0d\u662f\u7279\u5225\u91cd\u8981\u3002\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u5728\u56de\u586b\u6642\u589e\u52a0\u5c11\u91cf\u7684\u984d\u5916\u9577\u5ea6\u7684\u8017\u6750\u53ef\u80fd\u6709\u76ca\uff0c\u9019\u53ef\u4ee5\u901a\u904e UNRETRACT_EXTRA_LENGTH \u8a2d\u5b9a\u3002SET_RETRACTION \u901a\u5e38\u4f5c\u70ba\u5207\u7247\u6a5f\u8017\u6750\u914d\u7f6e\u7684\u4e00\u90e8\u5206\u4f86\u8a2d\u5b9a\uff0c\u56e0\u70ba\u4e0d\u540c\u7684\u8017\u6750\u9700\u8981\u4e0d\u540c\u7684\u53c3\u6578\u8a2d\u5b9a\u3002 GET_RETRACTION \u00b6 GET_RETRACTION :\u67e5\u8a62\u76ee\u524d\u97cc\u9ad4\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c3\u6578\u4e26\u5728\u7d42\u7aef\u986f\u793a\u3002 [force_move] \u00b6 The force_move module is automatically loaded, however some commands require setting enable_force_move in the printer config . STEPPER_BUZZ \u00b6 STEPPER_BUZZ STEPPER=<\u914d\u7f6e\u540d> \uff1a\u79fb\u52d5\u6307\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u524d\u5f8c\u904b\u52d5\u4e00\u6beb\u7c73\uff0c\u91cd\u8907\u768410\u6b21\u3002\u9019\u662f\u4e00\u500b\u7528\u65bc\u9a57\u8b49\u6b65\u9032\u96fb\u6a5f\u63a5\u7dda\u7684\u5de5\u5177. FORCE_MOVE \u00b6 FORCE_MOVE STEPPER=<config_name> DISTANCE=<value> VELOCITY=<value> [ACCEL=<value>] \u3002\u8a72\u547d\u4ee4\u5c07\u4ee5\u7d66\u5b9a\u7684\u6052\u5b9a\u901f\u5ea6\uff08mm/s\uff09\u5f37\u5236\u79fb\u52d5\u7d66\u5b9a\u7684\u6b65\u9032\u5668\uff0c\u79fb\u52d5\u8ddd\u96e2\uff08mm\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86ACCEL\u4e26\u4e14\u5927\u65bc\u96f6\uff0c\u90a3\u9ebc\u5c07\u4f7f\u7528\u7d66\u5b9a\u7684\u52a0\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s^2\uff09\uff1b\u5426\u5247\u4e0d\u9032\u884c\u52a0\u901f\u3002\u4e0d\u57f7\u884c\u908a\u754c\u6aa2\u67e5\uff1b\u4e0d\u9032\u884c\u904b\u52d5\u5b78\u66f4\u65b0\uff1b\u4e00\u500b\u8ef8\u4e0a\u7684\u5176\u4ed6\u5e73\u884c\u6b65\u9032\u5668\u5c07\u4e0d\u6703\u88ab\u79fb\u52d5\u3002\u8acb\u8b39\u614e\u4f7f\u7528\uff0c\u56e0\u70ba\u4e0d\u6b63\u78ba\u7684\u547d\u4ee4\u53ef\u80fd\u6703\u5c0e\u81f4\u640d\u58de\u4f7f\u7528\u8a72\u547d\u4ee4\u5e7e\u4e4e\u80af\u5b9a\u6703\u4f7f\u4f4e\u968e\u904b\u52d5\u5b78\u8655\u65bc\u4e0d\u6b63\u78ba\u7684\u72c0\u614b\uff1b\u96a8\u5f8c\u767c\u51faG28\u547d\u4ee4\u4ee5\u91cd\u7f6e\u904b\u52d5\u5b78\u3002\u8a72\u547d\u4ee4\u7528\u65bc\u4f4e\u968e\u5225\u7684\u8a3a\u65b7\u548c\u9664\u932f\u3002 SET_KINEMATIC_POSITION \u00b6 SET_KINEMATIC_POSITION [X=<\u503c>] [Y=<\u503c>] [Z=<\u503c>] \uff1a\u5f37\u5236\u8a2d\u5b9a\u4f4e\u968e\u904b\u52d5\u5b78\u7a0b\u5f0f\u78bc\u4f7f\u7528\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u3002\u9019\u662f\u4e00\u500b\u8a3a\u65b7\u548c\u9664\u932f\u5de5\u5177\uff0c\u5e38\u898f\u7684\u8ef8\u8f49\u63db\u61c9\u8a72\u4f7f\u7528 SET_GCODE_OFFSET \u548c/\u6216 G92\u6307\u4ee4\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\u4e00\u500b\u8ef8\uff0c\u5247\u4f7f\u7528\u4e0a\u4e00\u6b21\u547d\u4ee4\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u3002\u8a2d\u5b9a\u4e00\u500b\u4e0d\u5408\u7406\u7684\u6578\u503c\u53ef\u80fd\u6703\u5c0e\u81f4\u5167\u90e8\u7a0b\u5f0f\u554f\u984c\u3002\u9019\u500b\u547d\u4ee4\u53ef\u80fd\u6703\u4f7f\u908a\u754c\u6aa2\u67e5\u5931\u6548\uff0c\u4f7f\u7528\u540e\u767c\u9001 G28 \u4f86\u91cd\u7f6e\u904b\u52d5\u5b78\u3002 [gcode] \u00b6 \u6a21\u7d44gcode module\u5df2\u81ea\u52d5\u8f09\u5165. RESTART \u00b6 RESTART \uff1a\u9019\u5c07\u5c0e\u81f4\u4e3b\u6a5f\u8edf\u9ad4\u91cd\u65b0\u8f09\u5165\u5176\u914d\u7f6e\u4e26\u57f7\u884c\u5167\u90e8\u91cd\u7f6e\u3002\u6b64\u547d\u4ee4\u4e0d\u6703\u5f9e\u5fae\u63a7\u5236\u5668\u6e05\u9664\u932f\u8aa4\u72c0\u614b\uff08\u8acb\u53c3\u95b1 FIRMWARE_RESTART\uff09\uff0c\u4e5f\u4e0d\u6703\u8f09\u5165\u65b0\u8edf\u9ad4\uff08\u8acb\u53c3\u95b1 \u5e38\u898b\u554f\u984c \uff09 . FIRMWARE_RESTART \u00b6 FIRMWARE_RESTART \uff1a\u9019\u985e\u4f3c\u65bc\u91cd\u555f\u547d\u4ee4\uff0c\u4f46\u5b83\u4e5f\u6e05\u9664\u4e86\u5fae\u63a7\u5236\u5668\u7684\u4efb\u4f55\u932f\u8aa4\u72c0\u614b\u3002 STATUS \u00b6 STATUS \uff1a\u5831\u544aKlipper\u4e3b\u6a5f\u7a0b\u5f0f\u7684\u72c0\u614b\u3002 HELP \u00b6 HELP \uff1a\u5831\u544a\u53ef\u7528\u7684\u64f4\u5145\u5957\u4ef6G-Code\u547d\u4ee4\u5217\u8868\u3002 [gcode_arcs] \u00b6 \u5982\u679c\u555f\u7528\u4e86 gcode_arcs \u914d\u7f6e\u5206\u6bb5 \uff0c\u4e0b\u5217\u6a19\u6e96G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u53ef\u7528\uff1a \u53d7\u63a7\u5f27\u7dda\u79fb\u52d5\uff08G2\u6216G3\uff09\u3002 G2 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] I<value> J<value> [gcode_macro] \u00b6 \u7576\u555f\u7528 gcode_macro config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 command templates guide \uff09\u3002 SET_GCODE_VARIABLE \u00b6 SET_GCODE_VARIABLE MACRO=<macro_name> VARIABLE=<name> VALUE=<value> \uff1a\u9019\u689d\u547d\u4ee4\u5141\u8a31\u4eba\u5011\u5728\u57f7\u884c\u6642\u6539\u8b8a gcode_macro \u8b8a\u6578\u7684\u503c\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u6703\u88ab\u89e3\u6790\u70ba\u4e00\u500b Python \u5b57\u9762\u3002 [gcode_move] \u00b6 \u6a21\u7d44gcode_move \u5df2\u81ea\u52d5\u8f09\u5165. GET_POSITION \u00b6 GET_POSITION : Return information on the current location of the toolhead. See the developer documentation of GET_POSITION output for more information. SET_GCODE_OFFSET \u00b6 SET_GCODE_OFFSET [X=<pos>|X_ADJUST=<adjust>] [Y=<pos>|Y_ADJUST=<adjust>] [Z=<pos>|Z_ADJUST=<adjust>] [MOVE=1 [MOVE_SPEED=<speed>]] \u3002\u8a2d\u5b9a\u4e00\u500b\u4f4d\u7f6e\u504f\u79fb\uff0c\u4ee5\u61c9\u7528\u65bc\u672a\u4f86\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002\u9019\u901a\u5e38\u7528\u65bc\u5be6\u969b\u6539\u8b8aZ\u5e8a\u7684\u504f\u79fb\u91cf\u6216\u5728\u5207\u63db\u64e0\u51fa\u6a5f\u6642\u8a2d\u5b9a\u5674\u5634\u7684XY\u504f\u79fb\u91cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u767c\u9001 \"SET_GCODE_OFFSET Z=0.2\"\uff0c\u90a3\u9ebc\u672a\u4f86\u7684G\u7a0b\u5f0f\u78bc\u79fb\u52d5\u5c07\u5728\u5176Z\u9ad8\u5ea6\u4e0a\u589e\u52a00.2mm\u3002\u5982\u679c\u4f7f\u7528X_ADJUST\u98a8\u683c\u7684\u53c3\u6578\uff0c\u90a3\u9ebc\u8abf\u6574\u5c07\u88ab\u65b0\u589e\u5230\u4efb\u4f55\u73fe\u6709\u7684\u504f\u79fb\u4e0a\uff08\u4f8b\u5982\uff0c\"SET_GCODE_OFFSET Z=-0.2\"\uff0c\u7136\u5f8c\u662f \"SET_GCODE_OFFSET Z_ADJUST=0.3\"\uff0c\u5c07\u5c0e\u81f4\u7e3d\u7684Z\u504f\u79fb\u70ba0.1\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE=1\"\uff0c\u90a3\u9ebc\u5c07\u767c\u51fa\u4e00\u500b\u5de5\u5177\u982d\u79fb\u52d5\u4f86\u61c9\u7528\u7d66\u5b9a\u7684\u504f\u79fb\u91cf\uff08\u5426\u5247\u504f\u79fb\u91cf\u5c07\u5728\u6307\u5b9a\u7d66\u5b9a\u8ef8\u7684\u4e0b\u4e00\u6b21\u7d55\u5c0dG-Code\u79fb\u52d5\u4e2d\u751f\u6548\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE_SPEED\"\uff0c\u90a3\u9ebc\u5200\u982d\u79fb\u52d5\u5c07\u4ee5\u7d66\u5b9a\u7684\u901f\u5ea6\uff08mm/s\uff09\u57f7\u884c\uff1b\u5426\u5247\uff0c\u5217\u5370\u982d\u79fb\u52d5\u5c07\u4f7f\u7528\u6700\u5f8c\u6307\u5b9a\u7684G-Code\u901f\u5ea6\u3002 SAVE_GCODE_STATE \u00b6 SAVE_GCODE_STATE [NAME=<state_name>] \uff1a\u5132\u5b58\u76ee\u524d\u7684g-code\u5ea7\u6a19\u89e3\u6790\u72c0\u614b\u3002\u5132\u5b58\u548c\u6062\u5fa9g-code\u72c0\u614b\u5728\u6307\u4ee4\u78bc\u548c\u5b8f\u4e2d\u5f88\u6709\u7528\u3002\u8a72\u547d\u4ee4\u5132\u5b58\u76ee\u524dg-code\u7d55\u5c0d\u5ea7\u6a19\u6a21\u5f0f\uff08G90/G91\uff09\u7d55\u5c0d\u64e0\u51fa\u6a21\u5f0f\uff08M82/M83\uff09\u539f\u9ede\uff08G92\uff09\u504f\u79fb\u91cf\uff08SET_GCODE_OFFSET\uff09\u901f\u5ea6\u8986\u84cb\uff08M220\uff09\u64e0\u51fa\u6a5f\u8986\u84cb\uff08M221\uff09\u79fb\u52d5\u901f\u5ea6\u3002\u76ee\u524dXYZ\u4f4d\u7f6e\u548c\u76f8\u5c0d\u64e0\u51fa\u6a5f \"E \"\u4f4d\u7f6e\u3002\u5982\u679c\u63d0\u4f9bNAME\uff0c\u5b83\u5141\u8a31\u4eba\u5011\u5c07\u5132\u5b58\u7684\u72c0\u614b\u547d\u540d\u70ba\u7d66\u5b9a\u7684\u5b57\u4e32\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9bNAME\uff0c\u5247\u9810\u8a2d\u70ba \"default\". RESTORE_GCODE_STATE \u00b6 RESTORE_GCODE_STATE [NAME=<state_name>] [MOVE=1 [MOVE_SPEED=<speed>]] \uff1a\u6062\u5fa9\u4e4b\u524d\u901a\u904e SAVE_GCODE_STATE \u5132\u5b58\u7684\u72c0\u614b\u3002\u5982\u679c\u6307\u5b9a\u300cMOVE=1\u300d\uff0c\u5247\u5c07\u767c\u51fa\u5200\u982d\u79fb\u52d5\u4ee5\u8fd4\u56de\u5230\u5148\u524d\u7684 XYZ \u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86\u300cMOVE_SPEED\u300d\uff0c\u5247\u5200\u982d\u79fb\u52d5\u5c07\u4ee5\u7d66\u5b9a\u7684\u901f\u5ea6\uff08\u4ee5mm/s\u70ba\u55ae\u4f4d\uff09\u57f7\u884c\uff1b\u5426\u5247\u5de5\u5177\u982d\u79fb\u52d5\u5c07\u4f7f\u7528\u6062\u5fa9\u7684G-Code\u901f\u5ea6\u3002 [hall_filament_width_sensor] \u00b6 \u7576\u555f\u7528 tsl1401cl filament width sensor config section \u6216 hall filament width sensor config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 TSLl401CL Filament Width Sensor \u548c Hall Filament Width Sensor )\uff1a QUERY_FILAMENT_WIDTH \u00b6 QUERY_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u76ee\u524d\u6e2c\u91cf\u7684\u8017\u6750\u76f4\u5f91\u3002 RESET_FILAMENT_WIDTH_SENSOR \u00b6 RESET_FILAMENT_WIDTH_SENSOR \uff1a\u6e05\u9664\u5168\u90e8\u611f\u6e2c\u5668\u8b80\u6578\u3002\u5728\u66f4\u63db\u8017\u6750\u5f8c\u6709\u7528\u3002 DISABLE_FILAMENT_WIDTH_SENSOR \u00b6 DISABLE_FILAMENT_WIDTH_SENSOR \uff1a\u95dc\u9589\u8017\u6750\u76f4\u5f91\u611f\u6e2c\u5668\u4e26\u505c\u6b62\u4f7f\u7528\u5b83\u9032\u884c\u6d41\u91cf\u63a7\u5236\u3002 ENABLE_FILAMENT_WIDTH_SENSOR \u00b6 ENABLE_FILAMENT_WIDTH_SENSOR \uff1a\u555f\u7528\u8017\u6750\u76f4\u5f91\u611f\u6e2c\u5668\u4e26\u4f7f\u7528\u5b83\u9032\u884c\u6d41\u91cf\u63a7\u5236\u3002 QUERY_RAW_FILAMENT_WIDTH \u00b6 QUERY_RAW_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u76ee\u524d ADC \u901a\u9053\u8b80\u6578\u548c\u6821\u6e96\u9ede\u7684 RAW \u611f\u6e2c\u5668\u503c\u3002 ENABLE_FILAMENT_WIDTH_LOG \u00b6 ENABLE_FILAMENT_WIDTH_LOG \uff1a\u958b\u555f\u76f4\u5f91\u8a18\u9304\u3002 DISABLE_FILAMENT_WIDTH_LOG \u00b6 DISABLE_FILAMENT_WIDTH_LOG \uff1a\u505c\u6b62\u76f4\u5f91\u8a18\u9304\u3002 [heaters] \u00b6 \u5982\u679c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u7fa9\u4e86\u52a0\u71b1\u5668\uff0c\u5247\u6703\u81ea\u52d5\u8f09\u5165\u52a0\u71b1\u5668\u6a21\u584a\u3002 TURN_OFF_HEATERS \u00b6 TURN_OFF_HEATERS \uff1a\u95dc\u9589\u5168\u90e8\u52a0\u71b1\u5668\u3002 TEMPERATURE_WAIT \u00b6 TEMPERATURE_WAIT SENSOR=<\u914d\u7f6e\u540d> [MINIMUM=<\u76ee\u6a19>] [MAXIMUM=<\u76ee\u6a19>] \uff1a\u7b49\u5f85\u6307\u5b9a\u6eab\u5ea6\u611f\u6e2c\u5668\u8b80\u6578\u9ad8\u65bc MINIMUM \u548c\u6216\u4f4e\u65bc MAXIMUM\u3002 SET_HEATER_TEMPERATURE \u00b6 SET_HEATER_TEMPERATURE HEATER=<\u52a0\u71b1\u5668\u540d\u7a31> [TARGET=<\u76ee\u6a19\u6eab\u5ea6>] \uff1a\u8a2d\u5b9a\u4e00\u500b\u52a0\u71b1\u5668\u7684\u76ee\u6a19\u6eab\u5ea6\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9b\u76ee\u6a19\u6eab\u5ea6\uff0c\u5247\u76ee\u6a19\u6eab\u5ea6\u70ba 0\u3002 [idle_timeout] \u00b6 \u6a21\u7d44idle_timeout\u5df2\u81ea\u52d5\u8f09\u5165. SET_IDLE_TIMEOUT \u00b6 SET_IDLE_TIMEOUT [TIMEOUT=<\u8d85\u6642>] \uff1a\u5141\u8a31\u4f7f\u7528\u8005\u8a2d\u5b9a\u7a7a\u9591\u8d85\u6642\uff08\u4ee5\u79d2\u70ba\u55ae\u4f4d\uff09\u3002 [input_shaper] \u00b6 \u5982\u679c\u555f\u7528\u4e86 input_shaper config section \uff0c\u5247\u555f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff08\u53e6\u8acb\u53c3\u95b1 resonance compensation guide \uff09\u3002 SET_INPUT_SHAPER \u00b6 SET_INPUT_SHAPER [SHAPER_FREQ_X=<shaper_freq_x>] [SHAPER_FREQ_Y=<shaper_freq_y>] [DAMPING_RATIO_X=<damping_ratio_x>] [DAMPING_RATIO_Y=<damping_ratio_y>] [SHAPER_TYPE=<shaper>] [SHAPER_TYPE_X=<shaper_type_x>] [SHAPER_TYPE_Y=<shaper_type_y>] \uff1a\u4fee\u6539\u8f38\u5165\u6574\u5f62\u53c3\u6578\u3002\u6ce8\u610f SHAPER_TYPE \u53c3\u6578\u6703\u540c\u6642\u8986\u5beb X \u548c Y \u8ef8\u7684\u6574\u5f62\u5668\u578b\u5225\uff0c\u5373\u4f7f\u5b83\u5011\u5728 [input_shaper] \u914d\u7f6e\u5206\u6bb5\u4e2d\u6709\u4e0d\u540c\u7684\u6574\u5f62\u5668\u578b\u5225\u3002SHAPER_TYPE \u4e0d\u80fd\u548c SHAPER_TYPE_X \u548c SHAPER_TYPE_Y \u53c3\u6578\u540c\u6642\u4f7f\u7528\u3002\u9019\u4e9b\u53c3\u6578\u7684\u7d30\u7bc0\u8acb\u898b \u914d\u7f6e\u53c3\u8003 \u3002 [manual_probe] \u00b6 \u6a21\u7d44manual_probe\u5df2\u81ea\u52d5\u8f09\u5165. MANUAL_PROBE \u00b6 MANUAL_PROBE [SPEED=<speed>] \uff1a\u57f7\u884c\u4e00\u500b\u8f14\u52a9\u6307\u4ee4\u78bc\uff0c\u5c0d\u6e2c\u91cf\u7d66\u5b9a\u4f4d\u7f6e\u7684\u5674\u5634\u9ad8\u5ea6\u6709\u7528\u3002\u5982\u679c\u6307\u5b9a\u4e86\u901f\u5ea6\uff0c\u5b83\u5c07\u8a2d\u5b9aTESTZ\u547d\u4ee4\u7684\u901f\u5ea6\uff08\u9810\u8a2d\u70ba5mm/s\uff09\u3002\u5728\u624b\u52d5\u63a2\u6e2c\u904e\u7a0b\u4e2d\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u9644\u52a0\u547d\u4ee4\uff1a ACCEPT \uff1a\u8a72\u547d\u4ee4\u63a5\u53d7\u76ee\u524d\u7684Z\u4f4d\u7f6e\uff0c\u4e26\u7d50\u675f\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u3002 ABORT \uff1a\u8a72\u547d\u4ee4\u7d42\u6b62\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u3002 TESTZ Z=<\u503c> \uff1a\u9019\u500b\u547d\u4ee4\u53ef\u4ee5\u5c07\u5674\u5634\u4e0a\u5347\u6216\u4e0b\u964d\u7d66\u5b9a\u503c\uff0c\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\u3002\u4f8b\u5982\uff0c TESTZ Z=-.1 \u6703\u5c07\u5674\u5634\u4e0b\u964d 0.1 \u6beb\u7c73\uff0c\u800c TESTZ Z=.1 \u6703\u5c07\u5674\u5634\u4e0a\u5347 0.1 \u6beb\u7c73\uff0c\u53c3\u6578\u53ef\u4ee5\u5e36\u6709 + , - , ++ , or -- \u4f86\u6839\u64da\u4e0a\u6b21\u5617\u8a66\u76f8\u5c0d\u7684\u79fb\u52d5\u5674\u5634\u3002 Z_ENDSTOP_CALIBRATE \u00b6 Z_ENDSTOP_CALIBRATE [SPEED=<\u901f\u5ea6>] \uff1a\u57f7\u884c\u4e00\u500b\u6821\u6e96 Z position_endstop \u53c3\u6578\u7684\u8f14\u52a9\u6307\u4ee4\u78bc\u3002\u6709\u95dc\u66f4\u591a\u53c3\u6578\u548c\u984d\u5916\u547d\u4ee4\u7684\u8cc7\u8a0a\uff0c\u8acb\u6aa2\u8996 MANUAL_PROBE \u547d\u4ee4\u3002 Z_OFFSET_APPLY_ENDSTOP \u00b6 Z_OFFSET_APPLY_ENDSTOP \uff1a\u5c07\u76ee\u524d\u7684Z \u7684 G \u7a0b\u5f0f\u78bc\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u5f9e stepper_z \u7684 endstop_position \u4e2d\u6e1b\u53bb\u3002\u8a72\u547d\u4ee4\u5c07\u6301\u4e45\u5316\u4e00\u500b\u5e38\u7528babystepping \u5fae\u8abf\u503c\u3002\u9700\u8981\u57f7\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002 [manual_stepper] \u00b6 \u7576 manual_stepper \u914d\u7f6e\u5206\u6bb5 \u88ab\u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 MANUAL_STEPPER \u00b6 MANUAL_STEPPER STEPPER=config_name [ENABLE=[0|1]] [SET_POSITION=<pos>] [SPEED=<speed>] [ACCEL=<accel>] [MOVE=<pos> [STOP_ON_ENDSTOP=[1|2|-1|-2]] [SYNC=0]] \uff1a\u8a72\u547d\u4ee4\u5c07\u6539\u8b8a\u6b65\u9032\u5668\u7684\u72c0\u614b\u3002\u4f7f\u7528ENABLE\u53c3\u6578\u4f86\u555f\u7528/\u7981\u7528\u6b65\u9032\u3002\u4f7f\u7528SET_POSITION\u53c3\u6578\uff0c\u8feb\u4f7f\u6b65\u9032\u8a8d\u70ba\u5b83\u8655\u65bc\u7d66\u5b9a\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528MOVE\u53c3\u6578\uff0c\u8981\u6c42\u79fb\u52d5\u5230\u7d66\u5b9a\u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86SPEED\u6216\u8005ACCEL\uff0c\u90a3\u9ebc\u5c07\u4f7f\u7528\u7d66\u5b9a\u7684\u503c\u800c\u4e0d\u662f\u914d\u7f6e\u6a94\u6848\u4e2d\u6307\u5b9a\u7684\u9810\u8a2d\u503c\u3002\u5982\u679c\u6307\u5b9aACCEL\u70ba0\uff0c\u90a3\u9ebc\u5c07\u4e0d\u57f7\u884c\u52a0\u901f\u3002\u5982\u679cSTOP_ON_ENDSTOP=1\u88ab\u6307\u5b9a\uff0c\u90a3\u9ebc\u5982\u679c\u6b62\u52d5\u5668\u5831\u544a\u88ab\u89f8\u767c\uff0c\u52d5\u4f5c\u5c07\u63d0\u524d\u7d50\u675f\uff08\u4f7f\u7528STOP_ON_ENDSTOP=2\u4f86\u5b8c\u6210\u52d5\u4f5c\uff0c\u5373\u4f7f\u6b62\u52d5\u5668\u6c92\u6709\u88ab\u89f8\u767c\u4e5f\u4e0d\u6703\u51fa\u932f\uff0c\u4f7f\u7528-1\u6216-2\u4f86\u5728\u6b62\u52d5\u5668\u5831\u544a\u6c92\u6709\u88ab\u89f8\u767c\u6642\u505c\u6b62\uff09\u3002\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u672a\u4f86\u7684G-Code\u547d\u4ee4\u5c07\u88ab\u5b89\u6392\u5728\u6b65\u9032\u904b\u52d5\u5b8c\u6210\u5f8c\u57f7\u884c\uff0c\u4f46\u662f\u5982\u679c\u624b\u52d5\u6b65\u9032\u904b\u52d5\u4f7f\u7528SYNC=0\uff0c\u90a3\u9ebc\u672a\u4f86\u7684G-Code\u904b\u52d5\u547d\u4ee4\u53ef\u80fd\u8207\u6b65\u9032\u904b\u52d5\u5e73\u884c\u57f7\u884c\u3002 [led] \u00b6 The following command is available when any of the led config sections are enabled. SET_LED \u00b6 SET_LED LED=<config_name> RED=<value> GREEN=<value> BLUE=<value> WHITE=<value> [INDEX=<index>] [TRANSMIT=0] [SYNC=1] : This sets the LED output. Each color <value> must be between 0.0 and 1.0. The WHITE option is only valid on RGBW LEDs. If the LED supports multiple chips in a daisy-chain then one may specify INDEX to alter the color of just the given chip (1 for the first chip, 2 for the second, etc.). If INDEX is not provided then all LEDs in the daisy-chain will be set to the provided color. If TRANSMIT=0 is specified then the color change will only be made on the next SET_LED command that does not specify TRANSMIT=0; this may be useful in combination with the INDEX parameter to batch multiple updates in a daisy-chain. By default, the SET_LED command will sync it's changes with other ongoing gcode commands. This can lead to undesirable behavior if LEDs are being set while the printer is not printing as it will reset the idle timeout. If careful timing is not needed, the optional SYNC=0 parameter can be specified to apply the changes without resetting the idle timeout. SET_LED_TEMPLATE \u00b6 SET_LED_TEMPLATE LED=<led_name> TEMPLATE=<template_name> [<param_x>=<literal>] [INDEX=<index>] : Assign a display_template to a given LED . For example, if one defined a [display_template my_led_template] config section then one could assign TEMPLATE=my_led_template here. The display_template should produce a comma separated string containing four floating point numbers corresponding to red, green, blue, and white color settings. The template will be continuously evaluated and the LED will be automatically set to the resulting colors. One may set display_template parameters to use during template evaluation (parameters will be parsed as Python literals). If INDEX is not specified then all chips in the LED's daisy-chain will be set to the template, otherwise only the chip with the given index will be updated. If TEMPLATE is an empty string then this command will clear any previous template assigned to the LED (one can then use SET_LED commands to manage the LED's color settings). [output_pin] \u00b6 \u7576\u555f\u7528 output_pin config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 SET_PIN \u00b6 SET_PIN PIN=config_name VALUE=<\u503c> CYCLE_TIME=<\u9031\u671f\u6642\u9593> : \u6ce8\u610f - \u786c\u9ad4PWM\u76ee\u524d\u4e0d\u652f\u63f4CYCLE_TIME\u53c3\u6578\uff0c\u5c07\u4f7f\u7528\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u7684\u9031\u671f\u6642\u9593\u3002 [palette2] \u00b6 \u555f\u7528 palette2 config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 Palette\u5217\u5370\u901a\u904e\u5728GCode\u6a94\u6848\u4e2d\u5d4c\u5165\u7279\u6b8a\u7684OCodes\uff08Omega Codes\uff09\u4f86\u5de5\u4f5c: O1 ... O32 \uff1a\u9019\u4e9b\u7a0b\u5f0f\u78bc\u5f9eG-Code\u6d41\u4e2d\u8b80\u51fa\u4e26\u4e14\u50b3\u905e\u7d66Palette 2\u88dd\u7f6e\u9032\u884c\u8655\u7406\u3002 \u9084\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u984d\u5916\u547d\u4ee4. PALETTE_CONNECT \u00b6 PALETTE_CONNECT \uff1a\u8a72\u547d\u4ee4\u521d\u59cb\u5316\u8207Palette 2\u7684\u9023\u7dda\u3002 PALETTE_DISCONNECT \u00b6 PALETTE_DISCONNECT \uff1a\u8a72\u547d\u4ee4\u65b7\u958b\u8207Palette 2\u7684\u9023\u7dda\u3002 PALETTE_CLEAR \u00b6 PALETTE_CLEAR :\u8a72\u547d\u4ee4\u6307\u793a Palette 2 \u6e05\u9664\u6240\u6709\u8017\u6750\u7684\u8f38\u5165\u6216\u8005\u8f38\u51fa\u3002 PALETTE_CUT \u00b6 PALETTE_CUT :\u8a72\u547d\u4ee4\u6307\u5f15Palette 2\u5207\u5272\u8017\u6750\u4e26\u4e14\u88dd\u8f09\u5206\u6bb5\u7684\u8017\u6750\u3002 PALETTE_SMART_LOAD \u00b6 PALETTE_SMART_LOAD \uff1a\u8a72\u547d\u4ee4\u5728Palette 2\u4e0a\u555f\u52d5\u667a\u6167\u8f09\u5165\u5e8f\u5217\u3002\u901a\u904e\u5728\u88dd\u7f6e\u4e0a\u70ba\u5370\u8868\u6a5f\u6821\u6e96\u7684\u8ddd\u96e2\u64e0\u58d3\uff0c\u81ea\u52d5\u8f09\u5165\u8017\u6750\uff0c\u4e26\u5728\u8f09\u5165\u5b8c\u6210\u5f8c\u6307\u793aPalette 2\u3002\u8a72\u547d\u4ee4\u8207\u8017\u6750\u8f09\u5165\u5b8c\u6210\u5f8c\u76f4\u63a5\u5728Palette 2\u87a2\u5e55\u4e0a\u6309 Smart Load \u76f8\u540c\u3002 [pid_calibrate] \u00b6 \u5982\u679c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u7fa9\u4e86\u52a0\u71b1\u5668\uff0c\u5247\u6703\u81ea\u52d5\u8f09\u5165 pid_calibrate \u6a21\u584a\u3002 PID_CALIBRATE \u00b6 PID_CALIBRATE HEATER=<config_name> TARGET=<temperature> [WRITE_FILE=1] \uff1a\u57f7\u884c\u4e00\u500bPID\u6821\u6e96\u6e2c\u8a66\u3002\u6307\u5b9a\u7684\u52a0\u71b1\u5668\u5c07\u88ab\u555f\u7528\uff0c\u76f4\u5230\u9054\u5230\u6307\u5b9a\u7684\u76ee\u6a19\u6eab\u5ea6\uff0c\u7136\u5f8c\u52a0\u71b1\u5668\u5c07\u88ab\u95dc\u9589\u548c\u958b\u555f\u5e7e\u500b\u9031\u671f\u3002\u5982\u679cWRITE_FILE\u53c3\u6578\u88ab\u555f\u7528\uff0c\u90a3\u9ebc\u5c07\u5efa\u7acb\u6a94\u6848/tmp/heattest.txt\uff0c\u5176\u4e2d\u5305\u542b\u6e2c\u8a66\u671f\u9593\u6240\u6709\u6eab\u5ea6\u6a23\u672c\u7684\u65e5\u8a8c\u3002 [pause_resume] \u00b6 \u7576 pause_resume \u914d\u7f6e\u5206\u6bb5 \u88ab\u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a PAUSE \u00b6 PAUSE \uff1a\u66ab\u505c\u7576\u524d\u7684\u5217\u5370\u3002\u76ee\u524d\u7684\u4f4d\u7f6e\u88ab\u5831\u932f\u4ee5\u4fbf\u5728\u6062\u5fa9\u6642\u6062\u5fa9\u3002 RESUME \u00b6 RESUME [VELOCITY=<value>] \uff1a\u5f9e\u66ab\u505c\u4e2d\u6062\u5fa9\u5217\u5370\uff0c\u9996\u5148\u6062\u5fa9\u4ee5\u524d\u4fdd\u6301\u7684\u4f4d\u7f6e\u3002VELOCITY\u53c3\u6578\u6c7a\u5b9a\u4e86\u5de5\u5177\u8fd4\u56de\u5230\u539f\u59cb\u6355\u6349\u4f4d\u7f6e\u7684\u901f\u5ea6\u3002 CLEAR_PAUSE \u00b6 CLEAR_PAUSE :\u6e05\u9664\u76ee\u524d\u7684\u66ab\u505c\u72c0\u614b\u800c\u4e0d\u6062\u5fa9\u5217\u5370\u3002\u5982\u679c\u4e00\u500b\u4eba\u6c7a\u5b9a\u5728\u66ab\u505c\u540e\u53d6\u6d88\u5217\u5370\uff0c\u9019\u5f88\u6709\u7528\u3002\u5efa\u8b70\u5c07\u5176\u65b0\u589e\u5230\u4f60\u7684\u555f\u52d5\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u4ee5\u78ba\u4fdd\u6bcf\u6b21\u5217\u5370\u6642\u7684\u66ab\u505c\u72c0\u614b\u662f\u65b0\u7684\u3002 CANCEL_PRINT \u00b6 CANCEL_PRINT \uff1a\u53d6\u6d88\u76ee\u524d\u7684\u5217\u5370\u3002 [probe] \u00b6 \u7576\u555f\u7528 probe config section \u6216 bltouch config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 probe calibrate guide \uff09\u3002 PROBE \u00b6 PROBE [PROBE_SPEED=<mm/s>] [LIFT_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] [SAMPLES_TOLERANCE=<mm>] [SAMPLES_TOLERANCE_RETRIES=<count>] [SAMPLES_RESULT=median|average] \uff1a\u5411\u4e0b\u79fb\u52d5\u5674\u5634\u76f4\u5230\u63a2\u91dd\u89f8\u767c\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4efb\u4f55\u53ef\u9078\u53c3\u6578\uff0c\u5b83\u5011\u5c07\u8986\u84cb probe config section \u4e2d\u7684\u7b49\u6548\u8a2d\u5b9a\u3002 QUERY_PROBE \u00b6 QUERY_PROBE :\u5831\u544a\u63a2\u91dd\u7684\u7576\u524d\u72c0\u614b\uff08\"triggered\"\u6216 \"open\"\uff09\u3002 PROBE_ACCURACY \u00b6 PROBE_ACCURACY [PROBE_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] \uff1a\u8a08\u7b97\u591a\u500b\u63a2\u91dd\u6a23\u672c\u7684\u6700\u5927\u3001\u6700\u5c0f\u3001\u5e73\u5747\u3001\u4e2d\u4f4d\u6578\u548c\u6a19\u6e96\u504f\u5dee\u3002\u9810\u8a2d\u60c5\u6cc1\u4e0b\u91c7\u6a2310\u6b21\u3002\u5426\u5247\u53ef\u9078\u53c3\u6578\u9810\u8a2d\u70ba\u63a2\u91dd\u914d\u7f6e\u90e8\u5206\u7684\u540c\u7b49\u8a2d\u5b9a\u3002 PROBE_CALIBRATE \u00b6 PROBE_CALIBRATE [SPEED=<speed>] [<probe_parameter>=<value>] :\u57f7\u884c\u4e00\u500b\u5c0d\u6821\u6e96\u6e2c\u982d\u7684z_offset\u6709\u7528\u7684\u8f14\u52a9\u6307\u4ee4\u78bc\u3002\u6709\u95dc\u53ef\u9078\u6e2c\u982d\u53c3\u6578\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898bPROBE\u547d\u4ee4\u3002\u53c3\u898bMANUAL_PROBE\u547d\u4ee4\uff0c\u77ad\u89e3SPEED\u53c3\u6578\u548c\u5de5\u5177\u555f\u7528\u6642\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8a73\u7d30\u8cc7\u8a0a\u3002\u8acb\u6ce8\u610f\uff0cPROBE_CALIBRATE\u547d\u4ee4\u4f7f\u7528\u901f\u5ea6\u8b8a\u6578\u5728XY\u65b9\u5411\u4ee5\u53caZ\u65b9\u5411\u4e0a\u79fb\u52d5\u3002 Z_OFFSET_APPLY_PROBE \u00b6 Z_OFFSET_APPLY_PROBE \uff1a\u5c07\u76ee\u524d\u7684Z \u7684 G \u7a0b\u5f0f\u78bc\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u5f9e probe \u7684 z_offset \u4e2d\u6e1b\u53bb\u3002\u8a72\u547d\u4ee4\u5c07\u6301\u4e45\u5316\u4e00\u500b\u5e38\u7528babystepping \u5fae\u8abf\u503c\u3002\u9700\u8981\u57f7\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002 [query_adc] \u00b6 The query_adc module is automatically loaded. QUERY_ADC \u00b6 QUERY_ADC [NAME=<config_name>] [PULLUP=<value>] \uff1a\u8fd4\u56de\u70ba\u914d\u7f6e\u7684\u6a21\u64ec\u5f15\u8173\u6536\u5230\u7684\u6700\u5f8c\u4e00\u500b\u6a21\u64ec\u503c\u3002\u5982\u679cNAME\u6c92\u6709\u88ab\u63d0\u4f9b\uff0c\u5c07\u5831\u544a\u53ef\u7528\u7684adc\u540d\u7a31\u5217\u8868\u3002\u5982\u679c\u63d0\u4f9b\u4e86PULLUP\uff08\u4ee5\u6b50\u59c6\u70ba\u55ae\u4f4d\u7684\u6578\u503c\uff09\uff0c\u5c07\u6703\u8fd4\u56de\u539f\u59cb\u6a21\u64ec\u503c\u548c\u7d66\u5b9a\u7684\u7b49\u6548\u96fb\u963b\u3002 [query_endstops] \u00b6 \u6a21\u7d44query_endstops\u5df2\u81ea\u52d5\u8f09\u5165\u3002\u76ee\u524d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u6a19\u6e96 G-Code\u547d\u4ee4\uff0c\u4f46\u4e0d\u5efa\u8b70\u4f7f\u7528\u5b83\u5011\uff1a \u7372\u53d6\u9650\u4f4d\u72c0\u614b\uff1a M119 (\u4f7f\u7528QUERY_ENDSTOPS\u4ee3\u66ff) QUERY_ENDSTOPS \u00b6 QUERY_ENDSTOPS \uff1a\u6aa2\u6e2c\u9650\u4f4d\u4e26\u8fd4\u56de\u9650\u4f4d\u662f\u5426\u88ab \"triggered\"\u6216\u8655\u65bc\"open\"\u3002\u8a72\u547d\u4ee4\u901a\u5e38\u7528\u65bc\u9a57\u8b49\u4e00\u500b\u9650\u4f4d\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002 [resonance_tester] \u00b6 \u7576\u555f\u7528 resonance_tester config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 measuring resonances guide \uff09\u3002 MEASURE_AXES_NOISE \u00b6 MEASURE_AXES_NOISE \uff1a\u6e2c\u91cf\u4e26\u8f38\u51fa\u6240\u6709\u555f\u7528\u7684\u52a0\u901f\u5ea6\u8a08\u6676\u7247\u7684\u6240\u6709\u8ef8\u7684\u566a\u8072\u3002 TEST_RESONANCES \u00b6 TEST_RESONANCES AXIS=<axis> OUTPUT=<resonances,raw_data> [NAME=<name>] [FREQ_START=<min_freq>] [FREQ_END=<max_freq>] [HZ_PER_SEC=<hz_per_sec>] [CHIPS=<adxl345_chip_name>] [POINT=x,y,z] [INPUT_SHAPING=[<0:1>]] : Runs the resonance test in all configured probe points for the requested \"axis\" and measures the acceleration using the accelerometer chips configured for the respective axis. \"axis\" can either be X or Y, or specify an arbitrary direction as AXIS=dx,dy , where dx and dy are floating point numbers defining a direction vector (e.g. AXIS=X , AXIS=Y , or AXIS=1,-1 to define a diagonal direction). Note that AXIS=dx,dy and AXIS=-dx,-dy is equivalent. adxl345_chip_name can be one or more configured adxl345 chip,delimited with comma, for example CHIPS=\"adxl345, adxl345 rpi\" . Note that adxl345 can be omitted from named adxl345 chips. If POINT is specified it will override the point(s) configured in [resonance_tester] . If INPUT_SHAPING=0 or not set(default), disables input shaping for the resonance testing, because it is not valid to run the resonance testing with the input shaper enabled. OUTPUT parameter is a comma-separated list of which outputs will be written. If raw_data is requested, then the raw accelerometer data is written into a file or a series of files /tmp/raw_data_<axis>_[<chip_name>_][<point>_]<name>.csv with ( <point>_ part of the name generated only if more than 1 probe point is configured or POINT is specified). If resonances is specified, the frequency response is calculated (across all probe points) and written into /tmp/resonances_<axis>_<name>.csv file. If unset, OUTPUT defaults to resonances , and NAME defaults to the current time in \"YYYYMMDD_HHMMSS\" format. SHAPER_CALIBRATE \u00b6 SHAPER_CALIBRATE [AXIS=<\u8ef8>] [NAME=<\u540d\u7a31>] [FREQ_START=<\u6700\u5c0f\u983b\u7387>] [FREQ_END=<\u6700\u5927\u983b\u7387>] [HZ_PER_SEC=<hz_per_sec>] [MAX_SMOOTHING=<max_smoothing>] \uff1a\u985e\u4f3c TEST_RESONANCES \uff0c\u8a72\u547d\u4ee4\u6309\u914d\u7f6e\u57f7\u884c\u5171\u632f\u6e2c\u8a66\u4e26\u5617\u8a66\u5c0b\u627e\u7d66\u5b9a\u8ef8\u6700\u4f73\u7684\u8f38\u5165\u6574\u5f62\u53c3\u6578\u3002\u5982\u679c\u6c92\u6709\u9078\u64c7 AXIS \uff0c\u5247\u6e2c\u91cfX\u548cY\u8ef8\u3002\u5982\u679c\u6c92\u6709\u9078\u64c7 MAX_SMOOTHING \uff0c\u6703\u4f7f\u7528 [resonance_tester] \u7684\u9810\u8a2d\u53c3\u6578\u3002\u6709\u95dc\u8a72\u7279\u6027\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8a73\u898b\u5171\u632f\u91cf\u6e2c\u91cf\u6307\u5357\u4e2d\u7684 \u6700\u5927\u5e73\u6ed1 \u7ae0\u7bc0\u3002\u6e2c\u8a66\u7d50\u679c\u6703\u88ab\u8f38\u51fa\u5230\u7d42\u7aef\uff0c\u800c\u983b\u97ff\u548c\u4e0d\u540c\u8f38\u5165\u6574\u5f62\u5668\u7684\u53c3\u6578\u5c07\u88ab\u5beb\u5165\u5230\u4e00\u500b\u6216\u591a\u500b CSV \u6a94\u6848\u4e2d\u3002\u5b83\u5011\u7684\u540d\u7a31\u662f /tmp/calibration_data_<\u8ef8>_<\u540d\u7a31>.csv \u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\uff0c\u540d\u7a31\u9810\u8a2d\u70ba\u300cYYYYMMDD_HHMMSS\u300d\u683c\u5f0f\u7684\u7576\u524d\u6642\u9593\u3002\u6ce8\u610f\uff0c\u53ef\u4ee5\u901a\u904e\u8acb\u6c42 SAVE_CONFIG \u547d\u4ee4\u5c07\u63a8\u85a6\u7684\u8f38\u5165\u6574\u5f62\u5668\u53c3\u6578\u76f4\u63a5\u5132\u5b58\u5230\u914d\u7f6e\u6a94\u6848\u4e2d\u3002 [respond] \u00b6 \u7576\u555f\u7528 respond config section \u6642\uff0c\u4ee5\u4e0b\u6a19\u6e96 G-Code \u547d\u4ee4\u53ef\u7528\uff1a M118 <message> \uff1a\u56de\u986f\u914d\u7f6e\u4e86\u9810\u8a2d\u5b57\u9996\u7684\u8cc7\u8a0a\uff08\u5982\u679c\u6c92\u6709\u914d\u7f6e\u5b57\u9996\uff0c\u5247\u8fd4\u56de echo: \uff09\u3002 \u9084\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u984d\u5916\u547d\u4ee4. RESPOND \u00b6 RESPOND MSG=\"<message>\" \uff1a\u56de\u986f\u5e36\u6709\u914d\u7f6e\u7684\u9810\u8a2d\u5b57\u9996\u7684\u8a0a\u606f\uff08\u6c92\u6709\u914d\u7f6e\u5b57\u9996\u5247\u9810\u8a2d echo: \u70ba\u5b57\u9996 \uff09\u3002 RESPOND TYPE=echo MSG=\"<\u8a0a\u606f>\" \uff1a\u56de\u986f echo: \u958b\u982d\u8a0a\u606f\u3002 RESPOND TYPE=echo_no_space MSG=\"<message>\" : echo the message prepended with echo: without a space between prefix and message, helpful for compatibility with some octoprint plugins that expect very specific formatting. RESPOND TYPE=command MSG=\"<\u8a0a\u606f>\" \uff1a\u56de\u986f\u4ee5 / \u70ba\u5b57\u9996\u7684\u8a0a\u606f\u3002\u53ef\u4ee5\u914d\u7f6e OctoPrint \u5c0d\u9019\u4e9b\u8a0a\u606f\u9032\u884c\u97ff\u61c9\uff08\u4f8b\u5982\uff0c RESPOND TYPE=command MSG=action:pause \uff09\u3002 RESPOND TYPE=error MSG=\"<\u8a0a\u606f>\" \uff1a\u56de\u986f\u4ee5 !! \u958b\u982d\u7684\u8a0a\u606f\u3002 RESPOND PREFIX=<prefix> MSG=\"<message>\" : \u8ff4\u61c9\u4ee5 <prefix> \u70ba\u5b57\u9996\u7684\u8cc7\u8a0a\u3002( PREFIX \u53c3\u6578\u5c07\u512a\u5148\u65bc TYPE \u53c3\u6578) [save_variables] \u00b6 \u5982\u679c\u555f\u7528\u4e86 save_variables config section \uff0c\u5247\u555f\u7528\u4ee5\u4e0b\u547d\u4ee4\u3002 SAVE_VARIABLE \u00b6 SAVE_VARIABLE VARIABLE=<name> VALUE=<value> \uff1a\u5c07\u8b8a\u6578\u5132\u5b58\u5230\u78c1\u789f\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u555f\u52d5\u6642\u4f7f\u7528\u3002\u6240\u6709\u5132\u5b58\u7684\u8b8a\u6578\u90fd\u6703\u5728\u555f\u52d5\u6642\u8f09\u5165\u5230 printer.save_variables.variables \u76ee\u9304\u4e2d\uff0c\u4e26\u53ef\u4ee5\u5728 gcode \u5b8f\u4e2d\u4f7f\u7528\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u6703\u88ab\u89e3\u6790\u70ba\u4e00\u500b Python \u5b57\u9762\u3002 [screws_tilt_adjust] \u00b6 \u7576\u555f\u7528 screws_tilt_adjust config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 [manual level guide](Manual_Level.md#adjusting-bed-leveling-screws-using-the-bed-probe \uff09\uff09\u3002 SCREWS_TILT_CALCULATE \u00b6 SCREWS_TILT_CALCULATE [DIRECTION=CW|CCW] [MAX_DEVIATION=<value>] [<probe_parameter>=<value>] : This command will invoke the bed screws adjustment tool. It will command the nozzle to different locations (as defined in the config file) probing the z height and calculate the number of knob turns to adjust the bed level. If DIRECTION is specified, the knob turns will all be in the same direction, clockwise (CW) or counterclockwise (CCW). See the PROBE command for details on the optional probe parameters. IMPORTANT: You MUST always do a G28 before using this command. If MAX_DEVIATION is specified, the command will raise a gcode error if any difference in the screw height relative to the base screw height is greater than the value provided. [sdcard_loop] \u00b6 \u7576 sdcard_loop config section \u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u64f4\u5c55\u547d\u4ee4\u53ef\u7528\u3002 SDCARD_LOOP_BEGIN \u00b6 SDCARD_LOOP_BEGIN COUNT=<count> \uff1aSD \u5217\u5370\u4e2d\u958b\u59cb\u5faa\u74b0\u7684\u90e8\u5206\u3002\u8a08\u6578\u70ba0\u8868\u793a\u8a72\u90e8\u5206\u61c9\u7121\u9650\u671f\u5730\u5faa\u74b0\u3002 SDCARD_LOOP_END \u00b6 SDCARD_LOOP_END \uff1a\u7d50\u675fSD\u5217\u5370\u4e2d\u7684\u4e00\u500b\u5faa\u74b0\u90e8\u5206\u3002 SDCARD_LOOP_DESIST \u00b6 SDCARD_LOOP_DESIST \uff1a\u5b8c\u6210\u73fe\u6709\u7684\u5faa\u74b0\uff0c\u4e0d\u518d\u7e7c\u7e8c\u8fed\u4ee3\u3002 [servo] \u00b6 \u7576\u555f\u7528 servo config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 SET_SERVO \u00b6 SET_SERVO SERVO=\u914d\u7f6e\u540d [ANGLE=<\u89d2\u5ea6> | WIDTH=<\u79d2>] \uff1a\u5c07\u8235\u6a5f\u4f4d\u7f6e\u8a2d\u5b9a\u70ba\u7d66\u5b9a\u7684\u89d2\u5ea6\uff08\u5ea6\uff09\u6216\u8108\u885d\u5bec\u5ea6\uff08\u79d2\uff09\u3002\u4f7f\u7528 WIDTH=0 \u4f86\u7981\u7528\u8235\u6a5f\u8f38\u51fa\u3002 [skew_correction] \u00b6 \u7576\u555f\u7528 skew_correction config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 Skew Correction \u6307\u5357\uff09\u3002 SET_SKEW \u00b6 SET_SKEW [XY=<ac_length,bd_length,ad_length>] [XZ=<ac,bd,ad>] [YZ=<ac,bd,ad>] [CLEAR=<0|1>] \uff1a\u7528\u5f9e\u6821\u6e96\u5217\u5370\u4e2d\u6e2c\u91cf\u7684\u6578\u64da\uff08\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\uff09\u914d\u7f6e [skew_correction] \u6a21\u7d44\u3002\u53ef\u4ee5\u8f38\u5165\u4efb\u4f55\u7d44\u5408\u7684\u5e73\u9762\uff0c\u6c92\u6709\u65b0\u8f38\u5165\u7684\u5e73\u9762\u5c07\u4fdd\u6301\u5b83\u5011\u539f\u6709\u7684\u6578\u503c\u3002\u5982\u679c\u50b3\u5165 CLEAR=1 \uff0c\u5247\u5168\u90e8\u504f\u659c\u6821\u6b63\u5c07\u88ab\u7981\u7528\u3002 GET_CURRENT_SKEW \u00b6 GET_CURRENT_SKEW :\u4ee5\u5f27\u5ea6\u548c\u5ea6\u6578\u5831\u544a\u6bcf\u500b\u5e73\u9762\u7684\u7576\u524d\u5370\u8868\u6a5f\u504f\u79fb\u3002\u659c\u5ea6\u662f\u6839\u64da\u901a\u904e SET_SKEW \u7a0b\u5f0f\u78bc\u63d0\u4f9b\u7684\u53c3\u6578\u8a08\u7b97\u7684\u3002 CALC_MEASURED_SKEW \u00b6 CALC_MEASURED_SKEW [AC=<ac \u9577\u5ea6>] [BD=<bd \u9577\u5ea6>] [AD=<ad \u9577\u5ea6>] \uff1a\u8a08\u7b97\u4e26\u5831\u544a\u57fa\u65bc\u4e00\u500b\u5217\u5370\u4ef6\u6e2c\u91cf\u7684\u504f\u659c\u5ea6\uff08\u4ee5\u5f27\u5ea6\u548c\u89d2\u5ea6\u70ba\u55ae\u4f4d\uff09\u3002\u5b83\u53ef\u4ee5\u7528\u4f86\u9a57\u8b49\u61c9\u7528\u6821\u6b63\u5f8c\u5370\u8868\u6a5f\u7684\u7576\u524d\u504f\u659c\u5ea6\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u4f86\u78ba\u5b9a\u662f\u5426\u6709\u5fc5\u8981\u9032\u884c\u504f\u659c\u77ef\u6b63\u3002\u6709\u95dc\u504f\u659c\u77ef\u6b63\u5217\u5370\u6a21\u578b\u548c\u6e2c\u91cf\u65b9\u6cd5\u8a73\u898b \u504f\u659c\u6821\u6b63\u6587\u4ef6 \u3002 SKEW_PROFILE \u00b6 SKEW_PROFILE [LOAD=<\u540d\u7a31>] [SAVE=<\u540d\u7a31>] [REMOVE=<\u540d\u7a31>] \uff1askew_correction \u914d\u7f6e\u7ba1\u7406\u547d\u4ee4\u3002 LOAD \u5c07\u5f9e\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u8f09\u5165\u504f\u659c\u72c0\u614b\u3002 SAVE \u6703\u5c07\u76ee\u524d\u504f\u659c\u72c0\u614b\u5132\u5b58\u5230\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u3002 REMOVE \u5c07\u5f9e\u6301\u4e45\u8a18\u61b6\u9ad4\u4e2d\u522a\u9664\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u5339\u914d\u7684\u914d\u7f6e\u3002\u8acb\u6ce8\u610f\uff0c\u5728\u57f7\u884c SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u9808\u57f7\u884c SAVE_CONFIG G\u7a0b\u5f0f\u78bc\u624d\u80fd\u5132\u5b58\u66f4\u6539\u3002 [smart_effector] \u00b6 Several commands are available when a smart_effector config section is enabled. Be sure to check the official documentation for the Smart Effector on the Duet3D Wiki before changing the Smart Effector parameters. Also check the probe calibration guide . SET_SMART_EFFECTOR \u00b6 SET_SMART_EFFECTOR [SENSITIVITY=<sensitivity>] [ACCEL=<accel>] [RECOVERY_TIME=<time>] : Set the Smart Effector parameters. When SENSITIVITY is specified, the respective value is written to the SmartEffector EEPROM (requires control_pin to be provided). Acceptable <sensitivity> values are 0..255, the default is 50. Lower values require less nozzle contact force to trigger (but there is a higher risk of false triggering due to vibrations during probing), and higher values reduce false triggering (but require larger contact force to trigger). Since the sensitivity is written to EEPROM, it is preserved after the shutdown, and so it does not need to be configured on every printer startup. ACCEL and RECOVERY_TIME allow to override the corresponding parameters at run-time, see the config section of Smart Effector for more info on those parameters. RESET_SMART_EFFECTOR \u00b6 RESET_SMART_EFFECTOR : Resets Smart Effector sensitivity to its factory settings. Requires control_pin to be provided in the config section. [stepper_enable] \u00b6 \u6a21\u7d44stepper_enable\u5df2\u81ea\u52d5\u8f09\u5165. SET_STEPPER_ENABLE \u00b6 SET_STEPPER_ENABLE STEPPER=<\u914d\u7f6e\u540d> ENABLE=[0|1] \u3002\u555f\u7528\u6216\u7981\u7528\u6307\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u3002\u9019\u662f\u4e00\u500b\u8a3a\u65b7\u548c\u9664\u932f\u5de5\u5177\uff0c\u5fc5\u9808\u8b39\u614e\u4f7f\u7528\u3002\u56e0\u70ba\u7981\u7528\u4e00\u500b\u8ef8\u96fb\u6a5f\u4e0d\u6703\u91cd\u7f6e\u6b78\u4f4d\u8cc7\u8a0a\uff0c\u624b\u52d5\u79fb\u52d5\u4e00\u500b\u88ab\u7981\u7528\u7684\u6b65\u9032\u53ef\u80fd\u6703\u5c0e\u81f4\u6a5f\u5668\u5728\u5b89\u5168\u9650\u503c\u5916\u64cd\u4f5c\u96fb\u6a5f\u3002\u9019\u53ef\u80fd\u5c0e\u81f4\u8ef8\u7d50\u69cb\u3001\u71b1\u7aef\u548c\u5217\u5370\u4ef6\u7684\u640d\u58de\u3002 [temperature_fan] \u00b6 \u7576\u555f\u7528 temperature_fan config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 SET_TEMPERATURE_FAN_TARGET \u00b6 SET_TEMPERATURE_FAN_TARGET temperature_fan=<temperature_fan_\u540d\u7a31> [target=<\u76ee\u6a19\u6eab\u5ea6>] [min_speed=<\u6700\u5c0f\u901f\u5ea6>] [max_speed=<\u6700\u5927\u901f\u5ea6>] \uff1a\u8a2d\u5b9a\u4e00\u500b\u6eab\u5ea6\u63a7\u5236\u98a8\u6247\u7684\u76ee\u6a19\u6eab\u5ea6\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9b\u76ee\u6a19\u6eab\u5ea6\uff0c\u5b83\u5c07\u88ab\u8a2d\u70ba\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u6eab\u5ea6\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9b\u901f\u5ea6\uff0c\u5247\u4e0d\u6703\u9032\u884c\u4efb\u4f55\u66f4\u6539\u3002 [tmcXXXX] \u00b6 \u7576\u555f\u7528\u4efb\u4f55 tmcXXXX config sections \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 DUMP_TMC \u00b6 DUMP_TMC STEPPER=<name> \u3002\u8a72\u547d\u4ee4\u5c07\u8b80\u53d6TMC\u9a45\u52d5\u66ab\u5b58\u5668\u4e26\u5831\u544a\u5176\u503c\u3002 INIT_TMC \u00b6 INIT_TMC STEPPER=<\u540d\u7a31> \uff1a\u6b64\u547d\u4ee4\u5c07\u521d\u59cb\u5316 TMC \u66ab\u5b58\u5668\u3002\u5982\u679c\u6676\u7247\u7684\u96fb\u6e90\u95dc\u9589\u7136\u5f8c\u91cd\u65b0\u6253\u958b\uff0c\u5247\u9700\u8981\u91cd\u65b0\u555f\u7528\u8a72\u9a45\u52d5\u3002 SET_TMC_CURRENT \u00b6 SET_TMC_CURRENT STEPPER=<\u540d\u7a31> CURRENT=<\u5b89\u57f9> HOLDCURRENT=<\u5b89\u57f9> \uff1a\u8a72\u547d\u4ee4\u4fee\u6539TMC\u9a45\u52d5\u7684\u57f7\u884c\u548c\u4fdd\u6301\u96fb\u6d41\uff08HOLDCURRENT \u5728 tmc2660 \u9a45\u52d5\u4e0a\u4e0d\u8d77\u6548\uff09\u3002 SET_TMC_FIELD \u00b6 SET_TMC_FIELD STEPPER=<\u540d\u7a31> FIELD=<\u6b04\u4f4d> VALUE=<\u503c> \uff1a\u9019\u5c07\u4fee\u6539\u6307\u5b9a TMC \u6b65\u9032\u9a45\u52d5\u66ab\u5b58\u5668\u6b04\u4f4d\u7684\u503c\u3002\u8a72\u547d\u4ee4\u50c5\u9069\u7528\u65bc\u4f4e\u968e\u5225\u7684\u8a3a\u65b7\u548c\u9664\u932f\uff0c\u56e0\u70ba\u5728\u57f7\u884c\u671f\u9593\u6539\u8b8a\u6b04\u4f4d\u53ef\u80fd\u6703\u5c0e\u81f4\u5370\u8868\u6a5f\u51fa\u73fe\u4e0d\u7b26\u5408\u9810\u671f\u7684\u3001\u6709\u6f5b\u5728\u5371\u96aa\u7684\u884c\u70ba\u3002\u5e38\u898f\u4fee\u6539\u61c9\u7576\u901a\u904e\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u9032\u884c\u3002\u8a72\u547d\u4ee4\u4e0d\u6703\u5c0d\u7d66\u5b9a\u7684\u503c\u9032\u884c\u8d8a\u754c\u6aa2\u67e5\u3002 [toolhead] \u00b6 \u6a21\u7d44toolhead\u5df2\u81ea\u52d5\u8f09\u5165. SET_VELOCITY_LIMIT \u00b6 SET_VELOCITY_LIMIT [VELOCITY=<\u503c>] [ACCEL=<\u503c>] [ACCEL_TO_DECEL=<\u503c>] [SQUARE_CORNER_VELOCITY=<\u503c>] \uff1a\u4fee\u6539\u5370\u8868\u6a5f\u901f\u5ea6\u9650\u5236\u3002 [tuning_tower] \u00b6 \u6a21\u7d44 tuning_tower\u5df2\u81ea\u52d5\u8f09\u5165. TUNING_TOWER \u00b6 TUNING_TOWER COMMAND=<\u547d\u4ee4> PARAMETER=<\u540d\u7a31> START=<\u503c> [SKIP=<\u503c>] [FACTOR=<\u503c> [BAND=<\u503c>]] | [STEP_DELTA=<\u503c> STEP_HEIGHT=<\u503c>] \uff1a\u6839\u64daZ\u9ad8\u5ea6\u8abf\u6574\u53c3\u6578\u7684\u5de5\u5177\u3002\u8a72\u5de5\u5177\u5c07\u5b9a\u671f\u57f7\u884c\u4e00\u500b PARAMETER \u4e0d\u65b7\u6839\u64da Z \u7684\u516c\u5f0f\u8b8a\u5316\u7684 COMMAND \uff08\u547d\u4ee4\uff09\u3002\u5982\u679c\u4f7f\u7528\u4e00\u628a\u5c3a\u5b50\u6216\u8005\u904a\u6a19\u5361\u5c3a\u6e2c\u91cf Z\u4f86\u7372\u5f97\u6700\u4f73\u503c\uff0c\u4f60\u53ef\u4ee5\u7528 FACTOR \u3002\u5982\u679c\u5217\u5370\u4ef6\u5e36\u6709\u5e36\u72c0\u6a19\u8b58\u6216\u8005\u4f7f\u7528\u96e2\u6563\u6578\u503c\uff08\u4f8b\u5982\u6eab\u5ea6\u5854\uff09\uff0c\u53ef\u4ee5\u7528 STEP_DELTA \u548c STEP_HEIGHT \u3002\u5982\u679c SKIP=<\u503c> \u88ab\u5b9a\u7fa9\uff0c\u5247\u8abf\u6574\u96bb\u6703\u5728\u5230\u9054 Z \u9ad8\u5ea6 <\u503c> \u540e\u624d\u958b\u59cb\u3002\u5728\u6b64\u4e4b\u524d\uff0c\u53c3\u6578\u6703\u88ab\u8a2d\u5b9a\u70ba START \uff1b\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u4e0b\u9762\u516c\u5f0f\u4e2d z_height \u7528 max(z - skip, 0) \u66ff\u4ee3\u3002\u9019\u4e9b\u9078\u9805\u6709\u4e09\u7a2e\u4e0d\u540c\u7684\u7d44\u5408\uff1a FACTOR \uff1a\u6578\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u901f\u5ea6\u8b8a\u5316\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * z_height \u3002\u4f60\u53ef\u4ee5\u5c07\u6700\u4f73\u7684 Z \u9ad8\u5ea6\u76f4\u63a5\u63d2\u5165\u8a72\u516c\u5f0f\uff0c\u4ee5\u78ba\u5b9a\u6700\u4f73\u7684\u53c3\u6578\u503c\u3002 FACTOR \u548c BAND \uff1a\u8a72\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u5e73\u5747\u901f\u5ea6\u8b8a\u5316\uff0c\u4f46\u5728\u96e2\u6563\u7684\u74b0\u4e0a\uff0c\u6bcf BAND \u6beb\u7c73\u7684Z\u9ad8\u5ea6\u624d\u6703\u9032\u884c\u8abf\u6574\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * ((floor(z_height / band) + .5) * band) \u3002 STEP_DELTA \u548c STEP_HEIGHT \uff1a\u503c\u6bcf STEP_HEIGHT \u6beb\u7c73\u8b8a\u5316 STEP_DELTA \u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + step_delta * floor(z_height / step_height) \u3002\u60a8\u53ef\u4ee5\u7c21\u55ae\u5730\u8a08\u7b97\u983b\u6bb5\u6216\u95b1\u8b80\u8abf\u8ae7\u5854\u6a19\u7c64\u4ee5\u78ba\u5b9a\u6700\u4f73\u503c\u3002 [virtual_sdcard] \u00b6 \u5982\u679c\u555f\u7528\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5 \uff0cKlipper \u652f\u63f4\u4ee5\u4e0b\u6a19\u6e96 G-Code \u547d\u4ee4\uff1a \u5217\u51faSD\u5361\uff1a M20 \u521d\u59cb\u5316SD\u5361\uff1a M21 \u9078\u64c7SD\u5361\u6a94\u6848\uff1a M23 <filename> \u958b\u59cb/\u66ab\u505c SD \u5361\u5217\u5370\uff1a M24 \u66ab\u505c SD \u5361\u5217\u5370\uff1a M25 \u8a2d\u5b9a SD \u584a\u4f4d\u7f6e\uff1a M26 S<\u504f\u79fb> \u5831\u544aSD\u5361\u5217\u5370\u72c0\u614b\uff1a M27 \u6b64\u5916\uff0c\u7576\u555f\u7528\"virtual_sdcard\"\u914d\u7f6e\u5206\u6bb5\u6642\uff0c\u4ee5\u4e0b\u64f4\u5145\u5957\u4ef6\u547d\u4ee4\u53ef\u7528\u3002 SDCARD_PRINT_FILE \u00b6 SDCARD_PRINT_FILE FILENAME=<\u6a94\u540d> \uff1a\u8f09\u5165\u4e00\u500b\u6a94\u6848\u4e26\u958b\u59cb SD \u5217\u5370. SDCARD_RESET_FILE \u00b6 SDCARD_RESET_FILE \uff1a\u89e3\u9664\u5b89\u88dd\u6a94\u6848\u4e26\u6e05\u9664SD\u72c0\u614b\u3002 [z_tilt] \u00b6 \u7576\u555f\u7528 z_tilt config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 Z_TILT_ADJUST \u00b6 Z_TILT_ADJUST [<probe_\u53c3\u6578>=<\u503c>] \uff1a\u8a72\u547d\u4ee4\u5c07\u63a2\u6e2c\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u5ea7\u6a19\u4e26\u5c0d\u6bcf\u500bZ\u6b65\u9032\u96fb\u6a5f\u9032\u884c\u7368\u7acb\u7684\u8abf\u6574\u4ee5\u62b5\u6d88\u50be\u659c\u3002\u6709\u95dc\u53ef\u9078\u7684\u63a2\u91dd\u53c3\u6578\uff0c\u8a73\u898b PROBE \u547d\u4ee4\u3002","title":"G-Codes"},{"location":"G-Codes.html#g-codes","text":"\u672c\u6587\u4ef6\u63cf\u8ff0\u4e86 Klipper \u652f\u63f4\u7684\u547d\u4ee4\u3002\u9019\u4e9b\u547d\u4ee4\u53ef\u4ee5\u8f38\u5165\u5230 OctoPrint \u7d42\u7aef\u4e2d\u3002","title":"G-Codes"},{"location":"G-Codes.html#g","text":"Klipper\u652f\u63f4\u4ee5\u4e0b\u6a19\u6e96\u7684G-Code\u547d\u4ee4\uff1a \u79fb\u52d5 (G0 or G1): G1 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] \u505c\u7559\u6642\u9593\uff1a G4 P<milliseconds> \u8fd4\u56de\u539f\u9ede\uff1a G28 [X] [Y] [Z] \u95dc\u9589\u6b65\u9032\u96fb\u6a5f\uff1a M18 \u6216 M84 \u7b49\u5f85\u76ee\u524d\u79fb\u52d5\u5b8c\u6210\uff1a M400 \u4f7f\u7528\u7d55\u5c0d/\u76f8\u5c0d\u64e0\u51fa\u8ddd\u96e2\uff1a M82 \uff0c M83 \u4f7f\u7528\u7d55\u5c0d/\u76f8\u5c0d\u5ea7\u6a19\uff1a G90 , G91 \u8a2d\u5b9a\u5ea7\u6a19\uff1a G92 [X<\u5ea7\u6a19>] [Y<\u5ea7\u6a19>] [Z<\u5ea7\u6a19>] [E<\u5ea7\u6a19>] \u8a2d\u5b9a\u901f\u5ea6\u56e0\u5b50\u8986\u5beb\u767e\u5206\u6bd4\uff1a M220 S<\u767e\u5206\u6bd4> \u8a2d\u5b9a\u64e0\u58d3\u56e0\u5b50\u8986\u84cb\u767e\u5206\u6bd4\uff1a M221 S<percent> \u8a2d\u5b9a\u52a0\u901f\u5ea6\uff1a M204 S<value> \u6216 M204 P<value> T<value> \u6ce8\u610f\uff1a\u5982\u679c\u6c92\u6709\u6307\u5b9aS\uff0c\u540c\u6642\u6307\u5b9a\u4e86P\u548cT\uff0c\u90a3\u9ebc\u52a0\u901f\u5ea6\u5c07\u88ab\u8a2d\u5b9a\u70baP\u548cT\u4e2d\u7684\u6700\u5c0f\u503c\u3002 \u7372\u53d6\u64e0\u51fa\u6a5f\u6eab\u5ea6\uff1a M105 \u8a2d\u5b9a\u64e0\u51fa\u6a5f\u6eab\u5ea6\uff1a M104 [T<index>] [S<temperature>] \u8a2d\u5b9a\u64e0\u51fa\u6a5f\u6eab\u5ea6\u4e26\u7b49\u5f85\uff1a M109 [T<index>] S<temperature> \u6ce8\u610f\uff1aM109\u7e3d\u662f\u7b49\u5f85\u6eab\u5ea6\u7a69\u5b9a\u5728\u8acb\u6c42\u7684\u6578\u503c\u4e0a \u8a2d\u5b9a\u71b1\u5e8a\u6eab\u5ea6\uff1a M140 [S<temperature>] \u8a2d\u5b9a\u71b1\u5e8a\u6eab\u5ea6\u4e26\u4e14\u7b49\u5f85\uff1a M190 S<temperature> \u6ce8\u610f\uff1aM190\u7e3d\u662f\u7b49\u5f85\u6eab\u5ea6\u7a69\u5b9a\u5728\u8acb\u6c42\u7684\u6578\u503c\u4e0a \u8a2d\u5b9a\u98a8\u6247\u901f\u5ea6\uff1a M106 S<value> \u505c\u6b62\u98a8\u6247\uff1a M107 \u7dca\u6025\u505c\u6b62\uff1a M112 \u7372\u53d6\u76ee\u524d\u4f4d\u7f6e\uff1a M114 \u7372\u53d6\u97cc\u9ad4\u7248\u672c\uff1a M115 \u6709\u95dc\u4e0a\u8ff0\u547d\u4ee4\u7684\u66f4\u591a\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 RepRap G-Code documentation Klipper's goal is to support the G-Code commands produced by common 3rd party software (eg, OctoPrint, Printrun, Slic3r, Cura, etc.) in their standard configurations. It is not a goal to support every possible G-Code command. Instead, Klipper prefers human readable \"extended G-Code commands\" . Similarly, the G-Code terminal output is only intended to be human readable - see the API Server document if controlling Klipper from external software. \u5982\u679c\u4e00\u500b\u4eba\u9700\u8981\u4e00\u500b\u4e0d\u592a\u5e38\u898b\u7684G-Code\u547d\u4ee4\uff0c\u90a3\u9ebc\u53ef\u4ee5\u7528\u4e00\u500b\u81ea\u5b9a\u7fa9\u7684 gcode_macro config section \u4f86\u5be6\u73fe\u5b83\u3002\u4f8b\u5982\uff0c\u6211\u5011\u53ef\u4ee5\u7528\u9019\u500b\u4f86\u5be6\u73fe\u3002 G12 , G29 , G30 , G31 , M42 , M80 , M81 , T1 \uff0cetc.","title":"G\u7a0b\u5f0f\u78bc\u547d\u4ee4"},{"location":"G-Codes.html#_1","text":"Klipper\u4f7f\u7528 \"extended\" \u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u4f86\u9032\u884c\u4e00\u822c\u7684\u914d\u7f6e\u548c\u72c0\u614b\u3002\u9019\u4e9b\u64f4\u5145\u5957\u4ef6\u547d\u4ee4\u90fd\u9075\u5faa\u4e00\u500b\u985e\u4f3c\u7684\u683c\u5f0f--\u5b83\u5011\u4ee5\u4e00\u500b\u547d\u4ee4\u540d\u958b\u59cb\uff0c\u5f8c\u9762\u53ef\u80fd\u6709\u4e00\u500b\u6216\u591a\u500b\u53c3\u6578\u3002\u6bd4\u5982\u8aaa\uff1a SET_SERVO SERVO=myservo ANGLE=5.3 \u3002\u5728\u672c\u6a94\u6848\u4e2d\uff0c\u547d\u4ee4\u548c\u53c3\u6578\u4ee5\u5927\u5beb\u5b57\u6bcd\u986f\u793a\uff0c\u4f46\u5b83\u5011\u4e0d\u5206\u5927\u5c0f\u5beb\u3002(\u6240\u4ee5\uff0c\"SET_SERVO \"\u548c \"set_servo \"\u90fd\u662f\u57f7\u884c\u540c\u4e00\u500b\u547d\u4ee4\uff09 This section is organized by Klipper module name, which generally follows the section names specified in the printer configuration file . Note that some modules are automatically loaded.","title":"\u5176\u4ed6\u547d\u4ee4"},{"location":"G-Codes.html#adxl345","text":"\u7576 adxl345\u914d\u7f6e\u5206\u6bb5 \u88ab\u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528.","title":"[adxl345]"},{"location":"G-Codes.html#accelerometer_measure","text":"ACCELEROMETER_MEASURE [CHIP=<config_name>] [NAME=<value>] \u3002\u4ee5\u8981\u6c42\u7684\u6bcf\u79d2\u63a1\u6a23\u6578\u555f\u52d5\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aCHIP\uff0c\u5247\u9810\u8a2d\u70ba \"adxl345\"\u3002\u8a72\u547d\u4ee4\u4ee5\u555f\u52d5-\u505c\u6b62\u6a21\u5f0f\u5de5\u4f5c\uff1a\u7b2c\u4e00\u6b21\u57f7\u884c\u6642\uff0c\u5b83\u958b\u59cb\u6e2c\u91cf\uff0c\u4e0b\u6b21\u57f7\u884c\u6642\u505c\u6b62\u6e2c\u91cf\u3002\u6e2c\u91cf\u7d50\u679c\u88ab\u5beb\u5165\u4e00\u500b\u540d\u70ba /tmp/adxl345-<chip>-<name>\u7684\u6a94\u6848\u4e2d\u3002csv \uff0c\u5176\u4e2d <chip> \u662f\u52a0\u901f\u5ea6\u8a08\u6676\u7247\u7684\u540d\u7a31\uff08 my_chip_name \u4f86\u81ea [adxl345 my_chip_name] \uff09\uff0c <name> \u662f\u53ef\u9078NAME\u53c3\u6578\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aNAME\uff0c\u5247\u9810\u8a2d\u70ba\u76ee\u524d\u6642\u9593\uff0c\u683c\u5f0f\u70ba \"YYYMMDD_HHMMSS\"\u3002\u5982\u679c\u52a0\u901f\u5ea6\u8a08\u5728\u5176\u914d\u7f6e\u90e8\u5206\u6c92\u6709\u540d\u7a31\uff08\u53ea\u662f [adxl345] \uff09\uff0c\u90a3\u9ebc <chip > \u90e8\u5206\u7684\u540d\u7a31\u5c31\u4e0d\u6703\u7522\u751f\u3002","title":"ACCELEROMETER_MEASURE"},{"location":"G-Codes.html#accelerometer_query","text":"ACCELEROMETER_QUERY [CHIP=<config_name>] [RATE=<value>] : \u67e5\u8a62\u52a0\u901f\u5ea6\u8a08\u7684\u7576\u524d\u503c\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\u6676\u7247\uff0c\u5247\u9810\u8a2d\u70ba \"adxl345\"\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aRATE\uff0c\u5247\u4f7f\u7528\u9810\u8a2d\u503c\u3002\u8a72\u547d\u4ee4\u5c0d\u65bc\u6e2c\u8a66\u8207ADXL345\u52a0\u901f\u5ea6\u8a08\u7684\u9023\u7dda\u975e\u5e38\u6709\u7528\uff1a\u8fd4\u56de\u7684\u6578\u503c\u4e4b\u4e00\u61c9\u8a72\u662f\u81ea\u7531\u843d\u9ad4\u52a0\u901f\u5ea6\uff08+/-\u6676\u7247\u7684\u4e00\u4e9b\u566a\u8072\uff09\u3002","title":"ACCELEROMETER_QUERY"},{"location":"G-Codes.html#accelerometer_debug_read","text":"ACCELEROMETER_DEBUG_READ [CHIP=<\u914d\u7f6e\u540d>] REG=<\u66ab\u5b58\u5668> \uff1a\u67e5\u8a62ADXL345\u7684\u66ab\u5b58\u5668\"REG\"\uff08\u4f8b\u598244\u62160x2C\uff09\u3002\u53ef\u4ee5\u7528\u65bcdebug\u3002","title":"ACCELEROMETER_DEBUG_READ"},{"location":"G-Codes.html#accelerometer_debug_write","text":"ACCELEROMETER_DEBUG_WRITE [CHIP=<\u914d\u7f6e\u540d>] REG=<\u66ab\u5b58\u5668> VAL=<\u503c> \uff1a\u5c07\u539f\u59cb\u7684\"\u503c\"\u5beb\u9032\u66ab\u5b58\u5668\"\u66ab\u5b58\u5668\"\u3002\"\u503c\"\u548c\"\u66ab\u5b58\u5668\"\u90fd\u53ef\u4ee5\u662f\u4e00\u500b\u5341\u9032\u5236\u6216\u5341\u516d\u9032\u5236\u7684\u6574\u6578\u3002\u8acb\u8b39\u614e\u4f7f\u7528\uff0c\u4e26\u53c3\u8003 ADXL345 \u6578\u64da\u624b\u518a\u3002","title":"ACCELEROMETER_DEBUG_WRITE"},{"location":"G-Codes.html#angle","text":"The following commands are available when an angle config section is enabled.","title":"[angle]"},{"location":"G-Codes.html#angle_calibrate","text":"ANGLE_CALIBRATE CHIP=<chip_name> : Perform angle calibration on the given sensor (there must be an [angle chip_name] config section that has specified a stepper parameter). IMPORTANT - this tool will command the stepper motor to move without checking the normal kinematic boundary limits. Ideally the motor should be disconnected from any printer carriage before performing calibration. If the stepper can not be disconnected from the printer, make sure the carriage is near the center of its rail before starting calibration. (The stepper motor may move forwards or backwards two full rotations during this test.) After completing this test use the SAVE_CONFIG command to save the calibration data to the config file. In order to use this tool the Python \"numpy\" package must be installed (see the measuring resonance document for more information).","title":"ANGLE_CALIBRATE"},{"location":"G-Codes.html#angle_debug_read","text":"ANGLE_DEBUG_READ CHIP=<config_name> REG=<register> : Queries sensor register \"register\" (e.g. 44 or 0x2C). Can be useful for debugging purposes. This is only available for tle5012b chips.","title":"ANGLE_DEBUG_READ"},{"location":"G-Codes.html#angle_debug_write","text":"ANGLE_DEBUG_WRITE CHIP=<config_name> REG=<register> VAL=<value> : Writes raw \"value\" into register \"register\". Both \"value\" and \"register\" can be a decimal or a hexadecimal integer. Use with care, and refer to sensor data sheet for the reference. This is only available for tle5012b chips.","title":"ANGLE_DEBUG_WRITE"},{"location":"G-Codes.html#bed_mesh","text":"\u7576\u555f\u7528 bed_mesh config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 bed mesh guide \uff09\u3002","title":"[bed_mesh]"},{"location":"G-Codes.html#bed_mesh_calibrate","text":"BED_MESH_CALIBRATE [METHOD=manual] [<probe_parameter>=<value>] [<mesh_parameter>=<value>] : \u6b64\u547d\u4ee4\u4f7f\u7528\u901a\u904e\u914d\u7f6e\u53c3\u6578\u6307\u5b9a\u4e26\u7522\u751f\u7684\u63a2\u6e2c\u9ede\u63a2\u6e2c\u5217\u5370\u5e8a\u3002\u5728\u63a2\u6e2c\u540e\uff0c\u4e00\u500b\u7db2\u683c\u5c07\u88ab\u7522\u751f\uff0cz \u8ef8\u79fb\u52d5\u5c07\u6839\u64da\u7db2\u683c\u8abf\u6574\u3002\u6709\u95dc\u53ef\u9078\u63a2\u6e2c\u53c3\u6578\uff0c\u8acb\u898b PROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9a METHOD=manual \uff0c\u5247\u6703\u555f\u52d5\u624b\u52d5\u63a2\u6e2c\u5de5\u5177 - \u6709\u95dc\u6b64\u5de5\u5177\u6d3b\u8e8d\u6642\u53ef\u7528\u7684\u984d\u5916\u547d\u4ee4\uff0c\u8a73\u898b MANUAL_PROBE \u547d\u4ee4\u3002","title":"BED_MESH_CALIBRATE"},{"location":"G-Codes.html#bed_mesh_output","text":"BED_MESH_OUTPUT PGP=[<0:1>] \uff1a\u8a72\u547d\u4ee4\u5c07\u76ee\u524d\u63a2\u6e2c\u5230\u7684 Z \u503c\u548c\u76ee\u524d\u7db2\u683c\u7684\u503c\u8f38\u51fa\u5230\u7d42\u7aef\u3002\u5982\u679c\u6307\u5b9a PGP=1\uff0c\u5247\u5c07bed_mesh\u7522\u751f\u7684X\u3001Y\u5ea7\u6a19\uff0c\u4ee5\u53ca\u5b83\u5011\u95dc\u806f\u7684\u6307\u6578\uff0c\u8f38\u51fa\u5230\u7d42\u7aef\u3002","title":"BED_MESH_OUTPUT"},{"location":"G-Codes.html#bed_mesh_map","text":"BED_MESH_MAP \uff1a\u985e\u4f3c BED_MESH_OUTPUT\uff0c\u9019\u500b\u547d\u4ee4\u5728\u7d42\u7aef\u4e2d\u986f\u793a\u7db2\u683c\u7684\u7576\u524d\u72c0\u614b\u3002\u5b83\u4e0d\u4ee5\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\u5217\u5370\uff0c\u800c\u662f\u88ab\u5e8f\u5217\u5316\u70ba json \u683c\u5f0f\u3002\u9019\u5141\u8a31 Octoprint \u5916\u639b\u6355\u7372\u6578\u64da\u4e26\u7522\u751f\u63cf\u7e6a\u5217\u5370\u5e8a\u8868\u9762\u7684\u9ad8\u5ea6\u5716\u3002","title":"BED_MESH_MAP"},{"location":"G-Codes.html#bed_mesh_clear","text":"BED_MESH_CLEAR \uff1a\u6b64\u547d\u4ee4\u6e05\u9664\u5e8a\u7db2\u4e26\u79fb\u9664\u6240\u6709 z \u8abf\u6574\u3002\u5efa\u8b70\u628a\u5b83\u653e\u5728\u4f60\u7684 end-gcode \uff08\u7d50\u675fG\u7a0b\u5f0f\u78bc\uff09\u4e2d\u3002","title":"BED_MESH_CLEAR"},{"location":"G-Codes.html#bed_mesh_profile","text":"BED_MESH_PROFILE LOAD=<\u540d\u7a31> SAVE=<\u540d\u7a31> REMOVE=<\u540d\u7a31> \uff1a\u6b64\u547d\u4ee4\u63d0\u4f9b\u4e86\u7db2\u5e8a\u914d\u7f6e\u7ba1\u7406\u529f\u80fd\u3002LOAD \u5c07\u5f9e\u8207\u6240\u63d0\u4f9b\u7684\u540d\u7a31\u76f8\u7b26\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\u6062\u5fa9\u7db2\u683c\u72c0\u614b\u3002SAVE \u5c07\u6703\u628a\u76ee\u524d\u7684\u7db2\u683c\u72c0\u614b\u5132\u5b58\u5230\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u76f8\u7b26\u7684\u914d\u7f6e\u6a94\u6848\u4e2d\u3002REMOVE\uff08\u79fb\u9664\uff09\u5c07\u5f9e\u6c38\u7e8c\u6027\u8a18\u61b6\u9ad4\u4e2d\u522a\u9664\u8207\u6240\u63d0\u4f9b\u540d\u7a31\u76f8\u7b26\u7684\u914d\u7f6e\u6a94\u6848\u3002\u8acb\u6ce8\u610f\uff0c\u5728 SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u9808\u767c\u9001SAVE_CONFIG G\u7a0b\u5f0f\u78bc\uff0c\u4ee5\u5132\u5b58\u8b8a\u66f4\u5230\u6c38\u7e8c\u6027\u8a18\u61b6\u9ad4\u3002","title":"BED_MESH_PROFILE"},{"location":"G-Codes.html#bed_mesh_offset","text":"BED_MESH_OFFSET [X=<value>] [Y=<value>] \u3002\u5c07X\u548c/\u6216Y\u7684\u504f\u79fb\u91cf\u61c9\u7528\u65bc\u7db2\u683c\u67e5\u8a62\u3002\u9019\u5c0d\u5177\u6709\u591a\u500b\u7368\u7acb\u64e0\u51fa\u982d\u7684\u5370\u8868\u6a5f\u5f88\u6709\u7528\uff0c\u56e0\u70ba\u504f\u79fb\u91cf\u5c0d\u5207\u63db\u5de5\u5177\u982d\u540e\u7522\u751f\u6b63\u78ba\u7684 Z \u503c\u8abf\u6574\u662f\u81f3\u95dc\u91cd\u8981\u7684\u3002","title":"BED_MESH_OFFSET"},{"location":"G-Codes.html#bed_screws","text":"\u7576\u555f\u7528 bed_screws config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 manual level guide \uff09\u3002","title":"[bed_screws]"},{"location":"G-Codes.html#bed_screws_adjust","text":"BED_SCREWS_ADJUST \uff1a\u8a72\u547d\u4ee4\u5c07\u547c\u53eb\u5217\u5370\u5e8a\u87ba\u7d72\u8abf\u6574\u5de5\u5177\u3002\u5b83\u5c07\u547d\u4ee4\u5674\u5634\u79fb\u52d5\u5230\u4e0d\u540c\u7684\u4f4d\u7f6e\uff08\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\uff09\uff0c\u4e26\u5141\u8a31\u5c0d\u5217\u5370\u5e8a\u87ba\u7d72\u9032\u884c\u624b\u52d5\u8abf\u6574\uff0c\u4f7f\u5217\u5370\u5e8a\u8207\u5674\u5634\u7684\u8ddd\u96e2\u4fdd\u6301\u4e0d\u8b8a\u3002","title":"BED_SCREWS_ADJUST"},{"location":"G-Codes.html#bed_tilt","text":"\u7576\u555f\u7528 bed_tilt config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[bed_tilt]"},{"location":"G-Codes.html#bed_tilt_calibrate","text":"BED_TILT_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u8a72\u547d\u4ee4\u5c07\u63a2\u6e2c\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u9ede\uff0c\u7136\u5f8c\u5efa\u8b70\u66f4\u65b0X\u548cY\u7684\u50be\u659c\u8abf\u6574\u3002\u6709\u95dc\u53ef\u9078\u63a2\u6e2c\u53c3\u6578\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898bPROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u9ebc\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u5c31\u6703\u88ab\u555f\u7528 - \u95dc\u65bc\u8a72\u5de5\u5177\u555f\u7528\u6642\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\uff0c\u8acb\u53c3\u898b\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002","title":"BED_TILT_CALIBRATE"},{"location":"G-Codes.html#bltouch","text":"\u7576\u555f\u7528 bltouch config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 BL-Touch guide \uff09\u3002","title":"[bltouch]"},{"location":"G-Codes.html#bltouch_debug","text":"BLTOUCH_DEBUG COMMAND=<\u547d\u4ee4> \uff1a\u5411BLTouch\u767c\u9001\u4e00\u500b\u6307\u5b9a\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u7528\u65bc\u9664\u932f\u3002\u53ef\u7528\u7684\u547d\u4ee4\u6709\uff1a pin_down \u3001 touch_mode \u3001 pin_up \u3001 self_test \u548c reset \u3002BL-TOUCH V3.0 \u6216 V3.1 \u4e5f\u53ef\u80fd\u652f\u63f4 set_5V_output_mode \u3001 set_OD_output_mode \u548c output_mode_store \u547d\u4ee4\u3002","title":"BLTOUCH_DEBUG"},{"location":"G-Codes.html#bltouch_store","text":"BLTOUCH_STORE MODE=<output_mode> :\u9019\u5c07\u5728BLTouch V3.1\u7684EEPROM\u4e2d\u5132\u5b58\u4e00\u500b\u8f38\u51fa\u6a21\u5f0f \u53ef\u7528\u7684\u8f38\u51fa\u6a21\u5f0f\u6709 5V , OD","title":"BLTOUCH_STORE"},{"location":"G-Codes.html#configfile","text":"\u6a21\u7d44configfile\u5df2\u81ea\u52d5\u8f09\u5165.","title":"[configfile]"},{"location":"G-Codes.html#save_config","text":"SAVE_CONFIG \uff1a\u8a72\u547d\u4ee4\u5c07\u8986\u84cb\u5370\u8868\u6a5f\u7684\u4e3b\u914d\u7f6e\u6a94\u6848\uff0c\u4e26\u91cd\u65b0\u555f\u52d5\u4e3b\u6a5f\u8edf\u9ad4\u3002\u8a72\u547d\u4ee4\u8207\u5176\u4ed6\u6821\u6e96\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u65bc\u5132\u5b58\u6821\u6e96\u6e2c\u8a66\u7684\u7d50\u679c\u3002","title":"SAVE_CONFIG"},{"location":"G-Codes.html#delayed_gcode","text":"\u5982\u679c\u555f\u7528\u4e86 delayed_gcode config section \uff0c\u5247\u555f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff08\u53e6\u8acb\u53c3\u95b1 template guide \uff09\u3002","title":"[delayed_gcode]"},{"location":"G-Codes.html#update_delayed_gcode","text":"UPDATE_DELAYED_GCODE [ID=<\u540d\u7a31>] [DURATION=<\u79d2>] \uff1a\u66f4\u65b0\u76ee\u6a19 [delayed_gcode] \u7684\u5ef6\u9072\u4e26\u555f\u52d5G\u7a0b\u5f0f\u78bc\u57f7\u884c\u7684\u8a08\u6642\u5668\u3002\u70ba0\u7684\u503c\u6703\u53d6\u6d88\u6e96\u5099\u57f7\u884c\u7684\u5ef6\u9072G\u7a0b\u5f0f\u78bc\u3002","title":"UPDATE_DELAYED_GCODE"},{"location":"G-Codes.html#delta_calibrate","text":"\u7576\u555f\u7528 delta_calibrate config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u898b delta calibrate guide \uff09\u3002","title":"[delta_calibrate]"},{"location":"G-Codes.html#delta_calibrate_1","text":"DELTA_CALIBRATE [Method=manual] [<probe_parameter>=<value>] :\u9019\u689d\u547d\u4ee4\u5c07\u63a2\u6e2c\u5e8a\u8eab\u7684\u4e03\u500b\u9ede\uff0c\u4e26\u5efa\u8b70\u66f4\u65b0\u9650\u4f4d\u4f4d\u7f6e\u3001\u5854\u67b6\u89d2\u5ea6\u548c\u534a\u5f91\u3002\u6709\u95dc\u53ef\u9078\u63a2\u6e2c\u53c3\u6578\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898bPROBE\u547d\u4ee4\u3002\u5982\u679c\u6307\u5b9aMETHOD=manual\uff0c\u90a3\u9ebc\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u5c07\u88ab\u555f\u7528 - \u95dc\u65bc\u8a72\u5de5\u5177\u555f\u7528\u6642\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898b\u4e0a\u9762\u7684MANUAL_PROBE\u547d\u4ee4\u3002","title":"DELTA_CALIBRATE"},{"location":"G-Codes.html#delta_analyze","text":"DELTA_ANALYZE :\u9019\u500b\u547d\u4ee4\u5728\u589e\u5f37\u7684delta\u6821\u6e96\u904e\u7a0b\u4e2d\u4f7f\u7528\u3002\u8a73\u60c5\u898b Delta Calibrate \u3002","title":"DELTA_ANALYZE"},{"location":"G-Codes.html#display","text":"\u7576\u555f\u7528 display config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[display]"},{"location":"G-Codes.html#set_display_group","text":"SET_DISPLAY_GROUP [DISPLAY=<display>] GROUP=<group> :\u8a2d\u5b9a\u4e00\u500blcd\u986f\u793a\u5668\u7684\u6d3b\u52d5\u986f\u793a\u7d44\u3002\u9019\u5141\u8a31\u5728\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u591a\u500b\u986f\u793a\u6578\u64da\u7d44\uff0c\u4f8b\u5982 [display_data <group> <elementname>] \u4e26\u4f7f\u7528\u9019\u500b\u64f4\u5145\u5957\u4ef6\u7684gcode\u547d\u4ee4\u5728\u5b83\u5011\u4e4b\u9593\u5207\u63db\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9aDISPLAY\uff0c\u5247\u9810\u8a2d\u70ba \"display\"\uff08\u4e3b\u986f\u793a\uff09\u3002","title":"SET_DISPLAY_GROUP"},{"location":"G-Codes.html#display_status","text":"\u5982\u679c\u555f\u7528\u4e86 display config section \uff0c\u5247\u6703\u81ea\u52d5\u8f09\u5165 display_status \u6a21\u584a\u3002\u5b83\u63d0\u4f9b\u4ee5\u4e0b\u6a19\u6e96 G-Code\u547d\u4ee4\uff1a \u986f\u793a\u8cc7\u8a0a\uff1a M117 <message> \u8a2d\u5b9a\u69cb\u5efa\u767e\u5206\u6bd4\uff1a M73 P<percent> Also provided is the following extended G-Code command: SET_DISPLAY_TEXT MSG=<message> : Performs the equivalent of M117, setting the supplied MSG as the current display message. If MSG is omitted the display will be cleared.","title":"[display_status]"},{"location":"G-Codes.html#dual_carriage","text":"\u7576\u555f\u7528 dual_carriage config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[dual_carriage]"},{"location":"G-Codes.html#set_dual_carriage","text":"SET_DUAL_CARRIAGE CARRIAGE=[0|1] :\u8a72\u547d\u4ee4\u5c07\u8a2d\u5b9a\u6d3b\u52d5\u7684\u6ed1\u584a\u3002\u5b83\u901a\u5e38\u662f\u5728\u4e00\u500b\u591a\u64e0\u51fa\u6a5f\u914d\u7f6e\u4e2d\u5f9e activate_gcode\u548cdeactivate_gcode\u6b04\u4f4d\u547c\u53eb\u3002","title":"SET_DUAL_CARRIAGE"},{"location":"G-Codes.html#endstop_phase","text":"\u7576\u555f\u7528 endstop_phase config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 endstop phase guide \uff09\u3002","title":"[endstop_phase]"},{"location":"G-Codes.html#endstop_phase_calibrate","text":"ENDSTOP_PHASE_CALIBRATE [STEPPER=<config_name>] \u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9bSTEPPER\u53c3\u6578\uff0c\u90a3\u9ebc\u8a72\u547d\u4ee4\u5c07\u5831\u544a\u5728\u904e\u53bb\u7684\u6b78\u4f4d\u64cd\u4f5c\u4e2d\u5c0d\u7aef\u505c\u6b65\u9032\u76f8\u7684\u7d71\u8a08\u3002\u7576\u63d0\u4f9bSTEPPER\u53c3\u6578\u6642\uff0c\u5b83\u6703\u5b89\u6392\u5c07\u7d66\u5b9a\u7684\u7d42\u9ede\u7ad9\u76f8\u4f4d\u8a2d\u5b9a\u5beb\u5165\u914d\u7f6e\u6a94\u6848\u4e2d\uff08\u8207SAVE_CONFIG\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff09\u3002","title":"ENDSTOP_PHASE_CALIBRATE"},{"location":"G-Codes.html#exclude_object","text":"The following commands are available when an exclude_object config section is enabled (also see the exclude object guide ):","title":"[exclude_object]"},{"location":"G-Codes.html#exclude_object_1","text":"EXCLUDE_OBJECT [NAME=object_name] [CURRENT=1] [RESET=1] : With no parameters, this will return a list of all currently excluded objects. When the NAME parameter is given, the named object will be excluded from printing. When the CURRENT parameter is given, the current object will be excluded from printing. When the RESET parameter is given, the list of excluded objects will be cleared. Additionally including NAME will only reset the named object. This can cause print failures, if layers were already skipped.","title":"EXCLUDE_OBJECT"},{"location":"G-Codes.html#exclude_object_define","text":"EXCLUDE_OBJECT_DEFINE [NAME=object_name [CENTER=X,Y] [POLYGON=[[x,y],...]] [RESET=1] [JSON=1] : Provides a summary of an object in the file. With no parameters provided, this will list the defined objects known to Klipper. Returns a list of strings, unless the JSON parameter is given, when it will return object details in json format. When the NAME parameter is included, this defines an object to be excluded. NAME : This parameter is required. It is the identifier used by other commands in this module. CENTER : An X,Y coordinate for the object. POLYGON : An array of X,Y coordinates that provide an outline for the object. When the RESET parameter is provided, all defined objects will be cleared, and the [exclude_object] module will be reset.","title":"EXCLUDE_OBJECT_DEFINE"},{"location":"G-Codes.html#exclude_object_start","text":"EXCLUDE_OBJECT_START NAME=object_name : This command takes a NAME parameter and denotes the start of the gcode for an object on the current layer.","title":"EXCLUDE_OBJECT_START"},{"location":"G-Codes.html#exclude_object_end","text":"EXCLUDE_OBJECT_END [NAME=object_name] : Denotes the end of the object's gcode for the layer. It is paired with EXCLUDE_OBJECT_START . A NAME parameter is optional, and will only warn when the provided name does not match the current object.","title":"EXCLUDE_OBJECT_END"},{"location":"G-Codes.html#extruder","text":"\u5982\u679c\u555f\u7528\u4e86 extruder config section \uff0c\u5247\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[extruder]"},{"location":"G-Codes.html#activate_extruder","text":"ACTIVATE_EXTRUDER EXTRUDER=<config_name> : In a printer with multiple extruder config sections, this command changes the active hotend.","title":"ACTIVATE_EXTRUDER"},{"location":"G-Codes.html#set_pressure_advance","text":"SET_PRESSURE_ADVANCE [EXTRUDER=<config_name>] [ADVANCE=<pressure_advance>] [SMOOTH_TIME=<pressure_advance_smooth_time>] : Set pressure advance parameters of an extruder stepper (as defined in an extruder or extruder_stepper config section). If EXTRUDER is not specified, it defaults to the stepper defined in the active hotend.","title":"SET_PRESSURE_ADVANCE"},{"location":"G-Codes.html#set_extruder_rotation_distance","text":"SET_EXTRUDER_ROTATION_DISTANCE EXTRUDER=<config_name> [DISTANCE=<distance>] : Set a new value for the provided extruder stepper's \"rotation distance\" (as defined in an extruder or extruder_stepper config section). If the rotation distance is a negative number then the stepper motion will be inverted (relative to the stepper direction specified in the config file). Changed settings are not retained on Klipper reset. Use with caution as small changes can result in excessive pressure between extruder and hotend. Do proper calibration with filament before use. If 'DISTANCE' value is not provided then this command will return the current rotation distance.","title":"SET_EXTRUDER_ROTATION_DISTANCE"},{"location":"G-Codes.html#sync_extruder_motion","text":"SYNC_EXTRUDER_MOTION EXTRUDER=<name> MOTION_QUEUE=<name> : This command will cause the stepper specified by EXTRUDER (as defined in an extruder or extruder_stepper config section) to become synchronized to the movement of an extruder specified by MOTION_QUEUE (as defined in an extruder config section). If MOTION_QUEUE is an empty string then the stepper will be desynchronized from all extruder movement.","title":"SYNC_EXTRUDER_MOTION"},{"location":"G-Codes.html#set_extruder_step_distance","text":"\u6b64\u547d\u4ee4\u5df2\u68c4\u7528\uff0c\u4e26\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u522a\u9664\u3002","title":"SET_EXTRUDER_STEP_DISTANCE"},{"location":"G-Codes.html#sync_stepper_to_extruder","text":"\u6b64\u547d\u4ee4\u5df2\u68c4\u7528\uff0c\u4e26\u5c07\u5728\u4e0d\u4e45\u7684\u5c07\u4f86\u88ab\u522a\u9664\u3002","title":"SYNC_STEPPER_TO_EXTRUDER"},{"location":"G-Codes.html#fan_generic","text":"\u7576\u555f\u7528 fan_generic config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[fan_generic]"},{"location":"G-Codes.html#set_fan_speed","text":"SET_FAN_SPEED FAN=config_name SPEED=<\u901f\u5ea6> \u8a72\u547d\u4ee4\u8a2d\u5b9a\u98a8\u6247\u7684\u901f\u5ea6\u3002\"\u901f\u5ea6\" \u5fc5\u9808\u57280.0\u52301.0\u4e4b\u9593\u3002","title":"SET_FAN_SPEED"},{"location":"G-Codes.html#filament_switch_sensor","text":"\u7576\u555f\u7528 filament_switch_sensor \u6216 filament_motion_sensor \u914d\u7f6e\u90e8\u5206\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[filament_switch_sensor]"},{"location":"G-Codes.html#query_filament_sensor","text":"QUERY_FILAMENT_SENSOR SENSOR=<\u611f\u6e2c\u5668\u540d> \uff1a\u67e5\u8a62\u8017\u6750\u611f\u6e2c\u5668\u7684\u7576\u524d\u72c0\u614b\u3002\u5728\u7d42\u7aef\u4e2d\u986f\u793a\u7684\u6578\u64da\u5c07\u53d6\u6c7a\u65bc\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u7684\u611f\u6e2c\u5668\u578b\u5225\u3002","title":"QUERY_FILAMENT_SENSOR"},{"location":"G-Codes.html#set_filament_sensor","text":"SET_FILAMENT_SENSOR SENSOR=<sensor_name> ENABLE=[0|1] \uff1a\u8a2d\u5b9a\u71c8\u7d72\u611f\u6e2c\u5668\u7684\u958b/\u95dc\u3002\u5982\u679c ENABLE \u8a2d\u5b9a\u70ba 0\uff0c\u8017\u6750\u611f\u6e2c\u5668\u5c07\u88ab\u7981\u7528\uff0c\u5982\u679c\u8a2d\u5b9a\u70ba 1\u662f\u555f\u7528\u3002","title":"SET_FILAMENT_SENSOR"},{"location":"G-Codes.html#firmware_retraction","text":"\u7576\u555f\u7528 firmware_retraction config section \u6642\uff0c\u4ee5\u4e0b\u6a19\u6e96 G-Code\u547d\u4ee4\u53ef\u7528\u3002\u9019\u4e9b\u547d\u4ee4\u5141\u8a31\u60a8\u5229\u7528\u8a31\u591a\u5207\u7247\u6a5f\u4e2d\u53ef\u7528\u7684\u56fa\u4ef6\u56de\u7e2e\u529f\u80fd\uff0c\u4ee5\u6e1b\u5c11\u5f9e\u6253\u5370\u4ef6\u7684\u4e00\u500b\u90e8\u5206\u5230\u53e6\u4e00\u90e8\u5206\u7684\u975e\u64e0\u51fa\u79fb\u52d5\u671f\u9593\u7684\u62c9\u7d72\u3002\u9069\u7576\u914d\u7f6e\u58d3\u529b\u63d0\u524d\u53ef\u6e1b\u5c11\u6240\u9700\u7684\u56de\u7e2e\u9577\u5ea6\u3002 G10 \uff1a\u4f7f\u7528\u76ee\u524d\u914d\u7f6e\u7684\u53c3\u6578\u56de\u62bd\u64e0\u51fa\u6a5f\u3002 G11 \uff1a\u4e0d\u4f7f\u7528\u76ee\u524d\u914d\u7f6e\u7684\u53c3\u6578\u56de\u62bd\u64e0\u51fa\u6a5f\u3002 \u9084\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u984d\u5916\u547d\u4ee4.","title":"[firmware_retraction]"},{"location":"G-Codes.html#set_retraction","text":"SET_RETRACTION [RETRACT_LENGTH=<\u6beb\u7c73>] [RETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] [UNRETRACT_EXTRA_LENGTH=<\u6beb\u7c73>] [UNRETRACT_SPEED=<\u6beb\u7c73\u6bcf\u79d2>] \uff1a\u8abf\u6574\u97cc\u9ad4\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c3\u6578\u3002RETRACT_LENGTH \u6c7a\u5b9a\u56de\u62bd\u548c\u56de\u586b\u7684\u8017\u6750\u9577\u5ea6\u3002\u56de\u62bd\u7684\u901f\u5ea6\u901a\u904e RETRACT_SPEED \u8abf\u6574\uff0c\u901a\u5e38\u8a2d\u5b9a\u5f97\u6bd4\u8f03\u9ad8\u3002\u56de\u586b\u7684\u901f\u5ea6\u901a\u904e UNRETRACT_SPEED \u8abf\u6574\uff0c\u96d6\u7136\u7d93\u5e38\u6bd4RETRACT_SPEED \u4f4e\uff0c\u4f46\u4e0d\u662f\u7279\u5225\u91cd\u8981\u3002\u5728\u67d0\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u5728\u56de\u586b\u6642\u589e\u52a0\u5c11\u91cf\u7684\u984d\u5916\u9577\u5ea6\u7684\u8017\u6750\u53ef\u80fd\u6709\u76ca\uff0c\u9019\u53ef\u4ee5\u901a\u904e UNRETRACT_EXTRA_LENGTH \u8a2d\u5b9a\u3002SET_RETRACTION \u901a\u5e38\u4f5c\u70ba\u5207\u7247\u6a5f\u8017\u6750\u914d\u7f6e\u7684\u4e00\u90e8\u5206\u4f86\u8a2d\u5b9a\uff0c\u56e0\u70ba\u4e0d\u540c\u7684\u8017\u6750\u9700\u8981\u4e0d\u540c\u7684\u53c3\u6578\u8a2d\u5b9a\u3002","title":"SET_RETRACTION"},{"location":"G-Codes.html#get_retraction","text":"GET_RETRACTION :\u67e5\u8a62\u76ee\u524d\u97cc\u9ad4\u56de\u62bd\u6240\u4f7f\u7528\u7684\u53c3\u6578\u4e26\u5728\u7d42\u7aef\u986f\u793a\u3002","title":"GET_RETRACTION"},{"location":"G-Codes.html#force_move","text":"The force_move module is automatically loaded, however some commands require setting enable_force_move in the printer config .","title":"[force_move]"},{"location":"G-Codes.html#stepper_buzz","text":"STEPPER_BUZZ STEPPER=<\u914d\u7f6e\u540d> \uff1a\u79fb\u52d5\u6307\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u524d\u5f8c\u904b\u52d5\u4e00\u6beb\u7c73\uff0c\u91cd\u8907\u768410\u6b21\u3002\u9019\u662f\u4e00\u500b\u7528\u65bc\u9a57\u8b49\u6b65\u9032\u96fb\u6a5f\u63a5\u7dda\u7684\u5de5\u5177.","title":"STEPPER_BUZZ"},{"location":"G-Codes.html#force_move_1","text":"FORCE_MOVE STEPPER=<config_name> DISTANCE=<value> VELOCITY=<value> [ACCEL=<value>] \u3002\u8a72\u547d\u4ee4\u5c07\u4ee5\u7d66\u5b9a\u7684\u6052\u5b9a\u901f\u5ea6\uff08mm/s\uff09\u5f37\u5236\u79fb\u52d5\u7d66\u5b9a\u7684\u6b65\u9032\u5668\uff0c\u79fb\u52d5\u8ddd\u96e2\uff08mm\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86ACCEL\u4e26\u4e14\u5927\u65bc\u96f6\uff0c\u90a3\u9ebc\u5c07\u4f7f\u7528\u7d66\u5b9a\u7684\u52a0\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s^2\uff09\uff1b\u5426\u5247\u4e0d\u9032\u884c\u52a0\u901f\u3002\u4e0d\u57f7\u884c\u908a\u754c\u6aa2\u67e5\uff1b\u4e0d\u9032\u884c\u904b\u52d5\u5b78\u66f4\u65b0\uff1b\u4e00\u500b\u8ef8\u4e0a\u7684\u5176\u4ed6\u5e73\u884c\u6b65\u9032\u5668\u5c07\u4e0d\u6703\u88ab\u79fb\u52d5\u3002\u8acb\u8b39\u614e\u4f7f\u7528\uff0c\u56e0\u70ba\u4e0d\u6b63\u78ba\u7684\u547d\u4ee4\u53ef\u80fd\u6703\u5c0e\u81f4\u640d\u58de\u4f7f\u7528\u8a72\u547d\u4ee4\u5e7e\u4e4e\u80af\u5b9a\u6703\u4f7f\u4f4e\u968e\u904b\u52d5\u5b78\u8655\u65bc\u4e0d\u6b63\u78ba\u7684\u72c0\u614b\uff1b\u96a8\u5f8c\u767c\u51faG28\u547d\u4ee4\u4ee5\u91cd\u7f6e\u904b\u52d5\u5b78\u3002\u8a72\u547d\u4ee4\u7528\u65bc\u4f4e\u968e\u5225\u7684\u8a3a\u65b7\u548c\u9664\u932f\u3002","title":"FORCE_MOVE"},{"location":"G-Codes.html#set_kinematic_position","text":"SET_KINEMATIC_POSITION [X=<\u503c>] [Y=<\u503c>] [Z=<\u503c>] \uff1a\u5f37\u5236\u8a2d\u5b9a\u4f4e\u968e\u904b\u52d5\u5b78\u7a0b\u5f0f\u78bc\u4f7f\u7528\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u3002\u9019\u662f\u4e00\u500b\u8a3a\u65b7\u548c\u9664\u932f\u5de5\u5177\uff0c\u5e38\u898f\u7684\u8ef8\u8f49\u63db\u61c9\u8a72\u4f7f\u7528 SET_GCODE_OFFSET \u548c/\u6216 G92\u6307\u4ee4\u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\u4e00\u500b\u8ef8\uff0c\u5247\u4f7f\u7528\u4e0a\u4e00\u6b21\u547d\u4ee4\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u3002\u8a2d\u5b9a\u4e00\u500b\u4e0d\u5408\u7406\u7684\u6578\u503c\u53ef\u80fd\u6703\u5c0e\u81f4\u5167\u90e8\u7a0b\u5f0f\u554f\u984c\u3002\u9019\u500b\u547d\u4ee4\u53ef\u80fd\u6703\u4f7f\u908a\u754c\u6aa2\u67e5\u5931\u6548\uff0c\u4f7f\u7528\u540e\u767c\u9001 G28 \u4f86\u91cd\u7f6e\u904b\u52d5\u5b78\u3002","title":"SET_KINEMATIC_POSITION"},{"location":"G-Codes.html#gcode","text":"\u6a21\u7d44gcode module\u5df2\u81ea\u52d5\u8f09\u5165.","title":"[gcode]"},{"location":"G-Codes.html#restart","text":"RESTART \uff1a\u9019\u5c07\u5c0e\u81f4\u4e3b\u6a5f\u8edf\u9ad4\u91cd\u65b0\u8f09\u5165\u5176\u914d\u7f6e\u4e26\u57f7\u884c\u5167\u90e8\u91cd\u7f6e\u3002\u6b64\u547d\u4ee4\u4e0d\u6703\u5f9e\u5fae\u63a7\u5236\u5668\u6e05\u9664\u932f\u8aa4\u72c0\u614b\uff08\u8acb\u53c3\u95b1 FIRMWARE_RESTART\uff09\uff0c\u4e5f\u4e0d\u6703\u8f09\u5165\u65b0\u8edf\u9ad4\uff08\u8acb\u53c3\u95b1 \u5e38\u898b\u554f\u984c \uff09 .","title":"RESTART"},{"location":"G-Codes.html#firmware_restart","text":"FIRMWARE_RESTART \uff1a\u9019\u985e\u4f3c\u65bc\u91cd\u555f\u547d\u4ee4\uff0c\u4f46\u5b83\u4e5f\u6e05\u9664\u4e86\u5fae\u63a7\u5236\u5668\u7684\u4efb\u4f55\u932f\u8aa4\u72c0\u614b\u3002","title":"FIRMWARE_RESTART"},{"location":"G-Codes.html#status","text":"STATUS \uff1a\u5831\u544aKlipper\u4e3b\u6a5f\u7a0b\u5f0f\u7684\u72c0\u614b\u3002","title":"STATUS"},{"location":"G-Codes.html#help","text":"HELP \uff1a\u5831\u544a\u53ef\u7528\u7684\u64f4\u5145\u5957\u4ef6G-Code\u547d\u4ee4\u5217\u8868\u3002","title":"HELP"},{"location":"G-Codes.html#gcode_arcs","text":"\u5982\u679c\u555f\u7528\u4e86 gcode_arcs \u914d\u7f6e\u5206\u6bb5 \uff0c\u4e0b\u5217\u6a19\u6e96G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u53ef\u7528\uff1a \u53d7\u63a7\u5f27\u7dda\u79fb\u52d5\uff08G2\u6216G3\uff09\u3002 G2 [X<pos>] [Y<pos>] [Z<pos>] [E<pos>] [F<speed>] I<value> J<value>","title":"[gcode_arcs]"},{"location":"G-Codes.html#gcode_macro","text":"\u7576\u555f\u7528 gcode_macro config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 command templates guide \uff09\u3002","title":"[gcode_macro]"},{"location":"G-Codes.html#set_gcode_variable","text":"SET_GCODE_VARIABLE MACRO=<macro_name> VARIABLE=<name> VALUE=<value> \uff1a\u9019\u689d\u547d\u4ee4\u5141\u8a31\u4eba\u5011\u5728\u57f7\u884c\u6642\u6539\u8b8a gcode_macro \u8b8a\u6578\u7684\u503c\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u6703\u88ab\u89e3\u6790\u70ba\u4e00\u500b Python \u5b57\u9762\u3002","title":"SET_GCODE_VARIABLE"},{"location":"G-Codes.html#gcode_move","text":"\u6a21\u7d44gcode_move \u5df2\u81ea\u52d5\u8f09\u5165.","title":"[gcode_move]"},{"location":"G-Codes.html#get_position","text":"GET_POSITION : Return information on the current location of the toolhead. See the developer documentation of GET_POSITION output for more information.","title":"GET_POSITION"},{"location":"G-Codes.html#set_gcode_offset","text":"SET_GCODE_OFFSET [X=<pos>|X_ADJUST=<adjust>] [Y=<pos>|Y_ADJUST=<adjust>] [Z=<pos>|Z_ADJUST=<adjust>] [MOVE=1 [MOVE_SPEED=<speed>]] \u3002\u8a2d\u5b9a\u4e00\u500b\u4f4d\u7f6e\u504f\u79fb\uff0c\u4ee5\u61c9\u7528\u65bc\u672a\u4f86\u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002\u9019\u901a\u5e38\u7528\u65bc\u5be6\u969b\u6539\u8b8aZ\u5e8a\u7684\u504f\u79fb\u91cf\u6216\u5728\u5207\u63db\u64e0\u51fa\u6a5f\u6642\u8a2d\u5b9a\u5674\u5634\u7684XY\u504f\u79fb\u91cf\u3002\u4f8b\u5982\uff0c\u5982\u679c\u767c\u9001 \"SET_GCODE_OFFSET Z=0.2\"\uff0c\u90a3\u9ebc\u672a\u4f86\u7684G\u7a0b\u5f0f\u78bc\u79fb\u52d5\u5c07\u5728\u5176Z\u9ad8\u5ea6\u4e0a\u589e\u52a00.2mm\u3002\u5982\u679c\u4f7f\u7528X_ADJUST\u98a8\u683c\u7684\u53c3\u6578\uff0c\u90a3\u9ebc\u8abf\u6574\u5c07\u88ab\u65b0\u589e\u5230\u4efb\u4f55\u73fe\u6709\u7684\u504f\u79fb\u4e0a\uff08\u4f8b\u5982\uff0c\"SET_GCODE_OFFSET Z=-0.2\"\uff0c\u7136\u5f8c\u662f \"SET_GCODE_OFFSET Z_ADJUST=0.3\"\uff0c\u5c07\u5c0e\u81f4\u7e3d\u7684Z\u504f\u79fb\u70ba0.1\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE=1\"\uff0c\u90a3\u9ebc\u5c07\u767c\u51fa\u4e00\u500b\u5de5\u5177\u982d\u79fb\u52d5\u4f86\u61c9\u7528\u7d66\u5b9a\u7684\u504f\u79fb\u91cf\uff08\u5426\u5247\u504f\u79fb\u91cf\u5c07\u5728\u6307\u5b9a\u7d66\u5b9a\u8ef8\u7684\u4e0b\u4e00\u6b21\u7d55\u5c0dG-Code\u79fb\u52d5\u4e2d\u751f\u6548\uff09\u3002\u5982\u679c\u6307\u5b9a\u4e86 \"MOVE_SPEED\"\uff0c\u90a3\u9ebc\u5200\u982d\u79fb\u52d5\u5c07\u4ee5\u7d66\u5b9a\u7684\u901f\u5ea6\uff08mm/s\uff09\u57f7\u884c\uff1b\u5426\u5247\uff0c\u5217\u5370\u982d\u79fb\u52d5\u5c07\u4f7f\u7528\u6700\u5f8c\u6307\u5b9a\u7684G-Code\u901f\u5ea6\u3002","title":"SET_GCODE_OFFSET"},{"location":"G-Codes.html#save_gcode_state","text":"SAVE_GCODE_STATE [NAME=<state_name>] \uff1a\u5132\u5b58\u76ee\u524d\u7684g-code\u5ea7\u6a19\u89e3\u6790\u72c0\u614b\u3002\u5132\u5b58\u548c\u6062\u5fa9g-code\u72c0\u614b\u5728\u6307\u4ee4\u78bc\u548c\u5b8f\u4e2d\u5f88\u6709\u7528\u3002\u8a72\u547d\u4ee4\u5132\u5b58\u76ee\u524dg-code\u7d55\u5c0d\u5ea7\u6a19\u6a21\u5f0f\uff08G90/G91\uff09\u7d55\u5c0d\u64e0\u51fa\u6a21\u5f0f\uff08M82/M83\uff09\u539f\u9ede\uff08G92\uff09\u504f\u79fb\u91cf\uff08SET_GCODE_OFFSET\uff09\u901f\u5ea6\u8986\u84cb\uff08M220\uff09\u64e0\u51fa\u6a5f\u8986\u84cb\uff08M221\uff09\u79fb\u52d5\u901f\u5ea6\u3002\u76ee\u524dXYZ\u4f4d\u7f6e\u548c\u76f8\u5c0d\u64e0\u51fa\u6a5f \"E \"\u4f4d\u7f6e\u3002\u5982\u679c\u63d0\u4f9bNAME\uff0c\u5b83\u5141\u8a31\u4eba\u5011\u5c07\u5132\u5b58\u7684\u72c0\u614b\u547d\u540d\u70ba\u7d66\u5b9a\u7684\u5b57\u4e32\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9bNAME\uff0c\u5247\u9810\u8a2d\u70ba \"default\".","title":"SAVE_GCODE_STATE"},{"location":"G-Codes.html#restore_gcode_state","text":"RESTORE_GCODE_STATE [NAME=<state_name>] [MOVE=1 [MOVE_SPEED=<speed>]] \uff1a\u6062\u5fa9\u4e4b\u524d\u901a\u904e SAVE_GCODE_STATE \u5132\u5b58\u7684\u72c0\u614b\u3002\u5982\u679c\u6307\u5b9a\u300cMOVE=1\u300d\uff0c\u5247\u5c07\u767c\u51fa\u5200\u982d\u79fb\u52d5\u4ee5\u8fd4\u56de\u5230\u5148\u524d\u7684 XYZ \u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86\u300cMOVE_SPEED\u300d\uff0c\u5247\u5200\u982d\u79fb\u52d5\u5c07\u4ee5\u7d66\u5b9a\u7684\u901f\u5ea6\uff08\u4ee5mm/s\u70ba\u55ae\u4f4d\uff09\u57f7\u884c\uff1b\u5426\u5247\u5de5\u5177\u982d\u79fb\u52d5\u5c07\u4f7f\u7528\u6062\u5fa9\u7684G-Code\u901f\u5ea6\u3002","title":"RESTORE_GCODE_STATE"},{"location":"G-Codes.html#hall_filament_width_sensor","text":"\u7576\u555f\u7528 tsl1401cl filament width sensor config section \u6216 hall filament width sensor config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 TSLl401CL Filament Width Sensor \u548c Hall Filament Width Sensor )\uff1a","title":"[hall_filament_width_sensor]"},{"location":"G-Codes.html#query_filament_width","text":"QUERY_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u76ee\u524d\u6e2c\u91cf\u7684\u8017\u6750\u76f4\u5f91\u3002","title":"QUERY_FILAMENT_WIDTH"},{"location":"G-Codes.html#reset_filament_width_sensor","text":"RESET_FILAMENT_WIDTH_SENSOR \uff1a\u6e05\u9664\u5168\u90e8\u611f\u6e2c\u5668\u8b80\u6578\u3002\u5728\u66f4\u63db\u8017\u6750\u5f8c\u6709\u7528\u3002","title":"RESET_FILAMENT_WIDTH_SENSOR"},{"location":"G-Codes.html#disable_filament_width_sensor","text":"DISABLE_FILAMENT_WIDTH_SENSOR \uff1a\u95dc\u9589\u8017\u6750\u76f4\u5f91\u611f\u6e2c\u5668\u4e26\u505c\u6b62\u4f7f\u7528\u5b83\u9032\u884c\u6d41\u91cf\u63a7\u5236\u3002","title":"DISABLE_FILAMENT_WIDTH_SENSOR"},{"location":"G-Codes.html#enable_filament_width_sensor","text":"ENABLE_FILAMENT_WIDTH_SENSOR \uff1a\u555f\u7528\u8017\u6750\u76f4\u5f91\u611f\u6e2c\u5668\u4e26\u4f7f\u7528\u5b83\u9032\u884c\u6d41\u91cf\u63a7\u5236\u3002","title":"ENABLE_FILAMENT_WIDTH_SENSOR"},{"location":"G-Codes.html#query_raw_filament_width","text":"QUERY_RAW_FILAMENT_WIDTH \uff1a\u8fd4\u56de\u76ee\u524d ADC \u901a\u9053\u8b80\u6578\u548c\u6821\u6e96\u9ede\u7684 RAW \u611f\u6e2c\u5668\u503c\u3002","title":"QUERY_RAW_FILAMENT_WIDTH"},{"location":"G-Codes.html#enable_filament_width_log","text":"ENABLE_FILAMENT_WIDTH_LOG \uff1a\u958b\u555f\u76f4\u5f91\u8a18\u9304\u3002","title":"ENABLE_FILAMENT_WIDTH_LOG"},{"location":"G-Codes.html#disable_filament_width_log","text":"DISABLE_FILAMENT_WIDTH_LOG \uff1a\u505c\u6b62\u76f4\u5f91\u8a18\u9304\u3002","title":"DISABLE_FILAMENT_WIDTH_LOG"},{"location":"G-Codes.html#heaters","text":"\u5982\u679c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u7fa9\u4e86\u52a0\u71b1\u5668\uff0c\u5247\u6703\u81ea\u52d5\u8f09\u5165\u52a0\u71b1\u5668\u6a21\u584a\u3002","title":"[heaters]"},{"location":"G-Codes.html#turn_off_heaters","text":"TURN_OFF_HEATERS \uff1a\u95dc\u9589\u5168\u90e8\u52a0\u71b1\u5668\u3002","title":"TURN_OFF_HEATERS"},{"location":"G-Codes.html#temperature_wait","text":"TEMPERATURE_WAIT SENSOR=<\u914d\u7f6e\u540d> [MINIMUM=<\u76ee\u6a19>] [MAXIMUM=<\u76ee\u6a19>] \uff1a\u7b49\u5f85\u6307\u5b9a\u6eab\u5ea6\u611f\u6e2c\u5668\u8b80\u6578\u9ad8\u65bc MINIMUM \u548c\u6216\u4f4e\u65bc MAXIMUM\u3002","title":"TEMPERATURE_WAIT"},{"location":"G-Codes.html#set_heater_temperature","text":"SET_HEATER_TEMPERATURE HEATER=<\u52a0\u71b1\u5668\u540d\u7a31> [TARGET=<\u76ee\u6a19\u6eab\u5ea6>] \uff1a\u8a2d\u5b9a\u4e00\u500b\u52a0\u71b1\u5668\u7684\u76ee\u6a19\u6eab\u5ea6\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9b\u76ee\u6a19\u6eab\u5ea6\uff0c\u5247\u76ee\u6a19\u6eab\u5ea6\u70ba 0\u3002","title":"SET_HEATER_TEMPERATURE"},{"location":"G-Codes.html#idle_timeout","text":"\u6a21\u7d44idle_timeout\u5df2\u81ea\u52d5\u8f09\u5165.","title":"[idle_timeout]"},{"location":"G-Codes.html#set_idle_timeout","text":"SET_IDLE_TIMEOUT [TIMEOUT=<\u8d85\u6642>] \uff1a\u5141\u8a31\u4f7f\u7528\u8005\u8a2d\u5b9a\u7a7a\u9591\u8d85\u6642\uff08\u4ee5\u79d2\u70ba\u55ae\u4f4d\uff09\u3002","title":"SET_IDLE_TIMEOUT"},{"location":"G-Codes.html#input_shaper","text":"\u5982\u679c\u555f\u7528\u4e86 input_shaper config section \uff0c\u5247\u555f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff08\u53e6\u8acb\u53c3\u95b1 resonance compensation guide \uff09\u3002","title":"[input_shaper]"},{"location":"G-Codes.html#set_input_shaper","text":"SET_INPUT_SHAPER [SHAPER_FREQ_X=<shaper_freq_x>] [SHAPER_FREQ_Y=<shaper_freq_y>] [DAMPING_RATIO_X=<damping_ratio_x>] [DAMPING_RATIO_Y=<damping_ratio_y>] [SHAPER_TYPE=<shaper>] [SHAPER_TYPE_X=<shaper_type_x>] [SHAPER_TYPE_Y=<shaper_type_y>] \uff1a\u4fee\u6539\u8f38\u5165\u6574\u5f62\u53c3\u6578\u3002\u6ce8\u610f SHAPER_TYPE \u53c3\u6578\u6703\u540c\u6642\u8986\u5beb X \u548c Y \u8ef8\u7684\u6574\u5f62\u5668\u578b\u5225\uff0c\u5373\u4f7f\u5b83\u5011\u5728 [input_shaper] \u914d\u7f6e\u5206\u6bb5\u4e2d\u6709\u4e0d\u540c\u7684\u6574\u5f62\u5668\u578b\u5225\u3002SHAPER_TYPE \u4e0d\u80fd\u548c SHAPER_TYPE_X \u548c SHAPER_TYPE_Y \u53c3\u6578\u540c\u6642\u4f7f\u7528\u3002\u9019\u4e9b\u53c3\u6578\u7684\u7d30\u7bc0\u8acb\u898b \u914d\u7f6e\u53c3\u8003 \u3002","title":"SET_INPUT_SHAPER"},{"location":"G-Codes.html#manual_probe","text":"\u6a21\u7d44manual_probe\u5df2\u81ea\u52d5\u8f09\u5165.","title":"[manual_probe]"},{"location":"G-Codes.html#manual_probe_1","text":"MANUAL_PROBE [SPEED=<speed>] \uff1a\u57f7\u884c\u4e00\u500b\u8f14\u52a9\u6307\u4ee4\u78bc\uff0c\u5c0d\u6e2c\u91cf\u7d66\u5b9a\u4f4d\u7f6e\u7684\u5674\u5634\u9ad8\u5ea6\u6709\u7528\u3002\u5982\u679c\u6307\u5b9a\u4e86\u901f\u5ea6\uff0c\u5b83\u5c07\u8a2d\u5b9aTESTZ\u547d\u4ee4\u7684\u901f\u5ea6\uff08\u9810\u8a2d\u70ba5mm/s\uff09\u3002\u5728\u624b\u52d5\u63a2\u6e2c\u904e\u7a0b\u4e2d\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u9644\u52a0\u547d\u4ee4\uff1a ACCEPT \uff1a\u8a72\u547d\u4ee4\u63a5\u53d7\u76ee\u524d\u7684Z\u4f4d\u7f6e\uff0c\u4e26\u7d50\u675f\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u3002 ABORT \uff1a\u8a72\u547d\u4ee4\u7d42\u6b62\u624b\u52d5\u63a2\u6e2c\u5de5\u5177\u3002 TESTZ Z=<\u503c> \uff1a\u9019\u500b\u547d\u4ee4\u53ef\u4ee5\u5c07\u5674\u5634\u4e0a\u5347\u6216\u4e0b\u964d\u7d66\u5b9a\u503c\uff0c\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\u3002\u4f8b\u5982\uff0c TESTZ Z=-.1 \u6703\u5c07\u5674\u5634\u4e0b\u964d 0.1 \u6beb\u7c73\uff0c\u800c TESTZ Z=.1 \u6703\u5c07\u5674\u5634\u4e0a\u5347 0.1 \u6beb\u7c73\uff0c\u53c3\u6578\u53ef\u4ee5\u5e36\u6709 + , - , ++ , or -- \u4f86\u6839\u64da\u4e0a\u6b21\u5617\u8a66\u76f8\u5c0d\u7684\u79fb\u52d5\u5674\u5634\u3002","title":"MANUAL_PROBE"},{"location":"G-Codes.html#z_endstop_calibrate","text":"Z_ENDSTOP_CALIBRATE [SPEED=<\u901f\u5ea6>] \uff1a\u57f7\u884c\u4e00\u500b\u6821\u6e96 Z position_endstop \u53c3\u6578\u7684\u8f14\u52a9\u6307\u4ee4\u78bc\u3002\u6709\u95dc\u66f4\u591a\u53c3\u6578\u548c\u984d\u5916\u547d\u4ee4\u7684\u8cc7\u8a0a\uff0c\u8acb\u6aa2\u8996 MANUAL_PROBE \u547d\u4ee4\u3002","title":"Z_ENDSTOP_CALIBRATE"},{"location":"G-Codes.html#z_offset_apply_endstop","text":"Z_OFFSET_APPLY_ENDSTOP \uff1a\u5c07\u76ee\u524d\u7684Z \u7684 G \u7a0b\u5f0f\u78bc\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u5f9e stepper_z \u7684 endstop_position \u4e2d\u6e1b\u53bb\u3002\u8a72\u547d\u4ee4\u5c07\u6301\u4e45\u5316\u4e00\u500b\u5e38\u7528babystepping \u5fae\u8abf\u503c\u3002\u9700\u8981\u57f7\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002","title":"Z_OFFSET_APPLY_ENDSTOP"},{"location":"G-Codes.html#manual_stepper","text":"\u7576 manual_stepper \u914d\u7f6e\u5206\u6bb5 \u88ab\u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[manual_stepper]"},{"location":"G-Codes.html#manual_stepper_1","text":"MANUAL_STEPPER STEPPER=config_name [ENABLE=[0|1]] [SET_POSITION=<pos>] [SPEED=<speed>] [ACCEL=<accel>] [MOVE=<pos> [STOP_ON_ENDSTOP=[1|2|-1|-2]] [SYNC=0]] \uff1a\u8a72\u547d\u4ee4\u5c07\u6539\u8b8a\u6b65\u9032\u5668\u7684\u72c0\u614b\u3002\u4f7f\u7528ENABLE\u53c3\u6578\u4f86\u555f\u7528/\u7981\u7528\u6b65\u9032\u3002\u4f7f\u7528SET_POSITION\u53c3\u6578\uff0c\u8feb\u4f7f\u6b65\u9032\u8a8d\u70ba\u5b83\u8655\u65bc\u7d66\u5b9a\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528MOVE\u53c3\u6578\uff0c\u8981\u6c42\u79fb\u52d5\u5230\u7d66\u5b9a\u4f4d\u7f6e\u3002\u5982\u679c\u6307\u5b9a\u4e86SPEED\u6216\u8005ACCEL\uff0c\u90a3\u9ebc\u5c07\u4f7f\u7528\u7d66\u5b9a\u7684\u503c\u800c\u4e0d\u662f\u914d\u7f6e\u6a94\u6848\u4e2d\u6307\u5b9a\u7684\u9810\u8a2d\u503c\u3002\u5982\u679c\u6307\u5b9aACCEL\u70ba0\uff0c\u90a3\u9ebc\u5c07\u4e0d\u57f7\u884c\u52a0\u901f\u3002\u5982\u679cSTOP_ON_ENDSTOP=1\u88ab\u6307\u5b9a\uff0c\u90a3\u9ebc\u5982\u679c\u6b62\u52d5\u5668\u5831\u544a\u88ab\u89f8\u767c\uff0c\u52d5\u4f5c\u5c07\u63d0\u524d\u7d50\u675f\uff08\u4f7f\u7528STOP_ON_ENDSTOP=2\u4f86\u5b8c\u6210\u52d5\u4f5c\uff0c\u5373\u4f7f\u6b62\u52d5\u5668\u6c92\u6709\u88ab\u89f8\u767c\u4e5f\u4e0d\u6703\u51fa\u932f\uff0c\u4f7f\u7528-1\u6216-2\u4f86\u5728\u6b62\u52d5\u5668\u5831\u544a\u6c92\u6709\u88ab\u89f8\u767c\u6642\u505c\u6b62\uff09\u3002\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u672a\u4f86\u7684G-Code\u547d\u4ee4\u5c07\u88ab\u5b89\u6392\u5728\u6b65\u9032\u904b\u52d5\u5b8c\u6210\u5f8c\u57f7\u884c\uff0c\u4f46\u662f\u5982\u679c\u624b\u52d5\u6b65\u9032\u904b\u52d5\u4f7f\u7528SYNC=0\uff0c\u90a3\u9ebc\u672a\u4f86\u7684G-Code\u904b\u52d5\u547d\u4ee4\u53ef\u80fd\u8207\u6b65\u9032\u904b\u52d5\u5e73\u884c\u57f7\u884c\u3002","title":"MANUAL_STEPPER"},{"location":"G-Codes.html#led","text":"The following command is available when any of the led config sections are enabled.","title":"[led]"},{"location":"G-Codes.html#set_led","text":"SET_LED LED=<config_name> RED=<value> GREEN=<value> BLUE=<value> WHITE=<value> [INDEX=<index>] [TRANSMIT=0] [SYNC=1] : This sets the LED output. Each color <value> must be between 0.0 and 1.0. The WHITE option is only valid on RGBW LEDs. If the LED supports multiple chips in a daisy-chain then one may specify INDEX to alter the color of just the given chip (1 for the first chip, 2 for the second, etc.). If INDEX is not provided then all LEDs in the daisy-chain will be set to the provided color. If TRANSMIT=0 is specified then the color change will only be made on the next SET_LED command that does not specify TRANSMIT=0; this may be useful in combination with the INDEX parameter to batch multiple updates in a daisy-chain. By default, the SET_LED command will sync it's changes with other ongoing gcode commands. This can lead to undesirable behavior if LEDs are being set while the printer is not printing as it will reset the idle timeout. If careful timing is not needed, the optional SYNC=0 parameter can be specified to apply the changes without resetting the idle timeout.","title":"SET_LED"},{"location":"G-Codes.html#set_led_template","text":"SET_LED_TEMPLATE LED=<led_name> TEMPLATE=<template_name> [<param_x>=<literal>] [INDEX=<index>] : Assign a display_template to a given LED . For example, if one defined a [display_template my_led_template] config section then one could assign TEMPLATE=my_led_template here. The display_template should produce a comma separated string containing four floating point numbers corresponding to red, green, blue, and white color settings. The template will be continuously evaluated and the LED will be automatically set to the resulting colors. One may set display_template parameters to use during template evaluation (parameters will be parsed as Python literals). If INDEX is not specified then all chips in the LED's daisy-chain will be set to the template, otherwise only the chip with the given index will be updated. If TEMPLATE is an empty string then this command will clear any previous template assigned to the LED (one can then use SET_LED commands to manage the LED's color settings).","title":"SET_LED_TEMPLATE"},{"location":"G-Codes.html#output_pin","text":"\u7576\u555f\u7528 output_pin config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[output_pin]"},{"location":"G-Codes.html#set_pin","text":"SET_PIN PIN=config_name VALUE=<\u503c> CYCLE_TIME=<\u9031\u671f\u6642\u9593> : \u6ce8\u610f - \u786c\u9ad4PWM\u76ee\u524d\u4e0d\u652f\u63f4CYCLE_TIME\u53c3\u6578\uff0c\u5c07\u4f7f\u7528\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u7684\u9031\u671f\u6642\u9593\u3002","title":"SET_PIN"},{"location":"G-Codes.html#palette2","text":"\u555f\u7528 palette2 config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002 Palette\u5217\u5370\u901a\u904e\u5728GCode\u6a94\u6848\u4e2d\u5d4c\u5165\u7279\u6b8a\u7684OCodes\uff08Omega Codes\uff09\u4f86\u5de5\u4f5c: O1 ... O32 \uff1a\u9019\u4e9b\u7a0b\u5f0f\u78bc\u5f9eG-Code\u6d41\u4e2d\u8b80\u51fa\u4e26\u4e14\u50b3\u905e\u7d66Palette 2\u88dd\u7f6e\u9032\u884c\u8655\u7406\u3002 \u9084\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u984d\u5916\u547d\u4ee4.","title":"[palette2]"},{"location":"G-Codes.html#palette_connect","text":"PALETTE_CONNECT \uff1a\u8a72\u547d\u4ee4\u521d\u59cb\u5316\u8207Palette 2\u7684\u9023\u7dda\u3002","title":"PALETTE_CONNECT"},{"location":"G-Codes.html#palette_disconnect","text":"PALETTE_DISCONNECT \uff1a\u8a72\u547d\u4ee4\u65b7\u958b\u8207Palette 2\u7684\u9023\u7dda\u3002","title":"PALETTE_DISCONNECT"},{"location":"G-Codes.html#palette_clear","text":"PALETTE_CLEAR :\u8a72\u547d\u4ee4\u6307\u793a Palette 2 \u6e05\u9664\u6240\u6709\u8017\u6750\u7684\u8f38\u5165\u6216\u8005\u8f38\u51fa\u3002","title":"PALETTE_CLEAR"},{"location":"G-Codes.html#palette_cut","text":"PALETTE_CUT :\u8a72\u547d\u4ee4\u6307\u5f15Palette 2\u5207\u5272\u8017\u6750\u4e26\u4e14\u88dd\u8f09\u5206\u6bb5\u7684\u8017\u6750\u3002","title":"PALETTE_CUT"},{"location":"G-Codes.html#palette_smart_load","text":"PALETTE_SMART_LOAD \uff1a\u8a72\u547d\u4ee4\u5728Palette 2\u4e0a\u555f\u52d5\u667a\u6167\u8f09\u5165\u5e8f\u5217\u3002\u901a\u904e\u5728\u88dd\u7f6e\u4e0a\u70ba\u5370\u8868\u6a5f\u6821\u6e96\u7684\u8ddd\u96e2\u64e0\u58d3\uff0c\u81ea\u52d5\u8f09\u5165\u8017\u6750\uff0c\u4e26\u5728\u8f09\u5165\u5b8c\u6210\u5f8c\u6307\u793aPalette 2\u3002\u8a72\u547d\u4ee4\u8207\u8017\u6750\u8f09\u5165\u5b8c\u6210\u5f8c\u76f4\u63a5\u5728Palette 2\u87a2\u5e55\u4e0a\u6309 Smart Load \u76f8\u540c\u3002","title":"PALETTE_SMART_LOAD"},{"location":"G-Codes.html#pid_calibrate","text":"\u5982\u679c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9a\u7fa9\u4e86\u52a0\u71b1\u5668\uff0c\u5247\u6703\u81ea\u52d5\u8f09\u5165 pid_calibrate \u6a21\u584a\u3002","title":"[pid_calibrate]"},{"location":"G-Codes.html#pid_calibrate_1","text":"PID_CALIBRATE HEATER=<config_name> TARGET=<temperature> [WRITE_FILE=1] \uff1a\u57f7\u884c\u4e00\u500bPID\u6821\u6e96\u6e2c\u8a66\u3002\u6307\u5b9a\u7684\u52a0\u71b1\u5668\u5c07\u88ab\u555f\u7528\uff0c\u76f4\u5230\u9054\u5230\u6307\u5b9a\u7684\u76ee\u6a19\u6eab\u5ea6\uff0c\u7136\u5f8c\u52a0\u71b1\u5668\u5c07\u88ab\u95dc\u9589\u548c\u958b\u555f\u5e7e\u500b\u9031\u671f\u3002\u5982\u679cWRITE_FILE\u53c3\u6578\u88ab\u555f\u7528\uff0c\u90a3\u9ebc\u5c07\u5efa\u7acb\u6a94\u6848/tmp/heattest.txt\uff0c\u5176\u4e2d\u5305\u542b\u6e2c\u8a66\u671f\u9593\u6240\u6709\u6eab\u5ea6\u6a23\u672c\u7684\u65e5\u8a8c\u3002","title":"PID_CALIBRATE"},{"location":"G-Codes.html#pause_resume","text":"\u7576 pause_resume \u914d\u7f6e\u5206\u6bb5 \u88ab\u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff1a","title":"[pause_resume]"},{"location":"G-Codes.html#pause","text":"PAUSE \uff1a\u66ab\u505c\u7576\u524d\u7684\u5217\u5370\u3002\u76ee\u524d\u7684\u4f4d\u7f6e\u88ab\u5831\u932f\u4ee5\u4fbf\u5728\u6062\u5fa9\u6642\u6062\u5fa9\u3002","title":"PAUSE"},{"location":"G-Codes.html#resume","text":"RESUME [VELOCITY=<value>] \uff1a\u5f9e\u66ab\u505c\u4e2d\u6062\u5fa9\u5217\u5370\uff0c\u9996\u5148\u6062\u5fa9\u4ee5\u524d\u4fdd\u6301\u7684\u4f4d\u7f6e\u3002VELOCITY\u53c3\u6578\u6c7a\u5b9a\u4e86\u5de5\u5177\u8fd4\u56de\u5230\u539f\u59cb\u6355\u6349\u4f4d\u7f6e\u7684\u901f\u5ea6\u3002","title":"RESUME"},{"location":"G-Codes.html#clear_pause","text":"CLEAR_PAUSE :\u6e05\u9664\u76ee\u524d\u7684\u66ab\u505c\u72c0\u614b\u800c\u4e0d\u6062\u5fa9\u5217\u5370\u3002\u5982\u679c\u4e00\u500b\u4eba\u6c7a\u5b9a\u5728\u66ab\u505c\u540e\u53d6\u6d88\u5217\u5370\uff0c\u9019\u5f88\u6709\u7528\u3002\u5efa\u8b70\u5c07\u5176\u65b0\u589e\u5230\u4f60\u7684\u555f\u52d5\u7a0b\u5f0f\u78bc\u4e2d\uff0c\u4ee5\u78ba\u4fdd\u6bcf\u6b21\u5217\u5370\u6642\u7684\u66ab\u505c\u72c0\u614b\u662f\u65b0\u7684\u3002","title":"CLEAR_PAUSE"},{"location":"G-Codes.html#cancel_print","text":"CANCEL_PRINT \uff1a\u53d6\u6d88\u76ee\u524d\u7684\u5217\u5370\u3002","title":"CANCEL_PRINT"},{"location":"G-Codes.html#probe","text":"\u7576\u555f\u7528 probe config section \u6216 bltouch config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 probe calibrate guide \uff09\u3002","title":"[probe]"},{"location":"G-Codes.html#probe_1","text":"PROBE [PROBE_SPEED=<mm/s>] [LIFT_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] [SAMPLES_TOLERANCE=<mm>] [SAMPLES_TOLERANCE_RETRIES=<count>] [SAMPLES_RESULT=median|average] \uff1a\u5411\u4e0b\u79fb\u52d5\u5674\u5634\u76f4\u5230\u63a2\u91dd\u89f8\u767c\u3002\u5982\u679c\u63d0\u4f9b\u4e86\u4efb\u4f55\u53ef\u9078\u53c3\u6578\uff0c\u5b83\u5011\u5c07\u8986\u84cb probe config section \u4e2d\u7684\u7b49\u6548\u8a2d\u5b9a\u3002","title":"PROBE"},{"location":"G-Codes.html#query_probe","text":"QUERY_PROBE :\u5831\u544a\u63a2\u91dd\u7684\u7576\u524d\u72c0\u614b\uff08\"triggered\"\u6216 \"open\"\uff09\u3002","title":"QUERY_PROBE"},{"location":"G-Codes.html#probe_accuracy","text":"PROBE_ACCURACY [PROBE_SPEED=<mm/s>] [SAMPLES=<count>] [SAMPLE_RETRACT_DIST=<mm>] \uff1a\u8a08\u7b97\u591a\u500b\u63a2\u91dd\u6a23\u672c\u7684\u6700\u5927\u3001\u6700\u5c0f\u3001\u5e73\u5747\u3001\u4e2d\u4f4d\u6578\u548c\u6a19\u6e96\u504f\u5dee\u3002\u9810\u8a2d\u60c5\u6cc1\u4e0b\u91c7\u6a2310\u6b21\u3002\u5426\u5247\u53ef\u9078\u53c3\u6578\u9810\u8a2d\u70ba\u63a2\u91dd\u914d\u7f6e\u90e8\u5206\u7684\u540c\u7b49\u8a2d\u5b9a\u3002","title":"PROBE_ACCURACY"},{"location":"G-Codes.html#probe_calibrate","text":"PROBE_CALIBRATE [SPEED=<speed>] [<probe_parameter>=<value>] :\u57f7\u884c\u4e00\u500b\u5c0d\u6821\u6e96\u6e2c\u982d\u7684z_offset\u6709\u7528\u7684\u8f14\u52a9\u6307\u4ee4\u78bc\u3002\u6709\u95dc\u53ef\u9078\u6e2c\u982d\u53c3\u6578\u7684\u8a73\u7d30\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898bPROBE\u547d\u4ee4\u3002\u53c3\u898bMANUAL_PROBE\u547d\u4ee4\uff0c\u77ad\u89e3SPEED\u53c3\u6578\u548c\u5de5\u5177\u555f\u7528\u6642\u53ef\u7528\u7684\u9644\u52a0\u547d\u4ee4\u7684\u8a73\u7d30\u8cc7\u8a0a\u3002\u8acb\u6ce8\u610f\uff0cPROBE_CALIBRATE\u547d\u4ee4\u4f7f\u7528\u901f\u5ea6\u8b8a\u6578\u5728XY\u65b9\u5411\u4ee5\u53caZ\u65b9\u5411\u4e0a\u79fb\u52d5\u3002","title":"PROBE_CALIBRATE"},{"location":"G-Codes.html#z_offset_apply_probe","text":"Z_OFFSET_APPLY_PROBE \uff1a\u5c07\u76ee\u524d\u7684Z \u7684 G \u7a0b\u5f0f\u78bc\u504f\u79fb\u91cf\uff08\u5c31\u662f babystepping\uff09\u5f9e probe \u7684 z_offset \u4e2d\u6e1b\u53bb\u3002\u8a72\u547d\u4ee4\u5c07\u6301\u4e45\u5316\u4e00\u500b\u5e38\u7528babystepping \u5fae\u8abf\u503c\u3002\u9700\u8981\u57f7\u884c SAVE_CONFIG \u624d\u80fd\u751f\u6548\u3002","title":"Z_OFFSET_APPLY_PROBE"},{"location":"G-Codes.html#query_adc","text":"The query_adc module is automatically loaded.","title":"[query_adc]"},{"location":"G-Codes.html#query_adc_1","text":"QUERY_ADC [NAME=<config_name>] [PULLUP=<value>] \uff1a\u8fd4\u56de\u70ba\u914d\u7f6e\u7684\u6a21\u64ec\u5f15\u8173\u6536\u5230\u7684\u6700\u5f8c\u4e00\u500b\u6a21\u64ec\u503c\u3002\u5982\u679cNAME\u6c92\u6709\u88ab\u63d0\u4f9b\uff0c\u5c07\u5831\u544a\u53ef\u7528\u7684adc\u540d\u7a31\u5217\u8868\u3002\u5982\u679c\u63d0\u4f9b\u4e86PULLUP\uff08\u4ee5\u6b50\u59c6\u70ba\u55ae\u4f4d\u7684\u6578\u503c\uff09\uff0c\u5c07\u6703\u8fd4\u56de\u539f\u59cb\u6a21\u64ec\u503c\u548c\u7d66\u5b9a\u7684\u7b49\u6548\u96fb\u963b\u3002","title":"QUERY_ADC"},{"location":"G-Codes.html#query_endstops","text":"\u6a21\u7d44query_endstops\u5df2\u81ea\u52d5\u8f09\u5165\u3002\u76ee\u524d\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u6a19\u6e96 G-Code\u547d\u4ee4\uff0c\u4f46\u4e0d\u5efa\u8b70\u4f7f\u7528\u5b83\u5011\uff1a \u7372\u53d6\u9650\u4f4d\u72c0\u614b\uff1a M119 (\u4f7f\u7528QUERY_ENDSTOPS\u4ee3\u66ff)","title":"[query_endstops]"},{"location":"G-Codes.html#query_endstops_1","text":"QUERY_ENDSTOPS \uff1a\u6aa2\u6e2c\u9650\u4f4d\u4e26\u8fd4\u56de\u9650\u4f4d\u662f\u5426\u88ab \"triggered\"\u6216\u8655\u65bc\"open\"\u3002\u8a72\u547d\u4ee4\u901a\u5e38\u7528\u65bc\u9a57\u8b49\u4e00\u500b\u9650\u4f4d\u662f\u5426\u6b63\u5e38\u5de5\u4f5c\u3002","title":"QUERY_ENDSTOPS"},{"location":"G-Codes.html#resonance_tester","text":"\u7576\u555f\u7528 resonance_tester config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 measuring resonances guide \uff09\u3002","title":"[resonance_tester]"},{"location":"G-Codes.html#measure_axes_noise","text":"MEASURE_AXES_NOISE \uff1a\u6e2c\u91cf\u4e26\u8f38\u51fa\u6240\u6709\u555f\u7528\u7684\u52a0\u901f\u5ea6\u8a08\u6676\u7247\u7684\u6240\u6709\u8ef8\u7684\u566a\u8072\u3002","title":"MEASURE_AXES_NOISE"},{"location":"G-Codes.html#test_resonances","text":"TEST_RESONANCES AXIS=<axis> OUTPUT=<resonances,raw_data> [NAME=<name>] [FREQ_START=<min_freq>] [FREQ_END=<max_freq>] [HZ_PER_SEC=<hz_per_sec>] [CHIPS=<adxl345_chip_name>] [POINT=x,y,z] [INPUT_SHAPING=[<0:1>]] : Runs the resonance test in all configured probe points for the requested \"axis\" and measures the acceleration using the accelerometer chips configured for the respective axis. \"axis\" can either be X or Y, or specify an arbitrary direction as AXIS=dx,dy , where dx and dy are floating point numbers defining a direction vector (e.g. AXIS=X , AXIS=Y , or AXIS=1,-1 to define a diagonal direction). Note that AXIS=dx,dy and AXIS=-dx,-dy is equivalent. adxl345_chip_name can be one or more configured adxl345 chip,delimited with comma, for example CHIPS=\"adxl345, adxl345 rpi\" . Note that adxl345 can be omitted from named adxl345 chips. If POINT is specified it will override the point(s) configured in [resonance_tester] . If INPUT_SHAPING=0 or not set(default), disables input shaping for the resonance testing, because it is not valid to run the resonance testing with the input shaper enabled. OUTPUT parameter is a comma-separated list of which outputs will be written. If raw_data is requested, then the raw accelerometer data is written into a file or a series of files /tmp/raw_data_<axis>_[<chip_name>_][<point>_]<name>.csv with ( <point>_ part of the name generated only if more than 1 probe point is configured or POINT is specified). If resonances is specified, the frequency response is calculated (across all probe points) and written into /tmp/resonances_<axis>_<name>.csv file. If unset, OUTPUT defaults to resonances , and NAME defaults to the current time in \"YYYYMMDD_HHMMSS\" format.","title":"TEST_RESONANCES"},{"location":"G-Codes.html#shaper_calibrate","text":"SHAPER_CALIBRATE [AXIS=<\u8ef8>] [NAME=<\u540d\u7a31>] [FREQ_START=<\u6700\u5c0f\u983b\u7387>] [FREQ_END=<\u6700\u5927\u983b\u7387>] [HZ_PER_SEC=<hz_per_sec>] [MAX_SMOOTHING=<max_smoothing>] \uff1a\u985e\u4f3c TEST_RESONANCES \uff0c\u8a72\u547d\u4ee4\u6309\u914d\u7f6e\u57f7\u884c\u5171\u632f\u6e2c\u8a66\u4e26\u5617\u8a66\u5c0b\u627e\u7d66\u5b9a\u8ef8\u6700\u4f73\u7684\u8f38\u5165\u6574\u5f62\u53c3\u6578\u3002\u5982\u679c\u6c92\u6709\u9078\u64c7 AXIS \uff0c\u5247\u6e2c\u91cfX\u548cY\u8ef8\u3002\u5982\u679c\u6c92\u6709\u9078\u64c7 MAX_SMOOTHING \uff0c\u6703\u4f7f\u7528 [resonance_tester] \u7684\u9810\u8a2d\u53c3\u6578\u3002\u6709\u95dc\u8a72\u7279\u6027\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8a73\u898b\u5171\u632f\u91cf\u6e2c\u91cf\u6307\u5357\u4e2d\u7684 \u6700\u5927\u5e73\u6ed1 \u7ae0\u7bc0\u3002\u6e2c\u8a66\u7d50\u679c\u6703\u88ab\u8f38\u51fa\u5230\u7d42\u7aef\uff0c\u800c\u983b\u97ff\u548c\u4e0d\u540c\u8f38\u5165\u6574\u5f62\u5668\u7684\u53c3\u6578\u5c07\u88ab\u5beb\u5165\u5230\u4e00\u500b\u6216\u591a\u500b CSV \u6a94\u6848\u4e2d\u3002\u5b83\u5011\u7684\u540d\u7a31\u662f /tmp/calibration_data_<\u8ef8>_<\u540d\u7a31>.csv \u3002\u5982\u679c\u6c92\u6709\u6307\u5b9a\uff0c\u540d\u7a31\u9810\u8a2d\u70ba\u300cYYYYMMDD_HHMMSS\u300d\u683c\u5f0f\u7684\u7576\u524d\u6642\u9593\u3002\u6ce8\u610f\uff0c\u53ef\u4ee5\u901a\u904e\u8acb\u6c42 SAVE_CONFIG \u547d\u4ee4\u5c07\u63a8\u85a6\u7684\u8f38\u5165\u6574\u5f62\u5668\u53c3\u6578\u76f4\u63a5\u5132\u5b58\u5230\u914d\u7f6e\u6a94\u6848\u4e2d\u3002","title":"SHAPER_CALIBRATE"},{"location":"G-Codes.html#respond","text":"\u7576\u555f\u7528 respond config section \u6642\uff0c\u4ee5\u4e0b\u6a19\u6e96 G-Code \u547d\u4ee4\u53ef\u7528\uff1a M118 <message> \uff1a\u56de\u986f\u914d\u7f6e\u4e86\u9810\u8a2d\u5b57\u9996\u7684\u8cc7\u8a0a\uff08\u5982\u679c\u6c92\u6709\u914d\u7f6e\u5b57\u9996\uff0c\u5247\u8fd4\u56de echo: \uff09\u3002 \u9084\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u984d\u5916\u547d\u4ee4.","title":"[respond]"},{"location":"G-Codes.html#respond_1","text":"RESPOND MSG=\"<message>\" \uff1a\u56de\u986f\u5e36\u6709\u914d\u7f6e\u7684\u9810\u8a2d\u5b57\u9996\u7684\u8a0a\u606f\uff08\u6c92\u6709\u914d\u7f6e\u5b57\u9996\u5247\u9810\u8a2d echo: \u70ba\u5b57\u9996 \uff09\u3002 RESPOND TYPE=echo MSG=\"<\u8a0a\u606f>\" \uff1a\u56de\u986f echo: \u958b\u982d\u8a0a\u606f\u3002 RESPOND TYPE=echo_no_space MSG=\"<message>\" : echo the message prepended with echo: without a space between prefix and message, helpful for compatibility with some octoprint plugins that expect very specific formatting. RESPOND TYPE=command MSG=\"<\u8a0a\u606f>\" \uff1a\u56de\u986f\u4ee5 / \u70ba\u5b57\u9996\u7684\u8a0a\u606f\u3002\u53ef\u4ee5\u914d\u7f6e OctoPrint \u5c0d\u9019\u4e9b\u8a0a\u606f\u9032\u884c\u97ff\u61c9\uff08\u4f8b\u5982\uff0c RESPOND TYPE=command MSG=action:pause \uff09\u3002 RESPOND TYPE=error MSG=\"<\u8a0a\u606f>\" \uff1a\u56de\u986f\u4ee5 !! \u958b\u982d\u7684\u8a0a\u606f\u3002 RESPOND PREFIX=<prefix> MSG=\"<message>\" : \u8ff4\u61c9\u4ee5 <prefix> \u70ba\u5b57\u9996\u7684\u8cc7\u8a0a\u3002( PREFIX \u53c3\u6578\u5c07\u512a\u5148\u65bc TYPE \u53c3\u6578)","title":"RESPOND"},{"location":"G-Codes.html#save_variables","text":"\u5982\u679c\u555f\u7528\u4e86 save_variables config section \uff0c\u5247\u555f\u7528\u4ee5\u4e0b\u547d\u4ee4\u3002","title":"[save_variables]"},{"location":"G-Codes.html#save_variable","text":"SAVE_VARIABLE VARIABLE=<name> VALUE=<value> \uff1a\u5c07\u8b8a\u6578\u5132\u5b58\u5230\u78c1\u789f\uff0c\u4ee5\u4fbf\u5728\u91cd\u65b0\u555f\u52d5\u6642\u4f7f\u7528\u3002\u6240\u6709\u5132\u5b58\u7684\u8b8a\u6578\u90fd\u6703\u5728\u555f\u52d5\u6642\u8f09\u5165\u5230 printer.save_variables.variables \u76ee\u9304\u4e2d\uff0c\u4e26\u53ef\u4ee5\u5728 gcode \u5b8f\u4e2d\u4f7f\u7528\u3002\u6240\u63d0\u4f9b\u7684 VALUE \u6703\u88ab\u89e3\u6790\u70ba\u4e00\u500b Python \u5b57\u9762\u3002","title":"SAVE_VARIABLE"},{"location":"G-Codes.html#screws_tilt_adjust","text":"\u7576\u555f\u7528 screws_tilt_adjust config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 [manual level guide](Manual_Level.md#adjusting-bed-leveling-screws-using-the-bed-probe \uff09\uff09\u3002","title":"[screws_tilt_adjust]"},{"location":"G-Codes.html#screws_tilt_calculate","text":"SCREWS_TILT_CALCULATE [DIRECTION=CW|CCW] [MAX_DEVIATION=<value>] [<probe_parameter>=<value>] : This command will invoke the bed screws adjustment tool. It will command the nozzle to different locations (as defined in the config file) probing the z height and calculate the number of knob turns to adjust the bed level. If DIRECTION is specified, the knob turns will all be in the same direction, clockwise (CW) or counterclockwise (CCW). See the PROBE command for details on the optional probe parameters. IMPORTANT: You MUST always do a G28 before using this command. If MAX_DEVIATION is specified, the command will raise a gcode error if any difference in the screw height relative to the base screw height is greater than the value provided.","title":"SCREWS_TILT_CALCULATE"},{"location":"G-Codes.html#sdcard_loop","text":"\u7576 sdcard_loop config section \u555f\u7528\u6642\uff0c\u4ee5\u4e0b\u64f4\u5c55\u547d\u4ee4\u53ef\u7528\u3002","title":"[sdcard_loop]"},{"location":"G-Codes.html#sdcard_loop_begin","text":"SDCARD_LOOP_BEGIN COUNT=<count> \uff1aSD \u5217\u5370\u4e2d\u958b\u59cb\u5faa\u74b0\u7684\u90e8\u5206\u3002\u8a08\u6578\u70ba0\u8868\u793a\u8a72\u90e8\u5206\u61c9\u7121\u9650\u671f\u5730\u5faa\u74b0\u3002","title":"SDCARD_LOOP_BEGIN"},{"location":"G-Codes.html#sdcard_loop_end","text":"SDCARD_LOOP_END \uff1a\u7d50\u675fSD\u5217\u5370\u4e2d\u7684\u4e00\u500b\u5faa\u74b0\u90e8\u5206\u3002","title":"SDCARD_LOOP_END"},{"location":"G-Codes.html#sdcard_loop_desist","text":"SDCARD_LOOP_DESIST \uff1a\u5b8c\u6210\u73fe\u6709\u7684\u5faa\u74b0\uff0c\u4e0d\u518d\u7e7c\u7e8c\u8fed\u4ee3\u3002","title":"SDCARD_LOOP_DESIST"},{"location":"G-Codes.html#servo","text":"\u7576\u555f\u7528 servo config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[servo]"},{"location":"G-Codes.html#set_servo","text":"SET_SERVO SERVO=\u914d\u7f6e\u540d [ANGLE=<\u89d2\u5ea6> | WIDTH=<\u79d2>] \uff1a\u5c07\u8235\u6a5f\u4f4d\u7f6e\u8a2d\u5b9a\u70ba\u7d66\u5b9a\u7684\u89d2\u5ea6\uff08\u5ea6\uff09\u6216\u8108\u885d\u5bec\u5ea6\uff08\u79d2\uff09\u3002\u4f7f\u7528 WIDTH=0 \u4f86\u7981\u7528\u8235\u6a5f\u8f38\u51fa\u3002","title":"SET_SERVO"},{"location":"G-Codes.html#skew_correction","text":"\u7576\u555f\u7528 skew_correction config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\uff08\u53e6\u8acb\u53c3\u95b1 Skew Correction \u6307\u5357\uff09\u3002","title":"[skew_correction]"},{"location":"G-Codes.html#set_skew","text":"SET_SKEW [XY=<ac_length,bd_length,ad_length>] [XZ=<ac,bd,ad>] [YZ=<ac,bd,ad>] [CLEAR=<0|1>] \uff1a\u7528\u5f9e\u6821\u6e96\u5217\u5370\u4e2d\u6e2c\u91cf\u7684\u6578\u64da\uff08\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\uff09\u914d\u7f6e [skew_correction] \u6a21\u7d44\u3002\u53ef\u4ee5\u8f38\u5165\u4efb\u4f55\u7d44\u5408\u7684\u5e73\u9762\uff0c\u6c92\u6709\u65b0\u8f38\u5165\u7684\u5e73\u9762\u5c07\u4fdd\u6301\u5b83\u5011\u539f\u6709\u7684\u6578\u503c\u3002\u5982\u679c\u50b3\u5165 CLEAR=1 \uff0c\u5247\u5168\u90e8\u504f\u659c\u6821\u6b63\u5c07\u88ab\u7981\u7528\u3002","title":"SET_SKEW"},{"location":"G-Codes.html#get_current_skew","text":"GET_CURRENT_SKEW :\u4ee5\u5f27\u5ea6\u548c\u5ea6\u6578\u5831\u544a\u6bcf\u500b\u5e73\u9762\u7684\u7576\u524d\u5370\u8868\u6a5f\u504f\u79fb\u3002\u659c\u5ea6\u662f\u6839\u64da\u901a\u904e SET_SKEW \u7a0b\u5f0f\u78bc\u63d0\u4f9b\u7684\u53c3\u6578\u8a08\u7b97\u7684\u3002","title":"GET_CURRENT_SKEW"},{"location":"G-Codes.html#calc_measured_skew","text":"CALC_MEASURED_SKEW [AC=<ac \u9577\u5ea6>] [BD=<bd \u9577\u5ea6>] [AD=<ad \u9577\u5ea6>] \uff1a\u8a08\u7b97\u4e26\u5831\u544a\u57fa\u65bc\u4e00\u500b\u5217\u5370\u4ef6\u6e2c\u91cf\u7684\u504f\u659c\u5ea6\uff08\u4ee5\u5f27\u5ea6\u548c\u89d2\u5ea6\u70ba\u55ae\u4f4d\uff09\u3002\u5b83\u53ef\u4ee5\u7528\u4f86\u9a57\u8b49\u61c9\u7528\u6821\u6b63\u5f8c\u5370\u8868\u6a5f\u7684\u7576\u524d\u504f\u659c\u5ea6\u3002\u5b83\u4e5f\u53ef\u4ee5\u7528\u4f86\u78ba\u5b9a\u662f\u5426\u6709\u5fc5\u8981\u9032\u884c\u504f\u659c\u77ef\u6b63\u3002\u6709\u95dc\u504f\u659c\u77ef\u6b63\u5217\u5370\u6a21\u578b\u548c\u6e2c\u91cf\u65b9\u6cd5\u8a73\u898b \u504f\u659c\u6821\u6b63\u6587\u4ef6 \u3002","title":"CALC_MEASURED_SKEW"},{"location":"G-Codes.html#skew_profile","text":"SKEW_PROFILE [LOAD=<\u540d\u7a31>] [SAVE=<\u540d\u7a31>] [REMOVE=<\u540d\u7a31>] \uff1askew_correction \u914d\u7f6e\u7ba1\u7406\u547d\u4ee4\u3002 LOAD \u5c07\u5f9e\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u8f09\u5165\u504f\u659c\u72c0\u614b\u3002 SAVE \u6703\u5c07\u76ee\u524d\u504f\u659c\u72c0\u614b\u5132\u5b58\u5230\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u5339\u914d\u7684\u914d\u7f6e\u4e2d\u3002 REMOVE \u5c07\u5f9e\u6301\u4e45\u8a18\u61b6\u9ad4\u4e2d\u522a\u9664\u8207\u63d0\u4f9b\u7684\u540d\u7a31\u5339\u914d\u7684\u914d\u7f6e\u3002\u8acb\u6ce8\u610f\uff0c\u5728\u57f7\u884c SAVE \u6216 REMOVE \u64cd\u4f5c\u540e\uff0c\u5fc5\u9808\u57f7\u884c SAVE_CONFIG G\u7a0b\u5f0f\u78bc\u624d\u80fd\u5132\u5b58\u66f4\u6539\u3002","title":"SKEW_PROFILE"},{"location":"G-Codes.html#smart_effector","text":"Several commands are available when a smart_effector config section is enabled. Be sure to check the official documentation for the Smart Effector on the Duet3D Wiki before changing the Smart Effector parameters. Also check the probe calibration guide .","title":"[smart_effector]"},{"location":"G-Codes.html#set_smart_effector","text":"SET_SMART_EFFECTOR [SENSITIVITY=<sensitivity>] [ACCEL=<accel>] [RECOVERY_TIME=<time>] : Set the Smart Effector parameters. When SENSITIVITY is specified, the respective value is written to the SmartEffector EEPROM (requires control_pin to be provided). Acceptable <sensitivity> values are 0..255, the default is 50. Lower values require less nozzle contact force to trigger (but there is a higher risk of false triggering due to vibrations during probing), and higher values reduce false triggering (but require larger contact force to trigger). Since the sensitivity is written to EEPROM, it is preserved after the shutdown, and so it does not need to be configured on every printer startup. ACCEL and RECOVERY_TIME allow to override the corresponding parameters at run-time, see the config section of Smart Effector for more info on those parameters.","title":"SET_SMART_EFFECTOR"},{"location":"G-Codes.html#reset_smart_effector","text":"RESET_SMART_EFFECTOR : Resets Smart Effector sensitivity to its factory settings. Requires control_pin to be provided in the config section.","title":"RESET_SMART_EFFECTOR"},{"location":"G-Codes.html#stepper_enable","text":"\u6a21\u7d44stepper_enable\u5df2\u81ea\u52d5\u8f09\u5165.","title":"[stepper_enable]"},{"location":"G-Codes.html#set_stepper_enable","text":"SET_STEPPER_ENABLE STEPPER=<\u914d\u7f6e\u540d> ENABLE=[0|1] \u3002\u555f\u7528\u6216\u7981\u7528\u6307\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u3002\u9019\u662f\u4e00\u500b\u8a3a\u65b7\u548c\u9664\u932f\u5de5\u5177\uff0c\u5fc5\u9808\u8b39\u614e\u4f7f\u7528\u3002\u56e0\u70ba\u7981\u7528\u4e00\u500b\u8ef8\u96fb\u6a5f\u4e0d\u6703\u91cd\u7f6e\u6b78\u4f4d\u8cc7\u8a0a\uff0c\u624b\u52d5\u79fb\u52d5\u4e00\u500b\u88ab\u7981\u7528\u7684\u6b65\u9032\u53ef\u80fd\u6703\u5c0e\u81f4\u6a5f\u5668\u5728\u5b89\u5168\u9650\u503c\u5916\u64cd\u4f5c\u96fb\u6a5f\u3002\u9019\u53ef\u80fd\u5c0e\u81f4\u8ef8\u7d50\u69cb\u3001\u71b1\u7aef\u548c\u5217\u5370\u4ef6\u7684\u640d\u58de\u3002","title":"SET_STEPPER_ENABLE"},{"location":"G-Codes.html#temperature_fan","text":"\u7576\u555f\u7528 temperature_fan config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[temperature_fan]"},{"location":"G-Codes.html#set_temperature_fan_target","text":"SET_TEMPERATURE_FAN_TARGET temperature_fan=<temperature_fan_\u540d\u7a31> [target=<\u76ee\u6a19\u6eab\u5ea6>] [min_speed=<\u6700\u5c0f\u901f\u5ea6>] [max_speed=<\u6700\u5927\u901f\u5ea6>] \uff1a\u8a2d\u5b9a\u4e00\u500b\u6eab\u5ea6\u63a7\u5236\u98a8\u6247\u7684\u76ee\u6a19\u6eab\u5ea6\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9b\u76ee\u6a19\u6eab\u5ea6\uff0c\u5b83\u5c07\u88ab\u8a2d\u70ba\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u6eab\u5ea6\u3002\u5982\u679c\u6c92\u6709\u63d0\u4f9b\u901f\u5ea6\uff0c\u5247\u4e0d\u6703\u9032\u884c\u4efb\u4f55\u66f4\u6539\u3002","title":"SET_TEMPERATURE_FAN_TARGET"},{"location":"G-Codes.html#tmcxxxx","text":"\u7576\u555f\u7528\u4efb\u4f55 tmcXXXX config sections \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[tmcXXXX]"},{"location":"G-Codes.html#dump_tmc","text":"DUMP_TMC STEPPER=<name> \u3002\u8a72\u547d\u4ee4\u5c07\u8b80\u53d6TMC\u9a45\u52d5\u66ab\u5b58\u5668\u4e26\u5831\u544a\u5176\u503c\u3002","title":"DUMP_TMC"},{"location":"G-Codes.html#init_tmc","text":"INIT_TMC STEPPER=<\u540d\u7a31> \uff1a\u6b64\u547d\u4ee4\u5c07\u521d\u59cb\u5316 TMC \u66ab\u5b58\u5668\u3002\u5982\u679c\u6676\u7247\u7684\u96fb\u6e90\u95dc\u9589\u7136\u5f8c\u91cd\u65b0\u6253\u958b\uff0c\u5247\u9700\u8981\u91cd\u65b0\u555f\u7528\u8a72\u9a45\u52d5\u3002","title":"INIT_TMC"},{"location":"G-Codes.html#set_tmc_current","text":"SET_TMC_CURRENT STEPPER=<\u540d\u7a31> CURRENT=<\u5b89\u57f9> HOLDCURRENT=<\u5b89\u57f9> \uff1a\u8a72\u547d\u4ee4\u4fee\u6539TMC\u9a45\u52d5\u7684\u57f7\u884c\u548c\u4fdd\u6301\u96fb\u6d41\uff08HOLDCURRENT \u5728 tmc2660 \u9a45\u52d5\u4e0a\u4e0d\u8d77\u6548\uff09\u3002","title":"SET_TMC_CURRENT"},{"location":"G-Codes.html#set_tmc_field","text":"SET_TMC_FIELD STEPPER=<\u540d\u7a31> FIELD=<\u6b04\u4f4d> VALUE=<\u503c> \uff1a\u9019\u5c07\u4fee\u6539\u6307\u5b9a TMC \u6b65\u9032\u9a45\u52d5\u66ab\u5b58\u5668\u6b04\u4f4d\u7684\u503c\u3002\u8a72\u547d\u4ee4\u50c5\u9069\u7528\u65bc\u4f4e\u968e\u5225\u7684\u8a3a\u65b7\u548c\u9664\u932f\uff0c\u56e0\u70ba\u5728\u57f7\u884c\u671f\u9593\u6539\u8b8a\u6b04\u4f4d\u53ef\u80fd\u6703\u5c0e\u81f4\u5370\u8868\u6a5f\u51fa\u73fe\u4e0d\u7b26\u5408\u9810\u671f\u7684\u3001\u6709\u6f5b\u5728\u5371\u96aa\u7684\u884c\u70ba\u3002\u5e38\u898f\u4fee\u6539\u61c9\u7576\u901a\u904e\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u9032\u884c\u3002\u8a72\u547d\u4ee4\u4e0d\u6703\u5c0d\u7d66\u5b9a\u7684\u503c\u9032\u884c\u8d8a\u754c\u6aa2\u67e5\u3002","title":"SET_TMC_FIELD"},{"location":"G-Codes.html#toolhead","text":"\u6a21\u7d44toolhead\u5df2\u81ea\u52d5\u8f09\u5165.","title":"[toolhead]"},{"location":"G-Codes.html#set_velocity_limit","text":"SET_VELOCITY_LIMIT [VELOCITY=<\u503c>] [ACCEL=<\u503c>] [ACCEL_TO_DECEL=<\u503c>] [SQUARE_CORNER_VELOCITY=<\u503c>] \uff1a\u4fee\u6539\u5370\u8868\u6a5f\u901f\u5ea6\u9650\u5236\u3002","title":"SET_VELOCITY_LIMIT"},{"location":"G-Codes.html#tuning_tower","text":"\u6a21\u7d44 tuning_tower\u5df2\u81ea\u52d5\u8f09\u5165.","title":"[tuning_tower]"},{"location":"G-Codes.html#tuning_tower_1","text":"TUNING_TOWER COMMAND=<\u547d\u4ee4> PARAMETER=<\u540d\u7a31> START=<\u503c> [SKIP=<\u503c>] [FACTOR=<\u503c> [BAND=<\u503c>]] | [STEP_DELTA=<\u503c> STEP_HEIGHT=<\u503c>] \uff1a\u6839\u64daZ\u9ad8\u5ea6\u8abf\u6574\u53c3\u6578\u7684\u5de5\u5177\u3002\u8a72\u5de5\u5177\u5c07\u5b9a\u671f\u57f7\u884c\u4e00\u500b PARAMETER \u4e0d\u65b7\u6839\u64da Z \u7684\u516c\u5f0f\u8b8a\u5316\u7684 COMMAND \uff08\u547d\u4ee4\uff09\u3002\u5982\u679c\u4f7f\u7528\u4e00\u628a\u5c3a\u5b50\u6216\u8005\u904a\u6a19\u5361\u5c3a\u6e2c\u91cf Z\u4f86\u7372\u5f97\u6700\u4f73\u503c\uff0c\u4f60\u53ef\u4ee5\u7528 FACTOR \u3002\u5982\u679c\u5217\u5370\u4ef6\u5e36\u6709\u5e36\u72c0\u6a19\u8b58\u6216\u8005\u4f7f\u7528\u96e2\u6563\u6578\u503c\uff08\u4f8b\u5982\u6eab\u5ea6\u5854\uff09\uff0c\u53ef\u4ee5\u7528 STEP_DELTA \u548c STEP_HEIGHT \u3002\u5982\u679c SKIP=<\u503c> \u88ab\u5b9a\u7fa9\uff0c\u5247\u8abf\u6574\u96bb\u6703\u5728\u5230\u9054 Z \u9ad8\u5ea6 <\u503c> \u540e\u624d\u958b\u59cb\u3002\u5728\u6b64\u4e4b\u524d\uff0c\u53c3\u6578\u6703\u88ab\u8a2d\u5b9a\u70ba START \uff1b\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u4e0b\u9762\u516c\u5f0f\u4e2d z_height \u7528 max(z - skip, 0) \u66ff\u4ee3\u3002\u9019\u4e9b\u9078\u9805\u6709\u4e09\u7a2e\u4e0d\u540c\u7684\u7d44\u5408\uff1a FACTOR \uff1a\u6578\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u901f\u5ea6\u8b8a\u5316\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * z_height \u3002\u4f60\u53ef\u4ee5\u5c07\u6700\u4f73\u7684 Z \u9ad8\u5ea6\u76f4\u63a5\u63d2\u5165\u8a72\u516c\u5f0f\uff0c\u4ee5\u78ba\u5b9a\u6700\u4f73\u7684\u53c3\u6578\u503c\u3002 FACTOR \u548c BAND \uff1a\u8a72\u503c\u4ee5 factor \u6bcf\u6beb\u7c73\u7684\u5e73\u5747\u901f\u5ea6\u8b8a\u5316\uff0c\u4f46\u5728\u96e2\u6563\u7684\u74b0\u4e0a\uff0c\u6bcf BAND \u6beb\u7c73\u7684Z\u9ad8\u5ea6\u624d\u6703\u9032\u884c\u8abf\u6574\u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + factor * ((floor(z_height / band) + .5) * band) \u3002 STEP_DELTA \u548c STEP_HEIGHT \uff1a\u503c\u6bcf STEP_HEIGHT \u6beb\u7c73\u8b8a\u5316 STEP_DELTA \u3002\u4f7f\u7528\u7684\u516c\u5f0f\u662f\uff1a value = start + step_delta * floor(z_height / step_height) \u3002\u60a8\u53ef\u4ee5\u7c21\u55ae\u5730\u8a08\u7b97\u983b\u6bb5\u6216\u95b1\u8b80\u8abf\u8ae7\u5854\u6a19\u7c64\u4ee5\u78ba\u5b9a\u6700\u4f73\u503c\u3002","title":"TUNING_TOWER"},{"location":"G-Codes.html#virtual_sdcard","text":"\u5982\u679c\u555f\u7528\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5 \uff0cKlipper \u652f\u63f4\u4ee5\u4e0b\u6a19\u6e96 G-Code \u547d\u4ee4\uff1a \u5217\u51faSD\u5361\uff1a M20 \u521d\u59cb\u5316SD\u5361\uff1a M21 \u9078\u64c7SD\u5361\u6a94\u6848\uff1a M23 <filename> \u958b\u59cb/\u66ab\u505c SD \u5361\u5217\u5370\uff1a M24 \u66ab\u505c SD \u5361\u5217\u5370\uff1a M25 \u8a2d\u5b9a SD \u584a\u4f4d\u7f6e\uff1a M26 S<\u504f\u79fb> \u5831\u544aSD\u5361\u5217\u5370\u72c0\u614b\uff1a M27 \u6b64\u5916\uff0c\u7576\u555f\u7528\"virtual_sdcard\"\u914d\u7f6e\u5206\u6bb5\u6642\uff0c\u4ee5\u4e0b\u64f4\u5145\u5957\u4ef6\u547d\u4ee4\u53ef\u7528\u3002","title":"[virtual_sdcard]"},{"location":"G-Codes.html#sdcard_print_file","text":"SDCARD_PRINT_FILE FILENAME=<\u6a94\u540d> \uff1a\u8f09\u5165\u4e00\u500b\u6a94\u6848\u4e26\u958b\u59cb SD \u5217\u5370.","title":"SDCARD_PRINT_FILE"},{"location":"G-Codes.html#sdcard_reset_file","text":"SDCARD_RESET_FILE \uff1a\u89e3\u9664\u5b89\u88dd\u6a94\u6848\u4e26\u6e05\u9664SD\u72c0\u614b\u3002","title":"SDCARD_RESET_FILE"},{"location":"G-Codes.html#z_tilt","text":"\u7576\u555f\u7528 z_tilt config section \u6642\uff0c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u7528\u3002","title":"[z_tilt]"},{"location":"G-Codes.html#z_tilt_adjust","text":"Z_TILT_ADJUST [<probe_\u53c3\u6578>=<\u503c>] \uff1a\u8a72\u547d\u4ee4\u5c07\u63a2\u6e2c\u914d\u7f6e\u4e2d\u6307\u5b9a\u7684\u5ea7\u6a19\u4e26\u5c0d\u6bcf\u500bZ\u6b65\u9032\u96fb\u6a5f\u9032\u884c\u7368\u7acb\u7684\u8abf\u6574\u4ee5\u62b5\u6d88\u50be\u659c\u3002\u6709\u95dc\u53ef\u9078\u7684\u63a2\u91dd\u53c3\u6578\uff0c\u8a73\u898b PROBE \u547d\u4ee4\u3002","title":"Z_TILT_ADJUST"},{"location":"Hall_Filament_Width_Sensor.html","text":"\u970d\u723e\u8017\u6750\u7dda\u5f91\u611f\u6e2c\u5668 \u00b6 \u672c\u6a94\u6848\u4ecb\u7d39\u4e86\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\u7684\u4e3b\u6a5f\u6a21\u7d44\u3002\u7528\u65bc\u958b\u767c\u8a72\u4e3b\u6a5f\u6a21\u7d44\u7684\u786c\u9ad4\u57fa\u65bc\u5169\u500b\u970d\u723e\u7dda\u6027\u611f\u6e2c\u5668\uff08\u4f8b\u5982\uff0css49e\uff09\u3002\u88dd\u7f6e\u5167\u7684\u5169\u500b\u611f\u6e2c\u5668\u4f4d\u65bc\u5169\u5074\u3002\u5de5\u4f5c\u539f\u7406\uff1a\u5169\u500b\u970d\u723e\u611f\u6e2c\u5668\u4ee5\u5dee\u5206\u6a21\u5f0f\u5de5\u4f5c\uff0c\u7531\u65bc\u611f\u6e2c\u5668\u7684\u6eab\u5ea6\u6f02\u79fb\u76f8\u540c\u3002\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u6eab\u5ea6\u88dc\u511f\u3002 \u4f60\u53ef\u4ee5\u5728 Thingiverse \u4e0a\u627e\u5230\u8a2d\u8a08\uff0c\u5728 Youtube \u4e0a\u4e5f\u6709\u4e00\u500b\u88dd\u914d\u8996\u8a0a \u8981\u4f7f\u7528\u970d\u723e\u8017\u6750\u7dda\u5f91\u611f\u6e2c\u5668\uff0c\u8acb\u95b1\u8b80 \u914d\u7f6e\u53c3\u8003 \u548c G-Code \u6587\u4ef6 \u3002 \u5b83\u5982\u4f55\u904b\u4f5c\uff1f \u00b6 \u611f\u6e2c\u5668\u6839\u64da\u5169\u500b\u6a21\u64ec\u8f38\u51fa\u8a08\u7b97\u51fa\u8017\u6750\u76f4\u5f91\u3002\u6aa2\u6e2c\u5230\u7684\u96fb\u58d3\u4e4b\u548c\u59cb\u7d42\u5c0d\u61c9\u8017\u6750\u5bec\u5ea6\u3002\u4e3b\u6a5f\u6a21\u7d44\u76e3\u6e2c\u96fb\u58d3\u8b8a\u5316\u4e26\u8abf\u6574\u64e0\u51fa\u500d\u7387\u3002\u6211\u5728\u985e\u4f3cramps\u7684\u63a7\u5236\u677f\u4e0a\u4f7f\u7528aux2\u806f\u7d50\u5668\u7684 analog11\u548canalog12\u5f15\u8173\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u5f15\u8173\u548c\u4e0d\u540c\u7684\u63a7\u5236\u677f\u3002 \u83dc\u55ae\u8b8a\u6578\u6a21\u677f \u00b6 [menu __main __filament __width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Dia: {'%.2F' % printer.hall_filament_width_sensor.Diameter} index: 0 [menu __main __filament __raw_width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Raw: {'%4.0F' % printer.hall_filament_width_sensor.Raw} index: 1 \u6821\u6e96\u7a0b\u5f0f \u00b6 \u8981\u7372\u5f97\u539f\u59cb\u611f\u6e2c\u5668\u503c\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u83dc\u55ae\u4e2d\u7684\u9078\u9805\u6216\u5728\u7d42\u7aef\u767c\u9001 QUERY_RAW_FILAMENT_WIDTH \u547d\u4ee4\u3002 \u63d2\u5165\u7b2c\u4e00\u6839\u6821\u6e96\u68d2\uff081.5\u6beb\u7c73\u76f4\u5f91\uff09\uff0c\u4e26\u5f97\u5230\u7b2c\u4e00\u500b\u539f\u59cb\u611f\u6e2c\u5668\u503c \u63d2\u5165\u7b2c\u4e8c\u6839\u6821\u6e96\u68d2\uff082.0\u6beb\u7c73\u76f4\u5f91\uff09\uff0c\u4e26\u5f97\u5230\u7b2c\u4e8c\u500b\u539f\u59cb\u611f\u6e2c\u5668\u503c \u5728\u914d\u7f6e\u53c3\u6578 Raw_dia1 \u548c Raw_dia2 \u4e2d\u5beb\u5165\u539f\u59cb\u611f\u6e2c\u5668\u503c \u5982\u4f55\u555f\u7528\u611f\u6e2c\u5668 \u00b6 \u611f\u6e2c\u5668\u5728\u958b\u6a5f\u6642\u9810\u8a2d\u88ab\u7981\u7528\u3002 \u8981\u555f\u7528\u611f\u6e2c\u5668\uff0c\u767c\u9001 ENABLE_FILAMENT_WIDTH_SENSOR \u547d\u4ee4\u6216\u5c07 enable \u53c3\u6578\u6539\u70ba true \u3002 \u8a18\u9304 \u00b6 \u76f4\u5f91\u8a18\u9304\u5728\u958b\u6a5f\u6642\u9810\u8a2d\u88ab\u7981\u7528\u3002 \u767c\u9001 ENABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u958b\u59cb\u8a18\u9304\uff0c\u767c\u9001 DISABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u505c\u6b62\u8a18\u9304\u3002\u5982\u679c\u60f3\u5728\u958b\u6a5f\u6642\u555f\u7528\u65e5\u8a8c\u8a18\u9304\uff0c\u8acb\u5c07 logging \u914d\u7f6e\u53c3\u6578\u8a2d\u5b9a\u70ba true \u3002 \u6bcf\u500b\u6e2c\u91cf\u9593\u9694\u90fd\u6703\u8a18\u9304\u8017\u6750\u76f4\u5f91\uff08\u9810\u8a2d\u70ba10\u6beb\u7c73\uff09\u3002","title":"\u970d\u723e\u8017\u6750\u7dda\u5f91\u611f\u6e2c\u5668"},{"location":"Hall_Filament_Width_Sensor.html#_1","text":"\u672c\u6a94\u6848\u4ecb\u7d39\u4e86\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\u7684\u4e3b\u6a5f\u6a21\u7d44\u3002\u7528\u65bc\u958b\u767c\u8a72\u4e3b\u6a5f\u6a21\u7d44\u7684\u786c\u9ad4\u57fa\u65bc\u5169\u500b\u970d\u723e\u7dda\u6027\u611f\u6e2c\u5668\uff08\u4f8b\u5982\uff0css49e\uff09\u3002\u88dd\u7f6e\u5167\u7684\u5169\u500b\u611f\u6e2c\u5668\u4f4d\u65bc\u5169\u5074\u3002\u5de5\u4f5c\u539f\u7406\uff1a\u5169\u500b\u970d\u723e\u611f\u6e2c\u5668\u4ee5\u5dee\u5206\u6a21\u5f0f\u5de5\u4f5c\uff0c\u7531\u65bc\u611f\u6e2c\u5668\u7684\u6eab\u5ea6\u6f02\u79fb\u76f8\u540c\u3002\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u6eab\u5ea6\u88dc\u511f\u3002 \u4f60\u53ef\u4ee5\u5728 Thingiverse \u4e0a\u627e\u5230\u8a2d\u8a08\uff0c\u5728 Youtube \u4e0a\u4e5f\u6709\u4e00\u500b\u88dd\u914d\u8996\u8a0a \u8981\u4f7f\u7528\u970d\u723e\u8017\u6750\u7dda\u5f91\u611f\u6e2c\u5668\uff0c\u8acb\u95b1\u8b80 \u914d\u7f6e\u53c3\u8003 \u548c G-Code \u6587\u4ef6 \u3002","title":"\u970d\u723e\u8017\u6750\u7dda\u5f91\u611f\u6e2c\u5668"},{"location":"Hall_Filament_Width_Sensor.html#_2","text":"\u611f\u6e2c\u5668\u6839\u64da\u5169\u500b\u6a21\u64ec\u8f38\u51fa\u8a08\u7b97\u51fa\u8017\u6750\u76f4\u5f91\u3002\u6aa2\u6e2c\u5230\u7684\u96fb\u58d3\u4e4b\u548c\u59cb\u7d42\u5c0d\u61c9\u8017\u6750\u5bec\u5ea6\u3002\u4e3b\u6a5f\u6a21\u7d44\u76e3\u6e2c\u96fb\u58d3\u8b8a\u5316\u4e26\u8abf\u6574\u64e0\u51fa\u500d\u7387\u3002\u6211\u5728\u985e\u4f3cramps\u7684\u63a7\u5236\u677f\u4e0a\u4f7f\u7528aux2\u806f\u7d50\u5668\u7684 analog11\u548canalog12\u5f15\u8173\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u5f15\u8173\u548c\u4e0d\u540c\u7684\u63a7\u5236\u677f\u3002","title":"\u5b83\u5982\u4f55\u904b\u4f5c\uff1f"},{"location":"Hall_Filament_Width_Sensor.html#_3","text":"[menu __main __filament __width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Dia: {'%.2F' % printer.hall_filament_width_sensor.Diameter} index: 0 [menu __main __filament __raw_width_current] type: command enable: {'hall_filament_width_sensor' in printer} name: Raw: {'%4.0F' % printer.hall_filament_width_sensor.Raw} index: 1","title":"\u83dc\u55ae\u8b8a\u6578\u6a21\u677f"},{"location":"Hall_Filament_Width_Sensor.html#_4","text":"\u8981\u7372\u5f97\u539f\u59cb\u611f\u6e2c\u5668\u503c\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u83dc\u55ae\u4e2d\u7684\u9078\u9805\u6216\u5728\u7d42\u7aef\u767c\u9001 QUERY_RAW_FILAMENT_WIDTH \u547d\u4ee4\u3002 \u63d2\u5165\u7b2c\u4e00\u6839\u6821\u6e96\u68d2\uff081.5\u6beb\u7c73\u76f4\u5f91\uff09\uff0c\u4e26\u5f97\u5230\u7b2c\u4e00\u500b\u539f\u59cb\u611f\u6e2c\u5668\u503c \u63d2\u5165\u7b2c\u4e8c\u6839\u6821\u6e96\u68d2\uff082.0\u6beb\u7c73\u76f4\u5f91\uff09\uff0c\u4e26\u5f97\u5230\u7b2c\u4e8c\u500b\u539f\u59cb\u611f\u6e2c\u5668\u503c \u5728\u914d\u7f6e\u53c3\u6578 Raw_dia1 \u548c Raw_dia2 \u4e2d\u5beb\u5165\u539f\u59cb\u611f\u6e2c\u5668\u503c","title":"\u6821\u6e96\u7a0b\u5f0f"},{"location":"Hall_Filament_Width_Sensor.html#_5","text":"\u611f\u6e2c\u5668\u5728\u958b\u6a5f\u6642\u9810\u8a2d\u88ab\u7981\u7528\u3002 \u8981\u555f\u7528\u611f\u6e2c\u5668\uff0c\u767c\u9001 ENABLE_FILAMENT_WIDTH_SENSOR \u547d\u4ee4\u6216\u5c07 enable \u53c3\u6578\u6539\u70ba true \u3002","title":"\u5982\u4f55\u555f\u7528\u611f\u6e2c\u5668"},{"location":"Hall_Filament_Width_Sensor.html#_6","text":"\u76f4\u5f91\u8a18\u9304\u5728\u958b\u6a5f\u6642\u9810\u8a2d\u88ab\u7981\u7528\u3002 \u767c\u9001 ENABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u958b\u59cb\u8a18\u9304\uff0c\u767c\u9001 DISABLE_FILAMENT_WIDTH_LOG \u547d\u4ee4\u505c\u6b62\u8a18\u9304\u3002\u5982\u679c\u60f3\u5728\u958b\u6a5f\u6642\u555f\u7528\u65e5\u8a8c\u8a18\u9304\uff0c\u8acb\u5c07 logging \u914d\u7f6e\u53c3\u6578\u8a2d\u5b9a\u70ba true \u3002 \u6bcf\u500b\u6e2c\u91cf\u9593\u9694\u90fd\u6703\u8a18\u9304\u8017\u6750\u76f4\u5f91\uff08\u9810\u8a2d\u70ba10\u6beb\u7c73\uff09\u3002","title":"\u8a18\u9304"},{"location":"Installation.html","text":"\u5b89\u88dd \u00b6 \u672c\u6559\u7a0b\u5047\u5b9a\u8edf\u9ad4\u5c07\u6703\u5728\u6a39\u8393\u6d3e\u4e0a\u548c Octoprint \u4e00\u8d77\u57f7\u884c\u3002\u63a8\u85a6\u4f7f\u7528\u6a39\u8393\u6d3e2/3/4\u4f5c\u70ba\u4e3b\u6a5f\uff08\u95dc\u65bc\u5176\u4ed6\u88dd\u7f6e\uff0c\u8acb\u898b \u5e38\u898b\u554f\u984c \uff09\u3002 Obtain a Klipper Configuration File \u00b6 Most Klipper settings are determined by a \"printer configuration file\" that will be stored on the Raspberry Pi. An appropriate configuration file can often be found by looking in the Klipper config directory for a file starting with a \"printer-\" prefix that corresponds to the target printer. The Klipper configuration file contains technical information about the printer that will be needed during the installation. If there isn't an appropriate printer configuration file in the Klipper config directory then try searching the printer manufacturer's website to see if they have an appropriate Klipper configuration file. If no configuration file for the printer can be found, but the type of printer control board is known, then look for an appropriate config file starting with a \"generic-\" prefix. These example printer board files should allow one to successfully complete the initial installation, but will require some customization to obtain full printer functionality. It is also possible to define a new printer configuration from scratch. However, this requires significant technical knowledge about the printer and its electronics. It is recommended that most users start with an appropriate configuration file. If creating a new custom printer configuration file, then start with the closest example config file and use the Klipper config reference for further information. \u6e96\u5099\u64cd\u4f5c\u7cfb\u7d71\u6620\u8c61 \u00b6 \u5148\u5728\u6a39\u8393\u6d3e\u4e0a\u5b89\u88dd OctoPi \u3002\u8acb\u4f7f\u7528OctoPi v0.17.0\u6216\u66f4\u9ad8\u7248\u672c\uff0c\u6aa2\u8996 Octopi \u767c\u884c\u7248 \u4f86\u7372\u53d6\u6700\u65b0\u767c\u5e03\u7248\u672c\u3002\u5b89\u88dd\u5b8c\u7cfb\u7d71\u540e\uff0c\u8acb\u5148\u9a57\u8b49 OctoPi \u80fd\u6b63\u5e38\u555f\u52d5\uff0c\u4e26\u4e14 OctoPrint \u7db2\u8def\u4f3a\u670d\u5668\u6b63\u5e38\u57f7\u884c\u3002\u9023\u7dda\u5230 OctoPrint \u7db2\u9801\u540e\uff0c\u6309\u7167\u63d0\u793a\u5c07 OctoPrint \u66f4\u65b0\u5230v1.4.2\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u5728\u5b89\u88dd OctoPi \u548c\u5347\u7d1a OctoPrint\u540e\uff0c\u7528 ssh \u9032\u5165\u76ee\u6a19\u88dd\u7f6e\uff0c\u4ee5\u57f7\u884c\u5c11\u91cf\u7684\u7cfb\u7d71\u547d\u4ee4\u3002\u5982\u679c\u4f7f\u7528Linux\u6216MacOS\u7cfb\u7d71\uff0c\u90a3\u9ebc \"ssh\"\u8edf\u9ad4\u61c9\u8a72\u5df2\u7d93\u9810\u88dd\u5728\u7cfb\u7d71\u4e0a\u3002\u6709\u4e00\u4e9b\u514d\u8cbb\u7684ssh\u5ba2\u6236\u7aef\u53ef\u7528\u65bc\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7d71\uff08\u4f8b\u5982\uff0c PuTTY \uff09\u3002\u4f7f\u7528ssh\u5de5\u5177\u9023\u7dda\u5230Raspberry Pi\uff08ssh pi@octopi --\u5bc6\u78bc\u662f \"raspberry\"\uff09\uff0c\u4e26\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-octopi.sh \u4ee5\u4e0a\u5c07\u6703\u4e0b\u8f09 Klipper \u3001\u5b89\u88dd\u4e00\u4e9b\u7cfb\u7d71\u4f9d\u8cf4\u3001\u8a2d\u5b9a Klipper \u5728\u7cfb\u7d71\u555f\u52d5\u6642\u57f7\u884c\u4e26\u555f\u52d5Klipper \u4e3b\u6a5f\u7a0b\u5f0f\u3002\u9019\u5c07\u9700\u8981\u7db2\u969b\u7db2\u8def\u9023\u7dda\u4ee5\u53ca\u53ef\u80fd\u9700\u8981\u5e7e\u5206\u9418\u6642\u9593\u624d\u80fd\u5b8c\u6210\u3002 \u69cb\u5efa\u548c\u5237\u5beb\u5fae\u63a7\u5236\u5668 \u00b6 \u5728\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e4b\u524d\uff0c\u9996\u5148\u5728\u6a39\u8393\u6d3e\u4e0a\u57f7\u884c\u9019\u4e9b\u547d\u4ee4\uff1a cd ~/klipper/ make menuconfig The comments at the top of the printer configuration file should describe the settings that need to be set during \"make menuconfig\". Open the file in a web browser or text editor and look for these instructions near the top of the file. Once the appropriate \"menuconfig\" settings have been configured, press \"Q\" to exit, and then \"Y\" to save. Then run: make If the comments at the top of the printer configuration file describe custom steps for \"flashing\" the final image to the printer control board then follow those steps and then proceed to configuring OctoPrint . Otherwise, the following steps are often used to \"flash\" the printer control board. First, it is necessary to determine the serial port connected to the micro-controller. Run the following: ls /dev/serial/by-id/* \u5b83\u61c9\u8a72\u5831\u544a\u985e\u4f3c\u4ee5\u4e0b\u7684\u5167\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u901a\u5e38\u6bcf\u4e00\u500b\u5370\u8868\u6a5f\u90fd\u6709\u81ea\u5df1\u7368\u7279\u7684\u4e32\u5217\u57e0\u540d\uff0c\u9019\u500b\u7368\u7279\u4e32\u5217\u57e0\u540d\u5c07\u6703\u5728\u5237\u5beb\u5fae\u8655\u7406\u5668\u6642\u7528\u5230\u3002\u5728\u4e0a\u8ff0\u8f38\u51fa\u4e2d\u53ef\u80fd\u6709\u591a\u884c\u3002\u5982\u679c\u662f\u9019\u6a23\u7684\u8a71\u9078\u64c7\u8207\u5fae\u63a7\u5236\u5668\u76f8\u61c9\u7684 (\u6aa2\u8996 FAQ \u77ad\u89e3\u66f4\u591a\u8cc7\u8a0a). \u5c0d\u65bc\u5e38\u898b\u7684\u5fae\u63a7\u5236\u5668\uff0c\u53ef\u4ee5\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\u4f86\u5237\u5beb\u97cc\u9ad4\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u8acb\u52d9\u5fc5\u7528\u5370\u8868\u6a5f\u7684\u552f\u4e00\u4e32\u5217\u57e0\u540d\u7a31\u4f86\u66f4\u65b0 FLASH_DEVICE \u53c3\u6578\u3002 \u7b2c\u4e00\u6b21\u5237\u5beb\u6642\u8981\u78ba\u4fdd OctoPrint \u6c92\u6709\u76f4\u63a5\u9023\u7dda\u5230\u5370\u8868\u6a5f\uff08\u5728 OctoPrint \u7db2\u9801\u7684 \"\u9023\u7dda \"\u5206\u6bb5\u4e2d\u9ede\u9078 \"\u65b7\u958b\u9023\u7dda\"\uff09\u3002 \u70baKlipper\u914d\u7f6e OctoPrint \u00b6 OctoPrint\u7db2\u8def\u4f3a\u670d\u5668\u9700\u8981\u9032\u884c\u914d\u7f6e\uff0c\u4ee5\u4fbf\u8207Klipper host \u8edf\u9ad4\u9032\u884c\u901a\u8a0a\u3002\u4f7f\u7528\u7db2\u8def\u700f\u89bd\u5668\uff0c\u767b\u9304\u5230OctoPrint\u7db2\u9801\uff0c\u7136\u5f8c\u914d\u7f6e\u4ee5\u4e0b\u5c08\u6848\uff1a \u5c0e\u822a\u5230 \"\u8a2d\u5b9a \"\uff08\u9801\u9762\u9802\u90e8\u7684\u6273\u624b\u5716\u793a\uff09\u3002\u5728 \"\u5e8f\u5217\u9023\u7dda \"\u4e0b\u7684 \"\u9644\u52a0\u4e32\u5217\u57e0 \"\u4e2d\u65b0\u589e\"/tmp/printer\"\u3002\u7136\u5f8c\u9ede\u9078 \"\u5132\u5b58\"\u3002 \u518d\u6b21\u9032\u5165 \"\u8a2d\u5b9a\"\uff0c\u5728 \"\u5e8f\u5217\u9023\u7dda\" \u4e0b\u5c07 \"\u4e32\u5217\u57e0\" \u8a2d\u5b9a\u6539\u70ba\"/tmp/printer\"\u3002 \u5728 \"\u8a2d\u5b9a \"\u4e2d\uff0c\u700f\u89bd\u5230 \"Behavior \"\u5b50\u9078\u9805\u5361\uff0c\u9078\u64c7 \"\u53d6\u6d88\u4efb\u4f55\u6b63\u5728\u9032\u884c\u7684\u5217\u5370\uff0c\u4f46\u4fdd\u6301\u8207\u5370\u8868\u6a5f\u7684\u9023\u7dda \"\u9078\u9805\u3002\u9ede\u9078 \"\u5132\u5b58\"\u3002 \u5728\u4e3b\u9801\u4e0a\uff0c\u5728 \"\u9023\u7dda \"\u90e8\u5206\uff08\u5728\u9801\u9762\u7684\u5de6\u4e0a\u65b9\uff09\uff0c\u78ba\u4fdd \"\u4e32\u5217\u57e0 \"\u88ab\u8a2d\u5b9a\u70ba\"/tmp/printer\"\uff0c\u7136\u5f8c\u9ede\u9078 \"\u9023\u7dda\"\u3002(\u5982\u679c\"/tmp/printer \"\u4e0d\u662f\u4e00\u500b\u53ef\u7528\u7684\u9078\u64c7\uff0c\u90a3\u9ebc\u8a66\u8457\u91cd\u65b0\u8f09\u5165\u9801\u9762) \u9023\u7dda\u540e\uff0c\u5c0e\u822a\u5230 \"\u7d42\u7aef \"\u9078\u9805\u5361\uff0c\u5728\u547d\u4ee4\u8f38\u5165\u6846\u4e2d\u8f38\u5165 \"status\"\uff08\u4e0d\u5e36\u5f15\u865f\uff09\uff0c\u7136\u5f8c\u9ede\u9078 \"\u767c\u9001\"\u3002\u7d42\u7aef\u8996\u7a97\u53ef\u80fd\u6703\u5831\u544a\u5728\u6253\u958b\u914d\u7f6e\u6a94\u6848\u6642\u51fa\u73fe\u4e86\u932f\u8aa4--\u9019\u610f\u5473\u8457 OctoPrint \u8207 Klipper \u6210\u529f\u5730\u9032\u884c\u4e86\u901a\u8a0a\u3002\u7e7c\u7e8c\u4e0b\u4e00\u90e8\u5206\u3002 \u914d\u7f6e Klipper \u00b6 The next step is to copy the printer configuration file to the Raspberry Pi. Arguably the easiest way to set the Klipper configuration file is to use a desktop editor that supports editing files over the \"scp\" and/or \"sftp\" protocols. There are freely available tools that support this (eg, Notepad++, WinSCP, and Cyberduck). Load the printer config file in the editor and then save it as a file named \"printer.cfg\" in the home directory of the pi user (ie, /home/pi/printer.cfg). Alternatively, one can also copy and edit the file directly on the Raspberry Pi via ssh. That may look something like the following (be sure to update the command to use the appropriate printer config filename): cp ~/klipper/config/example-cartesian.cfg ~/printer.cfg nano ~/printer.cfg It's common for each printer to have its own unique name for the micro-controller. The name may change after flashing Klipper, so rerun these steps again even if they were already done when flashing. Run: ls /dev/serial/by-id/* \u5b83\u61c9\u8a72\u5831\u544a\u985e\u4f3c\u4ee5\u4e0b\u7684\u5167\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 Then update the config file with the unique name. For example, update the [mcu] section to look something similar to: [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 After creating and editing the file it will be necessary to issue a \"restart\" command in the OctoPrint web terminal to load the config. A \"status\" command will report the printer is ready if the Klipper config file is successfully read and the micro-controller is successfully found and configured. When customizing the printer config file, it is not uncommon for Klipper to report a configuration error. If an error occurs, make any necessary corrections to the printer config file and issue \"restart\" until \"status\" reports the printer is ready. Klipper\u901a\u904eOctoPrint\u7d42\u7aef\u6a19\u7c64\u5831\u544a\u932f\u8aa4\u8cc7\u8a0a\u3002\u53ef\u4ee5\u4f7f\u7528 \"status \"\u547d\u4ee4\u4f86\u91cd\u65b0\u5831\u544a\u932f\u8aa4\u8cc7\u8a0a\u3002\u9810\u8a2d\u7684Klipper\u555f\u52d5\u6307\u4ee4\u78bc\u4e5f\u5728 /tmp/klippy.log \u4e2d\u653e\u7f6e\u4e00\u500b\u65e5\u8a8c\uff0c\u63d0\u4f9b\u66f4\u8a73\u7d30\u7684\u8cc7\u8a0a\u3002 After Klipper reports that the printer is ready, proceed to the config check document to perform some basic checks on the definitions in the config file. See the main documentation reference for other information.","title":"\u5b89\u88dd"},{"location":"Installation.html#_1","text":"\u672c\u6559\u7a0b\u5047\u5b9a\u8edf\u9ad4\u5c07\u6703\u5728\u6a39\u8393\u6d3e\u4e0a\u548c Octoprint \u4e00\u8d77\u57f7\u884c\u3002\u63a8\u85a6\u4f7f\u7528\u6a39\u8393\u6d3e2/3/4\u4f5c\u70ba\u4e3b\u6a5f\uff08\u95dc\u65bc\u5176\u4ed6\u88dd\u7f6e\uff0c\u8acb\u898b \u5e38\u898b\u554f\u984c \uff09\u3002","title":"\u5b89\u88dd"},{"location":"Installation.html#obtain-a-klipper-configuration-file","text":"Most Klipper settings are determined by a \"printer configuration file\" that will be stored on the Raspberry Pi. An appropriate configuration file can often be found by looking in the Klipper config directory for a file starting with a \"printer-\" prefix that corresponds to the target printer. The Klipper configuration file contains technical information about the printer that will be needed during the installation. If there isn't an appropriate printer configuration file in the Klipper config directory then try searching the printer manufacturer's website to see if they have an appropriate Klipper configuration file. If no configuration file for the printer can be found, but the type of printer control board is known, then look for an appropriate config file starting with a \"generic-\" prefix. These example printer board files should allow one to successfully complete the initial installation, but will require some customization to obtain full printer functionality. It is also possible to define a new printer configuration from scratch. However, this requires significant technical knowledge about the printer and its electronics. It is recommended that most users start with an appropriate configuration file. If creating a new custom printer configuration file, then start with the closest example config file and use the Klipper config reference for further information.","title":"Obtain a Klipper Configuration File"},{"location":"Installation.html#_2","text":"\u5148\u5728\u6a39\u8393\u6d3e\u4e0a\u5b89\u88dd OctoPi \u3002\u8acb\u4f7f\u7528OctoPi v0.17.0\u6216\u66f4\u9ad8\u7248\u672c\uff0c\u6aa2\u8996 Octopi \u767c\u884c\u7248 \u4f86\u7372\u53d6\u6700\u65b0\u767c\u5e03\u7248\u672c\u3002\u5b89\u88dd\u5b8c\u7cfb\u7d71\u540e\uff0c\u8acb\u5148\u9a57\u8b49 OctoPi \u80fd\u6b63\u5e38\u555f\u52d5\uff0c\u4e26\u4e14 OctoPrint \u7db2\u8def\u4f3a\u670d\u5668\u6b63\u5e38\u57f7\u884c\u3002\u9023\u7dda\u5230 OctoPrint \u7db2\u9801\u540e\uff0c\u6309\u7167\u63d0\u793a\u5c07 OctoPrint \u66f4\u65b0\u5230v1.4.2\u6216\u66f4\u9ad8\u7248\u672c\u3002 \u5728\u5b89\u88dd OctoPi \u548c\u5347\u7d1a OctoPrint\u540e\uff0c\u7528 ssh \u9032\u5165\u76ee\u6a19\u88dd\u7f6e\uff0c\u4ee5\u57f7\u884c\u5c11\u91cf\u7684\u7cfb\u7d71\u547d\u4ee4\u3002\u5982\u679c\u4f7f\u7528Linux\u6216MacOS\u7cfb\u7d71\uff0c\u90a3\u9ebc \"ssh\"\u8edf\u9ad4\u61c9\u8a72\u5df2\u7d93\u9810\u88dd\u5728\u7cfb\u7d71\u4e0a\u3002\u6709\u4e00\u4e9b\u514d\u8cbb\u7684ssh\u5ba2\u6236\u7aef\u53ef\u7528\u65bc\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7d71\uff08\u4f8b\u5982\uff0c PuTTY \uff09\u3002\u4f7f\u7528ssh\u5de5\u5177\u9023\u7dda\u5230Raspberry Pi\uff08ssh pi@octopi --\u5bc6\u78bc\u662f \"raspberry\"\uff09\uff0c\u4e26\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a git clone https://github.com/Klipper3d/klipper ./klipper/scripts/install-octopi.sh \u4ee5\u4e0a\u5c07\u6703\u4e0b\u8f09 Klipper \u3001\u5b89\u88dd\u4e00\u4e9b\u7cfb\u7d71\u4f9d\u8cf4\u3001\u8a2d\u5b9a Klipper \u5728\u7cfb\u7d71\u555f\u52d5\u6642\u57f7\u884c\u4e26\u555f\u52d5Klipper \u4e3b\u6a5f\u7a0b\u5f0f\u3002\u9019\u5c07\u9700\u8981\u7db2\u969b\u7db2\u8def\u9023\u7dda\u4ee5\u53ca\u53ef\u80fd\u9700\u8981\u5e7e\u5206\u9418\u6642\u9593\u624d\u80fd\u5b8c\u6210\u3002","title":"\u6e96\u5099\u64cd\u4f5c\u7cfb\u7d71\u6620\u8c61"},{"location":"Installation.html#_3","text":"\u5728\u7de8\u8b6f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e4b\u524d\uff0c\u9996\u5148\u5728\u6a39\u8393\u6d3e\u4e0a\u57f7\u884c\u9019\u4e9b\u547d\u4ee4\uff1a cd ~/klipper/ make menuconfig The comments at the top of the printer configuration file should describe the settings that need to be set during \"make menuconfig\". Open the file in a web browser or text editor and look for these instructions near the top of the file. Once the appropriate \"menuconfig\" settings have been configured, press \"Q\" to exit, and then \"Y\" to save. Then run: make If the comments at the top of the printer configuration file describe custom steps for \"flashing\" the final image to the printer control board then follow those steps and then proceed to configuring OctoPrint . Otherwise, the following steps are often used to \"flash\" the printer control board. First, it is necessary to determine the serial port connected to the micro-controller. Run the following: ls /dev/serial/by-id/* \u5b83\u61c9\u8a72\u5831\u544a\u985e\u4f3c\u4ee5\u4e0b\u7684\u5167\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 \u901a\u5e38\u6bcf\u4e00\u500b\u5370\u8868\u6a5f\u90fd\u6709\u81ea\u5df1\u7368\u7279\u7684\u4e32\u5217\u57e0\u540d\uff0c\u9019\u500b\u7368\u7279\u4e32\u5217\u57e0\u540d\u5c07\u6703\u5728\u5237\u5beb\u5fae\u8655\u7406\u5668\u6642\u7528\u5230\u3002\u5728\u4e0a\u8ff0\u8f38\u51fa\u4e2d\u53ef\u80fd\u6709\u591a\u884c\u3002\u5982\u679c\u662f\u9019\u6a23\u7684\u8a71\u9078\u64c7\u8207\u5fae\u63a7\u5236\u5668\u76f8\u61c9\u7684 (\u6aa2\u8996 FAQ \u77ad\u89e3\u66f4\u591a\u8cc7\u8a0a). \u5c0d\u65bc\u5e38\u898b\u7684\u5fae\u63a7\u5236\u5668\uff0c\u53ef\u4ee5\u7528\u985e\u4f3c\u4ee5\u4e0b\u7684\u65b9\u6cd5\u4f86\u5237\u5beb\u97cc\u9ad4\uff1a sudo service klipper stop make flash FLASH_DEVICE=/dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 sudo service klipper start \u8acb\u52d9\u5fc5\u7528\u5370\u8868\u6a5f\u7684\u552f\u4e00\u4e32\u5217\u57e0\u540d\u7a31\u4f86\u66f4\u65b0 FLASH_DEVICE \u53c3\u6578\u3002 \u7b2c\u4e00\u6b21\u5237\u5beb\u6642\u8981\u78ba\u4fdd OctoPrint \u6c92\u6709\u76f4\u63a5\u9023\u7dda\u5230\u5370\u8868\u6a5f\uff08\u5728 OctoPrint \u7db2\u9801\u7684 \"\u9023\u7dda \"\u5206\u6bb5\u4e2d\u9ede\u9078 \"\u65b7\u958b\u9023\u7dda\"\uff09\u3002","title":"\u69cb\u5efa\u548c\u5237\u5beb\u5fae\u63a7\u5236\u5668"},{"location":"Installation.html#klipper-octoprint","text":"OctoPrint\u7db2\u8def\u4f3a\u670d\u5668\u9700\u8981\u9032\u884c\u914d\u7f6e\uff0c\u4ee5\u4fbf\u8207Klipper host \u8edf\u9ad4\u9032\u884c\u901a\u8a0a\u3002\u4f7f\u7528\u7db2\u8def\u700f\u89bd\u5668\uff0c\u767b\u9304\u5230OctoPrint\u7db2\u9801\uff0c\u7136\u5f8c\u914d\u7f6e\u4ee5\u4e0b\u5c08\u6848\uff1a \u5c0e\u822a\u5230 \"\u8a2d\u5b9a \"\uff08\u9801\u9762\u9802\u90e8\u7684\u6273\u624b\u5716\u793a\uff09\u3002\u5728 \"\u5e8f\u5217\u9023\u7dda \"\u4e0b\u7684 \"\u9644\u52a0\u4e32\u5217\u57e0 \"\u4e2d\u65b0\u589e\"/tmp/printer\"\u3002\u7136\u5f8c\u9ede\u9078 \"\u5132\u5b58\"\u3002 \u518d\u6b21\u9032\u5165 \"\u8a2d\u5b9a\"\uff0c\u5728 \"\u5e8f\u5217\u9023\u7dda\" \u4e0b\u5c07 \"\u4e32\u5217\u57e0\" \u8a2d\u5b9a\u6539\u70ba\"/tmp/printer\"\u3002 \u5728 \"\u8a2d\u5b9a \"\u4e2d\uff0c\u700f\u89bd\u5230 \"Behavior \"\u5b50\u9078\u9805\u5361\uff0c\u9078\u64c7 \"\u53d6\u6d88\u4efb\u4f55\u6b63\u5728\u9032\u884c\u7684\u5217\u5370\uff0c\u4f46\u4fdd\u6301\u8207\u5370\u8868\u6a5f\u7684\u9023\u7dda \"\u9078\u9805\u3002\u9ede\u9078 \"\u5132\u5b58\"\u3002 \u5728\u4e3b\u9801\u4e0a\uff0c\u5728 \"\u9023\u7dda \"\u90e8\u5206\uff08\u5728\u9801\u9762\u7684\u5de6\u4e0a\u65b9\uff09\uff0c\u78ba\u4fdd \"\u4e32\u5217\u57e0 \"\u88ab\u8a2d\u5b9a\u70ba\"/tmp/printer\"\uff0c\u7136\u5f8c\u9ede\u9078 \"\u9023\u7dda\"\u3002(\u5982\u679c\"/tmp/printer \"\u4e0d\u662f\u4e00\u500b\u53ef\u7528\u7684\u9078\u64c7\uff0c\u90a3\u9ebc\u8a66\u8457\u91cd\u65b0\u8f09\u5165\u9801\u9762) \u9023\u7dda\u540e\uff0c\u5c0e\u822a\u5230 \"\u7d42\u7aef \"\u9078\u9805\u5361\uff0c\u5728\u547d\u4ee4\u8f38\u5165\u6846\u4e2d\u8f38\u5165 \"status\"\uff08\u4e0d\u5e36\u5f15\u865f\uff09\uff0c\u7136\u5f8c\u9ede\u9078 \"\u767c\u9001\"\u3002\u7d42\u7aef\u8996\u7a97\u53ef\u80fd\u6703\u5831\u544a\u5728\u6253\u958b\u914d\u7f6e\u6a94\u6848\u6642\u51fa\u73fe\u4e86\u932f\u8aa4--\u9019\u610f\u5473\u8457 OctoPrint \u8207 Klipper \u6210\u529f\u5730\u9032\u884c\u4e86\u901a\u8a0a\u3002\u7e7c\u7e8c\u4e0b\u4e00\u90e8\u5206\u3002","title":"\u70baKlipper\u914d\u7f6e OctoPrint"},{"location":"Installation.html#klipper","text":"The next step is to copy the printer configuration file to the Raspberry Pi. Arguably the easiest way to set the Klipper configuration file is to use a desktop editor that supports editing files over the \"scp\" and/or \"sftp\" protocols. There are freely available tools that support this (eg, Notepad++, WinSCP, and Cyberduck). Load the printer config file in the editor and then save it as a file named \"printer.cfg\" in the home directory of the pi user (ie, /home/pi/printer.cfg). Alternatively, one can also copy and edit the file directly on the Raspberry Pi via ssh. That may look something like the following (be sure to update the command to use the appropriate printer config filename): cp ~/klipper/config/example-cartesian.cfg ~/printer.cfg nano ~/printer.cfg It's common for each printer to have its own unique name for the micro-controller. The name may change after flashing Klipper, so rerun these steps again even if they were already done when flashing. Run: ls /dev/serial/by-id/* \u5b83\u61c9\u8a72\u5831\u544a\u985e\u4f3c\u4ee5\u4e0b\u7684\u5167\u5bb9\uff1a /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 Then update the config file with the unique name. For example, update the [mcu] section to look something similar to: [mcu] serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0 After creating and editing the file it will be necessary to issue a \"restart\" command in the OctoPrint web terminal to load the config. A \"status\" command will report the printer is ready if the Klipper config file is successfully read and the micro-controller is successfully found and configured. When customizing the printer config file, it is not uncommon for Klipper to report a configuration error. If an error occurs, make any necessary corrections to the printer config file and issue \"restart\" until \"status\" reports the printer is ready. Klipper\u901a\u904eOctoPrint\u7d42\u7aef\u6a19\u7c64\u5831\u544a\u932f\u8aa4\u8cc7\u8a0a\u3002\u53ef\u4ee5\u4f7f\u7528 \"status \"\u547d\u4ee4\u4f86\u91cd\u65b0\u5831\u544a\u932f\u8aa4\u8cc7\u8a0a\u3002\u9810\u8a2d\u7684Klipper\u555f\u52d5\u6307\u4ee4\u78bc\u4e5f\u5728 /tmp/klippy.log \u4e2d\u653e\u7f6e\u4e00\u500b\u65e5\u8a8c\uff0c\u63d0\u4f9b\u66f4\u8a73\u7d30\u7684\u8cc7\u8a0a\u3002 After Klipper reports that the printer is ready, proceed to the config check document to perform some basic checks on the definitions in the config file. See the main documentation reference for other information.","title":"\u914d\u7f6e Klipper"},{"location":"Kinematics.html","text":"\u904b\u52d5\u5b78 \u00b6 \u8a72\u6587\u4ef6\u63d0\u4f9bKlipper\u5be6\u73fe\u6a5f\u68b0 \u904b\u52d5\u5b78 \u63a7\u5236\u7684\u6982\u8ff0\uff0c\u4ee5\u4f9b \u81f4\u529b\u65bc\u5b8c\u5584Klipper\u7684\u958b\u767c\u8005 \u6216 \u5e0c\u671b\u5c0d\u81ea\u5df1\u7684\u88dd\u7f6e\u7684\u6a5f\u68b0\u539f\u7406\u6709\u9032\u4e00\u6b65\u77ad\u89e3\u7684\u611b\u597d\u8005 \u53c3\u8003\u3002 \u52a0\u901f \u00b6 Klipper\u7e3d\u4f7f\u7528\u5e38\u52a0\u901f\u5ea6\u7b56\u7565\u2014\u2014\u5217\u5370\u982d\u7684\u901f\u5ea6\u7e3d\u662f\u68af\u5ea6\u8b8a\u5316\u5230\u65b0\u7684\u901f\u5ea6\uff0c\u800c\u975e\u4f7f\u7528\u901f\u5ea6\u7a81\u8b8a\u7684\u65b9\u5f0f\u3002Klipper\u8457\u773c\u65bc\u5217\u5370\u4ef6\u548c\u5217\u5370\u982d\u4e4b\u9593\u7684\u901f\u5ea6\u8b8a\u5316\u3002\u96e2\u958b\u64e0\u51fa\u6a5f\u7684\u8017\u6750\u5341\u5206\u8106\u5f31\uff0c\u7a81\u7136\u7684\u79fb\u52d5\u901f\u5ea6\u548c/\u6216\u64e0\u51fa\u6d41\u91cf\u7a81\u8b8a\u53ef\u80fd\u6703\u5c0e\u81f4\u9020\u6210\u5217\u5370\u8cea\u91cf\u6216\u5e8a\u9ecf\u8457\u80fd\u529b\u7684\u4e0b\u964d\u3002\u751a\u81f3\u5728\u7121\u64e0\u51fa\u6642\uff0c\u5982\u679c\u5217\u5370\u982d\u548c\u5217\u5370\u4ef6\u9802\u7aef\u5728\u540c\u4e00\u6c34\u5e73\u9762\u6642\uff0c\u5674\u5634\u7684\u901f\u5ea6\u7a81\u8b8a\u6709\u53ef\u80fd\u5c0d\u525b\u64e0\u51fa\u7684\u8017\u6750\u9032\u884c\u526e\u8e6d\u3002\u9650\u5236\u5217\u5370\u982d\u76f8\u5c0d\u65bc\u5217\u5370\u4ef6\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u6e1b\u5c11\u526e\u8e6d\u5217\u5370\u4ef6\u7684\u98a8\u96aa\u3002 \u9650\u5236\u6e1b\u901f\u5ea6\u4e5f\u80fd\u6e1b\u5c11\u6b65\u9032\u96fb\u6a5f\u4e1f\u6b65\u548c\u70b8\u6a5f\u7684\u72c0\u6cc1\u3002Klipper\u901a\u904e\u9650\u5236\u5217\u5370\u982d\u7684\u52a0\u901f\u5ea6\u4f86\u9650\u5236\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u529b\u77e9\u3002\u9650\u5236\u5217\u5370\u982d\u7684\u52a0\u901f\u5ea6\u81ea\u7136\u4e5f\u9650\u5236\u4e86\u79fb\u52d5\u5217\u5370\u982d\u7684\u6b65\u9032\u5668\u7684\u626d\u77e9\uff08\u53cd\u4e4b\u5247\u4e0d\u4e00\u5b9a\uff09\u3002 Klipper\u5be6\u73fe\u6052\u52a0\u901f\u5ea6\u63a7\u5236\uff0c\u95dc\u9375\u7684\u65b9\u7a0b\u5982\u4e0b\uff1a velocity(time) = start_velocity + accel*time \u68af\u5f62\u767c\u751f\u5668 \u00b6 Klipper \u4f7f\u7528\u50b3\u7d71\u7684\"\u68af\u5f62\u767c\u751f\u5668\"\u4f86\u7522\u751f\u6bcf\u500b\u52d5\u4f5c\u7684\u904b\u52d5--\u6bcf\u500b\u52d5\u4f5c\u90fd\u6709\u4e00\u500b\u8d77\u59cb\u901f\u5ea6\uff0c\u5148\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u52a0\u901f\u5230\u4e00\u500b\u5de1\u822a\u901f\u5ea6\uff0c\u518d\u4ee5\u6052\u5b9a\u7684\u901f\u5ea6\u5de1\u822a\uff0c\u6700\u5f8c\u7528\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u6e1b\u901f\u5230\u7d42\u9ede\u901f\u5ea6\u3002 \u56e0\u70ba\u79fb\u52d5\u6642\u7684\u901f\u5ea6\u5716\u770b\u8d77\u4f86\u50cf\u4e00\u500b\u68af\u5f62\uff0c\u5b83\u88ab\u7a31\u70ba \"\u68af\u5f62\u767c\u751f\u5668\"\u3002 \u5de1\u822a\u901f\u5ea6\u7e3d\u662f\u5927\u65bc\u7b49\u65bc\u8d77\u59cb\u548c\u7d42\u7aef\u901f\u5ea6\u3002\u52a0\u901f\u5ea6\u968e\u6bb5\u53ef\u80fd\u6301\u7e8c\u6642\u9593\u70ba0\uff08\u5982\u679c\u8d77\u59cb\u901f\u5ea6\u7b49\u65bc\u5de1\u822a\u901f\u5ea6\uff09\uff0c\u5de1\u822a\u901f\u5ea6\u7684\u6301\u7e8c\u6642\u9593\u4e5f\u53ef\u70ba0\uff08\u5982\u679c\u5728\u52a0\u901f\u7d50\u675f\u540e\u99ac\u4e0a\u9032\u884c\u6e1b\u901f\uff09\uff0c\u6e1b\u901f\u968e\u6bb5\u4e5f\u80fd\u70ba0\uff08\u5982\u679c\u7d42\u7aef\u901f\u5ea6\u7b49\u65bc\u5de1\u822a\u901f\u5ea6\uff09\u3002 \u9810\u8a08\u7b97\uff08look-ahead\uff09 \u00b6 \u62d0\u89d2\u901f\u5ea6\u4f7f\u7528\u9810\u8a08\u7b97\u7cfb\u7d71\u9032\u884c\u8655\u7406\u3002 \u8003\u616e\u4ee5\u4e0b\u5169\u500b\u5728 XY \u5e73\u9762\u4e0a\u7684\u79fb\u52d5\uff1a \u5728\u4e0a\u8ff0\u7684\u72c0\u6cc1\u4e0b\uff0c\u5370\u8868\u6a5f\u53ef\u4ee5\u5728\u7b2c\u4e00\u6b65\u6642\u6e1b\u901f\u81f3\u505c\u6b62\uff0c\u4e26\u5728\u7b2c\u4e8c\u6b65\u958b\u59cb\u6642\u52a0\u901f\u81f3\u5de1\u822a\u901f\u5ea6\u3002\u4f46\u9019\u7a2e\u904b\u52d5\u7b56\u7565\u4e26\u4e0d\u7406\u60f3\uff0c\u5b8c\u5168\u6e1b\u901f\u548c\u5b8c\u5168\u52a0\u901f\u6703\u5927\u5e45\u589e\u52a0\u5217\u5370\u6642\u9593\uff0c\u540c\u6642\u64e0\u51fa\u91cf\u6703\u983b\u7e41\u8b8a\u52d5\uff0c\u5f9e\u800c\u5c0e\u81f4\u5217\u5370\u8cea\u91cf\u7684\u4e0b\u964d\u3002 \u8981\u89e3\u6c7a\u9019\u7a2e\u60c5\u6cc1\uff0cklipper\u5f15\u5165\u4e86\u9810\u8a08\u7b97\u6a5f\u5236\uff0c\u9810\u5148\u4f9d\u6b21\u8a08\u7b97\u5f8c\u7e8c\u7684\u6578\u500b\u79fb\u52d5\uff0c\u5206\u6790\u5176\u4e2d\u7684\u62d0\u89d2\u4e26\u78ba\u5b9a\u5408\u9069\u7684\u62d0\u89d2\u901f\u5ea6\u3002\u5982\u679c\u4e0b\u4e00\u6b65\u7684\u901f\u5ea6\u8207\u73fe\u6642\u7684\u79fb\u52d5\u901f\u5ea6\u76f8\u8fd1\uff0c\u5247\u6ed1\u8eca\u901f\u5ea6\u50c5\u6703\u7a0d\u5fae\u6e1b\u5c11\u3002 \u7136\u800c\uff0c\u5982\u679c\u4e0b\u4e00\u6b65\u5f62\u6210\u4e00\u500b\u5c16\u92b3\u7684\u62d0\u89d2\uff08\u6ed1\u8eca\u5c07\u5728\u4e0b\u4e00\u6b65\u9032\u884c\u8fd1\u65bc\u53cd\u65b9\u5411\u7684\u79fb\u52d5\uff09\uff0c\u5247\u53ea\u80fd\u63a1\u7528\u4e00\u500b\u5f88\u4f4e\u7684\u62d0\u89d2\u901f\u5ea6\u3002 \u7d50\u9ede\u901f\u5ea6\u4f7f\u7528\u201c\u8fd1\u4f3c\u5411\u5fc3\u52a0\u901f\u5ea6\u201d\u78ba\u5b9a\u3002\u6700\u4f73 \u4f5c\u8005\u63cf\u8ff0 \u3002\u4f46\u662f\uff0c\u5728 Klipper \u4e2d\uff0c\u901a\u904e\u6307\u5b9a 90\u00b0 \u89d2\u61c9\u5177\u6709\u7684\u6240\u9700\u901f\u5ea6\uff08\u201c\u65b9\u5f62\u89d2\u901f\u5ea6\u201d\uff09\u4f86\u914d\u7f6e\u7d50\u9ede\u901f\u5ea6\uff0c\u4e26\u7531\u6b64\u5f97\u51fa\u5176\u4ed6\u89d2\u5ea6\u7684\u7d50\u9ede\u901f\u5ea6\u3002 \u9810\u8a08\u7b97\u7684\u95dc\u9375\u65b9\u7a0b\uff1a end_velocity^2 = start_velocity^2 + 2*accel*move_distance \u9810\u8a08\u7b97\u7d50\u679c\u5e73\u6ed1 \u00b6 Klipper \u5be6\u73fe\u4e86\u4e00\u7a2e\u7528\u65bc\u5e73\u6ed1\u77ed\u8ddd\u96e2\u4e4b\u5b57\u5f62\u79fb\u52d5\u7684\u6a5f\u5236\u3002\u53c3\u8003\u4ee5\u4e0b\u79fb\u52d5\uff1a \u5728\u4e0a\u8ff0\u60c5\u6cc1\u4e0b\uff0c\u5f9e\u52a0\u901f\u5230\u6e1b\u901f\u7684\u983b\u7e41\u8b8a\u5316\u6703\u5c0e\u81f4\u6a5f\u5668\u632f\u52d5\uff0c\u5f9e\u800c\u5c0d\u6a5f\u5668\u9020\u6210\u58d3\u529b\u4e26\u589e\u52a0\u566a\u97f3\u3002\u70ba\u4e86\u6e1b\u5c11\u9019\u7a2e\u60c5\u6cc1\uff0cKlipper \u8ddf\u8e2a\u5e38\u898f\u79fb\u52d5\u52a0\u901f\u5ea6\u4ee5\u53ca\u865b\u64ec\u201c\u52a0\u901f\u5230\u6e1b\u901f\u201d\u7387\u3002\u4f7f\u7528\u9019\u500b\u7cfb\u7d71\uff0c\u9019\u4e9b\u77ed\u7684\u201c\u4e4b\u5b57\u5f62\u201d\u79fb\u52d5\u7684\u6700\u9ad8\u901f\u5ea6\u88ab\u9650\u5236\u70ba\u5e73\u6ed1\u6253\u5370\u6a5f\u904b\u52d5\uff1a \u5177\u9ad4\u4f86\u8aaa\uff0c\u4ee3\u78bc\u8a08\u7b97\u6bcf\u6b21\u79fb\u52d5\u7684\u901f\u5ea6\uff0c\u5982\u679c\u5b83\u88ab\u9650\u5236\u5728\u9019\u500b\u865b\u64ec\u7684\u201c\u52a0\u901f\u5230\u6e1b\u901f\u201d\u7387\uff08\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\u70ba\u6b63\u5e38\u52a0\u901f\u7387\u7684\u4e00\u534a\uff09\u3002\u5728\u4e0a\u5716\u4e2d\uff0c\u7070\u8272\u865b\u7dda\u8868\u793a\u7b2c\u4e00\u6b65\u7684\u865b\u64ec\u52a0\u901f\u5ea6\u3002\u5982\u679c\u4f7f\u7528\u6b64\u865b\u64ec\u52a0\u901f\u5ea6\u7121\u6cd5\u9054\u5230\u5176\u5168\u5de1\u822a\u901f\u5ea6\uff0c\u5247\u5176\u6700\u9ad8\u901f\u5ea6\u5c07\u964d\u4f4e\u5230\u5728\u6b64\u865b\u64ec\u52a0\u901f\u5ea6\u4e0b\u53ef\u4ee5\u9054\u5230\u7684\u6700\u5927\u901f\u5ea6\u3002\u5c0d\u65bc\u5927\u591a\u6578\u79fb\u52d5\uff0c\u9650\u5236\u5c07\u7b49\u65bc\u6216\u9ad8\u65bc\u79fb\u52d5\u7684\u73fe\u6709\u9650\u5236\uff0c\u4e26\u4e14\u4e0d\u6703\u5f15\u8d77\u884c\u70ba\u8b8a\u5316\u3002\u7136\u800c\uff0c\u5c0d\u65bc\u77ed\u7684\u4e4b\u5b57\u5f62\u79fb\u52d5\uff0c\u9019\u500b\u9650\u5236\u6703\u964d\u4f4e\u6700\u9ad8\u901f\u5ea6\u3002\u8acb\u6ce8\u610f\uff0c\u5b83\u4e0d\u6703\u6539\u8b8a\u79fb\u52d5\u4e2d\u7684\u5be6\u969b\u52a0\u901f\u5ea6 - \u79fb\u52d5\u5c07\u7e7c\u7e8c\u4f7f\u7528\u6b63\u5e38\u52a0\u901f\u65b9\u6848\uff0c\u76f4\u81f3\u5176\u8abf\u6574\u5f8c\u7684\u6700\u9ad8\u901f\u5ea6\u3002 \u751f\u6210\u6b65\u9a5f \u00b6 \u4e00\u65e6\u524d\u77bb\u904e\u7a0b\u5b8c\u6210\uff0c\u7d66\u5b9a\u79fb\u52d5\u7684\u6253\u5370\u982d\u79fb\u52d5\u662f\u5b8c\u5168\u5df2\u77e5\u7684\uff08\u6642\u9593\u3001\u958b\u59cb\u4f4d\u7f6e\u3001\u7d50\u675f\u4f4d\u7f6e\u3001\u6bcf\u500b\u9ede\u7684\u901f\u5ea6\uff09\uff0c\u4e26\u4e14\u53ef\u4ee5\u751f\u6210\u79fb\u52d5\u7684\u6b65\u9032\u6642\u9593\u3002\u6b64\u904e\u7a0b\u5728 Klipper \u4ee3\u78bc\u4e2d\u7684\u201c\u904b\u52d5\u5b78\u985e\u201d\u4e2d\u5b8c\u6210\u3002\u5728\u9019\u4e9b\u904b\u52d5\u5b78\u985e\u4e4b\u5916\uff0c\u4e00\u5207\u90fd\u4ee5\u6beb\u7c73\u3001\u79d2\u548c\u7b1b\u5361\u723e\u5750\u6a19\u7a7a\u9593\u70ba\u55ae\u4f4d\u9032\u884c\u8ddf\u8e2a\u3002\u904b\u52d5\u5b78\u985e\u7684\u4efb\u52d9\u662f\u5c07\u901a\u7528\u5750\u6a19\u7cfb\u8f49\u63db\u70ba\u7279\u5b9a\u6253\u5370\u6a5f\u7684\u786c\u4ef6\u7d30\u7bc0\u3002 Klipper \u4f7f\u7528 iterative solver \u70ba\u6bcf\u500b\u6b65\u9032\u5668\u751f\u6210\u6b65\u9032\u6642\u9593\u3002\u8a72\u4ee3\u78bc\u5305\u542b\u8a08\u7b97\u6bcf\u500b\u6642\u523b\u982d\u90e8\u7406\u60f3XYZ\u5750\u6a19\u7684\u516c\u5f0f\uff0c\u4e26\u4e14\u5b83\u5177\u6709\u6839\u64da\u9019\u4e9bXYZ\u5750\u6a19\u8a08\u7b97\u7406\u60f3\u6b65\u9032\u5668\u4f4d\u7f6e\u7684\u52d5\u4f5c\u516c\u5f0f\u3002\u901a\u904e\u9019\u4e9b\u516c\u5f0f\uff0cKlipper \u53ef\u4ee5\u78ba\u5b9a\u6b65\u9032\u5668\u61c9\u8a72\u5728\u6bcf\u500b\u6b65\u9032\u4f4d\u7f6e\u7684\u7406\u60f3\u6642\u9593\u3002\u7136\u5f8c\u5728\u9019\u4e9b\u8a08\u7b97\u7684\u6642\u9593\u5b89\u6392\u7d66\u5b9a\u7684\u6b65\u9a5f\u3002 \u78ba\u5b9a\u5728\u6046\u5b9a\u52a0\u901f\u5ea6\u4e0b\u79fb\u52d5\u61c9\u8a72\u884c\u9032\u591a\u9060\u7684\u95dc\u9375\u516c\u5f0f\u662f\uff1a move_distance = (start_velocity + .5 * accel * move_time) * move_time \u52fb\u901f\u52d5\u4f5c\u7684\u95dc\u9375\u516c\u5f0f\u662f\uff1a move_distance = cruise_velocity * move_time \u5728\u7d66\u5b9a\u79fb\u52d5\u8ddd\u96e2\u7684\u60c5\u6cc1\u4e0b\uff0c\u78ba\u5b9a\u79fb\u52d5\u7684XYZ\u5750\u6a19\u7684\u95dc\u9375\u516c\u5f0f\u662f\uff1a cartesian_x_position = start_x + move_distance * total_x_movement / total_movement cartesian_y_position = start_y + move_distance * total_y_movement / total_movement cartesian_z_position = start_z + move_distance * total_z_movement / total_movement XYZ \u6a5f\u578b \u00b6 \u70baXYZ\u6a5f\u578b\u6253\u5370\u6a5f\u751f\u6210\u57f7\u884c\u52d5\u4f5c\u662f\u6700\u7c21\u55ae\u3002\u6bcf\u500b\u8ef8\u4e0a\u7684\u52d5\u4f5c\u8207\u5404XYZ\u7a7a\u9593\u76f4\u63a5\u76f8\u95dc\u3002 \u95dc\u9375\u516c\u5f0f\uff1a stepper_x_position = cartesian_x_position stepper_y_position = cartesian_y_position stepper_z_position = cartesian_z_position CoreXY \u6a5f\u578b \u00b6 \u5728 CoreXY \u6a5f\u5668\u4e0a\u751f\u6210\u52d5\u4f5c\u53ea\u6bd4\u57fa\u672c\u7684XYZ\u6a5f\u578b\u7684\u6253\u5370\u6a5f\u8907\u96dc\u4e00\u9ede\u3002\u95dc\u9375\u516c\u5f0f\u662f\uff1a stepper_a_position = cartesian_x_position + cartesian_y_position stepper_b_position = cartesian_x_position - cartesian_y_position stepper_z_position = cartesian_z_position \u4e09\u89d2\u6d32\u6a5f\u578b \u00b6 \u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u52d5\u4f5c\u751f\u6210\u57fa\u65bc\u7562\u9054\u54e5\u62c9\u65af\u5b9a\u7406\uff1a stepper_position = (sqrt(arm_length^2 - (cartesian_x_position - tower_x_position)^2 - (cartesian_y_position - tower_y_position)^2) + cartesian_z_position) \u6b65\u9032\u96fb\u6a5f\u52a0\u901f\u5ea6\u9650\u5236 \u00b6 \u4f7f\u7528\u4e09\u89d2\u6d32\u6a5f\u578b\u6642\uff0c\u5728XYZ\u7a7a\u9593\u4e2d\u52a0\u901f\u7684\u52d5\u4f5c\u53ef\u80fd\u9700\u8981\u7279\u5b9a\u6b65\u9032\u96fb\u6a5f\u4e0a\u7684\u52a0\u901f\u5ea6\u5927\u65bc\u904b\u52d5\u7684\u52a0\u901f\u5ea6\u3002\u7576\u6b65\u9032\u81c2\u6bd4\u5782\u76f4\u66f4\u6c34\u5e73\u4e26\u4e14\u904b\u52d5\u7dda\u901a\u904e\u6b65\u9032\u5668\u5854\u9644\u8fd1\u6642\uff0c\u53ef\u80fd\u6703\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\u3002\u5118\u7ba1\u9019\u4e9b\u79fb\u52d5\u53ef\u80fd\u9700\u8981\u4e00\u500b\u5927\u65bc\u6253\u5370\u6a5f\u914d\u7f6e\u7684\u6700\u5927\u79fb\u52d5\u52a0\u901f\u5ea6\u7684\u6b65\u9032\u96fb\u6a5f\u52a0\u901f\u5ea6\uff0c\u4f46\u8a72\u6b65\u9032\u96fb\u6a5f\u79fb\u52d5\u7684\u6709\u6548\u8cea\u91cf\u6703\u66f4\u5c0f\u3002\u56e0\u6b64\uff0c\u66f4\u9ad8\u7684\u6b65\u9032\u52a0\u901f\u5ea6\u4e0d\u6703\u5c0e\u81f4\u986f\u8457\u66f4\u9ad8\u7684\u6b65\u9032\u626d\u77e9\uff0c\u56e0\u6b64\u88ab\u8a8d\u70ba\u662f\u7121\u5bb3\u7684\u3002 \u4f46\u662f\uff0c\u70ba\u907f\u514d\u6975\u7aef\u60c5\u6cc1\uff0cKlipper \u5c07\u6b65\u9032\u52a0\u901f\u5ea6\u7684\u6700\u5927\u4e0a\u9650\u8a2d\u7f6e\u70ba\u6253\u5370\u6a5f\u914d\u7f6e\u7684\u6700\u5927\u79fb\u52d5\u52a0\u901f\u5ea6\u7684\u4e09\u500d\u3002 \uff08\u985e\u4f3c\u5730\uff0c\u6b65\u9032\u5668\u7684\u6700\u5927\u901f\u5ea6\u88ab\u9650\u5236\u70ba\u6700\u5927\u79fb\u52d5\u901f\u5ea6\u7684\u4e09\u500d\u3002\uff09\u70ba\u4e86\u5f37\u5236\u57f7\u884c\u6b64\u9650\u5236\uff0c\u5728\u69cb\u5efa\u5305\u7d61\u7684\u6700\u908a\u7de3\uff08\u6b65\u9032\u5668\u81c2\u53ef\u80fd\u5e7e\u4e4e\u6c34\u5e73\uff09\u7684\u79fb\u52d5\u5c07\u5177\u6709\u8f03\u4f4e\u7684\u6700\u5927\u52a0\u901f\u5ea6\u548c\u901f\u5ea6\u3002 \u64e0\u51fa\u6a5f\u52d5\u4f5c \u00b6 Klipper \u5728\u5176\u81ea\u5df1\u7684\u52d5\u4f5c\u985e\u5225\u4e2d\u5be6\u73fe\u4e86\u64e0\u51fa\u6a5f\u52d5\u4f5c\u3002\u7531\u65bc\u6bcf\u500b\u6253\u5370\u982d\u79fb\u52d5\u7684\u6642\u9593\u548c\u901f\u5ea6\u5c0d\u65bc\u6bcf\u6b21\u79fb\u52d5\u90fd\u662f\u5b8c\u5168\u5df2\u77e5\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u7368\u7acb\u65bc\u6253\u5370\u982d\u79fb\u52d5\u7684\u6b65\u9032\u6642\u9593\u8a08\u7b97\u4f86\u8a08\u7b97\u64e0\u51fa\u6a5f\u7684\u6b65\u9032\u6642\u9593\u3002 \u57fa\u672c\u7684\u64e0\u51fa\u6a5f\u904b\u52d5\u5f88\u5bb9\u6613\u8a08\u7b97\u3002\u6b65\u6642\u9593\u751f\u6210\u4f7f\u7528\u8207\u7b1b\u5361\u723e\u6a5f\u5668\u4eba\u76f8\u540c\u7684\u516c\u5f0f\uff1a stepper_position = requested_e_position Pressure advance \u00b6 \u5be6\u9a57\u8868\u660e\uff0c\u9664\u4e86\u57fa\u672c\u7684\u64e0\u51fa\u6a5f\u914d\u65b9\u5916\uff0c\u9084\u53ef\u4ee5\u6539\u9032\u64e0\u51fa\u6a5f\u7684\u5efa\u6a21\u3002\u5728\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u96a8\u8457\u64e0\u51fa\u79fb\u52d5\u7684\u9032\u884c\uff0c\u6cbf\u79fb\u52d5\u7684\u6bcf\u500b\u9ede\u61c9\u6c89\u7a4d\u76f8\u540c\u9ad4\u7a4d\u7684\u7d30\u7d72\uff0c\u4e26\u4e14\u79fb\u52d5\u5f8c\u4e0d\u61c9\u6709\u64e0\u51fa\u9ad4\u7a4d\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u901a\u5e38\u6703\u767c\u73fe\u57fa\u672c\u64e0\u51fa\u914d\u65b9\u6703\u5c0e\u81f4\u5728\u64e0\u51fa\u904b\u52d5\u958b\u59cb\u6642\u96e2\u958b\u64e0\u51fa\u6a5f\u7684\u7d30\u7d72\u592a\u5c11\uff0c\u800c\u5728\u64e0\u51fa\u7d50\u675f\u5f8c\u64e0\u51fa\u904e\u591a\u7684\u7d30\u7d72\u3002\u9019\u901a\u5e38\u88ab\u7a31\u70ba\"ooze\"\u3002 \"pressure advance\"\u7cfb\u7d71\u8a66\u5716\u901a\u904e\u4f7f\u7528\u4e0d\u540c\u578b\u865f\u7684\u64e0\u51fa\u6a5f\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002\u8207\u5176\u5929\u771f\u5730\u76f8\u4fe1\u6bcf mm^3 \u7684\u9577\u7d72\u9001\u5165\u64e0\u51fa\u6a5f\u90fd\u6703\u5c0e\u81f4\u8a72\u91cf\u7684 mm^3 \u7acb\u5373\u96e2\u958b\u64e0\u51fa\u6a5f\uff0c\u800c\u662f\u4f7f\u7528\u57fa\u65bc\u58d3\u529b\u7684\u6a21\u578b\u3002\u7576\u9577\u7d72\u88ab\u63a8\u5165\u64e0\u51fa\u6a5f\u6642\u58d3\u529b\u589e\u52a0\uff08\u5982[\u80e1\u514b\u5b9a\u5f8b]\uff08 https://en.wikipedia.org/wiki/Hooke%27s_law\uff09\uff09\uff0c\u64e0\u51fa\u6240\u9700\u7684\u58d3\u529b\u7531\u901a\u904e\u5674\u5634\u5b54\u7684\u6d41\u901f\u6c7a\u5b9a\uff08\u5982 Poiseuille \u5b9a\u5f8b \uff09\u3002\u95dc\u9375\u601d\u60f3\u662f\u71c8\u7d72\u3001\u58d3\u529b\u548c\u6d41\u91cf\u4e4b\u9593\u7684\u95dc\u4fc2\u53ef\u4ee5\u4f7f\u7528\u7dda\u6027\u4fc2\u6578\u9032\u884c\u5efa\u6a21\uff1a pa_position = nominal_position + pressure_advance_coefficient * nominal_velocity \u6709\u95dc\u5982\u4f55\u67e5\u627e\u6b64\u58d3\u529b\u63d0\u524d\u4fc2\u6578\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u58d3\u529b\u63d0\u524d \u6587\u6a94\u3002 \u57fa\u672c\u7684\u58d3\u529b\u63d0\u524d\u516c\u5f0f\u6703\u5c0e\u81f4\u64e0\u51fa\u6a5f\u96fb\u6a5f\u767c\u751f\u7a81\u7136\u7684\u901f\u5ea6\u8b8a\u5316\u3002 Klipper \u5be6\u73fe\u4e86\u64e0\u51fa\u6a5f\u904b\u52d5\u7684\u201c\u5e73\u6ed1\u201d\u4ee5\u907f\u514d\u9019\u7a2e\u60c5\u6cc1\u3002 \u4e0a\u5716\u986f\u793a\u4e86\u5169\u500b\u64e0\u58d3\u79fb\u52d5\u7684\u793a\u4f8b\uff0c\u5b83\u5011\u4e4b\u9593\u7684\u8f49\u5f4e\u901f\u5ea6\u70ba\u975e\u96f6\u3002\u8acb\u6ce8\u610f\uff0c\u58d3\u529b\u63a8\u9032\u7cfb\u7d71\u6703\u5728\u52a0\u901f\u904e\u7a0b\u4e2d\u5c07\u984d\u5916\u7684\u7d30\u7d72\u63a8\u5165\u64e0\u51fa\u6a5f\u3002\u6240\u9700\u7684\u71c8\u7d72\u6d41\u901f\u8d8a\u9ad8\uff0c\u5728\u52a0\u901f\u904e\u7a0b\u4e2d\u5fc5\u9808\u63a8\u5165\u7684\u71c8\u7d72\u8d8a\u591a\u4ee5\u89e3\u6c7a\u58d3\u529b\u554f\u984c\u3002\u5728\u6a5f\u982d\u6e1b\u901f\u671f\u9593\uff0c\u984d\u5916\u7684\u7d30\u7d72\u7e2e\u56de\uff08\u64e0\u51fa\u6a5f\u5c07\u5177\u6709\u8ca0\u901f\u5ea6\uff09\u3002 \u201c\u5e73\u6ed1\u201d\u662f\u4f7f\u7528\u64e0\u51fa\u6a5f\u4f4d\u7f6e\u5728\u4e00\u5c0f\u6bb5\u6642\u9593\u5167\u7684\u52a0\u6b0a\u5e73\u5747\u503c\u4f86\u5be6\u73fe\u7684\uff08\u7531 pressure_advance_smooth_time \u914d\u7f6e\u53c3\u6578\u6307\u5b9a\uff09\u3002\u9019\u7a2e\u5e73\u5747\u53ef\u4ee5\u8de8\u8d8a\u591a\u500b g \u4ee3\u78bc\u79fb\u52d5\u3002\u8acb\u6ce8\u610f\u64e0\u51fa\u6a5f\u96fb\u6a5f\u5c07\u5982\u4f55\u5728\u7b2c\u4e00\u6b21\u64e0\u51fa\u79fb\u52d5\u7684\u6a19\u7a31\u958b\u59cb\u4e4b\u524d\u958b\u59cb\u79fb\u52d5\uff0c\u4e26\u5c07\u5728\u6700\u5f8c\u4e00\u6b21\u64e0\u51fa\u79fb\u52d5\u7684\u6a19\u7a31\u7d50\u675f\u5f8c\u7e7c\u7e8c\u79fb\u52d5\u3002 \"smoothed pressure advance\"\u7684\u95dc\u9375\u516c\u5f0f\uff1a smooth_pa_position(t) = ( definitive_integral(pa_position(x) * (smooth_time/2 - abs(t - x)) * dx, from=t-smooth_time/2, to=t+smooth_time/2) / (smooth_time/2)^2 )","title":"\u904b\u52d5\u5b78"},{"location":"Kinematics.html#_1","text":"\u8a72\u6587\u4ef6\u63d0\u4f9bKlipper\u5be6\u73fe\u6a5f\u68b0 \u904b\u52d5\u5b78 \u63a7\u5236\u7684\u6982\u8ff0\uff0c\u4ee5\u4f9b \u81f4\u529b\u65bc\u5b8c\u5584Klipper\u7684\u958b\u767c\u8005 \u6216 \u5e0c\u671b\u5c0d\u81ea\u5df1\u7684\u88dd\u7f6e\u7684\u6a5f\u68b0\u539f\u7406\u6709\u9032\u4e00\u6b65\u77ad\u89e3\u7684\u611b\u597d\u8005 \u53c3\u8003\u3002","title":"\u904b\u52d5\u5b78"},{"location":"Kinematics.html#_2","text":"Klipper\u7e3d\u4f7f\u7528\u5e38\u52a0\u901f\u5ea6\u7b56\u7565\u2014\u2014\u5217\u5370\u982d\u7684\u901f\u5ea6\u7e3d\u662f\u68af\u5ea6\u8b8a\u5316\u5230\u65b0\u7684\u901f\u5ea6\uff0c\u800c\u975e\u4f7f\u7528\u901f\u5ea6\u7a81\u8b8a\u7684\u65b9\u5f0f\u3002Klipper\u8457\u773c\u65bc\u5217\u5370\u4ef6\u548c\u5217\u5370\u982d\u4e4b\u9593\u7684\u901f\u5ea6\u8b8a\u5316\u3002\u96e2\u958b\u64e0\u51fa\u6a5f\u7684\u8017\u6750\u5341\u5206\u8106\u5f31\uff0c\u7a81\u7136\u7684\u79fb\u52d5\u901f\u5ea6\u548c/\u6216\u64e0\u51fa\u6d41\u91cf\u7a81\u8b8a\u53ef\u80fd\u6703\u5c0e\u81f4\u9020\u6210\u5217\u5370\u8cea\u91cf\u6216\u5e8a\u9ecf\u8457\u80fd\u529b\u7684\u4e0b\u964d\u3002\u751a\u81f3\u5728\u7121\u64e0\u51fa\u6642\uff0c\u5982\u679c\u5217\u5370\u982d\u548c\u5217\u5370\u4ef6\u9802\u7aef\u5728\u540c\u4e00\u6c34\u5e73\u9762\u6642\uff0c\u5674\u5634\u7684\u901f\u5ea6\u7a81\u8b8a\u6709\u53ef\u80fd\u5c0d\u525b\u64e0\u51fa\u7684\u8017\u6750\u9032\u884c\u526e\u8e6d\u3002\u9650\u5236\u5217\u5370\u982d\u76f8\u5c0d\u65bc\u5217\u5370\u4ef6\u7684\u901f\u5ea6\uff0c\u53ef\u4ee5\u6e1b\u5c11\u526e\u8e6d\u5217\u5370\u4ef6\u7684\u98a8\u96aa\u3002 \u9650\u5236\u6e1b\u901f\u5ea6\u4e5f\u80fd\u6e1b\u5c11\u6b65\u9032\u96fb\u6a5f\u4e1f\u6b65\u548c\u70b8\u6a5f\u7684\u72c0\u6cc1\u3002Klipper\u901a\u904e\u9650\u5236\u5217\u5370\u982d\u7684\u52a0\u901f\u5ea6\u4f86\u9650\u5236\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u7684\u529b\u77e9\u3002\u9650\u5236\u5217\u5370\u982d\u7684\u52a0\u901f\u5ea6\u81ea\u7136\u4e5f\u9650\u5236\u4e86\u79fb\u52d5\u5217\u5370\u982d\u7684\u6b65\u9032\u5668\u7684\u626d\u77e9\uff08\u53cd\u4e4b\u5247\u4e0d\u4e00\u5b9a\uff09\u3002 Klipper\u5be6\u73fe\u6052\u52a0\u901f\u5ea6\u63a7\u5236\uff0c\u95dc\u9375\u7684\u65b9\u7a0b\u5982\u4e0b\uff1a velocity(time) = start_velocity + accel*time","title":"\u52a0\u901f"},{"location":"Kinematics.html#_3","text":"Klipper \u4f7f\u7528\u50b3\u7d71\u7684\"\u68af\u5f62\u767c\u751f\u5668\"\u4f86\u7522\u751f\u6bcf\u500b\u52d5\u4f5c\u7684\u904b\u52d5--\u6bcf\u500b\u52d5\u4f5c\u90fd\u6709\u4e00\u500b\u8d77\u59cb\u901f\u5ea6\uff0c\u5148\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u52a0\u901f\u5230\u4e00\u500b\u5de1\u822a\u901f\u5ea6\uff0c\u518d\u4ee5\u6052\u5b9a\u7684\u901f\u5ea6\u5de1\u822a\uff0c\u6700\u5f8c\u7528\u6052\u5b9a\u7684\u52a0\u901f\u5ea6\u6e1b\u901f\u5230\u7d42\u9ede\u901f\u5ea6\u3002 \u56e0\u70ba\u79fb\u52d5\u6642\u7684\u901f\u5ea6\u5716\u770b\u8d77\u4f86\u50cf\u4e00\u500b\u68af\u5f62\uff0c\u5b83\u88ab\u7a31\u70ba \"\u68af\u5f62\u767c\u751f\u5668\"\u3002 \u5de1\u822a\u901f\u5ea6\u7e3d\u662f\u5927\u65bc\u7b49\u65bc\u8d77\u59cb\u548c\u7d42\u7aef\u901f\u5ea6\u3002\u52a0\u901f\u5ea6\u968e\u6bb5\u53ef\u80fd\u6301\u7e8c\u6642\u9593\u70ba0\uff08\u5982\u679c\u8d77\u59cb\u901f\u5ea6\u7b49\u65bc\u5de1\u822a\u901f\u5ea6\uff09\uff0c\u5de1\u822a\u901f\u5ea6\u7684\u6301\u7e8c\u6642\u9593\u4e5f\u53ef\u70ba0\uff08\u5982\u679c\u5728\u52a0\u901f\u7d50\u675f\u540e\u99ac\u4e0a\u9032\u884c\u6e1b\u901f\uff09\uff0c\u6e1b\u901f\u968e\u6bb5\u4e5f\u80fd\u70ba0\uff08\u5982\u679c\u7d42\u7aef\u901f\u5ea6\u7b49\u65bc\u5de1\u822a\u901f\u5ea6\uff09\u3002","title":"\u68af\u5f62\u767c\u751f\u5668"},{"location":"Kinematics.html#look-ahead","text":"\u62d0\u89d2\u901f\u5ea6\u4f7f\u7528\u9810\u8a08\u7b97\u7cfb\u7d71\u9032\u884c\u8655\u7406\u3002 \u8003\u616e\u4ee5\u4e0b\u5169\u500b\u5728 XY \u5e73\u9762\u4e0a\u7684\u79fb\u52d5\uff1a \u5728\u4e0a\u8ff0\u7684\u72c0\u6cc1\u4e0b\uff0c\u5370\u8868\u6a5f\u53ef\u4ee5\u5728\u7b2c\u4e00\u6b65\u6642\u6e1b\u901f\u81f3\u505c\u6b62\uff0c\u4e26\u5728\u7b2c\u4e8c\u6b65\u958b\u59cb\u6642\u52a0\u901f\u81f3\u5de1\u822a\u901f\u5ea6\u3002\u4f46\u9019\u7a2e\u904b\u52d5\u7b56\u7565\u4e26\u4e0d\u7406\u60f3\uff0c\u5b8c\u5168\u6e1b\u901f\u548c\u5b8c\u5168\u52a0\u901f\u6703\u5927\u5e45\u589e\u52a0\u5217\u5370\u6642\u9593\uff0c\u540c\u6642\u64e0\u51fa\u91cf\u6703\u983b\u7e41\u8b8a\u52d5\uff0c\u5f9e\u800c\u5c0e\u81f4\u5217\u5370\u8cea\u91cf\u7684\u4e0b\u964d\u3002 \u8981\u89e3\u6c7a\u9019\u7a2e\u60c5\u6cc1\uff0cklipper\u5f15\u5165\u4e86\u9810\u8a08\u7b97\u6a5f\u5236\uff0c\u9810\u5148\u4f9d\u6b21\u8a08\u7b97\u5f8c\u7e8c\u7684\u6578\u500b\u79fb\u52d5\uff0c\u5206\u6790\u5176\u4e2d\u7684\u62d0\u89d2\u4e26\u78ba\u5b9a\u5408\u9069\u7684\u62d0\u89d2\u901f\u5ea6\u3002\u5982\u679c\u4e0b\u4e00\u6b65\u7684\u901f\u5ea6\u8207\u73fe\u6642\u7684\u79fb\u52d5\u901f\u5ea6\u76f8\u8fd1\uff0c\u5247\u6ed1\u8eca\u901f\u5ea6\u50c5\u6703\u7a0d\u5fae\u6e1b\u5c11\u3002 \u7136\u800c\uff0c\u5982\u679c\u4e0b\u4e00\u6b65\u5f62\u6210\u4e00\u500b\u5c16\u92b3\u7684\u62d0\u89d2\uff08\u6ed1\u8eca\u5c07\u5728\u4e0b\u4e00\u6b65\u9032\u884c\u8fd1\u65bc\u53cd\u65b9\u5411\u7684\u79fb\u52d5\uff09\uff0c\u5247\u53ea\u80fd\u63a1\u7528\u4e00\u500b\u5f88\u4f4e\u7684\u62d0\u89d2\u901f\u5ea6\u3002 \u7d50\u9ede\u901f\u5ea6\u4f7f\u7528\u201c\u8fd1\u4f3c\u5411\u5fc3\u52a0\u901f\u5ea6\u201d\u78ba\u5b9a\u3002\u6700\u4f73 \u4f5c\u8005\u63cf\u8ff0 \u3002\u4f46\u662f\uff0c\u5728 Klipper \u4e2d\uff0c\u901a\u904e\u6307\u5b9a 90\u00b0 \u89d2\u61c9\u5177\u6709\u7684\u6240\u9700\u901f\u5ea6\uff08\u201c\u65b9\u5f62\u89d2\u901f\u5ea6\u201d\uff09\u4f86\u914d\u7f6e\u7d50\u9ede\u901f\u5ea6\uff0c\u4e26\u7531\u6b64\u5f97\u51fa\u5176\u4ed6\u89d2\u5ea6\u7684\u7d50\u9ede\u901f\u5ea6\u3002 \u9810\u8a08\u7b97\u7684\u95dc\u9375\u65b9\u7a0b\uff1a end_velocity^2 = start_velocity^2 + 2*accel*move_distance","title":"\u9810\u8a08\u7b97\uff08look-ahead\uff09"},{"location":"Kinematics.html#_4","text":"Klipper \u5be6\u73fe\u4e86\u4e00\u7a2e\u7528\u65bc\u5e73\u6ed1\u77ed\u8ddd\u96e2\u4e4b\u5b57\u5f62\u79fb\u52d5\u7684\u6a5f\u5236\u3002\u53c3\u8003\u4ee5\u4e0b\u79fb\u52d5\uff1a \u5728\u4e0a\u8ff0\u60c5\u6cc1\u4e0b\uff0c\u5f9e\u52a0\u901f\u5230\u6e1b\u901f\u7684\u983b\u7e41\u8b8a\u5316\u6703\u5c0e\u81f4\u6a5f\u5668\u632f\u52d5\uff0c\u5f9e\u800c\u5c0d\u6a5f\u5668\u9020\u6210\u58d3\u529b\u4e26\u589e\u52a0\u566a\u97f3\u3002\u70ba\u4e86\u6e1b\u5c11\u9019\u7a2e\u60c5\u6cc1\uff0cKlipper \u8ddf\u8e2a\u5e38\u898f\u79fb\u52d5\u52a0\u901f\u5ea6\u4ee5\u53ca\u865b\u64ec\u201c\u52a0\u901f\u5230\u6e1b\u901f\u201d\u7387\u3002\u4f7f\u7528\u9019\u500b\u7cfb\u7d71\uff0c\u9019\u4e9b\u77ed\u7684\u201c\u4e4b\u5b57\u5f62\u201d\u79fb\u52d5\u7684\u6700\u9ad8\u901f\u5ea6\u88ab\u9650\u5236\u70ba\u5e73\u6ed1\u6253\u5370\u6a5f\u904b\u52d5\uff1a \u5177\u9ad4\u4f86\u8aaa\uff0c\u4ee3\u78bc\u8a08\u7b97\u6bcf\u6b21\u79fb\u52d5\u7684\u901f\u5ea6\uff0c\u5982\u679c\u5b83\u88ab\u9650\u5236\u5728\u9019\u500b\u865b\u64ec\u7684\u201c\u52a0\u901f\u5230\u6e1b\u901f\u201d\u7387\uff08\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\u70ba\u6b63\u5e38\u52a0\u901f\u7387\u7684\u4e00\u534a\uff09\u3002\u5728\u4e0a\u5716\u4e2d\uff0c\u7070\u8272\u865b\u7dda\u8868\u793a\u7b2c\u4e00\u6b65\u7684\u865b\u64ec\u52a0\u901f\u5ea6\u3002\u5982\u679c\u4f7f\u7528\u6b64\u865b\u64ec\u52a0\u901f\u5ea6\u7121\u6cd5\u9054\u5230\u5176\u5168\u5de1\u822a\u901f\u5ea6\uff0c\u5247\u5176\u6700\u9ad8\u901f\u5ea6\u5c07\u964d\u4f4e\u5230\u5728\u6b64\u865b\u64ec\u52a0\u901f\u5ea6\u4e0b\u53ef\u4ee5\u9054\u5230\u7684\u6700\u5927\u901f\u5ea6\u3002\u5c0d\u65bc\u5927\u591a\u6578\u79fb\u52d5\uff0c\u9650\u5236\u5c07\u7b49\u65bc\u6216\u9ad8\u65bc\u79fb\u52d5\u7684\u73fe\u6709\u9650\u5236\uff0c\u4e26\u4e14\u4e0d\u6703\u5f15\u8d77\u884c\u70ba\u8b8a\u5316\u3002\u7136\u800c\uff0c\u5c0d\u65bc\u77ed\u7684\u4e4b\u5b57\u5f62\u79fb\u52d5\uff0c\u9019\u500b\u9650\u5236\u6703\u964d\u4f4e\u6700\u9ad8\u901f\u5ea6\u3002\u8acb\u6ce8\u610f\uff0c\u5b83\u4e0d\u6703\u6539\u8b8a\u79fb\u52d5\u4e2d\u7684\u5be6\u969b\u52a0\u901f\u5ea6 - \u79fb\u52d5\u5c07\u7e7c\u7e8c\u4f7f\u7528\u6b63\u5e38\u52a0\u901f\u65b9\u6848\uff0c\u76f4\u81f3\u5176\u8abf\u6574\u5f8c\u7684\u6700\u9ad8\u901f\u5ea6\u3002","title":"\u9810\u8a08\u7b97\u7d50\u679c\u5e73\u6ed1"},{"location":"Kinematics.html#_5","text":"\u4e00\u65e6\u524d\u77bb\u904e\u7a0b\u5b8c\u6210\uff0c\u7d66\u5b9a\u79fb\u52d5\u7684\u6253\u5370\u982d\u79fb\u52d5\u662f\u5b8c\u5168\u5df2\u77e5\u7684\uff08\u6642\u9593\u3001\u958b\u59cb\u4f4d\u7f6e\u3001\u7d50\u675f\u4f4d\u7f6e\u3001\u6bcf\u500b\u9ede\u7684\u901f\u5ea6\uff09\uff0c\u4e26\u4e14\u53ef\u4ee5\u751f\u6210\u79fb\u52d5\u7684\u6b65\u9032\u6642\u9593\u3002\u6b64\u904e\u7a0b\u5728 Klipper \u4ee3\u78bc\u4e2d\u7684\u201c\u904b\u52d5\u5b78\u985e\u201d\u4e2d\u5b8c\u6210\u3002\u5728\u9019\u4e9b\u904b\u52d5\u5b78\u985e\u4e4b\u5916\uff0c\u4e00\u5207\u90fd\u4ee5\u6beb\u7c73\u3001\u79d2\u548c\u7b1b\u5361\u723e\u5750\u6a19\u7a7a\u9593\u70ba\u55ae\u4f4d\u9032\u884c\u8ddf\u8e2a\u3002\u904b\u52d5\u5b78\u985e\u7684\u4efb\u52d9\u662f\u5c07\u901a\u7528\u5750\u6a19\u7cfb\u8f49\u63db\u70ba\u7279\u5b9a\u6253\u5370\u6a5f\u7684\u786c\u4ef6\u7d30\u7bc0\u3002 Klipper \u4f7f\u7528 iterative solver \u70ba\u6bcf\u500b\u6b65\u9032\u5668\u751f\u6210\u6b65\u9032\u6642\u9593\u3002\u8a72\u4ee3\u78bc\u5305\u542b\u8a08\u7b97\u6bcf\u500b\u6642\u523b\u982d\u90e8\u7406\u60f3XYZ\u5750\u6a19\u7684\u516c\u5f0f\uff0c\u4e26\u4e14\u5b83\u5177\u6709\u6839\u64da\u9019\u4e9bXYZ\u5750\u6a19\u8a08\u7b97\u7406\u60f3\u6b65\u9032\u5668\u4f4d\u7f6e\u7684\u52d5\u4f5c\u516c\u5f0f\u3002\u901a\u904e\u9019\u4e9b\u516c\u5f0f\uff0cKlipper \u53ef\u4ee5\u78ba\u5b9a\u6b65\u9032\u5668\u61c9\u8a72\u5728\u6bcf\u500b\u6b65\u9032\u4f4d\u7f6e\u7684\u7406\u60f3\u6642\u9593\u3002\u7136\u5f8c\u5728\u9019\u4e9b\u8a08\u7b97\u7684\u6642\u9593\u5b89\u6392\u7d66\u5b9a\u7684\u6b65\u9a5f\u3002 \u78ba\u5b9a\u5728\u6046\u5b9a\u52a0\u901f\u5ea6\u4e0b\u79fb\u52d5\u61c9\u8a72\u884c\u9032\u591a\u9060\u7684\u95dc\u9375\u516c\u5f0f\u662f\uff1a move_distance = (start_velocity + .5 * accel * move_time) * move_time \u52fb\u901f\u52d5\u4f5c\u7684\u95dc\u9375\u516c\u5f0f\u662f\uff1a move_distance = cruise_velocity * move_time \u5728\u7d66\u5b9a\u79fb\u52d5\u8ddd\u96e2\u7684\u60c5\u6cc1\u4e0b\uff0c\u78ba\u5b9a\u79fb\u52d5\u7684XYZ\u5750\u6a19\u7684\u95dc\u9375\u516c\u5f0f\u662f\uff1a cartesian_x_position = start_x + move_distance * total_x_movement / total_movement cartesian_y_position = start_y + move_distance * total_y_movement / total_movement cartesian_z_position = start_z + move_distance * total_z_movement / total_movement","title":"\u751f\u6210\u6b65\u9a5f"},{"location":"Kinematics.html#xyz","text":"\u70baXYZ\u6a5f\u578b\u6253\u5370\u6a5f\u751f\u6210\u57f7\u884c\u52d5\u4f5c\u662f\u6700\u7c21\u55ae\u3002\u6bcf\u500b\u8ef8\u4e0a\u7684\u52d5\u4f5c\u8207\u5404XYZ\u7a7a\u9593\u76f4\u63a5\u76f8\u95dc\u3002 \u95dc\u9375\u516c\u5f0f\uff1a stepper_x_position = cartesian_x_position stepper_y_position = cartesian_y_position stepper_z_position = cartesian_z_position","title":"XYZ \u6a5f\u578b"},{"location":"Kinematics.html#corexy","text":"\u5728 CoreXY \u6a5f\u5668\u4e0a\u751f\u6210\u52d5\u4f5c\u53ea\u6bd4\u57fa\u672c\u7684XYZ\u6a5f\u578b\u7684\u6253\u5370\u6a5f\u8907\u96dc\u4e00\u9ede\u3002\u95dc\u9375\u516c\u5f0f\u662f\uff1a stepper_a_position = cartesian_x_position + cartesian_y_position stepper_b_position = cartesian_x_position - cartesian_y_position stepper_z_position = cartesian_z_position","title":"CoreXY \u6a5f\u578b"},{"location":"Kinematics.html#_6","text":"\u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u52d5\u4f5c\u751f\u6210\u57fa\u65bc\u7562\u9054\u54e5\u62c9\u65af\u5b9a\u7406\uff1a stepper_position = (sqrt(arm_length^2 - (cartesian_x_position - tower_x_position)^2 - (cartesian_y_position - tower_y_position)^2) + cartesian_z_position)","title":"\u4e09\u89d2\u6d32\u6a5f\u578b"},{"location":"Kinematics.html#_7","text":"\u4f7f\u7528\u4e09\u89d2\u6d32\u6a5f\u578b\u6642\uff0c\u5728XYZ\u7a7a\u9593\u4e2d\u52a0\u901f\u7684\u52d5\u4f5c\u53ef\u80fd\u9700\u8981\u7279\u5b9a\u6b65\u9032\u96fb\u6a5f\u4e0a\u7684\u52a0\u901f\u5ea6\u5927\u65bc\u904b\u52d5\u7684\u52a0\u901f\u5ea6\u3002\u7576\u6b65\u9032\u81c2\u6bd4\u5782\u76f4\u66f4\u6c34\u5e73\u4e26\u4e14\u904b\u52d5\u7dda\u901a\u904e\u6b65\u9032\u5668\u5854\u9644\u8fd1\u6642\uff0c\u53ef\u80fd\u6703\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\u3002\u5118\u7ba1\u9019\u4e9b\u79fb\u52d5\u53ef\u80fd\u9700\u8981\u4e00\u500b\u5927\u65bc\u6253\u5370\u6a5f\u914d\u7f6e\u7684\u6700\u5927\u79fb\u52d5\u52a0\u901f\u5ea6\u7684\u6b65\u9032\u96fb\u6a5f\u52a0\u901f\u5ea6\uff0c\u4f46\u8a72\u6b65\u9032\u96fb\u6a5f\u79fb\u52d5\u7684\u6709\u6548\u8cea\u91cf\u6703\u66f4\u5c0f\u3002\u56e0\u6b64\uff0c\u66f4\u9ad8\u7684\u6b65\u9032\u52a0\u901f\u5ea6\u4e0d\u6703\u5c0e\u81f4\u986f\u8457\u66f4\u9ad8\u7684\u6b65\u9032\u626d\u77e9\uff0c\u56e0\u6b64\u88ab\u8a8d\u70ba\u662f\u7121\u5bb3\u7684\u3002 \u4f46\u662f\uff0c\u70ba\u907f\u514d\u6975\u7aef\u60c5\u6cc1\uff0cKlipper \u5c07\u6b65\u9032\u52a0\u901f\u5ea6\u7684\u6700\u5927\u4e0a\u9650\u8a2d\u7f6e\u70ba\u6253\u5370\u6a5f\u914d\u7f6e\u7684\u6700\u5927\u79fb\u52d5\u52a0\u901f\u5ea6\u7684\u4e09\u500d\u3002 \uff08\u985e\u4f3c\u5730\uff0c\u6b65\u9032\u5668\u7684\u6700\u5927\u901f\u5ea6\u88ab\u9650\u5236\u70ba\u6700\u5927\u79fb\u52d5\u901f\u5ea6\u7684\u4e09\u500d\u3002\uff09\u70ba\u4e86\u5f37\u5236\u57f7\u884c\u6b64\u9650\u5236\uff0c\u5728\u69cb\u5efa\u5305\u7d61\u7684\u6700\u908a\u7de3\uff08\u6b65\u9032\u5668\u81c2\u53ef\u80fd\u5e7e\u4e4e\u6c34\u5e73\uff09\u7684\u79fb\u52d5\u5c07\u5177\u6709\u8f03\u4f4e\u7684\u6700\u5927\u52a0\u901f\u5ea6\u548c\u901f\u5ea6\u3002","title":"\u6b65\u9032\u96fb\u6a5f\u52a0\u901f\u5ea6\u9650\u5236"},{"location":"Kinematics.html#_8","text":"Klipper \u5728\u5176\u81ea\u5df1\u7684\u52d5\u4f5c\u985e\u5225\u4e2d\u5be6\u73fe\u4e86\u64e0\u51fa\u6a5f\u52d5\u4f5c\u3002\u7531\u65bc\u6bcf\u500b\u6253\u5370\u982d\u79fb\u52d5\u7684\u6642\u9593\u548c\u901f\u5ea6\u5c0d\u65bc\u6bcf\u6b21\u79fb\u52d5\u90fd\u662f\u5b8c\u5168\u5df2\u77e5\u7684\uff0c\u56e0\u6b64\u53ef\u4ee5\u7368\u7acb\u65bc\u6253\u5370\u982d\u79fb\u52d5\u7684\u6b65\u9032\u6642\u9593\u8a08\u7b97\u4f86\u8a08\u7b97\u64e0\u51fa\u6a5f\u7684\u6b65\u9032\u6642\u9593\u3002 \u57fa\u672c\u7684\u64e0\u51fa\u6a5f\u904b\u52d5\u5f88\u5bb9\u6613\u8a08\u7b97\u3002\u6b65\u6642\u9593\u751f\u6210\u4f7f\u7528\u8207\u7b1b\u5361\u723e\u6a5f\u5668\u4eba\u76f8\u540c\u7684\u516c\u5f0f\uff1a stepper_position = requested_e_position","title":"\u64e0\u51fa\u6a5f\u52d5\u4f5c"},{"location":"Kinematics.html#pressure-advance","text":"\u5be6\u9a57\u8868\u660e\uff0c\u9664\u4e86\u57fa\u672c\u7684\u64e0\u51fa\u6a5f\u914d\u65b9\u5916\uff0c\u9084\u53ef\u4ee5\u6539\u9032\u64e0\u51fa\u6a5f\u7684\u5efa\u6a21\u3002\u5728\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u96a8\u8457\u64e0\u51fa\u79fb\u52d5\u7684\u9032\u884c\uff0c\u6cbf\u79fb\u52d5\u7684\u6bcf\u500b\u9ede\u61c9\u6c89\u7a4d\u76f8\u540c\u9ad4\u7a4d\u7684\u7d30\u7d72\uff0c\u4e26\u4e14\u79fb\u52d5\u5f8c\u4e0d\u61c9\u6709\u64e0\u51fa\u9ad4\u7a4d\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u901a\u5e38\u6703\u767c\u73fe\u57fa\u672c\u64e0\u51fa\u914d\u65b9\u6703\u5c0e\u81f4\u5728\u64e0\u51fa\u904b\u52d5\u958b\u59cb\u6642\u96e2\u958b\u64e0\u51fa\u6a5f\u7684\u7d30\u7d72\u592a\u5c11\uff0c\u800c\u5728\u64e0\u51fa\u7d50\u675f\u5f8c\u64e0\u51fa\u904e\u591a\u7684\u7d30\u7d72\u3002\u9019\u901a\u5e38\u88ab\u7a31\u70ba\"ooze\"\u3002 \"pressure advance\"\u7cfb\u7d71\u8a66\u5716\u901a\u904e\u4f7f\u7528\u4e0d\u540c\u578b\u865f\u7684\u64e0\u51fa\u6a5f\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002\u8207\u5176\u5929\u771f\u5730\u76f8\u4fe1\u6bcf mm^3 \u7684\u9577\u7d72\u9001\u5165\u64e0\u51fa\u6a5f\u90fd\u6703\u5c0e\u81f4\u8a72\u91cf\u7684 mm^3 \u7acb\u5373\u96e2\u958b\u64e0\u51fa\u6a5f\uff0c\u800c\u662f\u4f7f\u7528\u57fa\u65bc\u58d3\u529b\u7684\u6a21\u578b\u3002\u7576\u9577\u7d72\u88ab\u63a8\u5165\u64e0\u51fa\u6a5f\u6642\u58d3\u529b\u589e\u52a0\uff08\u5982[\u80e1\u514b\u5b9a\u5f8b]\uff08 https://en.wikipedia.org/wiki/Hooke%27s_law\uff09\uff09\uff0c\u64e0\u51fa\u6240\u9700\u7684\u58d3\u529b\u7531\u901a\u904e\u5674\u5634\u5b54\u7684\u6d41\u901f\u6c7a\u5b9a\uff08\u5982 Poiseuille \u5b9a\u5f8b \uff09\u3002\u95dc\u9375\u601d\u60f3\u662f\u71c8\u7d72\u3001\u58d3\u529b\u548c\u6d41\u91cf\u4e4b\u9593\u7684\u95dc\u4fc2\u53ef\u4ee5\u4f7f\u7528\u7dda\u6027\u4fc2\u6578\u9032\u884c\u5efa\u6a21\uff1a pa_position = nominal_position + pressure_advance_coefficient * nominal_velocity \u6709\u95dc\u5982\u4f55\u67e5\u627e\u6b64\u58d3\u529b\u63d0\u524d\u4fc2\u6578\u7684\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1 \u58d3\u529b\u63d0\u524d \u6587\u6a94\u3002 \u57fa\u672c\u7684\u58d3\u529b\u63d0\u524d\u516c\u5f0f\u6703\u5c0e\u81f4\u64e0\u51fa\u6a5f\u96fb\u6a5f\u767c\u751f\u7a81\u7136\u7684\u901f\u5ea6\u8b8a\u5316\u3002 Klipper \u5be6\u73fe\u4e86\u64e0\u51fa\u6a5f\u904b\u52d5\u7684\u201c\u5e73\u6ed1\u201d\u4ee5\u907f\u514d\u9019\u7a2e\u60c5\u6cc1\u3002 \u4e0a\u5716\u986f\u793a\u4e86\u5169\u500b\u64e0\u58d3\u79fb\u52d5\u7684\u793a\u4f8b\uff0c\u5b83\u5011\u4e4b\u9593\u7684\u8f49\u5f4e\u901f\u5ea6\u70ba\u975e\u96f6\u3002\u8acb\u6ce8\u610f\uff0c\u58d3\u529b\u63a8\u9032\u7cfb\u7d71\u6703\u5728\u52a0\u901f\u904e\u7a0b\u4e2d\u5c07\u984d\u5916\u7684\u7d30\u7d72\u63a8\u5165\u64e0\u51fa\u6a5f\u3002\u6240\u9700\u7684\u71c8\u7d72\u6d41\u901f\u8d8a\u9ad8\uff0c\u5728\u52a0\u901f\u904e\u7a0b\u4e2d\u5fc5\u9808\u63a8\u5165\u7684\u71c8\u7d72\u8d8a\u591a\u4ee5\u89e3\u6c7a\u58d3\u529b\u554f\u984c\u3002\u5728\u6a5f\u982d\u6e1b\u901f\u671f\u9593\uff0c\u984d\u5916\u7684\u7d30\u7d72\u7e2e\u56de\uff08\u64e0\u51fa\u6a5f\u5c07\u5177\u6709\u8ca0\u901f\u5ea6\uff09\u3002 \u201c\u5e73\u6ed1\u201d\u662f\u4f7f\u7528\u64e0\u51fa\u6a5f\u4f4d\u7f6e\u5728\u4e00\u5c0f\u6bb5\u6642\u9593\u5167\u7684\u52a0\u6b0a\u5e73\u5747\u503c\u4f86\u5be6\u73fe\u7684\uff08\u7531 pressure_advance_smooth_time \u914d\u7f6e\u53c3\u6578\u6307\u5b9a\uff09\u3002\u9019\u7a2e\u5e73\u5747\u53ef\u4ee5\u8de8\u8d8a\u591a\u500b g \u4ee3\u78bc\u79fb\u52d5\u3002\u8acb\u6ce8\u610f\u64e0\u51fa\u6a5f\u96fb\u6a5f\u5c07\u5982\u4f55\u5728\u7b2c\u4e00\u6b21\u64e0\u51fa\u79fb\u52d5\u7684\u6a19\u7a31\u958b\u59cb\u4e4b\u524d\u958b\u59cb\u79fb\u52d5\uff0c\u4e26\u5c07\u5728\u6700\u5f8c\u4e00\u6b21\u64e0\u51fa\u79fb\u52d5\u7684\u6a19\u7a31\u7d50\u675f\u5f8c\u7e7c\u7e8c\u79fb\u52d5\u3002 \"smoothed pressure advance\"\u7684\u95dc\u9375\u516c\u5f0f\uff1a smooth_pa_position(t) = ( definitive_integral(pa_position(x) * (smooth_time/2 - abs(t - x)) * dx, from=t-smooth_time/2, to=t+smooth_time/2) / (smooth_time/2)^2 )","title":"Pressure advance"},{"location":"MCU_Commands.html","text":"MCU\u547d\u4ee4 \u00b6 \u8a72\u6587\u4ef6\u4ecb\u7d39\u4e86Klipper\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\uff0c\u4e26\u7531\u5fae\u8655\u7406\u5668\u8ca0\u8cac\u57f7\u884c\u7684\u5e95\u5c64\u547d\u4ee4\u3002\u8a72\u6587\u4ef6\u4e0d\u662f\u9019\u4e9b\u547d\u4ee4\u7684\u6b0a\u5a01\u6587\u4ef6\uff0c\u4e5f\u4e26\u672a\u5305\u542b\u6240\u6709\u547d\u4ee4\u3002 \u82e5\u60f3\u6df1\u5165\u77ad\u89e3\u5e95\u5c64\u5fae\u8655\u7406\u5668\u547d\u4ee4\uff0c\u8a72\u6587\u4ef6\u662f\u4e0d\u932f\u7684\u5165\u9580\u6750\u6599\u3002 \u95dc\u65bc\u547d\u4ee4\u7684\u683c\u5f0f\u548c\u50b3\u8f38\u7684\u66f4\u591a\u8cc7\u8a0a\uff0c\u898b protocol \u6a94\u6848\u3002\u9019\u88e1\u7684\u547d\u4ee4\u662f\u4f7f\u7528\u5176 \"printf \"\u98a8\u683c\u7684\u8a9e\u6cd5\u63cf\u8ff0\u7684--\u5c0d\u65bc\u90a3\u4e9b\u4e0d\u719f\u6089\u9019\u7a2e\u683c\u5f0f\u7684\u4eba\u4f86\u8aaa\uff0c\u53ea\u9700\u6ce8\u610f\u5728\u770b\u5230'%...'\u5e8f\u5217\u6642\uff0c\u61c9\u8a72\u7528\u4e00\u500b\u5be6\u969b\u7684\u6574\u6578\u4f86\u4ee3\u66ff\u3002\u4f8b\u5982\uff0c\"count=%c \"\u7684\u63cf\u8ff0\u53ef\u4ee5\u88ab\u66ff\u63db\u70ba \"count=10\"\u3002\u8acb\u6ce8\u610f\uff0c\u90a3\u4e9b\u88ab\u8a8d\u70ba\u662f \"enumerations \"\u7684\u53c3\u6578\uff08\u898b\u4e0a\u8ff0\u5354\u8b70\u6a94\u6848\uff09\u63a1\u53d6\u7684\u662f\u4e00\u500b\u5b57\u4e32\u503c\uff0c\u5c0d\u65bc\u5fae\u63a7\u5236\u5668\u4f86\u8aaa\uff0c\u5b83\u88ab\u81ea\u52d5\u8f49\u63db\u70ba\u4e00\u500b\u6574\u6578\u503c\u3002\u9019\u5728\u540d\u70ba \"pin\"\uff08\u6216\u5f8c\u7db4\u70ba\"_pin\"\uff09\u7684\u53c3\u6578\u4e2d\u5f88\u5e38\u898b\u3002 \u555f\u52d5\u547d\u4ee4 \u00b6 \u53ef\u80fd\u9700\u8981\u63a1\u53d6\u67d0\u4e9b\u4e00\u6b21\u6027\u7684\u547d\u4ee4\u4f86\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u53ca\u5176\u7247\u4e0a\u5916\u5099\u3002\u672c\u7bc0\u5217\u51fa\u4e86\u53ef\u7528\u65bc\u8a72\u76ee\u7684\u7684\u5e38\u7528\u547d\u4ee4\u3002\u8207\u5927\u591a\u6578\u5fae\u63a7\u5236\u5668\u7684\u547d\u4ee4\u4e0d\u540c\uff0c\u9019\u4e9b\u547d\u4ee4\u5728\u6536\u5230\u540e\u7acb\u5373\u57f7\u884c\uff0c\u5b83\u5011\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u7684\u8a2d\u5b9a\u3002 \u5e38\u898b\u7684\u555f\u52d5\u547d\u4ee4\uff1a set_digital_out pin=%u value=%c \uff1a\u8a72\u547d\u4ee4\u7acb\u5373\u5c07\u6307\u5b9a\u7684\u5f15\u8173\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51faGPIO\uff0c\u4e26\u5c07\u5176\u8a2d\u5b9a\u70ba\u4f4e\u96fb\u5e73\uff08value=0\uff09\u6216\u9ad8\u96fb\u5e73\uff08value=1\uff09\u3002\u9019\u689d\u547d\u4ee4\u5c0d\u65bc\u914d\u7f6eLED\u7684\u521d\u59cb\u503c\u548c\u914d\u7f6e\u6b65\u9032\u9a45\u52d5\u5668\u5fae\u6b65\u9032\u5f15\u8173\u7684\u521d\u59cb\u503c\u5f88\u6709\u7528\u3002 set_pwm_out pin=%u cycle_ticks=%u value=%hu \uff1a\u8a72\u547d\u4ee4\u5c07\u7acb\u5373\u914d\u7f6e\u6307\u5b9a\u7684\u5f15\u8173\uff0c\u4f7f\u5176\u4f7f\u7528\u786c\u9ad4\u7684\u8108\u5bec\u8abf\u88fd\uff08PWM\uff09\u548c\u7d66\u5b9a\u7684cycle_ticks\u3002\u300ccycle_ticks\u300d\u662f\u6307\u6bcf\u500b\u901a\u96fb\u548c\u65b7\u96fb\u9031\u671f\u61c9\u8a72\u6301\u7e8c\u7684MCU\u6642\u9418\u6578\u3002cycle_ticks\u7684\u503c\u70ba1\u8868\u793a\u4f7f\u7528\u6700\u77ed\u7684\u9031\u671f\u6642\u9593\u3002\u300cvalue\u300d\u53c3\u6578\u57280-255\u4e4b\u9593\uff0c0\u8868\u793a\u5b8c\u5168\u95dc\u9589\u72c0\u614b\uff0c255\u8868\u793a\u5b8c\u5168\u958b\u555f\u72c0\u614b\u3002\u8a72\u547d\u4ee4\u5c0d\u555f\u7528CPU\u548c\u5674\u5634\u51b7\u537b\u98a8\u6247\u5f88\u6709\u7528\u3002 \u5e95\u5c64\u5fae\u63a7\u5236\u5668\u914d\u7f6e \u00b6 \u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5927\u591a\u6578\u547d\u4ee4\u5728\u6210\u529f\u547c\u53eb\u4e4b\u524d\u9700\u8981\u9032\u884c\u521d\u59cb\u8a2d\u5b9a\u3002\u672c\u7bc0\u63d0\u4f9b\u4e86\u4e00\u500b\u914d\u7f6e\u904e\u7a0b\u7684\u6982\u8ff0\u3002\u672c\u7bc0\u548c\u4e0b\u9762\u7684\u7ae0\u7bc0\u9069\u7528\u65bc\u5c0dKlipper\u7684\u5167\u90e8\u7d30\u7bc0\u611f\u8208\u8da3\u7684\u958b\u767c\u8005\u3002 \u7576\u4e3b\u6a5f\u7b2c\u4e00\u6b21\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u6642\uff0c\u5b83\u7e3d\u662f\u5f9e\u7372\u5f97\u4e00\u500b\u6578\u64da\u5b57\u5178\u958b\u59cb\uff08\u66f4\u591a\u8cc7\u8a0a\u898b protocol \uff09\u3002\u7372\u5f97\u6578\u64da\u5b57\u5178\u540e\uff0c\u4e3b\u6a5f\u5c07\u6aa2\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u8655\u65bc \"\u5df2\u914d\u7f6e \"\u72c0\u614b\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u9032\u884c\u914d\u7f6e\u3002\u914d\u7f6e\u5305\u62ec\u4ee5\u4e0b\u5e7e\u500b\u968e\u6bb5\uff1a get_config \uff1a\u4e3b\u6a5f\u9996\u5148\u6aa2\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u5df2\u7d93\u88ab\u914d\u7f6e\u3002\u5fae\u63a7\u5236\u5668\u7528\u4e00\u500b \"config \"\u7684\u97ff\u61c9\u8cc7\u8a0a\u4f86\u56de\u61c9\u9019\u500b\u547d\u4ee4\u3002\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5728\u4e0a\u96fb\u6642\u7e3d\u662f\u4ee5\u672a\u914d\u7f6e\u7684\u72c0\u614b\u555f\u52d5\u3002\u5728\u4e3b\u6a5f\u5b8c\u6210\u914d\u7f6e\u904e\u7a0b\u4e4b\u524d\uff08\u901a\u904e\u767c\u51fafinalize_config\u547d\u4ee4\uff09\uff0c\u5b83\u4e00\u76f4\u8655\u65bc\u9019\u7a2e\u72c0\u614b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u5df2\u7d93\u5728\u524d\u4e00\u500b\u6703\u8a71\u4e2d\u9032\u884c\u4e86\u914d\u7f6e\uff08\u4e26\u4e14\u914d\u7f6e\u4e86\u6240\u9700\u7684\u8a2d\u5b9a\uff09\uff0c\u90a3\u9ebc\u4e3b\u6a5f\u5c31\u4e0d\u9700\u8981\u9032\u4e00\u6b65\u7684\u64cd\u4f5c\uff0c\u914d\u7f6e\u904e\u7a0b\u6210\u529f\u7d50\u675f\u3002 allocate_oids count=%c \uff1a\u9019\u689d\u547d\u4ee4\u662f\u7528\u4f86\u901a\u77e5\u5fae\u63a7\u5236\u5668\u4e3b\u6a5f\u6240\u9700\u7684\u5c0d\u8c61\u6a19\u8b58\uff08oid\uff09\u7684\u6700\u5927\u6578\u91cf\u3002\u9019\u689d\u547d\u4ee4\u53ea\u6709\u6548\u4e00\u6b21\u3002oid\u662f\u5206\u914d\u7d66\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u3001\u6bcf\u500b\u9650\u4f4d\u958b\u95dc\u548c\u6bcf\u500b\u53ef\u6392\u7a0b\u7684gpio\u5f15\u8173\u7684\u4e00\u500b\u6574\u6578\u6a19\u8b58\u3002\u4e3b\u6a5f\u4e8b\u5148\u78ba\u5b9a\u64cd\u4f5c\u786c\u9ad4\u6240\u9700\u7684oid\u6578\u91cf\uff0c\u4e26\u5c07\u5176\u50b3\u905e\u7d66\u5fae\u63a7\u5236\u5668\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5\u5206\u914d\u8db3\u5920\u7684\u8a18\u61b6\u9ad4\u4f86\u5132\u5b58\u5f9eoid\u5230\u5167\u90e8\u5c0d\u8c61\u7684\u5c0d\u6620\u3002 config_XXX oid=%c ... \uff1a\u6309\u7167\u6163\u4f8b\uff0c\u4efb\u4f55\u4ee5 \"config_\"\u958b\u982d\u7684\u547d\u4ee4\u90fd\u6703\u5efa\u7acb\u4e00\u500b\u65b0\u7684\u5fae\u63a7\u5236\u5668\u5c0d\u8c61\uff0c\u4e26\u5c07\u7d66\u5b9a\u7684oid\u8ce6\u4e88\u5b83\u3002\u4f8b\u5982\uff0cconfig_digital_out\u547d\u4ee4\u5c07\u628a\u6307\u5b9a\u7684\u5f15\u8173\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51faGPIO\uff0c\u4e26\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u5c0d\u8c61\uff0c\u4e3b\u6a5f\u53ef\u4ee5\u7528\u5b83\u4f86\u5b89\u6392\u6539\u8b8a\u6307\u5b9a\u7684GPIO\u7684\u8f38\u51fa\u3002\u50b3\u5165config\u547d\u4ee4\u7684oid\u53c3\u6578\u7531\u4e3b\u6a5f\u9078\u64c7\uff0c\u5fc5\u9808\u4ecb\u65bc0\u548callocate_oids\u547d\u4ee4\u4e2d\u63d0\u4f9b\u7684\u6700\u5927\u8a08\u6578\u4e4b\u9593\u3002config\u547d\u4ee4\u53ea\u80fd\u5728\u5fae\u63a7\u5236\u5668\u4e0d\u8655\u65bc\u5df2\u914d\u7f6e\u72c0\u614b\u6642\uff08\u5373\u5728\u4e3b\u6a5f\u767c\u9001finalize_config\u4e4b\u524d\uff09\u548callocate_oids\u547d\u4ee4\u88ab\u9aee\u9001\u4e4b\u5f8c\u57f7\u884c\u3002 finalize_config crc=%u \uff1afinalize_config\u547d\u4ee4\u5c07\u5fae\u63a7\u5236\u5668\u5f9e\u672a\u914d\u7f6e\u72c0\u614b\u8f49\u63db\u70ba\u5df2\u914d\u7f6e\u72c0\u614b\u3002\u50b3\u905e\u7d66\u5fae\u63a7\u5236\u5668\u7684crc\u53c3\u6578\u88ab\u5132\u5b58\u8d77\u4f86\uff0c\u4e26\u5728 \"config \"\u97ff\u61c9\u8cc7\u8a0a\u4e2d\u53cd\u994b\u7d66\u4e3b\u6a5f\u3002\u6309\u7167\u6163\u4f8b\uff0c\u4e3b\u6a5f\u5c0d\u5b83\u6240\u8981\u6c42\u7684\u914d\u7f6e\u63a1\u53d632\u4f4d\u7684CRC\uff0c\u4e26\u5728\u96a8\u5f8c\u7684\u901a\u8a0a\u6703\u8a71\u958b\u59cb\u6642\uff0c\u6aa2\u67e5\u5132\u5b58\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u7684CRC\u662f\u5426\u8207\u5b83\u6240\u5e0c\u671b\u7684CRC\u6b63\u78ba\u5339\u914d\u3002\u5982\u679cCRC\u4e0d\u5339\u914d\uff0c\u90a3\u9ebc\u4e3b\u6a5f\u5c31\u77e5\u9053\u5fae\u63a7\u5236\u5668\u9084\u6c92\u6709\u88ab\u914d\u7f6e\u5230\u4e3b\u6a5f\u6240\u5e0c\u671b\u7684\u72c0\u614b\u3002 \u5e38\u898b\u7684\u5fae\u63a7\u5236\u5668\u5c0d\u50cf \u00b6 \u672c\u7bc0\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u914d\u7f6e\u547d\u4ee4\u3002 config_digital_out oid=%c pin=%u value=%c default_value=%c max_duration=%u \uff1a\u8a72\u547d\u4ee4\u70ba\u7d66\u5b9a\u7684GPIO'pin'\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u5fae\u63a7\u5236\u5668\u5c0d\u8c61\u3002\u8a72\u5f15\u8173\u5c07\u88ab\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51fa\u6a21\u5f0f\uff0c\u4e26\u88ab\u8a2d\u5b9a\u70ba'value'\u6307\u5b9a\u7684\u521d\u59cb\u503c\uff080\u70ba\u4f4e\uff0c1\u70ba\u9ad8\uff09\u3002\u5efa\u7acb\u4e00\u500bdigital_out\u5c0d\u50cf\u5141\u8a31\u4e3b\u6a5f\u5728\u6307\u5b9a\u7684\u6642\u9593\u5167\u5c0d\u6307\u5b9a\u5f15\u8173\u91cd\u65b0\u6574\u7406GPIO\u8f38\u51fa\u72c0\u614b\uff08\u898b\u4e0b\u9762\u63cf\u8ff0\u7684queue_digital_out\u547d\u4ee4\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u9032\u5165\u95dc\u6a5f\u6a21\u5f0f\uff0c\u90a3\u9ebc\u6240\u6709\u914d\u7f6e\u7684digital_out\u5c0d\u50cf\u5c07\u88ab\u8a2d\u5b9a\u70ba'default_value'\u3002max_duration \"\u53c3\u6578\u7528\u65bc\u5be6\u73fe\u5b89\u5168\u6aa2\u67e5--\u5982\u679c\u5b83\u662f\u975e\u96f6\uff0c\u90a3\u9ebc\u5b83\u4ee3\u8868\u4e3b\u6a5f\u53ef\u4ee5\u5c07\u6307\u5b9a\u7684GPIO\u8a2d\u70ba\u975e\u9810\u8a2d\u503c\u800c\u4e0d\u9700\u8981\u91cd\u65b0\u6574\u7406\u7684\u6700\u5927\u6642\u9418\u6578\u3002\u4f8b\u5982\uff0c\u5982\u679cdefault_value\u662f0\uff0cmax_duration\u662f16000\uff0c\u90a3\u9ebc\u5982\u679c\u4e3b\u6a5f\u5c07gpio\u8a2d\u5b9a\u70ba1\uff0c\u5b83\u5fc5\u9808\u572816000\u500b\u6642\u9418\u523b\u5ea6\u5167\u91cd\u65b0\u6574\u7406gpio\u5f15\u8173\u7684\u8f38\u51fa\uff08\u70ba0\u62161\uff09\u3002\u9019\u500b\u5b89\u5168\u529f\u80fd\u53ef\u7528\u65bc\u52a0\u71b1\u5668\u5f15\u8173\uff0c\u4ee5\u78ba\u4fdd\u4e3b\u6a5f\u4e0d\u6703\u555f\u7528\u52a0\u71b1\u5668\u540e\u96e2\u7dda\u3002 config_pwm_out oid=%c pin=%u cycle_ticks=%u value=%hu default_value=%hu max_duration=%u \uff1a\u8a72\u547d\u4ee4\u70ba\u57fa\u65bc\u786c\u9ad4\u7684PWM\u5f15\u8173\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u5c0d\u8c61\uff0c\u4e3b\u6a5f\u53ef\u4ee5\u5b9a\u671f\u91cd\u65b0\u6574\u7406\u3002\u5b83\u7684\u7528\u6cd5\u8207config_digital_out\u985e\u4f3c--\u53c3\u6578\u8aaa\u660e\u898b'set_pwm_out'\u548c'config_digital_out'\u547d\u4ee4\u7684\u63cf\u8ff0\u3002 config_analog_in oid=%c pin=%u \uff1a\u8a72\u547d\u4ee4\u7528\u65bc\u5c07\u4e00\u500b\u5f15\u8173\u914d\u7f6e\u70ba\u6a21\u64ec\u8f38\u5165\u63a1\u6a23\u6a21\u5f0f\u3002\u4e00\u65e6\u914d\u7f6e\u5b8c\u6210\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528query_analog_in\u547d\u4ee4\uff08\u898b\u4e0b\u6587\uff09\u4ee5\u56fa\u5b9a\u7684\u6642\u9593\u9593\u9694\u5c0d\u8a72\u5f15\u8173\u9032\u884c\u63a1\u6a23\u3002 config_stepper oid=%c step_pin=%c dir_pin=%c invert_step=%c step_pulse_ticks=%u \uff1a\u8a72\u547d\u4ee4\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u6b65\u9032\u5668\u5c0d\u8c61\u3002'step_pin'\u548c'dir_pin'\u53c3\u6578\u5206\u5225\u6307\u5b9a\u6b65\u9032\u548c\u65b9\u5411\u5f15\u8173\uff1b\u8a72\u547d\u4ee4\u5c07\u628a\u5b83\u5011\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51fa\u6a21\u5f0f\u3002'invert_step'\u53c3\u6578\u6307\u5b9a\u6b65\u9032\u662f\u767c\u751f\u5728\u4e0a\u5347\u6cbf\uff08invert_step=0\uff09\u9084\u662f\u4e0b\u964d\u6cbf\uff08invert_step=1\uff09\u3002'step_pulse_ticks'\u53c3\u6578\u6307\u5b9a\u4e86\u6b65\u9032\u8108\u885d\u7684\u6700\u5c0f\u6301\u7e8c\u6642\u9593\u3002\u5982\u679cMCU\u8f38\u51fa\u5e38\u6578 \"STEPPER_BOTH_EDGE=1\"\uff0c\u90a3\u9ebc\u8a2d\u5b9astep_pulse_ticks=0\u548cinvert_step=-1\u5c07\u8a2d\u5b9a\u5728\u6b65\u9032\u5f15\u8173\u7684\u4e0a\u5347\u6cbf\u548c\u4e0b\u964d\u6cbf\u90fd\u9032\u884c\u6b65\u9032\u8f38\u51fa\u3002 config_endstop oid=%c pin=%c pull_up=%c stepper_count=%c : \u8a72\u547d\u4ee4\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u7684 \"endstop\"\u5c0d\u8c61\u3002\u5b83\u7528\u65bc\u6307\u5b9a\u9650\u4f4d\u958b\u95dc\u7684\u5f15\u8173\uff0c\u4e26\u555f\u7528 \"homing \"\u64cd\u4f5c\uff08\u898b\u4e0b\u9762\u7684endstop_home\u547d\u4ee4\uff09\u3002\u8a72\u547d\u4ee4\u5c07\u628a\u6307\u5b9a\u7684\u5f15\u8173\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u5165\u6a21\u5f0f\u3002\u300epull_up\u300f\u53c3\u6578\u6c7a\u5b9a\u662f\u5426\u555f\u7528\u786c\u9ad4\u70ba\u5f15\u8173\u63d0\u4f9b\u7684\u4e0a\u62c9\u96fb\u963b\uff08\u5982\u679c\u6709\u7684\u8a71\uff09\u3002\u300estepper_count\u300f\u53c3\u6578\u898f\u5b9a\u4e86\u5728\u6b78\u96f6\u64cd\u4f5c\u4e2d\uff0c\u8a72\u9650\u4f4d\u958b\u95dc\u89f8\u767c\u5668\u53ef\u80fd\u9700\u8981\u7684\u6700\u5927\u6b65\u9032\u6578\uff08\u898b\u4e0b\u6587endstop_home\uff09\u3002 config_spi oid=%c bus=%u pin=%u mode=%u rate=%u shutdown_msg=%*s \uff1a\u8a72\u547d\u4ee4\u5efa\u7acb\u4e86\u4e00\u500b\u5167\u90e8SPI\u5c0d\u8c61\u3002\u5b83\u8207spi_transfer\u548cspi_send\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff08\u898b\u4e0b\u6587\uff09\u3002\"bus\"\u6a19\u8b58\u4e86\u8981\u4f7f\u7528\u7684SPI\u532f\u6d41\u6392\uff08\u5982\u679c\u5fae\u63a7\u5236\u5668\u6709\u4e00\u500b\u4ee5\u4e0a\u7684SPI\u532f\u6d41\u6392\u53ef\u7528\uff09\u3002\"pin\"\u6307\u5b9a\u4e86\u88dd\u7f6e\u7684\u7247\u9078\uff08CS\uff09\u5f15\u8173\u3002\"mode\"\u6307\u5b9aSPI\u6a21\u5f0f\uff08\u61c9\u8a72\u57280\u52303\u4e4b\u9593\uff09\u3002\"rate \"\u53c3\u6578\u6307\u5b9a\u4e86SPI\u532f\u6d41\u6392\u7684\u901f\u7387\uff08\u4ee5\u6bcf\u79d2\u9031\u671f\u70ba\u55ae\u4f4d\uff09\u3002\u6700\u5f8c\uff0c\"shutdown_msg \"\u662f\u5728\u5fae\u63a7\u5236\u5668\u9032\u5165\u95dc\u6a5f\u72c0\u614b\u6642\u5411\u7d66\u5b9a\u88dd\u7f6e\u767c\u9001\u7684SPI\u547d\u4ee4\u3002 config_spi_without_cs oid=%c bus=%u mode=%u rate=%u shutdown_msg=%*s : \u9019\u500b\u547d\u4ee4\u985e\u4f3c\u65bcconfig_spi\uff0c\u4f46\u662f\u6c92\u6709CS\u5f15\u8173\u7684\u5b9a\u7fa9\u3002\u5b83\u5c0d\u6c92\u6709\u6676\u7247\u9078\u64c7\u7dda\u7684SPI\u88dd\u7f6e\u5f88\u6709\u7528\u3002 \u5e38\u7528\u547d\u4ee4 \u00b6 \u672c\u7bc0\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u57f7\u884c\u6642\u547d\u4ee4\u3002\u5c0d\u5e0c\u671b\u6df1\u5165\u77ad\u89e3Klipper\u7684\u958b\u767c\u8005\u53ef\u80fd\u6703\u611f\u8208\u8da3\u3002 set_digital_out_pwm_cycle oid=%c cycle_ticks=%u \uff1a\u8a72\u547d\u4ee4\u5c07\u6578\u5b57\u8f38\u51fa\u5f15\u8173\uff08\u7531config_digital_out\u5efa\u7acb\uff09\u914d\u7f6e\u70ba\u4f7f\u7528 \"\u8edf\u9ad4PWM\"\u3002'cycle_ticks' \u662fPWM\u9031\u671f\u7684\u6642\u9418\u6578\u3002\u56e0\u70ba\u8f38\u51fa\u5207\u63db\u662f\u5728\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u4e2d\u5be6\u73fe\u7684\uff0c\u5efa\u8b70\u628a'cycle_ticks'\u5c0d\u61c9\u7684\u6642\u9593\u8a2d\u70ba10ms\u6216\u66f4\u5927\u3002 queue_digital_out oid=%c clock=%u on_ticks=%u : \u9019\u500b\u547d\u4ee4\u5c07\u5b89\u6392\u5728\u8a2d\u5b9a\u7684\u6642\u9418\u6642\u9593\u5167\u6539\u8b8a\u6578\u5b57\u8f38\u51faGPIO\u5f15\u8173\u3002\u8981\u4f7f\u7528\u9019\u689d\u547d\u4ee4\uff0c\u5fc5\u9808\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u904e\u7a0b\u4e2d\u767c\u51fa\u5177\u6709\u76f8\u540c\u300eoid\u300f\u53c3\u6578\u7684'config_digital_out'\u547d\u4ee4\u3002\u5982\u679c'set_digital_out_pwm_cycle'\u5df2\u7d93\u88ab\u547c\u53eb\uff0c\u90a3\u9ebc'on_ticks'\u5c31\u662fpwm\u9031\u671f\u7684\u958b\u555f\u6642\u9593\uff08\u4ee5\u6642\u9418\u6578\u70ba\u55ae\u4f4d\uff09\u3002\u5426\u5247\uff0c'on_ticks'\u61c9\u8a72\u662f0\uff08\u4f4e\u96fb\u58d3\uff09\u62161\uff08\u9ad8\u96fb\u58d3\uff09\u3002 queue_pwm_out oid=%c clock=%u value=%hu \uff1a\u5b89\u6392\u6539\u8b8a\u4e00\u500b\u786c\u9ad4PWM\u8f38\u51fa\u5f15\u8173\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u53c3\u8003 'queue_digital_out' \u548c 'config_pwm_out' \u547d\u4ee4\u3002 query_analog_in oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u min_value=%hu max_value=%hu \uff1a\u6b64\u547d\u4ee4\u8a2d\u5b9a\u4e86\u4e00\u500b\u5c0d\u6a21\u64ec\u8f38\u5165\u7684\u5faa\u74b0\u63a1\u6a23\u3002\u8981\u4f7f\u7528\u9019\u689d\u547d\u4ee4\uff0c\u5fc5\u9808\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u6642\u767c\u51fa\u5177\u6709\u76f8\u540c'oid'\u53c3\u6578\u7684 'config_analog_in '\u547d\u4ee4\u3002\u63a1\u6a23\u5c07\u5f9e'clock'\u6642\u9593\u958b\u59cb\uff0c\u5b83\u5c07\u6bcf\u9694'rest_ticks'\u6642\u9418\u6578\u5831\u544a\u7372\u5f97\u7684\u503c\uff0c'sample_count'\u662f\u904e\u91cf\u63a1\u6a23\u6b21\u6578\uff0c'sample_ticks'\u662f\u5728\u904e\u91cf\u63a1\u6a23\u4e4b\u9593\u66ab\u505c\u7684\u6642\u9418\u6578\u3002\"min_value \"\u548c \"max_value \"\u53c3\u6578\u5be6\u73fe\u4e86\u5b89\u5168\u529f\u80fd--\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5c07\u9a57\u8b49\u63a1\u6a23\u503c\uff08\u5728\u6bcf\u6b21\u904e\u63a1\u6a23\u4e4b\u5f8c\uff09\u7e3d\u662f\u5728\u5b89\u5168\u7bc4\u570d\u5167\u3002\u9019\u662f\u70ba\u9023\u7dda\u5230\u63a7\u5236\u52a0\u71b1\u5668\u7684\u71b1\u654f\u96fb\u963b\u7684\u5f15\u8173\u800c\u8a2d\u8a08\u7684--\u5b83\u53ef\u4ee5\u7528\u4f86\u6aa2\u67e5\u52a0\u71b1\u5668\u662f\u5426\u5728\u4e00\u500b\u6eab\u5ea6\u7bc4\u570d\u5167\u3002 get_clock \uff1a\u8a72\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u7522\u751f\u4e00\u500b \"clock\"\u97ff\u61c9\u8a0a\u606f\u3002\u4e3b\u6a5f\u6bcf\u79d2\u767c\u9001\u4e00\u6b21\u9019\u500b\u547d\u4ee4\uff0c\u4ee5\u7372\u5f97\u5fae\u63a7\u5236\u5668\u7684\u6642\u9418\u503c\uff0c\u4e26\u4f30\u8a08\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u6642\u9418\u4e4b\u9593\u7684\u6f02\u79fb\u3002\u5b83\u4f7f\u4e3b\u6a5f\u80fd\u5920\u6e96\u78ba\u4f30\u8a08\u5fae\u63a7\u5236\u5668\u7684\u6642\u9418\u3002 \u6b65\u9032\u5668\u547d\u4ee4 \u00b6 queue_step oid=%c interval=%u count=%hu add=%hi \uff1a\u8a72\u547d\u4ee4\u5b89\u6392\u6307\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u8f38\u51fa'count'\u500b\u6b65\u6578\uff0c'interval'\u662f\u6bcf\u6b65\u4e4b\u9593\u7684\u6642\u9418\u6578\u9593\u9694\u3002\u547d\u4ee4\u4e2d\u7684\u7b2c\u4e00\u6b65\u8207\u4e0a\u4e00\u500b\u6b65\u9032\u8f38\u51fa\u547d\u4ee4\u6700\u5f8c\u4e00\u6b65\u7684\u6642\u9593\u9593\u9694\u70ba'interval'\u500b\u6642\u9418\u6578\u3002\u5982\u679c'add'\u4e0d\u70ba\u96f6\uff0c\u90a3\u9ebc\u6bcf\u6b65\u4e4b\u5f8c\u7684\u9593\u9694\u5c07\u4ee5'add'\u7684\u589e\u91cf\u8abf\u6574\u3002\u8a72\u547d\u4ee4\u5c07\u7d66\u5b9a\u7684\u9593\u9694/\u8a08\u6578/\u589e\u91cf\u5e8f\u5217\u9644\u52a0\u5230\u6bcf\u500b\u6b65\u9032\u4f47\u5217\u4e2d\u3002\u5728\u6b63\u5e38\u64cd\u4f5c\u4e2d\uff0c\u53ef\u80fd\u6709\u6578\u767e\u500b\u9019\u6a23\u7684\u5e8f\u5217\u6392\u968a\u3002\u65b0\u7684\u5e8f\u5217\u88ab\u65b0\u589e\u5230\u4f47\u5217\u7684\u672b\u5c3e\uff0c\u7576\u6bcf\u500b\u5e8f\u5217\u5b8c\u6210\u4e86\u5b83\u7684 'count'\u6b65\u6578\u540e\u5b83\u5c31\u5f9e\u4f47\u5217\u7684\u524d\u9762\u5f48\u51fa\u53bb\u3002\u9019\u500b\u7cfb\u7d71\u5141\u8a31\u5fae\u63a7\u5236\u5668\u5c07\u5e7e\u5341\u842c\u6b65\u6392\u5165\u4f47\u5217--\u6240\u6709\u9019\u4e9b\u90fd\u6709\u53ef\u9760\u4e14\u53ef\u9810\u6e2c\u7684\u6392\u7a0b\u6642\u5e8f\u3002 set_next_step_dir oid=%c dir=%c \uff1a\u8a72\u547d\u4ee4\u6307\u5b9a\u4e86\u4e0b\u4e00\u500bqueue_step\u547d\u4ee4\u5c07\u4f7f\u7528\u7684dir_pin\u7684\u503c\u3002 reset_step_clock oid=%c clock=%u \uff1a\u901a\u5e38\u60c5\u6cc1\u4e0b\u6b65\u9032\u6642\u5e8f\u662f\u76f8\u5c0d\u65bc\u7d66\u5b9a\u6b65\u9032\u7684\u4e0a\u4e00\u6b65\u3002\u9019\u689d\u547d\u4ee4\u91cd\u7f6e\u4e86\u6642\u9418\uff0c\u4f7f\u4e0b\u4e00\u6b65\u662f\u76f8\u5c0d\u65bc\u63d0\u4f9b\u7684 'clock' \u6642\u9593\u3002\u901a\u5e38\u4e3b\u6a5f\u53ea\u5728\u5217\u5370\u958b\u59cb\u6642\u767c\u9001\u6b64\u547d\u4ee4\u3002 stepper_get_position oid=%c \uff1a\u8a72\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u7522\u751f\u4e00\u500b \"stepper_position \"\u97ff\u61c9\u8a0a\u606f\uff0c\u5176\u4e2d\u5305\u542b\u6b65\u9032\u5668\u7684\u7576\u524d\u4f4d\u7f6e\u3002\u8a72\u4f4d\u7f6e\u662fdir=1\u6642\u7522\u751f\u7684\u7e3d\u6b65\u6578\u6e1b\u53bbdir=0\u6642\u7684\u7e3d\u6b65\u6578\u3002 endstop_home oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u pin_value=%c \uff1a\u8a72\u547d\u4ee4\u7528\u65bc\u6b65\u9032\u96fb\u6a5f \"homing\"\u64cd\u4f5c\u3002\u8981\u4f7f\u7528\u9019\u689d\u547d\u4ee4\uff0c\u5fc5\u9808\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u904e\u7a0b\u4e2d\u767c\u51fa\u5177\u6709\u76f8\u540c 'oid '\u53c3\u6578\u7684 'config_endstop '\u547d\u4ee4\u3002\u7576\u9019\u500b\u547d\u4ee4\u88ab\u547c\u53eb\u6642\uff0c\u5fae\u63a7\u5236\u5668\u5c07\u5728\u6bcf\u4e00\u500b'rest_ticks'\u6642\u9418\u523b\u5ea6\u4e0a\u5c0d\u9650\u4f4d\u958b\u95dc\u5f15\u8173\u9032\u884c\u63a1\u6a23\uff0c\u4e26\u6aa2\u67e5\u5b83\u7684\u503c\u662f\u5426\u7b49\u65bc'pin_value'\u3002\u5982\u679c\u958b\u95dc\u88ab\u89f8\u767c\uff08\u4e26\u4e14\u4ee5\u9593\u9694'sample_ticks'\u70ba\u9031\u671f\uff0c\u984d\u5916\u6301\u7e8c'sample_count'\u6b21\u88ab\u89f8\u767c\uff09\uff0c\u90a3\u9ebc\u76f8\u95dc\u6b65\u9032\u7684\u904b\u52d5\u4f47\u5217\u5c07\u88ab\u6e05\u9664\uff0c\u6b65\u9032\u5c07\u7acb\u5373\u505c\u6b62\u3002\u4e3b\u6a5f\u4f7f\u7528\u8a72\u547d\u4ee4\u5be6\u73fe\u6b78\u4f4d\u2013\u4e3b\u6a5f\u6307\u793a\u9650\u4f4d\u958b\u95dc\u5c0d\u9650\u4f4d\u958b\u95dc\u7684\u89f8\u767c\u9032\u884c\u63a1\u6a23\uff0c\u7136\u5f8c\u767c\u51fa\u4e00\u7cfb\u5217queue_step\u547d\u4ee4\uff0c\u4f7f\u6b65\u9032\u5411\u9650\u4f4d\u79fb\u52d5\u3002\u4e00\u65e6\u6b65\u9032\u96fb\u6a5f\u649e\u5230\u9650\u4f4d\u958b\u95dc\uff0c\u6aa2\u6e2c\u5230\u89f8\u767c\uff0c\u904b\u52d5\u5c31\u6703\u505c\u6b62\u4e26\u901a\u77e5\u4e3b\u6a5f\u3002 \u904b\u52d5\u4f47\u5217 \u00b6 \u6bcf\u500bqueue_step\u547d\u4ee4\u90fd\u5229\u7528\u4e86\u5fae\u63a7\u5236\u5668 \"move queue \"\u4e2d\u7684\u4e00\u500b\u689d\u76ee\u3002\u9019\u500b\u4f47\u5217\u662f\u5728\u5b83\u6536\u5230 \"finalize_config \"\u547d\u4ee4\u6642\u5206\u914d\u7684\uff0c\u5b83\u5728 \"config \"\u97ff\u61c9\u8cc7\u8a0a\u4e2d\u5831\u544a\u53ef\u7528\u4f47\u5217\u689d\u76ee\u7684\u6578\u91cf\u3002 \u5728\u767c\u9001queue_step\u547d\u4ee4\u4e4b\u524d\uff0c\u4e3b\u6a5f\u6709\u8cac\u4efb\u78ba\u4fdd\u4f47\u5217\u4e2d\u6709\u53ef\u7528\u7a7a\u9593\u3002\u9019\u9700\u8981\u4e3b\u6a5f\u901a\u904e\u8a08\u7b97\u6bcf\u500bqueue_step\u547d\u4ee4\u5b8c\u6210\u7684\u6642\u9593\u4e26\u76f8\u61c9\u5730\u5b89\u6392\u65b0\u7684queue_step\u547d\u4ee4\u4f86\u5be6\u73fe\u3002 SPI \u547d\u4ee4 \u00b6 spi_transfer oid=%c data=%*s \uff1a\u9019\u689d\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u5411 'oid '\u6307\u5b9a\u7684spi\u88dd\u7f6e\u767c\u9001 'data' \uff0c\u4e26\u7522\u751f\u4e00\u500b \"spi_transfer_response \"\u7684\u97ff\u61c9\u8a0a\u606f\uff0c\u5176\u4e2d\u5305\u62ec\u50b3\u8f38\u671f\u9593\u8fd4\u56de\u7684\u6578\u64da\u3002 spi_send oid=%c data=%*s \uff1a\u9019\u500b\u547d\u4ee4\u8207 \"spi_transfer \"\u985e\u4f3c\uff0c\u4f46\u5b83\u4e0d\u7522\u751f \"spi_transfer_response \"\u8a0a\u606f\u3002","title":"MCU\u547d\u4ee4"},{"location":"MCU_Commands.html#mcu","text":"\u8a72\u6587\u4ef6\u4ecb\u7d39\u4e86Klipper\u4e0a\u4f4d\u6a5f\u8edf\u9ad4\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\uff0c\u4e26\u7531\u5fae\u8655\u7406\u5668\u8ca0\u8cac\u57f7\u884c\u7684\u5e95\u5c64\u547d\u4ee4\u3002\u8a72\u6587\u4ef6\u4e0d\u662f\u9019\u4e9b\u547d\u4ee4\u7684\u6b0a\u5a01\u6587\u4ef6\uff0c\u4e5f\u4e26\u672a\u5305\u542b\u6240\u6709\u547d\u4ee4\u3002 \u82e5\u60f3\u6df1\u5165\u77ad\u89e3\u5e95\u5c64\u5fae\u8655\u7406\u5668\u547d\u4ee4\uff0c\u8a72\u6587\u4ef6\u662f\u4e0d\u932f\u7684\u5165\u9580\u6750\u6599\u3002 \u95dc\u65bc\u547d\u4ee4\u7684\u683c\u5f0f\u548c\u50b3\u8f38\u7684\u66f4\u591a\u8cc7\u8a0a\uff0c\u898b protocol \u6a94\u6848\u3002\u9019\u88e1\u7684\u547d\u4ee4\u662f\u4f7f\u7528\u5176 \"printf \"\u98a8\u683c\u7684\u8a9e\u6cd5\u63cf\u8ff0\u7684--\u5c0d\u65bc\u90a3\u4e9b\u4e0d\u719f\u6089\u9019\u7a2e\u683c\u5f0f\u7684\u4eba\u4f86\u8aaa\uff0c\u53ea\u9700\u6ce8\u610f\u5728\u770b\u5230'%...'\u5e8f\u5217\u6642\uff0c\u61c9\u8a72\u7528\u4e00\u500b\u5be6\u969b\u7684\u6574\u6578\u4f86\u4ee3\u66ff\u3002\u4f8b\u5982\uff0c\"count=%c \"\u7684\u63cf\u8ff0\u53ef\u4ee5\u88ab\u66ff\u63db\u70ba \"count=10\"\u3002\u8acb\u6ce8\u610f\uff0c\u90a3\u4e9b\u88ab\u8a8d\u70ba\u662f \"enumerations \"\u7684\u53c3\u6578\uff08\u898b\u4e0a\u8ff0\u5354\u8b70\u6a94\u6848\uff09\u63a1\u53d6\u7684\u662f\u4e00\u500b\u5b57\u4e32\u503c\uff0c\u5c0d\u65bc\u5fae\u63a7\u5236\u5668\u4f86\u8aaa\uff0c\u5b83\u88ab\u81ea\u52d5\u8f49\u63db\u70ba\u4e00\u500b\u6574\u6578\u503c\u3002\u9019\u5728\u540d\u70ba \"pin\"\uff08\u6216\u5f8c\u7db4\u70ba\"_pin\"\uff09\u7684\u53c3\u6578\u4e2d\u5f88\u5e38\u898b\u3002","title":"MCU\u547d\u4ee4"},{"location":"MCU_Commands.html#_1","text":"\u53ef\u80fd\u9700\u8981\u63a1\u53d6\u67d0\u4e9b\u4e00\u6b21\u6027\u7684\u547d\u4ee4\u4f86\u914d\u7f6e\u5fae\u63a7\u5236\u5668\u53ca\u5176\u7247\u4e0a\u5916\u5099\u3002\u672c\u7bc0\u5217\u51fa\u4e86\u53ef\u7528\u65bc\u8a72\u76ee\u7684\u7684\u5e38\u7528\u547d\u4ee4\u3002\u8207\u5927\u591a\u6578\u5fae\u63a7\u5236\u5668\u7684\u547d\u4ee4\u4e0d\u540c\uff0c\u9019\u4e9b\u547d\u4ee4\u5728\u6536\u5230\u540e\u7acb\u5373\u57f7\u884c\uff0c\u5b83\u5011\u4e0d\u9700\u8981\u4efb\u4f55\u7279\u6b8a\u7684\u8a2d\u5b9a\u3002 \u5e38\u898b\u7684\u555f\u52d5\u547d\u4ee4\uff1a set_digital_out pin=%u value=%c \uff1a\u8a72\u547d\u4ee4\u7acb\u5373\u5c07\u6307\u5b9a\u7684\u5f15\u8173\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51faGPIO\uff0c\u4e26\u5c07\u5176\u8a2d\u5b9a\u70ba\u4f4e\u96fb\u5e73\uff08value=0\uff09\u6216\u9ad8\u96fb\u5e73\uff08value=1\uff09\u3002\u9019\u689d\u547d\u4ee4\u5c0d\u65bc\u914d\u7f6eLED\u7684\u521d\u59cb\u503c\u548c\u914d\u7f6e\u6b65\u9032\u9a45\u52d5\u5668\u5fae\u6b65\u9032\u5f15\u8173\u7684\u521d\u59cb\u503c\u5f88\u6709\u7528\u3002 set_pwm_out pin=%u cycle_ticks=%u value=%hu \uff1a\u8a72\u547d\u4ee4\u5c07\u7acb\u5373\u914d\u7f6e\u6307\u5b9a\u7684\u5f15\u8173\uff0c\u4f7f\u5176\u4f7f\u7528\u786c\u9ad4\u7684\u8108\u5bec\u8abf\u88fd\uff08PWM\uff09\u548c\u7d66\u5b9a\u7684cycle_ticks\u3002\u300ccycle_ticks\u300d\u662f\u6307\u6bcf\u500b\u901a\u96fb\u548c\u65b7\u96fb\u9031\u671f\u61c9\u8a72\u6301\u7e8c\u7684MCU\u6642\u9418\u6578\u3002cycle_ticks\u7684\u503c\u70ba1\u8868\u793a\u4f7f\u7528\u6700\u77ed\u7684\u9031\u671f\u6642\u9593\u3002\u300cvalue\u300d\u53c3\u6578\u57280-255\u4e4b\u9593\uff0c0\u8868\u793a\u5b8c\u5168\u95dc\u9589\u72c0\u614b\uff0c255\u8868\u793a\u5b8c\u5168\u958b\u555f\u72c0\u614b\u3002\u8a72\u547d\u4ee4\u5c0d\u555f\u7528CPU\u548c\u5674\u5634\u51b7\u537b\u98a8\u6247\u5f88\u6709\u7528\u3002","title":"\u555f\u52d5\u547d\u4ee4"},{"location":"MCU_Commands.html#_2","text":"\u5fae\u63a7\u5236\u5668\u4e2d\u7684\u5927\u591a\u6578\u547d\u4ee4\u5728\u6210\u529f\u547c\u53eb\u4e4b\u524d\u9700\u8981\u9032\u884c\u521d\u59cb\u8a2d\u5b9a\u3002\u672c\u7bc0\u63d0\u4f9b\u4e86\u4e00\u500b\u914d\u7f6e\u904e\u7a0b\u7684\u6982\u8ff0\u3002\u672c\u7bc0\u548c\u4e0b\u9762\u7684\u7ae0\u7bc0\u9069\u7528\u65bc\u5c0dKlipper\u7684\u5167\u90e8\u7d30\u7bc0\u611f\u8208\u8da3\u7684\u958b\u767c\u8005\u3002 \u7576\u4e3b\u6a5f\u7b2c\u4e00\u6b21\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u6642\uff0c\u5b83\u7e3d\u662f\u5f9e\u7372\u5f97\u4e00\u500b\u6578\u64da\u5b57\u5178\u958b\u59cb\uff08\u66f4\u591a\u8cc7\u8a0a\u898b protocol \uff09\u3002\u7372\u5f97\u6578\u64da\u5b57\u5178\u540e\uff0c\u4e3b\u6a5f\u5c07\u6aa2\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u8655\u65bc \"\u5df2\u914d\u7f6e \"\u72c0\u614b\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u5c31\u9032\u884c\u914d\u7f6e\u3002\u914d\u7f6e\u5305\u62ec\u4ee5\u4e0b\u5e7e\u500b\u968e\u6bb5\uff1a get_config \uff1a\u4e3b\u6a5f\u9996\u5148\u6aa2\u67e5\u5fae\u63a7\u5236\u5668\u662f\u5426\u5df2\u7d93\u88ab\u914d\u7f6e\u3002\u5fae\u63a7\u5236\u5668\u7528\u4e00\u500b \"config \"\u7684\u97ff\u61c9\u8cc7\u8a0a\u4f86\u56de\u61c9\u9019\u500b\u547d\u4ee4\u3002\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5728\u4e0a\u96fb\u6642\u7e3d\u662f\u4ee5\u672a\u914d\u7f6e\u7684\u72c0\u614b\u555f\u52d5\u3002\u5728\u4e3b\u6a5f\u5b8c\u6210\u914d\u7f6e\u904e\u7a0b\u4e4b\u524d\uff08\u901a\u904e\u767c\u51fafinalize_config\u547d\u4ee4\uff09\uff0c\u5b83\u4e00\u76f4\u8655\u65bc\u9019\u7a2e\u72c0\u614b\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u5df2\u7d93\u5728\u524d\u4e00\u500b\u6703\u8a71\u4e2d\u9032\u884c\u4e86\u914d\u7f6e\uff08\u4e26\u4e14\u914d\u7f6e\u4e86\u6240\u9700\u7684\u8a2d\u5b9a\uff09\uff0c\u90a3\u9ebc\u4e3b\u6a5f\u5c31\u4e0d\u9700\u8981\u9032\u4e00\u6b65\u7684\u64cd\u4f5c\uff0c\u914d\u7f6e\u904e\u7a0b\u6210\u529f\u7d50\u675f\u3002 allocate_oids count=%c \uff1a\u9019\u689d\u547d\u4ee4\u662f\u7528\u4f86\u901a\u77e5\u5fae\u63a7\u5236\u5668\u4e3b\u6a5f\u6240\u9700\u7684\u5c0d\u8c61\u6a19\u8b58\uff08oid\uff09\u7684\u6700\u5927\u6578\u91cf\u3002\u9019\u689d\u547d\u4ee4\u53ea\u6709\u6548\u4e00\u6b21\u3002oid\u662f\u5206\u914d\u7d66\u6bcf\u500b\u6b65\u9032\u96fb\u6a5f\u3001\u6bcf\u500b\u9650\u4f4d\u958b\u95dc\u548c\u6bcf\u500b\u53ef\u6392\u7a0b\u7684gpio\u5f15\u8173\u7684\u4e00\u500b\u6574\u6578\u6a19\u8b58\u3002\u4e3b\u6a5f\u4e8b\u5148\u78ba\u5b9a\u64cd\u4f5c\u786c\u9ad4\u6240\u9700\u7684oid\u6578\u91cf\uff0c\u4e26\u5c07\u5176\u50b3\u905e\u7d66\u5fae\u63a7\u5236\u5668\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5\u5206\u914d\u8db3\u5920\u7684\u8a18\u61b6\u9ad4\u4f86\u5132\u5b58\u5f9eoid\u5230\u5167\u90e8\u5c0d\u8c61\u7684\u5c0d\u6620\u3002 config_XXX oid=%c ... \uff1a\u6309\u7167\u6163\u4f8b\uff0c\u4efb\u4f55\u4ee5 \"config_\"\u958b\u982d\u7684\u547d\u4ee4\u90fd\u6703\u5efa\u7acb\u4e00\u500b\u65b0\u7684\u5fae\u63a7\u5236\u5668\u5c0d\u8c61\uff0c\u4e26\u5c07\u7d66\u5b9a\u7684oid\u8ce6\u4e88\u5b83\u3002\u4f8b\u5982\uff0cconfig_digital_out\u547d\u4ee4\u5c07\u628a\u6307\u5b9a\u7684\u5f15\u8173\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51faGPIO\uff0c\u4e26\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u5c0d\u8c61\uff0c\u4e3b\u6a5f\u53ef\u4ee5\u7528\u5b83\u4f86\u5b89\u6392\u6539\u8b8a\u6307\u5b9a\u7684GPIO\u7684\u8f38\u51fa\u3002\u50b3\u5165config\u547d\u4ee4\u7684oid\u53c3\u6578\u7531\u4e3b\u6a5f\u9078\u64c7\uff0c\u5fc5\u9808\u4ecb\u65bc0\u548callocate_oids\u547d\u4ee4\u4e2d\u63d0\u4f9b\u7684\u6700\u5927\u8a08\u6578\u4e4b\u9593\u3002config\u547d\u4ee4\u53ea\u80fd\u5728\u5fae\u63a7\u5236\u5668\u4e0d\u8655\u65bc\u5df2\u914d\u7f6e\u72c0\u614b\u6642\uff08\u5373\u5728\u4e3b\u6a5f\u767c\u9001finalize_config\u4e4b\u524d\uff09\u548callocate_oids\u547d\u4ee4\u88ab\u9aee\u9001\u4e4b\u5f8c\u57f7\u884c\u3002 finalize_config crc=%u \uff1afinalize_config\u547d\u4ee4\u5c07\u5fae\u63a7\u5236\u5668\u5f9e\u672a\u914d\u7f6e\u72c0\u614b\u8f49\u63db\u70ba\u5df2\u914d\u7f6e\u72c0\u614b\u3002\u50b3\u905e\u7d66\u5fae\u63a7\u5236\u5668\u7684crc\u53c3\u6578\u88ab\u5132\u5b58\u8d77\u4f86\uff0c\u4e26\u5728 \"config \"\u97ff\u61c9\u8cc7\u8a0a\u4e2d\u53cd\u994b\u7d66\u4e3b\u6a5f\u3002\u6309\u7167\u6163\u4f8b\uff0c\u4e3b\u6a5f\u5c0d\u5b83\u6240\u8981\u6c42\u7684\u914d\u7f6e\u63a1\u53d632\u4f4d\u7684CRC\uff0c\u4e26\u5728\u96a8\u5f8c\u7684\u901a\u8a0a\u6703\u8a71\u958b\u59cb\u6642\uff0c\u6aa2\u67e5\u5132\u5b58\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u7684CRC\u662f\u5426\u8207\u5b83\u6240\u5e0c\u671b\u7684CRC\u6b63\u78ba\u5339\u914d\u3002\u5982\u679cCRC\u4e0d\u5339\u914d\uff0c\u90a3\u9ebc\u4e3b\u6a5f\u5c31\u77e5\u9053\u5fae\u63a7\u5236\u5668\u9084\u6c92\u6709\u88ab\u914d\u7f6e\u5230\u4e3b\u6a5f\u6240\u5e0c\u671b\u7684\u72c0\u614b\u3002","title":"\u5e95\u5c64\u5fae\u63a7\u5236\u5668\u914d\u7f6e"},{"location":"MCU_Commands.html#_3","text":"\u672c\u7bc0\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u914d\u7f6e\u547d\u4ee4\u3002 config_digital_out oid=%c pin=%u value=%c default_value=%c max_duration=%u \uff1a\u8a72\u547d\u4ee4\u70ba\u7d66\u5b9a\u7684GPIO'pin'\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u5fae\u63a7\u5236\u5668\u5c0d\u8c61\u3002\u8a72\u5f15\u8173\u5c07\u88ab\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51fa\u6a21\u5f0f\uff0c\u4e26\u88ab\u8a2d\u5b9a\u70ba'value'\u6307\u5b9a\u7684\u521d\u59cb\u503c\uff080\u70ba\u4f4e\uff0c1\u70ba\u9ad8\uff09\u3002\u5efa\u7acb\u4e00\u500bdigital_out\u5c0d\u50cf\u5141\u8a31\u4e3b\u6a5f\u5728\u6307\u5b9a\u7684\u6642\u9593\u5167\u5c0d\u6307\u5b9a\u5f15\u8173\u91cd\u65b0\u6574\u7406GPIO\u8f38\u51fa\u72c0\u614b\uff08\u898b\u4e0b\u9762\u63cf\u8ff0\u7684queue_digital_out\u547d\u4ee4\uff09\u3002\u5982\u679c\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u9032\u5165\u95dc\u6a5f\u6a21\u5f0f\uff0c\u90a3\u9ebc\u6240\u6709\u914d\u7f6e\u7684digital_out\u5c0d\u50cf\u5c07\u88ab\u8a2d\u5b9a\u70ba'default_value'\u3002max_duration \"\u53c3\u6578\u7528\u65bc\u5be6\u73fe\u5b89\u5168\u6aa2\u67e5--\u5982\u679c\u5b83\u662f\u975e\u96f6\uff0c\u90a3\u9ebc\u5b83\u4ee3\u8868\u4e3b\u6a5f\u53ef\u4ee5\u5c07\u6307\u5b9a\u7684GPIO\u8a2d\u70ba\u975e\u9810\u8a2d\u503c\u800c\u4e0d\u9700\u8981\u91cd\u65b0\u6574\u7406\u7684\u6700\u5927\u6642\u9418\u6578\u3002\u4f8b\u5982\uff0c\u5982\u679cdefault_value\u662f0\uff0cmax_duration\u662f16000\uff0c\u90a3\u9ebc\u5982\u679c\u4e3b\u6a5f\u5c07gpio\u8a2d\u5b9a\u70ba1\uff0c\u5b83\u5fc5\u9808\u572816000\u500b\u6642\u9418\u523b\u5ea6\u5167\u91cd\u65b0\u6574\u7406gpio\u5f15\u8173\u7684\u8f38\u51fa\uff08\u70ba0\u62161\uff09\u3002\u9019\u500b\u5b89\u5168\u529f\u80fd\u53ef\u7528\u65bc\u52a0\u71b1\u5668\u5f15\u8173\uff0c\u4ee5\u78ba\u4fdd\u4e3b\u6a5f\u4e0d\u6703\u555f\u7528\u52a0\u71b1\u5668\u540e\u96e2\u7dda\u3002 config_pwm_out oid=%c pin=%u cycle_ticks=%u value=%hu default_value=%hu max_duration=%u \uff1a\u8a72\u547d\u4ee4\u70ba\u57fa\u65bc\u786c\u9ad4\u7684PWM\u5f15\u8173\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u5c0d\u8c61\uff0c\u4e3b\u6a5f\u53ef\u4ee5\u5b9a\u671f\u91cd\u65b0\u6574\u7406\u3002\u5b83\u7684\u7528\u6cd5\u8207config_digital_out\u985e\u4f3c--\u53c3\u6578\u8aaa\u660e\u898b'set_pwm_out'\u548c'config_digital_out'\u547d\u4ee4\u7684\u63cf\u8ff0\u3002 config_analog_in oid=%c pin=%u \uff1a\u8a72\u547d\u4ee4\u7528\u65bc\u5c07\u4e00\u500b\u5f15\u8173\u914d\u7f6e\u70ba\u6a21\u64ec\u8f38\u5165\u63a1\u6a23\u6a21\u5f0f\u3002\u4e00\u65e6\u914d\u7f6e\u5b8c\u6210\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7528query_analog_in\u547d\u4ee4\uff08\u898b\u4e0b\u6587\uff09\u4ee5\u56fa\u5b9a\u7684\u6642\u9593\u9593\u9694\u5c0d\u8a72\u5f15\u8173\u9032\u884c\u63a1\u6a23\u3002 config_stepper oid=%c step_pin=%c dir_pin=%c invert_step=%c step_pulse_ticks=%u \uff1a\u8a72\u547d\u4ee4\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u6b65\u9032\u5668\u5c0d\u8c61\u3002'step_pin'\u548c'dir_pin'\u53c3\u6578\u5206\u5225\u6307\u5b9a\u6b65\u9032\u548c\u65b9\u5411\u5f15\u8173\uff1b\u8a72\u547d\u4ee4\u5c07\u628a\u5b83\u5011\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u51fa\u6a21\u5f0f\u3002'invert_step'\u53c3\u6578\u6307\u5b9a\u6b65\u9032\u662f\u767c\u751f\u5728\u4e0a\u5347\u6cbf\uff08invert_step=0\uff09\u9084\u662f\u4e0b\u964d\u6cbf\uff08invert_step=1\uff09\u3002'step_pulse_ticks'\u53c3\u6578\u6307\u5b9a\u4e86\u6b65\u9032\u8108\u885d\u7684\u6700\u5c0f\u6301\u7e8c\u6642\u9593\u3002\u5982\u679cMCU\u8f38\u51fa\u5e38\u6578 \"STEPPER_BOTH_EDGE=1\"\uff0c\u90a3\u9ebc\u8a2d\u5b9astep_pulse_ticks=0\u548cinvert_step=-1\u5c07\u8a2d\u5b9a\u5728\u6b65\u9032\u5f15\u8173\u7684\u4e0a\u5347\u6cbf\u548c\u4e0b\u964d\u6cbf\u90fd\u9032\u884c\u6b65\u9032\u8f38\u51fa\u3002 config_endstop oid=%c pin=%c pull_up=%c stepper_count=%c : \u8a72\u547d\u4ee4\u5efa\u7acb\u4e00\u500b\u5167\u90e8\u7684 \"endstop\"\u5c0d\u8c61\u3002\u5b83\u7528\u65bc\u6307\u5b9a\u9650\u4f4d\u958b\u95dc\u7684\u5f15\u8173\uff0c\u4e26\u555f\u7528 \"homing \"\u64cd\u4f5c\uff08\u898b\u4e0b\u9762\u7684endstop_home\u547d\u4ee4\uff09\u3002\u8a72\u547d\u4ee4\u5c07\u628a\u6307\u5b9a\u7684\u5f15\u8173\u914d\u7f6e\u70ba\u6578\u5b57\u8f38\u5165\u6a21\u5f0f\u3002\u300epull_up\u300f\u53c3\u6578\u6c7a\u5b9a\u662f\u5426\u555f\u7528\u786c\u9ad4\u70ba\u5f15\u8173\u63d0\u4f9b\u7684\u4e0a\u62c9\u96fb\u963b\uff08\u5982\u679c\u6709\u7684\u8a71\uff09\u3002\u300estepper_count\u300f\u53c3\u6578\u898f\u5b9a\u4e86\u5728\u6b78\u96f6\u64cd\u4f5c\u4e2d\uff0c\u8a72\u9650\u4f4d\u958b\u95dc\u89f8\u767c\u5668\u53ef\u80fd\u9700\u8981\u7684\u6700\u5927\u6b65\u9032\u6578\uff08\u898b\u4e0b\u6587endstop_home\uff09\u3002 config_spi oid=%c bus=%u pin=%u mode=%u rate=%u shutdown_msg=%*s \uff1a\u8a72\u547d\u4ee4\u5efa\u7acb\u4e86\u4e00\u500b\u5167\u90e8SPI\u5c0d\u8c61\u3002\u5b83\u8207spi_transfer\u548cspi_send\u547d\u4ee4\u4e00\u8d77\u4f7f\u7528\uff08\u898b\u4e0b\u6587\uff09\u3002\"bus\"\u6a19\u8b58\u4e86\u8981\u4f7f\u7528\u7684SPI\u532f\u6d41\u6392\uff08\u5982\u679c\u5fae\u63a7\u5236\u5668\u6709\u4e00\u500b\u4ee5\u4e0a\u7684SPI\u532f\u6d41\u6392\u53ef\u7528\uff09\u3002\"pin\"\u6307\u5b9a\u4e86\u88dd\u7f6e\u7684\u7247\u9078\uff08CS\uff09\u5f15\u8173\u3002\"mode\"\u6307\u5b9aSPI\u6a21\u5f0f\uff08\u61c9\u8a72\u57280\u52303\u4e4b\u9593\uff09\u3002\"rate \"\u53c3\u6578\u6307\u5b9a\u4e86SPI\u532f\u6d41\u6392\u7684\u901f\u7387\uff08\u4ee5\u6bcf\u79d2\u9031\u671f\u70ba\u55ae\u4f4d\uff09\u3002\u6700\u5f8c\uff0c\"shutdown_msg \"\u662f\u5728\u5fae\u63a7\u5236\u5668\u9032\u5165\u95dc\u6a5f\u72c0\u614b\u6642\u5411\u7d66\u5b9a\u88dd\u7f6e\u767c\u9001\u7684SPI\u547d\u4ee4\u3002 config_spi_without_cs oid=%c bus=%u mode=%u rate=%u shutdown_msg=%*s : \u9019\u500b\u547d\u4ee4\u985e\u4f3c\u65bcconfig_spi\uff0c\u4f46\u662f\u6c92\u6709CS\u5f15\u8173\u7684\u5b9a\u7fa9\u3002\u5b83\u5c0d\u6c92\u6709\u6676\u7247\u9078\u64c7\u7dda\u7684SPI\u88dd\u7f6e\u5f88\u6709\u7528\u3002","title":"\u5e38\u898b\u7684\u5fae\u63a7\u5236\u5668\u5c0d\u50cf"},{"location":"MCU_Commands.html#_4","text":"\u672c\u7bc0\u5217\u51fa\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u57f7\u884c\u6642\u547d\u4ee4\u3002\u5c0d\u5e0c\u671b\u6df1\u5165\u77ad\u89e3Klipper\u7684\u958b\u767c\u8005\u53ef\u80fd\u6703\u611f\u8208\u8da3\u3002 set_digital_out_pwm_cycle oid=%c cycle_ticks=%u \uff1a\u8a72\u547d\u4ee4\u5c07\u6578\u5b57\u8f38\u51fa\u5f15\u8173\uff08\u7531config_digital_out\u5efa\u7acb\uff09\u914d\u7f6e\u70ba\u4f7f\u7528 \"\u8edf\u9ad4PWM\"\u3002'cycle_ticks' \u662fPWM\u9031\u671f\u7684\u6642\u9418\u6578\u3002\u56e0\u70ba\u8f38\u51fa\u5207\u63db\u662f\u5728\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u4e2d\u5be6\u73fe\u7684\uff0c\u5efa\u8b70\u628a'cycle_ticks'\u5c0d\u61c9\u7684\u6642\u9593\u8a2d\u70ba10ms\u6216\u66f4\u5927\u3002 queue_digital_out oid=%c clock=%u on_ticks=%u : \u9019\u500b\u547d\u4ee4\u5c07\u5b89\u6392\u5728\u8a2d\u5b9a\u7684\u6642\u9418\u6642\u9593\u5167\u6539\u8b8a\u6578\u5b57\u8f38\u51faGPIO\u5f15\u8173\u3002\u8981\u4f7f\u7528\u9019\u689d\u547d\u4ee4\uff0c\u5fc5\u9808\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u904e\u7a0b\u4e2d\u767c\u51fa\u5177\u6709\u76f8\u540c\u300eoid\u300f\u53c3\u6578\u7684'config_digital_out'\u547d\u4ee4\u3002\u5982\u679c'set_digital_out_pwm_cycle'\u5df2\u7d93\u88ab\u547c\u53eb\uff0c\u90a3\u9ebc'on_ticks'\u5c31\u662fpwm\u9031\u671f\u7684\u958b\u555f\u6642\u9593\uff08\u4ee5\u6642\u9418\u6578\u70ba\u55ae\u4f4d\uff09\u3002\u5426\u5247\uff0c'on_ticks'\u61c9\u8a72\u662f0\uff08\u4f4e\u96fb\u58d3\uff09\u62161\uff08\u9ad8\u96fb\u58d3\uff09\u3002 queue_pwm_out oid=%c clock=%u value=%hu \uff1a\u5b89\u6392\u6539\u8b8a\u4e00\u500b\u786c\u9ad4PWM\u8f38\u51fa\u5f15\u8173\u3002\u66f4\u591a\u8cc7\u8a0a\u8acb\u53c3\u8003 'queue_digital_out' \u548c 'config_pwm_out' \u547d\u4ee4\u3002 query_analog_in oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u min_value=%hu max_value=%hu \uff1a\u6b64\u547d\u4ee4\u8a2d\u5b9a\u4e86\u4e00\u500b\u5c0d\u6a21\u64ec\u8f38\u5165\u7684\u5faa\u74b0\u63a1\u6a23\u3002\u8981\u4f7f\u7528\u9019\u689d\u547d\u4ee4\uff0c\u5fc5\u9808\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u6642\u767c\u51fa\u5177\u6709\u76f8\u540c'oid'\u53c3\u6578\u7684 'config_analog_in '\u547d\u4ee4\u3002\u63a1\u6a23\u5c07\u5f9e'clock'\u6642\u9593\u958b\u59cb\uff0c\u5b83\u5c07\u6bcf\u9694'rest_ticks'\u6642\u9418\u6578\u5831\u544a\u7372\u5f97\u7684\u503c\uff0c'sample_count'\u662f\u904e\u91cf\u63a1\u6a23\u6b21\u6578\uff0c'sample_ticks'\u662f\u5728\u904e\u91cf\u63a1\u6a23\u4e4b\u9593\u66ab\u505c\u7684\u6642\u9418\u6578\u3002\"min_value \"\u548c \"max_value \"\u53c3\u6578\u5be6\u73fe\u4e86\u5b89\u5168\u529f\u80fd--\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5c07\u9a57\u8b49\u63a1\u6a23\u503c\uff08\u5728\u6bcf\u6b21\u904e\u63a1\u6a23\u4e4b\u5f8c\uff09\u7e3d\u662f\u5728\u5b89\u5168\u7bc4\u570d\u5167\u3002\u9019\u662f\u70ba\u9023\u7dda\u5230\u63a7\u5236\u52a0\u71b1\u5668\u7684\u71b1\u654f\u96fb\u963b\u7684\u5f15\u8173\u800c\u8a2d\u8a08\u7684--\u5b83\u53ef\u4ee5\u7528\u4f86\u6aa2\u67e5\u52a0\u71b1\u5668\u662f\u5426\u5728\u4e00\u500b\u6eab\u5ea6\u7bc4\u570d\u5167\u3002 get_clock \uff1a\u8a72\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u7522\u751f\u4e00\u500b \"clock\"\u97ff\u61c9\u8a0a\u606f\u3002\u4e3b\u6a5f\u6bcf\u79d2\u767c\u9001\u4e00\u6b21\u9019\u500b\u547d\u4ee4\uff0c\u4ee5\u7372\u5f97\u5fae\u63a7\u5236\u5668\u7684\u6642\u9418\u503c\uff0c\u4e26\u4f30\u8a08\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u6642\u9418\u4e4b\u9593\u7684\u6f02\u79fb\u3002\u5b83\u4f7f\u4e3b\u6a5f\u80fd\u5920\u6e96\u78ba\u4f30\u8a08\u5fae\u63a7\u5236\u5668\u7684\u6642\u9418\u3002","title":"\u5e38\u7528\u547d\u4ee4"},{"location":"MCU_Commands.html#_5","text":"queue_step oid=%c interval=%u count=%hu add=%hi \uff1a\u8a72\u547d\u4ee4\u5b89\u6392\u6307\u5b9a\u7684\u6b65\u9032\u96fb\u6a5f\u8f38\u51fa'count'\u500b\u6b65\u6578\uff0c'interval'\u662f\u6bcf\u6b65\u4e4b\u9593\u7684\u6642\u9418\u6578\u9593\u9694\u3002\u547d\u4ee4\u4e2d\u7684\u7b2c\u4e00\u6b65\u8207\u4e0a\u4e00\u500b\u6b65\u9032\u8f38\u51fa\u547d\u4ee4\u6700\u5f8c\u4e00\u6b65\u7684\u6642\u9593\u9593\u9694\u70ba'interval'\u500b\u6642\u9418\u6578\u3002\u5982\u679c'add'\u4e0d\u70ba\u96f6\uff0c\u90a3\u9ebc\u6bcf\u6b65\u4e4b\u5f8c\u7684\u9593\u9694\u5c07\u4ee5'add'\u7684\u589e\u91cf\u8abf\u6574\u3002\u8a72\u547d\u4ee4\u5c07\u7d66\u5b9a\u7684\u9593\u9694/\u8a08\u6578/\u589e\u91cf\u5e8f\u5217\u9644\u52a0\u5230\u6bcf\u500b\u6b65\u9032\u4f47\u5217\u4e2d\u3002\u5728\u6b63\u5e38\u64cd\u4f5c\u4e2d\uff0c\u53ef\u80fd\u6709\u6578\u767e\u500b\u9019\u6a23\u7684\u5e8f\u5217\u6392\u968a\u3002\u65b0\u7684\u5e8f\u5217\u88ab\u65b0\u589e\u5230\u4f47\u5217\u7684\u672b\u5c3e\uff0c\u7576\u6bcf\u500b\u5e8f\u5217\u5b8c\u6210\u4e86\u5b83\u7684 'count'\u6b65\u6578\u540e\u5b83\u5c31\u5f9e\u4f47\u5217\u7684\u524d\u9762\u5f48\u51fa\u53bb\u3002\u9019\u500b\u7cfb\u7d71\u5141\u8a31\u5fae\u63a7\u5236\u5668\u5c07\u5e7e\u5341\u842c\u6b65\u6392\u5165\u4f47\u5217--\u6240\u6709\u9019\u4e9b\u90fd\u6709\u53ef\u9760\u4e14\u53ef\u9810\u6e2c\u7684\u6392\u7a0b\u6642\u5e8f\u3002 set_next_step_dir oid=%c dir=%c \uff1a\u8a72\u547d\u4ee4\u6307\u5b9a\u4e86\u4e0b\u4e00\u500bqueue_step\u547d\u4ee4\u5c07\u4f7f\u7528\u7684dir_pin\u7684\u503c\u3002 reset_step_clock oid=%c clock=%u \uff1a\u901a\u5e38\u60c5\u6cc1\u4e0b\u6b65\u9032\u6642\u5e8f\u662f\u76f8\u5c0d\u65bc\u7d66\u5b9a\u6b65\u9032\u7684\u4e0a\u4e00\u6b65\u3002\u9019\u689d\u547d\u4ee4\u91cd\u7f6e\u4e86\u6642\u9418\uff0c\u4f7f\u4e0b\u4e00\u6b65\u662f\u76f8\u5c0d\u65bc\u63d0\u4f9b\u7684 'clock' \u6642\u9593\u3002\u901a\u5e38\u4e3b\u6a5f\u53ea\u5728\u5217\u5370\u958b\u59cb\u6642\u767c\u9001\u6b64\u547d\u4ee4\u3002 stepper_get_position oid=%c \uff1a\u8a72\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u7522\u751f\u4e00\u500b \"stepper_position \"\u97ff\u61c9\u8a0a\u606f\uff0c\u5176\u4e2d\u5305\u542b\u6b65\u9032\u5668\u7684\u7576\u524d\u4f4d\u7f6e\u3002\u8a72\u4f4d\u7f6e\u662fdir=1\u6642\u7522\u751f\u7684\u7e3d\u6b65\u6578\u6e1b\u53bbdir=0\u6642\u7684\u7e3d\u6b65\u6578\u3002 endstop_home oid=%c clock=%u sample_ticks=%u sample_count=%c rest_ticks=%u pin_value=%c \uff1a\u8a72\u547d\u4ee4\u7528\u65bc\u6b65\u9032\u96fb\u6a5f \"homing\"\u64cd\u4f5c\u3002\u8981\u4f7f\u7528\u9019\u689d\u547d\u4ee4\uff0c\u5fc5\u9808\u5728\u5fae\u63a7\u5236\u5668\u914d\u7f6e\u904e\u7a0b\u4e2d\u767c\u51fa\u5177\u6709\u76f8\u540c 'oid '\u53c3\u6578\u7684 'config_endstop '\u547d\u4ee4\u3002\u7576\u9019\u500b\u547d\u4ee4\u88ab\u547c\u53eb\u6642\uff0c\u5fae\u63a7\u5236\u5668\u5c07\u5728\u6bcf\u4e00\u500b'rest_ticks'\u6642\u9418\u523b\u5ea6\u4e0a\u5c0d\u9650\u4f4d\u958b\u95dc\u5f15\u8173\u9032\u884c\u63a1\u6a23\uff0c\u4e26\u6aa2\u67e5\u5b83\u7684\u503c\u662f\u5426\u7b49\u65bc'pin_value'\u3002\u5982\u679c\u958b\u95dc\u88ab\u89f8\u767c\uff08\u4e26\u4e14\u4ee5\u9593\u9694'sample_ticks'\u70ba\u9031\u671f\uff0c\u984d\u5916\u6301\u7e8c'sample_count'\u6b21\u88ab\u89f8\u767c\uff09\uff0c\u90a3\u9ebc\u76f8\u95dc\u6b65\u9032\u7684\u904b\u52d5\u4f47\u5217\u5c07\u88ab\u6e05\u9664\uff0c\u6b65\u9032\u5c07\u7acb\u5373\u505c\u6b62\u3002\u4e3b\u6a5f\u4f7f\u7528\u8a72\u547d\u4ee4\u5be6\u73fe\u6b78\u4f4d\u2013\u4e3b\u6a5f\u6307\u793a\u9650\u4f4d\u958b\u95dc\u5c0d\u9650\u4f4d\u958b\u95dc\u7684\u89f8\u767c\u9032\u884c\u63a1\u6a23\uff0c\u7136\u5f8c\u767c\u51fa\u4e00\u7cfb\u5217queue_step\u547d\u4ee4\uff0c\u4f7f\u6b65\u9032\u5411\u9650\u4f4d\u79fb\u52d5\u3002\u4e00\u65e6\u6b65\u9032\u96fb\u6a5f\u649e\u5230\u9650\u4f4d\u958b\u95dc\uff0c\u6aa2\u6e2c\u5230\u89f8\u767c\uff0c\u904b\u52d5\u5c31\u6703\u505c\u6b62\u4e26\u901a\u77e5\u4e3b\u6a5f\u3002","title":"\u6b65\u9032\u5668\u547d\u4ee4"},{"location":"MCU_Commands.html#_6","text":"\u6bcf\u500bqueue_step\u547d\u4ee4\u90fd\u5229\u7528\u4e86\u5fae\u63a7\u5236\u5668 \"move queue \"\u4e2d\u7684\u4e00\u500b\u689d\u76ee\u3002\u9019\u500b\u4f47\u5217\u662f\u5728\u5b83\u6536\u5230 \"finalize_config \"\u547d\u4ee4\u6642\u5206\u914d\u7684\uff0c\u5b83\u5728 \"config \"\u97ff\u61c9\u8cc7\u8a0a\u4e2d\u5831\u544a\u53ef\u7528\u4f47\u5217\u689d\u76ee\u7684\u6578\u91cf\u3002 \u5728\u767c\u9001queue_step\u547d\u4ee4\u4e4b\u524d\uff0c\u4e3b\u6a5f\u6709\u8cac\u4efb\u78ba\u4fdd\u4f47\u5217\u4e2d\u6709\u53ef\u7528\u7a7a\u9593\u3002\u9019\u9700\u8981\u4e3b\u6a5f\u901a\u904e\u8a08\u7b97\u6bcf\u500bqueue_step\u547d\u4ee4\u5b8c\u6210\u7684\u6642\u9593\u4e26\u76f8\u61c9\u5730\u5b89\u6392\u65b0\u7684queue_step\u547d\u4ee4\u4f86\u5be6\u73fe\u3002","title":"\u904b\u52d5\u4f47\u5217"},{"location":"MCU_Commands.html#spi","text":"spi_transfer oid=%c data=%*s \uff1a\u9019\u689d\u547d\u4ee4\u4f7f\u5fae\u63a7\u5236\u5668\u5411 'oid '\u6307\u5b9a\u7684spi\u88dd\u7f6e\u767c\u9001 'data' \uff0c\u4e26\u7522\u751f\u4e00\u500b \"spi_transfer_response \"\u7684\u97ff\u61c9\u8a0a\u606f\uff0c\u5176\u4e2d\u5305\u62ec\u50b3\u8f38\u671f\u9593\u8fd4\u56de\u7684\u6578\u64da\u3002 spi_send oid=%c data=%*s \uff1a\u9019\u500b\u547d\u4ee4\u8207 \"spi_transfer \"\u985e\u4f3c\uff0c\u4f46\u5b83\u4e0d\u7522\u751f \"spi_transfer_response \"\u8a0a\u606f\u3002","title":"SPI \u547d\u4ee4"},{"location":"Manual_Level.html","text":"\u624b\u52d5\u8abf\u5e73 \u00b6 \u672c\u6587\u4ecb\u7d39\u4e86\u7528\u65bc\u6821\u6e96Z\u9650\u4f4d\u548c\u5c0d\u5217\u5370\u5e8a\u8abf\u54c1\u87ba\u7d72\u9032\u884c\u8abf\u6574\u7684\u5de5\u5177\u3002 \u6821\u6e96 Z \u9650\u4f4d \u00b6 \u6e96\u78ba\u7684 Z \u8ef8\u9650\u4f4d\u4f4d\u7f6e\u5c0d\u65bc\u7372\u5f97\u9ad8\u8cea\u91cf\u5217\u5370\u81f3\u95dc\u91cd\u8981\u3002 \u8acb\u6ce8\u610f\uff0cZ \u9650\u4f4d\u958b\u95dc\u672c\u8eab\u7684\u7cbe\u5ea6\u9650\u5236\u4e86\u8abf\u5e73\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\uff0c\u90a3\u9ebc\u53ef\u4ee5\u8003\u616e\u555f\u7528 \u9650\u4f4d\u76f8\u4f4d \u6aa2\u6e2c\u4ee5\u63d0\u9ad8\u958b\u95dc\u7684\u7cbe\u5ea6\u3002 \u8981\u57f7\u884c Z \u9650\u4f4d\u5668\u6821\u6e96\uff0c\u8acb\u5c07\u6253\u5370\u6a5f\u6b78\u4f4d\uff0c\u547d\u4ee4\u6253\u5370\u982d\u79fb\u52d5\u5230\u8ddd\u96e2\u5e8a\u8eab\u81f3\u5c11 5 \u6beb\u7c73\u7684 Z \u4f4d\u7f6e\uff08\u5982\u679c\u5c1a\u672a\uff09\uff0c\u547d\u4ee4\u6253\u5370\u982d\u79fb\u52d5\u5230\u9760\u8fd1\u6253\u5370\u982d\u4e2d\u5fc3\u7684 XY \u4f4d\u7f6e\u5e8a\uff0c\u7136\u5f8c\u5c0e\u822a\u5230 OctoPrint \u7d42\u7aef\u9078\u9805\u5361\u4e26\u904b\u884c\uff1a Z_ENDSTOP_CALIBRATE \u7136\u5f8c\u6309\u7167 \"the paper test\" \u4e2d\u63cf\u8ff0\u7684\u6b65\u9a5f\u78ba\u5b9a\u7d66\u5b9a\u4f4d\u7f6e\u7684\u5674\u5634\u548c\u5e8a\u4e4b\u9593\u7684\u5be6\u969b\u8ddd\u96e2\u3002\u5b8c\u6210\u9019\u4e9b\u6b65\u9a5f\u5f8c\uff0c\u53ef\u4ee5\u201c\u63a5\u53d7\u201d\u8a72\u4f4d\u7f6e\u4e26\u5c07\u7d50\u679c\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\uff1a SAVE_CONFIG \u6700\u597d\u5728\u5e8a\u7684 Z \u8ef8\u7684\u53e6\u4e00\u7aef\u4f7f\u7528 Z \u9650\u4f4d\u958b\u95dc\u3002 \uff08\u9060\u96e2\u5e8a\u7684\u6b78\u4f4d\u66f4\u52a0\u7a69\u5065\uff0c\u56e0\u70ba\u901a\u5e38\u5c07 Z \u6b78\u4f4d\u7e3d\u662f\u5b89\u5168\u7684\u3002\uff09\u4f46\u662f\uff0c\u5982\u679c\u5fc5\u9808\u5411\u5e8a\u6b78\u4f4d\uff0c\u5efa\u8b70\u8abf\u6574\u9650\u4f4d\u5668\u4ee5\u89f8\u767c\u5c0f\u8ddd\u96e2\uff08\u4f8b\u5982\uff0c0.5 \u6beb\u7c73\uff09 ) \u5728\u5e8a\u4e0a\u65b9\u3002\u5e7e\u4e4e\u6240\u6709\u7684\u9650\u4f4d\u958b\u95dc\u90fd\u53ef\u4ee5\u5b89\u5168\u5730\u6309\u4e0b\u5176\u89f8\u767c\u9ede\u4ee5\u5916\u7684\u4e00\u5c0f\u6bb5\u8ddd\u96e2\u3002\u5b8c\u6210\u6b64\u64cd\u4f5c\u5f8c\uff0c\u61c9\u8a72\u6703\u767c\u73fe\u201cZ_ENDSTOP_CALIBRATE\u201d\u547d\u4ee4\u5831\u544a\u4e86 Z position_endstop \u7684\u4e00\u500b\u5c0f\u7684\u6b63\u503c\uff08\u4f8b\u5982\uff0c0.5mm\uff09\u3002\u5728\u96e2\u5e8a\u4ecd\u6709\u4e00\u6bb5\u8ddd\u96e2\u6642\u89f8\u767c\u7d42\u9ede\u6b62\u52d5\u88dd\u7f6e\u53ef\u964d\u4f4e\u610f\u5916\u649e\u5e8a\u7684\u98a8\u96aa\u3002 \u67d0\u4e9b\u6253\u5370\u6a5f\u80fd\u5920\u624b\u52d5\u8abf\u6574\u7269\u7406\u6b62\u52d5\u958b\u95dc\u7684\u4f4d\u7f6e\u3002\u4f46\u662f\uff0c\u5efa\u8b70\u4f7f\u7528 Klipper \u5728\u8edf\u4ef6\u4e2d\u57f7\u884c Z \u7d42\u9ede\u5b9a\u4f4d - \u4e00\u65e6\u7d42\u9ede\u7684\u7269\u7406\u4f4d\u7f6e\u4f4d\u65bc\u65b9\u4fbf\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u901a\u904e\u904b\u884c Z_ENDSTOP_CALIBRATE \u6216\u901a\u904e\u624b\u52d5\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 Z position_endstop \u4f86\u9032\u884c\u4efb\u4f55\u9032\u4e00\u6b65\u7684\u8abf\u6574\u3002 \u8abf\u6574\u5217\u5370\u8abf\u5e73\u87ba\u7d72 \u00b6 \u4f7f\u7528\u5e8a\u8eab\u8abf\u5e73\u87ba\u7d72\u7372\u5f97\u826f\u597d\u5e8a\u8eab\u8abf\u5e73\u7684\u79d8\u8a23\u662f\u5728\u5e8a\u8eab\u8abf\u5e73\u904e\u7a0b\u4e2d\u5229\u7528\u6253\u5370\u6a5f\u7684\u9ad8\u7cbe\u5ea6\u904b\u52d5\u7cfb\u7d71\u3002\u9019\u662f\u901a\u904e\u5c07\u5674\u5634\u547d\u4ee4\u5230\u6bcf\u500b\u5e8a\u87ba\u687f\u9644\u8fd1\u7684\u4f4d\u7f6e\uff0c\u7136\u5f8c\u8abf\u6574\u8a72\u87ba\u687f\u76f4\u5230\u5e8a\u8207\u5674\u5634\u4e4b\u9593\u7684\u8a2d\u5b9a\u8ddd\u96e2\u4f86\u5b8c\u6210\u7684\u3002 Klipper \u6709\u4e00\u500b\u5de5\u5177\u53ef\u4ee5\u5e6b\u52a9\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002\u70ba\u4e86\u4f7f\u7528\u8a72\u5de5\u5177\uff0c\u5fc5\u9808\u6307\u5b9a\u6bcf\u500b\u87ba\u7d72\u7684 XY \u4f4d\u7f6e\u3002 \u9019\u662f\u901a\u904e\u5275\u5efa\u4e00\u500b [bed_screws] \u914d\u7f6e\u90e8\u5206\u4f86\u5b8c\u6210\u7684\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u4f86\u985e\u4f3c\u65bc\uff1a [bed_screws] screw1: 100, 50 screw2: 100, 150 screw3: 150, 100 \u5982\u679c\u5e8a\u5e95\u87ba\u7d72\u4f4d\u65bc\u5e8a\u5e95\u4e0b\uff0c\u5247\u6307\u5b9a\u87ba\u7d72\u6b63\u4e0a\u65b9\u7684 XY \u4f4d\u7f6e\u3002\u5982\u679c\u87ba\u7d72\u5728\u5e8a\u5916\uff0c\u5247\u6307\u5b9a\u6700\u9760\u8fd1\u4ecd\u5728\u5e8a\u7bc4\u570d\u5167\u7684\u87ba\u7d72\u7684 XY \u4f4d\u7f6e\u3002 \u914d\u7f6e\u6587\u4ef6\u6e96\u5099\u597d\u5f8c\uff0c\u904b\u884c\u201cRESTART\u201d\u4ee5\u52a0\u8f09\u8a72\u914d\u7f6e\uff0c\u7136\u5f8c\u53ef\u4ee5\u901a\u904e\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\u555f\u52d5\u8a72\u5de5\u5177\uff1a BED_SCREWS_ADJUST \u6b64\u5de5\u5177\u6703\u5c07\u6253\u5370\u6a5f\u7684\u5674\u5634\u79fb\u52d5\u5230\u6bcf\u500b\u87ba\u7d72 XY \u4f4d\u7f6e\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u79fb\u52d5\u5230 Z=0 \u9ad8\u5ea6\u3002\u6b64\u6642\u53ef\u4ee5\u4f7f\u7528\u201c\u8a66\u7d19\u201d\u4f86\u8abf\u6574\u5674\u5634\u6b63\u4e0b\u65b9\u7684\u5e8a\u982d\u87ba\u7d72\u3002\u8acb\u53c3\u95b1 \"the paper test\" \u4e2d\u63cf\u8ff0\u7684\u4fe1\u606f\uff0c\u4f46\u8981\u8abf\u6574\u5e8a\u87ba\u7d72\u800c\u4e0d\u662f\u547d\u4ee4\u5674\u5634\u5230\u4e0d\u540c\u7684\u9ad8\u5ea6\u3002\u8abf\u6574\u5e8a\u87ba\u7d72\uff0c\u76f4\u5230\u4f86\u56de\u63a8\u7d19\u6642\u6709\u5c11\u91cf\u6469\u64e6\u3002 \u4e00\u65e6\u8abf\u6574\u597d\u87ba\u7d72\u4ee5\u611f\u89ba\u5230\u5c11\u91cf\u6469\u64e6\uff0c\u904b\u884c\u201c\u63a5\u53d7\u201d\u6216\u201c\u8abf\u6574\u201d\u547d\u4ee4\u3002\u5982\u679c\u5e95\u5ea7\u87ba\u7d72\u9700\u8981\u8abf\u6574\uff08\u901a\u5e38\u8d85\u904e\u87ba\u7d72\u7684 1/8 \u5708\uff09\uff0c\u8acb\u4f7f\u7528\u201cADJUSTED\u201d\u547d\u4ee4\u3002\u5982\u679c\u4e0d\u9700\u8981\u9032\u884c\u91cd\u5927\u8abf\u6574\uff0c\u8acb\u4f7f\u7528\u201cACCEPT\u201d\u547d\u4ee4\u3002\u9019\u5169\u500b\u547d\u4ee4\u90fd\u6703\u4f7f\u5de5\u5177\u7e7c\u7e8c\u4e0b\u4e00\u500b\u87ba\u7d72\u3002 \uff08\u7576\u4f7f\u7528\u201cADJUSTED\u201d\u547d\u4ee4\u6642\uff0c\u8a72\u5de5\u5177\u5c07\u5b89\u6392\u4e00\u500b\u984d\u5916\u7684\u5e95\u87ba\u7d72\u8abf\u6574\u9031\u671f\uff1b\u7576\u9a57\u8b49\u6240\u6709\u5e95\u87ba\u7d72\u4e0d\u9700\u8981\u4efb\u4f55\u91cd\u5927\u8abf\u6574\u6642\uff0c\u8a72\u5de5\u5177\u6210\u529f\u5b8c\u6210\u3002\uff09\u53ef\u4ee5\u4f7f\u7528\u201cABORT\u201d\u547d\u4ee4\u9000\u51fa\u5de5\u5177\u65e9\u3002 \u7576\u6253\u5370\u6a5f\u5177\u6709\u5e73\u5766\u7684\u6253\u5370\u8868\u9762\uff08\u4f8b\u5982\u73bb\u7483\uff09\u4e26\u5177\u6709\u76f4\u5c0e\u8ecc\u6642\uff0c\u6b64\u7cfb\u7d71\u6548\u679c\u6700\u4f73\u3002\u6210\u529f\u5b8c\u6210\u5e8a\u8abf\u5e73\u5de5\u5177\u5f8c\uff0c\u5e8a\u61c9\u6e96\u5099\u597d\u9032\u884c\u6253\u5370\u3002 \u7d30\u7c92\u5e8a\u8eab\u87ba\u687f\u8abf\u6574 \u00b6 \u5982\u679c\u6253\u5370\u6a5f\u4f7f\u7528\u4e09\u500b\u5e8a\u8eab\u87ba\u7d72\u4e26\u4e14\u6240\u6709\u4e09\u500b\u87ba\u7d72\u90fd\u5728\u5e8a\u8eab\u4e0b\u65b9\uff0c\u5247\u53ef\u4ee5\u57f7\u884c\u7b2c\u4e8c\u500b\u201c\u9ad8\u7cbe\u5ea6\u201d\u5e8a\u8eab\u8abf\u5e73\u6b65\u9a5f\u3002\u9019\u662f\u901a\u904e\u5c07\u5674\u5634\u547d\u4ee4\u5230\u6bcf\u6b21\u8abf\u6574\u5e8a\u87ba\u687f\u6642\u5e8a\u79fb\u52d5\u8f03\u5927\u8ddd\u96e2\u7684\u4f4d\u7f6e\u4f86\u5b8c\u6210\u7684\u3002 \u4f8b\u5982\uff0c\u8003\u616e\u5728 A\u3001B \u548c C \u4f4d\u7f6e\u6709\u87ba\u7d72\u7684\u5e8a\uff1a \u5c0d\u65bc\u4f4d\u7f6e C \u8655\u7684\u5e8a\u8eab\u87ba\u7d72\u9032\u884c\u7684\u6bcf\u6b21\u8abf\u6574\uff0c\u5e8a\u8eab\u5c07\u6cbf\u8457\u7531\u5176\u9918\u5169\u500b\u5e8a\u8eab\u87ba\u7d72\u5b9a\u7fa9\u7684\u64fa\u9318\u64fa\u52d5\uff08\u6b64\u8655\u986f\u793a\u70ba\u7da0\u7dda\uff09\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u5728 C \u8655\u5c0d\u5e8a\u87ba\u687f\u7684\u6bcf\u6b21\u8abf\u6574\u90fd\u6703\u4f7f D \u4f4d\u7f6e\u7684\u5e8a\u6bd4\u76f4\u63a5\u5728 C \u8655\u79fb\u52d5\u66f4\u591a\u7684\u91cf\u3002\u56e0\u6b64\uff0c\u7576\u5674\u5634\u8655\u65bc\u4f4d\u7f6e D \u6642\uff0c\u53ef\u4ee5\u9032\u884c\u6539\u9032\u7684 C \u87ba\u687f\u8abf\u7bc0\u3002 \u8981\u555f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8981\u78ba\u5b9a\u984d\u5916\u7684\u5674\u5634\u5750\u6a19\u4e26\u5c07\u5b83\u5011\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a [bed_screws] screw1: 100, 50 screw1_fine_adjust: 0, 0 screw2: 100, 150 screw2_fine_adjust: 300, 300 screw3: 150, 100 screw3_fine_adjust: 0, 100 \u555f\u7528\u6b64\u529f\u80fd\u5f8c\uff0c\u201cBED_SCREWS_ADJUST\u201d\u5de5\u5177\u5c07\u9996\u5148\u5728\u6bcf\u500b\u87ba\u7d72\u4f4d\u7f6e\u7684\u6b63\u4e0a\u65b9\u63d0\u793a\u9032\u884c\u7c97\u8abf\uff0c\u4e00\u65e6\u63a5\u53d7\uff0c\u5b83\u5c07\u63d0\u793a\u5728\u5176\u4ed6\u4f4d\u7f6e\u9032\u884c\u5fae\u8abf\u3002\u7e7c\u7e8c\u5728\u6bcf\u500b\u4f4d\u7f6e\u4f7f\u7528 ACCEPT \u548c ADJUSTED \u3002 \u4f7f\u7528\u5e8a\u63a2\u982d\u8abf\u6574\u5e8a\u6821\u5e73\u87ba\u7d72 \u00b6 \u9019\u662f\u4f7f\u7528\u5e8a\u63a2\u982d\u6821\u6e96\u5e8a\u4f4d\u7684\u53e6\u4e00\u7a2e\u65b9\u6cd5\u3002\u8981\u4f7f\u7528\u5b83\uff0c\u60a8\u5fc5\u9808\u6709\u4e00\u500b Z \u63a2\u982d\uff08BL Touch\u3001\u611f\u61c9\u50b3\u611f\u5668\u7b49\uff09\u3002 \u8981\u555f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8981\u78ba\u5b9a\u5674\u5634\u5750\u6a19\uff0c\u4f7f Z \u63a2\u982d\u4f4d\u65bc\u87ba\u7d72\u4e0a\u65b9\uff0c\u7136\u5f8c\u5c07\u5b83\u5011\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a [screws_tilt_adjust] screw1: -5, 30 screw1_name: front left screw screw2: 155, 30 screw2_name: front right screw screw3: 155, 190 screw3_name: rear right screw screw4: -5, 190 screw4_name: rear left screw horizontal_move_z: 10. speed: 50. screw_thread: CW-M3 \u87ba\u7d72 1 \u59cb\u7d42\u662f\u5176\u4ed6\u87ba\u7d72\u7684\u53c3\u8003\u9ede\uff0c\u56e0\u6b64\u7cfb\u7d71\u5047\u5b9a\u87ba\u7d72 1 \u8655\u65bc\u6b63\u78ba\u7684\u9ad8\u5ea6\u3002\u59cb\u7d42\u5148\u904b\u884c G28 \uff0c\u7136\u5f8c\u904b\u884c SCREWS_TILT_CALCULATE - \u5b83\u61c9\u8a72\u7522\u751f\u985e\u4f3c\u65bc\u4ee5\u4e0b\u5167\u5bb9\u7684\u8f38\u51fa\uff1a Send: G28 Recv: ok Send: SCREWS_TILT_CALCULATE Recv: // 01:20 means 1 full turn and 20 minutes, CW=clockwise, CCW=counter-clockwise Recv: // front left screw (base) : x=-5.0, y=30.0, z=2.48750 Recv: // front right screw : x=155.0, y=30.0, z=2.36000 : adjust CW 01:15 Recv: // rear right screw : y=155.0, y=190.0, z=2.71500 : adjust CCW 00:50 Recv: // read left screw : x=-5.0, y=190.0, z=2.47250 : adjust CW 00:02 Recv: ok \u9019\u610f\u5473\u8457\uff1a \u5de6\u524d\u87ba\u7d72\u662f\u53c3\u8003\u9ede\uff0c\u4f60\u4e0d\u80fd\u6539\u8b8a\u5b83\u3002 \u53f3\u524d\u87ba\u7d72\u5fc5\u9808\u9806\u6642\u91dd\u65cb\u8f49 1 \u6574\u5708\u548c\u56db\u5206\u4e4b\u4e00\u5708 \u53f3\u5f8c\u87ba\u7d72\u5fc5\u9808\u9006\u6642\u91dd\u8f49\u52d5\u81f3 50 \u5206\u9418\u65b9\u5411 \u5de6\u5f8c\u87ba\u7d72\u5fc5\u9808\u9806\u6642\u91dd\u8f49\u52d5\u81f3 2 \u5206\u9418\u65b9\u5411\uff08\u4e0d\u9700\u8981\u5c31\u53ef\u4ee5\u4e86\uff09 Note that \"minutes\" refers to \"minutes of a clock face\". So, for example, 15 minutes is a quarter of a full turn. \u91cd\u8907\u9019\u500b\u904e\u7a0b\u5e7e\u6b21\uff0c\u76f4\u5230\u4f60\u5f97\u5230\u4e00\u500b\u597d\u7684\u6c34\u5e73\u5e8a\u2014\u2014\u901a\u5e38\u7576\u6240\u6709\u7684\u8abf\u6574\u90fd\u4f4e\u65bc 6 \u5206\u9418\u3002 \u5982\u679c\u4f7f\u7528\u5b89\u88dd\u5728\u71b1\u7aef\u5074\u9762\u7684\u63a2\u982d\uff08\u5373\uff0c\u5b83\u5177\u6709 X \u6216 Y \u504f\u79fb\uff09\uff0c\u8acb\u6ce8\u610f\u8abf\u6574\u5e8a\u50be\u659c\u5ea6\u5c07\u4f7f\u4e4b\u524d\u4f7f\u7528\u50be\u659c\u5e8a\u57f7\u884c\u7684\u4efb\u4f55\u63a2\u982d\u6821\u6e96\u7121\u6548\u3002\u78ba\u4fdd\u5728\u8abf\u6574\u5e95\u5ea7\u87ba\u7d72\u5f8c\u904b\u884c \u63a2\u982d\u6821\u6e96 \u3002 \u7576\u4f7f\u7528\u4fdd\u5b58\u7684\u5e8a\u9762\u7db2\u683c\u6642\uff0c\u201cMAX_DEVIATION\u201d\u53c3\u6578\u5f88\u6709\u7528\uff0c\u4ee5\u78ba\u4fdd\u5e8a\u9762\u9ad8\u5ea6\u4e0d\u6703\u504f\u96e2\u7db2\u683c\u5275\u5efa\u6642\u7684\u4f4d\u7f6e\u592a\u9060\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728\u52a0\u8f09\u7db2\u683c\u4e4b\u524d\u5c07\u201cSCREWS_TILT_CALCULATE MAX_DEVIATION=0.01\u201d\u6dfb\u52a0\u5230\u5207\u7247\u5668\u7684\u81ea\u5b9a\u7fa9\u555f\u52d5 gcode\u3002\u5982\u679c\u8d85\u904e\u914d\u7f6e\u7684\u9650\u5236\uff08\u672c\u4f8b\u4e2d\u70ba 0.01mm\uff09\uff0c\u5b83\u5c07\u4e2d\u6b62\u6253\u5370\uff0c\u8b93\u7528\u6236\u6709\u6a5f\u6703\u8abf\u6574\u87ba\u7d72\u4e26\u91cd\u65b0\u958b\u59cb\u6253\u5370\u3002 \u5982\u679c\u60a8\u53ea\u80fd\u5728\u4e00\u500b\u65b9\u5411\u8f49\u52d5\u5e8a\u8abf\u7bc0\u87ba\u7d72\uff0c\u5247\u201c\u65b9\u5411\u201d\u53c3\u6578\u5f88\u6709\u7528\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u6703\u5728\u53ef\u80fd\u7684\u6700\u4f4e\uff08\u6216\u6700\u9ad8\uff09\u4f4d\u7f6e\u958b\u59cb\u64f0\u7dca\u87ba\u7d72\uff0c\u8a72\u87ba\u7d72\u53ea\u80fd\u5728\u4e00\u500b\u65b9\u5411\u4e0a\u8f49\u52d5\uff0c\u4ee5\u5347\u9ad8\uff08\u6216\u964d\u4f4e\uff09\u5e8a\u3002\u5982\u679c\u53ea\u80fd\u9806\u6642\u91dd\u8f49\u52d5\u87ba\u7d72\uff0c\u8acb\u904b\u884c\u201cSCREWS_TILT_CALCULATE DIRECTION=CW\u201d\u3002\u5982\u679c\u60a8\u53ea\u80fd\u9006\u6642\u91dd\u8f49\u52d5\u5b83\u5011\uff0c\u8acb\u904b\u884c\u201cSCREWS_TILT_CALCULATE DIRECTION=CCW\u201d\u3002\u5c07\u9078\u64c7\u4e00\u500b\u5408\u9069\u7684\u53c3\u8003\u9ede\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u901a\u904e\u6cbf\u7d66\u5b9a\u65b9\u5411\u8f49\u52d5\u6240\u6709\u87ba\u7d72\u4f86\u8abf\u5e73\u5e8a\u3002","title":"\u624b\u52d5\u8abf\u5e73"},{"location":"Manual_Level.html#_1","text":"\u672c\u6587\u4ecb\u7d39\u4e86\u7528\u65bc\u6821\u6e96Z\u9650\u4f4d\u548c\u5c0d\u5217\u5370\u5e8a\u8abf\u54c1\u87ba\u7d72\u9032\u884c\u8abf\u6574\u7684\u5de5\u5177\u3002","title":"\u624b\u52d5\u8abf\u5e73"},{"location":"Manual_Level.html#z","text":"\u6e96\u78ba\u7684 Z \u8ef8\u9650\u4f4d\u4f4d\u7f6e\u5c0d\u65bc\u7372\u5f97\u9ad8\u8cea\u91cf\u5217\u5370\u81f3\u95dc\u91cd\u8981\u3002 \u8acb\u6ce8\u610f\uff0cZ \u9650\u4f4d\u958b\u95dc\u672c\u8eab\u7684\u7cbe\u5ea6\u9650\u5236\u4e86\u8abf\u5e73\u7684\u7cbe\u5ea6\u3002\u5982\u679c\u4f7f\u7528 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\uff0c\u90a3\u9ebc\u53ef\u4ee5\u8003\u616e\u555f\u7528 \u9650\u4f4d\u76f8\u4f4d \u6aa2\u6e2c\u4ee5\u63d0\u9ad8\u958b\u95dc\u7684\u7cbe\u5ea6\u3002 \u8981\u57f7\u884c Z \u9650\u4f4d\u5668\u6821\u6e96\uff0c\u8acb\u5c07\u6253\u5370\u6a5f\u6b78\u4f4d\uff0c\u547d\u4ee4\u6253\u5370\u982d\u79fb\u52d5\u5230\u8ddd\u96e2\u5e8a\u8eab\u81f3\u5c11 5 \u6beb\u7c73\u7684 Z \u4f4d\u7f6e\uff08\u5982\u679c\u5c1a\u672a\uff09\uff0c\u547d\u4ee4\u6253\u5370\u982d\u79fb\u52d5\u5230\u9760\u8fd1\u6253\u5370\u982d\u4e2d\u5fc3\u7684 XY \u4f4d\u7f6e\u5e8a\uff0c\u7136\u5f8c\u5c0e\u822a\u5230 OctoPrint \u7d42\u7aef\u9078\u9805\u5361\u4e26\u904b\u884c\uff1a Z_ENDSTOP_CALIBRATE \u7136\u5f8c\u6309\u7167 \"the paper test\" \u4e2d\u63cf\u8ff0\u7684\u6b65\u9a5f\u78ba\u5b9a\u7d66\u5b9a\u4f4d\u7f6e\u7684\u5674\u5634\u548c\u5e8a\u4e4b\u9593\u7684\u5be6\u969b\u8ddd\u96e2\u3002\u5b8c\u6210\u9019\u4e9b\u6b65\u9a5f\u5f8c\uff0c\u53ef\u4ee5\u201c\u63a5\u53d7\u201d\u8a72\u4f4d\u7f6e\u4e26\u5c07\u7d50\u679c\u4fdd\u5b58\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\uff1a SAVE_CONFIG \u6700\u597d\u5728\u5e8a\u7684 Z \u8ef8\u7684\u53e6\u4e00\u7aef\u4f7f\u7528 Z \u9650\u4f4d\u958b\u95dc\u3002 \uff08\u9060\u96e2\u5e8a\u7684\u6b78\u4f4d\u66f4\u52a0\u7a69\u5065\uff0c\u56e0\u70ba\u901a\u5e38\u5c07 Z \u6b78\u4f4d\u7e3d\u662f\u5b89\u5168\u7684\u3002\uff09\u4f46\u662f\uff0c\u5982\u679c\u5fc5\u9808\u5411\u5e8a\u6b78\u4f4d\uff0c\u5efa\u8b70\u8abf\u6574\u9650\u4f4d\u5668\u4ee5\u89f8\u767c\u5c0f\u8ddd\u96e2\uff08\u4f8b\u5982\uff0c0.5 \u6beb\u7c73\uff09 ) \u5728\u5e8a\u4e0a\u65b9\u3002\u5e7e\u4e4e\u6240\u6709\u7684\u9650\u4f4d\u958b\u95dc\u90fd\u53ef\u4ee5\u5b89\u5168\u5730\u6309\u4e0b\u5176\u89f8\u767c\u9ede\u4ee5\u5916\u7684\u4e00\u5c0f\u6bb5\u8ddd\u96e2\u3002\u5b8c\u6210\u6b64\u64cd\u4f5c\u5f8c\uff0c\u61c9\u8a72\u6703\u767c\u73fe\u201cZ_ENDSTOP_CALIBRATE\u201d\u547d\u4ee4\u5831\u544a\u4e86 Z position_endstop \u7684\u4e00\u500b\u5c0f\u7684\u6b63\u503c\uff08\u4f8b\u5982\uff0c0.5mm\uff09\u3002\u5728\u96e2\u5e8a\u4ecd\u6709\u4e00\u6bb5\u8ddd\u96e2\u6642\u89f8\u767c\u7d42\u9ede\u6b62\u52d5\u88dd\u7f6e\u53ef\u964d\u4f4e\u610f\u5916\u649e\u5e8a\u7684\u98a8\u96aa\u3002 \u67d0\u4e9b\u6253\u5370\u6a5f\u80fd\u5920\u624b\u52d5\u8abf\u6574\u7269\u7406\u6b62\u52d5\u958b\u95dc\u7684\u4f4d\u7f6e\u3002\u4f46\u662f\uff0c\u5efa\u8b70\u4f7f\u7528 Klipper \u5728\u8edf\u4ef6\u4e2d\u57f7\u884c Z \u7d42\u9ede\u5b9a\u4f4d - \u4e00\u65e6\u7d42\u9ede\u7684\u7269\u7406\u4f4d\u7f6e\u4f4d\u65bc\u65b9\u4fbf\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u901a\u904e\u904b\u884c Z_ENDSTOP_CALIBRATE \u6216\u901a\u904e\u624b\u52d5\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 Z position_endstop \u4f86\u9032\u884c\u4efb\u4f55\u9032\u4e00\u6b65\u7684\u8abf\u6574\u3002","title":"\u6821\u6e96 Z \u9650\u4f4d"},{"location":"Manual_Level.html#_2","text":"\u4f7f\u7528\u5e8a\u8eab\u8abf\u5e73\u87ba\u7d72\u7372\u5f97\u826f\u597d\u5e8a\u8eab\u8abf\u5e73\u7684\u79d8\u8a23\u662f\u5728\u5e8a\u8eab\u8abf\u5e73\u904e\u7a0b\u4e2d\u5229\u7528\u6253\u5370\u6a5f\u7684\u9ad8\u7cbe\u5ea6\u904b\u52d5\u7cfb\u7d71\u3002\u9019\u662f\u901a\u904e\u5c07\u5674\u5634\u547d\u4ee4\u5230\u6bcf\u500b\u5e8a\u87ba\u687f\u9644\u8fd1\u7684\u4f4d\u7f6e\uff0c\u7136\u5f8c\u8abf\u6574\u8a72\u87ba\u687f\u76f4\u5230\u5e8a\u8207\u5674\u5634\u4e4b\u9593\u7684\u8a2d\u5b9a\u8ddd\u96e2\u4f86\u5b8c\u6210\u7684\u3002 Klipper \u6709\u4e00\u500b\u5de5\u5177\u53ef\u4ee5\u5e6b\u52a9\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002\u70ba\u4e86\u4f7f\u7528\u8a72\u5de5\u5177\uff0c\u5fc5\u9808\u6307\u5b9a\u6bcf\u500b\u87ba\u7d72\u7684 XY \u4f4d\u7f6e\u3002 \u9019\u662f\u901a\u904e\u5275\u5efa\u4e00\u500b [bed_screws] \u914d\u7f6e\u90e8\u5206\u4f86\u5b8c\u6210\u7684\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u4f86\u985e\u4f3c\u65bc\uff1a [bed_screws] screw1: 100, 50 screw2: 100, 150 screw3: 150, 100 \u5982\u679c\u5e8a\u5e95\u87ba\u7d72\u4f4d\u65bc\u5e8a\u5e95\u4e0b\uff0c\u5247\u6307\u5b9a\u87ba\u7d72\u6b63\u4e0a\u65b9\u7684 XY \u4f4d\u7f6e\u3002\u5982\u679c\u87ba\u7d72\u5728\u5e8a\u5916\uff0c\u5247\u6307\u5b9a\u6700\u9760\u8fd1\u4ecd\u5728\u5e8a\u7bc4\u570d\u5167\u7684\u87ba\u7d72\u7684 XY \u4f4d\u7f6e\u3002 \u914d\u7f6e\u6587\u4ef6\u6e96\u5099\u597d\u5f8c\uff0c\u904b\u884c\u201cRESTART\u201d\u4ee5\u52a0\u8f09\u8a72\u914d\u7f6e\uff0c\u7136\u5f8c\u53ef\u4ee5\u901a\u904e\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\u555f\u52d5\u8a72\u5de5\u5177\uff1a BED_SCREWS_ADJUST \u6b64\u5de5\u5177\u6703\u5c07\u6253\u5370\u6a5f\u7684\u5674\u5634\u79fb\u52d5\u5230\u6bcf\u500b\u87ba\u7d72 XY \u4f4d\u7f6e\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u79fb\u52d5\u5230 Z=0 \u9ad8\u5ea6\u3002\u6b64\u6642\u53ef\u4ee5\u4f7f\u7528\u201c\u8a66\u7d19\u201d\u4f86\u8abf\u6574\u5674\u5634\u6b63\u4e0b\u65b9\u7684\u5e8a\u982d\u87ba\u7d72\u3002\u8acb\u53c3\u95b1 \"the paper test\" \u4e2d\u63cf\u8ff0\u7684\u4fe1\u606f\uff0c\u4f46\u8981\u8abf\u6574\u5e8a\u87ba\u7d72\u800c\u4e0d\u662f\u547d\u4ee4\u5674\u5634\u5230\u4e0d\u540c\u7684\u9ad8\u5ea6\u3002\u8abf\u6574\u5e8a\u87ba\u7d72\uff0c\u76f4\u5230\u4f86\u56de\u63a8\u7d19\u6642\u6709\u5c11\u91cf\u6469\u64e6\u3002 \u4e00\u65e6\u8abf\u6574\u597d\u87ba\u7d72\u4ee5\u611f\u89ba\u5230\u5c11\u91cf\u6469\u64e6\uff0c\u904b\u884c\u201c\u63a5\u53d7\u201d\u6216\u201c\u8abf\u6574\u201d\u547d\u4ee4\u3002\u5982\u679c\u5e95\u5ea7\u87ba\u7d72\u9700\u8981\u8abf\u6574\uff08\u901a\u5e38\u8d85\u904e\u87ba\u7d72\u7684 1/8 \u5708\uff09\uff0c\u8acb\u4f7f\u7528\u201cADJUSTED\u201d\u547d\u4ee4\u3002\u5982\u679c\u4e0d\u9700\u8981\u9032\u884c\u91cd\u5927\u8abf\u6574\uff0c\u8acb\u4f7f\u7528\u201cACCEPT\u201d\u547d\u4ee4\u3002\u9019\u5169\u500b\u547d\u4ee4\u90fd\u6703\u4f7f\u5de5\u5177\u7e7c\u7e8c\u4e0b\u4e00\u500b\u87ba\u7d72\u3002 \uff08\u7576\u4f7f\u7528\u201cADJUSTED\u201d\u547d\u4ee4\u6642\uff0c\u8a72\u5de5\u5177\u5c07\u5b89\u6392\u4e00\u500b\u984d\u5916\u7684\u5e95\u87ba\u7d72\u8abf\u6574\u9031\u671f\uff1b\u7576\u9a57\u8b49\u6240\u6709\u5e95\u87ba\u7d72\u4e0d\u9700\u8981\u4efb\u4f55\u91cd\u5927\u8abf\u6574\u6642\uff0c\u8a72\u5de5\u5177\u6210\u529f\u5b8c\u6210\u3002\uff09\u53ef\u4ee5\u4f7f\u7528\u201cABORT\u201d\u547d\u4ee4\u9000\u51fa\u5de5\u5177\u65e9\u3002 \u7576\u6253\u5370\u6a5f\u5177\u6709\u5e73\u5766\u7684\u6253\u5370\u8868\u9762\uff08\u4f8b\u5982\u73bb\u7483\uff09\u4e26\u5177\u6709\u76f4\u5c0e\u8ecc\u6642\uff0c\u6b64\u7cfb\u7d71\u6548\u679c\u6700\u4f73\u3002\u6210\u529f\u5b8c\u6210\u5e8a\u8abf\u5e73\u5de5\u5177\u5f8c\uff0c\u5e8a\u61c9\u6e96\u5099\u597d\u9032\u884c\u6253\u5370\u3002","title":"\u8abf\u6574\u5217\u5370\u8abf\u5e73\u87ba\u7d72"},{"location":"Manual_Level.html#_3","text":"\u5982\u679c\u6253\u5370\u6a5f\u4f7f\u7528\u4e09\u500b\u5e8a\u8eab\u87ba\u7d72\u4e26\u4e14\u6240\u6709\u4e09\u500b\u87ba\u7d72\u90fd\u5728\u5e8a\u8eab\u4e0b\u65b9\uff0c\u5247\u53ef\u4ee5\u57f7\u884c\u7b2c\u4e8c\u500b\u201c\u9ad8\u7cbe\u5ea6\u201d\u5e8a\u8eab\u8abf\u5e73\u6b65\u9a5f\u3002\u9019\u662f\u901a\u904e\u5c07\u5674\u5634\u547d\u4ee4\u5230\u6bcf\u6b21\u8abf\u6574\u5e8a\u87ba\u687f\u6642\u5e8a\u79fb\u52d5\u8f03\u5927\u8ddd\u96e2\u7684\u4f4d\u7f6e\u4f86\u5b8c\u6210\u7684\u3002 \u4f8b\u5982\uff0c\u8003\u616e\u5728 A\u3001B \u548c C \u4f4d\u7f6e\u6709\u87ba\u7d72\u7684\u5e8a\uff1a \u5c0d\u65bc\u4f4d\u7f6e C \u8655\u7684\u5e8a\u8eab\u87ba\u7d72\u9032\u884c\u7684\u6bcf\u6b21\u8abf\u6574\uff0c\u5e8a\u8eab\u5c07\u6cbf\u8457\u7531\u5176\u9918\u5169\u500b\u5e8a\u8eab\u87ba\u7d72\u5b9a\u7fa9\u7684\u64fa\u9318\u64fa\u52d5\uff08\u6b64\u8655\u986f\u793a\u70ba\u7da0\u7dda\uff09\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u5728 C \u8655\u5c0d\u5e8a\u87ba\u687f\u7684\u6bcf\u6b21\u8abf\u6574\u90fd\u6703\u4f7f D \u4f4d\u7f6e\u7684\u5e8a\u6bd4\u76f4\u63a5\u5728 C \u8655\u79fb\u52d5\u66f4\u591a\u7684\u91cf\u3002\u56e0\u6b64\uff0c\u7576\u5674\u5634\u8655\u65bc\u4f4d\u7f6e D \u6642\uff0c\u53ef\u4ee5\u9032\u884c\u6539\u9032\u7684 C \u87ba\u687f\u8abf\u7bc0\u3002 \u8981\u555f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8981\u78ba\u5b9a\u984d\u5916\u7684\u5674\u5634\u5750\u6a19\u4e26\u5c07\u5b83\u5011\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a [bed_screws] screw1: 100, 50 screw1_fine_adjust: 0, 0 screw2: 100, 150 screw2_fine_adjust: 300, 300 screw3: 150, 100 screw3_fine_adjust: 0, 100 \u555f\u7528\u6b64\u529f\u80fd\u5f8c\uff0c\u201cBED_SCREWS_ADJUST\u201d\u5de5\u5177\u5c07\u9996\u5148\u5728\u6bcf\u500b\u87ba\u7d72\u4f4d\u7f6e\u7684\u6b63\u4e0a\u65b9\u63d0\u793a\u9032\u884c\u7c97\u8abf\uff0c\u4e00\u65e6\u63a5\u53d7\uff0c\u5b83\u5c07\u63d0\u793a\u5728\u5176\u4ed6\u4f4d\u7f6e\u9032\u884c\u5fae\u8abf\u3002\u7e7c\u7e8c\u5728\u6bcf\u500b\u4f4d\u7f6e\u4f7f\u7528 ACCEPT \u548c ADJUSTED \u3002","title":"\u7d30\u7c92\u5e8a\u8eab\u87ba\u687f\u8abf\u6574"},{"location":"Manual_Level.html#_4","text":"\u9019\u662f\u4f7f\u7528\u5e8a\u63a2\u982d\u6821\u6e96\u5e8a\u4f4d\u7684\u53e6\u4e00\u7a2e\u65b9\u6cd5\u3002\u8981\u4f7f\u7528\u5b83\uff0c\u60a8\u5fc5\u9808\u6709\u4e00\u500b Z \u63a2\u982d\uff08BL Touch\u3001\u611f\u61c9\u50b3\u611f\u5668\u7b49\uff09\u3002 \u8981\u555f\u7528\u6b64\u529f\u80fd\uff0c\u9700\u8981\u78ba\u5b9a\u5674\u5634\u5750\u6a19\uff0c\u4f7f Z \u63a2\u982d\u4f4d\u65bc\u87ba\u7d72\u4e0a\u65b9\uff0c\u7136\u5f8c\u5c07\u5b83\u5011\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u4e2d\u3002\u4f8b\u5982\uff0c\u5b83\u53ef\u80fd\u770b\u8d77\u4f86\u50cf\uff1a [screws_tilt_adjust] screw1: -5, 30 screw1_name: front left screw screw2: 155, 30 screw2_name: front right screw screw3: 155, 190 screw3_name: rear right screw screw4: -5, 190 screw4_name: rear left screw horizontal_move_z: 10. speed: 50. screw_thread: CW-M3 \u87ba\u7d72 1 \u59cb\u7d42\u662f\u5176\u4ed6\u87ba\u7d72\u7684\u53c3\u8003\u9ede\uff0c\u56e0\u6b64\u7cfb\u7d71\u5047\u5b9a\u87ba\u7d72 1 \u8655\u65bc\u6b63\u78ba\u7684\u9ad8\u5ea6\u3002\u59cb\u7d42\u5148\u904b\u884c G28 \uff0c\u7136\u5f8c\u904b\u884c SCREWS_TILT_CALCULATE - \u5b83\u61c9\u8a72\u7522\u751f\u985e\u4f3c\u65bc\u4ee5\u4e0b\u5167\u5bb9\u7684\u8f38\u51fa\uff1a Send: G28 Recv: ok Send: SCREWS_TILT_CALCULATE Recv: // 01:20 means 1 full turn and 20 minutes, CW=clockwise, CCW=counter-clockwise Recv: // front left screw (base) : x=-5.0, y=30.0, z=2.48750 Recv: // front right screw : x=155.0, y=30.0, z=2.36000 : adjust CW 01:15 Recv: // rear right screw : y=155.0, y=190.0, z=2.71500 : adjust CCW 00:50 Recv: // read left screw : x=-5.0, y=190.0, z=2.47250 : adjust CW 00:02 Recv: ok \u9019\u610f\u5473\u8457\uff1a \u5de6\u524d\u87ba\u7d72\u662f\u53c3\u8003\u9ede\uff0c\u4f60\u4e0d\u80fd\u6539\u8b8a\u5b83\u3002 \u53f3\u524d\u87ba\u7d72\u5fc5\u9808\u9806\u6642\u91dd\u65cb\u8f49 1 \u6574\u5708\u548c\u56db\u5206\u4e4b\u4e00\u5708 \u53f3\u5f8c\u87ba\u7d72\u5fc5\u9808\u9006\u6642\u91dd\u8f49\u52d5\u81f3 50 \u5206\u9418\u65b9\u5411 \u5de6\u5f8c\u87ba\u7d72\u5fc5\u9808\u9806\u6642\u91dd\u8f49\u52d5\u81f3 2 \u5206\u9418\u65b9\u5411\uff08\u4e0d\u9700\u8981\u5c31\u53ef\u4ee5\u4e86\uff09 Note that \"minutes\" refers to \"minutes of a clock face\". So, for example, 15 minutes is a quarter of a full turn. \u91cd\u8907\u9019\u500b\u904e\u7a0b\u5e7e\u6b21\uff0c\u76f4\u5230\u4f60\u5f97\u5230\u4e00\u500b\u597d\u7684\u6c34\u5e73\u5e8a\u2014\u2014\u901a\u5e38\u7576\u6240\u6709\u7684\u8abf\u6574\u90fd\u4f4e\u65bc 6 \u5206\u9418\u3002 \u5982\u679c\u4f7f\u7528\u5b89\u88dd\u5728\u71b1\u7aef\u5074\u9762\u7684\u63a2\u982d\uff08\u5373\uff0c\u5b83\u5177\u6709 X \u6216 Y \u504f\u79fb\uff09\uff0c\u8acb\u6ce8\u610f\u8abf\u6574\u5e8a\u50be\u659c\u5ea6\u5c07\u4f7f\u4e4b\u524d\u4f7f\u7528\u50be\u659c\u5e8a\u57f7\u884c\u7684\u4efb\u4f55\u63a2\u982d\u6821\u6e96\u7121\u6548\u3002\u78ba\u4fdd\u5728\u8abf\u6574\u5e95\u5ea7\u87ba\u7d72\u5f8c\u904b\u884c \u63a2\u982d\u6821\u6e96 \u3002 \u7576\u4f7f\u7528\u4fdd\u5b58\u7684\u5e8a\u9762\u7db2\u683c\u6642\uff0c\u201cMAX_DEVIATION\u201d\u53c3\u6578\u5f88\u6709\u7528\uff0c\u4ee5\u78ba\u4fdd\u5e8a\u9762\u9ad8\u5ea6\u4e0d\u6703\u504f\u96e2\u7db2\u683c\u5275\u5efa\u6642\u7684\u4f4d\u7f6e\u592a\u9060\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u5728\u52a0\u8f09\u7db2\u683c\u4e4b\u524d\u5c07\u201cSCREWS_TILT_CALCULATE MAX_DEVIATION=0.01\u201d\u6dfb\u52a0\u5230\u5207\u7247\u5668\u7684\u81ea\u5b9a\u7fa9\u555f\u52d5 gcode\u3002\u5982\u679c\u8d85\u904e\u914d\u7f6e\u7684\u9650\u5236\uff08\u672c\u4f8b\u4e2d\u70ba 0.01mm\uff09\uff0c\u5b83\u5c07\u4e2d\u6b62\u6253\u5370\uff0c\u8b93\u7528\u6236\u6709\u6a5f\u6703\u8abf\u6574\u87ba\u7d72\u4e26\u91cd\u65b0\u958b\u59cb\u6253\u5370\u3002 \u5982\u679c\u60a8\u53ea\u80fd\u5728\u4e00\u500b\u65b9\u5411\u8f49\u52d5\u5e8a\u8abf\u7bc0\u87ba\u7d72\uff0c\u5247\u201c\u65b9\u5411\u201d\u53c3\u6578\u5f88\u6709\u7528\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u6703\u5728\u53ef\u80fd\u7684\u6700\u4f4e\uff08\u6216\u6700\u9ad8\uff09\u4f4d\u7f6e\u958b\u59cb\u64f0\u7dca\u87ba\u7d72\uff0c\u8a72\u87ba\u7d72\u53ea\u80fd\u5728\u4e00\u500b\u65b9\u5411\u4e0a\u8f49\u52d5\uff0c\u4ee5\u5347\u9ad8\uff08\u6216\u964d\u4f4e\uff09\u5e8a\u3002\u5982\u679c\u53ea\u80fd\u9806\u6642\u91dd\u8f49\u52d5\u87ba\u7d72\uff0c\u8acb\u904b\u884c\u201cSCREWS_TILT_CALCULATE DIRECTION=CW\u201d\u3002\u5982\u679c\u60a8\u53ea\u80fd\u9006\u6642\u91dd\u8f49\u52d5\u5b83\u5011\uff0c\u8acb\u904b\u884c\u201cSCREWS_TILT_CALCULATE DIRECTION=CCW\u201d\u3002\u5c07\u9078\u64c7\u4e00\u500b\u5408\u9069\u7684\u53c3\u8003\u9ede\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u901a\u904e\u6cbf\u7d66\u5b9a\u65b9\u5411\u8f49\u52d5\u6240\u6709\u87ba\u7d72\u4f86\u8abf\u5e73\u5e8a\u3002","title":"\u4f7f\u7528\u5e8a\u63a2\u982d\u8abf\u6574\u5e8a\u6821\u5e73\u87ba\u7d72"},{"location":"Measuring_Resonances.html","text":"\u5171\u632f\u503c\u6e2c\u91cf \u00b6 Klipper\u5167\u5efa\u6709ADXL345\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u9a45\u52d5\uff0c\u53ef\u7528\u4ee5\u6e2c\u91cf\u5370\u8868\u6a5f\u4e0d\u540c\u904b\u52d5\u8ef8\u767c\u751f\u5171\u632f\u7684\u983b\u7387\uff0c\u5f9e\u800c\u81ea\u52d5\u9032\u884c \u8f38\u5165\u6574\u5f62 \u4ee5\u5be6\u73fe\u5171\u632f\u88dc\u511f\u3002\u6ce8\u610f\u4f7f\u7528ADXL345\u9700\u8981\u9032\u884c\u710a\u63a5\u548c\u58d3\u7dda\u3002ADXL345\u53ef\u4ee5\u76f4\u63a5\u9023\u7dda\u5230\u6a39\u8393\u6d3e\uff0c\u4e5f\u53ef\u4ee5\u9023\u7dda\u5230MCU\u7684SPI\u532f\u6d41\u6392\uff08\u6ce8\u610fMCU\u6709\u4e00\u5b9a\u7684\u6548\u80fd\u9700\u6c42\uff09\u3002 \u63a1\u8cfc ADXL345 \u6642\uff0c\u8acb\u6ce8\u610f\u6709\u5404\u7a2e\u4e0d\u540c\u7684 PCB \u677f\u8a2d\u8a08\u548c\u5b83\u5011\u7684\u4e0d\u540c\u514b\u9686\u3002\u78ba\u4fdd\u96fb\u8def\u677f\u652f\u6301 SPI \u6a21\u5f0f\uff08\u901a\u904e\u5c07 SDO \u62c9\u81f3 GND \u4f86\u70ba I2C \u786c\u914d\u7f6e\u5c11\u6578\u96fb\u8def\u677f\uff09\uff0c\u5982\u679c\u8981\u9023\u63a5\u5230 5V \u6253\u5370\u6a5f MCU\uff0c\u5b83\u6709\u4e00\u500b\u7a69\u58d3\u5668\u548c\u96fb\u5e73\u8f49\u63db\u5668\u3002 \u5b89\u88dd\u6307\u5357 \u00b6 \u63a5\u7dda \u00b6 \u6211\u5011\u9700\u8981\u5c07ADXL345\u9023\u7dda\u5230\u6a39\u8393\u6d3e\u7684SPI\u4ecb\u9762\u3002\u6ce8\u610f\uff0c\u5118\u7ba1ADXL345\u6587\u4ef6\u63a8\u85a6\u4f7f\u7528I2C\uff0c\u4f46\u5176\u6578\u64da\u541e\u5410\u80fd\u529b\u4e0d\u8db3\uff0c \u4e0d\u80fd \u5be6\u73fe\u5171\u632f\u6e2c\u91cf\u7684\u8981\u6c42\u3002\u63a8\u85a6\u7684\u63a5\u7dda\u5716\u70ba\uff1a ADXL345\u5f15\u8173 \u6a39\u8393\u6d3e\u5f15\u8173 \u6a39\u8393\u6d3e\u5f15\u8173\u540d\u7a31 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u96fb\u6e90 GND 06 \u5730\uff08GND\uff09 CS\uff08\u6676\u7247\u9078\u5b9a\uff09 24 GPIO08 (SPI0_CE0_N) SDO 21 GPIO09 (SPI0_MISO) SDA 19 GPIO10 (SPI0_MOSI) SCL 23 GPIO11 (SPI0_SCLK) An alternative to the ADXL345 is the MPU-9250 (or MPU-6050). This accelerometer has been tested to work over I2C on the RPi at 400kbaud. Recommended connection scheme for I2C: MPU-9250 pin \u6a39\u8393\u6d3e\u5f15\u8173 \u6a39\u8393\u6d3e\u5f15\u8173\u540d\u7a31 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u96fb\u6e90 GND 09 \u5730\uff08GND\uff09 SDA 03 GPIO02 (SDA1) SCL 05 GPIO03 (SCL1) \u90e8\u5206ADXL345\u958b\u767c\u677f\u7684Fritzing\u63a5\u7dda\u5716\u5982\u4e0b\uff1a \u70ba\u907f\u514d\u640d\u5bb3\u6a39\u8393\u6d3e\u6216\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\uff0c\u8acb\u518d\u4e09\u78ba\u8a8d\u63a5\u7dda\u6b63\u78ba\u518d\u5c0d\u6a39\u8393\u6d3e\u4e0a\u96fb\u3002 \u56fa\u5b9a\u52a0\u901f\u5ea6\u611f\u6e2c\u5668 \u00b6 \u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u61c9\u56fa\u5b9a\u5728\u5217\u5370\u982d\u4e0a\u3002\u61c9\u6839\u64da\u5370\u8868\u6a5f\u7684\u60c5\u6cc1\u8a2d\u8a08\u5408\u9069\u7684\u56fa\u5b9a\u4ef6\u3002\u63a8\u85a6\u5c07\u52a0\u901f\u5ea6\u7684\u6e2c\u91cf\u8ef8\u8207\u5370\u8868\u6a5f\u57f7\u884c\u8ef8\u7684\u65b9\u5411\u9032\u884c\u5c0d\u9f4a\u3002\u7136\u800c\uff0c\u5982\u679c\u8ef8\u5c0d\u9f4a\u6975\u5176\u9ebb\u7169\uff0c\u53ef\u4ee5\u5c07\u5370\u8868\u6a5f\u7684\u8ef8\u4f7f\u7528\u5176\u4ed6\u6e2c\u91cf\u8ef8\u5c0d\u9f4a\uff0c\u6bd4\u5982\u5370\u8868\u6a5f+X\u5c0d\u61c9\u611f\u6e2c\u5668-X\uff0c\u751a\u81f3\u5370\u8868\u6a5f+X\u5c0d\u61c9\u611f\u6e2c\u5668-Z\u7b49\u3002 \u4e0b\u9762\u662fADXL345\u56fa\u5b9a\u5230SmartEffector\u7684\u793a\u4f8b\uff1a \u6ce8\u610f\uff0c\u6ed1\u5e8a\u5f0f\u5370\u8868\u6a5f\u9700\u8981\u8a2d\u8a08\u5169\u500b\u56fa\u5b9a\u4ef6\uff1a\u4e00\u500b\u5b89\u88dd\u4e8e\u5217\u5370\u982d\uff0c\u53e6\u4e00\u500b\u7528\u65bc\u71b1\u5e8a\uff0c\u4e26\u9032\u884c\u5169\u6b21\u6e2c\u91cf\u3002\u8a73\u898b \u5c0d\u61c9\u5206\u7bc0 \u3002 \u6ce8\u610f \uff1a\u52d9\u5fc5\u78ba\u4fdd\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u548c\u4efb\u4f55\u87ba\u7d72\u90fd\u4e0d\u61c9\u8a72\u63a5\u89f8\u5230\u5370\u8868\u6a5f\u7684\u91d1\u5c6c\u90e8\u5206\u3002\u7dca\u97cc\u9ad4\u5fc5\u9808\u8a2d\u8a08\u6210\u5728\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u548c\u5370\u8868\u6a5f\u6846\u9ad4\u9593\u5f62\u6210\u96fb\u6c23\u7d55\u7de3\u3002\u932f\u8aa4\u7684\u8a2d\u8a08\u53ef\u80fd\u6703\u5f62\u6210\u77ed\u8def\uff0c\u5f9e\u800c\u640d\u6bc0\u96fb\u6c23\u5143\u4ef6\u3002 \u8edf\u9ad4\u8a2d\u5b9a \u00b6 Note that resonance measurements and shaper auto-calibration require additional software dependencies not installed by default. First, run on your Raspberry Pi the following commands: sudo apt update sudo apt install python3-numpy python3-matplotlib libatlas-base-dev Next, in order to install NumPy in the Klipper environment, run the command: ~/klippy-env/bin/pip install -v numpy Note that, depending on the performance of the CPU, it may take a lot of time, up to 10-20 minutes. Be patient and wait for the completion of the installation. On some occasions, if the board has too little RAM the installation may fail and you will need to enable swap. \u4e4b\u5f8c\uff0c\u53c3\u8003 \u6a39\u8393\u6d3e\u4f5c\u70ba\u5fae\u63a7\u5236\u5668\u6587\u4ef6 \u7684\u6307\u5f15\u5b8c\u6210\u300cLINUX\u5fae\u8655\u7406\u5668\u300d\u7684\u8a2d\u5b9a\u3002 \u901a\u904e\u57f7\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u55ae\u4e2d\u555f\u7528 SPI \u4ee5\u78ba\u4fddLinux SPI \u9a45\u52d5\u5df2\u555f\u7528\u3002 For the ADXL345, add the following to the printer.cfg file: [mcu rpi] serial: /tmp/klipper_host_mcu [adxl345] cs_pin: rpi:None [resonance_tester] accel_chip: adxl345 probe_points: 100, 100, 20 # an example \u5efa\u8b70\u5728\u6e2c\u8a66\u958b\u59cb\u524d\uff0c\u7528\u63a2\u91dd\u5728\u71b1\u5e8a\u4e2d\u592e\u9032\u884c\u4e00\u6b21\u63a2\u6e2c\uff0c\u89f8\u767c\u540e\u7a0d\u5fae\u4e0a\u79fb\u3002 For the MPU-9250, make sure the Linux I2C driver is enabled and the baud rate is set to 400000 (see Enabling I2C section for more details). Then, add the following to the printer.cfg: [mcu rpi] serial: /tmp/klipper_host_mcu [mpu9250] i2c_mcu: rpi i2c_bus: i2c.1 [resonance_tester] accel_chip: mpu9250 probe_points: 100, 100, 20 # an example \u901a\u904e RESTART \u547d\u4ee4\u91cd\u555fKlipper\u3002 \u6e2c\u91cf\u5171\u632f\u503c \u00b6 \u6aa2\u67e5\u8a2d\u5b9a \u00b6 \u9996\u5148\u6e2c\u8a66\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u7684\u9023\u7dda\u3002 \u5c0d\u65bc\u53ea\u6709\u4e00\u500b\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u7684\u60c5\u6cc1\uff0c\u5728Octoprint\uff0c\u8f38\u5165 ACCELEROMETER_QUERY \uff08\u904d\u6b77\u5df2\u9023\u7dda\u7684\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\uff09 \u5c0d\u65bc\u300c\u6ed1\u52d5\u5e8a\u300d\uff08\u5373\u6709\u591a\u500b\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\uff09\uff0c\u8f38\u5165 ACCELEROMETER_QUERY CHIP=<chip> \uff0c\u5176\u4e2d <chip> \u662f\u8a2d\u5b9a\u6587\u4ef6\u4e2d\u7684\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u547d\u540d\uff0c\u4f8b\u5982 CHIP=bed (\u53c3\u898b\uff1a bed-slinger )\u3002 \u756b\u9762\u5c07\u8f38\u51fa\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u7684\u8b80\u503c\uff0c\u677f\u5b50\u81ea\u7531\u843d\u9ad4\u52a0\u901f\u5ea6\uff0c\u4f8b\u5982\uff1a Recv: // adxl345 values (x, y, z): 470.719200, 941.438400, 9728.196800 \u5982\u679c\u8f38\u51fa\u985e\u4f3c Invalid adxl345 id (got xx vs e5) \uff0c\u5176\u4e2d'xx'\u70bae5\u4ee5\u5916ID\uff0c\u9019\u8868\u793a\u51fa\u73fe\u9023\u7dda\u554f\u984c\uff08\u5982\uff0c\u9023\u7dda\u932f\u8aa4\u3001\u7dda\u7e9c\u96fb\u963b\u904e\u5927\u3001\u5e72\u64fe\u7b49\uff09\uff0c\u6216\u611f\u6e2c\u5668\u932f\u8aa4\uff08\u5982\uff0c\u6b98\u6b21\u611f\u6e2c\u5668 \u6216 \u932f\u8aa4\u7684\u611f\u6e2c\u5668\uff09\u3002\u8acb\u5728\u6b64\u6aa2\u67e5\u96fb\u6e90\uff0c\u63a5\u7dda\uff08\u518d\u4e09\u78ba\u5b9a\u63a5\u7dda\u6b63\u78ba\uff0c\u6c92\u6709\u7834\u640d\u3001\u9b06\u52d5\u7684\u96fb\u7dda\uff09\u6216\u710a\u63a5\u554f\u984c\u3002 \u4e0b\u4e00\u6b65\uff0c\u5728Octoprint\u4e2d\u8f38\u5165 MEASURE_AXES_NOISE \uff0c\u4e4b\u5f8c\u5c07\u6703\u986f\u793a\u5404\u500b\u8ef8\u7684\u57fa\u6e96\u6e2c\u91cf\u566a\u8072\uff08\u5176\u503c\u61c9\u57281-100\u4e4b\u9593\uff09\u3002\u5982\u679c\u8ef8\u7684\u566a\u8072\u6975\u9ad8\uff08\u4f8b\u5982 1000 \u6216\u66f4\u9ad8\uff09\u53ef\u80fd\u610f\u5473\u84573D\u5370\u8868\u6a5f\u4e0a\u5b58\u5728\u611f\u6e2c\u5668\u554f\u984c\u3001\u96fb\u6e90\u554f\u984c\u6216\u4e0d\u5e73\u8861\u7684\u98a8\u6247\u3002 \u6e2c\u91cf\u5171\u632f\u503c \u00b6 \u73fe\u5728\u53ef\u4ee5\u57f7\u884c\u9032\u884c\u5be6\u6e2c\u3002\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4: TEST_RESONANCES AXIS=X \u6ce8\u610f\uff0c\u9019\u5c07\u5728X\u8ef8\u4e0a\u7522\u751f\u632f\u52d5\u3002\u5982\u679c\u4e4b\u524d\u555f\u7528\u4e86\u8f38\u5165\u6574\u5f62\uff0c\u5b83\u4e5f\u5c07\u7981\u7528\u8f38\u5165\u6574\u5f62\uff0c\u56e0\u70ba\u5728\u555f\u7528\u8f38\u5165\u6574\u5f62\u7684\u60c5\u6cc1\u4e0b\u57f7\u884c\u5171\u632f\u6e2c\u8a66\u662f\u7121\u6548\u7684\u3002 \u6ce8\u610f\uff01 \u8acb\u78ba\u4fdd\u7b2c\u4e00\u6b21\u57f7\u884c\u6642\u6642\u523b\u89c0\u5bdf\u5370\u8868\u6a5f\uff0c\u4ee5\u78ba\u4fdd\u632f\u52d5\u4e0d\u6703\u592a\u5287\u70c8\uff08 M112 \u547d\u4ee4\u53ef\u4ee5\u5728\u7dca\u6025\u60c5\u6cc1\u4e0b\u4e2d\u6b62\u6e2c\u8a66\uff1b\u4f46\u9858\u4e0d\u6703\u5230\u9019\u4e00\u6b65\uff09\u3002\u5982\u679c\u632f\u52d5\u78ba\u5be6\u592a\u5f37\u70c8\uff0c\u4f60\u53ef\u4ee5\u5617\u8a66\u5728 [Resonance_tester] \u5206\u6bb5\u4e2d\u70ba accel_per_hz \u53c3\u6578\u6307\u5b9a\u4e00\u500b\u4f4e\u65bc\u9810\u8a2d\u503c\u7684\u503c\uff0c\u4f8b\u5982: [resonance_tester] accel_chip: adxl345 accel_per_hz: 50 # default is 75 probe_points: ... \u5982\u679c\u5b83\u9069\u7528\u65bc X \u8ef8\uff0c\u5247\u4e5f\u53ef\u4ee5\u70ba Y \u8ef8\u57f7\u884c\uff1a TEST_RESONANCES AXIS=Y \u9019\u5c07\u751f\u6210 2 \u500b CSV \u6587\u4ef6\uff08 /tmp/resonances_x_*.csv \u548c /tmp/resonances_y_*.csv \uff09\u3002\u53ef\u4ee5\u4f7f\u7528 Raspberry Pi \u4e0a\u7684\u7368\u7acb\u8173\u672c\u8655\u7406\u9019\u4e9b\u6587\u4ef6\u3002\u70ba\u6b64\uff0c\u8acb\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_y_*.csv -o /tmp/shaper_calibrate_y.png \u8a72\u8173\u672c\u5c07\u751f\u6210\u5e36\u6709\u983b\u7387\u97ff\u61c9\u7684\u5716\u8868 /tmp/shaper_calibrate_x.png \u548c /tmp/shaper_calibrate_y.png \u3002\u60a8\u9084\u5c07\u7372\u5f97\u6bcf\u500b\u8f38\u5165\u6574\u5f62\u5668\u7684\u5efa\u8b70\u983b\u7387\uff0c\u4ee5\u53ca\u70ba\u60a8\u7684\u8a2d\u7f6e\u63a8\u85a6\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff1a Fitted shaper 'zv' frequency = 34.4 Hz (vibrations = 4.0%, smoothing ~= 0.132) To avoid too much smoothing with 'zv', suggested max_accel <= 4500 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 0.0%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 41.4 Hz (vibrations = 0.0%, smoothing ~= 0.188) To avoid too much smoothing with 'ei', suggested max_accel <= 3200 mm/sec^2 Fitted shaper '2hump_ei' frequency = 51.8 Hz (vibrations = 0.0%, smoothing ~= 0.201) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 61.8 Hz (vibrations = 0.0%, smoothing ~= 0.215) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2800 mm/sec^2 Recommended shaper is mzv @ 34.6 Hz \u5efa\u8b70\u7684\u914d\u7f6e\u53ef\u4ee5\u6dfb\u52a0\u5230 printer.cfg \u7684 [input_shaper] \u90e8\u5206\uff0c\u4f8b\u5982\uff1a [input_shaper] shaper_freq_x: ... shaper_type_x: ... shaper_freq_y: 34.6 shaper_type_y: mzv [printer] max_accel: 3000 # should not exceed the estimated max_accel for X and Y axes \u6216\u8005\u60a8\u53ef\u4ee5\u6839\u64da\u751f\u6210\u7684\u5716\u8868\u81ea\u884c\u9078\u64c7\u5176\u4ed6\u914d\u7f6e\uff1a\u5716\u8868\u4e0a\u529f\u7387\u8b5c\u5bc6\u5ea6\u7684\u5cf0\u503c\u5c0d\u61c9\u65bc\u6253\u5370\u6a5f\u7684\u5171\u632f\u983b\u7387\u3002 \u8acb\u6ce8\u610f\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5f9e Klipper \u76f4\u63a5 \u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u81ea\u52d5\u6821\u6e96\uff0c\u4f8b\u5982\uff0c\u5c0d\u65bc\u8f38\u5165\u6574\u5f62\u5668 [re-calibration](#input-shaper-re -\u6821\u6e96\uff09\u3002 Bed-slinger\u6253\u5370\u6a5f \u00b6 \u5982\u679c\u60a8\u7684\u6253\u5370\u6a5f\u662f\u62cb\u5e8a\u6253\u5370\u6a5f\uff0c\u60a8\u5c07\u9700\u8981\u5728 X \u8ef8\u548c Y \u8ef8\u6e2c\u91cf\u503c\u4e4b\u9593\u66f4\u6539\u52a0\u901f\u5ea6\u8a08\u7684\u4f4d\u7f6e\uff1a\u7528\u9023\u63a5\u5230\u5de5\u5177\u982d\u7684\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf X \u8ef8\u7684\u5171\u632f\u548c Y \u8ef8\u7684\u5171\u632f - \u5230\u5e8a\uff08\u901a\u5e38\u7684\u5e8a\u540a\u5177\u8a2d\u7f6e\uff09\u3002 \u4f46\u662f\uff0c\u60a8\u4e5f\u53ef\u4ee5\u540c\u6642\u9023\u63a5\u5169\u500b\u52a0\u901f\u5ea6\u8a08\uff0c\u5118\u7ba1\u5b83\u5011\u5fc5\u9808\u9023\u63a5\u5230\u4e0d\u540c\u7684\u677f\uff08\u4f8b\u5982\uff0c\u9023\u63a5\u5230 RPi \u548c\u6253\u5370\u6a5f MCU \u677f\uff09\uff0c\u6216\u8005\u9023\u63a5\u5230\u540c\u4e00\u677f\u4e0a\u7684\u5169\u500b\u4e0d\u540c\u7684\u7269\u7406 SPI \u63a5\u53e3\uff08\u5f88\u5c11\u53ef\u7528\uff09\u3002\u7136\u5f8c\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u65b9\u5f0f\u914d\u7f6e\u5b83\u5011\uff1a [adxl345 hotend] # Assuming `hotend` chip is connected to an RPi cs_pin: rpi:None [adxl345 bed] # Assuming `bed` chip is connected to a printer MCU board cs_pin: ... # Printer board SPI chip select (CS) pin [resonance_tester] # Assuming the typical setup of the bed slinger printer accel_chip_x: adxl345 hotend accel_chip_y: adxl345 bed probe_points: ... \u7136\u5f8c\u547d\u4ee4 TEST_RESONANCES AXIS=X \u548c TEST_RESONANCES AXIS=Y \u5c07\u70ba\u6bcf\u500b\u8ef8\u4f7f\u7528\u6b63\u78ba\u7684\u52a0\u901f\u5ea6\u8a08\u3002 \u6700\u5927\u5e73\u6ed1\u5ea6 \u00b6 \u8acb\u8a18\u4f4f\uff0c\u8f38\u5165\u6574\u5f62\u5668\u53ef\u4ee5\u5728\u90e8\u5206\u4e2d\u5275\u5efa\u4e00\u4e9b\u5e73\u6ed1\u3002\u7531 calibrate_shaper.py \u8173\u672c\u6216 SHAPER_CALIBRATE \u547d\u4ee4\u57f7\u884c\u7684\u8f38\u5165\u6574\u5f62\u5668\u7684\u81ea\u52d5\u8abf\u6574\u8a66\u5716\u4e0d\u52a0\u5287\u5e73\u6ed1\uff0c\u4f46\u540c\u6642\u5b83\u5011\u8a66\u5716\u6700\u5c0f\u5316\u7522\u751f\u7684\u632f\u52d5\u3002\u6709\u6642\u4ed6\u5011\u53ef\u4ee5\u5c0d\u6574\u5f62\u5668\u983b\u7387\u505a\u51fa\u6b21\u512a\u9078\u64c7\uff0c\u6216\u8005\u60a8\u53ef\u80fd\u53ea\u662f\u5e0c\u671b\u4ee5\u8f03\u5927\u7684\u5269\u4f59\u632f\u52d5\u70ba\u4ee3\u50f9\u4f86\u6e1b\u5c11\u96f6\u4ef6\u7684\u5e73\u6ed1\u5ea6\u3002\u5728\u9019\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u60a8\u53ef\u4ee5\u8acb\u6c42\u9650\u5236\u8f38\u5165\u6574\u5f62\u5668\u7684\u6700\u5927\u5e73\u6ed1\u3002 \u8b93\u6211\u5011\u8003\u616e\u4ee5\u4e0b\u81ea\u52d5\u8abf\u6574\u7684\u7d50\u679c\uff1a Fitted shaper 'zv' frequency = 57.8 Hz (vibrations = 20.3%, smoothing ~= 0.053) To avoid too much smoothing with 'zv', suggested max_accel <= 13000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.8 Hz (vibrations = 3.6%, smoothing ~= 0.168) To avoid too much smoothing with 'mzv', suggested max_accel <= 3600 mm/sec^2 Fitted shaper 'ei' frequency = 48.8 Hz (vibrations = 4.9%, smoothing ~= 0.135) To avoid too much smoothing with 'ei', suggested max_accel <= 4400 mm/sec^2 Fitted shaper '2hump_ei' frequency = 45.2 Hz (vibrations = 0.1%, smoothing ~= 0.264) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2200 mm/sec^2 Fitted shaper '3hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.356) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 1500 mm/sec^2 Recommended shaper is 2hump_ei @ 45.2 Hz \u8acb\u6ce8\u610f\uff0c\u5831\u544a\u7684\u201c\u5e73\u6ed1\u201d\u503c\u662f\u4e00\u4e9b\u62bd\u8c61\u7684\u6295\u5f71\u503c\u3002\u9019\u4e9b\u503c\u53ef\u7528\u65bc\u6bd4\u8f03\u4e0d\u540c\u7684\u914d\u7f6e\uff1a\u503c\u8d8a\u9ad8\uff0c\u6574\u5f62\u5668\u5c07\u5275\u5efa\u7684\u5e73\u6ed1\u5ea6\u8d8a\u9ad8\u3002\u7136\u800c\uff0c\u9019\u4e9b\u5e73\u6ed1\u5206\u6578\u4e26\u4e0d\u4ee3\u8868\u4efb\u4f55\u771f\u6b63\u7684\u5e73\u6ed1\u5ea6\u91cf\uff0c\u56e0\u70ba\u5be6\u969b\u7684\u5e73\u6ed1\u53d6\u6c7a\u65bc max_accel \u548c square_corner_velocity \u53c3\u6578\u3002\u56e0\u6b64\uff0c\u60a8\u61c9\u8a72\u6253\u5370\u4e00\u4e9b\u6e2c\u8a66\u6253\u5370\uff0c\u4ee5\u67e5\u770b\u6240\u9078\u914d\u7f6e\u5275\u5efa\u7684\u5e73\u6ed1\u7a0b\u5ea6\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5efa\u8b70\u7684 shaper \u53c3\u6578\u9084\u4e0d\u932f\uff0c\u4f46\u662f\u5982\u679c\u60a8\u60f3\u5728 X \u8ef8\u4e0a\u7372\u5f97\u66f4\u5c11\u7684\u5e73\u6ed1\u5ea6\u600e\u9ebc\u8fa6\uff1f\u60a8\u53ef\u4ee5\u5617\u8a66\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u9650\u5236\u6700\u5927\u6574\u5f62\u5668\u5e73\u6ed1\uff1a ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png --max_smoothing=0.2 \u9019\u5c07\u5e73\u6ed1\u9650\u5236\u70ba 0.2 \u5206\u3002\u73fe\u5728\u60a8\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7d50\u679c\uff1a Fitted shaper 'zv' frequency = 55.4 Hz (vibrations = 19.7%, smoothing ~= 0.057) To avoid too much smoothing with 'zv', suggested max_accel <= 12000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 3.6%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 48.2 Hz (vibrations = 4.8%, smoothing ~= 0.139) To avoid too much smoothing with 'ei', suggested max_accel <= 4300 mm/sec^2 Fitted shaper '2hump_ei' frequency = 52.0 Hz (vibrations = 2.7%, smoothing ~= 0.200) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 72.6 Hz (vibrations = 1.4%, smoothing ~= 0.155) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 3900 mm/sec^2 Recommended shaper is 3hump_ei @ 72.6 Hz \u5982\u679c\u8207\u4e4b\u524d\u5efa\u8b70\u7684\u53c3\u6578\u9032\u884c\u6bd4\u8f03\uff0c\u632f\u52d5\u6703\u66f4\u5927\u4e00\u4e9b\uff0c\u4f46\u5e73\u6ed1\u5ea6\u6bd4\u4e4b\u524d\u8981\u5c0f\u5f97\u591a\uff0c\u5f9e\u800c\u5141\u8a31\u66f4\u5927\u7684\u6700\u5927\u52a0\u901f\u5ea6\u3002 \u5728\u6c7a\u5b9a\u9078\u64c7\u54ea\u500b max_smoothing \u53c3\u6578\u6642\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8a66\u932f\u6cd5\u3002\u5617\u8a66\u5e7e\u500b\u4e0d\u540c\u7684\u503c\uff0c\u770b\u770b\u4f60\u6703\u5f97\u5230\u4ec0\u9ebc\u7d50\u679c\u3002\u8acb\u6ce8\u610f\uff0c\u8f38\u5165\u6574\u5f62\u5668\u7522\u751f\u7684\u5be6\u969b\u5e73\u6ed1\u4e3b\u8981\u53d6\u6c7a\u65bc\u6253\u5370\u6a5f\u7684\u6700\u4f4e\u8ae7\u632f\u983b\u7387\uff1a\u6700\u4f4e\u8ae7\u632f\u983b\u7387\u8d8a\u9ad8 - \u5e73\u6ed1\u8d8a\u5c0f\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u8981\u6c42\u8173\u672c\u627e\u5230\u5177\u6709\u4e0d\u5207\u5be6\u969b\u7684\u5c0f\u5e73\u6ed1\u7684\u8f38\u5165\u6574\u5f62\u5668\u7684\u914d\u7f6e\uff0c\u5247\u5c07\u4ee5\u589e\u52a0\u6700\u4f4e\u5171\u632f\u983b\u7387\u8655\u7684\u632f\u9234\u70ba\u4ee3\u50f9\uff08\u901a\u5e38\u5728\u5370\u5237\u54c1\u4e2d\u4e5f\u66f4\u660e\u986f\u53ef\u898b\uff09\u3002\u56e0\u6b64\uff0c\u8acb\u52d9\u5fc5\u4ed4\u7d30\u6aa2\u67e5\u8173\u672c\u5831\u544a\u7684\u9810\u8a08\u5269\u4f59\u632f\u52d5\uff0c\u4e26\u78ba\u4fdd\u5b83\u5011\u4e0d\u6703\u592a\u9ad8\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u70ba\u5169\u500b\u8ef8\u90fd\u9078\u64c7\u4e86\u4e00\u500b\u597d\u7684 max_smoothing \u503c\uff0c\u5247\u53ef\u4ee5\u5c07\u5176\u5b58\u5132\u5728 printer.cfg \u4e2d [resonance_tester] accel_chip: ... probe_points: ... max_smoothing: 0.25 # an example \u7136\u5f8c\uff0c\u5982\u679c\u60a8\u5c07\u4f86\u4f7f\u7528 SHAPER_CALIBRATE Klipper \u547d\u4ee4 \u91cd\u65b0\u904b\u884c \u8f38\u5165\u6574\u5f62\u5668\u81ea\u52d5\u8abf\u6574\uff0c\u5b83\u5c07\u4f7f\u7528\u5b58\u5132\u7684 max_smoothing \u503c\u4f5c\u70ba\u53c3\u8003\u3002 \u9078\u64c7 max_accel \u00b6 \u7531\u65bc\u8f38\u5165\u6574\u5f62\u5668\u53ef\u4ee5\u5728\u96f6\u4ef6\u4e2d\u5275\u5efa\u4e00\u4e9b\u5e73\u6ed1\uff0c\u5c24\u5176\u662f\u5728\u9ad8\u52a0\u901f\u5ea6\u6642\uff0c\u60a8\u4ecd\u7136\u9700\u8981\u9078\u64c7\u4e0d\u6703\u5728\u6253\u5370\u96f6\u4ef6\u4e2d\u5275\u5efa\u592a\u591a\u5e73\u6ed1\u7684\u201cmax_accel\u201d\u503c\u3002\u6821\u6e96\u8173\u672c\u63d0\u4f9b\u4e86\u201cmax_accel\u201d\u53c3\u6578\u7684\u4f30\u8a08\u503c\uff0c\u8a72\u53c3\u6578\u4e0d\u61c9\u7522\u751f\u904e\u591a\u7684\u5e73\u6ed1\u3002\u8acb\u6ce8\u610f\uff0c\u6821\u6e96\u8173\u672c\u986f\u793a\u7684\u201cmax_accel\u201d\u53ea\u662f\u7406\u8ad6\u4e0a\u7684\u6700\u5927\u503c\uff0c\u5728\u8a72\u6700\u5927\u503c\u6642\uff0c\u5404\u500b\u6574\u5f62\u5668\u4ecd\u7136\u80fd\u5920\u5de5\u4f5c\u800c\u4e0d\u6703\u7522\u751f\u904e\u591a\u7684\u5e73\u6ed1\u3002\u7d55\u5c0d\u4e0d\u5efa\u8b70\u70ba\u6253\u5370\u8a2d\u7f6e\u6b64\u52a0\u901f\u3002\u60a8\u7684\u6253\u5370\u6a5f\u80fd\u5920\u627f\u53d7\u7684\u6700\u5927\u52a0\u901f\u5ea6\u53d6\u6c7a\u65bc\u5176\u6a5f\u68b0\u6027\u80fd\u548c\u6240\u7528\u6b65\u9032\u96fb\u6a5f\u7684\u6700\u5927\u626d\u77e9\u3002\u56e0\u6b64\uff0c\u5efa\u8b70\u5728 [printer] \u90e8\u5206\u8a2d\u7f6e\u4e0d\u8d85\u904e X \u548c Y \u8ef8\u7684\u4f30\u8a08\u503c\u7684 max_accel \uff0c\u53ef\u80fd\u6709\u4e00\u4e9b\u4fdd\u5b88\u7684\u5b89\u5168\u9918\u91cf\u3002 \u6216\u8005\uff0c\u6309\u7167\u8f38\u5165\u6574\u5f62\u5668\u8abf\u6574\u6307\u5357\u7684 this \u90e8\u5206\u4e26\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u4ee5\u5be6\u9a57\u6027\u5730\u9078\u64c7\u201cmax_accel\u201d\u53c3\u6578\u3002 \u76f8\u540c\u7684\u6ce8\u610f\u4e8b\u9805\u9069\u7528\u65bc\u4f7f\u7528 SHAPER_CALIBRATE \u547d\u4ee4\u7684\u8f38\u5165\u6574\u5f62\u5668 auto-calibration \uff1a\u81ea\u52d5\u6821\u51c6\u5f8c\u4ecd\u7136\u9700\u8981\u9078\u64c7\u6b63\u78ba\u7684 max_accel \u503c\uff0c\u5efa\u8b70\u52a0\u901f\u5ea6\u9650\u5236\u4e0d\u6703\u81ea\u52d5\u61c9\u7528\u3002 \u5982\u679c\u60a8\u6b63\u5728\u91cd\u65b0\u6821\u6e96\u6574\u5f62\u5668\uff0c\u4e26\u4e14\u5efa\u8b70\u7684\u6574\u5f62\u5668\u914d\u7f6e\u5831\u544a\u7684\u5e73\u6ed1\u5ea6\u8207\u60a8\u5728\u4e4b\u524d\u6821\u6e96\u671f\u9593\u5f97\u5230\u7684\u5e7e\u4e4e\u76f8\u540c\uff0c\u5247\u53ef\u4ee5\u8df3\u904e\u6b64\u6b65\u9a5f\u3002 \u6e2c\u8a66\u81ea\u5b9a\u7fa9\u8ef8 \u00b6 TEST_RESONANCES \u547d\u4ee4\u652f\u6301\u81ea\u5b9a\u7fa9\u8ef8\u3002\u96d6\u7136\u9019\u5c0d\u65bc\u8f38\u5165\u6574\u5f62\u5668\u6821\u6e96\u4e26\u4e0d\u662f\u5f88\u6709\u7528\uff0c\u4f46\u5b83\u53ef\u7528\u65bc\u6df1\u5165\u7814\u7a76\u6253\u5370\u6a5f\u5171\u632f\u4e26\u6aa2\u67e5\u76ae\u5e36\u5f35\u529b\u7b49\u3002 \u8981\u6aa2\u67e5 CoreXY \u6253\u5370\u6a5f\u4e0a\u7684\u76ae\u5e36\u5f35\u529b\uff0c\u8acb\u57f7\u884c TEST_RESONANCES AXIS=1,1 OUTPUT=raw_data TEST_RESONANCES AXIS=1,-1 OUTPUT=raw_data \u4e26\u4f7f\u7528 graph_accelerometer.py \u8655\u7406\u751f\u6210\u7684\u6587\u4ef6\uff0c\u4f8b\u5982 ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u7522\u751f /tmp/resonances.png \uff0c\u5c0d\u6bd4\u5171\u632f\u7684\u6578\u64da\u3002 \u5c0d\u6a19\u6e96\u69cb\u578b\u7684\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\uff08A\u5854210\u00b0\uff0cB\u5854330\u00b0\uff0cC\u5854~90\u00b0\uff09\uff0c\u57f7\u884c TEST_RESONANCES AXIS=0,1 OUTPUT=raw_data TEST_RESONANCES AXIS=-0.866025404,-0.5 OUTPUT=raw_data TEST_RESONANCES AXIS=0.866025404,-0.5 OUTPUT=raw_data \u7136\u5f8c\u4f7f\u7528\u540c\u6a23\u7684\u547d\u4ee4 ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u7522\u751f /tmp/resonances.png \uff0c\u5c0d\u6bd4\u5171\u632f\u7684\u6578\u64da\u3002 \u8f38\u5165\u6574\u5f62\u5668\u81ea\u52d5\u6821\u6e96 \u00b6 \u9664\u4e86\u70ba\u8f38\u5165\u6574\u5f62\u5668\u529f\u80fd\u624b\u52d5\u9078\u64c7\u9069\u7576\u7684\u53c3\u6578\u5916\uff0c\u9084\u53ef\u4ee5\u76f4\u63a5\u5f9e Klipper \u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u7684\u81ea\u52d5\u8abf\u6574\u3002\u901a\u904e Octoprint \u7d42\u7aef\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a SHAPER_CALIBRATE \u9019\u5c07\u70ba\u5169\u500b\u8ef8\u904b\u884c\u5b8c\u6574\u6e2c\u8a66\uff0c\u4e26\u70ba\u983b\u7387\u97ff\u61c9\u548c\u5efa\u8b70\u7684\u8f38\u5165\u6574\u5f62\u5668\u751f\u6210 csv \u8f38\u51fa\uff08\u9ed8\u8a8d\u70ba /tmp/calibration_data_*.csv \uff09\u3002\u60a8\u9084\u5c07\u5728 Octoprint \u63a7\u5236\u53f0\u4e0a\u7372\u5f97\u6bcf\u500b\u8f38\u5165\u6574\u5f62\u5668\u7684\u5efa\u8b70\u983b\u7387\uff0c\u4ee5\u53ca\u70ba\u60a8\u7684\u8a2d\u7f6e\u63a8\u85a6\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff1a Calculating the best input shaper parameters for y axis # \u6b63\u5728\u8a08\u7b97y\u8ef8\u7684\u6700\u4f73\u8f38\u5165\u6574\u5f62\u53c3\u6578 Fitted shaper 'zv' frequency = 39.0 Hz (vibrations = 13.2%, smoothing ~= 0.105) # \u64ec\u5408\u6574\u5f62\u300czv\u300d To avoid too much smoothing with 'zv', suggested max_accel <= 5900 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300czv\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=5900 mm/sec^2 Fitted shaper 'mzv' frequency = 36.8 Hz (vibrations = 1.7%, smoothing ~= 0.150) # \u64ec\u5408\u6574\u5f62\u300cmzv\u300d To avoid too much smoothing with 'mzv', suggested max_accel <= 4000 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300cmzv\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=4000 mm/sec^2 Fitted shaper 'ei' frequency = 36.6 Hz (vibrations = 2.2%, smoothing ~= 0.240) # \u64ec\u5408\u6574\u5f62\u300cei\u300d To avoid too much smoothing with 'ei', suggested max_accel <= 2500 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300cei\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '2hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.234) # \u64ec\u5408\u6574\u5f62\u300c2hump_ei\u300d To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300c2hump_ei\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '3hump_ei' frequency = 59.0 Hz (vibrations = 0.0%, smoothing ~= 0.235) # \u64ec\u5408\u6574\u5f62\u300c3hump_ei\u300d To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300c3hump_ei\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Recommended shaper_type_y = mzv, shaper_freq_y = 36.8 Hz # \u5efa\u8b70shaper_type_y = mzv, shaper_freq_y = 36.8 Hz \u5982\u679c\u60a8\u540c\u610f\u5efa\u8b70\u7684\u53c3\u6578\uff0c\u60a8\u73fe\u5728\u53ef\u4ee5\u57f7\u884c SAVE_CONFIG \u4f86\u4fdd\u5b58\u5b83\u5011\u4e26\u91cd\u65b0\u555f\u52d5 Klipper\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u4e0d\u6703\u66f4\u65b0 [printer] \u90e8\u5206\u4e2d\u7684 max_accel \u503c\u3002\u60a8\u61c9\u8a72\u6309\u7167 Selecting max_accel \u90e8\u5206\u4e2d\u7684\u6ce8\u610f\u4e8b\u9805\u624b\u52d5\u66f4\u65b0\u5b83\u3002 \u5982\u679c\u60a8\u7684\u6253\u5370\u6a5f\u662f\u62cb\u5e8a\u6253\u5370\u6a5f\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u8981\u6e2c\u8a66\u7684\u8ef8\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5728\u6e2c\u8a66\u4e4b\u9593\u66f4\u6539\u52a0\u901f\u5ea6\u8a08\u5b89\u88dd\u9ede\uff08\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u5169\u500b\u8ef8\u90fd\u57f7\u884c\u6e2c\u8a66\uff09\uff1a SHAPER_CALIBRATE AXIS=Y \u60a8\u53ef\u4ee5\u5728\u6821\u6e96\u6bcf\u500b\u8ef8\u4e4b\u5f8c\u57f7\u884c\u5169\u6b21\u201cSAVE_CONFIG\u201d\u3002 \u4f46\u662f\uff0c\u5982\u679c\u60a8\u540c\u6642\u9023\u63a5\u5169\u500b\u52a0\u901f\u5ea6\u8a08\uff0c\u60a8\u53ea\u9700\u904b\u884c\u201cSHAPER_CALIBRATE\u201d\uff0c\u800c\u7121\u9700\u6307\u5b9a\u4e00\u500b\u8ef8\u4f86\u4e00\u6b21\u6027\u6821\u6e96\u5169\u500b\u8ef8\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002 \u8f38\u5165\u6574\u5f62\u5668\u91cd\u65b0\u6821\u6e96 \u00b6 SHAPER_CALIBRATE \u547d\u4ee4\u4e5f\u53ef\u7528\u65bc\u5c07\u4f86\u91cd\u65b0\u6821\u6e96\u8f38\u5165\u6574\u5f62\u5668\uff0c\u5c24\u5176\u662f\u5728\u5c0d\u6253\u5370\u6a5f\u9032\u884c\u4e00\u4e9b\u53ef\u80fd\u5f71\u97ff\u5176\u904b\u52d5\u5b78\u7684\u66f4\u6539\u6642\u3002\u53ef\u4ee5\u4f7f\u7528\u201cSHAPER_CALIBRATE\u201d\u547d\u4ee4\u91cd\u65b0\u904b\u884c\u5b8c\u6574\u6821\u6e96\uff0c\u6216\u8005\u901a\u904e\u63d0\u4f9b\u201cAXIS=\u201d\u53c3\u6578\u5c07\u81ea\u52d5\u6821\u6e96\u9650\u5236\u5728\u55ae\u500b\u8ef8\u4e0a\uff0c\u4f8b\u5982 SHAPER_CALIBRATE AXIS=X \u8b66\u544a\uff01 \u4e0d\u5efa\u8b70\u975e\u5e38\u983b\u7e41\u5730\u904b\u884c\u6210\u578b\u6a5f\u81ea\u52d5\u6821\u6e96\uff08\u4f8b\u5982\uff0c\u5728\u6bcf\u6b21\u6253\u5370\u4e4b\u524d\u6216\u6bcf\u5929\uff09\u3002\u70ba\u4e86\u78ba\u5b9a\u5171\u632f\u983b\u7387\uff0c\u81ea\u52d5\u6821\u6e96\u6703\u5728\u6bcf\u500b\u8ef8\u4e0a\u7522\u751f\u5f37\u70c8\u7684\u632f\u52d5\u3002\u901a\u5e38\uff0c3D \u6253\u5370\u6a5f\u7684\u8a2d\u8a08\u4e0d\u80fd\u627f\u53d7\u9577\u6642\u9593\u66b4\u9732\u65bc\u5171\u632f\u983b\u7387\u9644\u8fd1\u7684\u632f\u52d5\u3002\u9019\u6a23\u505a\u53ef\u80fd\u6703\u589e\u52a0\u6253\u5370\u6a5f\u7d44\u4ef6\u7684\u78e8\u640d\u4e26\u7e2e\u77ed\u5176\u4f7f\u7528\u58fd\u547d\u3002\u67d0\u4e9b\u96f6\u4ef6\u64f0\u9b06\u6216\u9b06\u52d5\u7684\u98a8\u96aa\u4e5f\u6703\u589e\u52a0\u3002\u6bcf\u6b21\u81ea\u52d5\u8abf\u6574\u5f8c\uff0c\u8acb\u52d9\u5fc5\u6aa2\u67e5\u6253\u5370\u6a5f\u7684\u6240\u6709\u90e8\u4ef6\uff08\u5305\u62ec\u901a\u5e38\u4e0d\u6703\u79fb\u52d5\u7684\u90e8\u4ef6\uff09\u662f\u5426\u7262\u56fa\u5730\u56fa\u5b9a\u5230\u4f4d\u3002 \u6b64\u5916\uff0c\u7531\u65bc\u6e2c\u91cf\u4e2d\u7684\u4e00\u4e9b\u566a\u8072\uff0c\u8abf\u8ae7\u7d50\u679c\u53ef\u80fd\u6703\u5f9e\u4e00\u6b21\u6821\u6e96\u904b\u884c\u5230\u53e6\u4e00\u6b21\u6821\u6e96\u904b\u884c\u7565\u6709\u4e0d\u540c\u3002\u4e0d\u904e\uff0c\u9810\u8a08\u566a\u97f3\u4e0d\u6703\u5c0d\u6253\u5370\u8cea\u91cf\u7522\u751f\u592a\u5927\u5f71\u97ff\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u5efa\u8b70\u4ed4\u7d30\u6aa2\u67e5\u5efa\u8b70\u7684\u53c3\u6578\uff0c\u4e26\u5728\u4f7f\u7528\u524d\u6253\u5370\u4e00\u4e9b\u6e2c\u8a66\u6253\u5370\u4ee5\u78ba\u8a8d\u5b83\u5011\u662f\u597d\u7684\u3002 \u52a0\u901f\u5ea6\u8a08\u6578\u64da\u7684\u96e2\u7dda\u8655\u7406 \u00b6 \u53ef\u4ee5\u751f\u6210\u539f\u59cb\u52a0\u901f\u5ea6\u8a08\u6578\u64da\u4e26\u96e2\u7dda\u8655\u7406\uff08\u4f8b\u5982\u5728\u4e3b\u6a5f\u4e0a\uff09\uff0c\u4f8b\u5982\u5c0b\u627e\u5171\u632f\u3002\u70ba\u6b64\uff0c\u8acb\u901a\u904e Octoprint \u7d42\u7aef\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 TEST_RESONANCES AXIS=X OUTPUT=raw_data \u5ffd\u7565 SET_INPUT_SHAPER \u547d\u4ee4\u7684\u4efb\u4f55\u932f\u8aa4\u3002\u5c0d\u65bc TEST_RESONANCES \u547d\u4ee4\uff0c\u6307\u5b9a\u6240\u9700\u7684\u6e2c\u8a66\u8ef8\u3002\u539f\u59cb\u6578\u64da\u5c07\u88ab\u5beb\u5165 RPi \u4e0a\u7684 /tmp \u76ee\u9304\u3002 \u539f\u59cb\u6578\u64da\u4e5f\u53ef\u4ee5\u901a\u904e\u5728\u4e00\u4e9b\u6b63\u5e38\u7684\u6253\u5370\u6a5f\u6d3b\u52d5\u671f\u9593\u904b\u884c\u547d\u4ee4\u201cACCELEROMETER_MEASURE\u201d\u547d\u4ee4\u5169\u6b21\u4f86\u7372\u5f97 - \u9996\u5148\u958b\u59cb\u6e2c\u91cf\uff0c\u7136\u5f8c\u505c\u6b62\u6e2c\u91cf\u4e26\u5beb\u5165\u8f38\u51fa\u6587\u4ef6\u3002\u8a73\u60c5\u8acb\u53c3\u95b1 G-Codes \u7a0d\u5f8c\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u8173\u672c\u8655\u7406\u6578\u64da\uff1a scripts/graph_accelerometer.py \u548c scripts/calibrate_shaper.py \u3002\u6839\u64da\u6a21\u5f0f\uff0c\u5b83\u5011\u90fd\u63a5\u53d7\u4e00\u500b\u6216\u591a\u500b\u539f\u59cb csv \u6587\u4ef6\u4f5c\u70ba\u8f38\u5165\u3002 graph_accelerometer.py \u8173\u672c\u652f\u6301\u591a\u7a2e\u64cd\u4f5c\u6a21\u5f0f\uff1a \u7e6a\u88fd\u539f\u59cb\u52a0\u901f\u5ea6\u8a08\u6578\u64da\uff08\u4f7f\u7528 -r \u53c3\u6578\uff09\uff0c\u50c5\u652f\u6301 1 \u500b\u8f38\u5165; \u7e6a\u88fd\u983b\u7387\u97ff\u61c9\uff08\u4e0d\u9700\u8981\u984d\u5916\u7684\u53c3\u6578\uff09\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u591a\u500b\u8f38\u5165\uff0c\u5247\u8a08\u7b97\u5e73\u5747\u983b\u7387\u97ff\u61c9\uff1b \u6bd4\u8f03\u5e7e\u500b\u8f38\u5165\u4e4b\u9593\u7684\u983b\u7387\u97ff\u61c9\uff08\u4f7f\u7528\u201c-c\u201d\u53c3\u6578\uff09\uff1b\u60a8\u9084\u53ef\u4ee5\u901a\u904e\u201c-a x\u201d\u3001\u201c-a y\u201d\u6216\u201c-a z\u201d\u53c3\u6578\u6307\u5b9a\u8981\u8003\u616e\u7684\u52a0\u901f\u5ea6\u8a08\u8ef8\uff08\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5247\u4f7f\u7528\u6240\u6709\u8ef8\u7684\u632f\u52d5\u7e3d\u548c\uff09\uff1b \u7e6a\u88fd\u983b\u8b5c\u5716\uff08\u4f7f\u7528 -s \u53c3\u6578\uff09\uff0c\u50c5\u652f\u6301 1 \u500b\u8f38\u5165\uff1b\u60a8\u9084\u53ef\u4ee5\u901a\u904e\u201c-a x\u201d\u3001\u201c-a y\u201d\u6216\u201c-a z\u201d\u53c3\u6578\u6307\u5b9a\u8981\u8003\u616e\u7684\u52a0\u901f\u5ea6\u8a08\u8ef8\uff08\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5247\u4f7f\u7528\u6240\u6709\u8ef8\u7684\u632f\u52d5\u7e3d\u548c\uff09\u3002 \u8acb\u6ce8\u610f\uff0cgraph_accelerometer.py \u8173\u672c\u50c5\u652f\u6301 raw_data*.csv \u6587\u4ef6\uff0c\u800c\u4e0d\u652f\u6301 resions*.csv \u6216calibration_data*.csv \u6587\u4ef6\u3002 \u4f8b\u5982: ~/klipper/scripts/graph_accelerometer.py /tmp/raw_data_x_*.csv -o /tmp/resonances_x.png -c -a z \u5c07\u7e6a\u88fd Z \u8ef8\u7684\u5e7e\u500b /tmp/raw_data_x_*.csv \u6587\u4ef6\u8207 /tmp/resonances_x.png \u6587\u4ef6\u7684\u6bd4\u8f03\u3002 shaper_calibrate.py \u8173\u672c\u63a5\u53d7 1 \u500b\u6216\u591a\u500b\u8f38\u5165\uff0c\u4e26\u4e14\u53ef\u4ee5\u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u7684\u81ea\u52d5\u8abf\u6574\uff0c\u4e26\u5efa\u8b70\u9069\u7528\u65bc\u6240\u6709\u63d0\u4f9b\u7684\u8f38\u5165\u7684\u6700\u4f73\u53c3\u6578\u3002\u5b83\u5c07\u5efa\u8b70\u7684\u53c3\u6578\u6253\u5370\u5230\u63a7\u5236\u53f0\uff0c\u5982\u679c\u63d0\u4f9b\u4e86 -o output.png \u53c3\u6578\uff0c\u5b83\u9084\u53ef\u4ee5\u751f\u6210\u5716\u8868\uff0c\u5982\u679c\u6307\u5b9a\u4e86 -c output.csv \u53c3\u6578\uff0c\u5247\u53ef\u4ee5\u751f\u6210 CSV \u6587\u4ef6\u3002 \u5982\u679c\u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u7684\u4e00\u4e9b\u9ad8\u7d1a\u8abf\u6574\uff0c\u70ba shaper_calibrate.py \u8173\u672c\u63d0\u4f9b\u5e7e\u500b\u8f38\u5165\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u4f8b\u5982\uff1a \u5728\u7b2c\u4e00\u6b21\u5c07\u52a0\u901f\u5ea6\u8a08\u9023\u63a5\u5230\u5de5\u5177\u982d\u4e0a\uff0c\u7b2c\u4e8c\u6b21\u5c07\u52a0\u901f\u5ea6\u8a08\u6309\u9806\u5e8f\u9023\u63a5\u5230\u5e8a\u8eab\u7684\u60c5\u6cc1\u4e0b\uff0c\u5728\u5e8a\u540a\u5177\u6253\u5370\u6a5f\u4e0a\u70ba\u55ae\u500b\u8ef8\u904b\u884c\u5169\u6b21\u201cTEST_RESONANCES AXIS=X OUTPUT=raw_data\u201d\uff08\u548c\u201cY\u201d\u8ef8\uff09\u6aa2\u6e2c\u8ef8\u4ea4\u53c9\u5171\u632f\u4e26\u5617\u8a66\u4f7f\u7528\u8f38\u5165\u6574\u5f62\u5668\u6d88\u9664\u5b83\u5011\u3002 \u5728\u5e36\u6709\u73bb\u7483\u5e8a\u548c\u78c1\u6027\u8868\u9762\uff08\u66f4\u8f15\uff09\u7684\u5e8a\u540a\u5177\u4e0a\u904b\u884c\u5169\u6b21\u201cTEST_RESONANCES AXIS=Y OUTPUT=raw_data\u201d\uff0c\u4ee5\u627e\u5230\u9069\u7528\u65bc\u4efb\u4f55\u6253\u5370\u8868\u9762\u914d\u7f6e\u7684\u8f38\u5165\u6574\u5f62\u5668\u53c3\u6578\u3002 \u7d50\u5408\u4f86\u81ea\u591a\u500b\u6e2c\u8a66\u9ede\u7684\u5171\u632f\u6578\u64da\u3002 \u7d50\u5408\u4f86\u81ea 2 \u8ef8\u7684\u5171\u632f\u6578\u64da\uff08\u4f8b\u5982\uff0c\u5728\u5e8a\u62cb\u6295\u6253\u5370\u6a5f\u4e0a\u914d\u7f6e X \u8ef8 input_shaper \u5f9e X \u8ef8\u548c Y \u8ef8\u5171\u632f\u4ee5\u6d88\u9664 \u5e8a \u7684\u632f\u52d5\uff0c\u4ee5\u9632\u5674\u5634\u5728 X \u8ef8\u65b9\u5411\u79fb\u52d5\u6642\u201c\u6355\u6349\u201d\u6253\u5370\uff09\u3002","title":"\u5171\u632f\u503c\u6e2c\u91cf"},{"location":"Measuring_Resonances.html#_1","text":"Klipper\u5167\u5efa\u6709ADXL345\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u9a45\u52d5\uff0c\u53ef\u7528\u4ee5\u6e2c\u91cf\u5370\u8868\u6a5f\u4e0d\u540c\u904b\u52d5\u8ef8\u767c\u751f\u5171\u632f\u7684\u983b\u7387\uff0c\u5f9e\u800c\u81ea\u52d5\u9032\u884c \u8f38\u5165\u6574\u5f62 \u4ee5\u5be6\u73fe\u5171\u632f\u88dc\u511f\u3002\u6ce8\u610f\u4f7f\u7528ADXL345\u9700\u8981\u9032\u884c\u710a\u63a5\u548c\u58d3\u7dda\u3002ADXL345\u53ef\u4ee5\u76f4\u63a5\u9023\u7dda\u5230\u6a39\u8393\u6d3e\uff0c\u4e5f\u53ef\u4ee5\u9023\u7dda\u5230MCU\u7684SPI\u532f\u6d41\u6392\uff08\u6ce8\u610fMCU\u6709\u4e00\u5b9a\u7684\u6548\u80fd\u9700\u6c42\uff09\u3002 \u63a1\u8cfc ADXL345 \u6642\uff0c\u8acb\u6ce8\u610f\u6709\u5404\u7a2e\u4e0d\u540c\u7684 PCB \u677f\u8a2d\u8a08\u548c\u5b83\u5011\u7684\u4e0d\u540c\u514b\u9686\u3002\u78ba\u4fdd\u96fb\u8def\u677f\u652f\u6301 SPI \u6a21\u5f0f\uff08\u901a\u904e\u5c07 SDO \u62c9\u81f3 GND \u4f86\u70ba I2C \u786c\u914d\u7f6e\u5c11\u6578\u96fb\u8def\u677f\uff09\uff0c\u5982\u679c\u8981\u9023\u63a5\u5230 5V \u6253\u5370\u6a5f MCU\uff0c\u5b83\u6709\u4e00\u500b\u7a69\u58d3\u5668\u548c\u96fb\u5e73\u8f49\u63db\u5668\u3002","title":"\u5171\u632f\u503c\u6e2c\u91cf"},{"location":"Measuring_Resonances.html#_2","text":"","title":"\u5b89\u88dd\u6307\u5357"},{"location":"Measuring_Resonances.html#_3","text":"\u6211\u5011\u9700\u8981\u5c07ADXL345\u9023\u7dda\u5230\u6a39\u8393\u6d3e\u7684SPI\u4ecb\u9762\u3002\u6ce8\u610f\uff0c\u5118\u7ba1ADXL345\u6587\u4ef6\u63a8\u85a6\u4f7f\u7528I2C\uff0c\u4f46\u5176\u6578\u64da\u541e\u5410\u80fd\u529b\u4e0d\u8db3\uff0c \u4e0d\u80fd \u5be6\u73fe\u5171\u632f\u6e2c\u91cf\u7684\u8981\u6c42\u3002\u63a8\u85a6\u7684\u63a5\u7dda\u5716\u70ba\uff1a ADXL345\u5f15\u8173 \u6a39\u8393\u6d3e\u5f15\u8173 \u6a39\u8393\u6d3e\u5f15\u8173\u540d\u7a31 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u96fb\u6e90 GND 06 \u5730\uff08GND\uff09 CS\uff08\u6676\u7247\u9078\u5b9a\uff09 24 GPIO08 (SPI0_CE0_N) SDO 21 GPIO09 (SPI0_MISO) SDA 19 GPIO10 (SPI0_MOSI) SCL 23 GPIO11 (SPI0_SCLK) An alternative to the ADXL345 is the MPU-9250 (or MPU-6050). This accelerometer has been tested to work over I2C on the RPi at 400kbaud. Recommended connection scheme for I2C: MPU-9250 pin \u6a39\u8393\u6d3e\u5f15\u8173 \u6a39\u8393\u6d3e\u5f15\u8173\u540d\u7a31 3V3 \u6216 VCC 01 3.3v \u76f4\u6d41\uff08DC\uff09\u96fb\u6e90 GND 09 \u5730\uff08GND\uff09 SDA 03 GPIO02 (SDA1) SCL 05 GPIO03 (SCL1) \u90e8\u5206ADXL345\u958b\u767c\u677f\u7684Fritzing\u63a5\u7dda\u5716\u5982\u4e0b\uff1a \u70ba\u907f\u514d\u640d\u5bb3\u6a39\u8393\u6d3e\u6216\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\uff0c\u8acb\u518d\u4e09\u78ba\u8a8d\u63a5\u7dda\u6b63\u78ba\u518d\u5c0d\u6a39\u8393\u6d3e\u4e0a\u96fb\u3002","title":"\u63a5\u7dda"},{"location":"Measuring_Resonances.html#_4","text":"\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u61c9\u56fa\u5b9a\u5728\u5217\u5370\u982d\u4e0a\u3002\u61c9\u6839\u64da\u5370\u8868\u6a5f\u7684\u60c5\u6cc1\u8a2d\u8a08\u5408\u9069\u7684\u56fa\u5b9a\u4ef6\u3002\u63a8\u85a6\u5c07\u52a0\u901f\u5ea6\u7684\u6e2c\u91cf\u8ef8\u8207\u5370\u8868\u6a5f\u57f7\u884c\u8ef8\u7684\u65b9\u5411\u9032\u884c\u5c0d\u9f4a\u3002\u7136\u800c\uff0c\u5982\u679c\u8ef8\u5c0d\u9f4a\u6975\u5176\u9ebb\u7169\uff0c\u53ef\u4ee5\u5c07\u5370\u8868\u6a5f\u7684\u8ef8\u4f7f\u7528\u5176\u4ed6\u6e2c\u91cf\u8ef8\u5c0d\u9f4a\uff0c\u6bd4\u5982\u5370\u8868\u6a5f+X\u5c0d\u61c9\u611f\u6e2c\u5668-X\uff0c\u751a\u81f3\u5370\u8868\u6a5f+X\u5c0d\u61c9\u611f\u6e2c\u5668-Z\u7b49\u3002 \u4e0b\u9762\u662fADXL345\u56fa\u5b9a\u5230SmartEffector\u7684\u793a\u4f8b\uff1a \u6ce8\u610f\uff0c\u6ed1\u5e8a\u5f0f\u5370\u8868\u6a5f\u9700\u8981\u8a2d\u8a08\u5169\u500b\u56fa\u5b9a\u4ef6\uff1a\u4e00\u500b\u5b89\u88dd\u4e8e\u5217\u5370\u982d\uff0c\u53e6\u4e00\u500b\u7528\u65bc\u71b1\u5e8a\uff0c\u4e26\u9032\u884c\u5169\u6b21\u6e2c\u91cf\u3002\u8a73\u898b \u5c0d\u61c9\u5206\u7bc0 \u3002 \u6ce8\u610f \uff1a\u52d9\u5fc5\u78ba\u4fdd\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u548c\u4efb\u4f55\u87ba\u7d72\u90fd\u4e0d\u61c9\u8a72\u63a5\u89f8\u5230\u5370\u8868\u6a5f\u7684\u91d1\u5c6c\u90e8\u5206\u3002\u7dca\u97cc\u9ad4\u5fc5\u9808\u8a2d\u8a08\u6210\u5728\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u548c\u5370\u8868\u6a5f\u6846\u9ad4\u9593\u5f62\u6210\u96fb\u6c23\u7d55\u7de3\u3002\u932f\u8aa4\u7684\u8a2d\u8a08\u53ef\u80fd\u6703\u5f62\u6210\u77ed\u8def\uff0c\u5f9e\u800c\u640d\u6bc0\u96fb\u6c23\u5143\u4ef6\u3002","title":"\u56fa\u5b9a\u52a0\u901f\u5ea6\u611f\u6e2c\u5668"},{"location":"Measuring_Resonances.html#_5","text":"Note that resonance measurements and shaper auto-calibration require additional software dependencies not installed by default. First, run on your Raspberry Pi the following commands: sudo apt update sudo apt install python3-numpy python3-matplotlib libatlas-base-dev Next, in order to install NumPy in the Klipper environment, run the command: ~/klippy-env/bin/pip install -v numpy Note that, depending on the performance of the CPU, it may take a lot of time, up to 10-20 minutes. Be patient and wait for the completion of the installation. On some occasions, if the board has too little RAM the installation may fail and you will need to enable swap. \u4e4b\u5f8c\uff0c\u53c3\u8003 \u6a39\u8393\u6d3e\u4f5c\u70ba\u5fae\u63a7\u5236\u5668\u6587\u4ef6 \u7684\u6307\u5f15\u5b8c\u6210\u300cLINUX\u5fae\u8655\u7406\u5668\u300d\u7684\u8a2d\u5b9a\u3002 \u901a\u904e\u57f7\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u55ae\u4e2d\u555f\u7528 SPI \u4ee5\u78ba\u4fddLinux SPI \u9a45\u52d5\u5df2\u555f\u7528\u3002 For the ADXL345, add the following to the printer.cfg file: [mcu rpi] serial: /tmp/klipper_host_mcu [adxl345] cs_pin: rpi:None [resonance_tester] accel_chip: adxl345 probe_points: 100, 100, 20 # an example \u5efa\u8b70\u5728\u6e2c\u8a66\u958b\u59cb\u524d\uff0c\u7528\u63a2\u91dd\u5728\u71b1\u5e8a\u4e2d\u592e\u9032\u884c\u4e00\u6b21\u63a2\u6e2c\uff0c\u89f8\u767c\u540e\u7a0d\u5fae\u4e0a\u79fb\u3002 For the MPU-9250, make sure the Linux I2C driver is enabled and the baud rate is set to 400000 (see Enabling I2C section for more details). Then, add the following to the printer.cfg: [mcu rpi] serial: /tmp/klipper_host_mcu [mpu9250] i2c_mcu: rpi i2c_bus: i2c.1 [resonance_tester] accel_chip: mpu9250 probe_points: 100, 100, 20 # an example \u901a\u904e RESTART \u547d\u4ee4\u91cd\u555fKlipper\u3002","title":"\u8edf\u9ad4\u8a2d\u5b9a"},{"location":"Measuring_Resonances.html#_6","text":"","title":"\u6e2c\u91cf\u5171\u632f\u503c"},{"location":"Measuring_Resonances.html#_7","text":"\u9996\u5148\u6e2c\u8a66\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u7684\u9023\u7dda\u3002 \u5c0d\u65bc\u53ea\u6709\u4e00\u500b\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u7684\u60c5\u6cc1\uff0c\u5728Octoprint\uff0c\u8f38\u5165 ACCELEROMETER_QUERY \uff08\u904d\u6b77\u5df2\u9023\u7dda\u7684\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\uff09 \u5c0d\u65bc\u300c\u6ed1\u52d5\u5e8a\u300d\uff08\u5373\u6709\u591a\u500b\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\uff09\uff0c\u8f38\u5165 ACCELEROMETER_QUERY CHIP=<chip> \uff0c\u5176\u4e2d <chip> \u662f\u8a2d\u5b9a\u6587\u4ef6\u4e2d\u7684\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u547d\u540d\uff0c\u4f8b\u5982 CHIP=bed (\u53c3\u898b\uff1a bed-slinger )\u3002 \u756b\u9762\u5c07\u8f38\u51fa\u52a0\u901f\u5ea6\u611f\u6e2c\u5668\u7684\u8b80\u503c\uff0c\u677f\u5b50\u81ea\u7531\u843d\u9ad4\u52a0\u901f\u5ea6\uff0c\u4f8b\u5982\uff1a Recv: // adxl345 values (x, y, z): 470.719200, 941.438400, 9728.196800 \u5982\u679c\u8f38\u51fa\u985e\u4f3c Invalid adxl345 id (got xx vs e5) \uff0c\u5176\u4e2d'xx'\u70bae5\u4ee5\u5916ID\uff0c\u9019\u8868\u793a\u51fa\u73fe\u9023\u7dda\u554f\u984c\uff08\u5982\uff0c\u9023\u7dda\u932f\u8aa4\u3001\u7dda\u7e9c\u96fb\u963b\u904e\u5927\u3001\u5e72\u64fe\u7b49\uff09\uff0c\u6216\u611f\u6e2c\u5668\u932f\u8aa4\uff08\u5982\uff0c\u6b98\u6b21\u611f\u6e2c\u5668 \u6216 \u932f\u8aa4\u7684\u611f\u6e2c\u5668\uff09\u3002\u8acb\u5728\u6b64\u6aa2\u67e5\u96fb\u6e90\uff0c\u63a5\u7dda\uff08\u518d\u4e09\u78ba\u5b9a\u63a5\u7dda\u6b63\u78ba\uff0c\u6c92\u6709\u7834\u640d\u3001\u9b06\u52d5\u7684\u96fb\u7dda\uff09\u6216\u710a\u63a5\u554f\u984c\u3002 \u4e0b\u4e00\u6b65\uff0c\u5728Octoprint\u4e2d\u8f38\u5165 MEASURE_AXES_NOISE \uff0c\u4e4b\u5f8c\u5c07\u6703\u986f\u793a\u5404\u500b\u8ef8\u7684\u57fa\u6e96\u6e2c\u91cf\u566a\u8072\uff08\u5176\u503c\u61c9\u57281-100\u4e4b\u9593\uff09\u3002\u5982\u679c\u8ef8\u7684\u566a\u8072\u6975\u9ad8\uff08\u4f8b\u5982 1000 \u6216\u66f4\u9ad8\uff09\u53ef\u80fd\u610f\u5473\u84573D\u5370\u8868\u6a5f\u4e0a\u5b58\u5728\u611f\u6e2c\u5668\u554f\u984c\u3001\u96fb\u6e90\u554f\u984c\u6216\u4e0d\u5e73\u8861\u7684\u98a8\u6247\u3002","title":"\u6aa2\u67e5\u8a2d\u5b9a"},{"location":"Measuring_Resonances.html#_8","text":"\u73fe\u5728\u53ef\u4ee5\u57f7\u884c\u9032\u884c\u5be6\u6e2c\u3002\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4: TEST_RESONANCES AXIS=X \u6ce8\u610f\uff0c\u9019\u5c07\u5728X\u8ef8\u4e0a\u7522\u751f\u632f\u52d5\u3002\u5982\u679c\u4e4b\u524d\u555f\u7528\u4e86\u8f38\u5165\u6574\u5f62\uff0c\u5b83\u4e5f\u5c07\u7981\u7528\u8f38\u5165\u6574\u5f62\uff0c\u56e0\u70ba\u5728\u555f\u7528\u8f38\u5165\u6574\u5f62\u7684\u60c5\u6cc1\u4e0b\u57f7\u884c\u5171\u632f\u6e2c\u8a66\u662f\u7121\u6548\u7684\u3002 \u6ce8\u610f\uff01 \u8acb\u78ba\u4fdd\u7b2c\u4e00\u6b21\u57f7\u884c\u6642\u6642\u523b\u89c0\u5bdf\u5370\u8868\u6a5f\uff0c\u4ee5\u78ba\u4fdd\u632f\u52d5\u4e0d\u6703\u592a\u5287\u70c8\uff08 M112 \u547d\u4ee4\u53ef\u4ee5\u5728\u7dca\u6025\u60c5\u6cc1\u4e0b\u4e2d\u6b62\u6e2c\u8a66\uff1b\u4f46\u9858\u4e0d\u6703\u5230\u9019\u4e00\u6b65\uff09\u3002\u5982\u679c\u632f\u52d5\u78ba\u5be6\u592a\u5f37\u70c8\uff0c\u4f60\u53ef\u4ee5\u5617\u8a66\u5728 [Resonance_tester] \u5206\u6bb5\u4e2d\u70ba accel_per_hz \u53c3\u6578\u6307\u5b9a\u4e00\u500b\u4f4e\u65bc\u9810\u8a2d\u503c\u7684\u503c\uff0c\u4f8b\u5982: [resonance_tester] accel_chip: adxl345 accel_per_hz: 50 # default is 75 probe_points: ... \u5982\u679c\u5b83\u9069\u7528\u65bc X \u8ef8\uff0c\u5247\u4e5f\u53ef\u4ee5\u70ba Y \u8ef8\u57f7\u884c\uff1a TEST_RESONANCES AXIS=Y \u9019\u5c07\u751f\u6210 2 \u500b CSV \u6587\u4ef6\uff08 /tmp/resonances_x_*.csv \u548c /tmp/resonances_y_*.csv \uff09\u3002\u53ef\u4ee5\u4f7f\u7528 Raspberry Pi \u4e0a\u7684\u7368\u7acb\u8173\u672c\u8655\u7406\u9019\u4e9b\u6587\u4ef6\u3002\u70ba\u6b64\uff0c\u8acb\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_y_*.csv -o /tmp/shaper_calibrate_y.png \u8a72\u8173\u672c\u5c07\u751f\u6210\u5e36\u6709\u983b\u7387\u97ff\u61c9\u7684\u5716\u8868 /tmp/shaper_calibrate_x.png \u548c /tmp/shaper_calibrate_y.png \u3002\u60a8\u9084\u5c07\u7372\u5f97\u6bcf\u500b\u8f38\u5165\u6574\u5f62\u5668\u7684\u5efa\u8b70\u983b\u7387\uff0c\u4ee5\u53ca\u70ba\u60a8\u7684\u8a2d\u7f6e\u63a8\u85a6\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff1a Fitted shaper 'zv' frequency = 34.4 Hz (vibrations = 4.0%, smoothing ~= 0.132) To avoid too much smoothing with 'zv', suggested max_accel <= 4500 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 0.0%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 41.4 Hz (vibrations = 0.0%, smoothing ~= 0.188) To avoid too much smoothing with 'ei', suggested max_accel <= 3200 mm/sec^2 Fitted shaper '2hump_ei' frequency = 51.8 Hz (vibrations = 0.0%, smoothing ~= 0.201) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 61.8 Hz (vibrations = 0.0%, smoothing ~= 0.215) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2800 mm/sec^2 Recommended shaper is mzv @ 34.6 Hz \u5efa\u8b70\u7684\u914d\u7f6e\u53ef\u4ee5\u6dfb\u52a0\u5230 printer.cfg \u7684 [input_shaper] \u90e8\u5206\uff0c\u4f8b\u5982\uff1a [input_shaper] shaper_freq_x: ... shaper_type_x: ... shaper_freq_y: 34.6 shaper_type_y: mzv [printer] max_accel: 3000 # should not exceed the estimated max_accel for X and Y axes \u6216\u8005\u60a8\u53ef\u4ee5\u6839\u64da\u751f\u6210\u7684\u5716\u8868\u81ea\u884c\u9078\u64c7\u5176\u4ed6\u914d\u7f6e\uff1a\u5716\u8868\u4e0a\u529f\u7387\u8b5c\u5bc6\u5ea6\u7684\u5cf0\u503c\u5c0d\u61c9\u65bc\u6253\u5370\u6a5f\u7684\u5171\u632f\u983b\u7387\u3002 \u8acb\u6ce8\u610f\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5f9e Klipper \u76f4\u63a5 \u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u81ea\u52d5\u6821\u6e96\uff0c\u4f8b\u5982\uff0c\u5c0d\u65bc\u8f38\u5165\u6574\u5f62\u5668 [re-calibration](#input-shaper-re -\u6821\u6e96\uff09\u3002","title":"\u6e2c\u91cf\u5171\u632f\u503c"},{"location":"Measuring_Resonances.html#bed-slinger","text":"\u5982\u679c\u60a8\u7684\u6253\u5370\u6a5f\u662f\u62cb\u5e8a\u6253\u5370\u6a5f\uff0c\u60a8\u5c07\u9700\u8981\u5728 X \u8ef8\u548c Y \u8ef8\u6e2c\u91cf\u503c\u4e4b\u9593\u66f4\u6539\u52a0\u901f\u5ea6\u8a08\u7684\u4f4d\u7f6e\uff1a\u7528\u9023\u63a5\u5230\u5de5\u5177\u982d\u7684\u52a0\u901f\u5ea6\u8a08\u6e2c\u91cf X \u8ef8\u7684\u5171\u632f\u548c Y \u8ef8\u7684\u5171\u632f - \u5230\u5e8a\uff08\u901a\u5e38\u7684\u5e8a\u540a\u5177\u8a2d\u7f6e\uff09\u3002 \u4f46\u662f\uff0c\u60a8\u4e5f\u53ef\u4ee5\u540c\u6642\u9023\u63a5\u5169\u500b\u52a0\u901f\u5ea6\u8a08\uff0c\u5118\u7ba1\u5b83\u5011\u5fc5\u9808\u9023\u63a5\u5230\u4e0d\u540c\u7684\u677f\uff08\u4f8b\u5982\uff0c\u9023\u63a5\u5230 RPi \u548c\u6253\u5370\u6a5f MCU \u677f\uff09\uff0c\u6216\u8005\u9023\u63a5\u5230\u540c\u4e00\u677f\u4e0a\u7684\u5169\u500b\u4e0d\u540c\u7684\u7269\u7406 SPI \u63a5\u53e3\uff08\u5f88\u5c11\u53ef\u7528\uff09\u3002\u7136\u5f8c\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u65b9\u5f0f\u914d\u7f6e\u5b83\u5011\uff1a [adxl345 hotend] # Assuming `hotend` chip is connected to an RPi cs_pin: rpi:None [adxl345 bed] # Assuming `bed` chip is connected to a printer MCU board cs_pin: ... # Printer board SPI chip select (CS) pin [resonance_tester] # Assuming the typical setup of the bed slinger printer accel_chip_x: adxl345 hotend accel_chip_y: adxl345 bed probe_points: ... \u7136\u5f8c\u547d\u4ee4 TEST_RESONANCES AXIS=X \u548c TEST_RESONANCES AXIS=Y \u5c07\u70ba\u6bcf\u500b\u8ef8\u4f7f\u7528\u6b63\u78ba\u7684\u52a0\u901f\u5ea6\u8a08\u3002","title":"Bed-slinger\u6253\u5370\u6a5f"},{"location":"Measuring_Resonances.html#_9","text":"\u8acb\u8a18\u4f4f\uff0c\u8f38\u5165\u6574\u5f62\u5668\u53ef\u4ee5\u5728\u90e8\u5206\u4e2d\u5275\u5efa\u4e00\u4e9b\u5e73\u6ed1\u3002\u7531 calibrate_shaper.py \u8173\u672c\u6216 SHAPER_CALIBRATE \u547d\u4ee4\u57f7\u884c\u7684\u8f38\u5165\u6574\u5f62\u5668\u7684\u81ea\u52d5\u8abf\u6574\u8a66\u5716\u4e0d\u52a0\u5287\u5e73\u6ed1\uff0c\u4f46\u540c\u6642\u5b83\u5011\u8a66\u5716\u6700\u5c0f\u5316\u7522\u751f\u7684\u632f\u52d5\u3002\u6709\u6642\u4ed6\u5011\u53ef\u4ee5\u5c0d\u6574\u5f62\u5668\u983b\u7387\u505a\u51fa\u6b21\u512a\u9078\u64c7\uff0c\u6216\u8005\u60a8\u53ef\u80fd\u53ea\u662f\u5e0c\u671b\u4ee5\u8f03\u5927\u7684\u5269\u4f59\u632f\u52d5\u70ba\u4ee3\u50f9\u4f86\u6e1b\u5c11\u96f6\u4ef6\u7684\u5e73\u6ed1\u5ea6\u3002\u5728\u9019\u4e9b\u60c5\u6cc1\u4e0b\uff0c\u60a8\u53ef\u4ee5\u8acb\u6c42\u9650\u5236\u8f38\u5165\u6574\u5f62\u5668\u7684\u6700\u5927\u5e73\u6ed1\u3002 \u8b93\u6211\u5011\u8003\u616e\u4ee5\u4e0b\u81ea\u52d5\u8abf\u6574\u7684\u7d50\u679c\uff1a Fitted shaper 'zv' frequency = 57.8 Hz (vibrations = 20.3%, smoothing ~= 0.053) To avoid too much smoothing with 'zv', suggested max_accel <= 13000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.8 Hz (vibrations = 3.6%, smoothing ~= 0.168) To avoid too much smoothing with 'mzv', suggested max_accel <= 3600 mm/sec^2 Fitted shaper 'ei' frequency = 48.8 Hz (vibrations = 4.9%, smoothing ~= 0.135) To avoid too much smoothing with 'ei', suggested max_accel <= 4400 mm/sec^2 Fitted shaper '2hump_ei' frequency = 45.2 Hz (vibrations = 0.1%, smoothing ~= 0.264) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2200 mm/sec^2 Fitted shaper '3hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.356) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 1500 mm/sec^2 Recommended shaper is 2hump_ei @ 45.2 Hz \u8acb\u6ce8\u610f\uff0c\u5831\u544a\u7684\u201c\u5e73\u6ed1\u201d\u503c\u662f\u4e00\u4e9b\u62bd\u8c61\u7684\u6295\u5f71\u503c\u3002\u9019\u4e9b\u503c\u53ef\u7528\u65bc\u6bd4\u8f03\u4e0d\u540c\u7684\u914d\u7f6e\uff1a\u503c\u8d8a\u9ad8\uff0c\u6574\u5f62\u5668\u5c07\u5275\u5efa\u7684\u5e73\u6ed1\u5ea6\u8d8a\u9ad8\u3002\u7136\u800c\uff0c\u9019\u4e9b\u5e73\u6ed1\u5206\u6578\u4e26\u4e0d\u4ee3\u8868\u4efb\u4f55\u771f\u6b63\u7684\u5e73\u6ed1\u5ea6\u91cf\uff0c\u56e0\u70ba\u5be6\u969b\u7684\u5e73\u6ed1\u53d6\u6c7a\u65bc max_accel \u548c square_corner_velocity \u53c3\u6578\u3002\u56e0\u6b64\uff0c\u60a8\u61c9\u8a72\u6253\u5370\u4e00\u4e9b\u6e2c\u8a66\u6253\u5370\uff0c\u4ee5\u67e5\u770b\u6240\u9078\u914d\u7f6e\u5275\u5efa\u7684\u5e73\u6ed1\u7a0b\u5ea6\u3002 \u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\uff0c\u5efa\u8b70\u7684 shaper \u53c3\u6578\u9084\u4e0d\u932f\uff0c\u4f46\u662f\u5982\u679c\u60a8\u60f3\u5728 X \u8ef8\u4e0a\u7372\u5f97\u66f4\u5c11\u7684\u5e73\u6ed1\u5ea6\u600e\u9ebc\u8fa6\uff1f\u60a8\u53ef\u4ee5\u5617\u8a66\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u9650\u5236\u6700\u5927\u6574\u5f62\u5668\u5e73\u6ed1\uff1a ~/klipper/scripts/calibrate_shaper.py /tmp/resonances_x_*.csv -o /tmp/shaper_calibrate_x.png --max_smoothing=0.2 \u9019\u5c07\u5e73\u6ed1\u9650\u5236\u70ba 0.2 \u5206\u3002\u73fe\u5728\u60a8\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u7d50\u679c\uff1a Fitted shaper 'zv' frequency = 55.4 Hz (vibrations = 19.7%, smoothing ~= 0.057) To avoid too much smoothing with 'zv', suggested max_accel <= 12000 mm/sec^2 Fitted shaper 'mzv' frequency = 34.6 Hz (vibrations = 3.6%, smoothing ~= 0.170) To avoid too much smoothing with 'mzv', suggested max_accel <= 3500 mm/sec^2 Fitted shaper 'ei' frequency = 48.2 Hz (vibrations = 4.8%, smoothing ~= 0.139) To avoid too much smoothing with 'ei', suggested max_accel <= 4300 mm/sec^2 Fitted shaper '2hump_ei' frequency = 52.0 Hz (vibrations = 2.7%, smoothing ~= 0.200) To avoid too much smoothing with '2hump_ei', suggested max_accel <= 3000 mm/sec^2 Fitted shaper '3hump_ei' frequency = 72.6 Hz (vibrations = 1.4%, smoothing ~= 0.155) To avoid too much smoothing with '3hump_ei', suggested max_accel <= 3900 mm/sec^2 Recommended shaper is 3hump_ei @ 72.6 Hz \u5982\u679c\u8207\u4e4b\u524d\u5efa\u8b70\u7684\u53c3\u6578\u9032\u884c\u6bd4\u8f03\uff0c\u632f\u52d5\u6703\u66f4\u5927\u4e00\u4e9b\uff0c\u4f46\u5e73\u6ed1\u5ea6\u6bd4\u4e4b\u524d\u8981\u5c0f\u5f97\u591a\uff0c\u5f9e\u800c\u5141\u8a31\u66f4\u5927\u7684\u6700\u5927\u52a0\u901f\u5ea6\u3002 \u5728\u6c7a\u5b9a\u9078\u64c7\u54ea\u500b max_smoothing \u53c3\u6578\u6642\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8a66\u932f\u6cd5\u3002\u5617\u8a66\u5e7e\u500b\u4e0d\u540c\u7684\u503c\uff0c\u770b\u770b\u4f60\u6703\u5f97\u5230\u4ec0\u9ebc\u7d50\u679c\u3002\u8acb\u6ce8\u610f\uff0c\u8f38\u5165\u6574\u5f62\u5668\u7522\u751f\u7684\u5be6\u969b\u5e73\u6ed1\u4e3b\u8981\u53d6\u6c7a\u65bc\u6253\u5370\u6a5f\u7684\u6700\u4f4e\u8ae7\u632f\u983b\u7387\uff1a\u6700\u4f4e\u8ae7\u632f\u983b\u7387\u8d8a\u9ad8 - \u5e73\u6ed1\u8d8a\u5c0f\u3002\u56e0\u6b64\uff0c\u5982\u679c\u60a8\u8981\u6c42\u8173\u672c\u627e\u5230\u5177\u6709\u4e0d\u5207\u5be6\u969b\u7684\u5c0f\u5e73\u6ed1\u7684\u8f38\u5165\u6574\u5f62\u5668\u7684\u914d\u7f6e\uff0c\u5247\u5c07\u4ee5\u589e\u52a0\u6700\u4f4e\u5171\u632f\u983b\u7387\u8655\u7684\u632f\u9234\u70ba\u4ee3\u50f9\uff08\u901a\u5e38\u5728\u5370\u5237\u54c1\u4e2d\u4e5f\u66f4\u660e\u986f\u53ef\u898b\uff09\u3002\u56e0\u6b64\uff0c\u8acb\u52d9\u5fc5\u4ed4\u7d30\u6aa2\u67e5\u8173\u672c\u5831\u544a\u7684\u9810\u8a08\u5269\u4f59\u632f\u52d5\uff0c\u4e26\u78ba\u4fdd\u5b83\u5011\u4e0d\u6703\u592a\u9ad8\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u70ba\u5169\u500b\u8ef8\u90fd\u9078\u64c7\u4e86\u4e00\u500b\u597d\u7684 max_smoothing \u503c\uff0c\u5247\u53ef\u4ee5\u5c07\u5176\u5b58\u5132\u5728 printer.cfg \u4e2d [resonance_tester] accel_chip: ... probe_points: ... max_smoothing: 0.25 # an example \u7136\u5f8c\uff0c\u5982\u679c\u60a8\u5c07\u4f86\u4f7f\u7528 SHAPER_CALIBRATE Klipper \u547d\u4ee4 \u91cd\u65b0\u904b\u884c \u8f38\u5165\u6574\u5f62\u5668\u81ea\u52d5\u8abf\u6574\uff0c\u5b83\u5c07\u4f7f\u7528\u5b58\u5132\u7684 max_smoothing \u503c\u4f5c\u70ba\u53c3\u8003\u3002","title":"\u6700\u5927\u5e73\u6ed1\u5ea6"},{"location":"Measuring_Resonances.html#max_accel","text":"\u7531\u65bc\u8f38\u5165\u6574\u5f62\u5668\u53ef\u4ee5\u5728\u96f6\u4ef6\u4e2d\u5275\u5efa\u4e00\u4e9b\u5e73\u6ed1\uff0c\u5c24\u5176\u662f\u5728\u9ad8\u52a0\u901f\u5ea6\u6642\uff0c\u60a8\u4ecd\u7136\u9700\u8981\u9078\u64c7\u4e0d\u6703\u5728\u6253\u5370\u96f6\u4ef6\u4e2d\u5275\u5efa\u592a\u591a\u5e73\u6ed1\u7684\u201cmax_accel\u201d\u503c\u3002\u6821\u6e96\u8173\u672c\u63d0\u4f9b\u4e86\u201cmax_accel\u201d\u53c3\u6578\u7684\u4f30\u8a08\u503c\uff0c\u8a72\u53c3\u6578\u4e0d\u61c9\u7522\u751f\u904e\u591a\u7684\u5e73\u6ed1\u3002\u8acb\u6ce8\u610f\uff0c\u6821\u6e96\u8173\u672c\u986f\u793a\u7684\u201cmax_accel\u201d\u53ea\u662f\u7406\u8ad6\u4e0a\u7684\u6700\u5927\u503c\uff0c\u5728\u8a72\u6700\u5927\u503c\u6642\uff0c\u5404\u500b\u6574\u5f62\u5668\u4ecd\u7136\u80fd\u5920\u5de5\u4f5c\u800c\u4e0d\u6703\u7522\u751f\u904e\u591a\u7684\u5e73\u6ed1\u3002\u7d55\u5c0d\u4e0d\u5efa\u8b70\u70ba\u6253\u5370\u8a2d\u7f6e\u6b64\u52a0\u901f\u3002\u60a8\u7684\u6253\u5370\u6a5f\u80fd\u5920\u627f\u53d7\u7684\u6700\u5927\u52a0\u901f\u5ea6\u53d6\u6c7a\u65bc\u5176\u6a5f\u68b0\u6027\u80fd\u548c\u6240\u7528\u6b65\u9032\u96fb\u6a5f\u7684\u6700\u5927\u626d\u77e9\u3002\u56e0\u6b64\uff0c\u5efa\u8b70\u5728 [printer] \u90e8\u5206\u8a2d\u7f6e\u4e0d\u8d85\u904e X \u548c Y \u8ef8\u7684\u4f30\u8a08\u503c\u7684 max_accel \uff0c\u53ef\u80fd\u6709\u4e00\u4e9b\u4fdd\u5b88\u7684\u5b89\u5168\u9918\u91cf\u3002 \u6216\u8005\uff0c\u6309\u7167\u8f38\u5165\u6574\u5f62\u5668\u8abf\u6574\u6307\u5357\u7684 this \u90e8\u5206\u4e26\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u4ee5\u5be6\u9a57\u6027\u5730\u9078\u64c7\u201cmax_accel\u201d\u53c3\u6578\u3002 \u76f8\u540c\u7684\u6ce8\u610f\u4e8b\u9805\u9069\u7528\u65bc\u4f7f\u7528 SHAPER_CALIBRATE \u547d\u4ee4\u7684\u8f38\u5165\u6574\u5f62\u5668 auto-calibration \uff1a\u81ea\u52d5\u6821\u51c6\u5f8c\u4ecd\u7136\u9700\u8981\u9078\u64c7\u6b63\u78ba\u7684 max_accel \u503c\uff0c\u5efa\u8b70\u52a0\u901f\u5ea6\u9650\u5236\u4e0d\u6703\u81ea\u52d5\u61c9\u7528\u3002 \u5982\u679c\u60a8\u6b63\u5728\u91cd\u65b0\u6821\u6e96\u6574\u5f62\u5668\uff0c\u4e26\u4e14\u5efa\u8b70\u7684\u6574\u5f62\u5668\u914d\u7f6e\u5831\u544a\u7684\u5e73\u6ed1\u5ea6\u8207\u60a8\u5728\u4e4b\u524d\u6821\u6e96\u671f\u9593\u5f97\u5230\u7684\u5e7e\u4e4e\u76f8\u540c\uff0c\u5247\u53ef\u4ee5\u8df3\u904e\u6b64\u6b65\u9a5f\u3002","title":"\u9078\u64c7 max_accel"},{"location":"Measuring_Resonances.html#_10","text":"TEST_RESONANCES \u547d\u4ee4\u652f\u6301\u81ea\u5b9a\u7fa9\u8ef8\u3002\u96d6\u7136\u9019\u5c0d\u65bc\u8f38\u5165\u6574\u5f62\u5668\u6821\u6e96\u4e26\u4e0d\u662f\u5f88\u6709\u7528\uff0c\u4f46\u5b83\u53ef\u7528\u65bc\u6df1\u5165\u7814\u7a76\u6253\u5370\u6a5f\u5171\u632f\u4e26\u6aa2\u67e5\u76ae\u5e36\u5f35\u529b\u7b49\u3002 \u8981\u6aa2\u67e5 CoreXY \u6253\u5370\u6a5f\u4e0a\u7684\u76ae\u5e36\u5f35\u529b\uff0c\u8acb\u57f7\u884c TEST_RESONANCES AXIS=1,1 OUTPUT=raw_data TEST_RESONANCES AXIS=1,-1 OUTPUT=raw_data \u4e26\u4f7f\u7528 graph_accelerometer.py \u8655\u7406\u751f\u6210\u7684\u6587\u4ef6\uff0c\u4f8b\u5982 ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u7522\u751f /tmp/resonances.png \uff0c\u5c0d\u6bd4\u5171\u632f\u7684\u6578\u64da\u3002 \u5c0d\u6a19\u6e96\u69cb\u578b\u7684\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\uff08A\u5854210\u00b0\uff0cB\u5854330\u00b0\uff0cC\u5854~90\u00b0\uff09\uff0c\u57f7\u884c TEST_RESONANCES AXIS=0,1 OUTPUT=raw_data TEST_RESONANCES AXIS=-0.866025404,-0.5 OUTPUT=raw_data TEST_RESONANCES AXIS=0.866025404,-0.5 OUTPUT=raw_data \u7136\u5f8c\u4f7f\u7528\u540c\u6a23\u7684\u547d\u4ee4 ~/klipper/scripts/graph_accelerometer.py -c /tmp/raw_data_axis*.csv -o /tmp/resonances.png \u4ee5\u7522\u751f /tmp/resonances.png \uff0c\u5c0d\u6bd4\u5171\u632f\u7684\u6578\u64da\u3002","title":"\u6e2c\u8a66\u81ea\u5b9a\u7fa9\u8ef8"},{"location":"Measuring_Resonances.html#_11","text":"\u9664\u4e86\u70ba\u8f38\u5165\u6574\u5f62\u5668\u529f\u80fd\u624b\u52d5\u9078\u64c7\u9069\u7576\u7684\u53c3\u6578\u5916\uff0c\u9084\u53ef\u4ee5\u76f4\u63a5\u5f9e Klipper \u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u7684\u81ea\u52d5\u8abf\u6574\u3002\u901a\u904e Octoprint \u7d42\u7aef\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a SHAPER_CALIBRATE \u9019\u5c07\u70ba\u5169\u500b\u8ef8\u904b\u884c\u5b8c\u6574\u6e2c\u8a66\uff0c\u4e26\u70ba\u983b\u7387\u97ff\u61c9\u548c\u5efa\u8b70\u7684\u8f38\u5165\u6574\u5f62\u5668\u751f\u6210 csv \u8f38\u51fa\uff08\u9ed8\u8a8d\u70ba /tmp/calibration_data_*.csv \uff09\u3002\u60a8\u9084\u5c07\u5728 Octoprint \u63a7\u5236\u53f0\u4e0a\u7372\u5f97\u6bcf\u500b\u8f38\u5165\u6574\u5f62\u5668\u7684\u5efa\u8b70\u983b\u7387\uff0c\u4ee5\u53ca\u70ba\u60a8\u7684\u8a2d\u7f6e\u63a8\u85a6\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff1a Calculating the best input shaper parameters for y axis # \u6b63\u5728\u8a08\u7b97y\u8ef8\u7684\u6700\u4f73\u8f38\u5165\u6574\u5f62\u53c3\u6578 Fitted shaper 'zv' frequency = 39.0 Hz (vibrations = 13.2%, smoothing ~= 0.105) # \u64ec\u5408\u6574\u5f62\u300czv\u300d To avoid too much smoothing with 'zv', suggested max_accel <= 5900 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300czv\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=5900 mm/sec^2 Fitted shaper 'mzv' frequency = 36.8 Hz (vibrations = 1.7%, smoothing ~= 0.150) # \u64ec\u5408\u6574\u5f62\u300cmzv\u300d To avoid too much smoothing with 'mzv', suggested max_accel <= 4000 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300cmzv\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=4000 mm/sec^2 Fitted shaper 'ei' frequency = 36.6 Hz (vibrations = 2.2%, smoothing ~= 0.240) # \u64ec\u5408\u6574\u5f62\u300cei\u300d To avoid too much smoothing with 'ei', suggested max_accel <= 2500 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300cei\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '2hump_ei' frequency = 48.0 Hz (vibrations = 0.0%, smoothing ~= 0.234) # \u64ec\u5408\u6574\u5f62\u300c2hump_ei\u300d To avoid too much smoothing with '2hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300c2hump_ei\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Fitted shaper '3hump_ei' frequency = 59.0 Hz (vibrations = 0.0%, smoothing ~= 0.235) # \u64ec\u5408\u6574\u5f62\u300c3hump_ei\u300d To avoid too much smoothing with '3hump_ei', suggested max_accel <= 2500 mm/sec^2 # \u70ba\u907f\u514d\u4f7f\u7528\u300c3hump_ei\u300d\u65b9\u6cd5\u7522\u751f\u904e\u5ea6\u5e73\u6ed1\uff0c\u5efa\u8b70\u6700\u5927\u52a0\u901f\u5ea6<=2500 mm/sec^2 Recommended shaper_type_y = mzv, shaper_freq_y = 36.8 Hz # \u5efa\u8b70shaper_type_y = mzv, shaper_freq_y = 36.8 Hz \u5982\u679c\u60a8\u540c\u610f\u5efa\u8b70\u7684\u53c3\u6578\uff0c\u60a8\u73fe\u5728\u53ef\u4ee5\u57f7\u884c SAVE_CONFIG \u4f86\u4fdd\u5b58\u5b83\u5011\u4e26\u91cd\u65b0\u555f\u52d5 Klipper\u3002\u8acb\u6ce8\u610f\uff0c\u9019\u4e0d\u6703\u66f4\u65b0 [printer] \u90e8\u5206\u4e2d\u7684 max_accel \u503c\u3002\u60a8\u61c9\u8a72\u6309\u7167 Selecting max_accel \u90e8\u5206\u4e2d\u7684\u6ce8\u610f\u4e8b\u9805\u624b\u52d5\u66f4\u65b0\u5b83\u3002 \u5982\u679c\u60a8\u7684\u6253\u5370\u6a5f\u662f\u62cb\u5e8a\u6253\u5370\u6a5f\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u8981\u6e2c\u8a66\u7684\u8ef8\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5728\u6e2c\u8a66\u4e4b\u9593\u66f4\u6539\u52a0\u901f\u5ea6\u8a08\u5b89\u88dd\u9ede\uff08\u9ed8\u8a8d\u60c5\u6cc1\u4e0b\uff0c\u5169\u500b\u8ef8\u90fd\u57f7\u884c\u6e2c\u8a66\uff09\uff1a SHAPER_CALIBRATE AXIS=Y \u60a8\u53ef\u4ee5\u5728\u6821\u6e96\u6bcf\u500b\u8ef8\u4e4b\u5f8c\u57f7\u884c\u5169\u6b21\u201cSAVE_CONFIG\u201d\u3002 \u4f46\u662f\uff0c\u5982\u679c\u60a8\u540c\u6642\u9023\u63a5\u5169\u500b\u52a0\u901f\u5ea6\u8a08\uff0c\u60a8\u53ea\u9700\u904b\u884c\u201cSHAPER_CALIBRATE\u201d\uff0c\u800c\u7121\u9700\u6307\u5b9a\u4e00\u500b\u8ef8\u4f86\u4e00\u6b21\u6027\u6821\u6e96\u5169\u500b\u8ef8\u7684\u8f38\u5165\u6574\u5f62\u5668\u3002","title":"\u8f38\u5165\u6574\u5f62\u5668\u81ea\u52d5\u6821\u6e96"},{"location":"Measuring_Resonances.html#_12","text":"SHAPER_CALIBRATE \u547d\u4ee4\u4e5f\u53ef\u7528\u65bc\u5c07\u4f86\u91cd\u65b0\u6821\u6e96\u8f38\u5165\u6574\u5f62\u5668\uff0c\u5c24\u5176\u662f\u5728\u5c0d\u6253\u5370\u6a5f\u9032\u884c\u4e00\u4e9b\u53ef\u80fd\u5f71\u97ff\u5176\u904b\u52d5\u5b78\u7684\u66f4\u6539\u6642\u3002\u53ef\u4ee5\u4f7f\u7528\u201cSHAPER_CALIBRATE\u201d\u547d\u4ee4\u91cd\u65b0\u904b\u884c\u5b8c\u6574\u6821\u6e96\uff0c\u6216\u8005\u901a\u904e\u63d0\u4f9b\u201cAXIS=\u201d\u53c3\u6578\u5c07\u81ea\u52d5\u6821\u6e96\u9650\u5236\u5728\u55ae\u500b\u8ef8\u4e0a\uff0c\u4f8b\u5982 SHAPER_CALIBRATE AXIS=X \u8b66\u544a\uff01 \u4e0d\u5efa\u8b70\u975e\u5e38\u983b\u7e41\u5730\u904b\u884c\u6210\u578b\u6a5f\u81ea\u52d5\u6821\u6e96\uff08\u4f8b\u5982\uff0c\u5728\u6bcf\u6b21\u6253\u5370\u4e4b\u524d\u6216\u6bcf\u5929\uff09\u3002\u70ba\u4e86\u78ba\u5b9a\u5171\u632f\u983b\u7387\uff0c\u81ea\u52d5\u6821\u6e96\u6703\u5728\u6bcf\u500b\u8ef8\u4e0a\u7522\u751f\u5f37\u70c8\u7684\u632f\u52d5\u3002\u901a\u5e38\uff0c3D \u6253\u5370\u6a5f\u7684\u8a2d\u8a08\u4e0d\u80fd\u627f\u53d7\u9577\u6642\u9593\u66b4\u9732\u65bc\u5171\u632f\u983b\u7387\u9644\u8fd1\u7684\u632f\u52d5\u3002\u9019\u6a23\u505a\u53ef\u80fd\u6703\u589e\u52a0\u6253\u5370\u6a5f\u7d44\u4ef6\u7684\u78e8\u640d\u4e26\u7e2e\u77ed\u5176\u4f7f\u7528\u58fd\u547d\u3002\u67d0\u4e9b\u96f6\u4ef6\u64f0\u9b06\u6216\u9b06\u52d5\u7684\u98a8\u96aa\u4e5f\u6703\u589e\u52a0\u3002\u6bcf\u6b21\u81ea\u52d5\u8abf\u6574\u5f8c\uff0c\u8acb\u52d9\u5fc5\u6aa2\u67e5\u6253\u5370\u6a5f\u7684\u6240\u6709\u90e8\u4ef6\uff08\u5305\u62ec\u901a\u5e38\u4e0d\u6703\u79fb\u52d5\u7684\u90e8\u4ef6\uff09\u662f\u5426\u7262\u56fa\u5730\u56fa\u5b9a\u5230\u4f4d\u3002 \u6b64\u5916\uff0c\u7531\u65bc\u6e2c\u91cf\u4e2d\u7684\u4e00\u4e9b\u566a\u8072\uff0c\u8abf\u8ae7\u7d50\u679c\u53ef\u80fd\u6703\u5f9e\u4e00\u6b21\u6821\u6e96\u904b\u884c\u5230\u53e6\u4e00\u6b21\u6821\u6e96\u904b\u884c\u7565\u6709\u4e0d\u540c\u3002\u4e0d\u904e\uff0c\u9810\u8a08\u566a\u97f3\u4e0d\u6703\u5c0d\u6253\u5370\u8cea\u91cf\u7522\u751f\u592a\u5927\u5f71\u97ff\u3002\u4f46\u662f\uff0c\u4ecd\u7136\u5efa\u8b70\u4ed4\u7d30\u6aa2\u67e5\u5efa\u8b70\u7684\u53c3\u6578\uff0c\u4e26\u5728\u4f7f\u7528\u524d\u6253\u5370\u4e00\u4e9b\u6e2c\u8a66\u6253\u5370\u4ee5\u78ba\u8a8d\u5b83\u5011\u662f\u597d\u7684\u3002","title":"\u8f38\u5165\u6574\u5f62\u5668\u91cd\u65b0\u6821\u6e96"},{"location":"Measuring_Resonances.html#_13","text":"\u53ef\u4ee5\u751f\u6210\u539f\u59cb\u52a0\u901f\u5ea6\u8a08\u6578\u64da\u4e26\u96e2\u7dda\u8655\u7406\uff08\u4f8b\u5982\u5728\u4e3b\u6a5f\u4e0a\uff09\uff0c\u4f8b\u5982\u5c0b\u627e\u5171\u632f\u3002\u70ba\u6b64\uff0c\u8acb\u901a\u904e Octoprint \u7d42\u7aef\u904b\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 TEST_RESONANCES AXIS=X OUTPUT=raw_data \u5ffd\u7565 SET_INPUT_SHAPER \u547d\u4ee4\u7684\u4efb\u4f55\u932f\u8aa4\u3002\u5c0d\u65bc TEST_RESONANCES \u547d\u4ee4\uff0c\u6307\u5b9a\u6240\u9700\u7684\u6e2c\u8a66\u8ef8\u3002\u539f\u59cb\u6578\u64da\u5c07\u88ab\u5beb\u5165 RPi \u4e0a\u7684 /tmp \u76ee\u9304\u3002 \u539f\u59cb\u6578\u64da\u4e5f\u53ef\u4ee5\u901a\u904e\u5728\u4e00\u4e9b\u6b63\u5e38\u7684\u6253\u5370\u6a5f\u6d3b\u52d5\u671f\u9593\u904b\u884c\u547d\u4ee4\u201cACCELEROMETER_MEASURE\u201d\u547d\u4ee4\u5169\u6b21\u4f86\u7372\u5f97 - \u9996\u5148\u958b\u59cb\u6e2c\u91cf\uff0c\u7136\u5f8c\u505c\u6b62\u6e2c\u91cf\u4e26\u5beb\u5165\u8f38\u51fa\u6587\u4ef6\u3002\u8a73\u60c5\u8acb\u53c3\u95b1 G-Codes \u7a0d\u5f8c\u53ef\u4ee5\u901a\u904e\u4ee5\u4e0b\u8173\u672c\u8655\u7406\u6578\u64da\uff1a scripts/graph_accelerometer.py \u548c scripts/calibrate_shaper.py \u3002\u6839\u64da\u6a21\u5f0f\uff0c\u5b83\u5011\u90fd\u63a5\u53d7\u4e00\u500b\u6216\u591a\u500b\u539f\u59cb csv \u6587\u4ef6\u4f5c\u70ba\u8f38\u5165\u3002 graph_accelerometer.py \u8173\u672c\u652f\u6301\u591a\u7a2e\u64cd\u4f5c\u6a21\u5f0f\uff1a \u7e6a\u88fd\u539f\u59cb\u52a0\u901f\u5ea6\u8a08\u6578\u64da\uff08\u4f7f\u7528 -r \u53c3\u6578\uff09\uff0c\u50c5\u652f\u6301 1 \u500b\u8f38\u5165; \u7e6a\u88fd\u983b\u7387\u97ff\u61c9\uff08\u4e0d\u9700\u8981\u984d\u5916\u7684\u53c3\u6578\uff09\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u591a\u500b\u8f38\u5165\uff0c\u5247\u8a08\u7b97\u5e73\u5747\u983b\u7387\u97ff\u61c9\uff1b \u6bd4\u8f03\u5e7e\u500b\u8f38\u5165\u4e4b\u9593\u7684\u983b\u7387\u97ff\u61c9\uff08\u4f7f\u7528\u201c-c\u201d\u53c3\u6578\uff09\uff1b\u60a8\u9084\u53ef\u4ee5\u901a\u904e\u201c-a x\u201d\u3001\u201c-a y\u201d\u6216\u201c-a z\u201d\u53c3\u6578\u6307\u5b9a\u8981\u8003\u616e\u7684\u52a0\u901f\u5ea6\u8a08\u8ef8\uff08\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5247\u4f7f\u7528\u6240\u6709\u8ef8\u7684\u632f\u52d5\u7e3d\u548c\uff09\uff1b \u7e6a\u88fd\u983b\u8b5c\u5716\uff08\u4f7f\u7528 -s \u53c3\u6578\uff09\uff0c\u50c5\u652f\u6301 1 \u500b\u8f38\u5165\uff1b\u60a8\u9084\u53ef\u4ee5\u901a\u904e\u201c-a x\u201d\u3001\u201c-a y\u201d\u6216\u201c-a z\u201d\u53c3\u6578\u6307\u5b9a\u8981\u8003\u616e\u7684\u52a0\u901f\u5ea6\u8a08\u8ef8\uff08\u5982\u679c\u672a\u6307\u5b9a\uff0c\u5247\u4f7f\u7528\u6240\u6709\u8ef8\u7684\u632f\u52d5\u7e3d\u548c\uff09\u3002 \u8acb\u6ce8\u610f\uff0cgraph_accelerometer.py \u8173\u672c\u50c5\u652f\u6301 raw_data*.csv \u6587\u4ef6\uff0c\u800c\u4e0d\u652f\u6301 resions*.csv \u6216calibration_data*.csv \u6587\u4ef6\u3002 \u4f8b\u5982: ~/klipper/scripts/graph_accelerometer.py /tmp/raw_data_x_*.csv -o /tmp/resonances_x.png -c -a z \u5c07\u7e6a\u88fd Z \u8ef8\u7684\u5e7e\u500b /tmp/raw_data_x_*.csv \u6587\u4ef6\u8207 /tmp/resonances_x.png \u6587\u4ef6\u7684\u6bd4\u8f03\u3002 shaper_calibrate.py \u8173\u672c\u63a5\u53d7 1 \u500b\u6216\u591a\u500b\u8f38\u5165\uff0c\u4e26\u4e14\u53ef\u4ee5\u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u7684\u81ea\u52d5\u8abf\u6574\uff0c\u4e26\u5efa\u8b70\u9069\u7528\u65bc\u6240\u6709\u63d0\u4f9b\u7684\u8f38\u5165\u7684\u6700\u4f73\u53c3\u6578\u3002\u5b83\u5c07\u5efa\u8b70\u7684\u53c3\u6578\u6253\u5370\u5230\u63a7\u5236\u53f0\uff0c\u5982\u679c\u63d0\u4f9b\u4e86 -o output.png \u53c3\u6578\uff0c\u5b83\u9084\u53ef\u4ee5\u751f\u6210\u5716\u8868\uff0c\u5982\u679c\u6307\u5b9a\u4e86 -c output.csv \u53c3\u6578\uff0c\u5247\u53ef\u4ee5\u751f\u6210 CSV \u6587\u4ef6\u3002 \u5982\u679c\u904b\u884c\u8f38\u5165\u6574\u5f62\u5668\u7684\u4e00\u4e9b\u9ad8\u7d1a\u8abf\u6574\uff0c\u70ba shaper_calibrate.py \u8173\u672c\u63d0\u4f9b\u5e7e\u500b\u8f38\u5165\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u4f8b\u5982\uff1a \u5728\u7b2c\u4e00\u6b21\u5c07\u52a0\u901f\u5ea6\u8a08\u9023\u63a5\u5230\u5de5\u5177\u982d\u4e0a\uff0c\u7b2c\u4e8c\u6b21\u5c07\u52a0\u901f\u5ea6\u8a08\u6309\u9806\u5e8f\u9023\u63a5\u5230\u5e8a\u8eab\u7684\u60c5\u6cc1\u4e0b\uff0c\u5728\u5e8a\u540a\u5177\u6253\u5370\u6a5f\u4e0a\u70ba\u55ae\u500b\u8ef8\u904b\u884c\u5169\u6b21\u201cTEST_RESONANCES AXIS=X OUTPUT=raw_data\u201d\uff08\u548c\u201cY\u201d\u8ef8\uff09\u6aa2\u6e2c\u8ef8\u4ea4\u53c9\u5171\u632f\u4e26\u5617\u8a66\u4f7f\u7528\u8f38\u5165\u6574\u5f62\u5668\u6d88\u9664\u5b83\u5011\u3002 \u5728\u5e36\u6709\u73bb\u7483\u5e8a\u548c\u78c1\u6027\u8868\u9762\uff08\u66f4\u8f15\uff09\u7684\u5e8a\u540a\u5177\u4e0a\u904b\u884c\u5169\u6b21\u201cTEST_RESONANCES AXIS=Y OUTPUT=raw_data\u201d\uff0c\u4ee5\u627e\u5230\u9069\u7528\u65bc\u4efb\u4f55\u6253\u5370\u8868\u9762\u914d\u7f6e\u7684\u8f38\u5165\u6574\u5f62\u5668\u53c3\u6578\u3002 \u7d50\u5408\u4f86\u81ea\u591a\u500b\u6e2c\u8a66\u9ede\u7684\u5171\u632f\u6578\u64da\u3002 \u7d50\u5408\u4f86\u81ea 2 \u8ef8\u7684\u5171\u632f\u6578\u64da\uff08\u4f8b\u5982\uff0c\u5728\u5e8a\u62cb\u6295\u6253\u5370\u6a5f\u4e0a\u914d\u7f6e X \u8ef8 input_shaper \u5f9e X \u8ef8\u548c Y \u8ef8\u5171\u632f\u4ee5\u6d88\u9664 \u5e8a \u7684\u632f\u52d5\uff0c\u4ee5\u9632\u5674\u5634\u5728 X \u8ef8\u65b9\u5411\u79fb\u52d5\u6642\u201c\u6355\u6349\u201d\u6253\u5370\uff09\u3002","title":"\u52a0\u901f\u5ea6\u8a08\u6578\u64da\u7684\u96e2\u7dda\u8655\u7406"},{"location":"Multi_MCU_Homing.html","text":"\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u8207\u63a2\u9ad8 \u00b6 Klipper\u652f\u63f4\u6b78\u96f6\u9650\u4f4d\u958b\u95dc\u548c\u52d5\u4f5c\u7684\u6b65\u9032\u96fb\u6a5f\u9023\u7dda\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u8a72\u529f\u80fd\u88ab\u7a31\u70ba\u300c\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u300d\u3002\u8a72\u529f\u80fd\u4e5f\u652f\u63f4\u5c07\u63a2\u91dd\u9023\u7dda\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002 \u8a72\u529f\u80fd\u53ef\u4ee5\u7c21\u5316\u63a5\u7dda\uff0c\u56e0\u70ba\u9650\u4f4d\u958b\u95dc\u6216\u63a2\u91dd\u53ef\u4ee5\u9023\u7dda\u5230\u8ddd\u96e2\u6700\u77ed\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u7136\u800c\uff0c\u8a72\u529f\u80fd\u4e5f\u6703\u5e36\u4f86\u554f\u984c\uff0c\u56e0\u70ba\u904b\u52d5\u63a7\u5236\u5668\u548c\u9650\u4f4d\u63a7\u5236\u5668\u4e26\u975e\u540c\u4e00\u63a7\u5236\u5668\uff0c\u53ef\u80fd\u9020\u6210\u6b78\u96f6\u6216\u63a2\u9ad8\u6642\u7684\u300c\u904e\u5ea6\u904b\u52d5\u300d\u3002 \u904e\u5ea6\u904b\u52d5\u7684\u53ef\u80fd\u6210\u56e0\u662f\uff0c\u63a7\u5236\u6b65\u9032\u96fb\u6a5f\u904b\u52d5\u7684\u5fae\u63a7\u5236\u5668 \u548c \u76e3\u63a7\u9650\u4f4d\u958b\u95dc\u7684\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684\u8cc7\u8a0a\u50b3\u905e\u5b58\u5728\u5ef6\u6642\u3002Klipper\u5728\u8a2d\u8a08\u4e0a\u5c07\u5ef6\u6642\u58d3\u7e2e\u523025ms\u4ee5\u4e0b\u3002\uff08\u5728\u4f7f\u7528\u8907\u6578\u5fae\u63a7\u5236\u5668\u6642\uff0c\u5404\u500b\u5fae\u63a7\u5236\u5668\u6703\u901a\u904e\u9031\u671f\u6027\u767c\u9001\u72c0\u614b\u8cc7\u8a0a\u78ba\u5b9a\u8207\u4e0a\u4f4d\u6a5f\u7684\u5ef6\u6642\u4e0d\u8d85\u904e25ms\u3002\uff09 \u4f8b\u5982\uff0c\u5982\u679c\u6b78\u96f6\u901f\u5ea6\u70ba10 mm/s\u5247\u53ef\u80fd\u7684\u904e\u904b\u52d5\u7684\u91cf\u70ba0.25mm\uff0810mm/s * .025s == 0.250mm\uff09\u3002\u5728\u9032\u884c\u5fa9\u6578\u5fae\u63a7\u5236\u5668\u7684\u6b78\u96f6\u914d\u7f6e\u6642\u61c9\u5145\u5206\u8003\u616e\u904e\u904b\u52d5\u7684\u5f71\u97ff\u3002\u4f7f\u7528\u4f4e\u901f\u6b78\u96f6\u53ef\u4ee5\u6709\u6548\u6e1b\u5c11\u904e\u904b\u52d5\u3002 \u6b65\u9032\u96fb\u6a5f\u7684\u904e\u904b\u52d5\u4e0d\u592a\u53ef\u80fd\u5c0d\u6b78\u96f6\u548c\u63a2\u9ad8\u7684\u7cbe\u5ea6\u7522\u751f\u5f88\u5927\u7684\u5f71\u97ff\u3002Klippe\u7a0b\u5f0f\u78bc\u4e0a\u6703\u8003\u616e\u901a\u8a0a\u5ef6\u6642\u6821\u6b63\u6b78\u96f6\u7684\u7d50\u679c\u3002\u4f46\u662f\uff0c\u904e\u904b\u52d5\u5c0d\u786c\u9ad4\u7a69\u56fa\u6027\u6709\u8981\u6c42\uff0c\u56e0\u70ba\u904e\u904b\u52d5\u767c\u751f\u6642\u6709\u53ef\u80fd\u6703\u640d\u58de\u786c\u9ad4\u3002 \u5c0d\u914d\u7f6e\u6709\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u7684Klipper\uff0c\u5982\u5728\u9032\u884c\u6b78\u96f6\u6642\u906d\u9047\u901a\u8a0a\u932f\u8aa4\uff0c\u8edf\u9ad4\u5c07\u6703\u62cb\u51fa\"Communication timeout during homing\"\uff08\u6b78\u96f6\u6642\uff0c\u63a7\u5236\u5668\u901a\u8a0a\u8d85\u6642\uff09\u932f\u8aa4\u8cc7\u8a0a\u3002 \u8981\u6ce8\u610f\uff0c\u7576\u4e00\u500b\u8ef8\u7531\u591a\u500b\u6b65\u9032\u96fb\u6a5f\u63a7\u5236\uff08\u5982 stepper_z \u548c stepper_z1 \uff09\uff0c\u9019\u4e9b\u96fb\u6a5f\u5fc5\u9808\u9023\u7dda\u5230\u540c\u4e00\u5fae\u63a7\u5236\u5668\u4e0a\u4ee5\u5be6\u73fe\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u3002\u8a73\u7d30\u4f86\u8aaa\uff0c\u5373Z\u9650\u4f4d\u958b\u95dc\u4f4d\u65bc\u5fae\u63a7\u5236\u56681\uff0c stepper_z \u9023\u7dda\u5230\u5fae\u63a7\u5236\u56682\uff0c\u5247 stepper_z1 \u5fc5\u9808\u9023\u7dda\u5230\u5fae\u63a7\u5236\u56682\u3002","title":"\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u8207\u63a2\u9ad8"},{"location":"Multi_MCU_Homing.html#_1","text":"Klipper\u652f\u63f4\u6b78\u96f6\u9650\u4f4d\u958b\u95dc\u548c\u52d5\u4f5c\u7684\u6b65\u9032\u96fb\u6a5f\u9023\u7dda\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u8a72\u529f\u80fd\u88ab\u7a31\u70ba\u300c\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u300d\u3002\u8a72\u529f\u80fd\u4e5f\u652f\u63f4\u5c07\u63a2\u91dd\u9023\u7dda\u5230\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002 \u8a72\u529f\u80fd\u53ef\u4ee5\u7c21\u5316\u63a5\u7dda\uff0c\u56e0\u70ba\u9650\u4f4d\u958b\u95dc\u6216\u63a2\u91dd\u53ef\u4ee5\u9023\u7dda\u5230\u8ddd\u96e2\u6700\u77ed\u7684\u5fae\u63a7\u5236\u5668\u4e0a\u3002\u7136\u800c\uff0c\u8a72\u529f\u80fd\u4e5f\u6703\u5e36\u4f86\u554f\u984c\uff0c\u56e0\u70ba\u904b\u52d5\u63a7\u5236\u5668\u548c\u9650\u4f4d\u63a7\u5236\u5668\u4e26\u975e\u540c\u4e00\u63a7\u5236\u5668\uff0c\u53ef\u80fd\u9020\u6210\u6b78\u96f6\u6216\u63a2\u9ad8\u6642\u7684\u300c\u904e\u5ea6\u904b\u52d5\u300d\u3002 \u904e\u5ea6\u904b\u52d5\u7684\u53ef\u80fd\u6210\u56e0\u662f\uff0c\u63a7\u5236\u6b65\u9032\u96fb\u6a5f\u904b\u52d5\u7684\u5fae\u63a7\u5236\u5668 \u548c \u76e3\u63a7\u9650\u4f4d\u958b\u95dc\u7684\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684\u8cc7\u8a0a\u50b3\u905e\u5b58\u5728\u5ef6\u6642\u3002Klipper\u5728\u8a2d\u8a08\u4e0a\u5c07\u5ef6\u6642\u58d3\u7e2e\u523025ms\u4ee5\u4e0b\u3002\uff08\u5728\u4f7f\u7528\u8907\u6578\u5fae\u63a7\u5236\u5668\u6642\uff0c\u5404\u500b\u5fae\u63a7\u5236\u5668\u6703\u901a\u904e\u9031\u671f\u6027\u767c\u9001\u72c0\u614b\u8cc7\u8a0a\u78ba\u5b9a\u8207\u4e0a\u4f4d\u6a5f\u7684\u5ef6\u6642\u4e0d\u8d85\u904e25ms\u3002\uff09 \u4f8b\u5982\uff0c\u5982\u679c\u6b78\u96f6\u901f\u5ea6\u70ba10 mm/s\u5247\u53ef\u80fd\u7684\u904e\u904b\u52d5\u7684\u91cf\u70ba0.25mm\uff0810mm/s * .025s == 0.250mm\uff09\u3002\u5728\u9032\u884c\u5fa9\u6578\u5fae\u63a7\u5236\u5668\u7684\u6b78\u96f6\u914d\u7f6e\u6642\u61c9\u5145\u5206\u8003\u616e\u904e\u904b\u52d5\u7684\u5f71\u97ff\u3002\u4f7f\u7528\u4f4e\u901f\u6b78\u96f6\u53ef\u4ee5\u6709\u6548\u6e1b\u5c11\u904e\u904b\u52d5\u3002 \u6b65\u9032\u96fb\u6a5f\u7684\u904e\u904b\u52d5\u4e0d\u592a\u53ef\u80fd\u5c0d\u6b78\u96f6\u548c\u63a2\u9ad8\u7684\u7cbe\u5ea6\u7522\u751f\u5f88\u5927\u7684\u5f71\u97ff\u3002Klippe\u7a0b\u5f0f\u78bc\u4e0a\u6703\u8003\u616e\u901a\u8a0a\u5ef6\u6642\u6821\u6b63\u6b78\u96f6\u7684\u7d50\u679c\u3002\u4f46\u662f\uff0c\u904e\u904b\u52d5\u5c0d\u786c\u9ad4\u7a69\u56fa\u6027\u6709\u8981\u6c42\uff0c\u56e0\u70ba\u904e\u904b\u52d5\u767c\u751f\u6642\u6709\u53ef\u80fd\u6703\u640d\u58de\u786c\u9ad4\u3002 \u5c0d\u914d\u7f6e\u6709\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u7684Klipper\uff0c\u5982\u5728\u9032\u884c\u6b78\u96f6\u6642\u906d\u9047\u901a\u8a0a\u932f\u8aa4\uff0c\u8edf\u9ad4\u5c07\u6703\u62cb\u51fa\"Communication timeout during homing\"\uff08\u6b78\u96f6\u6642\uff0c\u63a7\u5236\u5668\u901a\u8a0a\u8d85\u6642\uff09\u932f\u8aa4\u8cc7\u8a0a\u3002 \u8981\u6ce8\u610f\uff0c\u7576\u4e00\u500b\u8ef8\u7531\u591a\u500b\u6b65\u9032\u96fb\u6a5f\u63a7\u5236\uff08\u5982 stepper_z \u548c stepper_z1 \uff09\uff0c\u9019\u4e9b\u96fb\u6a5f\u5fc5\u9808\u9023\u7dda\u5230\u540c\u4e00\u5fae\u63a7\u5236\u5668\u4e0a\u4ee5\u5be6\u73fe\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u3002\u8a73\u7d30\u4f86\u8aaa\uff0c\u5373Z\u9650\u4f4d\u958b\u95dc\u4f4d\u65bc\u5fae\u63a7\u5236\u56681\uff0c stepper_z \u9023\u7dda\u5230\u5fae\u63a7\u5236\u56682\uff0c\u5247 stepper_z1 \u5fc5\u9808\u9023\u7dda\u5230\u5fae\u63a7\u5236\u56682\u3002","title":"\u8907\u6578\u5fae\u63a7\u5236\u5668\u6b78\u96f6\u8207\u63a2\u9ad8"},{"location":"Navigation.html","text":"Klipper documentation Installation and Configuration Configuration Reference Bed Level \u5171\u632f\u88dc\u511f Command templates Developer Documentation Device Specific Documents","title":"Navigation"},{"location":"Overview.html","text":"\u6982\u8ff0 \u00b6 \u6b61\u8fce\u4f7f\u7528Klipper\u6587\u4ef6\u3002\u5982\u679c\u525b\u63a5\u89f8Klipper\uff0c\u8acb\u5f9e \u7279\u6027 \u548c \u5b89\u88dd \u6587\u4ef6\u958b\u59cb\u95b1\u8b80\u3002 \u6982\u89bd\u8cc7\u8a0a \u00b6 \u529f\u80fd \uff1aKlipper \u4e2d\u7684\u9ad8\u7d1a\u529f\u80fd\u5217\u8868\u3002 \u5e38\u898b\u554f\u984c \uff1a\u5e38\u898b\u554f\u984c\u3002 \u767c\u884c\u7248 \uff1aKlipper \u7684\u7248\u672c\u767c\u4f48\u6b77\u53f2\u3002 \u914d\u7f6e\u66f4\u6539 \uff1a\u53ef\u80fd\u9700\u8981\u624b\u52d5\u66f4\u65b0\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u7684\u8edf\u9ad4\u66f4\u6539\u3002 \u806f\u7e6b \uff1a\u95dc\u65bc\u5982\u4f55\u63d0\u4ea4\u932f\u8aa4\u5831\u544a\u548c\u806f\u7e6b Klipper \u958b\u767c\u8005\u7684\u8cc7\u8a0a\u3002 \u5b89\u88dd\u548c\u914d\u7f6e \u00b6 \u5b89\u88dd \uff1aKlipper \u5b89\u88dd\u6307\u5357\u3002 \u914d\u7f6e\u53c3\u8003 \uff1a\u914d\u7f6e\u53c3\u6578\u8aaa\u660e\u3002 \u65cb\u8f49\u8ddd\u96e2 \uff1a\u8a08\u7b97\u65cb\u8f49\u8ddd\u96e2(rotation_distance)\u6b65\u9032\u53c3\u6578\u3002 \u6aa2\u67e5\u914d\u7f6e \uff1a\u9a57\u8b49\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u57fa\u672c\u5f15\u8173\u8a2d\u5b9a\u3002 \u5217\u5370\u5e8a\u8abf\u5e73 \uff1aKlipper \u4e2d\u95dc\u65bc\u300c\u5217\u5370\u5e8a\u8abf\u5e73\u300d\u7684\u8cc7\u8a0a\u3002 \u4e09\u89d2\u6d32\u6821\u6e96 \uff1a\u6821\u6e96\u4e09\u89d2\u6d32\u7d50\u69cb\u3002 \u63a2\u91dd\u6821\u6e96 \uff1a\u6821\u6e96\u81ea\u52d5Z\u63a2\u91dd\u3002 BL-Touch \uff1a\u914d\u7f6e\u300cBL-Touch\u300dZ \u63a2\u91dd\u3002 \u624b\u52d5\u8abf\u5e73 \uff1a\u6821\u6e96 Z \u9650\u4f4d\u548c\u8abf\u6574\u71b1\u5e8a\u8abf\u5e73\u87ba\u7d72\u3002 \u5e8a\u7db2 \uff1a\u57fa\u65bc XY \u4f4d\u7f6e\u7684\u5217\u5370\u5e8a\u9ad8\u5ea6\u88dc\u511f\u3002 \u9650\u4f4d\u76f8\u4f4d \uff1a\u4f7f\u7528\u6b65\u9032\u96fb\u6a5f\u76f8\u4f4d\u8f14\u52a9 Z \u9650\u4f4d\u5b9a\u4f4d\u3002 \u5171\u632f\u88dc\u511f \uff1a\u6e1b\u5c11\u5217\u5370\u9707\u7d0b\u7684\u5de5\u5177\u3002 \u6e2c\u91cf\u5171\u632f \uff1a\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8a08\u6a21\u7d44\u6e2c\u91cf\u5171\u632f\u3002 \u63d0\u524d\u58d3\u529b \uff1a\u6821\u6e96\u64e0\u51fa\u6a5f\u58d3\u529b\u3002 G\u7a0b\u5f0f\u78bc \uff1a\u7528\u65bc Klipper \u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002 \u547d\u4ee4\u6a21\u677f \uff1aG\u7a0b\u5f0f\u78bc\u5b8f\u548c\u689d\u4ef6\u5224\u65b7\u3002 \u72c0\u614b\u53c3\u8003 \uff1a\u53ef\u7528\u65bc\u5b8f\u548c\u985e\u4f3c\u529f\u80fd\u7684\u8cc7\u8a0a\u3002 TMC\u9a45\u52d5 \uff1a\u5728 Klipper \u4e2d\u4f7f\u7528 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002 Multi-MCU Homing \uff1a\u5728\u6b78\u4f4d\u548c\u63a2\u6e2c\u6642\u4f7f\u7528\u591a\u500b\u5fae\u8655\u7406\u5668\u3002 \u5207\u7247 \uff1a\u70ba Klipper \u914d\u7f6e\u5207\u7247\u8edf\u9ad4\u3002 \u504f\u659c\u6821\u6b63 \uff1a\u8abf\u6574\u4e0d\u5b8c\u5168\u5782\u76f4\u7684\u8ef8\uff08\u4e0d\u5b8c\u7f8e\u7684\u65b9\u5f62\uff09\u3002 PWM \u5de5\u5177 \uff1a\u95dc\u65bc\u5982\u4f55\u4f7f\u7528 PWM \u63a7\u5236\u7684\u5de5\u5177\uff0c\u4f8b\u5982\u9433\u5c04\u5668\u6216\u96fb\u9246\u982d\u3002 Exclude Object : The guide to the Exclude Objecs implementation. \u958b\u767c\u8005\u6587\u4ef6 \u00b6 \u7a0b\u5f0f\u78bc\u6982\u8ff0 \uff1a\u958b\u767c\u8005\u61c9\u8a72\u5f9e\u9019\u500b\u6587\u4ef6\u958b\u59cb\u95b1\u8b80\u3002 \u904b\u52d5\u5b78 \uff1a\u95dc\u65bc Klipper \u5982\u4f55\u5be6\u73fe\u904b\u52d5\u7684\u6280\u8853\u7d30\u7bc0\u3002 \u5354\u8b70 \uff1a\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684\u4f4e\u968e\u901a\u8a0a\u5354\u8b70\u7684\u8cc7\u8a0a\u3002 API \u4f3a\u670d\u5668 \uff1a\u95dc\u65bc Klipper \u7684\u547d\u4ee4\u8207\u63a7\u5236 API \u7684\u8cc7\u8a0a\u3002 MCU \u6307\u4ee4 \uff1a\u63cf\u8ff0\u5728\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u4e2d\u5be6\u73fe\u7684\u4f4e\u968e\u6307\u4ee4\u3002 CAN \u532f\u6d41\u6392\u5354\u8b70 \uff1aKlipper \u7684 CAN\u532f\u6d41\u6392\u5831\u6587\u683c\u5f0f\u3002 \u9664\u932f \uff1a\u95dc\u65bc\u5982\u4f55\u6e2c\u8a66\u548c\u9664\u932f Klipper\u3002 \u57fa\u6e96\u6e2c\u8a66 \uff1a\u95dc\u65bc Klipper \u57fa\u6e96\u6e2c\u8a66\u7684\u65b9\u6cd5\u3002 \u8ca2\u737b \uff1a\u6709\u95dc\u5982\u4f55\u5411 Klipper \u63d0\u4ea4\u6539\u9032\u65b9\u6cd5\u7684\u8cc7\u8a0a\u3002 \u6253\u5305 \uff1a\u6709\u95dc\u65bc\u5982\u4f55\u69cb\u5efa\u7cfb\u7d71\u5305\u7684\u8cc7\u8a0a\u3002 \u88dd\u7f6e\u7279\u5b9a\u6587\u4ef6 \u00b6 \u793a\u5217\u914d\u7f6e \uff1a\u6709\u95dc\u65bc\u65b0\u589e\u793a\u5217\u914d\u7f6e\u5230 Klipper \u7684\u8cc7\u8a0a\u3002 SD\u5361\u66f4\u65b0 \uff1a\u901a\u904e\u5c07\u97cc\u9ad4\u62f7\u8c9d\u5230SD\u5361\u4e2d\uff0c\u518d\u901a\u904e\u5fae\u63a7\u5236\u5668\u7684SD\u5361\u69fd\u4f86\u5237\u5beb\u5fae\u63a7\u5236\u5668\u3002 \u5c07\u6a39\u8393\u6d3e\u4f5c\u70ba\u5fae\u63a7\u5236\u5668 \uff1a\u95dc\u65bc\u5982\u4f55\u63a7\u5236\u8207\u6a39\u8393\u6d3e GPIO \u5f15\u8173\u9023\u7dda\u7684\u88dd\u7f6e\u3002 Beaglebone \uff1a\u5728 Beaglebone PRU \u4e0a\u57f7\u884c Klipper \u7684\u8a73\u7d30\u8cc7\u8a0a\u3002 \u5e95\u5c64\u8f09\u5165\u7a0b\u5f0f \uff1a\u6709\u95dc\u65bc\u5fae\u63a7\u5236\u5668\u5237\u5beb\u7684\u958b\u767c\u8005\u8cc7\u8a0a\u3002 CAN \u532f\u6d41\u6392 \uff1a\u6709\u95dc\u65bc Klipper \u4f7f\u7528 CAN \u532f\u6d41\u6392\u7684\u8cc7\u8a0a\u3002 TSL1401CL \u8017\u6750\u7dda\u5f91\u611f\u6e2c\u5668 \u970d\u723e\u5217\u5370\u7d72\u5bec\u5ea6\u611f\u6e2c\u5668","title":"\u6982\u8ff0"},{"location":"Overview.html#_1","text":"\u6b61\u8fce\u4f7f\u7528Klipper\u6587\u4ef6\u3002\u5982\u679c\u525b\u63a5\u89f8Klipper\uff0c\u8acb\u5f9e \u7279\u6027 \u548c \u5b89\u88dd \u6587\u4ef6\u958b\u59cb\u95b1\u8b80\u3002","title":"\u6982\u8ff0"},{"location":"Overview.html#_2","text":"\u529f\u80fd \uff1aKlipper \u4e2d\u7684\u9ad8\u7d1a\u529f\u80fd\u5217\u8868\u3002 \u5e38\u898b\u554f\u984c \uff1a\u5e38\u898b\u554f\u984c\u3002 \u767c\u884c\u7248 \uff1aKlipper \u7684\u7248\u672c\u767c\u4f48\u6b77\u53f2\u3002 \u914d\u7f6e\u66f4\u6539 \uff1a\u53ef\u80fd\u9700\u8981\u624b\u52d5\u66f4\u65b0\u5370\u8868\u6a5f\u914d\u7f6e\u6a94\u6848\u7684\u8edf\u9ad4\u66f4\u6539\u3002 \u806f\u7e6b \uff1a\u95dc\u65bc\u5982\u4f55\u63d0\u4ea4\u932f\u8aa4\u5831\u544a\u548c\u806f\u7e6b Klipper \u958b\u767c\u8005\u7684\u8cc7\u8a0a\u3002","title":"\u6982\u89bd\u8cc7\u8a0a"},{"location":"Overview.html#_3","text":"\u5b89\u88dd \uff1aKlipper \u5b89\u88dd\u6307\u5357\u3002 \u914d\u7f6e\u53c3\u8003 \uff1a\u914d\u7f6e\u53c3\u6578\u8aaa\u660e\u3002 \u65cb\u8f49\u8ddd\u96e2 \uff1a\u8a08\u7b97\u65cb\u8f49\u8ddd\u96e2(rotation_distance)\u6b65\u9032\u53c3\u6578\u3002 \u6aa2\u67e5\u914d\u7f6e \uff1a\u9a57\u8b49\u914d\u7f6e\u6a94\u6848\u4e2d\u7684\u57fa\u672c\u5f15\u8173\u8a2d\u5b9a\u3002 \u5217\u5370\u5e8a\u8abf\u5e73 \uff1aKlipper \u4e2d\u95dc\u65bc\u300c\u5217\u5370\u5e8a\u8abf\u5e73\u300d\u7684\u8cc7\u8a0a\u3002 \u4e09\u89d2\u6d32\u6821\u6e96 \uff1a\u6821\u6e96\u4e09\u89d2\u6d32\u7d50\u69cb\u3002 \u63a2\u91dd\u6821\u6e96 \uff1a\u6821\u6e96\u81ea\u52d5Z\u63a2\u91dd\u3002 BL-Touch \uff1a\u914d\u7f6e\u300cBL-Touch\u300dZ \u63a2\u91dd\u3002 \u624b\u52d5\u8abf\u5e73 \uff1a\u6821\u6e96 Z \u9650\u4f4d\u548c\u8abf\u6574\u71b1\u5e8a\u8abf\u5e73\u87ba\u7d72\u3002 \u5e8a\u7db2 \uff1a\u57fa\u65bc XY \u4f4d\u7f6e\u7684\u5217\u5370\u5e8a\u9ad8\u5ea6\u88dc\u511f\u3002 \u9650\u4f4d\u76f8\u4f4d \uff1a\u4f7f\u7528\u6b65\u9032\u96fb\u6a5f\u76f8\u4f4d\u8f14\u52a9 Z \u9650\u4f4d\u5b9a\u4f4d\u3002 \u5171\u632f\u88dc\u511f \uff1a\u6e1b\u5c11\u5217\u5370\u9707\u7d0b\u7684\u5de5\u5177\u3002 \u6e2c\u91cf\u5171\u632f \uff1a\u4f7f\u7528 adxl345 \u52a0\u901f\u5ea6\u8a08\u6a21\u7d44\u6e2c\u91cf\u5171\u632f\u3002 \u63d0\u524d\u58d3\u529b \uff1a\u6821\u6e96\u64e0\u51fa\u6a5f\u58d3\u529b\u3002 G\u7a0b\u5f0f\u78bc \uff1a\u7528\u65bc Klipper \u7684G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u3002 \u547d\u4ee4\u6a21\u677f \uff1aG\u7a0b\u5f0f\u78bc\u5b8f\u548c\u689d\u4ef6\u5224\u65b7\u3002 \u72c0\u614b\u53c3\u8003 \uff1a\u53ef\u7528\u65bc\u5b8f\u548c\u985e\u4f3c\u529f\u80fd\u7684\u8cc7\u8a0a\u3002 TMC\u9a45\u52d5 \uff1a\u5728 Klipper \u4e2d\u4f7f\u7528 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u3002 Multi-MCU Homing \uff1a\u5728\u6b78\u4f4d\u548c\u63a2\u6e2c\u6642\u4f7f\u7528\u591a\u500b\u5fae\u8655\u7406\u5668\u3002 \u5207\u7247 \uff1a\u70ba Klipper \u914d\u7f6e\u5207\u7247\u8edf\u9ad4\u3002 \u504f\u659c\u6821\u6b63 \uff1a\u8abf\u6574\u4e0d\u5b8c\u5168\u5782\u76f4\u7684\u8ef8\uff08\u4e0d\u5b8c\u7f8e\u7684\u65b9\u5f62\uff09\u3002 PWM \u5de5\u5177 \uff1a\u95dc\u65bc\u5982\u4f55\u4f7f\u7528 PWM \u63a7\u5236\u7684\u5de5\u5177\uff0c\u4f8b\u5982\u9433\u5c04\u5668\u6216\u96fb\u9246\u982d\u3002 Exclude Object : The guide to the Exclude Objecs implementation.","title":"\u5b89\u88dd\u548c\u914d\u7f6e"},{"location":"Overview.html#_4","text":"\u7a0b\u5f0f\u78bc\u6982\u8ff0 \uff1a\u958b\u767c\u8005\u61c9\u8a72\u5f9e\u9019\u500b\u6587\u4ef6\u958b\u59cb\u95b1\u8b80\u3002 \u904b\u52d5\u5b78 \uff1a\u95dc\u65bc Klipper \u5982\u4f55\u5be6\u73fe\u904b\u52d5\u7684\u6280\u8853\u7d30\u7bc0\u3002 \u5354\u8b70 \uff1a\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684\u4f4e\u968e\u901a\u8a0a\u5354\u8b70\u7684\u8cc7\u8a0a\u3002 API \u4f3a\u670d\u5668 \uff1a\u95dc\u65bc Klipper \u7684\u547d\u4ee4\u8207\u63a7\u5236 API \u7684\u8cc7\u8a0a\u3002 MCU \u6307\u4ee4 \uff1a\u63cf\u8ff0\u5728\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u4e2d\u5be6\u73fe\u7684\u4f4e\u968e\u6307\u4ee4\u3002 CAN \u532f\u6d41\u6392\u5354\u8b70 \uff1aKlipper \u7684 CAN\u532f\u6d41\u6392\u5831\u6587\u683c\u5f0f\u3002 \u9664\u932f \uff1a\u95dc\u65bc\u5982\u4f55\u6e2c\u8a66\u548c\u9664\u932f Klipper\u3002 \u57fa\u6e96\u6e2c\u8a66 \uff1a\u95dc\u65bc Klipper \u57fa\u6e96\u6e2c\u8a66\u7684\u65b9\u6cd5\u3002 \u8ca2\u737b \uff1a\u6709\u95dc\u5982\u4f55\u5411 Klipper \u63d0\u4ea4\u6539\u9032\u65b9\u6cd5\u7684\u8cc7\u8a0a\u3002 \u6253\u5305 \uff1a\u6709\u95dc\u65bc\u5982\u4f55\u69cb\u5efa\u7cfb\u7d71\u5305\u7684\u8cc7\u8a0a\u3002","title":"\u958b\u767c\u8005\u6587\u4ef6"},{"location":"Overview.html#_5","text":"\u793a\u5217\u914d\u7f6e \uff1a\u6709\u95dc\u65bc\u65b0\u589e\u793a\u5217\u914d\u7f6e\u5230 Klipper \u7684\u8cc7\u8a0a\u3002 SD\u5361\u66f4\u65b0 \uff1a\u901a\u904e\u5c07\u97cc\u9ad4\u62f7\u8c9d\u5230SD\u5361\u4e2d\uff0c\u518d\u901a\u904e\u5fae\u63a7\u5236\u5668\u7684SD\u5361\u69fd\u4f86\u5237\u5beb\u5fae\u63a7\u5236\u5668\u3002 \u5c07\u6a39\u8393\u6d3e\u4f5c\u70ba\u5fae\u63a7\u5236\u5668 \uff1a\u95dc\u65bc\u5982\u4f55\u63a7\u5236\u8207\u6a39\u8393\u6d3e GPIO \u5f15\u8173\u9023\u7dda\u7684\u88dd\u7f6e\u3002 Beaglebone \uff1a\u5728 Beaglebone PRU \u4e0a\u57f7\u884c Klipper \u7684\u8a73\u7d30\u8cc7\u8a0a\u3002 \u5e95\u5c64\u8f09\u5165\u7a0b\u5f0f \uff1a\u6709\u95dc\u65bc\u5fae\u63a7\u5236\u5668\u5237\u5beb\u7684\u958b\u767c\u8005\u8cc7\u8a0a\u3002 CAN \u532f\u6d41\u6392 \uff1a\u6709\u95dc\u65bc Klipper \u4f7f\u7528 CAN \u532f\u6d41\u6392\u7684\u8cc7\u8a0a\u3002 TSL1401CL \u8017\u6750\u7dda\u5f91\u611f\u6e2c\u5668 \u970d\u723e\u5217\u5370\u7d72\u5bec\u5ea6\u611f\u6e2c\u5668","title":"\u88dd\u7f6e\u7279\u5b9a\u6587\u4ef6"},{"location":"Packaging.html","text":"\u6253\u5305 Klipper \u00b6 Klipper \u662f\u500b\u6709\u9ede\u53cd\u5e38\u7684 Python \u7a0b\u5f0f\uff0c\u56e0\u70ba\u5b83\u4e0d\u4f7f\u7528 setuptools \u4f86\u69cb\u5efa\u548c\u5b89\u88dd\u3002\u95dc\u65bc\u5982\u4f55\u6700\u597d\u5730\u6253\u5305\u5b83\u7684\u4e00\u4e9b\u8aaa\u660e\u5982\u4e0b\uff1a C \u6a21\u7d44 \u00b6 Klipper \u4f7f\u7528\u4e00\u500b C \u6a21\u7d44\u4f86\u66f4\u5feb\u5730\u8655\u7406\u4e00\u4e9b\u904b\u52d5\u5b78\u8a08\u7b97\u3002\u6b64\u6a21\u7d44\u9700\u8981\u5728\u5305\u88dd\u6642\u9593\u9032\u884c\u7de8\u8b6f\uff0c\u4ee5\u907f\u514d\u5c0d\u7de8\u8b6f\u5668\u7684\u57f7\u884c\u74b0\u5883\u4f9d\u8cf4\u3002\u8981\u7de8\u8b6f C \u6a21\u7d44\uff0c\u8acb\u57f7\u884c python2 klippy/chelper/__init__.py \u3002 \u7de8\u8b6f Python \u7a0b\u5f0f\u78bc \u00b6 \u8a31\u591a\u767c\u884c\u7248\u90fd\u6709\u5728\u6253\u5305\u4e4b\u524d\u7de8\u8b6f\u6240\u6709 Python \u7a0b\u5f0f\u78bc\u4ee5\u7e2e\u77ed\u555f\u52d5\u6642\u9593\u7684\u898f\u5b9a\u3002\u60a8\u53ef\u4ee5\u901a\u904e\u57f7\u884c python2 -m compileall klippy \u4f86\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002 \u7248\u672c\u7ba1\u7406 \u00b6 \u5982\u679c\u4f60\u5f9e git \u69cb\u5efa Klipper \u5305\uff0c\u901a\u5e38\u7684\u505a\u6cd5\u662f\u4e0d\u63d0\u4f9b .git \u76ee\u9304\uff0c\u6240\u4ee5\u7248\u672c\u7ba1\u7406\u5fc5\u9808\u5728\u6c92\u6709 git \u7684\u60c5\u6cc1\u4e0b\u8655\u7406\u3002\u8981\u505a\u5230\u9019\u4e00\u9ede\uff0c\u8acb\u4f7f\u7528 scripts/make_version.py \u4e2d\u63d0\u4f9b\u7684\u6307\u4ee4\u78bc\uff0c\u8a72\u6307\u4ee4\u78bc\u61c9\u6309\u5982\u4e0b\u65b9\u5f0f\u57f7\u884c\uff1a python2 scripts/make_version.py YOURDISTRONAME > klippy/.version \u3002 \u793a\u4f8b\u6253\u5305\u6307\u4ee4\u78bc \u00b6 klipper-git \u662f klipper \u7684 Arch Linux \u8edf\u9ad4\u5305\uff0c\u5728 Arch User Repositiory \u4e0a\u6709\u4e00\u500b PKGBUILD\uff08\u8edf\u9ad4\u5305\u69cb\u5efa\u6307\u4ee4\u78bc\uff09\u3002","title":"\u6253\u5305 Klipper"},{"location":"Packaging.html#klipper","text":"Klipper \u662f\u500b\u6709\u9ede\u53cd\u5e38\u7684 Python \u7a0b\u5f0f\uff0c\u56e0\u70ba\u5b83\u4e0d\u4f7f\u7528 setuptools \u4f86\u69cb\u5efa\u548c\u5b89\u88dd\u3002\u95dc\u65bc\u5982\u4f55\u6700\u597d\u5730\u6253\u5305\u5b83\u7684\u4e00\u4e9b\u8aaa\u660e\u5982\u4e0b\uff1a","title":"\u6253\u5305 Klipper"},{"location":"Packaging.html#c","text":"Klipper \u4f7f\u7528\u4e00\u500b C \u6a21\u7d44\u4f86\u66f4\u5feb\u5730\u8655\u7406\u4e00\u4e9b\u904b\u52d5\u5b78\u8a08\u7b97\u3002\u6b64\u6a21\u7d44\u9700\u8981\u5728\u5305\u88dd\u6642\u9593\u9032\u884c\u7de8\u8b6f\uff0c\u4ee5\u907f\u514d\u5c0d\u7de8\u8b6f\u5668\u7684\u57f7\u884c\u74b0\u5883\u4f9d\u8cf4\u3002\u8981\u7de8\u8b6f C \u6a21\u7d44\uff0c\u8acb\u57f7\u884c python2 klippy/chelper/__init__.py \u3002","title":"C \u6a21\u7d44"},{"location":"Packaging.html#python","text":"\u8a31\u591a\u767c\u884c\u7248\u90fd\u6709\u5728\u6253\u5305\u4e4b\u524d\u7de8\u8b6f\u6240\u6709 Python \u7a0b\u5f0f\u78bc\u4ee5\u7e2e\u77ed\u555f\u52d5\u6642\u9593\u7684\u898f\u5b9a\u3002\u60a8\u53ef\u4ee5\u901a\u904e\u57f7\u884c python2 -m compileall klippy \u4f86\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002","title":"\u7de8\u8b6f Python \u7a0b\u5f0f\u78bc"},{"location":"Packaging.html#_1","text":"\u5982\u679c\u4f60\u5f9e git \u69cb\u5efa Klipper \u5305\uff0c\u901a\u5e38\u7684\u505a\u6cd5\u662f\u4e0d\u63d0\u4f9b .git \u76ee\u9304\uff0c\u6240\u4ee5\u7248\u672c\u7ba1\u7406\u5fc5\u9808\u5728\u6c92\u6709 git \u7684\u60c5\u6cc1\u4e0b\u8655\u7406\u3002\u8981\u505a\u5230\u9019\u4e00\u9ede\uff0c\u8acb\u4f7f\u7528 scripts/make_version.py \u4e2d\u63d0\u4f9b\u7684\u6307\u4ee4\u78bc\uff0c\u8a72\u6307\u4ee4\u78bc\u61c9\u6309\u5982\u4e0b\u65b9\u5f0f\u57f7\u884c\uff1a python2 scripts/make_version.py YOURDISTRONAME > klippy/.version \u3002","title":"\u7248\u672c\u7ba1\u7406"},{"location":"Packaging.html#_2","text":"klipper-git \u662f klipper \u7684 Arch Linux \u8edf\u9ad4\u5305\uff0c\u5728 Arch User Repositiory \u4e0a\u6709\u4e00\u500b PKGBUILD\uff08\u8edf\u9ad4\u5305\u69cb\u5efa\u6307\u4ee4\u78bc\uff09\u3002","title":"\u793a\u4f8b\u6253\u5305\u6307\u4ee4\u78bc"},{"location":"Pressure_Advance.html","text":"Pressure advance \u00b6 \u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u95dc\u65bc\u8abf\u6574\u7279\u5b9a\u5674\u5634\u548c\u8017\u6750\u300cpressure advance\u300d\u914d\u7f6e\u8b8a\u6578\u7684\u65b9\u6cd5\u3002pressure advance\u529f\u80fd\u53ef\u4ee5\u6e1b\u5c11\u6f0f\u6599\u3002\u95dc\u65bc\u5982\u4f55\u5be6\u73fepressure advance\u7684\u66f4\u591a\u8cc7\u8a0a\uff0c\u898b \u904b\u52d5\u5b78 \u6a94\u6848\u3002 \u8abf\u6574pressure advance \u00b6 Pressure advance\u6709\u5169\u500b\u4f5c\u7528 - \u5b83\u53ef\u4ee5\u6e1b\u5c11\u975e\u64e0\u51fa\u79fb\u52d5\u904e\u7a0b\u4e2d\u7684\u6ea2\u6599\u548c\u6e1b\u5c11\u8f49\u5f4e\u6642\u7684\u51f8\u8d77\u3002\u672c\u6307\u5357\u4f7f\u7528\u7b2c\u4e8c\u500b\u529f\u80fd\uff08\u6e1b\u5c11\u8f49\u5f4e\u904e\u7a0b\u4e2d\u7684\u51f8\u8d77\uff09\u4f5c\u70ba\u512a\u5316\u6a5f\u5236\u3002 \u7232\u4e86\u6821\u6e96pressure advance\uff0c\u5370\u8868\u6a5f\u5fc5\u9808\u5df2\u7d93\u914d\u7f6e\u5b8c\u6210\u4e26\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\u56e0\u70ba\u8abf\u512a\u6e2c\u8a66\u6d89\u53ca\u5217\u5370\u548c\u6aa2\u67e5\u6e2c\u8a66\u5c0d\u8c61\u3002\u5728\u57f7\u884c\u6e2c\u8a66\u4e4b\u524d\uff0c\u6700\u597d\u5b8c\u6574\u95b1\u8b80\u672c\u6587\u4ef6\u3002 \u4f7f\u7528\u5207\u7247\u5668\u70ba docs/prints/square_tower.stl \u4e2d\u7684\u5927\u7a7a\u5fc3\u6b63\u65b9\u5f62\u751f\u6210 g \u4ee3\u78bc\u3002\u4f7f\u7528\u9ad8\u901f\uff08\u4f8b\u5982\uff0c100 \u6beb\u7c73/\u79d2\uff09\u3001\u96f6\u586b\u5145\u548c\u7c97\u5c64\u9ad8\u5ea6\uff08\u5c64\u9ad8\u61c9\u7d04\u70ba\u5674\u5634\u76f4\u5f91\u7684 75%\uff09\u3002\u78ba\u4fdd\u5728\u5207\u7247\u5668\u4e2d\u7981\u7528\u4efb\u4f55\u201c\u52d5\u614b\u52a0\u901f\u63a7\u5236\u201d\u3002 \u901a\u904e\u767c\u51fa\u4ee5\u4e0b G-Code\u547d\u4ee4\u70ba\u6e2c\u8a66\u505a\u6e96\u5099\uff1a SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500 \u6b64\u547d\u4ee4\u4f7f\u5674\u5634\u901a\u904e\u89d2\u843d\u7684\u901f\u5ea6\u8b8a\u6162\uff0c\u4ee5\u5f37\u8abf\u64e0\u51fa\u6a5f\u58d3\u529b\u7684\u5f71\u97ff\u3002\u7136\u5f8c\u5c0d\u65bc\u5e36\u6709\u76f4\u63a5\u9a45\u52d5\u64e0\u51fa\u6a5f\u7684\u6253\u5370\u6a5f\uff0c\u904b\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.005 \u9060\u7a0b\u64e0\u51fa\u6a5f\uff0c\u8acb\u4f7f\u7528\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.020 \u7136\u5f8c\u6253\u5370\u5c0d\u8c61\u3002\u5b8c\u5168\u6253\u5370\u5f8c\uff0c\u6e2c\u8a66\u6253\u5370\u770b\u8d77\u4f86\u50cf\uff1a \u4e0a\u9762\u7684 TUNING_TOWER \u547d\u4ee4\u6307\u793a Klipper \u66f4\u6539\u6253\u5370\u7684\u6bcf\u4e00\u5c64\u7684 pressure_advance \u8a2d\u7f6e\u3002\u6253\u5370\u4e2d\u7684\u8f03\u9ad8\u5c64\u5c07\u8a2d\u7f6e\u8f03\u5927\u7684pressure advance\u503c\u3002\u4f4e\u65bc\u7406\u60f3 pressure_advance \u8a2d\u7f6e\u7684\u5716\u5c64\u5728\u62d0\u89d2\u8655\u6703\u51fa\u73fe\u6591\u9ede\uff0c\u800c\u9ad8\u65bc\u7406\u60f3\u8a2d\u7f6e\u7684\u5716\u5c64\u53ef\u80fd\u6703\u5c0e\u81f4\u5713\u89d2\u548c\u5c0e\u81f4\u62d0\u89d2\u8655\u7684\u64e0\u58d3\u4e0d\u826f\u3002 \u5982\u679c\u89c0\u5bdf\u5230\u89d2\u843d\u4e0d\u518d\u6253\u5370\u826f\u597d\uff0c\u5247\u53ef\u4ee5\u63d0\u524d\u53d6\u6d88\u6253\u5370\uff08\u56e0\u6b64\u53ef\u4ee5\u907f\u514d\u6253\u5370\u5df2\u77e5\u9ad8\u65bc\u7406\u60f3 pressure_advance \u503c\u7684\u5c64\uff09\u3002 \u6aa2\u67e5\u6253\u5370\uff0c\u7136\u5f8c\u4f7f\u7528\u6578\u5b57\u5361\u5c3a\u627e\u5230\u5177\u6709\u6700\u4f73\u8cea\u91cf\u89d2\u7684\u9ad8\u5ea6\u3002\u5982\u6709\u7591\u554f\uff0c\u8acb\u9078\u64c7\u8f03\u4f4e\u7684\u9ad8\u5ea6\u3002 \u7136\u5f8c\u53ef\u4ee5\u5c07 pressure_advance \u503c\u8a08\u7b97\u70ba pressure_advance = <start> + <measured_height> * <factor> \u3002 \uff08\u4f8b\u5982\uff0c 0 + 12.90 * .020 \u5c07\u662f .258 \u3002\uff09 \u5982\u679c\u6709\u52a9\u65bc\u78ba\u5b9a\u6700\u4f73pressure advance\u8a2d\u7f6e\uff0c\u5247\u53ef\u4ee5\u70ba START \u548c FACTOR \u9078\u64c7\u81ea\u5b9a\u7fa9\u8a2d\u7f6e\u3002\u57f7\u884c\u6b64\u64cd\u4f5c\u6642\uff0c\u8acb\u52d9\u5fc5\u5728\u6bcf\u6b21\u6e2c\u8a66\u6253\u5370\u958b\u59cb\u6642\u767c\u51fa TUNING_TOWER \u547d\u4ee4\u3002 \u5178\u578b\u7684pressure advance\u503c\u5728 0.050 \u548c 1.000 \u4e4b\u9593\uff08\u9ad8\u7aef\u901a\u5e38\u53ea\u6709\u9b91\u767b\u64e0\u51fa\u6a5f\uff09\u3002\u5982\u679c\u58d3\u529b\u63a8\u9032\u9ad8\u9054 1.000 \u6c92\u6709\u986f\u8457\u6539\u5584\uff0c\u5247\u58d3\u529b\u63a8\u9032\u4e0d\u592a\u53ef\u80fd\u63d0\u9ad8\u6253\u5370\u8cea\u91cf\u3002\u5728\u7981\u7528pressure advance\u7684\u60c5\u6cc1\u4e0b\u8fd4\u56de\u9ed8\u8a8d\u914d\u7f6e\u3002 \u96d6\u7136\u9019\u7a2e\u8abf\u6574\u7df4\u7fd2\u76f4\u63a5\u63d0\u9ad8\u4e86\u89d2\u843d\u7684\u8cea\u91cf\uff0c\u4f46\u503c\u5f97\u8a18\u4f4f\u7684\u662f\uff0c\u826f\u597d\u7684pressure advance\u914d\u7f6e\u4e5f\u53ef\u4ee5\u6e1b\u5c11\u6574\u500b\u6253\u5370\u904e\u7a0b\u4e2d\u7684\u6ef2\u51fa\u3002 \u5b8c\u6210\u6b64\u6e2c\u8a66\u5f8c\uff0c\u5728\u914d\u7f6e\u6587\u4ef6\u7684 [extruder] \u90e8\u5206\u4e2d\u8a2d\u7f6e pressure_advance = <calculated_value> \u4e26\u767c\u51fa RESTART \u547d\u4ee4\u3002 RESTART \u547d\u4ee4\u5c07\u6e05\u9664\u6e2c\u8a66\u72c0\u614b\u4e26\u5c07\u52a0\u901f\u5ea6\u548c\u8f49\u5f4e\u901f\u5ea6\u6062\u5fa9\u5230\u6b63\u5e38\u503c\u3002 \u91cd\u8981\u63d0\u793a \u00b6 Pressure advance\u503c\u53d6\u6c7a\u65bc\u64e0\u51fa\u6a5f\u3001\u5674\u5634\u548c\u7d30\u7d72\u3002\u4f86\u81ea\u4e0d\u540c\u88fd\u9020\u5546\u6216\u5177\u6709\u4e0d\u540c\u984f\u6599\u7684\u9577\u7d72\u901a\u5e38\u9700\u8981\u986f\u8457\u4e0d\u540c\u7684pressure advance\u503c\u3002\u56e0\u6b64\uff0c\u61c9\u8a72\u6821\u6e96\u6bcf\u53f0\u6253\u5370\u6a5f\u4e0a\u7684pressure advance\u91cf\u4ee5\u53ca\u6bcf\u6839\u71c8\u7d72\u6372\u8ef8\u3002 \u5370\u5237\u6eab\u5ea6\u548c\u64e0\u51fa\u901f\u7387\u6703\u5f71\u97ffpressure advance\u3002\u8acb\u52d9\u5fc5\u5728\u8abf\u6574pressure advance\u4e4b\u524d\u8abf\u6574 \u64e0\u51fa\u6a5f\u65cb\u8f49\u8ddd\u96e2 \u548c \u5674\u5634\u6eab\u5ea6 \u3002 \u6e2c\u8a66\u6253\u5370\u8a2d\u8a08\u70ba\u4ee5\u9ad8\u64e0\u51fa\u6a5f\u6d41\u901f\u904b\u884c\uff0c\u4f46\u5426\u5247\u70ba\u201c\u6b63\u5e38\u201d\u5207\u7247\u6a5f\u8a2d\u7f6e\u3002\u901a\u904e\u4f7f\u7528\u9ad8\u6253\u5370\u901f\u5ea6\uff08\u4f8b\u5982\uff0c100mm/s\uff09\u548c\u7c97\u5c64\u9ad8\u5ea6\uff08\u901a\u5e38\u7d04\u70ba\u5674\u5634\u76f4\u5f91\u7684 75%\uff09\u7372\u5f97\u9ad8\u6d41\u901f\u3002\u5176\u4ed6\u5207\u7247\u5668\u8a2d\u7f6e\u61c9\u8207\u5176\u9ed8\u8a8d\u8a2d\u7f6e\u76f8\u4f3c\uff08\u4f8b\u5982\uff0c2 \u6216 3 \u884c\u7684\u5468\u9577\uff0c\u6b63\u5e38\u7684\u7e2e\u56de\u91cf\uff09\u3002\u5c07\u5916\u90e8\u5468\u908a\u901f\u5ea6\u8a2d\u7f6e\u70ba\u8207\u6253\u5370\u7684\u5176\u9918\u90e8\u5206\u76f8\u540c\u7684\u901f\u5ea6\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u4f46\u9019\u4e0d\u662f\u5fc5\u9700\u7684\u3002 \u6e2c\u8a66\u6253\u5370\u5728\u6bcf\u500b\u89d2\u843d\u986f\u793a\u4e0d\u540c\u7684\u884c\u70ba\u662f\u5f88\u5e38\u898b\u7684\u3002\u901a\u5e38\uff0c\u5207\u7247\u5668\u6703\u5b89\u6392\u5728\u4e00\u500b\u89d2\u843d\u66f4\u6539\u5716\u5c64\uff0c\u9019\u53ef\u80fd\u5c0e\u81f4\u8a72\u89d2\u843d\u8207\u5176\u9918\u4e09\u500b\u89d2\u843d\u660e\u986f\u4e0d\u540c\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u5247\u5ffd\u7565\u8a72\u89d2\u4e26\u4f7f\u7528\u5176\u4ed6\u4e09\u500b\u89d2\u8abf\u6574\u58d3\u529b\u63a8\u9032\u3002\u5176\u9918\u7684\u89d2\u4e5f\u6709\u8f15\u5fae\u7684\u8b8a\u5316\u4e5f\u662f\u5f88\u5e38\u898b\u7684\u3002 \uff08\u9019\u53ef\u80fd\u662f\u7531\u65bc\u6253\u5370\u6a5f\u6846\u67b6\u5c0d\u67d0\u4e9b\u65b9\u5411\u7684\u62d0\u89d2\u7684\u53cd\u61c9\u5b58\u5728\u5fae\u5c0f\u5dee\u7570\u3002\uff09\u5617\u8a66\u9078\u64c7\u4e00\u500b\u9069\u7528\u65bc\u6240\u6709\u5269\u9918\u62d0\u89d2\u7684\u503c\u3002\u5982\u679c\u6709\u7591\u554f\uff0c\u8acb\u9078\u64c7\u8f03\u4f4e\u7684pressure advance\u503c\u3002 \u5982\u679c\u4f7f\u7528\u9ad8\u58d3\u63d0\u524d\u503c\uff08\u4f8b\u5982\uff0c\u8d85\u904e 0.200\uff09\uff0c\u5247\u53ef\u80fd\u6703\u767c\u73fe\u64e0\u51fa\u6a5f\u5728\u8fd4\u56de\u5230\u6253\u5370\u6a5f\u7684\u6b63\u5e38\u52a0\u901f\u5ea6\u6642\u6703\u8df3\u52d5\u3002\u58d3\u529b\u63a8\u9032\u7cfb\u7d71\u901a\u904e\u5728\u52a0\u901f\u671f\u9593\u63a8\u5165\u984d\u5916\u7684\u71c8\u7d72\u4e26\u5728\u6e1b\u901f\u671f\u9593\u7e2e\u56de\u8a72\u71c8\u7d72\u4f86\u89e3\u91cb\u58d3\u529b\u3002\u5728\u9ad8\u52a0\u901f\u5ea6\u548c\u9ad8\u58d3\u63a8\u9032\u4e0b\uff0c\u64e0\u51fa\u6a5f\u53ef\u80fd\u6c92\u6709\u8db3\u5920\u7684\u626d\u77e9\u4f86\u63a8\u52d5\u6240\u9700\u7684\u9577\u7d72\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u8acb\u4f7f\u7528\u8f03\u4f4e\u7684\u52a0\u901f\u5ea6\u503c\u6216\u7981\u7528pressure advance\u3002 \u4e00\u65e6\u5728 Klipper \u4e2d\u8abf\u6574\u4e86pressure advance\uff0c\u5728\u5207\u7247\u5668\u4e2d\u914d\u7f6e\u4e00\u500b\u5c0f\u7684\u7e2e\u56de\u503c\uff08\u4f8b\u5982 0.75 \u6beb\u7c73\uff09\u4e26\u4f7f\u7528\u5207\u7247\u5668\u7684\u201c\u7e2e\u56de\u6642\u64e6\u9664\u9078\u9805\u201d\uff08\u5982\u679c\u53ef\u7528\uff09\u53ef\u80fd\u4ecd\u7136\u6709\u7528\u3002\u9019\u4e9b\u5207\u7247\u5668\u8a2d\u7f6e\u53ef\u80fd\u6709\u52a9\u65bc\u62b5\u6d88\u7531\u7d30\u7d72\u5167\u805a\uff08\u7531\u65bc\u5851\u6599\u7684\u7c98\u6027\u800c\u5f9e\u5674\u5634\u4e2d\u62c9\u51fa\u7d30\u7d72\uff09\u5f15\u8d77\u7684\u6ef2\u51fa\u3002\u5efa\u8b70\u7981\u7528\u5207\u7247\u5668\u7684\u201c\u7e2e\u56de\u6642\u7684 z-lift\u201d\u9078\u9805\u3002 \u58d3\u529b\u63a8\u9032\u7cfb\u7d71\u4e0d\u6703\u6539\u8b8a\u5de5\u5177\u982d\u7684\u6642\u9593\u6216\u8def\u5f91\u3002\u555f\u7528\u58d3\u529b\u63a8\u9032\u7684\u6253\u5370\u5c07\u82b1\u8cbb\u8207\u6c92\u6709\u58d3\u529b\u63a8\u9032\u7684\u6253\u5370\u76f8\u540c\u7684\u6642\u9593\u3002pressure advance\u4e5f\u4e0d\u6703\u6539\u8b8a\u6253\u5370\u904e\u7a0b\u4e2d\u64e0\u51fa\u7684\u9577\u7d72\u7e3d\u91cf\u3002\u5728\u79fb\u52d5\u52a0\u901f\u548c\u6e1b\u901f\u904e\u7a0b\u4e2d\uff0cpressure advance\u6703\u5c0e\u81f4\u984d\u5916\u7684\u64e0\u51fa\u6a5f\u79fb\u52d5\u3002\u975e\u5e38\u9ad8\u7684pressure advance\u8a2d\u7f6e\u5c07\u5c0e\u81f4\u64e0\u51fa\u6a5f\u5728\u52a0\u901f\u548c\u6e1b\u901f\u904e\u7a0b\u4e2d\u79fb\u52d5\u975e\u5e38\u5927\uff0c\u4e26\u4e14\u6c92\u6709\u914d\u7f6e\u8a2d\u7f6e\u5c0d\u79fb\u52d5\u91cf\u9032\u884c\u9650\u5236\u3002","title":"Pressure advance"},{"location":"Pressure_Advance.html#pressure-advance","text":"\u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u95dc\u65bc\u8abf\u6574\u7279\u5b9a\u5674\u5634\u548c\u8017\u6750\u300cpressure advance\u300d\u914d\u7f6e\u8b8a\u6578\u7684\u65b9\u6cd5\u3002pressure advance\u529f\u80fd\u53ef\u4ee5\u6e1b\u5c11\u6f0f\u6599\u3002\u95dc\u65bc\u5982\u4f55\u5be6\u73fepressure advance\u7684\u66f4\u591a\u8cc7\u8a0a\uff0c\u898b \u904b\u52d5\u5b78 \u6a94\u6848\u3002","title":"Pressure advance"},{"location":"Pressure_Advance.html#pressure-advance_1","text":"Pressure advance\u6709\u5169\u500b\u4f5c\u7528 - \u5b83\u53ef\u4ee5\u6e1b\u5c11\u975e\u64e0\u51fa\u79fb\u52d5\u904e\u7a0b\u4e2d\u7684\u6ea2\u6599\u548c\u6e1b\u5c11\u8f49\u5f4e\u6642\u7684\u51f8\u8d77\u3002\u672c\u6307\u5357\u4f7f\u7528\u7b2c\u4e8c\u500b\u529f\u80fd\uff08\u6e1b\u5c11\u8f49\u5f4e\u904e\u7a0b\u4e2d\u7684\u51f8\u8d77\uff09\u4f5c\u70ba\u512a\u5316\u6a5f\u5236\u3002 \u7232\u4e86\u6821\u6e96pressure advance\uff0c\u5370\u8868\u6a5f\u5fc5\u9808\u5df2\u7d93\u914d\u7f6e\u5b8c\u6210\u4e26\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\u56e0\u70ba\u8abf\u512a\u6e2c\u8a66\u6d89\u53ca\u5217\u5370\u548c\u6aa2\u67e5\u6e2c\u8a66\u5c0d\u8c61\u3002\u5728\u57f7\u884c\u6e2c\u8a66\u4e4b\u524d\uff0c\u6700\u597d\u5b8c\u6574\u95b1\u8b80\u672c\u6587\u4ef6\u3002 \u4f7f\u7528\u5207\u7247\u5668\u70ba docs/prints/square_tower.stl \u4e2d\u7684\u5927\u7a7a\u5fc3\u6b63\u65b9\u5f62\u751f\u6210 g \u4ee3\u78bc\u3002\u4f7f\u7528\u9ad8\u901f\uff08\u4f8b\u5982\uff0c100 \u6beb\u7c73/\u79d2\uff09\u3001\u96f6\u586b\u5145\u548c\u7c97\u5c64\u9ad8\u5ea6\uff08\u5c64\u9ad8\u61c9\u7d04\u70ba\u5674\u5634\u76f4\u5f91\u7684 75%\uff09\u3002\u78ba\u4fdd\u5728\u5207\u7247\u5668\u4e2d\u7981\u7528\u4efb\u4f55\u201c\u52d5\u614b\u52a0\u901f\u63a7\u5236\u201d\u3002 \u901a\u904e\u767c\u51fa\u4ee5\u4e0b G-Code\u547d\u4ee4\u70ba\u6e2c\u8a66\u505a\u6e96\u5099\uff1a SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=1 ACCEL=500 \u6b64\u547d\u4ee4\u4f7f\u5674\u5634\u901a\u904e\u89d2\u843d\u7684\u901f\u5ea6\u8b8a\u6162\uff0c\u4ee5\u5f37\u8abf\u64e0\u51fa\u6a5f\u58d3\u529b\u7684\u5f71\u97ff\u3002\u7136\u5f8c\u5c0d\u65bc\u5e36\u6709\u76f4\u63a5\u9a45\u52d5\u64e0\u51fa\u6a5f\u7684\u6253\u5370\u6a5f\uff0c\u904b\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.005 \u9060\u7a0b\u64e0\u51fa\u6a5f\uff0c\u8acb\u4f7f\u7528\uff1a TUNING_TOWER COMMAND=SET_PRESSURE_ADVANCE PARAMETER=ADVANCE START=0 FACTOR=.020 \u7136\u5f8c\u6253\u5370\u5c0d\u8c61\u3002\u5b8c\u5168\u6253\u5370\u5f8c\uff0c\u6e2c\u8a66\u6253\u5370\u770b\u8d77\u4f86\u50cf\uff1a \u4e0a\u9762\u7684 TUNING_TOWER \u547d\u4ee4\u6307\u793a Klipper \u66f4\u6539\u6253\u5370\u7684\u6bcf\u4e00\u5c64\u7684 pressure_advance \u8a2d\u7f6e\u3002\u6253\u5370\u4e2d\u7684\u8f03\u9ad8\u5c64\u5c07\u8a2d\u7f6e\u8f03\u5927\u7684pressure advance\u503c\u3002\u4f4e\u65bc\u7406\u60f3 pressure_advance \u8a2d\u7f6e\u7684\u5716\u5c64\u5728\u62d0\u89d2\u8655\u6703\u51fa\u73fe\u6591\u9ede\uff0c\u800c\u9ad8\u65bc\u7406\u60f3\u8a2d\u7f6e\u7684\u5716\u5c64\u53ef\u80fd\u6703\u5c0e\u81f4\u5713\u89d2\u548c\u5c0e\u81f4\u62d0\u89d2\u8655\u7684\u64e0\u58d3\u4e0d\u826f\u3002 \u5982\u679c\u89c0\u5bdf\u5230\u89d2\u843d\u4e0d\u518d\u6253\u5370\u826f\u597d\uff0c\u5247\u53ef\u4ee5\u63d0\u524d\u53d6\u6d88\u6253\u5370\uff08\u56e0\u6b64\u53ef\u4ee5\u907f\u514d\u6253\u5370\u5df2\u77e5\u9ad8\u65bc\u7406\u60f3 pressure_advance \u503c\u7684\u5c64\uff09\u3002 \u6aa2\u67e5\u6253\u5370\uff0c\u7136\u5f8c\u4f7f\u7528\u6578\u5b57\u5361\u5c3a\u627e\u5230\u5177\u6709\u6700\u4f73\u8cea\u91cf\u89d2\u7684\u9ad8\u5ea6\u3002\u5982\u6709\u7591\u554f\uff0c\u8acb\u9078\u64c7\u8f03\u4f4e\u7684\u9ad8\u5ea6\u3002 \u7136\u5f8c\u53ef\u4ee5\u5c07 pressure_advance \u503c\u8a08\u7b97\u70ba pressure_advance = <start> + <measured_height> * <factor> \u3002 \uff08\u4f8b\u5982\uff0c 0 + 12.90 * .020 \u5c07\u662f .258 \u3002\uff09 \u5982\u679c\u6709\u52a9\u65bc\u78ba\u5b9a\u6700\u4f73pressure advance\u8a2d\u7f6e\uff0c\u5247\u53ef\u4ee5\u70ba START \u548c FACTOR \u9078\u64c7\u81ea\u5b9a\u7fa9\u8a2d\u7f6e\u3002\u57f7\u884c\u6b64\u64cd\u4f5c\u6642\uff0c\u8acb\u52d9\u5fc5\u5728\u6bcf\u6b21\u6e2c\u8a66\u6253\u5370\u958b\u59cb\u6642\u767c\u51fa TUNING_TOWER \u547d\u4ee4\u3002 \u5178\u578b\u7684pressure advance\u503c\u5728 0.050 \u548c 1.000 \u4e4b\u9593\uff08\u9ad8\u7aef\u901a\u5e38\u53ea\u6709\u9b91\u767b\u64e0\u51fa\u6a5f\uff09\u3002\u5982\u679c\u58d3\u529b\u63a8\u9032\u9ad8\u9054 1.000 \u6c92\u6709\u986f\u8457\u6539\u5584\uff0c\u5247\u58d3\u529b\u63a8\u9032\u4e0d\u592a\u53ef\u80fd\u63d0\u9ad8\u6253\u5370\u8cea\u91cf\u3002\u5728\u7981\u7528pressure advance\u7684\u60c5\u6cc1\u4e0b\u8fd4\u56de\u9ed8\u8a8d\u914d\u7f6e\u3002 \u96d6\u7136\u9019\u7a2e\u8abf\u6574\u7df4\u7fd2\u76f4\u63a5\u63d0\u9ad8\u4e86\u89d2\u843d\u7684\u8cea\u91cf\uff0c\u4f46\u503c\u5f97\u8a18\u4f4f\u7684\u662f\uff0c\u826f\u597d\u7684pressure advance\u914d\u7f6e\u4e5f\u53ef\u4ee5\u6e1b\u5c11\u6574\u500b\u6253\u5370\u904e\u7a0b\u4e2d\u7684\u6ef2\u51fa\u3002 \u5b8c\u6210\u6b64\u6e2c\u8a66\u5f8c\uff0c\u5728\u914d\u7f6e\u6587\u4ef6\u7684 [extruder] \u90e8\u5206\u4e2d\u8a2d\u7f6e pressure_advance = <calculated_value> \u4e26\u767c\u51fa RESTART \u547d\u4ee4\u3002 RESTART \u547d\u4ee4\u5c07\u6e05\u9664\u6e2c\u8a66\u72c0\u614b\u4e26\u5c07\u52a0\u901f\u5ea6\u548c\u8f49\u5f4e\u901f\u5ea6\u6062\u5fa9\u5230\u6b63\u5e38\u503c\u3002","title":"\u8abf\u6574pressure advance"},{"location":"Pressure_Advance.html#_1","text":"Pressure advance\u503c\u53d6\u6c7a\u65bc\u64e0\u51fa\u6a5f\u3001\u5674\u5634\u548c\u7d30\u7d72\u3002\u4f86\u81ea\u4e0d\u540c\u88fd\u9020\u5546\u6216\u5177\u6709\u4e0d\u540c\u984f\u6599\u7684\u9577\u7d72\u901a\u5e38\u9700\u8981\u986f\u8457\u4e0d\u540c\u7684pressure advance\u503c\u3002\u56e0\u6b64\uff0c\u61c9\u8a72\u6821\u6e96\u6bcf\u53f0\u6253\u5370\u6a5f\u4e0a\u7684pressure advance\u91cf\u4ee5\u53ca\u6bcf\u6839\u71c8\u7d72\u6372\u8ef8\u3002 \u5370\u5237\u6eab\u5ea6\u548c\u64e0\u51fa\u901f\u7387\u6703\u5f71\u97ffpressure advance\u3002\u8acb\u52d9\u5fc5\u5728\u8abf\u6574pressure advance\u4e4b\u524d\u8abf\u6574 \u64e0\u51fa\u6a5f\u65cb\u8f49\u8ddd\u96e2 \u548c \u5674\u5634\u6eab\u5ea6 \u3002 \u6e2c\u8a66\u6253\u5370\u8a2d\u8a08\u70ba\u4ee5\u9ad8\u64e0\u51fa\u6a5f\u6d41\u901f\u904b\u884c\uff0c\u4f46\u5426\u5247\u70ba\u201c\u6b63\u5e38\u201d\u5207\u7247\u6a5f\u8a2d\u7f6e\u3002\u901a\u904e\u4f7f\u7528\u9ad8\u6253\u5370\u901f\u5ea6\uff08\u4f8b\u5982\uff0c100mm/s\uff09\u548c\u7c97\u5c64\u9ad8\u5ea6\uff08\u901a\u5e38\u7d04\u70ba\u5674\u5634\u76f4\u5f91\u7684 75%\uff09\u7372\u5f97\u9ad8\u6d41\u901f\u3002\u5176\u4ed6\u5207\u7247\u5668\u8a2d\u7f6e\u61c9\u8207\u5176\u9ed8\u8a8d\u8a2d\u7f6e\u76f8\u4f3c\uff08\u4f8b\u5982\uff0c2 \u6216 3 \u884c\u7684\u5468\u9577\uff0c\u6b63\u5e38\u7684\u7e2e\u56de\u91cf\uff09\u3002\u5c07\u5916\u90e8\u5468\u908a\u901f\u5ea6\u8a2d\u7f6e\u70ba\u8207\u6253\u5370\u7684\u5176\u9918\u90e8\u5206\u76f8\u540c\u7684\u901f\u5ea6\u53ef\u80fd\u5f88\u6709\u7528\uff0c\u4f46\u9019\u4e0d\u662f\u5fc5\u9700\u7684\u3002 \u6e2c\u8a66\u6253\u5370\u5728\u6bcf\u500b\u89d2\u843d\u986f\u793a\u4e0d\u540c\u7684\u884c\u70ba\u662f\u5f88\u5e38\u898b\u7684\u3002\u901a\u5e38\uff0c\u5207\u7247\u5668\u6703\u5b89\u6392\u5728\u4e00\u500b\u89d2\u843d\u66f4\u6539\u5716\u5c64\uff0c\u9019\u53ef\u80fd\u5c0e\u81f4\u8a72\u89d2\u843d\u8207\u5176\u9918\u4e09\u500b\u89d2\u843d\u660e\u986f\u4e0d\u540c\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u5247\u5ffd\u7565\u8a72\u89d2\u4e26\u4f7f\u7528\u5176\u4ed6\u4e09\u500b\u89d2\u8abf\u6574\u58d3\u529b\u63a8\u9032\u3002\u5176\u9918\u7684\u89d2\u4e5f\u6709\u8f15\u5fae\u7684\u8b8a\u5316\u4e5f\u662f\u5f88\u5e38\u898b\u7684\u3002 \uff08\u9019\u53ef\u80fd\u662f\u7531\u65bc\u6253\u5370\u6a5f\u6846\u67b6\u5c0d\u67d0\u4e9b\u65b9\u5411\u7684\u62d0\u89d2\u7684\u53cd\u61c9\u5b58\u5728\u5fae\u5c0f\u5dee\u7570\u3002\uff09\u5617\u8a66\u9078\u64c7\u4e00\u500b\u9069\u7528\u65bc\u6240\u6709\u5269\u9918\u62d0\u89d2\u7684\u503c\u3002\u5982\u679c\u6709\u7591\u554f\uff0c\u8acb\u9078\u64c7\u8f03\u4f4e\u7684pressure advance\u503c\u3002 \u5982\u679c\u4f7f\u7528\u9ad8\u58d3\u63d0\u524d\u503c\uff08\u4f8b\u5982\uff0c\u8d85\u904e 0.200\uff09\uff0c\u5247\u53ef\u80fd\u6703\u767c\u73fe\u64e0\u51fa\u6a5f\u5728\u8fd4\u56de\u5230\u6253\u5370\u6a5f\u7684\u6b63\u5e38\u52a0\u901f\u5ea6\u6642\u6703\u8df3\u52d5\u3002\u58d3\u529b\u63a8\u9032\u7cfb\u7d71\u901a\u904e\u5728\u52a0\u901f\u671f\u9593\u63a8\u5165\u984d\u5916\u7684\u71c8\u7d72\u4e26\u5728\u6e1b\u901f\u671f\u9593\u7e2e\u56de\u8a72\u71c8\u7d72\u4f86\u89e3\u91cb\u58d3\u529b\u3002\u5728\u9ad8\u52a0\u901f\u5ea6\u548c\u9ad8\u58d3\u63a8\u9032\u4e0b\uff0c\u64e0\u51fa\u6a5f\u53ef\u80fd\u6c92\u6709\u8db3\u5920\u7684\u626d\u77e9\u4f86\u63a8\u52d5\u6240\u9700\u7684\u9577\u7d72\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u8acb\u4f7f\u7528\u8f03\u4f4e\u7684\u52a0\u901f\u5ea6\u503c\u6216\u7981\u7528pressure advance\u3002 \u4e00\u65e6\u5728 Klipper \u4e2d\u8abf\u6574\u4e86pressure advance\uff0c\u5728\u5207\u7247\u5668\u4e2d\u914d\u7f6e\u4e00\u500b\u5c0f\u7684\u7e2e\u56de\u503c\uff08\u4f8b\u5982 0.75 \u6beb\u7c73\uff09\u4e26\u4f7f\u7528\u5207\u7247\u5668\u7684\u201c\u7e2e\u56de\u6642\u64e6\u9664\u9078\u9805\u201d\uff08\u5982\u679c\u53ef\u7528\uff09\u53ef\u80fd\u4ecd\u7136\u6709\u7528\u3002\u9019\u4e9b\u5207\u7247\u5668\u8a2d\u7f6e\u53ef\u80fd\u6709\u52a9\u65bc\u62b5\u6d88\u7531\u7d30\u7d72\u5167\u805a\uff08\u7531\u65bc\u5851\u6599\u7684\u7c98\u6027\u800c\u5f9e\u5674\u5634\u4e2d\u62c9\u51fa\u7d30\u7d72\uff09\u5f15\u8d77\u7684\u6ef2\u51fa\u3002\u5efa\u8b70\u7981\u7528\u5207\u7247\u5668\u7684\u201c\u7e2e\u56de\u6642\u7684 z-lift\u201d\u9078\u9805\u3002 \u58d3\u529b\u63a8\u9032\u7cfb\u7d71\u4e0d\u6703\u6539\u8b8a\u5de5\u5177\u982d\u7684\u6642\u9593\u6216\u8def\u5f91\u3002\u555f\u7528\u58d3\u529b\u63a8\u9032\u7684\u6253\u5370\u5c07\u82b1\u8cbb\u8207\u6c92\u6709\u58d3\u529b\u63a8\u9032\u7684\u6253\u5370\u76f8\u540c\u7684\u6642\u9593\u3002pressure advance\u4e5f\u4e0d\u6703\u6539\u8b8a\u6253\u5370\u904e\u7a0b\u4e2d\u64e0\u51fa\u7684\u9577\u7d72\u7e3d\u91cf\u3002\u5728\u79fb\u52d5\u52a0\u901f\u548c\u6e1b\u901f\u904e\u7a0b\u4e2d\uff0cpressure advance\u6703\u5c0e\u81f4\u984d\u5916\u7684\u64e0\u51fa\u6a5f\u79fb\u52d5\u3002\u975e\u5e38\u9ad8\u7684pressure advance\u8a2d\u7f6e\u5c07\u5c0e\u81f4\u64e0\u51fa\u6a5f\u5728\u52a0\u901f\u548c\u6e1b\u901f\u904e\u7a0b\u4e2d\u79fb\u52d5\u975e\u5e38\u5927\uff0c\u4e26\u4e14\u6c92\u6709\u914d\u7f6e\u8a2d\u7f6e\u5c0d\u79fb\u52d5\u91cf\u9032\u884c\u9650\u5236\u3002","title":"\u91cd\u8981\u63d0\u793a"},{"location":"Probe_Calibrate.html","text":"\u63a2\u91dd\u6821\u6e96 \u00b6 \u672c\u6587\u4ef6\u4ecb\u7d39\u4e86\u5728 Klipper \u4e2d\u6821\u6e96\"\u81ea\u52d5 Z \u63a2\u91dd\" X\u3001Y \u548c Z \u504f\u79fb\u7684\u6d41\u7a0b\u3002\u9019\u5c0d\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u5177\u6709 [probe] \u6216 [bltouch] \u90e8\u5206\u7684\u5370\u8868\u6a5f\u975e\u5e38\u6709\u7528\u3002 \u63a2\u91ddX/Y\u504f\u79fb\u6821\u6e96 \u00b6 \u70ba\u6821\u6b63X\u3001Y\u504f\u79fb\u503c\uff0c\u9996\u5148\u6253\u958bOctoPrint\u4e2d\u7684\u300c\u63a7\u5236\uff08control\uff09\u300d\u5b50\u9801\u9762\uff0c\u9032\u884c\u4e09\u8ef8\u7684\u6b78\u96f6\uff0c\u7136\u5f8c\u7528OctoPrint\u5167\u7684\u624b\u8abf\u6309\u9215\u5c07\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002 \u63a2\u91dd\u4e0b\u65b9\u7684\u71b1\u5e8a\u4e0a\u8cbc\u4e0a\u4e00\u7247\u7f8e\u7d0b\u7d19\uff08\u6216\u985e\u4f3c\u7684\u8584\u7247\uff09\u3002\u8f49\u5230OctoPrint\u7684\u300c\u547d\u4ee4\u5217\uff08Terminal\uff09\u300d\u5b50\u9801\uff0c\u8f38\u5165PROBE \u547d\u4ee4\u4e26\u56de\u8eca\uff1a PROBE \u5728\u63a2\u91dd\u6b63\u4e0b\u65b9\u7684\u7f8e\u7d0b\u7d19\u4e0a\uff0c\u7528\u8a18\u865f\u7b46\u6a19\u8a3b\u63a2\u91dd\u89f8\u767c\u7684\u4f4d\u7f6e\uff08\u6216\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5\u8a18\u9304\u4e0b\u63a2\u91dd\u89f8\u767c\u6642\u7684\u7269\u7406\u4f4d\u7f6e\uff09\u3002 \u5728\u547d\u4ee4\u5217\u4e2d\u8f38\u5165 GET_POSITION \u547d\u4ee4\uff0c\u56de\u8eca\uff0c\u8a18\u9304\u4e0b\u6b64\u6642\u5217\u5370\u982d\u7684XY\u4f4d\u7f6e\u3002\u8f38\u51fa\u5982\u4e0b\uff1a Recv: // toolhead: X:46.500000 Y:27.000000 Z:15.000000 E:0.000000 \u6b64\u6642\uff0c\u6211\u5011\u53ef\u4ee5\u77e5\u9053\u63a2\u91dd\u89f8\u767c\u7684X\u5ea7\u6a19\u70ba46.5\uff0cY\u5ea7\u6a19\u70ba27\u3002 \u8a18\u9304\u4e0b\u4e0a\u8ff0\u7684\u5ea7\u6a19\u540e\uff0c\u5728\u547d\u4ee4\u5217\u4f7f\u7528\u4e00\u7cfb\u5217\u7684 G1 \u547d\u4ee4\uff0c\u4f7f\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u8a18\u865f\u7684\u6b63\u4e0a\u65b9\u3002\u4f8b\u5982\uff1a G1 F300 X57 Y30 Z15 \u5c07\u5674\u5634\u79fb\u52d5\u5230X 57\uff0c Y 30\u4e0a\u3002\u7576\u5674\u5634\u7684\u4f4d\u7f6e\u525b\u597d\u4f4d\u65bc\u5e7e\u865f\u4e0a\u6642\uff0c\u5728\u547d\u4ee4\u5217\u9375\u5165 GET_POSITION \u7372\u5f97\u6b64\u6642\u5674\u5634\u6240\u5728\u7684\u5ea7\u6a19\u3002 X\u504f\u79fb\u503c\u70ba \u5674\u5634X\u5ea7\u6a19\u503c - \u63a2\u91ddX\u5ea7\u6a19\u503c \uff0c \u985e\u4f3c\u5730\uff0c Y\u504f\u79fb\u503c\u70ba \u5674\u5634Y\u5ea7\u6a19\u503c - \u63a2\u91ddY\u5ea7\u6a19\u503c \u3002\u5c07\u4e0a\u8ff0\u6578\u503c\u66f4\u65b0\u5230printer.cfg\u6a94\u6848\u5167\uff0c\u6380\u6389\u71b1\u5e8a\u4e0a\u7684\u7f8e\u7d0b\u7d19/\u81a0\u5e36\uff0c\u4e26\u91cd\u555fKlipper\u4ee5\u4f7f\u8a2d\u5b9a\u751f\u6548\u3002 \u63a2\u91ddZ\u504f\u79fb\u503c\u6821\u6e96 \u00b6 \u6e96\u78ba\u7684\u63a2\u91dd z \u504f\u79fb(z_offset)\u662f\u9ad8\u8cea\u91cf\u5217\u5370\u7684\u57fa\u790e\u3002z \u504f\u79fb\u662f\u63a2\u91dd\u89f8\u767c\u6642\u63a2\u91dd\u548c\u5674\u5634\u4e4b\u9593\u7684\u9ad8\u5ea6\u5dee\u3002Klipper \u4e2d\u7684 PROBE_CALIBRATE \uff08\u63a2\u91dd\u6821\u6e96\uff09\u5de5\u5177\u53ef\u7528\u65bc\u6e2c\u91cf\u9019\u500b\u503c\u2014\u2014\u9996\u5148\uff0c\u8a72\u5de5\u5177\u6703\u57f7\u884c\u4e00\u6b21\u81ea\u52d5\u63a2\u6e2c\u4ee5\u7372\u53d6\u63a2\u91dd\u7684 z \u89f8\u767c\u4f4d\u7f6e\uff0c\u7136\u5f8c\u9700\u8981\u624b\u52d5\u8abf\u6574Z\u5ea7\u6a19\u4ee5\u7372\u53d6\u5674\u5634\u78b0\u89f8\u5230\u71b1\u5e8a\u6642\u7684 z \u9ad8\u5ea6\u3002\u7136\u5f8c\u5c07\u6839\u64da\u9019\u4e9b\u6e2c\u91cf\u503c\u8a08\u7b97\u63a2\u91dd\u7684 z \u504f\u79fb\u3002 \u9996\u5148\u9032\u884c\u4e09\u8ef8\u7684\u6b78\u96f6\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u8f49\u5230OctoPrint\u7684\u300c\u547d\u4ee4\u5217\uff08Terminal\uff09\u300d\u5b50\u9801\uff0c\u8f38\u5165 PROBE_CALIBRATE \u4ee5\u555f\u52d5z_offset\u6821\u6e96\u5de5\u5177\u3002 \u5de5\u5177\u9996\u5148\u6703\u4ee4\u63a2\u91dd\u9032\u884c\u4e00\u6b21\u81ea\u52d5\u63a2\u6e2c\uff0c\u7372\u53d6\u89f8\u767c\u63a2\u91dd\u7684z\u4f4d\u7f6e\uff0c\u4e4b\u5f8c\uff0c\u63a7\u5236\u5674\u5634\u4e0a\u5347\uff0c\u4e26\u5c07\u5674\u5634\u7684X/Y\u4f4d\u7f6e\u79fb\u52d5\u5230\u63a2\u91dd\u5c0d\u61c9\u4f4d\u7f6e\u4e0a\uff0c\u4e26\u958b\u59cb\u624b\u52d5\u8abf\u5e73\u6d41\u7a0b\u3002\u5982\u679c\u5674\u5634\u6c92\u6709\u79fb\u52d5\u5230\u63a2\u91dd\u9032\u884c\u81ea\u52d5\u63a2\u6e2c\u7684\u4f4d\u7f6e\uff0c\u8f38\u5165 ABORT \u4ee5\u505c\u6b62\u624b\u52d5\u8abf\u5e73\uff0c\u4e26\u4e0a\u6587\u6839\u64daX\u3001y\u504f\u79fb\u6821\u6e96\u6d41\u7a0b\u9032\u884c\u63a2\u91ddX\u3001Y\u6821\u6e96\u3002 \u9032\u5165\u624b\u52d5\u8abf\u5e73\u7684\u904e\u7a0b\u540e\uff0c\u8acb\u6309\u7167 \u300c\u7d19\u7247\u6e2c\u8a66\u300d \u7684\u6d41\u7a0b\uff0c\u78ba\u5b9a\u5728\u63a2\u91dd\u63a2\u6e2c\u4f4d\u7f6e\u4e0a\uff0c\u5674\u5634\u8207\u71b1\u5e8a\u4e4b\u9593\u7684\u8ddd\u96e2\u3002\u5b8c\u6210\u4e0a\u8ff0\u6d41\u7a0b\u540e\uff0c\u4f7f\u7528 ACCEPT \u547d\u4ee4\u5c07\u6e2c\u91cf\u5230\u7684z_offset\u61c9\u7528\u5230\u76ee\u524d\u914d\u7f6e\uff0c\u5982\u9700\u8981\u5132\u5b58\u914d\u7f6e\u5230\u6a94\u6848\uff0c\u5247\u9375\u5165\uff1a SAVE_CONFIG \u6ce8\u610f\uff01\u5982\u679c\u4fee\u6539\u4e86\u5370\u8868\u6a5f\u7684\u904b\u52d5\u7cfb\u7d71\u3001\u5674\u5634\u4f4d\u7f6e\u6216\u63a2\u91dd\u4f4d\u7f6e\u4e2d\u7684\u4efb\u610f\u4e00\u9805\uff0cPROBE_CALIBRATE\u7684\u7d50\u679c\u5c07\u6703\u9700\u8981\u91cd\u65b0\u6e2c\u91cf\u3002 \u5982\u679c\u63a2\u91dd\u7684\u7269\u7406X\u3001Y\u504f\u79fb\u91cf\uff0c\u6216\u71b1\u5e8a\u7684\u50be\u659c\u5ea6\u767c\u751f\u8b8a\u5316\uff08\u5982 \u8abf\u6574\u4e86\u71b1\u5e8a\u8abf\u5e73\u87ba\u6bcd\uff0c\u9032\u884cDELTA_CALIBRATE\uff0c\u9032\u884cZ_TILT_ADJUST\uff0c\u9032\u884cQUAD_GANTRY_LEVEL\u6216\u5176\u4ed6\u884c\u70ba\uff09\uff0c\u4e5f\u61c9\u9032\u884c\u4e00\u6b21PROBE_CALiRATE\u3002 \u4e0a\u8ff0\u4f7fPROBE_CALIBRATE\u7d50\u679c\u5931\u6548\u7684\u884c\u70ba\uff0c\u540c\u6a23\u6703\u4f7f\u4f7f\u7528\u63a2\u91dd\u6e2c\u91cf\u7684 \u5e8a\u7db2 \u7d50\u679c\u5931\u6548\u3002\u63a8\u85a6\u5728\u5b8c\u6210PROBE_CALIBRATE\u540e\u518d\u9032\u884c\u4e00\u6b21BED_MESH_CALIBRATE\u3002 \u91cd\u8907\u6027\u6e2c\u8a66 \u00b6 \u5728\u5b8c\u6210\u63a2\u91dd\u7684X\u3001Y\u3001Z\u504f\u79fb\u7684\u6821\u6e96\u540e\uff0c\u63a8\u85a6\u9032\u884c\u63a2\u91dd\u7684\u91cd\u8907\u6027\u6e2c\u8a66\u3002\u9996\u5148\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u4e09\u9031\u6b78\u96f6\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u9032\u5165OctoPrint\u7684\u547d\u4ee4\u5217\u754c\u9762\uff0c\u57f7\u884c PROBE_ACCURACY \u547d\u4ee4\u3002 \u8a72\u547d\u4ee4\u6703\u5c31\u5730\u9032\u884c10\u6b21\u63a2\u91dd\u6e2c\u91cf\uff0c\u4e26\u8f38\u51fa\u985e\u4f3c\u4e0b\u65b9\u7684\u7d50\u679c\uff1a Recv: // probe accuracy: at X:0.000 Y:0.000 Z:10.000 Recv: // and read 10 times with speed of 5 mm/s Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe accuracy results: maximum 2.519448, minimum 2.506948, range 0.012500, average 2.513198, median 2.513198, standard deviation 0.006250 \u7406\u60f3\u72c0\u6cc1\u4e0b\uff0c\u4f7f\u7528\u63a2\u91dd\u6e2c\u91cf\u7684\u6240\u6709\u7d50\u679c\u61c9\u8a72\u4e00\u81f4\uff08\u4e5f\u5c31\u662f10\u6b21\u6e2c\u91cf\u7684\u7d50\u679c\u70ba\u540c\u4e00\u503c\uff09\u3002\u7136\u800c\uff0c\u6e2c\u91cf\u7d50\u679c\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u4e4b\u9593\u5dee\u8ddd \u300c\u4e00\u500bz\u96fb\u6a5f\u6b65\u9577\u300d\u62165\u5fae\u7c73\uff0c\u4e5f\u662f\u6b63\u5e38\u7684\u60c5\u6cc1\u3002\u4e00\u500b\u300c\u96fb\u6a5f\u6b65\u9577\u300d\u662f \u65cb\u8f49\u4e00\u9031\u7684\u9577\u5ea6/(\u65cb\u8f49\u4e00\u9031\u9700\u8981\u7684\u6b65\u6578*\u9a45\u52d5\u5fae\u6b65\u8a2d\u5b9a) \u3002\u6e2c\u91cf\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u7684\u5dee\u503c\u7a31\u70ba\u504f\u5dee\u7bc4\u570d\u3002\u6545\u5728\u4e0a\u8ff0\u7684\u4f8b\u5b50\u4e2d\uff0c\u56e0\u70ba\u5370\u8868\u6a5f\u7684z\u6b65\u9577\u70ba0.0125\uff0c\u56e0\u6b64\u8aa4\u5dee\u7bc4\u570d\u57280.012500mm\u53ef\u4ee5\u8a8d\u70ba\u662f\u6b63\u5e38\u503c\u3002 \u5982\u679c\u6e2c\u8a66\u7d50\u679c\u986f\u793a\u7bc4\u570d(range)\u503c\u5927\u65bc25\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\uff0c\u90a3\u9ebc\u63a2\u91dd\u4e0d\u6eff\u8db3\u5178\u578b\u7684\u5e8a\u9762\u8abf\u5e73\u6d41\u7a0b\u7684\u7cbe\u78ba\u5ea6\u8981\u6c42\u3002\u53ef\u4ee5\u5617\u8a66\u8abf\u6574\u63a2\u6e2c\u901f\u5ea6\u548c/\u6216\u63a2\u6e2c\u8d77\u9ede\u9ad8\u5ea6\u4ee5\u63d0\u9ad8\u63a2\u982d\u7684\u91cd\u8907\u6027\u3002 PROBE_ACCURACY \u547d\u4ee4\u5141\u8a31\u4f7f\u7528\u4e0d\u540c\u7684\u53c3\u6578\u9032\u884c\u6e2c\u8a66\uff0c\u4ee5\u77ad\u89e3\u5b83\u5011\u7684\u5f71\u97ff - \u8acb\u53c3\u95b1 G-Code\u6587\u4ef6 \u77ad\u89e3\u66f4\u591a\u7d30\u7bc0\u3002\u5982\u679c\u63a2\u91dd\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\u80fd\u7372\u5f97\u53ef\u91cd\u8907\u7684\u7d50\u679c\uff0c\u4f46\u5076\u723e\u6703\u51fa\u73fe\u7570\u5e38\u503c\uff0c\u90a3\u9ebc\u53ef\u4ee5\u589e\u52a0\u5728\u6bcf\u500b\u63a2\u6e2c\u9ede\u7684\u63a2\u6e2c\u6b21\u6578\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c--\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \u4e2d\u95dc\u65bc\u63a2\u91dd samples \u914d\u7f6e\u53c3\u6578\u7684\u63cf\u8ff0\u3002 \u8981\u66f4\u6539\u63a2\u91dd\u6e2c\u8a66\u901f\u5ea6\uff0c\u91cd\u8907\u63a1\u6a23\u6216\u5176\u4ed6\u8a2d\u5b9a\uff0c\u61c9\u5728\u4fee\u6539printer.cfg\u4f7f\u7528 RESTART \u547d\u4ee4\u4ee5\u61c9\u7528\u4fee\u6539\u503c\u3002\u63a8\u85a6\u5728\u4f7f\u7528\u65b0\u8a2d\u5b9a\u503c\u540e\u518d\u9032\u884c\u4e00\u6b21 Z\u504f\u79fb\u6821\u6e96 \u3002\u5982\u679c\u91cd\u8907\u6027\u6e2c\u8a66\u7d50\u8ad6\u4e0d\u80fd\u63a5\u53d7\uff0c\u5efa\u8b70\u4e0d\u8981\u4f7f\u7528\u81ea\u52d5\u71b1\u5e8a\u8abf\u5e73\u529f\u80fd\u3002Klipper\u63d0\u4f9b\u4e86\u6578\u7a2e\u624b\u52d5\u8abf\u5e73\u7684\u5de5\u5177\uff0c\u8a73\u60c5\u8acb\u898b \u5217\u5370\u5e8a\u8abf\u5e73 \u3002 \u5340\u57df\u6027\u504f\u5dee\u78ba\u5b9a \u00b6 \u4e00\u4e9b\u63a2\u91dd\u53ef\u80fd\u5177\u6709\u8207\u4f4d\u7f6e\u76f8\u95dc\u7684\u7cfb\u7d71\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u7531\u65bc\u63a2\u91dd\u5b89\u88dd\u5931\u8aa4\uff0c\u63a2\u91dd\u6cbfY\u8ef8\u79fb\u52d5\u6703\u7522\u751f\u50be\u659c\uff0c\u90a3\u9ebc\u63a2\u91dd\u5728\u6cbfY\u8ef8\u9032\u884c\u6e2c\u91cf\u5f97\u51fa\u7684\u7d50\u679c\u6703\u5b58\u5728\u504f\u5dee\u3002 \u4e0a\u8ff0\u72c0\u6cc1\u5f80\u5f80\u51fa\u73fe\u5728\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u4e0a\uff0c\u7136\u800c\uff0c\u6240\u6709\u5370\u8868\u6a5f\u5747\u6709\u53ef\u80fd\u767c\u751f\u4e0a\u8ff0\u72c0\u6cc1\u3002 \u6211\u5011\u53ef\u4ee5\u5728\u4e0d\u540c\u7684XY\u4f4d\u7f6e\u4e0a\u4f7f\u7528 PROBE_CALIBRATE \u547d\u4ee4\u6e2c\u91cfz_offset\u4f86\u78ba\u5b9a\u4f4d\u7f6e\u504f\u5dee\u3002\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0cz_offset\u5728\u4efb\u610f\u4f4d\u7f6e\u5747\u70ba\u540c\u4e00\u8b80\u503c\u3002 \u5c0d\u65bc\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\uff0c\u8acb\u5617\u8a66\u4f9d\u6b21\u5728\u9760\u8fd1A\u67f1\u3001B\u67f1\u548cC\u67f1\u7684\u4f4d\u7f6e\u6e2c\u91cfz_offset\u3002\u5c0d\u65bc\u9f8d\u9580\u3001corexy\u6216\u985e\u4f3c\u7d50\u69cb\u5370\u8868\u6a5f\uff0c\u5617\u8a66\u5728\u71b1\u5e8a\u7684\u56db\u500b\u89d2\u9032\u884cz_offset\u7684\u6e2c\u91cf\u3002 \u5728\u9032\u884c\u4e0a\u8ff0\u6e2c\u8a66\u524d\uff0c\u61c9\u5148\u6309\u7167\u672c\u6587\u4ef6\u7684\u958b\u982d\u90e8\u5206\u5c0dX\u3001Y\u3001Z\u7684\u504f\u79fb\u503c\u9032\u884c\u6821\u6e96\uff0c\u7136\u5f8c\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u6b78\u96f6\uff0c\u4e26\u5c07\u63a2\u91dd\u79fb\u52d5\u5230\u9996\u500b\u76ee\u6a19XY\u4f4d\u7f6e\u3002\u6309\u7167 \u63a2\u91ddZ\u504f\u79fb\u503c\u6821\u6e96 \u7684\u6b65\u9a5f\uff0c\u57f7\u884c PROBE_CALIBRATE \uff0c\u91cd\u8907\u591a\u6b21 TESTZ \u547d\u4ee4\uff0c\u4e26\u5728\u5674\u5634\u89f8\u5e8a\u6642\u4f7f\u7528 ACCEPT \u547d\u4ee4\uff0c\u4f46\u662f \u5207\u52ff\u4f7f\u7528 SAVE_CONFIG \u3002\u624b\u52d5\u8a18\u4e0b\u6b64\u6642\u7684z_offset \u3002\u4e4b\u5f8c\u5c07\u63a2\u91dd\u79fb\u52d5\u5230\u5176\u4ed6XY\u4f4d\u7f6e\uff0c\u91cd\u8907\u4e0a\u8ff0\u7684 PROBE_CALIBRATE \u6b65\u9a5f\uff0c\u4e26\u5206\u5225\u8a18\u4e0bz_offset\u3002 \u5982\u679c\u4e0a\u8ff0\u65b9\u6cd5\u4e2d\u6e2c\u51fa\u7684\u6700\u5927z_offset \u548c\u6700\u5c0fz_offset \u4e4b\u9593\u7684\u5dee\u503c\u5927\u65bc25\u5fae\u7c73\uff08.025mm\uff09\uff0c\u5247\u8a72\u63a2\u91dd\u4e0d\u9069\u7528\u4e8e\u5e38\u898f\u7684\u71b1\u5e8a\u8abf\u5e73\u3002\u6b64\u6642\u61c9\u53c3\u7167 \u71b1\u5e8a\u8abf\u5e73 \u6587\u4ef6\u7684\u624b\u52d5\u8abf\u5e73\u90e8\u5206\u9032\u884c\u8abf\u5e73\u3002 \u6eab\u5ea6\u504f\u5dee \u00b6 \u5c0d\u65bc\u591a\u7a2e\u5f62\u5f0f\u7684\u63a2\u91dd\uff0c\u5728\u4e0d\u540c\u7684\u6eab\u5ea6\u4e0b\u5de5\u4f5c\u5747\u5177\u6709\u4e00\u5b9a\u7684\u7cfb\u7d71\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u5728\u9ad8\u6eab\u4e0b\uff0c\u63a2\u91dd\u53ef\u80fd\u7e3d\u662f\u5728\u66f4\u4f4e\u7684\u9ad8\u5ea6\u4e0b\u89f8\u767c\u3002 \u91dd\u5c0d\u9019\u7a2e\u504f\u5dee\uff0c\u5efa\u8b70\u5728\u6052\u5b9a\u7684\u6eab\u5ea6\u4e0b\u9032\u884c\u71b1\u5e8a\u8abf\u5e73\u3002\u5373\uff0c\u8981\u9ebc\u7e3d\u662f\u5728\u5ba4\u6eab\u4e0b\u9032\u884c\u5e8a\u7db2\u6e2c\u91cf\uff0c\u8981\u9ebc\u7e3d\u8981\u5728\u5de5\u4f5c\u6eab\u5ea6\u4e0b\u9032\u884c\u3002\u7121\u8ad6\u63a1\u53d6\u54ea\u7a2e\u65b9\u6848\uff0c\u90fd\u63a8\u85a6\u5728\u9054\u5230\u76ee\u6a19\u6eab\u5ea6\u6578\u5206\u9418\u540e\u518d\u9032\u884c\u6e2c\u91cf\uff0c\u4ee5\u4fbf\u5370\u8868\u6a5f\u59cb\u7d42\u8655\u65bc\u76ee\u6a19\u6eab\u5ea6\u3002 \u8981\u6e2c\u91cf\u6eab\u5ea6\u504f\u5dee\uff0c\u9996\u5148\u78ba\u4fdd\u5370\u8868\u6a5f\u8655\u65bc\u5ba4\u6eab\uff0c\u5c0d\u4e09\u8ef8\u9032\u884c\u6b78\u96f6\uff0c\u7136\u5f8c\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u71b1\u5e8a\u4e2d\u592e\uff0c\u57f7\u884c PROBE_ACCURACY \u547d\u4ee4\u3002\u8a18\u4e0b\u6b64\u6642\u7684\u8b80\u6578\u3002\u4e4b\u5f8c\uff0c\u5728\u4e0d\u6b78\u96f6\u6216\u95dc\u9589\u96fb\u6a5f\u7684\u60c5\u6cc1\u4e0b\uff0c\u52a0\u71b1\u5674\u5634\u548c\u71b1\u5e8a\u5230\u5de5\u4f5c\u6eab\u5ea6\uff0c\u4e26\u518d\u6b21\u57f7\u884c PROBE_ACCURACY \u3002\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u5169\u6b21\u63a2\u91dd\u6e2c\u91cf\u6703\u5f97\u51fa\u76f8\u540c\u7684\u7d50\u679c\u3002\u4f46\u82e5\u6eab\u5ea6\u504f\u5dee\u5b58\u5728\uff0c\u5efa\u8b70\u6bcf\u6b21\u9054\u5230\u5de5\u4f5c\u6eab\u5ea6\u540e\u518d\u9032\u884c\u6e2c\u91cf\u3002","title":"\u63a2\u91dd\u6821\u6e96"},{"location":"Probe_Calibrate.html#_1","text":"\u672c\u6587\u4ef6\u4ecb\u7d39\u4e86\u5728 Klipper \u4e2d\u6821\u6e96\"\u81ea\u52d5 Z \u63a2\u91dd\" X\u3001Y \u548c Z \u504f\u79fb\u7684\u6d41\u7a0b\u3002\u9019\u5c0d\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u5177\u6709 [probe] \u6216 [bltouch] \u90e8\u5206\u7684\u5370\u8868\u6a5f\u975e\u5e38\u6709\u7528\u3002","title":"\u63a2\u91dd\u6821\u6e96"},{"location":"Probe_Calibrate.html#xy","text":"\u70ba\u6821\u6b63X\u3001Y\u504f\u79fb\u503c\uff0c\u9996\u5148\u6253\u958bOctoPrint\u4e2d\u7684\u300c\u63a7\u5236\uff08control\uff09\u300d\u5b50\u9801\u9762\uff0c\u9032\u884c\u4e09\u8ef8\u7684\u6b78\u96f6\uff0c\u7136\u5f8c\u7528OctoPrint\u5167\u7684\u624b\u8abf\u6309\u9215\u5c07\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002 \u63a2\u91dd\u4e0b\u65b9\u7684\u71b1\u5e8a\u4e0a\u8cbc\u4e0a\u4e00\u7247\u7f8e\u7d0b\u7d19\uff08\u6216\u985e\u4f3c\u7684\u8584\u7247\uff09\u3002\u8f49\u5230OctoPrint\u7684\u300c\u547d\u4ee4\u5217\uff08Terminal\uff09\u300d\u5b50\u9801\uff0c\u8f38\u5165PROBE \u547d\u4ee4\u4e26\u56de\u8eca\uff1a PROBE \u5728\u63a2\u91dd\u6b63\u4e0b\u65b9\u7684\u7f8e\u7d0b\u7d19\u4e0a\uff0c\u7528\u8a18\u865f\u7b46\u6a19\u8a3b\u63a2\u91dd\u89f8\u767c\u7684\u4f4d\u7f6e\uff08\u6216\u4f7f\u7528\u5176\u4ed6\u65b9\u6cd5\u8a18\u9304\u4e0b\u63a2\u91dd\u89f8\u767c\u6642\u7684\u7269\u7406\u4f4d\u7f6e\uff09\u3002 \u5728\u547d\u4ee4\u5217\u4e2d\u8f38\u5165 GET_POSITION \u547d\u4ee4\uff0c\u56de\u8eca\uff0c\u8a18\u9304\u4e0b\u6b64\u6642\u5217\u5370\u982d\u7684XY\u4f4d\u7f6e\u3002\u8f38\u51fa\u5982\u4e0b\uff1a Recv: // toolhead: X:46.500000 Y:27.000000 Z:15.000000 E:0.000000 \u6b64\u6642\uff0c\u6211\u5011\u53ef\u4ee5\u77e5\u9053\u63a2\u91dd\u89f8\u767c\u7684X\u5ea7\u6a19\u70ba46.5\uff0cY\u5ea7\u6a19\u70ba27\u3002 \u8a18\u9304\u4e0b\u4e0a\u8ff0\u7684\u5ea7\u6a19\u540e\uff0c\u5728\u547d\u4ee4\u5217\u4f7f\u7528\u4e00\u7cfb\u5217\u7684 G1 \u547d\u4ee4\uff0c\u4f7f\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u8a18\u865f\u7684\u6b63\u4e0a\u65b9\u3002\u4f8b\u5982\uff1a G1 F300 X57 Y30 Z15 \u5c07\u5674\u5634\u79fb\u52d5\u5230X 57\uff0c Y 30\u4e0a\u3002\u7576\u5674\u5634\u7684\u4f4d\u7f6e\u525b\u597d\u4f4d\u65bc\u5e7e\u865f\u4e0a\u6642\uff0c\u5728\u547d\u4ee4\u5217\u9375\u5165 GET_POSITION \u7372\u5f97\u6b64\u6642\u5674\u5634\u6240\u5728\u7684\u5ea7\u6a19\u3002 X\u504f\u79fb\u503c\u70ba \u5674\u5634X\u5ea7\u6a19\u503c - \u63a2\u91ddX\u5ea7\u6a19\u503c \uff0c \u985e\u4f3c\u5730\uff0c Y\u504f\u79fb\u503c\u70ba \u5674\u5634Y\u5ea7\u6a19\u503c - \u63a2\u91ddY\u5ea7\u6a19\u503c \u3002\u5c07\u4e0a\u8ff0\u6578\u503c\u66f4\u65b0\u5230printer.cfg\u6a94\u6848\u5167\uff0c\u6380\u6389\u71b1\u5e8a\u4e0a\u7684\u7f8e\u7d0b\u7d19/\u81a0\u5e36\uff0c\u4e26\u91cd\u555fKlipper\u4ee5\u4f7f\u8a2d\u5b9a\u751f\u6548\u3002","title":"\u63a2\u91ddX/Y\u504f\u79fb\u6821\u6e96"},{"location":"Probe_Calibrate.html#z","text":"\u6e96\u78ba\u7684\u63a2\u91dd z \u504f\u79fb(z_offset)\u662f\u9ad8\u8cea\u91cf\u5217\u5370\u7684\u57fa\u790e\u3002z \u504f\u79fb\u662f\u63a2\u91dd\u89f8\u767c\u6642\u63a2\u91dd\u548c\u5674\u5634\u4e4b\u9593\u7684\u9ad8\u5ea6\u5dee\u3002Klipper \u4e2d\u7684 PROBE_CALIBRATE \uff08\u63a2\u91dd\u6821\u6e96\uff09\u5de5\u5177\u53ef\u7528\u65bc\u6e2c\u91cf\u9019\u500b\u503c\u2014\u2014\u9996\u5148\uff0c\u8a72\u5de5\u5177\u6703\u57f7\u884c\u4e00\u6b21\u81ea\u52d5\u63a2\u6e2c\u4ee5\u7372\u53d6\u63a2\u91dd\u7684 z \u89f8\u767c\u4f4d\u7f6e\uff0c\u7136\u5f8c\u9700\u8981\u624b\u52d5\u8abf\u6574Z\u5ea7\u6a19\u4ee5\u7372\u53d6\u5674\u5634\u78b0\u89f8\u5230\u71b1\u5e8a\u6642\u7684 z \u9ad8\u5ea6\u3002\u7136\u5f8c\u5c07\u6839\u64da\u9019\u4e9b\u6e2c\u91cf\u503c\u8a08\u7b97\u63a2\u91dd\u7684 z \u504f\u79fb\u3002 \u9996\u5148\u9032\u884c\u4e09\u8ef8\u7684\u6b78\u96f6\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u8f49\u5230OctoPrint\u7684\u300c\u547d\u4ee4\u5217\uff08Terminal\uff09\u300d\u5b50\u9801\uff0c\u8f38\u5165 PROBE_CALIBRATE \u4ee5\u555f\u52d5z_offset\u6821\u6e96\u5de5\u5177\u3002 \u5de5\u5177\u9996\u5148\u6703\u4ee4\u63a2\u91dd\u9032\u884c\u4e00\u6b21\u81ea\u52d5\u63a2\u6e2c\uff0c\u7372\u53d6\u89f8\u767c\u63a2\u91dd\u7684z\u4f4d\u7f6e\uff0c\u4e4b\u5f8c\uff0c\u63a7\u5236\u5674\u5634\u4e0a\u5347\uff0c\u4e26\u5c07\u5674\u5634\u7684X/Y\u4f4d\u7f6e\u79fb\u52d5\u5230\u63a2\u91dd\u5c0d\u61c9\u4f4d\u7f6e\u4e0a\uff0c\u4e26\u958b\u59cb\u624b\u52d5\u8abf\u5e73\u6d41\u7a0b\u3002\u5982\u679c\u5674\u5634\u6c92\u6709\u79fb\u52d5\u5230\u63a2\u91dd\u9032\u884c\u81ea\u52d5\u63a2\u6e2c\u7684\u4f4d\u7f6e\uff0c\u8f38\u5165 ABORT \u4ee5\u505c\u6b62\u624b\u52d5\u8abf\u5e73\uff0c\u4e26\u4e0a\u6587\u6839\u64daX\u3001y\u504f\u79fb\u6821\u6e96\u6d41\u7a0b\u9032\u884c\u63a2\u91ddX\u3001Y\u6821\u6e96\u3002 \u9032\u5165\u624b\u52d5\u8abf\u5e73\u7684\u904e\u7a0b\u540e\uff0c\u8acb\u6309\u7167 \u300c\u7d19\u7247\u6e2c\u8a66\u300d \u7684\u6d41\u7a0b\uff0c\u78ba\u5b9a\u5728\u63a2\u91dd\u63a2\u6e2c\u4f4d\u7f6e\u4e0a\uff0c\u5674\u5634\u8207\u71b1\u5e8a\u4e4b\u9593\u7684\u8ddd\u96e2\u3002\u5b8c\u6210\u4e0a\u8ff0\u6d41\u7a0b\u540e\uff0c\u4f7f\u7528 ACCEPT \u547d\u4ee4\u5c07\u6e2c\u91cf\u5230\u7684z_offset\u61c9\u7528\u5230\u76ee\u524d\u914d\u7f6e\uff0c\u5982\u9700\u8981\u5132\u5b58\u914d\u7f6e\u5230\u6a94\u6848\uff0c\u5247\u9375\u5165\uff1a SAVE_CONFIG \u6ce8\u610f\uff01\u5982\u679c\u4fee\u6539\u4e86\u5370\u8868\u6a5f\u7684\u904b\u52d5\u7cfb\u7d71\u3001\u5674\u5634\u4f4d\u7f6e\u6216\u63a2\u91dd\u4f4d\u7f6e\u4e2d\u7684\u4efb\u610f\u4e00\u9805\uff0cPROBE_CALIBRATE\u7684\u7d50\u679c\u5c07\u6703\u9700\u8981\u91cd\u65b0\u6e2c\u91cf\u3002 \u5982\u679c\u63a2\u91dd\u7684\u7269\u7406X\u3001Y\u504f\u79fb\u91cf\uff0c\u6216\u71b1\u5e8a\u7684\u50be\u659c\u5ea6\u767c\u751f\u8b8a\u5316\uff08\u5982 \u8abf\u6574\u4e86\u71b1\u5e8a\u8abf\u5e73\u87ba\u6bcd\uff0c\u9032\u884cDELTA_CALIBRATE\uff0c\u9032\u884cZ_TILT_ADJUST\uff0c\u9032\u884cQUAD_GANTRY_LEVEL\u6216\u5176\u4ed6\u884c\u70ba\uff09\uff0c\u4e5f\u61c9\u9032\u884c\u4e00\u6b21PROBE_CALiRATE\u3002 \u4e0a\u8ff0\u4f7fPROBE_CALIBRATE\u7d50\u679c\u5931\u6548\u7684\u884c\u70ba\uff0c\u540c\u6a23\u6703\u4f7f\u4f7f\u7528\u63a2\u91dd\u6e2c\u91cf\u7684 \u5e8a\u7db2 \u7d50\u679c\u5931\u6548\u3002\u63a8\u85a6\u5728\u5b8c\u6210PROBE_CALIBRATE\u540e\u518d\u9032\u884c\u4e00\u6b21BED_MESH_CALIBRATE\u3002","title":"\u63a2\u91ddZ\u504f\u79fb\u503c\u6821\u6e96"},{"location":"Probe_Calibrate.html#_2","text":"\u5728\u5b8c\u6210\u63a2\u91dd\u7684X\u3001Y\u3001Z\u504f\u79fb\u7684\u6821\u6e96\u540e\uff0c\u63a8\u85a6\u9032\u884c\u63a2\u91dd\u7684\u91cd\u8907\u6027\u6e2c\u8a66\u3002\u9996\u5148\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u4e09\u9031\u6b78\u96f6\uff0c\u7136\u5f8c\u5c07\u5674\u5634\u79fb\u52d5\u5230\u71b1\u5e8a\u7684\u4e2d\u592e\u4f4d\u7f6e\u3002\u9032\u5165OctoPrint\u7684\u547d\u4ee4\u5217\u754c\u9762\uff0c\u57f7\u884c PROBE_ACCURACY \u547d\u4ee4\u3002 \u8a72\u547d\u4ee4\u6703\u5c31\u5730\u9032\u884c10\u6b21\u63a2\u91dd\u6e2c\u91cf\uff0c\u4e26\u8f38\u51fa\u985e\u4f3c\u4e0b\u65b9\u7684\u7d50\u679c\uff1a Recv: // probe accuracy: at X:0.000 Y:0.000 Z:10.000 Recv: // and read 10 times with speed of 5 mm/s Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe at -0.003,0.005 is z=2.519448 Recv: // probe at -0.003,0.005 is z=2.506948 Recv: // probe accuracy results: maximum 2.519448, minimum 2.506948, range 0.012500, average 2.513198, median 2.513198, standard deviation 0.006250 \u7406\u60f3\u72c0\u6cc1\u4e0b\uff0c\u4f7f\u7528\u63a2\u91dd\u6e2c\u91cf\u7684\u6240\u6709\u7d50\u679c\u61c9\u8a72\u4e00\u81f4\uff08\u4e5f\u5c31\u662f10\u6b21\u6e2c\u91cf\u7684\u7d50\u679c\u70ba\u540c\u4e00\u503c\uff09\u3002\u7136\u800c\uff0c\u6e2c\u91cf\u7d50\u679c\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u4e4b\u9593\u5dee\u8ddd \u300c\u4e00\u500bz\u96fb\u6a5f\u6b65\u9577\u300d\u62165\u5fae\u7c73\uff0c\u4e5f\u662f\u6b63\u5e38\u7684\u60c5\u6cc1\u3002\u4e00\u500b\u300c\u96fb\u6a5f\u6b65\u9577\u300d\u662f \u65cb\u8f49\u4e00\u9031\u7684\u9577\u5ea6/(\u65cb\u8f49\u4e00\u9031\u9700\u8981\u7684\u6b65\u6578*\u9a45\u52d5\u5fae\u6b65\u8a2d\u5b9a) \u3002\u6e2c\u91cf\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u7684\u5dee\u503c\u7a31\u70ba\u504f\u5dee\u7bc4\u570d\u3002\u6545\u5728\u4e0a\u8ff0\u7684\u4f8b\u5b50\u4e2d\uff0c\u56e0\u70ba\u5370\u8868\u6a5f\u7684z\u6b65\u9577\u70ba0.0125\uff0c\u56e0\u6b64\u8aa4\u5dee\u7bc4\u570d\u57280.012500mm\u53ef\u4ee5\u8a8d\u70ba\u662f\u6b63\u5e38\u503c\u3002 \u5982\u679c\u6e2c\u8a66\u7d50\u679c\u986f\u793a\u7bc4\u570d(range)\u503c\u5927\u65bc25\u5fae\u7c73\uff080.025\u6beb\u7c73\uff09\uff0c\u90a3\u9ebc\u63a2\u91dd\u4e0d\u6eff\u8db3\u5178\u578b\u7684\u5e8a\u9762\u8abf\u5e73\u6d41\u7a0b\u7684\u7cbe\u78ba\u5ea6\u8981\u6c42\u3002\u53ef\u4ee5\u5617\u8a66\u8abf\u6574\u63a2\u6e2c\u901f\u5ea6\u548c/\u6216\u63a2\u6e2c\u8d77\u9ede\u9ad8\u5ea6\u4ee5\u63d0\u9ad8\u63a2\u982d\u7684\u91cd\u8907\u6027\u3002 PROBE_ACCURACY \u547d\u4ee4\u5141\u8a31\u4f7f\u7528\u4e0d\u540c\u7684\u53c3\u6578\u9032\u884c\u6e2c\u8a66\uff0c\u4ee5\u77ad\u89e3\u5b83\u5011\u7684\u5f71\u97ff - \u8acb\u53c3\u95b1 G-Code\u6587\u4ef6 \u77ad\u89e3\u66f4\u591a\u7d30\u7bc0\u3002\u5982\u679c\u63a2\u91dd\u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\u80fd\u7372\u5f97\u53ef\u91cd\u8907\u7684\u7d50\u679c\uff0c\u4f46\u5076\u723e\u6703\u51fa\u73fe\u7570\u5e38\u503c\uff0c\u90a3\u9ebc\u53ef\u4ee5\u589e\u52a0\u5728\u6bcf\u500b\u63a2\u6e2c\u9ede\u7684\u63a2\u6e2c\u6b21\u6578\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c--\u8a73\u898b \u914d\u7f6e\u53c3\u8003 \u4e2d\u95dc\u65bc\u63a2\u91dd samples \u914d\u7f6e\u53c3\u6578\u7684\u63cf\u8ff0\u3002 \u8981\u66f4\u6539\u63a2\u91dd\u6e2c\u8a66\u901f\u5ea6\uff0c\u91cd\u8907\u63a1\u6a23\u6216\u5176\u4ed6\u8a2d\u5b9a\uff0c\u61c9\u5728\u4fee\u6539printer.cfg\u4f7f\u7528 RESTART \u547d\u4ee4\u4ee5\u61c9\u7528\u4fee\u6539\u503c\u3002\u63a8\u85a6\u5728\u4f7f\u7528\u65b0\u8a2d\u5b9a\u503c\u540e\u518d\u9032\u884c\u4e00\u6b21 Z\u504f\u79fb\u6821\u6e96 \u3002\u5982\u679c\u91cd\u8907\u6027\u6e2c\u8a66\u7d50\u8ad6\u4e0d\u80fd\u63a5\u53d7\uff0c\u5efa\u8b70\u4e0d\u8981\u4f7f\u7528\u81ea\u52d5\u71b1\u5e8a\u8abf\u5e73\u529f\u80fd\u3002Klipper\u63d0\u4f9b\u4e86\u6578\u7a2e\u624b\u52d5\u8abf\u5e73\u7684\u5de5\u5177\uff0c\u8a73\u60c5\u8acb\u898b \u5217\u5370\u5e8a\u8abf\u5e73 \u3002","title":"\u91cd\u8907\u6027\u6e2c\u8a66"},{"location":"Probe_Calibrate.html#_3","text":"\u4e00\u4e9b\u63a2\u91dd\u53ef\u80fd\u5177\u6709\u8207\u4f4d\u7f6e\u76f8\u95dc\u7684\u7cfb\u7d71\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u7531\u65bc\u63a2\u91dd\u5b89\u88dd\u5931\u8aa4\uff0c\u63a2\u91dd\u6cbfY\u8ef8\u79fb\u52d5\u6703\u7522\u751f\u50be\u659c\uff0c\u90a3\u9ebc\u63a2\u91dd\u5728\u6cbfY\u8ef8\u9032\u884c\u6e2c\u91cf\u5f97\u51fa\u7684\u7d50\u679c\u6703\u5b58\u5728\u504f\u5dee\u3002 \u4e0a\u8ff0\u72c0\u6cc1\u5f80\u5f80\u51fa\u73fe\u5728\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\u4e0a\uff0c\u7136\u800c\uff0c\u6240\u6709\u5370\u8868\u6a5f\u5747\u6709\u53ef\u80fd\u767c\u751f\u4e0a\u8ff0\u72c0\u6cc1\u3002 \u6211\u5011\u53ef\u4ee5\u5728\u4e0d\u540c\u7684XY\u4f4d\u7f6e\u4e0a\u4f7f\u7528 PROBE_CALIBRATE \u547d\u4ee4\u6e2c\u91cfz_offset\u4f86\u78ba\u5b9a\u4f4d\u7f6e\u504f\u5dee\u3002\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0cz_offset\u5728\u4efb\u610f\u4f4d\u7f6e\u5747\u70ba\u540c\u4e00\u8b80\u503c\u3002 \u5c0d\u65bc\u4e09\u89d2\u6d32\u5370\u8868\u6a5f\uff0c\u8acb\u5617\u8a66\u4f9d\u6b21\u5728\u9760\u8fd1A\u67f1\u3001B\u67f1\u548cC\u67f1\u7684\u4f4d\u7f6e\u6e2c\u91cfz_offset\u3002\u5c0d\u65bc\u9f8d\u9580\u3001corexy\u6216\u985e\u4f3c\u7d50\u69cb\u5370\u8868\u6a5f\uff0c\u5617\u8a66\u5728\u71b1\u5e8a\u7684\u56db\u500b\u89d2\u9032\u884cz_offset\u7684\u6e2c\u91cf\u3002 \u5728\u9032\u884c\u4e0a\u8ff0\u6e2c\u8a66\u524d\uff0c\u61c9\u5148\u6309\u7167\u672c\u6587\u4ef6\u7684\u958b\u982d\u90e8\u5206\u5c0dX\u3001Y\u3001Z\u7684\u504f\u79fb\u503c\u9032\u884c\u6821\u6e96\uff0c\u7136\u5f8c\u5c0d\u5370\u8868\u6a5f\u9032\u884c\u6b78\u96f6\uff0c\u4e26\u5c07\u63a2\u91dd\u79fb\u52d5\u5230\u9996\u500b\u76ee\u6a19XY\u4f4d\u7f6e\u3002\u6309\u7167 \u63a2\u91ddZ\u504f\u79fb\u503c\u6821\u6e96 \u7684\u6b65\u9a5f\uff0c\u57f7\u884c PROBE_CALIBRATE \uff0c\u91cd\u8907\u591a\u6b21 TESTZ \u547d\u4ee4\uff0c\u4e26\u5728\u5674\u5634\u89f8\u5e8a\u6642\u4f7f\u7528 ACCEPT \u547d\u4ee4\uff0c\u4f46\u662f \u5207\u52ff\u4f7f\u7528 SAVE_CONFIG \u3002\u624b\u52d5\u8a18\u4e0b\u6b64\u6642\u7684z_offset \u3002\u4e4b\u5f8c\u5c07\u63a2\u91dd\u79fb\u52d5\u5230\u5176\u4ed6XY\u4f4d\u7f6e\uff0c\u91cd\u8907\u4e0a\u8ff0\u7684 PROBE_CALIBRATE \u6b65\u9a5f\uff0c\u4e26\u5206\u5225\u8a18\u4e0bz_offset\u3002 \u5982\u679c\u4e0a\u8ff0\u65b9\u6cd5\u4e2d\u6e2c\u51fa\u7684\u6700\u5927z_offset \u548c\u6700\u5c0fz_offset \u4e4b\u9593\u7684\u5dee\u503c\u5927\u65bc25\u5fae\u7c73\uff08.025mm\uff09\uff0c\u5247\u8a72\u63a2\u91dd\u4e0d\u9069\u7528\u4e8e\u5e38\u898f\u7684\u71b1\u5e8a\u8abf\u5e73\u3002\u6b64\u6642\u61c9\u53c3\u7167 \u71b1\u5e8a\u8abf\u5e73 \u6587\u4ef6\u7684\u624b\u52d5\u8abf\u5e73\u90e8\u5206\u9032\u884c\u8abf\u5e73\u3002","title":"\u5340\u57df\u6027\u504f\u5dee\u78ba\u5b9a"},{"location":"Probe_Calibrate.html#_4","text":"\u5c0d\u65bc\u591a\u7a2e\u5f62\u5f0f\u7684\u63a2\u91dd\uff0c\u5728\u4e0d\u540c\u7684\u6eab\u5ea6\u4e0b\u5de5\u4f5c\u5747\u5177\u6709\u4e00\u5b9a\u7684\u7cfb\u7d71\u6027\u504f\u5dee\u3002\u6bd4\u5982\uff0c\u5728\u9ad8\u6eab\u4e0b\uff0c\u63a2\u91dd\u53ef\u80fd\u7e3d\u662f\u5728\u66f4\u4f4e\u7684\u9ad8\u5ea6\u4e0b\u89f8\u767c\u3002 \u91dd\u5c0d\u9019\u7a2e\u504f\u5dee\uff0c\u5efa\u8b70\u5728\u6052\u5b9a\u7684\u6eab\u5ea6\u4e0b\u9032\u884c\u71b1\u5e8a\u8abf\u5e73\u3002\u5373\uff0c\u8981\u9ebc\u7e3d\u662f\u5728\u5ba4\u6eab\u4e0b\u9032\u884c\u5e8a\u7db2\u6e2c\u91cf\uff0c\u8981\u9ebc\u7e3d\u8981\u5728\u5de5\u4f5c\u6eab\u5ea6\u4e0b\u9032\u884c\u3002\u7121\u8ad6\u63a1\u53d6\u54ea\u7a2e\u65b9\u6848\uff0c\u90fd\u63a8\u85a6\u5728\u9054\u5230\u76ee\u6a19\u6eab\u5ea6\u6578\u5206\u9418\u540e\u518d\u9032\u884c\u6e2c\u91cf\uff0c\u4ee5\u4fbf\u5370\u8868\u6a5f\u59cb\u7d42\u8655\u65bc\u76ee\u6a19\u6eab\u5ea6\u3002 \u8981\u6e2c\u91cf\u6eab\u5ea6\u504f\u5dee\uff0c\u9996\u5148\u78ba\u4fdd\u5370\u8868\u6a5f\u8655\u65bc\u5ba4\u6eab\uff0c\u5c0d\u4e09\u8ef8\u9032\u884c\u6b78\u96f6\uff0c\u7136\u5f8c\u5c07\u5217\u5370\u982d\u79fb\u52d5\u5230\u71b1\u5e8a\u4e2d\u592e\uff0c\u57f7\u884c PROBE_ACCURACY \u547d\u4ee4\u3002\u8a18\u4e0b\u6b64\u6642\u7684\u8b80\u6578\u3002\u4e4b\u5f8c\uff0c\u5728\u4e0d\u6b78\u96f6\u6216\u95dc\u9589\u96fb\u6a5f\u7684\u60c5\u6cc1\u4e0b\uff0c\u52a0\u71b1\u5674\u5634\u548c\u71b1\u5e8a\u5230\u5de5\u4f5c\u6eab\u5ea6\uff0c\u4e26\u518d\u6b21\u57f7\u884c PROBE_ACCURACY \u3002\u7406\u60f3\u60c5\u6cc1\u4e0b\uff0c\u5169\u6b21\u63a2\u91dd\u6e2c\u91cf\u6703\u5f97\u51fa\u76f8\u540c\u7684\u7d50\u679c\u3002\u4f46\u82e5\u6eab\u5ea6\u504f\u5dee\u5b58\u5728\uff0c\u5efa\u8b70\u6bcf\u6b21\u9054\u5230\u5de5\u4f5c\u6eab\u5ea6\u540e\u518d\u9032\u884c\u6e2c\u91cf\u3002","title":"\u6eab\u5ea6\u504f\u5dee"},{"location":"Protocol.html","text":"\u5354\u8b70 \u00b6 Klipper\u8a0a\u606f\u5354\u8b70\u7528\u65bcKlipper\u4e3b\u6a5f\u8edf\u9ad4\u548cKlipper\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u4e4b\u9593\u7684\u4f4e\u5c64\u901a\u8a0a\u3002\u5728\u4e0a\u5c64\u770b\uff0c\u8a72\u5354\u8b70\u53ef\u4ee5\u88ab\u8a8d\u70ba\u662f\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u548c\u97ff\u61c9\u5b57\u4e32\uff0c\u5b83\u5011\u88ab\u58d3\u7e2e\u3001\u50b3\u8f38\uff0c\u7136\u5f8c\u5728\u63a5\u6536\u65b9\u9032\u884c\u8655\u7406\u3002\u4ee5\u4e0b\u662f\u4e00\u500b\u4f8b\u5b50\uff0c\u5305\u542b\u4e00\u7d44\u672a\u7d93\u58d3\u7e2e\u7684\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\u7684\u547d\u4ee4\uff1a set_digital_out pin=PA3 value=1 set_digital_out pin=PA7 value=1 schedule_digital_out oid=8 clock=4000000 value=0 queue_step oid=7 interval=7458 count=10 add=331 queue_step oid=7 interval=11717 count=4 add=1281 \u6709\u95dc\u53ef\u7528\u547d\u4ee4\u7684\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 mcu \u547d\u4ee4 \u6587\u4ef6\u3002\u6709\u95dc\u5982\u4f55\u5c07 G-Code \u6a94\u6848\u8f49\u63db\u70ba\u5176\u76f8\u61c9\u7684\u53ef\u8b80\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 \u9664\u932f \u6587\u4ef6\u3002 \u672c\u9801\u63d0\u4f9b\u4e86Klipper\u8a0a\u606f\u50b3\u905e\u5354\u8b70\u672c\u8eab\u7684\u9ad8\u5c64\u63cf\u8ff0\u3002\u5b83\u63cf\u8ff0\u4e86\u8a0a\u606f\u662f\u5982\u4f55\u88ab\u8072\u660e\u3001\u4ee5\u4e8c\u9032\u5236\u683c\u5f0f\u7de8\u78bc\uff08\"\u58d3\u7e2e \"\u65b9\u6848\uff09\u548c\u50b3\u8f38\u7684\u3002 \u8a72\u5354\u8b70\u7684\u76ee\u6a19\u662f\u5728\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u5efa\u7acb\u4e00\u500b\u7121\u932f\u8aa4\u7684\u901a\u8a0a\u901a\u9053\uff0c\u5c0d\u5fae\u63a7\u5236\u5668\u4f86\u8aaa\u662f\u4f4e\u5ef6\u9072\u3001\u4f4e\u983b\u5bec\u548c\u4f4e\u8907\u96dc\u5ea6\u7684\u3002 \u5fae\u63a7\u5236\u5668\u4ecb\u9762 \u00b6 Klipper\u50b3\u8f38\u5354\u8b70\u53ef\u4ee5\u88ab\u8a8d\u70ba\u662f\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u6a5f\u4e4b\u9593\u7684\u4e00\u500b RPC \u6a5f\u5236\u3002\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u8072\u660e\u4e86\u4e3b\u6a5f\u53ef\u4ee5\u547c\u53eb\u7684\u547d\u4ee4\uff0c\u4ee5\u53ca\u5b83\u53ef\u4ee5\u7522\u751f\u7684\u97ff\u61c9\u8cc7\u8a0a\u3002\u4e3b\u6a5f\u4f7f\u7528\u9019\u4e9b\u8cc7\u8a0a\u4f86\u547d\u4ee4\u5fae\u63a7\u5236\u5668\u57f7\u884c\u52d5\u4f5c\u4e26\u89e3\u91cb\u7d50\u679c\u3002 \u5ba3\u4f48\u547d\u4ee4 \u00b6 \u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u901a\u904e\u4f7f\u7528C\u7a0b\u5f0f\u78bc\u4e2d\u7684DECL_COMMAND()\u5b8f\u4f86\u8072\u660e\u4e00\u500b \u300c\u547d\u4ee4\u300d\u3002\u4f8b\u5982\uff1a DECL_COMMAND(command_update_digital_out, \"update_digital_out oid=%c value=%c\"); \u4ee5\u4e0a\u8072\u660e\u4e86\u4e00\u500b\u540d\u70ba \"update_digital_out \"\u7684\u547d\u4ee4\u3002\u9019\u5141\u8a31\u4e3b\u6a5f \u300cinvoke\u300d\u9019\u500b\u547d\u4ee4\uff0c\u9019\u5c07\u4f7f\u5f97command_update_digital_out()C\u51fd\u5f0f\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u88ab\u57f7\u884c\u3002\u4e0a\u8ff0\u5167\u5bb9\u9084\u8868\u660e\uff0c\u8a72\u547d\u4ee4\u9700\u8981\u5169\u500b\u6574\u6578\u53c3\u6578\u3002\u7576command_update_digital_out()C\u7a0b\u5f0f\u78bc\u88ab\u57f7\u884c\u6642\uff0c\u5b83\u5c07\u88ab\u50b3\u905e\u4e00\u500b\u5305\u542b\u9019\u5169\u500b\u6574\u6578\u7684\u9663\u5217--\u7b2c\u4e00\u500b\u5c0d\u61c9\u4e8e \"oid\"\uff0c\u7b2c\u4e8c\u500b\u5c0d\u61c9\u4e8e \"value\"\u3002 \u4e00\u822c\u4f86\u8aaa\uff0c\u53c3\u6578\u662f\u7528printf()\u98a8\u683c\u7684\u8a9e\u6cd5\u63cf\u8ff0\u7684\uff08\u4f8b\u5982\uff0c\"%u\"\uff09\u3002\u9019\u7a2e\u683c\u5f0f\u5316\u76f4\u63a5\u5c0d\u61c9\u65bc\u4eba\u985e\u53ef\u8b80\u7684\u547d\u4ee4\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=7 value=1\"\uff09\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\"value=\"\u662f\u4e00\u500b\u53c3\u6578\u540d\u7a31\uff0c\"%c \"\u8868\u793a\u8a72\u53c3\u6578\u662f\u4e00\u500b\u6574\u6578\u3002\u5728\u5167\u90e8\uff0c\u53c3\u6578\u540d\u53ea\u4f5c\u70ba\u8a18\u9304\u4f7f\u7528\u3002\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\uff0c\"%c \"\u4e5f\u662f\u4f5c\u70ba\u8a18\u9304\u4f7f\u7528\u7684\uff0c\u8868\u793a\u9810\u671f\u7684\u6574\u6578\u662f1\u4f4d\u5143\u7d44\u5bec\u5ea6\uff08\u8072\u660e\u7684\u6574\u6578\u5bec\u5ea6\u4e0d\u5f71\u97ff\u7de8\u89e3\u78bc\uff09\u3002 \u5fae\u63a7\u5236\u5668\u97cc\u9ad4\u69cb\u5efa\u7684\u6642\u5019\u5305\u542b\u6240\u6709\u7528DECL_COMMAND()\u8072\u660e\u7684\u547d\u4ee4\uff0c\u78ba\u5b9a\u5176\u53c3\u6578\uff0c\u4e26\u4f7f\u5f97\u5b83\u5011\u53ef\u4ee5\u88ab\u547c\u53eb\u3002 \u8072\u660e\u97ff\u61c9 \u00b6 \u7576\u5f9e\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u6a5f\u767c\u9001\u8cc7\u8a0a\u6642\u6703\u7522\u751f\u4e00\u500b \"\u97ff\u61c9\"\u3002\u9019\u4e9b\u90fd\u662f\u4f7f\u7528sendf()C\u8a9e\u8a00\u5b8f\u4f86\u8072\u660e\u548c\u767c\u9001\u7684\u3002\u4f8b\u5982\uff1a sendf(\"status clock=%u status=%c\", sched_read_time(), sched_is_shutdown()); \u4ee5\u4e0a\u50b3\u8f38\u4e86\u4e00\u500b \"\u72c0\u614b \"\u97ff\u61c9\u8a0a\u606f\uff0c\u5176\u4e2d\u5305\u542b\u5169\u500b\u6574\u6578\u53c3\u6578\uff08\"\u6642\u9418 \"\u548c \"\u72c0\u614b\"\uff09\u3002\u5fae\u63a7\u5236\u5668\u7684\u69cb\u5efa\u6703\u81ea\u52d5\u627e\u5230\u6240\u6709sendf()\u7684\u547c\u53eb\uff0c\u4f75\u7232\u5176\u7522\u751f\u7de8\u78bc\u5668\u3002sendf()\u51fd\u5f0f\u7684\u7b2c\u4e00\u500b\u53c3\u6578\u63cf\u8ff0\u4e86\u97ff\u61c9\uff0c\u5b83\u7684\u683c\u5f0f\u8207\u547d\u4ee4\u8072\u660e\u76f8\u540c\u3002 \u4e3b\u6a5f\u53ef\u4ee5\u70ba\u6bcf\u500b\u97ff\u61c9\u8a3b\u518a\u4e00\u500b\u56de\u64a5\u51fd\u5f0f\u3002\u56e0\u6b64\uff0c\u5be6\u969b\u4e0a\uff0c\u547d\u4ee4\u5141\u8a31\u4e3b\u6a5f\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u547c\u53ebC\u51fd\u5f0f\uff0c\u97ff\u61c9\u5141\u8a31\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5728\u4e3b\u6a5f\u4e0a\u547c\u53eb\u7a0b\u5f0f\u78bc\u3002 sendf()\u5b8f\u53ea\u80fd\u5f9e\u547d\u4ee4\u6216\u4efb\u52d9\u8655\u7406\u7a0b\u5f0f\u4e2d\u547c\u53eb\uff0c\u800c\u4e0d\u80fd\u5f9e\u4e2d\u65b7\u6216\u5b9a\u6642\u5668\u4e2d\u547c\u53eb\u3002\u7a0b\u5f0f\u78bc\u4e0d\u9700\u8981\u5728\u6536\u5230\u547d\u4ee4\u7684\u97ff\u61c9\u4e2d\u767c\u51fasendf()\uff0c\u7a0b\u5f0f\u78bc\u4e5f\u4e0d\u9650\u5236sendf()\u7684\u547c\u53eb\u6b21\u6578\uff0c\u4efb\u52d9\u8655\u7406\u7a0b\u5f0f\u5728\u5728\u4efb\u4f55\u6642\u5019\u90fd\u53ef\u4ee5\u547c\u53ebsendf()\u3002 \u8f38\u51fa\u97ff\u61c9 \u00b6 \u7232\u4e86\u7c21\u5316\u9664\u932f\uff0c\u4e5f\u6709\u4e00\u500boutput()C\u51fd\u5f0f\u3002\u4f8b\u5982\uff1a output(\"The value of %u is %s with size %u.\", x, buf, buf_len); output()\u51fd\u5f0f\u7684\u7528\u6cd5\u8207printf()\u76f8\u4f3c\u2013\u5b83\u7684\u76ee\u7684\u662f\u7522\u751f\u548c\u683c\u5f0f\u5316\u4efb\u610f\u7684\u8cc7\u8a0a\u4f9b\u4eba\u95b1\u8b80\u3002 \u8072\u660e\u5217\u8209 \u00b6 \u5217\u8209\u5141\u8a31\u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u5c0d\u5fae\u63a7\u5236\u5668\u4f5c\u70ba\u6574\u6578\u8655\u7406\u7684\u53c3\u6578\u4f7f\u7528\u5b57\u4e32\u6a19\u8b58\u3002\u5b83\u5011\u5728\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e2d\u88ab\u8072\u660e-\u4f8b\u5982\uff1a DECL_ENUMERATION(\"spi_bus\", \"spi\", 0); DECL_ENUMERATION_RANGE(\"pin\", \"PC0\", 16, 8); \u5728\u7b2c\u4e00\u500b\u4f8b\u5b50\u4e2d\uff0cDECL_ENUMERATION()\u5b8f\u5b9a\u7fa9\u4e86\u4e00\u500b\u5217\u8209\u91cf\u53ef\u4ee5\u7528\u65bc\u4efb\u610f\u7684\u547d\u4ee4/\u97ff\u61c9\u8a0a\u606f\uff0c\u9019\u500b\u5217\u8209\u91cf\u7684\u53c3\u6578\u540d\u7a31\u70ba \"spi_bus \"\u6216\u53c3\u6578\u540d\u7a31\u5f8c\u7db4\u70ba\"_spi_bus \"\u3002\u5c0d\u65bc\u6b64\u53c3\u6578\uff0c\u5b57\u4e32 \"spi \"\u662f\u4e00\u500b\u6709\u6548\u7684\u503c\uff0c\u5b83\u5c07\u4ee5\u4e00\u500b\u96f6\u7684\u6574\u6578\u503c\u88ab\u50b3\u905e\u3002 \u4e5f\u53ef\u4ee5\u8072\u660e\u4e00\u500b\u5217\u8209\u7bc4\u570d\u3002\u5728\u7b2c\u4e8c\u500b\u4f8b\u5b50\u4e2d\uff0c\"pin \"\u53c3\u6578\uff08\u6216\u4efb\u4f55\u5f8c\u7db4\u70ba\"_pin \"\u7684\u53c3\u6578\uff09\u5c07\u63a5\u53d7PC0\u3001PC1\u3001PC2\u3001...\u3001PC7\u4f5c\u70ba\u6709\u6548\u503c\u3002\u5b57\u4e32\u5c07\u88ab\u8f49\u5316\u6210\u6574\u657816\u300117\u300118...23\u9032\u884c\u50b3\u8f38\u3002 \u8072\u660e\u5e38\u91cf \u00b6 \u5e38\u91cf\u4e5f\u53ef\u4ee5\u88ab\u5c0e\u51fa\u3002\u4f8b\u5b50\u5982\u4e0b\uff1a DECL_CONSTANT(\"SERIAL_BAUD\", 250000); \u53ef\u4ee5\u5f9e\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u6a5f\u8f38\u51fa\u4e00\u500b\u540d\u70ba \"SERIAL_BAUD \"\uff0c\u503c\u70ba250000\u7684\u5e38\u6578\u3002\u4e5f\u53ef\u4ee5\u5c07\u5b57\u4e32\u8072\u660e\u6210\u5e38\u91cf-\u4f8b\u5982\uff1a DECL_CONSTANT_STR(\"MCU\", \"pru\"); \u5e95\u5c64\u8a0a\u606f\u7de8\u78bc \u00b6 \u7232\u4e86\u5be6\u73fe\u4e0a\u8ff0RPC\u6a5f\u5236\uff0c\u6bcf\u500b\u547d\u4ee4\u548c\u97ff\u61c9\u90fd\u88ab\u7de8\u78bc\u6210\u4e8c\u9032\u5236\u683c\u5f0f\u9032\u884c\u50b3\u8f38\u3002\u672c\u7bc0\u4ecb\u7d39\u9019\u500b\u50b3\u8f38\u7cfb\u7d71\u3002 \u8a0a\u606f\u584a \u00b6 \u6240\u6709\u5f9e\u4e3b\u6a5f\u5230\u5fae\u63a7\u5236\u5668\u4ee5\u53ca\u5f9e\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u6a5f\u7684\u6578\u64da\u90fd\u5305\u542b\u5728 \"\u8a0a\u606f\u584a \"\u4e2d\u3002\u4e00\u500b\u8a0a\u606f\u584a\u6709\u4e00\u500b\u5169\u4f4d\u5143\u7d44\u7684\u982d\u548c\u4e00\u500b\u4e09\u4f4d\u5143\u7d44\u7684\u5c3e\u3002\u8cc7\u8a0a\u584a\u7684\u683c\u5f0f\u5982\u4e0b\uff1a <1 byte length><1 byte sequence><n-byte content><2 byte crc><1 byte sync> \u9577\u5ea6\u4f4d\u5143\u7d44\u6307\u793a\u8a0a\u606f\u584a\u4e2d\u7684\u4f4d\u5143\u7d44\u6578\uff0c\u5305\u62ec\u982d\u548c\u5c3e\u7684\u4f4d\u5143\u7d44\uff08\u56e0\u6b64\u8a0a\u606f\u7684\u6700\u77ed\u9577\u5ea6\u70ba5\u4f4d\u5143\u7d44\uff09\u3002\u76ee\u524d\u6700\u5927\u7684\u8a0a\u606f\u584a\u9577\u5ea6\u70ba64\u4f4d\u5143\u7d44\u3002\u5e8f\u865f\u4f4d\u5143\u7d44\u7684\u4f4e4\u4f4d\u662f\u5e8f\u5217\u865f\uff0c\u9ad84\u4f4d\u7e3d\u662f0x10\uff08\u9ad84\u4f4d\u4fdd\u7559\u7d66\u672a\u4f86\u7528\uff09\u3002\u5167\u5bb9\u4f4d\u5143\u7d44\u5305\u542b\u4efb\u610f\u6578\u64da\uff0c\u5176\u683c\u5f0f\u5728\u4e0b\u4e00\u7bc0\u4e2d\u63cf\u8ff0\u3002crc\u4f4d\u5143\u7d44\u5305\u542b\u8a0a\u606f\u584a\u768416\u4f4dCCITT CRC \uff0cCRC\u8a08\u7b97\u5305\u62ec\u982d\u4f4d\u5143\u7d44\u4f46\u4e0d\u5305\u62ec\u5c3e\u4f4d\u5143\u7d44\u3002\u540c\u6b65\u4f4d\u5143\u7d44\u70ba0x7e\u3002 \u8a0a\u606f\u584a\u7684\u683c\u5f0f\u662f\u53d7 HDLC \u8a0a\u606f\u5e40\u7684\u5553\u767c\u3002\u8207HDLC\u4e00\u6a23\uff0c\u8a0a\u606f\u584a\u5728\u958b\u59cb\u6642\u53ef\u4ee5\u9078\u64c7\u5305\u542b\u4e00\u500b\u984d\u5916\u7684\u540c\u6b65\u5b57\u5143\u3002\u8207HDLC\u4e0d\u540c\u7684\u662f\uff0c\u540c\u6b65\u5b57\u5143\u4e26\u4e0d\u5c08\u5c6c\u65bc\u6846\u67b6\uff0c\u4e5f\u53ef\u4ee5\u51fa\u73fe\u5728\u8a0a\u606f\u584a\u5167\u5bb9\u4e2d\uff08\u4e0d\u9700\u8981\u8f49\u7fa9\uff09\u3002 \u8a0a\u606f\u584a\u5167\u5bb9 \u00b6 \u6bcf\u500b\u5f9e\u4e3b\u6a5f\u767c\u9001\u81f3\u5fae\u63a7\u5236\u5668\u7684\u8a0a\u606f\u584a\uff0c\u5176\u5167\u5bb9\u90fd\u5305\u542b\u4e00\u7cfb\u5217\u96f6\u500b\u6216\u591a\u500b\u8a0a\u606f\u547d\u4ee4\u3002\u6bcf\u689d\u547d\u4ee4\u4ee5 \u53ef\u8b8a\u9577\u5ea6\u6578\u503c (VLQ)\u7de8\u78bc\u7684\u6574\u6578command-id\u958b\u59cb\uff0c\u5f8c\u9762\u662f\u9019\u500b\u547d\u4ee4\u7684\u96f6\u6216\u591a\u500bVLQ\u53c3\u6578\u3002 \u4f8b\u5982\uff0c\u4ee5\u4e0b\u56db\u500b\u547d\u4ee4\u53ef\u4ee5\u88ab\u653e\u5728\u4e00\u500b\u8a0a\u606f\u584a\u4e2d\uff1a update_digital_out oid=6 value=1 update_digital_out oid=5 value=0 get_config get_clock \u4e26\u7de8\u78bc\u70ba\u4e0b\u9762\u516b\u500bVLQ\u6574\u6578\uff1a <id_update_digital_out><6><1><id_update_digital_out><5><0><id_get_config><id_get_clock> \u7232\u4e86\u5c0d\u8cc7\u8a0a\u5167\u5bb9\u9032\u884c\u7de8\u89e3\u78bc\uff0c\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u90fd\u5fc5\u9808\u78ba\u4fdd\u4f7f\u7528\u7684\u547d\u4ee4\u7684ID\u548c\u6bcf\u500b\u547d\u4ee4\u5c0d\u61c9\u7684\u53c3\u6578\u6578\u91cf\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053 \"id_update_digital_out \"\u5f8c\u9762\u7e3d\u662f\u8ddf\u8457\u5169\u500b\u53c3\u6578\uff0c\u800c \"id_get_config \"\u548c \"id_get_clock \"\u6c92\u6709\u53c3\u6578\u3002\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u5171\u4eab\u4e00\u500b \"\u6578\u64da\u5b57\u5178\"\uff0c\u9019\u500b\u6578\u64da\u5b57\u5178\u5c07\u547d\u4ee4\u63cf\u8ff0\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=%c value=%c\"\uff09\u5c0d\u6620\u5230\u5b83\u5011\u7684\u6574\u6578\u547d\u4ee4ID\u3002\u7576\u8655\u7406\u6578\u64da\u6642\uff0c\u89e3\u6790\u5668\u5c07\u77e5\u9053\u4e00\u500b\u7d66\u5b9a\u7684\u547d\u4ee4ID\u540e\u9810\u671f\u6709\u7279\u5b9a\u6578\u91cf\u7684VLQ\u7de8\u78bc\u53c3\u6578\u3002 \u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u584a\u7684\u8a0a\u606f\u5167\u5bb9\u9075\u5faa\u76f8\u540c\u7684\u683c\u5f0f\u3002\u9019\u4e9b\u8a0a\u606f\u4e2d\u7684\u8b58\u5225\u7b26\u865f\u662f \"\u97ff\u61c9ID\"\uff0c\u4f46\u5b83\u5011\u7684\u4f5c\u7528\u76f8\u540c\uff0c\u4e26\u9075\u5faa\u76f8\u540c\u7684\u7de8\u78bc\u898f\u5247\u3002\u4e8b\u5be6\u4e0a\uff0c\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u8a0a\u606f\u584a\u5728\u8a0a\u606f\u584a\u5167\u5bb9\u4e2d\u53ea\u5305\u542b\u4e00\u500b\u97ff\u61c9\u3002 \u53ef\u8b8a\u9577\u5ea6\u6578\u503c \u00b6 \u95dc\u65bcVLQ\u7de8\u78bc\u7684\u6574\u6578\u7684\u4e00\u822c\u683c\u5f0f\u7684\u66f4\u591a\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898b wikipedia article \u3002Klipper\u4f7f\u7528\u652f\u63f4\u6b63\u8ca0\u6574\u6578\u7684\u7de8\u78bc\u65b9\u6848\u3002\u63a5\u8fd1\u96f6\u7684\u6574\u6578\u4f7f\u7528\u8f03\u5c11\u7684\u4f4d\u5143\u7d44\u4f86\u7de8\u78bc\uff0c\u6b63\u6574\u6578\u7684\u7de8\u78bc\u901a\u5e38\u6bd4\u8ca0\u6574\u6578\u7684\u4f7f\u7528\u4f4d\u5143\u7d44\u66f4\u5c11\u3002\u4e0b\u8868\u986f\u793a\u4e86\u6bcf\u500b\u6574\u6578\u7684\u7de8\u78bc\u6240\u9700\u7684\u4f4d\u5143\u7d44\u6578\uff1a \u6574\u6578 \u7de8\u78bc\u9577\u5ea6 -32 .. 95 1 -4096 .. 12287 2 -524288 .. 1572863 3 -67108864 .. 201326591 4 -2147483648 .. 4294967295 5 \u53ef\u8b8a\u9577\u5ea6\u5b57\u4e32 \u00b6 \u4f5c\u70ba\u4e0a\u8ff0\u7de8\u78bc\u898f\u5247\u7684\u4f8b\u5916\uff0c\u5982\u679c\u4e00\u500b\u547d\u4ee4\u6216\u97ff\u61c9\u7684\u53c3\u6578\u662f\u4e00\u500b\u52d5\u614b\u5b57\u4e32\uff0c\u90a3\u9ebc\u8a72\u53c3\u6578\u4e0d\u6703\u88ab\u7de8\u78bc\u70ba\u4e00\u500b\u7c21\u55ae\u7684VLQ\u6574\u6578\u3002\u76f8\u53cd\uff0c\u5b83\u7684\u7de8\u78bc\u65b9\u5f0f\u662f\u5c07\u9577\u5ea6\u4f5c\u70ba\u4e00\u500bVLQ\u7de8\u78bc\u7684\u6574\u6578\u4e26\u8ddf\u8457\u5167\u5bb9\u672c\u8eab\u4f86\u50b3\u8f38\uff1a <VLQ encoded length><n-byte contents> \u5728\u6578\u64da\u5b57\u5178\u4e2d\u7684\u547d\u4ee4\u63cf\u8ff0\u4f7f\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053\u54ea\u4e9b\u547d\u4ee4\u53c3\u6578\u4f7f\u7528\u7c21\u55ae\u7684VLQ\u7de8\u78bc\uff0c\u54ea\u4e9b\u53c3\u6578\u4f7f\u7528\u5b57\u4e32\u7de8\u78bc\u3002 \u6578\u64da\u5b57\u5178 \u00b6 \u7232\u4e86\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u6a5f\u4e4b\u9593\u5efa\u7acb\u6709\u610f\u7fa9\u7684\u901a\u8a0a\uff0c\u96d9\u65b9\u5fc5\u9808\u5546\u5b9a\u4e00\u500b \"\u6578\u64da\u5b57\u5178\"\u3002\u9019\u500b\u6578\u64da\u5b57\u5178\u5305\u542b\u4e86\u547d\u4ee4\u548c\u97ff\u61c9\u7684\u6574\u6578\u8b58\u5225\u7b26\u865f\u53ca\u5b83\u5011\u7684\u63cf\u8ff0\u3002 \u5fae\u63a7\u5236\u5668\u69cb\u5efa\u4f7f\u7528DECL_COMMAND()\u548csendf()\u5b8f\u7684\u5167\u5bb9\u4f86\u7522\u751f\u6578\u64da\u5b57\u5178\u3002\u69cb\u5efa\u6703\u81ea\u52d5\u70ba\u6bcf\u500b\u547d\u4ee4\u548c\u97ff\u61c9\u5206\u914d\u552f\u4e00\u7684\u8b58\u5225\u7b26\u865f\u3002\u9019\u500b\u7cfb\u7d71\u5141\u8a31\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u65e2\u4f7f\u7528\u4eba\u985e\u53ef\u8b80\u7684\u63cf\u8ff0\u6027\u540d\u7a31\u53c8\u4f54\u7528\u6700\u5c0f\u7684\u50b3\u8f38\u983b\u5bec\u3002 \u7576\u4e3b\u6a5f\u7b2c\u4e00\u6b21\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u6642\uff0c\u6703\u67e5\u8a62\u6578\u64da\u5b57\u5178\u3002\u4e00\u65e6\u4e3b\u6a5f\u5f9e\u5fae\u63a7\u5236\u5668\u4e2d\u4e0b\u8f09\u4e86\u6578\u64da\u5b57\u5178\uff0c\u5b83\u5c31\u4f7f\u7528\u8a72\u6578\u64da\u5b57\u5178\u5c0d\u6240\u6709\u547d\u4ee4\u9032\u884c\u7de8\u78bc\uff0c\u4e26\u89e3\u6790\u4f86\u81ea\u5fae\u63a7\u5236\u5668\u7684\u6240\u6709\u97ff\u61c9\u3002\u56e0\u6b64\uff0c\u4e3b\u6a5f\u5fc5\u9808\u80fd\u8655\u7406\u52d5\u614b\u7684\u6578\u64da\u5b57\u5178\u3002\u7136\u800c\uff0c\u7232\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u7684\u7c21\u55ae\u6027\uff0c\u5fae\u63a7\u5236\u5668\u7e3d\u662f\u4f7f\u7528\u975c\u614b\uff08\u7de8\u8b6f\u7684\uff09\u6578\u64da\u5b57\u5178\u3002 \u6578\u64da\u5b57\u5178\u662f\u901a\u904e\u5411\u5fae\u63a7\u5236\u5668\u767c\u9001 \"identify\"\u547d\u4ee4\u4f86\u67e5\u8a62\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c07\u7528\u4e00\u500b \"identify_response \"\u8a0a\u606f\u4f86\u56de\u61c9\u6bcf\u689d\u8b58\u5225\u547d\u4ee4\u3002\u7531\u65bc\u5728\u7372\u53d6\u6578\u64da\u5b57\u5178\u4e4b\u524d\u9700\u8981\u9019\u5169\u689d\u547d\u4ee4\uff0c\u5b83\u5011\u7684\u6574\u6578id\u548c\u53c3\u6578\u578b\u5225\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u6a5f\u4e2d\u90fd\u662f\u786c\u7de8\u78bc\u7684\u3002\"identify_response \"\u7684\u97ff\u61c9id\u662f0\uff0c\"identify\"\u7684\u547d\u4ee4id\u662f1\u3002\u9664\u4e86\u6709\u786c\u7de8\u78bc\u7684id\u5916\uff0c\u8b58\u5225\u547d\u4ee4\u53ca\u5176\u97ff\u61c9\u7684\u8072\u660e\u548c\u50b3\u8f38\u65b9\u5f0f\u8207\u5176\u4ed6\u547d\u4ee4\u548c\u97ff\u61c9\u76f8\u540c\u3002\u9664\u6b64\u4e4b\u5916\u6c92\u6709\u5176\u4ed6\u547d\u4ee4\u6216\u97ff\u61c9\u662f\u786c\u7de8\u78bc\u7684\u3002 \u50b3\u8f38\u7684\u6578\u64da\u5b57\u5178\u672c\u8eab\u7684\u683c\u5f0f\u662f\u4e00\u500bzlib\u58d3\u7e2e\u7684JSON\u5b57\u4e32\u3002\u5fae\u63a7\u5236\u5668\u7684\u69cb\u5efa\u904e\u7a0b\u6703\u7522\u751f\u8a72\u5b57\u4e32\uff0c\u5c0d\u5176\u9032\u884c\u58d3\u7e2e\uff0c\u4e26\u5c07\u5176\u5132\u5b58\u5728\u5fae\u63a7\u5236\u5668\u5feb\u9583\u8a18\u61b6\u9ad4\u7684text\u90e8\u5206\u3002\u6578\u64da\u5b57\u5178\u53ef\u4ee5\u6bd4\u6700\u5927\u7684\u8a0a\u606f\u584a\u5927\u5f97\u591a--\u4e3b\u6a5f\u901a\u904e\u767c\u9001\u591a\u500b\u8b58\u5225\u547d\u4ee4\u4f86\u5206\u584a\u4e0b\u8f09\u6578\u64da\u5b57\u5178\u3002\u4e00\u65e6\u7372\u5f97\u6240\u6709\u7684\u6578\u64da\u584a\uff0c\u4e3b\u6a5f\u5c07\u628a\u9019\u4e9b\u6578\u64da\u584a\u7d44\u5408\u8d77\u4f86\uff0c\u89e3\u58d3\u7e2e\u6578\u64da\u4e26\u89e3\u6790\u5167\u5bb9\u3002 \u9664\u4e86\u901a\u8a0a\u5354\u8b70\u7684\u8cc7\u8a0a\u5916\uff0c\u6578\u64da\u5b57\u5178\u9084\u5305\u542b\u8edf\u9ad4\u7248\u672c\u3001\u5217\u8209\u503c\uff08\u7531DECL_ENUMERATION\u5b9a\u7fa9\uff09\u548c\u5e38\u91cf\uff08\u7531DECL_CONSTANT\u5b9a\u7fa9\uff09\u3002 \u8a0a\u606f\u6d41 \u00b6 \u5f9e\u4e3b\u6a5f\u5230\u5fae\u63a7\u5236\u5668\u767c\u9001\u7684\u8cc7\u8a0a\u547d\u4ee4\u61c9\u8a72\u662f\u7121\u5dee\u932f\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c07\u6aa2\u67e5\u6bcf\u500b\u8cc7\u8a0a\u584a\u4e2d\u7684CRC\u548c\u9806\u5e8f\u865f\uff0c\u4ee5\u78ba\u4fdd\u547d\u4ee4\u7684\u6e96\u78ba\u6027\u548c\u9806\u5e8f\u6027\u3002\u5fae\u63a7\u5236\u5668\u7e3d\u662f\u6309\u9806\u5e8f\u8655\u7406\u8cc7\u8a0a\u584a--\u5982\u679c\u5b83\u6536\u5230\u4e00\u500b\u4e0d\u6309\u9806\u5e8f\u7684\u8cc7\u8a0a\u584a\uff0c\u5b83\u5c07\u4e1f\u68c4\u5b83\u548c\u5176\u4ed6\u4e0d\u6309\u9806\u5e8f\u7684\u8cc7\u8a0a\u584a\uff0c\u76f4\u5230\u5b83\u6536\u5230\u5177\u6709\u6b63\u78ba\u9806\u5e8f\u865f\u7684\u8cc7\u8a0a\u584a\u3002 \u4f4e\u5c64\u7684\u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u70ba\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u4e1f\u5931\u548c\u640d\u58de\u7684\u8a0a\u606f\u584a\u5be6\u73fe\u4e86\u4e00\u500b\u81ea\u52d5\u91cd\u50b3\u7cfb\u7d71\u3002\u70ba\u6b64\uff0c\u5fae\u63a7\u5236\u5668\u5728\u6bcf\u6b21\u6210\u529f\u63a5\u6536\u7684\u8a0a\u606f\u584a\u4e4b\u5f8c\u90fd\u6703\u767c\u9001\u4e00\u500b \"ack message block\"\u3002\u4e3b\u6a5f\u5728\u767c\u9001\u6bcf\u500b\u584a\u5f8c\u6703\u555f\u52d5\u8d85\u6642\u7b49\u5f85\uff0c\u5982\u679c\u8d85\u6642\u5f8c\u6c92\u6709\u6536\u5230\u76f8\u61c9\u7684 \"ack\"\uff0c\u5b83\u5c07\u91cd\u65b0\u767c\u9001\u3002\u6b64\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u6aa2\u6e2c\u5230\u4e00\u500b\u640d\u58de\u6216\u9806\u5e8f\u932f\u8aa4\u7684\u584a\uff0c\u5b83\u53ef\u4ee5\u767c\u9001\u4e00\u500b \"nak message block\"\u5be6\u73fe\u5feb\u901f\u91cd\u50b3\u3002 \u300cack \"\u662f\u4e00\u500b\u5167\u5bb9\u70ba\u7a7a\u7684\u8a0a\u606f\u584a\uff08\u5373\u4e00\u500b5\u4f4d\u5143\u7d44\u7684\u8a0a\u606f\u584a\uff09\uff0c\u5176\u9806\u5e8f\u865f\u5927\u65bc\u6700\u5f8c\u6536\u5230\u7684\u4e3b\u6a5f\u8a0a\u606f\u9806\u5e8f\u865f\u3002\u4e00\u500b \"nak \"\u662f\u4e00\u500b\u5167\u5bb9\u70ba\u7a7a\u7684\u8a0a\u606f\u584a\uff0c\u5176\u9806\u5e8f\u865f\u5c0f\u65bc\u6700\u5f8c\u6536\u5230\u7684\u4e3b\u6a5f\u8a0a\u606f\u9806\u5e8f\u865f\u3002 \u5354\u8b70\u5be6\u73fe\u4e86 \"\u8996\u7a97 \"\u50b3\u8f38\u7cfb\u7d71\uff0c\u56e0\u6b64\u4e3b\u6a5f\u53ef\u4ee5\u5728\u540c\u4e00\u6642\u9593\u5141\u8a31\u591a\u672a\u5b8c\u6210\u7684\u8a0a\u606f\u584a\u5728\u767c\u9001\u3002(\u9019\u662f\u5c0d\u4e00\u500b\u8a0a\u606f\u584a\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u500b\u547d\u4ee4\u7684\u88dc\u5145\uff09\u3002\u901a\u904e\u9019\u7a2e\u65b9\u5f0f\uff0c\u5373\u4f7f\u5728\u50b3\u8f38\u5ef6\u9072\u7684\u60c5\u6cc1\u4e0b\u4e5f\u80fd\u6700\u5927\u5316\u5730\u5229\u7528\u983b\u5bec\u3002\u8d85\u6642\u3001\u91cd\u50b3\u3001\u8996\u7a97\u5316\u548c\u97ff\u61c9\u6a5f\u5236\u662f\u53d7\u5230 TCP \u4e2d\u985e\u4f3c\u6a5f\u5236\u7684\u5553\u767c\u3002 \u53e6\u4e00\u65b9\u5411\uff0c\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u8cc7\u8a0a\u584a\u88ab\u8a2d\u8a08\u6210\u7121\u5dee\u932f\uff0c\u4f46\u4e26\u4e0d\u4fdd\u8b49\u50b3\u8f38\u3002(\u97ff\u61c9\u4e0d\u6703\u51fa\u932f\uff0c\u4f46\u53ef\u80fd\u6703\u4e1f\u5931\u3002)\u9019\u6a23\u505a\u662f\u7232\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u7684\u5be6\u73fe\u7c21\u55ae\u3002\u97ff\u61c9\u6c92\u6709\u81ea\u52d5\u91cd\u50b3\u7cfb\u7d71--\u9ad8\u5c64\u7a0b\u5f0f\u78bc\u61c9\u8a72\u80fd\u5920\u8655\u7406\u5076\u723e\u4e1f\u5931\u7684\u97ff\u61c9\uff08\u901a\u5e38\u901a\u904e\u91cd\u65b0\u8acb\u6c42\u5167\u5bb9\u6216\u8a2d\u5b9a\u97ff\u61c9\u50b3\u8f38\u7684\u5faa\u74b0\u6392\u7a0b\uff09\u3002\u767c\u9001\u7d66\u4e3b\u6a5f\u7684\u8cc7\u8a0a\u584a\u4e2d\u7684\u9806\u5e8f\u865f\u6b04\u4f4d\u7e3d\u662f\u6bd4\u5f9e\u4e3b\u6a5f\u6536\u5230\u7684\u8cc7\u8a0a\u584a\u7684\u6700\u5f8c\u63a5\u6536\u9806\u5e8f\u865f\u59271\u3002\u9806\u5e8f\u865f\u4e26\u4e0d\u7528\u65bc\u8ddf\u8e64\u97ff\u61c9\u8a0a\u606f\u584a\u7684\u9806\u5e8f\u3002","title":"\u5354\u8b70"},{"location":"Protocol.html#_1","text":"Klipper\u8a0a\u606f\u5354\u8b70\u7528\u65bcKlipper\u4e3b\u6a5f\u8edf\u9ad4\u548cKlipper\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u4e4b\u9593\u7684\u4f4e\u5c64\u901a\u8a0a\u3002\u5728\u4e0a\u5c64\u770b\uff0c\u8a72\u5354\u8b70\u53ef\u4ee5\u88ab\u8a8d\u70ba\u662f\u4e00\u7cfb\u5217\u7684\u547d\u4ee4\u548c\u97ff\u61c9\u5b57\u4e32\uff0c\u5b83\u5011\u88ab\u58d3\u7e2e\u3001\u50b3\u8f38\uff0c\u7136\u5f8c\u5728\u63a5\u6536\u65b9\u9032\u884c\u8655\u7406\u3002\u4ee5\u4e0b\u662f\u4e00\u500b\u4f8b\u5b50\uff0c\u5305\u542b\u4e00\u7d44\u672a\u7d93\u58d3\u7e2e\u7684\u4eba\u985e\u53ef\u8b80\u683c\u5f0f\u7684\u547d\u4ee4\uff1a set_digital_out pin=PA3 value=1 set_digital_out pin=PA7 value=1 schedule_digital_out oid=8 clock=4000000 value=0 queue_step oid=7 interval=7458 count=10 add=331 queue_step oid=7 interval=11717 count=4 add=1281 \u6709\u95dc\u53ef\u7528\u547d\u4ee4\u7684\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 mcu \u547d\u4ee4 \u6587\u4ef6\u3002\u6709\u95dc\u5982\u4f55\u5c07 G-Code \u6a94\u6848\u8f49\u63db\u70ba\u5176\u76f8\u61c9\u7684\u53ef\u8b80\u7684\u5fae\u63a7\u5236\u5668\u547d\u4ee4\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1 \u9664\u932f \u6587\u4ef6\u3002 \u672c\u9801\u63d0\u4f9b\u4e86Klipper\u8a0a\u606f\u50b3\u905e\u5354\u8b70\u672c\u8eab\u7684\u9ad8\u5c64\u63cf\u8ff0\u3002\u5b83\u63cf\u8ff0\u4e86\u8a0a\u606f\u662f\u5982\u4f55\u88ab\u8072\u660e\u3001\u4ee5\u4e8c\u9032\u5236\u683c\u5f0f\u7de8\u78bc\uff08\"\u58d3\u7e2e \"\u65b9\u6848\uff09\u548c\u50b3\u8f38\u7684\u3002 \u8a72\u5354\u8b70\u7684\u76ee\u6a19\u662f\u5728\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u5efa\u7acb\u4e00\u500b\u7121\u932f\u8aa4\u7684\u901a\u8a0a\u901a\u9053\uff0c\u5c0d\u5fae\u63a7\u5236\u5668\u4f86\u8aaa\u662f\u4f4e\u5ef6\u9072\u3001\u4f4e\u983b\u5bec\u548c\u4f4e\u8907\u96dc\u5ea6\u7684\u3002","title":"\u5354\u8b70"},{"location":"Protocol.html#_2","text":"Klipper\u50b3\u8f38\u5354\u8b70\u53ef\u4ee5\u88ab\u8a8d\u70ba\u662f\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u6a5f\u4e4b\u9593\u7684\u4e00\u500b RPC \u6a5f\u5236\u3002\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u8072\u660e\u4e86\u4e3b\u6a5f\u53ef\u4ee5\u547c\u53eb\u7684\u547d\u4ee4\uff0c\u4ee5\u53ca\u5b83\u53ef\u4ee5\u7522\u751f\u7684\u97ff\u61c9\u8cc7\u8a0a\u3002\u4e3b\u6a5f\u4f7f\u7528\u9019\u4e9b\u8cc7\u8a0a\u4f86\u547d\u4ee4\u5fae\u63a7\u5236\u5668\u57f7\u884c\u52d5\u4f5c\u4e26\u89e3\u91cb\u7d50\u679c\u3002","title":"\u5fae\u63a7\u5236\u5668\u4ecb\u9762"},{"location":"Protocol.html#_3","text":"\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u901a\u904e\u4f7f\u7528C\u7a0b\u5f0f\u78bc\u4e2d\u7684DECL_COMMAND()\u5b8f\u4f86\u8072\u660e\u4e00\u500b \u300c\u547d\u4ee4\u300d\u3002\u4f8b\u5982\uff1a DECL_COMMAND(command_update_digital_out, \"update_digital_out oid=%c value=%c\"); \u4ee5\u4e0a\u8072\u660e\u4e86\u4e00\u500b\u540d\u70ba \"update_digital_out \"\u7684\u547d\u4ee4\u3002\u9019\u5141\u8a31\u4e3b\u6a5f \u300cinvoke\u300d\u9019\u500b\u547d\u4ee4\uff0c\u9019\u5c07\u4f7f\u5f97command_update_digital_out()C\u51fd\u5f0f\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u88ab\u57f7\u884c\u3002\u4e0a\u8ff0\u5167\u5bb9\u9084\u8868\u660e\uff0c\u8a72\u547d\u4ee4\u9700\u8981\u5169\u500b\u6574\u6578\u53c3\u6578\u3002\u7576command_update_digital_out()C\u7a0b\u5f0f\u78bc\u88ab\u57f7\u884c\u6642\uff0c\u5b83\u5c07\u88ab\u50b3\u905e\u4e00\u500b\u5305\u542b\u9019\u5169\u500b\u6574\u6578\u7684\u9663\u5217--\u7b2c\u4e00\u500b\u5c0d\u61c9\u4e8e \"oid\"\uff0c\u7b2c\u4e8c\u500b\u5c0d\u61c9\u4e8e \"value\"\u3002 \u4e00\u822c\u4f86\u8aaa\uff0c\u53c3\u6578\u662f\u7528printf()\u98a8\u683c\u7684\u8a9e\u6cd5\u63cf\u8ff0\u7684\uff08\u4f8b\u5982\uff0c\"%u\"\uff09\u3002\u9019\u7a2e\u683c\u5f0f\u5316\u76f4\u63a5\u5c0d\u61c9\u65bc\u4eba\u985e\u53ef\u8b80\u7684\u547d\u4ee4\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=7 value=1\"\uff09\u3002\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\"value=\"\u662f\u4e00\u500b\u53c3\u6578\u540d\u7a31\uff0c\"%c \"\u8868\u793a\u8a72\u53c3\u6578\u662f\u4e00\u500b\u6574\u6578\u3002\u5728\u5167\u90e8\uff0c\u53c3\u6578\u540d\u53ea\u4f5c\u70ba\u8a18\u9304\u4f7f\u7528\u3002\u5728\u9019\u500b\u4f8b\u5b50\u4e2d\uff0c\"%c \"\u4e5f\u662f\u4f5c\u70ba\u8a18\u9304\u4f7f\u7528\u7684\uff0c\u8868\u793a\u9810\u671f\u7684\u6574\u6578\u662f1\u4f4d\u5143\u7d44\u5bec\u5ea6\uff08\u8072\u660e\u7684\u6574\u6578\u5bec\u5ea6\u4e0d\u5f71\u97ff\u7de8\u89e3\u78bc\uff09\u3002 \u5fae\u63a7\u5236\u5668\u97cc\u9ad4\u69cb\u5efa\u7684\u6642\u5019\u5305\u542b\u6240\u6709\u7528DECL_COMMAND()\u8072\u660e\u7684\u547d\u4ee4\uff0c\u78ba\u5b9a\u5176\u53c3\u6578\uff0c\u4e26\u4f7f\u5f97\u5b83\u5011\u53ef\u4ee5\u88ab\u547c\u53eb\u3002","title":"\u5ba3\u4f48\u547d\u4ee4"},{"location":"Protocol.html#_4","text":"\u7576\u5f9e\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u6a5f\u767c\u9001\u8cc7\u8a0a\u6642\u6703\u7522\u751f\u4e00\u500b \"\u97ff\u61c9\"\u3002\u9019\u4e9b\u90fd\u662f\u4f7f\u7528sendf()C\u8a9e\u8a00\u5b8f\u4f86\u8072\u660e\u548c\u767c\u9001\u7684\u3002\u4f8b\u5982\uff1a sendf(\"status clock=%u status=%c\", sched_read_time(), sched_is_shutdown()); \u4ee5\u4e0a\u50b3\u8f38\u4e86\u4e00\u500b \"\u72c0\u614b \"\u97ff\u61c9\u8a0a\u606f\uff0c\u5176\u4e2d\u5305\u542b\u5169\u500b\u6574\u6578\u53c3\u6578\uff08\"\u6642\u9418 \"\u548c \"\u72c0\u614b\"\uff09\u3002\u5fae\u63a7\u5236\u5668\u7684\u69cb\u5efa\u6703\u81ea\u52d5\u627e\u5230\u6240\u6709sendf()\u7684\u547c\u53eb\uff0c\u4f75\u7232\u5176\u7522\u751f\u7de8\u78bc\u5668\u3002sendf()\u51fd\u5f0f\u7684\u7b2c\u4e00\u500b\u53c3\u6578\u63cf\u8ff0\u4e86\u97ff\u61c9\uff0c\u5b83\u7684\u683c\u5f0f\u8207\u547d\u4ee4\u8072\u660e\u76f8\u540c\u3002 \u4e3b\u6a5f\u53ef\u4ee5\u70ba\u6bcf\u500b\u97ff\u61c9\u8a3b\u518a\u4e00\u500b\u56de\u64a5\u51fd\u5f0f\u3002\u56e0\u6b64\uff0c\u5be6\u969b\u4e0a\uff0c\u547d\u4ee4\u5141\u8a31\u4e3b\u6a5f\u5728\u5fae\u63a7\u5236\u5668\u4e0a\u547c\u53ebC\u51fd\u5f0f\uff0c\u97ff\u61c9\u5141\u8a31\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u5728\u4e3b\u6a5f\u4e0a\u547c\u53eb\u7a0b\u5f0f\u78bc\u3002 sendf()\u5b8f\u53ea\u80fd\u5f9e\u547d\u4ee4\u6216\u4efb\u52d9\u8655\u7406\u7a0b\u5f0f\u4e2d\u547c\u53eb\uff0c\u800c\u4e0d\u80fd\u5f9e\u4e2d\u65b7\u6216\u5b9a\u6642\u5668\u4e2d\u547c\u53eb\u3002\u7a0b\u5f0f\u78bc\u4e0d\u9700\u8981\u5728\u6536\u5230\u547d\u4ee4\u7684\u97ff\u61c9\u4e2d\u767c\u51fasendf()\uff0c\u7a0b\u5f0f\u78bc\u4e5f\u4e0d\u9650\u5236sendf()\u7684\u547c\u53eb\u6b21\u6578\uff0c\u4efb\u52d9\u8655\u7406\u7a0b\u5f0f\u5728\u5728\u4efb\u4f55\u6642\u5019\u90fd\u53ef\u4ee5\u547c\u53ebsendf()\u3002","title":"\u8072\u660e\u97ff\u61c9"},{"location":"Protocol.html#_5","text":"\u7232\u4e86\u7c21\u5316\u9664\u932f\uff0c\u4e5f\u6709\u4e00\u500boutput()C\u51fd\u5f0f\u3002\u4f8b\u5982\uff1a output(\"The value of %u is %s with size %u.\", x, buf, buf_len); output()\u51fd\u5f0f\u7684\u7528\u6cd5\u8207printf()\u76f8\u4f3c\u2013\u5b83\u7684\u76ee\u7684\u662f\u7522\u751f\u548c\u683c\u5f0f\u5316\u4efb\u610f\u7684\u8cc7\u8a0a\u4f9b\u4eba\u95b1\u8b80\u3002","title":"\u8f38\u51fa\u97ff\u61c9"},{"location":"Protocol.html#_6","text":"\u5217\u8209\u5141\u8a31\u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u5c0d\u5fae\u63a7\u5236\u5668\u4f5c\u70ba\u6574\u6578\u8655\u7406\u7684\u53c3\u6578\u4f7f\u7528\u5b57\u4e32\u6a19\u8b58\u3002\u5b83\u5011\u5728\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u4e2d\u88ab\u8072\u660e-\u4f8b\u5982\uff1a DECL_ENUMERATION(\"spi_bus\", \"spi\", 0); DECL_ENUMERATION_RANGE(\"pin\", \"PC0\", 16, 8); \u5728\u7b2c\u4e00\u500b\u4f8b\u5b50\u4e2d\uff0cDECL_ENUMERATION()\u5b8f\u5b9a\u7fa9\u4e86\u4e00\u500b\u5217\u8209\u91cf\u53ef\u4ee5\u7528\u65bc\u4efb\u610f\u7684\u547d\u4ee4/\u97ff\u61c9\u8a0a\u606f\uff0c\u9019\u500b\u5217\u8209\u91cf\u7684\u53c3\u6578\u540d\u7a31\u70ba \"spi_bus \"\u6216\u53c3\u6578\u540d\u7a31\u5f8c\u7db4\u70ba\"_spi_bus \"\u3002\u5c0d\u65bc\u6b64\u53c3\u6578\uff0c\u5b57\u4e32 \"spi \"\u662f\u4e00\u500b\u6709\u6548\u7684\u503c\uff0c\u5b83\u5c07\u4ee5\u4e00\u500b\u96f6\u7684\u6574\u6578\u503c\u88ab\u50b3\u905e\u3002 \u4e5f\u53ef\u4ee5\u8072\u660e\u4e00\u500b\u5217\u8209\u7bc4\u570d\u3002\u5728\u7b2c\u4e8c\u500b\u4f8b\u5b50\u4e2d\uff0c\"pin \"\u53c3\u6578\uff08\u6216\u4efb\u4f55\u5f8c\u7db4\u70ba\"_pin \"\u7684\u53c3\u6578\uff09\u5c07\u63a5\u53d7PC0\u3001PC1\u3001PC2\u3001...\u3001PC7\u4f5c\u70ba\u6709\u6548\u503c\u3002\u5b57\u4e32\u5c07\u88ab\u8f49\u5316\u6210\u6574\u657816\u300117\u300118...23\u9032\u884c\u50b3\u8f38\u3002","title":"\u8072\u660e\u5217\u8209"},{"location":"Protocol.html#_7","text":"\u5e38\u91cf\u4e5f\u53ef\u4ee5\u88ab\u5c0e\u51fa\u3002\u4f8b\u5b50\u5982\u4e0b\uff1a DECL_CONSTANT(\"SERIAL_BAUD\", 250000); \u53ef\u4ee5\u5f9e\u5fae\u63a7\u5236\u5668\u5411\u4e3b\u6a5f\u8f38\u51fa\u4e00\u500b\u540d\u70ba \"SERIAL_BAUD \"\uff0c\u503c\u70ba250000\u7684\u5e38\u6578\u3002\u4e5f\u53ef\u4ee5\u5c07\u5b57\u4e32\u8072\u660e\u6210\u5e38\u91cf-\u4f8b\u5982\uff1a DECL_CONSTANT_STR(\"MCU\", \"pru\");","title":"\u8072\u660e\u5e38\u91cf"},{"location":"Protocol.html#_8","text":"\u7232\u4e86\u5be6\u73fe\u4e0a\u8ff0RPC\u6a5f\u5236\uff0c\u6bcf\u500b\u547d\u4ee4\u548c\u97ff\u61c9\u90fd\u88ab\u7de8\u78bc\u6210\u4e8c\u9032\u5236\u683c\u5f0f\u9032\u884c\u50b3\u8f38\u3002\u672c\u7bc0\u4ecb\u7d39\u9019\u500b\u50b3\u8f38\u7cfb\u7d71\u3002","title":"\u5e95\u5c64\u8a0a\u606f\u7de8\u78bc"},{"location":"Protocol.html#_9","text":"\u6240\u6709\u5f9e\u4e3b\u6a5f\u5230\u5fae\u63a7\u5236\u5668\u4ee5\u53ca\u5f9e\u5fae\u63a7\u5236\u5668\u5230\u4e3b\u6a5f\u7684\u6578\u64da\u90fd\u5305\u542b\u5728 \"\u8a0a\u606f\u584a \"\u4e2d\u3002\u4e00\u500b\u8a0a\u606f\u584a\u6709\u4e00\u500b\u5169\u4f4d\u5143\u7d44\u7684\u982d\u548c\u4e00\u500b\u4e09\u4f4d\u5143\u7d44\u7684\u5c3e\u3002\u8cc7\u8a0a\u584a\u7684\u683c\u5f0f\u5982\u4e0b\uff1a <1 byte length><1 byte sequence><n-byte content><2 byte crc><1 byte sync> \u9577\u5ea6\u4f4d\u5143\u7d44\u6307\u793a\u8a0a\u606f\u584a\u4e2d\u7684\u4f4d\u5143\u7d44\u6578\uff0c\u5305\u62ec\u982d\u548c\u5c3e\u7684\u4f4d\u5143\u7d44\uff08\u56e0\u6b64\u8a0a\u606f\u7684\u6700\u77ed\u9577\u5ea6\u70ba5\u4f4d\u5143\u7d44\uff09\u3002\u76ee\u524d\u6700\u5927\u7684\u8a0a\u606f\u584a\u9577\u5ea6\u70ba64\u4f4d\u5143\u7d44\u3002\u5e8f\u865f\u4f4d\u5143\u7d44\u7684\u4f4e4\u4f4d\u662f\u5e8f\u5217\u865f\uff0c\u9ad84\u4f4d\u7e3d\u662f0x10\uff08\u9ad84\u4f4d\u4fdd\u7559\u7d66\u672a\u4f86\u7528\uff09\u3002\u5167\u5bb9\u4f4d\u5143\u7d44\u5305\u542b\u4efb\u610f\u6578\u64da\uff0c\u5176\u683c\u5f0f\u5728\u4e0b\u4e00\u7bc0\u4e2d\u63cf\u8ff0\u3002crc\u4f4d\u5143\u7d44\u5305\u542b\u8a0a\u606f\u584a\u768416\u4f4dCCITT CRC \uff0cCRC\u8a08\u7b97\u5305\u62ec\u982d\u4f4d\u5143\u7d44\u4f46\u4e0d\u5305\u62ec\u5c3e\u4f4d\u5143\u7d44\u3002\u540c\u6b65\u4f4d\u5143\u7d44\u70ba0x7e\u3002 \u8a0a\u606f\u584a\u7684\u683c\u5f0f\u662f\u53d7 HDLC \u8a0a\u606f\u5e40\u7684\u5553\u767c\u3002\u8207HDLC\u4e00\u6a23\uff0c\u8a0a\u606f\u584a\u5728\u958b\u59cb\u6642\u53ef\u4ee5\u9078\u64c7\u5305\u542b\u4e00\u500b\u984d\u5916\u7684\u540c\u6b65\u5b57\u5143\u3002\u8207HDLC\u4e0d\u540c\u7684\u662f\uff0c\u540c\u6b65\u5b57\u5143\u4e26\u4e0d\u5c08\u5c6c\u65bc\u6846\u67b6\uff0c\u4e5f\u53ef\u4ee5\u51fa\u73fe\u5728\u8a0a\u606f\u584a\u5167\u5bb9\u4e2d\uff08\u4e0d\u9700\u8981\u8f49\u7fa9\uff09\u3002","title":"\u8a0a\u606f\u584a"},{"location":"Protocol.html#_10","text":"\u6bcf\u500b\u5f9e\u4e3b\u6a5f\u767c\u9001\u81f3\u5fae\u63a7\u5236\u5668\u7684\u8a0a\u606f\u584a\uff0c\u5176\u5167\u5bb9\u90fd\u5305\u542b\u4e00\u7cfb\u5217\u96f6\u500b\u6216\u591a\u500b\u8a0a\u606f\u547d\u4ee4\u3002\u6bcf\u689d\u547d\u4ee4\u4ee5 \u53ef\u8b8a\u9577\u5ea6\u6578\u503c (VLQ)\u7de8\u78bc\u7684\u6574\u6578command-id\u958b\u59cb\uff0c\u5f8c\u9762\u662f\u9019\u500b\u547d\u4ee4\u7684\u96f6\u6216\u591a\u500bVLQ\u53c3\u6578\u3002 \u4f8b\u5982\uff0c\u4ee5\u4e0b\u56db\u500b\u547d\u4ee4\u53ef\u4ee5\u88ab\u653e\u5728\u4e00\u500b\u8a0a\u606f\u584a\u4e2d\uff1a update_digital_out oid=6 value=1 update_digital_out oid=5 value=0 get_config get_clock \u4e26\u7de8\u78bc\u70ba\u4e0b\u9762\u516b\u500bVLQ\u6574\u6578\uff1a <id_update_digital_out><6><1><id_update_digital_out><5><0><id_get_config><id_get_clock> \u7232\u4e86\u5c0d\u8cc7\u8a0a\u5167\u5bb9\u9032\u884c\u7de8\u89e3\u78bc\uff0c\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u90fd\u5fc5\u9808\u78ba\u4fdd\u4f7f\u7528\u7684\u547d\u4ee4\u7684ID\u548c\u6bcf\u500b\u547d\u4ee4\u5c0d\u61c9\u7684\u53c3\u6578\u6578\u91cf\u4e00\u81f4\u3002\u56e0\u6b64\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053 \"id_update_digital_out \"\u5f8c\u9762\u7e3d\u662f\u8ddf\u8457\u5169\u500b\u53c3\u6578\uff0c\u800c \"id_get_config \"\u548c \"id_get_clock \"\u6c92\u6709\u53c3\u6578\u3002\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u5171\u4eab\u4e00\u500b \"\u6578\u64da\u5b57\u5178\"\uff0c\u9019\u500b\u6578\u64da\u5b57\u5178\u5c07\u547d\u4ee4\u63cf\u8ff0\uff08\u4f8b\u5982\uff0c\"update_digital_out oid=%c value=%c\"\uff09\u5c0d\u6620\u5230\u5b83\u5011\u7684\u6574\u6578\u547d\u4ee4ID\u3002\u7576\u8655\u7406\u6578\u64da\u6642\uff0c\u89e3\u6790\u5668\u5c07\u77e5\u9053\u4e00\u500b\u7d66\u5b9a\u7684\u547d\u4ee4ID\u540e\u9810\u671f\u6709\u7279\u5b9a\u6578\u91cf\u7684VLQ\u7de8\u78bc\u53c3\u6578\u3002 \u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u584a\u7684\u8a0a\u606f\u5167\u5bb9\u9075\u5faa\u76f8\u540c\u7684\u683c\u5f0f\u3002\u9019\u4e9b\u8a0a\u606f\u4e2d\u7684\u8b58\u5225\u7b26\u865f\u662f \"\u97ff\u61c9ID\"\uff0c\u4f46\u5b83\u5011\u7684\u4f5c\u7528\u76f8\u540c\uff0c\u4e26\u9075\u5faa\u76f8\u540c\u7684\u7de8\u78bc\u898f\u5247\u3002\u4e8b\u5be6\u4e0a\uff0c\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u8a0a\u606f\u584a\u5728\u8a0a\u606f\u584a\u5167\u5bb9\u4e2d\u53ea\u5305\u542b\u4e00\u500b\u97ff\u61c9\u3002","title":"\u8a0a\u606f\u584a\u5167\u5bb9"},{"location":"Protocol.html#_11","text":"\u95dc\u65bcVLQ\u7de8\u78bc\u7684\u6574\u6578\u7684\u4e00\u822c\u683c\u5f0f\u7684\u66f4\u591a\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898b wikipedia article \u3002Klipper\u4f7f\u7528\u652f\u63f4\u6b63\u8ca0\u6574\u6578\u7684\u7de8\u78bc\u65b9\u6848\u3002\u63a5\u8fd1\u96f6\u7684\u6574\u6578\u4f7f\u7528\u8f03\u5c11\u7684\u4f4d\u5143\u7d44\u4f86\u7de8\u78bc\uff0c\u6b63\u6574\u6578\u7684\u7de8\u78bc\u901a\u5e38\u6bd4\u8ca0\u6574\u6578\u7684\u4f7f\u7528\u4f4d\u5143\u7d44\u66f4\u5c11\u3002\u4e0b\u8868\u986f\u793a\u4e86\u6bcf\u500b\u6574\u6578\u7684\u7de8\u78bc\u6240\u9700\u7684\u4f4d\u5143\u7d44\u6578\uff1a \u6574\u6578 \u7de8\u78bc\u9577\u5ea6 -32 .. 95 1 -4096 .. 12287 2 -524288 .. 1572863 3 -67108864 .. 201326591 4 -2147483648 .. 4294967295 5","title":"\u53ef\u8b8a\u9577\u5ea6\u6578\u503c"},{"location":"Protocol.html#_12","text":"\u4f5c\u70ba\u4e0a\u8ff0\u7de8\u78bc\u898f\u5247\u7684\u4f8b\u5916\uff0c\u5982\u679c\u4e00\u500b\u547d\u4ee4\u6216\u97ff\u61c9\u7684\u53c3\u6578\u662f\u4e00\u500b\u52d5\u614b\u5b57\u4e32\uff0c\u90a3\u9ebc\u8a72\u53c3\u6578\u4e0d\u6703\u88ab\u7de8\u78bc\u70ba\u4e00\u500b\u7c21\u55ae\u7684VLQ\u6574\u6578\u3002\u76f8\u53cd\uff0c\u5b83\u7684\u7de8\u78bc\u65b9\u5f0f\u662f\u5c07\u9577\u5ea6\u4f5c\u70ba\u4e00\u500bVLQ\u7de8\u78bc\u7684\u6574\u6578\u4e26\u8ddf\u8457\u5167\u5bb9\u672c\u8eab\u4f86\u50b3\u8f38\uff1a <VLQ encoded length><n-byte contents> \u5728\u6578\u64da\u5b57\u5178\u4e2d\u7684\u547d\u4ee4\u63cf\u8ff0\u4f7f\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u90fd\u77e5\u9053\u54ea\u4e9b\u547d\u4ee4\u53c3\u6578\u4f7f\u7528\u7c21\u55ae\u7684VLQ\u7de8\u78bc\uff0c\u54ea\u4e9b\u53c3\u6578\u4f7f\u7528\u5b57\u4e32\u7de8\u78bc\u3002","title":"\u53ef\u8b8a\u9577\u5ea6\u5b57\u4e32"},{"location":"Protocol.html#_13","text":"\u7232\u4e86\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u6a5f\u4e4b\u9593\u5efa\u7acb\u6709\u610f\u7fa9\u7684\u901a\u8a0a\uff0c\u96d9\u65b9\u5fc5\u9808\u5546\u5b9a\u4e00\u500b \"\u6578\u64da\u5b57\u5178\"\u3002\u9019\u500b\u6578\u64da\u5b57\u5178\u5305\u542b\u4e86\u547d\u4ee4\u548c\u97ff\u61c9\u7684\u6574\u6578\u8b58\u5225\u7b26\u865f\u53ca\u5b83\u5011\u7684\u63cf\u8ff0\u3002 \u5fae\u63a7\u5236\u5668\u69cb\u5efa\u4f7f\u7528DECL_COMMAND()\u548csendf()\u5b8f\u7684\u5167\u5bb9\u4f86\u7522\u751f\u6578\u64da\u5b57\u5178\u3002\u69cb\u5efa\u6703\u81ea\u52d5\u70ba\u6bcf\u500b\u547d\u4ee4\u548c\u97ff\u61c9\u5206\u914d\u552f\u4e00\u7684\u8b58\u5225\u7b26\u865f\u3002\u9019\u500b\u7cfb\u7d71\u5141\u8a31\u4e3b\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u65e2\u4f7f\u7528\u4eba\u985e\u53ef\u8b80\u7684\u63cf\u8ff0\u6027\u540d\u7a31\u53c8\u4f54\u7528\u6700\u5c0f\u7684\u50b3\u8f38\u983b\u5bec\u3002 \u7576\u4e3b\u6a5f\u7b2c\u4e00\u6b21\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u6642\uff0c\u6703\u67e5\u8a62\u6578\u64da\u5b57\u5178\u3002\u4e00\u65e6\u4e3b\u6a5f\u5f9e\u5fae\u63a7\u5236\u5668\u4e2d\u4e0b\u8f09\u4e86\u6578\u64da\u5b57\u5178\uff0c\u5b83\u5c31\u4f7f\u7528\u8a72\u6578\u64da\u5b57\u5178\u5c0d\u6240\u6709\u547d\u4ee4\u9032\u884c\u7de8\u78bc\uff0c\u4e26\u89e3\u6790\u4f86\u81ea\u5fae\u63a7\u5236\u5668\u7684\u6240\u6709\u97ff\u61c9\u3002\u56e0\u6b64\uff0c\u4e3b\u6a5f\u5fc5\u9808\u80fd\u8655\u7406\u52d5\u614b\u7684\u6578\u64da\u5b57\u5178\u3002\u7136\u800c\uff0c\u7232\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u8edf\u9ad4\u7684\u7c21\u55ae\u6027\uff0c\u5fae\u63a7\u5236\u5668\u7e3d\u662f\u4f7f\u7528\u975c\u614b\uff08\u7de8\u8b6f\u7684\uff09\u6578\u64da\u5b57\u5178\u3002 \u6578\u64da\u5b57\u5178\u662f\u901a\u904e\u5411\u5fae\u63a7\u5236\u5668\u767c\u9001 \"identify\"\u547d\u4ee4\u4f86\u67e5\u8a62\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c07\u7528\u4e00\u500b \"identify_response \"\u8a0a\u606f\u4f86\u56de\u61c9\u6bcf\u689d\u8b58\u5225\u547d\u4ee4\u3002\u7531\u65bc\u5728\u7372\u53d6\u6578\u64da\u5b57\u5178\u4e4b\u524d\u9700\u8981\u9019\u5169\u689d\u547d\u4ee4\uff0c\u5b83\u5011\u7684\u6574\u6578id\u548c\u53c3\u6578\u578b\u5225\u5728\u5fae\u63a7\u5236\u5668\u548c\u4e3b\u6a5f\u4e2d\u90fd\u662f\u786c\u7de8\u78bc\u7684\u3002\"identify_response \"\u7684\u97ff\u61c9id\u662f0\uff0c\"identify\"\u7684\u547d\u4ee4id\u662f1\u3002\u9664\u4e86\u6709\u786c\u7de8\u78bc\u7684id\u5916\uff0c\u8b58\u5225\u547d\u4ee4\u53ca\u5176\u97ff\u61c9\u7684\u8072\u660e\u548c\u50b3\u8f38\u65b9\u5f0f\u8207\u5176\u4ed6\u547d\u4ee4\u548c\u97ff\u61c9\u76f8\u540c\u3002\u9664\u6b64\u4e4b\u5916\u6c92\u6709\u5176\u4ed6\u547d\u4ee4\u6216\u97ff\u61c9\u662f\u786c\u7de8\u78bc\u7684\u3002 \u50b3\u8f38\u7684\u6578\u64da\u5b57\u5178\u672c\u8eab\u7684\u683c\u5f0f\u662f\u4e00\u500bzlib\u58d3\u7e2e\u7684JSON\u5b57\u4e32\u3002\u5fae\u63a7\u5236\u5668\u7684\u69cb\u5efa\u904e\u7a0b\u6703\u7522\u751f\u8a72\u5b57\u4e32\uff0c\u5c0d\u5176\u9032\u884c\u58d3\u7e2e\uff0c\u4e26\u5c07\u5176\u5132\u5b58\u5728\u5fae\u63a7\u5236\u5668\u5feb\u9583\u8a18\u61b6\u9ad4\u7684text\u90e8\u5206\u3002\u6578\u64da\u5b57\u5178\u53ef\u4ee5\u6bd4\u6700\u5927\u7684\u8a0a\u606f\u584a\u5927\u5f97\u591a--\u4e3b\u6a5f\u901a\u904e\u767c\u9001\u591a\u500b\u8b58\u5225\u547d\u4ee4\u4f86\u5206\u584a\u4e0b\u8f09\u6578\u64da\u5b57\u5178\u3002\u4e00\u65e6\u7372\u5f97\u6240\u6709\u7684\u6578\u64da\u584a\uff0c\u4e3b\u6a5f\u5c07\u628a\u9019\u4e9b\u6578\u64da\u584a\u7d44\u5408\u8d77\u4f86\uff0c\u89e3\u58d3\u7e2e\u6578\u64da\u4e26\u89e3\u6790\u5167\u5bb9\u3002 \u9664\u4e86\u901a\u8a0a\u5354\u8b70\u7684\u8cc7\u8a0a\u5916\uff0c\u6578\u64da\u5b57\u5178\u9084\u5305\u542b\u8edf\u9ad4\u7248\u672c\u3001\u5217\u8209\u503c\uff08\u7531DECL_ENUMERATION\u5b9a\u7fa9\uff09\u548c\u5e38\u91cf\uff08\u7531DECL_CONSTANT\u5b9a\u7fa9\uff09\u3002","title":"\u6578\u64da\u5b57\u5178"},{"location":"Protocol.html#_14","text":"\u5f9e\u4e3b\u6a5f\u5230\u5fae\u63a7\u5236\u5668\u767c\u9001\u7684\u8cc7\u8a0a\u547d\u4ee4\u61c9\u8a72\u662f\u7121\u5dee\u932f\u7684\u3002\u5fae\u63a7\u5236\u5668\u5c07\u6aa2\u67e5\u6bcf\u500b\u8cc7\u8a0a\u584a\u4e2d\u7684CRC\u548c\u9806\u5e8f\u865f\uff0c\u4ee5\u78ba\u4fdd\u547d\u4ee4\u7684\u6e96\u78ba\u6027\u548c\u9806\u5e8f\u6027\u3002\u5fae\u63a7\u5236\u5668\u7e3d\u662f\u6309\u9806\u5e8f\u8655\u7406\u8cc7\u8a0a\u584a--\u5982\u679c\u5b83\u6536\u5230\u4e00\u500b\u4e0d\u6309\u9806\u5e8f\u7684\u8cc7\u8a0a\u584a\uff0c\u5b83\u5c07\u4e1f\u68c4\u5b83\u548c\u5176\u4ed6\u4e0d\u6309\u9806\u5e8f\u7684\u8cc7\u8a0a\u584a\uff0c\u76f4\u5230\u5b83\u6536\u5230\u5177\u6709\u6b63\u78ba\u9806\u5e8f\u865f\u7684\u8cc7\u8a0a\u584a\u3002 \u4f4e\u5c64\u7684\u4e3b\u6a5f\u7a0b\u5f0f\u78bc\u70ba\u767c\u9001\u5230\u5fae\u63a7\u5236\u5668\u7684\u4e1f\u5931\u548c\u640d\u58de\u7684\u8a0a\u606f\u584a\u5be6\u73fe\u4e86\u4e00\u500b\u81ea\u52d5\u91cd\u50b3\u7cfb\u7d71\u3002\u70ba\u6b64\uff0c\u5fae\u63a7\u5236\u5668\u5728\u6bcf\u6b21\u6210\u529f\u63a5\u6536\u7684\u8a0a\u606f\u584a\u4e4b\u5f8c\u90fd\u6703\u767c\u9001\u4e00\u500b \"ack message block\"\u3002\u4e3b\u6a5f\u5728\u767c\u9001\u6bcf\u500b\u584a\u5f8c\u6703\u555f\u52d5\u8d85\u6642\u7b49\u5f85\uff0c\u5982\u679c\u8d85\u6642\u5f8c\u6c92\u6709\u6536\u5230\u76f8\u61c9\u7684 \"ack\"\uff0c\u5b83\u5c07\u91cd\u65b0\u767c\u9001\u3002\u6b64\u5916\uff0c\u5982\u679c\u5fae\u63a7\u5236\u5668\u6aa2\u6e2c\u5230\u4e00\u500b\u640d\u58de\u6216\u9806\u5e8f\u932f\u8aa4\u7684\u584a\uff0c\u5b83\u53ef\u4ee5\u767c\u9001\u4e00\u500b \"nak message block\"\u5be6\u73fe\u5feb\u901f\u91cd\u50b3\u3002 \u300cack \"\u662f\u4e00\u500b\u5167\u5bb9\u70ba\u7a7a\u7684\u8a0a\u606f\u584a\uff08\u5373\u4e00\u500b5\u4f4d\u5143\u7d44\u7684\u8a0a\u606f\u584a\uff09\uff0c\u5176\u9806\u5e8f\u865f\u5927\u65bc\u6700\u5f8c\u6536\u5230\u7684\u4e3b\u6a5f\u8a0a\u606f\u9806\u5e8f\u865f\u3002\u4e00\u500b \"nak \"\u662f\u4e00\u500b\u5167\u5bb9\u70ba\u7a7a\u7684\u8a0a\u606f\u584a\uff0c\u5176\u9806\u5e8f\u865f\u5c0f\u65bc\u6700\u5f8c\u6536\u5230\u7684\u4e3b\u6a5f\u8a0a\u606f\u9806\u5e8f\u865f\u3002 \u5354\u8b70\u5be6\u73fe\u4e86 \"\u8996\u7a97 \"\u50b3\u8f38\u7cfb\u7d71\uff0c\u56e0\u6b64\u4e3b\u6a5f\u53ef\u4ee5\u5728\u540c\u4e00\u6642\u9593\u5141\u8a31\u591a\u672a\u5b8c\u6210\u7684\u8a0a\u606f\u584a\u5728\u767c\u9001\u3002(\u9019\u662f\u5c0d\u4e00\u500b\u8a0a\u606f\u584a\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u500b\u547d\u4ee4\u7684\u88dc\u5145\uff09\u3002\u901a\u904e\u9019\u7a2e\u65b9\u5f0f\uff0c\u5373\u4f7f\u5728\u50b3\u8f38\u5ef6\u9072\u7684\u60c5\u6cc1\u4e0b\u4e5f\u80fd\u6700\u5927\u5316\u5730\u5229\u7528\u983b\u5bec\u3002\u8d85\u6642\u3001\u91cd\u50b3\u3001\u8996\u7a97\u5316\u548c\u97ff\u61c9\u6a5f\u5236\u662f\u53d7\u5230 TCP \u4e2d\u985e\u4f3c\u6a5f\u5236\u7684\u5553\u767c\u3002 \u53e6\u4e00\u65b9\u5411\uff0c\u5f9e\u5fae\u63a7\u5236\u5668\u767c\u9001\u5230\u4e3b\u6a5f\u7684\u8cc7\u8a0a\u584a\u88ab\u8a2d\u8a08\u6210\u7121\u5dee\u932f\uff0c\u4f46\u4e26\u4e0d\u4fdd\u8b49\u50b3\u8f38\u3002(\u97ff\u61c9\u4e0d\u6703\u51fa\u932f\uff0c\u4f46\u53ef\u80fd\u6703\u4e1f\u5931\u3002)\u9019\u6a23\u505a\u662f\u7232\u4e86\u4fdd\u6301\u5fae\u63a7\u5236\u5668\u7684\u5be6\u73fe\u7c21\u55ae\u3002\u97ff\u61c9\u6c92\u6709\u81ea\u52d5\u91cd\u50b3\u7cfb\u7d71--\u9ad8\u5c64\u7a0b\u5f0f\u78bc\u61c9\u8a72\u80fd\u5920\u8655\u7406\u5076\u723e\u4e1f\u5931\u7684\u97ff\u61c9\uff08\u901a\u5e38\u901a\u904e\u91cd\u65b0\u8acb\u6c42\u5167\u5bb9\u6216\u8a2d\u5b9a\u97ff\u61c9\u50b3\u8f38\u7684\u5faa\u74b0\u6392\u7a0b\uff09\u3002\u767c\u9001\u7d66\u4e3b\u6a5f\u7684\u8cc7\u8a0a\u584a\u4e2d\u7684\u9806\u5e8f\u865f\u6b04\u4f4d\u7e3d\u662f\u6bd4\u5f9e\u4e3b\u6a5f\u6536\u5230\u7684\u8cc7\u8a0a\u584a\u7684\u6700\u5f8c\u63a5\u6536\u9806\u5e8f\u865f\u59271\u3002\u9806\u5e8f\u865f\u4e26\u4e0d\u7528\u65bc\u8ddf\u8e64\u97ff\u61c9\u8a0a\u606f\u584a\u7684\u9806\u5e8f\u3002","title":"\u8a0a\u606f\u6d41"},{"location":"RPi_microcontroller.html","text":"RPi \u5fae\u63a7\u5236\u5668 \u00b6 \u9019\u500b\u6587\u4ef6\u63cf\u8ff0\u4e86\u5728RPi\u4e0a\u57f7\u884cKlipper\u7684\u904e\u7a0b\uff0c\u4e26\u4f7f\u7528\u76f8\u540c\u7684RPi\u4f5c\u70ba\u8f14\u52a9MCU\u3002 \u70ba\u4ec0\u9ebc\u4f7f\u7528RPi\u4f5c\u70ba\u8f14\u52a9MCU\uff1f \u00b6 \u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u5c08\u9580\u7528\u65bc\u63a7\u52363D\u5370\u8868\u6a5f\u7684MCU\u6709\u6709\u9650\u7684\u3001\u9810\u5148\u914d\u7f6e\u597d\u7684\u5f15\u8173\u4f86\u7ba1\u7406\u4e3b\u8981\u7684\u5217\u5370\u529f\u80fd\uff08\u71b1\u654f\u96fb\u963b\u3001\u64e0\u51fa\u6a5f\u3001\u6b65\u9032\u5668...\uff09\u3002\u4f7f\u7528\u5b89\u88dd\u4e86Klipper\u7684RPi\u4f5c\u70ba\u8f14\u52a9MCU\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528klipper\u5167\u7684GPIO\u548cRPi\u7684\u532f\u6d41\u6392\uff08i2c\uff0cspi\uff09\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528Octoprint\u5916\u639b\uff08\u5982\u679c\u4f7f\u7528\u7684\u8a71\uff09\u6216\u5916\u90e8\u7a0b\u5f0f\uff0c\u5f9e\u800c\u80fd\u5920\u63a7\u5236\u5217\u5370GCODE\u5167\u7684\u4e00\u5207\u3002 \u8b66\u544a \u3002\u5982\u679c\u4f60\u7684\u5e73\u81fa\u662f Beaglebone \uff0c\u4e26\u4e14\u4f60\u5df2\u7d93\u6b63\u78ba\u5730\u6309\u7167\u5b89\u88dd\u6b65\u9a5f\u9032\u884c\u4e86\u5b89\u88dd\uff0c\u90a3\u9ebclinux mcu\u5df2\u7d93\u70ba\u4f60\u7684\u7cfb\u7d71\u5b89\u88dd\u548c\u914d\u7f6e\u4e86\u3002 \u5b89\u88dd rc \u6307\u4ee4\u78bc \u00b6 \u5982\u679c\u4f60\u60f3\u628a\u4e3b\u6a5f\u4f5c\u70ba\u4e00\u500b\u8f14\u52a9MCU\uff0cklipper_mcu\u7a0b\u5e8f\u5fc5\u9808\u5728klippy\u7a0b\u5e8f\u4e4b\u524d\u57f7\u884c\u3002 \u5b89\u88dd Klipper \u540e\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f86\u5b89\u88dd\u6307\u4ee4\u78bc\uff1a cd ~/klipper/ sudo cp \"./scripts/klipper-mcu-start.sh\" /etc/init.d/klipper_mcu sudo update-rc.d klipper_mcu defaults \u69cb\u5efa\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc \u00b6 \u8981\u7de8\u8b6f\u7684 Klipper \u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u9700\u8981\u5148\u5c07\u7de8\u8b6f\u914d\u7f6e\u8a2d\u5b9a\u70ba\u300cLinux Process\u300d\uff1a cd ~/klipper/ make menuconfig \u5728\u83dc\u55ae\u4e2d\uff0c\u8a2d\u5b9a\u300cMicrocontroller Archetecture\u300d\uff08\u5fae\u63a7\u5236\u5668\u67b6\u69cb\uff09\u70ba\u300cLinux Process\u300d\uff08Linux \u7a0b\u5e8f\uff09\uff0c\u7136\u5f8c\u5132\u5b58(save)\u4e26\u9000\u51fa(exit)\u3002 \u8981\u69cb\u5efa\u548c\u5b89\u88dd\u65b0\u7684\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u8acb\u57f7\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u5982\u679cklippy.log\u5728\u8a66\u5716\u9023\u7dda\u5230 /tmp/klipper_host_mcu \u6642\u8f38\u51fa \"Permission denied\" \u932f\u8aa4\uff0c\u90a3\u9ebc\u4f60\u9700\u8981\u5c07\u4f60\u7684\u4f7f\u7528\u8005\u65b0\u589e\u5230tty\u4f7f\u7528\u8005\u7d44\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5c07\u628a \"pi \"\u4f7f\u7528\u8005\u65b0\u589e\u5230tty\u4f7f\u7528\u8005\u7d44\u4e2d\uff1a sudo usermod -a -G tty pi \u5269\u9918\u7684\u914d\u7f6e \u00b6 \u6309\u7167 RaspberryPi \u53c3\u8003\u914d\u7f6e \u548c \u591a\u5fae\u63a7\u5236\u5668\u53c3\u8003\u914d\u7f6e \u4e2d\u7684\u8aaa\u660e\u914d\u7f6eKlipper \u4e8c\u7d1a\u5fae\u63a7\u5236\u5668\u4f86\u5b8c\u6210\u5b89\u88dd\u3002 \u53ef\u9078\uff1a\u555f\u7528 SPI \u00b6 \u901a\u904e\u57f7\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u55ae\u4e2d\u555f\u7528 SPI \u4ee5\u78ba\u4fddLinux SPI \u9a45\u52d5\u5df2\u555f\u7528\u3002 Optional: Enabling I2C \u00b6 Make sure the Linux I2C driver is enabled by running sudo raspi-config and enabling I2C under the \"Interfacing options\" menu. If planning to use I2C for the MPU accelerometer, it is also required to set the baud rate to 400000 by: adding/uncommenting dtparam=i2c_arm=on,i2c_arm_baudrate=400000 in /boot/config.txt (or /boot/firmware/config.txt in some distros). \u53ef\u9078\u6b65\u9a5f\uff1a\u8b58\u5225\u6b63\u78ba\u7684 gpiochip \u00b6 On Raspberry Pi and on many clones the pins exposed on the GPIO belong to the first gpiochip. They can therefore be used on klipper simply by referring them with the name gpio0..n . However, there are cases in which the exposed pins belong to gpiochips other than the first. For example in the case of some OrangePi models or if a Port Expander is used. In these cases it is useful to use the commands to access the Linux GPIO character device to verify the configuration. \u8981\u5728\u57fa\u65bc Debian \u7684\u767c\u884c\u7248\uff08\u5982 OctoPi\uff09\u4e0a\u5b89\u88dd Linux GPIO character device - binary \uff0c\u8acb\u57f7\u884c\uff1a sudo apt-get install gpiod \u8981\u6aa2\u67e5\u53ef\u7528\u7684gpiochip\uff0c\u8acb\u57f7\u884c\uff1a gpiodetect \u8981\u6aa2\u67e5\u91dd\u8173\u7de8\u865f\u548c\u91dd\u8173\u53ef\u7528\u6027\uff0c\u8acb\u57f7\u884c\uff1a gpioinfo \u56e0\u6b64\uff0c\u6240\u9078\u5f15\u8173\u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d\u53ef\u4ee5\u901a\u904e gpiochip<n>/gpio<o> \u5f15\u7528\uff0c\u5176\u4e2d n \u662f\u7531 gpiodetect \u547d\u4ee4\u770b\u5230\u7684\u6676\u7247\u7de8\u865f o \u662f gpioinfo \u547d\u4ee4\u770b\u5230\u7684\u884c\u865f\u3002 \u8b66\u544a\uff1a \u53ea\u6709\u6a19\u8a18\u70ba unused \u7684 gpio \u624d\u53ef\u4ee5\u88ab\u4f7f\u7528\u3002\u4e00\u689d \u7dda\u8def \u4e0d\u53ef\u80fd\u88ab\u591a\u500b\u7a0b\u5e8f\u540c\u6642\u4f7f\u7528\u3002 \u4f8b\u5982\uff0c\u5728\u6a39\u8393\u6d3e 3B+\u4e0a \u5c07GPIO20\u4f5c\u70ba Klipper \u7684\u4e00\u500b\u958b\u95dc\uff1a $ gpiodetect gpiochip0 [pinctrl-bcm2835] (54 lines) gpiochip1 [raspberrypi-exp-gpio] (8 lines) $ gpioinfo gpiochip0 - 54 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed unused input active-high line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high line 8: unnamed unused input active-high line 9: unnamed unused input active-high line 10: unnamed unused input active-high line 11: unnamed unused input active-high line 12: unnamed unused input active-high line 13: unnamed unused input active-high line 14: unnamed unused input active-high line 15: unnamed unused input active-high line 16: unnamed unused input active-high line 17: unnamed unused input active-high line 18: unnamed unused input active-high line 19: unnamed unused input active-high line 20: unnamed \"klipper\" output active-high [used] line 21: unnamed unused input active-high line 22: unnamed unused input active-high line 23: unnamed unused input active-high line 24: unnamed unused input active-high line 25: unnamed unused input active-high line 26: unnamed unused input active-high line 27: unnamed unused input active-high line 28: unnamed unused input active-high line 29: unnamed \"led0\" output active-high [used] line 30: unnamed unused input active-high line 31: unnamed unused input active-high line 32: unnamed unused input active-high line 33: unnamed unused input active-high line 34: unnamed unused input active-high line 35: unnamed unused input active-high line 36: unnamed unused input active-high line 37: unnamed unused input active-high line 38: unnamed unused input active-high line 39: unnamed unused input active-high line 40: unnamed unused input active-high line 41: unnamed unused input active-high line 42: unnamed unused input active-high line 43: unnamed unused input active-high line 44: unnamed unused input active-high line 45: unnamed unused input active-high line 46: unnamed unused input active-high line 47: unnamed unused input active-high line 48: unnamed unused input active-high line 49: unnamed unused input active-high line 50: unnamed unused input active-high line 51: unnamed unused input active-high line 52: unnamed unused input active-high line 53: unnamed unused input active-high gpiochip1 - 8 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed \"led1\" output active-low [used] line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high \u53ef\u9078\u529f\u80fd\uff1a\u786c\u9ad4 PWM \u00b6 \u6a39\u8393\u6d3e\u6709\u5169\u500bPWM\u901a\u9053\uff08PWM0\u548cPWM1\uff09\uff0c\u5b83\u5011\u901a\u5e38\u66b4\u9732\u5728header\u4e2d\u4e0a\uff0c\u5982\u679c\u6c92\u6709\uff0c\u53ef\u4ee5\u8def\u7531\u5230\u73fe\u6709\u7684 gpio \u5f15\u8173\u3002Linux mcu \u5b88\u8b77\u7a0b\u5f0f\u4f7f\u7528 pwmchip sysfs \u4ecb\u9762\u4f86\u63a7\u5236 Linux \u4e3b\u6a5f\u4e0a\u7684\u786c\u9ad4 PWM \u88dd\u7f6e\u3002pwm sysfs \u4ecb\u9762\u5728\u6a39\u8393\u4e0a\u9810\u8a2d\u662f\u96b1\u85cf\u7684\uff0c\u53ef\u4ee5\u901a\u904e\u5728 /boot/config.txt \u4e2d\u52a0\u5165\u4e00\u884c\u8a2d\u5b9a\u4f86\u555f\u7528\uff1a # \u555f\u7528 pwmchip sysfs \u4ecb\u9762 dtoverlay=pwm,pin=12,func=4 \u6b64\u793a\u4f8b\u50c5\u555f\u7528 PWM0 \u4e26\u5c07\u5176\u8def\u7531\u5230 gpio12\u3002\u5982\u679c\u9700\u8981\u540c\u6642\u555f\u7528\u5169\u500b PWM \u901a\u9053\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 pwm-2chan \u3002 overlay \u5728\u555f\u52d5\u6642\u4e0d\u6703\u5728 sysfs \u4e0a\u66b4\u9732\u51fa PWM \u7dda\u8def\uff0c\u9700\u8981\u901a\u904eecho\u5c07 PWM \u901a\u9053\u7684\u7de8\u865f\u5c0e\u51fa\u5230 /sys/class/pwm/pwmchip0/export \uff1a echo 0 > /sys/class/pwm/pwmchip0/export \u9019\u5c07\u5728\u6a94\u6848\u7cfb\u7d71\u4e2d\u5efa\u7acb\u88dd\u7f6e /sys/class/pwm/kwmchip0/pwm0 \u3002\u6700\u7c21\u55ae\u7684\u65b9\u6cd5\u662f\u5728 /etc/rc.local \u7684 exit 0 \u884c\u4e4b\u524d\u65b0\u589e\u9019\u884c\u3002 \u6709\u4e86 sysfs\uff0c\u73fe\u5728\u53ef\u4ee5\u901a\u904e\u5c07\u4ee5\u4e0b\u914d\u7f6e\u65b0\u589e\u5230 printer.cfg \u4f86\u4f7f\u7528 PWM \u901a\u9053\uff1a [output_pin caselight] pin: host:pwmchip0/pwm0 pwm: True hardware_pwm: True cycle_time: 0.000001 \u9019\u5c07\u70ba\u6a39\u8393\u6d3e\u4e0a\u7684 gpio12 \u5f15\u8173\u65b0\u589e\u786c\u9ad4 PWM \u63a7\u5236\uff08\u56e0\u70baoverlay\u88ab\u914d\u7f6e\u70ba\u5c07 pwm0 \u8def\u7531\u5230 pin=12\uff09\u3002 PWM0 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio12 \u548c gpio18\uff0cPWM1 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio13 \u548c gpio19\uff1a PWM GPIO \u5f15\u8173 \u529f\u80fd 0 12 4 0 18 2 1 13 4 1 19 2","title":"RPi \u5fae\u63a7\u5236\u5668"},{"location":"RPi_microcontroller.html#rpi","text":"\u9019\u500b\u6587\u4ef6\u63cf\u8ff0\u4e86\u5728RPi\u4e0a\u57f7\u884cKlipper\u7684\u904e\u7a0b\uff0c\u4e26\u4f7f\u7528\u76f8\u540c\u7684RPi\u4f5c\u70ba\u8f14\u52a9MCU\u3002","title":"RPi \u5fae\u63a7\u5236\u5668"},{"location":"RPi_microcontroller.html#rpimcu","text":"\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u5c08\u9580\u7528\u65bc\u63a7\u52363D\u5370\u8868\u6a5f\u7684MCU\u6709\u6709\u9650\u7684\u3001\u9810\u5148\u914d\u7f6e\u597d\u7684\u5f15\u8173\u4f86\u7ba1\u7406\u4e3b\u8981\u7684\u5217\u5370\u529f\u80fd\uff08\u71b1\u654f\u96fb\u963b\u3001\u64e0\u51fa\u6a5f\u3001\u6b65\u9032\u5668...\uff09\u3002\u4f7f\u7528\u5b89\u88dd\u4e86Klipper\u7684RPi\u4f5c\u70ba\u8f14\u52a9MCU\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528klipper\u5167\u7684GPIO\u548cRPi\u7684\u532f\u6d41\u6392\uff08i2c\uff0cspi\uff09\uff0c\u800c\u4e0d\u9700\u8981\u4f7f\u7528Octoprint\u5916\u639b\uff08\u5982\u679c\u4f7f\u7528\u7684\u8a71\uff09\u6216\u5916\u90e8\u7a0b\u5f0f\uff0c\u5f9e\u800c\u80fd\u5920\u63a7\u5236\u5217\u5370GCODE\u5167\u7684\u4e00\u5207\u3002 \u8b66\u544a \u3002\u5982\u679c\u4f60\u7684\u5e73\u81fa\u662f Beaglebone \uff0c\u4e26\u4e14\u4f60\u5df2\u7d93\u6b63\u78ba\u5730\u6309\u7167\u5b89\u88dd\u6b65\u9a5f\u9032\u884c\u4e86\u5b89\u88dd\uff0c\u90a3\u9ebclinux mcu\u5df2\u7d93\u70ba\u4f60\u7684\u7cfb\u7d71\u5b89\u88dd\u548c\u914d\u7f6e\u4e86\u3002","title":"\u70ba\u4ec0\u9ebc\u4f7f\u7528RPi\u4f5c\u70ba\u8f14\u52a9MCU\uff1f"},{"location":"RPi_microcontroller.html#rc","text":"\u5982\u679c\u4f60\u60f3\u628a\u4e3b\u6a5f\u4f5c\u70ba\u4e00\u500b\u8f14\u52a9MCU\uff0cklipper_mcu\u7a0b\u5e8f\u5fc5\u9808\u5728klippy\u7a0b\u5e8f\u4e4b\u524d\u57f7\u884c\u3002 \u5b89\u88dd Klipper \u540e\uff0c\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\u4f86\u5b89\u88dd\u6307\u4ee4\u78bc\uff1a cd ~/klipper/ sudo cp \"./scripts/klipper-mcu-start.sh\" /etc/init.d/klipper_mcu sudo update-rc.d klipper_mcu defaults","title":"\u5b89\u88dd rc \u6307\u4ee4\u78bc"},{"location":"RPi_microcontroller.html#_1","text":"\u8981\u7de8\u8b6f\u7684 Klipper \u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u9700\u8981\u5148\u5c07\u7de8\u8b6f\u914d\u7f6e\u8a2d\u5b9a\u70ba\u300cLinux Process\u300d\uff1a cd ~/klipper/ make menuconfig \u5728\u83dc\u55ae\u4e2d\uff0c\u8a2d\u5b9a\u300cMicrocontroller Archetecture\u300d\uff08\u5fae\u63a7\u5236\u5668\u67b6\u69cb\uff09\u70ba\u300cLinux Process\u300d\uff08Linux \u7a0b\u5e8f\uff09\uff0c\u7136\u5f8c\u5132\u5b58(save)\u4e26\u9000\u51fa(exit)\u3002 \u8981\u69cb\u5efa\u548c\u5b89\u88dd\u65b0\u7684\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\uff0c\u8acb\u57f7\u884c\uff1a sudo service klipper stop make flash sudo service klipper start \u5982\u679cklippy.log\u5728\u8a66\u5716\u9023\u7dda\u5230 /tmp/klipper_host_mcu \u6642\u8f38\u51fa \"Permission denied\" \u932f\u8aa4\uff0c\u90a3\u9ebc\u4f60\u9700\u8981\u5c07\u4f60\u7684\u4f7f\u7528\u8005\u65b0\u589e\u5230tty\u4f7f\u7528\u8005\u7d44\u3002\u4e0b\u9762\u7684\u547d\u4ee4\u5c07\u628a \"pi \"\u4f7f\u7528\u8005\u65b0\u589e\u5230tty\u4f7f\u7528\u8005\u7d44\u4e2d\uff1a sudo usermod -a -G tty pi","title":"\u69cb\u5efa\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc"},{"location":"RPi_microcontroller.html#_2","text":"\u6309\u7167 RaspberryPi \u53c3\u8003\u914d\u7f6e \u548c \u591a\u5fae\u63a7\u5236\u5668\u53c3\u8003\u914d\u7f6e \u4e2d\u7684\u8aaa\u660e\u914d\u7f6eKlipper \u4e8c\u7d1a\u5fae\u63a7\u5236\u5668\u4f86\u5b8c\u6210\u5b89\u88dd\u3002","title":"\u5269\u9918\u7684\u914d\u7f6e"},{"location":"RPi_microcontroller.html#spi","text":"\u901a\u904e\u57f7\u884c sudo raspi-config \u540e\u7684 \"Interfacing options\"\u83dc\u55ae\u4e2d\u555f\u7528 SPI \u4ee5\u78ba\u4fddLinux SPI \u9a45\u52d5\u5df2\u555f\u7528\u3002","title":"\u53ef\u9078\uff1a\u555f\u7528 SPI"},{"location":"RPi_microcontroller.html#optional-enabling-i2c","text":"Make sure the Linux I2C driver is enabled by running sudo raspi-config and enabling I2C under the \"Interfacing options\" menu. If planning to use I2C for the MPU accelerometer, it is also required to set the baud rate to 400000 by: adding/uncommenting dtparam=i2c_arm=on,i2c_arm_baudrate=400000 in /boot/config.txt (or /boot/firmware/config.txt in some distros).","title":"Optional: Enabling I2C"},{"location":"RPi_microcontroller.html#gpiochip","text":"On Raspberry Pi and on many clones the pins exposed on the GPIO belong to the first gpiochip. They can therefore be used on klipper simply by referring them with the name gpio0..n . However, there are cases in which the exposed pins belong to gpiochips other than the first. For example in the case of some OrangePi models or if a Port Expander is used. In these cases it is useful to use the commands to access the Linux GPIO character device to verify the configuration. \u8981\u5728\u57fa\u65bc Debian \u7684\u767c\u884c\u7248\uff08\u5982 OctoPi\uff09\u4e0a\u5b89\u88dd Linux GPIO character device - binary \uff0c\u8acb\u57f7\u884c\uff1a sudo apt-get install gpiod \u8981\u6aa2\u67e5\u53ef\u7528\u7684gpiochip\uff0c\u8acb\u57f7\u884c\uff1a gpiodetect \u8981\u6aa2\u67e5\u91dd\u8173\u7de8\u865f\u548c\u91dd\u8173\u53ef\u7528\u6027\uff0c\u8acb\u57f7\u884c\uff1a gpioinfo \u56e0\u6b64\uff0c\u6240\u9078\u5f15\u8173\u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d\u53ef\u4ee5\u901a\u904e gpiochip<n>/gpio<o> \u5f15\u7528\uff0c\u5176\u4e2d n \u662f\u7531 gpiodetect \u547d\u4ee4\u770b\u5230\u7684\u6676\u7247\u7de8\u865f o \u662f gpioinfo \u547d\u4ee4\u770b\u5230\u7684\u884c\u865f\u3002 \u8b66\u544a\uff1a \u53ea\u6709\u6a19\u8a18\u70ba unused \u7684 gpio \u624d\u53ef\u4ee5\u88ab\u4f7f\u7528\u3002\u4e00\u689d \u7dda\u8def \u4e0d\u53ef\u80fd\u88ab\u591a\u500b\u7a0b\u5e8f\u540c\u6642\u4f7f\u7528\u3002 \u4f8b\u5982\uff0c\u5728\u6a39\u8393\u6d3e 3B+\u4e0a \u5c07GPIO20\u4f5c\u70ba Klipper \u7684\u4e00\u500b\u958b\u95dc\uff1a $ gpiodetect gpiochip0 [pinctrl-bcm2835] (54 lines) gpiochip1 [raspberrypi-exp-gpio] (8 lines) $ gpioinfo gpiochip0 - 54 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed unused input active-high line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high line 8: unnamed unused input active-high line 9: unnamed unused input active-high line 10: unnamed unused input active-high line 11: unnamed unused input active-high line 12: unnamed unused input active-high line 13: unnamed unused input active-high line 14: unnamed unused input active-high line 15: unnamed unused input active-high line 16: unnamed unused input active-high line 17: unnamed unused input active-high line 18: unnamed unused input active-high line 19: unnamed unused input active-high line 20: unnamed \"klipper\" output active-high [used] line 21: unnamed unused input active-high line 22: unnamed unused input active-high line 23: unnamed unused input active-high line 24: unnamed unused input active-high line 25: unnamed unused input active-high line 26: unnamed unused input active-high line 27: unnamed unused input active-high line 28: unnamed unused input active-high line 29: unnamed \"led0\" output active-high [used] line 30: unnamed unused input active-high line 31: unnamed unused input active-high line 32: unnamed unused input active-high line 33: unnamed unused input active-high line 34: unnamed unused input active-high line 35: unnamed unused input active-high line 36: unnamed unused input active-high line 37: unnamed unused input active-high line 38: unnamed unused input active-high line 39: unnamed unused input active-high line 40: unnamed unused input active-high line 41: unnamed unused input active-high line 42: unnamed unused input active-high line 43: unnamed unused input active-high line 44: unnamed unused input active-high line 45: unnamed unused input active-high line 46: unnamed unused input active-high line 47: unnamed unused input active-high line 48: unnamed unused input active-high line 49: unnamed unused input active-high line 50: unnamed unused input active-high line 51: unnamed unused input active-high line 52: unnamed unused input active-high line 53: unnamed unused input active-high gpiochip1 - 8 lines: line 0: unnamed unused input active-high line 1: unnamed unused input active-high line 2: unnamed \"led1\" output active-low [used] line 3: unnamed unused input active-high line 4: unnamed unused input active-high line 5: unnamed unused input active-high line 6: unnamed unused input active-high line 7: unnamed unused input active-high","title":"\u53ef\u9078\u6b65\u9a5f\uff1a\u8b58\u5225\u6b63\u78ba\u7684 gpiochip"},{"location":"RPi_microcontroller.html#pwm","text":"\u6a39\u8393\u6d3e\u6709\u5169\u500bPWM\u901a\u9053\uff08PWM0\u548cPWM1\uff09\uff0c\u5b83\u5011\u901a\u5e38\u66b4\u9732\u5728header\u4e2d\u4e0a\uff0c\u5982\u679c\u6c92\u6709\uff0c\u53ef\u4ee5\u8def\u7531\u5230\u73fe\u6709\u7684 gpio \u5f15\u8173\u3002Linux mcu \u5b88\u8b77\u7a0b\u5f0f\u4f7f\u7528 pwmchip sysfs \u4ecb\u9762\u4f86\u63a7\u5236 Linux \u4e3b\u6a5f\u4e0a\u7684\u786c\u9ad4 PWM \u88dd\u7f6e\u3002pwm sysfs \u4ecb\u9762\u5728\u6a39\u8393\u4e0a\u9810\u8a2d\u662f\u96b1\u85cf\u7684\uff0c\u53ef\u4ee5\u901a\u904e\u5728 /boot/config.txt \u4e2d\u52a0\u5165\u4e00\u884c\u8a2d\u5b9a\u4f86\u555f\u7528\uff1a # \u555f\u7528 pwmchip sysfs \u4ecb\u9762 dtoverlay=pwm,pin=12,func=4 \u6b64\u793a\u4f8b\u50c5\u555f\u7528 PWM0 \u4e26\u5c07\u5176\u8def\u7531\u5230 gpio12\u3002\u5982\u679c\u9700\u8981\u540c\u6642\u555f\u7528\u5169\u500b PWM \u901a\u9053\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528 pwm-2chan \u3002 overlay \u5728\u555f\u52d5\u6642\u4e0d\u6703\u5728 sysfs \u4e0a\u66b4\u9732\u51fa PWM \u7dda\u8def\uff0c\u9700\u8981\u901a\u904eecho\u5c07 PWM \u901a\u9053\u7684\u7de8\u865f\u5c0e\u51fa\u5230 /sys/class/pwm/pwmchip0/export \uff1a echo 0 > /sys/class/pwm/pwmchip0/export \u9019\u5c07\u5728\u6a94\u6848\u7cfb\u7d71\u4e2d\u5efa\u7acb\u88dd\u7f6e /sys/class/pwm/kwmchip0/pwm0 \u3002\u6700\u7c21\u55ae\u7684\u65b9\u6cd5\u662f\u5728 /etc/rc.local \u7684 exit 0 \u884c\u4e4b\u524d\u65b0\u589e\u9019\u884c\u3002 \u6709\u4e86 sysfs\uff0c\u73fe\u5728\u53ef\u4ee5\u901a\u904e\u5c07\u4ee5\u4e0b\u914d\u7f6e\u65b0\u589e\u5230 printer.cfg \u4f86\u4f7f\u7528 PWM \u901a\u9053\uff1a [output_pin caselight] pin: host:pwmchip0/pwm0 pwm: True hardware_pwm: True cycle_time: 0.000001 \u9019\u5c07\u70ba\u6a39\u8393\u6d3e\u4e0a\u7684 gpio12 \u5f15\u8173\u65b0\u589e\u786c\u9ad4 PWM \u63a7\u5236\uff08\u56e0\u70baoverlay\u88ab\u914d\u7f6e\u70ba\u5c07 pwm0 \u8def\u7531\u5230 pin=12\uff09\u3002 PWM0 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio12 \u548c gpio18\uff0cPWM1 \u53ef\u4ee5\u88ab\u8def\u7531\u5230 gpio13 \u548c gpio19\uff1a PWM GPIO \u5f15\u8173 \u529f\u80fd 0 12 4 0 18 2 1 13 4 1 19 2","title":"\u53ef\u9078\u529f\u80fd\uff1a\u786c\u9ad4 PWM"},{"location":"Releases.html","text":"\u7248\u672c\u767c\u4f48 \u00b6 Klipper\u7248\u672c\u767c\u4f48\u6b77\u53f2\u3002\u5982\u4f55\u5b89\u88ddKlipper\uff0c\u8acb\u6aa2\u8996 installation \u3002 Klipper 0.10.0 \u00b6 \u572820210929\u767c\u4f48\uff0c\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u652f\u63f4\u201c\u591aMCU\u6b78\u4f4d\u201d\u3002\u73fe\u5728\u53ef\u4ee5\u5c07\u6b65\u9032\u96fb\u6a5f\u53ca\u5176\u9650\u4f4d\u5668\u9023\u63a5\u5230\u55ae\u7368\u7684\u5fae\u63a7\u5236\u5668\u3002\u9019\u7c21\u5316\u4e86\"toolhead boards\"\u4e0a Z \u63a2\u982d\u7684\u63a5\u7dda\u3002 Klipper \u73fe\u5728\u6709\u4e00\u500b Community Discord Server \u548c\u4e00\u500b Community Discourse Server \u3002 Klipper \u7db2\u7ad9 \u73fe\u5728\u4f7f\u7528\u201cmkdocs\u201d\u57fa\u790e\u67b6\u69cb\u3002\u9084\u6709\u4e00\u500b Klipper Translations \u9805\u76ee\u3002 \u5728\u8a31\u591a\u677f\u4e0a\u901a\u904e sdcard \u81ea\u52d5\u652f\u63f4\u5237\u65b0\u56fa\u4ef6\u3002 \u5c0d\u201cHybrid CoreXY\u201d\u548c\u201cHybrid CoreXZ\u201d\u6253\u5370\u6a5f\u7684\u65b0\u6a5f\u578b\u652f\u63f4\u3002 Klipper \u73fe\u5728\u4f7f\u7528 rotation_distance \u4f86\u914d\u7f6e\u6b65\u9032\u96fb\u6a5f\u7684\u884c\u7a0b\u8ddd\u96e2\u3002 Klipper \u4e3b\u4ee3\u78bc\u73fe\u5728\u53ef\u4ee5\u4f7f\u7528 CANBUS\u76f4\u63a5\u8207\u5fae\u63a7\u5236\u5668\u901a\u4fe1\u3002 \u65b0\u7684\"motion analysis\"\u7cfb\u7d71\u3002\u53ef\u4ee5\u8ddf\u8e2a\u548c\u8a18\u9304 Klipper \u7684\u5167\u90e8\u904b\u52d5\u66f4\u65b0\u548c\u50b3\u611f\u5668\u7d50\u679c\u4ee5\u4f9b\u5206\u6790\u3002 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u73fe\u5728\u53ef\u4ee5\u9023\u7e8c\u76e3\u63a7\u932f\u8aa4\u60c5\u6cc1\u3002 \u652f\u63f4 rp2040 \u5fae\u63a7\u5236\u5668\uff08Raspberry Pi Pico \u677f\uff09\u3002 \u201cmake menuconfig\u201d\u7cfb\u7d71\u73fe\u5728\u4f7f\u7528 kconfiglib\u3002 \u6dfb\u52a0\u4e86\u8a31\u591a\u9644\u52a0\u6a21\u584a\uff1ads18b20, duplicate_pin_override, filament_motion_sensor, palette2, motion_report, pca9533, pulse_counter, save_variables, sdcard_loop, temperature_host, temperature_mcu \u5e7e\u500b\u932f\u8aa4\u7684\u4fee\u5fa9\u548c\u7a0b\u5f0f\u78bc\u7684\u6e05\u7406\u3002 Klipper 0.9.0 \u00b6 \u572820201020\u767c\u4f48\uff0c\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u652f\u63f4\u4f7f\u7528\u300cInput Shaping\u300d\u529f\u80fd - \u6b64\u529f\u80fd\u4e3b\u8981\u4f5c\u7528\u662f\u62b5\u6d88\u5370\u8868\u6a5f\u5171\u632f\u3002\u5b83\u53ef\u4ee5\u6e1b\u5c11\u751a\u81f3\u6d88\u9664\u5217\u5370\u4e2d\u7522\u751f\u7684\u300cringing\u300d\u632f\u7d0b\u3002 \u300cSmooth Pressure Advance\u300d\u5168\u65b0\u7684\u64e0\u51fa\u6f14\u7b97\u6cd5\u6a5f\u5236\u3002\u9019\u5be6\u73fe\u4e86\u300cPressure Advance\u300d(\u5217\u5370\u64e0\u51fa\uff09\u540c\u6642\u4e0d\u6703\u5f15\u8d77\u64e0\u51fa\u901f\u5ea6\u77ac\u9593\u7684\u6539\u8b8a\uff0c\u76f8\u53cd\u6703\u8b8a\u5f97\u66f4\u52a0\u5e73\u6ed1\u3002\u73fe\u5728\u4e5f\u53ef\u4ee5\u4f7f\u7528\u300cTuning Tower\u300d\u65b9\u6cd5\u4f86\u8abf\u6574\u300cPressure Advance\u300d(\u5217\u5370\u64e0\u51fa\uff09\u3002 \u300cwebhooks\u300d\u5168\u65b0\u7684API \u4f3a\u670d\u5668\u3002 \u9019\u6b21 Klipper \u65b0\u589e\u4e86\u53ef\u7a0b\u5f0f\u8a2d\u8a08\u7684 JSON \u4ecb\u9762\u3002 \u73fe\u5728\u53ef\u4ee5\u4f7f\u7528 Jinja2 \u6a21\u677f\u8a9e\u8a00\u914d\u7f6e LCD \u986f\u793a\u548c\u83dc\u55ae\u3002 \u73fe\u5728TMC2208 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u53ef\u4ee5\u5728 Klipper\u7cfb\u7d71\u4e2d \u4f7f\u7528\u300cstandalone\u300d\u6a21\u5f0f\u3002 \u652f\u63f4\u4e26\u512a\u5316\u4f7f\u7528BL-Touch v3 \u3002 \u6539\u9032\u4e86USB\u8b58\u5225\u3002Klipper\u73fe\u5728\u6709\u81ea\u5df1\u7684USB\u8b58\u5225\u7a0b\u5f0f\u78bc\uff0c\u5fae\u63a7\u5236\u5668\u73fe\u5728\u53ef\u4ee5\u5728USB\u8b58\u5225\u671f\u9593\u5831\u544a\u5176\u552f\u4e00\u7684\u5e8f\u5217\u865f\u3002 \u5c0d \"\u65cb\u8f49\u4e09\u89d2\u6d32\"\u548c \"CoreXZ \"\u6a5f\u578b\u5370\u8868\u6a5f\u7684\u652f\u63f4\u3002 \u5fae\u63a7\u5236\u5668\u7684\u6539\u9032\uff1a\u652f\u63f4stm32f070\uff0c\u652f\u63f4stm32f207\uff0c\u652f\u63f4 \"Linux MCU \"\u7684GPIO\u5f15\u8173\uff0c\u652f\u63f4stm32 \"HID\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\"\uff0c\u652f\u63f4Chitu\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff0c\u652f\u63f4MKS Robin\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u3002 \u6539\u9032\u4e86\u5c0dPython \"\u5783\u573e\u6536\u96c6 \"\u4e8b\u4ef6\u7684\u8655\u7406\u3002 \u589e\u52a0\u4e86\u8a31\u591a\u984d\u5916\u7684\u6a21\u7d44\uff1aadc_scaled, adxl345, bme280, display_status, extruder_stepper, fan_generic, hall_filament_width_sensor, htu21d, homing_heaters, input_shaper, lm75, print_stats, resonance_tester, shaper_calibrate, query_adc, graph_accelerometer, graph_extruder, graph_motion, graph_shaper, graph_temp_sensor, whconsole \u5e7e\u500b\u932f\u8aa4\u7684\u4fee\u5fa9\u548c\u7a0b\u5f0f\u78bc\u7684\u6e05\u7406\u3002 Klipper 0.9.1 \u00b6 \u572820201028\u767c\u4f48\u3002\u53ea\u5305\u542b\u932f\u8aa4\u4fee\u5fa9\u3002 Klipper 0.8.0 \u00b6 \u572820191021\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u65b0\u7684G-Code\u547d\u4ee4\u6a21\u677f\u652f\u63f4\u3002\u914d\u7f6e\u6a94\u6848\u4e2d\u7684G-Code\u73fe\u5728\u53ef\u4ee5\u7528Jinja2\u6a21\u677f\u8a9e\u8a00\u9032\u884c\u7de8\u5beb\u3002 \u5c0dTrinamic\u6b65\u9032\u9a45\u52d5\u5668\u7684\u6539\u9032\uff1a \u65b0\u589e\u5c0dTMC2209\u548cTMC5160\u9a45\u52d5\u5668\u7684\u652f\u63f4\u3002 \u6539\u9032\u4e86 DUMP_TMC\u3001SET_TMC_CURRENT \u548c INIT_TMC G-Code \u547d\u4ee4\u3002 \u901a\u904e\u6a21\u64ec\u591a\u8def\u5fa9\u7528\u5668\u6539\u9032\u4e86\u5c0d TMC UART \u8655\u7406\u7684\u652f\u63f4\u3002 \u6539\u9032\u7684\u6b78\u4f4d\u3001\u63a2\u6e2c\u548c\u5e8a\u6821\u5e73\u652f\u63f4\uff1a \u6dfb\u52a0\u4e86\u65b0\u7684 manual_probe\u3001bed_screws\u3001screw_tilt_adjust\u3001skew_correction\u3001safe_z_home \u6a21\u584a\u3002 \u4f7f\u7528\u4e2d\u503c\u3001\u5e73\u5747\u548c\u91cd\u8a66\u908f\u8f2f\u589e\u5f37\u591a\u6a23\u672c\u63a2\u6e2c\u3002 \u6539\u9032\u4e86 BL-Touch\u3001\u63a2\u982d\u6821\u6e96\u3001\u505c\u6b62\u6821\u6e96\u3001\u589e\u91cf\u6821\u6e96\u3001\u7121\u50b3\u611f\u5668\u6b78\u4f4d\u548c\u505c\u6b62\u76f8\u4f4d\u6821\u6e96\u7684\u6587\u6a94\u3002 \u6539\u9032\u4e86\u5927 Z \u8ef8\u4e0a\u7684\u6b78\u4f4d\u652f\u63f4\u3002 \u8a31\u591a Klipper \u5fae\u63a7\u5236\u5668\u6539\u9032\uff1a Klipper \u79fb\u690d\u5230\uff1aSAM3X8C\u3001SAM4S8C\u3001SAMD51\u3001STM32F042\u3001STM32F4 \u5728 SAM3X\u3001SAM4\u3001STM32F4 \u4e0a\u5be6\u73fe\u65b0\u7684 USB CDC \u9a45\u52d5\u7a0b\u5e8f\u3002 \u589e\u5f37\u4e86\u5c0d\u901a\u904e USB \u5237\u65b0 Klipper \u7684\u652f\u63f4\u3002 \u8edf\u4ef6 SPI \u652f\u63f4\u3002 \u5927\u5927\u6539\u9032\u4e86 LPC176x \u4e0a\u7684\u6eab\u5ea6\u904e\u6ffe\u3002 \u65e9\u671f\u7684\u8f38\u51fa\u5f15\u8173\u8a2d\u7f6e\u53ef\u4ee5\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u9032\u884c\u914d\u7f6e\u3002 \u5e36\u6709 Klipper \u6587\u6a94\u7684\u65b0\u7db2\u7ad9\uff1a http://klipper3d.org/ Klipper \u73fe\u5728\u6709\u4e86\u4e00\u500b\u6a19\u8a8c\u3002 \u5c0dpolar\u548c\u201ccable winch\u201d\u6a5f\u578b\u4f5c\u5be6\u9a57\u6027\u652f\u63f4\u3002 \u914d\u7f6e\u6587\u4ef6\u73fe\u5728\u53ef\u4ee5\u5305\u542b\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6\u3002 \u6dfb\u52a0\u4e86\u8a31\u591a\u9644\u52a0\u6a21\u584a\uff1aboard_pins\u3001controller_fan\u3001delayed_gcode\u3001dotstar\u3001filament_switch_sensor\u3001firmware_retraction\u3001gcode_arcs\u3001gcode_button\u3001heater_generic\u3001manual_stepper\u3001mcp4018\u3001mcp4728\u3001neopixel\u3001pause_resume\u3001response\u3001temperature_sensor tsl1401cl_filament_width_sensor\u3001tuning_tower \u6dfb\u52a0\u4e86\u8a31\u591a\u9644\u52a0\u547d\u4ee4\uff1aRESTORE_GCODE_STATE\u3001SAVE_GCODE_STATE\u3001SET_GCODE_VARIABLE\u3001SET_HEATER_TEMPERATURE\u3001SET_IDLE_TIMEOUT\u3001SET_TEMPERATURE_FAN_TARGET \u5e7e\u500b\u932f\u8aa4\u7684\u4fee\u5fa9\u548c\u7a0b\u5f0f\u78bc\u7684\u6e05\u7406\u3002 Klipper 0.7.0 \u00b6 \u572820181220\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a Klipper \u73fe\u5728\u652f\u63f4\u201c\u7db2\u72c0\u201d\u5e8a\u8abf\u5e73 \u5c0d\u4e09\u89d2\u6a5f\u578b\u7684\u5f37\u5316\u6821\u6e96\u7684\u65b0\u652f\u63f4\uff08\u6821\u6e96\u4e09\u89d2\u6a5f\u578b\u6253\u5370\u6a5f\u4e0a\u7684\u6253\u5370 x/y \u5c3a\u5bf8\uff09 \u652f\u63f4 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\uff08tmc2130\u3001tmc2208\u3001tmc2660\uff09\u7684\u904b\u884c\u6642\u914d\u7f6e \u6539\u9032\u7684\u6eab\u5ea6\u50b3\u611f\u5668\u652f\u63f4\uff1aMAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001\u5b9a\u5236\u71b1\u654f\u96fb\u963b\u3001\u901a\u7528 pt100 \u578b\u50b3\u611f\u5668 \u5e7e\u500b\u65b0\u6a21\u584a\uff1atemperature_fan\u3001sx1509\u3001force_move\u3001mcp4451\u3001z_tilt\u3001quad_gantry_level\u3001endstop_phase\u3001bltouch \u6dfb\u52a0\u4e86\u5e7e\u500b\u65b0\u547d\u4ee4\uff1aSAVE_CONFIG\u3001SET_PRESSURE_ADVANCE\u3001SET_GCODE_OFFSET\u3001SET_VELOCITY_LIMIT\u3001STEPPER_BUZZ\u3001TURN_OFF_HEATERS\u3001M204\u3001\u81ea\u5b9a\u7fa9 G-Code \u64f4\u5145\u7684 LCD \u986f\u793a\u652f\u63f4\uff1a \u652f\u63f4\u5373\u6642\u5efa\u7acb\u7684\u83dc\u55ae \u65b0\u7684\u986f\u793a\u5716\u6a19 \u652f\u63f4\u201cuc1701\u201d\u548c\u201cssd1306\u201d\u986f\u793a\u5c4f \u652f\u63f4\u66f4\u591a\u7684\u5fae\u63a7\u5236\u5668: Klipper \u79fb\u690d\u5230\uff1aLPC176x (Smoothieboards), SAM4E8E (Duet2), SAMD21 (Arduino Zero), STM32F103 (\"Blue pill\" devices), atmega32u4 \u5728 AVR\u3001LPC176x\u3001SAMD21 \u548c STM32F103 \u4e0a\u5be6\u73fe\u7684\u65b0\u901a\u7528 USB CDC \u9a45\u52d5\u7a0b\u5e8f \u5c0dARM \u8655\u7406\u5668\u7684\u6027\u80fd\u6539\u9032 \u91cd\u5beb\u52d5\u4f5c\u4ee3\u78bc,\u8f49\u7528\"iterative solver\" Klipper \u4e3b\u6a5f\u8edf\u4ef6\u7684\u65b0\u81ea\u52d5\u6e2c\u8a66\u7528\u4f8b \u5e38\u898b\u7684\u73fe\u6210\u6253\u5370\u6a5f\u7684\u8a31\u591a\u65b0\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6 \u5f15\u5c0e\u52a0\u8f09\u7a0b\u5e8f\u3001\u57fa\u6e96\u6e2c\u8a66\u3001\u5fae\u63a7\u5236\u5668\u79fb\u690d\u3001\u914d\u7f6e\u6aa2\u67e5\u3001\u5f15\u8173\u6620\u5c04\u3001\u5207\u7247\u5668\u8a2d\u7f6e\u3001\u5c01\u88dd\u7b49\u7684\u6587\u6a94\u66f4\u65b0 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406 Klipper 0.6.0 \u00b6 \u572820180331\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u589e\u5f37\u7684\u52a0\u71b1\u5668\u548c\u71b1\u654f\u96fb\u963b\u786c\u4ef6\u6545\u969c\u6aa2\u67e5 \u652f\u63f4 Z \u63a2\u982d \u5c0d\u4e09\u89d2\u6a5f\u578b\u7684\u81ea\u52d5\u53c3\u6578\u6821\u6e96\u4f5c\u521d\u6b65\u652f\u63f4\uff08\u901a\u904e\u65b0\u7684 delta_calibrate \u547d\u4ee4\uff09 \u5c0d\u5e8a\u50be\u659c\u88dc\u511f\u7684\u521d\u59cb\u652f\u63f4\uff08\u901a\u904e bed_tilt_calibrate \u547d\u4ee4\uff09 \u5c0d\"safe homing\"\u548c\u6b78\u4f4d\u8986\u84cb\u7684\u521d\u59cb\u652f\u63f4 \u521d\u6b65\u652f\u63f4\u5728 RepRapDiscount \u6a23\u5f0f 2004 \u548c 12864 \u986f\u793a\u5c4f\u4e0a\u986f\u793a\u72c0\u614b \u65b0\u589e\u5c0d\u591a\u64e0\u51fa\u6a5f\u652f\u63f4\u7684\u6539\u5584\uff1a \u652f\u63f4\u5171\u4eab\u52a0\u71b1\u982d \u5c0d\u96d9\u6b65\u9032\u7684\u521d\u6b65\u652f\u63f4 \u652f\u63f4\u70ba\u6bcf\u500b\u8ef8\u914d\u7f6e\u591a\u500b\u6b65\u9032\u5668\uff08\u4f8b\u5982 : \u96d9 Z\uff09 \u652f\u63f4\u81ea\u5b9a\u7fa9\u6578\u5b57\u548c pwm \u8f38\u51fa\u5f15\u8173\uff08\u4f7f\u7528\u65b0\u7684 SET_PIN \u547d\u4ee4\uff09 \u6700\u521d\u652f\u63f4\u5141\u8a31\u76f4\u63a5\u5f9e Klipper \u6253\u5370\u7684\u201c\u865b\u64ec sdcard\u201d\uff08\u6709\u52a9\u65bc\u6a5f\u5668\u901f\u5ea6\u592a\u6162\u800c\u7121\u6cd5\u5f88\u597d\u5730\u904b\u884c OctoPrint\uff09 \u652f\u63f4\u5728\u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u6bcf\u500b\u67f1\u4e0a\u8a2d\u7f6e\u4e0d\u540c\u7684\u5370\u81c2\u9577\u5ea6 \u652f\u63f4 G-Code M220/M221 \u547d\u4ee4 (speed factor override / extrude factor override) \u5e7e\u500b\u6587\u6a94\u66f4\u65b0\uff1a \u5e38\u898b\u7684\u73fe\u6210\u6253\u5370\u6a5f\u7684\u8a31\u591a\u65b0\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6 \u65b0\u589e\u591a MCU \u914d\u7f6e\u793a\u4f8b \u65b0\u7684 bltouch \u50b3\u611f\u5668\u914d\u7f6e\u793a\u4f8b \u65b0\u7684\u5e38\u898b\u554f\u984c\u89e3\u7b54\u3001\u914d\u7f6e\u6aa2\u67e5\u548c G-Code\u6587\u4ef6\u6a94 \u5c0d\u6240\u6709 github \u63d0\u4ea4\u7684\u6301\u7e8c\u96c6\u6210\u6e2c\u8a66\u7684\u521d\u59cb\u652f\u63f4 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406 Klipper 0.5.0 \u00b6 \u572820171025\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u652f\u63f4\u5177\u6709\u591a\u500b\u64e0\u51fa\u6a5f\u7684\u6253\u5370\u6a5f\u3002 \u6700\u521d\u652f\u63f4\u5728 Beaglebone PRU \u4e0a\u904b\u884c\u3002\u5c0d\u8907\u5236\u677f\u7684\u521d\u59cb\u652f\u63f4\u3002 \u521d\u6b65\u652f\u63f4\u5728\u5be6\u6642 Linux \u9032\u7a0b\u4e2d\u904b\u884c\u5fae\u63a7\u5236\u5668\u4ee3\u78bc\u3002 \u652f\u63f4\u591a\u500b\u5fae\u63a7\u5236\u5668\u3002 \uff08\u4f8b\u5982\uff0c\u53ef\u4ee5\u7528\u4e00\u500b\u5fae\u63a7\u5236\u5668\u63a7\u5236\u64e0\u51fa\u6a5f\uff0c\u800c\u7528\u53e6\u4e00\u500b\u5fae\u63a7\u5236\u5668\u63a7\u5236\u6253\u5370\u6a5f\u7684\u5176\u9918\u90e8\u5206\u3002\uff09\u5be6\u73fe\u8edf\u4ef6\u6642\u9418\u540c\u6b65\u4ee5\u5354\u8abf\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684\u52d5\u4f5c\u3002 \u6b65\u9032\u5668\u6027\u80fd\u6539\u9032\uff0820Mhz AVR \u9ad8\u9054\u6bcf\u79d2 189K \u6b65\uff09\u3002 \u652f\u63f4\u63a7\u5236\u8235\u6a5f\uff0c\u652f\u63f4\u5b9a\u7fa9\u5674\u5634\u51b7\u537b\u98a8\u6247\u3002 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406 Klipper 0.4.0 \u00b6 \u572820170503\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u6539\u9032\u4e86 Raspberry Pi \u6a5f\u5668\u4e0a\u7684\u5b89\u88dd\u3002\u73fe\u5728\u5927\u90e8\u5206\u5b89\u88dd\u90fd\u662f\u8173\u672c\u5316\u7684\u3002 \u652f\u63f4 corexy \u6a5f\u578b \u6587\u6a94\u66f4\u65b0\uff1a\u65b0\u7684\u6a5f\u578b\u6587\u6a94\u3001\u65b0\u7684 Pressure Advance \u8abf\u6574\u6307\u5357\u3001\u65b0\u7684\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u7b49 \u6b65\u9032\u5668\u6027\u80fd\u6539\u9032\uff0820Mhz AVR \u6bcf\u79d2\u8d85\u904e 175K \u6b65\uff0cArduino Due \u8d85\u904e 460K\uff09 \u652f\u63f4\u81ea\u52d5\u5fae\u63a7\u5236\u5668\u5fa9\u4f4d\u3002\u652f\u63f4\u901a\u904e\u5728 Raspberry Pi \u4e0a\u5207\u63db USB \u96fb\u6e90\u9032\u884c\u91cd\u7f6e\u3002 pressure advance\u7b97\u6cd5\u73fe\u5728\u8207\u524d\u77bb\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u6e1b\u5c11\u8f49\u5f4e\u904e\u7a0b\u4e2d\u7684\u58d3\u529b\u8b8a\u5316\u3002 \u652f\u63f4\u9650\u5236\u77ed\u4e4b\u5b57\u5f62\u79fb\u52d5\u7684\u6700\u9ad8\u901f\u5ea6 \u652f\u63f4 AD595 \u50b3\u611f\u5668 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406 Klipper 0.3.0 \u00b6 \u572820161223\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u6539\u9032\u7684\u6587\u4ef6\u6a94 \u652f\u63f4\u5177\u6709 \u4e09\u89d2\u6a5f\u578b\u7684\u6a5f\u5668 \u652f\u63f4 Arduino Due \u5fae\u63a7\u5236\u5668 (ARM cortex-M3) \u652f\u63f4\u57fa\u65bc USB \u7684 AVR \u5fae\u63a7\u5236\u5668 \u652f\u63f4\u201cpressure advance\" \u7b97\u6cd5 - \u5b83\u6e1b\u5c11\u4e86\u6253\u5370\u904e\u7a0b\u4e2d\u7684\u6ef2\u51fa\u3002 \u65b0\u7684\u201c\u57fa\u65bc\u6b65\u9032\u76f8\u63a7\u7684\u9650\u4f4d\u5668\u201d\u529f\u80fd - \u53ef\u5be6\u73fe\u66f4\u9ad8\u7cbe\u5ea6\u7684\u9650\u4f4d\u5668\u6b78\u4f4d\u3002 \u652f\u63f4\u201c\u64f4\u5c55 G-Code\u201d\u547d\u4ee4\uff0c\u4f8b\u5982\u201chelp\u201d\u3001\u201crestart\u201d\u548c\u201cstatus\u201d\u3002 \u652f\u63f4\u901a\u904e\u5f9e\u7d42\u7aef\u767c\u51fa\u201c\u91cd\u65b0\u555f\u52d5\u201d\u547d\u4ee4\u4f86\u91cd\u65b0\u52a0\u8f09 Klipper \u914d\u7f6e\u4e26\u91cd\u65b0\u555f\u52d5\u4e3b\u6a5f\u8edf\u4ef6\u3002 \u6b65\u9032\u5668\u6027\u80fd\u6539\u9032\uff0820Mhz AVR \u9ad8\u9054\u6bcf\u79d2 158K \u6b65\uff09\u3002 \u6539\u9032\u7684\u932f\u8aa4\u5831\u544a\u3002\u73fe\u5728\u901a\u904e\u7d42\u7aef\u986f\u793a\u5927\u591a\u6578\u932f\u8aa4\u4ee5\u53ca\u5982\u4f55\u89e3\u6c7a\u7684\u5e6b\u52a9\u3002 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406 Klipper 0.2.0 \u00b6 Klipper \u7684\u521d\u59cb\u7248\u672c\u3002\u5728 20160525 \u4e0a\u53ef\u7528\u3002\u521d\u59cb\u7248\u672c\u4e2d\u63d0\u4f9b\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\uff1a \u5c0d\u7368\u7acbXY\u6253\u5370\u6a5f\uff08\u6b65\u9032\u6a5f\u3001\u64e0\u51fa\u6a5f\u3001\u52a0\u71b1\u5e8a\u3001\u51b7\u537b\u98a8\u6247\uff09\u7684\u57fa\u672c\u652f\u63f4\u3002 \u652f\u63f4\u5e38\u898b\u7684 G-Code\u547d\u4ee4\u3002\u652f\u63f4\u8207 OctoPrint \u7684\u63a5\u53e3\u3002 \u52a0\u901f\u548c\u524d\u77bb\u8655\u7406 \u901a\u904e\u6a19\u6e96\u4e32\u884c\u7aef\u53e3\u652f\u63f4 AVR \u5fae\u63a7\u5236\u5668","title":"\u7248\u672c\u767c\u4f48"},{"location":"Releases.html#_1","text":"Klipper\u7248\u672c\u767c\u4f48\u6b77\u53f2\u3002\u5982\u4f55\u5b89\u88ddKlipper\uff0c\u8acb\u6aa2\u8996 installation \u3002","title":"\u7248\u672c\u767c\u4f48"},{"location":"Releases.html#klipper-0100","text":"\u572820210929\u767c\u4f48\uff0c\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u652f\u63f4\u201c\u591aMCU\u6b78\u4f4d\u201d\u3002\u73fe\u5728\u53ef\u4ee5\u5c07\u6b65\u9032\u96fb\u6a5f\u53ca\u5176\u9650\u4f4d\u5668\u9023\u63a5\u5230\u55ae\u7368\u7684\u5fae\u63a7\u5236\u5668\u3002\u9019\u7c21\u5316\u4e86\"toolhead boards\"\u4e0a Z \u63a2\u982d\u7684\u63a5\u7dda\u3002 Klipper \u73fe\u5728\u6709\u4e00\u500b Community Discord Server \u548c\u4e00\u500b Community Discourse Server \u3002 Klipper \u7db2\u7ad9 \u73fe\u5728\u4f7f\u7528\u201cmkdocs\u201d\u57fa\u790e\u67b6\u69cb\u3002\u9084\u6709\u4e00\u500b Klipper Translations \u9805\u76ee\u3002 \u5728\u8a31\u591a\u677f\u4e0a\u901a\u904e sdcard \u81ea\u52d5\u652f\u63f4\u5237\u65b0\u56fa\u4ef6\u3002 \u5c0d\u201cHybrid CoreXY\u201d\u548c\u201cHybrid CoreXZ\u201d\u6253\u5370\u6a5f\u7684\u65b0\u6a5f\u578b\u652f\u63f4\u3002 Klipper \u73fe\u5728\u4f7f\u7528 rotation_distance \u4f86\u914d\u7f6e\u6b65\u9032\u96fb\u6a5f\u7684\u884c\u7a0b\u8ddd\u96e2\u3002 Klipper \u4e3b\u4ee3\u78bc\u73fe\u5728\u53ef\u4ee5\u4f7f\u7528 CANBUS\u76f4\u63a5\u8207\u5fae\u63a7\u5236\u5668\u901a\u4fe1\u3002 \u65b0\u7684\"motion analysis\"\u7cfb\u7d71\u3002\u53ef\u4ee5\u8ddf\u8e2a\u548c\u8a18\u9304 Klipper \u7684\u5167\u90e8\u904b\u52d5\u66f4\u65b0\u548c\u50b3\u611f\u5668\u7d50\u679c\u4ee5\u4f9b\u5206\u6790\u3002 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u73fe\u5728\u53ef\u4ee5\u9023\u7e8c\u76e3\u63a7\u932f\u8aa4\u60c5\u6cc1\u3002 \u652f\u63f4 rp2040 \u5fae\u63a7\u5236\u5668\uff08Raspberry Pi Pico \u677f\uff09\u3002 \u201cmake menuconfig\u201d\u7cfb\u7d71\u73fe\u5728\u4f7f\u7528 kconfiglib\u3002 \u6dfb\u52a0\u4e86\u8a31\u591a\u9644\u52a0\u6a21\u584a\uff1ads18b20, duplicate_pin_override, filament_motion_sensor, palette2, motion_report, pca9533, pulse_counter, save_variables, sdcard_loop, temperature_host, temperature_mcu \u5e7e\u500b\u932f\u8aa4\u7684\u4fee\u5fa9\u548c\u7a0b\u5f0f\u78bc\u7684\u6e05\u7406\u3002","title":"Klipper 0.10.0"},{"location":"Releases.html#klipper-090","text":"\u572820201020\u767c\u4f48\uff0c\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u652f\u63f4\u4f7f\u7528\u300cInput Shaping\u300d\u529f\u80fd - \u6b64\u529f\u80fd\u4e3b\u8981\u4f5c\u7528\u662f\u62b5\u6d88\u5370\u8868\u6a5f\u5171\u632f\u3002\u5b83\u53ef\u4ee5\u6e1b\u5c11\u751a\u81f3\u6d88\u9664\u5217\u5370\u4e2d\u7522\u751f\u7684\u300cringing\u300d\u632f\u7d0b\u3002 \u300cSmooth Pressure Advance\u300d\u5168\u65b0\u7684\u64e0\u51fa\u6f14\u7b97\u6cd5\u6a5f\u5236\u3002\u9019\u5be6\u73fe\u4e86\u300cPressure Advance\u300d(\u5217\u5370\u64e0\u51fa\uff09\u540c\u6642\u4e0d\u6703\u5f15\u8d77\u64e0\u51fa\u901f\u5ea6\u77ac\u9593\u7684\u6539\u8b8a\uff0c\u76f8\u53cd\u6703\u8b8a\u5f97\u66f4\u52a0\u5e73\u6ed1\u3002\u73fe\u5728\u4e5f\u53ef\u4ee5\u4f7f\u7528\u300cTuning Tower\u300d\u65b9\u6cd5\u4f86\u8abf\u6574\u300cPressure Advance\u300d(\u5217\u5370\u64e0\u51fa\uff09\u3002 \u300cwebhooks\u300d\u5168\u65b0\u7684API \u4f3a\u670d\u5668\u3002 \u9019\u6b21 Klipper \u65b0\u589e\u4e86\u53ef\u7a0b\u5f0f\u8a2d\u8a08\u7684 JSON \u4ecb\u9762\u3002 \u73fe\u5728\u53ef\u4ee5\u4f7f\u7528 Jinja2 \u6a21\u677f\u8a9e\u8a00\u914d\u7f6e LCD \u986f\u793a\u548c\u83dc\u55ae\u3002 \u73fe\u5728TMC2208 \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u53ef\u4ee5\u5728 Klipper\u7cfb\u7d71\u4e2d \u4f7f\u7528\u300cstandalone\u300d\u6a21\u5f0f\u3002 \u652f\u63f4\u4e26\u512a\u5316\u4f7f\u7528BL-Touch v3 \u3002 \u6539\u9032\u4e86USB\u8b58\u5225\u3002Klipper\u73fe\u5728\u6709\u81ea\u5df1\u7684USB\u8b58\u5225\u7a0b\u5f0f\u78bc\uff0c\u5fae\u63a7\u5236\u5668\u73fe\u5728\u53ef\u4ee5\u5728USB\u8b58\u5225\u671f\u9593\u5831\u544a\u5176\u552f\u4e00\u7684\u5e8f\u5217\u865f\u3002 \u5c0d \"\u65cb\u8f49\u4e09\u89d2\u6d32\"\u548c \"CoreXZ \"\u6a5f\u578b\u5370\u8868\u6a5f\u7684\u652f\u63f4\u3002 \u5fae\u63a7\u5236\u5668\u7684\u6539\u9032\uff1a\u652f\u63f4stm32f070\uff0c\u652f\u63f4stm32f207\uff0c\u652f\u63f4 \"Linux MCU \"\u7684GPIO\u5f15\u8173\uff0c\u652f\u63f4stm32 \"HID\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\"\uff0c\u652f\u63f4Chitu\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\uff0c\u652f\u63f4MKS Robin\u555f\u52d5\u8f09\u5165\u7a0b\u5f0f\u3002 \u6539\u9032\u4e86\u5c0dPython \"\u5783\u573e\u6536\u96c6 \"\u4e8b\u4ef6\u7684\u8655\u7406\u3002 \u589e\u52a0\u4e86\u8a31\u591a\u984d\u5916\u7684\u6a21\u7d44\uff1aadc_scaled, adxl345, bme280, display_status, extruder_stepper, fan_generic, hall_filament_width_sensor, htu21d, homing_heaters, input_shaper, lm75, print_stats, resonance_tester, shaper_calibrate, query_adc, graph_accelerometer, graph_extruder, graph_motion, graph_shaper, graph_temp_sensor, whconsole \u5e7e\u500b\u932f\u8aa4\u7684\u4fee\u5fa9\u548c\u7a0b\u5f0f\u78bc\u7684\u6e05\u7406\u3002","title":"Klipper 0.9.0"},{"location":"Releases.html#klipper-091","text":"\u572820201028\u767c\u4f48\u3002\u53ea\u5305\u542b\u932f\u8aa4\u4fee\u5fa9\u3002","title":"Klipper 0.9.1"},{"location":"Releases.html#klipper-080","text":"\u572820191021\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u65b0\u7684G-Code\u547d\u4ee4\u6a21\u677f\u652f\u63f4\u3002\u914d\u7f6e\u6a94\u6848\u4e2d\u7684G-Code\u73fe\u5728\u53ef\u4ee5\u7528Jinja2\u6a21\u677f\u8a9e\u8a00\u9032\u884c\u7de8\u5beb\u3002 \u5c0dTrinamic\u6b65\u9032\u9a45\u52d5\u5668\u7684\u6539\u9032\uff1a \u65b0\u589e\u5c0dTMC2209\u548cTMC5160\u9a45\u52d5\u5668\u7684\u652f\u63f4\u3002 \u6539\u9032\u4e86 DUMP_TMC\u3001SET_TMC_CURRENT \u548c INIT_TMC G-Code \u547d\u4ee4\u3002 \u901a\u904e\u6a21\u64ec\u591a\u8def\u5fa9\u7528\u5668\u6539\u9032\u4e86\u5c0d TMC UART \u8655\u7406\u7684\u652f\u63f4\u3002 \u6539\u9032\u7684\u6b78\u4f4d\u3001\u63a2\u6e2c\u548c\u5e8a\u6821\u5e73\u652f\u63f4\uff1a \u6dfb\u52a0\u4e86\u65b0\u7684 manual_probe\u3001bed_screws\u3001screw_tilt_adjust\u3001skew_correction\u3001safe_z_home \u6a21\u584a\u3002 \u4f7f\u7528\u4e2d\u503c\u3001\u5e73\u5747\u548c\u91cd\u8a66\u908f\u8f2f\u589e\u5f37\u591a\u6a23\u672c\u63a2\u6e2c\u3002 \u6539\u9032\u4e86 BL-Touch\u3001\u63a2\u982d\u6821\u6e96\u3001\u505c\u6b62\u6821\u6e96\u3001\u589e\u91cf\u6821\u6e96\u3001\u7121\u50b3\u611f\u5668\u6b78\u4f4d\u548c\u505c\u6b62\u76f8\u4f4d\u6821\u6e96\u7684\u6587\u6a94\u3002 \u6539\u9032\u4e86\u5927 Z \u8ef8\u4e0a\u7684\u6b78\u4f4d\u652f\u63f4\u3002 \u8a31\u591a Klipper \u5fae\u63a7\u5236\u5668\u6539\u9032\uff1a Klipper \u79fb\u690d\u5230\uff1aSAM3X8C\u3001SAM4S8C\u3001SAMD51\u3001STM32F042\u3001STM32F4 \u5728 SAM3X\u3001SAM4\u3001STM32F4 \u4e0a\u5be6\u73fe\u65b0\u7684 USB CDC \u9a45\u52d5\u7a0b\u5e8f\u3002 \u589e\u5f37\u4e86\u5c0d\u901a\u904e USB \u5237\u65b0 Klipper \u7684\u652f\u63f4\u3002 \u8edf\u4ef6 SPI \u652f\u63f4\u3002 \u5927\u5927\u6539\u9032\u4e86 LPC176x \u4e0a\u7684\u6eab\u5ea6\u904e\u6ffe\u3002 \u65e9\u671f\u7684\u8f38\u51fa\u5f15\u8173\u8a2d\u7f6e\u53ef\u4ee5\u5728\u5fae\u63a7\u5236\u5668\u4e2d\u9032\u884c\u914d\u7f6e\u3002 \u5e36\u6709 Klipper \u6587\u6a94\u7684\u65b0\u7db2\u7ad9\uff1a http://klipper3d.org/ Klipper \u73fe\u5728\u6709\u4e86\u4e00\u500b\u6a19\u8a8c\u3002 \u5c0dpolar\u548c\u201ccable winch\u201d\u6a5f\u578b\u4f5c\u5be6\u9a57\u6027\u652f\u63f4\u3002 \u914d\u7f6e\u6587\u4ef6\u73fe\u5728\u53ef\u4ee5\u5305\u542b\u5176\u4ed6\u914d\u7f6e\u6587\u4ef6\u3002 \u6dfb\u52a0\u4e86\u8a31\u591a\u9644\u52a0\u6a21\u584a\uff1aboard_pins\u3001controller_fan\u3001delayed_gcode\u3001dotstar\u3001filament_switch_sensor\u3001firmware_retraction\u3001gcode_arcs\u3001gcode_button\u3001heater_generic\u3001manual_stepper\u3001mcp4018\u3001mcp4728\u3001neopixel\u3001pause_resume\u3001response\u3001temperature_sensor tsl1401cl_filament_width_sensor\u3001tuning_tower \u6dfb\u52a0\u4e86\u8a31\u591a\u9644\u52a0\u547d\u4ee4\uff1aRESTORE_GCODE_STATE\u3001SAVE_GCODE_STATE\u3001SET_GCODE_VARIABLE\u3001SET_HEATER_TEMPERATURE\u3001SET_IDLE_TIMEOUT\u3001SET_TEMPERATURE_FAN_TARGET \u5e7e\u500b\u932f\u8aa4\u7684\u4fee\u5fa9\u548c\u7a0b\u5f0f\u78bc\u7684\u6e05\u7406\u3002","title":"Klipper 0.8.0"},{"location":"Releases.html#klipper-070","text":"\u572820181220\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a Klipper \u73fe\u5728\u652f\u63f4\u201c\u7db2\u72c0\u201d\u5e8a\u8abf\u5e73 \u5c0d\u4e09\u89d2\u6a5f\u578b\u7684\u5f37\u5316\u6821\u6e96\u7684\u65b0\u652f\u63f4\uff08\u6821\u6e96\u4e09\u89d2\u6a5f\u578b\u6253\u5370\u6a5f\u4e0a\u7684\u6253\u5370 x/y \u5c3a\u5bf8\uff09 \u652f\u63f4 Trinamic \u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\uff08tmc2130\u3001tmc2208\u3001tmc2660\uff09\u7684\u904b\u884c\u6642\u914d\u7f6e \u6539\u9032\u7684\u6eab\u5ea6\u50b3\u611f\u5668\u652f\u63f4\uff1aMAX6675\u3001MAX31855\u3001MAX31856\u3001MAX31865\u3001\u5b9a\u5236\u71b1\u654f\u96fb\u963b\u3001\u901a\u7528 pt100 \u578b\u50b3\u611f\u5668 \u5e7e\u500b\u65b0\u6a21\u584a\uff1atemperature_fan\u3001sx1509\u3001force_move\u3001mcp4451\u3001z_tilt\u3001quad_gantry_level\u3001endstop_phase\u3001bltouch \u6dfb\u52a0\u4e86\u5e7e\u500b\u65b0\u547d\u4ee4\uff1aSAVE_CONFIG\u3001SET_PRESSURE_ADVANCE\u3001SET_GCODE_OFFSET\u3001SET_VELOCITY_LIMIT\u3001STEPPER_BUZZ\u3001TURN_OFF_HEATERS\u3001M204\u3001\u81ea\u5b9a\u7fa9 G-Code \u64f4\u5145\u7684 LCD \u986f\u793a\u652f\u63f4\uff1a \u652f\u63f4\u5373\u6642\u5efa\u7acb\u7684\u83dc\u55ae \u65b0\u7684\u986f\u793a\u5716\u6a19 \u652f\u63f4\u201cuc1701\u201d\u548c\u201cssd1306\u201d\u986f\u793a\u5c4f \u652f\u63f4\u66f4\u591a\u7684\u5fae\u63a7\u5236\u5668: Klipper \u79fb\u690d\u5230\uff1aLPC176x (Smoothieboards), SAM4E8E (Duet2), SAMD21 (Arduino Zero), STM32F103 (\"Blue pill\" devices), atmega32u4 \u5728 AVR\u3001LPC176x\u3001SAMD21 \u548c STM32F103 \u4e0a\u5be6\u73fe\u7684\u65b0\u901a\u7528 USB CDC \u9a45\u52d5\u7a0b\u5e8f \u5c0dARM \u8655\u7406\u5668\u7684\u6027\u80fd\u6539\u9032 \u91cd\u5beb\u52d5\u4f5c\u4ee3\u78bc,\u8f49\u7528\"iterative solver\" Klipper \u4e3b\u6a5f\u8edf\u4ef6\u7684\u65b0\u81ea\u52d5\u6e2c\u8a66\u7528\u4f8b \u5e38\u898b\u7684\u73fe\u6210\u6253\u5370\u6a5f\u7684\u8a31\u591a\u65b0\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6 \u5f15\u5c0e\u52a0\u8f09\u7a0b\u5e8f\u3001\u57fa\u6e96\u6e2c\u8a66\u3001\u5fae\u63a7\u5236\u5668\u79fb\u690d\u3001\u914d\u7f6e\u6aa2\u67e5\u3001\u5f15\u8173\u6620\u5c04\u3001\u5207\u7247\u5668\u8a2d\u7f6e\u3001\u5c01\u88dd\u7b49\u7684\u6587\u6a94\u66f4\u65b0 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406","title":"Klipper 0.7.0"},{"location":"Releases.html#klipper-060","text":"\u572820180331\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u589e\u5f37\u7684\u52a0\u71b1\u5668\u548c\u71b1\u654f\u96fb\u963b\u786c\u4ef6\u6545\u969c\u6aa2\u67e5 \u652f\u63f4 Z \u63a2\u982d \u5c0d\u4e09\u89d2\u6a5f\u578b\u7684\u81ea\u52d5\u53c3\u6578\u6821\u6e96\u4f5c\u521d\u6b65\u652f\u63f4\uff08\u901a\u904e\u65b0\u7684 delta_calibrate \u547d\u4ee4\uff09 \u5c0d\u5e8a\u50be\u659c\u88dc\u511f\u7684\u521d\u59cb\u652f\u63f4\uff08\u901a\u904e bed_tilt_calibrate \u547d\u4ee4\uff09 \u5c0d\"safe homing\"\u548c\u6b78\u4f4d\u8986\u84cb\u7684\u521d\u59cb\u652f\u63f4 \u521d\u6b65\u652f\u63f4\u5728 RepRapDiscount \u6a23\u5f0f 2004 \u548c 12864 \u986f\u793a\u5c4f\u4e0a\u986f\u793a\u72c0\u614b \u65b0\u589e\u5c0d\u591a\u64e0\u51fa\u6a5f\u652f\u63f4\u7684\u6539\u5584\uff1a \u652f\u63f4\u5171\u4eab\u52a0\u71b1\u982d \u5c0d\u96d9\u6b65\u9032\u7684\u521d\u6b65\u652f\u63f4 \u652f\u63f4\u70ba\u6bcf\u500b\u8ef8\u914d\u7f6e\u591a\u500b\u6b65\u9032\u5668\uff08\u4f8b\u5982 : \u96d9 Z\uff09 \u652f\u63f4\u81ea\u5b9a\u7fa9\u6578\u5b57\u548c pwm \u8f38\u51fa\u5f15\u8173\uff08\u4f7f\u7528\u65b0\u7684 SET_PIN \u547d\u4ee4\uff09 \u6700\u521d\u652f\u63f4\u5141\u8a31\u76f4\u63a5\u5f9e Klipper \u6253\u5370\u7684\u201c\u865b\u64ec sdcard\u201d\uff08\u6709\u52a9\u65bc\u6a5f\u5668\u901f\u5ea6\u592a\u6162\u800c\u7121\u6cd5\u5f88\u597d\u5730\u904b\u884c OctoPrint\uff09 \u652f\u63f4\u5728\u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u6bcf\u500b\u67f1\u4e0a\u8a2d\u7f6e\u4e0d\u540c\u7684\u5370\u81c2\u9577\u5ea6 \u652f\u63f4 G-Code M220/M221 \u547d\u4ee4 (speed factor override / extrude factor override) \u5e7e\u500b\u6587\u6a94\u66f4\u65b0\uff1a \u5e38\u898b\u7684\u73fe\u6210\u6253\u5370\u6a5f\u7684\u8a31\u591a\u65b0\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6 \u65b0\u589e\u591a MCU \u914d\u7f6e\u793a\u4f8b \u65b0\u7684 bltouch \u50b3\u611f\u5668\u914d\u7f6e\u793a\u4f8b \u65b0\u7684\u5e38\u898b\u554f\u984c\u89e3\u7b54\u3001\u914d\u7f6e\u6aa2\u67e5\u548c G-Code\u6587\u4ef6\u6a94 \u5c0d\u6240\u6709 github \u63d0\u4ea4\u7684\u6301\u7e8c\u96c6\u6210\u6e2c\u8a66\u7684\u521d\u59cb\u652f\u63f4 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406","title":"Klipper 0.6.0"},{"location":"Releases.html#klipper-050","text":"\u572820171025\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u652f\u63f4\u5177\u6709\u591a\u500b\u64e0\u51fa\u6a5f\u7684\u6253\u5370\u6a5f\u3002 \u6700\u521d\u652f\u63f4\u5728 Beaglebone PRU \u4e0a\u904b\u884c\u3002\u5c0d\u8907\u5236\u677f\u7684\u521d\u59cb\u652f\u63f4\u3002 \u521d\u6b65\u652f\u63f4\u5728\u5be6\u6642 Linux \u9032\u7a0b\u4e2d\u904b\u884c\u5fae\u63a7\u5236\u5668\u4ee3\u78bc\u3002 \u652f\u63f4\u591a\u500b\u5fae\u63a7\u5236\u5668\u3002 \uff08\u4f8b\u5982\uff0c\u53ef\u4ee5\u7528\u4e00\u500b\u5fae\u63a7\u5236\u5668\u63a7\u5236\u64e0\u51fa\u6a5f\uff0c\u800c\u7528\u53e6\u4e00\u500b\u5fae\u63a7\u5236\u5668\u63a7\u5236\u6253\u5370\u6a5f\u7684\u5176\u9918\u90e8\u5206\u3002\uff09\u5be6\u73fe\u8edf\u4ef6\u6642\u9418\u540c\u6b65\u4ee5\u5354\u8abf\u5fae\u63a7\u5236\u5668\u4e4b\u9593\u7684\u52d5\u4f5c\u3002 \u6b65\u9032\u5668\u6027\u80fd\u6539\u9032\uff0820Mhz AVR \u9ad8\u9054\u6bcf\u79d2 189K \u6b65\uff09\u3002 \u652f\u63f4\u63a7\u5236\u8235\u6a5f\uff0c\u652f\u63f4\u5b9a\u7fa9\u5674\u5634\u51b7\u537b\u98a8\u6247\u3002 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406","title":"Klipper 0.5.0"},{"location":"Releases.html#klipper-040","text":"\u572820170503\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u6539\u9032\u4e86 Raspberry Pi \u6a5f\u5668\u4e0a\u7684\u5b89\u88dd\u3002\u73fe\u5728\u5927\u90e8\u5206\u5b89\u88dd\u90fd\u662f\u8173\u672c\u5316\u7684\u3002 \u652f\u63f4 corexy \u6a5f\u578b \u6587\u6a94\u66f4\u65b0\uff1a\u65b0\u7684\u6a5f\u578b\u6587\u6a94\u3001\u65b0\u7684 Pressure Advance \u8abf\u6574\u6307\u5357\u3001\u65b0\u7684\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\u7b49 \u6b65\u9032\u5668\u6027\u80fd\u6539\u9032\uff0820Mhz AVR \u6bcf\u79d2\u8d85\u904e 175K \u6b65\uff0cArduino Due \u8d85\u904e 460K\uff09 \u652f\u63f4\u81ea\u52d5\u5fae\u63a7\u5236\u5668\u5fa9\u4f4d\u3002\u652f\u63f4\u901a\u904e\u5728 Raspberry Pi \u4e0a\u5207\u63db USB \u96fb\u6e90\u9032\u884c\u91cd\u7f6e\u3002 pressure advance\u7b97\u6cd5\u73fe\u5728\u8207\u524d\u77bb\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u6e1b\u5c11\u8f49\u5f4e\u904e\u7a0b\u4e2d\u7684\u58d3\u529b\u8b8a\u5316\u3002 \u652f\u63f4\u9650\u5236\u77ed\u4e4b\u5b57\u5f62\u79fb\u52d5\u7684\u6700\u9ad8\u901f\u5ea6 \u652f\u63f4 AD595 \u50b3\u611f\u5668 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406","title":"Klipper 0.4.0"},{"location":"Releases.html#klipper-030","text":"\u572820161223\u767c\u4f48\u3002\u6b64\u7248\u672c\u7684\u4e3b\u8981\u66f4\u65b0\uff1a \u6539\u9032\u7684\u6587\u4ef6\u6a94 \u652f\u63f4\u5177\u6709 \u4e09\u89d2\u6a5f\u578b\u7684\u6a5f\u5668 \u652f\u63f4 Arduino Due \u5fae\u63a7\u5236\u5668 (ARM cortex-M3) \u652f\u63f4\u57fa\u65bc USB \u7684 AVR \u5fae\u63a7\u5236\u5668 \u652f\u63f4\u201cpressure advance\" \u7b97\u6cd5 - \u5b83\u6e1b\u5c11\u4e86\u6253\u5370\u904e\u7a0b\u4e2d\u7684\u6ef2\u51fa\u3002 \u65b0\u7684\u201c\u57fa\u65bc\u6b65\u9032\u76f8\u63a7\u7684\u9650\u4f4d\u5668\u201d\u529f\u80fd - \u53ef\u5be6\u73fe\u66f4\u9ad8\u7cbe\u5ea6\u7684\u9650\u4f4d\u5668\u6b78\u4f4d\u3002 \u652f\u63f4\u201c\u64f4\u5c55 G-Code\u201d\u547d\u4ee4\uff0c\u4f8b\u5982\u201chelp\u201d\u3001\u201crestart\u201d\u548c\u201cstatus\u201d\u3002 \u652f\u63f4\u901a\u904e\u5f9e\u7d42\u7aef\u767c\u51fa\u201c\u91cd\u65b0\u555f\u52d5\u201d\u547d\u4ee4\u4f86\u91cd\u65b0\u52a0\u8f09 Klipper \u914d\u7f6e\u4e26\u91cd\u65b0\u555f\u52d5\u4e3b\u6a5f\u8edf\u4ef6\u3002 \u6b65\u9032\u5668\u6027\u80fd\u6539\u9032\uff0820Mhz AVR \u9ad8\u9054\u6bcf\u79d2 158K \u6b65\uff09\u3002 \u6539\u9032\u7684\u932f\u8aa4\u5831\u544a\u3002\u73fe\u5728\u901a\u904e\u7d42\u7aef\u986f\u793a\u5927\u591a\u6578\u932f\u8aa4\u4ee5\u53ca\u5982\u4f55\u89e3\u6c7a\u7684\u5e6b\u52a9\u3002 \u5e7e\u500b\u932f\u8aa4\u4fee\u5fa9\u548c\u4ee3\u78bc\u6e05\u7406","title":"Klipper 0.3.0"},{"location":"Releases.html#klipper-020","text":"Klipper \u7684\u521d\u59cb\u7248\u672c\u3002\u5728 20160525 \u4e0a\u53ef\u7528\u3002\u521d\u59cb\u7248\u672c\u4e2d\u63d0\u4f9b\u7684\u4e3b\u8981\u529f\u80fd\u5305\u62ec\uff1a \u5c0d\u7368\u7acbXY\u6253\u5370\u6a5f\uff08\u6b65\u9032\u6a5f\u3001\u64e0\u51fa\u6a5f\u3001\u52a0\u71b1\u5e8a\u3001\u51b7\u537b\u98a8\u6247\uff09\u7684\u57fa\u672c\u652f\u63f4\u3002 \u652f\u63f4\u5e38\u898b\u7684 G-Code\u547d\u4ee4\u3002\u652f\u63f4\u8207 OctoPrint \u7684\u63a5\u53e3\u3002 \u52a0\u901f\u548c\u524d\u77bb\u8655\u7406 \u901a\u904e\u6a19\u6e96\u4e32\u884c\u7aef\u53e3\u652f\u63f4 AVR \u5fae\u63a7\u5236\u5668","title":"Klipper 0.2.0"},{"location":"Resonance_Compensation.html","text":"\u5171\u632f\u88dc\u511f \u00b6 Klipper\u652f\u63f4Input Shaper\u6280\u8853 -\u4e00\u7a2e\u53ef\u4ee5\u7528\u4f86\u6e1b\u5c11\u5217\u5370\u4ef6\u4e0a\u74b0\u7d0b\uff08\u4e5f\u88ab\u7a31\u70baecho\u3001ghosting\u6216ripping\uff09\u7684\u6280\u8853\u3002\u632f\u7d0b\u662f\u4e00\u7a2e\u8868\u9762\u6253\u5370\u7f3a\u9677\uff0c\u901a\u5e38\u5728\u908a\u89d2\u7684\u4f4d\u7f6e\u8868\u9762\u91cd\u8907\u51fa\u73fe\uff0c\u6210\u70ba\u4e00\u7a2e\u5fae\u5999\u7684\u6c34\u6ce2\u72c0\u7d0b\u8def\uff1a | | | \u632f\u7d0b\u662f\u7531\u5370\u8868\u6a5f\u5728\u5feb\u901f\u6539\u8b8a\u5217\u5370\u65b9\u5411\u6642\u6a5f\u68b0\u632f\u52d5\u5f15\u8d77\u7684\u3002\u8acb\u6ce8\u610f\uff0c\u632f\u7d0b\u901a\u5e38\u6e90\u65bc\u6a5f\u68b0\u65b9\u9762\u7684\u554f\u984c\uff1a\u5370\u8868\u6a5f\u6846\u67b6\u5f37\u5ea6\u4e0d\u8db3\uff0c\u76ae\u5e36\u4e0d\u5920\u7dca\u6216\u592a\u6709\u5f48\u6027\uff0c\u6a5f\u68b0\u90e8\u4ef6\u7684\u5c0d\u6e96\u554f\u984c\uff0c\u79fb\u52d5\u8cea\u91cf\u5927\u7b49\u3002\u5982\u679c\u53ef\u80fd\u7684\u8a71\uff0c\u61c9\u9996\u5148\u6aa2\u67e5\u548c\u89e3\u6c7a\u9019\u4e9b\u554f\u984c\u3002 Input Shaping \u662f\u4e00\u7a2e\u958b\u74b0\u63a7\u5236\u6280\u8853\uff0c\u5b83\u901a\u904e\u7522\u751f\u4e00\u500b\u63a7\u5236\u8a0a\u865f\u4f86\u62b5\u6d88\u81ea\u8eab\u7684\u632f\u52d5\u3002Input Shaper\u5728\u555f\u7528\u4e4b\u524d\u9700\u8981\u9032\u884c\u4e00\u4e9b\u8abf\u6574\u548c\u6e2c\u91cf\u3002\u9664\u4e86\u632f\u7d0b\u4e4b\u5916\uff0cinput shaper\u901a\u5e38\u53ef\u4ee5\u6e1b\u5c11\u5370\u8868\u6a5f\u7684\u632f\u52d5\u548c\u6416\u6643\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8 Trinamic \u6b65\u9032\u9a45\u52d5\u5668\u7684StealthChop\u6a21\u5f0f\u7684\u53ef\u9760\u6027\u3002 \u8abf\u6574 \u00b6 \u57fa\u672c\u8abf\u8a66\u9700\u8981\u901a\u904e\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u4f86\u6e2c\u91cf\u6253\u5370\u6a5f\u7684\u74b0\u7d0b\u983b\u7387\u3002 \u5c07\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u5207\u7247\uff0c\u8a72\u6a21\u578b\u53ef\u4ee5\u5728 docs/prints/ringing_tower.stl \u4e2d\u627e\u5230\uff0c\u5728\u5207\u7247\u8edf\u9ad4\u4e2d\uff1a \u5efa\u8b70\u7684\u5c64\u9ad8\u70ba 0.2 \u6216 0.25 \u6beb\u7c73\u3002 \u586b\u5145\u548c\u9802\u5c64\u5c64\u6578\u53ef\u4ee5\u88ab\u8a2d\u5b9a\u70ba0\u3002 \u4f7f\u7528 1-2 \u5468\u9577\uff0c\u6216\u8005\u4f7f\u7528 1-2 \u6beb\u7c73\u5e95\u5ea7\u7684\u5149\u6ed1\u82b1\u74f6\u6a21\u5f0f\u66f4\u597d\u3002 \u5916\u90e8 \u5468\u908a\u4f7f\u7528\u8db3\u5920\u9ad8\u7684\u901f\u5ea6\uff0c\u5927\u7d04 80-100 \u6beb\u7c73/\u79d2\u3002 \u78ba\u4fdd\u6700\u77ed\u7684\u5c64\u8017\u6642 \u6700\u591a\u662f 3\u79d2\u3002 \u78ba\u4fdd\u5207\u7247\u8edf\u9ad4\u4e2d\u7981\u7528\u4efb\u4f55\"\u52d5\u614b\u52a0\u901f\u5ea6\u63a7\u5236\"\u529f\u80fd\u3002 \u4e0d\u8981\u8f49\u52d5\u6a21\u578b\u3002\u6a21\u578b\u7684\u80cc\u9762\u6a19\u8a18\u4e86X\u548cY\u3002\u6ce8\u610f\u9019\u4e9b\u6a19\u8a18\u8207\u5370\u8868\u6a5f\u8ef8\u7dda\u65b9\u5411\u4e0d\u76f8\u540c--\u9019\u4e0d\u662f\u4e00\u500b\u932f\u8aa4\u3002\u9019\u4e9b\u6a19\u8a18\u53ef\u4ee5\u5728\u4ee5\u5f8c\u7684\u8abf\u6574\u904e\u7a0b\u4e2d\u4f5c\u70ba\u53c3\u8003\uff0c\u56e0\u70ba\u5b83\u5011\u986f\u793a\u4e86\u6e2c\u91cf\u7d50\u679c\u5c0d\u61c9\u7684\u8ef8\u3002 \u632f\u7d0b\u983b\u7387 \u00b6 \u9996\u5148\uff0c\u6e2c\u91cf \u632f\u7d0b\u983b\u7387 \u3002 \u5982\u679c square_corner_velocity \u53c3\u6578\u5df2\u66f4\u6539\uff0c\u8acb\u5c07\u5176\u6062\u5fa9\u70ba 5.0\u3002\u4f7f\u7528input shaper\u6642\u4e0d\u5efa\u8b70\u589e\u52a0\u5b83\uff0c\u56e0\u70ba\u5b83\u6703\u5c0e\u81f4\u96f6\u4ef6\u66f4\u5e73\u6ed1 - \u6700\u597d\u4f7f\u7528\u66f4\u9ad8\u7684\u52a0\u901f\u5ea6\u503c\u3002 \u901a\u904e\u767c\u51fa\u4ee5\u4e0b\u547d\u4ee4\u589e\u52a0 max_accel_to_decel \uff1a SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 \u7981\u7528Pressure Advance\uff1a SET_PRESSURE_ADVANCE ADVANCE=0 \u5982\u679c\u4f60\u5df2\u7d93\u5c07 [input_shaper] \u5206\u6bb5\u65b0\u589e\u5230print.cfg\u4e2d\uff0c\u57f7\u884c SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 \u547d\u4ee4\u3002\u5982\u679c\u4f60\u5f97\u5230\"\u672a\u77e5\u547d\u4ee4\"\u932f\u8aa4\uff0c\u6b64\u6642\u4f60\u53ef\u4ee5\u5b89\u5168\u5730\u5ffd\u7565\u5b83\uff0c\u7e7c\u7e8c\u9032\u884c\u6e2c\u91cf\u3002 \u57f7\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u57fa\u672c\u4e0a\uff0c\u6211\u5011\u5617\u8a66\u901a\u904e\u8a2d\u7f6e\u4e0d\u540c\u7684\u5927\u52a0\u901f\u5ea6\u503c\u4f86\u4f7f\u74b0\u7d0b\u66f4\u52a0\u660e\u986f\u3002\u6b64\u547d\u4ee4\u5c07\u5f9e 1500 mm/sec^2 \u958b\u59cb\u6bcf 5 mm \u589e\u52a0\u52a0\u901f\u5ea6\uff1a1500 mm/sec^2\u30012000 mm/sec^2\u30012500 mm/sec^2 \u7b49\u7b49\uff0c\u76f4\u5230 7000 mm/sec^2\u6700\u5f8c\u4e00\u500b\u5340\u57df\u3002 \u5217\u5370\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5207\u7247\u7684\u6e2c\u8a66\u6a21\u578b\u3002 \u5982\u679c\u632f\u7d0b\u6e05\u6670\u53ef\u898b\uff0c\u4e26\u4e14\u767c\u73fe\u52a0\u901f\u5ea6\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u4f86\u8aaa\u592a\u9ad8\u4e86\uff08\u5982\u5370\u8868\u6a5f\u6296\u52d5\u592a\u53b2\u5bb3\u6216\u958b\u59cb\u4e1f\u6b65\uff09\uff0c\u4f60\u53ef\u4ee5\u63d0\u524d\u505c\u6b62\u5217\u5370\u3002 \u4f7f\u7528\u6a21\u578b\u80cc\u9762\u7684 X \u548c Y \u6a19\u8a18\u4f5c\u70ba\u53c3\u8003\u3002\u5e36\u6709 X \u6a19\u8a18\u7684\u4e00\u5074\u7684\u6e2c\u91cf\u503c\u61c9\u7528\u65bc X \u8ef8 \u914d\u7f6e \uff0c\u800c Y \u6a19\u8a18 - \u7528\u65bc Y \u8ef8\u914d\u7f6e\u3002\u5728\u5e36\u6709 X \u6a19\u8a18\u7684\u96f6\u4ef6\u4e0a\uff0c\u5728\u69fd\u53e3\u9644\u8fd1\u6e2c\u91cf\u5e7e\u6b21\u632f\u52d5\u4e4b\u9593\u7684\u8ddd\u96e2 D \uff08\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\uff09\uff0c\u6700\u597d\u8df3\u904e\u7b2c\u4e00\u6b21\u6216\u5169\u6b21\u632f\u52d5\u3002\u70ba\u4e86\u66f4\u5bb9\u6613\u5730\u6e2c\u91cf\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\uff0c\u8acb\u5148\u6a19\u8a18\u632f\u76ea\uff0c\u7136\u5f8c\u7528\u5c3a\u5b50\u6216\u5361\u5c3a\u6e2c\u91cf\u6a19\u8a18\u4e4b\u9593\u7684\u8ddd\u96e2\uff1a| | | \u8a08\u7b97\u6e2c\u91cf\u8ddd\u96e2 D \u5c0d\u61c9\u7684\u632f\u76ea\u6b21\u6578 N \u3002\u5982\u679c\u60a8\u4e0d\u78ba\u5b9a\u5982\u4f55\u8a08\u7b97\u632f\u76ea\u6b21\u6578\uff0c\u8acb\u53c3\u8003\u4e0a\u5716\uff0c\u5176\u4e2d\u986f\u793a N = 6 \u6b21\u632f\u76ea\u3002 \u8a08\u7b97X\u8ef8\u74b0\u7d0b\u983b\u7387\u70ba V \u00b7 N / D (Hz)\uff0c\u5176\u4e2d V \u662f\u5916\u5468\u7684\u901f\u5ea6 (mm/sec)\u3002\u5c0d\u65bc\u4e0a\u9762\u7684\u793a\u4f8b\uff0c\u6211\u5011\u6a19\u8a18\u4e86 6 \u500b\u632f\u76ea\uff0c\u4e26\u4e14\u6e2c\u8a66\u4ee5 100 \u6beb\u7c73/\u79d2\u7684\u901f\u5ea6\u6253\u5370\uff0c\u56e0\u6b64\u983b\u7387\u70ba 100 * 6 / 12.14 \u2248 49.4 Hz\u3002 \u5c0d Y \u6a19\u8a18\u4e5f\u57f7\u884c (8) - (10)\u3002 \u8acb\u6ce8\u610f\uff0c\u6e2c\u8a66\u6253\u5370\u4e0a\u7684\u74b0\u7d0b\u61c9\u9075\u5faa\u5f4e\u66f2\u51f9\u69fd\u7684\u5716\u6848\uff0c\u5982\u4e0a\u5716\u6240\u793a\u3002\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u9ebc\u9019\u500b\u7f3a\u9677\u4e26\u4e0d\u662f\u771f\u6b63\u7684\u74b0\u7d0b\uff0c\u800c\u662f\u6709\u4e0d\u540c\u7684\u8d77\u6e90\u2014\u2014\u6a5f\u68b0\u554f\u984c\u6216\u64e0\u51fa\u6a5f\u554f\u984c\u3002\u5728\u555f\u7528\u548cinput shapers\u4e4b\u524d\uff0c\u61c9\u8a72\u5148\u4fee\u5fa9\u5b83\u3002 \u5982\u679c\u6e2c\u91cf\u7d50\u679c\u4e0d\u53ef\u9760\uff0c\u4f8b\u5982\uff0c\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\u4e0d\u7a69\u5b9a\uff0c\u5247\u53ef\u80fd\u610f\u5473\u8457\u6253\u5370\u6a5f\u5728\u540c\u4e00\u8ef8\u4e0a\u6709\u591a\u500b\u5171\u632f\u983b\u7387\u3002\u53ef\u4ee5\u5617\u8a66\u9075\u5faa \u4e0d\u53ef\u9760\u7684\u74b0\u7d0b\u983b\u7387\u6e2c\u91cf \u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u8abf\u6574\u904e\u7a0b\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u5f9einput shaper\u6280\u8853\u4e2d\u7372\u5f97\u4e00\u4e9b\u6771\u897f\u3002 \u74b0\u7d0b\u983b\u7387\u53ef\u80fd\u53d6\u6c7a\u65bc\u6a21\u578b\u5728\u69cb\u5efa\u677f\u5167\u7684\u4f4d\u7f6e\u548c Z \u9ad8\u5ea6\uff0c \u5c24\u5176\u662f\u5728 \u4e09\u89d2\u6d32\u6253\u5370\u6a5f\u4e0a \uff1b\u60a8\u53ef\u4ee5\u6aa2\u67e5\u662f\u5426\u5728\u6e2c\u8a66\u6a21\u578b\u5169\u5074\u7684\u4e0d\u540c\u4f4d\u7f6e\u548c\u4e0d\u540c\u9ad8\u5ea6\u770b\u5230\u983b\u7387\u5dee\u7570\u3002\u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u60a8\u53ef\u4ee5\u8a08\u7b97 X \u8ef8\u548c Y \u8ef8\u4e0a\u7684\u5e73\u5747\u74b0\u7d0b\u983b\u7387\u3002 \u5982\u679c\u6e2c\u5f97\u7684\u74b0\u7d0b\u983b\u7387\u975e\u5e38\u4f4e\uff08\u4f4e\u65bc\u5927\u7d04 20-25 Hz\uff09\uff0c\u90a3\u9ebc\u5728\u9032\u884c\u9032\u4e00\u6b65\u7684input shaper\u4e4b\u524d\uff0c\u6700\u597d\u6295\u8cc7\u65bc\u52a0\u5f37\u6253\u5370\u6a5f\u6216\u6e1b\u5c11\u79fb\u52d5\u8cea\u91cf\uff08\u53d6\u6c7a\u65bc\u60a8\u7684\u60c5\u6cc1\u9069\u7528\u7684\u60c5\u6cc1\uff09\u8abf\u6574\uff0c\u7136\u5f8c\u91cd\u65b0\u6e2c\u91cf\u983b\u7387\u3002\u5c0d\u65bc\u8a31\u591a\u6d41\u884c\u7684\u6253\u5370\u6a5f\u578b\u865f\uff0c\u901a\u5e38\u5df2\u7d93\u6709\u4e00\u4e9b\u53ef\u7528\u7684\u89e3\u6c7a\u65b9\u6848\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u5c0d\u6253\u5370\u6a5f\u9032\u884c\u4e86\u5f71\u97ff\u79fb\u52d5\u8cea\u91cf\u6216\u6539\u8b8a\u7cfb\u7d71\u525b\u5ea6\u7684\u66f4\u6539\uff0c\u5247\u74b0\u7d0b\u983b\u7387\u53ef\u80fd\u6703\u767c\u751f\u8b8a\u5316\uff0c\u4f8b\u5982\uff1a \u5728\u6539\u8b8a\u5176\u8cea\u91cf\u7684\u5de5\u5177\u982d\u4e0a\u5b89\u88dd\u3001\u79fb\u9664\u6216\u66f4\u63db\u4e86\u4e00\u4e9b\u5de5\u5177\uff0c\u4f8b\u5982\u5b89\u88dd\u4e86\u7528\u65bc\u76f4\u63a5\u64e0\u51fa\u6a5f\u6216\u65b0\u71b1\u7aef\u7684\u65b0\uff08\u66f4\u91cd\u6216\u66f4\u8f15\uff09\u6b65\u9032\u96fb\u6a5f\uff0c\u6dfb\u52a0\u4e86\u5e36\u7ba1\u9053\u7684\u91cd\u578b\u98a8\u6247\u7b49\u3002 \u76ae\u5e36\u6536\u7dca\u4e86\u3002 \u5b89\u88dd\u4e86\u4e00\u4e9b\u589e\u52a0\u6846\u67b6\u525b\u5ea6\u7684\u63d2\u4ef6\u3002 \u5728\u62cb\u5e8a\u6253\u5370\u6a5f\u4e0a\u5b89\u88dd\u4e0d\u540c\u7684\u5e8a\uff0c\u6216\u6dfb\u52a0\u73bb\u7483\u7b49\u3002 \u5982\u679c\u9032\u884c\u4e86\u6b64\u985e\u66f4\u6539\uff0c\u6700\u597d\u81f3\u5c11\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\u4ee5\u67e5\u770b\u5b83\u5011\u662f\u5426\u5df2\u66f4\u6539\u3002 Input shaper\u914d\u7f6e \u00b6 \u5728\u6e2c\u91cf X \u548c Y \u8ef8\u7684\u74b0\u7d0b\u983b\u7387\u5f8c\uff0c\u60a8\u53ef\u4ee5\u5c07\u4ee5\u4e0b\u90e8\u5206\u6dfb\u52a0\u5230\u60a8\u7684 printer.cfg \u4e2d\uff1a [input_shaper] shaper_freq_x: ... # frequency for the X mark of the test model shaper_freq_y: ... # frequency for the Y mark of the test model \u5c0d\u65bc\u4e0a\u9762\u7684\u793a\u4f8b\uff0c\u6211\u5011\u5f97\u5230 shaper_freq_x/y = 49.4\u3002 \u9078\u64c7 input shaper \u00b6 Klipper \u652f\u6301\u591a\u7a2e input shaper\u3002\u5b83\u5011\u5c0d\u78ba\u5b9a\u5171\u632f\u983b\u7387\u7684\u8aa4\u5dee\u7684\u654f\u611f\u6027\u4ee5\u53ca\u5b83\u5011\u5728\u6253\u5370\u90e8\u4ef6\u4e2d\u5f15\u8d77\u7684\u5e73\u6ed1\u7a0b\u5ea6\u4e0d\u540c\u3002\u6b64\u5916\uff0c\u50cf 2HUMP_EI \u548c 3HUMP_EI \u9019\u6a23\u7684\u4e00\u4e9b\u6574\u5f62\u5668\u901a\u5e38\u4e0d\u61c9\u8a72\u8207 shaper_freq = \u5171\u632f\u983b\u7387\u4e00\u8d77\u4f7f\u7528\u2014\u2014\u5b83\u5011\u662f\u5f9e\u4e0d\u540c\u7684\u8003\u616e\u4f86\u914d\u7f6e\u7684\uff0c\u4ee5\u4e00\u6b21\u6e1b\u5c11\u591a\u500b\u5171\u632f\u3002 \u5c0d\u65bc\u5927\u591a\u6578\u6253\u5370\u6a5f\uff0c\u53ef\u4ee5\u63a8\u85a6 MZV \u6216 EI \u6574\u5f62\u5668\u3002\u672c\u7bc0\u63cf\u8ff0\u4e86\u5728\u5b83\u5011\u4e4b\u9593\u9032\u884c\u9078\u64c7\u7684\u6e2c\u8a66\u904e\u7a0b\uff0c\u4e26\u78ba\u5b9a\u4e86\u4e00\u4e9b\u5176\u4ed6\u76f8\u95dc\u53c3\u6578\u3002 \u6253\u5370\u74b0\u5f62\u6e2c\u8a66\u6a21\u578b\u5982\u4e0b\uff1a \u91cd\u555f\u56fa\u4ef6\uff1a RESTART \u6e96\u5099\u6e2c\u8a66\uff1a SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 \u7981\u7528Pressure Advance\uff1a SET_PRESSURE_ADVANCE ADVANCE=0 \u57f7\u884c\uff1a SET_INPUT_SHAPER SHAPER_TYPE=MZV \u57f7\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u5217\u5370\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5207\u7247\u7684\u6e2c\u8a66\u6a21\u578b\u3002 \u5982\u679c\u6b64\u6642\u60a8\u6c92\u6709\u770b\u5230\u74b0\u7d0b\uff0c\u5247\u53ef\u4ee5\u63a8\u85a6\u4f7f\u7528 MZV \u6574\u5f62\u5668\u3002 \u5982\u679c\u60a8\u78ba\u5be6\u770b\u5230\u4e00\u4e9b\u74b0\u7d0b\uff0c\u8acb\u4f7f\u7528 \u74b0\u7d0b\u983b\u7387 \u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u6b65\u9a5f (8)-(10) \u91cd\u65b0\u6e2c\u91cf\u983b\u7387\u3002\u5982\u679c\u983b\u7387\u8207\u60a8\u4e4b\u524d\u7372\u5f97\u7684\u503c\u986f\u8457\u4e0d\u540c\uff0c\u5247\u9700\u8981\u66f4\u8907\u96dc\u7684input shaper\u914d\u7f6e\u3002\u60a8\u53ef\u4ee5\u53c3\u8003 Choosing input shaper \u90e8\u5206\u7684\u6280\u8853\u7d30\u7bc0\u3002\u5426\u5247\uff0c\u7e7c\u7e8c\u4e0b\u4e00\u6b65\u3002 \u73fe\u5728\u5617\u8a66 EI input shaper\u3002\u8981\u5617\u8a66\u5b83\uff0c\u8acb\u5f9e\u4e0a\u9762\u91cd\u8907\u6b65\u9a5f (1)-(6)\uff0c\u4f46\u5728\u6b65\u9a5f 4 \u4e2d\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a SET_INPUT_SHAPER SHAPER_TYPE=EI \u3002 \u4f7f\u7528 MZV \u548c EI input shaper\u6bd4\u8f03\u5169\u500b\u6253\u5370\u3002\u5982\u679c EI \u986f\u793a\u51fa\u660e\u986f\u512a\u65bc MZV \u7684\u7d50\u679c\uff0c\u8acb\u4f7f\u7528 EI \u6574\u5f62\u5668\uff0c\u5426\u5247\u66f4\u559c\u6b61 MZV\u3002\u8acb\u6ce8\u610f\uff0cEI shaper \u5c07\u4f7f\u6253\u5370\u90e8\u4ef6\u66f4\u52a0\u5e73\u6ed1\uff08\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1\u4e0b\u4e00\u7bc0\uff09\u3002\u5c07 shaper_type: mzv \uff08\u6216 ei\uff09\u53c3\u6578\u6dfb\u52a0\u5230 [input_shaper] \u90e8\u5206\uff0c\u4f8b\u5982\uff1a [input_shaper] shaper_freq_x: ... shaper_freq_y: ... shaper_type: mzv \u95dc\u65bc\u6574\u5f62\u5668\u9078\u64c7\u7684\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9805\uff1a EI shaper \u53ef\u80fd\u66f4\u9069\u5408\u65bc\u62cb\u5e8a\u6253\u5370\u6a5f\uff08\u5982\u679c\u5171\u632f\u983b\u7387\u548c\u7531\u6b64\u7522\u751f\u7684\u5e73\u6ed1\u5141\u8a31\uff09\uff1a\u96a8\u8457\u66f4\u591a\u7684\u7d30\u7d72\u6c89\u7a4d\u5728\u79fb\u52d5\u5e8a\u4e0a\uff0c\u5e8a\u7684\u8cea\u91cf\u6703\u589e\u52a0\uff0c\u5171\u632f\u983b\u7387\u6703\u964d\u4f4e\u3002\u7531\u65bc EI \u6574\u5f62\u5668\u5c0d\u5171\u632f\u983b\u7387\u8b8a\u5316\u66f4\u52a0\u7a69\u5065\uff0c\u56e0\u6b64\u5728\u6253\u5370\u5927\u578b\u96f6\u4ef6\u6642\u53ef\u80fd\u6703\u66f4\u597d\u5730\u5de5\u4f5c\u3002 \u7531\u65bc\u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u6027\u8cea\uff0c\u5171\u632f\u983b\u7387\u5728\u69cb\u5efa\u9ad4\u7a4d\u7684\u4e0d\u540c\u90e8\u5206\u53ef\u80fd\u6703\u6709\u5f88\u5927\u5dee\u7570\u3002\u56e0\u6b64\uff0cEI shaper \u53ef\u80fd\u6bd4 MZV \u6216 ZV \u66f4\u9069\u5408 delta \u6253\u5370\u6a5f\uff0c\u61c9\u8003\u616e\u4f7f\u7528\u3002\u5982\u679c\u5171\u632f\u983b\u7387\u8db3\u5920\u5927\uff08\u8d85\u904e 50-60 Hz\uff09\uff0c\u90a3\u9ebc\u751a\u81f3\u53ef\u4ee5\u5617\u8a66\u6e2c\u8a66 2HUMP_EI \u6574\u5f62\u5668\uff08\u901a\u904e\u4f7f\u7528 SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI \u904b\u884c\u4e0a\u9762\u5efa\u8b70\u7684\u6e2c\u8a66\uff09\uff0c\u4f46\u8acb\u6aa2\u67e5 \u4e0b\u9762\u7684\u90e8\u5206 \u5728\u555f\u7528\u5b83\u4e4b\u524d\u3002 \u9078\u64c7 max_accel \u00b6 \u60a8\u61c9\u8a72\u5c0d\u5f9e\u4e0a\u4e00\u6b65\u4e2d\u9078\u64c7\u7684\u6574\u5f62\u5668\u9032\u884c\u6253\u5370\u6e2c\u8a66\uff08\u5982\u679c\u6c92\u6709\uff0c\u8acb\u6253\u5370\u4f7f\u7528 \u5efa\u8b70\u53c3\u6578 \u5207\u7247\u7684\u6e2c\u8a66\u6a21\u578b\uff0c\u7981\u7528\u58d3\u529b\u63d0\u524d SET_PRESSURE_ADVANCE ADVANCE=0 \u4e26\u4f7f\u7528\u8abf\u8ae7\u5854\u555f\u7528\u70ba TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \uff09\u3002\u8acb\u6ce8\u610f\uff0c\u5728\u975e\u5e38\u9ad8\u7684\u52a0\u901f\u5ea6\u4e0b\uff0c\u53d6\u6c7a\u65bc\u5171\u632f\u983b\u7387\u548c\u60a8\u9078\u64c7\u7684 input shaper\uff08\u4f8b\u5982\uff0cEI \u6574\u5f62\u5668\u6bd4 MZV \u7522\u751f\u66f4\u591a\u7684\u5e73\u6ed1\uff09\uff0c input shaper\u53ef\u80fd\u6703\u5c0e\u81f4\u96f6\u4ef6\u904e\u5ea6\u5e73\u6ed1\u548c\u5713\u5316\u3002\u56e0\u6b64\uff0c\u61c9\u8a72\u9078\u64c7 max_accel \u4ee5\u9632\u6b62\u9019\u7a2e\u60c5\u6cc1\u767c\u751f\u3002\u53e6\u4e00\u500b\u53ef\u80fd\u5f71\u97ff\u5e73\u6ed1\u7684\u53c3\u6578\u662f\u201csquare_corner_velocity\u201d\uff0c\u56e0\u6b64\u4e0d\u5efa\u8b70\u5c07\u5176\u589e\u52a0\u5230\u9ed8\u8a8d\u7684 5 \u6beb\u7c73/\u79d2\u4ee5\u4e0a\uff0c\u4ee5\u9632\u6b62\u589e\u52a0\u5e73\u6ed1\u3002 \u70ba\u4e86\u9078\u64c7\u5408\u9069\u7684 max_accel \u503c\uff0c\u8acb\u6aa2\u67e5\u6240\u9078 input shaper \u7684\u6a21\u578b\u3002\u9996\u5148\uff0c\u8a18\u4e0b\u52a0\u901f\u5ea6\u74b0\u7d0b\u4ecd\u7136\u5f88\u5c0f\u7684\u60c5\u6cc1\u2014\u2014\u60a8\u5c0d\u6b64\u611f\u5230\u6eff\u610f\u3002 \u63a5\u4e0b\u4f86\uff0c\u6aa2\u67e5\u5e73\u6ed1\u3002\u70ba\u4e86\u89e3\u6c7a\u9019\u500b\u554f\u984c\uff0c\u6e2c\u8a66\u6a21\u578b\u5728\u7246\u4e0a\u6709\u4e00\u500b\u5c0f\u9593\u9699\uff080.15 \u6beb\u7c73\uff09\uff1a \u96a8\u8457\u52a0\u901f\u5ea6\u7684\u589e\u52a0\uff0c\u5e73\u6ed1\u5ea6\u4e5f\u6703\u589e\u52a0\uff0c\u6253\u5370\u4e2d\u7684\u5be6\u969b\u9593\u9699\u4e5f\u6703\u64f4\u5927\uff1a \u5728\u9019\u5f35\u5716\u7247\u4e2d\uff0c\u52a0\u901f\u5ea6\u5f9e\u5de6\u5230\u53f3\u589e\u52a0\uff0c\u9593\u9699\u5f9e 3500 mm/sec^2\uff08\u5de6\u8d77\u7b2c 5 \u500b\u6ce2\u6bb5\uff09\u958b\u59cb\u589e\u52a0\u3002\u56e0\u6b64\uff0c\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0cmax_accel = 3000 (mm/sec^2) \u7684\u826f\u597d\u503c\u53ef\u4ee5\u907f\u514d\u904e\u5ea6\u5e73\u6ed1\u3002 \u8acb\u6ce8\u610f\u5728\u60a8\u7684\u6e2c\u8a66\u6253\u5370\u4e2d\u9593\u9699\u4ecd\u7136\u975e\u5e38\u5c0f\u6642\u7684\u52a0\u901f\u5ea6\u3002\u5982\u679c\u60a8\u770b\u5230\u51f8\u8d77\uff0c\u4f46\u58c1\u4e0a\u6839\u672c\u6c92\u6709\u9593\u9699\uff0c\u5373\u4f7f\u5728\u9ad8\u52a0\u901f\u5ea6\u4e0b\uff0c\u4e5f\u53ef\u80fd\u662f\u7531\u65bc\u7981\u7528\u4e86\u58d3\u529b\u63a8\u9032\uff0c\u5c24\u5176\u662f\u5728\u9b91\u767b\u64e0\u51fa\u6a5f\u4e0a\u3002\u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728\u555f\u7528 PA \u7684\u60c5\u6cc1\u4e0b\u91cd\u8907\u6253\u5370\u3002\u9019\u4e5f\u53ef\u80fd\u662f\u7531\u65bc\u71c8\u7d72\u6d41\u91cf\u6821\u6e96\u932f\u8aa4\uff08\u904e\u9ad8\uff09\u9020\u6210\u7684\uff0c\u56e0\u6b64\u6700\u597d\u4e5f\u6aa2\u67e5\u4e00\u4e0b\u3002 \u5f9e\u5169\u500b\u52a0\u901f\u5ea6\u503c\uff08\u4f86\u81ea\u74b0\u7d0b\u548c\u5e73\u6ed1\uff09\u4e2d\u9078\u64c7\u6700\u5c0f\u503c\uff0c\u4e26\u5c07\u5176\u4f5c\u70ba max_accel \u653e\u5165printer.cfg\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5373\u4f7f\u5728\u8f03\u4f4e\u7684\u52a0\u901f\u5ea6\u4e0b\uff0cEI \u6574\u5f62\u5668\u4e5f\u53ef\u80fd\u6703\u5c0e\u81f4\u904e\u5ea6\u5e73\u6ed1\u2014\u2014\u5c24\u5176\u662f\u5728\u4f4e\u74b0\u7d0b\u983b\u7387\u4e0b\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0cMZV \u53ef\u80fd\u662f\u66f4\u597d\u7684\u9078\u64c7\uff0c\u56e0\u70ba\u5b83\u53ef\u80fd\u5141\u8a31\u66f4\u9ad8\u7684\u52a0\u901f\u5ea6\u503c\u3002 \u5728\u975e\u5e38\u4f4e\u7684\u74b0\u7d0b\u983b\u7387\uff08~25 Hz \u53ca\u4ee5\u4e0b\uff09\u4e0b\uff0c\u5373\u4f7f\u662f MZV \u6574\u5f62\u5668\u4e5f\u53ef\u80fd\u6703\u7522\u751f\u904e\u591a\u7684\u5e73\u6ed1\u3002\u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5617\u8a66\u4f7f\u7528 ZV \u6574\u5f62\u5668\u91cd\u8907 Choosing input shaper \u90e8\u5206\u4e2d\u7684\u6b65\u9a5f\uff0c\u6539\u7528 SET_INPUT_SHAPER SHAPER_TYPE=ZV \u547d\u4ee4\u3002 ZV \u6574\u5f62\u5668\u61c9\u8a72\u6bd4 MZV \u986f\u793a\u66f4\u5c11\u7684\u5e73\u6ed1\uff0c\u4f46\u5c0d\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\u7684\u8aa4\u5dee\u66f4\u654f\u611f\u3002 \u53e6\u4e00\u500b\u8003\u616e\u56e0\u7d20\u662f\uff0c\u5982\u679c\u5171\u632f\u983b\u7387\u592a\u4f4e\uff08\u4f4e\u65bc 20-25 Hz\uff09\uff0c\u589e\u52a0\u6253\u5370\u6a5f\u525b\u5ea6\u6216\u6e1b\u5c11\u79fb\u52d5\u8cea\u91cf\u53ef\u80fd\u662f\u500b\u597d\u4e3b\u610f\u3002\u5426\u5247\uff0c\u52a0\u901f\u5ea6\u548c\u6253\u5370\u901f\u5ea6\u53ef\u80fd\u6703\u7531\u65bc\u73fe\u5728\u904e\u65bc\u5e73\u6ed1\u800c\u4e0d\u662f\u74b0\u7d0b\u800c\u53d7\u5230\u9650\u5236\u3002 \u5fae\u8abf\u5171\u632f\u983b\u7387 \u00b6 \u8acb\u6ce8\u610f\uff0c\u4f7f\u7528\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u7684\u8ae7\u632f\u983b\u7387\u6e2c\u91cf\u7cbe\u5ea6\u8db3\u4ee5\u6eff\u8db3\u5927\u591a\u6578\u76ee\u7684\uff0c\u56e0\u6b64\u4e0d\u5efa\u8b70\u9032\u4e00\u6b65\u8abf\u6574\u3002\u5982\u679c\u60a8\u4ecd\u60f3\u5617\u8a66\u4ed4\u7d30\u6aa2\u67e5\u60a8\u7684\u7d50\u679c\uff08\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728\u4f7f\u7528\u60a8\u9078\u64c7\u7684input shaper\u6253\u5370\u4e00\u500b\u6e2c\u8a66\u6a21\u578b\u5f8c\u4ecd\u7136\u770b\u5230\u4e00\u4e9b\u74b0\u7d0b\uff0c\u60a8\u9078\u64c7\u7684input shaper\u8207\u60a8\u4e4b\u524d\u6e2c\u91cf\u7684\u983b\u7387\u76f8\u540c\uff09\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u672c\u6587\u4e2d\u7684\u6b65\u9a5f\u64cd\u4f5c\u90e8\u5206\u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u5728\u555f\u7528 [input_shaper] \u5f8c\u770b\u5230\u4e0d\u540c\u983b\u7387\u7684\u74b0\u7d0b\uff0c\u5247\u672c\u7bc0\u5c07\u7121\u6fdf\u65bc\u4e8b\u3002 \u5047\u8a2d\u60a8\u5df2\u4f7f\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5c0d\u74b0\u7d0b\u6a21\u578b\u9032\u884c\u5207\u7247\uff0c\u8acb\u91dd\u5c0d X \u8ef8\u548c Y \u8ef8\u4e2d\u7684\u6bcf\u4e00\u500b\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9a5f\uff1a \u6e96\u5099\u6e2c\u8a66\uff1a SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 \u78ba\u4fddPressure Advance\u88ab\u7981\u7528\uff1a SET_PRESSURE_ADVANCE ADVANCE=0 \u57f7\u884c\uff1a SET_INPUT_SHAPER SHAPER_TYPE=ZV \u5f9e\u5177\u6709\u60a8\u9078\u64c7\u7684 input shaper\u7684\u73fe\u6709\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u4e2d\u9078\u64c7\u986f\u793a\u74b0\u7d0b\u8db3\u5920\u597d\u7684\u52a0\u901f\u5ea6\uff0c\u4e26\u5c07\u5176\u8a2d\u7f6e\u70ba\uff1a SET_VELOCITY_LIMIT ACCEL=... \u8a08\u7b97 TUNING_TOWER \u547d\u4ee4\u8abf\u6574 shaper_freq_x \u53c3\u6578\u7684\u5fc5\u8981\u53c3\u6578\u5982\u4e0b\uff1a start = shaper_freq_x * 83 / 132 \u548c factor = shaper_freq_x / 66\uff0c\u5176\u4e2d shaper_freq_x \u9019\u88e1\u662f printer.cfg \u4e2d\u7684\u7576\u524d\u503c\u3002 \u4f7f\u7528\u5728\u6b65\u9a5f (5) \u8a08\u7b97\u7684 start \u548c factor \u503c\u57f7\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_INPUT_SHAPER PARAMETER=SHAPER_FREQ_X START=start FACTOR=factor BAND=5 \u3002 \u6253\u5370\u6e2c\u8a66\u6a21\u578b\u3002 \u91cd\u7f6e\u539f\u59cb\u983b\u7387\u503c\uff1a SET_INPUT_SHAPER SHAPER_FREQ_X=... \u3002 \u627e\u5230\u74b0\u7d0b\u6700\u5c11\u7684\u5340\u9593\uff0c\u5f9e 1 \u958b\u59cb\u5f9e\u5e95\u90e8\u958b\u59cb\u8a08\u6578\u3002 \u901a\u904e\u820a\u7684 shaper_freq_x * (39 + 5 * #band-number) / 66 \u8a08\u7b97\u65b0\u7684 shaper_freq_x \u503c\u3002 \u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5c0d Y \u8ef8\u91cd\u8907\u9019\u4e9b\u6b65\u9a5f\uff0c\u5c07 X \u8ef8\u7684\u5f15\u7528\u66ff\u63db\u70ba Y \u8ef8\uff08\u4f8b\u5982\uff0c\u5728\u516c\u5f0f\u548c TUNING_TOWER \u547d\u4ee4\u4e2d\u5c07 shaper_freq_x \u66ff\u63db\u70ba shaper_freq_y \uff09\u3002 \u4f8b\u5982\uff0c\u5047\u8a2d\u60a8\u5df2\u7d93\u6e2c\u91cf\u4e86\u4e00\u500b\u8ef8\u7684\u74b0\u7d0b\u983b\u7387\u7b49\u65bc 45 Hz\u3002\u9019\u7d66\u51fa\u4e86\u201cTUNING_TOWER\u201d\u547d\u4ee4\u7684 start = 45 * 83 / 132 = 28.30 \u548c factor = 45 / 66 = 0.6818 \u503c\u3002\u73fe\u5728\u8b93\u6211\u5011\u5047\u8a2d\u5728\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u5f8c\uff0c\u5f9e\u5e95\u90e8\u958b\u59cb\u7684\u7b2c\u56db\u500b\u6ce2\u6bb5\u7684\u74b0\u7d0b\u6700\u5c11\u3002\u9019\u7d66\u51fa\u4e86\u66f4\u65b0\u7684 shaper_freq_?\u503c\u7b49\u65bc 45 * (39 + 5 * 4) / 66 \u2248 40.23\u3002 \u5728\u8a08\u7b97\u51fa\u65b0\u7684 shaper_freq_x \u548c shaper_freq_y \u53c3\u6578\u5f8c\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u65b0\u7684 shaper_freq_x \u548c shaper_freq_y \u503c\u66f4\u65b0 printer.cfg \u4e2d\u7684 [input_shaper] \u90e8\u5206\u3002 Pressure Advance \u00b6 \u5982\u679c\u60a8\u4f7f\u7528 Pressure Advance\uff0c\u5247\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u8abf\u6574\u3002\u6309\u7167 instructions \u627e\u5230\u65b0\u503c\uff0c\u5982\u679c\u5b83\u8207\u524d\u4e00\u500b\u4e0d\u540c\u3002\u78ba\u4fdd\u5728\u8abf\u6574 Pressure Advance \u4e4b\u524d\u91cd\u65b0\u555f\u52d5 Klipper\u3002 \u74b0\u7d0b\u983b\u7387\u6e2c\u91cf\u4e0d\u53ef\u9760 \u00b6 \u5982\u679c\u60a8\u7121\u6cd5\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\uff0c\u4f8b\u5982\u5982\u679c\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\u4e0d\u7a69\u5b9a\uff0c\u60a8\u4ecd\u7136\u53ef\u4ee5\u5229\u7528Input Shaper\u6280\u8853\uff0c\u4f46\u7d50\u679c\u53ef\u80fd\u4e0d\u5982\u6b63\u78ba\u6e2c\u91cf\u983b\u7387\u90a3\u6a23\u597d\uff0c\u4e26\u4e14\u9700\u8981\u66f4\u591a\u7684\u8abf\u6574\u548c\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u3002\u8acb\u6ce8\u610f\uff0c\u53e6\u4e00\u7a2e\u53ef\u80fd\u6027\u662f\u8cfc\u8cb7\u4e26\u5b89\u88dd\u52a0\u901f\u5ea6\u8a08\u4e26\u7528\u5b83\u6e2c\u91cf\u5171\u632f\uff08\u8acb\u53c3\u95b1\u63cf\u8ff0\u6240\u9700\u786c\u4ef6\u548c\u8a2d\u7f6e\u904e\u7a0b\u7684 docs \uff09 - \u4f46\u6b64\u9078\u9805\u9700\u8981\u4e00\u4e9b\u58d3\u63a5\u548c\u710a\u63a5\u3002 \u8981\u9032\u884c\u8abf\u6574\uff0c\u8acb\u5c07\u7a7a\u7684 [input_shaper] \u90e8\u5206\u6dfb\u52a0\u5230\u60a8\u7684 printer.cfg \u3002\u7136\u5f8c\uff0c\u5047\u8a2d\u60a8\u5df2\u4f7f\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5c0d\u74b0\u7d0b\u6a21\u578b\u9032\u884c\u5207\u7247\uff0c\u6309\u5982\u4e0b\u65b9\u5f0f\u6253\u5370\u6e2c\u8a66\u6a21\u578b 3 \u6b21\u3002\u7b2c\u4e00\u6b21\uff0c\u5728\u6253\u5370\u4e4b\u524d\uff0c\u904b\u884c RESTART SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 SET_PRESSURE_ADVANCE ADVANCE=0 SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=60 SHAPER_FREQ_Y=60 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u4e26\u6253\u5370\u6a21\u578b\u3002\u7136\u5f8c\u518d\u6b21\u6253\u5370\u6a21\u578b\uff0c\u4f46\u5728\u6253\u5370\u4e4b\u524d\u904b\u884c SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=50 SHAPER_FREQ_Y=50 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u7136\u5f8c\u7b2c\u4e09\u6b21\u6253\u5370\u6a21\u578b\uff0c\u4f46\u73fe\u5728\u904b\u884c SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=40 SHAPER_FREQ_Y=40 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u672c\u8cea\u4e0a\uff0c\u6211\u5011\u4f7f\u7528 2HUMP_EI shaper \u548c shaper_freq = 60 Hz\u300150 Hz \u548c 40 Hz \u6253\u5370\u5e36\u6709 TUNING_TOWER \u7684\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u3002 \u5982\u679c\u6c92\u6709\u4e00\u500b\u6a21\u578b\u986f\u793a\u74b0\u7d0b\u7684\u6539\u9032\uff0c\u90a3\u9ebc\u5f88\u907a\u61be\uff0cinput shaper\u6280\u8853\u4f3c\u4e4e\u5c0d\u60a8\u7684\u60c5\u6cc1\u6c92\u6709\u5e6b\u52a9\u3002 \u5426\u5247\uff0c\u53ef\u80fd\u662f\u6240\u6709\u578b\u865f\u90fd\u6c92\u6709\u97ff\u9234\uff0c\u6216\u8005\u6709\u4e9b\u578b\u865f\u6709\u97ff\u9234\uff0c\u6709\u4e9b\u578b\u865f\u6c92\u6709\u97ff\u9234\u3002\u9078\u64c7\u983b\u7387\u6700\u9ad8\u7684\u6e2c\u8a66\u6a21\u578b\uff0c\u5728\u74b0\u7d0b\u65b9\u9762\u4ecd\u986f\u793a\u51fa\u826f\u597d\u7684\u6539\u9032\u3002\u4f8b\u5982\uff0c\u5982\u679c 40 Hz \u548c 50 Hz \u578b\u865f\u5e7e\u4e4e\u6c92\u6709\u74b0\u7d0b\uff0c\u800c 60 Hz \u578b\u865f\u5df2\u7d93\u986f\u793a\u66f4\u591a\u74b0\u7d0b\uff0c\u5247\u5805\u6301\u4f7f\u7528 50 Hz\u3002 \u73fe\u5728\u6aa2\u67e5 EI \u6574\u5f62\u5668\u5728\u60a8\u7684\u60c5\u6cc1\u4e0b\u662f\u5426\u8db3\u5920\u597d\u3002\u6839\u64da\u60a8\u9078\u64c7\u7684 2HUMP_EI \u6574\u5f62\u5668\u7684\u983b\u7387\u9078\u64c7 EI \u6574\u5f62\u5668\u983b\u7387\uff1a \u5c0d\u65bc 2HUMP_EI 60 Hz \u6574\u5f62\u5668\uff0c\u4f7f\u7528 shaper_freq = 50 Hz \u7684 EI \u6574\u5f62\u5668\u3002 \u5c0d\u65bc 2HUMP_EI 50 Hz \u6574\u5f62\u5668\uff0c\u4f7f\u7528 shaper_freq = 40 Hz \u7684 EI \u6574\u5f62\u5668\u3002 \u5c0d\u65bc 2HUMP_EI 40 Hz \u6574\u5f62\u5668\uff0c\u4f7f\u7528 shaper_freq = 33 Hz \u7684 EI \u6574\u5f62\u5668\u3002 \u73fe\u5728\u518d\u6253\u5370\u4e00\u6b21\u6e2c\u8a66\u6a21\u578b\uff0c\u904b\u884c SET_INPUT_SHAPER SHAPER_TYPE=EI SHAPER_FREQ_X=... SHAPER_FREQ_Y=... TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u63d0\u4f9b\u4e4b\u524d\u78ba\u5b9a\u7684 shaper_freq_x=... \u548c shaper_freq_y=...\u3002 \u5982\u679c EI shaper \u986f\u793a\u51fa\u8207 2HUMP_EI shaper \u975e\u5e38\u76f8\u4f3c\u7684\u826f\u597d\u7d50\u679c\uff0c\u5247\u5805\u6301\u4f7f\u7528 EI shaper \u548c\u4e4b\u524d\u78ba\u5b9a\u7684\u983b\u7387\uff0c\u5426\u5247\u4f7f\u7528\u5177\u6709\u76f8\u61c9\u983b\u7387\u7684 2HUMP_EI shaper\u3002\u5c07\u7d50\u679c\u6dfb\u52a0\u5230 printer.cfg \u4e2d\uff0c\u4f8b\u5982 [input_shaper] shaper_freq_x: 50 shaper_freq_y: 50 shaper_type: 2hump_ei \u4f7f\u7528 Selecting max_accel \u5206\u5340\u7e7c\u7e8c\u8abf\u6574\u3002 \u6545\u969c\u6392\u9664\u548c\u5e38\u898b\u554f\u984c\u89e3\u7b54 \u00b6 \u6211\u7121\u6cd5\u53ef\u9760\u5730\u6e2c\u91cf\u5171\u632f\u983b\u7387 \u00b6 \u9996\u5148\uff0c\u78ba\u4fdd\u6253\u5370\u6a5f\u4e0d\u662f\u97ff\u9234\u800c\u4e0d\u662f\u5176\u4ed6\u554f\u984c\u3002\u5982\u679c\u6e2c\u91cf\u7d50\u679c\u4e0d\u53ef\u9760\uff0c\u4f8b\u5982\uff0c\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\u4e0d\u7a69\u5b9a\uff0c\u5247\u53ef\u80fd\u610f\u5473\u8457\u6253\u5370\u6a5f\u5728\u540c\u4e00\u8ef8\u4e0a\u6709\u591a\u500b\u5171\u632f\u983b\u7387\u3002\u53ef\u4ee5\u5617\u8a66\u9075\u5faa Unreliable measurements of ringing frequencies \u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u8abf\u6574\u904e\u7a0b\uff0c\u4ecd\u7136\u53ef\u4ee5\u5f9einput shaper\u6280\u8853\u4e2d\u7372\u5f97\u4e00\u4e9b\u6771\u897f\u3002\u53e6\u4e00\u7a2e\u53ef\u80fd\u6027\u662f\u5b89\u88dd\u52a0\u901f\u5ea6\u8a08\uff0c[\u6e2c\u91cf] \u555f\u7528 [input_shaper] \u5f8c\uff0c\u6253\u5370\u90e8\u5206\u904e\u65bc\u5e73\u6ed1\uff0c\u7d30\u7bc0\u4e1f\u5931 \u00b6 \u6aa2\u67e5 \u9078\u64c7 max_accel \u90e8\u5206\u4e2d\u7684\u6ce8\u610f\u4e8b\u9805\u3002\u5982\u679c\u8ae7\u632f\u983b\u7387\u8f03\u4f4e\uff0c\u5247\u4e0d\u61c9\u8a2d\u7f6e\u904e\u9ad8\u7684 max_accel \u6216\u589e\u52a0 square_corner_velocity \u53c3\u6578\u3002\u6700\u597d\u9078\u64c7 MZV \u751a\u81f3 ZV input shaper \u800c\u4e0d\u662f EI\uff08\u6216 2HUMP_EI \u548c 3HUMP_EI \u6574\u5f62\u5668\uff09\u3002 \u6210\u529f\u6253\u5370\u4e00\u6bb5\u6642\u9593\u5f8c\u6c92\u6709\u74b0\u7d0b\uff0c\u5b83\u4f3c\u4e4e\u53c8\u56de\u4f86\u4e86 \u00b6 \u6709\u53ef\u80fd\u5728\u4e00\u6bb5\u6642\u9593\u5f8c\u5171\u632f\u983b\u7387\u767c\u751f\u4e86\u8b8a\u5316\u3002\u4f8b\u5982\u3002\u53ef\u80fd\u662f\u76ae\u5e36\u5f35\u529b\u767c\u751f\u4e86\u8b8a\u5316\uff08\u76ae\u5e36\u8b8a\u5f97\u66f4\u9b06\u4e86\uff09\u7b49\u3002\u6700\u597d\u6309\u7167 Ringing frequency \u90e8\u5206\u4e2d\u7684\u8aaa\u660e\u6aa2\u67e5\u4e26\u91cd\u65b0\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\uff0c\u4e26\u5728\u5fc5\u8981\u6642\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6. input shaper\u662f\u5426\u652f\u6301\u96d9\u6b65\u9032\u5323\u8a2d\u7f6e\uff1f \u00b6 \u6c92\u6709\u5c0d\u5e36\u6709input shaper\u7684\u96d9\u7b46\u67b6\u7684\u5c08\u9580\u652f\u6301\uff0c\u4f46\u9019\u4e26\u4e0d\u610f\u5473\u8457\u6b64\u8a2d\u7f6e\u4e0d\u8d77\u4f5c\u7528\u3002\u61c9\u8a72\u5c0d\u6bcf\u500b\u6258\u67b6\u904b\u884c\u5169\u6b21\u8abf\u8ae7\uff0c\u4e26\u7368\u7acb\u8a08\u7b97\u6bcf\u500b\u6258\u67b6\u7684 X \u8ef8\u548c Y \u8ef8\u7684\u74b0\u7d0b\u983b\u7387\u3002\u7136\u5f8c\u5c07\u6258\u67b6 0 \u7684\u503c\u653e\u5165 [input_shaper] \u90e8\u5206\uff0c\u4e26\u5728\u66f4\u6539\u6258\u67b6\u6642\u5373\u6642\u66f4\u6539\u503c\uff0c\u4f8b\u5982\u4f5c\u70ba\u4e00\u4e9b\u5b8f\u7684\u4e00\u90e8\u5206\uff1a SET_DUAL_CARRIAGE CARRIAGE=1 SET_INPUT_SHAPER SHAPER_FREQ_X=... SHAPER_FREQ_Y=... \u540c\u6a23\u7576\u5207\u63db\u56de\u6b65\u9032\u5323 0 \u6642\u3002 input_shaper \u6703\u5f71\u97ff\u6253\u5370\u6642\u9593\u55ce\uff1f \u00b6 \u4e0d\uff0c input_shaper \u529f\u80fd\u672c\u8eab\u5c0d\u6253\u5370\u6642\u9593\u5e7e\u4e4e\u6c92\u6709\u5f71\u97ff\u3002\u4f46\u662f\uff0c max_accel \u7684\u503c\u80af\u5b9a\u6703\u8d77\u4f5c\u7528\uff08\u5728 this section \u4e2d\u63cf\u8ff0\u4e86\u6b64\u53c3\u6578\u7684\u8abf\u6574\uff09\u3002 \u6280\u8853\u7d30\u7bc0 \u00b6 input shapers \u00b6 Klipper \u4e2d\u4f7f\u7528\u7684 input shaper\u76f8\u7576\u6a19\u6e96\uff0c\u53ef\u4ee5\u5728\u63cf\u8ff0\u76f8\u61c9\u6574\u5f62\u5668\u7684\u6587\u7ae0\u4e2d\u627e\u5230\u66f4\u6df1\u5165\u7684\u6982\u8ff0\u3002\u672c\u7bc0\u7c21\u8981\u6982\u8ff0\u4e86\u53d7\u652f\u6301\u7684input shaper\u7684\u4e00\u4e9b\u6280\u8853\u65b9\u9762\u3002\u4e0b\u8868\u986f\u793a\u4e86\u6bcf\u500b\u6574\u5f62\u5668\u7684\u4e00\u4e9b\uff08\u901a\u5e38\u662f\u8fd1\u4f3c\u7684\uff09\u53c3\u6578\u3002 Input shaper Shaper \u6642\u6bb5 \u6e1b\u632f 20 \u500d \uff085% \u632f\u52d5\u5bb9\u9650\uff09 \u6e1b\u632f 10 \u500d \uff0810% \u632f\u52d5\u5bb9\u9650\uff09 ZV 0.5 / shaper_freq N/A \u00b1 5% shaper_freq MZV 0.75 / shaper_freq \u00b1 4% shaper_freq -10%...+15% shaper_freq ZVD 1 / shaper_freq \u00b1 15% shaper_freq \u00b1 22% shaper_freq EI 1 / shaper_freq \u00b1 20% shaper_freq \u00b1 25% shaper_freq 2HUMP_EI 1.5 / shaper_freq \u00b1 35% shaper_freq \u00b1 40 shaper_freq 3HUMP_EI 2 / shaper_freq -45...+50% shaper_freq -50%...+55% shaper_freq \u95dc\u65bc\u6e1b\u632f\u7684\u8aaa\u660e\uff1a\u4e0a\u8868\u4e2d\u7684\u503c\u662f\u8fd1\u4f3c\u503c\u3002\u5982\u679c\u6253\u5370\u6a5f\u7684\u963b\u5c3c\u6bd4\u5c0d\u65bc\u6bcf\u500b\u8ef8\u90fd\u662f\u5df2\u77e5\u7684\uff0c\u90a3\u9ebc\u6574\u5f62\u5668\u53ef\u4ee5\u66f4\u7cbe\u78ba\u5730\u914d\u7f6e\uff0c\u7136\u5f8c\u5b83\u5c07\u5728\u66f4\u5bec\u7684\u983b\u7387\u7bc4\u570d\u5167\u6e1b\u5c11\u5171\u632f\u3002\u4f46\u662f\u963b\u5c3c\u6bd4\u901a\u5e38\u662f\u672a\u77e5\u7684\uff0c\u5982\u679c\u6c92\u6709\u7279\u6b8a\u7684\u8a2d\u5099\u5f88\u96e3\u4f30\u8a08\uff0c\u6240\u4ee5 Klipper \u9ed8\u8a8d\u4f7f\u7528 0.1 \u503c\uff0c\u9019\u662f\u4e00\u500b\u5f88\u597d\u7684\u7d9c\u5408\u503c\u3002\u8868\u4e2d\u7684\u983b\u7387\u7bc4\u570d\u6db5\u84cb\u4e86\u8a72\u503c\u9644\u8fd1\u7684\u8a31\u591a\u4e0d\u540c\u53ef\u80fd\u7684\u963b\u5c3c\u6bd4\uff08\u5927\u7d04\u5f9e 0.05 \u5230 0.2\uff09\u3002 \u53e6\u8acb\u6ce8\u610f\uff0cEI\u30012HUMP_EI \u548c 3HUMP_EI \u5df2\u8abf\u6574\u70ba\u5c07\u632f\u52d5\u964d\u4f4e\u5230 5%\uff0c\u56e0\u6b64 10% \u632f\u52d5\u5bb9\u9650\u7684\u503c\u50c5\u4f9b\u53c3\u8003\u3002 \u5982\u4f55\u4f7f\u7528\u6b64\u8868\uff1a Shaper \u6301\u7e8c\u6642\u9593\u6703\u5f71\u97ff\u96f6\u4ef6\u7684\u5e73\u6ed1\u5ea6 - \u5b83\u8d8a\u5927\uff0c\u96f6\u4ef6\u8d8a\u5e73\u6ed1\u3002\u9019\u7a2e\u4f9d\u8cf4\u6027\u4e0d\u662f\u7dda\u6027\u7684\uff0c\u4f46\u53ef\u4ee5\u8b93\u60a8\u4e86\u89e3\u5c0d\u65bc\u76f8\u540c\u983b\u7387\u54ea\u4e9b\u6574\u5f62\u5668\u66f4\u201c\u5e73\u6ed1\u201d\u3002\u5e73\u6ed1\u6392\u5e8f\u662f\u9019\u6a23\u7684\uff1aZV < MZV < ZVD \u2248 EI < 2HUMP_EI < 3HUMP_EI\u3002\u6b64\u5916\uff0c\u70ba\u6574\u5f62\u5668 2HUMP_EI \u548c 3HUMP_EI \u8a2d\u7f6e shaper_freq = \u5171\u632f\u983b\u7387\u5f88\u5c11\u5be6\u7528\uff08\u5b83\u5011\u61c9\u8a72\u7528\u65bc\u6e1b\u5c11\u591a\u500b\u983b\u7387\u7684\u632f\u52d5\uff09\u3002 \u4eba\u5011\u53ef\u4ee5\u4f30\u8a08\u6574\u5f62\u5668\u6e1b\u5c11\u632f\u52d5\u7684\u983b\u7387\u7bc4\u570d\u3002\u4f8b\u5982\uff0cshaper_freq = 35 Hz \u7684 MZV \u5c07\u983b\u7387 [33.6, 36.4] Hz \u7684\u632f\u52d5\u964d\u4f4e\u5230 5%\u3002 shaper_freq = 50 Hz \u7684 3HUMP_EI \u5728 [27.5, 75] Hz \u7bc4\u570d\u5167\u5c07\u632f\u52d5\u964d\u4f4e\u5230 5%\u3002 \u5982\u679c\u4ed6\u5011\u9700\u8981\u6e1b\u5c11\u591a\u500b\u983b\u7387\u7684\u632f\u52d5\uff0c\u53ef\u4ee5\u4f7f\u7528\u6b64\u8868\u4f86\u6aa2\u67e5\u4ed6\u5011\u61c9\u8a72\u4f7f\u7528\u54ea\u500b\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5728\u540c\u4e00\u8ef8\u4e0a\u6709 35 Hz \u548c 60 Hz \u7684\u5171\u632f\uff1a a) EI \u6574\u5f62\u5668\u9700\u8981 shaper_freq = 35 / (1 - 0.2) = 43.75 Hz\uff0c\u5b83\u5c07\u6e1b\u5c11\u5171\u632f\u76f4\u5230 43.75 * (1 + 0.2 ) = 52.5 Hz\uff0c\u56e0\u6b64\u9084\u4e0d\u5920\uff1b b) 2HUMP_EI shaper \u9700\u8981 shaper_freq = 35 / (1 - 0.35) = 53.85 Hz \u4e26\u4e14\u6703\u6e1b\u5c11\u632f\u52d5\u76f4\u5230 53.85 * (1 + 0.35) = 72.7 Hz - \u6240\u4ee5\u9019\u662f\u4e00\u500b\u53ef\u63a5\u53d7\u7684\u914d\u7f6e\u3002\u5c0d\u65bc\u7d66\u5b9a\u7684\u6574\u5f62\u5668\uff0c\u59cb\u7d42\u5617\u8a66\u4f7f\u7528\u76e1\u53ef\u80fd\u9ad8\u7684 shaper_freq\uff08\u53ef\u80fd\u6709\u4e00\u4e9b\u5b89\u5168\u9918\u91cf\uff0c\u56e0\u6b64\u5728\u672c\u4f8b\u4e2d shaper_freq \u2248 50-52 Hz \u6548\u679c\u6700\u4f73\uff09\uff0c\u4e26\u5617\u8a66\u4f7f\u7528\u6574\u5f62\u5668\u6301\u7e8c\u6642\u9593\u76e1\u53ef\u80fd\u77ed\u7684\u6574\u5f62\u5668\u3002 \u5982\u679c\u9700\u8981\u6e1b\u5c11\u5e7e\u500b\u975e\u5e38\u4e0d\u540c\u7684\u983b\u7387\uff08\u4f8b\u5982 30 Hz \u548c 100 Hz\uff09\u7684\u632f\u52d5\uff0c\u4ed6\u5011\u53ef\u80fd\u6703\u767c\u73fe\u4e0a\u8868\u6c92\u6709\u63d0\u4f9b\u8db3\u5920\u7684\u4fe1\u606f\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u4f7f\u7528\u66f4\u9748\u6d3b\u7684 scripts/graph_shaper.py \u8173\u672c\u53ef\u80fd\u6703\u66f4\u5e78\u904b\u3002","title":"\u5171\u632f\u88dc\u511f"},{"location":"Resonance_Compensation.html#_1","text":"Klipper\u652f\u63f4Input Shaper\u6280\u8853 -\u4e00\u7a2e\u53ef\u4ee5\u7528\u4f86\u6e1b\u5c11\u5217\u5370\u4ef6\u4e0a\u74b0\u7d0b\uff08\u4e5f\u88ab\u7a31\u70baecho\u3001ghosting\u6216ripping\uff09\u7684\u6280\u8853\u3002\u632f\u7d0b\u662f\u4e00\u7a2e\u8868\u9762\u6253\u5370\u7f3a\u9677\uff0c\u901a\u5e38\u5728\u908a\u89d2\u7684\u4f4d\u7f6e\u8868\u9762\u91cd\u8907\u51fa\u73fe\uff0c\u6210\u70ba\u4e00\u7a2e\u5fae\u5999\u7684\u6c34\u6ce2\u72c0\u7d0b\u8def\uff1a | | | \u632f\u7d0b\u662f\u7531\u5370\u8868\u6a5f\u5728\u5feb\u901f\u6539\u8b8a\u5217\u5370\u65b9\u5411\u6642\u6a5f\u68b0\u632f\u52d5\u5f15\u8d77\u7684\u3002\u8acb\u6ce8\u610f\uff0c\u632f\u7d0b\u901a\u5e38\u6e90\u65bc\u6a5f\u68b0\u65b9\u9762\u7684\u554f\u984c\uff1a\u5370\u8868\u6a5f\u6846\u67b6\u5f37\u5ea6\u4e0d\u8db3\uff0c\u76ae\u5e36\u4e0d\u5920\u7dca\u6216\u592a\u6709\u5f48\u6027\uff0c\u6a5f\u68b0\u90e8\u4ef6\u7684\u5c0d\u6e96\u554f\u984c\uff0c\u79fb\u52d5\u8cea\u91cf\u5927\u7b49\u3002\u5982\u679c\u53ef\u80fd\u7684\u8a71\uff0c\u61c9\u9996\u5148\u6aa2\u67e5\u548c\u89e3\u6c7a\u9019\u4e9b\u554f\u984c\u3002 Input Shaping \u662f\u4e00\u7a2e\u958b\u74b0\u63a7\u5236\u6280\u8853\uff0c\u5b83\u901a\u904e\u7522\u751f\u4e00\u500b\u63a7\u5236\u8a0a\u865f\u4f86\u62b5\u6d88\u81ea\u8eab\u7684\u632f\u52d5\u3002Input Shaper\u5728\u555f\u7528\u4e4b\u524d\u9700\u8981\u9032\u884c\u4e00\u4e9b\u8abf\u6574\u548c\u6e2c\u91cf\u3002\u9664\u4e86\u632f\u7d0b\u4e4b\u5916\uff0cinput shaper\u901a\u5e38\u53ef\u4ee5\u6e1b\u5c11\u5370\u8868\u6a5f\u7684\u632f\u52d5\u548c\u6416\u6643\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8 Trinamic \u6b65\u9032\u9a45\u52d5\u5668\u7684StealthChop\u6a21\u5f0f\u7684\u53ef\u9760\u6027\u3002","title":"\u5171\u632f\u88dc\u511f"},{"location":"Resonance_Compensation.html#_2","text":"\u57fa\u672c\u8abf\u8a66\u9700\u8981\u901a\u904e\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u4f86\u6e2c\u91cf\u6253\u5370\u6a5f\u7684\u74b0\u7d0b\u983b\u7387\u3002 \u5c07\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u5207\u7247\uff0c\u8a72\u6a21\u578b\u53ef\u4ee5\u5728 docs/prints/ringing_tower.stl \u4e2d\u627e\u5230\uff0c\u5728\u5207\u7247\u8edf\u9ad4\u4e2d\uff1a \u5efa\u8b70\u7684\u5c64\u9ad8\u70ba 0.2 \u6216 0.25 \u6beb\u7c73\u3002 \u586b\u5145\u548c\u9802\u5c64\u5c64\u6578\u53ef\u4ee5\u88ab\u8a2d\u5b9a\u70ba0\u3002 \u4f7f\u7528 1-2 \u5468\u9577\uff0c\u6216\u8005\u4f7f\u7528 1-2 \u6beb\u7c73\u5e95\u5ea7\u7684\u5149\u6ed1\u82b1\u74f6\u6a21\u5f0f\u66f4\u597d\u3002 \u5916\u90e8 \u5468\u908a\u4f7f\u7528\u8db3\u5920\u9ad8\u7684\u901f\u5ea6\uff0c\u5927\u7d04 80-100 \u6beb\u7c73/\u79d2\u3002 \u78ba\u4fdd\u6700\u77ed\u7684\u5c64\u8017\u6642 \u6700\u591a\u662f 3\u79d2\u3002 \u78ba\u4fdd\u5207\u7247\u8edf\u9ad4\u4e2d\u7981\u7528\u4efb\u4f55\"\u52d5\u614b\u52a0\u901f\u5ea6\u63a7\u5236\"\u529f\u80fd\u3002 \u4e0d\u8981\u8f49\u52d5\u6a21\u578b\u3002\u6a21\u578b\u7684\u80cc\u9762\u6a19\u8a18\u4e86X\u548cY\u3002\u6ce8\u610f\u9019\u4e9b\u6a19\u8a18\u8207\u5370\u8868\u6a5f\u8ef8\u7dda\u65b9\u5411\u4e0d\u76f8\u540c--\u9019\u4e0d\u662f\u4e00\u500b\u932f\u8aa4\u3002\u9019\u4e9b\u6a19\u8a18\u53ef\u4ee5\u5728\u4ee5\u5f8c\u7684\u8abf\u6574\u904e\u7a0b\u4e2d\u4f5c\u70ba\u53c3\u8003\uff0c\u56e0\u70ba\u5b83\u5011\u986f\u793a\u4e86\u6e2c\u91cf\u7d50\u679c\u5c0d\u61c9\u7684\u8ef8\u3002","title":"\u8abf\u6574"},{"location":"Resonance_Compensation.html#_3","text":"\u9996\u5148\uff0c\u6e2c\u91cf \u632f\u7d0b\u983b\u7387 \u3002 \u5982\u679c square_corner_velocity \u53c3\u6578\u5df2\u66f4\u6539\uff0c\u8acb\u5c07\u5176\u6062\u5fa9\u70ba 5.0\u3002\u4f7f\u7528input shaper\u6642\u4e0d\u5efa\u8b70\u589e\u52a0\u5b83\uff0c\u56e0\u70ba\u5b83\u6703\u5c0e\u81f4\u96f6\u4ef6\u66f4\u5e73\u6ed1 - \u6700\u597d\u4f7f\u7528\u66f4\u9ad8\u7684\u52a0\u901f\u5ea6\u503c\u3002 \u901a\u904e\u767c\u51fa\u4ee5\u4e0b\u547d\u4ee4\u589e\u52a0 max_accel_to_decel \uff1a SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 \u7981\u7528Pressure Advance\uff1a SET_PRESSURE_ADVANCE ADVANCE=0 \u5982\u679c\u4f60\u5df2\u7d93\u5c07 [input_shaper] \u5206\u6bb5\u65b0\u589e\u5230print.cfg\u4e2d\uff0c\u57f7\u884c SET_INPUT_SHAPER SHAPER_FREQ_X=0 SHAPER_FREQ_Y=0 \u547d\u4ee4\u3002\u5982\u679c\u4f60\u5f97\u5230\"\u672a\u77e5\u547d\u4ee4\"\u932f\u8aa4\uff0c\u6b64\u6642\u4f60\u53ef\u4ee5\u5b89\u5168\u5730\u5ffd\u7565\u5b83\uff0c\u7e7c\u7e8c\u9032\u884c\u6e2c\u91cf\u3002 \u57f7\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u57fa\u672c\u4e0a\uff0c\u6211\u5011\u5617\u8a66\u901a\u904e\u8a2d\u7f6e\u4e0d\u540c\u7684\u5927\u52a0\u901f\u5ea6\u503c\u4f86\u4f7f\u74b0\u7d0b\u66f4\u52a0\u660e\u986f\u3002\u6b64\u547d\u4ee4\u5c07\u5f9e 1500 mm/sec^2 \u958b\u59cb\u6bcf 5 mm \u589e\u52a0\u52a0\u901f\u5ea6\uff1a1500 mm/sec^2\u30012000 mm/sec^2\u30012500 mm/sec^2 \u7b49\u7b49\uff0c\u76f4\u5230 7000 mm/sec^2\u6700\u5f8c\u4e00\u500b\u5340\u57df\u3002 \u5217\u5370\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5207\u7247\u7684\u6e2c\u8a66\u6a21\u578b\u3002 \u5982\u679c\u632f\u7d0b\u6e05\u6670\u53ef\u898b\uff0c\u4e26\u4e14\u767c\u73fe\u52a0\u901f\u5ea6\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u4f86\u8aaa\u592a\u9ad8\u4e86\uff08\u5982\u5370\u8868\u6a5f\u6296\u52d5\u592a\u53b2\u5bb3\u6216\u958b\u59cb\u4e1f\u6b65\uff09\uff0c\u4f60\u53ef\u4ee5\u63d0\u524d\u505c\u6b62\u5217\u5370\u3002 \u4f7f\u7528\u6a21\u578b\u80cc\u9762\u7684 X \u548c Y \u6a19\u8a18\u4f5c\u70ba\u53c3\u8003\u3002\u5e36\u6709 X \u6a19\u8a18\u7684\u4e00\u5074\u7684\u6e2c\u91cf\u503c\u61c9\u7528\u65bc X \u8ef8 \u914d\u7f6e \uff0c\u800c Y \u6a19\u8a18 - \u7528\u65bc Y \u8ef8\u914d\u7f6e\u3002\u5728\u5e36\u6709 X \u6a19\u8a18\u7684\u96f6\u4ef6\u4e0a\uff0c\u5728\u69fd\u53e3\u9644\u8fd1\u6e2c\u91cf\u5e7e\u6b21\u632f\u52d5\u4e4b\u9593\u7684\u8ddd\u96e2 D \uff08\u4ee5\u6beb\u7c73\u70ba\u55ae\u4f4d\uff09\uff0c\u6700\u597d\u8df3\u904e\u7b2c\u4e00\u6b21\u6216\u5169\u6b21\u632f\u52d5\u3002\u70ba\u4e86\u66f4\u5bb9\u6613\u5730\u6e2c\u91cf\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\uff0c\u8acb\u5148\u6a19\u8a18\u632f\u76ea\uff0c\u7136\u5f8c\u7528\u5c3a\u5b50\u6216\u5361\u5c3a\u6e2c\u91cf\u6a19\u8a18\u4e4b\u9593\u7684\u8ddd\u96e2\uff1a| | | \u8a08\u7b97\u6e2c\u91cf\u8ddd\u96e2 D \u5c0d\u61c9\u7684\u632f\u76ea\u6b21\u6578 N \u3002\u5982\u679c\u60a8\u4e0d\u78ba\u5b9a\u5982\u4f55\u8a08\u7b97\u632f\u76ea\u6b21\u6578\uff0c\u8acb\u53c3\u8003\u4e0a\u5716\uff0c\u5176\u4e2d\u986f\u793a N = 6 \u6b21\u632f\u76ea\u3002 \u8a08\u7b97X\u8ef8\u74b0\u7d0b\u983b\u7387\u70ba V \u00b7 N / D (Hz)\uff0c\u5176\u4e2d V \u662f\u5916\u5468\u7684\u901f\u5ea6 (mm/sec)\u3002\u5c0d\u65bc\u4e0a\u9762\u7684\u793a\u4f8b\uff0c\u6211\u5011\u6a19\u8a18\u4e86 6 \u500b\u632f\u76ea\uff0c\u4e26\u4e14\u6e2c\u8a66\u4ee5 100 \u6beb\u7c73/\u79d2\u7684\u901f\u5ea6\u6253\u5370\uff0c\u56e0\u6b64\u983b\u7387\u70ba 100 * 6 / 12.14 \u2248 49.4 Hz\u3002 \u5c0d Y \u6a19\u8a18\u4e5f\u57f7\u884c (8) - (10)\u3002 \u8acb\u6ce8\u610f\uff0c\u6e2c\u8a66\u6253\u5370\u4e0a\u7684\u74b0\u7d0b\u61c9\u9075\u5faa\u5f4e\u66f2\u51f9\u69fd\u7684\u5716\u6848\uff0c\u5982\u4e0a\u5716\u6240\u793a\u3002\u5982\u679c\u4e0d\u662f\uff0c\u90a3\u9ebc\u9019\u500b\u7f3a\u9677\u4e26\u4e0d\u662f\u771f\u6b63\u7684\u74b0\u7d0b\uff0c\u800c\u662f\u6709\u4e0d\u540c\u7684\u8d77\u6e90\u2014\u2014\u6a5f\u68b0\u554f\u984c\u6216\u64e0\u51fa\u6a5f\u554f\u984c\u3002\u5728\u555f\u7528\u548cinput shapers\u4e4b\u524d\uff0c\u61c9\u8a72\u5148\u4fee\u5fa9\u5b83\u3002 \u5982\u679c\u6e2c\u91cf\u7d50\u679c\u4e0d\u53ef\u9760\uff0c\u4f8b\u5982\uff0c\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\u4e0d\u7a69\u5b9a\uff0c\u5247\u53ef\u80fd\u610f\u5473\u8457\u6253\u5370\u6a5f\u5728\u540c\u4e00\u8ef8\u4e0a\u6709\u591a\u500b\u5171\u632f\u983b\u7387\u3002\u53ef\u4ee5\u5617\u8a66\u9075\u5faa \u4e0d\u53ef\u9760\u7684\u74b0\u7d0b\u983b\u7387\u6e2c\u91cf \u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u8abf\u6574\u904e\u7a0b\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u5f9einput shaper\u6280\u8853\u4e2d\u7372\u5f97\u4e00\u4e9b\u6771\u897f\u3002 \u74b0\u7d0b\u983b\u7387\u53ef\u80fd\u53d6\u6c7a\u65bc\u6a21\u578b\u5728\u69cb\u5efa\u677f\u5167\u7684\u4f4d\u7f6e\u548c Z \u9ad8\u5ea6\uff0c \u5c24\u5176\u662f\u5728 \u4e09\u89d2\u6d32\u6253\u5370\u6a5f\u4e0a \uff1b\u60a8\u53ef\u4ee5\u6aa2\u67e5\u662f\u5426\u5728\u6e2c\u8a66\u6a21\u578b\u5169\u5074\u7684\u4e0d\u540c\u4f4d\u7f6e\u548c\u4e0d\u540c\u9ad8\u5ea6\u770b\u5230\u983b\u7387\u5dee\u7570\u3002\u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u60a8\u53ef\u4ee5\u8a08\u7b97 X \u8ef8\u548c Y \u8ef8\u4e0a\u7684\u5e73\u5747\u74b0\u7d0b\u983b\u7387\u3002 \u5982\u679c\u6e2c\u5f97\u7684\u74b0\u7d0b\u983b\u7387\u975e\u5e38\u4f4e\uff08\u4f4e\u65bc\u5927\u7d04 20-25 Hz\uff09\uff0c\u90a3\u9ebc\u5728\u9032\u884c\u9032\u4e00\u6b65\u7684input shaper\u4e4b\u524d\uff0c\u6700\u597d\u6295\u8cc7\u65bc\u52a0\u5f37\u6253\u5370\u6a5f\u6216\u6e1b\u5c11\u79fb\u52d5\u8cea\u91cf\uff08\u53d6\u6c7a\u65bc\u60a8\u7684\u60c5\u6cc1\u9069\u7528\u7684\u60c5\u6cc1\uff09\u8abf\u6574\uff0c\u7136\u5f8c\u91cd\u65b0\u6e2c\u91cf\u983b\u7387\u3002\u5c0d\u65bc\u8a31\u591a\u6d41\u884c\u7684\u6253\u5370\u6a5f\u578b\u865f\uff0c\u901a\u5e38\u5df2\u7d93\u6709\u4e00\u4e9b\u53ef\u7528\u7684\u89e3\u6c7a\u65b9\u6848\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u5c0d\u6253\u5370\u6a5f\u9032\u884c\u4e86\u5f71\u97ff\u79fb\u52d5\u8cea\u91cf\u6216\u6539\u8b8a\u7cfb\u7d71\u525b\u5ea6\u7684\u66f4\u6539\uff0c\u5247\u74b0\u7d0b\u983b\u7387\u53ef\u80fd\u6703\u767c\u751f\u8b8a\u5316\uff0c\u4f8b\u5982\uff1a \u5728\u6539\u8b8a\u5176\u8cea\u91cf\u7684\u5de5\u5177\u982d\u4e0a\u5b89\u88dd\u3001\u79fb\u9664\u6216\u66f4\u63db\u4e86\u4e00\u4e9b\u5de5\u5177\uff0c\u4f8b\u5982\u5b89\u88dd\u4e86\u7528\u65bc\u76f4\u63a5\u64e0\u51fa\u6a5f\u6216\u65b0\u71b1\u7aef\u7684\u65b0\uff08\u66f4\u91cd\u6216\u66f4\u8f15\uff09\u6b65\u9032\u96fb\u6a5f\uff0c\u6dfb\u52a0\u4e86\u5e36\u7ba1\u9053\u7684\u91cd\u578b\u98a8\u6247\u7b49\u3002 \u76ae\u5e36\u6536\u7dca\u4e86\u3002 \u5b89\u88dd\u4e86\u4e00\u4e9b\u589e\u52a0\u6846\u67b6\u525b\u5ea6\u7684\u63d2\u4ef6\u3002 \u5728\u62cb\u5e8a\u6253\u5370\u6a5f\u4e0a\u5b89\u88dd\u4e0d\u540c\u7684\u5e8a\uff0c\u6216\u6dfb\u52a0\u73bb\u7483\u7b49\u3002 \u5982\u679c\u9032\u884c\u4e86\u6b64\u985e\u66f4\u6539\uff0c\u6700\u597d\u81f3\u5c11\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\u4ee5\u67e5\u770b\u5b83\u5011\u662f\u5426\u5df2\u66f4\u6539\u3002","title":"\u632f\u7d0b\u983b\u7387"},{"location":"Resonance_Compensation.html#input-shaper","text":"\u5728\u6e2c\u91cf X \u548c Y \u8ef8\u7684\u74b0\u7d0b\u983b\u7387\u5f8c\uff0c\u60a8\u53ef\u4ee5\u5c07\u4ee5\u4e0b\u90e8\u5206\u6dfb\u52a0\u5230\u60a8\u7684 printer.cfg \u4e2d\uff1a [input_shaper] shaper_freq_x: ... # frequency for the X mark of the test model shaper_freq_y: ... # frequency for the Y mark of the test model \u5c0d\u65bc\u4e0a\u9762\u7684\u793a\u4f8b\uff0c\u6211\u5011\u5f97\u5230 shaper_freq_x/y = 49.4\u3002","title":"Input shaper\u914d\u7f6e"},{"location":"Resonance_Compensation.html#input-shaper_1","text":"Klipper \u652f\u6301\u591a\u7a2e input shaper\u3002\u5b83\u5011\u5c0d\u78ba\u5b9a\u5171\u632f\u983b\u7387\u7684\u8aa4\u5dee\u7684\u654f\u611f\u6027\u4ee5\u53ca\u5b83\u5011\u5728\u6253\u5370\u90e8\u4ef6\u4e2d\u5f15\u8d77\u7684\u5e73\u6ed1\u7a0b\u5ea6\u4e0d\u540c\u3002\u6b64\u5916\uff0c\u50cf 2HUMP_EI \u548c 3HUMP_EI \u9019\u6a23\u7684\u4e00\u4e9b\u6574\u5f62\u5668\u901a\u5e38\u4e0d\u61c9\u8a72\u8207 shaper_freq = \u5171\u632f\u983b\u7387\u4e00\u8d77\u4f7f\u7528\u2014\u2014\u5b83\u5011\u662f\u5f9e\u4e0d\u540c\u7684\u8003\u616e\u4f86\u914d\u7f6e\u7684\uff0c\u4ee5\u4e00\u6b21\u6e1b\u5c11\u591a\u500b\u5171\u632f\u3002 \u5c0d\u65bc\u5927\u591a\u6578\u6253\u5370\u6a5f\uff0c\u53ef\u4ee5\u63a8\u85a6 MZV \u6216 EI \u6574\u5f62\u5668\u3002\u672c\u7bc0\u63cf\u8ff0\u4e86\u5728\u5b83\u5011\u4e4b\u9593\u9032\u884c\u9078\u64c7\u7684\u6e2c\u8a66\u904e\u7a0b\uff0c\u4e26\u78ba\u5b9a\u4e86\u4e00\u4e9b\u5176\u4ed6\u76f8\u95dc\u53c3\u6578\u3002 \u6253\u5370\u74b0\u5f62\u6e2c\u8a66\u6a21\u578b\u5982\u4e0b\uff1a \u91cd\u555f\u56fa\u4ef6\uff1a RESTART \u6e96\u5099\u6e2c\u8a66\uff1a SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 \u7981\u7528Pressure Advance\uff1a SET_PRESSURE_ADVANCE ADVANCE=0 \u57f7\u884c\uff1a SET_INPUT_SHAPER SHAPER_TYPE=MZV \u57f7\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u5217\u5370\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5207\u7247\u7684\u6e2c\u8a66\u6a21\u578b\u3002 \u5982\u679c\u6b64\u6642\u60a8\u6c92\u6709\u770b\u5230\u74b0\u7d0b\uff0c\u5247\u53ef\u4ee5\u63a8\u85a6\u4f7f\u7528 MZV \u6574\u5f62\u5668\u3002 \u5982\u679c\u60a8\u78ba\u5be6\u770b\u5230\u4e00\u4e9b\u74b0\u7d0b\uff0c\u8acb\u4f7f\u7528 \u74b0\u7d0b\u983b\u7387 \u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u6b65\u9a5f (8)-(10) \u91cd\u65b0\u6e2c\u91cf\u983b\u7387\u3002\u5982\u679c\u983b\u7387\u8207\u60a8\u4e4b\u524d\u7372\u5f97\u7684\u503c\u986f\u8457\u4e0d\u540c\uff0c\u5247\u9700\u8981\u66f4\u8907\u96dc\u7684input shaper\u914d\u7f6e\u3002\u60a8\u53ef\u4ee5\u53c3\u8003 Choosing input shaper \u90e8\u5206\u7684\u6280\u8853\u7d30\u7bc0\u3002\u5426\u5247\uff0c\u7e7c\u7e8c\u4e0b\u4e00\u6b65\u3002 \u73fe\u5728\u5617\u8a66 EI input shaper\u3002\u8981\u5617\u8a66\u5b83\uff0c\u8acb\u5f9e\u4e0a\u9762\u91cd\u8907\u6b65\u9a5f (1)-(6)\uff0c\u4f46\u5728\u6b65\u9a5f 4 \u4e2d\u57f7\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a SET_INPUT_SHAPER SHAPER_TYPE=EI \u3002 \u4f7f\u7528 MZV \u548c EI input shaper\u6bd4\u8f03\u5169\u500b\u6253\u5370\u3002\u5982\u679c EI \u986f\u793a\u51fa\u660e\u986f\u512a\u65bc MZV \u7684\u7d50\u679c\uff0c\u8acb\u4f7f\u7528 EI \u6574\u5f62\u5668\uff0c\u5426\u5247\u66f4\u559c\u6b61 MZV\u3002\u8acb\u6ce8\u610f\uff0cEI shaper \u5c07\u4f7f\u6253\u5370\u90e8\u4ef6\u66f4\u52a0\u5e73\u6ed1\uff08\u6709\u95dc\u8a73\u7d30\u4fe1\u606f\uff0c\u8acb\u53c3\u95b1\u4e0b\u4e00\u7bc0\uff09\u3002\u5c07 shaper_type: mzv \uff08\u6216 ei\uff09\u53c3\u6578\u6dfb\u52a0\u5230 [input_shaper] \u90e8\u5206\uff0c\u4f8b\u5982\uff1a [input_shaper] shaper_freq_x: ... shaper_freq_y: ... shaper_type: mzv \u95dc\u65bc\u6574\u5f62\u5668\u9078\u64c7\u7684\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9805\uff1a EI shaper \u53ef\u80fd\u66f4\u9069\u5408\u65bc\u62cb\u5e8a\u6253\u5370\u6a5f\uff08\u5982\u679c\u5171\u632f\u983b\u7387\u548c\u7531\u6b64\u7522\u751f\u7684\u5e73\u6ed1\u5141\u8a31\uff09\uff1a\u96a8\u8457\u66f4\u591a\u7684\u7d30\u7d72\u6c89\u7a4d\u5728\u79fb\u52d5\u5e8a\u4e0a\uff0c\u5e8a\u7684\u8cea\u91cf\u6703\u589e\u52a0\uff0c\u5171\u632f\u983b\u7387\u6703\u964d\u4f4e\u3002\u7531\u65bc EI \u6574\u5f62\u5668\u5c0d\u5171\u632f\u983b\u7387\u8b8a\u5316\u66f4\u52a0\u7a69\u5065\uff0c\u56e0\u6b64\u5728\u6253\u5370\u5927\u578b\u96f6\u4ef6\u6642\u53ef\u80fd\u6703\u66f4\u597d\u5730\u5de5\u4f5c\u3002 \u7531\u65bc\u4e09\u89d2\u6d32\u6a5f\u578b\u7684\u6027\u8cea\uff0c\u5171\u632f\u983b\u7387\u5728\u69cb\u5efa\u9ad4\u7a4d\u7684\u4e0d\u540c\u90e8\u5206\u53ef\u80fd\u6703\u6709\u5f88\u5927\u5dee\u7570\u3002\u56e0\u6b64\uff0cEI shaper \u53ef\u80fd\u6bd4 MZV \u6216 ZV \u66f4\u9069\u5408 delta \u6253\u5370\u6a5f\uff0c\u61c9\u8003\u616e\u4f7f\u7528\u3002\u5982\u679c\u5171\u632f\u983b\u7387\u8db3\u5920\u5927\uff08\u8d85\u904e 50-60 Hz\uff09\uff0c\u90a3\u9ebc\u751a\u81f3\u53ef\u4ee5\u5617\u8a66\u6e2c\u8a66 2HUMP_EI \u6574\u5f62\u5668\uff08\u901a\u904e\u4f7f\u7528 SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI \u904b\u884c\u4e0a\u9762\u5efa\u8b70\u7684\u6e2c\u8a66\uff09\uff0c\u4f46\u8acb\u6aa2\u67e5 \u4e0b\u9762\u7684\u90e8\u5206 \u5728\u555f\u7528\u5b83\u4e4b\u524d\u3002","title":"\u9078\u64c7 input shaper"},{"location":"Resonance_Compensation.html#max_accel","text":"\u60a8\u61c9\u8a72\u5c0d\u5f9e\u4e0a\u4e00\u6b65\u4e2d\u9078\u64c7\u7684\u6574\u5f62\u5668\u9032\u884c\u6253\u5370\u6e2c\u8a66\uff08\u5982\u679c\u6c92\u6709\uff0c\u8acb\u6253\u5370\u4f7f\u7528 \u5efa\u8b70\u53c3\u6578 \u5207\u7247\u7684\u6e2c\u8a66\u6a21\u578b\uff0c\u7981\u7528\u58d3\u529b\u63d0\u524d SET_PRESSURE_ADVANCE ADVANCE=0 \u4e26\u4f7f\u7528\u8abf\u8ae7\u5854\u555f\u7528\u70ba TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \uff09\u3002\u8acb\u6ce8\u610f\uff0c\u5728\u975e\u5e38\u9ad8\u7684\u52a0\u901f\u5ea6\u4e0b\uff0c\u53d6\u6c7a\u65bc\u5171\u632f\u983b\u7387\u548c\u60a8\u9078\u64c7\u7684 input shaper\uff08\u4f8b\u5982\uff0cEI \u6574\u5f62\u5668\u6bd4 MZV \u7522\u751f\u66f4\u591a\u7684\u5e73\u6ed1\uff09\uff0c input shaper\u53ef\u80fd\u6703\u5c0e\u81f4\u96f6\u4ef6\u904e\u5ea6\u5e73\u6ed1\u548c\u5713\u5316\u3002\u56e0\u6b64\uff0c\u61c9\u8a72\u9078\u64c7 max_accel \u4ee5\u9632\u6b62\u9019\u7a2e\u60c5\u6cc1\u767c\u751f\u3002\u53e6\u4e00\u500b\u53ef\u80fd\u5f71\u97ff\u5e73\u6ed1\u7684\u53c3\u6578\u662f\u201csquare_corner_velocity\u201d\uff0c\u56e0\u6b64\u4e0d\u5efa\u8b70\u5c07\u5176\u589e\u52a0\u5230\u9ed8\u8a8d\u7684 5 \u6beb\u7c73/\u79d2\u4ee5\u4e0a\uff0c\u4ee5\u9632\u6b62\u589e\u52a0\u5e73\u6ed1\u3002 \u70ba\u4e86\u9078\u64c7\u5408\u9069\u7684 max_accel \u503c\uff0c\u8acb\u6aa2\u67e5\u6240\u9078 input shaper \u7684\u6a21\u578b\u3002\u9996\u5148\uff0c\u8a18\u4e0b\u52a0\u901f\u5ea6\u74b0\u7d0b\u4ecd\u7136\u5f88\u5c0f\u7684\u60c5\u6cc1\u2014\u2014\u60a8\u5c0d\u6b64\u611f\u5230\u6eff\u610f\u3002 \u63a5\u4e0b\u4f86\uff0c\u6aa2\u67e5\u5e73\u6ed1\u3002\u70ba\u4e86\u89e3\u6c7a\u9019\u500b\u554f\u984c\uff0c\u6e2c\u8a66\u6a21\u578b\u5728\u7246\u4e0a\u6709\u4e00\u500b\u5c0f\u9593\u9699\uff080.15 \u6beb\u7c73\uff09\uff1a \u96a8\u8457\u52a0\u901f\u5ea6\u7684\u589e\u52a0\uff0c\u5e73\u6ed1\u5ea6\u4e5f\u6703\u589e\u52a0\uff0c\u6253\u5370\u4e2d\u7684\u5be6\u969b\u9593\u9699\u4e5f\u6703\u64f4\u5927\uff1a \u5728\u9019\u5f35\u5716\u7247\u4e2d\uff0c\u52a0\u901f\u5ea6\u5f9e\u5de6\u5230\u53f3\u589e\u52a0\uff0c\u9593\u9699\u5f9e 3500 mm/sec^2\uff08\u5de6\u8d77\u7b2c 5 \u500b\u6ce2\u6bb5\uff09\u958b\u59cb\u589e\u52a0\u3002\u56e0\u6b64\uff0c\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0cmax_accel = 3000 (mm/sec^2) \u7684\u826f\u597d\u503c\u53ef\u4ee5\u907f\u514d\u904e\u5ea6\u5e73\u6ed1\u3002 \u8acb\u6ce8\u610f\u5728\u60a8\u7684\u6e2c\u8a66\u6253\u5370\u4e2d\u9593\u9699\u4ecd\u7136\u975e\u5e38\u5c0f\u6642\u7684\u52a0\u901f\u5ea6\u3002\u5982\u679c\u60a8\u770b\u5230\u51f8\u8d77\uff0c\u4f46\u58c1\u4e0a\u6839\u672c\u6c92\u6709\u9593\u9699\uff0c\u5373\u4f7f\u5728\u9ad8\u52a0\u901f\u5ea6\u4e0b\uff0c\u4e5f\u53ef\u80fd\u662f\u7531\u65bc\u7981\u7528\u4e86\u58d3\u529b\u63a8\u9032\uff0c\u5c24\u5176\u662f\u5728\u9b91\u767b\u64e0\u51fa\u6a5f\u4e0a\u3002\u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u60a8\u53ef\u80fd\u9700\u8981\u5728\u555f\u7528 PA \u7684\u60c5\u6cc1\u4e0b\u91cd\u8907\u6253\u5370\u3002\u9019\u4e5f\u53ef\u80fd\u662f\u7531\u65bc\u71c8\u7d72\u6d41\u91cf\u6821\u6e96\u932f\u8aa4\uff08\u904e\u9ad8\uff09\u9020\u6210\u7684\uff0c\u56e0\u6b64\u6700\u597d\u4e5f\u6aa2\u67e5\u4e00\u4e0b\u3002 \u5f9e\u5169\u500b\u52a0\u901f\u5ea6\u503c\uff08\u4f86\u81ea\u74b0\u7d0b\u548c\u5e73\u6ed1\uff09\u4e2d\u9078\u64c7\u6700\u5c0f\u503c\uff0c\u4e26\u5c07\u5176\u4f5c\u70ba max_accel \u653e\u5165printer.cfg\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5373\u4f7f\u5728\u8f03\u4f4e\u7684\u52a0\u901f\u5ea6\u4e0b\uff0cEI \u6574\u5f62\u5668\u4e5f\u53ef\u80fd\u6703\u5c0e\u81f4\u904e\u5ea6\u5e73\u6ed1\u2014\u2014\u5c24\u5176\u662f\u5728\u4f4e\u74b0\u7d0b\u983b\u7387\u4e0b\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0cMZV \u53ef\u80fd\u662f\u66f4\u597d\u7684\u9078\u64c7\uff0c\u56e0\u70ba\u5b83\u53ef\u80fd\u5141\u8a31\u66f4\u9ad8\u7684\u52a0\u901f\u5ea6\u503c\u3002 \u5728\u975e\u5e38\u4f4e\u7684\u74b0\u7d0b\u983b\u7387\uff08~25 Hz \u53ca\u4ee5\u4e0b\uff09\u4e0b\uff0c\u5373\u4f7f\u662f MZV \u6574\u5f62\u5668\u4e5f\u53ef\u80fd\u6703\u7522\u751f\u904e\u591a\u7684\u5e73\u6ed1\u3002\u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u60a8\u4e5f\u53ef\u4ee5\u5617\u8a66\u4f7f\u7528 ZV \u6574\u5f62\u5668\u91cd\u8907 Choosing input shaper \u90e8\u5206\u4e2d\u7684\u6b65\u9a5f\uff0c\u6539\u7528 SET_INPUT_SHAPER SHAPER_TYPE=ZV \u547d\u4ee4\u3002 ZV \u6574\u5f62\u5668\u61c9\u8a72\u6bd4 MZV \u986f\u793a\u66f4\u5c11\u7684\u5e73\u6ed1\uff0c\u4f46\u5c0d\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\u7684\u8aa4\u5dee\u66f4\u654f\u611f\u3002 \u53e6\u4e00\u500b\u8003\u616e\u56e0\u7d20\u662f\uff0c\u5982\u679c\u5171\u632f\u983b\u7387\u592a\u4f4e\uff08\u4f4e\u65bc 20-25 Hz\uff09\uff0c\u589e\u52a0\u6253\u5370\u6a5f\u525b\u5ea6\u6216\u6e1b\u5c11\u79fb\u52d5\u8cea\u91cf\u53ef\u80fd\u662f\u500b\u597d\u4e3b\u610f\u3002\u5426\u5247\uff0c\u52a0\u901f\u5ea6\u548c\u6253\u5370\u901f\u5ea6\u53ef\u80fd\u6703\u7531\u65bc\u73fe\u5728\u904e\u65bc\u5e73\u6ed1\u800c\u4e0d\u662f\u74b0\u7d0b\u800c\u53d7\u5230\u9650\u5236\u3002","title":"\u9078\u64c7 max_accel"},{"location":"Resonance_Compensation.html#_4","text":"\u8acb\u6ce8\u610f\uff0c\u4f7f\u7528\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u7684\u8ae7\u632f\u983b\u7387\u6e2c\u91cf\u7cbe\u5ea6\u8db3\u4ee5\u6eff\u8db3\u5927\u591a\u6578\u76ee\u7684\uff0c\u56e0\u6b64\u4e0d\u5efa\u8b70\u9032\u4e00\u6b65\u8abf\u6574\u3002\u5982\u679c\u60a8\u4ecd\u60f3\u5617\u8a66\u4ed4\u7d30\u6aa2\u67e5\u60a8\u7684\u7d50\u679c\uff08\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u5728\u4f7f\u7528\u60a8\u9078\u64c7\u7684input shaper\u6253\u5370\u4e00\u500b\u6e2c\u8a66\u6a21\u578b\u5f8c\u4ecd\u7136\u770b\u5230\u4e00\u4e9b\u74b0\u7d0b\uff0c\u60a8\u9078\u64c7\u7684input shaper\u8207\u60a8\u4e4b\u524d\u6e2c\u91cf\u7684\u983b\u7387\u76f8\u540c\uff09\uff0c\u60a8\u53ef\u4ee5\u6309\u7167\u672c\u6587\u4e2d\u7684\u6b65\u9a5f\u64cd\u4f5c\u90e8\u5206\u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u5728\u555f\u7528 [input_shaper] \u5f8c\u770b\u5230\u4e0d\u540c\u983b\u7387\u7684\u74b0\u7d0b\uff0c\u5247\u672c\u7bc0\u5c07\u7121\u6fdf\u65bc\u4e8b\u3002 \u5047\u8a2d\u60a8\u5df2\u4f7f\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5c0d\u74b0\u7d0b\u6a21\u578b\u9032\u884c\u5207\u7247\uff0c\u8acb\u91dd\u5c0d X \u8ef8\u548c Y \u8ef8\u4e2d\u7684\u6bcf\u4e00\u500b\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9a5f\uff1a \u6e96\u5099\u6e2c\u8a66\uff1a SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 \u78ba\u4fddPressure Advance\u88ab\u7981\u7528\uff1a SET_PRESSURE_ADVANCE ADVANCE=0 \u57f7\u884c\uff1a SET_INPUT_SHAPER SHAPER_TYPE=ZV \u5f9e\u5177\u6709\u60a8\u9078\u64c7\u7684 input shaper\u7684\u73fe\u6709\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u4e2d\u9078\u64c7\u986f\u793a\u74b0\u7d0b\u8db3\u5920\u597d\u7684\u52a0\u901f\u5ea6\uff0c\u4e26\u5c07\u5176\u8a2d\u7f6e\u70ba\uff1a SET_VELOCITY_LIMIT ACCEL=... \u8a08\u7b97 TUNING_TOWER \u547d\u4ee4\u8abf\u6574 shaper_freq_x \u53c3\u6578\u7684\u5fc5\u8981\u53c3\u6578\u5982\u4e0b\uff1a start = shaper_freq_x * 83 / 132 \u548c factor = shaper_freq_x / 66\uff0c\u5176\u4e2d shaper_freq_x \u9019\u88e1\u662f printer.cfg \u4e2d\u7684\u7576\u524d\u503c\u3002 \u4f7f\u7528\u5728\u6b65\u9a5f (5) \u8a08\u7b97\u7684 start \u548c factor \u503c\u57f7\u884c\u547d\u4ee4\uff1a TUNING_TOWER COMMAND=SET_INPUT_SHAPER PARAMETER=SHAPER_FREQ_X START=start FACTOR=factor BAND=5 \u3002 \u6253\u5370\u6e2c\u8a66\u6a21\u578b\u3002 \u91cd\u7f6e\u539f\u59cb\u983b\u7387\u503c\uff1a SET_INPUT_SHAPER SHAPER_FREQ_X=... \u3002 \u627e\u5230\u74b0\u7d0b\u6700\u5c11\u7684\u5340\u9593\uff0c\u5f9e 1 \u958b\u59cb\u5f9e\u5e95\u90e8\u958b\u59cb\u8a08\u6578\u3002 \u901a\u904e\u820a\u7684 shaper_freq_x * (39 + 5 * #band-number) / 66 \u8a08\u7b97\u65b0\u7684 shaper_freq_x \u503c\u3002 \u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5c0d Y \u8ef8\u91cd\u8907\u9019\u4e9b\u6b65\u9a5f\uff0c\u5c07 X \u8ef8\u7684\u5f15\u7528\u66ff\u63db\u70ba Y \u8ef8\uff08\u4f8b\u5982\uff0c\u5728\u516c\u5f0f\u548c TUNING_TOWER \u547d\u4ee4\u4e2d\u5c07 shaper_freq_x \u66ff\u63db\u70ba shaper_freq_y \uff09\u3002 \u4f8b\u5982\uff0c\u5047\u8a2d\u60a8\u5df2\u7d93\u6e2c\u91cf\u4e86\u4e00\u500b\u8ef8\u7684\u74b0\u7d0b\u983b\u7387\u7b49\u65bc 45 Hz\u3002\u9019\u7d66\u51fa\u4e86\u201cTUNING_TOWER\u201d\u547d\u4ee4\u7684 start = 45 * 83 / 132 = 28.30 \u548c factor = 45 / 66 = 0.6818 \u503c\u3002\u73fe\u5728\u8b93\u6211\u5011\u5047\u8a2d\u5728\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u5f8c\uff0c\u5f9e\u5e95\u90e8\u958b\u59cb\u7684\u7b2c\u56db\u500b\u6ce2\u6bb5\u7684\u74b0\u7d0b\u6700\u5c11\u3002\u9019\u7d66\u51fa\u4e86\u66f4\u65b0\u7684 shaper_freq_?\u503c\u7b49\u65bc 45 * (39 + 5 * 4) / 66 \u2248 40.23\u3002 \u5728\u8a08\u7b97\u51fa\u65b0\u7684 shaper_freq_x \u548c shaper_freq_y \u53c3\u6578\u5f8c\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u65b0\u7684 shaper_freq_x \u548c shaper_freq_y \u503c\u66f4\u65b0 printer.cfg \u4e2d\u7684 [input_shaper] \u90e8\u5206\u3002","title":"\u5fae\u8abf\u5171\u632f\u983b\u7387"},{"location":"Resonance_Compensation.html#pressure-advance","text":"\u5982\u679c\u60a8\u4f7f\u7528 Pressure Advance\uff0c\u5247\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u8abf\u6574\u3002\u6309\u7167 instructions \u627e\u5230\u65b0\u503c\uff0c\u5982\u679c\u5b83\u8207\u524d\u4e00\u500b\u4e0d\u540c\u3002\u78ba\u4fdd\u5728\u8abf\u6574 Pressure Advance \u4e4b\u524d\u91cd\u65b0\u555f\u52d5 Klipper\u3002","title":"Pressure Advance"},{"location":"Resonance_Compensation.html#_5","text":"\u5982\u679c\u60a8\u7121\u6cd5\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\uff0c\u4f8b\u5982\u5982\u679c\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\u4e0d\u7a69\u5b9a\uff0c\u60a8\u4ecd\u7136\u53ef\u4ee5\u5229\u7528Input Shaper\u6280\u8853\uff0c\u4f46\u7d50\u679c\u53ef\u80fd\u4e0d\u5982\u6b63\u78ba\u6e2c\u91cf\u983b\u7387\u90a3\u6a23\u597d\uff0c\u4e26\u4e14\u9700\u8981\u66f4\u591a\u7684\u8abf\u6574\u548c\u6253\u5370\u6e2c\u8a66\u6a21\u578b\u3002\u8acb\u6ce8\u610f\uff0c\u53e6\u4e00\u7a2e\u53ef\u80fd\u6027\u662f\u8cfc\u8cb7\u4e26\u5b89\u88dd\u52a0\u901f\u5ea6\u8a08\u4e26\u7528\u5b83\u6e2c\u91cf\u5171\u632f\uff08\u8acb\u53c3\u95b1\u63cf\u8ff0\u6240\u9700\u786c\u4ef6\u548c\u8a2d\u7f6e\u904e\u7a0b\u7684 docs \uff09 - \u4f46\u6b64\u9078\u9805\u9700\u8981\u4e00\u4e9b\u58d3\u63a5\u548c\u710a\u63a5\u3002 \u8981\u9032\u884c\u8abf\u6574\uff0c\u8acb\u5c07\u7a7a\u7684 [input_shaper] \u90e8\u5206\u6dfb\u52a0\u5230\u60a8\u7684 printer.cfg \u3002\u7136\u5f8c\uff0c\u5047\u8a2d\u60a8\u5df2\u4f7f\u7528\u5efa\u8b70\u7684\u53c3\u6578\u5c0d\u74b0\u7d0b\u6a21\u578b\u9032\u884c\u5207\u7247\uff0c\u6309\u5982\u4e0b\u65b9\u5f0f\u6253\u5370\u6e2c\u8a66\u6a21\u578b 3 \u6b21\u3002\u7b2c\u4e00\u6b21\uff0c\u5728\u6253\u5370\u4e4b\u524d\uff0c\u904b\u884c RESTART SET_VELOCITY_LIMIT ACCEL_TO_DECEL=7000 SET_PRESSURE_ADVANCE ADVANCE=0 SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=60 SHAPER_FREQ_Y=60 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u4e26\u6253\u5370\u6a21\u578b\u3002\u7136\u5f8c\u518d\u6b21\u6253\u5370\u6a21\u578b\uff0c\u4f46\u5728\u6253\u5370\u4e4b\u524d\u904b\u884c SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=50 SHAPER_FREQ_Y=50 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u7136\u5f8c\u7b2c\u4e09\u6b21\u6253\u5370\u6a21\u578b\uff0c\u4f46\u73fe\u5728\u904b\u884c SET_INPUT_SHAPER SHAPER_TYPE=2HUMP_EI SHAPER_FREQ_X=40 SHAPER_FREQ_Y=40 TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u672c\u8cea\u4e0a\uff0c\u6211\u5011\u4f7f\u7528 2HUMP_EI shaper \u548c shaper_freq = 60 Hz\u300150 Hz \u548c 40 Hz \u6253\u5370\u5e36\u6709 TUNING_TOWER \u7684\u74b0\u7d0b\u6e2c\u8a66\u6a21\u578b\u3002 \u5982\u679c\u6c92\u6709\u4e00\u500b\u6a21\u578b\u986f\u793a\u74b0\u7d0b\u7684\u6539\u9032\uff0c\u90a3\u9ebc\u5f88\u907a\u61be\uff0cinput shaper\u6280\u8853\u4f3c\u4e4e\u5c0d\u60a8\u7684\u60c5\u6cc1\u6c92\u6709\u5e6b\u52a9\u3002 \u5426\u5247\uff0c\u53ef\u80fd\u662f\u6240\u6709\u578b\u865f\u90fd\u6c92\u6709\u97ff\u9234\uff0c\u6216\u8005\u6709\u4e9b\u578b\u865f\u6709\u97ff\u9234\uff0c\u6709\u4e9b\u578b\u865f\u6c92\u6709\u97ff\u9234\u3002\u9078\u64c7\u983b\u7387\u6700\u9ad8\u7684\u6e2c\u8a66\u6a21\u578b\uff0c\u5728\u74b0\u7d0b\u65b9\u9762\u4ecd\u986f\u793a\u51fa\u826f\u597d\u7684\u6539\u9032\u3002\u4f8b\u5982\uff0c\u5982\u679c 40 Hz \u548c 50 Hz \u578b\u865f\u5e7e\u4e4e\u6c92\u6709\u74b0\u7d0b\uff0c\u800c 60 Hz \u578b\u865f\u5df2\u7d93\u986f\u793a\u66f4\u591a\u74b0\u7d0b\uff0c\u5247\u5805\u6301\u4f7f\u7528 50 Hz\u3002 \u73fe\u5728\u6aa2\u67e5 EI \u6574\u5f62\u5668\u5728\u60a8\u7684\u60c5\u6cc1\u4e0b\u662f\u5426\u8db3\u5920\u597d\u3002\u6839\u64da\u60a8\u9078\u64c7\u7684 2HUMP_EI \u6574\u5f62\u5668\u7684\u983b\u7387\u9078\u64c7 EI \u6574\u5f62\u5668\u983b\u7387\uff1a \u5c0d\u65bc 2HUMP_EI 60 Hz \u6574\u5f62\u5668\uff0c\u4f7f\u7528 shaper_freq = 50 Hz \u7684 EI \u6574\u5f62\u5668\u3002 \u5c0d\u65bc 2HUMP_EI 50 Hz \u6574\u5f62\u5668\uff0c\u4f7f\u7528 shaper_freq = 40 Hz \u7684 EI \u6574\u5f62\u5668\u3002 \u5c0d\u65bc 2HUMP_EI 40 Hz \u6574\u5f62\u5668\uff0c\u4f7f\u7528 shaper_freq = 33 Hz \u7684 EI \u6574\u5f62\u5668\u3002 \u73fe\u5728\u518d\u6253\u5370\u4e00\u6b21\u6e2c\u8a66\u6a21\u578b\uff0c\u904b\u884c SET_INPUT_SHAPER SHAPER_TYPE=EI SHAPER_FREQ_X=... SHAPER_FREQ_Y=... TUNING_TOWER COMMAND=SET_VELOCITY_LIMIT PARAMETER=ACCEL START=1500 STEP_DELTA=500 STEP_HEIGHT=5 \u63d0\u4f9b\u4e4b\u524d\u78ba\u5b9a\u7684 shaper_freq_x=... \u548c shaper_freq_y=...\u3002 \u5982\u679c EI shaper \u986f\u793a\u51fa\u8207 2HUMP_EI shaper \u975e\u5e38\u76f8\u4f3c\u7684\u826f\u597d\u7d50\u679c\uff0c\u5247\u5805\u6301\u4f7f\u7528 EI shaper \u548c\u4e4b\u524d\u78ba\u5b9a\u7684\u983b\u7387\uff0c\u5426\u5247\u4f7f\u7528\u5177\u6709\u76f8\u61c9\u983b\u7387\u7684 2HUMP_EI shaper\u3002\u5c07\u7d50\u679c\u6dfb\u52a0\u5230 printer.cfg \u4e2d\uff0c\u4f8b\u5982 [input_shaper] shaper_freq_x: 50 shaper_freq_y: 50 shaper_type: 2hump_ei \u4f7f\u7528 Selecting max_accel \u5206\u5340\u7e7c\u7e8c\u8abf\u6574\u3002","title":"\u74b0\u7d0b\u983b\u7387\u6e2c\u91cf\u4e0d\u53ef\u9760"},{"location":"Resonance_Compensation.html#_6","text":"","title":"\u6545\u969c\u6392\u9664\u548c\u5e38\u898b\u554f\u984c\u89e3\u7b54"},{"location":"Resonance_Compensation.html#_7","text":"\u9996\u5148\uff0c\u78ba\u4fdd\u6253\u5370\u6a5f\u4e0d\u662f\u97ff\u9234\u800c\u4e0d\u662f\u5176\u4ed6\u554f\u984c\u3002\u5982\u679c\u6e2c\u91cf\u7d50\u679c\u4e0d\u53ef\u9760\uff0c\u4f8b\u5982\uff0c\u632f\u8569\u4e4b\u9593\u7684\u8ddd\u96e2\u4e0d\u7a69\u5b9a\uff0c\u5247\u53ef\u80fd\u610f\u5473\u8457\u6253\u5370\u6a5f\u5728\u540c\u4e00\u8ef8\u4e0a\u6709\u591a\u500b\u5171\u632f\u983b\u7387\u3002\u53ef\u4ee5\u5617\u8a66\u9075\u5faa Unreliable measurements of ringing frequencies \u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u8abf\u6574\u904e\u7a0b\uff0c\u4ecd\u7136\u53ef\u4ee5\u5f9einput shaper\u6280\u8853\u4e2d\u7372\u5f97\u4e00\u4e9b\u6771\u897f\u3002\u53e6\u4e00\u7a2e\u53ef\u80fd\u6027\u662f\u5b89\u88dd\u52a0\u901f\u5ea6\u8a08\uff0c[\u6e2c\u91cf]","title":"\u6211\u7121\u6cd5\u53ef\u9760\u5730\u6e2c\u91cf\u5171\u632f\u983b\u7387"},{"location":"Resonance_Compensation.html#input_shaper","text":"\u6aa2\u67e5 \u9078\u64c7 max_accel \u90e8\u5206\u4e2d\u7684\u6ce8\u610f\u4e8b\u9805\u3002\u5982\u679c\u8ae7\u632f\u983b\u7387\u8f03\u4f4e\uff0c\u5247\u4e0d\u61c9\u8a2d\u7f6e\u904e\u9ad8\u7684 max_accel \u6216\u589e\u52a0 square_corner_velocity \u53c3\u6578\u3002\u6700\u597d\u9078\u64c7 MZV \u751a\u81f3 ZV input shaper \u800c\u4e0d\u662f EI\uff08\u6216 2HUMP_EI \u548c 3HUMP_EI \u6574\u5f62\u5668\uff09\u3002","title":"\u555f\u7528 [input_shaper] \u5f8c\uff0c\u6253\u5370\u90e8\u5206\u904e\u65bc\u5e73\u6ed1\uff0c\u7d30\u7bc0\u4e1f\u5931"},{"location":"Resonance_Compensation.html#_8","text":"\u6709\u53ef\u80fd\u5728\u4e00\u6bb5\u6642\u9593\u5f8c\u5171\u632f\u983b\u7387\u767c\u751f\u4e86\u8b8a\u5316\u3002\u4f8b\u5982\u3002\u53ef\u80fd\u662f\u76ae\u5e36\u5f35\u529b\u767c\u751f\u4e86\u8b8a\u5316\uff08\u76ae\u5e36\u8b8a\u5f97\u66f4\u9b06\u4e86\uff09\u7b49\u3002\u6700\u597d\u6309\u7167 Ringing frequency \u90e8\u5206\u4e2d\u7684\u8aaa\u660e\u6aa2\u67e5\u4e26\u91cd\u65b0\u6e2c\u91cf\u74b0\u7d0b\u983b\u7387\uff0c\u4e26\u5728\u5fc5\u8981\u6642\u66f4\u65b0\u914d\u7f6e\u6587\u4ef6.","title":"\u6210\u529f\u6253\u5370\u4e00\u6bb5\u6642\u9593\u5f8c\u6c92\u6709\u74b0\u7d0b\uff0c\u5b83\u4f3c\u4e4e\u53c8\u56de\u4f86\u4e86"},{"location":"Resonance_Compensation.html#input-shaper_2","text":"\u6c92\u6709\u5c0d\u5e36\u6709input shaper\u7684\u96d9\u7b46\u67b6\u7684\u5c08\u9580\u652f\u6301\uff0c\u4f46\u9019\u4e26\u4e0d\u610f\u5473\u8457\u6b64\u8a2d\u7f6e\u4e0d\u8d77\u4f5c\u7528\u3002\u61c9\u8a72\u5c0d\u6bcf\u500b\u6258\u67b6\u904b\u884c\u5169\u6b21\u8abf\u8ae7\uff0c\u4e26\u7368\u7acb\u8a08\u7b97\u6bcf\u500b\u6258\u67b6\u7684 X \u8ef8\u548c Y \u8ef8\u7684\u74b0\u7d0b\u983b\u7387\u3002\u7136\u5f8c\u5c07\u6258\u67b6 0 \u7684\u503c\u653e\u5165 [input_shaper] \u90e8\u5206\uff0c\u4e26\u5728\u66f4\u6539\u6258\u67b6\u6642\u5373\u6642\u66f4\u6539\u503c\uff0c\u4f8b\u5982\u4f5c\u70ba\u4e00\u4e9b\u5b8f\u7684\u4e00\u90e8\u5206\uff1a SET_DUAL_CARRIAGE CARRIAGE=1 SET_INPUT_SHAPER SHAPER_FREQ_X=... SHAPER_FREQ_Y=... \u540c\u6a23\u7576\u5207\u63db\u56de\u6b65\u9032\u5323 0 \u6642\u3002","title":"input shaper\u662f\u5426\u652f\u6301\u96d9\u6b65\u9032\u5323\u8a2d\u7f6e\uff1f"},{"location":"Resonance_Compensation.html#input_shaper_1","text":"\u4e0d\uff0c input_shaper \u529f\u80fd\u672c\u8eab\u5c0d\u6253\u5370\u6642\u9593\u5e7e\u4e4e\u6c92\u6709\u5f71\u97ff\u3002\u4f46\u662f\uff0c max_accel \u7684\u503c\u80af\u5b9a\u6703\u8d77\u4f5c\u7528\uff08\u5728 this section \u4e2d\u63cf\u8ff0\u4e86\u6b64\u53c3\u6578\u7684\u8abf\u6574\uff09\u3002","title":"input_shaper \u6703\u5f71\u97ff\u6253\u5370\u6642\u9593\u55ce\uff1f"},{"location":"Resonance_Compensation.html#_9","text":"","title":"\u6280\u8853\u7d30\u7bc0"},{"location":"Resonance_Compensation.html#input-shapers","text":"Klipper \u4e2d\u4f7f\u7528\u7684 input shaper\u76f8\u7576\u6a19\u6e96\uff0c\u53ef\u4ee5\u5728\u63cf\u8ff0\u76f8\u61c9\u6574\u5f62\u5668\u7684\u6587\u7ae0\u4e2d\u627e\u5230\u66f4\u6df1\u5165\u7684\u6982\u8ff0\u3002\u672c\u7bc0\u7c21\u8981\u6982\u8ff0\u4e86\u53d7\u652f\u6301\u7684input shaper\u7684\u4e00\u4e9b\u6280\u8853\u65b9\u9762\u3002\u4e0b\u8868\u986f\u793a\u4e86\u6bcf\u500b\u6574\u5f62\u5668\u7684\u4e00\u4e9b\uff08\u901a\u5e38\u662f\u8fd1\u4f3c\u7684\uff09\u53c3\u6578\u3002 Input shaper Shaper \u6642\u6bb5 \u6e1b\u632f 20 \u500d \uff085% \u632f\u52d5\u5bb9\u9650\uff09 \u6e1b\u632f 10 \u500d \uff0810% \u632f\u52d5\u5bb9\u9650\uff09 ZV 0.5 / shaper_freq N/A \u00b1 5% shaper_freq MZV 0.75 / shaper_freq \u00b1 4% shaper_freq -10%...+15% shaper_freq ZVD 1 / shaper_freq \u00b1 15% shaper_freq \u00b1 22% shaper_freq EI 1 / shaper_freq \u00b1 20% shaper_freq \u00b1 25% shaper_freq 2HUMP_EI 1.5 / shaper_freq \u00b1 35% shaper_freq \u00b1 40 shaper_freq 3HUMP_EI 2 / shaper_freq -45...+50% shaper_freq -50%...+55% shaper_freq \u95dc\u65bc\u6e1b\u632f\u7684\u8aaa\u660e\uff1a\u4e0a\u8868\u4e2d\u7684\u503c\u662f\u8fd1\u4f3c\u503c\u3002\u5982\u679c\u6253\u5370\u6a5f\u7684\u963b\u5c3c\u6bd4\u5c0d\u65bc\u6bcf\u500b\u8ef8\u90fd\u662f\u5df2\u77e5\u7684\uff0c\u90a3\u9ebc\u6574\u5f62\u5668\u53ef\u4ee5\u66f4\u7cbe\u78ba\u5730\u914d\u7f6e\uff0c\u7136\u5f8c\u5b83\u5c07\u5728\u66f4\u5bec\u7684\u983b\u7387\u7bc4\u570d\u5167\u6e1b\u5c11\u5171\u632f\u3002\u4f46\u662f\u963b\u5c3c\u6bd4\u901a\u5e38\u662f\u672a\u77e5\u7684\uff0c\u5982\u679c\u6c92\u6709\u7279\u6b8a\u7684\u8a2d\u5099\u5f88\u96e3\u4f30\u8a08\uff0c\u6240\u4ee5 Klipper \u9ed8\u8a8d\u4f7f\u7528 0.1 \u503c\uff0c\u9019\u662f\u4e00\u500b\u5f88\u597d\u7684\u7d9c\u5408\u503c\u3002\u8868\u4e2d\u7684\u983b\u7387\u7bc4\u570d\u6db5\u84cb\u4e86\u8a72\u503c\u9644\u8fd1\u7684\u8a31\u591a\u4e0d\u540c\u53ef\u80fd\u7684\u963b\u5c3c\u6bd4\uff08\u5927\u7d04\u5f9e 0.05 \u5230 0.2\uff09\u3002 \u53e6\u8acb\u6ce8\u610f\uff0cEI\u30012HUMP_EI \u548c 3HUMP_EI \u5df2\u8abf\u6574\u70ba\u5c07\u632f\u52d5\u964d\u4f4e\u5230 5%\uff0c\u56e0\u6b64 10% \u632f\u52d5\u5bb9\u9650\u7684\u503c\u50c5\u4f9b\u53c3\u8003\u3002 \u5982\u4f55\u4f7f\u7528\u6b64\u8868\uff1a Shaper \u6301\u7e8c\u6642\u9593\u6703\u5f71\u97ff\u96f6\u4ef6\u7684\u5e73\u6ed1\u5ea6 - \u5b83\u8d8a\u5927\uff0c\u96f6\u4ef6\u8d8a\u5e73\u6ed1\u3002\u9019\u7a2e\u4f9d\u8cf4\u6027\u4e0d\u662f\u7dda\u6027\u7684\uff0c\u4f46\u53ef\u4ee5\u8b93\u60a8\u4e86\u89e3\u5c0d\u65bc\u76f8\u540c\u983b\u7387\u54ea\u4e9b\u6574\u5f62\u5668\u66f4\u201c\u5e73\u6ed1\u201d\u3002\u5e73\u6ed1\u6392\u5e8f\u662f\u9019\u6a23\u7684\uff1aZV < MZV < ZVD \u2248 EI < 2HUMP_EI < 3HUMP_EI\u3002\u6b64\u5916\uff0c\u70ba\u6574\u5f62\u5668 2HUMP_EI \u548c 3HUMP_EI \u8a2d\u7f6e shaper_freq = \u5171\u632f\u983b\u7387\u5f88\u5c11\u5be6\u7528\uff08\u5b83\u5011\u61c9\u8a72\u7528\u65bc\u6e1b\u5c11\u591a\u500b\u983b\u7387\u7684\u632f\u52d5\uff09\u3002 \u4eba\u5011\u53ef\u4ee5\u4f30\u8a08\u6574\u5f62\u5668\u6e1b\u5c11\u632f\u52d5\u7684\u983b\u7387\u7bc4\u570d\u3002\u4f8b\u5982\uff0cshaper_freq = 35 Hz \u7684 MZV \u5c07\u983b\u7387 [33.6, 36.4] Hz \u7684\u632f\u52d5\u964d\u4f4e\u5230 5%\u3002 shaper_freq = 50 Hz \u7684 3HUMP_EI \u5728 [27.5, 75] Hz \u7bc4\u570d\u5167\u5c07\u632f\u52d5\u964d\u4f4e\u5230 5%\u3002 \u5982\u679c\u4ed6\u5011\u9700\u8981\u6e1b\u5c11\u591a\u500b\u983b\u7387\u7684\u632f\u52d5\uff0c\u53ef\u4ee5\u4f7f\u7528\u6b64\u8868\u4f86\u6aa2\u67e5\u4ed6\u5011\u61c9\u8a72\u4f7f\u7528\u54ea\u500b\u6574\u5f62\u5668\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5728\u540c\u4e00\u8ef8\u4e0a\u6709 35 Hz \u548c 60 Hz \u7684\u5171\u632f\uff1a a) EI \u6574\u5f62\u5668\u9700\u8981 shaper_freq = 35 / (1 - 0.2) = 43.75 Hz\uff0c\u5b83\u5c07\u6e1b\u5c11\u5171\u632f\u76f4\u5230 43.75 * (1 + 0.2 ) = 52.5 Hz\uff0c\u56e0\u6b64\u9084\u4e0d\u5920\uff1b b) 2HUMP_EI shaper \u9700\u8981 shaper_freq = 35 / (1 - 0.35) = 53.85 Hz \u4e26\u4e14\u6703\u6e1b\u5c11\u632f\u52d5\u76f4\u5230 53.85 * (1 + 0.35) = 72.7 Hz - \u6240\u4ee5\u9019\u662f\u4e00\u500b\u53ef\u63a5\u53d7\u7684\u914d\u7f6e\u3002\u5c0d\u65bc\u7d66\u5b9a\u7684\u6574\u5f62\u5668\uff0c\u59cb\u7d42\u5617\u8a66\u4f7f\u7528\u76e1\u53ef\u80fd\u9ad8\u7684 shaper_freq\uff08\u53ef\u80fd\u6709\u4e00\u4e9b\u5b89\u5168\u9918\u91cf\uff0c\u56e0\u6b64\u5728\u672c\u4f8b\u4e2d shaper_freq \u2248 50-52 Hz \u6548\u679c\u6700\u4f73\uff09\uff0c\u4e26\u5617\u8a66\u4f7f\u7528\u6574\u5f62\u5668\u6301\u7e8c\u6642\u9593\u76e1\u53ef\u80fd\u77ed\u7684\u6574\u5f62\u5668\u3002 \u5982\u679c\u9700\u8981\u6e1b\u5c11\u5e7e\u500b\u975e\u5e38\u4e0d\u540c\u7684\u983b\u7387\uff08\u4f8b\u5982 30 Hz \u548c 100 Hz\uff09\u7684\u632f\u52d5\uff0c\u4ed6\u5011\u53ef\u80fd\u6703\u767c\u73fe\u4e0a\u8868\u6c92\u6709\u63d0\u4f9b\u8db3\u5920\u7684\u4fe1\u606f\u3002\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u4f7f\u7528\u66f4\u9748\u6d3b\u7684 scripts/graph_shaper.py \u8173\u672c\u53ef\u80fd\u6703\u66f4\u5e78\u904b\u3002","title":"input shapers"},{"location":"Rotation_Distance.html","text":"\u65cb\u8f49\u8ddd\u96e2 \u00b6 Klipper \u4e0a\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u5728\u6bcf\u500b \u6b65\u9032\u914d\u7f6e\u90e8\u5206 \u4e2d\u90fd\u9700\u8981\u4e00\u500b rotation_distance \u53c3\u6578\u3002 rotation_distance \u662f\u6b65\u9032\u96fb\u6a5f\u65cb\u8f49\u4e00\u6574\u5708\u6642\u8ef8\u79fb\u52d5\u7684\u8ddd\u96e2\u3002\u672c\u6587\u4ef6\u63cf\u8ff0\u77ad\u5982\u4f55\u914d\u7f6e\u6b64\u503c\u3002 \u5f9estep_per_mm\uff08\u6216step_distance\uff09\u7372\u53d6\u65cb\u8f49\u8ddd\u96e2 \u00b6 \u4f60\u7684 3D \u5370\u8868\u6a5f\u7684\u8a2d\u8a08\u5e2b\u6700\u521d\u5f9e\u65cb\u8f49\u8ddd\u96e2\u8a08\u7b97 steps_per_mm \u3002\u5982\u679c\u60a8\u77e5\u9053steps_per_mm\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u6b64\u901a\u7528\u516c\u5f0f\u7372\u5f97\u539f\u59cb\u65cb\u8f49\u8ddd\u96e2\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> / <steps_per_mm> \u6216\u8005\uff0c\u5982\u679c\u4f60\u6709\u4e00\u500b\u820a\u7248\u672c\u7684Klipper\u914d\u7f6e\u4e26\u77e5\u9053 step_distance \u53c3\u6578\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u9019\u500b\u516c\u5f0f\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> * <step_distance> <full_steps_per_rotation> \u8a2d\u5b9a\u7531\u6b65\u9032\u96fb\u6a5f\u7684\u578b\u5225\u6c7a\u5b9a\u3002\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\u662f\u300c1.8 \u5ea6\u6b65\u9032\u96fb\u6a5f\u300d\uff0c\u56e0\u6b64\u6bcf\u8f49 200 \u6b65\uff08360 \u9664\u4ee5 1.8 \u7b49\u65bc 200\uff09\u3002\u4e00\u4e9b\u6b65\u9032\u96fb\u6a5f\u662f\u300c0.9 \u5ea6\u6b65\u9032\u96fb\u6a5f\u300d\uff0c\u56e0\u6b64\u6bcf\u8f49\u6709 400 \u6574\u6b65\u3002\u5176\u4ed6\u6b65\u9032\u96fb\u6a5f\u5f88\u5c11\u898b\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u8acb\u4e0d\u8981\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a full_steps_per_rotation \u4e26\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 200\u3002 <microsteps> \u8a2d\u5b9a\u7531\u53d6\u6c7a\u65bc\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u578b\u865f\u3002\u5927\u591a\u6578\u9a45\u52d5\u4f7f\u7528 16 \u500b\u5fae\u6b65\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u8acb\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a microsteps: 16 \uff0c\u4e26\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 16\u3002 \u5e7e\u4e4e\u6240\u6709\u5370\u8868\u6a5f\u90fd\u61c9\u8a72\u5728 X\u3001Y \u548c Z \u578b\u8ef8\u4e0a\u5177\u6709\u300crotation_distance\u300d\u6574\u6578\u3002\u5982\u679c\u4e0a\u8ff0\u516c\u5f0f\u5c0e\u81f4rotation_distance\u5728\u6574\u6578\u7684 .01 \u7bc4\u570d\u5167\uff0c\u5247\u5c07\u6700\u7d42\u503c\u6368\u5165\u70ba\u8a72whole_number\u3002 \u6821\u6e96\u64e0\u51fa\u6a5f\u7684 rotation_distance \u00b6 \u5728\u64e0\u51fa\u6a5f\u4e0a\uff0c rotation_distance \u662f\u6307\u6b65\u9032\u96fb\u6a5f\u65cb\u8f49\u4e00\u5708\u5f8c\uff0c\u8017\u6750\u6240\u8d70\u7684\u8ddd\u96e2\u3002\u7372\u5f97\u9019\u4e00\u8a2d\u5b9a\u6e96\u78ba\u503c\u7684\u6700\u597d\u65b9\u6cd5\u662f\u4f7f\u7528\"\u6e2c\u91cf\u4e26\u4fee\u6b63\"\u7684\u65b9\u6cd5\u3002 \u5f9e\u4e00\u500b\u521d\u59cb\u7684\u65cb\u8f49\u8ddd\u96e2\u731c\u6e2c\u503c\u958b\u59cb\u3002\u53ef\u4ee5\u901a\u904e steps_per_mm \u6216\u8005\u901a\u904e \u6aa2\u67e5\u786c\u9ad4 \u4f86\u3002 \u7136\u5f8c\u6839\u64da\u4ee5\u4e0b\u7a0b\u5f0f\u57f7\u884c\"\u6e2c\u91cf\u548c\u4fee\u6b63\"\uff1a \u9996\u5148\u78ba\u4fdd\u64e0\u51fa\u6a5f\u91cc\u6709\u8017\u6750\uff0c\u71b1\u7aef\u88ab\u52a0\u71b1\u5230\u9069\u7576\u7684\u6eab\u5ea6\uff0c\u4e26\u4e14\u5370\u8868\u6a5f\u6e96\u5099\u597d\u64e0\u51fa\u3002 \u7528\u8a18\u865f\u7b46\u5728\u96e2\u64e0\u51fa\u6a5f\u5165\u53e3\u7d0470\u6beb\u7c73\u7684\u4f4d\u7f6e\u4e0a\u5c0d\u8017\u6750\u505a\u4e00\u500b\u6a19\u8a18\u3002\u7136\u5f8c\u7528\u6578\u5b57\u5361\u5c3a\u5118\u53ef\u80fd\u7cbe\u78ba\u5730\u6e2c\u91cf\u8a72\u6a19\u8a18\u7684\u5be6\u969b\u8ddd\u96e2\u3002\u5c07\u6b64\u8a18\u70ba <initial_mark_distance> \u3002 \u7528\u4ee5\u4e0b\u547d\u4ee4\u5e8f\u5217\u64e0\u51fa50mm\u9577\u7d72\uff1a\u300cG91\u300d\uff0c\u5f8c\u8ddf\u300cG1 E50 F60\u300d\u3002\u3002\u6ce850mm\u70ba \u300f\u3002\u7b49\u5f85\u64e0\u51fa\u6a5f\u5b8c\u6210\u79fb\u52d5\uff08\u5927\u7d04\u9700\u898150\u79d2\uff09\u3002\u5728\u6b64\u6e2c\u8a66\u4e2d\u4f7f\u7528\u7de9\u6162\u7684\u64e0\u51fa\u901f\u7387\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u70ba\u8f03\u5feb\u7684\u901f\u7387\u6703\u5c0e\u81f4\u64e0\u51fa\u6a5f\u4e2d\u7684\u9ad8\u58d3\uff0c\u5f9e\u800c\u626d\u66f2\u7d50\u679c\u3002\uff08\u8acb\u52ff\u5728\u5716\u5f62\u524d\u7aef\u4f7f\u7528\"\u62c9\u4f38\u6309\u9215\"\u9032\u884c\u6b64\u6e2c\u8a66\uff0c\u56e0\u70ba\u5b83\u5011\u4ee5\u5feb\u901f\u7684\u901f\u5ea6\u62c9\u4f38\u3002 \u4f7f\u7528\u6578\u986f\u793a\u5361\u5c3a\u6e2c\u91cf\u64e0\u51fa\u6a5f\u4e3b\u9ad4\u8207\u8017\u6750\u4e0a\u7684\u6a19\u8a18\u4e4b\u9593\u7684\u65b0\u8ddd\u96e2\u3002\u8acb\u6ce8\u610f\u8a72\u8ddd\u96e2\u662f <subsequent_mark_distance> \u3002\u7136\u5f8c\u8a08\u7b97\uff1a actual_extrude_distance = <initial_mark_distance> - <subsequent_mark_distance> \u8a08\u7b97running_distance\u70ba\uff1a rotation_distance = <previous_rotation_distance> * <actual_extrude_distance> / <request_extrude_distance> \u3002\u5c07\u65b0\u7684 rotation_distance \u53d6\u6574\u5230\u5c0f\u6578\u9ede\u5f8c3\u4f4d\u3002 \u5982\u679c\u5be6\u969b\u64e0\u51fa\u7684\u8ddd\u96e2\u8207\u8acb\u6c42\u64e0\u51fa\u7684\u8ddd\u96e2\u76f8\u5dee\u8d85\u904e2\u6beb\u7c73\uff0c\u90a3\u9ebc\u6700\u597d\u518d\u57f7\u884c\u4e00\u6b21\u4e0a\u8ff0\u6b65\u9a5f\u3002 \u6ce8\u610f\uff1a \u4e0d\u8981 \u4f7f\u7528\"\u6e2c\u91cf\u4e26\u4fee\u6b63\"\u985e\u7684\u65b9\u6cd5\u4f86\u6821\u6e96x\u3001y\u6216z\u578b\u5225\u7684\u8ef8\u3002\u5c0d\u65bc\u9019\u4e9b\u8ef8\u4f86\u8aaa\uff0c\"\u6e2c\u91cf\u548c\u4fee\u526a\"\u65b9\u6cd5\u4e0d\u5920\u7cbe\u78ba\uff0c\u800c\u4e14\u53ef\u80fd\u6703\u5c0e\u81f4\u66f4\u7cdf\u7cd5\u7684\u914d\u7f6e\u3002\u76f8\u53cd\uff0c\u5982\u679c\u9700\u8981\uff0c\u9019\u4e9b\u8ef8\u53ef\u4ee5\u901a\u904e j\u6aa2\u67e5\u76ae\u5e36\u3001\u6ed1\u8f2a\u548c\u7d72\u687f \u4f86\u78ba\u5b9a\u3002 \u901a\u904e\u6aa2\u67e5\u786c\u9ad4\u7372\u5f97\u65cb\u8f49\u8ddd\u96e2 \u00b6 \u6709\u4e86\u6b65\u9032\u96fb\u6a5f\u548c\u5370\u8868\u6a5f\u904b\u52d5\u5b78\u65b9\u9762\u7684\u8cc7\u8a0a\uff0c\u5c31\u53ef\u4ee5\u8a08\u7b97\u65cb\u8f49\u8ddd\u96e2\u3002\u5982\u679c\u4e0d\u77e5\u9053\u6bcf\u6beb\u7c73\u7684\u6b65\u6578\uff0c\u6216\u8005\u6b63\u5728\u8a2d\u8a08\u4e00\u81fa\u65b0\u7684\u5370\u8868\u6a5f\uff0c\u9019\u53ef\u80fd\u6709\u5e6b\u52a9\u3002 \u76ae\u5e36\u9a45\u52d5\u7684\u8ef8 \u00b6 \u8a08\u7b97\u4f7f\u7528\u76ae\u5e36\u548c\u6ed1\u8f2a\u7684\u76f4\u7dda\u8ef8\u7684\u65cb\u8f49\u8ddd\u96e2\u5f88\u7c21\u55ae\u3002 \u9996\u5148\u78ba\u5b9a\u76ae\u5e36\u7684\u578b\u5225\u3002\u5927\u591a\u6578\u5370\u8868\u6a5f\u4f7f\u75282\u6beb\u7c73\u7684\u76ae\u5e36\u9593\u8ddd\uff08\u4e5f\u5c31\u662f\u8aaa\uff0c\u76ae\u5e36\u4e0a\u7684\u6bcf\u500b\u9f52\u76f8\u8ddd2\u6beb\u7c73\uff09\u3002\u7136\u5f8c\u8a08\u7b97\u6b65\u9032\u96fb\u6a5f\u6ed1\u8f2a\u4e0a\u7684\u9f52\u6578\u3002\u7136\u5f8c\u8a08\u7b97\u51farotation_distance \uff08\u65cb\u8f49\u8ddd\u96e2\uff09\u70ba\uff1a rotation_distance = <belt_pitch> * <number_of_teeth_on_pulley> \u4f8b\u5982\uff0c\u5982\u679c\u4e00\u81fa\u5370\u8868\u6a5f\u6709\u4e00\u689d2\u6beb\u7c73\u9593\u8ddd\u7684\u76ae\u5e36\u4e26\u4f7f\u7528\u4e00\u500b20\u9f52\u7684\u76ae\u5e36\u8f2a\uff0c\u90a3\u9ebc\u65cb\u8f49\u8ddd\u96e2\u70ba40\u3002 \u4f7f\u7528\u7d72\u687f\u7684\u8ef8 \u00b6 \u4f7f\u7528\u4ee5\u4e0b\u516c\u5f0f\u53ef\u4ee5\u7c21\u55ae\u7684\u8a08\u7b97\u51fa\u5e38\u898b\u7684\u65cb\u8f49\u8ddd\u96e2\uff1a rotation_distance = <screw_pitch> * <number_of_separate_threads> \u4f8b\u5982\uff0c\u5e38\u898b\u7684\"T8\u7d72\u687f\"\u7684\u65cb\u8f49\u8ddd\u96e2\u70ba8\uff08\u5b83\u7684\u9593\u8ddd\u70ba2mm\uff0c\u67094\u500b\u7368\u7acb\u7684\u87ba\u7d0b\uff09\u3002 \u8001\u5f0f\u5370\u8868\u6a5f\u7684\"\u87ba\u7d0b\u687f\"\u5728\u5c0e\u87ba\u687f\u4e0a\u53ea\u6709\u4e00\u500b\"\u87ba\u7d0b\"\uff0c\u56e0\u6b64\u65cb\u8f49\u8ddd\u96e2\u662f\u87ba\u687f\u7684\u9593\u8ddd\u3002(\u4f8b\u5982\uff0cM6\u516c\u5236\u687f\u7684\u65cb\u8f49\u8ddd\u96e2\u70ba1\uff0cM8\u687f\u7684\u65cb\u8f49\u8ddd\u96e2\u70ba1.25\u3002 \u64e0\u51fa\u6a5f \u00b6 \u901a\u904e\u6e2c\u91cf\u63a8\u52d5\u5370\u7d72\u7684\u300c\u6efe\u9f52\u87ba\u6813\u300d\u7684\u76f4\u5f91\u4e26\u4f7f\u7528\u4ee5\u4e0b\u516c\u5f0f\uff0c\u53ef\u4ee5\u7372\u5f97\u64e0\u51fa\u6a5f\u7684\u521d\u59cb\u65cb\u8f49\u8ddd\u96e2\uff1a\u300crotation_distance = * 3.14\u300d \u5982\u679c\u64e0\u51fa\u6a5f\u4f7f\u7528\u9f52\u8f2a\uff0c\u5247\u9084\u9700\u8981 \u78ba\u5b9a\u548c\u8a2d\u5b9a\u64e0\u51fa\u6a5f\u7684\u9f52\u8f2a\u6bd4 \u3002 \u64e0\u51fa\u6a5f\u4e0a\u7684\u5be6\u969b\u65cb\u8f49\u8ddd\u96e2\u56e0\u5370\u8868\u6a5f\u800c\u7570\uff0c\u56e0\u70ba\u54ac\u5408\u5370\u7d72\u7684\u300c\u6efe\u9f52\u87ba\u6813\u300d\u7684\u6293\u5730\u529b\u53ef\u80fd\u6703\u6709\u6240\u4e0d\u540c\u3002\u5b83\u751a\u81f3\u53ef\u4ee5\u5728\u5370\u7d72\u7dda\u8ef8\u4e4b\u9593\u8b8a\u5316\u3002\u7372\u5f97\u521d\u59cbrotation_distance\u5f8c\uff0c\u4f7f\u7528 \u6e2c\u91cf\u548c\u4fee\u526a\u7a0b\u5f0f \u4ee5\u7372\u5f97\u66f4\u6e96\u78ba\u7684\u8a2d\u7f6e\u3002 \u4f7f\u7528 gear_ratio\uff08\u9f52\u8f2a\u6bd4\uff09 \u00b6 \u8a2d\u5b9a gear_ratio \u53ef\u4ee5\u7c21\u5316 rotation_distance \u5728\u6709\u9f52\u8f2a\u7bb1\uff08\u6216\u985e\u4f3c\uff09\u9023\u7dda\u7684\u6b65\u9032\u96fb\u6a5f\u7684\u914d\u7f6e\u3002\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\u6c92\u6709\u9f52\u8f2a\u7bb1--\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u5c31\u4e0d\u8981\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a gear_ratio \u3002 \u7576 gear_ratio \u88ab\u8a2d\u5b9a\u6642\uff0c rotation_distance \u4ee3\u8868\u8ef8\u5728\u9f52\u8f2a\u7bb1\u4e0a\u7684\u6700\u5f8c\u4e00\u500b\u9f52\u8f2a\u65cb\u8f49\u4e00\u5708\u6642\u7684\u79fb\u52d5\u8ddd\u96e2\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u500b\u4eba\u6b63\u5728\u4f7f\u7528\u4e00\u500b\u5177\u6709\"5:1\"\u6bd4\u7387\u7684\u9f52\u8f2a\u7bb1\uff0c\u90a3\u9ebc\u4ed6\u53ef\u4ee5\u7528 \u5c0d\u786c\u9ad4\u7684\u77ad\u89e3 \u4f86\u8a08\u7b97\u65cb\u8f49\u8ddd\u96e2\uff0c\u7136\u5f8c\u5c07 gear_ratio: 5:1 \u52a0\u5165\u914d\u7f6e\u4e2d\u3002 \u5c0d\u65bc\u4f7f\u7528\u76ae\u5e36\u548c\u76ae\u5e36\u8f2a\u5be6\u73fe\u7684\u50b3\u52d5\u88dd\u7f6e\uff0c\u53ef\u4ee5\u901a\u904e\u8a08\u7b97\u76ae\u5e36\u8f2a\u4e0a\u7684\u9f52\u4f86\u78ba\u5b9agear_ratio\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5e36\u670916\u9f52\u6ed1\u8f2a\u7684\u6b65\u9032\u5668\u9a45\u52d5\u4e0b\u4e00\u500b\u5177\u670980\u9f52\u7684\u6ed1\u8f2a\uff0c\u90a3\u9ebc\u5c07\u4f7f\u7528\"gear_ratio\uff1a80\uff1a16\"\u3002\u4e8b\u5be6\u4e0a\uff0c\u4eba\u5011\u53ef\u4ee5\u6253\u958b\u4e00\u500b\u666e\u901a\u7684\u73fe\u6210\u300c\u9f52\u8f2a\u7bb1\u300d\uff0c\u4e26\u8a08\u7b97\u5176\u4e2d\u7684\u9f52\u6578\u4ee5\u78ba\u8a8d\u5176\u9f52\u8f2a\u6bd4\u3002 \u8acb\u6ce8\u610f\uff0c\u6709\u6642\u8b8a\u901f\u7bb1\u7684\u9f52\u8f2a\u6bd4\u8207\u5ba3\u50b3\u7684\u9f52\u8f2a\u6bd4\u7565\u6709\u4e0d\u540c\u3002\u5e38\u898b\u7684BMG\u64e0\u51fa\u6a5f\u96fb\u6a5f\u9f52\u8f2a\u5c31\u662f\u4e00\u500b\u4f8b\u5b50 - \u5b83\u5011\u88ab\u5ba3\u50b3\u70ba\"3\uff1a1\"\uff0c\u4f46\u5be6\u969b\u4e0a\u4f7f\u7528\"50\uff1a17\"\u50b3\u52d5\u88dd\u7f6e\u3002\uff08\u4f7f\u7528\u6c92\u6709\u516c\u5206\u6bcd\u7684\u9f52\u6578\u53ef\u4ee5\u6539\u5584\u6574\u9ad4\u9f52\u8f2a\u78e8\u640d\uff0c\u56e0\u70ba\u9f52\u5728\u6bcf\u6b21\u65cb\u8f49\u6642\u4e26\u4e0d\u7e3d\u662f\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u556e\u5408\u3002\u5e38\u898b\u7684\"5.18\uff1a1\u884c\u661f\u9f52\u8f2a\u7bb1\"\uff0c\u66f4\u6e96\u78ba\u5730\u914d\u7f6e\u4e86\"gear_ratio\uff1a57\uff1a11\"\u3002 \u5982\u679c\u4e00\u500b\u8ef8\u4e0a\u4f7f\u7528\u4e86\u591a\u500b\u9f52\u8f2a\uff0c\u90a3\u9ebc\u5728 gear_ratio \u4e2d\u586b\u5beb\u4e00\u500b\u9017\u865f\u5206\u9694\u7684\u5217\u8868\u3002\u4f8b\u5982\uff0c\u4e00\u500b\"5:1\"\u9f52\u8f2a\u7bb1\u9a45\u52d5\u4e00\u500b16\u9f52\u7684\u76ae\u5e36\u8f2a\u523080\u9f52\u7684\u76ae\u5e36\u8f2a\uff0c\u53ef\u4ee5\u4f7f\u7528 gear_ratio: 5:1, 80:16 \u3002 \u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0cgear_ratio \u61c9\u8a72\u7528\u6574\u6578\u4f86\u5b9a\u7fa9\uff0c\u56e0\u70ba\u666e\u901a\u7684\u9f52\u8f2a\u548c\u76ae\u5e36\u8f2a\u4e0a\u53ea\u6709\u6574\u6578\u7684\u9f52\u3002\u7136\u800c\uff0c\u5728\u76ae\u5e36\u5229\u7528\u6469\u64e6\u529b\u800c\u4e0d\u662f\u9f52\u4f86\u9a45\u52d5\u76ae\u5e36\u8f2a\u7684\u60c5\u6cc1\u4e0b\uff0c\u5728\u9f52\u8f2a\u6bd4\u4e2d\u4f7f\u7528\u4e00\u500b\u6d6e\u9ede\u6578\u53ef\u80fd\u662f\u6709\u610f\u7fa9\u7684\uff08\u4f8b\u5982\uff0c gear_ratio: 107.237:16 \uff09\u3002","title":"\u65cb\u8f49\u8ddd\u96e2"},{"location":"Rotation_Distance.html#_1","text":"Klipper \u4e0a\u7684\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u5728\u6bcf\u500b \u6b65\u9032\u914d\u7f6e\u90e8\u5206 \u4e2d\u90fd\u9700\u8981\u4e00\u500b rotation_distance \u53c3\u6578\u3002 rotation_distance \u662f\u6b65\u9032\u96fb\u6a5f\u65cb\u8f49\u4e00\u6574\u5708\u6642\u8ef8\u79fb\u52d5\u7684\u8ddd\u96e2\u3002\u672c\u6587\u4ef6\u63cf\u8ff0\u77ad\u5982\u4f55\u914d\u7f6e\u6b64\u503c\u3002","title":"\u65cb\u8f49\u8ddd\u96e2"},{"location":"Rotation_Distance.html#step_per_mmstep_distance","text":"\u4f60\u7684 3D \u5370\u8868\u6a5f\u7684\u8a2d\u8a08\u5e2b\u6700\u521d\u5f9e\u65cb\u8f49\u8ddd\u96e2\u8a08\u7b97 steps_per_mm \u3002\u5982\u679c\u60a8\u77e5\u9053steps_per_mm\uff0c\u5247\u53ef\u4ee5\u4f7f\u7528\u6b64\u901a\u7528\u516c\u5f0f\u7372\u5f97\u539f\u59cb\u65cb\u8f49\u8ddd\u96e2\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> / <steps_per_mm> \u6216\u8005\uff0c\u5982\u679c\u4f60\u6709\u4e00\u500b\u820a\u7248\u672c\u7684Klipper\u914d\u7f6e\u4e26\u77e5\u9053 step_distance \u53c3\u6578\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u9019\u500b\u516c\u5f0f\uff1a rotation_distance = <full_steps_per_rotation> * <microsteps> * <step_distance> <full_steps_per_rotation> \u8a2d\u5b9a\u7531\u6b65\u9032\u96fb\u6a5f\u7684\u578b\u5225\u6c7a\u5b9a\u3002\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\u662f\u300c1.8 \u5ea6\u6b65\u9032\u96fb\u6a5f\u300d\uff0c\u56e0\u6b64\u6bcf\u8f49 200 \u6b65\uff08360 \u9664\u4ee5 1.8 \u7b49\u65bc 200\uff09\u3002\u4e00\u4e9b\u6b65\u9032\u96fb\u6a5f\u662f\u300c0.9 \u5ea6\u6b65\u9032\u96fb\u6a5f\u300d\uff0c\u56e0\u6b64\u6bcf\u8f49\u6709 400 \u6574\u6b65\u3002\u5176\u4ed6\u6b65\u9032\u96fb\u6a5f\u5f88\u5c11\u898b\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u8acb\u4e0d\u8981\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a full_steps_per_rotation \u4e26\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 200\u3002 <microsteps> \u8a2d\u5b9a\u7531\u53d6\u6c7a\u65bc\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u578b\u865f\u3002\u5927\u591a\u6578\u9a45\u52d5\u4f7f\u7528 16 \u500b\u5fae\u6b65\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u8acb\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a microsteps: 16 \uff0c\u4e26\u5728\u4e0a\u9762\u7684\u516c\u5f0f\u4e2d\u4f7f\u7528 16\u3002 \u5e7e\u4e4e\u6240\u6709\u5370\u8868\u6a5f\u90fd\u61c9\u8a72\u5728 X\u3001Y \u548c Z \u578b\u8ef8\u4e0a\u5177\u6709\u300crotation_distance\u300d\u6574\u6578\u3002\u5982\u679c\u4e0a\u8ff0\u516c\u5f0f\u5c0e\u81f4rotation_distance\u5728\u6574\u6578\u7684 .01 \u7bc4\u570d\u5167\uff0c\u5247\u5c07\u6700\u7d42\u503c\u6368\u5165\u70ba\u8a72whole_number\u3002","title":"\u5f9estep_per_mm\uff08\u6216step_distance\uff09\u7372\u53d6\u65cb\u8f49\u8ddd\u96e2"},{"location":"Rotation_Distance.html#rotation_distance","text":"\u5728\u64e0\u51fa\u6a5f\u4e0a\uff0c rotation_distance \u662f\u6307\u6b65\u9032\u96fb\u6a5f\u65cb\u8f49\u4e00\u5708\u5f8c\uff0c\u8017\u6750\u6240\u8d70\u7684\u8ddd\u96e2\u3002\u7372\u5f97\u9019\u4e00\u8a2d\u5b9a\u6e96\u78ba\u503c\u7684\u6700\u597d\u65b9\u6cd5\u662f\u4f7f\u7528\"\u6e2c\u91cf\u4e26\u4fee\u6b63\"\u7684\u65b9\u6cd5\u3002 \u5f9e\u4e00\u500b\u521d\u59cb\u7684\u65cb\u8f49\u8ddd\u96e2\u731c\u6e2c\u503c\u958b\u59cb\u3002\u53ef\u4ee5\u901a\u904e steps_per_mm \u6216\u8005\u901a\u904e \u6aa2\u67e5\u786c\u9ad4 \u4f86\u3002 \u7136\u5f8c\u6839\u64da\u4ee5\u4e0b\u7a0b\u5f0f\u57f7\u884c\"\u6e2c\u91cf\u548c\u4fee\u6b63\"\uff1a \u9996\u5148\u78ba\u4fdd\u64e0\u51fa\u6a5f\u91cc\u6709\u8017\u6750\uff0c\u71b1\u7aef\u88ab\u52a0\u71b1\u5230\u9069\u7576\u7684\u6eab\u5ea6\uff0c\u4e26\u4e14\u5370\u8868\u6a5f\u6e96\u5099\u597d\u64e0\u51fa\u3002 \u7528\u8a18\u865f\u7b46\u5728\u96e2\u64e0\u51fa\u6a5f\u5165\u53e3\u7d0470\u6beb\u7c73\u7684\u4f4d\u7f6e\u4e0a\u5c0d\u8017\u6750\u505a\u4e00\u500b\u6a19\u8a18\u3002\u7136\u5f8c\u7528\u6578\u5b57\u5361\u5c3a\u5118\u53ef\u80fd\u7cbe\u78ba\u5730\u6e2c\u91cf\u8a72\u6a19\u8a18\u7684\u5be6\u969b\u8ddd\u96e2\u3002\u5c07\u6b64\u8a18\u70ba <initial_mark_distance> \u3002 \u7528\u4ee5\u4e0b\u547d\u4ee4\u5e8f\u5217\u64e0\u51fa50mm\u9577\u7d72\uff1a\u300cG91\u300d\uff0c\u5f8c\u8ddf\u300cG1 E50 F60\u300d\u3002\u3002\u6ce850mm\u70ba \u300f\u3002\u7b49\u5f85\u64e0\u51fa\u6a5f\u5b8c\u6210\u79fb\u52d5\uff08\u5927\u7d04\u9700\u898150\u79d2\uff09\u3002\u5728\u6b64\u6e2c\u8a66\u4e2d\u4f7f\u7528\u7de9\u6162\u7684\u64e0\u51fa\u901f\u7387\u975e\u5e38\u91cd\u8981\uff0c\u56e0\u70ba\u8f03\u5feb\u7684\u901f\u7387\u6703\u5c0e\u81f4\u64e0\u51fa\u6a5f\u4e2d\u7684\u9ad8\u58d3\uff0c\u5f9e\u800c\u626d\u66f2\u7d50\u679c\u3002\uff08\u8acb\u52ff\u5728\u5716\u5f62\u524d\u7aef\u4f7f\u7528\"\u62c9\u4f38\u6309\u9215\"\u9032\u884c\u6b64\u6e2c\u8a66\uff0c\u56e0\u70ba\u5b83\u5011\u4ee5\u5feb\u901f\u7684\u901f\u5ea6\u62c9\u4f38\u3002 \u4f7f\u7528\u6578\u986f\u793a\u5361\u5c3a\u6e2c\u91cf\u64e0\u51fa\u6a5f\u4e3b\u9ad4\u8207\u8017\u6750\u4e0a\u7684\u6a19\u8a18\u4e4b\u9593\u7684\u65b0\u8ddd\u96e2\u3002\u8acb\u6ce8\u610f\u8a72\u8ddd\u96e2\u662f <subsequent_mark_distance> \u3002\u7136\u5f8c\u8a08\u7b97\uff1a actual_extrude_distance = <initial_mark_distance> - <subsequent_mark_distance> \u8a08\u7b97running_distance\u70ba\uff1a rotation_distance = <previous_rotation_distance> * <actual_extrude_distance> / <request_extrude_distance> \u3002\u5c07\u65b0\u7684 rotation_distance \u53d6\u6574\u5230\u5c0f\u6578\u9ede\u5f8c3\u4f4d\u3002 \u5982\u679c\u5be6\u969b\u64e0\u51fa\u7684\u8ddd\u96e2\u8207\u8acb\u6c42\u64e0\u51fa\u7684\u8ddd\u96e2\u76f8\u5dee\u8d85\u904e2\u6beb\u7c73\uff0c\u90a3\u9ebc\u6700\u597d\u518d\u57f7\u884c\u4e00\u6b21\u4e0a\u8ff0\u6b65\u9a5f\u3002 \u6ce8\u610f\uff1a \u4e0d\u8981 \u4f7f\u7528\"\u6e2c\u91cf\u4e26\u4fee\u6b63\"\u985e\u7684\u65b9\u6cd5\u4f86\u6821\u6e96x\u3001y\u6216z\u578b\u5225\u7684\u8ef8\u3002\u5c0d\u65bc\u9019\u4e9b\u8ef8\u4f86\u8aaa\uff0c\"\u6e2c\u91cf\u548c\u4fee\u526a\"\u65b9\u6cd5\u4e0d\u5920\u7cbe\u78ba\uff0c\u800c\u4e14\u53ef\u80fd\u6703\u5c0e\u81f4\u66f4\u7cdf\u7cd5\u7684\u914d\u7f6e\u3002\u76f8\u53cd\uff0c\u5982\u679c\u9700\u8981\uff0c\u9019\u4e9b\u8ef8\u53ef\u4ee5\u901a\u904e j\u6aa2\u67e5\u76ae\u5e36\u3001\u6ed1\u8f2a\u548c\u7d72\u687f \u4f86\u78ba\u5b9a\u3002","title":"\u6821\u6e96\u64e0\u51fa\u6a5f\u7684 rotation_distance"},{"location":"Rotation_Distance.html#_2","text":"\u6709\u4e86\u6b65\u9032\u96fb\u6a5f\u548c\u5370\u8868\u6a5f\u904b\u52d5\u5b78\u65b9\u9762\u7684\u8cc7\u8a0a\uff0c\u5c31\u53ef\u4ee5\u8a08\u7b97\u65cb\u8f49\u8ddd\u96e2\u3002\u5982\u679c\u4e0d\u77e5\u9053\u6bcf\u6beb\u7c73\u7684\u6b65\u6578\uff0c\u6216\u8005\u6b63\u5728\u8a2d\u8a08\u4e00\u81fa\u65b0\u7684\u5370\u8868\u6a5f\uff0c\u9019\u53ef\u80fd\u6709\u5e6b\u52a9\u3002","title":"\u901a\u904e\u6aa2\u67e5\u786c\u9ad4\u7372\u5f97\u65cb\u8f49\u8ddd\u96e2"},{"location":"Rotation_Distance.html#_3","text":"\u8a08\u7b97\u4f7f\u7528\u76ae\u5e36\u548c\u6ed1\u8f2a\u7684\u76f4\u7dda\u8ef8\u7684\u65cb\u8f49\u8ddd\u96e2\u5f88\u7c21\u55ae\u3002 \u9996\u5148\u78ba\u5b9a\u76ae\u5e36\u7684\u578b\u5225\u3002\u5927\u591a\u6578\u5370\u8868\u6a5f\u4f7f\u75282\u6beb\u7c73\u7684\u76ae\u5e36\u9593\u8ddd\uff08\u4e5f\u5c31\u662f\u8aaa\uff0c\u76ae\u5e36\u4e0a\u7684\u6bcf\u500b\u9f52\u76f8\u8ddd2\u6beb\u7c73\uff09\u3002\u7136\u5f8c\u8a08\u7b97\u6b65\u9032\u96fb\u6a5f\u6ed1\u8f2a\u4e0a\u7684\u9f52\u6578\u3002\u7136\u5f8c\u8a08\u7b97\u51farotation_distance \uff08\u65cb\u8f49\u8ddd\u96e2\uff09\u70ba\uff1a rotation_distance = <belt_pitch> * <number_of_teeth_on_pulley> \u4f8b\u5982\uff0c\u5982\u679c\u4e00\u81fa\u5370\u8868\u6a5f\u6709\u4e00\u689d2\u6beb\u7c73\u9593\u8ddd\u7684\u76ae\u5e36\u4e26\u4f7f\u7528\u4e00\u500b20\u9f52\u7684\u76ae\u5e36\u8f2a\uff0c\u90a3\u9ebc\u65cb\u8f49\u8ddd\u96e2\u70ba40\u3002","title":"\u76ae\u5e36\u9a45\u52d5\u7684\u8ef8"},{"location":"Rotation_Distance.html#_4","text":"\u4f7f\u7528\u4ee5\u4e0b\u516c\u5f0f\u53ef\u4ee5\u7c21\u55ae\u7684\u8a08\u7b97\u51fa\u5e38\u898b\u7684\u65cb\u8f49\u8ddd\u96e2\uff1a rotation_distance = <screw_pitch> * <number_of_separate_threads> \u4f8b\u5982\uff0c\u5e38\u898b\u7684\"T8\u7d72\u687f\"\u7684\u65cb\u8f49\u8ddd\u96e2\u70ba8\uff08\u5b83\u7684\u9593\u8ddd\u70ba2mm\uff0c\u67094\u500b\u7368\u7acb\u7684\u87ba\u7d0b\uff09\u3002 \u8001\u5f0f\u5370\u8868\u6a5f\u7684\"\u87ba\u7d0b\u687f\"\u5728\u5c0e\u87ba\u687f\u4e0a\u53ea\u6709\u4e00\u500b\"\u87ba\u7d0b\"\uff0c\u56e0\u6b64\u65cb\u8f49\u8ddd\u96e2\u662f\u87ba\u687f\u7684\u9593\u8ddd\u3002(\u4f8b\u5982\uff0cM6\u516c\u5236\u687f\u7684\u65cb\u8f49\u8ddd\u96e2\u70ba1\uff0cM8\u687f\u7684\u65cb\u8f49\u8ddd\u96e2\u70ba1.25\u3002","title":"\u4f7f\u7528\u7d72\u687f\u7684\u8ef8"},{"location":"Rotation_Distance.html#_5","text":"\u901a\u904e\u6e2c\u91cf\u63a8\u52d5\u5370\u7d72\u7684\u300c\u6efe\u9f52\u87ba\u6813\u300d\u7684\u76f4\u5f91\u4e26\u4f7f\u7528\u4ee5\u4e0b\u516c\u5f0f\uff0c\u53ef\u4ee5\u7372\u5f97\u64e0\u51fa\u6a5f\u7684\u521d\u59cb\u65cb\u8f49\u8ddd\u96e2\uff1a\u300crotation_distance = * 3.14\u300d \u5982\u679c\u64e0\u51fa\u6a5f\u4f7f\u7528\u9f52\u8f2a\uff0c\u5247\u9084\u9700\u8981 \u78ba\u5b9a\u548c\u8a2d\u5b9a\u64e0\u51fa\u6a5f\u7684\u9f52\u8f2a\u6bd4 \u3002 \u64e0\u51fa\u6a5f\u4e0a\u7684\u5be6\u969b\u65cb\u8f49\u8ddd\u96e2\u56e0\u5370\u8868\u6a5f\u800c\u7570\uff0c\u56e0\u70ba\u54ac\u5408\u5370\u7d72\u7684\u300c\u6efe\u9f52\u87ba\u6813\u300d\u7684\u6293\u5730\u529b\u53ef\u80fd\u6703\u6709\u6240\u4e0d\u540c\u3002\u5b83\u751a\u81f3\u53ef\u4ee5\u5728\u5370\u7d72\u7dda\u8ef8\u4e4b\u9593\u8b8a\u5316\u3002\u7372\u5f97\u521d\u59cbrotation_distance\u5f8c\uff0c\u4f7f\u7528 \u6e2c\u91cf\u548c\u4fee\u526a\u7a0b\u5f0f \u4ee5\u7372\u5f97\u66f4\u6e96\u78ba\u7684\u8a2d\u7f6e\u3002","title":"\u64e0\u51fa\u6a5f"},{"location":"Rotation_Distance.html#gear_ratio","text":"\u8a2d\u5b9a gear_ratio \u53ef\u4ee5\u7c21\u5316 rotation_distance \u5728\u6709\u9f52\u8f2a\u7bb1\uff08\u6216\u985e\u4f3c\uff09\u9023\u7dda\u7684\u6b65\u9032\u96fb\u6a5f\u7684\u914d\u7f6e\u3002\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\u6c92\u6709\u9f52\u8f2a\u7bb1--\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u5c31\u4e0d\u8981\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a gear_ratio \u3002 \u7576 gear_ratio \u88ab\u8a2d\u5b9a\u6642\uff0c rotation_distance \u4ee3\u8868\u8ef8\u5728\u9f52\u8f2a\u7bb1\u4e0a\u7684\u6700\u5f8c\u4e00\u500b\u9f52\u8f2a\u65cb\u8f49\u4e00\u5708\u6642\u7684\u79fb\u52d5\u8ddd\u96e2\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4e00\u500b\u4eba\u6b63\u5728\u4f7f\u7528\u4e00\u500b\u5177\u6709\"5:1\"\u6bd4\u7387\u7684\u9f52\u8f2a\u7bb1\uff0c\u90a3\u9ebc\u4ed6\u53ef\u4ee5\u7528 \u5c0d\u786c\u9ad4\u7684\u77ad\u89e3 \u4f86\u8a08\u7b97\u65cb\u8f49\u8ddd\u96e2\uff0c\u7136\u5f8c\u5c07 gear_ratio: 5:1 \u52a0\u5165\u914d\u7f6e\u4e2d\u3002 \u5c0d\u65bc\u4f7f\u7528\u76ae\u5e36\u548c\u76ae\u5e36\u8f2a\u5be6\u73fe\u7684\u50b3\u52d5\u88dd\u7f6e\uff0c\u53ef\u4ee5\u901a\u904e\u8a08\u7b97\u76ae\u5e36\u8f2a\u4e0a\u7684\u9f52\u4f86\u78ba\u5b9agear_ratio\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5e36\u670916\u9f52\u6ed1\u8f2a\u7684\u6b65\u9032\u5668\u9a45\u52d5\u4e0b\u4e00\u500b\u5177\u670980\u9f52\u7684\u6ed1\u8f2a\uff0c\u90a3\u9ebc\u5c07\u4f7f\u7528\"gear_ratio\uff1a80\uff1a16\"\u3002\u4e8b\u5be6\u4e0a\uff0c\u4eba\u5011\u53ef\u4ee5\u6253\u958b\u4e00\u500b\u666e\u901a\u7684\u73fe\u6210\u300c\u9f52\u8f2a\u7bb1\u300d\uff0c\u4e26\u8a08\u7b97\u5176\u4e2d\u7684\u9f52\u6578\u4ee5\u78ba\u8a8d\u5176\u9f52\u8f2a\u6bd4\u3002 \u8acb\u6ce8\u610f\uff0c\u6709\u6642\u8b8a\u901f\u7bb1\u7684\u9f52\u8f2a\u6bd4\u8207\u5ba3\u50b3\u7684\u9f52\u8f2a\u6bd4\u7565\u6709\u4e0d\u540c\u3002\u5e38\u898b\u7684BMG\u64e0\u51fa\u6a5f\u96fb\u6a5f\u9f52\u8f2a\u5c31\u662f\u4e00\u500b\u4f8b\u5b50 - \u5b83\u5011\u88ab\u5ba3\u50b3\u70ba\"3\uff1a1\"\uff0c\u4f46\u5be6\u969b\u4e0a\u4f7f\u7528\"50\uff1a17\"\u50b3\u52d5\u88dd\u7f6e\u3002\uff08\u4f7f\u7528\u6c92\u6709\u516c\u5206\u6bcd\u7684\u9f52\u6578\u53ef\u4ee5\u6539\u5584\u6574\u9ad4\u9f52\u8f2a\u78e8\u640d\uff0c\u56e0\u70ba\u9f52\u5728\u6bcf\u6b21\u65cb\u8f49\u6642\u4e26\u4e0d\u7e3d\u662f\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u556e\u5408\u3002\u5e38\u898b\u7684\"5.18\uff1a1\u884c\u661f\u9f52\u8f2a\u7bb1\"\uff0c\u66f4\u6e96\u78ba\u5730\u914d\u7f6e\u4e86\"gear_ratio\uff1a57\uff1a11\"\u3002 \u5982\u679c\u4e00\u500b\u8ef8\u4e0a\u4f7f\u7528\u4e86\u591a\u500b\u9f52\u8f2a\uff0c\u90a3\u9ebc\u5728 gear_ratio \u4e2d\u586b\u5beb\u4e00\u500b\u9017\u865f\u5206\u9694\u7684\u5217\u8868\u3002\u4f8b\u5982\uff0c\u4e00\u500b\"5:1\"\u9f52\u8f2a\u7bb1\u9a45\u52d5\u4e00\u500b16\u9f52\u7684\u76ae\u5e36\u8f2a\u523080\u9f52\u7684\u76ae\u5e36\u8f2a\uff0c\u53ef\u4ee5\u4f7f\u7528 gear_ratio: 5:1, 80:16 \u3002 \u5728\u5927\u591a\u6578\u60c5\u6cc1\u4e0b\uff0cgear_ratio \u61c9\u8a72\u7528\u6574\u6578\u4f86\u5b9a\u7fa9\uff0c\u56e0\u70ba\u666e\u901a\u7684\u9f52\u8f2a\u548c\u76ae\u5e36\u8f2a\u4e0a\u53ea\u6709\u6574\u6578\u7684\u9f52\u3002\u7136\u800c\uff0c\u5728\u76ae\u5e36\u5229\u7528\u6469\u64e6\u529b\u800c\u4e0d\u662f\u9f52\u4f86\u9a45\u52d5\u76ae\u5e36\u8f2a\u7684\u60c5\u6cc1\u4e0b\uff0c\u5728\u9f52\u8f2a\u6bd4\u4e2d\u4f7f\u7528\u4e00\u500b\u6d6e\u9ede\u6578\u53ef\u80fd\u662f\u6709\u610f\u7fa9\u7684\uff08\u4f8b\u5982\uff0c gear_ratio: 107.237:16 \uff09\u3002","title":"\u4f7f\u7528 gear_ratio\uff08\u9f52\u8f2a\u6bd4\uff09"},{"location":"SDCard_Updates.html","text":"\u901a\u904eSD\u5361\u66f4\u65b0 \u00b6 \u7576\u4eca\u8a31\u591a\u6d41\u884c\u7684\u63a7\u5236\u5668\u677f\u90fd\u5e36\u6709\u80fd\u5920\u901a\u904e SD \u5361\u66f4\u65b0\u97cc\u9ad4\u7684\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u3002 \u96d6\u7136\u9019\u5728\u5f88\u591a\u60c5\u6cc1\u4e0b\u90fd\u5f88\u65b9\u4fbf\uff0c\u4f46\u9019\u4e9b\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u901a\u5e38\u4e0d\u63d0\u4f9b\u5176\u4ed6\u65b9\u5f0f\u4f86\u66f4\u65b0\u97cc\u9ad4\u3002 \u5982\u679c\u60a8\u7684\u96fb\u8def\u677f\u5b89\u88dd\u5728\u5f88\u96e3\u63d2\u5165SD\u5361\u7684\u4f4d\u7f6e\u6216\u8005\u60a8\u9700\u8981\u7d93\u5e38\u66f4\u65b0\u97cc\u9ad4\uff0c\u9019\u53ef\u80fd\u6703\u5f88\u9ebb\u7169\u3002 \u5728 Klipper \u6700\u521d\u5237\u5165\u63a7\u5236\u5668\u540e\uff0c\u53ef\u4ee5\u5c07\u65b0\u97cc\u9ad4\u901a\u904e\u7db2\u8def\u50b3\u8f38\u5230 SD \u5361\u4e26\u901a\u904e ssh \u555f\u52d5\u5237\u5beb\u904e\u7a0b\u3002 \u5178\u578b\u7684\u5347\u7d1a\u7a0b\u5f0f \u00b6 \u4f7f\u7528 SD \u5361\u66f4\u65b0 MCU \u97cc\u9ad4\u7684\u904e\u7a0b\u8207\u5176\u4ed6\u65b9\u6cd5\u985e\u4f3c\u3002 \u4e0d\u9700\u8981\u4f7f\u7528 make flash \uff0c\u800c\u662f\u9700\u8981\u57f7\u884c\u4e00\u500b\u8f14\u52a9\u6307\u4ee4\u78bc flash-sdcard.sh \u3002 \u66f4\u65b0 BigTreeTech SKR 1.3 \u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a sudo service klipper stop cd ~/klipper git pull make clean make menuconfig make ./scripts/flash-sdcard.sh /dev/ttyACM0 btt-skr-v1.3 sudo service klipper start \u7531\u4f7f\u7528\u8005\u6c7a\u5b9a\u88dd\u7f6e\u4f4d\u7f6e\u548c\u96fb\u8def\u677f\u540d\u7a31\u3002 \u5982\u679c\u4f7f\u7528\u8005\u9700\u8981\u91cd\u65b0\u6574\u7406\u591a\u500b\u677f\uff0c\u5728\u91cd\u65b0\u555f\u52d5 Klipper \u670d\u52d9\u4e4b\u524d\uff0c\u61c9\u8a72\u70ba\u6bcf\u500b\u677f\u57f7\u884c flash-sdcard.sh \uff08\u6216 make flash \uff0c\u5982\u679c\u5408\u9069\uff09\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u652f\u63f4\u7684\u5fae\u63a7\u5236\u5668\u677f\uff1a ./scripts/flash-sdcard.sh -l \u5982\u679c\u60a8\u6c92\u6709\u770b\u5230\u60a8\u7684\u96fb\u8def\u677f\u5217\u51fa\uff0c\u5247\u53ef\u80fd\u9700\u8981\u65b0\u589e\u4e00\u500b\u65b0\u7684\u96fb\u8def\u677f\u5b9a\u7fa9 \u5982\u4e0b\u6240\u8ff0 \u3002 \u9ad8\u7d1a\u7528\u6cd5 \u00b6 \u4e0a\u8ff0\u547d\u4ee4\u5047\u8a2d\u60a8\u7684 MCU \u4ee5\u9810\u8a2d\u6ce2\u7279\u7387 250000 \u9023\u7dda\u4e26\u4e14\u97cc\u9ad4\u4f4d\u65bc ~/klipper/out/klipper.bin \u3002 flash-sdcard.sh \u6307\u4ee4\u78bc\u63d0\u4f9b\u4e86\u66f4\u6539\u9019\u4e9b\u9810\u8a2d\u503c\u7684\u9078\u9805\u3002 \u6240\u6709\u9078\u9805\u90fd\u53ef\u4ee5\u901a\u904e\u5e6b\u52a9\u756b\u9762\u6aa2\u8996\uff1a ./scripts/flash-sdcard.sh -h Klipper SD\u5361\u66f4\u65b0\u5de5\u5177 \u4f7f\u7528\u65b9\u6cd5\uff1aflash_sdcard.sh [-h] [-l] [-b <baud>] [-f <firmware>] <device> <board> \u4f4d\u7f6e\u53c3\u6578\uff1a <device> \u88dd\u7f6e\u4e32\u5217\u57e0 <board> \u4e3b\u677f\u578b\u5225 \u53ef\u9078\u53c3\u6578\uff1a -h \u986f\u793a\u9019\u689d\u8cc7\u8a0a -l \u5217\u51fa\u53ef\u7528\u4e3b\u677f -b <baud> \u4e32\u5217\u57e0\u6ce2\u7279\u7387\uff08\u9810\u8a2d\u70ba250000\uff09 -f <firmware> klipper.bin\u6a94\u6848\u8def\u5f91 \u5982\u679c\u60a8\u7684\u96fb\u8def\u677f\u4f7f\u7528\u4ee5\u81ea\u5b9a\u7fa9\u6ce2\u7279\u7387\u9023\u7dda\u7684\u97cc\u9ad4\u91cd\u65b0\u6574\u7406\uff0c\u5247\u53ef\u4ee5\u901a\u904e\u6307\u5b9a -b \u9078\u9805\u9032\u884c\u5347\u7d1a\uff1a ./scripts/flash-sdcard.sh -b 115200 /dev/ttyAMA0 btt-skr-v1.3 \u5982\u679c\u60a8\u5e0c\u671b\u5feb\u9583\u8a18\u61b6\u9ad4\u4f4d\u65bc\u9810\u8a2d\u4f4d\u7f6e\u4ee5\u5916\u7684\u5176\u4ed6\u4f4d\u7f6e\u7684 Klipper \u69cb\u5efa\uff0c\u53ef\u4ee5\u901a\u904e\u6307\u5b9a -f \u9078\u9805\u4f86\u5b8c\u6210\uff1a ./scripts/flash-sdcard.sh -f ~/downloads/klipper.bin /dev/ttyAMA0 btt-skr-v1.3 \u8acb\u6ce8\u610f\uff0c\u5347\u7d1a MKS Robin E3 \u6642\uff0c\u7121\u9700\u624b\u52d5\u57f7\u884c update_mks_robin.py \u4e26\u5c07\u7522\u751f\u7684\u4e8c\u9032\u5236\u6a94\u6848\u63d0\u4f9b\u7d66 flash-sdcard.sh \u3002 \u6b64\u904e\u7a0b\u5728\u4e0a\u50b3\u904e\u7a0b\u4e2d\u81ea\u52d5\u57f7\u884c\u3002 \u6ce8\u610f\u4e8b\u9805 \u00b6 \u5982\u4ecb\u7d39\u4e2d\u6240\u8ff0\uff0c\u6b64\u65b9\u6cd5\u50c5\u9069\u7528\u65bc\u5347\u7d1a\u97cc\u9ad4\u3002 \u521d\u59cb\u5237\u978b\u7a0b\u5f0f\u5fc5\u9808\u6309\u7167\u9069\u7528\u65bc\u60a8\u7684\u63a7\u5236\u5668\u677f\u7684\u8aaa\u660e\u624b\u52d5\u5b8c\u6210\u3002 \u96d6\u7136\u53ef\u4ee5\u91cd\u65b0\u6574\u7406\u66f4\u6539\u5e8f\u5217\u6ce2\u7279\u7387\u6216\u9023\u7dda\u4ecb\u9762\uff08\u5373\uff1a\u5f9e USB \u5230 UART\uff09\u7684\u69cb\u5efa\uff0c\u4f46\u9a57\u8b49\u7d42\u5c07\u5931\u6557\uff0c\u56e0\u70ba\u6307\u4ee4\u78bc\u5c07\u7121\u6cd5\u91cd\u65b0\u9023\u7dda\u5230 MCU \u4ee5\u9a57\u8b49\u76ee\u524d\u7248\u672c\u3002 \u50c5\u652f\u63f4\u4f7f\u7528 SPI \u9032\u884c SD \u5361\u901a\u8a0a\u7684\u677f\u3002 \u4f7f\u7528 SDIO \u7684\u677f\uff0c\u4f8b\u5982 Flymaker Flyboard \u548c MKS Robin Nano V1/V2\uff0c\u5c07\u7121\u6cd5\u5de5\u4f5c\u3002 \u96fb\u8def\u677f\u5b9a\u7fa9 \u00b6 \u5927\u591a\u6578\u5e38\u898b\u7684\u96fb\u8def\u677f\u90fd\u61c9\u8a72\u53ef\u7528\uff0c\u4f46\u5982\u6709\u5fc5\u8981\uff0c\u53ef\u4ee5\u65b0\u589e\u65b0\u7684\u96fb\u8def\u677f\u5b9a\u7fa9\u3002 \u677f\u5b9a\u7fa9\u4f4d\u65bc ~/klipper/scripts/spi_flash/board_defs.py \u3002 \u5b9a\u7fa9\u5132\u5b58\u5728\u5b57\u5178\u4e2d\uff0c\u4f8b\u5982\uff1a BOARD_DEFS = { 'generic-lpc1768' : { 'mcu' : \"lpc1768\" , 'spi_bus' : \"ssp1\" , \"cs_pin\" : \"P0.6\" }, ...< \u66f4\u591a\u5b9a\u7fa9 > } \u53ef\u4ee5\u6307\u5b9a\u4ee5\u4e0b\u6b04\u4f4d\uff1a mcu \uff1a\u5fae\u63a7\u5236\u5668\u578b\u5225\u3002\u9019\u53ef\u4ee5\u5728\u4f7f\u7528 make menuconfig \u914d\u7f6e\u69cb\u5efa\u914d\u7f6e\u540e\u901a\u904e\u57f7\u884c cat .config | grep CONFIG_MCU \u7372\u53d6\u3002 \u6b64\u6b04\u4f4d\u662f\u5fc5\u9700\u7684\u3002 spi_bus \uff1a\u9023\u7dda\u5230 SD \u5361\u7684 SPI \u532f\u6d41\u6392\u3002 \u9019\u61c9\u8a72\u5f9e\u96fb\u8def\u677f\u7684\u539f\u7406\u5716\u4e2d\u6aa2\u7d22\u3002 \u6b64\u6b04\u4f4d\u662f\u5fc5\u9700\u7684\u3002 cs_pin \uff1a\u9023\u7dda\u5230 SD \u5361\u7684\u6676\u7247\u9078\u64c7\u5f15\u8173\u3002 \u9019\u61c9\u8a72\u5f9e\u96fb\u8def\u677f\u539f\u7406\u5716\u4e2d\u6aa2\u7d22\u3002 \u6b64\u6b04\u4f4d\u662f\u5fc5\u9700\u7684\u3002 firmware_path \uff1aSD \u5361\u4e0a\u97cc\u9ad4\u61c9\u50b3\u8f38\u7684\u8def\u5f91\u3002 \u9810\u8a2d\u662f firmware.bin \u3002 current_firmware_path \u6210\u529f\u91cd\u65b0\u6574\u7406\u5f8c\u91cd\u547d\u540d\u7684\u97cc\u9ad4\u6a94\u6848\u6240\u5728\u7684 SD \u5361\u4e0a\u7684\u8def\u5f91\u3002 \u9810\u8a2d\u662f firmware.cur \u3002 \u5982\u679c\u9700\u8981\u8edf\u9ad4 SPI\uff0c spi_bus \u6b04\u4f4d\u61c9\u8a2d\u5b9a\u70ba swspi \uff0c\u4e26\u61c9\u6307\u5b9a\u4ee5\u4e0b\u9644\u52a0\u6b04\u4f4d\uff1a spi_pins \uff1a\u9019\u61c9\u8a72\u662f 3 \u500b\u9017\u865f\u5206\u9694\u7684\u5f15\u8173\uff0c\u4ee5 miso,mosi,sclk \u7684\u683c\u5f0f\u9023\u7dda\u5230 SD \u5361\u3002 \u8edf\u9ad4 SPI \u662f\u5fc5\u8981\u7684\u61c9\u8a72\u662f\u975e\u5e38\u7f55\u898b\u7684\uff0c\u901a\u5e38\u53ea\u6709\u8a2d\u8a08\u932f\u8aa4\u7684\u677f\u624d\u6703\u9700\u8981\u5b83\u3002 btt-skr-pro \u677f\u5b9a\u7fa9\u63d0\u4f9b\u4e86\u4e00\u500b\u793a\u4f8b\u3002 \u5728\u5efa\u7acb\u65b0\u677f\u5b9a\u7fa9\u4e4b\u524d\uff0c\u61c9\u6aa2\u67e5\u73fe\u6709\u677f\u5b9a\u7fa9\u662f\u5426\u6eff\u8db3\u65b0\u677f\u6240\u9700\u7684\u6a19\u6e96\u3002 \u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u53ef\u4ee5\u6307\u5b9a BOARD_ALIAS \u3002 \u4f8b\u5982\uff0c\u53ef\u4ee5\u65b0\u589e\u4ee5\u4e0b\u5225\u540d\u4f86\u6307\u5b9a\u300cmy-new-board\u300d\u4f5c\u70ba\u300cgeneric-lpc1768\u300d\u7684\u5225\u540d\uff1a BOARD_ALIASES = { ...< \u539f\u5148\u7684\u5225\u540d > , 'my-new-board' : BOARD_DEFS [ 'generic-lpc1768' ], } \u5982\u679c\u60a8\u9700\u8981\u4e00\u500b\u65b0\u7684\u96fb\u8def\u677f\u5b9a\u7fa9\u4e26\u4e14\u60a8\u5c0d\u4e0a\u8ff0\u904e\u7a0b\u611f\u5230\u4e0d\u8212\u670d\uff0c\u5efa\u8b70\u60a8\u5728 Klipper Community Discord \u4e2d\u8acb\u6c42\u4e00\u500b\u3002","title":"\u901a\u904eSD\u5361\u66f4\u65b0"},{"location":"SDCard_Updates.html#sd","text":"\u7576\u4eca\u8a31\u591a\u6d41\u884c\u7684\u63a7\u5236\u5668\u677f\u90fd\u5e36\u6709\u80fd\u5920\u901a\u904e SD \u5361\u66f4\u65b0\u97cc\u9ad4\u7684\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u3002 \u96d6\u7136\u9019\u5728\u5f88\u591a\u60c5\u6cc1\u4e0b\u90fd\u5f88\u65b9\u4fbf\uff0c\u4f46\u9019\u4e9b\u5f15\u5c0e\u8f09\u5165\u7a0b\u5f0f\u901a\u5e38\u4e0d\u63d0\u4f9b\u5176\u4ed6\u65b9\u5f0f\u4f86\u66f4\u65b0\u97cc\u9ad4\u3002 \u5982\u679c\u60a8\u7684\u96fb\u8def\u677f\u5b89\u88dd\u5728\u5f88\u96e3\u63d2\u5165SD\u5361\u7684\u4f4d\u7f6e\u6216\u8005\u60a8\u9700\u8981\u7d93\u5e38\u66f4\u65b0\u97cc\u9ad4\uff0c\u9019\u53ef\u80fd\u6703\u5f88\u9ebb\u7169\u3002 \u5728 Klipper \u6700\u521d\u5237\u5165\u63a7\u5236\u5668\u540e\uff0c\u53ef\u4ee5\u5c07\u65b0\u97cc\u9ad4\u901a\u904e\u7db2\u8def\u50b3\u8f38\u5230 SD \u5361\u4e26\u901a\u904e ssh \u555f\u52d5\u5237\u5beb\u904e\u7a0b\u3002","title":"\u901a\u904eSD\u5361\u66f4\u65b0"},{"location":"SDCard_Updates.html#_1","text":"\u4f7f\u7528 SD \u5361\u66f4\u65b0 MCU \u97cc\u9ad4\u7684\u904e\u7a0b\u8207\u5176\u4ed6\u65b9\u6cd5\u985e\u4f3c\u3002 \u4e0d\u9700\u8981\u4f7f\u7528 make flash \uff0c\u800c\u662f\u9700\u8981\u57f7\u884c\u4e00\u500b\u8f14\u52a9\u6307\u4ee4\u78bc flash-sdcard.sh \u3002 \u66f4\u65b0 BigTreeTech SKR 1.3 \u53ef\u80fd\u5982\u4e0b\u6240\u793a\uff1a sudo service klipper stop cd ~/klipper git pull make clean make menuconfig make ./scripts/flash-sdcard.sh /dev/ttyACM0 btt-skr-v1.3 sudo service klipper start \u7531\u4f7f\u7528\u8005\u6c7a\u5b9a\u88dd\u7f6e\u4f4d\u7f6e\u548c\u96fb\u8def\u677f\u540d\u7a31\u3002 \u5982\u679c\u4f7f\u7528\u8005\u9700\u8981\u91cd\u65b0\u6574\u7406\u591a\u500b\u677f\uff0c\u5728\u91cd\u65b0\u555f\u52d5 Klipper \u670d\u52d9\u4e4b\u524d\uff0c\u61c9\u8a72\u70ba\u6bcf\u500b\u677f\u57f7\u884c flash-sdcard.sh \uff08\u6216 make flash \uff0c\u5982\u679c\u5408\u9069\uff09\u3002 \u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5217\u51fa\u652f\u63f4\u7684\u5fae\u63a7\u5236\u5668\u677f\uff1a ./scripts/flash-sdcard.sh -l \u5982\u679c\u60a8\u6c92\u6709\u770b\u5230\u60a8\u7684\u96fb\u8def\u677f\u5217\u51fa\uff0c\u5247\u53ef\u80fd\u9700\u8981\u65b0\u589e\u4e00\u500b\u65b0\u7684\u96fb\u8def\u677f\u5b9a\u7fa9 \u5982\u4e0b\u6240\u8ff0 \u3002","title":"\u5178\u578b\u7684\u5347\u7d1a\u7a0b\u5f0f"},{"location":"SDCard_Updates.html#_2","text":"\u4e0a\u8ff0\u547d\u4ee4\u5047\u8a2d\u60a8\u7684 MCU \u4ee5\u9810\u8a2d\u6ce2\u7279\u7387 250000 \u9023\u7dda\u4e26\u4e14\u97cc\u9ad4\u4f4d\u65bc ~/klipper/out/klipper.bin \u3002 flash-sdcard.sh \u6307\u4ee4\u78bc\u63d0\u4f9b\u4e86\u66f4\u6539\u9019\u4e9b\u9810\u8a2d\u503c\u7684\u9078\u9805\u3002 \u6240\u6709\u9078\u9805\u90fd\u53ef\u4ee5\u901a\u904e\u5e6b\u52a9\u756b\u9762\u6aa2\u8996\uff1a ./scripts/flash-sdcard.sh -h Klipper SD\u5361\u66f4\u65b0\u5de5\u5177 \u4f7f\u7528\u65b9\u6cd5\uff1aflash_sdcard.sh [-h] [-l] [-b <baud>] [-f <firmware>] <device> <board> \u4f4d\u7f6e\u53c3\u6578\uff1a <device> \u88dd\u7f6e\u4e32\u5217\u57e0 <board> \u4e3b\u677f\u578b\u5225 \u53ef\u9078\u53c3\u6578\uff1a -h \u986f\u793a\u9019\u689d\u8cc7\u8a0a -l \u5217\u51fa\u53ef\u7528\u4e3b\u677f -b <baud> \u4e32\u5217\u57e0\u6ce2\u7279\u7387\uff08\u9810\u8a2d\u70ba250000\uff09 -f <firmware> klipper.bin\u6a94\u6848\u8def\u5f91 \u5982\u679c\u60a8\u7684\u96fb\u8def\u677f\u4f7f\u7528\u4ee5\u81ea\u5b9a\u7fa9\u6ce2\u7279\u7387\u9023\u7dda\u7684\u97cc\u9ad4\u91cd\u65b0\u6574\u7406\uff0c\u5247\u53ef\u4ee5\u901a\u904e\u6307\u5b9a -b \u9078\u9805\u9032\u884c\u5347\u7d1a\uff1a ./scripts/flash-sdcard.sh -b 115200 /dev/ttyAMA0 btt-skr-v1.3 \u5982\u679c\u60a8\u5e0c\u671b\u5feb\u9583\u8a18\u61b6\u9ad4\u4f4d\u65bc\u9810\u8a2d\u4f4d\u7f6e\u4ee5\u5916\u7684\u5176\u4ed6\u4f4d\u7f6e\u7684 Klipper \u69cb\u5efa\uff0c\u53ef\u4ee5\u901a\u904e\u6307\u5b9a -f \u9078\u9805\u4f86\u5b8c\u6210\uff1a ./scripts/flash-sdcard.sh -f ~/downloads/klipper.bin /dev/ttyAMA0 btt-skr-v1.3 \u8acb\u6ce8\u610f\uff0c\u5347\u7d1a MKS Robin E3 \u6642\uff0c\u7121\u9700\u624b\u52d5\u57f7\u884c update_mks_robin.py \u4e26\u5c07\u7522\u751f\u7684\u4e8c\u9032\u5236\u6a94\u6848\u63d0\u4f9b\u7d66 flash-sdcard.sh \u3002 \u6b64\u904e\u7a0b\u5728\u4e0a\u50b3\u904e\u7a0b\u4e2d\u81ea\u52d5\u57f7\u884c\u3002","title":"\u9ad8\u7d1a\u7528\u6cd5"},{"location":"SDCard_Updates.html#_3","text":"\u5982\u4ecb\u7d39\u4e2d\u6240\u8ff0\uff0c\u6b64\u65b9\u6cd5\u50c5\u9069\u7528\u65bc\u5347\u7d1a\u97cc\u9ad4\u3002 \u521d\u59cb\u5237\u978b\u7a0b\u5f0f\u5fc5\u9808\u6309\u7167\u9069\u7528\u65bc\u60a8\u7684\u63a7\u5236\u5668\u677f\u7684\u8aaa\u660e\u624b\u52d5\u5b8c\u6210\u3002 \u96d6\u7136\u53ef\u4ee5\u91cd\u65b0\u6574\u7406\u66f4\u6539\u5e8f\u5217\u6ce2\u7279\u7387\u6216\u9023\u7dda\u4ecb\u9762\uff08\u5373\uff1a\u5f9e USB \u5230 UART\uff09\u7684\u69cb\u5efa\uff0c\u4f46\u9a57\u8b49\u7d42\u5c07\u5931\u6557\uff0c\u56e0\u70ba\u6307\u4ee4\u78bc\u5c07\u7121\u6cd5\u91cd\u65b0\u9023\u7dda\u5230 MCU \u4ee5\u9a57\u8b49\u76ee\u524d\u7248\u672c\u3002 \u50c5\u652f\u63f4\u4f7f\u7528 SPI \u9032\u884c SD \u5361\u901a\u8a0a\u7684\u677f\u3002 \u4f7f\u7528 SDIO \u7684\u677f\uff0c\u4f8b\u5982 Flymaker Flyboard \u548c MKS Robin Nano V1/V2\uff0c\u5c07\u7121\u6cd5\u5de5\u4f5c\u3002","title":"\u6ce8\u610f\u4e8b\u9805"},{"location":"SDCard_Updates.html#_4","text":"\u5927\u591a\u6578\u5e38\u898b\u7684\u96fb\u8def\u677f\u90fd\u61c9\u8a72\u53ef\u7528\uff0c\u4f46\u5982\u6709\u5fc5\u8981\uff0c\u53ef\u4ee5\u65b0\u589e\u65b0\u7684\u96fb\u8def\u677f\u5b9a\u7fa9\u3002 \u677f\u5b9a\u7fa9\u4f4d\u65bc ~/klipper/scripts/spi_flash/board_defs.py \u3002 \u5b9a\u7fa9\u5132\u5b58\u5728\u5b57\u5178\u4e2d\uff0c\u4f8b\u5982\uff1a BOARD_DEFS = { 'generic-lpc1768' : { 'mcu' : \"lpc1768\" , 'spi_bus' : \"ssp1\" , \"cs_pin\" : \"P0.6\" }, ...< \u66f4\u591a\u5b9a\u7fa9 > } \u53ef\u4ee5\u6307\u5b9a\u4ee5\u4e0b\u6b04\u4f4d\uff1a mcu \uff1a\u5fae\u63a7\u5236\u5668\u578b\u5225\u3002\u9019\u53ef\u4ee5\u5728\u4f7f\u7528 make menuconfig \u914d\u7f6e\u69cb\u5efa\u914d\u7f6e\u540e\u901a\u904e\u57f7\u884c cat .config | grep CONFIG_MCU \u7372\u53d6\u3002 \u6b64\u6b04\u4f4d\u662f\u5fc5\u9700\u7684\u3002 spi_bus \uff1a\u9023\u7dda\u5230 SD \u5361\u7684 SPI \u532f\u6d41\u6392\u3002 \u9019\u61c9\u8a72\u5f9e\u96fb\u8def\u677f\u7684\u539f\u7406\u5716\u4e2d\u6aa2\u7d22\u3002 \u6b64\u6b04\u4f4d\u662f\u5fc5\u9700\u7684\u3002 cs_pin \uff1a\u9023\u7dda\u5230 SD \u5361\u7684\u6676\u7247\u9078\u64c7\u5f15\u8173\u3002 \u9019\u61c9\u8a72\u5f9e\u96fb\u8def\u677f\u539f\u7406\u5716\u4e2d\u6aa2\u7d22\u3002 \u6b64\u6b04\u4f4d\u662f\u5fc5\u9700\u7684\u3002 firmware_path \uff1aSD \u5361\u4e0a\u97cc\u9ad4\u61c9\u50b3\u8f38\u7684\u8def\u5f91\u3002 \u9810\u8a2d\u662f firmware.bin \u3002 current_firmware_path \u6210\u529f\u91cd\u65b0\u6574\u7406\u5f8c\u91cd\u547d\u540d\u7684\u97cc\u9ad4\u6a94\u6848\u6240\u5728\u7684 SD \u5361\u4e0a\u7684\u8def\u5f91\u3002 \u9810\u8a2d\u662f firmware.cur \u3002 \u5982\u679c\u9700\u8981\u8edf\u9ad4 SPI\uff0c spi_bus \u6b04\u4f4d\u61c9\u8a2d\u5b9a\u70ba swspi \uff0c\u4e26\u61c9\u6307\u5b9a\u4ee5\u4e0b\u9644\u52a0\u6b04\u4f4d\uff1a spi_pins \uff1a\u9019\u61c9\u8a72\u662f 3 \u500b\u9017\u865f\u5206\u9694\u7684\u5f15\u8173\uff0c\u4ee5 miso,mosi,sclk \u7684\u683c\u5f0f\u9023\u7dda\u5230 SD \u5361\u3002 \u8edf\u9ad4 SPI \u662f\u5fc5\u8981\u7684\u61c9\u8a72\u662f\u975e\u5e38\u7f55\u898b\u7684\uff0c\u901a\u5e38\u53ea\u6709\u8a2d\u8a08\u932f\u8aa4\u7684\u677f\u624d\u6703\u9700\u8981\u5b83\u3002 btt-skr-pro \u677f\u5b9a\u7fa9\u63d0\u4f9b\u4e86\u4e00\u500b\u793a\u4f8b\u3002 \u5728\u5efa\u7acb\u65b0\u677f\u5b9a\u7fa9\u4e4b\u524d\uff0c\u61c9\u6aa2\u67e5\u73fe\u6709\u677f\u5b9a\u7fa9\u662f\u5426\u6eff\u8db3\u65b0\u677f\u6240\u9700\u7684\u6a19\u6e96\u3002 \u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\uff0c\u53ef\u4ee5\u6307\u5b9a BOARD_ALIAS \u3002 \u4f8b\u5982\uff0c\u53ef\u4ee5\u65b0\u589e\u4ee5\u4e0b\u5225\u540d\u4f86\u6307\u5b9a\u300cmy-new-board\u300d\u4f5c\u70ba\u300cgeneric-lpc1768\u300d\u7684\u5225\u540d\uff1a BOARD_ALIASES = { ...< \u539f\u5148\u7684\u5225\u540d > , 'my-new-board' : BOARD_DEFS [ 'generic-lpc1768' ], } \u5982\u679c\u60a8\u9700\u8981\u4e00\u500b\u65b0\u7684\u96fb\u8def\u677f\u5b9a\u7fa9\u4e26\u4e14\u60a8\u5c0d\u4e0a\u8ff0\u904e\u7a0b\u611f\u5230\u4e0d\u8212\u670d\uff0c\u5efa\u8b70\u60a8\u5728 Klipper Community Discord \u4e2d\u8acb\u6c42\u4e00\u500b\u3002","title":"\u96fb\u8def\u677f\u5b9a\u7fa9"},{"location":"Skew_Correction.html","text":"\u504f\u659c\u6821\u6b63 \u00b6 \u57fa\u65bc\u8edf\u9ad4\u7684\u504f\u659c\u6821\u6b63\u53ef\u4ee5\u5e6b\u52a9\u89e3\u6c7a\u5370\u8868\u6a5f\u88dd\u914d\u4e0d\u5b8c\u5168\u65b9\u5f62\u9020\u6210\u7684\u5c3a\u5bf8\u4e0d\u6e96\u78ba\u554f\u984c\u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u7684\u5370\u8868\u6a5f\u56b4\u91cd\u504f\u659c\uff0c\u5f37\u70c8\u5efa\u8b70\u5728\u61c9\u7528\u57fa\u65bc\u8edf\u9ad4\u7684\u6821\u6b63\u4e4b\u524d\uff0c\u9996\u5148\u4f7f\u7528\u6a5f\u68b0\u624b\u6bb5\u4f7f\u5370\u8868\u6a5f\u5118\u53ef\u80fd\u7684\u65b9\u5f62\u3002 \u5217\u5370\u4e00\u500b\u6821\u6e96\u7269\u4ef6 \u00b6 \u7cfe\u6b63\u504f\u659c\u7684\u7b2c\u4e00\u6b65\u662f\u6cbf\u8457\u4f60\u8981\u7cfe\u6b63\u7684\u5e73\u9762\u5217\u5370\u4e00\u500b \u6821\u6e96\u7269\u4ef6 \u3002\u9084\u6709\u4e00\u500b \u6821\u6e96\u7269\u4ef6 \u5305\u62ec\u4e86\u4e00\u500b\u6a21\u578b\u4e2d\u7684\u6240\u6709\u5e73\u9762\u3002\u4f60\u9700\u8981\u65cb\u8f49\u9019\u500b\u7269\u4ef6\uff0c\u4f7f\u89d2A\u671d\u5411\u5e73\u9762\u7684\u539f\u9ede\u3002 \u4e0d\u8981\u5728\u9019\u6b21\u5217\u5370\u4e2d\u61c9\u7528\u50be\u659c\u6821\u6b63\u3002\u4f60\u53ef\u4ee5\u901a\u904e\u5f9eprinter.cfg\u4e2d\u522a\u9664 [skew_correction] \u6a21\u7d44\u6216\u767c\u9001 SET_SKEW CLEAR=1 G-Code \u4f86\u5be6\u73fe\u3002 \u9032\u884c\u6e2c\u91cf \u00b6 [skew_correcton] \u6a21\u7d44\u9700\u8981\u4e09\u6b21\u5c0d\u6821\u6e96\u5e73\u9762\u7684\u6e2c\u91cf\u503c\uff1b\u5f9e\u89d2 A \u5230\u89d2 C \u7684\u8ddd\u96e2\uff0c\u5f9e\u89d2 B \u5230\u89d2 D \u7684\u8ddd\u96e2\uff0c\u4ee5\u53ca\u5f9e\u89d2 A \u5230\u89d2 D \u7684\u8ddd\u96e2\u3002\u7576\u6e2c\u91cf\u8ddd\u96e2 AD \u6642\uff0c\u4e0d\u5305\u62ec\u4e00\u4e9b\u6e2c\u8a66\u7269\u4ef6\u7684\u89d2\u4e0a\u7684\u5e73\u9762\u3002 \u914d\u7f6e\u504f\u659c \u00b6 \u78ba\u4fdd [skew_correction] \u5df2\u7d93\u5728 printer.cfg \u4e2d\u3002\u73fe\u5728\u53ef\u4ee5\u4f7f\u7528 SET_SKEW G-Code \u4f86\u914d\u7f6e skew_correcton\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5c0d XY \u5e73\u9762\u6e2c\u91cf\u7684\u8ddd\u96e2\u7d50\u679c\u5982\u4e0b\uff1a Length AC = 140.4 Length BD = 142.8 Length AD = 99.8 SET_SKEW \u53ef\u4ee5\u914d\u7f6e XY \u5e73\u9762\u7684\u504f\u659c\u6821\u6b63\u3002 SET_SKEW XY=140.4,142.8,99.8 \u4f60\u4e5f\u53ef\u4ee5\u5728 G\u7a0b\u5f0f\u78bc\u4e2d\u52a0\u5165 XZ \u548c YZ \u7684\u6e2c\u91cf\u503c\uff1a SET_SKEW XY=140.4,142.8,99.8 XZ=141.6,141.4,99.8 YZ=142.4,140.5,99.5 [skew_correction] \u6a21\u7d44\u4e5f\u652f\u63f4\u591a\u914d\u7f6e\u7ba1\u7406\uff0c\u7528\u6cd5\u985e\u4f3c [bed_mesh] \u3002\u5728\u4f7f\u7528 SET_SKEW G-Code \u8a2d\u5b9a\u504f\u659c\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 SKEW_PROFILE G-Code\u4f86\u5132\u5b58\u504f\u659c\u914d\u7f6e\uff1a SKEW_PROFILE SAVE=my_skew_profile \u5728\u57f7\u884c\u9019\u500b\u547d\u4ee4\u4e4b\u5f8c\uff0cKlipper \u6703\u63d0\u793a\u4f60\u767c\u9001 SAVE_CONFIG G-Code \u4f86\u5132\u5b58\u914d\u7f6e\u3002\u5982\u679c\u6c92\u6709\u540d\u70ba my_skew_profile \u7684\u914d\u7f6e\uff0c\u90a3\u9ebc\u4e00\u500b\u65b0\u7684\u914d\u7f6e\u5c07\u88ab\u5efa\u7acb\u3002\u5982\u679c\u547d\u540d\u7684\u914d\u7f6e\u6a94\u6848\u5b58\u5728\uff0c\u5b83\u5c07\u88ab\u8986\u84cb\u3002 \u5132\u5b58\u914d\u7f6e\u540e\uff0c\u60a8\u53ef\u4ee5\u8f09\u5165\u5b83\uff1a SKEW_PROFILE LOAD=my_skew_profile \u4e5f\u53ef\u4ee5\u522a\u9664\u820a\u7684\u6216\u904e\u6642\u7684\u914d\u7f6e\uff1a SKEW_PROFILE REMOVE=my_skew_profile \u5728\u522a\u9664\u4e00\u500b\u914d\u7f6e\u6a94\u6848\u540e\uff0cKlipper \u63d0\u793a\u4f60\u767c\u9001 SAVE_CONFIG \u4ee5\u4fdd\u7559\u4fee\u6539\u3002 \u9a57\u8b49\u4fee\u6b63 \u00b6 \u5728\u914d\u7f6e\u4e86 skew_correction \u4e4b\u5f8c\uff0c\u4f60\u53ef\u4ee5\u5728\u555f\u7528\u4fee\u6b63\u7684\u60c5\u6cc1\u4e0b\u91cd\u65b0\u5217\u5370\u6821\u6e96\u7269\u4ef6\u3002\u4f7f\u7528\u4e0b\u9762\u7684 G-Code \u4f86\u6aa2\u67e5\u6bcf\u500b\u5e73\u9762\u7684\u504f\u659c\u3002\u5176\u7d50\u679c\u61c9\u8a72\u4f4e\u65bc\u901a\u904e GET_CURRENT_SKEW \u5831\u544a\u7684\u7d50\u679c\u3002 CALC_MEASURED_SKEW AC=<ad\u9577\u5ea6> BD=<bd\u9577\u5ea6> AD=<ad\u9577\u5ea6> \u6ce8\u610f\u4e8b\u9805 \u00b6 \u7531\u65bc\u504f\u659c\u6821\u6b63\u7684\u6027\u8cea\uff0c\u5efa\u8b70\u4e4b\u5728\u6b78\u4f4d\u548c\u4efb\u4f55\u578b\u5225\u7684\u9760\u8fd1\u5217\u5370\u5340\u57df\u908a\u7de3\u7684\u904b\u52d5\uff08\u5982\u6e05\u9664\u6216\u5674\u5634\u64e6\u9664\uff09\u5b8c\u6210\u4e4b\u5f8c\u7684\u958b\u59cb\u5217\u5370 G-Code \u4e2d\u914d\u7f6e\u504f\u659c\u6821\u6b63\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 SET_SKEW \u6216 SKEW_PROFILE G-Code \u4f86\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002\u9084\u5efa\u8b70\u5728\u7d50\u675f\u5217\u5370 G-Code \u4e2d\u767c\u51fa SET_SKEW CLEAR=1 \u3002 \u8acb\u8a18\u4f4f\uff0c [skew_correction] \u6709\u53ef\u80fd\u7522\u751f\u4e00\u500b\u6703\u4f7f\u5217\u5370\u982d\u5728 X \u548c/\u6216 Y \u8ef8\u4e0a\u8d85\u51fa\u5370\u8868\u6a5f\u908a\u754c\u7684\u4fee\u6b63\u3002\u5efa\u8b70\u5728\u4f7f\u7528 [skew_correction] \u6642\u5c07\u5217\u5370\u7269\u4ef6\u9060\u96e2\u5370\u8868\u6a5f\u908a\u7de3\u3002","title":"\u504f\u659c\u6821\u6b63"},{"location":"Skew_Correction.html#_1","text":"\u57fa\u65bc\u8edf\u9ad4\u7684\u504f\u659c\u6821\u6b63\u53ef\u4ee5\u5e6b\u52a9\u89e3\u6c7a\u5370\u8868\u6a5f\u88dd\u914d\u4e0d\u5b8c\u5168\u65b9\u5f62\u9020\u6210\u7684\u5c3a\u5bf8\u4e0d\u6e96\u78ba\u554f\u984c\u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u60a8\u7684\u5370\u8868\u6a5f\u56b4\u91cd\u504f\u659c\uff0c\u5f37\u70c8\u5efa\u8b70\u5728\u61c9\u7528\u57fa\u65bc\u8edf\u9ad4\u7684\u6821\u6b63\u4e4b\u524d\uff0c\u9996\u5148\u4f7f\u7528\u6a5f\u68b0\u624b\u6bb5\u4f7f\u5370\u8868\u6a5f\u5118\u53ef\u80fd\u7684\u65b9\u5f62\u3002","title":"\u504f\u659c\u6821\u6b63"},{"location":"Skew_Correction.html#_2","text":"\u7cfe\u6b63\u504f\u659c\u7684\u7b2c\u4e00\u6b65\u662f\u6cbf\u8457\u4f60\u8981\u7cfe\u6b63\u7684\u5e73\u9762\u5217\u5370\u4e00\u500b \u6821\u6e96\u7269\u4ef6 \u3002\u9084\u6709\u4e00\u500b \u6821\u6e96\u7269\u4ef6 \u5305\u62ec\u4e86\u4e00\u500b\u6a21\u578b\u4e2d\u7684\u6240\u6709\u5e73\u9762\u3002\u4f60\u9700\u8981\u65cb\u8f49\u9019\u500b\u7269\u4ef6\uff0c\u4f7f\u89d2A\u671d\u5411\u5e73\u9762\u7684\u539f\u9ede\u3002 \u4e0d\u8981\u5728\u9019\u6b21\u5217\u5370\u4e2d\u61c9\u7528\u50be\u659c\u6821\u6b63\u3002\u4f60\u53ef\u4ee5\u901a\u904e\u5f9eprinter.cfg\u4e2d\u522a\u9664 [skew_correction] \u6a21\u7d44\u6216\u767c\u9001 SET_SKEW CLEAR=1 G-Code \u4f86\u5be6\u73fe\u3002","title":"\u5217\u5370\u4e00\u500b\u6821\u6e96\u7269\u4ef6"},{"location":"Skew_Correction.html#_3","text":"[skew_correcton] \u6a21\u7d44\u9700\u8981\u4e09\u6b21\u5c0d\u6821\u6e96\u5e73\u9762\u7684\u6e2c\u91cf\u503c\uff1b\u5f9e\u89d2 A \u5230\u89d2 C \u7684\u8ddd\u96e2\uff0c\u5f9e\u89d2 B \u5230\u89d2 D \u7684\u8ddd\u96e2\uff0c\u4ee5\u53ca\u5f9e\u89d2 A \u5230\u89d2 D \u7684\u8ddd\u96e2\u3002\u7576\u6e2c\u91cf\u8ddd\u96e2 AD \u6642\uff0c\u4e0d\u5305\u62ec\u4e00\u4e9b\u6e2c\u8a66\u7269\u4ef6\u7684\u89d2\u4e0a\u7684\u5e73\u9762\u3002","title":"\u9032\u884c\u6e2c\u91cf"},{"location":"Skew_Correction.html#_4","text":"\u78ba\u4fdd [skew_correction] \u5df2\u7d93\u5728 printer.cfg \u4e2d\u3002\u73fe\u5728\u53ef\u4ee5\u4f7f\u7528 SET_SKEW G-Code \u4f86\u914d\u7f6e skew_correcton\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5c0d XY \u5e73\u9762\u6e2c\u91cf\u7684\u8ddd\u96e2\u7d50\u679c\u5982\u4e0b\uff1a Length AC = 140.4 Length BD = 142.8 Length AD = 99.8 SET_SKEW \u53ef\u4ee5\u914d\u7f6e XY \u5e73\u9762\u7684\u504f\u659c\u6821\u6b63\u3002 SET_SKEW XY=140.4,142.8,99.8 \u4f60\u4e5f\u53ef\u4ee5\u5728 G\u7a0b\u5f0f\u78bc\u4e2d\u52a0\u5165 XZ \u548c YZ \u7684\u6e2c\u91cf\u503c\uff1a SET_SKEW XY=140.4,142.8,99.8 XZ=141.6,141.4,99.8 YZ=142.4,140.5,99.5 [skew_correction] \u6a21\u7d44\u4e5f\u652f\u63f4\u591a\u914d\u7f6e\u7ba1\u7406\uff0c\u7528\u6cd5\u985e\u4f3c [bed_mesh] \u3002\u5728\u4f7f\u7528 SET_SKEW G-Code \u8a2d\u5b9a\u504f\u659c\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 SKEW_PROFILE G-Code\u4f86\u5132\u5b58\u504f\u659c\u914d\u7f6e\uff1a SKEW_PROFILE SAVE=my_skew_profile \u5728\u57f7\u884c\u9019\u500b\u547d\u4ee4\u4e4b\u5f8c\uff0cKlipper \u6703\u63d0\u793a\u4f60\u767c\u9001 SAVE_CONFIG G-Code \u4f86\u5132\u5b58\u914d\u7f6e\u3002\u5982\u679c\u6c92\u6709\u540d\u70ba my_skew_profile \u7684\u914d\u7f6e\uff0c\u90a3\u9ebc\u4e00\u500b\u65b0\u7684\u914d\u7f6e\u5c07\u88ab\u5efa\u7acb\u3002\u5982\u679c\u547d\u540d\u7684\u914d\u7f6e\u6a94\u6848\u5b58\u5728\uff0c\u5b83\u5c07\u88ab\u8986\u84cb\u3002 \u5132\u5b58\u914d\u7f6e\u540e\uff0c\u60a8\u53ef\u4ee5\u8f09\u5165\u5b83\uff1a SKEW_PROFILE LOAD=my_skew_profile \u4e5f\u53ef\u4ee5\u522a\u9664\u820a\u7684\u6216\u904e\u6642\u7684\u914d\u7f6e\uff1a SKEW_PROFILE REMOVE=my_skew_profile \u5728\u522a\u9664\u4e00\u500b\u914d\u7f6e\u6a94\u6848\u540e\uff0cKlipper \u63d0\u793a\u4f60\u767c\u9001 SAVE_CONFIG \u4ee5\u4fdd\u7559\u4fee\u6539\u3002","title":"\u914d\u7f6e\u504f\u659c"},{"location":"Skew_Correction.html#_5","text":"\u5728\u914d\u7f6e\u4e86 skew_correction \u4e4b\u5f8c\uff0c\u4f60\u53ef\u4ee5\u5728\u555f\u7528\u4fee\u6b63\u7684\u60c5\u6cc1\u4e0b\u91cd\u65b0\u5217\u5370\u6821\u6e96\u7269\u4ef6\u3002\u4f7f\u7528\u4e0b\u9762\u7684 G-Code \u4f86\u6aa2\u67e5\u6bcf\u500b\u5e73\u9762\u7684\u504f\u659c\u3002\u5176\u7d50\u679c\u61c9\u8a72\u4f4e\u65bc\u901a\u904e GET_CURRENT_SKEW \u5831\u544a\u7684\u7d50\u679c\u3002 CALC_MEASURED_SKEW AC=<ad\u9577\u5ea6> BD=<bd\u9577\u5ea6> AD=<ad\u9577\u5ea6>","title":"\u9a57\u8b49\u4fee\u6b63"},{"location":"Skew_Correction.html#_6","text":"\u7531\u65bc\u504f\u659c\u6821\u6b63\u7684\u6027\u8cea\uff0c\u5efa\u8b70\u4e4b\u5728\u6b78\u4f4d\u548c\u4efb\u4f55\u578b\u5225\u7684\u9760\u8fd1\u5217\u5370\u5340\u57df\u908a\u7de3\u7684\u904b\u52d5\uff08\u5982\u6e05\u9664\u6216\u5674\u5634\u64e6\u9664\uff09\u5b8c\u6210\u4e4b\u5f8c\u7684\u958b\u59cb\u5217\u5370 G-Code \u4e2d\u914d\u7f6e\u504f\u659c\u6821\u6b63\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 SET_SKEW \u6216 SKEW_PROFILE G-Code \u4f86\u5b8c\u6210\u6b64\u64cd\u4f5c\u3002\u9084\u5efa\u8b70\u5728\u7d50\u675f\u5217\u5370 G-Code \u4e2d\u767c\u51fa SET_SKEW CLEAR=1 \u3002 \u8acb\u8a18\u4f4f\uff0c [skew_correction] \u6709\u53ef\u80fd\u7522\u751f\u4e00\u500b\u6703\u4f7f\u5217\u5370\u982d\u5728 X \u548c/\u6216 Y \u8ef8\u4e0a\u8d85\u51fa\u5370\u8868\u6a5f\u908a\u754c\u7684\u4fee\u6b63\u3002\u5efa\u8b70\u5728\u4f7f\u7528 [skew_correction] \u6642\u5c07\u5217\u5370\u7269\u4ef6\u9060\u96e2\u5370\u8868\u6a5f\u908a\u7de3\u3002","title":"\u6ce8\u610f\u4e8b\u9805"},{"location":"Slicers.html","text":"\u5207\u7247\u8edf\u9ad4 \u00b6 \u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u8207 Klipper \u4e00\u8d77\u4f7f\u7528\u7684\u4e00\u4e9b\u5207\u7247\u8edf\u9ad4\u914d\u7f6e\u6280\u5de7\u3002 Klipper \u5e38\u7528\u7684\u5207\u7247\u8edf\u9ad4\u6709 Slic3r\u3001Cura\u3001Simplify3D \u7b49\u3002 \u5c07 G-Code \u98a8\u683c\u8a2d\u5b9a\u70ba Marlin \u00b6 \u5f88\u591a\u5207\u7247\u8edf\u9ad4\u53ef\u4ee5\u8a2d\u5b9a\u300cG\u7a0b\u5f0f\u78bc\u98a8\u683c\u300d\u9078\u9805\u3002Klipper\u652f\u63f4\u901a\u5e38\u9810\u8a2d\u7684\u300cMarlin\u300d\uff1bKlipper \u4e5f\u76f8\u5bb9\u300cSmoothieware\u300d\u98a8\u683c\u3002 Klipper gcode_macro \u00b6 \u5207\u7247\u8edf\u9ad4\u901a\u5e38\u53ef\u4ee5\u914d\u7f6e\u4e00\u500b\"\u958b\u59cbG\u7a0b\u5f0f\u78bc \"(Start G-Code)\u548c \"\u7d50\u675fG\u7a0b\u5f0f\u78bc \"(End G-Code)\u5e8f\u5217\u3002\u4f46\u5728 Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u81ea\u5b9a\u7fa9\u5b8f\u901a\u5e38\u66f4\u7c21\u4fbf\uff0c\u4f8b\u5982\uff1a [gcode_macro START_PRINT] \u548c [gcode_macro END_PRINT] \u3002\u7136\u5f8c\u5c31\u53ef\u4ee5\u5728\u5207\u7247\u8edf\u9ad4\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528 START_PRINT \u548c END_PRINT \u3002\u5728 Klipper \u7684\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u9019\u4e9b\u52d5\u4f5c\u53ef\u80fd\u6703\u7c21\u5316\u5370\u8868\u6a5f\u7684\u958b\u59cb\u548c\u7d50\u675f\u6b65\u9a5f\u7684\u914d\u7f6e\uff0c\u56e0\u70ba\u4fee\u6539\u4e0d\u9700\u8981\u91cd\u65b0\u5207\u7247\u3002 \u53c3\u898b sample-macros.cfg \u4e2d\u7684\u793a\u4f8b START_PRINT \u548cEND_PRINT \u5b8f\u3002 \u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u4e2d\u95dc\u65bc\u5b9a\u7fa9 gcode_macro \u7684\u7d30\u7bc0\u3002 \u5927\u7684\u56de\u62bd\u503c\u53ef\u80fd\u610f\u5473\u8457\u9700\u8981\u8abf\u512a Klipper \u00b6 \u5728Klipper\u4e2d\uff0c\u56de\u62bd\u7684\u6700\u5927\u901f\u5ea6\u548c\u52a0\u901f\u5ea6\u7531 max_extrude_only_velocity \u548c max_extrude_only_accel \u53c3\u6578\u63a7\u5236\u3002\u5728\u5927\u591a\u6578\u5370\u8868\u6a5f\u4e0a\u9019\u4e9b\u53c3\u6578\u7684\u9810\u8a2d\u503c\u61c9\u8a72\u80fd\u5f88\u597d\u5730\u5de5\u4f5c\u3002\u7136\u800c\uff0c\u5982\u679c\u5207\u7247\u8edf\u9ad4\u4e2d\u914d\u7f6e\u4e86\u4e00\u500b\u5927\u7684\u56de\u62bd\u503c(\u4f8b\u5982\uff0c5\u6beb\u7c73\u6216\u66f4\u5927)\uff0c\u53ef\u80fd\u6703\u767c\u73fe\u671f\u671b\u7684\u56de\u62bd\u901f\u5ea6\u53d7\u5230\u4e86\u9650\u5236\u3002 \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528\u4e00\u500b\u5927\u7684\u56de\u62bd\u503c\uff0c\u8003\u616e\u8abf\u512a Klipper \u7684 \u63d0\u524d\u58d3\u529b \u4f86\u4ee3\u66ff\u3002\u5426\u5247\u4f60\u53ef\u80fd\u6703\u767c\u73fe\u5217\u5370\u982d\u5728\u56de\u62bd\u548c\u555f\u52d5\u6642\u66ab\u505c\uff0c\u6b64\u6642\u53ef\u4ee5\u8003\u616e\u5728 Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a max_extrude_only_velocity \u548c max_extrude_only_accel \u53c3\u6578\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002 \u4e0d\u8981\u555f\u7528\u300c\u6ed1\u884c(coasting)\u300d \u00b6 \u548cKlipper \u4e00\u8d77\u4f7f\u7528\u300c\u6ed1\u884c(coasting)\u300d\u529f\u80fd\u53ef\u80fd\u6703\u5c0e\u81f4\u5217\u5370\u8cea\u91cf\u4e0d\u4f73\u3002\u8003\u616e\u4f7f\u7528 Klipper \u7684 \u63d0\u524d\u58d3\u529b \u529f\u80fd\u66ff\u4ee3\u3002 \u5177\u9ad4\u4f86\u8aaa\uff0c\u5982\u679c\u5207\u7247\u8edf\u9ad4\u5728\u79fb\u52d5\u4e4b\u9593\u5927\u5e45\u6539\u8b8a\u64e0\u51fa\u7387\uff0c\u90a3\u9ebc Klipper \u5c07\u5728\u79fb\u52d5\u4e4b\u9593\u9032\u884c\u6e1b\u901f\u548c\u52a0\u901f\u3002\u9019\u66f4\u53ef\u80fd\u6703\u9020\u6210\u66f4\u591a\u7684\u64e0\u51fa\u9846\u7c92(blobbing)\uff0c\u800c\u4e0d\u662f\u66f4\u5c11\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8edf\u9ad4\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7e2e\u56de\u6642\u64e6\u62ed \"\u8a2d\u5b9a\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002 \u4e0d\u8981\u5728 Simplify3d \u4e0a\u4f7f\u7528\u300c\u984d\u5916\u91cd\u555f\u8ddd\u96e2(extra restart distance)\u300d \u00b6 \u9019\u500b\u8a2d\u5b9a\u6703\u5c0e\u81f4\u64e0\u51fa\u901f\u5ea6\u7684\u5287\u70c8\u8b8a\u5316\uff0c\u5f9e\u800c\u89f8\u767c Klipper \u7684\u6700\u5927\u64e0\u51fa\u622a\u9762\u6aa2\u67e5\u3002\u8003\u616e\u4f7f\u7528 Klipper \u7684 \u63d0\u524d \u6216 Simplify3d \u7684\u5e38\u898f\u56de\u62bd\u8a2d\u5b9a\u4f86\u4ee3\u66ff\u3002 \u5728 KISSlicer \u4e0a\u7981\u7528\u300cPreloadVE\u300d \u00b6 \u5982\u679c\u4f7f\u7528 KISSlicer \u5207\u7247\u8edf\u9ad4\uff0c\u90a3\u9ebc\u9700\u8981\u628a \"PreloadVE \"\u8a2d\u70ba0\u4e26\u8003\u616e\u4f7f\u7528Klipper\u7684 \u63d0\u524d\u58d3\u529b \u4ee3\u66ff\u3002 \u7981\u7528\u4efb\u4f55\"\u63d0\u524d\u64e0\u51fa\u58d3\u529b\"\u7684\u8a2d\u5b9a \u00b6 \u4e00\u4e9b\u5207\u7247\u8edf\u9ad4\u5ba3\u50b3\u6709 \"\u9ad8\u7d1a\u64e0\u51fa\u6a5f\u58d3\u529b\u8abf\u6574 \"\u7684\u529f\u80fd\u3002\u5efa\u8b70\u5728\u4f7f\u7528 Klipper \u6642\u7981\u7528\u9019\u4e9b\u529f\u80fd\uff0c\u56e0\u70ba\u5b83\u5011\u5f88\u53ef\u80fd\u6703\u964d\u4f4e\u5217\u5370\u8cea\u91cf\u3002\u8003\u616e\u4f7f\u7528 Klipper \u7684 \u58d3\u529b\u63d0\u524d \u4ee3\u66ff\u3002 \u5177\u9ad4\u4f86\u8aaa\uff0c\u9019\u4e9b\u5207\u7247\u8edf\u9ad4\u7684\u8a2d\u5b9a\u7522\u751f\u7684\u547d\u4ee4\u6703\u97cc\u9ad4\u5c0d\u64e0\u51fa\u7387\u9032\u884c\u5287\u70c8\u7684\u6539\u8b8a\uff0c\u5e0c\u671b\u97cc\u9ad4\u80fd\u63a5\u8fd1\u9019\u4e9b\u8acb\u6c42\u503c\uff0c\u4f7f\u5370\u8868\u6a5f\u7372\u5f97\u4e00\u500b\u5927\u81f4\u7406\u60f3\u7684\u64e0\u51fa\u6a5f\u58d3\u529b\u3002\u7136\u800c\uff0cKlipper\u5229\u7528\u7cbe\u78ba\u7684\u904b\u52d5\u5b78\u8a08\u7b97\u548c\u8a08\u6642\u3002\u7576Klipper\u88ab\u547d\u4ee4\u5c0d\u64e0\u51fa\u7387\u9032\u884c\u91cd\u5927\u6539\u8b8a\u6642\uff0c\u5b83\u5c07\u8a08\u5283\u51fa\u901f\u5ea6\u3001\u52a0\u901f\u5ea6\u548c\u64e0\u51fa\u6a5f\u904b\u52d5\u7684\u76f8\u61c9\u8b8a\u5316--\u9019\u4e0d\u662f\u5207\u7247\u8edf\u9ad4\u7684\u610f\u5716\u3002\u5207\u7247\u8edf\u9ad4\u751a\u81f3\u53ef\u80fd\u7522\u751f\u904e\u5927\u7684\u64e0\u51fa\u901f\u5ea6\uff0c\u4ee5\u81f3\u65bc\u89f8\u767cKlipper\u7684\u6700\u5927\u64e0\u51fa\u622a\u9762\u6aa2\u67e5\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8edf\u9ad4\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7e2e\u56de\u6642\u64e6\u62ed \"\u8a2d\u5b9a\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002","title":"\u5207\u7247\u8edf\u9ad4"},{"location":"Slicers.html#_1","text":"\u672c\u6587\u4ef6\u63d0\u4f9b\u4e86\u8207 Klipper \u4e00\u8d77\u4f7f\u7528\u7684\u4e00\u4e9b\u5207\u7247\u8edf\u9ad4\u914d\u7f6e\u6280\u5de7\u3002 Klipper \u5e38\u7528\u7684\u5207\u7247\u8edf\u9ad4\u6709 Slic3r\u3001Cura\u3001Simplify3D \u7b49\u3002","title":"\u5207\u7247\u8edf\u9ad4"},{"location":"Slicers.html#g-code-marlin","text":"\u5f88\u591a\u5207\u7247\u8edf\u9ad4\u53ef\u4ee5\u8a2d\u5b9a\u300cG\u7a0b\u5f0f\u78bc\u98a8\u683c\u300d\u9078\u9805\u3002Klipper\u652f\u63f4\u901a\u5e38\u9810\u8a2d\u7684\u300cMarlin\u300d\uff1bKlipper \u4e5f\u76f8\u5bb9\u300cSmoothieware\u300d\u98a8\u683c\u3002","title":"\u5c07 G-Code \u98a8\u683c\u8a2d\u5b9a\u70ba Marlin"},{"location":"Slicers.html#klipper-gcode_macro","text":"\u5207\u7247\u8edf\u9ad4\u901a\u5e38\u53ef\u4ee5\u914d\u7f6e\u4e00\u500b\"\u958b\u59cbG\u7a0b\u5f0f\u78bc \"(Start G-Code)\u548c \"\u7d50\u675fG\u7a0b\u5f0f\u78bc \"(End G-Code)\u5e8f\u5217\u3002\u4f46\u5728 Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u81ea\u5b9a\u7fa9\u5b8f\u901a\u5e38\u66f4\u7c21\u4fbf\uff0c\u4f8b\u5982\uff1a [gcode_macro START_PRINT] \u548c [gcode_macro END_PRINT] \u3002\u7136\u5f8c\u5c31\u53ef\u4ee5\u5728\u5207\u7247\u8edf\u9ad4\u7684\u914d\u7f6e\u4e2d\u4f7f\u7528 START_PRINT \u548c END_PRINT \u3002\u5728 Klipper \u7684\u914d\u7f6e\u4e2d\u5b9a\u7fa9\u9019\u4e9b\u52d5\u4f5c\u53ef\u80fd\u6703\u7c21\u5316\u5370\u8868\u6a5f\u7684\u958b\u59cb\u548c\u7d50\u675f\u6b65\u9a5f\u7684\u914d\u7f6e\uff0c\u56e0\u70ba\u4fee\u6539\u4e0d\u9700\u8981\u91cd\u65b0\u5207\u7247\u3002 \u53c3\u898b sample-macros.cfg \u4e2d\u7684\u793a\u4f8b START_PRINT \u548cEND_PRINT \u5b8f\u3002 \u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u4e2d\u95dc\u65bc\u5b9a\u7fa9 gcode_macro \u7684\u7d30\u7bc0\u3002","title":"Klipper gcode_macro"},{"location":"Slicers.html#klipper","text":"\u5728Klipper\u4e2d\uff0c\u56de\u62bd\u7684\u6700\u5927\u901f\u5ea6\u548c\u52a0\u901f\u5ea6\u7531 max_extrude_only_velocity \u548c max_extrude_only_accel \u53c3\u6578\u63a7\u5236\u3002\u5728\u5927\u591a\u6578\u5370\u8868\u6a5f\u4e0a\u9019\u4e9b\u53c3\u6578\u7684\u9810\u8a2d\u503c\u61c9\u8a72\u80fd\u5f88\u597d\u5730\u5de5\u4f5c\u3002\u7136\u800c\uff0c\u5982\u679c\u5207\u7247\u8edf\u9ad4\u4e2d\u914d\u7f6e\u4e86\u4e00\u500b\u5927\u7684\u56de\u62bd\u503c(\u4f8b\u5982\uff0c5\u6beb\u7c73\u6216\u66f4\u5927)\uff0c\u53ef\u80fd\u6703\u767c\u73fe\u671f\u671b\u7684\u56de\u62bd\u901f\u5ea6\u53d7\u5230\u4e86\u9650\u5236\u3002 \u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528\u4e00\u500b\u5927\u7684\u56de\u62bd\u503c\uff0c\u8003\u616e\u8abf\u512a Klipper \u7684 \u63d0\u524d\u58d3\u529b \u4f86\u4ee3\u66ff\u3002\u5426\u5247\u4f60\u53ef\u80fd\u6703\u767c\u73fe\u5217\u5370\u982d\u5728\u56de\u62bd\u548c\u555f\u52d5\u6642\u66ab\u505c\uff0c\u6b64\u6642\u53ef\u4ee5\u8003\u616e\u5728 Klipper \u914d\u7f6e\u6a94\u6848\u4e2d\u8a2d\u5b9a max_extrude_only_velocity \u548c max_extrude_only_accel \u53c3\u6578\u4f86\u89e3\u6c7a\u9019\u500b\u554f\u984c\u3002","title":"\u5927\u7684\u56de\u62bd\u503c\u53ef\u80fd\u610f\u5473\u8457\u9700\u8981\u8abf\u512a Klipper"},{"location":"Slicers.html#coasting","text":"\u548cKlipper \u4e00\u8d77\u4f7f\u7528\u300c\u6ed1\u884c(coasting)\u300d\u529f\u80fd\u53ef\u80fd\u6703\u5c0e\u81f4\u5217\u5370\u8cea\u91cf\u4e0d\u4f73\u3002\u8003\u616e\u4f7f\u7528 Klipper \u7684 \u63d0\u524d\u58d3\u529b \u529f\u80fd\u66ff\u4ee3\u3002 \u5177\u9ad4\u4f86\u8aaa\uff0c\u5982\u679c\u5207\u7247\u8edf\u9ad4\u5728\u79fb\u52d5\u4e4b\u9593\u5927\u5e45\u6539\u8b8a\u64e0\u51fa\u7387\uff0c\u90a3\u9ebc Klipper \u5c07\u5728\u79fb\u52d5\u4e4b\u9593\u9032\u884c\u6e1b\u901f\u548c\u52a0\u901f\u3002\u9019\u66f4\u53ef\u80fd\u6703\u9020\u6210\u66f4\u591a\u7684\u64e0\u51fa\u9846\u7c92(blobbing)\uff0c\u800c\u4e0d\u662f\u66f4\u5c11\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8edf\u9ad4\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7e2e\u56de\u6642\u64e6\u62ed \"\u8a2d\u5b9a\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002","title":"\u4e0d\u8981\u555f\u7528\u300c\u6ed1\u884c(coasting)\u300d"},{"location":"Slicers.html#simplify3d-extra-restart-distance","text":"\u9019\u500b\u8a2d\u5b9a\u6703\u5c0e\u81f4\u64e0\u51fa\u901f\u5ea6\u7684\u5287\u70c8\u8b8a\u5316\uff0c\u5f9e\u800c\u89f8\u767c Klipper \u7684\u6700\u5927\u64e0\u51fa\u622a\u9762\u6aa2\u67e5\u3002\u8003\u616e\u4f7f\u7528 Klipper \u7684 \u63d0\u524d \u6216 Simplify3d \u7684\u5e38\u898f\u56de\u62bd\u8a2d\u5b9a\u4f86\u4ee3\u66ff\u3002","title":"\u4e0d\u8981\u5728 Simplify3d \u4e0a\u4f7f\u7528\u300c\u984d\u5916\u91cd\u555f\u8ddd\u96e2(extra restart distance)\u300d"},{"location":"Slicers.html#kisslicer-preloadve","text":"\u5982\u679c\u4f7f\u7528 KISSlicer \u5207\u7247\u8edf\u9ad4\uff0c\u90a3\u9ebc\u9700\u8981\u628a \"PreloadVE \"\u8a2d\u70ba0\u4e26\u8003\u616e\u4f7f\u7528Klipper\u7684 \u63d0\u524d\u58d3\u529b \u4ee3\u66ff\u3002","title":"\u5728 KISSlicer \u4e0a\u7981\u7528\u300cPreloadVE\u300d"},{"location":"Slicers.html#_2","text":"\u4e00\u4e9b\u5207\u7247\u8edf\u9ad4\u5ba3\u50b3\u6709 \"\u9ad8\u7d1a\u64e0\u51fa\u6a5f\u58d3\u529b\u8abf\u6574 \"\u7684\u529f\u80fd\u3002\u5efa\u8b70\u5728\u4f7f\u7528 Klipper \u6642\u7981\u7528\u9019\u4e9b\u529f\u80fd\uff0c\u56e0\u70ba\u5b83\u5011\u5f88\u53ef\u80fd\u6703\u964d\u4f4e\u5217\u5370\u8cea\u91cf\u3002\u8003\u616e\u4f7f\u7528 Klipper \u7684 \u58d3\u529b\u63d0\u524d \u4ee3\u66ff\u3002 \u5177\u9ad4\u4f86\u8aaa\uff0c\u9019\u4e9b\u5207\u7247\u8edf\u9ad4\u7684\u8a2d\u5b9a\u7522\u751f\u7684\u547d\u4ee4\u6703\u97cc\u9ad4\u5c0d\u64e0\u51fa\u7387\u9032\u884c\u5287\u70c8\u7684\u6539\u8b8a\uff0c\u5e0c\u671b\u97cc\u9ad4\u80fd\u63a5\u8fd1\u9019\u4e9b\u8acb\u6c42\u503c\uff0c\u4f7f\u5370\u8868\u6a5f\u7372\u5f97\u4e00\u500b\u5927\u81f4\u7406\u60f3\u7684\u64e0\u51fa\u6a5f\u58d3\u529b\u3002\u7136\u800c\uff0cKlipper\u5229\u7528\u7cbe\u78ba\u7684\u904b\u52d5\u5b78\u8a08\u7b97\u548c\u8a08\u6642\u3002\u7576Klipper\u88ab\u547d\u4ee4\u5c0d\u64e0\u51fa\u7387\u9032\u884c\u91cd\u5927\u6539\u8b8a\u6642\uff0c\u5b83\u5c07\u8a08\u5283\u51fa\u901f\u5ea6\u3001\u52a0\u901f\u5ea6\u548c\u64e0\u51fa\u6a5f\u904b\u52d5\u7684\u76f8\u61c9\u8b8a\u5316--\u9019\u4e0d\u662f\u5207\u7247\u8edf\u9ad4\u7684\u610f\u5716\u3002\u5207\u7247\u8edf\u9ad4\u751a\u81f3\u53ef\u80fd\u7522\u751f\u904e\u5927\u7684\u64e0\u51fa\u901f\u5ea6\uff0c\u4ee5\u81f3\u65bc\u89f8\u767cKlipper\u7684\u6700\u5927\u64e0\u51fa\u622a\u9762\u6aa2\u67e5\u3002 \u76f8\u53cd\uff0c\u4f7f\u7528\u5207\u7247\u8edf\u9ad4\u7684\"\u56de\u62bd\"\u3001\"\u64e6\u62ed \"\u548c/\u6216 \"\u7e2e\u56de\u6642\u64e6\u62ed \"\u8a2d\u5b9a\u901a\u5e38\u662f\u6709\u76ca\u7684\u3002","title":"\u7981\u7528\u4efb\u4f55\"\u63d0\u524d\u64e0\u51fa\u58d3\u529b\"\u7684\u8a2d\u5b9a"},{"location":"Status_Reference.html","text":"\u72c0\u614b\u53c3\u8003 \u00b6 \u672c\u6587\u4ef6\u662f\u53ef\u7528\u65bc Klipper \u5b8f \u3001 \u986f\u793a\u6b04\u4f4d \u4ee5\u53ca API\u4f3a\u670d\u5668 \u7684\u5370\u8868\u6a5f\u72c0\u614b\u8cc7\u8a0a\u7684\u53c3\u8003\u3002 \u672c\u6587\u4ef6\u4e2d\u7684\u6b04\u4f4d\u53ef\u80fd\u6703\u767c\u751f\u8b8a\u5316 - \u5982\u679c\u4f7f\u7528\u4e86\u4efb\u4f55\u6b04\u4f4d\uff0c\u5728\u66f4\u65b0 Klipper \u6642\uff0c\u8acb\u52d9\u5fc5\u6aa2\u8996 \u914d\u7f6e\u8b8a\u5316\u6587\u4ef6 \u3002 angle \u00b6 The following information is available in angle some_name objects: temperature : The last temperature reading (in Celsius) from a tle5012b magnetic hall sensor. This value is only available if the angle sensor is a tle5012b chip and if measurements are in progress (otherwise it reports None ). bed_mesh \u00b6 bed_mesh \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a profile_name \u3001 mesh_min \u3001 mesh_max \u3001 probed_matrix \u3001 mesh_matrix \uff1a\u95dc\u65bc\u76ee\u524d\u6d3b\u8e8d\u7684 bed_mesh \u914d\u7f6e\u8cc7\u8a0a\u3002 profiles : The set of currently defined profiles as setup using BED_MESH_PROFILE. configfile \u00b6 configfile \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a settings.<\u5206\u6bb5>.<\u9078\u9805> \uff1a\u8fd4\u56de\u6700\u5f8c\u4e00\u6b21\u8edf\u9ad4\u555f\u52d5\u6216\u91cd\u555f\u6642\u7d66\u5b9a\u7684\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\uff08\u6216\u9810\u8a2d\u503c\uff09\u3002(\u4e0d\u6703\u53cd\u6620\u57f7\u884c\u6642\u7684\u4fee\u6539\u3002\uff09 config.<\u5206\u6bb5>.<\u9078\u9805> \uff1a\u8fd4\u56deKlipper\u5728\u4e0a\u6b21\u8edf\u9ad4\u555f\u52d5\u6216\u91cd\u555f\u6642\u8b80\u53d6\u7684\u539f\u59cb\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\u3002(\u4e0d\u6703\u53cd\u6620\u57f7\u884c\u6642\u7684\u4fee\u6539\u3002)\u6240\u6709\u503c\u90fd\u4ee5\u5b57\u4e32\u5f62\u5f0f\u8fd4\u56de\u3002 save_config_pending \uff1a\u5982\u679c\u5b58\u5728\u53ef\u4ee5\u901a\u904e SAVE_CONFIG \u547d\u4ee4\u5132\u5b58\u5230\u914d\u7f6e\u6a94\u6848\u7684\u66f4\u65b0\uff0c\u5247\u8fd4\u56de True\u3002 save_config_pending_items : Contains the sections and options that were changed and would be persisted by a SAVE_CONFIG . warnings \uff1a\u6709\u95dc\u914d\u7f6e\u9078\u9805\u7684\u8b66\u544a\u5217\u8868\u3002\u5217\u8868\u4e2d\u7684\u6bcf\u500b\u689d\u76ee\u90fd\u5c07\u662f\u4e00\u500b dictionary\uff0c\u5176\u4e2d\u5305\u542b type \u548c message \u6b04\u4f4d\uff08\u90fd\u662f\u5b57\u4e32\uff09\u3002\u6839\u64da\u8b66\u544a\u578b\u5225\uff0c\u53ef\u80fd\u9084\u6709\u5176\u4ed6\u53ef\u7528\u6b04\u4f4d\u3002 display_status \u00b6 display_status \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 display \u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u8a72\u5c0d\u50cf\u81ea\u52d5\u53ef\u7528\uff09\uff1a progress \uff1a\u6700\u5f8c\u4e00\u500b M73 G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u5831\u544a\u7684\u9032\u5ea6\uff08\u5982\u679c\u6c92\u6709\u6536\u5230 M73 \uff0c\u5247\u6703\u7528 virtual_sdcard.progress \u66ff\u4ee3\uff09\u3002 message \uff1a\u6700\u5f8c\u4e00\u689d M117 G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u4e2d\u5305\u542b\u7684\u8a0a\u606f\u3002 endstop_phase \u00b6 endstop_phase \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a last_home.<\u6b65\u9032\u96fb\u6a5f\u540d>.phase \uff1a\u6700\u5f8c\u4e00\u6b21\u6b78\u70ba\u5617\u8a66\u7d50\u675f\u6642\u6b65\u9032\u96fb\u6a5f\u7684\u76f8\u4f4d\u3002 last_home.<\u6b65\u9032\u96fb\u6a5f\u540d\u7a31>.phase \uff1a\u6b65\u9032\u96fb\u6a5f\u4e0a\u53ef\u7528\u7684\u7e3d\u76f8\u6578\u3002 last_home.<\u6b65\u9032\u96fb\u6a5f\u540d\u7a31>.mcu_position \uff1a\u6b65\u9032\u96fb\u6a5f\u5728\u4e0a\u6b21\u6b78\u4f4d\u5617\u8a66\u7d50\u675f\u6642\u7684\u4f4d\u7f6e\uff08\u7531\u5fae\u63a7\u5236\u5668\u8ddf\u8e64\uff09\u3002\u8a72\u4f4d\u7f6e\u662f\u81ea\u5fae\u63a7\u5236\u5668\u6700\u5f8c\u4e00\u6b21\u91cd\u555f\u4ee5\u4f86\uff0c\u5411\u524d\u8d70\u7684\u7e3d\u6b65\u6578\u6e1b\u53bb\u53cd\u5411\u8d70\u7684\u7e3d\u6b65\u6578\u3002 exclude_object \u00b6 The following information is available in the exclude_object object: objects : An array of the known objects as provided by the EXCLUDE_OBJECT_DEFINE command. This is the same information provided by the EXCLUDE_OBJECT VERBOSE=1 command. The center and polygon fields will only be present if provided in the original EXCLUDE_OBJECT_DEFINE Here is a JSON sample: [ { \"polygon\": [ [ 156.25, 146.2511675 ], [ 156.25, 153.7488325 ], [ 163.75, 153.7488325 ], [ 163.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_2_COPY_0\", \"center\": [ 160, 150 ] }, { \"polygon\": [ [ 146.25, 146.2511675 ], [ 146.25, 153.7488325 ], [ 153.75, 153.7488325 ], [ 153.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_1_COPY_0\", \"center\": [ 150, 150 ] } ] excluded_objects : An array of strings listing the names of excluded objects. current_object : The name of the object currently being printed. fan \u00b6 fan \u3001 heater_fan some_name \u548c controller_fan some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a speed \uff1a\u98a8\u6247\u901f\u5ea6\uff0c0.0\u548c1.0\u4e4b\u9593\u7684\u6d6e\u9ede\u6578\u3002 rpm \uff1a\u5982\u679c\u98a8\u6247\u6709\u4e00\u500b tachometer_pin\uff0c\u5247\u6e2c\u91cf\u7684\u98a8\u6247\u901f\u5ea6\uff0c\u55ae\u4f4d\u662f\u6bcf\u5206\u9418\u8f49\u6578\u3002 filament_switch_sensor \u00b6 filament_switch_sensor some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a enabled \uff1a\u5982\u679c\u958b\u95dc\u611f\u6e2c\u5668\u76ee\u524d\u5df2\u555f\u7528\uff0c\u5247\u8fd4\u56deTrue\u3002 filament_detected \uff1a\u5982\u679c\u611f\u6e2c\u5668\u8655\u65bc\u89f8\u767c\u72c0\u614b\uff0c\u5247\u8fd4\u56de True\u3002 filament_motion_sensor \u00b6 filament_motion_sensor \u611f\u6e2c\u5668\u540d \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a enabled \uff1a\u5982\u679c\u76ee\u524d\u555f\u7528\u4e86\u904b\u52d5\u611f\u6e2c\u5668\uff0c\u5247\u8fd4\u56de True\u3002 filament_detected \uff1a\u5982\u679c\u611f\u6e2c\u5668\u8655\u65bc\u89f8\u767c\u72c0\u614b\uff0c\u5247\u8fd4\u56de True\u3002 firmware_retraction \u00b6 firmware_retraction \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a retract_length \u3001 retract_speed \u3001 unretract_extra_length \u3001 unretract_speed \uff1afirmware_retraction \u6a21\u7d44\u7684\u7576\u524d\u8a2d\u5b9a\u3002\u5982\u679c SET_RETRACTION \u547d\u4ee4\u6539\u8b8a\u5b83\u5011\uff0c\u9019\u4e9b\u8a2d\u5b9a\u53ef\u80fd\u8207\u914d\u7f6e\u6a94\u6848\u4e0d\u540c\u3002 gcode_macro \u00b6 [gcode_macro <\u540d\u7a31> \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a <\u8b8a\u6578\u540d> \uff1a gcode_macro \u8b8a\u6578 \u7684\u7576\u524d\u503c\u3002 gcode_move \u00b6 gcode_move \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a gcode_position \uff1a\u5de5\u5177\u982d\u76f8\u5c0d\u65bc\u76ee\u524d G \u7a0b\u5f0f\u78bc\u539f\u9ede\u7684\u7576\u524d\u4f4d\u7f6e\u3002\u4e5f\u5c31\u662f\u53ef\u4ee5\u76f4\u63a5\u88ab\u9aee\u9001\u5230 G1 \u547d\u4ee4\u7684\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u5225\u8a2a\u554f\u9019\u500b\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u4efd\u91cf\uff08\u4f8b\u5982\uff0c gcode_position.x \uff09\u3002 position \uff1a\u5217\u5370\u982d\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u5ea7\u6a19\u7cfb\u4e2d\u7684\u6700\u5f8c\u6307\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8a2a\u554f\u9019\u500b\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u4efd\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 homing_origin \uff1a\u5728 G28 \u547d\u4ee4\u4e4b\u5f8c\u8981\u4f7f\u7528\u7684 G-Code \u5ea7\u6a19\u7cfb\u7684\u539f\u9ede\uff08\u76f8\u5c0d\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u5ea7\u6a19\u7cfb\uff09\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u53ef\u4ee5\u6539\u8b8a\u9019\u500b\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u5225\u8a2a\u554f\u9019\u500b\u4f4d\u7f6e\u7684x\u3001y\u548cz\u4efd\u91cf\uff08\u4f8b\u5982\uff0c homing_origin.x \uff09\u3002 speed \uff1a\u5728 G1 \u547d\u4ee4\u4e2d\u6700\u5f8c\u4e00\u6b21\u8a2d\u5b9a\u7684\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s\uff09\u3002 speed_factor \uff1a\u901a\u904e M220 \u547d\u4ee4\u8a2d\u5b9a\u7684\"\u901f\u5ea6\u56e0\u5b50\u8986\u84cb\"\u3002\u9019\u662f\u4e00\u500b\u6d6e\u9ede\u503c\uff0c1.0 \u610f\u5473\u8457\u6c92\u6709\u8986\u84cb\uff0c\u4f8b\u5982\uff0c2.0 \u5c07\u8acb\u6c42\u7684\u901f\u5ea6\u7ffb\u500d\u3002 extrude_factor \uff1a\u7531 M221 \u547d\u4ee4\u8a2d\u5b9a\u7684\"\u64e0\u51fa\u500d\u7387\u8986\u84cb\" \u3002\u9019\u662f\u4e00\u500b\u6d6e\u9ede\u503c\uff0c1.0\u610f\u5473\u8457\u6c92\u6709\u8986\u84cb\uff0c\u4f8b\u5982\uff0c2.0\u5c07\u4f7f\u8981\u6c42\u7684\u64e0\u51fa\u91cf\u7ffb\u500d\u3002 absolute_coordinates \uff1a\u5982\u679c\u5728 G90 \u7d55\u5c0d\u5ea7\u6a19\u6a21\u5f0f\u4e0b\uff0c\u5247\u8fd4\u56de True\uff1b\u5982\u679c\u5728 G91 \u76f8\u5c0d\u6a21\u5f0f\u4e0b\uff0c\u5247\u8fd4\u56de False\u3002 absolute_extrude \uff1a\u5982\u679c\u5728 M82 \u7d55\u5c0d\u64e0\u51fa\u6a21\u5f0f\uff0c\u5247\u8fd4\u56deTrue\uff1b\u5982\u679c\u5728 M83 \u76f8\u5c0d\u6a21\u5f0f\uff0c\u5247\u8fd4\u56deFalse\u3002 hall_filament_width_sensor \u00b6 hall_filament_width_sensor \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a is_active \uff1a\u5982\u679c\u611f\u6e2c\u5668\u76ee\u524d\u8655\u65bc\u6d3b\u52d5\u72c0\u614b\uff0c\u8fd4\u56deTrue\u3002 Diameter \uff1a\u4e0a\u4e00\u6b21\u611f\u6e2c\u5668\u8b80\u6578\uff0c\u55ae\u4f4d\u70ba mm\u3002 Raw \uff1a\u4e0a\u4e00\u6b21\u611f\u6e2c\u5668\u539f\u59cb ADC \u8b80\u6578\u3002 heater \u00b6 \u52a0\u71b1\u5668\u5c0d\u8c61\uff0c\u5982 extruder \u3001 heater_bed \u548c heater_generic \uff0c\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a temperature \uff1a\u7d66\u5b9a\u52a0\u71b1\u5668\u6700\u5f8c\u5831\u544a\u7684\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\u7684\u6d6e\u9ede\u6578\uff09\u3002 target \uff1a\u7d66\u5b9a\u52a0\u71b1\u5668\u7684\u7576\u524d\u76ee\u6a19\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\u7684\u6d6e\u9ede\u6578\uff09\u3002 power \uff1a\u8207\u52a0\u71b1\u5668\u76f8\u95dc\u7684 PWM \u5f15\u8173\u7684\u6700\u5f8c\u8a2d\u5b9a\uff080.0\u548c1.0\u4e4b\u9593\u7684\u6578\u503c\uff09\u3002 can_extrude \uff1a\u64e0\u51fa\u6a5f\u662f\u5426\u53ef\u4ee5\u64e0\u51fa\uff08\u7531 min_extrude_temp \u5b9a\u7fa9\uff09\uff0c\u50c5\u53ef\u7528\u65bc extruder heaters \u00b6 heaters \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86\u4efb\u4f55\u52a0\u71b1\u5668\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a available_heaters \uff1a\u8fd4\u56de\u6240\u6709\u7576\u524d\u53ef\u7528\u52a0\u71b1\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\uff0c\u4f8b\u5982 [\"extruder\"\u3001\"heater_bed\"\u3001\"heater_generic my_custom_heater\"] \u3002 available_sensors \uff1a\u8fd4\u56de\u6240\u6709\u7576\u524d\u53ef\u7528\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\u5217\u8868\uff0c\u4f8b\u5982\uff1a [\"extruder\", \"heater_bed\", \"heater_generic my_custom_heater\", \"temperature_sensor electronics_temp\"] \u3002 idle_timeout \u00b6 idle_timeout \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a state \uff1a\u7531 idle_timeout \u6a21\u7d44\u8ddf\u8e64\u7684\u5370\u8868\u6a5f\u7684\u7576\u524d\u72c0\u614b\u3002\u5b83\u53ef\u4ee5\u662f\u4ee5\u4e0b\u5b57\u4e32\u4e4b\u4e00\uff1a\"Idle\", \"Printing\", \"Ready\"\u3002 printing_time \uff1a\u5370\u8868\u6a5f\u8655\u65bc\u300cPrinting\u300d\u72c0\u614b\u7684\u6642\u9593\uff08\u4ee5\u79d2\u70ba\u55ae\u4f4d\uff09\uff08\u7531 idle_timeout \u6a21\u7d44\u8ddf\u8e64\uff09\u3002 led \u00b6 The following information is available for each [led led_name] , [neopixel led_name] , [dotstar led_name] , [pca9533 led_name] , and [pca9632 led_name] config section defined in printer.cfg: color_data : A list of color lists containing the RGBW values for a led in the chain. Each value is represented as a float from 0.0 to 1.0. Each color list contains 4 items (red, green, blue, white) even if the underyling LED supports fewer color channels. For example, the blue value (3rd item in color list) of the second neopixel in a chain could be accessed at printer[\"neopixel <config_name>\"].color_data[1][2] . mcu \u00b6 mcu \u548c mcu some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a mcu_version \uff1a\u7531\u5fae\u63a7\u5236\u5668\u5831\u544a\u7684 Klipper \u7a0b\u5f0f\u78bc\u7248\u672c\u3002 mcu_build_versions \uff1a\u6709\u95dc\u7528\u65bc\u7522\u751f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u7684\u69cb\u5efa\u5de5\u5177\u7684\u8cc7\u8a0a\uff08\u7531\u5fae\u63a7\u5236\u5668\u5831\u544a\uff09\u3002 mcu_constants.<\u5e38\u91cf\u540d> \uff1a\u7531\u5fae\u63a7\u5236\u5668\u5831\u544a\u7de8\u8b6f\u6642\u4f7f\u7528\u7684\u5e38\u91cf\u3002\u53ef\u7528\u7684\u5e38\u91cf\u5728\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u67b6\u69cb\u548c\u6bcf\u500b\u7a0b\u5f0f\u78bc\u4fee\u8a02\u7248\u4e2d\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002 last_stats.<\u7d71\u8a08\u8cc7\u8a0a\u540d> \uff1a\u95dc\u65bc\u5fae\u63a7\u5236\u5668\u9023\u7dda\u7684\u7d71\u8a08\u8cc7\u8a0a\u3002 motion_report \u00b6 motion_report \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86\u4efb\u4f55\u6b65\u9032\u5668\u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u8a72\u5c0d\u50cf\u81ea\u52d5\u53ef\u7528\uff09\uff1a live_position \uff1a\u8acb\u6c42\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u63d2\u503c\u5230\u76ee\u524d\u6642\u9593\u540e\u7684\u4f4d\u7f6e\u3002 live_velocity \uff1a\u76ee\u524d\u8acb\u6c42\u7684\u5217\u5370\u982d\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73/\u79d2\u70ba\u55ae\u4f4d\uff09\u3002 live_extruder_velocity \uff1a\u76ee\u524d\u8acb\u6c42\u7684\u64e0\u51fa\u6a5f\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s\uff09\u3002 output_pin \u00b6 [output_pin <\u914d\u7f6e\u540d\u7a31> \u5c0d\u50cf\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff1a value \uff1a\u7531 SET_PIN \u6307\u4ee4\u8a2d\u5b9a\u7684\u5f15\u8173\u300c\u503c\u300d\u3002 palette2 \u00b6 palette2 \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a ping \u3002\u6700\u5f8c\u4e00\u6b21\u5831\u544a\u7684Palette 2 ping\u503c\uff08\u767e\u5206\u6bd4\uff09\u3002 remaining_load_length \uff1a\u7576\u958b\u59cb\u4e00\u500b\u4f7f\u7528 Palette 2 \u7684\u5217\u5370\u6642\uff0c\u9019\u662f\u9700\u8981\u8f09\u5165\u5230\u64e0\u51fa\u6a5f\u4e2d\u7684\u8017\u6750\u9577\u5ea6\u3002 is_splicing \uff1a\u7576Palette 2\u6b63\u5728\u62fc\u63a5\u8017\u6750\u6642\u70ba True\u3002 pause_resume \u00b6 palette2 \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a is_paused \uff1a\u5982\u679c\u57f7\u884c\u4e86 PAUSE \u547d\u4ee4\u800c\u6c92\u6709\u57f7\u884c RESUME\uff0c\u5247\u8fd4\u56de True\u3002 print_stats \u00b6 print_stats \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u6b64\u5c0d\u50cf\u81ea\u52d5\u53ef\u7528\uff09\uff1a filename \u3001 total_duration \u3001 print_duration \u3001 filament_used \u3001 state \u3001 message \uff1avirtual_sdcard \u5217\u5370\u8655\u65bc\u6d3b\u52d5\u72c0\u614b\u6642\u6709\u95dc\u76ee\u524d\u5217\u5370\u7684\u4f30\u6e2c\u3002 probe \u00b6 probe \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 bltouch \u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u6b64\u5c0d\u8c61\u4e5f\u53ef\u7528\uff09\uff1a last_query \uff1a\u5982\u679c\u63a2\u91dd\u5728\u4e0a\u4e00\u500b QUERY_PROBE \u547d\u4ee4\u671f\u9593\u5831\u544a\u70ba\"\u5df2\u89f8\u767c\"\uff0c\u5247\u8fd4\u56de True\u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\u5b83\uff0c\u6839\u64da\u6a21\u677f\u5c55\u958b\u7684\u9806\u5e8f\uff0c\u5fc5\u9808\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u57f7\u884c QUERY_PROBE \u547d\u4ee4\u3002 last_z_result \uff1a\u8fd4\u56de\u4e0a\u4e00\u6b21 PROBE \u547d\u4ee4\u7684\u7d50\u679c Z \u503c\u3002\u8acb\u6ce8\u610f\uff0c\u7531\u65bc\u6a21\u677f\u5c55\u958b\u7684\u9806\u5e8f\uff0c\u5728\u5b8f\u4e2d\u4f7f\u7528\u6642\u5fc5\u9808\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u57f7\u884c PROBE\uff08\u6216\u985e\u4f3c\uff09\u547d\u4ee4\u3002 quad_gantry_level \u00b6 quad_gantry_level \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 quad_gantry_level\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c\u9f8d\u9580\u8abf\u5e73\u5df2\u57f7\u884c\u4f75\u6210\u529f\u5b8c\u6210\uff0c\u5247\u70ba True\u3002 query_endstops \u00b6 query_endstops \u5c0d\u50cf\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86\u4efb\u4f55\u9650\u4f4d\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a last_query[\"<\u9650\u4f4d>\"] \uff1a\u5982\u679c\u5728\u6700\u5f8c\u4e00\u6b21 QUERY_ENDSTOP \u547d\u4ee4\u4e2d\uff0c\u7d66\u5b9a\u7684 endstop \u8655\u65bc\u300c\u89f8\u767c\u300d\u72c0\u614b\uff0c\u5247\u8fd4\u56de True\u3002\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\uff0c\u7531\u65bc\u6a21\u677f\u64f4\u5145\u5957\u4ef6\u7684\u9806\u5e8f\uff0cQUERY_ENDSTOP \u547d\u4ee4\u5fc5\u9808\u5728\u5305\u542b\u9019\u500b\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u57f7\u884c\u3002 servo \u00b6 servo some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a printer[\"servo <\u914d\u7f6e\u540d>\"].value \uff1a\u8207\u6307\u5b9a\u4f3a\u670d\u76f8\u95dc PWM \u5f15\u8173\u7684\u4e0a\u4e00\u6b21\u8a2d\u5b9a\u7684\u503c\uff080.0 \u548c 1.0 \u4e4b\u9593\u7684\u503c\uff09\u3002 system_stats \u00b6 system_stats \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a sysload \u3001 cputime \u3001 memavail \uff1a\u95dc\u65bc\u4e3b\u6a5f\u64cd\u4f5c\u7cfb\u7d71\u548c\u7a0b\u5e8f\u8ca0\u8f09\u7684\u8cc7\u8a0a\u3002 \u6eab\u5ea6\u611f\u6e2c\u5668 \u00b6 \u4ee5\u4e0b\u8cc7\u8a0a\u53ef\u5728 bme280 config_section_name \u3001 htu21d config_section_name \u3001 lm75 config_section_name \u548c temperature_host config_section_name \u5c0d\u50cf\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u5f9e\u611f\u6e2c\u5668\u8b80\u53d6\u7684\u6eab\u5ea6\u3002 hemidity \u3001 pressure \u548c gas \uff1a\u611f\u6e2c\u5668\u4e0a\u4e00\u6b21\u8b80\u53d6\u7684\u503c\uff08\u50c5\u5728bme280\u3001htu21d\u548clm75\u611f\u6e2c\u5668\u4e0a\uff09\u3002 temperature_fan \u00b6 temperature_fan some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u5f9e\u611f\u6e2c\u5668\u8b80\u53d6\u7684\u6eab\u5ea6\u3002 target \uff1a\u98a8\u6247\u76ee\u6a19\u6eab\u5ea6\u3002 temperature_sensor \u00b6 temperature_sensor some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u5f9e\u611f\u6e2c\u5668\u8b80\u53d6\u7684\u6eab\u5ea6\u3002 measured_min_temp \u548c measured_max_temp \uff1a\u81eaKlipper\u4e3b\u6a5f\u8edf\u9ad4\u4e0a\u6b21\u91cd\u65b0\u555f\u52d5\u4ee5\u4f86\uff0c\u611f\u6e2c\u5668\u6e2c\u91cf\u7684\u6700\u4f4e\u548c\u6700\u9ad8\u6eab\u5ea6\u3002 tmc \u9a45\u52d5 \u00b6 TMC \u6b65\u9032\u9a45\u52d5 \u5c0d\u50cf\uff08\u4f8b\u5982\uff0c [tmc2208 stepper_x] \uff09\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a mcu_phase_offset \uff1a\u5fae\u63a7\u5236\u5668\u6b65\u9032\u4f4d\u7f6e\u8207\u9a45\u52d5\u5668\u7684\"\u96f6\"\u76f8\u4f4d\u7684\u76f8\u5c0d\u4f4d\u7f6e\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5247\u6b64\u6b04\u4f4d\u53ef\u80fd\u70ba\u7a7a\u3002 phase_offset_position \uff1a\u5c0d\u61c9\u96fb\u6a5f\u300c\u96f6\u300d\u76f8\u4f4d\u7684\u300c\u6307\u4ee4\u4f4d\u7f6e\u300d\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5247\u8a72\u6b04\u4f4d\u53ef\u4ee5\u70ba\u7a7a\u3002 drv_status \uff1a\u4e0a\u6b21\u9a45\u52d5\u72c0\u614b\u67e5\u8a62\u7d50\u679c\u3002\uff08\u50c5\u5831\u544a\u975e\u96f6\u6b04\u4f4d\u3002\u5982\u679c\u9a45\u52d5\u6c92\u6709\u88ab\u555f\u7528\uff08\u56e0\u6b64\u6c92\u6709\u8f2a\u8a62\uff09\uff0c\u5247\u6b64\u6b04\u4f4d\u5c07\u70ba null\u3002 run_current \uff1a\u76ee\u524d\u8a2d\u5b9a\u7684\u57f7\u884c\u96fb\u6d41\u3002 hold_current \uff1a\u76ee\u524d\u8a2d\u5b9a\u7684\u4fdd\u6301\u96fb\u6d41\u3002 toolhead \u00b6 toolhead \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a position \uff1a\u5217\u5370\u982d\u76f8\u5c0d\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u6307\u5b9a\u7684\u5ea7\u6a19\u7cfb\u7684\u6700\u5f8c\u547d\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8a2a\u554f\u8a72\u4f4d\u7f6e\u7684 x\u3001y\u3001z \u548c e \u4efd\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 extruder \uff1a\u76ee\u524d\u6d3b\u8e8d\u7684\u64e0\u51fa\u6a5f\u7684\u540d\u7a31\u3002\u4f8b\u5982\uff0c\u5728\u5b8f\u4e2d\u53ef\u4ee5\u4f7f\u7528 printer[printer.toolhead.extruder].target \u4f86\u7372\u53d6\u76ee\u524d\u64e0\u51fa\u6a5f\u7684\u76ee\u6a19\u6eab\u5ea6\u3002 homed_axes \uff1a\u76ee\u524d\u88ab\u8a8d\u70ba\u8655\u65bc\u300c\u5df2\u6b78\u4f4d\u300d\u72c0\u614b\u7684\u8eca\u8ef8\u3002\u9019\u662f\u4e00\u500b\u5305\u542b\u4e00\u500b\u6216\u591a\u500b\"x\"\u3001\"y\"\u3001\"z\"\u7684\u5b57\u4e32\u3002 axis_minimum \u3001 axis_maximum \uff1a\u6b78\u4f4d\u540e\u7684\u8ef8\u7684\u884c\u7a0b\u9650\u5236\uff08\u6beb\u7c73\uff09\u3002\u53ef\u4ee5\u8a2a\u554f\u6b64\u6975\u9650\u503c\u7684 x\u3001y\u3001z \u4efd\u91cf\uff08\u4f8b\u5982\uff0c axis_minimum.x \u3001 axis_maximum.z \uff09\u3002 max_velocity \u3001 max_accel \u3001 max_accel_to_decel \u548c square_corner_velocity \uff1a\u76ee\u524d\u751f\u6548\u7684\u5370\u8868\u6a5f\u9650\u5236\u3002\u5982\u679c SET_VELOCITY_LIMIT \uff08\u6216 M204 \uff09\u547d\u4ee4\u5728\u57f7\u884c\u6642\u6539\u8b8a\u5b83\u5011\uff0c\u9019\u4e9b\u503c\u53ef\u80fd\u8207\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\u4e0d\u540c\u3002 stalls \uff1a\u7531\u65bc\u5de5\u5177\u982d\u79fb\u52d5\u901f\u5ea6\u5feb\u4e8e\u5f9e G \u7a0b\u5f0f\u78bc\u8f38\u5165\u8b80\u53d6\u7684\u79fb\u52d5\u901f\u5ea6\uff0c\u56e0\u6b64\u5370\u8868\u6a5f\u5fc5\u9808\u66ab\u505c\u7684\u7e3d\u6b21\u6578\uff08\u81ea\u4e0a\u6b21\u91cd\u65b0\u555f\u52d5\u4ee5\u4f86\uff09\u3002 dual_carriage \u00b6 \u4f7f\u7528\u4e86 hybrid_corexy \u6216 hybrid_corexz \u904b\u52d5\u5b78\u7684 dual_carriage \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a mode \uff1a\u76ee\u524d\u6a21\u5f0f\u3002\u53ef\u80fd\u7684\u503c\uff1a\"FULL_CONTROL\" active_carriage \uff1a\u76ee\u524d\u7684\u6d3b\u8e8d\u7684\u6ed1\u8eca\u3002\u53ef\u80fd\u7684\u503c\u662f\"CARRIAGE_0\"\u548c\"CARRIAGE_1\" virtual_sdcard \u00b6 virtual_sdcard \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a is_active \uff1a\u5982\u679c\u6b63\u5728\u5f9e\u6a94\u6848\u9032\u884c\u5217\u5370\uff0c\u5247\u8fd4\u56de True\u3002 progress \uff1a\u5c0d\u7576\u524d\u5217\u5370\u9032\u5ea6\u7684\u4f30\u8a08\uff08\u57fa\u65bc\u6a94\u6848\u5927\u5c0f\u548c\u6a94\u6848\u4f4d\u7f6e\uff09\u3002 file_path \uff1a\u76ee\u524d\u8f09\u5165\u7684\u6a94\u6848\u7684\u5b8c\u6574\u8def\u5f91\u3002 file_position \uff1a\u76ee\u524d\u5217\u5370\u7684\u4f4d\u7f6e\uff08\u4ee5\u4f4d\u5143\u7d44\u70ba\u55ae\u4f4d\uff09\u3002 file_size \uff1a\u76ee\u524d\u8f09\u5165\u7684\u6a94\u6848\u7684\u5927\u5c0f\uff08\u4ee5\u4f4d\u5143\u7d44\u70ba\u55ae\u4f4d\uff09\u3002 webhooks \u00b6 system_stats \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a state \uff1a\u8fd4\u56de\u4e00\u500b\u8868\u793a\u76ee\u524d Klipper \u72c0\u614b\u7684\u5b57\u4e32\u3002\u53ef\u80fd\u7684\u503c\u70ba\uff1a\"ready\"\u3001\"startup\"\u3001\"shutdown\"\u548c\"error\"\u3002 state_message \uff1a\u63d0\u4f9b\u4e86\u4e00\u500b\u5305\u542b\u76ee\u524d Klipper \u72c0\u614b\u548c\u4e0a\u4e0b\u6587\u7684\u53ef\u8b80\u5b57\u4e32\u3002 z_tilt \u00b6 z_tilt \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 z_tilt\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c z \u50be\u659c\u8abf\u5e73\u904e\u7a0b\u5df2\u57f7\u884c\u4f75\u6210\u529f\u5b8c\u6210\uff0c\u5247\u70ba True\u3002","title":"\u72c0\u614b\u53c3\u8003"},{"location":"Status_Reference.html#_1","text":"\u672c\u6587\u4ef6\u662f\u53ef\u7528\u65bc Klipper \u5b8f \u3001 \u986f\u793a\u6b04\u4f4d \u4ee5\u53ca API\u4f3a\u670d\u5668 \u7684\u5370\u8868\u6a5f\u72c0\u614b\u8cc7\u8a0a\u7684\u53c3\u8003\u3002 \u672c\u6587\u4ef6\u4e2d\u7684\u6b04\u4f4d\u53ef\u80fd\u6703\u767c\u751f\u8b8a\u5316 - \u5982\u679c\u4f7f\u7528\u4e86\u4efb\u4f55\u6b04\u4f4d\uff0c\u5728\u66f4\u65b0 Klipper \u6642\uff0c\u8acb\u52d9\u5fc5\u6aa2\u8996 \u914d\u7f6e\u8b8a\u5316\u6587\u4ef6 \u3002","title":"\u72c0\u614b\u53c3\u8003"},{"location":"Status_Reference.html#angle","text":"The following information is available in angle some_name objects: temperature : The last temperature reading (in Celsius) from a tle5012b magnetic hall sensor. This value is only available if the angle sensor is a tle5012b chip and if measurements are in progress (otherwise it reports None ).","title":"angle"},{"location":"Status_Reference.html#bed_mesh","text":"bed_mesh \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a profile_name \u3001 mesh_min \u3001 mesh_max \u3001 probed_matrix \u3001 mesh_matrix \uff1a\u95dc\u65bc\u76ee\u524d\u6d3b\u8e8d\u7684 bed_mesh \u914d\u7f6e\u8cc7\u8a0a\u3002 profiles : The set of currently defined profiles as setup using BED_MESH_PROFILE.","title":"bed_mesh"},{"location":"Status_Reference.html#configfile","text":"configfile \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a settings.<\u5206\u6bb5>.<\u9078\u9805> \uff1a\u8fd4\u56de\u6700\u5f8c\u4e00\u6b21\u8edf\u9ad4\u555f\u52d5\u6216\u91cd\u555f\u6642\u7d66\u5b9a\u7684\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\uff08\u6216\u9810\u8a2d\u503c\uff09\u3002(\u4e0d\u6703\u53cd\u6620\u57f7\u884c\u6642\u7684\u4fee\u6539\u3002\uff09 config.<\u5206\u6bb5>.<\u9078\u9805> \uff1a\u8fd4\u56deKlipper\u5728\u4e0a\u6b21\u8edf\u9ad4\u555f\u52d5\u6216\u91cd\u555f\u6642\u8b80\u53d6\u7684\u539f\u59cb\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\u3002(\u4e0d\u6703\u53cd\u6620\u57f7\u884c\u6642\u7684\u4fee\u6539\u3002)\u6240\u6709\u503c\u90fd\u4ee5\u5b57\u4e32\u5f62\u5f0f\u8fd4\u56de\u3002 save_config_pending \uff1a\u5982\u679c\u5b58\u5728\u53ef\u4ee5\u901a\u904e SAVE_CONFIG \u547d\u4ee4\u5132\u5b58\u5230\u914d\u7f6e\u6a94\u6848\u7684\u66f4\u65b0\uff0c\u5247\u8fd4\u56de True\u3002 save_config_pending_items : Contains the sections and options that were changed and would be persisted by a SAVE_CONFIG . warnings \uff1a\u6709\u95dc\u914d\u7f6e\u9078\u9805\u7684\u8b66\u544a\u5217\u8868\u3002\u5217\u8868\u4e2d\u7684\u6bcf\u500b\u689d\u76ee\u90fd\u5c07\u662f\u4e00\u500b dictionary\uff0c\u5176\u4e2d\u5305\u542b type \u548c message \u6b04\u4f4d\uff08\u90fd\u662f\u5b57\u4e32\uff09\u3002\u6839\u64da\u8b66\u544a\u578b\u5225\uff0c\u53ef\u80fd\u9084\u6709\u5176\u4ed6\u53ef\u7528\u6b04\u4f4d\u3002","title":"configfile"},{"location":"Status_Reference.html#display_status","text":"display_status \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 display \u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u8a72\u5c0d\u50cf\u81ea\u52d5\u53ef\u7528\uff09\uff1a progress \uff1a\u6700\u5f8c\u4e00\u500b M73 G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u5831\u544a\u7684\u9032\u5ea6\uff08\u5982\u679c\u6c92\u6709\u6536\u5230 M73 \uff0c\u5247\u6703\u7528 virtual_sdcard.progress \u66ff\u4ee3\uff09\u3002 message \uff1a\u6700\u5f8c\u4e00\u689d M117 G\u7a0b\u5f0f\u78bc\u547d\u4ee4\u4e2d\u5305\u542b\u7684\u8a0a\u606f\u3002","title":"display_status"},{"location":"Status_Reference.html#endstop_phase","text":"endstop_phase \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a last_home.<\u6b65\u9032\u96fb\u6a5f\u540d>.phase \uff1a\u6700\u5f8c\u4e00\u6b21\u6b78\u70ba\u5617\u8a66\u7d50\u675f\u6642\u6b65\u9032\u96fb\u6a5f\u7684\u76f8\u4f4d\u3002 last_home.<\u6b65\u9032\u96fb\u6a5f\u540d\u7a31>.phase \uff1a\u6b65\u9032\u96fb\u6a5f\u4e0a\u53ef\u7528\u7684\u7e3d\u76f8\u6578\u3002 last_home.<\u6b65\u9032\u96fb\u6a5f\u540d\u7a31>.mcu_position \uff1a\u6b65\u9032\u96fb\u6a5f\u5728\u4e0a\u6b21\u6b78\u4f4d\u5617\u8a66\u7d50\u675f\u6642\u7684\u4f4d\u7f6e\uff08\u7531\u5fae\u63a7\u5236\u5668\u8ddf\u8e64\uff09\u3002\u8a72\u4f4d\u7f6e\u662f\u81ea\u5fae\u63a7\u5236\u5668\u6700\u5f8c\u4e00\u6b21\u91cd\u555f\u4ee5\u4f86\uff0c\u5411\u524d\u8d70\u7684\u7e3d\u6b65\u6578\u6e1b\u53bb\u53cd\u5411\u8d70\u7684\u7e3d\u6b65\u6578\u3002","title":"endstop_phase"},{"location":"Status_Reference.html#exclude_object","text":"The following information is available in the exclude_object object: objects : An array of the known objects as provided by the EXCLUDE_OBJECT_DEFINE command. This is the same information provided by the EXCLUDE_OBJECT VERBOSE=1 command. The center and polygon fields will only be present if provided in the original EXCLUDE_OBJECT_DEFINE Here is a JSON sample: [ { \"polygon\": [ [ 156.25, 146.2511675 ], [ 156.25, 153.7488325 ], [ 163.75, 153.7488325 ], [ 163.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_2_COPY_0\", \"center\": [ 160, 150 ] }, { \"polygon\": [ [ 146.25, 146.2511675 ], [ 146.25, 153.7488325 ], [ 153.75, 153.7488325 ], [ 153.75, 146.2511675 ] ], \"name\": \"CYLINDER_2_STL_ID_1_COPY_0\", \"center\": [ 150, 150 ] } ] excluded_objects : An array of strings listing the names of excluded objects. current_object : The name of the object currently being printed.","title":"exclude_object"},{"location":"Status_Reference.html#fan","text":"fan \u3001 heater_fan some_name \u548c controller_fan some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a speed \uff1a\u98a8\u6247\u901f\u5ea6\uff0c0.0\u548c1.0\u4e4b\u9593\u7684\u6d6e\u9ede\u6578\u3002 rpm \uff1a\u5982\u679c\u98a8\u6247\u6709\u4e00\u500b tachometer_pin\uff0c\u5247\u6e2c\u91cf\u7684\u98a8\u6247\u901f\u5ea6\uff0c\u55ae\u4f4d\u662f\u6bcf\u5206\u9418\u8f49\u6578\u3002","title":"fan"},{"location":"Status_Reference.html#filament_switch_sensor","text":"filament_switch_sensor some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a enabled \uff1a\u5982\u679c\u958b\u95dc\u611f\u6e2c\u5668\u76ee\u524d\u5df2\u555f\u7528\uff0c\u5247\u8fd4\u56deTrue\u3002 filament_detected \uff1a\u5982\u679c\u611f\u6e2c\u5668\u8655\u65bc\u89f8\u767c\u72c0\u614b\uff0c\u5247\u8fd4\u56de True\u3002","title":"filament_switch_sensor"},{"location":"Status_Reference.html#filament_motion_sensor","text":"filament_motion_sensor \u611f\u6e2c\u5668\u540d \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a enabled \uff1a\u5982\u679c\u76ee\u524d\u555f\u7528\u4e86\u904b\u52d5\u611f\u6e2c\u5668\uff0c\u5247\u8fd4\u56de True\u3002 filament_detected \uff1a\u5982\u679c\u611f\u6e2c\u5668\u8655\u65bc\u89f8\u767c\u72c0\u614b\uff0c\u5247\u8fd4\u56de True\u3002","title":"filament_motion_sensor"},{"location":"Status_Reference.html#firmware_retraction","text":"firmware_retraction \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a retract_length \u3001 retract_speed \u3001 unretract_extra_length \u3001 unretract_speed \uff1afirmware_retraction \u6a21\u7d44\u7684\u7576\u524d\u8a2d\u5b9a\u3002\u5982\u679c SET_RETRACTION \u547d\u4ee4\u6539\u8b8a\u5b83\u5011\uff0c\u9019\u4e9b\u8a2d\u5b9a\u53ef\u80fd\u8207\u914d\u7f6e\u6a94\u6848\u4e0d\u540c\u3002","title":"firmware_retraction"},{"location":"Status_Reference.html#gcode_macro","text":"[gcode_macro <\u540d\u7a31> \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a <\u8b8a\u6578\u540d> \uff1a gcode_macro \u8b8a\u6578 \u7684\u7576\u524d\u503c\u3002","title":"gcode_macro"},{"location":"Status_Reference.html#gcode_move","text":"gcode_move \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a gcode_position \uff1a\u5de5\u5177\u982d\u76f8\u5c0d\u65bc\u76ee\u524d G \u7a0b\u5f0f\u78bc\u539f\u9ede\u7684\u7576\u524d\u4f4d\u7f6e\u3002\u4e5f\u5c31\u662f\u53ef\u4ee5\u76f4\u63a5\u88ab\u9aee\u9001\u5230 G1 \u547d\u4ee4\u7684\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u5225\u8a2a\u554f\u9019\u500b\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u4efd\u91cf\uff08\u4f8b\u5982\uff0c gcode_position.x \uff09\u3002 position \uff1a\u5217\u5370\u982d\u5728\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u5ea7\u6a19\u7cfb\u4e2d\u7684\u6700\u5f8c\u6307\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8a2a\u554f\u9019\u500b\u4f4d\u7f6e\u7684x\u3001y\u3001z\u548ce\u4efd\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 homing_origin \uff1a\u5728 G28 \u547d\u4ee4\u4e4b\u5f8c\u8981\u4f7f\u7528\u7684 G-Code \u5ea7\u6a19\u7cfb\u7684\u539f\u9ede\uff08\u76f8\u5c0d\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u5b9a\u7fa9\u7684\u5ea7\u6a19\u7cfb\uff09\u3002 SET_GCODE_OFFSET \u547d\u4ee4\u53ef\u4ee5\u6539\u8b8a\u9019\u500b\u4f4d\u7f6e\u3002\u53ef\u4ee5\u5206\u5225\u8a2a\u554f\u9019\u500b\u4f4d\u7f6e\u7684x\u3001y\u548cz\u4efd\u91cf\uff08\u4f8b\u5982\uff0c homing_origin.x \uff09\u3002 speed \uff1a\u5728 G1 \u547d\u4ee4\u4e2d\u6700\u5f8c\u4e00\u6b21\u8a2d\u5b9a\u7684\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s\uff09\u3002 speed_factor \uff1a\u901a\u904e M220 \u547d\u4ee4\u8a2d\u5b9a\u7684\"\u901f\u5ea6\u56e0\u5b50\u8986\u84cb\"\u3002\u9019\u662f\u4e00\u500b\u6d6e\u9ede\u503c\uff0c1.0 \u610f\u5473\u8457\u6c92\u6709\u8986\u84cb\uff0c\u4f8b\u5982\uff0c2.0 \u5c07\u8acb\u6c42\u7684\u901f\u5ea6\u7ffb\u500d\u3002 extrude_factor \uff1a\u7531 M221 \u547d\u4ee4\u8a2d\u5b9a\u7684\"\u64e0\u51fa\u500d\u7387\u8986\u84cb\" \u3002\u9019\u662f\u4e00\u500b\u6d6e\u9ede\u503c\uff0c1.0\u610f\u5473\u8457\u6c92\u6709\u8986\u84cb\uff0c\u4f8b\u5982\uff0c2.0\u5c07\u4f7f\u8981\u6c42\u7684\u64e0\u51fa\u91cf\u7ffb\u500d\u3002 absolute_coordinates \uff1a\u5982\u679c\u5728 G90 \u7d55\u5c0d\u5ea7\u6a19\u6a21\u5f0f\u4e0b\uff0c\u5247\u8fd4\u56de True\uff1b\u5982\u679c\u5728 G91 \u76f8\u5c0d\u6a21\u5f0f\u4e0b\uff0c\u5247\u8fd4\u56de False\u3002 absolute_extrude \uff1a\u5982\u679c\u5728 M82 \u7d55\u5c0d\u64e0\u51fa\u6a21\u5f0f\uff0c\u5247\u8fd4\u56deTrue\uff1b\u5982\u679c\u5728 M83 \u76f8\u5c0d\u6a21\u5f0f\uff0c\u5247\u8fd4\u56deFalse\u3002","title":"gcode_move"},{"location":"Status_Reference.html#hall_filament_width_sensor","text":"hall_filament_width_sensor \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a is_active \uff1a\u5982\u679c\u611f\u6e2c\u5668\u76ee\u524d\u8655\u65bc\u6d3b\u52d5\u72c0\u614b\uff0c\u8fd4\u56deTrue\u3002 Diameter \uff1a\u4e0a\u4e00\u6b21\u611f\u6e2c\u5668\u8b80\u6578\uff0c\u55ae\u4f4d\u70ba mm\u3002 Raw \uff1a\u4e0a\u4e00\u6b21\u611f\u6e2c\u5668\u539f\u59cb ADC \u8b80\u6578\u3002","title":"hall_filament_width_sensor"},{"location":"Status_Reference.html#heater","text":"\u52a0\u71b1\u5668\u5c0d\u8c61\uff0c\u5982 extruder \u3001 heater_bed \u548c heater_generic \uff0c\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a temperature \uff1a\u7d66\u5b9a\u52a0\u71b1\u5668\u6700\u5f8c\u5831\u544a\u7684\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\u7684\u6d6e\u9ede\u6578\uff09\u3002 target \uff1a\u7d66\u5b9a\u52a0\u71b1\u5668\u7684\u7576\u524d\u76ee\u6a19\u6eab\u5ea6\uff08\u4ee5\u651d\u6c0f\u5ea6\u70ba\u55ae\u4f4d\u7684\u6d6e\u9ede\u6578\uff09\u3002 power \uff1a\u8207\u52a0\u71b1\u5668\u76f8\u95dc\u7684 PWM \u5f15\u8173\u7684\u6700\u5f8c\u8a2d\u5b9a\uff080.0\u548c1.0\u4e4b\u9593\u7684\u6578\u503c\uff09\u3002 can_extrude \uff1a\u64e0\u51fa\u6a5f\u662f\u5426\u53ef\u4ee5\u64e0\u51fa\uff08\u7531 min_extrude_temp \u5b9a\u7fa9\uff09\uff0c\u50c5\u53ef\u7528\u65bc extruder","title":"heater"},{"location":"Status_Reference.html#heaters","text":"heaters \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86\u4efb\u4f55\u52a0\u71b1\u5668\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a available_heaters \uff1a\u8fd4\u56de\u6240\u6709\u7576\u524d\u53ef\u7528\u52a0\u71b1\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\uff0c\u4f8b\u5982 [\"extruder\"\u3001\"heater_bed\"\u3001\"heater_generic my_custom_heater\"] \u3002 available_sensors \uff1a\u8fd4\u56de\u6240\u6709\u7576\u524d\u53ef\u7528\u7684\u6eab\u5ea6\u611f\u6e2c\u5668\u7684\u5b8c\u6574\u914d\u7f6e\u5206\u6bb5\u540d\u7a31\u5217\u8868\uff0c\u4f8b\u5982\uff1a [\"extruder\", \"heater_bed\", \"heater_generic my_custom_heater\", \"temperature_sensor electronics_temp\"] \u3002","title":"heaters"},{"location":"Status_Reference.html#idle_timeout","text":"idle_timeout \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a state \uff1a\u7531 idle_timeout \u6a21\u7d44\u8ddf\u8e64\u7684\u5370\u8868\u6a5f\u7684\u7576\u524d\u72c0\u614b\u3002\u5b83\u53ef\u4ee5\u662f\u4ee5\u4e0b\u5b57\u4e32\u4e4b\u4e00\uff1a\"Idle\", \"Printing\", \"Ready\"\u3002 printing_time \uff1a\u5370\u8868\u6a5f\u8655\u65bc\u300cPrinting\u300d\u72c0\u614b\u7684\u6642\u9593\uff08\u4ee5\u79d2\u70ba\u55ae\u4f4d\uff09\uff08\u7531 idle_timeout \u6a21\u7d44\u8ddf\u8e64\uff09\u3002","title":"idle_timeout"},{"location":"Status_Reference.html#led","text":"The following information is available for each [led led_name] , [neopixel led_name] , [dotstar led_name] , [pca9533 led_name] , and [pca9632 led_name] config section defined in printer.cfg: color_data : A list of color lists containing the RGBW values for a led in the chain. Each value is represented as a float from 0.0 to 1.0. Each color list contains 4 items (red, green, blue, white) even if the underyling LED supports fewer color channels. For example, the blue value (3rd item in color list) of the second neopixel in a chain could be accessed at printer[\"neopixel <config_name>\"].color_data[1][2] .","title":"led"},{"location":"Status_Reference.html#mcu","text":"mcu \u548c mcu some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a mcu_version \uff1a\u7531\u5fae\u63a7\u5236\u5668\u5831\u544a\u7684 Klipper \u7a0b\u5f0f\u78bc\u7248\u672c\u3002 mcu_build_versions \uff1a\u6709\u95dc\u7528\u65bc\u7522\u751f\u5fae\u63a7\u5236\u5668\u7a0b\u5f0f\u78bc\u7684\u69cb\u5efa\u5de5\u5177\u7684\u8cc7\u8a0a\uff08\u7531\u5fae\u63a7\u5236\u5668\u5831\u544a\uff09\u3002 mcu_constants.<\u5e38\u91cf\u540d> \uff1a\u7531\u5fae\u63a7\u5236\u5668\u5831\u544a\u7de8\u8b6f\u6642\u4f7f\u7528\u7684\u5e38\u91cf\u3002\u53ef\u7528\u7684\u5e38\u91cf\u5728\u4e0d\u540c\u7684\u5fae\u63a7\u5236\u5668\u67b6\u69cb\u548c\u6bcf\u500b\u7a0b\u5f0f\u78bc\u4fee\u8a02\u7248\u4e2d\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002 last_stats.<\u7d71\u8a08\u8cc7\u8a0a\u540d> \uff1a\u95dc\u65bc\u5fae\u63a7\u5236\u5668\u9023\u7dda\u7684\u7d71\u8a08\u8cc7\u8a0a\u3002","title":"mcu"},{"location":"Status_Reference.html#motion_report","text":"motion_report \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86\u4efb\u4f55\u6b65\u9032\u5668\u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u8a72\u5c0d\u50cf\u81ea\u52d5\u53ef\u7528\uff09\uff1a live_position \uff1a\u8acb\u6c42\u7684\u5217\u5370\u982d\u4f4d\u7f6e\u63d2\u503c\u5230\u76ee\u524d\u6642\u9593\u540e\u7684\u4f4d\u7f6e\u3002 live_velocity \uff1a\u76ee\u524d\u8acb\u6c42\u7684\u5217\u5370\u982d\u901f\u5ea6\uff08\u4ee5\u6beb\u7c73/\u79d2\u70ba\u55ae\u4f4d\uff09\u3002 live_extruder_velocity \uff1a\u76ee\u524d\u8acb\u6c42\u7684\u64e0\u51fa\u6a5f\u901f\u5ea6\uff08\u55ae\u4f4d\uff1amm/s\uff09\u3002","title":"motion_report"},{"location":"Status_Reference.html#output_pin","text":"[output_pin <\u914d\u7f6e\u540d\u7a31> \u5c0d\u50cf\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff1a value \uff1a\u7531 SET_PIN \u6307\u4ee4\u8a2d\u5b9a\u7684\u5f15\u8173\u300c\u503c\u300d\u3002","title":"output_pin"},{"location":"Status_Reference.html#palette2","text":"palette2 \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a ping \u3002\u6700\u5f8c\u4e00\u6b21\u5831\u544a\u7684Palette 2 ping\u503c\uff08\u767e\u5206\u6bd4\uff09\u3002 remaining_load_length \uff1a\u7576\u958b\u59cb\u4e00\u500b\u4f7f\u7528 Palette 2 \u7684\u5217\u5370\u6642\uff0c\u9019\u662f\u9700\u8981\u8f09\u5165\u5230\u64e0\u51fa\u6a5f\u4e2d\u7684\u8017\u6750\u9577\u5ea6\u3002 is_splicing \uff1a\u7576Palette 2\u6b63\u5728\u62fc\u63a5\u8017\u6750\u6642\u70ba True\u3002","title":"palette2"},{"location":"Status_Reference.html#pause_resume","text":"palette2 \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a is_paused \uff1a\u5982\u679c\u57f7\u884c\u4e86 PAUSE \u547d\u4ee4\u800c\u6c92\u6709\u57f7\u884c RESUME\uff0c\u5247\u8fd4\u56de True\u3002","title":"pause_resume"},{"location":"Status_Reference.html#print_stats","text":"print_stats \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 virtual_sdcard \u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u6b64\u5c0d\u50cf\u81ea\u52d5\u53ef\u7528\uff09\uff1a filename \u3001 total_duration \u3001 print_duration \u3001 filament_used \u3001 state \u3001 message \uff1avirtual_sdcard \u5217\u5370\u8655\u65bc\u6d3b\u52d5\u72c0\u614b\u6642\u6709\u95dc\u76ee\u524d\u5217\u5370\u7684\u4f30\u6e2c\u3002","title":"print_stats"},{"location":"Status_Reference.html#probe","text":"probe \u5c0d\u50cf\u4e2d\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 bltouch \u914d\u7f6e\u5206\u6bb5\uff0c\u5247\u6b64\u5c0d\u8c61\u4e5f\u53ef\u7528\uff09\uff1a last_query \uff1a\u5982\u679c\u63a2\u91dd\u5728\u4e0a\u4e00\u500b QUERY_PROBE \u547d\u4ee4\u671f\u9593\u5831\u544a\u70ba\"\u5df2\u89f8\u767c\"\uff0c\u5247\u8fd4\u56de True\u3002\u8acb\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\u5b83\uff0c\u6839\u64da\u6a21\u677f\u5c55\u958b\u7684\u9806\u5e8f\uff0c\u5fc5\u9808\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u57f7\u884c QUERY_PROBE \u547d\u4ee4\u3002 last_z_result \uff1a\u8fd4\u56de\u4e0a\u4e00\u6b21 PROBE \u547d\u4ee4\u7684\u7d50\u679c Z \u503c\u3002\u8acb\u6ce8\u610f\uff0c\u7531\u65bc\u6a21\u677f\u5c55\u958b\u7684\u9806\u5e8f\uff0c\u5728\u5b8f\u4e2d\u4f7f\u7528\u6642\u5fc5\u9808\u5728\u5305\u542b\u6b64\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u57f7\u884c PROBE\uff08\u6216\u985e\u4f3c\uff09\u547d\u4ee4\u3002","title":"probe"},{"location":"Status_Reference.html#quad_gantry_level","text":"quad_gantry_level \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 quad_gantry_level\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c\u9f8d\u9580\u8abf\u5e73\u5df2\u57f7\u884c\u4f75\u6210\u529f\u5b8c\u6210\uff0c\u5247\u70ba True\u3002","title":"quad_gantry_level"},{"location":"Status_Reference.html#query_endstops","text":"query_endstops \u5c0d\u50cf\u63d0\u4f9b\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86\u4efb\u4f55\u9650\u4f4d\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a last_query[\"<\u9650\u4f4d>\"] \uff1a\u5982\u679c\u5728\u6700\u5f8c\u4e00\u6b21 QUERY_ENDSTOP \u547d\u4ee4\u4e2d\uff0c\u7d66\u5b9a\u7684 endstop \u8655\u65bc\u300c\u89f8\u767c\u300d\u72c0\u614b\uff0c\u5247\u8fd4\u56de True\u3002\u6ce8\u610f\uff0c\u5982\u679c\u5728\u5b8f\u4e2d\u4f7f\u7528\uff0c\u7531\u65bc\u6a21\u677f\u64f4\u5145\u5957\u4ef6\u7684\u9806\u5e8f\uff0cQUERY_ENDSTOP \u547d\u4ee4\u5fc5\u9808\u5728\u5305\u542b\u9019\u500b\u5f15\u7528\u7684\u5b8f\u4e4b\u524d\u57f7\u884c\u3002","title":"query_endstops"},{"location":"Status_Reference.html#servo","text":"servo some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a printer[\"servo <\u914d\u7f6e\u540d>\"].value \uff1a\u8207\u6307\u5b9a\u4f3a\u670d\u76f8\u95dc PWM \u5f15\u8173\u7684\u4e0a\u4e00\u6b21\u8a2d\u5b9a\u7684\u503c\uff080.0 \u548c 1.0 \u4e4b\u9593\u7684\u503c\uff09\u3002","title":"servo"},{"location":"Status_Reference.html#system_stats","text":"system_stats \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a sysload \u3001 cputime \u3001 memavail \uff1a\u95dc\u65bc\u4e3b\u6a5f\u64cd\u4f5c\u7cfb\u7d71\u548c\u7a0b\u5e8f\u8ca0\u8f09\u7684\u8cc7\u8a0a\u3002","title":"system_stats"},{"location":"Status_Reference.html#_2","text":"\u4ee5\u4e0b\u8cc7\u8a0a\u53ef\u5728 bme280 config_section_name \u3001 htu21d config_section_name \u3001 lm75 config_section_name \u548c temperature_host config_section_name \u5c0d\u50cf\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u5f9e\u611f\u6e2c\u5668\u8b80\u53d6\u7684\u6eab\u5ea6\u3002 hemidity \u3001 pressure \u548c gas \uff1a\u611f\u6e2c\u5668\u4e0a\u4e00\u6b21\u8b80\u53d6\u7684\u503c\uff08\u50c5\u5728bme280\u3001htu21d\u548clm75\u611f\u6e2c\u5668\u4e0a\uff09\u3002","title":"\u6eab\u5ea6\u611f\u6e2c\u5668"},{"location":"Status_Reference.html#temperature_fan","text":"temperature_fan some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u5f9e\u611f\u6e2c\u5668\u8b80\u53d6\u7684\u6eab\u5ea6\u3002 target \uff1a\u98a8\u6247\u76ee\u6a19\u6eab\u5ea6\u3002","title":"temperature_fan"},{"location":"Status_Reference.html#temperature_sensor","text":"temperature_sensor some_name \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a temperature \uff1a\u4e0a\u4e00\u6b21\u5f9e\u611f\u6e2c\u5668\u8b80\u53d6\u7684\u6eab\u5ea6\u3002 measured_min_temp \u548c measured_max_temp \uff1a\u81eaKlipper\u4e3b\u6a5f\u8edf\u9ad4\u4e0a\u6b21\u91cd\u65b0\u555f\u52d5\u4ee5\u4f86\uff0c\u611f\u6e2c\u5668\u6e2c\u91cf\u7684\u6700\u4f4e\u548c\u6700\u9ad8\u6eab\u5ea6\u3002","title":"temperature_sensor"},{"location":"Status_Reference.html#tmc","text":"TMC \u6b65\u9032\u9a45\u52d5 \u5c0d\u50cf\uff08\u4f8b\u5982\uff0c [tmc2208 stepper_x] \uff09\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a mcu_phase_offset \uff1a\u5fae\u63a7\u5236\u5668\u6b65\u9032\u4f4d\u7f6e\u8207\u9a45\u52d5\u5668\u7684\"\u96f6\"\u76f8\u4f4d\u7684\u76f8\u5c0d\u4f4d\u7f6e\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5247\u6b64\u6b04\u4f4d\u53ef\u80fd\u70ba\u7a7a\u3002 phase_offset_position \uff1a\u5c0d\u61c9\u96fb\u6a5f\u300c\u96f6\u300d\u76f8\u4f4d\u7684\u300c\u6307\u4ee4\u4f4d\u7f6e\u300d\u3002\u5982\u679c\u76f8\u4f4d\u504f\u79fb\u672a\u77e5\uff0c\u5247\u8a72\u6b04\u4f4d\u53ef\u4ee5\u70ba\u7a7a\u3002 drv_status \uff1a\u4e0a\u6b21\u9a45\u52d5\u72c0\u614b\u67e5\u8a62\u7d50\u679c\u3002\uff08\u50c5\u5831\u544a\u975e\u96f6\u6b04\u4f4d\u3002\u5982\u679c\u9a45\u52d5\u6c92\u6709\u88ab\u555f\u7528\uff08\u56e0\u6b64\u6c92\u6709\u8f2a\u8a62\uff09\uff0c\u5247\u6b64\u6b04\u4f4d\u5c07\u70ba null\u3002 run_current \uff1a\u76ee\u524d\u8a2d\u5b9a\u7684\u57f7\u884c\u96fb\u6d41\u3002 hold_current \uff1a\u76ee\u524d\u8a2d\u5b9a\u7684\u4fdd\u6301\u96fb\u6d41\u3002","title":"tmc \u9a45\u52d5"},{"location":"Status_Reference.html#toolhead","text":"toolhead \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a position \uff1a\u5217\u5370\u982d\u76f8\u5c0d\u65bc\u914d\u7f6e\u6a94\u6848\u4e2d\u6307\u5b9a\u7684\u5ea7\u6a19\u7cfb\u7684\u6700\u5f8c\u547d\u4ee4\u4f4d\u7f6e\u3002\u53ef\u4ee5\u8a2a\u554f\u8a72\u4f4d\u7f6e\u7684 x\u3001y\u3001z \u548c e \u4efd\u91cf\uff08\u4f8b\u5982\uff0c position.x \uff09\u3002 extruder \uff1a\u76ee\u524d\u6d3b\u8e8d\u7684\u64e0\u51fa\u6a5f\u7684\u540d\u7a31\u3002\u4f8b\u5982\uff0c\u5728\u5b8f\u4e2d\u53ef\u4ee5\u4f7f\u7528 printer[printer.toolhead.extruder].target \u4f86\u7372\u53d6\u76ee\u524d\u64e0\u51fa\u6a5f\u7684\u76ee\u6a19\u6eab\u5ea6\u3002 homed_axes \uff1a\u76ee\u524d\u88ab\u8a8d\u70ba\u8655\u65bc\u300c\u5df2\u6b78\u4f4d\u300d\u72c0\u614b\u7684\u8eca\u8ef8\u3002\u9019\u662f\u4e00\u500b\u5305\u542b\u4e00\u500b\u6216\u591a\u500b\"x\"\u3001\"y\"\u3001\"z\"\u7684\u5b57\u4e32\u3002 axis_minimum \u3001 axis_maximum \uff1a\u6b78\u4f4d\u540e\u7684\u8ef8\u7684\u884c\u7a0b\u9650\u5236\uff08\u6beb\u7c73\uff09\u3002\u53ef\u4ee5\u8a2a\u554f\u6b64\u6975\u9650\u503c\u7684 x\u3001y\u3001z \u4efd\u91cf\uff08\u4f8b\u5982\uff0c axis_minimum.x \u3001 axis_maximum.z \uff09\u3002 max_velocity \u3001 max_accel \u3001 max_accel_to_decel \u548c square_corner_velocity \uff1a\u76ee\u524d\u751f\u6548\u7684\u5370\u8868\u6a5f\u9650\u5236\u3002\u5982\u679c SET_VELOCITY_LIMIT \uff08\u6216 M204 \uff09\u547d\u4ee4\u5728\u57f7\u884c\u6642\u6539\u8b8a\u5b83\u5011\uff0c\u9019\u4e9b\u503c\u53ef\u80fd\u8207\u914d\u7f6e\u6a94\u6848\u8a2d\u5b9a\u4e0d\u540c\u3002 stalls \uff1a\u7531\u65bc\u5de5\u5177\u982d\u79fb\u52d5\u901f\u5ea6\u5feb\u4e8e\u5f9e G \u7a0b\u5f0f\u78bc\u8f38\u5165\u8b80\u53d6\u7684\u79fb\u52d5\u901f\u5ea6\uff0c\u56e0\u6b64\u5370\u8868\u6a5f\u5fc5\u9808\u66ab\u505c\u7684\u7e3d\u6b21\u6578\uff08\u81ea\u4e0a\u6b21\u91cd\u65b0\u555f\u52d5\u4ee5\u4f86\uff09\u3002","title":"toolhead"},{"location":"Status_Reference.html#dual_carriage","text":"\u4f7f\u7528\u4e86 hybrid_corexy \u6216 hybrid_corexz \u904b\u52d5\u5b78\u7684 dual_carriage \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a mode \uff1a\u76ee\u524d\u6a21\u5f0f\u3002\u53ef\u80fd\u7684\u503c\uff1a\"FULL_CONTROL\" active_carriage \uff1a\u76ee\u524d\u7684\u6d3b\u8e8d\u7684\u6ed1\u8eca\u3002\u53ef\u80fd\u7684\u503c\u662f\"CARRIAGE_0\"\u548c\"CARRIAGE_1\"","title":"dual_carriage"},{"location":"Status_Reference.html#virtual_sdcard","text":"virtual_sdcard \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff1a is_active \uff1a\u5982\u679c\u6b63\u5728\u5f9e\u6a94\u6848\u9032\u884c\u5217\u5370\uff0c\u5247\u8fd4\u56de True\u3002 progress \uff1a\u5c0d\u7576\u524d\u5217\u5370\u9032\u5ea6\u7684\u4f30\u8a08\uff08\u57fa\u65bc\u6a94\u6848\u5927\u5c0f\u548c\u6a94\u6848\u4f4d\u7f6e\uff09\u3002 file_path \uff1a\u76ee\u524d\u8f09\u5165\u7684\u6a94\u6848\u7684\u5b8c\u6574\u8def\u5f91\u3002 file_position \uff1a\u76ee\u524d\u5217\u5370\u7684\u4f4d\u7f6e\uff08\u4ee5\u4f4d\u5143\u7d44\u70ba\u55ae\u4f4d\uff09\u3002 file_size \uff1a\u76ee\u524d\u8f09\u5165\u7684\u6a94\u6848\u7684\u5927\u5c0f\uff08\u4ee5\u4f4d\u5143\u7d44\u70ba\u55ae\u4f4d\uff09\u3002","title":"virtual_sdcard"},{"location":"Status_Reference.html#webhooks","text":"system_stats \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u8a72\u5c0d\u50cf\u59cb\u7d42\u53ef\u7528\uff09\uff1a state \uff1a\u8fd4\u56de\u4e00\u500b\u8868\u793a\u76ee\u524d Klipper \u72c0\u614b\u7684\u5b57\u4e32\u3002\u53ef\u80fd\u7684\u503c\u70ba\uff1a\"ready\"\u3001\"startup\"\u3001\"shutdown\"\u548c\"error\"\u3002 state_message \uff1a\u63d0\u4f9b\u4e86\u4e00\u500b\u5305\u542b\u76ee\u524d Klipper \u72c0\u614b\u548c\u4e0a\u4e0b\u6587\u7684\u53ef\u8b80\u5b57\u4e32\u3002","title":"webhooks"},{"location":"Status_Reference.html#z_tilt","text":"z_tilt \u5c0d\u50cf\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u8cc7\u8a0a\uff08\u5982\u679c\u5b9a\u7fa9\u4e86 z_tilt\uff0c\u5247\u8a72\u5c0d\u8c61\u53ef\u7528\uff09\uff1a applied \uff1a\u5982\u679c z \u50be\u659c\u8abf\u5e73\u904e\u7a0b\u5df2\u57f7\u884c\u4f75\u6210\u529f\u5b8c\u6210\uff0c\u5247\u70ba True\u3002","title":"z_tilt"},{"location":"TMC_Drivers.html","text":"TMC \u9a45\u52d5\u5668 \u00b6 \u9019\u500b\u6587\u4ef6\u63d0\u4f9b\u4e86\u5728Klipper\u4e0a\u4ee5SPI/UART\u6a21\u5f0f\u4f7f\u7528Trinamic\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7684\u8cc7\u8a0a\u3002 Klipper\u4e5f\u53ef\u4ee5\u5728\u5176 \"standalone mode\"\u4e0b\u4f7f\u7528Trinamic\u9a45\u52d5\u3002\u7136\u800c\uff0c\u7576\u9a45\u52d5\u8655\u65bc\u9019\u7a2e\u6a21\u5f0f\u6642\uff0c\u4e0d\u9700\u8981\u7279\u6b8a\u7684Klipper\u914d\u7f6e\uff0c\u672c\u6a94\u6848\u4e2d\u8a0e\u8ad6\u7684\u9ad8\u7d1aKlipper\u529f\u80fd\u4e5f\u7121\u6cd5\u4f7f\u7528\u3002 \u9664\u4e86\u9019\u4efd\u6587\u4ef6\uff0c\u8acb\u52d9\u5fc5\u6aa2\u8996 TMC\u9a45\u52d5\u914d\u7f6e\u53c3\u8003 . \u8abf\u6574\u96fb\u6a5f\u96fb\u6d41 \u00b6 \u8f03\u9ad8\u7684\u9a45\u52d5\u96fb\u6d41\u53ef\u4ee5\u63d0\u9ad8\u5b9a\u4f4d\u7cbe\u5ea6\u548c\u626d\u77e9\u3002\u7136\u800c\uff0c\u8f03\u9ad8\u7684\u96fb\u6d41\u4e5f\u6703\u589e\u52a0\u6b65\u9032\u96fb\u6a5f\u548c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7522\u751f\u7684\u71b1\u91cf\u3002\u5982\u679c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u592a\u71b1\uff0c\u5b83\u5c31\u6703\u81ea\u884c\u5931\u6548\uff0cKlipper\u6703\u5831\u544a\u932f\u8aa4\u3002\u5982\u679c\u6b65\u9032\u96fb\u6a5f\u592a\u71b1\uff0c\u5b83\u5c07\u5931\u53bb\u626d\u77e9\u548c\u4f4d\u7f6e\u7cbe\u5ea6\u3002(\u5982\u679c\u5b83\u8b8a\u5f97\u975e\u5e38\u71b1\uff0c\u9084\u53ef\u80fd\u878d\u5316\u9023\u7dda\u5728\u5b83\u8eab\u4e0a\u6216\u9644\u8fd1\u7684\u5851\u6599\u90e8\u4ef6\u3002\uff09 \u4f5c\u70ba\u4e00\u822c\u7684\u8abf\u6574\u5efa\u8b70\uff0c\u53ea\u8981\u6b65\u9032\u96fb\u6a5f\u4e0d\u6703\u592a\u71b1\uff0c\u4e26\u4e14\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u4e0d\u6703\u5831\u544a\u8b66\u544a\u6216\u932f\u8aa4\uff0c\u5c31\u53ef\u4ee5\u9078\u64c7\u66f4\u9ad8\u7684\u96fb\u6d41\u503c\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u6b65\u9032\u96fb\u6a5f\u611f\u5230\u6eab\u71b1\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u4e0d\u61c9\u8a72\u71b1\u5230\u89f8\u63a7\u8d77\u4f86\u5f88\u71d9\u624b\u3002 \u50be\u5411\u65bc\u4e0d\u6307\u5b9a\u4fdd\u6301\u96fb\u6d41\uff08hold_current\uff09 \u00b6 \u5982\u679c\u914d\u7f6e\u4e86 hold_current \uff0c\u90a3\u9ebcTMC\u9a45\u52d5\u5668\u53ef\u4ee5\u5728\u6aa2\u6e2c\u5230\u6b65\u9032\u96fb\u6a5f\u6c92\u6709\u79fb\u52d5\u6642\u6703\u6e1b\u5c11\u6b65\u9032\u96fb\u6a5f\u7684\u96fb\u6d41\u3002\u7136\u800c\uff0c\u6539\u8b8a\u96fb\u6a5f\u96fb\u6d41\u672c\u8eab\u53ef\u80fd\u6703\u5f15\u8d77\u96fb\u6a5f\u8f49\u52d5\u3002\u9019\u53ef\u80fd\u662f\u7531\u65bc\u6b65\u9032\u96fb\u6a5f\u5167\u90e8\u7684 \"\u963b\u6eef\u529b\"\uff08\u8f49\u5b50\u4e2d\u7684\u6c38\u4e45\u78c1\u9435\u62c9\u5411\u5b9a\u5b50\u4e2d\u7684\u9435\u9f52\uff09\u6216\u8ef8\u6ed1\u8eca\u4e0a\u7684\u5916\u529b\u9020\u6210\u7684\u3002 \u5c0d\u65bc\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\uff0c\u5728\u6b63\u5e38\u7684\u5217\u5370\u904e\u7a0b\u4e2d\u6e1b\u5c11\u96fb\u6d41\u4e0d\u6703\u5e36\u4f86\u986f\u8457\u7684\u597d\u8655\uff0c\u56e0\u70ba\u5f88\u5c11\u6709\u5217\u5370\u52d5\u4f5c\u6703\u8b93\u6b65\u9032\u96fb\u6a5f\u7a7a\u9591\u8db3\u5920\u9577\u7684\u6642\u9593\u4f86\u555f\u7528 hold_current \uff08\u4fdd\u6301\u96fb\u6d41\uff09\u529f\u80fd\u3002\u800c\u4e14\uff0c\u4f60\u4e5f\u4e0d\u6703\u5e0c\u671b\u5728\u5c11\u6578\u4f7f\u6b65\u9032\u96fb\u6a5f\u7a7a\u9591\u8db3\u5920\u9577\u7684\u6642\u9593\u7684\u5217\u5370\u52d5\u4f5c\u4e2d\u5f15\u5165\u5c0f\u7684\u5217\u5370\u7455\u75b5\u3002 \u5982\u679c\u5e0c\u671b\u5728\u5217\u5370\u9810\u71b1\u6642\u6e1b\u5c11\u96fb\u6a5f\u7684\u96fb\u6d41\uff0c\u90a3\u9ebc\u53ef\u4ee5\u8003\u616e\u5728 START_PRINT\u5b8f \u4e2d\u5beb\u5165 SET_TMC_CURRENT \u547d\u4ee4\uff0c\u5728\u6b63\u5e38\u5217\u5370\u958b\u59cb\u524d\u5f8c\u8abf\u6574\u96fb\u6d41\u3002 \u4e00\u4e9b\u5370\u8868\u6a5f\u7684\u5c08\u7528Z\u8ef8\u96fb\u6a5f\u5728\u6b63\u5e38\u7684\u5217\u5370\u52d5\u4f5c\u4e2d\u662f\u7a7a\u9591\u7684\uff08\u6c92\u6709\u5e8a\u7db2\uff08bed_mesh\uff09\uff0c\u6c92\u6709\u5e8a\u9762\u50be\u659c\uff08bed_tilt\uff09\uff0c\u6c92\u6709Z\u8ef8\u50be\u659c\u6821\u6b63\uff08skew_correction\uff09\uff0c\u6c92\u6709 \"\u82b1\u74f6\u6a21\u5f0f \uff08vase mode\uff09\"\u5217\u5370\uff0c\u7b49\u7b49\uff09\uff0c\u53ef\u80fd\u6703\u767c\u73feZ\u8ef8\u96fb\u6a5f\u5728 hold_current \u7684\u60c5\u6cc1\u4e0b\u78ba\u5be6\u57f7\u884c\u5f97\u6bd4\u8f03\u51b7\u3002\u5982\u679c\u5be6\u73fe\u4e86\u9019\u4e00\u9ede\uff0c\u90a3\u9ebc\u4e00\u5b9a\u8981\u8003\u616e\u5230\u5728\u5e8a\u9762\u8abf\u5e73\u3001\u5e8a\u9762\u63a2\u6e2c\u3001\u63a2\u91dd\u6821\u6e96\u7b49\u904e\u7a0b\u4e2d\u9019\u7a2e\u975e\u6307\u4ee4\u6027\u7684Z\u8ef8\u904b\u52d5\u3002 driver_TPOWERDOWN \u548c driver_IHOLDDELAY \u4e5f\u61c9\u8a72\u9032\u884c\u76f8\u61c9\u7684\u6821\u6e96\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u6700\u597d\u4e0d\u8981\u6307\u5b9a hold_current \u3002 \u8a2d\u5b9a \"spreadCycle \"\u8207 \"stealthChop \"\u6a21\u5f0f \u00b6 \u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cKlipper\u5c07TMC\u9a45\u52d5\u7f6e\u65bc \"spreadCycle \"\u6a21\u5f0f\u3002\u5982\u679c\u9a45\u52d5\u7a0b\u5f0f\u652f\u63f4 \"stealthChop\"\uff0c\u90a3\u9ebc\u53ef\u4ee5\u901a\u904e\u65b0\u589e stealthchop_threshold: 999999 \u5230TMC\u7684\u914d\u7f6e\u90e8\u5206\u3002 \u4e00\u822c\u4f86\u8aaa\uff0cspreadCycle\u6a21\u5f0f\u6bd4stealthChop\u6a21\u5f0f\u63d0\u4f9b\u66f4\u5927\u7684\u626d\u77e9\u548c\u66f4\u9ad8\u7684\u5b9a\u4f4d\u7cbe\u5ea6\u3002\u7136\u800c\uff0c\u5728\u67d0\u4e9b\u5370\u8868\u6a5f\u4e0a\uff0cstealthChop \u6a21\u5f0f\u986f\u8457\u964d\u4f4e\u53ef\u807d\u5230\u7684\u566a\u97f3\u3002 \u6bd4\u8f03\u6a21\u5f0f\u7684\u6e2c\u8a66\u8868\u660e\uff0c\u5728\u4f7f\u7528stealthChop\u6a21\u5f0f\u6642\uff0c\u5728\u6052\u901f\u79fb\u52d5\u904e\u7a0b\u4e2d\uff0c\"\u4f4d\u7f6e\u6eef\u5f8c \"\u589e\u52a0\u4e86\u7d04\u70ba\u6574\u6b65\u768475%\uff08\u4f8b\u5982\uff0c\u5728\u4e00\u81fa\u65cb\u8f49\u8ddd\u96e2\uff08rotation_distance \uff09\u70ba40mm\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u7684\u5370\u8868\u6a5f\u4e0a\uff0c\u6052\u901f\u79fb\u52d5\u7684\u4f4d\u7f6e\u504f\u5dee\u589e\u52a0\u4e86\u7d040.150mm\uff09\u3002\u7136\u800c\uff0c\u9019\u7a2e \"\u7372\u5f97\u6240\u9700\u4f4d\u7f6e\u7684\u5ef6\u9072 \"\u53ef\u80fd\u4e0d\u6703\u8868\u73fe\u7232\u660e\u986f\u7684\u5217\u5370\u7f3a\u9677\uff0c\u4eba\u5011\u53ef\u80fd\u66f4\u559c\u6b61stealthChop\u6a21\u5f0f\u5e36\u4f86\u7684\u66f4\u5b89\u975c\u7684\u5217\u5370\u3002 \u5efa\u8b70\u7e3d\u662f\u4f7f\u7528 \"spreadCycle \"\u6a21\u5f0f\uff08\u901a\u904e\u4e0d\u6307\u5b9a stealthchop_threshold \uff09\u6216\u7e3d\u662f\u4f7f\u7528 \"stealthChop \"\u6a21\u5f0f\uff08\u901a\u904e\u8a2d\u5b9a stealthchop_threshold \u70ba99999\uff09\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5982\u679c\u5728\u96fb\u6a5f\u8655\u65bc\u975e\u96f6\u901f\u5ea6\u6642\u6539\u8b8a\u6a21\u5f0f\uff0c\u9a45\u52d5\u5668\u5f80\u5f80\u6703\u7522\u751f\u7cdf\u7cd5\u548c\u6df7\u4e82\u7684\u7d50\u679c\u3002 TMC\u63d2\u503c\u8a2d\u5b9a\u5f15\u5165\u4e86\u5fae\u5c0f\u7684\u4f4d\u7f6e\u504f\u5dee \u00b6 TMC\u9a45\u52d5\u7a0b\u5f0f\u7684 interpolate \u8a2d\u5b9a\u53ef\u4ee5\u6e1b\u5c11\u5370\u8868\u6a5f\u904b\u52d5\u7684\u566a\u97f3\uff0c\u4f46\u4ee3\u50f9\u662f\u5f15\u5165\u4e00\u500b\u5c0f\u7684\u7cfb\u7d71\u4f4d\u7f6e\u8aa4\u5dee\u3002\u9019\u500b\u7cfb\u7d71\u6027\u7684\u4f4d\u7f6e\u8aa4\u5dee\u662f\u7531\u9a45\u52d5\u5668\u5728\u57f7\u884cKlipper\u767c\u9001\u7684 \"\u6b65\u9a5f \"\u6642\u7684\u5ef6\u9072\u9020\u6210\u7684\u3002\u5728\u6052\u901f\u79fb\u52d5\u904e\u7a0b\u4e2d\uff0c\u9019\u7a2e\u5ef6\u9072\u5c0e\u81f4\u4e86\u5c07\u8fd1\u4e00\u534a\u7684\u914d\u7f6e\u5fae\u6b65\u7684\u4f4d\u7f6e\u8aa4\u5dee\uff08\u66f4\u6e96\u78ba\u5730\u8aaa\uff0c\u8aa4\u5dee\u662f\u4e00\u534a\u7684\u5fae\u6b65\u8ddd\u96e2\u6e1b\u53bb512\u5206\u4e4b\u4e00\u7684\u6574\u6b65\u8ddd\u96e2\uff09\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u500b\u65cb\u8f49\u8ddd\u96e2\uff08rotation_distance\uff09\u70ba40\u6beb\u7c73\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u300116\u5fae\u6b65\u7684\u8ef8\u4e0a\uff0c\u5728\u6052\u901f\u79fb\u52d5\u904e\u7a0b\u4e2d\u5f15\u5165\u7684\u7cfb\u7d71\u8aa4\u5dee\u662f~0.006\u6beb\u7c73\u3002 \u7232\u4e86\u7372\u5f97\u6700\u4f73\u7684\u5b9a\u4f4d\u7cbe\u5ea6\uff0c\u53ef\u4ee5\u8003\u616e\u4f7f\u7528spreadCycle\u6a21\u5f0f\uff0c\u4e26\u7981\u7528\u63d2\u503c\uff08\u5728TMC\u9a45\u52d5\u914d\u7f6e\u4e2d\u8a2d\u5b9a interpolate: False \uff09\u3002\u7576\u4ee5\u9019\u7a2e\u65b9\u5f0f\u914d\u7f6e\u6642\uff0c\u53ef\u4ee5\u589e\u52a0 microstep \u8a2d\u5b9a\uff0c\u4ee5\u6e1b\u5c11\u6b65\u9032\u904b\u52d5\u4e2d\u7684\u566a\u97f3\u3002\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u5fae\u6b65\u8a2d\u5b9a\u70ba 64 \u6216 128 \u6703\u6709\u985e\u4f3c\u65bc\u63d2\u503c\u7684\u566a\u97f3\u6c34\u5e73\uff0c\u800c\u4e14\u4e0d\u6703\u5f15\u5165\u7cfb\u7d71\u6027\u7684\u4f4d\u7f6e\u8aa4\u5dee\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u90a3\u9ebc\u76f8\u5c0d\u65bc\u5f9estealthChop\u6a21\u5f0f\u5f15\u5165\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u78ba\u6027\uff0c\u63d2\u503c\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u78ba\u6027\u5f88\u5c0f\u3002\u56e0\u6b64\uff0c\u5728stealthChop \u6a21\u5f0f\u4e0b\uff0c\u8abf\u6574\u63d2\u503c\u662f\u6c92\u6709\u7528\u7684\uff0c\u53ef\u4ee5\u5c07\u63d2\u503c\u8a2d\u5b9a\u518d\u5176\u9810\u8a2d\u72c0\u614b\u3002 \u7121\u9650\u4f4d\u6b78\u96f6 \u00b6 \u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5141\u8a31\u5728\u4e0d\u9700\u8981\u7269\u7406\u9650\u4f4d\u958b\u95dc\u7684\u60c5\u6cc1\u4e0b\u5c07\u4e00\u500b\u8ef8\u6b78\u4f4d\u3002\u76f8\u53cd\uff0c\u8ef8\u4e0a\u7684\u6ed1\u8eca\u63a5\u89f8\u6a5f\u68b0\u9650\u4f4d\u540e\uff0c\u4f7f\u6b65\u9032\u96fb\u6a5f\u5931\u53bb\u6b65\u9577\u3002\u6b65\u9032\u9a45\u52d5\u5668\u611f\u61c9\u5230\u5931\u53bb\u7684\u6b65\u6578\uff0c\u4e26\u901a\u904e\u5207\u63db\u4e00\u500b\u5f15\u8173\u5411\u63a7\u5236\u7684\u5fae\u63a7\u5236\u5668\uff08Klipper\uff09\u544a\u77e5\u9019\u4e00\u9ede\u3002\u8a72\u8cc7\u8a0a\u53ef\u88ab Klipper \u7528\u4f5c\u8ef8\u7684\u9650\u4f4d\u3002 \u672c\u6307\u5357\u4ecb\u7d39\u77ad\u5982\u4f55\u8a2d\u5b9a\uff08\u7b1b\u5361\u723e\uff09\u5370\u8868\u6a5f\u7684X\u8ef8\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002\u9019\u500b\u65b9\u6cd5\u4e5f\u9069\u5408\u5176\u4ed6\u8ef8\uff08\u9700\u8981\u4e00\u500b\u9650\u4f4d\uff09\u3002\u6bcf\u6b21\u61c9\u8a72\u53ea\u5c0d\u4e00\u500b\u8ef8\u9032\u884c\u914d\u7f6e\u548c\u8abf\u6574\u3002 \u9650\u5236 \u00b6 \u8981\u78ba\u4fdd\u4f60\u7684\u6a5f\u68b0\u90e8\u4ef6\u80fd\u5920\u627f\u53d7\u6ed1\u8eca\u53cd\u8986\u649e\u5411\u8ef8\u7684\u9650\u4f4d\u7684\u8ca0\u8f09\u3002\u7279\u5225\u662f\u7d72\u69d3\u53ef\u80fd\u6703\u7522\u751f\u5f88\u5927\u7684\u529b\u3002\u901a\u904e\u5c07\u5674\u5634\u649e\u5411\u5217\u5370\u8868\u9762\u4f86\u78ba\u5b9aZ\u8ef8\u7684\u4f4d\u7f6e\u53ef\u80fd\u4e0d\u662f\u4e00\u500b\u597d\u4e3b\u610f\u3002\u7232\u4e86\u7372\u5f97\u6700\u4f73\u6548\u679c\uff0c\u8acb\u78ba\u8a8d\u8ef8\u6ed1\u8eca\u5c07\u8207\u8ef8\u7684\u9650\u4f4d\u7dca\u5bc6\u63a5\u89f8\u3002 \u6b64\u5916\uff0c\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u4f86\u8aaa\u53ef\u80fd\u4e0d\u5920\u7cbe\u78ba\u3002\u96d6\u7136\u7b1b\u5361\u723e\u6a5f\u5668\u4e0a\u7684X\u548cY\u8ef8\u6b78\u4f4d\u53ef\u4ee5\u5f88\u597d\u5730\u5de5\u4f5c\uff0c\u4f46Z\u8ef8\u7684\u6b78\u4f4d\u901a\u5e38\u4e0d\u5920\u6e96\u78ba\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u7b2c\u4e00\u5c64\u9ad8\u5ea6\u4e0d\u4e00\u81f4\u3002\u7531\u65bc\u7cbe\u5ea6\u4f4e\uff0c\u4e0d\u5efa\u8b70\u5728delta \u5370\u8868\u6a5f\u4e0a\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u7684\u6b78\u4f4d\u3002 \u6b64\u5916\uff0c\u6b65\u9032\u9a45\u52d5\u5668\u7684\u5931\u901f\u6aa2\u6e2c\u53d6\u6c7a\u65bc\u96fb\u6a5f\u7684\u6a5f\u68b0\u8ca0\u8f09\u3001\u96fb\u6a5f\u96fb\u6d41\u548c\u96fb\u6a5f\u6eab\u5ea6\uff08\u7dda\u5708\u96fb\u963b\uff09\u3002 \u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5728\u96fb\u6a5f\u4e2d\u901f\u6642\u6548\u679c\u6700\u597d\u3002\u5c0d\u65bc\u975e\u5e38\u6162\u7684\u901f\u5ea6\uff08\u5c0f\u65bc10RPM\uff09\uff0c\u96fb\u6a5f\u4e0d\u6703\u7522\u751f\u660e\u986f\u7684\u53cd\u96fb\u78c1\u5834\uff0cTMC\u6676\u7247\u4e0d\u80fd\u53ef\u9760\u5730\u6aa2\u6e2c\u5230\u96fb\u6a5f\u505c\u9813\u3002\u6b64\u5916\uff0c\u5728\u975e\u5e38\u9ad8\u7684\u901f\u5ea6\u4e0b\uff0c\u96fb\u6a5f\u7684\u53cd\u5411\u96fb\u52d5\u52e2\u63a5\u8fd1\u96fb\u6a5f\u7684\u96fb\u6e90\u96fb\u58d3\uff0c\u6240\u4ee5TMC\u6676\u7247\u4e5f\u6aa2\u6e2c\u4e0d\u5230\u505c\u9813\u3002\u5efa\u8b70\u4f60\u770b\u770b\u4e00\u4e0b\u5c0d\u61c9\u7684TMC\u6676\u7247\u6578\u64da\u624b\u518a\u3002\u5728\u624b\u518a\u4e2d\u9084\u53ef\u4ee5\u627e\u5230\u66f4\u591a\u95dc\u65bc\u9019\u7a2e\u8a2d\u5b9a\u7684\u9650\u5236\u7684\u7d30\u7bc0\u3002 \u524d\u63d0\u689d\u4ef6 \u00b6 \u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\uff0c\u9700\u8981\u4e00\u4e9b\u524d\u63d0\u689d\u4ef6\uff1a \u4e00\u500b\u5177\u6709stallGuard\u529f\u80fd\u7684TMC\u6b65\u9032\u9a45\u52d5\u5668\uff08TMC2130\u3001TMC2209\u3001TMC2660\u6216TMC5160\uff09\u3002 \u9700\u8981TMC\u9a45\u52d5\u5668\u7684SPI / UART\u4ecb\u9762\u8207\u5fae\u63a7\u5236\u5668\u9023\u7dda\uff08stand-alone \u6a21\u5f0f\u4e0d\u884c\uff09\u3002 \u9700\u8981\u628aTMC\u9a45\u52d5\u5668\u7684 \"DIAG \"\u6216 \"SG_TST \"\u5f15\u8173\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u3002 \u5fc5\u9808\u6309\u7167 \u914d\u7f6e\u6aa2\u67e5 \u6a94\u6848\u4e2d\u7684\u6b65\u9a5f\u4f86\u78ba\u8a8d\u6b65\u9032\u96fb\u6a5f\u7684\u914d\u7f6e\u548c\u904b\u8f49\u6b63\u5e38\u3002 \u8abf\u6574 \u00b6 \u8abf\u6574\u904e\u7a0b\u6709\u516d\u500b\u4e3b\u8981\u6b65\u9a5f\uff1a \u9078\u64c7\u4e00\u500b\u6b78\u4f4d\u901f\u5ea6\u3002 \u914d\u7f6e printer.cfg \u6a94\u6848\u4ee5\u555f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002 \u627e\u5230\u6709\u6700\u9ad8\u9748\u654f\u5ea6\u7684stallguard\u8a2d\u5b9a\uff0c\u78ba\u4fdd\u5176\u6210\u529f\u627e\u5230\u96f6\u9ede\u4f4d\u7f6e\u3002 \u627e\u5230\u6709\u6700\u4f4e\u9748\u654f\u5ea6\u7684stallguard \u8a2d\u5b9a\uff0c\u78ba\u4fdd\u53ea\u9700\u8f15\u8f15\u4e00\u78b0\u5c31\u80fd\u6210\u529f\u6b78\u96f6\u3002 \u66f4\u65b0 printer.cfg \uff0c\u52a0\u5165\u6240\u9700\u7684stallguard\u8a2d\u5b9a\u3002 \u5efa\u7acb\u6216\u66f4\u65b0 printer.cfg \u5b8f\u78ba\u4fdd\u7a69\u5b9a\u6b78\u4f4d\uff08home\uff09\u3002 \u9078\u64c7\u6b78\u4f4d\u901f\u5ea6 \u00b6 \u57f7\u884c\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u6642\uff0c\u6b78\u4f4d\u901f\u5ea6\u662f\u4e00\u500b\u91cd\u8981\u53c3\u6578\u3002\u6700\u597d\u4f7f\u7528\u8f03\u6162\u7684\u6b78\u4f4d\u901f\u5ea6\uff0c\u4ee5\u4fbf\u6ed1\u8eca\u5728\u8207\u8ecc\u9053\u9650\u4f4d\u63a5\u89f8\u6642\u4e0d\u6703\u5c0d\u6846\u67b6\u65bd\u52a0\u904e\u591a\u7684\u529b\u3002\u7136\u800c\uff0cTMC\u9a45\u52d5\u5668\u5728\u975e\u5e38\u6162\u7684\u901f\u5ea6\u4e0b\u4e26\u4e0d\u80fd\u53ef\u9760\u5730\u6aa2\u6e2c\u5230\u5931\u901f\u3002 \u6b78\u4f4d\u901f\u5ea6\u7684\u6700\u4f73\u8abf\u6574\u8d77\u9ede\u662f\u6b65\u9032\u96fb\u6a5f\u6bcf\u5169\u79d2\u8f49\u4e00\u5708\u3002\u5c0d\u65bc\u8a31\u591a\u8ef8\uff0c\u9019\u5c31\u662f\u5c07\u662f rotation_distance \u9664\u4ee52\u3002\u4f8b\u5982\uff1a [stepper_x] rotation_distance: 40 homing_speed: 20 ... \u70ba\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u914d\u7f6eprinter.cfg \u00b6 \u5728 stepper_x \u914d\u7f6e\u90e8\u5206\uff0c homing_retract_dist \u8a2d\u5b9a\u5fc5\u9808\u88ab\u8a2d\u70ba\u96f6\uff0c\u4ee5\u7981\u7528\u7b2c\u4e8c\u6b21\u6b78\u4f4d\u52d5\u4f5c\u3002\u5728\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u6642\uff0c\u7b2c\u4e8c\u6b21\u6b78\u4f4d\u5617\u8a66\u4e0d\u6703\u63d0\u9ad8\u7cbe\u5ea6\uff0c\u4e5f\u4e0d\u6703\u53ef\u9760\u5730\u5de5\u4f5c\uff0c\u800c\u4e14\u6703\u64fe\u4e82\u8abf\u6574\u904e\u7a0b\u3002 \u78ba\u4fdd\u5728\u914d\u7f6e\u7684TMC\u9a45\u52d5\u90e8\u5206\u6c92\u6709\u6307\u5b9a hold_current \u7684\u8a2d\u5b9a\u3002\uff08\u5982\u679c\u8a2d\u5b9a\u4e86hold_current\uff0c\u90a3\u9ebc\u5728\u63a5\u89f8\u540e\uff0c\u7576\u6ed1\u8eca\u649e\u5230\u8ecc\u9053\u672b\u7aef\u6642\uff0c\u96fb\u6a5f\u5c31\u6703\u505c\u6b62\uff0c\u5728\u9019\u500b\u4f4d\u7f6e\u4e0a\u6e1b\u5c11\u96fb\u6d41\u53ef\u80fd\u6703\u5c0e\u81f4\u6ed1\u8eca\u79fb\u52d5--\u9019\u5c07\u5c0e\u81f4\u6b78\u4f4d\u6548\u80fd\u4e0d\u4f73\uff0c\u4e26\u6703\u64fe\u4e82\u8abf\u6574\u904e\u7a0b\u3002\uff09 \u9700\u8981\u914d\u7f6e\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5f15\u8173\uff0c\u4e26\u914d\u7f6e\u521d\u59cb \"stallguard \"\u8a2d\u5b9a\u3002\u4e00\u500b\u7528\u65bcX\u8ef8\u7684tmc2209\u793a\u4f8b\u914d\u7f6e\u5982\u4e0b\uff1a [tmc2209 stepper_x] diag_pin: ^PA1 # \u8a2d\u5b9aMCU\u5f15\u8173\u9023\u7dda\u5230TMC\u7684DIAG\u5f15\u8173 driver_SGTHRS: 255 # 255\u662f\u6700\u654f\u611f\u7684\u503c\uff0c0\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2209_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u65bctmc2130\u6216tmc5160\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2130 stepper_x] diag1_pin: ^!PA1 # \u9023\u7dda\u5230TMC\u7684DIAG1\u5f15\u8173(\u6216\u4f7f\u7528diag0_pin / DIAG0\u5f15\u8173) driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2130_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u65bctmc2660\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2660 stepper_x] driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: ^PA1 # \u8207TMC SG_TST\u5f15\u8173\u76f8\u9023\u7684\u5f15\u8173 homing_retract_dist: 0 ... \u4e0a\u9762\u7684\u4f8b\u5b50\u53ea\u986f\u793a\u4e86\u91dd\u5c0d\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u7684\u8a2d\u5b9a\u3002\u6240\u6709\u53ef\u7528\u9078\u9805\u8acb\u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u3002 \u627e\u5230\u80fd\u6210\u529f\u6b78\u4f4d\u7684\u6700\u9ad8\u7684\u654f\u611f\u5ea6\u8a2d\u5b9a \u00b6 \u5c07\u6ed1\u8eca\u653e\u5728\u9760\u8fd1\u8ecc\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528SET_TMC_FIELD\u547d\u4ee4\u4f86\u8a2d\u5b9a\u6700\u9ad8\u9748\u654f\u5ea6\u3002\u5c0d\u65bctmc2209\uff1a SET_TMC_FIELD STEPPER=stepper_x FIELD=SGTHRS VALUE=255 \u5c0d\u65bctmc2130, tmc5160, and tmc2660: SET_TMC_FIELD STEPPER=stepper_x FIELD=sgt VALUE=-64 \u7136\u5f8c\u767c\u4e00\u500b G28 X0 \u547d\u4ee4\uff0c\u78ba\u4fdd\u8ef8\u5b8c\u5168\u4e0d\u52d5\u3002\u5982\u679c\u8ef8\u79fb\u52d5\u4e86\uff0c\u7acb\u5373\u4e00\u500b M112 \u547d\u4ee4\u505c\u6b62\u5370\u8868\u6a5f-\u53ef\u80fd\u662fdiag/sg_tst\u5f15\u8173\u7684\u63a5\u7dda\u6216\u914d\u7f6e\u6709\u554f\u984c\uff0c\u5fc5\u9808\u5728\u7e7c\u7e8c\u4e4b\u524d\u4fee\u6b63\u3002 \u63a5\u4e0b\u4f86\uff0c\u4e0d\u65b7\u964d\u4f4e VALUE \u8a2d\u5b9a\u7684\u9748\u654f\u5ea6\uff0c\u4e26\u518d\u6b21\u57f7\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4\uff0c\u627e\u5230\u80fd\u4f7f\u4f7f\u6ed1\u8eca\u6210\u529f\u5730\u4e00\u76f4\u79fb\u52d5\u5230\u7aef\u9ede\u4e26\u505c\u6b62\u7684\u6700\u9ad8\u7684\u9748\u654f\u5ea6\u3002(\u5c0d\u65bcTMC2209\u9a45\u52d5\uff0c\u8abf\u6574\u662f\u6e1b\u5c11 SGTHRS\uff0c\u5c0d\u65bc\u5176\u4ed6\u9a45\u52d5\uff0c\u8abf\u6574\u662f\u589e\u52a0 sgt)\u3002\u78ba\u4fdd\u6bcf\u6b21\u5617\u8a66\u90fd\u5728\u8ecc\u9053\u4e2d\u5fc3\u9644\u8fd1\u958b\u59cb\uff08\u5982\u679c\u9700\u8981\uff0c\u767c\u51fa M84 \uff0c\u7136\u5f8c\u624b\u52d5\u5c07\u6ed1\u8eca\u79fb\u5230\u4e2d\u5fc3\uff09\u3002\u8a72\u65b9\u6cd5\u61c9\u8a72\u53ef\u4ee5\u627e\u5230\u53ef\u9760\u6b78\u4f4d\u7684\u6700\u9ad8\u9748\u654f\u5ea6\uff08\u66f4\u9ad8\u7684\u9748\u654f\u5ea6\u8a2d\u5b9a\u6703\u5c0e\u81f4\u6ed1\u8eca\u53ea\u52d5\u4e00\u5c0f\u6bb5\u6216\u5b8c\u5168\u4e0d\u52d5\uff09\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u70ba maximum_sensitivity \u3002(\u5982\u679c\u5728\u6700\u4f4e\u9748\u654f\u5ea6\uff08SGTHRS=0\u6216sgt=63\uff09\u4e0b\u6ed1\u8eca\u4e5f\u4e0d\u52d5\uff0c\u90a3\u9ebcdiag/sg_tst \u5f15\u8173\u7684\u63a5\u7dda\u6216\u914d\u7f6e\u53ef\u80fd\u6709\u554f\u984c\uff0c\u5fc5\u9808\u5728\u7e7c\u7e8c\u5f8c\u9762\u64cd\u4f5c\u524d\u4e88\u4ee5\u4fee\u6b63\u3002\uff09 \u5728\u5c0b\u627e\u6700\u5927\u9748\u654f\u5ea6\u6642\uff0c\u66f4\u65b9\u4fbf\u7684\u662f\u8df3\u5230\u4e0d\u540c\u7684VALUE\u8a2d\u5b9a\uff08\u6bd4\u5982\u5c07VALUE\u53c3\u6578\u7684\u4e00\u534a\uff09\u3002\u5982\u679c\u9019\u6a23\u505a\uff0c\u8acb\u6e96\u5099\u597d\u767c\u51fa M112 \u547d\u4ee4\u4ee5\u505c\u6b62\u5370\u8868\u6a5f\uff0c\u56e0\u70ba\u9748\u654f\u5ea6\u5f88\u4f4e\u7684\u8a2d\u5b9a\u53ef\u80fd\u6703\u5c0e\u81f4\u8ef8\u53cd\u8986 \"\u649e \"\u5230\u5c0e\u8ecc\u7684\u672b\u7aef\u3002 \u8acb\u78ba\u4fdd\u5728\u6bcf\u6b21\u6b78\u4f4d\u5617\u8a66\u4e4b\u9593\u7b49\u5f85\u5e7e\u79d2\u9418\u3002\u5728TMC\u9a45\u52d5\u7a0b\u5f0f\u6aa2\u6e2c\u5230\u5931\u901f\u540e\uff0c\u5b83\u53ef\u80fd\u9700\u8981\u4e00\u9ede\u6642\u9593\u4f86\u6e05\u9664\u5176\u5167\u90e8\u6307\u793a\u5668\uff0c\u624d\u80fd\u5920\u6aa2\u6e2c\u5230\u4e0b\u4e00\u6b21\u5931\u901f\u3002 \u5728\u8abf\u6574\u6e2c\u8a66\u4e2d\uff0c\u5982\u679c G28 X0 \u547d\u4ee4\u4e0d\u80fd\u5b8c\u5168\u79fb\u52d5\u5230\u8ef8\u7684\u6975\u9650\u4f4d\u7f6e\uff0c\u90a3\u9ebc\u5728\u767c\u51fa\u4efb\u4f55\u5e38\u898f\u79fb\u52d5\u547d\u4ee4\uff08\u4f8b\u5982\uff0c G1 \uff09\u6642\u8981\u5c0f\u5fc3\u3002Klipper\u5c07\u4e0d\u80fd\u6b63\u78ba\u5b9a\u4f4d\u6ed1\u584a\u7684\u4f4d\u7f6e\uff0c\u79fb\u52d5\u547d\u4ee4\u53ef\u80fd\u6703\u5c0e\u81f4\u975e\u9810\u671f\u548c\u6df7\u4e82\u7684\u7d50\u679c\u3002 \u627e\u5230\u6700\u4f4e\u7684\u9748\u654f\u5ea6\uff0c\u53ea\u9700\u4e00\u6b21\u63a5\u89f8\u5c31\u80fd\u6b78\u4f4d \u00b6 \u7576\u7528\u627e\u5230\u7684 \u6700\u5927\u9748\u654f\u5ea6 \u503c\u6b78\u4f4d\u6642\uff0c\u8ef8\u61c9\u8a72\u79fb\u52d5\u5230\u8ecc\u9053\u7684\u672b\u7aef\u4e26 \"single touch\uff08\u4e00\u89f8\u5373\u505c\uff09\"--\u4e5f\u5c31\u662f\u8aaa\uff0c\u4e0d\u61c9\u8a72\u6709 \"\u5494\u5693 \"\u6216 \"\u7830 \"\u7684\u8072\u97f3\u3002(\u5982\u679c\u5728\u6700\u5927\u9748\u654f\u5ea6\u4e0b\u6709\u649e\u64ca\u6216\u9ede\u9078\u8072\uff0c\u90a3\u9ebc\u6b78\u4f4d\u901f\u5ea6\u53ef\u80fd\u592a\u4f4e\uff0c\u9a45\u52d5\u96fb\u6d41\u53ef\u80fd\u592a\u4f4e\uff0c\u6216\u8005\u8a72\u8ef8\u53ef\u80fd\u4e0d\u9069\u5408\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002\uff09 \u4e0b\u4e00\u6b65\u662f\u518d\u6b21\u6301\u7e8c\u79fb\u52d5\u6ed1\u584a\u5230\u9760\u8fd1\u8ecc\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\uff0c\u964d\u4f4e\u9748\u654f\u5ea6\uff0c\u4e26\u57f7\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4 - \u9019\u6b21\u7684\u76ee\u6a19\u662f\u627e\u5230\u6700\u4f4e\u7684\u9748\u654f\u5ea6\uff0c\u4ecd\u80fd\u4f7f\u6ed1\u584a\u6210\u529f\u5730 \"\u4e00\u89f8\u5373\u505c\"\u6b78\u4f4d\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u7576\u63a5\u89f8\u5230\u8ecc\u9053\u7684\u672b\u7aef\u6642\uff0c\u5b83\u4e0d\u6703\u767c\u51fa\"\u7830 \"\u6216 \"\u5494\"\u7684\u8072\u97f3\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u662f minimum_sensitivity \u3002 \u66f4\u65b0printer.cfg\u4e2d\u7684\u9748\u654f\u5ea6\u503c \u00b6 \u5728\u627e\u5230 maximum_sensitivity \u548c minimum_sensitivity \u540e\uff0c\u8a08\u7b97\u5f97\u5230\u63a8\u85a6\u7684\u9748\u654f\u5ea6\u70ba minimum_sensitivity +(maximum_sensitivity-minimum_sensitivity)/3 \u3002\u63a8\u85a6\u7684\u9748\u654f\u5ea6\u61c9\u8a72\u5728\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u4e4b\u9593\uff0c\u4f46\u7565\u5fae\u63a5\u8fd1\u6700\u5c0f\u503c\u3002\u5c07\u6700\u7d42\u503c\u56db\u6368\u4e94\u5165\u5230\u6700\u8fd1\u7684\u6574\u6578\u503c\u3002 \u5c0d\u65bcTMC2209\uff0c\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a driver_SGTHRS \uff0c\u5c0d\u65bc\u5176\u4ed6TMC\u9a45\u52d5\uff0c\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a driver_SGT \u3002 \u5982\u679c maximum_sensitivity \u548c minimum_sensitivity \u4e4b\u9593\u7684\u7bc4\u570d\u5f88\u5c0f\uff08\u4f8b\u5982\uff0c\u5c0f\u65bc5\uff09\uff0c\u90a3\u9ebc\u53ef\u80fd\u5c0e\u81f4\u4e0d\u7a69\u5b9a\u7684\u6b78\u4f4d\u3002\u66f4\u5feb\u7684\u6b78\u4f4d\u901f\u5ea6\u53ef\u4ee5\u64f4\u5927\u7bc4\u570d\uff0c\u4f7f\u64cd\u4f5c\u66f4\u52a0\u7a69\u5b9a\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u5c0d\u9a45\u52d5\u96fb\u6d41\u3001\u6b78\u4f4d\u901f\u5ea6\u505a\u4e86\u4efb\u4f55\u6539\u8b8a\uff0c\u6216\u8005\u5c0d\u5370\u8868\u6a5f\u786c\u9ad4\u505a\u4e86\u660e\u986f\u7684\u6539\u8b8a\uff0c\u90a3\u9ebc\u5c31\u9700\u8981\u518d\u6b21\u57f7\u884c\u9019\u500b\u8abf\u6574\u904e\u7a0b\u3002 \u6b78\u4f4d\u6642\u4f7f\u7528\u5b8f \u00b6 \u5728\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5b8c\u6210\u5f8c\uff0c\u6ed1\u8eca\u5c07\u9802\u5230\u5c0e\u8ecc\u7684\u672b\u7aef\uff0c\u6b65\u9032\u5668\u5c07\u6301\u7e8c\u5c0d\u6846\u67b6\u65bd\u52a0\u529b\uff0c\u76f4\u5230\u6ed1\u8eca\u79fb\u958b\u3002\u6700\u597d\u5efa\u7acb\u4e00\u500b\u5b8f\u4f86\u4f7f\u8ef8\u6b78\u4f4d\uff0c\u4e26\u7acb\u5373\u5c07\u5c0f\u8eca\u5f9e\u8ecc\u9053\u7684\u672b\u7aef\u79fb\u958b\u3002 \u5728\u958b\u59cb\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u4e4b\u524d\uff0c\u5b8f\u6700\u597d\u66ab\u505c\u81f3\u5c112\u79d2\uff08\u6216\u78ba\u4fdd\u6b65\u9032\u57282\u79d2\u5167\u6c92\u6709\u79fb\u52d5\uff09\u3002\u5982\u679c\u6c92\u6709\u5ef6\u9072\uff0c\u9a45\u52d5\u5668\u7684\u5167\u90e8\u5931\u901f\u6a19\u8a8c\u6709\u53ef\u80fd\u5728\u4e4b\u524d\u7684\u79fb\u52d5\u4e2d\u88ab\u8a2d\u5b9a\u4e86\u3002 \u4f7f\u7528\u5b8f\u5728\u6b78\u4f4d\u524d\u8a2d\u5b9a\u9a45\u52d5\u96fb\u6d41\uff0c\u4e26\u5728\u6ed1\u8eca\u79fb\u958b\u5f8c\u8a2d\u7f6e\u65b0\u7684\u96fb\u6d41\uff0c\u4e5f\u6703\u5f88\u6709\u7528\u3002 \u4e00\u500b\u5b8f\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [gcode_macro SENSORLESS_HOME_X] gcode: {% set HOME_CUR = 0.700 %} {% set driver_config = printer.configfile.settings['tmc2209 stepper_x'] %} {% set RUN_CUR = driver_config.run_current %} # \u70ba\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u8a2d\u5b9a\u96fb\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={HOME_CUR} # \u66ab\u505c\uff0c\u4ee5\u78ba\u4fdd\u9a45\u52d5\u5668\u5931\u901f\u6a19\u8a8c\u88ab\u6e05\u9664 G4 P2000 # \u6b78\u4f4d G28 X0 # \u79fb\u958b G90 G1 X5 F1200 # \u5217\u5370\u904e\u7a0b\u4e2d\u8a2d\u5b9a\u96fb\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={RUN_CUR} \u7522\u751f\u7684\u5b8f\u53ef\u4ee5\u5f9e homing_override\u914d\u7f6e\u90e8\u5206 \u6216 START_PRINT\u5b8f \u4e2d\u547c\u53eb\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u6b78\u4f4d\u671f\u9593\u7684\u9a45\u52d5\u96fb\u6d41\u767c\u751f\u8b8a\u5316\uff0c\u5247\u61c9\u91cd\u65b0\u57f7\u884c\u8abf\u6574\u904e\u7a0b\u3002 \u5728CoreXY\u4e0a\u9032\u884c\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u7684\u6280\u5de7 \u00b6 \u53ef\u4ee5\u5728CoreXY\u5370\u8868\u6a5f\u7684X\u548cY\u884c\u8eca\u4e0a\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002Klipper\u4f7f\u7528 [stepper_x] \u6b65\u9032\u5668\u4f86\u6aa2\u6e2cX\u6ed1\u8eca\u6b78\u4f4d\u6642\u7684\u5931\u901f\uff0c\u4f7f\u7528 [stepper_y] \u6b65\u9032\u5668\u4f86\u6aa2\u6e2cY\u6ed1\u8eca\u6b78\u4f4d\u6642\u7684\u5931\u901f\u3002 \u4f7f\u7528\u4e0a\u8ff0\u7684\u8abf\u8ae7\u6307\u5357\uff0c\u70ba\u6bcf\u500b\u6ed1\u8eca\u627e\u5230\u5408\u9069\u7684 \"\u5931\u901f\u9748\u654f\u5ea6\"\uff0c\u4f46\u8981\u6ce8\u610f\u4ee5\u4e0b\u9650\u5236\uff1a \u7576\u5728CoreXY\u4e0a\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u6642\uff0c\u78ba\u4fdd\u6c92\u6709\u70ba\u4efb\u4f55\u4e00\u500b\u6b65\u9032\u96fb\u6a5f\u914d\u7f6e hold_current \u3002 \u5728\u8abf\u6574\u6642\uff0c\u78ba\u4fddX\u548cY\u8eca\u67b6\u5728\u6bcf\u6b21\u6b78\u4f4d\u5617\u8a66\u524d\u90fd\u63a5\u8fd1\u5176\u8ecc\u9053\u7684\u4e2d\u5fc3\u3002 \u8abf\u6574\u5b8c\u6210\u5f8c\uff0c\u7576X\u548cY\u8ef8\u6b78\u4f4d\u6642\uff0c\u4f7f\u7528\u5b8f\u4f86\u78ba\u4fdd\u4e00\u500b\u8ef8\u9996\u5148\u88ab\u6b78\u4f4d\uff0c\u7136\u5f8c\u5c07\u8a72\u6ed1\u8eca\u9060\u96e2\u8ef8\u7684\u6975\u9650\uff0c\u505c\u9813\u81f3\u5c112\u79d2\uff0c\u7136\u5f8c\u958b\u59cb\u53e6\u4e00\u500b\u6ed1\u8eca\u7684\u6b78\u4f4d\u3002\u9060\u96e2\u8ef8\u7aef\u9ede\u7684\u79fb\u52d5\u53ef\u4ee5\u907f\u514d\u4e00\u500b\u8ef8\u88ab\u6b78\u4f4d\uff0c\u800c\u53e6\u4e00\u500b\u8ef8\u9802\u5728\u8ef8\u7684\u6975\u9650\u4e0a\uff08\u9019\u53ef\u80fd\u4f7f\u5931\u901f\u6aa2\u6e2c\u767c\u751f\u504f\u5dee\uff09\u3002\u66ab\u505c\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u78ba\u4fdd\u9a45\u52d5\u5668\u7684\u5931\u901f\u6a19\u8a8c\u5728\u518d\u6b21\u6b78\u4f4d\u4e4b\u524d\u88ab\u6e05\u9664\u3002 \u67e5\u8a62\u548c\u8a3a\u65b7\u9a45\u52d5\u7a0b\u5f0f\u8a2d\u5b9a \u00b6 ` DUMP_TMC \u547d\u4ee4 \u662f\u914d\u7f6e\u548c\u8a3a\u65b7\u9a45\u52d5\u7a0b\u5f0f\u7684\u6709\u6548\u5de5\u5177\u3002\u5b83\u5c07\u5831\u544a\u6240\u6709\u7531Klipper\u914d\u7f6e\u7684\u6b04\u4f4d\uff0c\u4ee5\u53ca\u6240\u6709\u53ef\u4ee5\u5f9e\u9a45\u52d5\u4e2d\u67e5\u8a62\u5230\u7684\u6b04\u4f4d\u3002 \u6240\u6709\u5831\u544a\u7684\u6b04\u4f4d\u90fd\u5b9a\u7fa9\u5728\u9a45\u52d5\u5668\u7684Trinamic\u6578\u64da\u624b\u518a\u4e2d\u3002\u9019\u4e9b\u6578\u64da\u8868\u53ef\u4ee5\u5728 Trinamic\u7db2\u7ad9 \u4e0a\u627e\u5230\u3002\u8acb\u7372\u53d6\u4e26\u6aa2\u8996\u9a45\u52d5\u5668\u7684Trinamic\u6578\u64da\u624b\u518a\u4f86\u89e3\u91cbDUMP_TMC\u7684\u7d50\u679c\u3002 \u914d\u7f6edriver_XXX\u8a2d\u5b9a \u00b6 Klipper\u652f\u63f4\u4f7f\u7528 driver_XXX \u8a2d\u5b9a\u4f86\u914d\u7f6e\u8a31\u591a\u5e95\u5c64\u9a45\u52d5\u7a0b\u5f0f\u6b04\u4f4d\u3002 TMC\u9a45\u52d5\u914d\u7f6e\u53c3\u8003 \u6709\u6bcf\u7a2e\u578b\u5225\u7684\u9a45\u52d5\u53ef\u7528\u6b04\u4f4d\u7684\u5b8c\u6574\u5217\u8868\u3002 \u6b64\u5916\uff0c\u5e7e\u4e4e\u6240\u6709\u7684\u6b04\u4f4d\u90fd\u53ef\u4ee5\u5728\u57f7\u884c\u6642\u4f7f\u7528 SET_TMC_FIELD\u547d\u4ee4 \u9032\u884c\u4fee\u6539\u3002 \u6bcf\u4e00\u500b\u6b04\u4f4d\u90fd\u5728\u9a45\u52d5\u5668\u7684Trinamic\u6578\u64da\u624b\u518a\u4e2d\u6709\u5b9a\u7fa9\u3002\u9019\u4e9b\u6578\u64da\u8868\u53ef\u4ee5\u5728 Trinamic\u7db2\u7ad9 \u4e0a\u627e\u5230\u3002 \u8acb\u6ce8\u610f\uff0cTrinamic\u7684\u6578\u64da\u8868\u4e2d\uff0c\u6709\u6642\u4e00\u4e9b\u8a5e\u53ef\u80fd\u5c0e\u81f4\u5728\u9ad8\u5c64\u8a2d\u5b9a\uff08\u5982 \"hysteresis end\"\uff09\u548c\u5e95\u5c64\u6b04\u4f4d\u503c\uff08\u5982 \"HEND\"\uff09\u7684\u6df7\u4e82\u3002\u5728Klipper\u4e2d\uff0c driver_XXX \u548cSET_TMC_FIELD\u7e3d\u662f\u8a2d\u5b9a\u5be6\u969b\u5beb\u5165\u9a45\u52d5\u5668\u7684\u5e95\u5c64\u6b21\u6b04\u4f4d\u503c\u3002\u4f8b\u5982\uff0c\u5982\u679cTrinamic\u7684\u6578\u64da\u8868\u6307\u51fa\uff0c\u9700\u8981\u5c073\u7684\u503c\u5beb\u5165HEND\u6b04\u4f4d\uff0c\u4ee5\u4f7f\u5f97 \"hysteresis end\"\u7b49\u65bc0\uff0c\u90a3\u9ebc\u8a2d\u5b9a driver_HEND=3 \u4f7f\u5f97\u9ad8\u5c64\u7372\u5f970\u7684\u503c\u3002 \u5e38\u898b\u554f\u984c \u00b6 \u6211\u53ef\u4ee5\u5728\u6709\u58d3\u529b\u63a8\u9032\uff08pressure advance\uff09\u7684\u64e0\u51fa\u6a5f\u4e0a\u4f7f\u7528stealthChop \u6a21\u5f0f\u55ce\uff1f \u00b6 \u8a31\u591a\u4eba\u6210\u529f\u5730\u5728 \"stealthChop \"\u6a21\u5f0f\u4e0b\u4f7f\u7528\u4e86Klipper\u7684\u58d3\u529b\u63a8\u9032\u3002Klipper\u5be6\u73fe\u4e86 \u5e73\u6ed1\u58d3\u529b\u63a8\u9032 \uff0c\u5b83\u4e0d\u6703\u5f15\u5165\u4efb\u4f55\u77ac\u6642\u901f\u5ea6\u8b8a\u5316\u3002 \u7136\u800c\uff0c\"stealthChop \"\u6a21\u5f0f\u53ef\u80fd\u5c0e\u81f4\u8f03\u4f4e\u7684\u96fb\u6a5f\u626d\u77e9\u548c/\u6216\u7522\u751f\u8f03\u9ad8\u7684\u96fb\u6a5f\u71b1\u91cf\u3002\u5c0d\u65bc\u4f60\u7684\u7279\u5b9a\u5370\u8868\u6a5f\u4f86\u8aaa\uff0c\u5b83\u53ef\u80fd\u662f\u4e5f\u53ef\u80fd\u4e0d\u662f\u4e00\u500b\u5408\u9069\u7684\u6a21\u5f0f\u3002 \u6211\u4e00\u76f4\u5f97\u5230 \"Unable to read tmc uart 'stepper_x' register IFCNT \"\u7684\u932f\u8aa4\uff1f \u00b6 \u9019\u7a2e\u60c5\u6cc1\u767c\u751f\u5728Klipper\u7121\u6cd5\u8207tmc2208\u6216tmc2209\u9a45\u52d5\u901a\u8a0a\u6642\u3002 \u78ba\u4fdd\u96fb\u6a5f\u96fb\u6e90\u555f\u7528\uff0c\u56e0\u70ba\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u5728\u8207\u5fae\u63a7\u5236\u5668\u901a\u8a0a\u4e4b\u524d\u4e00\u822c\u9700\u8981\u78ba\u4fdd\u96fb\u6a5f\u5148\u4e0a\u96fb\u3002 \u5982\u679c\u9019\u500b\u932f\u8aa4\u662f\u5728\u7b2c\u4e00\u6b21\u5237\u5bebKlipper\u540e\u767c\u751f\u7684\uff0c\u90a3\u9ebc\u6b65\u9032\u9a45\u52d5\u5668\u53ef\u80fd\u8655\u5728\u4e00\u500b\u72c0\u614b\uff0c\u6b64\u72c0\u614b\u8207\u525b\u525b\u5beb\u5165\u7684Klipper\u4e0d\u76f8\u5bb9\u3002\u8981\u91cd\u7f6e\u8a72\u72c0\u614b\uff0c\u8acb\u5c07\u5370\u8868\u6a5f\u7684\u6240\u6709\u96fb\u6e90\u62d4\u6389\u5e7e\u79d2\u9418\uff08\u7269\u7406\u4e0a\u62d4\u6389USB\u63d2\u982d\u548c\u96fb\u6e90\u63d2\u982d\uff09\u3002 \u5426\u5247\uff0c\u9019\u7a2e\u932f\u8aa4\u901a\u5e38\u662f\u7531\u65bcUART\u5f15\u8173\u63a5\u7dda\u4e0d\u6b63\u78ba\u6216Klipper\u914d\u7f6e\u7684UART\u5f15\u8173\u8a2d\u5b9a\u4e0d\u6b63\u78ba\u9020\u6210\u7684\u3002 \u6211\u4e00\u76f4\u5f97\u5230 \"Unable to write tmc spi 'stepper_x' register ...\"\u7684\u932f\u8aa4\uff1f \u00b6 \u7576Klipper\u7121\u6cd5\u8207tmc2130\u6216tmc5160\u9a45\u52d5\u901a\u8a0a\u6642\u5c31\u6703\u51fa\u73fe\u9019\u7a2e\u60c5\u6cc1\u3002 \u78ba\u4fdd\u96fb\u6a5f\u96fb\u6e90\u555f\u7528\uff0c\u56e0\u70ba\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u5728\u8207\u5fae\u63a7\u5236\u5668\u901a\u8a0a\u4e4b\u524d\u4e00\u822c\u9700\u8981\u78ba\u4fdd\u96fb\u6a5f\u5148\u4e0a\u96fb\u3002 \u5426\u5247\uff0c\u9019\u7a2e\u932f\u8aa4\u901a\u5e38\u662f\u7531\u65bcSPI\u63a5\u7dda\u4e0d\u6b63\u78ba\u3001Klipper\u5c0dSPI\u8a2d\u5b9a\u7684\u914d\u7f6e\u4e0d\u6b63\u78ba\u6216SPI\u532f\u6d41\u6392\u4e0a\u7684\u88dd\u7f6e\u914d\u7f6e\u4e0d\u5b8c\u6574\u9020\u6210\u7684\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u9a45\u52d5\u5668\u662f\u5728\u639b\u591a\u500b\u88dd\u7f6e\u5171\u4eab\u7684SPI\u532f\u6d41\u6392\u4e0a\uff0c\u90a3\u9ebc\u4e00\u5b9a\u8981\u5728Klipper\u4e2d\u5b8c\u5168\u914d\u7f6e\u8a72\u5171\u4eabSPI\u532f\u6d41\u6392\u4e0a\u7684\u6bcf\u500b\u88dd\u7f6e\u3002\u5982\u679c\u5171\u4eabSPI\u532f\u6d41\u6392\u4e0a\u7684\u4e00\u500b\u88dd\u7f6e\u6c92\u6709\u88ab\u914d\u7f6e\uff0c\u90a3\u9ebc\u5b83\u53ef\u80fd\u6703\u932f\u8aa4\u5730\u97ff\u61c9\u4e0d\u662f\u70ba\u5b83\u6e96\u5099\u7684\u547d\u4ee4\uff0c\u4e26\u7834\u58de\u8207\u76ee\u6a19\u88dd\u7f6e\u7684\u901a\u8a0a\u3002\u5982\u679c\u5728\u5171\u4eab\u7684SPI\u532f\u6d41\u6392\u4e0a\u6709\u4e0d\u80fd\u5728Klipper\u4e2d\u914d\u7f6e\u7684\u88dd\u7f6e\uff0c\u90a3\u9ebc\u4f7f\u7528 static_digital_output config section \u5c07\u672a\u4f7f\u7528\u7684\u88dd\u7f6e\u7684CS\u5f15\u8173\u8a2d\u5b9a\u70ba\u9ad8\u96fb\u5e73\uff08\u9019\u6a23\u5b83\u5c31\u4e0d\u6703\u8a66\u5716\u4f7f\u7528SPI\u532f\u6d41\u6392\uff09\u3002\u96fb\u8def\u677f\u7684\u539f\u7406\u5716\u901a\u5e38\u662f\u4e00\u500b\u6709\u7528\u7684\u53c3\u8003\uff0c\u539f\u7406\u5716\u4e0a\u53ef\u4ee5\u627e\u5230\u54ea\u4e9b\u88dd\u7f6e\u639b\u5728SPI\u532f\u6d41\u6392\u4e0a\u4ee5\u53ca\u5b83\u5011\u7684\u76f8\u95dc\u5f15\u8173\u3002 \u70ba\u4ec0\u9ebc\u6211\u5f97\u5230\u4e00\u500b \"TMC reports error: ...\"\u932f\u8aa4\uff1f \u00b6 \u9019\u578b\u5225\u7684\u932f\u8aa4\u8868\u660eTMC\u9a45\u52d5\u5668\u6aa2\u6e2c\u5230\u4e86\u4e00\u500b\u554f\u984c\uff0c\u4e26\u4e14\u5df2\u7d93\u81ea\u6211\u7981\u7528\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u9a45\u52d5\u5668\u5df2\u7d93\u505c\u6b62\u4e86\u4fdd\u6301\u4f4d\u7f6e\uff0c\u4e26\u5ffd\u7565\u4e86\u79fb\u52d5\u547d\u4ee4\u3002\u5982\u679cKlipper\u6aa2\u6e2c\u5230\u4e00\u500b\u555f\u7528\u7684\u9a45\u52d5\u5668\u5df2\u7d93\u81ea\u6211\u7981\u7528\uff0c\u5b83\u5c31\u6703\u628a\u5370\u8868\u6a5f\u5207\u63db\u5230 \"\u95dc\u9589 \"\u72c0\u614b\u3002 \u4e5f\u6709\u53ef\u80fd\u7531\u65bcSPI\u932f\u8aa4\u5c0e\u81f4\u7121\u6cd5\u8207\u9a45\u52d5\u5668\u901a\u8a0a\u800c\u767c\u751f TMC reports error \u5c0e\u81f4\u7684\u95dc\u6a5f\uff08\u5728tmc2130\u3001tmc5160\u6216tmc2660\u4e0a\uff09\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u5831\u544a\u7684\u9a45\u52d5\u5668\u72c0\u614b\u901a\u5e38\u6703\u986f\u793a \"00000000 \"\u6216 \"ffffff\"--\u4f8b\u5982\uff1a TMC reports error: DRV_STATUS: ffffffff ... \u6216\u8005 TMC reports error: READRSP@RDSEL2: 00000000 ... \u3002\u9019\u6a23\u7684\u6545\u969c\u53ef\u80fd\u662f\u7531\u65bcSPI\u7684\u63a5\u7dda\u554f\u984c\uff0c\u4e5f\u53ef\u80fd\u662f\u7531\u65bcTMC\u9a45\u52d5\u5668\u7684\u81ea\u5fa9\u4f4d\u6216\u6545\u969c\u5c0e\u81f4\u7684\u3002 \u4e00\u4e9b\u5e38\u898b\u7684\u932f\u8aa4\u548c\u8a3a\u65b7\u7684\u6280\u5de7\uff1a TMC \u5831\u544a\u932f\u8aa4\uff1a ... ot=1(OvertempError!) \u00b6 \u9019\u8868\u660e\u96fb\u6a5f\u9a45\u52d5\u5668\u56e0\u6eab\u5ea6\u904e\u9ad8\u800c\u81ea\u6211\u7981\u7528\u3002\u5178\u578b\u7684\u89e3\u6c7a\u65b9\u6848\u662f\u964d\u4f4e\u6b65\u9032\u96fb\u6a5f\u7684\u96fb\u6d41\uff0c\u589e\u52a0\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7684\u51b7\u537b\uff0c\u548c/\u6216\u589e\u52a0\u6b65\u9032\u96fb\u6a5f\u7684\u51b7\u537b\u3002 TMC \u5831\u544a\u932f\u8aa4: ... ShortToGND \u6216\u8457 LowSideShort \u00b6 \u9019\u8868\u660e\u9a45\u52d5\u5668\u5df2\u81ea\u884c\u7981\u7528\uff0c\u56e0\u70ba\u5b83\u6aa2\u6e2c\u5230\u901a\u904e\u9a45\u52d5\u5668\u7684\u96fb\u6d41\u975e\u5e38\u9ad8\u3002\u9019\u53ef\u80fd\u8868\u660e\u9023\u7dda\u5230\u6b65\u9032\u96fb\u6a5f\u6216\u8005\u90e8\u4ef6\u96fb\u6a5f\u5167\u90e8\u7684\u96fb\u7dda\u9b06\u52d5\u6216\u77ed\u8def\u4e86\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u4e26\u4e14TMC\u9a45\u52d5\u5668\u4e0d\u80fd\u6e96\u78ba\u5730\u9810\u6e2c\u96fb\u6a5f\u7684\u6a5f\u68b0\u8ca0\u8f09\uff0c\u4e5f\u53ef\u80fd\u767c\u751f\u9019\u7a2e\u932f\u8aa4\u3002(\u5982\u679c\u9a45\u52d5\u5668\u9810\u6e2c\u4e0d\u6e96\u78ba\uff0c\u90a3\u9ebc\u5b83\u53ef\u80fd\u8f38\u51fa\u904e\u9ad8\u96fb\u6d41\u5230\u96fb\u6a5f\uff0c\u4e26\u89f8\u767c\u81ea\u5df1\u7684\u904e\u96fb\u6d41\u6aa2\u6e2c)\u3002\u8981\u6e2c\u8a66\u9019\u500b\uff0c\u8acb\u7981\u7528stealthChop\u6a21\u5f0f\uff0c\u518d\u6aa2\u67e5\u932f\u8aa4\u662f\u5426\u7e7c\u7e8c\u767c\u751f\u3002 TMC\u5831\u544a\u932f\u8aa4\uff1a ... reset=1(Reset) \u6216 CS_ACTUAL=0(Reset?) \u6216 SE=0(Reset?) \u00b6 \u9019\u8868\u660e\u9a45\u52d5\u5668\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u81ea\u6211\u5fa9\u4f4d\u3002\u9019\u53ef\u80fd\u662f\u7531\u65bc\u96fb\u58d3\u6216\u63a5\u7dda\u554f\u984c\u5c0e\u81f4\u7684\u3002 TMC \u5831\u544a\u932f\u8aa4\uff1a ... uv_cp=1(Undervoltage!) \u00b6 \u9019\u8868\u660e\u9a45\u52d5\u5668\u6aa2\u6e2c\u5230\u4e86\u4e00\u500b\u96fb\u58d3\u4f4e\u4e8b\u4ef6\uff0c\u4e26\u5df2\u81ea\u884c\u7981\u7528\u3002\u9019\u53ef\u80fd\u662f\u7531\u65bc\u63a5\u7dda\u6216\u96fb\u6e90\u554f\u984c\u5c0e\u81f4\u7684\u3002 \u6211\u5982\u4f55\u5728\u6211\u7684\u9a45\u52d5\u5668\u4e0a\u8abf\u6574 spreadCycle/coolStep\u7b49\u6a21\u5f0f\uff1f \u00b6 Trinamic\u7db2\u7ad9 \u6709\u95dc\u65bc\u914d\u7f6e\u9a45\u52d5\u7a0b\u5f0f\u7684\u6307\u5357\u3002\u9019\u4e9b\u6307\u5357\u901a\u5e38\u662f\u5c08\u696d\u3001\u5e95\u5c64\u4e14\u53ef\u80fd\u9700\u8981\u5c08\u7528\u7684\u786c\u9ad4\u3002\u4e0d\u7ba1\u600e\u9ebc\u8aaa\uff0c\u5b83\u5011\u662f\u6700\u597d\u7684\u8cc7\u8a0a\u4f86\u6e90\u3002","title":"TMC \u9a45\u52d5\u5668"},{"location":"TMC_Drivers.html#tmc","text":"\u9019\u500b\u6587\u4ef6\u63d0\u4f9b\u4e86\u5728Klipper\u4e0a\u4ee5SPI/UART\u6a21\u5f0f\u4f7f\u7528Trinamic\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7684\u8cc7\u8a0a\u3002 Klipper\u4e5f\u53ef\u4ee5\u5728\u5176 \"standalone mode\"\u4e0b\u4f7f\u7528Trinamic\u9a45\u52d5\u3002\u7136\u800c\uff0c\u7576\u9a45\u52d5\u8655\u65bc\u9019\u7a2e\u6a21\u5f0f\u6642\uff0c\u4e0d\u9700\u8981\u7279\u6b8a\u7684Klipper\u914d\u7f6e\uff0c\u672c\u6a94\u6848\u4e2d\u8a0e\u8ad6\u7684\u9ad8\u7d1aKlipper\u529f\u80fd\u4e5f\u7121\u6cd5\u4f7f\u7528\u3002 \u9664\u4e86\u9019\u4efd\u6587\u4ef6\uff0c\u8acb\u52d9\u5fc5\u6aa2\u8996 TMC\u9a45\u52d5\u914d\u7f6e\u53c3\u8003 .","title":"TMC \u9a45\u52d5\u5668"},{"location":"TMC_Drivers.html#_1","text":"\u8f03\u9ad8\u7684\u9a45\u52d5\u96fb\u6d41\u53ef\u4ee5\u63d0\u9ad8\u5b9a\u4f4d\u7cbe\u5ea6\u548c\u626d\u77e9\u3002\u7136\u800c\uff0c\u8f03\u9ad8\u7684\u96fb\u6d41\u4e5f\u6703\u589e\u52a0\u6b65\u9032\u96fb\u6a5f\u548c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7522\u751f\u7684\u71b1\u91cf\u3002\u5982\u679c\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u592a\u71b1\uff0c\u5b83\u5c31\u6703\u81ea\u884c\u5931\u6548\uff0cKlipper\u6703\u5831\u544a\u932f\u8aa4\u3002\u5982\u679c\u6b65\u9032\u96fb\u6a5f\u592a\u71b1\uff0c\u5b83\u5c07\u5931\u53bb\u626d\u77e9\u548c\u4f4d\u7f6e\u7cbe\u5ea6\u3002(\u5982\u679c\u5b83\u8b8a\u5f97\u975e\u5e38\u71b1\uff0c\u9084\u53ef\u80fd\u878d\u5316\u9023\u7dda\u5728\u5b83\u8eab\u4e0a\u6216\u9644\u8fd1\u7684\u5851\u6599\u90e8\u4ef6\u3002\uff09 \u4f5c\u70ba\u4e00\u822c\u7684\u8abf\u6574\u5efa\u8b70\uff0c\u53ea\u8981\u6b65\u9032\u96fb\u6a5f\u4e0d\u6703\u592a\u71b1\uff0c\u4e26\u4e14\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u4e0d\u6703\u5831\u544a\u8b66\u544a\u6216\u932f\u8aa4\uff0c\u5c31\u53ef\u4ee5\u9078\u64c7\u66f4\u9ad8\u7684\u96fb\u6d41\u503c\u3002\u4e00\u822c\u4f86\u8aaa\uff0c\u6b65\u9032\u96fb\u6a5f\u611f\u5230\u6eab\u71b1\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u4e0d\u61c9\u8a72\u71b1\u5230\u89f8\u63a7\u8d77\u4f86\u5f88\u71d9\u624b\u3002","title":"\u8abf\u6574\u96fb\u6a5f\u96fb\u6d41"},{"location":"TMC_Drivers.html#hold_current","text":"\u5982\u679c\u914d\u7f6e\u4e86 hold_current \uff0c\u90a3\u9ebcTMC\u9a45\u52d5\u5668\u53ef\u4ee5\u5728\u6aa2\u6e2c\u5230\u6b65\u9032\u96fb\u6a5f\u6c92\u6709\u79fb\u52d5\u6642\u6703\u6e1b\u5c11\u6b65\u9032\u96fb\u6a5f\u7684\u96fb\u6d41\u3002\u7136\u800c\uff0c\u6539\u8b8a\u96fb\u6a5f\u96fb\u6d41\u672c\u8eab\u53ef\u80fd\u6703\u5f15\u8d77\u96fb\u6a5f\u8f49\u52d5\u3002\u9019\u53ef\u80fd\u662f\u7531\u65bc\u6b65\u9032\u96fb\u6a5f\u5167\u90e8\u7684 \"\u963b\u6eef\u529b\"\uff08\u8f49\u5b50\u4e2d\u7684\u6c38\u4e45\u78c1\u9435\u62c9\u5411\u5b9a\u5b50\u4e2d\u7684\u9435\u9f52\uff09\u6216\u8ef8\u6ed1\u8eca\u4e0a\u7684\u5916\u529b\u9020\u6210\u7684\u3002 \u5c0d\u65bc\u5927\u591a\u6578\u6b65\u9032\u96fb\u6a5f\uff0c\u5728\u6b63\u5e38\u7684\u5217\u5370\u904e\u7a0b\u4e2d\u6e1b\u5c11\u96fb\u6d41\u4e0d\u6703\u5e36\u4f86\u986f\u8457\u7684\u597d\u8655\uff0c\u56e0\u70ba\u5f88\u5c11\u6709\u5217\u5370\u52d5\u4f5c\u6703\u8b93\u6b65\u9032\u96fb\u6a5f\u7a7a\u9591\u8db3\u5920\u9577\u7684\u6642\u9593\u4f86\u555f\u7528 hold_current \uff08\u4fdd\u6301\u96fb\u6d41\uff09\u529f\u80fd\u3002\u800c\u4e14\uff0c\u4f60\u4e5f\u4e0d\u6703\u5e0c\u671b\u5728\u5c11\u6578\u4f7f\u6b65\u9032\u96fb\u6a5f\u7a7a\u9591\u8db3\u5920\u9577\u7684\u6642\u9593\u7684\u5217\u5370\u52d5\u4f5c\u4e2d\u5f15\u5165\u5c0f\u7684\u5217\u5370\u7455\u75b5\u3002 \u5982\u679c\u5e0c\u671b\u5728\u5217\u5370\u9810\u71b1\u6642\u6e1b\u5c11\u96fb\u6a5f\u7684\u96fb\u6d41\uff0c\u90a3\u9ebc\u53ef\u4ee5\u8003\u616e\u5728 START_PRINT\u5b8f \u4e2d\u5beb\u5165 SET_TMC_CURRENT \u547d\u4ee4\uff0c\u5728\u6b63\u5e38\u5217\u5370\u958b\u59cb\u524d\u5f8c\u8abf\u6574\u96fb\u6d41\u3002 \u4e00\u4e9b\u5370\u8868\u6a5f\u7684\u5c08\u7528Z\u8ef8\u96fb\u6a5f\u5728\u6b63\u5e38\u7684\u5217\u5370\u52d5\u4f5c\u4e2d\u662f\u7a7a\u9591\u7684\uff08\u6c92\u6709\u5e8a\u7db2\uff08bed_mesh\uff09\uff0c\u6c92\u6709\u5e8a\u9762\u50be\u659c\uff08bed_tilt\uff09\uff0c\u6c92\u6709Z\u8ef8\u50be\u659c\u6821\u6b63\uff08skew_correction\uff09\uff0c\u6c92\u6709 \"\u82b1\u74f6\u6a21\u5f0f \uff08vase mode\uff09\"\u5217\u5370\uff0c\u7b49\u7b49\uff09\uff0c\u53ef\u80fd\u6703\u767c\u73feZ\u8ef8\u96fb\u6a5f\u5728 hold_current \u7684\u60c5\u6cc1\u4e0b\u78ba\u5be6\u57f7\u884c\u5f97\u6bd4\u8f03\u51b7\u3002\u5982\u679c\u5be6\u73fe\u4e86\u9019\u4e00\u9ede\uff0c\u90a3\u9ebc\u4e00\u5b9a\u8981\u8003\u616e\u5230\u5728\u5e8a\u9762\u8abf\u5e73\u3001\u5e8a\u9762\u63a2\u6e2c\u3001\u63a2\u91dd\u6821\u6e96\u7b49\u904e\u7a0b\u4e2d\u9019\u7a2e\u975e\u6307\u4ee4\u6027\u7684Z\u8ef8\u904b\u52d5\u3002 driver_TPOWERDOWN \u548c driver_IHOLDDELAY \u4e5f\u61c9\u8a72\u9032\u884c\u76f8\u61c9\u7684\u6821\u6e96\u3002\u5982\u679c\u4e0d\u78ba\u5b9a\uff0c\u6700\u597d\u4e0d\u8981\u6307\u5b9a hold_current \u3002","title":"\u50be\u5411\u65bc\u4e0d\u6307\u5b9a\u4fdd\u6301\u96fb\u6d41\uff08hold_current\uff09"},{"location":"TMC_Drivers.html#spreadcycle-stealthchop","text":"\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cKlipper\u5c07TMC\u9a45\u52d5\u7f6e\u65bc \"spreadCycle \"\u6a21\u5f0f\u3002\u5982\u679c\u9a45\u52d5\u7a0b\u5f0f\u652f\u63f4 \"stealthChop\"\uff0c\u90a3\u9ebc\u53ef\u4ee5\u901a\u904e\u65b0\u589e stealthchop_threshold: 999999 \u5230TMC\u7684\u914d\u7f6e\u90e8\u5206\u3002 \u4e00\u822c\u4f86\u8aaa\uff0cspreadCycle\u6a21\u5f0f\u6bd4stealthChop\u6a21\u5f0f\u63d0\u4f9b\u66f4\u5927\u7684\u626d\u77e9\u548c\u66f4\u9ad8\u7684\u5b9a\u4f4d\u7cbe\u5ea6\u3002\u7136\u800c\uff0c\u5728\u67d0\u4e9b\u5370\u8868\u6a5f\u4e0a\uff0cstealthChop \u6a21\u5f0f\u986f\u8457\u964d\u4f4e\u53ef\u807d\u5230\u7684\u566a\u97f3\u3002 \u6bd4\u8f03\u6a21\u5f0f\u7684\u6e2c\u8a66\u8868\u660e\uff0c\u5728\u4f7f\u7528stealthChop\u6a21\u5f0f\u6642\uff0c\u5728\u6052\u901f\u79fb\u52d5\u904e\u7a0b\u4e2d\uff0c\"\u4f4d\u7f6e\u6eef\u5f8c \"\u589e\u52a0\u4e86\u7d04\u70ba\u6574\u6b65\u768475%\uff08\u4f8b\u5982\uff0c\u5728\u4e00\u81fa\u65cb\u8f49\u8ddd\u96e2\uff08rotation_distance \uff09\u70ba40mm\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u7684\u5370\u8868\u6a5f\u4e0a\uff0c\u6052\u901f\u79fb\u52d5\u7684\u4f4d\u7f6e\u504f\u5dee\u589e\u52a0\u4e86\u7d040.150mm\uff09\u3002\u7136\u800c\uff0c\u9019\u7a2e \"\u7372\u5f97\u6240\u9700\u4f4d\u7f6e\u7684\u5ef6\u9072 \"\u53ef\u80fd\u4e0d\u6703\u8868\u73fe\u7232\u660e\u986f\u7684\u5217\u5370\u7f3a\u9677\uff0c\u4eba\u5011\u53ef\u80fd\u66f4\u559c\u6b61stealthChop\u6a21\u5f0f\u5e36\u4f86\u7684\u66f4\u5b89\u975c\u7684\u5217\u5370\u3002 \u5efa\u8b70\u7e3d\u662f\u4f7f\u7528 \"spreadCycle \"\u6a21\u5f0f\uff08\u901a\u904e\u4e0d\u6307\u5b9a stealthchop_threshold \uff09\u6216\u7e3d\u662f\u4f7f\u7528 \"stealthChop \"\u6a21\u5f0f\uff08\u901a\u904e\u8a2d\u5b9a stealthchop_threshold \u70ba99999\uff09\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u5982\u679c\u5728\u96fb\u6a5f\u8655\u65bc\u975e\u96f6\u901f\u5ea6\u6642\u6539\u8b8a\u6a21\u5f0f\uff0c\u9a45\u52d5\u5668\u5f80\u5f80\u6703\u7522\u751f\u7cdf\u7cd5\u548c\u6df7\u4e82\u7684\u7d50\u679c\u3002","title":"\u8a2d\u5b9a \"spreadCycle \"\u8207 \"stealthChop \"\u6a21\u5f0f"},{"location":"TMC_Drivers.html#tmc_1","text":"TMC\u9a45\u52d5\u7a0b\u5f0f\u7684 interpolate \u8a2d\u5b9a\u53ef\u4ee5\u6e1b\u5c11\u5370\u8868\u6a5f\u904b\u52d5\u7684\u566a\u97f3\uff0c\u4f46\u4ee3\u50f9\u662f\u5f15\u5165\u4e00\u500b\u5c0f\u7684\u7cfb\u7d71\u4f4d\u7f6e\u8aa4\u5dee\u3002\u9019\u500b\u7cfb\u7d71\u6027\u7684\u4f4d\u7f6e\u8aa4\u5dee\u662f\u7531\u9a45\u52d5\u5668\u5728\u57f7\u884cKlipper\u767c\u9001\u7684 \"\u6b65\u9a5f \"\u6642\u7684\u5ef6\u9072\u9020\u6210\u7684\u3002\u5728\u6052\u901f\u79fb\u52d5\u904e\u7a0b\u4e2d\uff0c\u9019\u7a2e\u5ef6\u9072\u5c0e\u81f4\u4e86\u5c07\u8fd1\u4e00\u534a\u7684\u914d\u7f6e\u5fae\u6b65\u7684\u4f4d\u7f6e\u8aa4\u5dee\uff08\u66f4\u6e96\u78ba\u5730\u8aaa\uff0c\u8aa4\u5dee\u662f\u4e00\u534a\u7684\u5fae\u6b65\u8ddd\u96e2\u6e1b\u53bb512\u5206\u4e4b\u4e00\u7684\u6574\u6b65\u8ddd\u96e2\uff09\u3002\u4f8b\u5982\uff0c\u5728\u4e00\u500b\u65cb\u8f49\u8ddd\u96e2\uff08rotation_distance\uff09\u70ba40\u6beb\u7c73\u3001\u6bcf\u5708200\u6b65\uff08steps_per_rotation\uff09\u300116\u5fae\u6b65\u7684\u8ef8\u4e0a\uff0c\u5728\u6052\u901f\u79fb\u52d5\u904e\u7a0b\u4e2d\u5f15\u5165\u7684\u7cfb\u7d71\u8aa4\u5dee\u662f~0.006\u6beb\u7c73\u3002 \u7232\u4e86\u7372\u5f97\u6700\u4f73\u7684\u5b9a\u4f4d\u7cbe\u5ea6\uff0c\u53ef\u4ee5\u8003\u616e\u4f7f\u7528spreadCycle\u6a21\u5f0f\uff0c\u4e26\u7981\u7528\u63d2\u503c\uff08\u5728TMC\u9a45\u52d5\u914d\u7f6e\u4e2d\u8a2d\u5b9a interpolate: False \uff09\u3002\u7576\u4ee5\u9019\u7a2e\u65b9\u5f0f\u914d\u7f6e\u6642\uff0c\u53ef\u4ee5\u589e\u52a0 microstep \u8a2d\u5b9a\uff0c\u4ee5\u6e1b\u5c11\u6b65\u9032\u904b\u52d5\u4e2d\u7684\u566a\u97f3\u3002\u901a\u5e38\u60c5\u6cc1\u4e0b\uff0c\u5fae\u6b65\u8a2d\u5b9a\u70ba 64 \u6216 128 \u6703\u6709\u985e\u4f3c\u65bc\u63d2\u503c\u7684\u566a\u97f3\u6c34\u5e73\uff0c\u800c\u4e14\u4e0d\u6703\u5f15\u5165\u7cfb\u7d71\u6027\u7684\u4f4d\u7f6e\u8aa4\u5dee\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u90a3\u9ebc\u76f8\u5c0d\u65bc\u5f9estealthChop\u6a21\u5f0f\u5f15\u5165\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u78ba\u6027\uff0c\u63d2\u503c\u7684\u4f4d\u7f6e\u4e0d\u7cbe\u78ba\u6027\u5f88\u5c0f\u3002\u56e0\u6b64\uff0c\u5728stealthChop \u6a21\u5f0f\u4e0b\uff0c\u8abf\u6574\u63d2\u503c\u662f\u6c92\u6709\u7528\u7684\uff0c\u53ef\u4ee5\u5c07\u63d2\u503c\u8a2d\u5b9a\u518d\u5176\u9810\u8a2d\u72c0\u614b\u3002","title":"TMC\u63d2\u503c\u8a2d\u5b9a\u5f15\u5165\u4e86\u5fae\u5c0f\u7684\u4f4d\u7f6e\u504f\u5dee"},{"location":"TMC_Drivers.html#_2","text":"\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5141\u8a31\u5728\u4e0d\u9700\u8981\u7269\u7406\u9650\u4f4d\u958b\u95dc\u7684\u60c5\u6cc1\u4e0b\u5c07\u4e00\u500b\u8ef8\u6b78\u4f4d\u3002\u76f8\u53cd\uff0c\u8ef8\u4e0a\u7684\u6ed1\u8eca\u63a5\u89f8\u6a5f\u68b0\u9650\u4f4d\u540e\uff0c\u4f7f\u6b65\u9032\u96fb\u6a5f\u5931\u53bb\u6b65\u9577\u3002\u6b65\u9032\u9a45\u52d5\u5668\u611f\u61c9\u5230\u5931\u53bb\u7684\u6b65\u6578\uff0c\u4e26\u901a\u904e\u5207\u63db\u4e00\u500b\u5f15\u8173\u5411\u63a7\u5236\u7684\u5fae\u63a7\u5236\u5668\uff08Klipper\uff09\u544a\u77e5\u9019\u4e00\u9ede\u3002\u8a72\u8cc7\u8a0a\u53ef\u88ab Klipper \u7528\u4f5c\u8ef8\u7684\u9650\u4f4d\u3002 \u672c\u6307\u5357\u4ecb\u7d39\u77ad\u5982\u4f55\u8a2d\u5b9a\uff08\u7b1b\u5361\u723e\uff09\u5370\u8868\u6a5f\u7684X\u8ef8\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002\u9019\u500b\u65b9\u6cd5\u4e5f\u9069\u5408\u5176\u4ed6\u8ef8\uff08\u9700\u8981\u4e00\u500b\u9650\u4f4d\uff09\u3002\u6bcf\u6b21\u61c9\u8a72\u53ea\u5c0d\u4e00\u500b\u8ef8\u9032\u884c\u914d\u7f6e\u548c\u8abf\u6574\u3002","title":"\u7121\u9650\u4f4d\u6b78\u96f6"},{"location":"TMC_Drivers.html#_3","text":"\u8981\u78ba\u4fdd\u4f60\u7684\u6a5f\u68b0\u90e8\u4ef6\u80fd\u5920\u627f\u53d7\u6ed1\u8eca\u53cd\u8986\u649e\u5411\u8ef8\u7684\u9650\u4f4d\u7684\u8ca0\u8f09\u3002\u7279\u5225\u662f\u7d72\u69d3\u53ef\u80fd\u6703\u7522\u751f\u5f88\u5927\u7684\u529b\u3002\u901a\u904e\u5c07\u5674\u5634\u649e\u5411\u5217\u5370\u8868\u9762\u4f86\u78ba\u5b9aZ\u8ef8\u7684\u4f4d\u7f6e\u53ef\u80fd\u4e0d\u662f\u4e00\u500b\u597d\u4e3b\u610f\u3002\u7232\u4e86\u7372\u5f97\u6700\u4f73\u6548\u679c\uff0c\u8acb\u78ba\u8a8d\u8ef8\u6ed1\u8eca\u5c07\u8207\u8ef8\u7684\u9650\u4f4d\u7dca\u5bc6\u63a5\u89f8\u3002 \u6b64\u5916\uff0c\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5c0d\u4f60\u7684\u5370\u8868\u6a5f\u4f86\u8aaa\u53ef\u80fd\u4e0d\u5920\u7cbe\u78ba\u3002\u96d6\u7136\u7b1b\u5361\u723e\u6a5f\u5668\u4e0a\u7684X\u548cY\u8ef8\u6b78\u4f4d\u53ef\u4ee5\u5f88\u597d\u5730\u5de5\u4f5c\uff0c\u4f46Z\u8ef8\u7684\u6b78\u4f4d\u901a\u5e38\u4e0d\u5920\u6e96\u78ba\uff0c\u53ef\u80fd\u6703\u5c0e\u81f4\u7b2c\u4e00\u5c64\u9ad8\u5ea6\u4e0d\u4e00\u81f4\u3002\u7531\u65bc\u7cbe\u5ea6\u4f4e\uff0c\u4e0d\u5efa\u8b70\u5728delta \u5370\u8868\u6a5f\u4e0a\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u7684\u6b78\u4f4d\u3002 \u6b64\u5916\uff0c\u6b65\u9032\u9a45\u52d5\u5668\u7684\u5931\u901f\u6aa2\u6e2c\u53d6\u6c7a\u65bc\u96fb\u6a5f\u7684\u6a5f\u68b0\u8ca0\u8f09\u3001\u96fb\u6a5f\u96fb\u6d41\u548c\u96fb\u6a5f\u6eab\u5ea6\uff08\u7dda\u5708\u96fb\u963b\uff09\u3002 \u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5728\u96fb\u6a5f\u4e2d\u901f\u6642\u6548\u679c\u6700\u597d\u3002\u5c0d\u65bc\u975e\u5e38\u6162\u7684\u901f\u5ea6\uff08\u5c0f\u65bc10RPM\uff09\uff0c\u96fb\u6a5f\u4e0d\u6703\u7522\u751f\u660e\u986f\u7684\u53cd\u96fb\u78c1\u5834\uff0cTMC\u6676\u7247\u4e0d\u80fd\u53ef\u9760\u5730\u6aa2\u6e2c\u5230\u96fb\u6a5f\u505c\u9813\u3002\u6b64\u5916\uff0c\u5728\u975e\u5e38\u9ad8\u7684\u901f\u5ea6\u4e0b\uff0c\u96fb\u6a5f\u7684\u53cd\u5411\u96fb\u52d5\u52e2\u63a5\u8fd1\u96fb\u6a5f\u7684\u96fb\u6e90\u96fb\u58d3\uff0c\u6240\u4ee5TMC\u6676\u7247\u4e5f\u6aa2\u6e2c\u4e0d\u5230\u505c\u9813\u3002\u5efa\u8b70\u4f60\u770b\u770b\u4e00\u4e0b\u5c0d\u61c9\u7684TMC\u6676\u7247\u6578\u64da\u624b\u518a\u3002\u5728\u624b\u518a\u4e2d\u9084\u53ef\u4ee5\u627e\u5230\u66f4\u591a\u95dc\u65bc\u9019\u7a2e\u8a2d\u5b9a\u7684\u9650\u5236\u7684\u7d30\u7bc0\u3002","title":"\u9650\u5236"},{"location":"TMC_Drivers.html#_4","text":"\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\uff0c\u9700\u8981\u4e00\u4e9b\u524d\u63d0\u689d\u4ef6\uff1a \u4e00\u500b\u5177\u6709stallGuard\u529f\u80fd\u7684TMC\u6b65\u9032\u9a45\u52d5\u5668\uff08TMC2130\u3001TMC2209\u3001TMC2660\u6216TMC5160\uff09\u3002 \u9700\u8981TMC\u9a45\u52d5\u5668\u7684SPI / UART\u4ecb\u9762\u8207\u5fae\u63a7\u5236\u5668\u9023\u7dda\uff08stand-alone \u6a21\u5f0f\u4e0d\u884c\uff09\u3002 \u9700\u8981\u628aTMC\u9a45\u52d5\u5668\u7684 \"DIAG \"\u6216 \"SG_TST \"\u5f15\u8173\u9023\u7dda\u5230\u5fae\u63a7\u5236\u5668\u3002 \u5fc5\u9808\u6309\u7167 \u914d\u7f6e\u6aa2\u67e5 \u6a94\u6848\u4e2d\u7684\u6b65\u9a5f\u4f86\u78ba\u8a8d\u6b65\u9032\u96fb\u6a5f\u7684\u914d\u7f6e\u548c\u904b\u8f49\u6b63\u5e38\u3002","title":"\u524d\u63d0\u689d\u4ef6"},{"location":"TMC_Drivers.html#_5","text":"\u8abf\u6574\u904e\u7a0b\u6709\u516d\u500b\u4e3b\u8981\u6b65\u9a5f\uff1a \u9078\u64c7\u4e00\u500b\u6b78\u4f4d\u901f\u5ea6\u3002 \u914d\u7f6e printer.cfg \u6a94\u6848\u4ee5\u555f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002 \u627e\u5230\u6709\u6700\u9ad8\u9748\u654f\u5ea6\u7684stallguard\u8a2d\u5b9a\uff0c\u78ba\u4fdd\u5176\u6210\u529f\u627e\u5230\u96f6\u9ede\u4f4d\u7f6e\u3002 \u627e\u5230\u6709\u6700\u4f4e\u9748\u654f\u5ea6\u7684stallguard \u8a2d\u5b9a\uff0c\u78ba\u4fdd\u53ea\u9700\u8f15\u8f15\u4e00\u78b0\u5c31\u80fd\u6210\u529f\u6b78\u96f6\u3002 \u66f4\u65b0 printer.cfg \uff0c\u52a0\u5165\u6240\u9700\u7684stallguard\u8a2d\u5b9a\u3002 \u5efa\u7acb\u6216\u66f4\u65b0 printer.cfg \u5b8f\u78ba\u4fdd\u7a69\u5b9a\u6b78\u4f4d\uff08home\uff09\u3002","title":"\u8abf\u6574"},{"location":"TMC_Drivers.html#_6","text":"\u57f7\u884c\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u6642\uff0c\u6b78\u4f4d\u901f\u5ea6\u662f\u4e00\u500b\u91cd\u8981\u53c3\u6578\u3002\u6700\u597d\u4f7f\u7528\u8f03\u6162\u7684\u6b78\u4f4d\u901f\u5ea6\uff0c\u4ee5\u4fbf\u6ed1\u8eca\u5728\u8207\u8ecc\u9053\u9650\u4f4d\u63a5\u89f8\u6642\u4e0d\u6703\u5c0d\u6846\u67b6\u65bd\u52a0\u904e\u591a\u7684\u529b\u3002\u7136\u800c\uff0cTMC\u9a45\u52d5\u5668\u5728\u975e\u5e38\u6162\u7684\u901f\u5ea6\u4e0b\u4e26\u4e0d\u80fd\u53ef\u9760\u5730\u6aa2\u6e2c\u5230\u5931\u901f\u3002 \u6b78\u4f4d\u901f\u5ea6\u7684\u6700\u4f73\u8abf\u6574\u8d77\u9ede\u662f\u6b65\u9032\u96fb\u6a5f\u6bcf\u5169\u79d2\u8f49\u4e00\u5708\u3002\u5c0d\u65bc\u8a31\u591a\u8ef8\uff0c\u9019\u5c31\u662f\u5c07\u662f rotation_distance \u9664\u4ee52\u3002\u4f8b\u5982\uff1a [stepper_x] rotation_distance: 40 homing_speed: 20 ...","title":"\u9078\u64c7\u6b78\u4f4d\u901f\u5ea6"},{"location":"TMC_Drivers.html#printercfg","text":"\u5728 stepper_x \u914d\u7f6e\u90e8\u5206\uff0c homing_retract_dist \u8a2d\u5b9a\u5fc5\u9808\u88ab\u8a2d\u70ba\u96f6\uff0c\u4ee5\u7981\u7528\u7b2c\u4e8c\u6b21\u6b78\u4f4d\u52d5\u4f5c\u3002\u5728\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u6642\uff0c\u7b2c\u4e8c\u6b21\u6b78\u4f4d\u5617\u8a66\u4e0d\u6703\u63d0\u9ad8\u7cbe\u5ea6\uff0c\u4e5f\u4e0d\u6703\u53ef\u9760\u5730\u5de5\u4f5c\uff0c\u800c\u4e14\u6703\u64fe\u4e82\u8abf\u6574\u904e\u7a0b\u3002 \u78ba\u4fdd\u5728\u914d\u7f6e\u7684TMC\u9a45\u52d5\u90e8\u5206\u6c92\u6709\u6307\u5b9a hold_current \u7684\u8a2d\u5b9a\u3002\uff08\u5982\u679c\u8a2d\u5b9a\u4e86hold_current\uff0c\u90a3\u9ebc\u5728\u63a5\u89f8\u540e\uff0c\u7576\u6ed1\u8eca\u649e\u5230\u8ecc\u9053\u672b\u7aef\u6642\uff0c\u96fb\u6a5f\u5c31\u6703\u505c\u6b62\uff0c\u5728\u9019\u500b\u4f4d\u7f6e\u4e0a\u6e1b\u5c11\u96fb\u6d41\u53ef\u80fd\u6703\u5c0e\u81f4\u6ed1\u8eca\u79fb\u52d5--\u9019\u5c07\u5c0e\u81f4\u6b78\u4f4d\u6548\u80fd\u4e0d\u4f73\uff0c\u4e26\u6703\u64fe\u4e82\u8abf\u6574\u904e\u7a0b\u3002\uff09 \u9700\u8981\u914d\u7f6e\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5f15\u8173\uff0c\u4e26\u914d\u7f6e\u521d\u59cb \"stallguard \"\u8a2d\u5b9a\u3002\u4e00\u500b\u7528\u65bcX\u8ef8\u7684tmc2209\u793a\u4f8b\u914d\u7f6e\u5982\u4e0b\uff1a [tmc2209 stepper_x] diag_pin: ^PA1 # \u8a2d\u5b9aMCU\u5f15\u8173\u9023\u7dda\u5230TMC\u7684DIAG\u5f15\u8173 driver_SGTHRS: 255 # 255\u662f\u6700\u654f\u611f\u7684\u503c\uff0c0\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2209_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u65bctmc2130\u6216tmc5160\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2130 stepper_x] diag1_pin: ^!PA1 # \u9023\u7dda\u5230TMC\u7684DIAG1\u5f15\u8173(\u6216\u4f7f\u7528diag0_pin / DIAG0\u5f15\u8173) driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: tmc2130_stepper_x:virtual_endstop homing_retract_dist: 0 ... \u7528\u65bctmc2660\u914d\u7f6e\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [tmc2660 stepper_x] driver_SGT: -64 # -64\u662f\u6700\u654f\u611f\u7684\u503c\uff0c63\u662f\u6700\u4e0d\u654f\u611f\u7684\u503c ... [stepper_x] endstop_pin: ^PA1 # \u8207TMC SG_TST\u5f15\u8173\u76f8\u9023\u7684\u5f15\u8173 homing_retract_dist: 0 ... \u4e0a\u9762\u7684\u4f8b\u5b50\u53ea\u986f\u793a\u4e86\u91dd\u5c0d\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u7684\u8a2d\u5b9a\u3002\u6240\u6709\u53ef\u7528\u9078\u9805\u8acb\u53c3\u898b \u914d\u7f6e\u53c3\u8003 \u3002","title":"\u70ba\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u914d\u7f6eprinter.cfg"},{"location":"TMC_Drivers.html#_7","text":"\u5c07\u6ed1\u8eca\u653e\u5728\u9760\u8fd1\u8ecc\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\u3002\u4f7f\u7528SET_TMC_FIELD\u547d\u4ee4\u4f86\u8a2d\u5b9a\u6700\u9ad8\u9748\u654f\u5ea6\u3002\u5c0d\u65bctmc2209\uff1a SET_TMC_FIELD STEPPER=stepper_x FIELD=SGTHRS VALUE=255 \u5c0d\u65bctmc2130, tmc5160, and tmc2660: SET_TMC_FIELD STEPPER=stepper_x FIELD=sgt VALUE=-64 \u7136\u5f8c\u767c\u4e00\u500b G28 X0 \u547d\u4ee4\uff0c\u78ba\u4fdd\u8ef8\u5b8c\u5168\u4e0d\u52d5\u3002\u5982\u679c\u8ef8\u79fb\u52d5\u4e86\uff0c\u7acb\u5373\u4e00\u500b M112 \u547d\u4ee4\u505c\u6b62\u5370\u8868\u6a5f-\u53ef\u80fd\u662fdiag/sg_tst\u5f15\u8173\u7684\u63a5\u7dda\u6216\u914d\u7f6e\u6709\u554f\u984c\uff0c\u5fc5\u9808\u5728\u7e7c\u7e8c\u4e4b\u524d\u4fee\u6b63\u3002 \u63a5\u4e0b\u4f86\uff0c\u4e0d\u65b7\u964d\u4f4e VALUE \u8a2d\u5b9a\u7684\u9748\u654f\u5ea6\uff0c\u4e26\u518d\u6b21\u57f7\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4\uff0c\u627e\u5230\u80fd\u4f7f\u4f7f\u6ed1\u8eca\u6210\u529f\u5730\u4e00\u76f4\u79fb\u52d5\u5230\u7aef\u9ede\u4e26\u505c\u6b62\u7684\u6700\u9ad8\u7684\u9748\u654f\u5ea6\u3002(\u5c0d\u65bcTMC2209\u9a45\u52d5\uff0c\u8abf\u6574\u662f\u6e1b\u5c11 SGTHRS\uff0c\u5c0d\u65bc\u5176\u4ed6\u9a45\u52d5\uff0c\u8abf\u6574\u662f\u589e\u52a0 sgt)\u3002\u78ba\u4fdd\u6bcf\u6b21\u5617\u8a66\u90fd\u5728\u8ecc\u9053\u4e2d\u5fc3\u9644\u8fd1\u958b\u59cb\uff08\u5982\u679c\u9700\u8981\uff0c\u767c\u51fa M84 \uff0c\u7136\u5f8c\u624b\u52d5\u5c07\u6ed1\u8eca\u79fb\u5230\u4e2d\u5fc3\uff09\u3002\u8a72\u65b9\u6cd5\u61c9\u8a72\u53ef\u4ee5\u627e\u5230\u53ef\u9760\u6b78\u4f4d\u7684\u6700\u9ad8\u9748\u654f\u5ea6\uff08\u66f4\u9ad8\u7684\u9748\u654f\u5ea6\u8a2d\u5b9a\u6703\u5c0e\u81f4\u6ed1\u8eca\u53ea\u52d5\u4e00\u5c0f\u6bb5\u6216\u5b8c\u5168\u4e0d\u52d5\uff09\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u70ba maximum_sensitivity \u3002(\u5982\u679c\u5728\u6700\u4f4e\u9748\u654f\u5ea6\uff08SGTHRS=0\u6216sgt=63\uff09\u4e0b\u6ed1\u8eca\u4e5f\u4e0d\u52d5\uff0c\u90a3\u9ebcdiag/sg_tst \u5f15\u8173\u7684\u63a5\u7dda\u6216\u914d\u7f6e\u53ef\u80fd\u6709\u554f\u984c\uff0c\u5fc5\u9808\u5728\u7e7c\u7e8c\u5f8c\u9762\u64cd\u4f5c\u524d\u4e88\u4ee5\u4fee\u6b63\u3002\uff09 \u5728\u5c0b\u627e\u6700\u5927\u9748\u654f\u5ea6\u6642\uff0c\u66f4\u65b9\u4fbf\u7684\u662f\u8df3\u5230\u4e0d\u540c\u7684VALUE\u8a2d\u5b9a\uff08\u6bd4\u5982\u5c07VALUE\u53c3\u6578\u7684\u4e00\u534a\uff09\u3002\u5982\u679c\u9019\u6a23\u505a\uff0c\u8acb\u6e96\u5099\u597d\u767c\u51fa M112 \u547d\u4ee4\u4ee5\u505c\u6b62\u5370\u8868\u6a5f\uff0c\u56e0\u70ba\u9748\u654f\u5ea6\u5f88\u4f4e\u7684\u8a2d\u5b9a\u53ef\u80fd\u6703\u5c0e\u81f4\u8ef8\u53cd\u8986 \"\u649e \"\u5230\u5c0e\u8ecc\u7684\u672b\u7aef\u3002 \u8acb\u78ba\u4fdd\u5728\u6bcf\u6b21\u6b78\u4f4d\u5617\u8a66\u4e4b\u9593\u7b49\u5f85\u5e7e\u79d2\u9418\u3002\u5728TMC\u9a45\u52d5\u7a0b\u5f0f\u6aa2\u6e2c\u5230\u5931\u901f\u540e\uff0c\u5b83\u53ef\u80fd\u9700\u8981\u4e00\u9ede\u6642\u9593\u4f86\u6e05\u9664\u5176\u5167\u90e8\u6307\u793a\u5668\uff0c\u624d\u80fd\u5920\u6aa2\u6e2c\u5230\u4e0b\u4e00\u6b21\u5931\u901f\u3002 \u5728\u8abf\u6574\u6e2c\u8a66\u4e2d\uff0c\u5982\u679c G28 X0 \u547d\u4ee4\u4e0d\u80fd\u5b8c\u5168\u79fb\u52d5\u5230\u8ef8\u7684\u6975\u9650\u4f4d\u7f6e\uff0c\u90a3\u9ebc\u5728\u767c\u51fa\u4efb\u4f55\u5e38\u898f\u79fb\u52d5\u547d\u4ee4\uff08\u4f8b\u5982\uff0c G1 \uff09\u6642\u8981\u5c0f\u5fc3\u3002Klipper\u5c07\u4e0d\u80fd\u6b63\u78ba\u5b9a\u4f4d\u6ed1\u584a\u7684\u4f4d\u7f6e\uff0c\u79fb\u52d5\u547d\u4ee4\u53ef\u80fd\u6703\u5c0e\u81f4\u975e\u9810\u671f\u548c\u6df7\u4e82\u7684\u7d50\u679c\u3002","title":"\u627e\u5230\u80fd\u6210\u529f\u6b78\u4f4d\u7684\u6700\u9ad8\u7684\u654f\u611f\u5ea6\u8a2d\u5b9a"},{"location":"TMC_Drivers.html#_8","text":"\u7576\u7528\u627e\u5230\u7684 \u6700\u5927\u9748\u654f\u5ea6 \u503c\u6b78\u4f4d\u6642\uff0c\u8ef8\u61c9\u8a72\u79fb\u52d5\u5230\u8ecc\u9053\u7684\u672b\u7aef\u4e26 \"single touch\uff08\u4e00\u89f8\u5373\u505c\uff09\"--\u4e5f\u5c31\u662f\u8aaa\uff0c\u4e0d\u61c9\u8a72\u6709 \"\u5494\u5693 \"\u6216 \"\u7830 \"\u7684\u8072\u97f3\u3002(\u5982\u679c\u5728\u6700\u5927\u9748\u654f\u5ea6\u4e0b\u6709\u649e\u64ca\u6216\u9ede\u9078\u8072\uff0c\u90a3\u9ebc\u6b78\u4f4d\u901f\u5ea6\u53ef\u80fd\u592a\u4f4e\uff0c\u9a45\u52d5\u96fb\u6d41\u53ef\u80fd\u592a\u4f4e\uff0c\u6216\u8005\u8a72\u8ef8\u53ef\u80fd\u4e0d\u9069\u5408\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002\uff09 \u4e0b\u4e00\u6b65\u662f\u518d\u6b21\u6301\u7e8c\u79fb\u52d5\u6ed1\u584a\u5230\u9760\u8fd1\u8ecc\u9053\u4e2d\u5fc3\u7684\u4f4d\u7f6e\uff0c\u964d\u4f4e\u9748\u654f\u5ea6\uff0c\u4e26\u57f7\u884c SET_TMC_FIELD \u548c G28 X0 \u547d\u4ee4 - \u9019\u6b21\u7684\u76ee\u6a19\u662f\u627e\u5230\u6700\u4f4e\u7684\u9748\u654f\u5ea6\uff0c\u4ecd\u80fd\u4f7f\u6ed1\u584a\u6210\u529f\u5730 \"\u4e00\u89f8\u5373\u505c\"\u6b78\u4f4d\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u7576\u63a5\u89f8\u5230\u8ecc\u9053\u7684\u672b\u7aef\u6642\uff0c\u5b83\u4e0d\u6703\u767c\u51fa\"\u7830 \"\u6216 \"\u5494\"\u7684\u8072\u97f3\u3002\u6ce8\u610f\u627e\u5230\u7684\u503c\u662f minimum_sensitivity \u3002","title":"\u627e\u5230\u6700\u4f4e\u7684\u9748\u654f\u5ea6\uff0c\u53ea\u9700\u4e00\u6b21\u63a5\u89f8\u5c31\u80fd\u6b78\u4f4d"},{"location":"TMC_Drivers.html#printercfg_1","text":"\u5728\u627e\u5230 maximum_sensitivity \u548c minimum_sensitivity \u540e\uff0c\u8a08\u7b97\u5f97\u5230\u63a8\u85a6\u7684\u9748\u654f\u5ea6\u70ba minimum_sensitivity +(maximum_sensitivity-minimum_sensitivity)/3 \u3002\u63a8\u85a6\u7684\u9748\u654f\u5ea6\u61c9\u8a72\u5728\u6700\u5c0f\u503c\u548c\u6700\u5927\u503c\u4e4b\u9593\uff0c\u4f46\u7565\u5fae\u63a5\u8fd1\u6700\u5c0f\u503c\u3002\u5c07\u6700\u7d42\u503c\u56db\u6368\u4e94\u5165\u5230\u6700\u8fd1\u7684\u6574\u6578\u503c\u3002 \u5c0d\u65bcTMC2209\uff0c\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a driver_SGTHRS \uff0c\u5c0d\u65bc\u5176\u4ed6TMC\u9a45\u52d5\uff0c\u5728\u914d\u7f6e\u4e2d\u8a2d\u5b9a driver_SGT \u3002 \u5982\u679c maximum_sensitivity \u548c minimum_sensitivity \u4e4b\u9593\u7684\u7bc4\u570d\u5f88\u5c0f\uff08\u4f8b\u5982\uff0c\u5c0f\u65bc5\uff09\uff0c\u90a3\u9ebc\u53ef\u80fd\u5c0e\u81f4\u4e0d\u7a69\u5b9a\u7684\u6b78\u4f4d\u3002\u66f4\u5feb\u7684\u6b78\u4f4d\u901f\u5ea6\u53ef\u4ee5\u64f4\u5927\u7bc4\u570d\uff0c\u4f7f\u64cd\u4f5c\u66f4\u52a0\u7a69\u5b9a\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u5c0d\u9a45\u52d5\u96fb\u6d41\u3001\u6b78\u4f4d\u901f\u5ea6\u505a\u4e86\u4efb\u4f55\u6539\u8b8a\uff0c\u6216\u8005\u5c0d\u5370\u8868\u6a5f\u786c\u9ad4\u505a\u4e86\u660e\u986f\u7684\u6539\u8b8a\uff0c\u90a3\u9ebc\u5c31\u9700\u8981\u518d\u6b21\u57f7\u884c\u9019\u500b\u8abf\u6574\u904e\u7a0b\u3002","title":"\u66f4\u65b0printer.cfg\u4e2d\u7684\u9748\u654f\u5ea6\u503c"},{"location":"TMC_Drivers.html#_9","text":"\u5728\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u5b8c\u6210\u5f8c\uff0c\u6ed1\u8eca\u5c07\u9802\u5230\u5c0e\u8ecc\u7684\u672b\u7aef\uff0c\u6b65\u9032\u5668\u5c07\u6301\u7e8c\u5c0d\u6846\u67b6\u65bd\u52a0\u529b\uff0c\u76f4\u5230\u6ed1\u8eca\u79fb\u958b\u3002\u6700\u597d\u5efa\u7acb\u4e00\u500b\u5b8f\u4f86\u4f7f\u8ef8\u6b78\u4f4d\uff0c\u4e26\u7acb\u5373\u5c07\u5c0f\u8eca\u5f9e\u8ecc\u9053\u7684\u672b\u7aef\u79fb\u958b\u3002 \u5728\u958b\u59cb\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u4e4b\u524d\uff0c\u5b8f\u6700\u597d\u66ab\u505c\u81f3\u5c112\u79d2\uff08\u6216\u78ba\u4fdd\u6b65\u9032\u57282\u79d2\u5167\u6c92\u6709\u79fb\u52d5\uff09\u3002\u5982\u679c\u6c92\u6709\u5ef6\u9072\uff0c\u9a45\u52d5\u5668\u7684\u5167\u90e8\u5931\u901f\u6a19\u8a8c\u6709\u53ef\u80fd\u5728\u4e4b\u524d\u7684\u79fb\u52d5\u4e2d\u88ab\u8a2d\u5b9a\u4e86\u3002 \u4f7f\u7528\u5b8f\u5728\u6b78\u4f4d\u524d\u8a2d\u5b9a\u9a45\u52d5\u96fb\u6d41\uff0c\u4e26\u5728\u6ed1\u8eca\u79fb\u958b\u5f8c\u8a2d\u7f6e\u65b0\u7684\u96fb\u6d41\uff0c\u4e5f\u6703\u5f88\u6709\u7528\u3002 \u4e00\u500b\u5b8f\u7684\u4f8b\u5b50\u5982\u4e0b\uff1a [gcode_macro SENSORLESS_HOME_X] gcode: {% set HOME_CUR = 0.700 %} {% set driver_config = printer.configfile.settings['tmc2209 stepper_x'] %} {% set RUN_CUR = driver_config.run_current %} # \u70ba\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u8a2d\u5b9a\u96fb\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={HOME_CUR} # \u66ab\u505c\uff0c\u4ee5\u78ba\u4fdd\u9a45\u52d5\u5668\u5931\u901f\u6a19\u8a8c\u88ab\u6e05\u9664 G4 P2000 # \u6b78\u4f4d G28 X0 # \u79fb\u958b G90 G1 X5 F1200 # \u5217\u5370\u904e\u7a0b\u4e2d\u8a2d\u5b9a\u96fb\u6d41 SET_TMC_CURRENT STEPPER=stepper_x CURRENT={RUN_CUR} \u7522\u751f\u7684\u5b8f\u53ef\u4ee5\u5f9e homing_override\u914d\u7f6e\u90e8\u5206 \u6216 START_PRINT\u5b8f \u4e2d\u547c\u53eb\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u6b78\u4f4d\u671f\u9593\u7684\u9a45\u52d5\u96fb\u6d41\u767c\u751f\u8b8a\u5316\uff0c\u5247\u61c9\u91cd\u65b0\u57f7\u884c\u8abf\u6574\u904e\u7a0b\u3002","title":"\u6b78\u4f4d\u6642\u4f7f\u7528\u5b8f"},{"location":"TMC_Drivers.html#corexy","text":"\u53ef\u4ee5\u5728CoreXY\u5370\u8868\u6a5f\u7684X\u548cY\u884c\u8eca\u4e0a\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u3002Klipper\u4f7f\u7528 [stepper_x] \u6b65\u9032\u5668\u4f86\u6aa2\u6e2cX\u6ed1\u8eca\u6b78\u4f4d\u6642\u7684\u5931\u901f\uff0c\u4f7f\u7528 [stepper_y] \u6b65\u9032\u5668\u4f86\u6aa2\u6e2cY\u6ed1\u8eca\u6b78\u4f4d\u6642\u7684\u5931\u901f\u3002 \u4f7f\u7528\u4e0a\u8ff0\u7684\u8abf\u8ae7\u6307\u5357\uff0c\u70ba\u6bcf\u500b\u6ed1\u8eca\u627e\u5230\u5408\u9069\u7684 \"\u5931\u901f\u9748\u654f\u5ea6\"\uff0c\u4f46\u8981\u6ce8\u610f\u4ee5\u4e0b\u9650\u5236\uff1a \u7576\u5728CoreXY\u4e0a\u4f7f\u7528\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u6642\uff0c\u78ba\u4fdd\u6c92\u6709\u70ba\u4efb\u4f55\u4e00\u500b\u6b65\u9032\u96fb\u6a5f\u914d\u7f6e hold_current \u3002 \u5728\u8abf\u6574\u6642\uff0c\u78ba\u4fddX\u548cY\u8eca\u67b6\u5728\u6bcf\u6b21\u6b78\u4f4d\u5617\u8a66\u524d\u90fd\u63a5\u8fd1\u5176\u8ecc\u9053\u7684\u4e2d\u5fc3\u3002 \u8abf\u6574\u5b8c\u6210\u5f8c\uff0c\u7576X\u548cY\u8ef8\u6b78\u4f4d\u6642\uff0c\u4f7f\u7528\u5b8f\u4f86\u78ba\u4fdd\u4e00\u500b\u8ef8\u9996\u5148\u88ab\u6b78\u4f4d\uff0c\u7136\u5f8c\u5c07\u8a72\u6ed1\u8eca\u9060\u96e2\u8ef8\u7684\u6975\u9650\uff0c\u505c\u9813\u81f3\u5c112\u79d2\uff0c\u7136\u5f8c\u958b\u59cb\u53e6\u4e00\u500b\u6ed1\u8eca\u7684\u6b78\u4f4d\u3002\u9060\u96e2\u8ef8\u7aef\u9ede\u7684\u79fb\u52d5\u53ef\u4ee5\u907f\u514d\u4e00\u500b\u8ef8\u88ab\u6b78\u4f4d\uff0c\u800c\u53e6\u4e00\u500b\u8ef8\u9802\u5728\u8ef8\u7684\u6975\u9650\u4e0a\uff08\u9019\u53ef\u80fd\u4f7f\u5931\u901f\u6aa2\u6e2c\u767c\u751f\u504f\u5dee\uff09\u3002\u66ab\u505c\u662f\u5fc5\u8981\u7684\uff0c\u4ee5\u78ba\u4fdd\u9a45\u52d5\u5668\u7684\u5931\u901f\u6a19\u8a8c\u5728\u518d\u6b21\u6b78\u4f4d\u4e4b\u524d\u88ab\u6e05\u9664\u3002","title":"\u5728CoreXY\u4e0a\u9032\u884c\u7121\u611f\u6e2c\u5668\u6b78\u4f4d\u7684\u6280\u5de7"},{"location":"TMC_Drivers.html#_10","text":"` DUMP_TMC \u547d\u4ee4 \u662f\u914d\u7f6e\u548c\u8a3a\u65b7\u9a45\u52d5\u7a0b\u5f0f\u7684\u6709\u6548\u5de5\u5177\u3002\u5b83\u5c07\u5831\u544a\u6240\u6709\u7531Klipper\u914d\u7f6e\u7684\u6b04\u4f4d\uff0c\u4ee5\u53ca\u6240\u6709\u53ef\u4ee5\u5f9e\u9a45\u52d5\u4e2d\u67e5\u8a62\u5230\u7684\u6b04\u4f4d\u3002 \u6240\u6709\u5831\u544a\u7684\u6b04\u4f4d\u90fd\u5b9a\u7fa9\u5728\u9a45\u52d5\u5668\u7684Trinamic\u6578\u64da\u624b\u518a\u4e2d\u3002\u9019\u4e9b\u6578\u64da\u8868\u53ef\u4ee5\u5728 Trinamic\u7db2\u7ad9 \u4e0a\u627e\u5230\u3002\u8acb\u7372\u53d6\u4e26\u6aa2\u8996\u9a45\u52d5\u5668\u7684Trinamic\u6578\u64da\u624b\u518a\u4f86\u89e3\u91cbDUMP_TMC\u7684\u7d50\u679c\u3002","title":"\u67e5\u8a62\u548c\u8a3a\u65b7\u9a45\u52d5\u7a0b\u5f0f\u8a2d\u5b9a"},{"location":"TMC_Drivers.html#driver_xxx","text":"Klipper\u652f\u63f4\u4f7f\u7528 driver_XXX \u8a2d\u5b9a\u4f86\u914d\u7f6e\u8a31\u591a\u5e95\u5c64\u9a45\u52d5\u7a0b\u5f0f\u6b04\u4f4d\u3002 TMC\u9a45\u52d5\u914d\u7f6e\u53c3\u8003 \u6709\u6bcf\u7a2e\u578b\u5225\u7684\u9a45\u52d5\u53ef\u7528\u6b04\u4f4d\u7684\u5b8c\u6574\u5217\u8868\u3002 \u6b64\u5916\uff0c\u5e7e\u4e4e\u6240\u6709\u7684\u6b04\u4f4d\u90fd\u53ef\u4ee5\u5728\u57f7\u884c\u6642\u4f7f\u7528 SET_TMC_FIELD\u547d\u4ee4 \u9032\u884c\u4fee\u6539\u3002 \u6bcf\u4e00\u500b\u6b04\u4f4d\u90fd\u5728\u9a45\u52d5\u5668\u7684Trinamic\u6578\u64da\u624b\u518a\u4e2d\u6709\u5b9a\u7fa9\u3002\u9019\u4e9b\u6578\u64da\u8868\u53ef\u4ee5\u5728 Trinamic\u7db2\u7ad9 \u4e0a\u627e\u5230\u3002 \u8acb\u6ce8\u610f\uff0cTrinamic\u7684\u6578\u64da\u8868\u4e2d\uff0c\u6709\u6642\u4e00\u4e9b\u8a5e\u53ef\u80fd\u5c0e\u81f4\u5728\u9ad8\u5c64\u8a2d\u5b9a\uff08\u5982 \"hysteresis end\"\uff09\u548c\u5e95\u5c64\u6b04\u4f4d\u503c\uff08\u5982 \"HEND\"\uff09\u7684\u6df7\u4e82\u3002\u5728Klipper\u4e2d\uff0c driver_XXX \u548cSET_TMC_FIELD\u7e3d\u662f\u8a2d\u5b9a\u5be6\u969b\u5beb\u5165\u9a45\u52d5\u5668\u7684\u5e95\u5c64\u6b21\u6b04\u4f4d\u503c\u3002\u4f8b\u5982\uff0c\u5982\u679cTrinamic\u7684\u6578\u64da\u8868\u6307\u51fa\uff0c\u9700\u8981\u5c073\u7684\u503c\u5beb\u5165HEND\u6b04\u4f4d\uff0c\u4ee5\u4f7f\u5f97 \"hysteresis end\"\u7b49\u65bc0\uff0c\u90a3\u9ebc\u8a2d\u5b9a driver_HEND=3 \u4f7f\u5f97\u9ad8\u5c64\u7372\u5f970\u7684\u503c\u3002","title":"\u914d\u7f6edriver_XXX\u8a2d\u5b9a"},{"location":"TMC_Drivers.html#_11","text":"","title":"\u5e38\u898b\u554f\u984c"},{"location":"TMC_Drivers.html#pressure-advancestealthchop","text":"\u8a31\u591a\u4eba\u6210\u529f\u5730\u5728 \"stealthChop \"\u6a21\u5f0f\u4e0b\u4f7f\u7528\u4e86Klipper\u7684\u58d3\u529b\u63a8\u9032\u3002Klipper\u5be6\u73fe\u4e86 \u5e73\u6ed1\u58d3\u529b\u63a8\u9032 \uff0c\u5b83\u4e0d\u6703\u5f15\u5165\u4efb\u4f55\u77ac\u6642\u901f\u5ea6\u8b8a\u5316\u3002 \u7136\u800c\uff0c\"stealthChop \"\u6a21\u5f0f\u53ef\u80fd\u5c0e\u81f4\u8f03\u4f4e\u7684\u96fb\u6a5f\u626d\u77e9\u548c/\u6216\u7522\u751f\u8f03\u9ad8\u7684\u96fb\u6a5f\u71b1\u91cf\u3002\u5c0d\u65bc\u4f60\u7684\u7279\u5b9a\u5370\u8868\u6a5f\u4f86\u8aaa\uff0c\u5b83\u53ef\u80fd\u662f\u4e5f\u53ef\u80fd\u4e0d\u662f\u4e00\u500b\u5408\u9069\u7684\u6a21\u5f0f\u3002","title":"\u6211\u53ef\u4ee5\u5728\u6709\u58d3\u529b\u63a8\u9032\uff08pressure advance\uff09\u7684\u64e0\u51fa\u6a5f\u4e0a\u4f7f\u7528stealthChop \u6a21\u5f0f\u55ce\uff1f"},{"location":"TMC_Drivers.html#unable-to-read-tmc-uart-stepper_x-register-ifcnt","text":"\u9019\u7a2e\u60c5\u6cc1\u767c\u751f\u5728Klipper\u7121\u6cd5\u8207tmc2208\u6216tmc2209\u9a45\u52d5\u901a\u8a0a\u6642\u3002 \u78ba\u4fdd\u96fb\u6a5f\u96fb\u6e90\u555f\u7528\uff0c\u56e0\u70ba\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u5728\u8207\u5fae\u63a7\u5236\u5668\u901a\u8a0a\u4e4b\u524d\u4e00\u822c\u9700\u8981\u78ba\u4fdd\u96fb\u6a5f\u5148\u4e0a\u96fb\u3002 \u5982\u679c\u9019\u500b\u932f\u8aa4\u662f\u5728\u7b2c\u4e00\u6b21\u5237\u5bebKlipper\u540e\u767c\u751f\u7684\uff0c\u90a3\u9ebc\u6b65\u9032\u9a45\u52d5\u5668\u53ef\u80fd\u8655\u5728\u4e00\u500b\u72c0\u614b\uff0c\u6b64\u72c0\u614b\u8207\u525b\u525b\u5beb\u5165\u7684Klipper\u4e0d\u76f8\u5bb9\u3002\u8981\u91cd\u7f6e\u8a72\u72c0\u614b\uff0c\u8acb\u5c07\u5370\u8868\u6a5f\u7684\u6240\u6709\u96fb\u6e90\u62d4\u6389\u5e7e\u79d2\u9418\uff08\u7269\u7406\u4e0a\u62d4\u6389USB\u63d2\u982d\u548c\u96fb\u6e90\u63d2\u982d\uff09\u3002 \u5426\u5247\uff0c\u9019\u7a2e\u932f\u8aa4\u901a\u5e38\u662f\u7531\u65bcUART\u5f15\u8173\u63a5\u7dda\u4e0d\u6b63\u78ba\u6216Klipper\u914d\u7f6e\u7684UART\u5f15\u8173\u8a2d\u5b9a\u4e0d\u6b63\u78ba\u9020\u6210\u7684\u3002","title":"\u6211\u4e00\u76f4\u5f97\u5230 \"Unable to read tmc uart 'stepper_x' register IFCNT \"\u7684\u932f\u8aa4\uff1f"},{"location":"TMC_Drivers.html#unable-to-write-tmc-spi-stepper_x-register","text":"\u7576Klipper\u7121\u6cd5\u8207tmc2130\u6216tmc5160\u9a45\u52d5\u901a\u8a0a\u6642\u5c31\u6703\u51fa\u73fe\u9019\u7a2e\u60c5\u6cc1\u3002 \u78ba\u4fdd\u96fb\u6a5f\u96fb\u6e90\u555f\u7528\uff0c\u56e0\u70ba\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u5728\u8207\u5fae\u63a7\u5236\u5668\u901a\u8a0a\u4e4b\u524d\u4e00\u822c\u9700\u8981\u78ba\u4fdd\u96fb\u6a5f\u5148\u4e0a\u96fb\u3002 \u5426\u5247\uff0c\u9019\u7a2e\u932f\u8aa4\u901a\u5e38\u662f\u7531\u65bcSPI\u63a5\u7dda\u4e0d\u6b63\u78ba\u3001Klipper\u5c0dSPI\u8a2d\u5b9a\u7684\u914d\u7f6e\u4e0d\u6b63\u78ba\u6216SPI\u532f\u6d41\u6392\u4e0a\u7684\u88dd\u7f6e\u914d\u7f6e\u4e0d\u5b8c\u6574\u9020\u6210\u7684\u3002 \u8acb\u6ce8\u610f\uff0c\u5982\u679c\u9a45\u52d5\u5668\u662f\u5728\u639b\u591a\u500b\u88dd\u7f6e\u5171\u4eab\u7684SPI\u532f\u6d41\u6392\u4e0a\uff0c\u90a3\u9ebc\u4e00\u5b9a\u8981\u5728Klipper\u4e2d\u5b8c\u5168\u914d\u7f6e\u8a72\u5171\u4eabSPI\u532f\u6d41\u6392\u4e0a\u7684\u6bcf\u500b\u88dd\u7f6e\u3002\u5982\u679c\u5171\u4eabSPI\u532f\u6d41\u6392\u4e0a\u7684\u4e00\u500b\u88dd\u7f6e\u6c92\u6709\u88ab\u914d\u7f6e\uff0c\u90a3\u9ebc\u5b83\u53ef\u80fd\u6703\u932f\u8aa4\u5730\u97ff\u61c9\u4e0d\u662f\u70ba\u5b83\u6e96\u5099\u7684\u547d\u4ee4\uff0c\u4e26\u7834\u58de\u8207\u76ee\u6a19\u88dd\u7f6e\u7684\u901a\u8a0a\u3002\u5982\u679c\u5728\u5171\u4eab\u7684SPI\u532f\u6d41\u6392\u4e0a\u6709\u4e0d\u80fd\u5728Klipper\u4e2d\u914d\u7f6e\u7684\u88dd\u7f6e\uff0c\u90a3\u9ebc\u4f7f\u7528 static_digital_output config section \u5c07\u672a\u4f7f\u7528\u7684\u88dd\u7f6e\u7684CS\u5f15\u8173\u8a2d\u5b9a\u70ba\u9ad8\u96fb\u5e73\uff08\u9019\u6a23\u5b83\u5c31\u4e0d\u6703\u8a66\u5716\u4f7f\u7528SPI\u532f\u6d41\u6392\uff09\u3002\u96fb\u8def\u677f\u7684\u539f\u7406\u5716\u901a\u5e38\u662f\u4e00\u500b\u6709\u7528\u7684\u53c3\u8003\uff0c\u539f\u7406\u5716\u4e0a\u53ef\u4ee5\u627e\u5230\u54ea\u4e9b\u88dd\u7f6e\u639b\u5728SPI\u532f\u6d41\u6392\u4e0a\u4ee5\u53ca\u5b83\u5011\u7684\u76f8\u95dc\u5f15\u8173\u3002","title":"\u6211\u4e00\u76f4\u5f97\u5230 \"Unable to write tmc spi 'stepper_x' register ...\"\u7684\u932f\u8aa4\uff1f"},{"location":"TMC_Drivers.html#tmc-reports-error","text":"\u9019\u578b\u5225\u7684\u932f\u8aa4\u8868\u660eTMC\u9a45\u52d5\u5668\u6aa2\u6e2c\u5230\u4e86\u4e00\u500b\u554f\u984c\uff0c\u4e26\u4e14\u5df2\u7d93\u81ea\u6211\u7981\u7528\u3002\u4e5f\u5c31\u662f\u8aaa\uff0c\u9a45\u52d5\u5668\u5df2\u7d93\u505c\u6b62\u4e86\u4fdd\u6301\u4f4d\u7f6e\uff0c\u4e26\u5ffd\u7565\u4e86\u79fb\u52d5\u547d\u4ee4\u3002\u5982\u679cKlipper\u6aa2\u6e2c\u5230\u4e00\u500b\u555f\u7528\u7684\u9a45\u52d5\u5668\u5df2\u7d93\u81ea\u6211\u7981\u7528\uff0c\u5b83\u5c31\u6703\u628a\u5370\u8868\u6a5f\u5207\u63db\u5230 \"\u95dc\u9589 \"\u72c0\u614b\u3002 \u4e5f\u6709\u53ef\u80fd\u7531\u65bcSPI\u932f\u8aa4\u5c0e\u81f4\u7121\u6cd5\u8207\u9a45\u52d5\u5668\u901a\u8a0a\u800c\u767c\u751f TMC reports error \u5c0e\u81f4\u7684\u95dc\u6a5f\uff08\u5728tmc2130\u3001tmc5160\u6216tmc2660\u4e0a\uff09\u3002\u5982\u679c\u767c\u751f\u9019\u7a2e\u60c5\u6cc1\uff0c\u5831\u544a\u7684\u9a45\u52d5\u5668\u72c0\u614b\u901a\u5e38\u6703\u986f\u793a \"00000000 \"\u6216 \"ffffff\"--\u4f8b\u5982\uff1a TMC reports error: DRV_STATUS: ffffffff ... \u6216\u8005 TMC reports error: READRSP@RDSEL2: 00000000 ... \u3002\u9019\u6a23\u7684\u6545\u969c\u53ef\u80fd\u662f\u7531\u65bcSPI\u7684\u63a5\u7dda\u554f\u984c\uff0c\u4e5f\u53ef\u80fd\u662f\u7531\u65bcTMC\u9a45\u52d5\u5668\u7684\u81ea\u5fa9\u4f4d\u6216\u6545\u969c\u5c0e\u81f4\u7684\u3002 \u4e00\u4e9b\u5e38\u898b\u7684\u932f\u8aa4\u548c\u8a3a\u65b7\u7684\u6280\u5de7\uff1a","title":"\u70ba\u4ec0\u9ebc\u6211\u5f97\u5230\u4e00\u500b \"TMC reports error: ...\"\u932f\u8aa4\uff1f"},{"location":"TMC_Drivers.html#tmc-ot1overtemperror","text":"\u9019\u8868\u660e\u96fb\u6a5f\u9a45\u52d5\u5668\u56e0\u6eab\u5ea6\u904e\u9ad8\u800c\u81ea\u6211\u7981\u7528\u3002\u5178\u578b\u7684\u89e3\u6c7a\u65b9\u6848\u662f\u964d\u4f4e\u6b65\u9032\u96fb\u6a5f\u7684\u96fb\u6d41\uff0c\u589e\u52a0\u6b65\u9032\u96fb\u6a5f\u9a45\u52d5\u5668\u7684\u51b7\u537b\uff0c\u548c/\u6216\u589e\u52a0\u6b65\u9032\u96fb\u6a5f\u7684\u51b7\u537b\u3002","title":"TMC \u5831\u544a\u932f\u8aa4\uff1a ... ot=1(OvertempError!)"},{"location":"TMC_Drivers.html#tmc-shorttognd-lowsideshort","text":"\u9019\u8868\u660e\u9a45\u52d5\u5668\u5df2\u81ea\u884c\u7981\u7528\uff0c\u56e0\u70ba\u5b83\u6aa2\u6e2c\u5230\u901a\u904e\u9a45\u52d5\u5668\u7684\u96fb\u6d41\u975e\u5e38\u9ad8\u3002\u9019\u53ef\u80fd\u8868\u660e\u9023\u7dda\u5230\u6b65\u9032\u96fb\u6a5f\u6216\u8005\u90e8\u4ef6\u96fb\u6a5f\u5167\u90e8\u7684\u96fb\u7dda\u9b06\u52d5\u6216\u77ed\u8def\u4e86\u3002 \u5982\u679c\u4f7f\u7528stealthChop\u6a21\u5f0f\uff0c\u4e26\u4e14TMC\u9a45\u52d5\u5668\u4e0d\u80fd\u6e96\u78ba\u5730\u9810\u6e2c\u96fb\u6a5f\u7684\u6a5f\u68b0\u8ca0\u8f09\uff0c\u4e5f\u53ef\u80fd\u767c\u751f\u9019\u7a2e\u932f\u8aa4\u3002(\u5982\u679c\u9a45\u52d5\u5668\u9810\u6e2c\u4e0d\u6e96\u78ba\uff0c\u90a3\u9ebc\u5b83\u53ef\u80fd\u8f38\u51fa\u904e\u9ad8\u96fb\u6d41\u5230\u96fb\u6a5f\uff0c\u4e26\u89f8\u767c\u81ea\u5df1\u7684\u904e\u96fb\u6d41\u6aa2\u6e2c)\u3002\u8981\u6e2c\u8a66\u9019\u500b\uff0c\u8acb\u7981\u7528stealthChop\u6a21\u5f0f\uff0c\u518d\u6aa2\u67e5\u932f\u8aa4\u662f\u5426\u7e7c\u7e8c\u767c\u751f\u3002","title":"TMC \u5831\u544a\u932f\u8aa4: ... ShortToGND \u6216\u8457 LowSideShort"},{"location":"TMC_Drivers.html#tmc-reset1reset-cs_actual0reset-se0reset","text":"\u9019\u8868\u660e\u9a45\u52d5\u5668\u5728\u5217\u5370\u904e\u7a0b\u4e2d\u81ea\u6211\u5fa9\u4f4d\u3002\u9019\u53ef\u80fd\u662f\u7531\u65bc\u96fb\u58d3\u6216\u63a5\u7dda\u554f\u984c\u5c0e\u81f4\u7684\u3002","title":"TMC\u5831\u544a\u932f\u8aa4\uff1a... reset=1(Reset) \u6216CS_ACTUAL=0(Reset?) \u6216SE=0(Reset?)"},{"location":"TMC_Drivers.html#tmc-uv_cp1undervoltage","text":"\u9019\u8868\u660e\u9a45\u52d5\u5668\u6aa2\u6e2c\u5230\u4e86\u4e00\u500b\u96fb\u58d3\u4f4e\u4e8b\u4ef6\uff0c\u4e26\u5df2\u81ea\u884c\u7981\u7528\u3002\u9019\u53ef\u80fd\u662f\u7531\u65bc\u63a5\u7dda\u6216\u96fb\u6e90\u554f\u984c\u5c0e\u81f4\u7684\u3002","title":"TMC \u5831\u544a\u932f\u8aa4\uff1a ... uv_cp=1(Undervoltage!)"},{"location":"TMC_Drivers.html#spreadcyclecoolstep","text":"Trinamic\u7db2\u7ad9 \u6709\u95dc\u65bc\u914d\u7f6e\u9a45\u52d5\u7a0b\u5f0f\u7684\u6307\u5357\u3002\u9019\u4e9b\u6307\u5357\u901a\u5e38\u662f\u5c08\u696d\u3001\u5e95\u5c64\u4e14\u53ef\u80fd\u9700\u8981\u5c08\u7528\u7684\u786c\u9ad4\u3002\u4e0d\u7ba1\u600e\u9ebc\u8aaa\uff0c\u5b83\u5011\u662f\u6700\u597d\u7684\u8cc7\u8a0a\u4f86\u6e90\u3002","title":"\u6211\u5982\u4f55\u5728\u6211\u7684\u9a45\u52d5\u5668\u4e0a\u8abf\u6574 spreadCycle/coolStep\u7b49\u6a21\u5f0f\uff1f"},{"location":"TSL1401CL_Filament_Width_Sensor.html","text":"TSL1401CL \u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668 \u00b6 \u672c\u6587\u4ef6\u63cf\u8ff0\u4e86\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\u4e3b\u6a5f\u6a21\u7d44\u3002\u7528\u65bc\u958b\u767c\u6b64\u4e3b\u6a5f\u6a21\u7d44\u7684\u786c\u9ad4\u57fa\u65bc TSL1401CL \u7dda\u6027\u611f\u6e2c\u5668\u9663\u5217\uff0c\u4f46\u8a72\u6a21\u7d44\u53ef\u4ee5\u8207\u4efb\u4f55\u5177\u6709\u6a21\u64ec\u8f38\u51fa\u7684\u611f\u6e2c\u5668\u9663\u5217\u4e00\u8d77\u4f7f\u7528\u3002\u60a8\u53ef\u4ee5\u5728 Thingiverse \u627e\u5230\u53ef\u7528\u7684\u8a2d\u8a08\u3002 \u8981\u4f7f\u7528\u57fa\u65bc\u611f\u6e2c\u5668\u9663\u5217\u7684\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\uff0c\u8acb\u53c3\u95b1 \u914d\u7f6e\u53c3\u8003 \u548c G-Code documentation \u3002 \u5b83\u5982\u4f55\u904b\u4f5c\uff1f \u00b6 \u6839\u64da\u611f\u6e2c\u5668\u7522\u751f\u6a21\u64ec\u8f38\u51fa\u8a08\u7b97\u7684\u8017\u6750\u5bec\u5ea6\u3002\u6aa2\u6e2c\u5230\u7684\u8017\u6750\u5bec\u5ea6\u548c\u8f38\u51fa\u96fb\u58d3\u76f8\u5c0d\u61c9\uff08\u4f8b\u5982\uff1a1.65v\u30011.70v\u30013.0v\uff09\u3002\u4e3b\u6a5f\u6a21\u7d44\u76e3\u6e2c\u96fb\u58d3\u8b8a\u5316\u4e26\u8abf\u6574\u64e0\u51fa\u500d\u7387\u3002 \u6ce8\u610f\uff1a \u00b6 \u9810\u8a2d\u4ee5 10 \u6beb\u7c73\u7684\u9593\u9694\u5c0d\u611f\u6e2c\u5668\u9032\u884c\u8b80\u6578\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u901a\u904e\u7de8\u8f2f filament_width_sensor.py \u6a94\u6848\u4e2d\u7684 MEASUREMENT_INTERVAL_MM \u6a94\u6848\u4e2d\u7684\u53c3\u6578\u4f86\u6539\u8b8a\u9019\u4e00\u8a2d\u5b9a\u3002","title":"TSL1401CL \u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668"},{"location":"TSL1401CL_Filament_Width_Sensor.html#tsl1401cl","text":"\u672c\u6587\u4ef6\u63cf\u8ff0\u4e86\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\u4e3b\u6a5f\u6a21\u7d44\u3002\u7528\u65bc\u958b\u767c\u6b64\u4e3b\u6a5f\u6a21\u7d44\u7684\u786c\u9ad4\u57fa\u65bc TSL1401CL \u7dda\u6027\u611f\u6e2c\u5668\u9663\u5217\uff0c\u4f46\u8a72\u6a21\u7d44\u53ef\u4ee5\u8207\u4efb\u4f55\u5177\u6709\u6a21\u64ec\u8f38\u51fa\u7684\u611f\u6e2c\u5668\u9663\u5217\u4e00\u8d77\u4f7f\u7528\u3002\u60a8\u53ef\u4ee5\u5728 Thingiverse \u627e\u5230\u53ef\u7528\u7684\u8a2d\u8a08\u3002 \u8981\u4f7f\u7528\u57fa\u65bc\u611f\u6e2c\u5668\u9663\u5217\u7684\u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668\uff0c\u8acb\u53c3\u95b1 \u914d\u7f6e\u53c3\u8003 \u548c G-Code documentation \u3002","title":"TSL1401CL \u8017\u6750\u5bec\u5ea6\u611f\u6e2c\u5668"},{"location":"TSL1401CL_Filament_Width_Sensor.html#_1","text":"\u6839\u64da\u611f\u6e2c\u5668\u7522\u751f\u6a21\u64ec\u8f38\u51fa\u8a08\u7b97\u7684\u8017\u6750\u5bec\u5ea6\u3002\u6aa2\u6e2c\u5230\u7684\u8017\u6750\u5bec\u5ea6\u548c\u8f38\u51fa\u96fb\u58d3\u76f8\u5c0d\u61c9\uff08\u4f8b\u5982\uff1a1.65v\u30011.70v\u30013.0v\uff09\u3002\u4e3b\u6a5f\u6a21\u7d44\u76e3\u6e2c\u96fb\u58d3\u8b8a\u5316\u4e26\u8abf\u6574\u64e0\u51fa\u500d\u7387\u3002","title":"\u5b83\u5982\u4f55\u904b\u4f5c\uff1f"},{"location":"TSL1401CL_Filament_Width_Sensor.html#_2","text":"\u9810\u8a2d\u4ee5 10 \u6beb\u7c73\u7684\u9593\u9694\u5c0d\u611f\u6e2c\u5668\u9032\u884c\u8b80\u6578\u3002\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u901a\u904e\u7de8\u8f2f filament_width_sensor.py \u6a94\u6848\u4e2d\u7684 MEASUREMENT_INTERVAL_MM \u6a94\u6848\u4e2d\u7684\u53c3\u6578\u4f86\u6539\u8b8a\u9019\u4e00\u8a2d\u5b9a\u3002","title":"\u6ce8\u610f\uff1a"},{"location":"Using_PWM_Tools.html","text":"\u4f7f\u7528 PWM \u5de5\u5177 \u00b6 \u8a72\u6587\u4ef6\u4ecb\u7d39\u5982\u4f55\u914d\u7f6e output_pin \u548c\u5b8f\u547d\u4ee4\u4ee5\u5be6\u73fe\u4f7f\u7528 PWM \u8a0a\u865f\u5c0d\u9433\u5c04\u5668\u6216\u4e3b\u8ef8\u9032\u884c\u63a7\u5236\u3002 \u5b83\u5982\u4f55\u904b\u4f5c\uff1f \u00b6 \u901a\u904e\u91cd\u7528\u5217\u5370\u982d\u6a21\u578b\u98a8\u6247(part fan)\u7684PWM\u8f38\u51fa\u8a0a\u865f\uff0c\u6211\u5011\u53ef\u4ee5\u5be6\u73fe\u5c0d\u9433\u5c04\u982d\u6216\u8f49\u8ef8\u7684\u63a7\u5236\u3002\u5c0d\u4f7f\u7528\u53ef\u66f4\u63db\u5217\u5370\u982d\u7684\u88dd\u7f6e\uff0c\u5982E3D toolchanger \u6216\u5176\u4ed6DIY\u5c08\u6848\uff0c\u9019\u662f\u5341\u5206\u6709\u7528\u7684\u529f\u80fd\u3002\u901a\u5e38\uff0ccam\u8edf\u9ad4\uff0c\u4f8b\u5982LaserWeb\uff0c\u6703\u4f7f\u7528 M3-M5 \u547d\u4ee4\uff0c\u5b83\u5011\u5206\u5225\u662f \u4e3b\u8ef8\u9806\u6642\u91dd\u8f49\u901f spindle speed CW ( M3 S[0-255] )\uff0c \u4e3b\u8ef8\u9006\u6642\u91dd\u8f49\u901f spindle speed CCW ( M4 S[0-255] ) \u548c\u8f49\u8ef8\u505c\u6b62 spindle stop ( M5 )\u3002 \u8b66\u544a\uff1a \u5728\u9a45\u52d5\u9433\u5c04\u5668\u6642\uff0c\u61c9\u63a1\u7528\u4e00\u5207\u53ef\u80fd\u7684\u9810\u9632\u63aa\u65bd\u3002\u4e8c\u6975\u7ba1\u9433\u5c04\u4e00\u822c\u662f\u4f7f\u7528\u53cd\u8a0a\u865f\u7684\uff0c\u5373\u7576\u5fae\u63a7\u5236\u5668\u91cd\u555f\u6642\uff0c\u9433\u5c04\u5c07\u6703 \u5168\u529f\u7387\u8f38\u51fa \uff0c\u76f4\u81f3\u5fae\u8655\u7406\u5668\u6062\u5fa9\u6b63\u5e38\u904b\u4f5c\u3002 \u614e\u91cd\u800c\u8a00\uff0c\u5efa\u8b70\u5728\u9433\u5c04\u5668\u4e0a\u96fb\u671f\u9593 \u59cb\u7d42 \u4f69\u6234\u5408\u9069\u6ce2\u9577\u7684\u8b77\u76ee\u93e1\uff1b\u4e26\u5728\u4e0d\u4f7f\u7528\u9433\u5c04\u6642\u5c0d\u9433\u5c04\u5668\u65b7\u96fb\u3002\u540c\u6642\uff0c\u61c9\u8a72\u70ba\u9433\u5c04\u5668\u8a2d\u5b9a\u5b89\u5168\u5b9a\u6642\uff0c\u4fdd\u8b49\u5728\u4e0a\u4f4d\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u767c\u751f\u932f\u8aa4\u6642\uff0c\u9433\u5c04\u5668\u80fd\u81ea\u52d5\u505c\u6b62\u3002 \u6709\u95dc\u793a\u4f8b\u914d\u7f6e\uff0c\u8acb\u53c3\u95b1 config/sample-pwm-tool.cfg \u3002 \u96fb\u6d41\u9650\u5236 \u00b6 PWM\u8108\u885d\u767c\u751f\u7684\u983b\u7387\u5b58\u5728\u4e0a\u9650\u3002\u5118\u7ba1\u76f8\u7576\u7cbe\u78ba\uff0c\u4f46\u6bcf\u96940.1\u79d2\u624d\u80fd\u7522\u751f\u4e00\u500bPWM\u8108\u885d\uff0c\u56e0\u800c\u5e7e\u4e4e\u7121\u6cd5\u7528\u4f5c\u5149\u67f5\u8755\u523b\u3002\u76f8\u5c0d\u5730\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b \u6e2c\u8a66\u5206\u652f \u3002\u5b83\u8207\u4e3b\u5206\u652f\u5404\u6709\u8003\u91cf\u3002\u9577\u671f\u8a08\u5283\u4e2d\u5c07\u4e0a\u8ff0\u529f\u80fd\u52a0\u5165\u5230 Klipper \u7684\u4e3b\u5206\u652f\u4e2d\u3002 \u547d\u4ee4 \u00b6 M3/M4 S<\u503c> \uff1a\u8a2d\u5b9a PWM \u5360\u7a7a\u6bd4\u3002\u5360\u7a7a\u6bd4\u6578\u503c\u61c9\u57280\u548c255\u4e4b\u9593\u3002 M5 : \u505c\u6b62 PWM \u8a0a\u865f\u8f38\u51fa\u3002 LaserWeb \u7aef\u914d\u7f6e \u00b6 \u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f LaserWeb \u8edf\u9ad4\uff0c\u4e00\u500b\u53ef\u7528\u7684\u914d\u7f6e\u70ba\uff1a GCODE START: \u555f\u52d5 G \u7a0b\u5f0f\u78bc M5 ; \u505c\u7528\u9433\u5c04 G21 ; \u4f7f\u7528mm\u4f5c\u70ba\u55ae\u4f4d G90 ; \u4f7f\u7528\u7d55\u5c0d\u5ea7\u6a19 G0 Z0 F7000 ; \u8a2d\u5b9a\u7a7a\u8d70\u901f\u5ea6 GCODE END: \u7d50\u675f G \u7a0b\u5f0f\u78bc M5 ; \u505c\u7528\u9433\u5c04 G91 ; \u4f7f\u7528\u76f8\u5c0d\u5ea7\u6a19 G0 Z+20 F4000 ; G90 ; \u4f7f\u7528\u7d55\u5c0d\u5ea7\u6a19 GCODE HOMING: \u6b78\u96f6 G \u7a0b\u5f0f\u78bc M5 ; \u505c\u7528\u9433\u5c04 G28 ; \u5168\u8ef8\u6b78\u96f6 TOOL ON: \u958b\u555f\u5de5\u5177 M3 $INTENSITY TOOL OFF: \u95dc\u9589\u5de5\u5177 M5 ; \u505c\u7528\u9433\u5c04 LASER INTENSITY: \u9433\u5c04\u5f37\u5ea6 S","title":"\u4f7f\u7528 PWM \u5de5\u5177"},{"location":"Using_PWM_Tools.html#pwm","text":"\u8a72\u6587\u4ef6\u4ecb\u7d39\u5982\u4f55\u914d\u7f6e output_pin \u548c\u5b8f\u547d\u4ee4\u4ee5\u5be6\u73fe\u4f7f\u7528 PWM \u8a0a\u865f\u5c0d\u9433\u5c04\u5668\u6216\u4e3b\u8ef8\u9032\u884c\u63a7\u5236\u3002","title":"\u4f7f\u7528 PWM \u5de5\u5177"},{"location":"Using_PWM_Tools.html#_1","text":"\u901a\u904e\u91cd\u7528\u5217\u5370\u982d\u6a21\u578b\u98a8\u6247(part fan)\u7684PWM\u8f38\u51fa\u8a0a\u865f\uff0c\u6211\u5011\u53ef\u4ee5\u5be6\u73fe\u5c0d\u9433\u5c04\u982d\u6216\u8f49\u8ef8\u7684\u63a7\u5236\u3002\u5c0d\u4f7f\u7528\u53ef\u66f4\u63db\u5217\u5370\u982d\u7684\u88dd\u7f6e\uff0c\u5982E3D toolchanger \u6216\u5176\u4ed6DIY\u5c08\u6848\uff0c\u9019\u662f\u5341\u5206\u6709\u7528\u7684\u529f\u80fd\u3002\u901a\u5e38\uff0ccam\u8edf\u9ad4\uff0c\u4f8b\u5982LaserWeb\uff0c\u6703\u4f7f\u7528 M3-M5 \u547d\u4ee4\uff0c\u5b83\u5011\u5206\u5225\u662f \u4e3b\u8ef8\u9806\u6642\u91dd\u8f49\u901f spindle speed CW ( M3 S[0-255] )\uff0c \u4e3b\u8ef8\u9006\u6642\u91dd\u8f49\u901f spindle speed CCW ( M4 S[0-255] ) \u548c\u8f49\u8ef8\u505c\u6b62 spindle stop ( M5 )\u3002 \u8b66\u544a\uff1a \u5728\u9a45\u52d5\u9433\u5c04\u5668\u6642\uff0c\u61c9\u63a1\u7528\u4e00\u5207\u53ef\u80fd\u7684\u9810\u9632\u63aa\u65bd\u3002\u4e8c\u6975\u7ba1\u9433\u5c04\u4e00\u822c\u662f\u4f7f\u7528\u53cd\u8a0a\u865f\u7684\uff0c\u5373\u7576\u5fae\u63a7\u5236\u5668\u91cd\u555f\u6642\uff0c\u9433\u5c04\u5c07\u6703 \u5168\u529f\u7387\u8f38\u51fa \uff0c\u76f4\u81f3\u5fae\u8655\u7406\u5668\u6062\u5fa9\u6b63\u5e38\u904b\u4f5c\u3002 \u614e\u91cd\u800c\u8a00\uff0c\u5efa\u8b70\u5728\u9433\u5c04\u5668\u4e0a\u96fb\u671f\u9593 \u59cb\u7d42 \u4f69\u6234\u5408\u9069\u6ce2\u9577\u7684\u8b77\u76ee\u93e1\uff1b\u4e26\u5728\u4e0d\u4f7f\u7528\u9433\u5c04\u6642\u5c0d\u9433\u5c04\u5668\u65b7\u96fb\u3002\u540c\u6642\uff0c\u61c9\u8a72\u70ba\u9433\u5c04\u5668\u8a2d\u5b9a\u5b89\u5168\u5b9a\u6642\uff0c\u4fdd\u8b49\u5728\u4e0a\u4f4d\u6a5f\u548c\u5fae\u63a7\u5236\u5668\u767c\u751f\u932f\u8aa4\u6642\uff0c\u9433\u5c04\u5668\u80fd\u81ea\u52d5\u505c\u6b62\u3002 \u6709\u95dc\u793a\u4f8b\u914d\u7f6e\uff0c\u8acb\u53c3\u95b1 config/sample-pwm-tool.cfg \u3002","title":"\u5b83\u5982\u4f55\u904b\u4f5c\uff1f"},{"location":"Using_PWM_Tools.html#_2","text":"PWM\u8108\u885d\u767c\u751f\u7684\u983b\u7387\u5b58\u5728\u4e0a\u9650\u3002\u5118\u7ba1\u76f8\u7576\u7cbe\u78ba\uff0c\u4f46\u6bcf\u96940.1\u79d2\u624d\u80fd\u7522\u751f\u4e00\u500bPWM\u8108\u885d\uff0c\u56e0\u800c\u5e7e\u4e4e\u7121\u6cd5\u7528\u4f5c\u5149\u67f5\u8755\u523b\u3002\u76f8\u5c0d\u5730\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b \u6e2c\u8a66\u5206\u652f \u3002\u5b83\u8207\u4e3b\u5206\u652f\u5404\u6709\u8003\u91cf\u3002\u9577\u671f\u8a08\u5283\u4e2d\u5c07\u4e0a\u8ff0\u529f\u80fd\u52a0\u5165\u5230 Klipper \u7684\u4e3b\u5206\u652f\u4e2d\u3002","title":"\u96fb\u6d41\u9650\u5236"},{"location":"Using_PWM_Tools.html#_3","text":"M3/M4 S<\u503c> \uff1a\u8a2d\u5b9a PWM \u5360\u7a7a\u6bd4\u3002\u5360\u7a7a\u6bd4\u6578\u503c\u61c9\u57280\u548c255\u4e4b\u9593\u3002 M5 : \u505c\u6b62 PWM \u8a0a\u865f\u8f38\u51fa\u3002","title":"\u547d\u4ee4"},{"location":"Using_PWM_Tools.html#laserweb","text":"\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f LaserWeb \u8edf\u9ad4\uff0c\u4e00\u500b\u53ef\u7528\u7684\u914d\u7f6e\u70ba\uff1a GCODE START: \u555f\u52d5 G \u7a0b\u5f0f\u78bc M5 ; \u505c\u7528\u9433\u5c04 G21 ; \u4f7f\u7528mm\u4f5c\u70ba\u55ae\u4f4d G90 ; \u4f7f\u7528\u7d55\u5c0d\u5ea7\u6a19 G0 Z0 F7000 ; \u8a2d\u5b9a\u7a7a\u8d70\u901f\u5ea6 GCODE END: \u7d50\u675f G \u7a0b\u5f0f\u78bc M5 ; \u505c\u7528\u9433\u5c04 G91 ; \u4f7f\u7528\u76f8\u5c0d\u5ea7\u6a19 G0 Z+20 F4000 ; G90 ; \u4f7f\u7528\u7d55\u5c0d\u5ea7\u6a19 GCODE HOMING: \u6b78\u96f6 G \u7a0b\u5f0f\u78bc M5 ; \u505c\u7528\u9433\u5c04 G28 ; \u5168\u8ef8\u6b78\u96f6 TOOL ON: \u958b\u555f\u5de5\u5177 M3 $INTENSITY TOOL OFF: \u95dc\u9589\u5de5\u5177 M5 ; \u505c\u7528\u9433\u5c04 LASER INTENSITY: \u9433\u5c04\u5f37\u5ea6 S","title":"LaserWeb \u7aef\u914d\u7f6e"}]}